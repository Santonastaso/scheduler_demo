function bH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var qb={exports:{}},Sd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function _H(){if(WT)return Sd;WT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Sd.Fragment=e,Sd.jsx=n,Sd.jsxs=n,Sd}var GT;function wH(){return GT||(GT=1,qb.exports=_H()),qb.exports}var T=wH(),Wb={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function SH(){if(YT)return qe;YT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),p=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function x(D,$,Q){this.props=D,this.context=$,this.refs=w,this.updater=Q||_}x.prototype.isReactComponent={},x.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},x.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=x.prototype;function R(D,$,Q){this.props=D,this.context=$,this.refs=w,this.updater=Q||_}var O=R.prototype=new E;O.constructor=R,b(O,x.prototype),O.isPureReactComponent=!0;var A=Array.isArray;function I(){}var k={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function L(D,$,Q){var ee=Q.ref;return{$$typeof:t,type:D,key:$,ref:ee!==void 0?ee:null,props:Q}}function H(D,$){return L(D.type,$,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function G(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Q){return $[Q]})}var se=/\/+/g;function ue(D,$){return typeof D=="object"&&D!==null&&D.key!=null?G(""+D.key):$.toString(36)}function ye(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function U(D,$,Q,ee,he){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var _e=!1;if(D===null)_e=!0;else switch(pe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(D.$$typeof){case t:case e:_e=!0;break;case h:return _e=D._init,U(_e(D._payload),$,Q,ee,he)}}if(_e)return he=he(D),_e=ee===""?"."+ue(D,0):ee,A(he)?(Q="",_e!=null&&(Q=_e.replace(se,"$&/")+"/"),U(he,$,Q,"",function(tt){return tt})):he!=null&&(V(he)&&(he=H(he,Q+(he.key==null||D&&D.key===he.key?"":(""+he.key).replace(se,"$&/")+"/")+_e)),$.push(he)),1;_e=0;var Se=ee===""?".":ee+":";if(A(D))for(var Oe=0;Oe<D.length;Oe++)ee=D[Oe],pe=Se+ue(ee,Oe),_e+=U(ee,$,Q,pe,he);else if(Oe=v(D),typeof Oe=="function")for(D=Oe.call(D),Oe=0;!(ee=D.next()).done;)ee=ee.value,pe=Se+ue(ee,Oe++),_e+=U(ee,$,Q,pe,he);else if(pe==="object"){if(typeof D.then=="function")return U(ye(D),$,Q,ee,he);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(D,$,Q){if(D==null)return D;var ee=[],he=0;return U(D,ee,"","",function(pe){return $.call(Q,pe,he++)}),ee}function ne(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(Q){(D._status===0||D._status===-1)&&(D._status=1,D._result=Q)},function(Q){(D._status===0||D._status===-1)&&(D._status=2,D._result=Q)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var Y=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},me={map:K,forEach:function(D,$,Q){K(D,function(){$.apply(this,arguments)},Q)},count:function(D){var $=0;return K(D,function(){$++}),$},toArray:function(D){return K(D,function($){return $})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return qe.Activity=g,qe.Children=me,qe.Component=x,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=R,qe.StrictMode=r,qe.Suspense=u,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,qe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return k.H.useMemoCache(D)}},qe.cache=function(D){return function(){return D.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(D,$,Q){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ee=b({},D.props),he=D.key;if($!=null)for(pe in $.key!==void 0&&(he=""+$.key),$)!M.call($,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&$.ref===void 0||(ee[pe]=$[pe]);var pe=arguments.length-2;if(pe===1)ee.children=Q;else if(1<pe){for(var _e=Array(pe),Se=0;Se<pe;Se++)_e[Se]=arguments[Se+2];ee.children=_e}return L(D.type,he,ee)},qe.createContext=function(D){return D={$$typeof:a,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},qe.createElement=function(D,$,Q){var ee,he={},pe=null;if($!=null)for(ee in $.key!==void 0&&(pe=""+$.key),$)M.call($,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(he[ee]=$[ee]);var _e=arguments.length-2;if(_e===1)he.children=Q;else if(1<_e){for(var Se=Array(_e),Oe=0;Oe<_e;Oe++)Se[Oe]=arguments[Oe+2];he.children=Se}if(D&&D.defaultProps)for(ee in _e=D.defaultProps,_e)he[ee]===void 0&&(he[ee]=_e[ee]);return L(D,pe,he)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(D){return{$$typeof:l,render:D}},qe.isValidElement=V,qe.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:ne}},qe.memo=function(D,$){return{$$typeof:d,type:D,compare:$===void 0?null:$}},qe.startTransition=function(D){var $=k.T,Q={};k.T=Q;try{var ee=D(),he=k.S;he!==null&&he(Q,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(I,Y)}catch(pe){Y(pe)}finally{$!==null&&Q.types!==null&&($.types=Q.types),k.T=$}},qe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},qe.use=function(D){return k.H.use(D)},qe.useActionState=function(D,$,Q){return k.H.useActionState(D,$,Q)},qe.useCallback=function(D,$){return k.H.useCallback(D,$)},qe.useContext=function(D){return k.H.useContext(D)},qe.useDebugValue=function(){},qe.useDeferredValue=function(D,$){return k.H.useDeferredValue(D,$)},qe.useEffect=function(D,$){return k.H.useEffect(D,$)},qe.useEffectEvent=function(D){return k.H.useEffectEvent(D)},qe.useId=function(){return k.H.useId()},qe.useImperativeHandle=function(D,$,Q){return k.H.useImperativeHandle(D,$,Q)},qe.useInsertionEffect=function(D,$){return k.H.useInsertionEffect(D,$)},qe.useLayoutEffect=function(D,$){return k.H.useLayoutEffect(D,$)},qe.useMemo=function(D,$){return k.H.useMemo(D,$)},qe.useOptimistic=function(D,$){return k.H.useOptimistic(D,$)},qe.useReducer=function(D,$,Q){return k.H.useReducer(D,$,Q)},qe.useRef=function(D){return k.H.useRef(D)},qe.useState=function(D){return k.H.useState(D)},qe.useSyncExternalStore=function(D,$,Q){return k.H.useSyncExternalStore(D,$,Q)},qe.useTransition=function(){return k.H.useTransition()},qe.version="19.2.0",qe}var KT;function Qw(){return KT||(KT=1,Wb.exports=SH()),Wb.exports}var N=Qw();const be=Co(N);var Gb={exports:{}},xd={},Yb={exports:{}},Kb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function xH(){return QT||(QT=1,(function(t){function e(U,K){var ne=U.length;U.push(K);e:for(;0<ne;){var Y=ne-1>>>1,me=U[Y];if(0<i(me,K))U[Y]=K,U[ne]=me,ne=Y;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],ne=U.pop();if(ne!==K){U[0]=ne;e:for(var Y=0,me=U.length,D=me>>>1;Y<D;){var $=2*(Y+1)-1,Q=U[$],ee=$+1,he=U[ee];if(0>i(Q,ne))ee<me&&0>i(he,Q)?(U[Y]=he,U[ee]=ne,Y=ee):(U[Y]=Q,U[$]=ne,Y=$);else if(ee<me&&0>i(he,ne))U[Y]=he,U[ee]=ne,Y=ee;else break e}}return K}function i(U,K){var ne=U.sortIndex-K.sortIndex;return ne!==0?ne:U.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,g=null,p=3,v=!1,_=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(U){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=U)r(d),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(d)}}function A(U){if(b=!1,O(U),!_)if(n(u)!==null)_=!0,I||(I=!0,G());else{var K=n(d);K!==null&&ye(A,K.startTime-U)}}var I=!1,k=-1,M=5,L=-1;function H(){return w?!0:!(t.unstable_now()-L<M)}function V(){if(w=!1,I){var U=t.unstable_now();L=U;var K=!0;try{e:{_=!1,b&&(b=!1,E(k),k=-1),v=!0;var ne=p;try{t:{for(O(U),g=n(u);g!==null&&!(g.expirationTime>U&&H());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,p=g.priorityLevel;var me=Y(g.expirationTime<=U);if(U=t.unstable_now(),typeof me=="function"){g.callback=me,O(U),K=!0;break t}g===n(u)&&r(u),O(U)}else r(u);g=n(u)}if(g!==null)K=!0;else{var D=n(d);D!==null&&ye(A,D.startTime-U),K=!1}}break e}finally{g=null,p=ne,v=!1}K=void 0}}finally{K?G():I=!1}}}var G;if(typeof R=="function")G=function(){R(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ue=se.port2;se.port1.onmessage=V,G=function(){ue.postMessage(null)}}else G=function(){x(V,0)};function ye(U,K){k=x(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var ne=p;p=K;try{return U()}finally{p=ne}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=p;p=U;try{return K()}finally{p=ne}},t.unstable_scheduleCallback=function(U,K,ne){var Y=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Y+ne:Y):ne=Y,U){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ne+me,U={id:h++,callback:K,priorityLevel:U,startTime:ne,expirationTime:me,sortIndex:-1},ne>Y?(U.sortIndex=ne,e(d,U),n(u)===null&&U===n(d)&&(b?(E(k),k=-1):b=!0,ye(A,ne-Y))):(U.sortIndex=me,e(u,U),_||v||(_=!0,I||(I=!0,G()))),U},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(U){var K=p;return function(){var ne=p;p=K;try{return U.apply(this,arguments)}finally{p=ne}}}})(Kb)),Kb}var XT;function EH(){return XT||(XT=1,Yb.exports=xH()),Yb.exports}var Qb={exports:{}},or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function RH(){if(ZT)return or;ZT=1;var t=Qw();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,or.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},or.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},or.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},or.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},or.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:v}):h==="script"&&r.d.X(u,{crossOrigin:g,integrity:p,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},or.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},or.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},or.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},or.requestFormReset=function(u){r.d.r(u)},or.unstable_batchedUpdates=function(u,d){return u(d)},or.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},or.useFormStatus=function(){return a.H.useHostTransitionStatus()},or.version="19.2.0",or}var JT;function kk(){if(JT)return Qb.exports;JT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qb.exports=RH(),Qb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function CH(){if(eA)return xd;eA=1;var t=EH(),e=Qw(),n=kk();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var f=o,m=c;;){var y=f.return;if(y===null)break;var S=y.alternate;if(S===null){if(m=y.return,m!==null){f=m;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===f)return u(y),o;if(S===m)return u(y),c;S=S.sibling}throw Error(r(188))}if(f.return!==m.return)f=y,m=S;else{for(var C=!1,P=y.child;P;){if(P===f){C=!0,f=y,m=S;break}if(P===m){C=!0,m=y,f=S;break}P=P.sibling}if(!C){for(P=S.child;P;){if(P===f){C=!0,f=S,m=y;break}if(P===m){C=!0,m=S,f=y;break}P=P.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var se=Symbol.for("react.client.reference");function ue(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===se?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case x:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case R:return o.displayName||"Context";case E:return(o._context.displayName||"Context")+".Consumer";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return c=o.displayName||null,c!==null?c:ue(o.type)||"Memo";case M:c=o._payload,o=o._init;try{return ue(o(c))}catch{}}return null}var ye=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Y=[],me=-1;function D(o){return{current:o}}function $(o){0>me||(o.current=Y[me],Y[me]=null,me--)}function Q(o,c){me++,Y[me]=o.current,o.current=c}var ee=D(null),he=D(null),pe=D(null),_e=D(null);function Se(o,c){switch(Q(pe,c),Q(he,o),Q(ee,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?mT(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=mT(c),o=pT(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}$(ee),Q(ee,o)}function Oe(){$(ee),$(he),$(pe)}function tt(o){o.memoizedState!==null&&Q(_e,o);var c=ee.current,f=pT(c,o.type);c!==f&&(Q(he,o),Q(ee,f))}function qt(o){he.current===o&&($(ee),$(he)),_e.current===o&&($(_e),yd._currentValue=ne)}var zt,Pn;function Ce(o){if(zt===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);zt=c&&c[1]||"",Pn=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zt+o+Pn}var Be=!1;function rt(o,c){if(!o||Be)return"";Be=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ce){var oe=ce}Reflect.construct(o,[],ve)}else{try{ve.call()}catch(ce){oe=ce}o.call(ve.prototype)}}else{try{throw Error()}catch(ce){oe=ce}(ve=o())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ce){if(ce&&oe&&typeof ce.stack=="string")return[ce.stack,oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),C=S[0],P=S[1];if(C&&P){var q=C.split(`
`),ie=P.split(`
`);for(y=m=0;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;if(m===q.length||y===ie.length)for(m=q.length-1,y=ie.length-1;1<=m&&0<=y&&q[m]!==ie[y];)y--;for(;1<=m&&0<=y;m--,y--)if(q[m]!==ie[y]){if(m!==1||y!==1)do if(m--,y--,0>y||q[m]!==ie[y]){var fe=`
`+q[m].replace(" at new "," at ");return o.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",o.displayName)),fe}while(1<=m&&0<=y);break}}}finally{Be=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Ce(f):""}function Wt(o,c){switch(o.tag){case 26:case 27:case 5:return Ce(o.type);case 16:return Ce("Lazy");case 13:return o.child!==c&&c!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return rt(o.type,!1);case 11:return rt(o.type.render,!1);case 1:return rt(o.type,!0);case 31:return Ce("Activity");default:return""}}function En(o){try{var c="",f=null;do c+=Wt(o,f),f=o,o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ke=Object.prototype.hasOwnProperty,F=t.unstable_scheduleCallback,X=t.unstable_cancelCallback,te=t.unstable_shouldYield,J=t.unstable_requestPaint,ae=t.unstable_now,de=t.unstable_getCurrentPriorityLevel,we=t.unstable_ImmediatePriority,xe=t.unstable_UserBlockingPriority,Ee=t.unstable_NormalPriority,Ne=t.unstable_LowPriority,Qe=t.unstable_IdlePriority,Ve=t.log,dt=t.unstable_setDisableYieldValue,it=null,Ht=null;function st(o){if(typeof Ve=="function"&&dt(o),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(it,o)}catch{}}var He=Math.clz32?Math.clz32:pt,yn=Math.log,nt=Math.LN2;function pt(o){return o>>>=0,o===0?32:31-(yn(o)/nt|0)|0}var yr=256,br=262144,xt=4194304;function Gt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Te(o,c,f){var m=o.pendingLanes;if(m===0)return 0;var y=0,S=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var P=m&134217727;return P!==0?(m=P&~S,m!==0?y=Gt(m):(C&=P,C!==0?y=Gt(C):f||(f=P&~o,f!==0&&(y=Gt(f))))):(P=m&~S,P!==0?y=Gt(P):C!==0?y=Gt(C):f||(f=m&~o,f!==0&&(y=Gt(f)))),y===0?0:c!==0&&c!==y&&(c&S)===0&&(S=y&-y,f=c&-c,S>=f||S===32&&(f&4194048)!==0)?c:y}function $e(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ft(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vt(){var o=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),o}function gn(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function yt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Xe(o,c,f,m,y,S){var C=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var P=o.entanglements,q=o.expirationTimes,ie=o.hiddenUpdates;for(f=C&~f;0<f;){var fe=31-He(f),ve=1<<fe;P[fe]=0,q[fe]=-1;var oe=ie[fe];if(oe!==null)for(ie[fe]=null,fe=0;fe<oe.length;fe++){var ce=oe[fe];ce!==null&&(ce.lane&=-536870913)}f&=~ve}m!==0&&Rn(o,m,0),S!==0&&y===0&&o.tag!==0&&(o.suspendedLanes|=S&~(C&~c))}function Rn(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-He(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|f&261930}function Qt(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var m=31-He(f),y=1<<m;y&c|o[m]&c&&(o[m]|=c),f&=~y}}function rn(o,c){var f=c&-c;return f=(f&42)!==0?1:fi(f),(f&(o.suspendedLanes|c))!==0?0:f}function fi(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Jn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function hi(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:UT(o.type))}function Ea(o,c){var f=K.p;try{return K.p=o,c()}finally{K.p=f}}var gi=Math.random().toString(36).slice(2),er="__reactFiber$"+gi,Dr="__reactProps$"+gi,$l="__reactContainer$"+gi,jv="__reactEvents$"+gi,lU="__reactListeners$"+gi,cU="__reactHandles$"+gi,nE="__reactResources$"+gi,Nu="__reactMarker$"+gi;function Lv(o){delete o[er],delete o[Dr],delete o[jv],delete o[lU],delete o[cU]}function Vl(o){var c=o[er];if(c)return c;for(var f=o.parentNode;f;){if(c=f[$l]||f[er]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=xT(o);o!==null;){if(f=o[er])return f;o=xT(o)}return c}o=f,f=o.parentNode}return null}function ql(o){if(o=o[er]||o[$l]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Iu(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Wl(o){var c=o[nE];return c||(c=o[nE]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function qn(o){o[Nu]=!0}var rE=new Set,iE={};function Io(o,c){Gl(o,c),Gl(o+"Capture",c)}function Gl(o,c){for(iE[o]=c,o=0;o<c.length;o++)rE.add(c[o])}var uU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sE={},aE={};function dU(o){return Ke.call(aE,o)?!0:Ke.call(sE,o)?!1:uU.test(o)?aE[o]=!0:(sE[o]=!0,!1)}function mh(o,c,f){if(dU(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function ph(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function ks(o,c,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+m)}}function mi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function oE(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function fU(o,c,f){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,S=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return y.call(this)},set:function(C){f=""+C,S.call(this,C)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Fv(o){if(!o._valueTracker){var c=oE(o)?"checked":"value";o._valueTracker=fU(o,c,""+o[c])}}function lE(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),m="";return o&&(m=oE(o)?o.checked?"true":"false":o.value),o=m,o!==f?(c.setValue(o),!0):!1}function vh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var hU=/[\n"\\]/g;function pi(o){return o.replace(hU,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Uv(o,c,f,m,y,S,C,P){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),c!=null?C==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+mi(c)):o.value!==""+mi(c)&&(o.value=""+mi(c)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),c!=null?zv(o,C,mi(c)):f!=null?zv(o,C,mi(f)):m!=null&&o.removeAttribute("value"),y==null&&S!=null&&(o.defaultChecked=!!S),y!=null&&(o.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.name=""+mi(P):o.removeAttribute("name")}function cE(o,c,f,m,y,S,C,P){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){Fv(o);return}f=f!=null?""+mi(f):"",c=c!=null?""+mi(c):f,P||c===o.value||(o.value=c),o.defaultValue=c}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=P?o.checked:!!m,o.defaultChecked=!!m,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C),Fv(o)}function zv(o,c,f){c==="number"&&vh(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Yl(o,c,f,m){if(o=o.options,c){c={};for(var y=0;y<f.length;y++)c["$"+f[y]]=!0;for(f=0;f<o.length;f++)y=c.hasOwnProperty("$"+o[f].value),o[f].selected!==y&&(o[f].selected=y),y&&m&&(o[f].defaultSelected=!0)}else{for(f=""+mi(f),c=null,y=0;y<o.length;y++){if(o[y].value===f){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}c!==null||o[y].disabled||(c=o[y])}c!==null&&(c.selected=!0)}}function uE(o,c,f){if(c!=null&&(c=""+mi(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+mi(f):""}function dE(o,c,f,m){if(c==null){if(m!=null){if(f!=null)throw Error(r(92));if(ye(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),c=f}f=mi(c),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m),Fv(o)}function Kl(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var gU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fE(o,c,f){var m=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,f):typeof f!="number"||f===0||gU.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function hE(o,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var y in c)m=c[y],c.hasOwnProperty(y)&&f[y]!==m&&fE(o,y,m)}else for(var S in c)c.hasOwnProperty(S)&&fE(o,S,c[S])}function Hv(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yh(o){return pU.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ns(){}var Bv=null;function $v(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ql=null,Xl=null;function gE(o){var c=ql(o);if(c&&(o=c.stateNode)){var f=o[Dr]||null;e:switch(o=c.stateNode,c.type){case"input":if(Uv(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+pi(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var m=f[c];if(m!==o&&m.form===o.form){var y=m[Dr]||null;if(!y)throw Error(r(90));Uv(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<f.length;c++)m=f[c],m.form===o.form&&lE(m)}break e;case"textarea":uE(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Yl(o,!!f.multiple,c,!1)}}}var Vv=!1;function mE(o,c,f){if(Vv)return o(c,f);Vv=!0;try{var m=o(c);return m}finally{if(Vv=!1,(Ql!==null||Xl!==null)&&(sg(),Ql&&(c=Ql,o=Xl,Xl=Ql=null,gE(c),o)))for(c=0;c<o.length;c++)gE(o[c])}}function Pu(o,c){var f=o.stateNode;if(f===null)return null;var m=f[Dr]||null;if(m===null)return null;f=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qv=!1;if(Is)try{var ju={};Object.defineProperty(ju,"passive",{get:function(){qv=!0}}),window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{qv=!1}var Ra=null,Wv=null,bh=null;function pE(){if(bh)return bh;var o,c=Wv,f=c.length,m,y="value"in Ra?Ra.value:Ra.textContent,S=y.length;for(o=0;o<f&&c[o]===y[o];o++);var C=f-o;for(m=1;m<=C&&c[f-m]===y[S-m];m++);return bh=y.slice(o,1<m?1-m:void 0)}function _h(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function wh(){return!0}function vE(){return!1}function Mr(o){function c(f,m,y,S,C){this._reactName=f,this._targetInst=y,this.type=m,this.nativeEvent=S,this.target=C,this.currentTarget=null;for(var P in o)o.hasOwnProperty(P)&&(f=o[P],this[P]=f?f(S):S[P]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?wh:vE,this.isPropagationStopped=vE,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=wh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=wh)},persist:function(){},isPersistent:wh}),c}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sh=Mr(Po),Lu=g({},Po,{view:0,detail:0}),vU=Mr(Lu),Gv,Yv,Fu,xh=g({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Fu&&(Fu&&o.type==="mousemove"?(Gv=o.screenX-Fu.screenX,Yv=o.screenY-Fu.screenY):Yv=Gv=0,Fu=o),Gv)},movementY:function(o){return"movementY"in o?o.movementY:Yv}}),yE=Mr(xh),yU=g({},xh,{dataTransfer:0}),bU=Mr(yU),_U=g({},Lu,{relatedTarget:0}),Kv=Mr(_U),wU=g({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),SU=Mr(wU),xU=g({},Po,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),EU=Mr(xU),RU=g({},Po,{data:0}),bE=Mr(RU),CU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OU(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=AU[o])?!!c[o]:!1}function Qv(){return OU}var DU=g({},Lu,{key:function(o){if(o.key){var c=CU[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=_h(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?TU[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qv,charCode:function(o){return o.type==="keypress"?_h(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_h(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),MU=Mr(DU),kU=g({},xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_E=Mr(kU),NU=g({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qv}),IU=Mr(NU),PU=g({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),jU=Mr(PU),LU=g({},xh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),FU=Mr(LU),UU=g({},Po,{newState:0,oldState:0}),zU=Mr(UU),HU=[9,13,27,32],Xv=Is&&"CompositionEvent"in window,Uu=null;Is&&"documentMode"in document&&(Uu=document.documentMode);var BU=Is&&"TextEvent"in window&&!Uu,wE=Is&&(!Xv||Uu&&8<Uu&&11>=Uu),SE=" ",xE=!1;function EE(o,c){switch(o){case"keyup":return HU.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RE(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zl=!1;function $U(o,c){switch(o){case"compositionend":return RE(c);case"keypress":return c.which!==32?null:(xE=!0,SE);case"textInput":return o=c.data,o===SE&&xE?null:o;default:return null}}function VU(o,c){if(Zl)return o==="compositionend"||!Xv&&EE(o,c)?(o=pE(),bh=Wv=Ra=null,Zl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return wE&&c.locale!=="ko"?null:c.data;default:return null}}var qU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CE(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!qU[o.type]:c==="textarea"}function TE(o,c,f,m){Ql?Xl?Xl.push(m):Xl=[m]:Ql=m,c=fg(c,"onChange"),0<c.length&&(f=new Sh("onChange","change",null,f,m),o.push({event:f,listeners:c}))}var zu=null,Hu=null;function WU(o){cT(o,0)}function Eh(o){var c=Iu(o);if(lE(c))return o}function AE(o,c){if(o==="change")return c}var OE=!1;if(Is){var Zv;if(Is){var Jv="oninput"in document;if(!Jv){var DE=document.createElement("div");DE.setAttribute("oninput","return;"),Jv=typeof DE.oninput=="function"}Zv=Jv}else Zv=!1;OE=Zv&&(!document.documentMode||9<document.documentMode)}function ME(){zu&&(zu.detachEvent("onpropertychange",kE),Hu=zu=null)}function kE(o){if(o.propertyName==="value"&&Eh(Hu)){var c=[];TE(c,Hu,o,$v(o)),mE(WU,c)}}function GU(o,c,f){o==="focusin"?(ME(),zu=c,Hu=f,zu.attachEvent("onpropertychange",kE)):o==="focusout"&&ME()}function YU(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Eh(Hu)}function KU(o,c){if(o==="click")return Eh(c)}function QU(o,c){if(o==="input"||o==="change")return Eh(c)}function XU(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Yr=typeof Object.is=="function"?Object.is:XU;function Bu(o,c){if(Yr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),m=Object.keys(c);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var y=f[m];if(!Ke.call(c,y)||!Yr(o[y],c[y]))return!1}return!0}function NE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function IE(o,c){var f=NE(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=c&&m>=c)return{node:f,offset:c-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=NE(f)}}function PE(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?PE(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function jE(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=vh(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=vh(o.document)}return c}function ey(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var ZU=Is&&"documentMode"in document&&11>=document.documentMode,Jl=null,ty=null,$u=null,ny=!1;function LE(o,c,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ny||Jl==null||Jl!==vh(m)||(m=Jl,"selectionStart"in m&&ey(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$u&&Bu($u,m)||($u=m,m=fg(ty,"onSelect"),0<m.length&&(c=new Sh("onSelect","select",null,c,f),o.push({event:c,listeners:m}),c.target=Jl)))}function jo(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var ec={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionrun:jo("Transition","TransitionRun"),transitionstart:jo("Transition","TransitionStart"),transitioncancel:jo("Transition","TransitionCancel"),transitionend:jo("Transition","TransitionEnd")},ry={},FE={};Is&&(FE=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function Lo(o){if(ry[o])return ry[o];if(!ec[o])return o;var c=ec[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in FE)return ry[o]=c[f];return o}var UE=Lo("animationend"),zE=Lo("animationiteration"),HE=Lo("animationstart"),JU=Lo("transitionrun"),ez=Lo("transitionstart"),tz=Lo("transitioncancel"),BE=Lo("transitionend"),$E=new Map,iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");iy.push("scrollEnd");function Hi(o,c){$E.set(o,c),Io(c,[o])}var Rh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},vi=[],tc=0,sy=0;function Ch(){for(var o=tc,c=sy=tc=0;c<o;){var f=vi[c];vi[c++]=null;var m=vi[c];vi[c++]=null;var y=vi[c];vi[c++]=null;var S=vi[c];if(vi[c++]=null,m!==null&&y!==null){var C=m.pending;C===null?y.next=y:(y.next=C.next,C.next=y),m.pending=y}S!==0&&VE(f,y,S)}}function Th(o,c,f,m){vi[tc++]=o,vi[tc++]=c,vi[tc++]=f,vi[tc++]=m,sy|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function ay(o,c,f,m){return Th(o,c,f,m),Ah(o)}function Fo(o,c){return Th(o,null,null,c),Ah(o)}function VE(o,c,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var y=!1,S=o.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(y=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,y&&c!==null&&(y=31-He(f),o=S.hiddenUpdates,m=o[y],m===null?o[y]=[c]:m.push(c),c.lane=f|536870912),S):null}function Ah(o){if(50<dd)throw dd=0,mb=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var nc={};function nz(o,c,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(o,c,f,m){return new nz(o,c,f,m)}function oy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ps(o,c){var f=o.alternate;return f===null?(f=Kr(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function qE(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Oh(o,c,f,m,y,S){var C=0;if(m=o,typeof o=="function")oy(o)&&(C=1);else if(typeof o=="string")C=oH(o,f,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Kr(31,f,c,y),o.elementType=L,o.lanes=S,o;case b:return Uo(f.children,y,S,c);case w:C=8,y|=24;break;case x:return o=Kr(12,f,c,y|2),o.elementType=x,o.lanes=S,o;case A:return o=Kr(13,f,c,y),o.elementType=A,o.lanes=S,o;case I:return o=Kr(19,f,c,y),o.elementType=I,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:C=10;break e;case E:C=9;break e;case O:C=11;break e;case k:C=14;break e;case M:C=16,m=null;break e}C=29,f=Error(r(130,o===null?"null":typeof o,"")),m=null}return c=Kr(C,f,c,y),c.elementType=o,c.type=m,c.lanes=S,c}function Uo(o,c,f,m){return o=Kr(7,o,m,c),o.lanes=f,o}function ly(o,c,f){return o=Kr(6,o,null,c),o.lanes=f,o}function WE(o){var c=Kr(18,null,null,0);return c.stateNode=o,c}function cy(o,c,f){return c=Kr(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var GE=new WeakMap;function yi(o,c){if(typeof o=="object"&&o!==null){var f=GE.get(o);return f!==void 0?f:(c={value:o,source:c,stack:En(c)},GE.set(o,c),c)}return{value:o,source:c,stack:En(c)}}var rc=[],ic=0,Dh=null,Vu=0,bi=[],_i=0,Ca=null,ls=1,cs="";function js(o,c){rc[ic++]=Vu,rc[ic++]=Dh,Dh=o,Vu=c}function YE(o,c,f){bi[_i++]=ls,bi[_i++]=cs,bi[_i++]=Ca,Ca=o;var m=ls;o=cs;var y=32-He(m)-1;m&=~(1<<y),f+=1;var S=32-He(c)+y;if(30<S){var C=y-y%5;S=(m&(1<<C)-1).toString(32),m>>=C,y-=C,ls=1<<32-He(c)+y|f<<y|m,cs=S+o}else ls=1<<S|f<<y|m,cs=o}function uy(o){o.return!==null&&(js(o,1),YE(o,1,0))}function dy(o){for(;o===Dh;)Dh=rc[--ic],rc[ic]=null,Vu=rc[--ic],rc[ic]=null;for(;o===Ca;)Ca=bi[--_i],bi[_i]=null,cs=bi[--_i],bi[_i]=null,ls=bi[--_i],bi[_i]=null}function KE(o,c){bi[_i++]=ls,bi[_i++]=cs,bi[_i++]=Ca,ls=c.id,cs=c.overflow,Ca=o}var tr=null,Xt=null,ht=!1,Ta=null,wi=!1,fy=Error(r(519));function Aa(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qu(yi(c,o)),fy}function QE(o){var c=o.stateNode,f=o.type,m=o.memoizedProps;switch(c[er]=o,c[Dr]=m,f){case"dialog":ot("cancel",c),ot("close",c);break;case"iframe":case"object":case"embed":ot("load",c);break;case"video":case"audio":for(f=0;f<hd.length;f++)ot(hd[f],c);break;case"source":ot("error",c);break;case"img":case"image":case"link":ot("error",c),ot("load",c);break;case"details":ot("toggle",c);break;case"input":ot("invalid",c),cE(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ot("invalid",c);break;case"textarea":ot("invalid",c),dE(c,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||m.suppressHydrationWarning===!0||hT(c.textContent,f)?(m.popover!=null&&(ot("beforetoggle",c),ot("toggle",c)),m.onScroll!=null&&ot("scroll",c),m.onScrollEnd!=null&&ot("scrollend",c),m.onClick!=null&&(c.onclick=Ns),c=!0):c=!1,c||Aa(o,!0)}function XE(o){for(tr=o.return;tr;)switch(tr.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:tr=tr.return}}function sc(o){if(o!==tr)return!1;if(!ht)return XE(o),ht=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Db(o.type,o.memoizedProps)),f=!f),f&&Xt&&Aa(o),XE(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Xt=ST(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Xt=ST(o)}else c===27?(c=Xt,Ba(o.type)?(o=Pb,Pb=null,Xt=o):Xt=c):Xt=tr?xi(o.stateNode.nextSibling):null;return!0}function zo(){Xt=tr=null,ht=!1}function hy(){var o=Ta;return o!==null&&(Pr===null?Pr=o:Pr.push.apply(Pr,o),Ta=null),o}function qu(o){Ta===null?Ta=[o]:Ta.push(o)}var gy=D(null),Ho=null,Ls=null;function Oa(o,c,f){Q(gy,c._currentValue),c._currentValue=f}function Fs(o){o._currentValue=gy.current,$(gy)}function my(o,c,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===f)break;o=o.return}}function py(o,c,f,m){var y=o.child;for(y!==null&&(y.return=o);y!==null;){var S=y.dependencies;if(S!==null){var C=y.child;S=S.firstContext;e:for(;S!==null;){var P=S;S=y;for(var q=0;q<c.length;q++)if(P.context===c[q]){S.lanes|=f,P=S.alternate,P!==null&&(P.lanes|=f),my(S.return,f,o),m||(C=null);break e}S=P.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=f,S=C.alternate,S!==null&&(S.lanes|=f),my(C,f,o),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===o){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function ac(o,c,f,m){o=null;for(var y=c,S=!1;y!==null;){if(!S){if((y.flags&524288)!==0)S=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var P=y.type;Yr(y.pendingProps.value,C.value)||(o!==null?o.push(P):o=[P])}}else if(y===_e.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(o!==null?o.push(yd):o=[yd])}y=y.return}o!==null&&py(c,o,f,m),c.flags|=262144}function Mh(o){for(o=o.firstContext;o!==null;){if(!Yr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Bo(o){Ho=o,Ls=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function nr(o){return ZE(Ho,o)}function kh(o,c){return Ho===null&&Bo(o),ZE(o,c)}function ZE(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Ls===null){if(o===null)throw Error(r(308));Ls=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ls=Ls.next=c;return f}var rz=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},iz=t.unstable_scheduleCallback,sz=t.unstable_NormalPriority,Cn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vy(){return{controller:new rz,data:new Map,refCount:0}}function Wu(o){o.refCount--,o.refCount===0&&iz(sz,function(){o.controller.abort()})}var Gu=null,yy=0,oc=0,lc=null;function az(o,c){if(Gu===null){var f=Gu=[];yy=0,oc=wb(),lc={status:"pending",value:void 0,then:function(m){f.push(m)}}}return yy++,c.then(JE,JE),c}function JE(){if(--yy===0&&Gu!==null){lc!==null&&(lc.status="fulfilled");var o=Gu;Gu=null,oc=0,lc=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function oz(o,c){var f=[],m={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var y=0;y<f.length;y++)(0,f[y])(c)},function(y){for(m.status="rejected",m.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),m}var eR=U.S;U.S=function(o,c){LC=ae(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&az(o,c),eR!==null&&eR(o,c)};var $o=D(null);function by(){var o=$o.current;return o!==null?o:Bt.pooledCache}function Nh(o,c){c===null?Q($o,$o.current):Q($o,c.pool)}function tR(){var o=by();return o===null?null:{parent:Cn._currentValue,pool:o}}var cc=Error(r(460)),_y=Error(r(474)),Ih=Error(r(542)),Ph={then:function(){}};function nR(o){return o=o.status,o==="fulfilled"||o==="rejected"}function rR(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(Ns,Ns),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,sR(o),o;default:if(typeof c.status=="string")c.then(Ns,Ns);else{if(o=Bt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var y=c;y.status="fulfilled",y.value=m}},function(m){if(c.status==="pending"){var y=c;y.status="rejected",y.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,sR(o),o}throw qo=c,cc}}function Vo(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(qo=f,cc):f}}var qo=null;function iR(){if(qo===null)throw Error(r(459));var o=qo;return qo=null,o}function sR(o){if(o===cc||o===Ih)throw Error(r(483))}var uc=null,Yu=0;function jh(o){var c=Yu;return Yu+=1,uc===null&&(uc=[]),rR(uc,o,c)}function Ku(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Lh(o,c){throw c.$$typeof===p?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function aR(o){function c(Z,W){if(o){var re=Z.deletions;re===null?(Z.deletions=[W],Z.flags|=16):re.push(W)}}function f(Z,W){if(!o)return null;for(;W!==null;)c(Z,W),W=W.sibling;return null}function m(Z){for(var W=new Map;Z!==null;)Z.key!==null?W.set(Z.key,Z):W.set(Z.index,Z),Z=Z.sibling;return W}function y(Z,W){return Z=Ps(Z,W),Z.index=0,Z.sibling=null,Z}function S(Z,W,re){return Z.index=re,o?(re=Z.alternate,re!==null?(re=re.index,re<W?(Z.flags|=67108866,W):re):(Z.flags|=67108866,W)):(Z.flags|=1048576,W)}function C(Z){return o&&Z.alternate===null&&(Z.flags|=67108866),Z}function P(Z,W,re,ge){return W===null||W.tag!==6?(W=ly(re,Z.mode,ge),W.return=Z,W):(W=y(W,re),W.return=Z,W)}function q(Z,W,re,ge){var Ie=re.type;return Ie===b?fe(Z,W,re.props.children,ge,re.key):W!==null&&(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&Vo(Ie)===W.type)?(W=y(W,re.props),Ku(W,re),W.return=Z,W):(W=Oh(re.type,re.key,re.props,null,Z.mode,ge),Ku(W,re),W.return=Z,W)}function ie(Z,W,re,ge){return W===null||W.tag!==4||W.stateNode.containerInfo!==re.containerInfo||W.stateNode.implementation!==re.implementation?(W=cy(re,Z.mode,ge),W.return=Z,W):(W=y(W,re.children||[]),W.return=Z,W)}function fe(Z,W,re,ge,Ie){return W===null||W.tag!==7?(W=Uo(re,Z.mode,ge,Ie),W.return=Z,W):(W=y(W,re),W.return=Z,W)}function ve(Z,W,re){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=ly(""+W,Z.mode,re),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return re=Oh(W.type,W.key,W.props,null,Z.mode,re),Ku(re,W),re.return=Z,re;case _:return W=cy(W,Z.mode,re),W.return=Z,W;case M:return W=Vo(W),ve(Z,W,re)}if(ye(W)||G(W))return W=Uo(W,Z.mode,re,null),W.return=Z,W;if(typeof W.then=="function")return ve(Z,jh(W),re);if(W.$$typeof===R)return ve(Z,kh(Z,W),re);Lh(Z,W)}return null}function oe(Z,W,re,ge){var Ie=W!==null?W.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ie!==null?null:P(Z,W,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return re.key===Ie?q(Z,W,re,ge):null;case _:return re.key===Ie?ie(Z,W,re,ge):null;case M:return re=Vo(re),oe(Z,W,re,ge)}if(ye(re)||G(re))return Ie!==null?null:fe(Z,W,re,ge,null);if(typeof re.then=="function")return oe(Z,W,jh(re),ge);if(re.$$typeof===R)return oe(Z,W,kh(Z,re),ge);Lh(Z,re)}return null}function ce(Z,W,re,ge,Ie){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Z=Z.get(re)||null,P(W,Z,""+ge,Ie);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return Z=Z.get(ge.key===null?re:ge.key)||null,q(W,Z,ge,Ie);case _:return Z=Z.get(ge.key===null?re:ge.key)||null,ie(W,Z,ge,Ie);case M:return ge=Vo(ge),ce(Z,W,re,ge,Ie)}if(ye(ge)||G(ge))return Z=Z.get(re)||null,fe(W,Z,ge,Ie,null);if(typeof ge.then=="function")return ce(Z,W,re,jh(ge),Ie);if(ge.$$typeof===R)return ce(Z,W,re,kh(W,ge),Ie);Lh(W,ge)}return null}function Ae(Z,W,re,ge){for(var Ie=null,Et=null,De=W,Ze=W=0,ut=null;De!==null&&Ze<re.length;Ze++){De.index>Ze?(ut=De,De=null):ut=De.sibling;var Rt=oe(Z,De,re[Ze],ge);if(Rt===null){De===null&&(De=ut);break}o&&De&&Rt.alternate===null&&c(Z,De),W=S(Rt,W,Ze),Et===null?Ie=Rt:Et.sibling=Rt,Et=Rt,De=ut}if(Ze===re.length)return f(Z,De),ht&&js(Z,Ze),Ie;if(De===null){for(;Ze<re.length;Ze++)De=ve(Z,re[Ze],ge),De!==null&&(W=S(De,W,Ze),Et===null?Ie=De:Et.sibling=De,Et=De);return ht&&js(Z,Ze),Ie}for(De=m(De);Ze<re.length;Ze++)ut=ce(De,Z,Ze,re[Ze],ge),ut!==null&&(o&&ut.alternate!==null&&De.delete(ut.key===null?Ze:ut.key),W=S(ut,W,Ze),Et===null?Ie=ut:Et.sibling=ut,Et=ut);return o&&De.forEach(function(Ga){return c(Z,Ga)}),ht&&js(Z,Ze),Ie}function Fe(Z,W,re,ge){if(re==null)throw Error(r(151));for(var Ie=null,Et=null,De=W,Ze=W=0,ut=null,Rt=re.next();De!==null&&!Rt.done;Ze++,Rt=re.next()){De.index>Ze?(ut=De,De=null):ut=De.sibling;var Ga=oe(Z,De,Rt.value,ge);if(Ga===null){De===null&&(De=ut);break}o&&De&&Ga.alternate===null&&c(Z,De),W=S(Ga,W,Ze),Et===null?Ie=Ga:Et.sibling=Ga,Et=Ga,De=ut}if(Rt.done)return f(Z,De),ht&&js(Z,Ze),Ie;if(De===null){for(;!Rt.done;Ze++,Rt=re.next())Rt=ve(Z,Rt.value,ge),Rt!==null&&(W=S(Rt,W,Ze),Et===null?Ie=Rt:Et.sibling=Rt,Et=Rt);return ht&&js(Z,Ze),Ie}for(De=m(De);!Rt.done;Ze++,Rt=re.next())Rt=ce(De,Z,Ze,Rt.value,ge),Rt!==null&&(o&&Rt.alternate!==null&&De.delete(Rt.key===null?Ze:Rt.key),W=S(Rt,W,Ze),Et===null?Ie=Rt:Et.sibling=Rt,Et=Rt);return o&&De.forEach(function(yH){return c(Z,yH)}),ht&&js(Z,Ze),Ie}function Ft(Z,W,re,ge){if(typeof re=="object"&&re!==null&&re.type===b&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case v:e:{for(var Ie=re.key;W!==null;){if(W.key===Ie){if(Ie=re.type,Ie===b){if(W.tag===7){f(Z,W.sibling),ge=y(W,re.props.children),ge.return=Z,Z=ge;break e}}else if(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&Vo(Ie)===W.type){f(Z,W.sibling),ge=y(W,re.props),Ku(ge,re),ge.return=Z,Z=ge;break e}f(Z,W);break}else c(Z,W);W=W.sibling}re.type===b?(ge=Uo(re.props.children,Z.mode,ge,re.key),ge.return=Z,Z=ge):(ge=Oh(re.type,re.key,re.props,null,Z.mode,ge),Ku(ge,re),ge.return=Z,Z=ge)}return C(Z);case _:e:{for(Ie=re.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===re.containerInfo&&W.stateNode.implementation===re.implementation){f(Z,W.sibling),ge=y(W,re.children||[]),ge.return=Z,Z=ge;break e}else{f(Z,W);break}else c(Z,W);W=W.sibling}ge=cy(re,Z.mode,ge),ge.return=Z,Z=ge}return C(Z);case M:return re=Vo(re),Ft(Z,W,re,ge)}if(ye(re))return Ae(Z,W,re,ge);if(G(re)){if(Ie=G(re),typeof Ie!="function")throw Error(r(150));return re=Ie.call(re),Fe(Z,W,re,ge)}if(typeof re.then=="function")return Ft(Z,W,jh(re),ge);if(re.$$typeof===R)return Ft(Z,W,kh(Z,re),ge);Lh(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,W!==null&&W.tag===6?(f(Z,W.sibling),ge=y(W,re),ge.return=Z,Z=ge):(f(Z,W),ge=ly(re,Z.mode,ge),ge.return=Z,Z=ge),C(Z)):f(Z,W)}return function(Z,W,re,ge){try{Yu=0;var Ie=Ft(Z,W,re,ge);return uc=null,Ie}catch(De){if(De===cc||De===Ih)throw De;var Et=Kr(29,De,null,Z.mode);return Et.lanes=ge,Et.return=Z,Et}finally{}}}var Wo=aR(!0),oR=aR(!1),Da=!1;function wy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sy(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ma(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ka(o,c,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Tt&2)!==0){var y=m.pending;return y===null?c.next=c:(c.next=y.next,y.next=c),m.pending=c,c=Ah(o),VE(o,null,f),c}return Th(o,m,c,f),Ah(o)}function Qu(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Qt(o,f)}}function xy(o,c){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var y=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var C={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?y=S=C:S=S.next=C,f=f.next}while(f!==null);S===null?y=S=c:S=S.next=c}else y=S=c;f={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var Ey=!1;function Xu(){if(Ey){var o=lc;if(o!==null)throw o}}function Zu(o,c,f,m){Ey=!1;var y=o.updateQueue;Da=!1;var S=y.firstBaseUpdate,C=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var q=P,ie=q.next;q.next=null,C===null?S=ie:C.next=ie,C=q;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,P=fe.lastBaseUpdate,P!==C&&(P===null?fe.firstBaseUpdate=ie:P.next=ie,fe.lastBaseUpdate=q))}if(S!==null){var ve=y.baseState;C=0,fe=ie=q=null,P=S;do{var oe=P.lane&-536870913,ce=oe!==P.lane;if(ce?(ct&oe)===oe:(m&oe)===oe){oe!==0&&oe===oc&&(Ey=!0),fe!==null&&(fe=fe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ae=o,Fe=P;oe=c;var Ft=f;switch(Fe.tag){case 1:if(Ae=Fe.payload,typeof Ae=="function"){ve=Ae.call(Ft,ve,oe);break e}ve=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Fe.payload,oe=typeof Ae=="function"?Ae.call(Ft,ve,oe):Ae,oe==null)break e;ve=g({},ve,oe);break e;case 2:Da=!0}}oe=P.callback,oe!==null&&(o.flags|=64,ce&&(o.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[oe]:ce.push(oe))}else ce={lane:oe,tag:P.tag,payload:P.payload,callback:P.callback,next:null},fe===null?(ie=fe=ce,q=ve):fe=fe.next=ce,C|=oe;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;ce=P,P=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);fe===null&&(q=ve),y.baseState=q,y.firstBaseUpdate=ie,y.lastBaseUpdate=fe,S===null&&(y.shared.lanes=0),La|=C,o.lanes=C,o.memoizedState=ve}}function lR(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function cR(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)lR(f[o],c)}var dc=D(null),Fh=D(0);function uR(o,c){o=Gs,Q(Fh,o),Q(dc,c),Gs=o|c.baseLanes}function Ry(){Q(Fh,Gs),Q(dc,dc.current)}function Cy(){Gs=Fh.current,$(dc),$(Fh)}var Qr=D(null),Si=null;function Na(o){var c=o.alternate;Q(bn,bn.current&1),Q(Qr,o),Si===null&&(c===null||dc.current!==null||c.memoizedState!==null)&&(Si=o)}function Ty(o){Q(bn,bn.current),Q(Qr,o),Si===null&&(Si=o)}function dR(o){o.tag===22?(Q(bn,bn.current),Q(Qr,o),Si===null&&(Si=o)):Ia()}function Ia(){Q(bn,bn.current),Q(Qr,Qr.current)}function Xr(o){$(Qr),Si===o&&(Si=null),$(bn)}var bn=D(0);function Uh(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Nb(f)||Ib(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Us=0,Ye=null,jt=null,Tn=null,zh=!1,fc=!1,Go=!1,Hh=0,Ju=0,hc=null,lz=0;function mn(){throw Error(r(321))}function Ay(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Yr(o[f],c[f]))return!1;return!0}function Oy(o,c,f,m,y,S){return Us=S,Ye=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,U.H=o===null||o.memoizedState===null?YR:Vy,Go=!1,S=f(m,y),Go=!1,fc&&(S=hR(c,f,m,y)),fR(o),S}function fR(o){U.H=nd;var c=jt!==null&&jt.next!==null;if(Us=0,Tn=jt=Ye=null,zh=!1,Ju=0,hc=null,c)throw Error(r(300));o===null||An||(o=o.dependencies,o!==null&&Mh(o)&&(An=!0))}function hR(o,c,f,m){Ye=o;var y=0;do{if(fc&&(hc=null),Ju=0,fc=!1,25<=y)throw Error(r(301));if(y+=1,Tn=jt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}U.H=KR,S=c(f,m)}while(fc);return S}function cz(){var o=U.H,c=o.useState()[0];return c=typeof c.then=="function"?ed(c):c,o=o.useState()[0],(jt!==null?jt.memoizedState:null)!==o&&(Ye.flags|=1024),c}function Dy(){var o=Hh!==0;return Hh=0,o}function My(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function ky(o){if(zh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}zh=!1}Us=0,Tn=jt=Ye=null,fc=!1,Ju=Hh=0,hc=null}function _r(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Ye.memoizedState=Tn=o:Tn=Tn.next=o,Tn}function _n(){if(jt===null){var o=Ye.alternate;o=o!==null?o.memoizedState:null}else o=jt.next;var c=Tn===null?Ye.memoizedState:Tn.next;if(c!==null)Tn=c,jt=o;else{if(o===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));jt=o,o={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Tn===null?Ye.memoizedState=Tn=o:Tn=Tn.next=o}return Tn}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ed(o){var c=Ju;return Ju+=1,hc===null&&(hc=[]),o=rR(hc,o,c),c=Ye,(Tn===null?c.memoizedState:Tn.next)===null&&(c=c.alternate,U.H=c===null||c.memoizedState===null?YR:Vy),o}function $h(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ed(o);if(o.$$typeof===R)return nr(o)}throw Error(r(438,String(o)))}function Ny(o){var c=null,f=Ye.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var m=Ye.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(y){return y.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Bh(),Ye.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),m=0;m<o;m++)f[m]=H;return c.index++,f}function zs(o,c){return typeof c=="function"?c(o):c}function Vh(o){var c=_n();return Iy(c,jt,o)}function Iy(o,c,f){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var y=o.baseQueue,S=m.pending;if(S!==null){if(y!==null){var C=y.next;y.next=S.next,S.next=C}c.baseQueue=y=S,m.pending=null}if(S=o.baseState,y===null)o.memoizedState=S;else{c=y.next;var P=C=null,q=null,ie=c,fe=!1;do{var ve=ie.lane&-536870913;if(ve!==ie.lane?(ct&ve)===ve:(Us&ve)===ve){var oe=ie.revertLane;if(oe===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ve===oc&&(fe=!0);else if((Us&oe)===oe){ie=ie.next,oe===oc&&(fe=!0);continue}else ve={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},q===null?(P=q=ve,C=S):q=q.next=ve,Ye.lanes|=oe,La|=oe;ve=ie.action,Go&&f(S,ve),S=ie.hasEagerState?ie.eagerState:f(S,ve)}else oe={lane:ve,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},q===null?(P=q=oe,C=S):q=q.next=oe,Ye.lanes|=ve,La|=ve;ie=ie.next}while(ie!==null&&ie!==c);if(q===null?C=S:q.next=P,!Yr(S,o.memoizedState)&&(An=!0,fe&&(f=lc,f!==null)))throw f;o.memoizedState=S,o.baseState=C,o.baseQueue=q,m.lastRenderedState=S}return y===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Py(o){var c=_n(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var m=f.dispatch,y=f.pending,S=c.memoizedState;if(y!==null){f.pending=null;var C=y=y.next;do S=o(S,C.action),C=C.next;while(C!==y);Yr(S,c.memoizedState)||(An=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),f.lastRenderedState=S}return[S,m]}function gR(o,c,f){var m=Ye,y=_n(),S=ht;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=c();var C=!Yr((jt||y).memoizedState,f);if(C&&(y.memoizedState=f,An=!0),y=y.queue,Fy(vR.bind(null,m,y,o),[o]),y.getSnapshot!==c||C||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,gc(9,{destroy:void 0},pR.bind(null,m,y,f,c),null),Bt===null)throw Error(r(349));S||(Us&127)!==0||mR(m,c,f)}return f}function mR(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Ye.updateQueue,c===null?(c=Bh(),Ye.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function pR(o,c,f,m){c.value=f,c.getSnapshot=m,yR(c)&&bR(o)}function vR(o,c,f){return f(function(){yR(c)&&bR(o)})}function yR(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Yr(o,f)}catch{return!0}}function bR(o){var c=Fo(o,2);c!==null&&jr(c,o,2)}function jy(o){var c=_r();if(typeof o=="function"){var f=o;if(o=f(),Go){st(!0);try{f()}finally{st(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:o},c}function _R(o,c,f,m){return o.baseState=f,Iy(o,jt,typeof m=="function"?m:zs)}function uz(o,c,f,m,y){if(Gh(o))throw Error(r(485));if(o=c.action,o!==null){var S={payload:y,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){S.listeners.push(C)}};U.T!==null?f(!0):S.isTransition=!1,m(S),f=c.pending,f===null?(S.next=c.pending=S,wR(c,S)):(S.next=f.next,c.pending=f.next=S)}}function wR(o,c){var f=c.action,m=c.payload,y=o.state;if(c.isTransition){var S=U.T,C={};U.T=C;try{var P=f(y,m),q=U.S;q!==null&&q(C,P),SR(o,c,P)}catch(ie){Ly(o,c,ie)}finally{S!==null&&C.types!==null&&(S.types=C.types),U.T=S}}else try{S=f(y,m),SR(o,c,S)}catch(ie){Ly(o,c,ie)}}function SR(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){xR(o,c,m)},function(m){return Ly(o,c,m)}):xR(o,c,f)}function xR(o,c,f){c.status="fulfilled",c.value=f,ER(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,wR(o,f)))}function Ly(o,c,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=f,ER(c),c=c.next;while(c!==m)}o.action=null}function ER(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function RR(o,c){return c}function CR(o,c){if(ht){var f=Bt.formState;if(f!==null){e:{var m=Ye;if(ht){if(Xt){t:{for(var y=Xt,S=wi;y.nodeType!==8;){if(!S){y=null;break t}if(y=xi(y.nextSibling),y===null){y=null;break t}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){Xt=xi(y.nextSibling),m=y.data==="F!";break e}}Aa(m)}m=!1}m&&(c=f[0])}}return f=_r(),f.memoizedState=f.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RR,lastRenderedState:c},f.queue=m,f=qR.bind(null,Ye,m),m.dispatch=f,m=jy(!1),S=$y.bind(null,Ye,!1,m.queue),m=_r(),y={state:c,dispatch:null,action:o,pending:null},m.queue=y,f=uz.bind(null,Ye,y,S,f),y.dispatch=f,m.memoizedState=o,[c,f,!1]}function TR(o){var c=_n();return AR(c,jt,o)}function AR(o,c,f){if(c=Iy(o,c,RR)[0],o=Vh(zs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=ed(c)}catch(C){throw C===cc?Ih:C}else m=c;c=_n();var y=c.queue,S=y.dispatch;return f!==c.memoizedState&&(Ye.flags|=2048,gc(9,{destroy:void 0},dz.bind(null,y,f),null)),[m,S,o]}function dz(o,c){o.action=c}function OR(o){var c=_n(),f=jt;if(f!==null)return AR(c,f,o);_n(),c=c.memoizedState,f=_n();var m=f.queue.dispatch;return f.memoizedState=o,[c,m,!1]}function gc(o,c,f,m){return o={tag:o,create:f,deps:m,inst:c,next:null},c=Ye.updateQueue,c===null&&(c=Bh(),Ye.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,c.lastEffect=o),o}function DR(){return _n().memoizedState}function qh(o,c,f,m){var y=_r();Ye.flags|=o,y.memoizedState=gc(1|c,{destroy:void 0},f,m===void 0?null:m)}function Wh(o,c,f,m){var y=_n();m=m===void 0?null:m;var S=y.memoizedState.inst;jt!==null&&m!==null&&Ay(m,jt.memoizedState.deps)?y.memoizedState=gc(c,S,f,m):(Ye.flags|=o,y.memoizedState=gc(1|c,S,f,m))}function MR(o,c){qh(8390656,8,o,c)}function Fy(o,c){Wh(2048,8,o,c)}function fz(o){Ye.flags|=4;var c=Ye.updateQueue;if(c===null)c=Bh(),Ye.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function kR(o){var c=_n().memoizedState;return fz({ref:c,nextImpl:o}),function(){if((Tt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function NR(o,c){return Wh(4,2,o,c)}function IR(o,c){return Wh(4,4,o,c)}function PR(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function jR(o,c,f){f=f!=null?f.concat([o]):null,Wh(4,4,PR.bind(null,c,o),f)}function Uy(){}function LR(o,c){var f=_n();c=c===void 0?null:c;var m=f.memoizedState;return c!==null&&Ay(c,m[1])?m[0]:(f.memoizedState=[o,c],o)}function FR(o,c){var f=_n();c=c===void 0?null:c;var m=f.memoizedState;if(c!==null&&Ay(c,m[1]))return m[0];if(m=o(),Go){st(!0);try{o()}finally{st(!1)}}return f.memoizedState=[m,c],m}function zy(o,c,f){return f===void 0||(Us&1073741824)!==0&&(ct&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=UC(),Ye.lanes|=o,La|=o,f)}function UR(o,c,f,m){return Yr(f,c)?f:dc.current!==null?(o=zy(o,f,m),Yr(o,c)||(An=!0),o):(Us&42)===0||(Us&1073741824)!==0&&(ct&261930)===0?(An=!0,o.memoizedState=f):(o=UC(),Ye.lanes|=o,La|=o,c)}function zR(o,c,f,m,y){var S=K.p;K.p=S!==0&&8>S?S:8;var C=U.T,P={};U.T=P,$y(o,!1,c,f);try{var q=y(),ie=U.S;if(ie!==null&&ie(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var fe=oz(q,m);td(o,c,fe,ei(o))}else td(o,c,m,ei(o))}catch(ve){td(o,c,{then:function(){},status:"rejected",reason:ve},ei())}finally{K.p=S,C!==null&&P.types!==null&&(C.types=P.types),U.T=C}}function hz(){}function Hy(o,c,f,m){if(o.tag!==5)throw Error(r(476));var y=HR(o).queue;zR(o,y,c,ne,f===null?hz:function(){return BR(o),f(m)})}function HR(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:ne},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function BR(o){var c=HR(o);c.next===null&&(c=o.alternate.memoizedState),td(o,c.next.queue,{},ei())}function By(){return nr(yd)}function $R(){return _n().memoizedState}function VR(){return _n().memoizedState}function gz(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=ei();o=Ma(f);var m=ka(c,o,f);m!==null&&(jr(m,c,f),Qu(m,c,f)),c={cache:vy()},o.payload=c;return}c=c.return}}function mz(o,c,f){var m=ei();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Gh(o)?WR(c,f):(f=ay(o,c,f,m),f!==null&&(jr(f,o,m),GR(f,c,m)))}function qR(o,c,f){var m=ei();td(o,c,f,m)}function td(o,c,f,m){var y={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Gh(o))WR(c,y);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var C=c.lastRenderedState,P=S(C,f);if(y.hasEagerState=!0,y.eagerState=P,Yr(P,C))return Th(o,c,y,0),Bt===null&&Ch(),!1}catch{}finally{}if(f=ay(o,c,y,m),f!==null)return jr(f,o,m),GR(f,c,m),!0}return!1}function $y(o,c,f,m){if(m={lane:2,revertLane:wb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Gh(o)){if(c)throw Error(r(479))}else c=ay(o,f,m,2),c!==null&&jr(c,o,2)}function Gh(o){var c=o.alternate;return o===Ye||c!==null&&c===Ye}function WR(o,c){fc=zh=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function GR(o,c,f){if((f&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Qt(o,f)}}var nd={readContext:nr,use:$h,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn};nd.useEffectEvent=mn;var YR={readContext:nr,use:$h,useCallback:function(o,c){return _r().memoizedState=[o,c===void 0?null:c],o},useContext:nr,useEffect:MR,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,qh(4194308,4,PR.bind(null,c,o),f)},useLayoutEffect:function(o,c){return qh(4194308,4,o,c)},useInsertionEffect:function(o,c){qh(4,2,o,c)},useMemo:function(o,c){var f=_r();c=c===void 0?null:c;var m=o();if(Go){st(!0);try{o()}finally{st(!1)}}return f.memoizedState=[m,c],m},useReducer:function(o,c,f){var m=_r();if(f!==void 0){var y=f(c);if(Go){st(!0);try{f(c)}finally{st(!1)}}}else y=c;return m.memoizedState=m.baseState=y,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:y},m.queue=o,o=o.dispatch=mz.bind(null,Ye,o),[m.memoizedState,o]},useRef:function(o){var c=_r();return o={current:o},c.memoizedState=o},useState:function(o){o=jy(o);var c=o.queue,f=qR.bind(null,Ye,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:Uy,useDeferredValue:function(o,c){var f=_r();return zy(f,o,c)},useTransition:function(){var o=jy(!1);return o=zR.bind(null,Ye,o.queue,!0,!1),_r().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var m=Ye,y=_r();if(ht){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),Bt===null)throw Error(r(349));(ct&127)!==0||mR(m,c,f)}y.memoizedState=f;var S={value:f,getSnapshot:c};return y.queue=S,MR(vR.bind(null,m,S,o),[o]),m.flags|=2048,gc(9,{destroy:void 0},pR.bind(null,m,S,f,c),null),f},useId:function(){var o=_r(),c=Bt.identifierPrefix;if(ht){var f=cs,m=ls;f=(m&~(1<<32-He(m)-1)).toString(32)+f,c="_"+c+"R_"+f,f=Hh++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=lz++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:By,useFormState:CR,useActionState:CR,useOptimistic:function(o){var c=_r();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=$y.bind(null,Ye,!0,f),f.dispatch=c,[o,c]},useMemoCache:Ny,useCacheRefresh:function(){return _r().memoizedState=gz.bind(null,Ye)},useEffectEvent:function(o){var c=_r(),f={impl:o};return c.memoizedState=f,function(){if((Tt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Vy={readContext:nr,use:$h,useCallback:LR,useContext:nr,useEffect:Fy,useImperativeHandle:jR,useInsertionEffect:NR,useLayoutEffect:IR,useMemo:FR,useReducer:Vh,useRef:DR,useState:function(){return Vh(zs)},useDebugValue:Uy,useDeferredValue:function(o,c){var f=_n();return UR(f,jt.memoizedState,o,c)},useTransition:function(){var o=Vh(zs)[0],c=_n().memoizedState;return[typeof o=="boolean"?o:ed(o),c]},useSyncExternalStore:gR,useId:$R,useHostTransitionStatus:By,useFormState:TR,useActionState:TR,useOptimistic:function(o,c){var f=_n();return _R(f,jt,o,c)},useMemoCache:Ny,useCacheRefresh:VR};Vy.useEffectEvent=kR;var KR={readContext:nr,use:$h,useCallback:LR,useContext:nr,useEffect:Fy,useImperativeHandle:jR,useInsertionEffect:NR,useLayoutEffect:IR,useMemo:FR,useReducer:Py,useRef:DR,useState:function(){return Py(zs)},useDebugValue:Uy,useDeferredValue:function(o,c){var f=_n();return jt===null?zy(f,o,c):UR(f,jt.memoizedState,o,c)},useTransition:function(){var o=Py(zs)[0],c=_n().memoizedState;return[typeof o=="boolean"?o:ed(o),c]},useSyncExternalStore:gR,useId:$R,useHostTransitionStatus:By,useFormState:OR,useActionState:OR,useOptimistic:function(o,c){var f=_n();return jt!==null?_R(f,jt,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Ny,useCacheRefresh:VR};KR.useEffectEvent=kR;function qy(o,c,f,m){c=o.memoizedState,f=f(m,c),f=f==null?c:g({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Wy={enqueueSetState:function(o,c,f){o=o._reactInternals;var m=ei(),y=Ma(m);y.payload=c,f!=null&&(y.callback=f),c=ka(o,y,m),c!==null&&(jr(c,o,m),Qu(c,o,m))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var m=ei(),y=Ma(m);y.tag=1,y.payload=c,f!=null&&(y.callback=f),c=ka(o,y,m),c!==null&&(jr(c,o,m),Qu(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=ei(),m=Ma(f);m.tag=2,c!=null&&(m.callback=c),c=ka(o,m,f),c!==null&&(jr(c,o,f),Qu(c,o,f))}};function QR(o,c,f,m,y,S,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,C):c.prototype&&c.prototype.isPureReactComponent?!Bu(f,m)||!Bu(y,S):!0}function XR(o,c,f,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,m),c.state!==o&&Wy.enqueueReplaceState(c,c.state,null)}function Yo(o,c){var f=c;if("ref"in c){f={};for(var m in c)m!=="ref"&&(f[m]=c[m])}if(o=o.defaultProps){f===c&&(f=g({},f));for(var y in o)f[y]===void 0&&(f[y]=o[y])}return f}function ZR(o){Rh(o)}function JR(o){console.error(o)}function eC(o){Rh(o)}function Yh(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function tC(o,c,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Gy(o,c,f){return f=Ma(f),f.tag=3,f.payload={element:null},f.callback=function(){Yh(o,c)},f}function nC(o){return o=Ma(o),o.tag=3,o}function rC(o,c,f,m){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var S=m.value;o.payload=function(){return y(S)},o.callback=function(){tC(c,f,m)}}var C=f.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){tC(c,f,m),typeof y!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function pz(o,c,f,m,y){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=f.alternate,c!==null&&ac(c,f,y,!0),f=Qr.current,f!==null){switch(f.tag){case 31:case 13:return Si===null?ag():f.alternate===null&&pn===0&&(pn=3),f.flags&=-257,f.flags|=65536,f.lanes=y,m===Ph?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([m]):c.add(m),yb(o,m,y)),!1;case 22:return f.flags|=65536,m===Ph?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([m]):f.add(m)),yb(o,m,y)),!1}throw Error(r(435,f.tag))}return yb(o,m,y),ag(),!1}if(ht)return c=Qr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=y,m!==fy&&(o=Error(r(422),{cause:m}),qu(yi(o,f)))):(m!==fy&&(c=Error(r(423),{cause:m}),qu(yi(c,f))),o=o.current.alternate,o.flags|=65536,y&=-y,o.lanes|=y,m=yi(m,f),y=Gy(o.stateNode,m,y),xy(o,y),pn!==4&&(pn=2)),!1;var S=Error(r(520),{cause:m});if(S=yi(S,f),ud===null?ud=[S]:ud.push(S),pn!==4&&(pn=2),c===null)return!0;m=yi(m,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=y&-y,f.lanes|=o,o=Gy(f.stateNode,m,o),xy(f,o),!1;case 1:if(c=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fa===null||!Fa.has(S))))return f.flags|=65536,y&=-y,f.lanes|=y,y=nC(y),rC(y,o,f,m),xy(f,y),!1}f=f.return}while(f!==null);return!1}var Yy=Error(r(461)),An=!1;function rr(o,c,f,m){c.child=o===null?oR(c,null,f,m):Wo(c,o.child,f,m)}function iC(o,c,f,m,y){f=f.render;var S=c.ref;if("ref"in m){var C={};for(var P in m)P!=="ref"&&(C[P]=m[P])}else C=m;return Bo(c),m=Oy(o,c,f,C,S,y),P=Dy(),o!==null&&!An?(My(o,c,y),Hs(o,c,y)):(ht&&P&&uy(c),c.flags|=1,rr(o,c,m,y),c.child)}function sC(o,c,f,m,y){if(o===null){var S=f.type;return typeof S=="function"&&!oy(S)&&S.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=S,aC(o,c,S,m,y)):(o=Oh(f.type,null,m,c,c.mode,y),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!nb(o,y)){var C=S.memoizedProps;if(f=f.compare,f=f!==null?f:Bu,f(C,m)&&o.ref===c.ref)return Hs(o,c,y)}return c.flags|=1,o=Ps(S,m),o.ref=c.ref,o.return=c,c.child=o}function aC(o,c,f,m,y){if(o!==null){var S=o.memoizedProps;if(Bu(S,m)&&o.ref===c.ref)if(An=!1,c.pendingProps=m=S,nb(o,y))(o.flags&131072)!==0&&(An=!0);else return c.lanes=o.lanes,Hs(o,c,y)}return Ky(o,c,f,m,y)}function oC(o,c,f,m){var y=m.children,S=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,o!==null){for(m=c.child=o.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~S}else m=0,c.child=null;return lC(o,c,S,f,m)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Nh(c,S!==null?S.cachePool:null),S!==null?uR(c,S):Ry(),dR(c);else return m=c.lanes=536870912,lC(o,c,S!==null?S.baseLanes|f:f,f,m)}else S!==null?(Nh(c,S.cachePool),uR(c,S),Ia(),c.memoizedState=null):(o!==null&&Nh(c,null),Ry(),Ia());return rr(o,c,y,f),c.child}function rd(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function lC(o,c,f,m,y){var S=by();return S=S===null?null:{parent:Cn._currentValue,pool:S},c.memoizedState={baseLanes:f,cachePool:S},o!==null&&Nh(c,null),Ry(),dR(c),o!==null&&ac(o,c,m,!0),c.childLanes=y,null}function Kh(o,c){return c=Xh({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function cC(o,c,f){return Wo(c,o.child,null,f),o=Kh(c,c.pendingProps),o.flags|=2,Xr(c),c.memoizedState=null,o}function vz(o,c,f){var m=c.pendingProps,y=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(ht){if(m.mode==="hidden")return o=Kh(c,m),c.lanes=536870912,rd(null,o);if(Ty(c),(o=Xt)?(o=wT(o,wi),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Ca!==null?{id:ls,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},f=WE(o),f.return=c,c.child=f,tr=c,Xt=null)):o=null,o===null)throw Aa(c);return c.lanes=536870912,null}return Kh(c,m)}var S=o.memoizedState;if(S!==null){var C=S.dehydrated;if(Ty(c),y)if(c.flags&256)c.flags&=-257,c=cC(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(An||ac(o,c,f,!1),y=(f&o.childLanes)!==0,An||y){if(m=Bt,m!==null&&(C=rn(m,f),C!==0&&C!==S.retryLane))throw S.retryLane=C,Fo(o,C),jr(m,o,C),Yy;ag(),c=cC(o,c,f)}else o=S.treeContext,Xt=xi(C.nextSibling),tr=c,ht=!0,Ta=null,wi=!1,o!==null&&KE(c,o),c=Kh(c,m),c.flags|=4096;return c}return o=Ps(o.child,{mode:m.mode,children:m.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Qh(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function Ky(o,c,f,m,y){return Bo(c),f=Oy(o,c,f,m,void 0,y),m=Dy(),o!==null&&!An?(My(o,c,y),Hs(o,c,y)):(ht&&m&&uy(c),c.flags|=1,rr(o,c,f,y),c.child)}function uC(o,c,f,m,y,S){return Bo(c),c.updateQueue=null,f=hR(c,m,f,y),fR(o),m=Dy(),o!==null&&!An?(My(o,c,S),Hs(o,c,S)):(ht&&m&&uy(c),c.flags|=1,rr(o,c,f,S),c.child)}function dC(o,c,f,m,y){if(Bo(c),c.stateNode===null){var S=nc,C=f.contextType;typeof C=="object"&&C!==null&&(S=nr(C)),S=new f(m,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Wy,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=m,S.state=c.memoizedState,S.refs={},wy(c),C=f.contextType,S.context=typeof C=="object"&&C!==null?nr(C):nc,S.state=c.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(qy(c,f,C,m),S.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(C=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),C!==S.state&&Wy.enqueueReplaceState(S,S.state,null),Zu(c,m,S,y),Xu(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){S=c.stateNode;var P=c.memoizedProps,q=Yo(f,P);S.props=q;var ie=S.context,fe=f.contextType;C=nc,typeof fe=="object"&&fe!==null&&(C=nr(fe));var ve=f.getDerivedStateFromProps;fe=typeof ve=="function"||typeof S.getSnapshotBeforeUpdate=="function",P=c.pendingProps!==P,fe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P||ie!==C)&&XR(c,S,m,C),Da=!1;var oe=c.memoizedState;S.state=oe,Zu(c,m,S,y),Xu(),ie=c.memoizedState,P||oe!==ie||Da?(typeof ve=="function"&&(qy(c,f,ve,m),ie=c.memoizedState),(q=Da||QR(c,f,q,m,oe,ie,C))?(fe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ie),S.props=m,S.state=ie,S.context=C,m=q):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{S=c.stateNode,Sy(o,c),C=c.memoizedProps,fe=Yo(f,C),S.props=fe,ve=c.pendingProps,oe=S.context,ie=f.contextType,q=nc,typeof ie=="object"&&ie!==null&&(q=nr(ie)),P=f.getDerivedStateFromProps,(ie=typeof P=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(C!==ve||oe!==q)&&XR(c,S,m,q),Da=!1,oe=c.memoizedState,S.state=oe,Zu(c,m,S,y),Xu();var ce=c.memoizedState;C!==ve||oe!==ce||Da||o!==null&&o.dependencies!==null&&Mh(o.dependencies)?(typeof P=="function"&&(qy(c,f,P,m),ce=c.memoizedState),(fe=Da||QR(c,f,fe,m,oe,ce,q)||o!==null&&o.dependencies!==null&&Mh(o.dependencies))?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ce,q),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ce,q)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||C===o.memoizedProps&&oe===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&oe===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ce),S.props=m,S.state=ce,S.context=q,m=fe):(typeof S.componentDidUpdate!="function"||C===o.memoizedProps&&oe===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&oe===o.memoizedState||(c.flags|=1024),m=!1)}return S=m,Qh(o,c),m=(c.flags&128)!==0,S||m?(S=c.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&m?(c.child=Wo(c,o.child,null,y),c.child=Wo(c,null,f,y)):rr(o,c,f,y),c.memoizedState=S.state,o=c.child):o=Hs(o,c,y),o}function fC(o,c,f,m){return zo(),c.flags|=256,rr(o,c,f,m),c.child}var Qy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xy(o){return{baseLanes:o,cachePool:tR()}}function Zy(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Jr),o}function hC(o,c,f){var m=c.pendingProps,y=!1,S=(c.flags&128)!==0,C;if((C=S)||(C=o!==null&&o.memoizedState===null?!1:(bn.current&2)!==0),C&&(y=!0,c.flags&=-129),C=(c.flags&32)!==0,c.flags&=-33,o===null){if(ht){if(y?Na(c):Ia(),(o=Xt)?(o=wT(o,wi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Ca!==null?{id:ls,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},f=WE(o),f.return=c,c.child=f,tr=c,Xt=null)):o=null,o===null)throw Aa(c);return Ib(o)?c.lanes=32:c.lanes=536870912,null}var P=m.children;return m=m.fallback,y?(Ia(),y=c.mode,P=Xh({mode:"hidden",children:P},y),m=Uo(m,y,f,null),P.return=c,m.return=c,P.sibling=m,c.child=P,m=c.child,m.memoizedState=Xy(f),m.childLanes=Zy(o,C,f),c.memoizedState=Qy,rd(null,m)):(Na(c),Jy(c,P))}var q=o.memoizedState;if(q!==null&&(P=q.dehydrated,P!==null)){if(S)c.flags&256?(Na(c),c.flags&=-257,c=eb(o,c,f)):c.memoizedState!==null?(Ia(),c.child=o.child,c.flags|=128,c=null):(Ia(),P=m.fallback,y=c.mode,m=Xh({mode:"visible",children:m.children},y),P=Uo(P,y,f,null),P.flags|=2,m.return=c,P.return=c,m.sibling=P,c.child=m,Wo(c,o.child,null,f),m=c.child,m.memoizedState=Xy(f),m.childLanes=Zy(o,C,f),c.memoizedState=Qy,c=rd(null,m));else if(Na(c),Ib(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var ie=C.dgst;C=ie,m=Error(r(419)),m.stack="",m.digest=C,qu({value:m,source:null,stack:null}),c=eb(o,c,f)}else if(An||ac(o,c,f,!1),C=(f&o.childLanes)!==0,An||C){if(C=Bt,C!==null&&(m=rn(C,f),m!==0&&m!==q.retryLane))throw q.retryLane=m,Fo(o,m),jr(C,o,m),Yy;Nb(P)||ag(),c=eb(o,c,f)}else Nb(P)?(c.flags|=192,c.child=o.child,c=null):(o=q.treeContext,Xt=xi(P.nextSibling),tr=c,ht=!0,Ta=null,wi=!1,o!==null&&KE(c,o),c=Jy(c,m.children),c.flags|=4096);return c}return y?(Ia(),P=m.fallback,y=c.mode,q=o.child,ie=q.sibling,m=Ps(q,{mode:"hidden",children:m.children}),m.subtreeFlags=q.subtreeFlags&65011712,ie!==null?P=Ps(ie,P):(P=Uo(P,y,f,null),P.flags|=2),P.return=c,m.return=c,m.sibling=P,c.child=m,rd(null,m),m=c.child,P=o.child.memoizedState,P===null?P=Xy(f):(y=P.cachePool,y!==null?(q=Cn._currentValue,y=y.parent!==q?{parent:q,pool:q}:y):y=tR(),P={baseLanes:P.baseLanes|f,cachePool:y}),m.memoizedState=P,m.childLanes=Zy(o,C,f),c.memoizedState=Qy,rd(o.child,m)):(Na(c),f=o.child,o=f.sibling,f=Ps(f,{mode:"visible",children:m.children}),f.return=c,f.sibling=null,o!==null&&(C=c.deletions,C===null?(c.deletions=[o],c.flags|=16):C.push(o)),c.child=f,c.memoizedState=null,f)}function Jy(o,c){return c=Xh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Xh(o,c){return o=Kr(22,o,null,c),o.lanes=0,o}function eb(o,c,f){return Wo(c,o.child,null,f),o=Jy(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function gC(o,c,f){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),my(o.return,c,f)}function tb(o,c,f,m,y,S){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:y,treeForkCount:S}:(C.isBackwards=c,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=f,C.tailMode=y,C.treeForkCount=S)}function mC(o,c,f){var m=c.pendingProps,y=m.revealOrder,S=m.tail;m=m.children;var C=bn.current,P=(C&2)!==0;if(P?(C=C&1|2,c.flags|=128):C&=1,Q(bn,C),rr(o,c,m,f),m=ht?Vu:0,!P&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&gC(o,f,c);else if(o.tag===19)gC(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(y){case"forwards":for(f=c.child,y=null;f!==null;)o=f.alternate,o!==null&&Uh(o)===null&&(y=f),f=f.sibling;f=y,f===null?(y=c.child,c.child=null):(y=f.sibling,f.sibling=null),tb(c,!1,y,f,S,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,y=c.child,c.child=null;y!==null;){if(o=y.alternate,o!==null&&Uh(o)===null){c.child=y;break}o=y.sibling,y.sibling=f,f=y,y=o}tb(c,!0,f,null,S,m);break;case"together":tb(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function Hs(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),La|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(ac(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,f=Ps(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Ps(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function nb(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Mh(o)))}function yz(o,c,f){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),Oa(c,Cn,o.memoizedState.cache),zo();break;case 27:case 5:tt(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:Oa(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Ty(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Na(c),c.flags|=128,null):(f&c.child.childLanes)!==0?hC(o,c,f):(Na(c),o=Hs(o,c,f),o!==null?o.sibling:null);Na(c);break;case 19:var y=(o.flags&128)!==0;if(m=(f&c.childLanes)!==0,m||(ac(o,c,f,!1),m=(f&c.childLanes)!==0),y){if(m)return mC(o,c,f);c.flags|=128}if(y=c.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Q(bn,bn.current),m)break;return null;case 22:return c.lanes=0,oC(o,c,f,c.pendingProps);case 24:Oa(c,Cn,o.memoizedState.cache)}return Hs(o,c,f)}function pC(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)An=!0;else{if(!nb(o,f)&&(c.flags&128)===0)return An=!1,yz(o,c,f);An=(o.flags&131072)!==0}else An=!1,ht&&(c.flags&1048576)!==0&&YE(c,Vu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(o=Vo(c.elementType),c.type=o,typeof o=="function")oy(o)?(m=Yo(o,m),c.tag=1,c=dC(null,c,o,m,f)):(c.tag=0,c=Ky(null,c,o,m,f));else{if(o!=null){var y=o.$$typeof;if(y===O){c.tag=11,c=iC(null,c,o,m,f);break e}else if(y===k){c.tag=14,c=sC(null,c,o,m,f);break e}}throw c=ue(o)||o,Error(r(306,c,""))}}return c;case 0:return Ky(o,c,c.type,c.pendingProps,f);case 1:return m=c.type,y=Yo(m,c.pendingProps),dC(o,c,m,y,f);case 3:e:{if(Se(c,c.stateNode.containerInfo),o===null)throw Error(r(387));m=c.pendingProps;var S=c.memoizedState;y=S.element,Sy(o,c),Zu(c,m,null,f);var C=c.memoizedState;if(m=C.cache,Oa(c,Cn,m),m!==S.cache&&py(c,[Cn],f,!0),Xu(),m=C.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:C.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=fC(o,c,m,f);break e}else if(m!==y){y=yi(Error(r(424)),c),qu(y),c=fC(o,c,m,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Xt=xi(o.firstChild),tr=c,ht=!0,Ta=null,wi=!0,f=oR(c,null,m,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(zo(),m===y){c=Hs(o,c,f);break e}rr(o,c,m,f)}c=c.child}return c;case 26:return Qh(o,c),o===null?(f=TT(c.type,null,c.pendingProps,null))?c.memoizedState=f:ht||(f=c.type,o=c.pendingProps,m=hg(pe.current).createElement(f),m[er]=c,m[Dr]=o,ir(m,f,o),qn(m),c.stateNode=m):c.memoizedState=TT(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return tt(c),o===null&&ht&&(m=c.stateNode=ET(c.type,c.pendingProps,pe.current),tr=c,wi=!0,y=Xt,Ba(c.type)?(Pb=y,Xt=xi(m.firstChild)):Xt=y),rr(o,c,c.pendingProps.children,f),Qh(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&ht&&((y=m=Xt)&&(m=Yz(m,c.type,c.pendingProps,wi),m!==null?(c.stateNode=m,tr=c,Xt=xi(m.firstChild),wi=!1,y=!0):y=!1),y||Aa(c)),tt(c),y=c.type,S=c.pendingProps,C=o!==null?o.memoizedProps:null,m=S.children,Db(y,S)?m=null:C!==null&&Db(y,C)&&(c.flags|=32),c.memoizedState!==null&&(y=Oy(o,c,cz,null,null,f),yd._currentValue=y),Qh(o,c),rr(o,c,m,f),c.child;case 6:return o===null&&ht&&((o=f=Xt)&&(f=Kz(f,c.pendingProps,wi),f!==null?(c.stateNode=f,tr=c,Xt=null,o=!0):o=!1),o||Aa(c)),null;case 13:return hC(o,c,f);case 4:return Se(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=Wo(c,null,m,f):rr(o,c,m,f),c.child;case 11:return iC(o,c,c.type,c.pendingProps,f);case 7:return rr(o,c,c.pendingProps,f),c.child;case 8:return rr(o,c,c.pendingProps.children,f),c.child;case 12:return rr(o,c,c.pendingProps.children,f),c.child;case 10:return m=c.pendingProps,Oa(c,c.type,m.value),rr(o,c,m.children,f),c.child;case 9:return y=c.type._context,m=c.pendingProps.children,Bo(c),y=nr(y),m=m(y),c.flags|=1,rr(o,c,m,f),c.child;case 14:return sC(o,c,c.type,c.pendingProps,f);case 15:return aC(o,c,c.type,c.pendingProps,f);case 19:return mC(o,c,f);case 31:return vz(o,c,f);case 22:return oC(o,c,f,c.pendingProps);case 24:return Bo(c),m=nr(Cn),o===null?(y=by(),y===null&&(y=Bt,S=vy(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=f),y=S),c.memoizedState={parent:m,cache:y},wy(c),Oa(c,Cn,y)):((o.lanes&f)!==0&&(Sy(o,c),Zu(c,null,null,f),Xu()),y=o.memoizedState,S=c.memoizedState,y.parent!==m?(y={parent:m,cache:m},c.memoizedState=y,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=y),Oa(c,Cn,m)):(m=S.cache,Oa(c,Cn,m),m!==y.cache&&py(c,[Cn],f,!0))),rr(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Bs(o){o.flags|=4}function rb(o,c,f,m,y){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(y&335544128)===y)if(o.stateNode.complete)o.flags|=8192;else if($C())o.flags|=8192;else throw qo=Ph,_y}else o.flags&=-16777217}function vC(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!kT(c))if($C())o.flags|=8192;else throw qo=Ph,_y}function Zh(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?vt():536870912,o.lanes|=c,yc|=c)}function id(o,c){if(!ht)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Zt(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(c)for(var y=o.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=f,c}function bz(o,c,f){var m=c.pendingProps;switch(dy(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(c),null;case 1:return Zt(c),null;case 3:return f=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Fs(Cn),Oe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(sc(c)?Bs(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,hy())),Zt(c),null;case 26:var y=c.type,S=c.memoizedState;return o===null?(Bs(c),S!==null?(Zt(c),vC(c,S)):(Zt(c),rb(c,y,null,m,f))):S?S!==o.memoizedState?(Bs(c),Zt(c),vC(c,S)):(Zt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==m&&Bs(c),Zt(c),rb(c,y,o,m,f)),null;case 27:if(qt(c),f=pe.current,y=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Bs(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Zt(c),null}o=ee.current,sc(c)?QE(c):(o=ET(y,m,f),c.stateNode=o,Bs(c))}return Zt(c),null;case 5:if(qt(c),y=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Bs(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Zt(c),null}if(S=ee.current,sc(c))QE(c);else{var C=hg(pe.current);switch(S){case 1:S=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:S=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":S=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":S=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":S=C.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?C.createElement("select",{is:m.is}):C.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?C.createElement(y,{is:m.is}):C.createElement(y)}}S[er]=c,S[Dr]=m;e:for(C=c.child;C!==null;){if(C.tag===5||C.tag===6)S.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===c)break e;for(;C.sibling===null;){if(C.return===null||C.return===c)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}c.stateNode=S;e:switch(ir(S,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Bs(c)}}return Zt(c),rb(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&Bs(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(o=pe.current,sc(c)){if(o=c.stateNode,f=c.memoizedProps,m=null,y=tr,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}o[er]=c,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||hT(o.nodeValue,f)),o||Aa(c,!0)}else o=hg(o).createTextNode(m),o[er]=c,c.stateNode=o}return Zt(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(m=sc(c),f!==null){if(o===null){if(!m)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[er]=c}else zo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zt(c),o=!1}else f=hy(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Xr(c),c):(Xr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Zt(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(y=sc(c),m!==null&&m.dehydrated!==null){if(o===null){if(!y)throw Error(r(318));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[er]=c}else zo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zt(c),y=!1}else y=hy(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=y),y=!0;if(!y)return c.flags&256?(Xr(c),c):(Xr(c),null)}return Xr(c),(c.flags&128)!==0?(c.lanes=f,c):(f=m!==null,o=o!==null&&o.memoizedState!==null,f&&(m=c.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==y&&(m.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),Zh(c,c.updateQueue),Zt(c),null);case 4:return Oe(),o===null&&Rb(c.stateNode.containerInfo),Zt(c),null;case 10:return Fs(c.type),Zt(c),null;case 19:if($(bn),m=c.memoizedState,m===null)return Zt(c),null;if(y=(c.flags&128)!==0,S=m.rendering,S===null)if(y)id(m,!1);else{if(pn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=Uh(o),S!==null){for(c.flags|=128,id(m,!1),o=S.updateQueue,c.updateQueue=o,Zh(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)qE(f,o),f=f.sibling;return Q(bn,bn.current&1|2),ht&&js(c,m.treeForkCount),c.child}o=o.sibling}m.tail!==null&&ae()>rg&&(c.flags|=128,y=!0,id(m,!1),c.lanes=4194304)}else{if(!y)if(o=Uh(S),o!==null){if(c.flags|=128,y=!0,o=o.updateQueue,c.updateQueue=o,Zh(c,o),id(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!ht)return Zt(c),null}else 2*ae()-m.renderingStartTime>rg&&f!==536870912&&(c.flags|=128,y=!0,id(m,!1),c.lanes=4194304);m.isBackwards?(S.sibling=c.child,c.child=S):(o=m.last,o!==null?o.sibling=S:c.child=S,m.last=S)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=ae(),o.sibling=null,f=bn.current,Q(bn,y?f&1|2:f&1),ht&&js(c,m.treeForkCount),o):(Zt(c),null);case 22:case 23:return Xr(c),Cy(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(f&536870912)!==0&&(c.flags&128)===0&&(Zt(c),c.subtreeFlags&6&&(c.flags|=8192)):Zt(c),f=c.updateQueue,f!==null&&Zh(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048),o!==null&&$($o),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Fs(Cn),Zt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function _z(o,c){switch(dy(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Fs(Cn),Oe(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return qt(c),null;case 31:if(c.memoizedState!==null){if(Xr(c),c.alternate===null)throw Error(r(340));zo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Xr(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));zo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return $(bn),null;case 4:return Oe(),null;case 10:return Fs(c.type),null;case 22:case 23:return Xr(c),Cy(),o!==null&&$($o),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Fs(Cn),null;case 25:return null;default:return null}}function yC(o,c){switch(dy(c),c.tag){case 3:Fs(Cn),Oe();break;case 26:case 27:case 5:qt(c);break;case 4:Oe();break;case 31:c.memoizedState!==null&&Xr(c);break;case 13:Xr(c);break;case 19:$(bn);break;case 10:Fs(c.type);break;case 22:case 23:Xr(c),Cy(),o!==null&&$($o);break;case 24:Fs(Cn)}}function sd(o,c){try{var f=c.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&o)===o){m=void 0;var S=f.create,C=f.inst;m=S(),C.destroy=m}f=f.next}while(f!==y)}}catch(P){Mt(c,c.return,P)}}function Pa(o,c,f){try{var m=c.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var S=y.next;m=S;do{if((m.tag&o)===o){var C=m.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,y=c;var q=f,ie=P;try{ie()}catch(fe){Mt(y,q,fe)}}}m=m.next}while(m!==S)}}catch(fe){Mt(c,c.return,fe)}}function bC(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{cR(c,f)}catch(m){Mt(o,o.return,m)}}}function _C(o,c,f){f.props=Yo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){Mt(o,c,m)}}function ad(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof f=="function"?o.refCleanup=f(m):f.current=m}}catch(y){Mt(o,c,y)}}function us(o,c){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(y){Mt(o,c,y)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){Mt(o,c,y)}else f.current=null}function wC(o){var c=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(y){Mt(o,o.return,y)}}function ib(o,c,f){try{var m=o.stateNode;Bz(m,o.type,f,c),m[Dr]=c}catch(y){Mt(o,o.return,y)}}function SC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ba(o.type)||o.tag===4}function sb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||SC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ba(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ab(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Ns));else if(m!==4&&(m===27&&Ba(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(ab(o,c,f),o=o.sibling;o!==null;)ab(o,c,f),o=o.sibling}function Jh(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(m!==4&&(m===27&&Ba(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Jh(o,c,f),o=o.sibling;o!==null;)Jh(o,c,f),o=o.sibling}function xC(o){var c=o.stateNode,f=o.memoizedProps;try{for(var m=o.type,y=c.attributes;y.length;)c.removeAttributeNode(y[0]);ir(c,m,f),c[er]=o,c[Dr]=f}catch(S){Mt(o,o.return,S)}}var $s=!1,On=!1,ob=!1,EC=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function wz(o,c){if(o=o.containerInfo,Ab=_g,o=jE(o),ey(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var y=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var C=0,P=-1,q=-1,ie=0,fe=0,ve=o,oe=null;t:for(;;){for(var ce;ve!==f||y!==0&&ve.nodeType!==3||(P=C+y),ve!==S||m!==0&&ve.nodeType!==3||(q=C+m),ve.nodeType===3&&(C+=ve.nodeValue.length),(ce=ve.firstChild)!==null;)oe=ve,ve=ce;for(;;){if(ve===o)break t;if(oe===f&&++ie===y&&(P=C),oe===S&&++fe===m&&(q=C),(ce=ve.nextSibling)!==null)break;ve=oe,oe=ve.parentNode}ve=ce}f=P===-1||q===-1?null:{start:P,end:q}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ob={focusedElem:o,selectionRange:f},_g=!1,Wn=c;Wn!==null;)if(c=Wn,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Wn=o;else for(;Wn!==null;){switch(c=Wn,S=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)y=o[f],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=c,y=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var Ae=Yo(f.type,y);o=m.getSnapshotBeforeUpdate(Ae,S),m.__reactInternalSnapshotBeforeUpdate=o}catch(Fe){Mt(f,f.return,Fe)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)kb(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":kb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Wn=o;break}Wn=c.return}}function RC(o,c,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:qs(o,f),m&4&&sd(5,f);break;case 1:if(qs(o,f),m&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(C){Mt(f,f.return,C)}else{var y=Yo(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(y,c,o.__reactInternalSnapshotBeforeUpdate)}catch(C){Mt(f,f.return,C)}}m&64&&bC(f),m&512&&ad(f,f.return);break;case 3:if(qs(o,f),m&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{cR(o,c)}catch(C){Mt(f,f.return,C)}}break;case 27:c===null&&m&4&&xC(f);case 26:case 5:qs(o,f),c===null&&m&4&&wC(f),m&512&&ad(f,f.return);break;case 12:qs(o,f);break;case 31:qs(o,f),m&4&&AC(o,f);break;case 13:qs(o,f),m&4&&OC(o,f),m&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=Dz.bind(null,f),Qz(o,f))));break;case 22:if(m=f.memoizedState!==null||$s,!m){c=c!==null&&c.memoizedState!==null||On,y=$s;var S=On;$s=m,(On=c)&&!S?Ws(o,f,(f.subtreeFlags&8772)!==0):qs(o,f),$s=y,On=S}break;case 30:break;default:qs(o,f)}}function CC(o){var c=o.alternate;c!==null&&(o.alternate=null,CC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Lv(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var sn=null,kr=!1;function Vs(o,c,f){for(f=f.child;f!==null;)TC(o,c,f),f=f.sibling}function TC(o,c,f){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(it,f)}catch{}switch(f.tag){case 26:On||us(f,c),Vs(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:On||us(f,c);var m=sn,y=kr;Ba(f.type)&&(sn=f.stateNode,kr=!1),Vs(o,c,f),md(f.stateNode),sn=m,kr=y;break;case 5:On||us(f,c);case 6:if(m=sn,y=kr,sn=null,Vs(o,c,f),sn=m,kr=y,sn!==null)if(kr)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(f.stateNode)}catch(S){Mt(f,c,S)}else try{sn.removeChild(f.stateNode)}catch(S){Mt(f,c,S)}break;case 18:sn!==null&&(kr?(o=sn,bT(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Cc(o)):bT(sn,f.stateNode));break;case 4:m=sn,y=kr,sn=f.stateNode.containerInfo,kr=!0,Vs(o,c,f),sn=m,kr=y;break;case 0:case 11:case 14:case 15:Pa(2,f,c),On||Pa(4,f,c),Vs(o,c,f);break;case 1:On||(us(f,c),m=f.stateNode,typeof m.componentWillUnmount=="function"&&_C(f,c,m)),Vs(o,c,f);break;case 21:Vs(o,c,f);break;case 22:On=(m=On)||f.memoizedState!==null,Vs(o,c,f),On=m;break;default:Vs(o,c,f)}}function AC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Cc(o)}catch(f){Mt(c,c.return,f)}}}function OC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Cc(o)}catch(f){Mt(c,c.return,f)}}function Sz(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new EC),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new EC),c;default:throw Error(r(435,o.tag))}}function eg(o,c){var f=Sz(o);c.forEach(function(m){if(!f.has(m)){f.add(m);var y=Mz.bind(null,o,m);m.then(y,y)}})}function Nr(o,c){var f=c.deletions;if(f!==null)for(var m=0;m<f.length;m++){var y=f[m],S=o,C=c,P=C;e:for(;P!==null;){switch(P.tag){case 27:if(Ba(P.type)){sn=P.stateNode,kr=!1;break e}break;case 5:sn=P.stateNode,kr=!1;break e;case 3:case 4:sn=P.stateNode.containerInfo,kr=!0;break e}P=P.return}if(sn===null)throw Error(r(160));TC(S,C,y),sn=null,kr=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)DC(c,o),c=c.sibling}var Bi=null;function DC(o,c){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Nr(c,o),Ir(o),m&4&&(Pa(3,o,o.return),sd(3,o),Pa(5,o,o.return));break;case 1:Nr(c,o),Ir(o),m&512&&(On||f===null||us(f,f.return)),m&64&&$s&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var y=Bi;if(Nr(c,o),Ir(o),m&512&&(On||f===null||us(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":S=y.getElementsByTagName("title")[0],(!S||S[Nu]||S[er]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(m),y.head.insertBefore(S,y.querySelector("head > title"))),ir(S,m,f),S[er]=o,qn(S),m=S;break e;case"link":var C=DT("link","href",y).get(m+(f.href||""));if(C){for(var P=0;P<C.length;P++)if(S=C[P],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){C.splice(P,1);break t}}S=y.createElement(m),ir(S,m,f),y.head.appendChild(S);break;case"meta":if(C=DT("meta","content",y).get(m+(f.content||""))){for(P=0;P<C.length;P++)if(S=C[P],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){C.splice(P,1);break t}}S=y.createElement(m),ir(S,m,f),y.head.appendChild(S);break;default:throw Error(r(468,m))}S[er]=o,qn(S),m=S}o.stateNode=m}else MT(y,o.type,o.stateNode);else o.stateNode=OT(y,m,o.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?MT(y,o.type,o.stateNode):OT(y,m,o.memoizedProps)):m===null&&o.stateNode!==null&&ib(o,o.memoizedProps,f.memoizedProps)}break;case 27:Nr(c,o),Ir(o),m&512&&(On||f===null||us(f,f.return)),f!==null&&m&4&&ib(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Nr(c,o),Ir(o),m&512&&(On||f===null||us(f,f.return)),o.flags&32){y=o.stateNode;try{Kl(y,"")}catch(Ae){Mt(o,o.return,Ae)}}m&4&&o.stateNode!=null&&(y=o.memoizedProps,ib(o,y,f!==null?f.memoizedProps:y)),m&1024&&(ob=!0);break;case 6:if(Nr(c,o),Ir(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Ae){Mt(o,o.return,Ae)}}break;case 3:if(pg=null,y=Bi,Bi=gg(c.containerInfo),Nr(c,o),Bi=y,Ir(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Cc(c.containerInfo)}catch(Ae){Mt(o,o.return,Ae)}ob&&(ob=!1,MC(o));break;case 4:m=Bi,Bi=gg(o.stateNode.containerInfo),Nr(c,o),Ir(o),Bi=m;break;case 12:Nr(c,o),Ir(o);break;case 31:Nr(c,o),Ir(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,eg(o,m)));break;case 13:Nr(c,o),Ir(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ng=ae()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,eg(o,m)));break;case 22:y=o.memoizedState!==null;var q=f!==null&&f.memoizedState!==null,ie=$s,fe=On;if($s=ie||y,On=fe||q,Nr(c,o),On=fe,$s=ie,Ir(o),m&8192)e:for(c=o.stateNode,c._visibility=y?c._visibility&-2:c._visibility|1,y&&(f===null||q||$s||On||Ko(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){q=f=c;try{if(S=q.stateNode,y)C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=q.stateNode;var ve=q.memoizedProps.style,oe=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;P.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Ae){Mt(q,q.return,Ae)}}}else if(c.tag===6){if(f===null){q=c;try{q.stateNode.nodeValue=y?"":q.memoizedProps}catch(Ae){Mt(q,q.return,Ae)}}}else if(c.tag===18){if(f===null){q=c;try{var ce=q.stateNode;y?_T(ce,!0):_T(q.stateNode,!1)}catch(Ae){Mt(q,q.return,Ae)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,eg(o,f))));break;case 19:Nr(c,o),Ir(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,eg(o,m)));break;case 30:break;case 21:break;default:Nr(c,o),Ir(o)}}function Ir(o){var c=o.flags;if(c&2){try{for(var f,m=o.return;m!==null;){if(SC(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var y=f.stateNode,S=sb(o);Jh(o,S,y);break;case 5:var C=f.stateNode;f.flags&32&&(Kl(C,""),f.flags&=-33);var P=sb(o);Jh(o,P,C);break;case 3:case 4:var q=f.stateNode.containerInfo,ie=sb(o);ab(o,ie,q);break;default:throw Error(r(161))}}catch(fe){Mt(o,o.return,fe)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function MC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;MC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function qs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)RC(o,c.alternate,c),c=c.sibling}function Ko(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Pa(4,c,c.return),Ko(c);break;case 1:us(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&_C(c,c.return,f),Ko(c);break;case 27:md(c.stateNode);case 26:case 5:us(c,c.return),Ko(c);break;case 22:c.memoizedState===null&&Ko(c);break;case 30:Ko(c);break;default:Ko(c)}o=o.sibling}}function Ws(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,y=o,S=c,C=S.flags;switch(S.tag){case 0:case 11:case 15:Ws(y,S,f),sd(4,S);break;case 1:if(Ws(y,S,f),m=S,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ie){Mt(m,m.return,ie)}if(m=S,y=m.updateQueue,y!==null){var P=m.stateNode;try{var q=y.shared.hiddenCallbacks;if(q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<q.length;y++)lR(q[y],P)}catch(ie){Mt(m,m.return,ie)}}f&&C&64&&bC(S),ad(S,S.return);break;case 27:xC(S);case 26:case 5:Ws(y,S,f),f&&m===null&&C&4&&wC(S),ad(S,S.return);break;case 12:Ws(y,S,f);break;case 31:Ws(y,S,f),f&&C&4&&AC(y,S);break;case 13:Ws(y,S,f),f&&C&4&&OC(y,S);break;case 22:S.memoizedState===null&&Ws(y,S,f),ad(S,S.return);break;case 30:break;default:Ws(y,S,f)}c=c.sibling}}function lb(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Wu(f))}function cb(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wu(o))}function $i(o,c,f,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)kC(o,c,f,m),c=c.sibling}function kC(o,c,f,m){var y=c.flags;switch(c.tag){case 0:case 11:case 15:$i(o,c,f,m),y&2048&&sd(9,c);break;case 1:$i(o,c,f,m);break;case 3:$i(o,c,f,m),y&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wu(o)));break;case 12:if(y&2048){$i(o,c,f,m),o=c.stateNode;try{var S=c.memoizedProps,C=S.id,P=S.onPostCommit;typeof P=="function"&&P(C,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(q){Mt(c,c.return,q)}}else $i(o,c,f,m);break;case 31:$i(o,c,f,m);break;case 13:$i(o,c,f,m);break;case 23:break;case 22:S=c.stateNode,C=c.alternate,c.memoizedState!==null?S._visibility&2?$i(o,c,f,m):od(o,c):S._visibility&2?$i(o,c,f,m):(S._visibility|=2,mc(o,c,f,m,(c.subtreeFlags&10256)!==0||!1)),y&2048&&lb(C,c);break;case 24:$i(o,c,f,m),y&2048&&cb(c.alternate,c);break;default:$i(o,c,f,m)}}function mc(o,c,f,m,y){for(y=y&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=o,C=c,P=f,q=m,ie=C.flags;switch(C.tag){case 0:case 11:case 15:mc(S,C,P,q,y),sd(8,C);break;case 23:break;case 22:var fe=C.stateNode;C.memoizedState!==null?fe._visibility&2?mc(S,C,P,q,y):od(S,C):(fe._visibility|=2,mc(S,C,P,q,y)),y&&ie&2048&&lb(C.alternate,C);break;case 24:mc(S,C,P,q,y),y&&ie&2048&&cb(C.alternate,C);break;default:mc(S,C,P,q,y)}c=c.sibling}}function od(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,m=c,y=m.flags;switch(m.tag){case 22:od(f,m),y&2048&&lb(m.alternate,m);break;case 24:od(f,m),y&2048&&cb(m.alternate,m);break;default:od(f,m)}c=c.sibling}}var ld=8192;function pc(o,c,f){if(o.subtreeFlags&ld)for(o=o.child;o!==null;)NC(o,c,f),o=o.sibling}function NC(o,c,f){switch(o.tag){case 26:pc(o,c,f),o.flags&ld&&o.memoizedState!==null&&lH(f,Bi,o.memoizedState,o.memoizedProps);break;case 5:pc(o,c,f);break;case 3:case 4:var m=Bi;Bi=gg(o.stateNode.containerInfo),pc(o,c,f),Bi=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=ld,ld=16777216,pc(o,c,f),ld=m):pc(o,c,f));break;default:pc(o,c,f)}}function IC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function cd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];Wn=m,jC(m,o)}IC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)PC(o),o=o.sibling}function PC(o){switch(o.tag){case 0:case 11:case 15:cd(o),o.flags&2048&&Pa(9,o,o.return);break;case 3:cd(o);break;case 12:cd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,tg(o)):cd(o);break;default:cd(o)}}function tg(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];Wn=m,jC(m,o)}IC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Pa(8,c,c.return),tg(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,tg(c));break;default:tg(c)}o=o.sibling}}function jC(o,c){for(;Wn!==null;){var f=Wn;switch(f.tag){case 0:case 11:case 15:Pa(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Wu(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Wn=m;else e:for(f=o;Wn!==null;){m=Wn;var y=m.sibling,S=m.return;if(CC(m),m===f){Wn=null;break e}if(y!==null){y.return=S,Wn=y;break e}Wn=S}}}var xz={getCacheForType:function(o){var c=nr(Cn),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return nr(Cn).controller.signal}},Ez=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Bt=null,at=null,ct=0,Dt=0,Zr=null,ja=!1,vc=!1,ub=!1,Gs=0,pn=0,La=0,Qo=0,db=0,Jr=0,yc=0,ud=null,Pr=null,fb=!1,ng=0,LC=0,rg=1/0,ig=null,Fa=null,jn=0,Ua=null,bc=null,Ys=0,hb=0,gb=null,FC=null,dd=0,mb=null;function ei(){return(Tt&2)!==0&&ct!==0?ct&-ct:U.T!==null?wb():hi()}function UC(){if(Jr===0)if((ct&536870912)===0||ht){var o=br;br<<=1,(br&3932160)===0&&(br=262144),Jr=o}else Jr=536870912;return o=Qr.current,o!==null&&(o.flags|=32),Jr}function jr(o,c,f){(o===Bt&&(Dt===2||Dt===9)||o.cancelPendingCommit!==null)&&(_c(o,0),za(o,ct,Jr,!1)),yt(o,f),((Tt&2)===0||o!==Bt)&&(o===Bt&&((Tt&2)===0&&(Qo|=f),pn===4&&za(o,ct,Jr,!1)),ds(o))}function zC(o,c,f){if((Tt&6)!==0)throw Error(r(327));var m=!f&&(c&127)===0&&(c&o.expiredLanes)===0||$e(o,c),y=m?Tz(o,c):vb(o,c,!0),S=m;do{if(y===0){vc&&!m&&za(o,c,0,!1);break}else{if(f=o.current.alternate,S&&!Rz(f)){y=vb(o,c,!1),S=!1;continue}if(y===2){if(S=c,o.errorRecoveryDisabledLanes&S)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){c=C;e:{var P=o;y=ud;var q=P.current.memoizedState.isDehydrated;if(q&&(_c(P,C).flags|=256),C=vb(P,C,!1),C!==2){if(ub&&!q){P.errorRecoveryDisabledLanes|=S,Qo|=S,y=4;break e}S=Pr,Pr=y,S!==null&&(Pr===null?Pr=S:Pr.push.apply(Pr,S))}y=C}if(S=!1,y!==2)continue}}if(y===1){_c(o,0),za(o,c,0,!0);break}e:{switch(m=o,S=y,S){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:za(m,c,Jr,!ja);break e;case 2:Pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(y=ng+300-ae(),10<y)){if(za(m,c,Jr,!ja),Te(m,0,!0)!==0)break e;Ys=c,m.timeoutHandle=vT(HC.bind(null,m,f,Pr,ig,fb,c,Jr,Qo,yc,ja,S,"Throttled",-0,0),y);break e}HC(m,f,Pr,ig,fb,c,Jr,Qo,yc,ja,S,null,-0,0)}}break}while(!0);ds(o)}function HC(o,c,f,m,y,S,C,P,q,ie,fe,ve,oe,ce){if(o.timeoutHandle=-1,ve=c.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ns},NC(c,S,ve);var Ae=(S&62914560)===S?ng-ae():(S&4194048)===S?LC-ae():0;if(Ae=cH(ve,Ae),Ae!==null){Ys=S,o.cancelPendingCommit=Ae(KC.bind(null,o,c,S,f,m,y,C,P,q,fe,ve,null,oe,ce)),za(o,S,C,!ie);return}}KC(o,c,S,f,m,y,C,P,q)}function Rz(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var y=f[m],S=y.getSnapshot;y=y.value;try{if(!Yr(S(),y))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function za(o,c,f,m){c&=~db,c&=~Qo,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var y=c;0<y;){var S=31-He(y),C=1<<S;m[S]=-1,y&=~C}f!==0&&Rn(o,f,c)}function sg(){return(Tt&6)===0?(fd(0),!1):!0}function pb(){if(at!==null){if(Dt===0)var o=at.return;else o=at,Ls=Ho=null,ky(o),uc=null,Yu=0,o=at;for(;o!==null;)yC(o.alternate,o),o=o.return;at=null}}function _c(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,qz(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Ys=0,pb(),Bt=o,at=f=Ps(o.current,null),ct=c,Dt=0,Zr=null,ja=!1,vc=$e(o,c),ub=!1,yc=Jr=db=Qo=La=pn=0,Pr=ud=null,fb=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var y=31-He(m),S=1<<y;c|=o[y],m&=~S}return Gs=c,Ch(),f}function BC(o,c){Ye=null,U.H=nd,c===cc||c===Ih?(c=iR(),Dt=3):c===_y?(c=iR(),Dt=4):Dt=c===Yy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Zr=c,at===null&&(pn=1,Yh(o,yi(c,o.current)))}function $C(){var o=Qr.current;return o===null?!0:(ct&4194048)===ct?Si===null:(ct&62914560)===ct||(ct&536870912)!==0?o===Si:!1}function VC(){var o=U.H;return U.H=nd,o===null?nd:o}function qC(){var o=U.A;return U.A=xz,o}function ag(){pn=4,ja||(ct&4194048)!==ct&&Qr.current!==null||(vc=!0),(La&134217727)===0&&(Qo&134217727)===0||Bt===null||za(Bt,ct,Jr,!1)}function vb(o,c,f){var m=Tt;Tt|=2;var y=VC(),S=qC();(Bt!==o||ct!==c)&&(ig=null,_c(o,c)),c=!1;var C=pn;e:do try{if(Dt!==0&&at!==null){var P=at,q=Zr;switch(Dt){case 8:pb(),C=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(c=!0);var ie=Dt;if(Dt=0,Zr=null,wc(o,P,q,ie),f&&vc){C=0;break e}break;default:ie=Dt,Dt=0,Zr=null,wc(o,P,q,ie)}}Cz(),C=pn;break}catch(fe){BC(o,fe)}while(!0);return c&&o.shellSuspendCounter++,Ls=Ho=null,Tt=m,U.H=y,U.A=S,at===null&&(Bt=null,ct=0,Ch()),C}function Cz(){for(;at!==null;)WC(at)}function Tz(o,c){var f=Tt;Tt|=2;var m=VC(),y=qC();Bt!==o||ct!==c?(ig=null,rg=ae()+500,_c(o,c)):vc=$e(o,c);e:do try{if(Dt!==0&&at!==null){c=at;var S=Zr;t:switch(Dt){case 1:Dt=0,Zr=null,wc(o,c,S,1);break;case 2:case 9:if(nR(S)){Dt=0,Zr=null,GC(c);break}c=function(){Dt!==2&&Dt!==9||Bt!==o||(Dt=7),ds(o)},S.then(c,c);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:nR(S)?(Dt=0,Zr=null,GC(c)):(Dt=0,Zr=null,wc(o,c,S,7));break;case 5:var C=null;switch(at.tag){case 26:C=at.memoizedState;case 5:case 27:var P=at;if(C?kT(C):P.stateNode.complete){Dt=0,Zr=null;var q=P.sibling;if(q!==null)at=q;else{var ie=P.return;ie!==null?(at=ie,og(ie)):at=null}break t}}Dt=0,Zr=null,wc(o,c,S,5);break;case 6:Dt=0,Zr=null,wc(o,c,S,6);break;case 8:pb(),pn=6;break e;default:throw Error(r(462))}}Az();break}catch(fe){BC(o,fe)}while(!0);return Ls=Ho=null,U.H=m,U.A=y,Tt=f,at!==null?0:(Bt=null,ct=0,Ch(),pn)}function Az(){for(;at!==null&&!te();)WC(at)}function WC(o){var c=pC(o.alternate,o,Gs);o.memoizedProps=o.pendingProps,c===null?og(o):at=c}function GC(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=uC(f,c,c.pendingProps,c.type,void 0,ct);break;case 11:c=uC(f,c,c.pendingProps,c.type.render,c.ref,ct);break;case 5:ky(c);default:yC(f,c),c=at=qE(c,Gs),c=pC(f,c,Gs)}o.memoizedProps=o.pendingProps,c===null?og(o):at=c}function wc(o,c,f,m){Ls=Ho=null,ky(c),uc=null,Yu=0;var y=c.return;try{if(pz(o,y,c,f,ct)){pn=1,Yh(o,yi(f,o.current)),at=null;return}}catch(S){if(y!==null)throw at=y,S;pn=1,Yh(o,yi(f,o.current)),at=null;return}c.flags&32768?(ht||m===1?o=!0:vc||(ct&536870912)!==0?o=!1:(ja=o=!0,(m===2||m===9||m===3||m===6)&&(m=Qr.current,m!==null&&m.tag===13&&(m.flags|=16384))),YC(c,o)):og(c)}function og(o){var c=o;do{if((c.flags&32768)!==0){YC(c,ja);return}o=c.return;var f=bz(c.alternate,c,Gs);if(f!==null){at=f;return}if(c=c.sibling,c!==null){at=c;return}at=c=o}while(c!==null);pn===0&&(pn=5)}function YC(o,c){do{var f=_z(o.alternate,o);if(f!==null){f.flags&=32767,at=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){at=o;return}at=o=f}while(o!==null);pn=6,at=null}function KC(o,c,f,m,y,S,C,P,q){o.cancelPendingCommit=null;do lg();while(jn!==0);if((Tt&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(S=c.lanes|c.childLanes,S|=sy,Xe(o,f,S,C,P,q),o===Bt&&(at=Bt=null,ct=0),bc=c,Ua=o,Ys=f,hb=S,gb=y,FC=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,kz(Ee,function(){return eT(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=U.T,U.T=null,y=K.p,K.p=2,C=Tt,Tt|=4;try{wz(o,c,f)}finally{Tt=C,K.p=y,U.T=m}}jn=1,QC(),XC(),ZC()}}function QC(){if(jn===1){jn=0;var o=Ua,c=bc,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=U.T,U.T=null;var m=K.p;K.p=2;var y=Tt;Tt|=4;try{DC(c,o);var S=Ob,C=jE(o.containerInfo),P=S.focusedElem,q=S.selectionRange;if(C!==P&&P&&P.ownerDocument&&PE(P.ownerDocument.documentElement,P)){if(q!==null&&ey(P)){var ie=q.start,fe=q.end;if(fe===void 0&&(fe=ie),"selectionStart"in P)P.selectionStart=ie,P.selectionEnd=Math.min(fe,P.value.length);else{var ve=P.ownerDocument||document,oe=ve&&ve.defaultView||window;if(oe.getSelection){var ce=oe.getSelection(),Ae=P.textContent.length,Fe=Math.min(q.start,Ae),Ft=q.end===void 0?Fe:Math.min(q.end,Ae);!ce.extend&&Fe>Ft&&(C=Ft,Ft=Fe,Fe=C);var Z=IE(P,Fe),W=IE(P,Ft);if(Z&&W&&(ce.rangeCount!==1||ce.anchorNode!==Z.node||ce.anchorOffset!==Z.offset||ce.focusNode!==W.node||ce.focusOffset!==W.offset)){var re=ve.createRange();re.setStart(Z.node,Z.offset),ce.removeAllRanges(),Fe>Ft?(ce.addRange(re),ce.extend(W.node,W.offset)):(re.setEnd(W.node,W.offset),ce.addRange(re))}}}}for(ve=[],ce=P;ce=ce.parentNode;)ce.nodeType===1&&ve.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ve.length;P++){var ge=ve[P];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}_g=!!Ab,Ob=Ab=null}finally{Tt=y,K.p=m,U.T=f}}o.current=c,jn=2}}function XC(){if(jn===2){jn=0;var o=Ua,c=bc,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=U.T,U.T=null;var m=K.p;K.p=2;var y=Tt;Tt|=4;try{RC(o,c.alternate,c)}finally{Tt=y,K.p=m,U.T=f}}jn=3}}function ZC(){if(jn===4||jn===3){jn=0,J();var o=Ua,c=bc,f=Ys,m=FC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?jn=5:(jn=0,bc=Ua=null,JC(o,o.pendingLanes));var y=o.pendingLanes;if(y===0&&(Fa=null),Jn(f),c=c.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(it,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=U.T,y=K.p,K.p=2,U.T=null;try{for(var S=o.onRecoverableError,C=0;C<m.length;C++){var P=m[C];S(P.value,{componentStack:P.stack})}}finally{U.T=c,K.p=y}}(Ys&3)!==0&&lg(),ds(o),y=o.pendingLanes,(f&261930)!==0&&(y&42)!==0?o===mb?dd++:(dd=0,mb=o):dd=0,fd(0)}}function JC(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Wu(c)))}function lg(){return QC(),XC(),ZC(),eT()}function eT(){if(jn!==5)return!1;var o=Ua,c=hb;hb=0;var f=Jn(Ys),m=U.T,y=K.p;try{K.p=32>f?32:f,U.T=null,f=gb,gb=null;var S=Ua,C=Ys;if(jn=0,bc=Ua=null,Ys=0,(Tt&6)!==0)throw Error(r(331));var P=Tt;if(Tt|=4,PC(S.current),kC(S,S.current,C,f),Tt=P,fd(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(it,S)}catch{}return!0}finally{K.p=y,U.T=m,JC(o,c)}}function tT(o,c,f){c=yi(f,c),c=Gy(o.stateNode,c,2),o=ka(o,c,2),o!==null&&(yt(o,2),ds(o))}function Mt(o,c,f){if(o.tag===3)tT(o,o,f);else for(;c!==null;){if(c.tag===3){tT(c,o,f);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Fa===null||!Fa.has(m))){o=yi(f,o),f=nC(2),m=ka(c,f,2),m!==null&&(rC(f,m,c,o),yt(m,2),ds(m));break}}c=c.return}}function yb(o,c,f){var m=o.pingCache;if(m===null){m=o.pingCache=new Ez;var y=new Set;m.set(c,y)}else y=m.get(c),y===void 0&&(y=new Set,m.set(c,y));y.has(f)||(ub=!0,y.add(f),o=Oz.bind(null,o,c,f),c.then(o,o))}function Oz(o,c,f){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Bt===o&&(ct&f)===f&&(pn===4||pn===3&&(ct&62914560)===ct&&300>ae()-ng?(Tt&2)===0&&_c(o,0):db|=f,yc===ct&&(yc=0)),ds(o)}function nT(o,c){c===0&&(c=vt()),o=Fo(o,c),o!==null&&(yt(o,c),ds(o))}function Dz(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),nT(o,f)}function Mz(o,c){var f=0;switch(o.tag){case 31:case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(f=y.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),nT(o,f)}function kz(o,c){return F(o,c)}var cg=null,Sc=null,bb=!1,ug=!1,_b=!1,Ha=0;function ds(o){o!==Sc&&o.next===null&&(Sc===null?cg=Sc=o:Sc=Sc.next=o),ug=!0,bb||(bb=!0,Iz())}function fd(o,c){if(!_b&&ug){_b=!0;do for(var f=!1,m=cg;m!==null;){if(o!==0){var y=m.pendingLanes;if(y===0)var S=0;else{var C=m.suspendedLanes,P=m.pingedLanes;S=(1<<31-He(42|o)+1)-1,S&=y&~(C&~P),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,aT(m,S))}else S=ct,S=Te(m,m===Bt?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||$e(m,S)||(f=!0,aT(m,S));m=m.next}while(f);_b=!1}}function Nz(){rT()}function rT(){ug=bb=!1;var o=0;Ha!==0&&Vz()&&(o=Ha);for(var c=ae(),f=null,m=cg;m!==null;){var y=m.next,S=iT(m,c);S===0?(m.next=null,f===null?cg=y:f.next=y,y===null&&(Sc=f)):(f=m,(o!==0||(S&3)!==0)&&(ug=!0)),m=y}jn!==0&&jn!==5||fd(o),Ha!==0&&(Ha=0)}function iT(o,c){for(var f=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var C=31-He(S),P=1<<C,q=y[C];q===-1?((P&f)===0||(P&m)!==0)&&(y[C]=ft(P,c)):q<=c&&(o.expiredLanes|=P),S&=~P}if(c=Bt,f=ct,f=Te(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,f===0||o===c&&(Dt===2||Dt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&X(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||$e(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(m!==null&&X(m),Jn(f)){case 2:case 8:f=xe;break;case 32:f=Ee;break;case 268435456:f=Qe;break;default:f=Ee}return m=sT.bind(null,o),f=F(f,m),o.callbackPriority=c,o.callbackNode=f,c}return m!==null&&m!==null&&X(m),o.callbackPriority=2,o.callbackNode=null,2}function sT(o,c){if(jn!==0&&jn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(lg()&&o.callbackNode!==f)return null;var m=ct;return m=Te(o,o===Bt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(zC(o,m,c),iT(o,ae()),o.callbackNode!=null&&o.callbackNode===f?sT.bind(null,o):null)}function aT(o,c){if(lg())return null;zC(o,c,!0)}function Iz(){Wz(function(){(Tt&6)!==0?F(we,Nz):rT()})}function wb(){if(Ha===0){var o=oc;o===0&&(o=yr,yr<<=1,(yr&261888)===0&&(yr=256)),Ha=o}return Ha}function oT(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:yh(""+o)}function lT(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function Pz(o,c,f,m,y){if(c==="submit"&&f&&f.stateNode===y){var S=oT((y[Dr]||null).action),C=m.submitter;C&&(c=(c=C[Dr]||null)?oT(c.formAction):C.getAttribute("formAction"),c!==null&&(S=c,C=null));var P=new Sh("action","action",null,m,y);o.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ha!==0){var q=C?lT(y,C):new FormData(y);Hy(f,{pending:!0,data:q,method:y.method,action:S},null,q)}}else typeof S=="function"&&(P.preventDefault(),q=C?lT(y,C):new FormData(y),Hy(f,{pending:!0,data:q,method:y.method,action:S},S,q))},currentTarget:y}]})}}for(var Sb=0;Sb<iy.length;Sb++){var xb=iy[Sb],jz=xb.toLowerCase(),Lz=xb[0].toUpperCase()+xb.slice(1);Hi(jz,"on"+Lz)}Hi(UE,"onAnimationEnd"),Hi(zE,"onAnimationIteration"),Hi(HE,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(JU,"onTransitionRun"),Hi(ez,"onTransitionStart"),Hi(tz,"onTransitionCancel"),Hi(BE,"onTransitionEnd"),Gl("onMouseEnter",["mouseout","mouseover"]),Gl("onMouseLeave",["mouseout","mouseover"]),Gl("onPointerEnter",["pointerout","pointerover"]),Gl("onPointerLeave",["pointerout","pointerover"]),Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Io("onBeforeInput",["compositionend","keypress","textInput","paste"]),Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hd));function cT(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],y=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var C=m.length-1;0<=C;C--){var P=m[C],q=P.instance,ie=P.currentTarget;if(P=P.listener,q!==S&&y.isPropagationStopped())break e;S=P,y.currentTarget=ie;try{S(y)}catch(fe){Rh(fe)}y.currentTarget=null,S=q}else for(C=0;C<m.length;C++){if(P=m[C],q=P.instance,ie=P.currentTarget,P=P.listener,q!==S&&y.isPropagationStopped())break e;S=P,y.currentTarget=ie;try{S(y)}catch(fe){Rh(fe)}y.currentTarget=null,S=q}}}}function ot(o,c){var f=c[jv];f===void 0&&(f=c[jv]=new Set);var m=o+"__bubble";f.has(m)||(uT(c,o,2,!1),f.add(m))}function Eb(o,c,f){var m=0;c&&(m|=4),uT(f,o,m,c)}var dg="_reactListening"+Math.random().toString(36).slice(2);function Rb(o){if(!o[dg]){o[dg]=!0,rE.forEach(function(f){f!=="selectionchange"&&(Fz.has(f)||Eb(f,!1,o),Eb(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[dg]||(c[dg]=!0,Eb("selectionchange",!1,c))}}function uT(o,c,f,m){switch(UT(c)){case 2:var y=fH;break;case 8:y=hH;break;default:y=zb}f=y.bind(null,c,f,o),y=void 0,!qv||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(c,f,{capture:!0,passive:y}):o.addEventListener(c,f,!0):y!==void 0?o.addEventListener(c,f,{passive:y}):o.addEventListener(c,f,!1)}function Cb(o,c,f,m,y){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var P=m.stateNode.containerInfo;if(P===y)break;if(C===4)for(C=m.return;C!==null;){var q=C.tag;if((q===3||q===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;P!==null;){if(C=Vl(P),C===null)return;if(q=C.tag,q===5||q===6||q===26||q===27){m=S=C;continue e}P=P.parentNode}}m=m.return}mE(function(){var ie=S,fe=$v(f),ve=[];e:{var oe=$E.get(o);if(oe!==void 0){var ce=Sh,Ae=o;switch(o){case"keypress":if(_h(f)===0)break e;case"keydown":case"keyup":ce=MU;break;case"focusin":Ae="focus",ce=Kv;break;case"focusout":Ae="blur",ce=Kv;break;case"beforeblur":case"afterblur":ce=Kv;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=yE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=bU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=IU;break;case UE:case zE:case HE:ce=SU;break;case BE:ce=jU;break;case"scroll":case"scrollend":ce=vU;break;case"wheel":ce=FU;break;case"copy":case"cut":case"paste":ce=EU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=_E;break;case"toggle":case"beforetoggle":ce=zU}var Fe=(c&4)!==0,Ft=!Fe&&(o==="scroll"||o==="scrollend"),Z=Fe?oe!==null?oe+"Capture":null:oe;Fe=[];for(var W=ie,re;W!==null;){var ge=W;if(re=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||re===null||Z===null||(ge=Pu(W,Z),ge!=null&&Fe.push(gd(W,ge,re))),Ft)break;W=W.return}0<Fe.length&&(oe=new ce(oe,Ae,null,f,fe),ve.push({event:oe,listeners:Fe}))}}if((c&7)===0){e:{if(oe=o==="mouseover"||o==="pointerover",ce=o==="mouseout"||o==="pointerout",oe&&f!==Bv&&(Ae=f.relatedTarget||f.fromElement)&&(Vl(Ae)||Ae[$l]))break e;if((ce||oe)&&(oe=fe.window===fe?fe:(oe=fe.ownerDocument)?oe.defaultView||oe.parentWindow:window,ce?(Ae=f.relatedTarget||f.toElement,ce=ie,Ae=Ae?Vl(Ae):null,Ae!==null&&(Ft=s(Ae),Fe=Ae.tag,Ae!==Ft||Fe!==5&&Fe!==27&&Fe!==6)&&(Ae=null)):(ce=null,Ae=ie),ce!==Ae)){if(Fe=yE,ge="onMouseLeave",Z="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Fe=_E,ge="onPointerLeave",Z="onPointerEnter",W="pointer"),Ft=ce==null?oe:Iu(ce),re=Ae==null?oe:Iu(Ae),oe=new Fe(ge,W+"leave",ce,f,fe),oe.target=Ft,oe.relatedTarget=re,ge=null,Vl(fe)===ie&&(Fe=new Fe(Z,W+"enter",Ae,f,fe),Fe.target=re,Fe.relatedTarget=Ft,ge=Fe),Ft=ge,ce&&Ae)t:{for(Fe=Uz,Z=ce,W=Ae,re=0,ge=Z;ge;ge=Fe(ge))re++;ge=0;for(var Ie=W;Ie;Ie=Fe(Ie))ge++;for(;0<re-ge;)Z=Fe(Z),re--;for(;0<ge-re;)W=Fe(W),ge--;for(;re--;){if(Z===W||W!==null&&Z===W.alternate){Fe=Z;break t}Z=Fe(Z),W=Fe(W)}Fe=null}else Fe=null;ce!==null&&dT(ve,oe,ce,Fe,!1),Ae!==null&&Ft!==null&&dT(ve,Ft,Ae,Fe,!0)}}e:{if(oe=ie?Iu(ie):window,ce=oe.nodeName&&oe.nodeName.toLowerCase(),ce==="select"||ce==="input"&&oe.type==="file")var Et=AE;else if(CE(oe))if(OE)Et=QU;else{Et=YU;var De=GU}else ce=oe.nodeName,!ce||ce.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&Hv(ie.elementType)&&(Et=AE):Et=KU;if(Et&&(Et=Et(o,ie))){TE(ve,Et,f,fe);break e}De&&De(o,oe,ie),o==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&zv(oe,"number",oe.value)}switch(De=ie?Iu(ie):window,o){case"focusin":(CE(De)||De.contentEditable==="true")&&(Jl=De,ty=ie,$u=null);break;case"focusout":$u=ty=Jl=null;break;case"mousedown":ny=!0;break;case"contextmenu":case"mouseup":case"dragend":ny=!1,LE(ve,f,fe);break;case"selectionchange":if(ZU)break;case"keydown":case"keyup":LE(ve,f,fe)}var Ze;if(Xv)e:{switch(o){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Zl?EE(o,f)&&(ut="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(ut="onCompositionStart");ut&&(wE&&f.locale!=="ko"&&(Zl||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Zl&&(Ze=pE()):(Ra=fe,Wv="value"in Ra?Ra.value:Ra.textContent,Zl=!0)),De=fg(ie,ut),0<De.length&&(ut=new bE(ut,o,null,f,fe),ve.push({event:ut,listeners:De}),Ze?ut.data=Ze:(Ze=RE(f),Ze!==null&&(ut.data=Ze)))),(Ze=BU?$U(o,f):VU(o,f))&&(ut=fg(ie,"onBeforeInput"),0<ut.length&&(De=new bE("onBeforeInput","beforeinput",null,f,fe),ve.push({event:De,listeners:ut}),De.data=Ze)),Pz(ve,o,ie,f,fe)}cT(ve,c)})}function gd(o,c,f){return{instance:o,listener:c,currentTarget:f}}function fg(o,c){for(var f=c+"Capture",m=[];o!==null;){var y=o,S=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=Pu(o,f),y!=null&&m.unshift(gd(o,y,S)),y=Pu(o,c),y!=null&&m.push(gd(o,y,S))),o.tag===3)return m;o=o.return}return[]}function Uz(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function dT(o,c,f,m,y){for(var S=c._reactName,C=[];f!==null&&f!==m;){var P=f,q=P.alternate,ie=P.stateNode;if(P=P.tag,q!==null&&q===m)break;P!==5&&P!==26&&P!==27||ie===null||(q=ie,y?(ie=Pu(f,S),ie!=null&&C.unshift(gd(f,ie,q))):y||(ie=Pu(f,S),ie!=null&&C.push(gd(f,ie,q)))),f=f.return}C.length!==0&&o.push({event:c,listeners:C})}var zz=/\r\n?/g,Hz=/\u0000|\uFFFD/g;function fT(o){return(typeof o=="string"?o:""+o).replace(zz,`
`).replace(Hz,"")}function hT(o,c){return c=fT(c),fT(o)===c}function Lt(o,c,f,m,y,S){switch(f){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Kl(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Kl(o,""+m);break;case"className":ph(o,"class",m);break;case"tabIndex":ph(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ph(o,f,m);break;case"style":hE(o,m,S);break;case"data":if(c!=="object"){ph(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=yh(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(c!=="input"&&Lt(o,c,"name",y.name,y,null),Lt(o,c,"formEncType",y.formEncType,y,null),Lt(o,c,"formMethod",y.formMethod,y,null),Lt(o,c,"formTarget",y.formTarget,y,null)):(Lt(o,c,"encType",y.encType,y,null),Lt(o,c,"method",y.method,y,null),Lt(o,c,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=yh(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=Ns);break;case"onScroll":m!=null&&ot("scroll",o);break;case"onScrollEnd":m!=null&&ot("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=yh(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":ot("beforetoggle",o),ot("toggle",o),mh(o,"popover",m);break;case"xlinkActuate":ks(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ks(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ks(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ks(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ks(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ks(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ks(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ks(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ks(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":mh(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=mU.get(f)||f,mh(o,f,m))}}function Tb(o,c,f,m,y,S){switch(f){case"style":hE(o,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof m=="string"?Kl(o,m):(typeof m=="number"||typeof m=="bigint")&&Kl(o,""+m);break;case"onScroll":m!=null&&ot("scroll",o);break;case"onScrollEnd":m!=null&&ot("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Ns);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iE.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),c=f.slice(2,y?f.length-7:void 0),S=o[Dr]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(c,S,y),typeof m=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,m,y);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):mh(o,f,m)}}}function ir(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",o),ot("load",o);var m=!1,y=!1,S;for(S in f)if(f.hasOwnProperty(S)){var C=f[S];if(C!=null)switch(S){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Lt(o,c,S,C,f,null)}}y&&Lt(o,c,"srcSet",f.srcSet,f,null),m&&Lt(o,c,"src",f.src,f,null);return;case"input":ot("invalid",o);var P=S=C=y=null,q=null,ie=null;for(m in f)if(f.hasOwnProperty(m)){var fe=f[m];if(fe!=null)switch(m){case"name":y=fe;break;case"type":C=fe;break;case"checked":q=fe;break;case"defaultChecked":ie=fe;break;case"value":S=fe;break;case"defaultValue":P=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,c));break;default:Lt(o,c,m,fe,f,null)}}cE(o,S,P,q,ie,C,y,!1);return;case"select":ot("invalid",o),m=C=S=null;for(y in f)if(f.hasOwnProperty(y)&&(P=f[y],P!=null))switch(y){case"value":S=P;break;case"defaultValue":C=P;break;case"multiple":m=P;default:Lt(o,c,y,P,f,null)}c=S,f=C,o.multiple=!!m,c!=null?Yl(o,!!m,c,!1):f!=null&&Yl(o,!!m,f,!0);return;case"textarea":ot("invalid",o),S=y=m=null;for(C in f)if(f.hasOwnProperty(C)&&(P=f[C],P!=null))switch(C){case"value":m=P;break;case"defaultValue":y=P;break;case"children":S=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Lt(o,c,C,P,f,null)}dE(o,m,y,S);return;case"option":for(q in f)if(f.hasOwnProperty(q)&&(m=f[q],m!=null))switch(q){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Lt(o,c,q,m,f,null)}return;case"dialog":ot("beforetoggle",o),ot("toggle",o),ot("cancel",o),ot("close",o);break;case"iframe":case"object":ot("load",o);break;case"video":case"audio":for(m=0;m<hd.length;m++)ot(hd[m],o);break;case"image":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"embed":case"source":case"link":ot("error",o),ot("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in f)if(f.hasOwnProperty(ie)&&(m=f[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Lt(o,c,ie,m,f,null)}return;default:if(Hv(c)){for(fe in f)f.hasOwnProperty(fe)&&(m=f[fe],m!==void 0&&Tb(o,c,fe,m,f,void 0));return}}for(P in f)f.hasOwnProperty(P)&&(m=f[P],m!=null&&Lt(o,c,P,m,f,null))}function Bz(o,c,f,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,C=null,P=null,q=null,ie=null,fe=null;for(ce in f){var ve=f[ce];if(f.hasOwnProperty(ce)&&ve!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":q=ve;default:m.hasOwnProperty(ce)||Lt(o,c,ce,null,m,ve)}}for(var oe in m){var ce=m[oe];if(ve=f[oe],m.hasOwnProperty(oe)&&(ce!=null||ve!=null))switch(oe){case"type":S=ce;break;case"name":y=ce;break;case"checked":ie=ce;break;case"defaultChecked":fe=ce;break;case"value":C=ce;break;case"defaultValue":P=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,c));break;default:ce!==ve&&Lt(o,c,oe,ce,m,ve)}}Uv(o,C,P,q,ie,fe,S,y);return;case"select":ce=C=P=oe=null;for(S in f)if(q=f[S],f.hasOwnProperty(S)&&q!=null)switch(S){case"value":break;case"multiple":ce=q;default:m.hasOwnProperty(S)||Lt(o,c,S,null,m,q)}for(y in m)if(S=m[y],q=f[y],m.hasOwnProperty(y)&&(S!=null||q!=null))switch(y){case"value":oe=S;break;case"defaultValue":P=S;break;case"multiple":C=S;default:S!==q&&Lt(o,c,y,S,m,q)}c=P,f=C,m=ce,oe!=null?Yl(o,!!f,oe,!1):!!m!=!!f&&(c!=null?Yl(o,!!f,c,!0):Yl(o,!!f,f?[]:"",!1));return;case"textarea":ce=oe=null;for(P in f)if(y=f[P],f.hasOwnProperty(P)&&y!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Lt(o,c,P,null,m,y)}for(C in m)if(y=m[C],S=f[C],m.hasOwnProperty(C)&&(y!=null||S!=null))switch(C){case"value":oe=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==S&&Lt(o,c,C,y,m,S)}uE(o,oe,ce);return;case"option":for(var Ae in f)if(oe=f[Ae],f.hasOwnProperty(Ae)&&oe!=null&&!m.hasOwnProperty(Ae))switch(Ae){case"selected":o.selected=!1;break;default:Lt(o,c,Ae,null,m,oe)}for(q in m)if(oe=m[q],ce=f[q],m.hasOwnProperty(q)&&oe!==ce&&(oe!=null||ce!=null))switch(q){case"selected":o.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Lt(o,c,q,oe,m,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in f)oe=f[Fe],f.hasOwnProperty(Fe)&&oe!=null&&!m.hasOwnProperty(Fe)&&Lt(o,c,Fe,null,m,oe);for(ie in m)if(oe=m[ie],ce=f[ie],m.hasOwnProperty(ie)&&oe!==ce&&(oe!=null||ce!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,c));break;default:Lt(o,c,ie,oe,m,ce)}return;default:if(Hv(c)){for(var Ft in f)oe=f[Ft],f.hasOwnProperty(Ft)&&oe!==void 0&&!m.hasOwnProperty(Ft)&&Tb(o,c,Ft,void 0,m,oe);for(fe in m)oe=m[fe],ce=f[fe],!m.hasOwnProperty(fe)||oe===ce||oe===void 0&&ce===void 0||Tb(o,c,fe,oe,m,ce);return}}for(var Z in f)oe=f[Z],f.hasOwnProperty(Z)&&oe!=null&&!m.hasOwnProperty(Z)&&Lt(o,c,Z,null,m,oe);for(ve in m)oe=m[ve],ce=f[ve],!m.hasOwnProperty(ve)||oe===ce||oe==null&&ce==null||Lt(o,c,ve,oe,m,ce)}function gT(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $z(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var y=f[m],S=y.transferSize,C=y.initiatorType,P=y.duration;if(S&&P&&gT(C)){for(C=0,P=y.responseEnd,m+=1;m<f.length;m++){var q=f[m],ie=q.startTime;if(ie>P)break;var fe=q.transferSize,ve=q.initiatorType;fe&&gT(ve)&&(q=q.responseEnd,C+=fe*(q<P?1:(P-ie)/(q-ie)))}if(--m,c+=8*(S+C)/(y.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Ab=null,Ob=null;function hg(o){return o.nodeType===9?o:o.ownerDocument}function mT(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pT(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Db(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Mb=null;function Vz(){var o=window.event;return o&&o.type==="popstate"?o===Mb?!1:(Mb=o,!0):(Mb=null,!1)}var vT=typeof setTimeout=="function"?setTimeout:void 0,qz=typeof clearTimeout=="function"?clearTimeout:void 0,yT=typeof Promise=="function"?Promise:void 0,Wz=typeof queueMicrotask=="function"?queueMicrotask:typeof yT<"u"?function(o){return yT.resolve(null).then(o).catch(Gz)}:vT;function Gz(o){setTimeout(function(){throw o})}function Ba(o){return o==="head"}function bT(o,c){var f=c,m=0;do{var y=f.nextSibling;if(o.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"||f==="/&"){if(m===0){o.removeChild(y),Cc(c);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")md(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,md(f);for(var S=f.firstChild;S;){var C=S.nextSibling,P=S.nodeName;S[Nu]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=C}}else f==="body"&&md(o.ownerDocument.body);f=y}while(f);Cc(c)}function _T(o,c){var f=o;o=0;do{var m=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=m}while(f)}function kb(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":kb(f),Lv(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function Yz(o,c,f,m){for(;o.nodeType===1;){var y=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Nu])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==y.rel||o.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||o.getAttribute("title")!==(y.title==null?null:y.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(y.src==null?null:y.src)||o.getAttribute("type")!==(y.type==null?null:y.type)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=xi(o.nextSibling),o===null)break}return null}function Kz(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=xi(o.nextSibling),o===null))return null;return o}function wT(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=xi(o.nextSibling),o===null))return null;return o}function Nb(o){return o.data==="$?"||o.data==="$~"}function Ib(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function Qz(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var m=function(){c(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function xi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Pb=null;function ST(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return xi(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function xT(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function ET(o,c,f){switch(c=hg(f),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function md(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Lv(o)}var Ei=new Map,RT=new Set;function gg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ks=K.d;K.d={f:Xz,r:Zz,D:Jz,C:eH,L:tH,m:nH,X:iH,S:rH,M:sH};function Xz(){var o=Ks.f(),c=sg();return o||c}function Zz(o){var c=ql(o);c!==null&&c.tag===5&&c.type==="form"?BR(c):Ks.r(o)}var xc=typeof document>"u"?null:document;function CT(o,c,f){var m=xc;if(m&&typeof c=="string"&&c){var y=pi(c);y='link[rel="'+o+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),RT.has(y)||(RT.add(y),o={rel:o,crossOrigin:f,href:c},m.querySelector(y)===null&&(c=m.createElement("link"),ir(c,"link",o),qn(c),m.head.appendChild(c)))}}function Jz(o){Ks.D(o),CT("dns-prefetch",o,null)}function eH(o,c){Ks.C(o,c),CT("preconnect",o,c)}function tH(o,c,f){Ks.L(o,c,f);var m=xc;if(m&&o&&c){var y='link[rel="preload"][as="'+pi(c)+'"]';c==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+pi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+pi(f.imageSizes)+'"]')):y+='[href="'+pi(o)+'"]';var S=y;switch(c){case"style":S=Ec(o);break;case"script":S=Rc(o)}Ei.has(S)||(o=g({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),Ei.set(S,o),m.querySelector(y)!==null||c==="style"&&m.querySelector(pd(S))||c==="script"&&m.querySelector(vd(S))||(c=m.createElement("link"),ir(c,"link",o),qn(c),m.head.appendChild(c)))}}function nH(o,c){Ks.m(o,c);var f=xc;if(f&&o){var m=c&&typeof c.as=="string"?c.as:"script",y='link[rel="modulepreload"][as="'+pi(m)+'"][href="'+pi(o)+'"]',S=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Rc(o)}if(!Ei.has(S)&&(o=g({rel:"modulepreload",href:o},c),Ei.set(S,o),f.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(vd(S)))return}m=f.createElement("link"),ir(m,"link",o),qn(m),f.head.appendChild(m)}}}function rH(o,c,f){Ks.S(o,c,f);var m=xc;if(m&&o){var y=Wl(m).hoistableStyles,S=Ec(o);c=c||"default";var C=y.get(S);if(!C){var P={loading:0,preload:null};if(C=m.querySelector(pd(S)))P.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},f),(f=Ei.get(S))&&jb(o,f);var q=C=m.createElement("link");qn(q),ir(q,"link",o),q._p=new Promise(function(ie,fe){q.onload=ie,q.onerror=fe}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,mg(C,c,m)}C={type:"stylesheet",instance:C,count:1,state:P},y.set(S,C)}}}function iH(o,c){Ks.X(o,c);var f=xc;if(f&&o){var m=Wl(f).hoistableScripts,y=Rc(o),S=m.get(y);S||(S=f.querySelector(vd(y)),S||(o=g({src:o,async:!0},c),(c=Ei.get(y))&&Lb(o,c),S=f.createElement("script"),qn(S),ir(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(y,S))}}function sH(o,c){Ks.M(o,c);var f=xc;if(f&&o){var m=Wl(f).hoistableScripts,y=Rc(o),S=m.get(y);S||(S=f.querySelector(vd(y)),S||(o=g({src:o,async:!0,type:"module"},c),(c=Ei.get(y))&&Lb(o,c),S=f.createElement("script"),qn(S),ir(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(y,S))}}function TT(o,c,f,m){var y=(y=pe.current)?gg(y):null;if(!y)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Ec(f.href),f=Wl(y).hoistableStyles,m=f.get(c),m||(m={type:"style",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Ec(f.href);var S=Wl(y).hoistableStyles,C=S.get(o);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,C),(S=y.querySelector(pd(o)))&&!S._p&&(C.instance=S,C.state.loading=5),Ei.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ei.set(o,f),S||aH(y,o,f,C.state))),c&&m===null)throw Error(r(528,""));return C}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Rc(f),f=Wl(y).hoistableScripts,m=f.get(c),m||(m={type:"script",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Ec(o){return'href="'+pi(o)+'"'}function pd(o){return'link[rel="stylesheet"]['+o+"]"}function AT(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function aH(o,c,f,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),ir(c,"link",f),qn(c),o.head.appendChild(c))}function Rc(o){return'[src="'+pi(o)+'"]'}function vd(o){return"script[async]"+o}function OT(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+pi(f.href)+'"]');if(m)return c.instance=m,qn(m),m;var y=g({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),qn(m),ir(m,"style",y),mg(m,f.precedence,o),c.instance=m;case"stylesheet":y=Ec(f.href);var S=o.querySelector(pd(y));if(S)return c.state.loading|=4,c.instance=S,qn(S),S;m=AT(f),(y=Ei.get(y))&&jb(m,y),S=(o.ownerDocument||o).createElement("link"),qn(S);var C=S;return C._p=new Promise(function(P,q){C.onload=P,C.onerror=q}),ir(S,"link",m),c.state.loading|=4,mg(S,f.precedence,o),c.instance=S;case"script":return S=Rc(f.src),(y=o.querySelector(vd(S)))?(c.instance=y,qn(y),y):(m=f,(y=Ei.get(S))&&(m=g({},f),Lb(m,y)),o=o.ownerDocument||o,y=o.createElement("script"),qn(y),ir(y,"link",m),o.head.appendChild(y),c.instance=y);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,mg(m,f.precedence,o));return c.instance}function mg(o,c,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,S=y,C=0;C<m.length;C++){var P=m[C];if(P.dataset.precedence===c)S=P;else if(S!==y)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function jb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Lb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var pg=null;function DT(o,c,f){if(pg===null){var m=new Map,y=pg=new Map;y.set(f,m)}else y=pg,m=y.get(f),m||(m=new Map,y.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),y=0;y<f.length;y++){var S=f[y];if(!(S[Nu]||S[er]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var C=S.getAttribute(c)||"";C=o+C;var P=m.get(C);P?P.push(S):m.set(C,[S])}}return m}function MT(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function oH(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function kT(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function lH(o,c,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var y=Ec(m.href),S=c.querySelector(pd(y));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=vg.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=S,qn(S);return}S=c.ownerDocument||c,m=AT(m),(y=Ei.get(y))&&jb(m,y),S=S.createElement("link"),qn(S);var C=S;C._p=new Promise(function(P,q){C.onload=P,C.onerror=q}),ir(S,"link",m),f.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=vg.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var Fb=0;function cH(o,c){return o.stylesheets&&o.count===0&&bg(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var m=setTimeout(function(){if(o.stylesheets&&bg(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+c);0<o.imgBytes&&Fb===0&&(Fb=62500*$z());var y=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&bg(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>Fb?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function vg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var yg=null;function bg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,yg=new Map,c.forEach(uH,o),yg=null,vg.call(o))}function uH(o,c){if(!(c.state.loading&4)){var f=yg.get(o);if(f)var m=f.get(null);else{f=new Map,yg.set(o,f);for(var y=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var C=y[S];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(f.set(C.dataset.precedence,C),m=C)}m&&f.set(null,m)}y=c.instance,C=y.getAttribute("data-precedence"),S=f.get(C)||m,S===m&&f.set(null,y),f.set(C,y),this.count++,m=vg.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),S?S.parentNode.insertBefore(y,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(y,o.firstChild)),c.state.loading|=4}}var yd={$$typeof:R,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function dH(o,c,f,m,y,S,C,P,q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gn(0),this.hiddenUpdates=gn(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function NT(o,c,f,m,y,S,C,P,q,ie,fe,ve){return o=new dH(o,c,f,C,q,ie,fe,ve,P),c=1,S===!0&&(c|=24),S=Kr(3,null,null,c),o.current=S,S.stateNode=o,c=vy(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:c},wy(S),o}function IT(o){return o?(o=nc,o):nc}function PT(o,c,f,m,y,S){y=IT(y),m.context===null?m.context=y:m.pendingContext=y,m=Ma(c),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=ka(o,m,c),f!==null&&(jr(f,o,c),Qu(f,o,c))}function jT(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Ub(o,c){jT(o,c),(o=o.alternate)&&jT(o,c)}function LT(o){if(o.tag===13||o.tag===31){var c=Fo(o,67108864);c!==null&&jr(c,o,67108864),Ub(o,67108864)}}function FT(o){if(o.tag===13||o.tag===31){var c=ei();c=fi(c);var f=Fo(o,c);f!==null&&jr(f,o,c),Ub(o,c)}}var _g=!0;function fH(o,c,f,m){var y=U.T;U.T=null;var S=K.p;try{K.p=2,zb(o,c,f,m)}finally{K.p=S,U.T=y}}function hH(o,c,f,m){var y=U.T;U.T=null;var S=K.p;try{K.p=8,zb(o,c,f,m)}finally{K.p=S,U.T=y}}function zb(o,c,f,m){if(_g){var y=Hb(m);if(y===null)Cb(o,c,m,wg,f),zT(o,m);else if(mH(y,o,c,f,m))m.stopPropagation();else if(zT(o,m),c&4&&-1<gH.indexOf(o)){for(;y!==null;){var S=ql(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var C=Gt(S.pendingLanes);if(C!==0){var P=S;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var q=1<<31-He(C);P.entanglements[1]|=q,C&=~q}ds(S),(Tt&6)===0&&(rg=ae()+500,fd(0))}}break;case 31:case 13:P=Fo(S,2),P!==null&&jr(P,S,2),sg(),Ub(S,2)}if(S=Hb(m),S===null&&Cb(o,c,m,wg,f),S===y)break;y=S}y!==null&&m.stopPropagation()}else Cb(o,c,m,null,f)}}function Hb(o){return o=$v(o),Bb(o)}var wg=null;function Bb(o){if(wg=null,o=Vl(o),o!==null){var c=s(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=a(c),o!==null)return o;o=null}else if(f===31){if(o=l(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return wg=o,null}function UT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case we:return 2;case xe:return 8;case Ee:case Ne:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var $b=!1,$a=null,Va=null,qa=null,bd=new Map,_d=new Map,Wa=[],gH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zT(o,c){switch(o){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":bd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(c.pointerId)}}function wd(o,c,f,m,y,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[y]},c!==null&&(c=ql(c),c!==null&&LT(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,y!==null&&c.indexOf(y)===-1&&c.push(y),o)}function mH(o,c,f,m,y){switch(c){case"focusin":return $a=wd($a,o,c,f,m,y),!0;case"dragenter":return Va=wd(Va,o,c,f,m,y),!0;case"mouseover":return qa=wd(qa,o,c,f,m,y),!0;case"pointerover":var S=y.pointerId;return bd.set(S,wd(bd.get(S)||null,o,c,f,m,y)),!0;case"gotpointercapture":return S=y.pointerId,_d.set(S,wd(_d.get(S)||null,o,c,f,m,y)),!0}return!1}function HT(o){var c=Vl(o.target);if(c!==null){var f=s(c);if(f!==null){if(c=f.tag,c===13){if(c=a(f),c!==null){o.blockedOn=c,Ea(o.priority,function(){FT(f)});return}}else if(c===31){if(c=l(f),c!==null){o.blockedOn=c,Ea(o.priority,function(){FT(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Sg(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=Hb(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);Bv=m,f.target.dispatchEvent(m),Bv=null}else return c=ql(f),c!==null&&LT(c),o.blockedOn=f,!1;c.shift()}return!0}function BT(o,c,f){Sg(o)&&f.delete(c)}function pH(){$b=!1,$a!==null&&Sg($a)&&($a=null),Va!==null&&Sg(Va)&&(Va=null),qa!==null&&Sg(qa)&&(qa=null),bd.forEach(BT),_d.forEach(BT)}function xg(o,c){o.blockedOn===c&&(o.blockedOn=null,$b||($b=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pH)))}var Eg=null;function $T(o){Eg!==o&&(Eg=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Eg===o&&(Eg=null);for(var c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],y=o[c+2];if(typeof m!="function"){if(Bb(m||f)===null)continue;break}var S=ql(f);S!==null&&(o.splice(c,3),c-=3,Hy(S,{pending:!0,data:y,method:f.method,action:m},m,y))}}))}function Cc(o){function c(q){return xg(q,o)}$a!==null&&xg($a,o),Va!==null&&xg(Va,o),qa!==null&&xg(qa,o),bd.forEach(c),_d.forEach(c);for(var f=0;f<Wa.length;f++){var m=Wa[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Wa.length&&(f=Wa[0],f.blockedOn===null);)HT(f),f.blockedOn===null&&Wa.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var y=f[m],S=f[m+1],C=y[Dr]||null;if(typeof S=="function")C||$T(f);else if(C){var P=null;if(S&&S.hasAttribute("formAction")){if(y=S,C=S[Dr]||null)P=C.formAction;else if(Bb(y)!==null)continue}else P=C.action;typeof P=="function"?f[m+1]=P:(f.splice(m,3),m-=3),$T(f)}}}function VT(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function c(){y!==null&&(y(),y=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),y!==null&&(y(),y=null)}}}function Vb(o){this._internalRoot=o}Rg.prototype.render=Vb.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,m=ei();PT(f,m,o,c,null,null)},Rg.prototype.unmount=Vb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;PT(o.current,2,null,o,null,null),sg(),c[$l]=null}};function Rg(o){this._internalRoot=o}Rg.prototype.unstable_scheduleHydration=function(o){if(o){var c=hi();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Wa.length&&c!==0&&c<Wa[f].priority;f++);Wa.splice(f,0,o),f===0&&HT(o)}};var qT=e.version;if(qT!=="19.2.0")throw Error(r(527,qT,"19.2.0"));K.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var vH={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{it=Cg.inject(vH),Ht=Cg}catch{}}return xd.createRoot=function(o,c){if(!i(o))throw Error(r(299));var f=!1,m="",y=ZR,S=JR,C=eC;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=NT(o,1,!1,null,null,f,m,null,y,S,C,VT),o[$l]=c.current,Rb(o),new Vb(c)},xd.hydrateRoot=function(o,c,f){if(!i(o))throw Error(r(299));var m=!1,y="",S=ZR,C=JR,P=eC,q=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(P=f.onRecoverableError),f.formState!==void 0&&(q=f.formState)),c=NT(o,1,!0,c,f??null,m,y,q,S,C,P,VT),c.context=IT(null),f=c.current,m=ei(),m=fi(m),y=Ma(m),y.callback=null,ka(f,y,m),f=m,c.current.lanes=f,yt(c,f),ds(c),o[$l]=c.current,Rb(o),new Rg(c)},xd.version="19.2.0",xd}var tA;function TH(){if(tA)return Gb.exports;tA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gb.exports=CH(),Gb.exports}var AH=TH();const OH=Co(AH);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nA="popstate";function DH(t={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return R_("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pf(i)}return kH(e,n,null,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ji(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MH(){return Math.random().toString(36).substring(2,10)}function rA(t,e){return{usr:t.state,key:t.key,idx:e}}function R_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vu(e):e,state:n,key:e&&e.key||r||MH()}}function pf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function kH(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",u=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function g(){l="POP";let w=h(),x=w==null?null:w-d;d=w,u&&u({action:l,location:b.location,delta:x})}function p(w,x){l="PUSH";let E=R_(b.location,w,x);d=h()+1;let R=rA(E,d),O=b.createHref(E);try{a.pushState(R,"",O)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(O)}s&&u&&u({action:l,location:b.location,delta:1})}function v(w,x){l="REPLACE";let E=R_(b.location,w,x);d=h();let R=rA(E,d),O=b.createHref(E);a.replaceState(R,"",O),s&&u&&u({action:l,location:b.location,delta:0})}function _(w){return NH(w)}let b={get action(){return l},get location(){return t(i,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(nA,g),u=w,()=>{i.removeEventListener(nA,g),u=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let x=_(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:v,go(w){return a.go(w)}};return b}function NH(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:pf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Nk(t,e,n="/"){return IH(t,e,n,!1)}function IH(t,e,n,r){let i=typeof e=="string"?vu(e):e,s=ma(i.pathname||"/",n);if(s==null)return null;let a=Ik(t);PH(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=WH(s);l=VH(a[u],d,r)}return l}function Ik(t,e=[],n=[],r="",i=!1){let s=(a,l,u=i,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;ln(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let g=da([r,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(ln(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Ik(a.children,e,p,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:BH(g,a.index),routesMeta:p})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of Pk(a.path))s(a,l,!0,u)}),e}function Pk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Pk(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function PH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$H(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jH=/^:[\w-]+$/,LH=3,FH=2,UH=1,zH=10,HH=-2,iA=t=>t==="*";function BH(t,e){let n=t.split("/"),r=n.length;return n.some(iA)&&(r+=HH),e&&(r+=FH),n.filter(i=>!iA(i)).reduce((i,s)=>i+(jH.test(s)?LH:s===""?UH:zH),r)}function $H(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function VH(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",g=$m({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=$m({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:da([s,g.pathname]),pathnameBase:QH(da([s,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(s=da([s,g.pathnameBase]))}return a}function $m(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:g},p)=>{if(h==="*"){let _=l[p]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=l[p];return g&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function qH(t,e=!1,n=!0){Ji(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ji(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ma(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GH(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vu(t):t;return{pathname:n?n.startsWith("/")?n:YH(n,e):e,search:XH(r),hash:ZH(i)}}function YH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xw(t){let e=KH(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Zw(t,e,n,r=!1){let i;typeof t=="string"?i=vu(t):(i={...t},ln(!i.pathname||!i.pathname.includes("?"),Xb("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),Xb("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),Xb("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),g-=1;i.pathname=p.join("/")}l=g>=0?e[g]:"/"}let u=GH(i,l),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var da=t=>t.join("/").replace(/\/\/+/g,"/"),QH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jk=["POST","PUT","PATCH","DELETE"];new Set(jk);var eB=["GET",...jk];new Set(eB);var yu=N.createContext(null);yu.displayName="DataRouter";var Fp=N.createContext(null);Fp.displayName="DataRouterState";N.createContext(!1);var Lk=N.createContext({isTransitioning:!1});Lk.displayName="ViewTransition";var tB=N.createContext(new Map);tB.displayName="Fetchers";var nB=N.createContext(null);nB.displayName="Await";var as=N.createContext(null);as.displayName="Navigation";var Wf=N.createContext(null);Wf.displayName="Location";var zi=N.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var Jw=N.createContext(null);Jw.displayName="RouteError";function rB(t,{relative:e}={}){ln(bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(as),{hash:i,pathname:s,search:a}=Gf(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:da([n,s])),r.createHref({pathname:l,search:a,hash:i})}function bu(){return N.useContext(Wf)!=null}function wa(){return ln(bu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Wf).location}var Fk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uk(t){N.useContext(as).static||N.useLayoutEffect(t)}function As(){let{isDataRoute:t}=N.useContext(zi);return t?yB():iB()}function iB(){ln(bu(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(yu),{basename:e,navigator:n}=N.useContext(as),{matches:r}=N.useContext(zi),{pathname:i}=wa(),s=JSON.stringify(Xw(r)),a=N.useRef(!1);return Uk(()=>{a.current=!0}),N.useCallback((u,d={})=>{if(Ji(a.current,Fk),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=Zw(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:da([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}var sB=N.createContext(null);function aB(t){let e=N.useContext(zi).outlet;return N.useMemo(()=>e&&N.createElement(sB.Provider,{value:t},e),[e,t])}function Up(){let{matches:t}=N.useContext(zi),e=t[t.length-1];return e?e.params:{}}function Gf(t,{relative:e}={}){let{matches:n}=N.useContext(zi),{pathname:r}=wa(),i=JSON.stringify(Xw(n));return N.useMemo(()=>Zw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function oB(t,e){return zk(t,e)}function zk(t,e,n,r,i){ln(bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(as),{matches:a}=N.useContext(zi),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let E=g&&g.path||"";Hk(d,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=wa(),v;if(e){let E=typeof e=="string"?vu(e):e;ln(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=p;let _=v.pathname||"/",b=_;if(h!=="/"){let E=h.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=Nk(t,{pathname:b});Ji(g||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ji(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=fB(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:da([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:da([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),a,n,r,i);return e&&x?N.createElement(Wf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function lB(){let t=vB(),e=JH(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,a)}var cB=N.createElement(lB,null),uB=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(zi.Provider,{value:this.props.routeContext},N.createElement(Jw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dB({routeContext:t,match:e,children:n}){let r=N.useContext(yu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(zi.Provider,{value:t},n)}function fB(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);ln(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:p}=n,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,g)=>{let p,v=!1,_=null,b=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||cB,l&&(u<0&&g===0?(Hk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):u===g&&(v=!0,b=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,g+1)),x=()=>{let E;return p?E=_:v?E=b:h.route.Component?E=N.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,N.createElement(dB,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?N.createElement(uB,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):x()},null)}function eS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hB(t){let e=N.useContext(yu);return ln(e,eS(t)),e}function gB(t){let e=N.useContext(Fp);return ln(e,eS(t)),e}function mB(t){let e=N.useContext(zi);return ln(e,eS(t)),e}function tS(t){let e=mB(t),n=e.matches[e.matches.length-1];return ln(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pB(){return tS("useRouteId")}function vB(){let t=N.useContext(Jw),e=gB("useRouteError"),n=tS("useRouteError");return t!==void 0?t:e.errors?.[n]}function yB(){let{router:t}=hB("useNavigate"),e=tS("useNavigate"),n=N.useRef(!1);return Uk(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{Ji(n.current,Fk),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var sA={};function Hk(t,e,n){!e&&!sA[t]&&(sA[t]=!0,Ji(!1,n))}N.memo(bB);function bB({routes:t,future:e,state:n,unstable_onError:r}){return zk(t,void 0,n,r,e)}function Bk({to:t,replace:e,state:n,relative:r}){ln(bu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(as);Ji(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(zi),{pathname:a}=wa(),l=As(),u=Zw(t,Xw(s),a,r==="path"),d=JSON.stringify(u);return N.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function $k(t){return aB(t.context)}function Fn(t){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _B({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){ln(!bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=vu(n));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:p="default"}=n,v=N.useMemo(()=>{let _=ma(u,a);return _==null?null:{location:{pathname:_,search:d,hash:h,state:g,key:p},navigationType:r}},[a,u,d,h,g,p,r]);return Ji(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(as.Provider,{value:l},N.createElement(Wf.Provider,{children:e,value:v}))}function wB({children:t,location:e}){return oB(C_(t),e)}function C_(t,e=[]){let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,C_(r.props.children,s));return}ln(r.type===Fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=C_(r.props.children,s)),n.push(a)}),n}var Rm="get",Cm="application/x-www-form-urlencoded";function zp(t){return t!=null&&typeof t.tagName=="string"}function SB(t){return zp(t)&&t.tagName.toLowerCase()==="button"}function xB(t){return zp(t)&&t.tagName.toLowerCase()==="form"}function EB(t){return zp(t)&&t.tagName.toLowerCase()==="input"}function RB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CB(t,e){return t.button===0&&(!e||e==="_self")&&!RB(t)}var Tg=null;function TB(){if(Tg===null)try{new FormData(document.createElement("form"),0),Tg=!1}catch{Tg=!0}return Tg}var AB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zb(t){return t!=null&&!AB.has(t)?(Ji(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cm}"`),null):t}function OB(t,e){let n,r,i,s,a;if(xB(t)){let l=t.getAttribute("action");r=l?ma(l,e):null,n=t.getAttribute("method")||Rm,i=Zb(t.getAttribute("enctype"))||Cm,s=new FormData(t)}else if(SB(t)||EB(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?ma(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Rm,i=Zb(t.getAttribute("formenctype"))||Zb(l.getAttribute("enctype"))||Cm,s=new FormData(l,t),!TB()){let{name:d,type:h,value:g}=t;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,g)}}else{if(zp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rm,r=null,i=Cm,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DB(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ma(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function MB(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NB(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await MB(s,n);return a.links?a.links():[]}return[]}));return LB(r.flat(1).filter(kB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function aA(t,e,n,r,i,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function IB(t,e,{includeHydrateFallback:n}={}){return PB(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function PB(t){return[...new Set(t)]}function jB(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LB(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(jB(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Vk(){let t=N.useContext(yu);return nS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FB(){let t=N.useContext(Fp);return nS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rS=N.createContext(void 0);rS.displayName="FrameworkContext";function qk(){let t=N.useContext(rS);return nS(t,"You must render this element inside a <HydratedRouter> element"),t}function UB(t,e){let n=N.useContext(rS),[r,i]=N.useState(!1),[s,a]=N.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:g}=e,p=N.useRef(null);N.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let b=x=>{x.forEach(E=>{a(E.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[t]),N.useEffect(()=>{if(r){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},_=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Ed(l,v),onBlur:Ed(u,_),onMouseEnter:Ed(d,v),onMouseLeave:Ed(h,_),onTouchStart:Ed(g,v)}]:[!1,p,{}]}function Ed(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zB({page:t,...e}){let{router:n}=Vk(),r=N.useMemo(()=>Nk(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(BB,{page:t,matches:r,...e}):null}function HB(t){let{manifest:e,routeModules:n}=qk(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return NB(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function BB({page:t,matches:e,...n}){let r=wa(),{manifest:i,routeModules:s}=qk(),{basename:a}=Vk(),{loaderData:l,matches:u}=FB(),d=N.useMemo(()=>aA(t,e,u,i,r,"data"),[t,e,u,i,r]),h=N.useMemo(()=>aA(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,b=!1;if(e.forEach(x=>{let E=i.routes[x.route.id];!E||!E.hasLoader||(!d.some(R=>R.route.id===x.route.id)&&x.route.id in l&&s[x.route.id]?.shouldRevalidate||E.hasClientLoader?b=!0:_.add(x.route.id))}),_.size===0)return[];let w=DB(t,a,"data");return b&&_.size>0&&w.searchParams.set("_routes",e.filter(x=>_.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[a,l,r,i,d,e,t,s]),p=N.useMemo(()=>IB(h,i),[h,i]),v=HB(h);return N.createElement(N.Fragment,null,g.map(_=>N.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>N.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:b})=>N.createElement("link",{key:_,nonce:n.nonce,...b})))}function $B(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Wk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wk&&(window.__reactRouterVersion="7.9.5")}catch{}function VB({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=DH({window:n,v5Compat:!0}));let i=r.current,[s,a]=N.useState({action:i.action,location:i.location}),l=N.useCallback(u=>{N.startTransition(()=>a(u))},[a]);return N.useLayoutEffect(()=>i.listen(l),[i,l]),N.createElement(_B,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Gk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kn=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:g,...p},v){let{basename:_}=N.useContext(as),b=typeof d=="string"&&Gk.test(d),w,x=!1;if(typeof d=="string"&&b&&(w=d,Wk))try{let L=new URL(window.location.href),H=d.startsWith("//")?new URL(L.protocol+d):new URL(d),V=ma(H.pathname,_);H.origin===L.origin&&V!=null?d=V+H.search+H.hash:x=!0}catch{Ji(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=rB(d,{relative:i}),[R,O,A]=UB(r,p),I=YB(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:g});function k(L){e&&e(L),L.defaultPrevented||I(L)}let M=N.createElement("a",{...p,...A,href:w||E,onClick:x||s?e:k,ref:$B(v,O),target:u,"data-discover":!b&&n==="render"?"true":void 0});return R&&!b?N.createElement(N.Fragment,null,M,N.createElement(zB,{page:E})):M});kn.displayName="Link";var qB=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...d},h){let g=Gf(a,{relative:d.relative}),p=wa(),v=N.useContext(Fp),{navigator:_,basename:b}=N.useContext(as),w=v!=null&&JB(g)&&l===!0,x=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,E=p.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(E=E.toLowerCase(),R=R?R.toLowerCase():null,x=x.toLowerCase()),R&&b&&(R=ma(R,b)||R);const O=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let A=E===x||!i&&E.startsWith(x)&&E.charAt(O)==="/",I=R!=null&&(R===x||!i&&R.startsWith(x)&&R.charAt(x.length)==="/"),k={isActive:A,isPending:I,isTransitioning:w},M=A?e:void 0,L;typeof r=="function"?L=r(k):L=[r,A?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(k):s;return N.createElement(kn,{...d,"aria-current":M,className:L,ref:h,style:H,to:a,viewTransition:l},typeof u=="function"?u(k):u)});qB.displayName="NavLink";var WB=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Rm,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:g,...p},v)=>{let _=XB(),b=ZB(l,{relative:d}),w=a.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&Gk.test(l),E=R=>{if(u&&u(R),R.defaultPrevented)return;R.preventDefault();let O=R.nativeEvent.submitter,A=O?.getAttribute("formmethod")||a;_(O||R.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:g})};return N.createElement("form",{ref:v,method:w,action:b,onSubmit:r?u:E,...p,"data-discover":!x&&t==="render"?"true":void 0})});WB.displayName="Form";function GB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yk(t){let e=N.useContext(yu);return ln(e,GB(t)),e}function YB(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=As(),u=wa(),d=Gf(t,{relative:s});return N.useCallback(h=>{if(CB(h,e)){h.preventDefault();let g=n!==void 0?n:pf(u)===pf(d);l(t,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,n,r,e,t,i,s,a])}var KB=0,QB=()=>`__${String(++KB)}__`;function XB(){let{router:t}=Yk("useSubmit"),{basename:e}=N.useContext(as),n=pB();return N.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=OB(r,e);if(i.navigate===!1){let h=i.fetcherKey||QB();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ZB(t,{relative:e}={}){let{basename:n}=N.useContext(as),r=N.useContext(zi);ln(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Gf(t||".",{relative:e})},a=wa();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:da([n,s.pathname])),pf(s)}function JB(t,{relative:e}={}){let n=N.useContext(Lk);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Yk("useViewTransitionState"),i=Gf(t,{relative:e});if(!n.isTransitioning)return!1;let s=ma(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ma(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $m(i.pathname,a)!=null||$m(i.pathname,s)!=null}var aa=kk();const e$=Co(aa);var _u=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},t$={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},n$=class{#t=t$;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,n){return this.#t.setTimeout(e,n)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,n){return this.#t.setInterval(e,n)}clearInterval(e){this.#t.clearInterval(e)}},ml=new n$;function r$(t){setTimeout(t,0)}var Rl=typeof window>"u"||"Deno"in globalThis;function wr(){}function i$(t,e){return typeof t=="function"?t(e):t}function T_(t){return typeof t=="number"&&t>=0&&t!==1/0}function Kk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mo(t,e){return typeof t=="function"?t(e):t}function Ni(t,e){return typeof t=="function"?t(e):t}function oA(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==iS(a,e.options))return!1}else if(!vf(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function lA(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Cl(e.options.mutationKey)!==Cl(s))return!1}else if(!vf(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function iS(t,e){return(e?.queryKeyHashFn||Cl)(t)}function Cl(t){return JSON.stringify(t,(e,n)=>A_(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function vf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>vf(t[n],e[n])):!1}var s$=Object.prototype.hasOwnProperty;function Qk(t,e){if(t===e)return t;const n=cA(t)&&cA(e);if(!n&&!(A_(t)&&A_(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=n?d:s[d],g=t[h],p=e[h];if(g===p){l[h]=g,(n?d<i:s$.call(t,h))&&u++;continue}if(g===null||p===null||typeof g!="object"||typeof p!="object"){l[h]=p;continue}const v=Qk(g,p);l[h]=v,v===g&&u++}return i===a&&u===i?t:l}function Vm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function cA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function A_(t){if(!uA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!uA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function uA(t){return Object.prototype.toString.call(t)==="[object Object]"}function a$(t){return new Promise(e=>{ml.setTimeout(e,t)})}function O_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Qk(t,e):e}function o$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function l$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var sS=Symbol();function Xk(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===sS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Zk(t,e){return typeof t=="function"?t(...e):!!t}var c$=class extends _u{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Rl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},aS=new c$;function D_(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var u$=r$;function d$(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=u$;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Bn=d$(),f$=class extends _u{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Rl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},qm=new f$;function h$(t){return Math.min(1e3*2**t,3e4)}function Jk(t){return(t??"online")==="online"?qm.isOnline():!0}var M_=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function eN(t){let e=!1,n=0,r;const i=D_(),s=()=>i.status!=="pending",a=b=>{if(!s()){const w=new M_(b);p(w),t.onCancel?.(w)}},l=()=>{e=!0},u=()=>{e=!1},d=()=>aS.isFocused()&&(t.networkMode==="always"||qm.isOnline())&&t.canRun(),h=()=>Jk(t.networkMode)&&t.canRun(),g=b=>{s()||(r?.(),i.resolve(b))},p=b=>{s()||(r?.(),i.reject(b))},v=()=>new Promise(b=>{r=w=>{(s()||d())&&b(w)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),_=()=>{if(s())return;let b;const w=n===0?t.initialPromise:void 0;try{b=w??t.fn()}catch(x){b=Promise.reject(x)}Promise.resolve(b).then(g).catch(x=>{if(s())return;const E=t.retry??(Rl?0:3),R=t.retryDelay??h$,O=typeof R=="function"?R(n,x):R,A=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,x);if(e||!A){p(x);return}n++,t.onFail?.(n,x),a$(O).then(()=>d()?void 0:v()).then(()=>{e?p(x):_()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?_():v().then(_),i)}}var tN=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T_(this.gcTime)&&(this.#t=ml.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rl?1/0:300*1e3))}clearGcTimeout(){this.#t&&(ml.clearTimeout(this.#t),this.#t=void 0)}},g$=class extends tN{#t;#e;#n;#r;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=dA(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=dA(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=O_(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Ni(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Kk(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=Xk(this.options,e),d=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(h),h})();return this.#o=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=eN({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof M_&&l.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#i.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof M_){if(l.silent)return this.#i.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...nN(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Bn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function nN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var m$=class extends _u{constructor(e,n){super(),this.options=n,this.#t=e,this.#s=null,this.#o=D_(),this.bindMethods(),this.setOptions(n)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),fA(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return k_(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return k_(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const n=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ni(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),n._defaulted&&!Vm(this.options,n)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&hA(this.#e,r,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#e!==r||Ni(this.options.enabled,this.#e)!==Ni(n.enabled,this.#e)||mo(this.options.staleTime,this.#e)!==mo(n.staleTime,this.#e))&&this.#p();const s=this.#v();i&&(this.#e!==r||Ni(this.options.enabled,this.#e)!==Ni(n.enabled,this.#e)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const n=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(n,e);return v$(this,r)&&(this.#r=r,this.#a=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#r}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#g.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#S();let n=this.#e.fetch(this.options,e);return e?.throwOnError||(n=n.catch(wr)),n}#p(){this.#_();const e=mo(this.options.staleTime,this.#e);if(Rl||this.#r.isStale||!T_(e))return;const r=Kk(this.#r.dataUpdatedAt,e)+1;this.#c=ml.setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Rl||Ni(this.options.enabled,this.#e)===!1||!T_(this.#l)||this.#l===0)&&(this.#u=ml.setInterval(()=>{(this.options.refetchIntervalInBackground||aS.isFocused())&&this.#d()},this.#l))}#b(){this.#p(),this.#y(this.#v())}#_(){this.#c&&(ml.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(ml.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const r=this.#e,i=this.options,s=this.#r,a=this.#i,l=this.#a,d=e!==r?e.state:this.#n,{state:h}=e;let g={...h},p=!1,v;if(n._optimisticResults){const L=this.hasListeners(),H=!L&&fA(e,n),V=L&&hA(e,r,n,i);(H||V)&&(g={...g,...nN(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:_,errorUpdatedAt:b,status:w}=g;v=g.data;let x=!1;if(n.placeholderData!==void 0&&v===void 0&&w==="pending"){let L;s?.isPlaceholderData&&n.placeholderData===l?.placeholderData?(L=s.data,x=!0):L=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,L!==void 0&&(w="success",v=O_(s?.data,L,n),p=!0)}if(n.select&&v!==void 0&&!x)if(s&&v===a?.data&&n.select===this.#m)v=this.#f;else try{this.#m=n.select,v=n.select(v),v=O_(s?.data,v,n),this.#f=v,this.#s=null}catch(L){this.#s=L}this.#s&&(_=this.#s,v=this.#f,b=Date.now(),w="error");const E=g.fetchStatus==="fetching",R=w==="pending",O=w==="error",A=R&&E,I=v!==void 0,M={status:w,fetchStatus:g.fetchStatus,isPending:R,isSuccess:w==="success",isError:O,isInitialLoading:A,isLoading:A,data:v,dataUpdatedAt:g.dataUpdatedAt,error:_,errorUpdatedAt:b,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:E,isRefetching:E&&!R,isLoadingError:O&&!I,isPaused:g.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:O&&I,isStale:oS(e,n),refetch:this.refetch,promise:this.#o,isEnabled:Ni(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=G=>{M.status==="error"?G.reject(M.error):M.data!==void 0&&G.resolve(M.data)},H=()=>{const G=this.#o=M.promise=D_();L(G)},V=this.#o;switch(V.status){case"pending":e.queryHash===r.queryHash&&L(V);break;case"fulfilled":(M.status==="error"||M.data!==V.value)&&H();break;case"rejected":(M.status!=="error"||M.error!==V.reason)&&H();break}}return M}updateResult(){const e=this.#r,n=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Vm(n,e))return;this.#r=n;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!this.#g.size)return!0;const a=new Set(s??this.#g);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(l=>{const u=l;return this.#r[u]!==e[u]&&a.has(u)})};this.#x({listeners:r()})}#S(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const n=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(e){Bn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function p$(t,e){return Ni(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fA(t,e){return p$(t,e)||t.state.data!==void 0&&k_(t,e,e.refetchOnMount)}function k_(t,e,n){if(Ni(e.enabled,t)!==!1&&mo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&oS(t,e)}return!1}function hA(t,e,n,r){return(t!==e||Ni(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&oS(t,n)}function oS(t,e){return Ni(e.enabled,t)!==!1&&t.isStaleByTime(mo(e.staleTime,t))}function v$(t,e){return!Vm(t.getCurrentResult(),e)}function gA(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const g=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},p=Xk(e.options,e.fetchOptions),v=async(_,b,w)=>{if(h)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:b,direction:w?"backward":"forward",meta:e.options.meta};return g(I),I})(),R=await p(E),{maxPages:O}=e.options,A=w?l$:o$;return{pages:A(_.pages,R,O),pageParams:A(_.pageParams,b,O)}};if(i&&s.length){const _=i==="backward",b=_?y$:mA,w={pages:s,pageParams:a},x=b(r,w);l=await v(w,x,_)}else{const _=t??s.length;do{const b=u===0?a[0]??r.initialPageParam:mA(r,l);if(u>0&&b==null)break;l=await v(l,b),u++}while(u<_)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function mA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function y$(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var b$=class extends tN{#t;#e;#n;#r;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#e=[],this.state=t.state||rN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=eN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#i({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#r.canStart();try{if(r)e();else{this.#i({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#i({type:"pending",context:a,variables:t,isPaused:i})}const s=await this.#r.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#i({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#i({type:"error",error:s})}}finally{this.#n.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Bn.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function rN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _$=class extends _u{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const r=new b$({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#t.add(t);const e=Ag(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Ag(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Ag(t);if(typeof e=="string"){const r=this.#e.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Ag(t);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Bn.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>lA(e,n))}findAll(t={}){return this.getAll().filter(e=>lA(t,e))}notify(t){Bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Bn.batch(()=>Promise.all(t.map(e=>e.continue().catch(wr))))}};function Ag(t){return t.options.scope?.id}var w$=class extends _u{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),Vm(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Cl(n.mutationKey)!==Cl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??rN();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Bn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context,i={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r,i),this.#r.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r,i),this.#r.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#e)})})}},S$=class extends _u{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const r=e.queryKey,i=e.queryHash??iS(r,e);let s=this.get(i);return s||(s=new g$({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Bn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>oA(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>oA(t,n)):e}notify(t){Bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Bn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Bn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},x$=class{#t;#e;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new S$,this.#e=t.mutationCache||new _$,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=aS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=qm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(mo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(r.queryHash)?.state.data,a=i$(e,s);if(a!==void 0)return this.#t.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Bn.batch(()=>this.#t.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Bn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return Bn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Bn.batch(()=>this.#t.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(wr).catch(wr)}invalidateQueries(t,e={}){return Bn.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Bn.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(wr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(wr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(mo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wr).catch(wr)}fetchInfiniteQuery(t){return t.behavior=gA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wr).catch(wr)}ensureInfiniteQueryData(t){return t.behavior=gA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qm.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Cl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{vf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Cl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{vf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sS&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},iN=N.createContext(void 0),Gr=t=>{const e=N.useContext(iN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},E$=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(iN.Provider,{value:t,children:e})),sN=N.createContext(!1),R$=()=>N.useContext(sN);sN.Provider;function C$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var T$=N.createContext(C$()),A$=()=>N.useContext(T$),O$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},D$=t=>{N.useEffect(()=>{t.clearReset()},[t])},M$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Zk(n,[t.error,r])),k$=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},N$=(t,e)=>t.isLoading&&t.isFetching&&!e,I$=(t,e)=>t?.suspense&&e.isPending,pA=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function P$(t,e,n){const r=R$(),i=A$(),s=Gr(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",k$(a),O$(a,i),D$(i);const l=!s.getQueryCache().get(a.queryHash),[u]=N.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!r&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(g=>{const p=h?u.subscribe(Bn.batchCalls(g)):wr;return u.updateResult(),p},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),N.useEffect(()=>{u.setOptions(a)},[a,u]),I$(a,d))throw pA(a,u,i);if(M$({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Rl&&N$(d,r)&&(l?pA(a,u,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(wr).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function kl(t,e){return P$(t,m$)}function Sa(t,e){const n=Gr(),[r]=N.useState(()=>new w$(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const i=N.useSyncExternalStore(N.useCallback(a=>r.subscribe(Bn.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((a,l)=>{r.mutate(a,l).catch(wr)},[r]);if(i.error&&Zk(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function j$(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const L$=t=>{switch(t){case"success":return z$;case"info":return B$;case"warning":return H$;case"error":return $$;default:return null}},F$=Array(12).fill(0),U$=({visible:t,className:e})=>be.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},be.createElement("div",{className:"sonner-spinner"},F$.map((n,r)=>be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),z$=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),H$=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),B$=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$$=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),V$=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),q$=()=>{const[t,e]=be.useState(document.hidden);return be.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let N_=1,W$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:N_++,a=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:r}),{...u,...e,id:s,dismissible:l,title:r}):u):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const l=i.then(async d=>{if(a=["resolve",d],be.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(Y$(d)&&!d.ok){s=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,_=typeof g=="object"&&!be.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:p,..._})}else if(d instanceof Error){s=!1;const g=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,_=typeof g=="object"&&!be.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:p,..._})}else if(n.success!==void 0){s=!1;const g=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,_=typeof g=="object"&&!be.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:p,..._})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,v=typeof h=="object"&&!be.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...v})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=n?.id||N_++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}};const Hr=new W$,G$=(t,e)=>{const n=e?.id||N_++;return Hr.addToast({title:t,...e,id:n}),n},Y$=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",K$=G$,Q$=()=>Hr.toasts,X$=()=>Hr.getActiveToasts();Object.assign(K$,{success:Hr.success,info:Hr.info,warning:Hr.warning,error:Hr.error,custom:Hr.custom,message:Hr.message,promise:Hr.promise,dismiss:Hr.dismiss,loading:Hr.loading},{getHistory:Q$,getToasts:X$});j$("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Og(t){return t.label!==void 0}const Z$=3,J$="24px",eV="16px",vA=4e3,tV=356,nV=14,rV=45,iV=200;function fs(...t){return t.filter(Boolean).join(" ")}function sV(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const aV=t=>{var e,n,r,i,s,a,l,u,d;const{invert:h,toast:g,unstyled:p,interacting:v,setHeights:_,visibleToasts:b,heights:w,index:x,toasts:E,expanded:R,removeToast:O,defaultRichColors:A,closeButton:I,style:k,cancelButtonStyle:M,actionButtonStyle:L,className:H="",descriptionClassName:V="",duration:G,position:se,gap:ue,expandByDefault:ye,classNames:U,icons:K,closeButtonAriaLabel:ne="Close toast"}=t,[Y,me]=be.useState(null),[D,$]=be.useState(null),[Q,ee]=be.useState(!1),[he,pe]=be.useState(!1),[_e,Se]=be.useState(!1),[Oe,tt]=be.useState(!1),[qt,zt]=be.useState(!1),[Pn,Ce]=be.useState(0),[Be,rt]=be.useState(0),Wt=be.useRef(g.duration||G||vA),En=be.useRef(null),Ke=be.useRef(null),F=x===0,X=x+1<=b,te=g.type,J=g.dismissible!==!1,ae=g.className||"",de=g.descriptionClassName||"",we=be.useMemo(()=>w.findIndex(Te=>Te.toastId===g.id)||0,[w,g.id]),xe=be.useMemo(()=>{var Te;return(Te=g.closeButton)!=null?Te:I},[g.closeButton,I]),Ee=be.useMemo(()=>g.duration||G||vA,[g.duration,G]),Ne=be.useRef(0),Qe=be.useRef(0),Ve=be.useRef(0),dt=be.useRef(null),[it,Ht]=se.split("-"),st=be.useMemo(()=>w.reduce((Te,$e,ft)=>ft>=we?Te:Te+$e.height,0),[w,we]),He=q$(),yn=g.invert||h,nt=te==="loading";Qe.current=be.useMemo(()=>we*ue+st,[we,st]),be.useEffect(()=>{Wt.current=Ee},[Ee]),be.useEffect(()=>{ee(!0)},[]),be.useEffect(()=>{const Te=Ke.current;if(Te){const $e=Te.getBoundingClientRect().height;return rt($e),_(ft=>[{toastId:g.id,height:$e,position:g.position},...ft]),()=>_(ft=>ft.filter(vt=>vt.toastId!==g.id))}},[_,g.id]),be.useLayoutEffect(()=>{if(!Q)return;const Te=Ke.current,$e=Te.style.height;Te.style.height="auto";const ft=Te.getBoundingClientRect().height;Te.style.height=$e,rt(ft),_(vt=>vt.find(yt=>yt.toastId===g.id)?vt.map(yt=>yt.toastId===g.id?{...yt,height:ft}:yt):[{toastId:g.id,height:ft,position:g.position},...vt])},[Q,g.title,g.description,_,g.id,g.jsx,g.action,g.cancel]);const pt=be.useCallback(()=>{pe(!0),Ce(Qe.current),_(Te=>Te.filter($e=>$e.toastId!==g.id)),setTimeout(()=>{O(g)},iV)},[g,O,_,Qe]);be.useEffect(()=>{if(g.promise&&te==="loading"||g.duration===1/0||g.type==="loading")return;let Te;return R||v||He?(()=>{if(Ve.current<Ne.current){const vt=new Date().getTime()-Ne.current;Wt.current=Wt.current-vt}Ve.current=new Date().getTime()})():(()=>{Wt.current!==1/0&&(Ne.current=new Date().getTime(),Te=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),pt()},Wt.current))})(),()=>clearTimeout(Te)},[R,v,g,te,He,pt]),be.useEffect(()=>{g.delete&&(pt(),g.onDismiss==null||g.onDismiss.call(g,g))},[pt,g.delete]);function yr(){var Te;if(K?.loading){var $e;return be.createElement("div",{className:fs(U?.loader,g==null||($e=g.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":te==="loading"},K.loading)}return be.createElement(U$,{className:fs(U?.loader,g==null||(Te=g.classNames)==null?void 0:Te.loader),visible:te==="loading"})}const br=g.icon||K?.[te]||L$(te);var xt,Gt;return be.createElement("li",{tabIndex:0,ref:Ke,className:fs(H,ae,U?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,U?.default,U?.[te],g==null||(n=g.classNames)==null?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":(xt=g.richColors)!=null?xt:A,"data-styled":!(g.jsx||g.unstyled||p),"data-mounted":Q,"data-promise":!!g.promise,"data-swiped":qt,"data-removed":he,"data-visible":X,"data-y-position":it,"data-x-position":Ht,"data-index":x,"data-front":F,"data-swiping":_e,"data-dismissible":J,"data-type":te,"data-invert":yn,"data-swipe-out":Oe,"data-swipe-direction":D,"data-expanded":!!(R||ye&&Q),"data-testid":g.testId,style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${he?Pn:Qe.current}px`,"--initial-height":ye?"auto":`${Be}px`,...k,...g.style},onDragEnd:()=>{Se(!1),me(null),dt.current=null},onPointerDown:Te=>{Te.button!==2&&(nt||!J||(En.current=new Date,Ce(Qe.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(Se(!0),dt.current={x:Te.clientX,y:Te.clientY})))},onPointerUp:()=>{var Te,$e,ft;if(Oe||!J)return;dt.current=null;const vt=Number(((Te=Ke.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gn=Number((($e=Ke.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yt=new Date().getTime()-((ft=En.current)==null?void 0:ft.getTime()),Xe=Y==="x"?vt:gn,Rn=Math.abs(Xe)/yt;if(Math.abs(Xe)>=rV||Rn>.11){Ce(Qe.current),g.onDismiss==null||g.onDismiss.call(g,g),$(Y==="x"?vt>0?"right":"left":gn>0?"down":"up"),pt(),tt(!0);return}else{var Qt,rn;(Qt=Ke.current)==null||Qt.style.setProperty("--swipe-amount-x","0px"),(rn=Ke.current)==null||rn.style.setProperty("--swipe-amount-y","0px")}zt(!1),Se(!1),me(null)},onPointerMove:Te=>{var $e,ft,vt;if(!dt.current||!J||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;const yt=Te.clientY-dt.current.y,Xe=Te.clientX-dt.current.x;var Rn;const Qt=(Rn=t.swipeDirections)!=null?Rn:sV(se);!Y&&(Math.abs(Xe)>1||Math.abs(yt)>1)&&me(Math.abs(Xe)>Math.abs(yt)?"x":"y");let rn={x:0,y:0};const fi=Jn=>1/(1.5+Math.abs(Jn)/20);if(Y==="y"){if(Qt.includes("top")||Qt.includes("bottom"))if(Qt.includes("top")&&yt<0||Qt.includes("bottom")&&yt>0)rn.y=yt;else{const Jn=yt*fi(yt);rn.y=Math.abs(Jn)<Math.abs(yt)?Jn:yt}}else if(Y==="x"&&(Qt.includes("left")||Qt.includes("right")))if(Qt.includes("left")&&Xe<0||Qt.includes("right")&&Xe>0)rn.x=Xe;else{const Jn=Xe*fi(Xe);rn.x=Math.abs(Jn)<Math.abs(Xe)?Jn:Xe}(Math.abs(rn.x)>0||Math.abs(rn.y)>0)&&zt(!0),(ft=Ke.current)==null||ft.style.setProperty("--swipe-amount-x",`${rn.x}px`),(vt=Ke.current)==null||vt.style.setProperty("--swipe-amount-y",`${rn.y}px`)}},xe&&!g.jsx&&te!=="loading"?be.createElement("button",{"aria-label":ne,"data-disabled":nt,"data-close-button":!0,onClick:nt||!J?()=>{}:()=>{pt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:fs(U?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(Gt=K?.close)!=null?Gt:V$):null,(te||g.icon||g.promise)&&g.icon!==null&&(K?.[te]!==null||g.icon)?be.createElement("div",{"data-icon":"",className:fs(U?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||yr():null,g.type!=="loading"?br:null):null,be.createElement("div",{"data-content":"",className:fs(U?.content,g==null||(s=g.classNames)==null?void 0:s.content)},be.createElement("div",{"data-title":"",className:fs(U?.title,g==null||(a=g.classNames)==null?void 0:a.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?be.createElement("div",{"data-description":"",className:fs(V,de,U?.description,g==null||(l=g.classNames)==null?void 0:l.description)},typeof g.description=="function"?g.description():g.description):null),be.isValidElement(g.cancel)?g.cancel:g.cancel&&Og(g.cancel)?be.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||M,onClick:Te=>{Og(g.cancel)&&J&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Te),pt())},className:fs(U?.cancelButton,g==null||(u=g.classNames)==null?void 0:u.cancelButton)},g.cancel.label):null,be.isValidElement(g.action)?g.action:g.action&&Og(g.action)?be.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||L,onClick:Te=>{Og(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Te),!Te.defaultPrevented&&pt())},className:fs(U?.actionButton,g==null||(d=g.classNames)==null?void 0:d.actionButton)},g.action.label):null)};function yA(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function oV(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",l=s?eV:J$;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):u(l)}),n}const lV=be.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:h,mobileOffset:g,theme:p="light",richColors:v,duration:_,style:b,visibleToasts:w=Z$,toastOptions:x,dir:E=yA(),gap:R=nV,icons:O,containerAriaLabel:A="Notifications"}=e,[I,k]=be.useState([]),M=be.useMemo(()=>r?I.filter(Q=>Q.toasterId===r):I.filter(Q=>!Q.toasterId),[I,r]),L=be.useMemo(()=>Array.from(new Set([s].concat(M.filter(Q=>Q.position).map(Q=>Q.position)))),[M,s]),[H,V]=be.useState([]),[G,se]=be.useState(!1),[ue,ye]=be.useState(!1),[U,K]=be.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=be.useRef(null),Y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),me=be.useRef(null),D=be.useRef(!1),$=be.useCallback(Q=>{k(ee=>{var he;return(he=ee.find(pe=>pe.id===Q.id))!=null&&he.delete||Hr.dismiss(Q.id),ee.filter(({id:pe})=>pe!==Q.id)})},[]);return be.useEffect(()=>Hr.subscribe(Q=>{if(Q.dismiss){requestAnimationFrame(()=>{k(ee=>ee.map(he=>he.id===Q.id?{...he,delete:!0}:he))});return}setTimeout(()=>{e$.flushSync(()=>{k(ee=>{const he=ee.findIndex(pe=>pe.id===Q.id);return he!==-1?[...ee.slice(0,he),{...ee[he],...Q},...ee.slice(he+1)]:[Q,...ee]})})})}),[I]),be.useEffect(()=>{if(p!=="system"){K(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:ee})=>{K(ee?"dark":"light")})}catch{Q.addListener(({matches:he})=>{try{K(he?"dark":"light")}catch(pe){console.error(pe)}})}},[p]),be.useEffect(()=>{I.length<=1&&se(!1)},[I]),be.useEffect(()=>{const Q=ee=>{var he;if(a.every(Se=>ee[Se]||ee.code===Se)){var _e;se(!0),(_e=ne.current)==null||_e.focus()}ee.code==="Escape"&&(document.activeElement===ne.current||(he=ne.current)!=null&&he.contains(document.activeElement))&&se(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[a]),be.useEffect(()=>{if(ne.current)return()=>{me.current&&(me.current.focus({preventScroll:!0}),me.current=null,D.current=!1)}},[ne.current]),be.createElement("section",{ref:n,"aria-label":`${A} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((Q,ee)=>{var he;const[pe,_e]=Q.split("-");return M.length?be.createElement("ol",{key:Q,dir:E==="auto"?yA():E,tabIndex:-1,ref:ne,className:d,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":pe,"data-x-position":_e,style:{"--front-toast-height":`${((he=H[0])==null?void 0:he.height)||0}px`,"--width":`${tV}px`,"--gap":`${R}px`,...b,...oV(h,g)},onBlur:Se=>{D.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(D.current=!1,me.current&&(me.current.focus({preventScroll:!0}),me.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||D.current||(D.current=!0,me.current=Se.relatedTarget)},onMouseEnter:()=>se(!0),onMouseMove:()=>se(!0),onMouseLeave:()=>{ue||se(!1)},onDragEnd:()=>se(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||ye(!0)},onPointerUp:()=>ye(!1)},M.filter(Se=>!Se.position&&ee===0||Se.position===Q).map((Se,Oe)=>{var tt,qt;return be.createElement(aV,{key:Se.id,icons:O,index:Oe,toast:Se,defaultRichColors:v,duration:(tt=x?.duration)!=null?tt:_,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:i,visibleToasts:w,closeButton:(qt=x?.closeButton)!=null?qt:u,interacting:ue,position:Q,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:$,toasts:M.filter(zt=>zt.position==Se.position),heights:H.filter(zt=>zt.position==Se.position),setHeights:V,expandByDefault:l,gap:R,expanded:G,swipeDirections:e.swipeDirections})})):null}))});var bA={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},Dg={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR"},_A={PAGE_SIZE:10,PAGE_SIZE_OPTIONS:[10,25,50,100]},un={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},St={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},oa={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},Tc={CREMA:"CREMA",LIQUIDO:"LIQUIDO",POLVERI:"POLVERI"},Ac={T1:"T1",T2:"T2",T3:"T3"},Jb={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wA;function cV(){if(wA)return We;wA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),p=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function x(D,$,Q){this.props=D,this.context=$,this.refs=w,this.updater=Q||_}x.prototype.isReactComponent={},x.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},x.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=x.prototype;function R(D,$,Q){this.props=D,this.context=$,this.refs=w,this.updater=Q||_}var O=R.prototype=new E;O.constructor=R,b(O,x.prototype),O.isPureReactComponent=!0;var A=Array.isArray;function I(){}var k={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function L(D,$,Q){var ee=Q.ref;return{$$typeof:t,type:D,key:$,ref:ee!==void 0?ee:null,props:Q}}function H(D,$){return L(D.type,$,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function G(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Q){return $[Q]})}var se=/\/+/g;function ue(D,$){return typeof D=="object"&&D!==null&&D.key!=null?G(""+D.key):$.toString(36)}function ye(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function U(D,$,Q,ee,he){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var _e=!1;if(D===null)_e=!0;else switch(pe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(D.$$typeof){case t:case e:_e=!0;break;case h:return _e=D._init,U(_e(D._payload),$,Q,ee,he)}}if(_e)return he=he(D),_e=ee===""?"."+ue(D,0):ee,A(he)?(Q="",_e!=null&&(Q=_e.replace(se,"$&/")+"/"),U(he,$,Q,"",function(tt){return tt})):he!=null&&(V(he)&&(he=H(he,Q+(he.key==null||D&&D.key===he.key?"":(""+he.key).replace(se,"$&/")+"/")+_e)),$.push(he)),1;_e=0;var Se=ee===""?".":ee+":";if(A(D))for(var Oe=0;Oe<D.length;Oe++)ee=D[Oe],pe=Se+ue(ee,Oe),_e+=U(ee,$,Q,pe,he);else if(Oe=v(D),typeof Oe=="function")for(D=Oe.call(D),Oe=0;!(ee=D.next()).done;)ee=ee.value,pe=Se+ue(ee,Oe++),_e+=U(ee,$,Q,pe,he);else if(pe==="object"){if(typeof D.then=="function")return U(ye(D),$,Q,ee,he);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(D,$,Q){if(D==null)return D;var ee=[],he=0;return U(D,ee,"","",function(pe){return $.call(Q,pe,he++)}),ee}function ne(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(Q){(D._status===0||D._status===-1)&&(D._status=1,D._result=Q)},function(Q){(D._status===0||D._status===-1)&&(D._status=2,D._result=Q)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var Y=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},me={map:K,forEach:function(D,$,Q){K(D,function(){$.apply(this,arguments)},Q)},count:function(D){var $=0;return K(D,function(){$++}),$},toArray:function(D){return K(D,function($){return $})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return We.Activity=g,We.Children=me,We.Component=x,We.Fragment=n,We.Profiler=i,We.PureComponent=R,We.StrictMode=r,We.Suspense=u,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,We.__COMPILER_RUNTIME={__proto__:null,c:function(D){return k.H.useMemoCache(D)}},We.cache=function(D){return function(){return D.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(D,$,Q){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ee=b({},D.props),he=D.key;if($!=null)for(pe in $.key!==void 0&&(he=""+$.key),$)!M.call($,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&$.ref===void 0||(ee[pe]=$[pe]);var pe=arguments.length-2;if(pe===1)ee.children=Q;else if(1<pe){for(var _e=Array(pe),Se=0;Se<pe;Se++)_e[Se]=arguments[Se+2];ee.children=_e}return L(D.type,he,ee)},We.createContext=function(D){return D={$$typeof:a,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},We.createElement=function(D,$,Q){var ee,he={},pe=null;if($!=null)for(ee in $.key!==void 0&&(pe=""+$.key),$)M.call($,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(he[ee]=$[ee]);var _e=arguments.length-2;if(_e===1)he.children=Q;else if(1<_e){for(var Se=Array(_e),Oe=0;Oe<_e;Oe++)Se[Oe]=arguments[Oe+2];he.children=Se}if(D&&D.defaultProps)for(ee in _e=D.defaultProps,_e)he[ee]===void 0&&(he[ee]=_e[ee]);return L(D,pe,he)},We.createRef=function(){return{current:null}},We.forwardRef=function(D){return{$$typeof:l,render:D}},We.isValidElement=V,We.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:ne}},We.memo=function(D,$){return{$$typeof:d,type:D,compare:$===void 0?null:$}},We.startTransition=function(D){var $=k.T,Q={};k.T=Q;try{var ee=D(),he=k.S;he!==null&&he(Q,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(I,Y)}catch(pe){Y(pe)}finally{$!==null&&Q.types!==null&&($.types=Q.types),k.T=$}},We.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},We.use=function(D){return k.H.use(D)},We.useActionState=function(D,$,Q){return k.H.useActionState(D,$,Q)},We.useCallback=function(D,$){return k.H.useCallback(D,$)},We.useContext=function(D){return k.H.useContext(D)},We.useDebugValue=function(){},We.useDeferredValue=function(D,$){return k.H.useDeferredValue(D,$)},We.useEffect=function(D,$){return k.H.useEffect(D,$)},We.useEffectEvent=function(D){return k.H.useEffectEvent(D)},We.useId=function(){return k.H.useId()},We.useImperativeHandle=function(D,$,Q){return k.H.useImperativeHandle(D,$,Q)},We.useInsertionEffect=function(D,$){return k.H.useInsertionEffect(D,$)},We.useLayoutEffect=function(D,$){return k.H.useLayoutEffect(D,$)},We.useMemo=function(D,$){return k.H.useMemo(D,$)},We.useOptimistic=function(D,$){return k.H.useOptimistic(D,$)},We.useReducer=function(D,$,Q){return k.H.useReducer(D,$,Q)},We.useRef=function(D){return k.H.useRef(D)},We.useState=function(D){return k.H.useState(D)},We.useSyncExternalStore=function(D,$,Q){return k.H.useSyncExternalStore(D,$,Q)},We.useTransition=function(){return k.H.useTransition()},We.version="19.2.0",We}var SA;function Hp(){return SA||(SA=1,Jb.exports=cV()),Jb.exports}var j=Hp();const At=Co(j),aN=bH({__proto__:null,default:At},[j]);function xA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Bp(...t){return e=>{let n=!1;const r=t.map(i=>{const s=xA(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():xA(t[i],null)}}}}function Wr(...t){return j.useCallback(Bp(...t),t)}var e0={exports:{}},Rd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function uV(){if(EA)return Rd;EA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Rd.Fragment=e,Rd.jsx=n,Rd.jsxs=n,Rd}var RA;function dV(){return RA||(RA=1,e0.exports=uV()),e0.exports}var z=dV();function yf(t){const e=hV(t),n=j.forwardRef((r,i)=>{const{children:s,...a}=r,l=j.Children.toArray(s),u=l.find(mV);if(u){const d=u.props.children,h=l.map(g=>g===u?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:g);return z.jsx(e,{...a,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,h):null})}return z.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var fV=yf("Slot");function hV(t){const e=j.forwardRef((n,r)=>{const{children:i,...s}=n;if(j.isValidElement(i)){const a=vV(i),l=pV(s,i.props);return i.type!==j.Fragment&&(l.ref=r?Bp(r,a):a),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gV=Symbol("radix.slottable");function mV(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gV}function pV(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function vV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function oN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=oN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lN(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=oN(t))&&(r&&(r+=" "),r+=e);return r}const lS="-",yV=t=>{const e=_V(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(lS);return l[0]===""&&l.length!==1&&l.shift(),cN(l,e)||bV(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&r[a]?[...u,...r[a]]:u}}},cN=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?cN(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(lS);return e.validators.find(({validator:a})=>a(s))?.classGroupId},CA=/^\[(.+)\]$/,bV=t=>{if(CA.test(t)){const e=CA.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_V=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return SV(Object.entries(t.classGroups),n).forEach(([s,a])=>{I_(a,r,s,e)}),r},I_=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:TA(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(wV(i)){I_(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{I_(a,TA(e,s),n,r)})})},TA=(t,e)=>{let n=t;return e.split(lS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wV=t=>t.isThemeGetter,SV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,xV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},uN="!",EV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=l=>{const u=[];let d=0,h=0,g;for(let w=0;w<l.length;w++){let x=l[w];if(d===0){if(x===i&&(r||l.slice(w,w+s)===e)){u.push(l.slice(h,w)),h=w+s;continue}if(x==="/"){g=w;continue}}x==="["?d++:x==="]"&&d--}const p=u.length===0?l:l.substring(h),v=p.startsWith(uN),_=v?p.substring(1):p,b=g&&g>h?g-h:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:a}):a},RV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},CV=t=>({cache:xV(t.cacheSize),parseClassName:EV(t),...yV(t)}),TV=/\s+/,AV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(TV);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:h,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:v}=n(d);let _=!!v,b=r(_?p.substring(0,v):p);if(!b){if(!_){l=d+(l.length>0?" "+l:l);continue}if(b=r(p),!b){l=d+(l.length>0?" "+l:l);continue}_=!1}const w=RV(h).join(":"),x=g?w+uN:w,E=x+b;if(s.includes(E))continue;s.push(E);const R=i(b,_);for(let O=0;O<R.length;++O){const A=R[O];s.push(x+A)}l=d+(l.length>0?" "+l:l)}return l};function OV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dN(e))&&(r&&(r+=" "),r+=n);return r}const dN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dN(t[r]))&&(n&&(n+=" "),n+=e);return n};function DV(t,...e){let n,r,i,s=a;function a(u){const d=e.reduce((h,g)=>g(h),t());return n=CV(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const h=AV(u,n);return i(u,h),h}return function(){return s(OV.apply(null,arguments))}}const Jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fN=/^\[(?:([a-z-]+):)?(.+)\]$/i,MV=/^\d+\/\d+$/,kV=new Set(["px","full","screen"]),NV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=t=>Qc(t)||kV.has(t)||MV.test(t),Ya=t=>wu(t,"length",qV),Qc=t=>!!t&&!Number.isNaN(Number(t)),t0=t=>wu(t,"number",Qc),Cd=t=>!!t&&Number.isInteger(Number(t)),FV=t=>t.endsWith("%")&&Qc(t.slice(0,-1)),Je=t=>fN.test(t),Ka=t=>NV.test(t),UV=new Set(["length","size","percentage"]),zV=t=>wu(t,UV,hN),HV=t=>wu(t,"position",hN),BV=new Set(["image","url"]),$V=t=>wu(t,BV,GV),VV=t=>wu(t,"",WV),Td=()=>!0,wu=(t,e,n)=>{const r=fN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},qV=t=>IV.test(t)&&!PV.test(t),hN=()=>!1,WV=t=>jV.test(t),GV=t=>LV.test(t),YV=()=>{const t=Jt("colors"),e=Jt("spacing"),n=Jt("blur"),r=Jt("brightness"),i=Jt("borderColor"),s=Jt("borderRadius"),a=Jt("borderSpacing"),l=Jt("borderWidth"),u=Jt("contrast"),d=Jt("grayscale"),h=Jt("hueRotate"),g=Jt("invert"),p=Jt("gap"),v=Jt("gradientColorStops"),_=Jt("gradientColorStopPositions"),b=Jt("inset"),w=Jt("margin"),x=Jt("opacity"),E=Jt("padding"),R=Jt("saturate"),O=Jt("scale"),A=Jt("sepia"),I=Jt("skew"),k=Jt("space"),M=Jt("translate"),L=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Je,e],G=()=>[Je,e],se=()=>["",Qs,Ya],ue=()=>["auto",Qc,Je],ye=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Je],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Qc,Je];return{cacheSize:500,separator:":",theme:{colors:[Td],spacing:[Qs,Ya],blur:["none","",Ka,Je],brightness:D(),borderColor:[t],borderRadius:["none","","full",Ka,Je],borderSpacing:G(),borderWidth:se(),contrast:D(),grayscale:Y(),hueRotate:D(),invert:Y(),gap:G(),gradientColorStops:[t],gradientColorStopPositions:[FV,Ya],inset:V(),margin:V(),opacity:D(),padding:G(),saturate:D(),scale:D(),sepia:Y(),skew:D(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Ka]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ye(),Je]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cd,Je]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Cd,Je]}],"grid-cols":[{"grid-cols":[Td]}],"col-start-end":[{col:["auto",{span:["full",Cd,Je]},Je]}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":[Td]}],"row-start-end":[{row:["auto",{span:[Cd,Je]},Je]}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[Ka]},Ka]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ka,Ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",t0]}],"font-family":[{font:[Td]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",Qc,t0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,Ya]}],"underline-offset":[{"underline-offset":["auto",Qs,Je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ye(),HV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$V]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Qs,Je]}],"outline-w":[{outline:[Qs,Ya]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Qs,Ya]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ka,VV]}],"shadow-color":[{shadow:[Td]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ka,Je]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[g]}],saturate:[{saturate:[R]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Cd,Je]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qs,Ya,t0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KV=DV(YV);var n0={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA;function QV(){if(AA)return lr;AA=1;var t=Hp();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},lr.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},lr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},lr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},lr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:v}):h==="script"&&r.d.X(u,{crossOrigin:g,integrity:p,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},lr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},lr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},lr.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},lr.requestFormReset=function(u){r.d.r(u)},lr.unstable_batchedUpdates=function(u,d){return u(d)},lr.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},lr.useFormStatus=function(){return a.H.useHostTransitionStatus()},lr.version="19.2.0",lr}var OA;function XV(){if(OA)return n0.exports;OA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),n0.exports=QV(),n0.exports}var cS=XV();const ZV=Co(cS);function JV(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let P_=1;class e3{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:P_++,a=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:r}),{...u,...e,id:s,dismissible:l,title:r}):u):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const l=i.then(async d=>{if(a=["resolve",d],At.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(n3(d)&&!d.ok){s=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,_=typeof g=="object"&&!At.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:p,..._})}else if(d instanceof Error){s=!1;const g=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,_=typeof g=="object"&&!At.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:p,..._})}else if(n.success!==void 0){s=!1;const g=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,_=typeof g=="object"&&!At.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:p,..._})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,v=typeof h=="object"&&!At.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...v})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=n?.id||P_++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ki=new e3,t3=(t,e)=>{const n=e?.id||P_++;return ki.addToast({title:t,...e,id:n}),n},n3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",r3=t3,i3=()=>ki.toasts,s3=()=>ki.getActiveToasts(),Yf=Object.assign(r3,{success:ki.success,info:ki.info,warning:ki.warning,error:ki.error,custom:ki.custom,message:ki.message,promise:ki.promise,dismiss:ki.dismiss,loading:ki.loading},{getHistory:i3,getToasts:s3});JV("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const gN=6048e5,a3=864e5,mN=6e4,pN=36e5,DA=Symbol.for("constructDateFrom");function pa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&DA in t?t[DA](e):t instanceof Date?new t.constructor(e):new Date(e)}function ui(t,e){return pa(e||t,t)}let o3={};function $p(){return o3}function bf(t,e){const n=$p(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ui(t,e?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Wm(t,e){return bf(t,{...e,weekStartsOn:1})}function vN(t,e){const n=ui(t,e?.in),r=n.getFullYear(),i=pa(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Wm(i),a=pa(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Wm(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function MA(t){const e=ui(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function l3(t,...e){const n=pa.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function kA(t,e){const n=ui(t,e?.in);return n.setHours(0,0,0,0),n}function c3(t,e,n){const[r,i]=l3(n?.in,t,e),s=kA(r),a=kA(i),l=+s-MA(s),u=+a-MA(a);return Math.round((l-u)/a3)}function u3(t,e){const n=vN(t,e),r=pa(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Wm(r)}function d3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function yN(t){return!(!d3(t)&&typeof t!="number"||isNaN(+ui(t)))}function f3(t,e){const n=ui(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const h3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},g3=(t,e,n)=>{let r;const i=h3[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function r0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const m3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},v3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},y3={date:r0({formats:m3,defaultWidth:"full"}),time:r0({formats:p3,defaultWidth:"full"}),dateTime:r0({formats:v3,defaultWidth:"full"})},b3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_3=(t,e,n,r)=>b3[t];function Ad(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const w3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},C3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T3=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},A3={ordinalNumber:T3,era:Ad({values:w3,defaultWidth:"wide"}),quarter:Ad({values:S3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ad({values:x3,defaultWidth:"wide"}),day:Ad({values:E3,defaultWidth:"wide"}),dayPeriod:Ad({values:R3,defaultWidth:"wide",formattingValues:C3,defaultFormattingWidth:"wide"})};function Od(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?D3(l,g=>g.test(a)):O3(l,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function O3(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function D3(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function M3(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const k3=/^(\d+)(th|st|nd|rd)?/i,N3=/\d+/i,I3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P3={any:[/^b/i,/^(a|c)/i]},j3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L3={any:[/1/i,/2/i,/3/i,/4/i]},F3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},B3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V3={ordinalNumber:M3({matchPattern:k3,parsePattern:N3,valueCallback:t=>parseInt(t,10)}),era:Od({matchPatterns:I3,defaultMatchWidth:"wide",parsePatterns:P3,defaultParseWidth:"any"}),quarter:Od({matchPatterns:j3,defaultMatchWidth:"wide",parsePatterns:L3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Od({matchPatterns:F3,defaultMatchWidth:"wide",parsePatterns:U3,defaultParseWidth:"any"}),day:Od({matchPatterns:z3,defaultMatchWidth:"wide",parsePatterns:H3,defaultParseWidth:"any"}),dayPeriod:Od({matchPatterns:B3,defaultMatchWidth:"any",parsePatterns:$3,defaultParseWidth:"any"})},q3={code:"en-US",formatDistance:g3,formatLong:y3,formatRelative:_3,localize:A3,match:V3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function W3(t,e){const n=ui(t,e?.in);return c3(n,f3(n))+1}function G3(t,e){const n=ui(t,e?.in),r=+Wm(n)-+u3(n);return Math.round(r/gN)+1}function bN(t,e){const n=ui(t,e?.in),r=n.getFullYear(),i=$p(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=pa(e?.in||t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=bf(a,e),u=pa(e?.in||t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=bf(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function Y3(t,e){const n=$p(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=bN(t,e),s=pa(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),bf(s,e)}function K3(t,e){const n=ui(t,e?.in),r=+bf(n,e)-+Y3(n,e);return Math.round(r/gN)+1}function kt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Qa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return kt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):kt(n+1,2)},d(t,e){return kt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return kt(t.getHours()%12||12,e.length)},H(t,e){return kt(t.getHours(),e.length)},m(t,e){return kt(t.getMinutes(),e.length)},s(t,e){return kt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return kt(i,e.length)}},Oc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Qa.y(t,e)},Y:function(t,e,n,r){const i=bN(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return kt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):kt(s,e.length)},R:function(t,e){const n=vN(t);return kt(n,e.length)},u:function(t,e){const n=t.getFullYear();return kt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return kt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return kt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Qa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return kt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=K3(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):kt(i,e.length)},I:function(t,e,n){const r=G3(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):kt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qa.d(t,e)},D:function(t,e,n){const r=W3(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):kt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return kt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return kt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return kt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Oc.noon:r===0?i=Oc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Oc.evening:r>=12?i=Oc.afternoon:r>=4?i=Oc.morning:i=Oc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qa.s(t,e)},S:function(t,e){return Qa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return PA(r);case"XXXX":case"XX":return il(r);case"XXXXX":case"XXX":default:return il(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return PA(r);case"xxxx":case"xx":return il(r);case"xxxxx":case"xxx":default:return il(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+IA(r,":");case"OOOO":default:return"GMT"+il(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+IA(r,":");case"zzzz":default:return"GMT"+il(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return kt(r,e.length)},T:function(t,e,n){return kt(+t,e.length)}};function IA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+kt(s,2)}function PA(t,e){return t%60===0?(t>0?"-":"+")+kt(Math.abs(t)/60,2):il(t,e)}function il(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=kt(Math.trunc(r/60),2),s=kt(r%60,2);return n+i+e+s}const jA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_N=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Q3=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return jA(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",jA(r,e)).replace("{{time}}",_N(i,e))},X3={p:_N,P:Q3},Z3=/^D+$/,J3=/^Y+$/,e5=["D","DD","YY","YYYY"];function t5(t){return Z3.test(t)}function n5(t){return J3.test(t)}function r5(t,e,n){const r=i5(t,e,n);if(console.warn(r),e5.includes(t))throw new RangeError(r)}function i5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o5=/^'([^]*?)'?$/,l5=/''/g,c5=/[a-zA-Z]/;function u5(t,e,n){const r=$p(),i=r.locale??q3,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=ui(t,n?.in);if(!yN(l))throw new RangeError("Invalid time value");let u=e.match(a5).map(h=>{const g=h[0];if(g==="p"||g==="P"){const p=X3[g];return p(h,i.formatLong)}return h}).join("").match(s5).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:d5(h)};if(NA[g])return{isToken:!0,value:h};if(g.match(c5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(h=>{if(!h.isToken)return h.value;const g=h.value;(n5(g)||t5(g))&&r5(g,e,String(t));const p=NA[g[0]];return p(l,g,i.localize,d)}).join("")}function d5(t){const e=t.match(o5);return e?e[1].replace(l5,"'"):t}function f5(t,e){const n=()=>pa(e?.in,NaN),i=p5(t);let s;if(i.date){const d=v5(i.date,2);s=y5(d.restDateString,d.year)}if(!s||isNaN(+s))return n();const a=+s;let l=0,u;if(i.time&&(l=b5(i.time),isNaN(l)))return n();if(i.timezone){if(u=_5(i.timezone),isNaN(u))return n()}else{const d=new Date(a+l),h=ui(0,e?.in);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return ui(a+l+u,e?.in)}const Mg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},h5=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,g5=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,m5=/^([+-])(\d{2})(?::?(\d{2}))?$/;function p5(t){const e={},n=t.split(Mg.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Mg.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Mg.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Mg.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function v5(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function y5(t,e){if(e===null)return new Date(NaN);const n=t.match(h5);if(!n)return new Date(NaN);const r=!!n[4],i=Dd(n[1]),s=Dd(n[2])-1,a=Dd(n[3]),l=Dd(n[4]),u=Dd(n[5])-1;if(r)return R5(e,l,u)?w5(e,l,u):new Date(NaN);{const d=new Date(0);return!x5(e,s,a)||!E5(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,a)),d)}}function Dd(t){return t?parseInt(t):1}function b5(t){const e=t.match(g5);if(!e)return NaN;const n=i0(e[1]),r=i0(e[2]),i=i0(e[3]);return C5(n,r,i)?n*pN+r*mN+i*1e3:NaN}function i0(t){return t&&parseFloat(t.replace(",","."))||0}function _5(t){if(t==="Z")return 0;const e=t.match(m5);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return T5(r,i)?n*(r*pN+i*mN):NaN}function w5(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const S5=[31,null,31,30,31,30,31,31,30,31,30,31];function wN(t){return t%400===0||t%4===0&&t%100!==0}function x5(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(S5[e]||(wN(t)?29:28))}function E5(t,e){return e>=1&&e<=(wN(t)?366:365)}function R5(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function C5(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function T5(t,e){return e>=0&&e<=59}const LA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FA=lN,A5=(t,e)=>n=>{var r;if(e?.variants==null)return FA(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(d=>{const h=n?.[d],g=s?.[d];if(h===null)return null;const p=LA(h)||LA(g);return i[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[g,p]=h;return p===void 0||(d[g]=p),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:g,className:p,...v}=h;return Object.entries(v).every(_=>{let[b,w]=_;return Array.isArray(w)?w.includes({...s,...l}[b]):{...s,...l}[b]===w})?[...d,g,p]:d},[]);return FA(t,a,u,n?.class,n?.className)};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function oo(t,e){return typeof t=="function"?t(e):t}function di(t,e){return n=>{e.setState(r=>({...r,[t]:oo(n,r[t])}))}}function Vp(t){return t instanceof Function}function O5(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function D5(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const a=e(s);a!=null&&a.length&&r(a)})};return r(t),n}function Ue(t,e,n){let r=[],i;return s=>{let a;n.key&&n.debug&&(a=Date.now());const l=t(s);if(!(l.length!==r.length||l.some((h,g)=>r[g]!==h)))return i;r=l;let d;if(n.key&&n.debug&&(d=Date.now()),i=e(...l),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-a)*100)/100,g=Math.round((Date.now()-d)*100)/100,p=g/16,v=(_,b)=>{for(_=String(_);_.length<b;)_=" "+_;return _};console.info(`%c ${v(g,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n?.key)}return i}}function ze(t,e,n,r){return{debug:()=>{var i;return(i=t?.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function M5(t,e,n,r){const i=()=>{var a;return(a=s.getValue())!=null?a:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Ue(()=>[t,n,e,s],(a,l,u,d)=>({table:a,column:l,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),ze(t.options,"debugCells"))};return t._features.forEach(a=>{a.createCell==null||a.createCell(s,n,e,t)},{}),s}function k5(t,e,n,r){var i,s;const l={...t._getDefaultColumnDef(),...e},u=l.accessorKey;let d=(i=(s=l.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:u&&(u.includes(".")?h=p=>{let v=p;for(const b of u.split(".")){var _;v=(_=v)==null?void 0:_[b]}return v}:h=p=>p[l.accessorKey]),!d)throw new Error;let g={id:`${String(d)}`,accessorFn:h,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Ue(()=>[!0],()=>{var p;return[g,...(p=g.columns)==null?void 0:p.flatMap(v=>v.getFlatColumns())]},ze(t.options,"debugColumns")),getLeafColumns:Ue(()=>[t._getOrderColumnsFn()],p=>{var v;if((v=g.columns)!=null&&v.length){let _=g.columns.flatMap(b=>b.getLeafColumns());return p(_)}return[g]},ze(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(g,t);return g}const cr="debugHeaders";function UA(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),a.push(u)};return l(s),a},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(a=>{a.createHeader==null||a.createHeader(s,t)}),s}const N5={createTable:t=>{t.getHeaderGroups=Ue(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,a;const l=(s=r?.map(g=>n.find(p=>p.id===g)).filter(Boolean))!=null?s:[],u=(a=i?.map(g=>n.find(p=>p.id===g)).filter(Boolean))!=null?a:[],d=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(i!=null&&i.includes(g.id)));return kg(e,[...l,...d,...u],t)},ze(t.options,cr)),t.getCenterHeaderGroups=Ue(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),kg(e,n,t,"center")),ze(t.options,cr)),t.getLeftHeaderGroups=Ue(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?i:[];return kg(e,s,t,"left")},ze(t.options,cr)),t.getRightHeaderGroups=Ue(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?i:[];return kg(e,s,t,"right")},ze(t.options,cr)),t.getFooterGroups=Ue(()=>[t.getHeaderGroups()],e=>[...e].reverse(),ze(t.options,cr)),t.getLeftFooterGroups=Ue(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),ze(t.options,cr)),t.getCenterFooterGroups=Ue(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),ze(t.options,cr)),t.getRightFooterGroups=Ue(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),ze(t.options,cr)),t.getFlatHeaders=Ue(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),ze(t.options,cr)),t.getLeftFlatHeaders=Ue(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),ze(t.options,cr)),t.getCenterFlatHeaders=Ue(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),ze(t.options,cr)),t.getRightFlatHeaders=Ue(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),ze(t.options,cr)),t.getCenterLeafHeaders=Ue(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ze(t.options,cr)),t.getLeftLeafHeaders=Ue(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ze(t.options,cr)),t.getRightLeafHeaders=Ue(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ze(t.options,cr)),t.getLeafHeaders=Ue(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,a,l,u,d;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(u=(d=r[0])==null?void 0:d.headers)!=null?u:[]].map(h=>h.getLeafHeaders()).flat()},ze(t.options,cr))}};function kg(t,e,n,r){var i,s;let a=0;const l=function(p,v){v===void 0&&(v=1),a=Math.max(a,v),p.filter(_=>_.getIsVisible()).forEach(_=>{var b;(b=_.columns)!=null&&b.length&&l(_.columns,v+1)},0)};l(t);let u=[];const d=(p,v)=>{const _={depth:v,id:[r,`${v}`].filter(Boolean).join("_"),headers:[]},b=[];p.forEach(w=>{const x=[...b].reverse()[0],E=w.column.depth===_.depth;let R,O=!1;if(E&&w.column.parent?R=w.column.parent:(R=w.column,O=!0),x&&x?.column===R)x.subHeaders.push(w);else{const A=UA(n,R,{id:[r,v,R.id,w?.id].filter(Boolean).join("_"),isPlaceholder:O,placeholderId:O?`${b.filter(I=>I.column===R).length}`:void 0,depth:v,index:b.length});A.subHeaders.push(w),b.push(A)}_.headers.push(w),w.headerGroup=_}),u.push(_),v>0&&d(b,v-1)},h=e.map((p,v)=>UA(n,p,{depth:a,index:v}));d(h,a-1),u.reverse();const g=p=>p.filter(_=>_.column.getIsVisible()).map(_=>{let b=0,w=0,x=[0];_.subHeaders&&_.subHeaders.length?(x=[],g(_.subHeaders).forEach(R=>{let{colSpan:O,rowSpan:A}=R;b+=O,x.push(A)})):b=1;const E=Math.min(...x);return w=w+E,_.colSpan=b,_.rowSpan=w,{colSpan:b,rowSpan:w}});return g((i=(s=u[0])==null?void 0:s.headers)!=null?i:[]),u}const I5=(t,e,n,r,i,s,a)=>{let l={id:e,index:r,original:n,depth:i,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return l._valuesCache[u]=d.accessorFn(l.original,r),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=l.getValue(u))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>D5(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;u.push(h),d=h}return u.reverse()},getAllCells:Ue(()=>[t.getAllLeafColumns()],u=>u.map(d=>M5(t,l,d,d.id)),ze(t.options,"debugRows")),_getAllCellsByColumnId:Ue(()=>[l.getAllCells()],u=>u.reduce((d,h)=>(d[h.column.id]=h,d),{}),ze(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createRow==null||d.createRow(l,t)}return l},P5={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},SN=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};SN.autoRemove=t=>Zi(t);const xN=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};xN.autoRemove=t=>Zi(t);const EN=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};EN.autoRemove=t=>Zi(t);const RN=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};RN.autoRemove=t=>Zi(t);const CN=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});CN.autoRemove=t=>Zi(t)||!(t!=null&&t.length);const TN=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});TN.autoRemove=t=>Zi(t)||!(t!=null&&t.length);const AN=(t,e,n)=>t.getValue(e)===n;AN.autoRemove=t=>Zi(t);const ON=(t,e,n)=>t.getValue(e)==n;ON.autoRemove=t=>Zi(t);const uS=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};uS.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(i)?1/0:i;if(s>a){const l=s;s=a,a=l}return[s,a]};uS.autoRemove=t=>Zi(t)||Zi(t[0])&&Zi(t[1]);const na={includesString:SN,includesStringSensitive:xN,equalsString:EN,arrIncludes:RN,arrIncludesAll:CN,arrIncludesSome:TN,equals:AN,weakEquals:ON,inNumberRange:uS};function Zi(t){return t==null||t===""}const j5={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:di("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?na.includesString:typeof r=="number"?na.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?na.equals:Array.isArray(r)?na.arrIncludes:na.weakEquals},t.getFilterFn=()=>{var n,r;return Vp(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:na[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r?.find(h=>h.id===t.id),a=oo(n,s?s.value:void 0);if(zA(i,a,t)){var l;return(l=r?.filter(h=>h.id!==t.id))!=null?l:[]}const u={id:t.id,value:a};if(s){var d;return(d=r?.map(h=>h.id===t.id?u:h))!=null?d:[]}return r!=null&&r.length?[...r,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=oo(e,i))==null?void 0:s.filter(a=>{const l=n.find(u=>u.id===a.id);if(l){const u=l.getFilterFn();if(zA(u,a.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function zA(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const L5=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),F5=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},U5=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},z5=(t,e,n)=>{let r,i;return n.forEach(s=>{const a=s.getValue(t);a!=null&&(r===void 0?a>=a&&(r=i=a):(r>a&&(r=a),i<a&&(i=a)))}),[r,i]},H5=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},B5=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!O5(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,a)=>s-a);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},$5=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),V5=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,q5=(t,e)=>e.length,s0={sum:L5,min:F5,max:U5,extent:z5,mean:H5,median:B5,unique:$5,uniqueCount:V5,count:q5},W5={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:di("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return s0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return s0.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return Vp(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:s0[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function G5(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(a=>a.id===s)).filter(Boolean),...r]}const Y5={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:di("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Ue(n=>[Yd(e,n)],n=>n.findIndex(r=>r.id===t.id),ze(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Yd(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=Yd(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Ue(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const a=[...e],l=[...i];for(;l.length&&a.length;){const u=a.shift(),d=l.findIndex(h=>h.id===u);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return G5(s,n,r)},ze(t.options,"debugTable"))}},a0=()=>({left:[],right:[]}),K5={getInitialState:t=>({columnPinning:a0(),...t}),getDefaultOptions:t=>({onColumnPinningChange:di("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,a;if(n==="right"){var l,u;return{left:((l=i?.left)!=null?l:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((u=i?.right)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var d,h;return{left:[...((d=i?.left)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((h=i?.right)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((s=i?.left)!=null?s:[]).filter(g=>!(r!=null&&r.includes(g))),right:((a=i?.right)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,a;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(a=e.options.enableColumnPinning)!=null?a:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(l=>r?.includes(l)),a=n.some(l=>i?.includes(l));return s?"left":a?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Ue(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(a=>!s.includes(a.column.id))},ze(e.options,"debugRows")),t.getLeftVisibleCells=Ue(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),ze(e.options,"debugRows")),t.getRightVisibleCells=Ue(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),ze(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?a0():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:a0())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Ue(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),ze(t.options,"debugColumns")),t.getRightLeafColumns=Ue(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),ze(t.options,"debugColumns")),t.getCenterLeafColumns=Ue(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},ze(t.options,"debugColumns"))}};function Q5(t){return t||(typeof document<"u"?document:null)}const Ng={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},o0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),X5={getDefaultColumnDef:()=>Ng,getInitialState:t=>({columnSizing:{},columnSizingInfo:o0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:di("columnSizing",t),onColumnSizingInfoChange:di("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Ng.minSize,(r=s??t.columnDef.size)!=null?r:Ng.size),(i=t.columnDef.maxSize)!=null?i:Ng.maxSize)},t.getStart=Ue(n=>[n,Yd(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),ze(e.options,"debugColumns")),t.getAfter=Ue(n=>[n,Yd(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),ze(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r?.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),l0(s)&&s.touches&&s.touches.length>1))return;const a=t.getSize(),l=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[r.id,r.getSize()]],u=l0(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(x,E)=>{typeof E=="number"&&(e.setColumnSizingInfo(R=>{var O,A;const I=e.options.columnResizeDirection==="rtl"?-1:1,k=(E-((O=R?.startOffset)!=null?O:0))*I,M=Math.max(k/((A=R?.startSize)!=null?A:0),-.999999);return R.columnSizingStart.forEach(L=>{let[H,V]=L;d[H]=Math.round(Math.max(V+V*M,0)*100)/100}),{...R,deltaOffset:k,deltaPercentage:M}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(R=>({...R,...d})))},g=x=>h("move",x),p=x=>{h("end",x),e.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=Q5(n),_={moveHandler:x=>g(x.clientX),upHandler:x=>{v?.removeEventListener("mousemove",_.moveHandler),v?.removeEventListener("mouseup",_.upHandler),p(x.clientX)}},b={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),g(x.touches[0].clientX),!1),upHandler:x=>{var E;v?.removeEventListener("touchmove",b.moveHandler),v?.removeEventListener("touchend",b.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),p((E=x.touches[0])==null?void 0:E.clientX)}},w=Z5()?{passive:!1}:!1;l0(s)?(v?.addEventListener("touchmove",b.moveHandler,w),v?.addEventListener("touchend",b.upHandler,w)):(v?.addEventListener("mousemove",_.moveHandler,w),v?.addEventListener("mouseup",_.upHandler,w)),e.setColumnSizingInfo(x=>({...x,startOffset:u,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?o0():(n=t.initialState.columnSizingInfo)!=null?n:o0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let Ig=null;function Z5(){if(typeof Ig=="boolean")return Ig;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Ig=t,Ig}function l0(t){return t.type==="touchstart"}const J5={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:di("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Ue(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),ze(e.options,"debugRows")),t.getVisibleCells=Ue(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],ze(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Ue(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),ze(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Yd(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const eq={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},tq={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:di("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>na.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return Vp(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:na[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},nq={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:di("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const a=s.split(".");r=Math.max(r,a.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let a={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=r,n=(i=n)!=null?i:!s,!s&&n)return{...a,[t.id]:!0};if(s&&!n){const{[t.id]:l,...u}=a;return u}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},j_=0,L_=10,c0=()=>({pageIndex:j_,pageSize:L_}),rq={getInitialState:t=>({...t,pagination:{...c0(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:di("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>oo(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?c0():(i=t.initialState.pagination)!=null?i:c0())},t.setPageIndex=r=>{t.setPagination(i=>{let s=oo(r,i.pageIndex);const a=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?j_:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:j_)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?L_:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:L_)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,oo(r,i.pageSize)),a=i.pageSize*i.pageIndex,l=Math.floor(a/s);return{...i,pageIndex:l,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let a=oo(r,(s=t.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...i,pageCount:a}}),t.getPageOptions=Ue(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,a)=>a)),i},ze(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},u0=()=>({top:[],bottom:[]}),iq={getInitialState:t=>({rowPinning:u0(),...t}),getDefaultOptions:t=>({onRowPinningChange:di("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(u=>{let{id:d}=u;return d}):[],a=i?t.getParentRows().map(u=>{let{id:d}=u;return d}):[],l=new Set([...a,t.id,...s]);e.setRowPinning(u=>{var d,h;if(n==="bottom"){var g,p;return{top:((g=u?.top)!=null?g:[]).filter(b=>!(l!=null&&l.has(b))),bottom:[...((p=u?.bottom)!=null?p:[]).filter(b=>!(l!=null&&l.has(b))),...Array.from(l)]}}if(n==="top"){var v,_;return{top:[...((v=u?.top)!=null?v:[]).filter(b=>!(l!=null&&l.has(b))),...Array.from(l)],bottom:((_=u?.bottom)!=null?_:[]).filter(b=>!(l!=null&&l.has(b)))}}return{top:((d=u?.top)!=null?d:[]).filter(b=>!(l!=null&&l.has(b))),bottom:((h=u?.bottom)!=null?h:[]).filter(b=>!(l!=null&&l.has(b)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(l=>r?.includes(l)),a=n.some(l=>i?.includes(l));return s?"top":a?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(r=s?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?u0():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:u0())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(a=>{const l=t.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>e.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:r}))},t.getTopRows=Ue(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),ze(t.options,"debugRows")),t.getBottomRows=Ue(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),ze(t.options,"debugRows")),t.getCenterRows=Ue(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},ze(t.options,"debugRows"))}},sq={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:di("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{F_(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Ue(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?d0(t,n):{rows:[],flatRows:[],rowsById:{}},ze(t.options,"debugTable")),t.getFilteredSelectedRowModel=Ue(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?d0(t,n):{rows:[],flatRows:[],rowsById:{}},ze(t.options,"debugTable")),t.getGroupedSelectedRowModel=Ue(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?d0(t,n):{rows:[],flatRows:[],rowsById:{}},ze(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var a;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const l={...s};return F_(l,t.id,n,(a=r?.selectChildren)!=null?a:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return dS(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return U_(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return U_(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},F_=(t,e,n,r,i)=>{var s;const a=i.getRow(e,!0);n?(a.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),a.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>F_(t,l.id,n,r,i))};function d0(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(a,l){return a.map(u=>{var d;const h=dS(u,n);if(h&&(r.push(u),i[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:s(u.subRows)}),h)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function dS(t,e){var n;return(n=e[t.id])!=null?n:!1}function U_(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(a=>{if(!(s&&!i)&&(a.getCanSelect()&&(dS(a,e)?s=!0:i=!1),a.subRows&&a.subRows.length)){const l=U_(a,e);l==="all"?s=!0:(l==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const z_=/([0-9]+)/gm,aq=(t,e,n)=>DN(yo(t.getValue(n)).toLowerCase(),yo(e.getValue(n)).toLowerCase()),oq=(t,e,n)=>DN(yo(t.getValue(n)),yo(e.getValue(n))),lq=(t,e,n)=>fS(yo(t.getValue(n)).toLowerCase(),yo(e.getValue(n)).toLowerCase()),cq=(t,e,n)=>fS(yo(t.getValue(n)),yo(e.getValue(n))),uq=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},dq=(t,e,n)=>fS(t.getValue(n),e.getValue(n));function fS(t,e){return t===e?0:t>e?1:-1}function yo(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function DN(t,e){const n=t.split(z_).filter(Boolean),r=e.split(z_).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),a=parseInt(i,10),l=parseInt(s,10),u=[a,l].sort();if(isNaN(u[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(u[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-r.length}const Md={alphanumeric:aq,alphanumericCaseSensitive:oq,text:lq,textCaseSensitive:cq,datetime:uq,basic:dq},fq={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:di("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i?.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return Md.datetime;if(typeof s=="string"&&(r=!0,s.split(z_).length>1))return Md.alphanumeric}return r?Md.text:Md.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return Vp(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:Md[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(a=>{const l=a?.find(v=>v.id===t.id),u=a?.findIndex(v=>v.id===t.id);let d=[],h,g=s?n:i==="desc";if(a!=null&&a.length&&t.getCanMultiSort()&&r?l?h="toggle":h="add":a!=null&&a.length&&u!==a.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||i||(h="remove")),h==="add"){var p;d=[...a,{id:t.id,desc:g}],d.splice(0,d.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=a.map(v=>v.id===t.id?{...v,desc:g}:v):h==="remove"?d=a.filter(v=>v.id!==t.id):d=[{id:t.id,desc:g}];return d})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),a=t.getIsSorted();return a?a!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:a==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},hq=[N5,J5,Y5,K5,P5,j5,eq,tq,fq,W5,nq,rq,iq,sq,X5];function gq(t){var e,n;const r=[...hq,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((p,v)=>Object.assign(p,v.getDefaultOptions==null?void 0:v.getDefaultOptions(i)),{}),a=p=>i.options.mergeOptions?i.options.mergeOptions(s,p):{...s,...p};let u={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(p=>{var v;u=(v=p.getInitialState==null?void 0:p.getInitialState(u))!=null?v:u});const d=[];let h=!1;const g={_features:r,options:{...s,...t},initialState:u,_queue:p=>{d.push(p),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(v=>setTimeout(()=>{throw v})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const v=oo(p,i.options);i.options=a(v)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,v,_)=>{var b;return(b=i.options.getRowId==null?void 0:i.options.getRowId(p,v,_))!=null?b:`${_?[_.id,v].join("."):v}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,v)=>{let _=(v?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!_&&(_=i.getCoreRowModel().rowsById[p],!_))throw new Error;return _},_getDefaultColumnDef:Ue(()=>[i.options.defaultColumn],p=>{var v;return p=(v=p)!=null?v:{},{header:_=>{const b=_.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:_=>{var b,w;return(b=(w=_.renderValue())==null||w.toString==null?void 0:w.toString())!=null?b:null},...i._features.reduce((_,b)=>Object.assign(_,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...p}},ze(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Ue(()=>[i._getColumnDefs()],p=>{const v=function(_,b,w){return w===void 0&&(w=0),_.map(x=>{const E=k5(i,x,w,b),R=x;return E.columns=R.columns?v(R.columns,E,w+1):[],E})};return v(p)},ze(t,"debugColumns")),getAllFlatColumns:Ue(()=>[i.getAllColumns()],p=>p.flatMap(v=>v.getFlatColumns()),ze(t,"debugColumns")),_getAllFlatColumnsById:Ue(()=>[i.getAllFlatColumns()],p=>p.reduce((v,_)=>(v[_.id]=_,v),{}),ze(t,"debugColumns")),getAllLeafColumns:Ue(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,v)=>{let _=p.flatMap(b=>b.getLeafColumns());return v(_)},ze(t,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,g);for(let p=0;p<i._features.length;p++){const v=i._features[p];v==null||v.createTable==null||v.createTable(i)}return i}function mq(){return t=>Ue(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,a){s===void 0&&(s=0);const l=[];for(let d=0;d<i.length;d++){const h=I5(t,t._getRowId(i[d],d,a),i[d],d,s,void 0,a?.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var u;h.originalSubRows=t.options.getSubRows(i[d],d),(u=h.originalSubRows)!=null&&u.length&&(h.subRows=r(h.originalSubRows,s+1,h))}}return l};return n.rows=r(e),n},ze(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function pq(){return t=>Ue(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(u=>{var d;return(d=t.getColumn(u.id))==null?void 0:d.getCanSort()}),a={};s.forEach(u=>{const d=t.getColumn(u.id);d&&(a[u.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=u=>{const d=u.map(h=>({...h}));return d.sort((h,g)=>{for(let v=0;v<s.length;v+=1){var p;const _=s[v],b=a[_.id],w=b.sortUndefined,x=(p=_?.desc)!=null?p:!1;let E=0;if(w){const R=h.getValue(_.id),O=g.getValue(_.id),A=R===void 0,I=O===void 0;if(A||I){if(w==="first")return A?-1:1;if(w==="last")return A?1:-1;E=A&&I?0:A?w:-w}}if(E===0&&(E=b.sortingFn(h,g,_.id)),E!==0)return x&&(E*=-1),b.invertSorting&&(E*=-1),E}return h.index-g.index}),d.forEach(h=>{var g;i.push(h),(g=h.subRows)!=null&&g.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:i,rowsById:n.rowsById}},ze(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function HA(t,e){return t?vq(t)?j.createElement(t,e):t:null}function vq(t){return yq(t)||typeof t=="function"||bq(t)}function yq(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function bq(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function _q(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=j.useState(()=>({current:gq(e)})),[r,i]=j.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:a=>{i(a),t.onStateChange==null||t.onStateChange(a)}})),n.current}var Kf=t=>t.type==="checkbox",pl=t=>t instanceof Date,Br=t=>t==null;const MN=t=>typeof t=="object";var Nn=t=>!Br(t)&&!Array.isArray(t)&&MN(t)&&!pl(t),wq=t=>Nn(t)&&t.target?Kf(t.target)?t.target.checked:t.target.value:t,Sq=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,xq=(t,e)=>t.has(Sq(e)),Eq=t=>{const e=t.constructor&&t.constructor.prototype;return Nn(e)&&e.hasOwnProperty("isPrototypeOf")},hS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(hS&&(t instanceof Blob||r))&&(n||Nn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!Eq(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Gn(t[i]));else return t;return e}var qp=t=>/^\w*$/.test(t),wn=t=>t===void 0,gS=t=>Array.isArray(t)?t.filter(Boolean):[],mS=t=>gS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(t,e,n)=>{if(!e||!Nn(t))return n;const r=(qp(e)?[e]:mS(e)).reduce((i,s)=>Br(i)?i:i[s],t);return wn(r)||r===t?wn(t[e])?n:t[e]:r},ys=t=>typeof t=="boolean",an=(t,e,n)=>{let r=-1;const i=qp(e)?[e]:mS(e),s=i.length,a=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==a){const d=t[l];u=Nn(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const BA={BLUR:"blur",FOCUS_OUT:"focusout"},Yi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rq=At.createContext(null);Rq.displayName="HookFormContext";var Cq=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Yi.all&&(e._proxyFormState[a]=!r||Yi.all),t[a]}});return i};const Tq=typeof window<"u"?At.useLayoutEffect:At.useEffect;var ii=t=>typeof t=="string",Aq=(t,e,n,r,i)=>ii(t)?(r&&e.watch.add(t),Me(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Me(n,s))):(r&&(e.watchAll=!0),n),H_=t=>Br(t)||!MN(t);function so(t,e,n=new WeakSet){if(H_(t)||H_(e))return t===e;if(pl(t)&&pl(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=e[s];if(pl(a)&&pl(l)||Nn(a)&&Nn(l)||Array.isArray(a)&&Array.isArray(l)?!so(a,l,n):a!==l)return!1}}return!0}var Oq=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Kd=t=>Array.isArray(t)?t:[t],$A=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function kN(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],s=e[r];if(i&&Nn(i)&&s){const a=kN(i,s);Nn(a)&&(n[r]=a)}else t[r]&&(n[r]=s)}return n}var Ur=t=>Nn(t)&&!Object.keys(t).length,pS=t=>t.type==="file",Ki=t=>typeof t=="function",Gm=t=>{if(!hS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},NN=t=>t.type==="select-multiple",vS=t=>t.type==="radio",Dq=t=>vS(t)||Kf(t),f0=t=>Gm(t)&&t.isConnected;function Mq(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=wn(t)?r++:t[e[r++]];return t}function kq(t){for(const e in t)if(t.hasOwnProperty(e)&&!wn(t[e]))return!1;return!0}function Dn(t,e){const n=Array.isArray(e)?e:qp(e)?[e]:mS(e),r=n.length===1?t:Mq(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Nn(r)&&Ur(r)||Array.isArray(r)&&kq(r))&&Dn(t,n.slice(0,-1)),t}var Nq=t=>{for(const e in t)if(Ki(t[e]))return!0;return!1};function IN(t){return Array.isArray(t)||Nn(t)&&!Nq(t)}function B_(t,e={}){for(const n in t)IN(t[n])?(e[n]=Array.isArray(t[n])?[]:{},B_(t[n],e[n])):wn(t[n])||(e[n]=!0);return e}function $c(t,e,n){n||(n=B_(e));for(const r in t)IN(t[r])?wn(e)||H_(n[r])?n[r]=B_(t[r],Array.isArray(t[r])?[]:{}):$c(t[r],Br(e)?{}:e[r],n[r]):n[r]=!so(t[r],e[r]);return n}const VA={value:!1,isValid:!1},qA={value:!0,isValid:!0};var PN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wn(t[0].attributes.value)?wn(t[0].value)||t[0].value===""?qA:{value:t[0].value,isValid:!0}:qA:VA}return VA},jN=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>wn(t)?t:e?t===""?NaN:t&&+t:n&&ii(t)?new Date(t):r?r(t):t;const WA={isValid:!1,value:null};var LN=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,WA):WA;function GA(t){const e=t.ref;return pS(e)?e.files:vS(e)?LN(t.refs).value:NN(e)?[...e.selectedOptions].map(({value:n})=>n):Kf(e)?PN(t.refs).value:jN(wn(e.value)?t.ref.value:e.value,t)}var Iq=(t,e,n,r)=>{const i={};for(const s of t){const a=Me(e,s);a&&an(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ym=t=>t instanceof RegExp,kd=t=>wn(t)?t:Ym(t)?t.source:Nn(t)?Ym(t.value)?t.value.source:t.value:t,YA=t=>({isOnSubmit:!t||t===Yi.onSubmit,isOnBlur:t===Yi.onBlur,isOnChange:t===Yi.onChange,isOnAll:t===Yi.all,isOnTouch:t===Yi.onTouched});const KA="AsyncFunction";var Pq=t=>!!t&&!!t.validate&&!!(Ki(t.validate)&&t.validate.constructor.name===KA||Nn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===KA)),jq=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),QA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Qd=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Me(t,i);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Qd(l,e))break}else if(Nn(l)&&Qd(l,e))break}}};function XA(t,e,n){const r=Me(t,n);if(r||qp(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=Me(e,s),l=Me(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var Lq=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Ur(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Yi.all))},Fq=(t,e,n)=>!t||!e||t===e||Kd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Uq=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,zq=(t,e)=>!gS(Me(t,e)).length&&Dn(t,e),Hq=(t,e,n)=>{const r=Kd(Me(t,n));return an(r,"root",e[n]),an(t,n,r),t};function ZA(t,e,n="validate"){if(ii(t)||Array.isArray(t)&&t.every(ii)||ys(t)&&!t)return{type:n,message:ii(t)?t:"",ref:e}}var Dc=t=>Nn(t)&&!Ym(t)?t:{value:t,message:""},JA=async(t,e,n,r,i,s)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:h,min:g,max:p,pattern:v,validate:_,name:b,valueAsNumber:w,mount:x}=t._f,E=Me(n,b);if(!x||e.has(b))return{};const R=l?l[0]:a,O=G=>{i&&R.reportValidity&&(R.setCustomValidity(ys(G)?"":G||""),R.reportValidity())},A={},I=vS(a),k=Kf(a),M=I||k,L=(w||pS(a))&&wn(a.value)&&wn(E)||Gm(a)&&a.value===""||E===""||Array.isArray(E)&&!E.length,H=Oq.bind(null,b,r,A),V=(G,se,ue,ye=Xs.maxLength,U=Xs.minLength)=>{const K=G?se:ue;A[b]={type:G?ye:U,message:K,ref:a,...H(G?ye:U,K)}};if(s?!Array.isArray(E)||!E.length:u&&(!M&&(L||Br(E))||ys(E)&&!E||k&&!PN(l).isValid||I&&!LN(l).isValid)){const{value:G,message:se}=ii(u)?{value:!!u,message:u}:Dc(u);if(G&&(A[b]={type:Xs.required,message:se,ref:R,...H(Xs.required,se)},!r))return O(se),A}if(!L&&(!Br(g)||!Br(p))){let G,se;const ue=Dc(p),ye=Dc(g);if(!Br(E)&&!isNaN(E)){const U=a.valueAsNumber||E&&+E;Br(ue.value)||(G=U>ue.value),Br(ye.value)||(se=U<ye.value)}else{const U=a.valueAsDate||new Date(E),K=me=>new Date(new Date().toDateString()+" "+me),ne=a.type=="time",Y=a.type=="week";ii(ue.value)&&E&&(G=ne?K(E)>K(ue.value):Y?E>ue.value:U>new Date(ue.value)),ii(ye.value)&&E&&(se=ne?K(E)<K(ye.value):Y?E<ye.value:U<new Date(ye.value))}if((G||se)&&(V(!!G,ue.message,ye.message,Xs.max,Xs.min),!r))return O(A[b].message),A}if((d||h)&&!L&&(ii(E)||s&&Array.isArray(E))){const G=Dc(d),se=Dc(h),ue=!Br(G.value)&&E.length>+G.value,ye=!Br(se.value)&&E.length<+se.value;if((ue||ye)&&(V(ue,G.message,se.message),!r))return O(A[b].message),A}if(v&&!L&&ii(E)){const{value:G,message:se}=Dc(v);if(Ym(G)&&!E.match(G)&&(A[b]={type:Xs.pattern,message:se,ref:a,...H(Xs.pattern,se)},!r))return O(se),A}if(_){if(Ki(_)){const G=await _(E,n),se=ZA(G,R);if(se&&(A[b]={...se,...H(Xs.validate,se.message)},!r))return O(se.message),A}else if(Nn(_)){let G={};for(const se in _){if(!Ur(G)&&!r)break;const ue=ZA(await _[se](E,n),R,se);ue&&(G={...ue,...H(se,ue.message)},O(ue.message),r&&(A[b]=G))}if(!Ur(G)&&(A[b]={ref:R,...G},!r))return A}}return O(!0),A};const Bq={mode:Yi.onSubmit,reValidateMode:Yi.onChange,shouldFocusError:!0};function $q(t={}){let e={...Bq,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ki(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Nn(e.defaultValues)||Nn(e.values)?Gn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Gn(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const p={array:$A(),state:$A()},v=e.criteriaMode===Yi.all,_=F=>X=>{clearTimeout(d),d=setTimeout(F,X)},b=async F=>{if(!e.disabled&&(h.isValid||g.isValid||F)){const X=e.resolver?Ur((await k()).errors):await L(r,!0);X!==n.isValid&&p.state.next({isValid:X})}},w=(F,X)=>{!e.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&((F||Array.from(l.mount)).forEach(te=>{te&&(X?an(n.validatingFields,te,X):Dn(n.validatingFields,te))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ur(n.validatingFields)}))},x=(F,X=[],te,J,ae=!0,de=!0)=>{if(J&&te&&!e.disabled){if(a.action=!0,de&&Array.isArray(Me(r,F))){const we=te(Me(r,F),J.argA,J.argB);ae&&an(r,F,we)}if(de&&Array.isArray(Me(n.errors,F))){const we=te(Me(n.errors,F),J.argA,J.argB);ae&&an(n.errors,F,we),zq(n.errors,F)}if((h.touchedFields||g.touchedFields)&&de&&Array.isArray(Me(n.touchedFields,F))){const we=te(Me(n.touchedFields,F),J.argA,J.argB);ae&&an(n.touchedFields,F,we)}(h.dirtyFields||g.dirtyFields)&&(n.dirtyFields=$c(i,s)),p.state.next({name:F,isDirty:V(F,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else an(s,F,X)},E=(F,X)=>{an(n.errors,F,X),p.state.next({errors:n.errors})},R=F=>{n.errors=F,p.state.next({errors:n.errors,isValid:!1})},O=(F,X,te,J)=>{const ae=Me(r,F);if(ae){const de=Me(s,F,wn(te)?Me(i,F):te);wn(de)||J&&J.defaultChecked||X?an(s,F,X?de:GA(ae._f)):ue(F,de),a.mount&&b()}},A=(F,X,te,J,ae)=>{let de=!1,we=!1;const xe={name:F};if(!e.disabled){if(!te||J){(h.isDirty||g.isDirty)&&(we=n.isDirty,n.isDirty=xe.isDirty=V(),de=we!==xe.isDirty);const Ee=so(Me(i,F),X);we=!!Me(n.dirtyFields,F),Ee?Dn(n.dirtyFields,F):an(n.dirtyFields,F,!0),xe.dirtyFields=n.dirtyFields,de=de||(h.dirtyFields||g.dirtyFields)&&we!==!Ee}if(te){const Ee=Me(n.touchedFields,F);Ee||(an(n.touchedFields,F,te),xe.touchedFields=n.touchedFields,de=de||(h.touchedFields||g.touchedFields)&&Ee!==te)}de&&ae&&p.state.next(xe)}return de?xe:{}},I=(F,X,te,J)=>{const ae=Me(n.errors,F),de=(h.isValid||g.isValid)&&ys(X)&&n.isValid!==X;if(e.delayError&&te?(u=_(()=>E(F,te)),u(e.delayError)):(clearTimeout(d),u=null,te?an(n.errors,F,te):Dn(n.errors,F)),(te?!so(ae,te):ae)||!Ur(J)||de){const we={...J,...de&&ys(X)?{isValid:X}:{},errors:n.errors,name:F};n={...n,...we},p.state.next(we)}},k=async F=>{w(F,!0);const X=await e.resolver(s,e.context,Iq(F||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(F),X},M=async F=>{const{errors:X}=await k(F);if(F)for(const te of F){const J=Me(X,te);J?an(n.errors,te,J):Dn(n.errors,te)}else n.errors=X;return X},L=async(F,X,te={valid:!0})=>{for(const J in F){const ae=F[J];if(ae){const{_f:de,...we}=ae;if(de){const xe=l.array.has(de.name),Ee=ae._f&&Pq(ae._f);Ee&&h.validatingFields&&w([de.name],!0);const Ne=await JA(ae,l.disabled,s,v,e.shouldUseNativeValidation&&!X,xe);if(Ee&&h.validatingFields&&w([de.name]),Ne[de.name]&&(te.valid=!1,X))break;!X&&(Me(Ne,de.name)?xe?Hq(n.errors,Ne,de.name):an(n.errors,de.name,Ne[de.name]):Dn(n.errors,de.name))}!Ur(we)&&await L(we,X,te)}}return te.valid},H=()=>{for(const F of l.unMount){const X=Me(r,F);X&&(X._f.refs?X._f.refs.every(te=>!f0(te)):!f0(X._f.ref))&&_e(F)}l.unMount=new Set},V=(F,X)=>!e.disabled&&(F&&X&&an(s,F,X),!so(me(),i)),G=(F,X,te)=>Aq(F,l,{...a.mount?s:wn(X)?i:ii(F)?{[F]:X}:X},te,X),se=F=>gS(Me(a.mount?s:i,F,e.shouldUnregister?Me(i,F,[]):[])),ue=(F,X,te={})=>{const J=Me(r,F);let ae=X;if(J){const de=J._f;de&&(!de.disabled&&an(s,F,jN(X,de)),ae=Gm(de.ref)&&Br(X)?"":X,NN(de.ref)?[...de.ref.options].forEach(we=>we.selected=ae.includes(we.value)):de.refs?Kf(de.ref)?de.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(ae)?we.checked=!!ae.find(xe=>xe===we.value):we.checked=ae===we.value||!!ae)}):de.refs.forEach(we=>we.checked=we.value===ae):pS(de.ref)?de.ref.value="":(de.ref.value=ae,de.ref.type||p.state.next({name:F,values:Gn(s)})))}(te.shouldDirty||te.shouldTouch)&&A(F,ae,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&Y(F)},ye=(F,X,te)=>{for(const J in X){if(!X.hasOwnProperty(J))return;const ae=X[J],de=F+"."+J,we=Me(r,de);(l.array.has(F)||Nn(ae)||we&&!we._f)&&!pl(ae)?ye(de,ae,te):ue(de,ae,te)}},U=(F,X,te={})=>{const J=Me(r,F),ae=l.array.has(F),de=Gn(X);an(s,F,de),ae?(p.array.next({name:F,values:Gn(s)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&te.shouldDirty&&p.state.next({name:F,dirtyFields:$c(i,s),isDirty:V(F,de)})):J&&!J._f&&!Br(de)?ye(F,de,te):ue(F,de,te),QA(F,l)&&p.state.next({...n,name:F}),p.state.next({name:a.mount?F:void 0,values:Gn(s)})},K=async F=>{a.mount=!0;const X=F.target;let te=X.name,J=!0;const ae=Me(r,te),de=Ee=>{J=Number.isNaN(Ee)||pl(Ee)&&isNaN(Ee.getTime())||so(Ee,Me(s,te,Ee))},we=YA(e.mode),xe=YA(e.reValidateMode);if(ae){let Ee,Ne;const Qe=X.type?GA(ae._f):wq(F),Ve=F.type===BA.BLUR||F.type===BA.FOCUS_OUT,dt=!jq(ae._f)&&!e.resolver&&!Me(n.errors,te)&&!ae._f.deps||Uq(Ve,Me(n.touchedFields,te),n.isSubmitted,xe,we),it=QA(te,l,Ve);an(s,te,Qe),Ve?(!X||!X.readOnly)&&(ae._f.onBlur&&ae._f.onBlur(F),u&&u(0)):ae._f.onChange&&ae._f.onChange(F);const Ht=A(te,Qe,Ve),st=!Ur(Ht)||it;if(!Ve&&p.state.next({name:te,type:F.type,values:Gn(s)}),dt)return(h.isValid||g.isValid)&&(e.mode==="onBlur"?Ve&&b():Ve||b()),st&&p.state.next({name:te,...it?{}:Ht});if(!Ve&&it&&p.state.next({...n}),e.resolver){const{errors:He}=await k([te]);if(de(Qe),J){const yn=XA(n.errors,r,te),nt=XA(He,r,yn.name||te);Ee=nt.error,te=nt.name,Ne=Ur(He)}}else w([te],!0),Ee=(await JA(ae,l.disabled,s,v,e.shouldUseNativeValidation))[te],w([te]),de(Qe),J&&(Ee?Ne=!1:(h.isValid||g.isValid)&&(Ne=await L(r,!0)));J&&(ae._f.deps&&(!Array.isArray(ae._f.deps)||ae._f.deps.length>0)&&Y(ae._f.deps),I(te,Ne,Ee,Ht))}},ne=(F,X)=>{if(Me(n.errors,X)&&F.focus)return F.focus(),1},Y=async(F,X={})=>{let te,J;const ae=Kd(F);if(e.resolver){const de=await M(wn(F)?F:ae);te=Ur(de),J=F?!ae.some(we=>Me(de,we)):te}else F?(J=(await Promise.all(ae.map(async de=>{const we=Me(r,de);return await L(we&&we._f?{[de]:we}:we)}))).every(Boolean),!(!J&&!n.isValid)&&b()):J=te=await L(r);return p.state.next({...!ii(F)||(h.isValid||g.isValid)&&te!==n.isValid?{}:{name:F},...e.resolver||!F?{isValid:te}:{},errors:n.errors}),X.shouldFocus&&!J&&Qd(r,ne,F?ae:l.mount),J},me=(F,X)=>{let te={...a.mount?s:i};return X&&(te=kN(X.dirtyFields?n.dirtyFields:n.touchedFields,te)),wn(F)?te:ii(F)?Me(te,F):F.map(J=>Me(te,J))},D=(F,X)=>({invalid:!!Me((X||n).errors,F),isDirty:!!Me((X||n).dirtyFields,F),error:Me((X||n).errors,F),isValidating:!!Me(n.validatingFields,F),isTouched:!!Me((X||n).touchedFields,F)}),$=F=>{F&&Kd(F).forEach(X=>Dn(n.errors,X)),p.state.next({errors:F?n.errors:{}})},Q=(F,X,te)=>{const J=(Me(r,F,{_f:{}})._f||{}).ref,ae=Me(n.errors,F)||{},{ref:de,message:we,type:xe,...Ee}=ae;an(n.errors,F,{...Ee,...X,ref:J}),p.state.next({name:F,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&J&&J.focus&&J.focus()},ee=(F,X)=>Ki(F)?p.state.subscribe({next:te=>"values"in te&&F(G(void 0,X),te)}):G(F,X,!0),he=F=>p.state.subscribe({next:X=>{Fq(F.name,X.name,F.exact)&&Lq(X,F.formState||h,Wt,F.reRenderRoot)&&F.callback({values:{...s},...n,...X,defaultValues:i})}}).unsubscribe,pe=F=>(a.mount=!0,g={...g,...F.formState},he({...F,formState:g})),_e=(F,X={})=>{for(const te of F?Kd(F):l.mount)l.mount.delete(te),l.array.delete(te),X.keepValue||(Dn(r,te),Dn(s,te)),!X.keepError&&Dn(n.errors,te),!X.keepDirty&&Dn(n.dirtyFields,te),!X.keepTouched&&Dn(n.touchedFields,te),!X.keepIsValidating&&Dn(n.validatingFields,te),!e.shouldUnregister&&!X.keepDefaultValue&&Dn(i,te);p.state.next({values:Gn(s)}),p.state.next({...n,...X.keepDirty?{isDirty:V()}:{}}),!X.keepIsValid&&b()},Se=({disabled:F,name:X})=>{(ys(F)&&a.mount||F||l.disabled.has(X))&&(F?l.disabled.add(X):l.disabled.delete(X))},Oe=(F,X={})=>{let te=Me(r,F);const J=ys(X.disabled)||ys(e.disabled);return an(r,F,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:F}},name:F,mount:!0,...X}}),l.mount.add(F),te?Se({disabled:ys(X.disabled)?X.disabled:e.disabled,name:F}):O(F,!0,X.value),{...J?{disabled:X.disabled||e.disabled}:{},...e.progressive?{required:!!X.required,min:kd(X.min),max:kd(X.max),minLength:kd(X.minLength),maxLength:kd(X.maxLength),pattern:kd(X.pattern)}:{},name:F,onChange:K,onBlur:K,ref:ae=>{if(ae){Oe(F,X),te=Me(r,F);const de=wn(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,we=Dq(de),xe=te._f.refs||[];if(we?xe.find(Ee=>Ee===de):de===te._f.ref)return;an(r,F,{_f:{...te._f,...we?{refs:[...xe.filter(f0),de,...Array.isArray(Me(i,F))?[{}]:[]],ref:{type:de.type,name:F}}:{ref:de}}}),O(F,!1,void 0,de)}else te=Me(r,F,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||X.shouldUnregister)&&!(xq(l.array,F)&&a.action)&&l.unMount.add(F)}}},tt=()=>e.shouldFocusError&&Qd(r,ne,l.mount),qt=F=>{ys(F)&&(p.state.next({disabled:F}),Qd(r,(X,te)=>{const J=Me(r,te);J&&(X.disabled=J._f.disabled||F,Array.isArray(J._f.refs)&&J._f.refs.forEach(ae=>{ae.disabled=J._f.disabled||F}))},0,!1))},zt=(F,X)=>async te=>{let J;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let ae=Gn(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:de,values:we}=await k();n.errors=de,ae=Gn(we)}else await L(r);if(l.disabled.size)for(const de of l.disabled)Dn(ae,de);if(Dn(n.errors,"root"),Ur(n.errors)){p.state.next({errors:{}});try{await F(ae,te)}catch(de){J=de}}else X&&await X({...n.errors},te),tt(),setTimeout(tt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ur(n.errors)&&!J,submitCount:n.submitCount+1,errors:n.errors}),J)throw J},Pn=(F,X={})=>{Me(r,F)&&(wn(X.defaultValue)?U(F,Gn(Me(i,F))):(U(F,X.defaultValue),an(i,F,Gn(X.defaultValue))),X.keepTouched||Dn(n.touchedFields,F),X.keepDirty||(Dn(n.dirtyFields,F),n.isDirty=X.defaultValue?V(F,Gn(Me(i,F))):V()),X.keepError||(Dn(n.errors,F),h.isValid&&b()),p.state.next({...n}))},Ce=(F,X={})=>{const te=F?Gn(F):i,J=Gn(te),ae=Ur(F),de=ae?i:J;if(X.keepDefaultValues||(i=te),!X.keepValues){if(X.keepDirtyValues){const we=new Set([...l.mount,...Object.keys($c(i,s))]);for(const xe of Array.from(we))Me(n.dirtyFields,xe)?an(de,xe,Me(s,xe)):U(xe,Me(de,xe))}else{if(hS&&wn(F))for(const we of l.mount){const xe=Me(r,we);if(xe&&xe._f){const Ee=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(Gm(Ee)){const Ne=Ee.closest("form");if(Ne){Ne.reset();break}}}}if(X.keepFieldsRef)for(const we of l.mount)U(we,Me(de,we));else r={}}s=e.shouldUnregister?X.keepDefaultValues?Gn(i):{}:Gn(de),p.array.next({values:{...de}}),p.state.next({values:{...de}})}l={mount:X.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!X.keepIsValid||!!X.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:ae?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!so(F,i)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ae?{}:X.keepDirtyValues?X.keepDefaultValues&&s?$c(i,s):n.dirtyFields:X.keepDefaultValues&&F?$c(i,F):X.keepDirty?n.dirtyFields:{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Be=(F,X)=>Ce(Ki(F)?F(s):F,X),rt=(F,X={})=>{const te=Me(r,F),J=te&&te._f;if(J){const ae=J.refs?J.refs[0]:J.ref;ae.focus&&(ae.focus(),X.shouldSelect&&Ki(ae.select)&&ae.select())}},Wt=F=>{n={...n,...F}},Ke={control:{register:Oe,unregister:_e,getFieldState:D,handleSubmit:zt,setError:Q,_subscribe:he,_runSchema:k,_focusError:tt,_getWatch:G,_getDirty:V,_setValid:b,_setFieldArray:x,_setDisabledField:Se,_setErrors:R,_getFieldArray:se,_reset:Ce,_resetDefaultValues:()=>Ki(e.defaultValues)&&e.defaultValues().then(F=>{Be(F,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:qt,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(F){a=F},get _defaultValues(){return i},get _names(){return l},set _names(F){l=F},get _formState(){return n},get _options(){return e},set _options(F){e={...e,...F}}},subscribe:pe,trigger:Y,register:Oe,handleSubmit:zt,watch:ee,setValue:U,getValues:me,reset:Be,resetField:Pn,clearErrors:$,unregister:_e,setError:Q,setFocus:rt,getFieldState:D};return{...Ke,formControl:Ke}}function Vq(t={}){const e=At.useRef(void 0),n=At.useRef(void 0),[r,i]=At.useState({isDirty:!1,isValidating:!1,isLoading:Ki(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ki(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ki(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=$q(t);e.current={...l,formState:r}}const s=e.current.control;return s._options=t,Tq(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),At.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),At.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),At.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),At.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),At.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),At.useEffect(()=>{t.values&&!so(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),At.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Cq(r,s),e.current}const qq={},eO=t=>{let e;const n=new Set,r=(h,g)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const v=e;e=g??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(_=>_(e,v))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(qq?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,i,u);return u},Wq=t=>t?eO(t):eO;var h0={exports:{}},g0={},m0={exports:{}},p0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO;function Gq(){if(tO)return p0;tO=1;var t=Hp();function e(g,p){return g===p&&(g!==0||1/g===1/p)||g!==g&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(g,p){var v=p(),_=r({inst:{value:v,getSnapshot:p}}),b=_[0].inst,w=_[1];return s(function(){b.value=v,b.getSnapshot=p,u(b)&&w({inst:b})},[g,v,p]),i(function(){return u(b)&&w({inst:b}),g(function(){u(b)&&w({inst:b})})},[g]),a(v),v}function u(g){var p=g.getSnapshot;g=g.value;try{var v=p();return!n(g,v)}catch{return!0}}function d(g,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return p0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,p0}var nO;function FN(){return nO||(nO=1,m0.exports=Gq()),m0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function Yq(){if(rO)return g0;rO=1;var t=Hp(),e=FN();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return g0.useSyncExternalStoreWithSelector=function(d,h,g,p,v){var _=s(null);if(_.current===null){var b={hasValue:!1,value:null};_.current=b}else b=_.current;_=l(function(){function x(I){if(!E){if(E=!0,R=I,I=p(I),v!==void 0&&b.hasValue){var k=b.value;if(v(k,I))return O=k}return O=I}if(k=O,r(R,I))return k;var M=p(I);return v!==void 0&&v(k,M)?(R=I,k):(R=I,O=M)}var E=!1,R,O,A=g===void 0?null:g;return[function(){return x(h())},A===null?void 0:function(){return x(A())}]},[h,g,p,v]);var w=i(d,_[0],_[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),u(w),w},g0}var iO;function Kq(){return iO||(iO=1,h0.exports=Yq()),h0.exports}var Qq=Kq();const Xq=Co(Qq),UN={},{useDebugValue:Zq}=At,{useSyncExternalStoreWithSelector:Jq}=Xq;let sO=!1;const e4=t=>t;function t4(t,e=e4,n){(UN?"production":void 0)!=="production"&&n&&!sO&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sO=!0);const r=Jq(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Zq(r),r}const aO=t=>{(UN?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Wq(t):t,n=(r,i)=>t4(e,r,i);return Object.assign(n,e),n},_f=t=>t?aO(t):aO;var Wp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},n4={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},r4=class{#t=n4;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},Pg=new r4;function i4(t){setTimeout(t,0)}var wf=typeof window>"u"||"Deno"in globalThis;function Km(){}function oO(t){return typeof t=="number"&&t>=0&&t!==1/0}function s4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Xd(t,e){return typeof t=="function"?t(e):t}function Wi(t,e){return typeof t=="function"?t(e):t}function lO(t){return JSON.stringify(t,(e,n)=>$_(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}var a4=Object.prototype.hasOwnProperty;function zN(t,e){if(t===e)return t;const n=cO(t)&&cO(e);if(!n&&!($_(t)&&$_(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=n?d:s[d],g=t[h],p=e[h];if(g===p){l[h]=g,(n?d<i:a4.call(t,h))&&u++;continue}if(g===null||p===null||typeof g!="object"||typeof p!="object"){l[h]=p;continue}const v=zN(g,p);l[h]=v,v===g&&u++}return i===a&&u===i?t:l}function Qm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function cO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $_(t){if(!uO(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!uO(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function uO(t){return Object.prototype.toString.call(t)==="[object Object]"}function dO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zN(t,e):e}function HN(t,e){return typeof t=="function"?t(...e):!!t}var o4=class extends Wp{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!wf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},l4=new o4;function fO(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var c4=i4;function u4(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=c4;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Gp=u4(),d4=class extends Wp{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!wf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},f4=new d4;function h4(t){return(t??"online")==="online"?f4.isOnline():!0}function g4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:h4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}var m4=class extends Wp{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#o=fO(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),hO(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V_(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V_(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wi(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),e._defaulted&&!Qm(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&gO(this.#e,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Wi(this.options.enabled,this.#e)!==Wi(e.enabled,this.#e)||Xd(this.options.staleTime,this.#e)!==Xd(e.staleTime,this.#e))&&this.#p();const i=this.#v();r&&(this.#e!==n||Wi(this.options.enabled,this.#e)!==Wi(e.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return v4(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Km)),e}#p(){this.#_();const t=Xd(this.options.staleTime,this.#e);if(wf||this.#r.isStale||!oO(t))return;const n=s4(this.#r.dataUpdatedAt,t)+1;this.#c=Pg.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(wf||Wi(this.options.enabled,this.#e)===!1||!oO(this.#l)||this.#l===0)&&(this.#u=Pg.setInterval(()=>{(this.options.refetchIntervalInBackground||l4.isFocused())&&this.#d()},this.#l))}#b(){this.#p(),this.#y(this.#v())}#_(){this.#c&&(Pg.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Pg.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,r=this.options,i=this.#r,s=this.#i,a=this.#a,u=t!==n?t.state:this.#n,{state:d}=t;let h={...d},g=!1,p;if(e._optimisticResults){const M=this.hasListeners(),L=!M&&hO(t,e),H=M&&gO(t,n,e,r);(L||H)&&(h={...h,...g4(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:b}=h;p=h.data;let w=!1;if(e.placeholderData!==void 0&&p===void 0&&b==="pending"){let M;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(M=i.data,w=!0):M=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,M!==void 0&&(b="success",p=dO(i?.data,M,e),g=!0)}if(e.select&&p!==void 0&&!w)if(i&&p===s?.data&&e.select===this.#m)p=this.#f;else try{this.#m=e.select,p=e.select(p),p=dO(i?.data,p,e),this.#f=p,this.#s=null}catch(M){this.#s=M}this.#s&&(v=this.#s,p=this.#f,_=Date.now(),b="error");const x=h.fetchStatus==="fetching",E=b==="pending",R=b==="error",O=E&&x,A=p!==void 0,k={status:b,fetchStatus:h.fetchStatus,isPending:E,isSuccess:b==="success",isError:R,isInitialLoading:O,isLoading:O,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:R&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:R&&A,isStale:yS(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Wi(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=V=>{k.status==="error"?V.reject(k.error):k.data!==void 0&&V.resolve(k.data)},L=()=>{const V=this.#o=k.promise=fO();M(V)},H=this.#o;switch(H.status){case"pending":t.queryHash===n.queryHash&&M(H);break;case"fulfilled":(k.status==="error"||k.data!==H.value)&&L();break;case"rejected":(k.status!=="error"||k.error!==H.reason)&&L();break}}return k}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Qm(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#g.size)return!0;const s=new Set(i??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(a=>{const l=a;return this.#r[l]!==t[l]&&s.has(l)})};this.#x({listeners:n()})}#S(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(t){Gp.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function p4(t,e){return Wi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function hO(t,e){return p4(t,e)||t.state.data!==void 0&&V_(t,e,e.refetchOnMount)}function V_(t,e,n){if(Wi(e.enabled,t)!==!1&&Xd(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&yS(t,e)}return!1}function gO(t,e,n,r){return(t!==e||Wi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&yS(t,n)}function yS(t,e){return Wi(e.enabled,t)!==!1&&t.isStaleByTime(Xd(e.staleTime,t))}function v4(t,e){return!Qm(t.getCurrentResult(),e)}function y4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var b4=class extends Wp{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),Qm(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&lO(n.mutationKey)!==lO(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??y4();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Gp.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context,i={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r,i),this.#r.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r,i),this.#r.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#e)})})}},_4=j.createContext(void 0),Mi=t=>{const e=j.useContext(_4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},BN=j.createContext(!1),w4=()=>j.useContext(BN);BN.Provider;function S4(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var x4=j.createContext(S4()),E4=()=>j.useContext(x4),R4=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},C4=t=>{j.useEffect(()=>{t.clearReset()},[t])},T4=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||HN(n,[t.error,r])),A4=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},O4=(t,e)=>t.isLoading&&t.isFetching&&!e,D4=(t,e)=>t?.suspense&&e.isPending,mO=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function M4(t,e,n){const r=w4(),i=E4(),s=Mi(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",A4(a),R4(a,i),C4(i);const l=!s.getQueryCache().get(a.queryHash),[u]=j.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!r&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(g=>{const p=h?u.subscribe(Gp.batchCalls(g)):Km;return u.updateResult(),p},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(a)},[a,u]),D4(a,d))throw mO(a,u,i);if(T4({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!wf&&O4(d,r)&&(l?mO(a,u,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(Km).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function Nd(t,e){return M4(t,m4)}function Xo(t,e){const n=Mi(),[r]=j.useState(()=>new b4(n,t));j.useEffect(()=>{r.setOptions(t)},[r,t]);const i=j.useSyncExternalStore(j.useCallback(a=>r.subscribe(Gp.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=j.useCallback((a,l)=>{r.mutate(a,l).catch(Km)},[r]);if(i.error&&HN(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$N=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>j.createElement("svg",{ref:u,...N4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$N("lucide",i),...l},[...a.map(([d,h])=>j.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=(t,e)=>{const n=j.forwardRef(({className:r,...i},s)=>j.createElement(I4,{ref:s,iconNode:e,className:$N(`lucide-${k4(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=Su("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Su("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Su("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Su("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Su("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Su("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function xu(t,e=[]){let n=[];function r(s,a){const l=j.createContext(a),u=n.length;n=[...n,a];const d=g=>{const{scope:p,children:v,..._}=g,b=p?.[t]?.[u]||l,w=j.useMemo(()=>_,Object.values(_));return z.jsx(b.Provider,{value:w,children:v})};d.displayName=s+"Provider";function h(g,p){const v=p?.[t]?.[u]||l,_=j.useContext(v);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(a=>j.createContext(a));return function(l){const u=l?.[t]||s;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,H4(i,...e)]}function H4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:u,scopeName:d})=>{const g=u(s)[`__scope${d}`];return{...l,...g}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Es(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...n)=>e.current?.(...n),[])}var es=globalThis?.document?j.useLayoutEffect:()=>{},B4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zn=B4.reduce((t,e)=>{const n=yf(`Primitive.${e}`),r=j.forwardRef((i,s)=>{const{asChild:a,...l}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),z.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function VN(t,e){t&&cS.flushSync(()=>t.dispatchEvent(e))}var $4=FN();function V4(){return $4.useSyncExternalStore(q4,()=>!0,()=>!1)}function q4(){return()=>{}}var bS="Avatar",[W4]=xu(bS),[G4,qN]=W4(bS),WN=j.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=j.useState("idle");return z.jsx(G4,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:z.jsx(Zn.span,{...r,ref:e})})});WN.displayName=bS;var GN="AvatarImage",YN=j.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=qN(GN,n),l=Y4(r,s),u=Es(d=>{i(d),a.onImageLoadingStatusChange(d)});return es(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?z.jsx(Zn.img,{...s,ref:e,src:r}):null});YN.displayName=GN;var KN="AvatarFallback",QN=j.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=qN(KN,n),[a,l]=j.useState(r===void 0);return j.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(u)}},[r]),a&&s.imageLoadingStatus!=="loaded"?z.jsx(Zn.span,{...i,ref:e}):null});QN.displayName=KN;function pO(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Y4(t,{referrerPolicy:e,crossOrigin:n}){const r=V4(),i=j.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,l]=j.useState(()=>pO(s,t));return es(()=>{l(pO(s,t))},[s,t]),es(()=>{const u=g=>()=>{l(g)};if(!s)return;const d=u("loaded"),h=u("error");return s.addEventListener("load",d),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",d),s.removeEventListener("error",h)}},[s,n,e]),a}var K4=WN,Q4=YN,X4=QN;function bt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var Z4=aN[" useInsertionEffect ".trim().toString()]||es;function XN({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=J4({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const h=j.useRef(t!==void 0);j.useEffect(()=>{const g=h.current;g!==l&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=j.useCallback(h=>{if(l){const g=e6(h)?h(t):h;g!==t&&a.current?.(g)}else s(h)},[l,t,s,a]);return[u,d]}function J4({defaultProp:t,onChange:e}){const[n,r]=j.useState(t),i=j.useRef(n),s=j.useRef(e);return Z4(()=>{s.current=e},[e]),j.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function e6(t){return typeof t=="function"}function ZN(t){const e=t+"CollectionProvider",[n,r]=xu(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:w,children:x}=b,E=At.useRef(null),R=At.useRef(new Map).current;return z.jsx(i,{scope:w,itemMap:R,collectionRef:E,children:x})};a.displayName=e;const l=t+"CollectionSlot",u=yf(l),d=At.forwardRef((b,w)=>{const{scope:x,children:E}=b,R=s(l,x),O=Wr(w,R.collectionRef);return z.jsx(u,{ref:O,children:E})});d.displayName=l;const h=t+"CollectionItemSlot",g="data-radix-collection-item",p=yf(h),v=At.forwardRef((b,w)=>{const{scope:x,children:E,...R}=b,O=At.useRef(null),A=Wr(w,O),I=s(h,x);return At.useEffect(()=>(I.itemMap.set(O,{ref:O,...R}),()=>void I.itemMap.delete(O))),z.jsx(p,{[g]:"",ref:A,children:E})});v.displayName=h;function _(b){const w=s(t+"CollectionConsumer",b);return At.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const R=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(w.itemMap.values()).sort((I,k)=>R.indexOf(I.ref.current)-R.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:d,ItemSlot:v},_,r]}var t6=j.createContext(void 0);function JN(t){const e=j.useContext(t6);return t||e||"ltr"}function n6(t,e=globalThis?.document){const n=Es(t);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var r6="DismissableLayer",q_="dismissableLayer.update",i6="dismissableLayer.pointerDownOutside",s6="dismissableLayer.focusOutside",vO,eI=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tI=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,d=j.useContext(eI),[h,g]=j.useState(null),p=h?.ownerDocument??globalThis?.document,[,v]=j.useState({}),_=Wr(e,k=>g(k)),b=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(w),E=h?b.indexOf(h):-1,R=d.layersWithOutsidePointerEventsDisabled.size>0,O=E>=x,A=l6(k=>{const M=k.target,L=[...d.branches].some(H=>H.contains(M));!O||L||(i?.(k),a?.(k),k.defaultPrevented||l?.())},p),I=c6(k=>{const M=k.target;[...d.branches].some(H=>H.contains(M))||(s?.(k),a?.(k),k.defaultPrevented||l?.())},p);return n6(k=>{E===d.layers.size-1&&(r?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),j.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(vO=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),yO(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=vO)}},[h,p,n,d]),j.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),yO())},[h,d]),j.useEffect(()=>{const k=()=>v({});return document.addEventListener(q_,k),()=>document.removeEventListener(q_,k)},[]),z.jsx(Zn.div,{...u,ref:_,style:{pointerEvents:R?O?"auto":"none":void 0,...t.style},onFocusCapture:bt(t.onFocusCapture,I.onFocusCapture),onBlurCapture:bt(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:bt(t.onPointerDownCapture,A.onPointerDownCapture)})});tI.displayName=r6;var a6="DismissableLayerBranch",o6=j.forwardRef((t,e)=>{const n=j.useContext(eI),r=j.useRef(null),i=Wr(e,r);return j.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),z.jsx(Zn.div,{...t,ref:i})});o6.displayName=a6;function l6(t,e=globalThis?.document){const n=Es(t),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){nI(i6,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function c6(t,e=globalThis?.document){const n=Es(t),r=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!r.current&&nI(s6,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yO(){const t=new CustomEvent(q_);document.dispatchEvent(t)}function nI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?VN(i,s):i.dispatchEvent(s)}var v0=0;function u6(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bO()),document.body.insertAdjacentElement("beforeend",t[1]??bO()),v0++,()=>{v0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),v0--}},[])}function bO(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var y0="focusScope.autoFocusOnMount",b0="focusScope.autoFocusOnUnmount",_O={bubbles:!1,cancelable:!0},d6="FocusScope",rI=j.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,u]=j.useState(null),d=Es(i),h=Es(s),g=j.useRef(null),p=Wr(e,b=>u(b)),v=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let b=function(R){if(v.paused||!l)return;const O=R.target;l.contains(O)?g.current=O:eo(g.current,{select:!0})},w=function(R){if(v.paused||!l)return;const O=R.relatedTarget;O!==null&&(l.contains(O)||eo(g.current,{select:!0}))},x=function(R){if(document.activeElement===document.body)for(const A of R)A.removedNodes.length>0&&eo(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const E=new MutationObserver(x);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),E.disconnect()}}},[r,l,v.paused]),j.useEffect(()=>{if(l){SO.add(v);const b=document.activeElement;if(!l.contains(b)){const x=new CustomEvent(y0,_O);l.addEventListener(y0,d),l.dispatchEvent(x),x.defaultPrevented||(f6(v6(iI(l)),{select:!0}),document.activeElement===b&&eo(l))}return()=>{l.removeEventListener(y0,d),setTimeout(()=>{const x=new CustomEvent(b0,_O);l.addEventListener(b0,h),l.dispatchEvent(x),x.defaultPrevented||eo(b??document.body,{select:!0}),l.removeEventListener(b0,h),SO.remove(v)},0)}}},[l,d,h,v]);const _=j.useCallback(b=>{if(!n&&!r||v.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,x=document.activeElement;if(w&&x){const E=b.currentTarget,[R,O]=h6(E);R&&O?!b.shiftKey&&x===O?(b.preventDefault(),n&&eo(R,{select:!0})):b.shiftKey&&x===R&&(b.preventDefault(),n&&eo(O,{select:!0})):x===E&&b.preventDefault()}},[n,r,v.paused]);return z.jsx(Zn.div,{tabIndex:-1,...a,ref:p,onKeyDown:_})});rI.displayName=d6;function f6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(eo(r,{select:e}),document.activeElement!==n)return}function h6(t){const e=iI(t),n=wO(e,t),r=wO(e.reverse(),t);return[n,r]}function iI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wO(t,e){for(const n of t)if(!g6(n,{upTo:e}))return n}function g6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function m6(t){return t instanceof HTMLInputElement&&"select"in t}function eo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&m6(t)&&e&&t.select()}}var SO=p6();function p6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=xO(t,e),t.unshift(e)},remove(e){t=xO(t,e),t[0]?.resume()}}}function xO(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function v6(t){return t.filter(e=>e.tagName!=="A")}var y6=aN[" useId ".trim().toString()]||(()=>{}),b6=0;function W_(t){const[e,n]=j.useState(y6());return es(()=>{n(r=>r??String(b6++))},[t]),t||(e?`radix-${e}`:"")}const _6=["top","right","bottom","left"],bo=Math.min,ri=Math.max,Xm=Math.round,jg=Math.floor,xs=t=>({x:t,y:t}),w6={left:"right",right:"left",bottom:"top",top:"bottom"},S6={start:"end",end:"start"};function G_(t,e,n){return ri(t,bo(e,n))}function va(t,e){return typeof t=="function"?t(e):t}function ya(t){return t.split("-")[0]}function Eu(t){return t.split("-")[1]}function _S(t){return t==="x"?"y":"x"}function wS(t){return t==="y"?"height":"width"}const x6=new Set(["top","bottom"]);function ws(t){return x6.has(ya(t))?"y":"x"}function SS(t){return _S(ws(t))}function E6(t,e,n){n===void 0&&(n=!1);const r=Eu(t),i=SS(t),s=wS(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Zm(a)),[a,Zm(a)]}function R6(t){const e=Zm(t);return[Y_(t),e,Y_(e)]}function Y_(t){return t.replace(/start|end/g,e=>S6[e])}const EO=["left","right"],RO=["right","left"],C6=["top","bottom"],T6=["bottom","top"];function A6(t,e,n){switch(t){case"top":case"bottom":return n?e?RO:EO:e?EO:RO;case"left":case"right":return e?C6:T6;default:return[]}}function O6(t,e,n,r){const i=Eu(t);let s=A6(ya(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Y_)))),s}function Zm(t){return t.replace(/left|right|bottom|top/g,e=>w6[e])}function D6(t){return{top:0,right:0,bottom:0,left:0,...t}}function sI(t){return typeof t!="number"?D6(t):{top:t,right:t,bottom:t,left:t}}function Jm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function CO(t,e,n){let{reference:r,floating:i}=t;const s=ws(e),a=SS(e),l=wS(a),u=ya(e),d=s==="y",h=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let v;switch(u){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-i.width,y:g};break;default:v={x:r.x,y:r.y}}switch(Eu(e)){case"start":v[a]-=p*(n&&d?-1:1);break;case"end":v[a]+=p*(n&&d?-1:1);break}return v}const M6=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:g}=CO(d,r,u),p=r,v={},_=0;for(let b=0;b<l.length;b++){const{name:w,fn:x}=l[b],{x:E,y:R,data:O,reset:A}=await x({x:h,y:g,initialPlacement:r,placement:p,strategy:i,middlewareData:v,rects:d,platform:a,elements:{reference:t,floating:e}});h=E??h,g=R??g,v={...v,[w]:{...v[w],...O}},A&&_<=50&&(_++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(d=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:h,y:g}=CO(d,p,u)),b=-1)}return{x:h,y:g,placement:p,strategy:i,middlewareData:v}};async function Sf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:p=!1,padding:v=0}=va(e,t),_=sI(v),w=l[p?g==="floating"?"reference":"floating":g],x=Jm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),E=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),O=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},A=Jm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:R,strategy:u}):E);return{top:(x.top-A.top+_.top)/O.y,bottom:(A.bottom-x.bottom+_.bottom)/O.y,left:(x.left-A.left+_.left)/O.x,right:(A.right-x.right+_.right)/O.x}}const k6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=va(t,e)||{};if(d==null)return{};const g=sI(h),p={x:n,y:r},v=SS(i),_=wS(v),b=await a.getDimensions(d),w=v==="y",x=w?"top":"left",E=w?"bottom":"right",R=w?"clientHeight":"clientWidth",O=s.reference[_]+s.reference[v]-p[v]-s.floating[_],A=p[v]-s.reference[v],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let k=I?I[R]:0;(!k||!await(a.isElement==null?void 0:a.isElement(I)))&&(k=l.floating[R]||s.floating[_]);const M=O/2-A/2,L=k/2-b[_]/2-1,H=bo(g[x],L),V=bo(g[E],L),G=H,se=k-b[_]-V,ue=k/2-b[_]/2+M,ye=G_(G,ue,se),U=!u.arrow&&Eu(i)!=null&&ue!==ye&&s.reference[_]/2-(ue<G?H:V)-b[_]/2<0,K=U?ue<G?ue-G:ue-se:0;return{[v]:p[v]+K,data:{[v]:ye,centerOffset:ue-ye-K,...U&&{alignmentOffset:K}},reset:U}}}),N6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:b=!0,...w}=va(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=ya(i),E=ws(l),R=ya(l)===l,O=await(u.isRTL==null?void 0:u.isRTL(d.floating)),A=p||(R||!b?[Zm(l)]:R6(l)),I=_!=="none";!p&&I&&A.push(...O6(l,b,_,O));const k=[l,...A],M=await Sf(e,w),L=[];let H=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&L.push(M[x]),g){const ue=E6(i,a,O);L.push(M[ue[0]],M[ue[1]])}if(H=[...H,{placement:i,overflows:L}],!L.every(ue=>ue<=0)){var V,G;const ue=(((V=s.flip)==null?void 0:V.index)||0)+1,ye=k[ue];if(ye&&(!(g==="alignment"?E!==ws(ye):!1)||H.every(ne=>ws(ne.placement)===E?ne.overflows[0]>0:!0)))return{data:{index:ue,overflows:H},reset:{placement:ye}};let U=(G=H.filter(K=>K.overflows[0]<=0).sort((K,ne)=>K.overflows[1]-ne.overflows[1])[0])==null?void 0:G.placement;if(!U)switch(v){case"bestFit":{var se;const K=(se=H.filter(ne=>{if(I){const Y=ws(ne.placement);return Y===E||Y==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(Y=>Y>0).reduce((Y,me)=>Y+me,0)]).sort((ne,Y)=>ne[1]-Y[1])[0])==null?void 0:se[0];K&&(U=K);break}case"initialPlacement":U=l;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function TO(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function AO(t){return _6.some(e=>t[e]>=0)}const I6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=va(t,e);switch(r){case"referenceHidden":{const s=await Sf(e,{...i,elementContext:"reference"}),a=TO(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:AO(a)}}}case"escaped":{const s=await Sf(e,{...i,altBoundary:!0}),a=TO(s,n.floating);return{data:{escapedOffsets:a,escaped:AO(a)}}}default:return{}}}}},aI=new Set(["left","top"]);async function P6(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ya(n),l=Eu(n),u=ws(n)==="y",d=aI.has(a)?-1:1,h=s&&u?-1:1,g=va(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof _=="number"&&(v=l==="end"?_*-1:_),u?{x:v*h,y:p*d}:{x:p*d,y:v*h}}const j6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,u=await P6(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},L6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x,y:E}=w;return{x,y:E}}},...u}=va(t,e),d={x:n,y:r},h=await Sf(e,u),g=ws(ya(i)),p=_S(g);let v=d[p],_=d[g];if(s){const w=p==="y"?"top":"left",x=p==="y"?"bottom":"right",E=v+h[w],R=v-h[x];v=G_(E,v,R)}if(a){const w=g==="y"?"top":"left",x=g==="y"?"bottom":"right",E=_+h[w],R=_-h[x];_=G_(E,_,R)}const b=l.fn({...e,[p]:v,[g]:_});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[p]:s,[g]:a}}}}}},F6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=va(t,e),h={x:n,y:r},g=ws(i),p=_S(g);let v=h[p],_=h[g];const b=va(l,e),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const R=p==="y"?"height":"width",O=s.reference[p]-s.floating[R]+w.mainAxis,A=s.reference[p]+s.reference[R]-w.mainAxis;v<O?v=O:v>A&&(v=A)}if(d){var x,E;const R=p==="y"?"width":"height",O=aI.has(ya(i)),A=s.reference[g]-s.floating[R]+(O&&((x=a.offset)==null?void 0:x[g])||0)+(O?0:w.crossAxis),I=s.reference[g]+s.reference[R]+(O?0:((E=a.offset)==null?void 0:E[g])||0)-(O?w.crossAxis:0);_<A?_=A:_>I&&(_=I)}return{[p]:v,[g]:_}}}},U6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:u=()=>{},...d}=va(t,e),h=await Sf(e,d),g=ya(i),p=Eu(i),v=ws(i)==="y",{width:_,height:b}=s.floating;let w,x;g==="top"||g==="bottom"?(w=g,x=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=g,w=p==="end"?"top":"bottom");const E=b-h.top-h.bottom,R=_-h.left-h.right,O=bo(b-h[w],E),A=bo(_-h[x],R),I=!e.middlewareData.shift;let k=O,M=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=E),I&&!p){const H=ri(h.left,0),V=ri(h.right,0),G=ri(h.top,0),se=ri(h.bottom,0);v?M=_-2*(H!==0||V!==0?H+V:ri(h.left,h.right)):k=b-2*(G!==0||se!==0?G+se:ri(h.top,h.bottom))}await u({...e,availableWidth:M,availableHeight:k});const L=await a.getDimensions(l.floating);return _!==L.width||b!==L.height?{reset:{rects:!0}}:{}}}};function Yp(){return typeof window<"u"}function Ru(t){return oI(t)?(t.nodeName||"").toLowerCase():"#document"}function oi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Os(t){var e;return(e=(oI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oI(t){return Yp()?t instanceof Node||t instanceof oi(t).Node:!1}function ts(t){return Yp()?t instanceof Element||t instanceof oi(t).Element:!1}function Rs(t){return Yp()?t instanceof HTMLElement||t instanceof oi(t).HTMLElement:!1}function OO(t){return!Yp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oi(t).ShadowRoot}const z6=new Set(["inline","contents"]);function Qf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!z6.has(i)}const H6=new Set(["table","td","th"]);function B6(t){return H6.has(Ru(t))}const $6=[":popover-open",":modal"];function Kp(t){return $6.some(e=>{try{return t.matches(e)}catch{return!1}})}const V6=["transform","translate","scale","rotate","perspective"],q6=["transform","translate","scale","rotate","perspective","filter"],W6=["paint","layout","strict","content"];function xS(t){const e=ES(),n=ts(t)?ns(t):t;return V6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||q6.some(r=>(n.willChange||"").includes(r))||W6.some(r=>(n.contain||"").includes(r))}function G6(t){let e=_o(t);for(;Rs(e)&&!au(e);){if(xS(e))return e;if(Kp(e))return null;e=_o(e)}return null}function ES(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Y6=new Set(["html","body","#document"]);function au(t){return Y6.has(Ru(t))}function ns(t){return oi(t).getComputedStyle(t)}function Qp(t){return ts(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _o(t){if(Ru(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OO(t)&&t.host||Os(t);return OO(e)?e.host:e}function lI(t){const e=_o(t);return au(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rs(e)&&Qf(e)?e:lI(e)}function xf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=lI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=oi(i);if(s){const l=K_(a);return e.concat(a,a.visualViewport||[],Qf(i)?i:[],l&&n?xf(l):[])}return e.concat(i,xf(i,[],n))}function K_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cI(t){const e=ns(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Rs(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=Xm(n)!==s||Xm(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function RS(t){return ts(t)?t:t.contextElement}function Xc(t){const e=RS(t);if(!Rs(e))return xs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=cI(e);let a=(s?Xm(n.width):n.width)/r,l=(s?Xm(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const K6=xs(0);function uI(t){const e=oi(t);return!ES()||!e.visualViewport?K6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Q6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==oi(t)?!1:e}function Tl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=RS(t);let a=xs(1);e&&(r?ts(r)&&(a=Xc(r)):a=Xc(t));const l=Q6(s,n,r)?uI(s):xs(0);let u=(i.left+l.x)/a.x,d=(i.top+l.y)/a.y,h=i.width/a.x,g=i.height/a.y;if(s){const p=oi(s),v=r&&ts(r)?oi(r):r;let _=p,b=K_(_);for(;b&&r&&v!==_;){const w=Xc(b),x=b.getBoundingClientRect(),E=ns(b),R=x.left+(b.clientLeft+parseFloat(E.paddingLeft))*w.x,O=x.top+(b.clientTop+parseFloat(E.paddingTop))*w.y;u*=w.x,d*=w.y,h*=w.x,g*=w.y,u+=R,d+=O,_=oi(b),b=K_(_)}}return Jm({width:h,height:g,x:u,y:d})}function Xp(t,e){const n=Qp(t).scrollLeft;return e?e.left+n:Tl(Os(t)).left+n}function dI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Xp(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function X6(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Os(r),l=e?Kp(e.floating):!1;if(r===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=xs(1);const h=xs(0),g=Rs(r);if((g||!g&&!s)&&((Ru(r)!=="body"||Qf(a))&&(u=Qp(r)),Rs(r))){const v=Tl(r);d=Xc(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const p=a&&!g&&!s?dI(a,u):xs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-u.scrollTop*d.y+h.y+p.y}}function Z6(t){return Array.from(t.getClientRects())}function J6(t){const e=Os(t),n=Qp(t),r=t.ownerDocument.body,i=ri(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ri(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Xp(t);const l=-n.scrollTop;return ns(r).direction==="rtl"&&(a+=ri(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const DO=25;function eW(t,e){const n=oi(t),r=Os(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){s=i.width,a=i.height;const h=ES();(!h||h&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}const d=Xp(r);if(d<=0){const h=r.ownerDocument,g=h.body,p=getComputedStyle(g),v=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,_=Math.abs(r.clientWidth-g.clientWidth-v);_<=DO&&(s-=_)}else d<=DO&&(s+=d);return{width:s,height:a,x:l,y:u}}const tW=new Set(["absolute","fixed"]);function nW(t,e){const n=Tl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Rs(t)?Xc(t):xs(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:a,height:l,x:u,y:d}}function MO(t,e,n){let r;if(e==="viewport")r=eW(t,n);else if(e==="document")r=J6(Os(t));else if(ts(e))r=nW(e,n);else{const i=uI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Jm(r)}function fI(t,e){const n=_o(t);return n===e||!ts(n)||au(n)?!1:ns(n).position==="fixed"||fI(n,e)}function rW(t,e){const n=e.get(t);if(n)return n;let r=xf(t,[],!1).filter(l=>ts(l)&&Ru(l)!=="body"),i=null;const s=ns(t).position==="fixed";let a=s?_o(t):t;for(;ts(a)&&!au(a);){const l=ns(a),u=xS(a);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&tW.has(i.position)||Qf(a)&&!u&&fI(t,a))?r=r.filter(h=>h!==a):i=l,a=_o(a)}return e.set(t,r),r}function iW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Kp(e)?[]:rW(e,this._c):[].concat(n),r],l=a[0],u=a.reduce((d,h)=>{const g=MO(e,h,i);return d.top=ri(g.top,d.top),d.right=bo(g.right,d.right),d.bottom=bo(g.bottom,d.bottom),d.left=ri(g.left,d.left),d},MO(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function sW(t){const{width:e,height:n}=cI(t);return{width:e,height:n}}function aW(t,e,n){const r=Rs(e),i=Os(e),s=n==="fixed",a=Tl(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=xs(0);function d(){u.x=Xp(i)}if(r||!r&&!s)if((Ru(e)!=="body"||Qf(i))&&(l=Qp(e)),r){const v=Tl(e,!0,s,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?dI(i,l):xs(0),g=a.left+l.scrollLeft-u.x-h.x,p=a.top+l.scrollTop-u.y-h.y;return{x:g,y:p,width:a.width,height:a.height}}function _0(t){return ns(t).position==="static"}function kO(t,e){if(!Rs(t)||ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Os(t)===n&&(n=n.ownerDocument.body),n}function hI(t,e){const n=oi(t);if(Kp(t))return n;if(!Rs(t)){let i=_o(t);for(;i&&!au(i);){if(ts(i)&&!_0(i))return i;i=_o(i)}return n}let r=kO(t,e);for(;r&&B6(r)&&_0(r);)r=kO(r,e);return r&&au(r)&&_0(r)&&!xS(r)?n:r||G6(t)||n}const oW=async function(t){const e=this.getOffsetParent||hI,n=this.getDimensions,r=await n(t.floating);return{reference:aW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lW(t){return ns(t).direction==="rtl"}const cW={convertOffsetParentRelativeRectToViewportRelativeRect:X6,getDocumentElement:Os,getClippingRect:iW,getOffsetParent:hI,getElementRects:oW,getClientRects:Z6,getDimensions:sW,getScale:Xc,isElement:ts,isRTL:lW};function gI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function uW(t,e){let n=null,r;const i=Os(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:h,top:g,width:p,height:v}=d;if(l||e(),!p||!v)return;const _=jg(g),b=jg(i.clientWidth-(h+p)),w=jg(i.clientHeight-(g+v)),x=jg(h),R={rootMargin:-_+"px "+-b+"px "+-w+"px "+-x+"px",threshold:ri(0,bo(1,u))||1};let O=!0;function A(I){const k=I[0].intersectionRatio;if(k!==u){if(!O)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!gI(d,t.getBoundingClientRect())&&a(),O=!1}try{n=new IntersectionObserver(A,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,R)}n.observe(t)}return a(!0),s}function dW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=RS(t),h=i||s?[...d?xf(d):[],...xf(e)]:[];h.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const g=d&&l?uW(d,n):null;let p=-1,v=null;a&&(v=new ResizeObserver(x=>{let[E]=x;E&&E.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var R;(R=v)==null||R.observe(e)})),n()}),d&&!u&&v.observe(d),v.observe(e));let _,b=u?Tl(t):null;u&&w();function w(){const x=Tl(t);b&&!gI(b,x)&&n(),b=x,_=requestAnimationFrame(w)}return n(),()=>{var x;h.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),g?.(),(x=v)==null||x.disconnect(),v=null,u&&cancelAnimationFrame(_)}}const fW=j6,hW=L6,gW=N6,mW=U6,pW=I6,NO=k6,vW=F6,yW=(t,e,n)=>{const r=new Map,i={platform:cW,...n},s={...i.platform,_c:r};return M6(t,e,{...i,platform:s})};var bW=typeof document<"u",_W=function(){},Tm=bW?j.useLayoutEffect:_W;function ep(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ep(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ep(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function mI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IO(t,e){const n=mI(t);return Math.round(e*n)/n}function w0(t){const e=j.useRef(t);return Tm(()=>{e.current=t}),e}function wW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,g]=j.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=j.useState(r);ep(p,r)||v(r);const[_,b]=j.useState(null),[w,x]=j.useState(null),E=j.useCallback(ne=>{ne!==I.current&&(I.current=ne,b(ne))},[]),R=j.useCallback(ne=>{ne!==k.current&&(k.current=ne,x(ne))},[]),O=s||_,A=a||w,I=j.useRef(null),k=j.useRef(null),M=j.useRef(h),L=u!=null,H=w0(u),V=w0(i),G=w0(d),se=j.useCallback(()=>{if(!I.current||!k.current)return;const ne={placement:e,strategy:n,middleware:p};V.current&&(ne.platform=V.current),yW(I.current,k.current,ne).then(Y=>{const me={...Y,isPositioned:G.current!==!1};ue.current&&!ep(M.current,me)&&(M.current=me,cS.flushSync(()=>{g(me)}))})},[p,e,n,V,G]);Tm(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,g(ne=>({...ne,isPositioned:!1})))},[d]);const ue=j.useRef(!1);Tm(()=>(ue.current=!0,()=>{ue.current=!1}),[]),Tm(()=>{if(O&&(I.current=O),A&&(k.current=A),O&&A){if(H.current)return H.current(O,A,se);se()}},[O,A,se,H,L]);const ye=j.useMemo(()=>({reference:I,floating:k,setReference:E,setFloating:R}),[E,R]),U=j.useMemo(()=>({reference:O,floating:A}),[O,A]),K=j.useMemo(()=>{const ne={position:n,left:0,top:0};if(!U.floating)return ne;const Y=IO(U.floating,h.x),me=IO(U.floating,h.y);return l?{...ne,transform:"translate("+Y+"px, "+me+"px)",...mI(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:me}},[n,l,U.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:se,refs:ye,elements:U,floatingStyles:K}),[h,se,ye,U,K])}const SW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?NO({element:r.current,padding:i}).fn(n):{}:r?NO({element:r,padding:i}).fn(n):{}}}},xW=(t,e)=>({...fW(t),options:[t,e]}),EW=(t,e)=>({...hW(t),options:[t,e]}),RW=(t,e)=>({...vW(t),options:[t,e]}),CW=(t,e)=>({...gW(t),options:[t,e]}),TW=(t,e)=>({...mW(t),options:[t,e]}),AW=(t,e)=>({...pW(t),options:[t,e]}),OW=(t,e)=>({...SW(t),options:[t,e]});var DW="Arrow",pI=j.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return z.jsx(Zn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:z.jsx("polygon",{points:"0,0 30,0 15,10"})})});pI.displayName=DW;var MW=pI;function kW(t){const[e,n]=j.useState(void 0);return es(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var CS="Popper",[vI,yI]=xu(CS),[NW,bI]=vI(CS),_I=t=>{const{__scopePopper:e,children:n}=t,[r,i]=j.useState(null);return z.jsx(NW,{scope:e,anchor:r,onAnchorChange:i,children:n})};_I.displayName=CS;var wI="PopperAnchor",SI=j.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=bI(wI,n),a=j.useRef(null),l=Wr(e,a),u=j.useRef(null);return j.useEffect(()=>{const d=u.current;u.current=r?.current||a.current,d!==u.current&&s.onAnchorChange(u.current)}),r?null:z.jsx(Zn.div,{...i,ref:l})});SI.displayName=wI;var TS="PopperContent",[IW,PW]=vI(TS),xI=j.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:_,...b}=t,w=bI(TS,n),[x,E]=j.useState(null),R=Wr(e,_e=>E(_e)),[O,A]=j.useState(null),I=kW(O),k=I?.width??0,M=I?.height??0,L=r+(s!=="center"?"-"+s:""),H=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},V=Array.isArray(d)?d:[d],G=V.length>0,se={padding:H,boundary:V.filter(LW),altBoundary:G},{refs:ue,floatingStyles:ye,placement:U,isPositioned:K,middlewareData:ne}=wW({strategy:"fixed",placement:L,whileElementsMounted:(..._e)=>dW(..._e,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[xW({mainAxis:i+M,alignmentAxis:a}),u&&EW({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?RW():void 0,...se}),u&&CW({...se}),TW({...se,apply:({elements:_e,rects:Se,availableWidth:Oe,availableHeight:tt})=>{const{width:qt,height:zt}=Se.reference,Pn=_e.floating.style;Pn.setProperty("--radix-popper-available-width",`${Oe}px`),Pn.setProperty("--radix-popper-available-height",`${tt}px`),Pn.setProperty("--radix-popper-anchor-width",`${qt}px`),Pn.setProperty("--radix-popper-anchor-height",`${zt}px`)}}),O&&OW({element:O,padding:l}),FW({arrowWidth:k,arrowHeight:M}),p&&AW({strategy:"referenceHidden",...se})]}),[Y,me]=CI(U),D=Es(_);es(()=>{K&&D?.()},[K,D]);const $=ne.arrow?.x,Q=ne.arrow?.y,ee=ne.arrow?.centerOffset!==0,[he,pe]=j.useState();return es(()=>{x&&pe(window.getComputedStyle(x).zIndex)},[x]),z.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:K?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[ne.transformOrigin?.x,ne.transformOrigin?.y].join(" "),...ne.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:z.jsx(IW,{scope:n,placedSide:Y,onArrowChange:A,arrowX:$,arrowY:Q,shouldHideArrow:ee,children:z.jsx(Zn.div,{"data-side":Y,"data-align":me,...b,ref:R,style:{...b.style,animation:K?void 0:"none"}})})})});xI.displayName=TS;var EI="PopperArrow",jW={top:"bottom",right:"left",bottom:"top",left:"right"},RI=j.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=PW(EI,r),a=jW[s.placedSide];return z.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:z.jsx(MW,{...i,ref:n,style:{...i.style,display:"block"}})})});RI.displayName=EI;function LW(t){return t!==null}var FW=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,h]=CI(n),g={start:"0%",center:"50%",end:"100%"}[h],p=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+u/2;let _="",b="";return d==="bottom"?(_=a?g:`${p}px`,b=`${-u}px`):d==="top"?(_=a?g:`${p}px`,b=`${r.floating.height+u}px`):d==="right"?(_=`${-u}px`,b=a?g:`${v}px`):d==="left"&&(_=`${r.floating.width+u}px`,b=a?g:`${v}px`),{data:{x:_,y:b}}}});function CI(t){const[e,n="center"]=t.split("-");return[e,n]}var UW=_I,zW=SI,HW=xI,BW=RI,$W="Portal",TI=j.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=j.useState(!1);es(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?ZV.createPortal(z.jsx(Zn.div,{...r,ref:e}),a):null});TI.displayName=$W;function VW(t,e){return j.useReducer((n,r)=>e[n][r]??n,t)}var Xf=t=>{const{present:e,children:n}=t,r=qW(e),i=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),s=Wr(r.ref,WW(i));return typeof n=="function"||r.isPresent?j.cloneElement(i,{ref:s}):null};Xf.displayName="Presence";function qW(t){const[e,n]=j.useState(),r=j.useRef(null),i=j.useRef(t),s=j.useRef("none"),a=t?"mounted":"unmounted",[l,u]=VW(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=Lg(r.current);s.current=l==="mounted"?d:"none"},[l]),es(()=>{const d=r.current,h=i.current;if(h!==t){const p=s.current,v=Lg(d);t?u("MOUNT"):v==="none"||d?.display==="none"?u("UNMOUNT"):u(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),es(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,g=v=>{const b=Lg(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&b&&(u("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=v=>{v.target===e&&(s.current=Lg(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Lg(t){return t?.animationName||"none"}function WW(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var S0="rovingFocusGroup.onEntryFocus",GW={bubbles:!1,cancelable:!0},Zf="RovingFocusGroup",[Q_,AI,YW]=ZN(Zf),[KW,OI]=xu(Zf,[YW]),[QW,XW]=KW(Zf),DI=j.forwardRef((t,e)=>z.jsx(Q_.Provider,{scope:t.__scopeRovingFocusGroup,children:z.jsx(Q_.Slot,{scope:t.__scopeRovingFocusGroup,children:z.jsx(ZW,{...t,ref:e})})}));DI.displayName=Zf;var ZW=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...g}=t,p=j.useRef(null),v=Wr(e,p),_=JN(s),[b,w]=XN({prop:a,defaultProp:l??null,onChange:u,caller:Zf}),[x,E]=j.useState(!1),R=Es(d),O=AI(n),A=j.useRef(!1),[I,k]=j.useState(0);return j.useEffect(()=>{const M=p.current;if(M)return M.addEventListener(S0,R),()=>M.removeEventListener(S0,R)},[R]),z.jsx(QW,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:b,onItemFocus:j.useCallback(M=>w(M),[w]),onItemShiftTab:j.useCallback(()=>E(!0),[]),onFocusableItemAdd:j.useCallback(()=>k(M=>M+1),[]),onFocusableItemRemove:j.useCallback(()=>k(M=>M-1),[]),children:z.jsx(Zn.div,{tabIndex:x||I===0?-1:0,"data-orientation":r,...g,ref:v,style:{outline:"none",...t.style},onMouseDown:bt(t.onMouseDown,()=>{A.current=!0}),onFocus:bt(t.onFocus,M=>{const L=!A.current;if(M.target===M.currentTarget&&L&&!x){const H=new CustomEvent(S0,GW);if(M.currentTarget.dispatchEvent(H),!H.defaultPrevented){const V=O().filter(U=>U.focusable),G=V.find(U=>U.active),se=V.find(U=>U.id===b),ye=[G,se,...V].filter(Boolean).map(U=>U.ref.current);NI(ye,h)}}A.current=!1}),onBlur:bt(t.onBlur,()=>E(!1))})})}),MI="RovingFocusGroupItem",kI=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,u=W_(),d=s||u,h=XW(MI,n),g=h.currentTabStopId===d,p=AI(n),{onFocusableItemAdd:v,onFocusableItemRemove:_,currentTabStopId:b}=h;return j.useEffect(()=>{if(r)return v(),()=>_()},[r,v,_]),z.jsx(Q_.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:z.jsx(Zn.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:bt(t.onMouseDown,w=>{r?h.onItemFocus(d):w.preventDefault()}),onFocus:bt(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:bt(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=tG(w,h.orientation,h.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let R=p().filter(O=>O.focusable).map(O=>O.ref.current);if(x==="last")R.reverse();else if(x==="prev"||x==="next"){x==="prev"&&R.reverse();const O=R.indexOf(w.currentTarget);R=h.loop?nG(R,O+1):R.slice(O+1)}setTimeout(()=>NI(R))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:b!=null}):a})})});kI.displayName=MI;var JW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tG(t,e,n){const r=eG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return JW[r]}function NI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function nG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rG=DI,iG=kI,sG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Mc=new WeakMap,Fg=new WeakMap,Ug={},x0=0,II=function(t){return t&&(t.host||II(t.parentNode))},aG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=II(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},oG=function(t,e,n,r){var i=aG(e,Array.isArray(t)?t:[t]);Ug[n]||(Ug[n]=new WeakMap);var s=Ug[n],a=[],l=new Set,u=new Set(i),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};i.forEach(d);var h=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(p){if(l.has(p))h(p);else try{var v=p.getAttribute(r),_=v!==null&&v!=="false",b=(Mc.get(p)||0)+1,w=(s.get(p)||0)+1;Mc.set(p,b),s.set(p,w),a.push(p),b===1&&_&&Fg.set(p,!0),w===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return h(e),l.clear(),x0++,function(){a.forEach(function(g){var p=Mc.get(g)-1,v=s.get(g)-1;Mc.set(g,p),s.set(g,v),p||(Fg.has(g)||g.removeAttribute(r),Fg.delete(g)),v||g.removeAttribute(n)}),x0--,x0||(Mc=new WeakMap,Mc=new WeakMap,Fg=new WeakMap,Ug={})}},lG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=sG(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),oG(r,i,n,"aria-hidden")):function(){return null}},X_=function(t,e){return X_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},X_(t,e)};function PI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");X_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Pi=function(){return Pi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pi.apply(this,arguments)};function To(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jI(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function LI(t,e){return function(n,r){e(n,r,t)}}function FI(t,e,n,r,i,s){function a(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!e&&t?r.static?t:t.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),g,p=!1,v=n.length-1;v>=0;v--){var _={};for(var b in r)_[b]=b==="access"?{}:r[b];for(var b in r.access)_.access[b]=r.access[b];_.addInitializer=function(x){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(x||null))};var w=(0,n[v])(l==="accessor"?{get:h.get,set:h.set}:h[u],_);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(g=a(w.get))&&(h.get=g),(g=a(w.set))&&(h.set=g),(g=a(w.init))&&i.unshift(g)}else(g=a(w))&&(l==="field"?i.unshift(g):h[u]=g)}d&&Object.defineProperty(d,r.name,h),p=!0}function UI(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function zI(t){return typeof t=="symbol"?t:"".concat(t)}function HI(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function BI(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ke(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(h){try{d(r.next(h))}catch(g){a(g)}}function u(h){try{d(r.throw(h))}catch(g){a(g)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})}function $I(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Zp=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function VI(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Zp(e,t,n)}function tp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function AS(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function qI(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(AS(arguments[e]));return t}function WI(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}function OS(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function ou(t){return this instanceof ou?(this.v=t,this):new ou(t)}function GI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(_){return Promise.resolve(_).then(v,g)}}function l(v,_){r[v]&&(i[v]=function(b){return new Promise(function(w,x){s.push([v,b,w,x])>1||u(v,b)})},_&&(i[v]=_(i[v])))}function u(v,_){try{d(r[v](_))}catch(b){p(s[0][3],b)}}function d(v){v.value instanceof ou?Promise.resolve(v.value.v).then(h,g):p(s[0][2],v)}function h(v){u("next",v)}function g(v){u("throw",v)}function p(v,_){v(_),s.shift(),s.length&&u(s[0][0],s[0][1])}}function YI(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:ou(t[i](a)),done:!1}:s?s(a):a}:s}}function KI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tp=="function"?tp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(l,u){a=t[s](a),i(l,u,a.done,a.value)})}}function i(s,a,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},a)}}function QI(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var cG=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Z_=function(t){return Z_=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Z_(t)};function XI(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Z_(t),r=0;r<n.length;r++)n[r]!=="default"&&Zp(e,t,n[r]);return cG(e,t),e}function ZI(t){return t&&t.__esModule?t:{default:t}}function JI(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function eP(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function tP(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function nP(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var uG=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function rP(t){function e(s){t.error=t.hasError?new uG(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function iP(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,a){return r?e?".jsx":".js":i&&(!s||!a)?n:i+s+"."+a.toLowerCase()+"js"}):t}const dG={__extends:PI,__assign:Pi,__rest:To,__decorate:jI,__param:LI,__esDecorate:FI,__runInitializers:UI,__propKey:zI,__setFunctionName:HI,__metadata:BI,__awaiter:ke,__generator:$I,__createBinding:Zp,__exportStar:VI,__values:tp,__read:AS,__spread:qI,__spreadArrays:WI,__spreadArray:OS,__await:ou,__asyncGenerator:GI,__asyncDelegator:YI,__asyncValues:KI,__makeTemplateObject:QI,__importStar:XI,__importDefault:ZI,__classPrivateFieldGet:JI,__classPrivateFieldSet:eP,__classPrivateFieldIn:tP,__addDisposableResource:nP,__disposeResources:rP,__rewriteRelativeImportExtension:iP},fG=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:nP,get __assign(){return Pi},__asyncDelegator:YI,__asyncGenerator:GI,__asyncValues:KI,__await:ou,__awaiter:ke,__classPrivateFieldGet:JI,__classPrivateFieldIn:tP,__classPrivateFieldSet:eP,__createBinding:Zp,__decorate:jI,__disposeResources:rP,__esDecorate:FI,__exportStar:VI,__extends:PI,__generator:$I,__importDefault:ZI,__importStar:XI,__makeTemplateObject:QI,__metadata:BI,__param:LI,__propKey:zI,__read:AS,__rest:To,__rewriteRelativeImportExtension:iP,__runInitializers:UI,__setFunctionName:HI,__spread:qI,__spreadArray:OS,__spreadArrays:WI,__values:tp,default:dG},Symbol.toStringTag,{value:"Module"}));var Am="right-scroll-bar-position",Om="width-before-scroll-bar",hG="with-scroll-bars-hidden",gG="--removed-body-scroll-bar-size";function E0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mG(t,e){var n=j.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var pG=typeof window<"u"?j.useLayoutEffect:j.useEffect,PO=new WeakMap;function vG(t,e){var n=mG(null,function(r){return t.forEach(function(i){return E0(i,r)})});return pG(function(){var r=PO.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||E0(l,null)}),s.forEach(function(l){i.has(l)||E0(l,a)})}PO.set(n,t)},[t]),n}function yG(t){return t}function bG(t,e){e===void 0&&(e=yG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var u=function(){var h=a;a=[],h.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return i}function _G(t){t===void 0&&(t={});var e=bG(null);return e.options=Pi({async:!0,ssr:!1},t),e}var sP=function(t){var e=t.sideCar,n=To(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Pi({},n))};sP.isSideCarExport=!0;function wG(t,e){return t.useMedium(e),sP}var aP=_G(),R0=function(){},Jp=j.forwardRef(function(t,e){var n=j.useRef(null),r=j.useState({onScrollCapture:R0,onWheelCapture:R0,onTouchMoveCapture:R0}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,g=t.shards,p=t.sideCar,v=t.noRelative,_=t.noIsolation,b=t.inert,w=t.allowPinchZoom,x=t.as,E=x===void 0?"div":x,R=t.gapMode,O=To(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,I=vG([n,e]),k=Pi(Pi({},O),i);return j.createElement(j.Fragment,null,h&&j.createElement(A,{sideCar:aP,removeScrollBar:d,shards:g,noRelative:v,noIsolation:_,inert:b,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:R}),a?j.cloneElement(j.Children.only(l),Pi(Pi({},k),{ref:I})):j.createElement(E,Pi({},k,{className:u,ref:I}),l))});Jp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jp.classNames={fullWidth:Om,zeroRight:Am};var SG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=SG();return e&&t.setAttribute("nonce",e),t}function EG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function RG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var CG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xG())&&(EG(e,n),RG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TG=function(){var t=CG();return function(e,n){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oP=function(){var t=TG(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},AG={left:0,top:0,right:0,gap:0},C0=function(t){return parseInt(t||"",10)||0},OG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[C0(n),C0(r),C0(i)]},DG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return AG;var e=OG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},MG=oP(),Zc="data-scroll-locked",kG=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Zc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Am,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Om,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Am," .").concat(Am,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Om," .").concat(Om,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zc,`] {
    `).concat(gG,": ").concat(l,`px;
  }
`)},jO=function(){var t=parseInt(document.body.getAttribute(Zc)||"0",10);return isFinite(t)?t:0},NG=function(){j.useEffect(function(){return document.body.setAttribute(Zc,(jO()+1).toString()),function(){var t=jO()-1;t<=0?document.body.removeAttribute(Zc):document.body.setAttribute(Zc,t.toString())}},[])},IG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;NG();var s=j.useMemo(function(){return DG(i)},[i]);return j.createElement(MG,{styles:kG(s,!e,i,n?"":"!important")})},J_=!1;if(typeof window<"u")try{var zg=Object.defineProperty({},"passive",{get:function(){return J_=!0,!0}});window.addEventListener("test",zg,zg),window.removeEventListener("test",zg,zg)}catch{J_=!1}var kc=J_?{passive:!1}:!1,PG=function(t){return t.tagName==="TEXTAREA"},lP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!PG(t)&&n[e]==="visible")},jG=function(t){return lP(t,"overflowY")},LG=function(t){return lP(t,"overflowX")},LO=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=cP(t,r);if(i){var s=uP(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},UG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cP=function(t,e){return t==="v"?jG(e):LG(e)},uP=function(t,e){return t==="v"?FG(e):UG(e)},zG=function(t,e){return t==="h"&&e==="rtl"?-1:1},HG=function(t,e,n,r,i){var s=zG(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,u=e.contains(l),d=!1,h=a>0,g=0,p=0;do{if(!l)break;var v=uP(t,l),_=v[0],b=v[1],w=v[2],x=b-w-s*_;(_||x)&&cP(t,l)&&(g+=x,p+=_);var E=l.parentNode;l=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(g)<1||!h&&Math.abs(p)<1)&&(d=!0),d},Hg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},FO=function(t){return[t.deltaX,t.deltaY]},UO=function(t){return t&&"current"in t?t.current:t},BG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$G=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},VG=0,Nc=[];function qG(t){var e=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(VG++)[0],s=j.useState(oP)[0],a=j.useRef(t);j.useEffect(function(){a.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=OS([t.lockRef.current],(t.shards||[]).map(UO),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=j.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var x=Hg(b),E=n.current,R="deltaX"in b?b.deltaX:E[0]-x[0],O="deltaY"in b?b.deltaY:E[1]-x[1],A,I=b.target,k=Math.abs(R)>Math.abs(O)?"h":"v";if("touches"in b&&k==="h"&&I.type==="range")return!1;var M=LO(k,I);if(!M)return!0;if(M?A=k:(A=k==="v"?"h":"v",M=LO(k,I)),!M)return!1;if(!r.current&&"changedTouches"in b&&(R||O)&&(r.current=A),!A)return!0;var L=r.current||A;return HG(L,w,b,L==="h"?R:O)},[]),u=j.useCallback(function(b){var w=b;if(!(!Nc.length||Nc[Nc.length-1]!==s)){var x="deltaY"in w?FO(w):Hg(w),E=e.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&BG(A.delta,x)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var R=(a.current.shards||[]).map(UO).filter(Boolean).filter(function(A){return A.contains(w.target)}),O=R.length>0?l(w,R[0]):!a.current.noIsolation;O&&w.cancelable&&w.preventDefault()}}},[]),d=j.useCallback(function(b,w,x,E){var R={name:b,delta:w,target:x,should:E,shadowParent:WG(x)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(O){return O!==R})},1)},[]),h=j.useCallback(function(b){n.current=Hg(b),r.current=void 0},[]),g=j.useCallback(function(b){d(b.type,FO(b),b.target,l(b,t.lockRef.current))},[]),p=j.useCallback(function(b){d(b.type,Hg(b),b.target,l(b,t.lockRef.current))},[]);j.useEffect(function(){return Nc.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:p}),document.addEventListener("wheel",u,kc),document.addEventListener("touchmove",u,kc),document.addEventListener("touchstart",h,kc),function(){Nc=Nc.filter(function(b){return b!==s}),document.removeEventListener("wheel",u,kc),document.removeEventListener("touchmove",u,kc),document.removeEventListener("touchstart",h,kc)}},[]);var v=t.removeScrollBar,_=t.inert;return j.createElement(j.Fragment,null,_?j.createElement(s,{styles:$G(i)}):null,v?j.createElement(IG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function WG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const GG=wG(aP,qG);var dP=j.forwardRef(function(t,e){return j.createElement(Jp,Pi({},t,{ref:e,sideCar:GG}))});dP.classNames=Jp.classNames;var ew=["Enter"," "],YG=["ArrowDown","PageUp","Home"],fP=["ArrowUp","PageDown","End"],KG=[...YG,...fP],QG={ltr:[...ew,"ArrowRight"],rtl:[...ew,"ArrowLeft"]},XG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Jf="Menu",[Ef,ZG,JG]=ZN(Jf),[Nl,hP]=xu(Jf,[JG,yI,OI]),ev=yI(),gP=OI(),[e8,Il]=Nl(Jf),[t8,eh]=Nl(Jf),mP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,l=ev(e),[u,d]=j.useState(null),h=j.useRef(!1),g=Es(s),p=JN(i);return j.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),z.jsx(UW,{...l,children:z.jsx(e8,{scope:e,open:n,onOpenChange:g,content:u,onContentChange:d,children:z.jsx(t8,{scope:e,onClose:j.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:p,modal:a,children:r})})})};mP.displayName=Jf;var n8="MenuAnchor",DS=j.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=ev(n);return z.jsx(zW,{...i,...r,ref:e})});DS.displayName=n8;var MS="MenuPortal",[r8,pP]=Nl(MS,{forceMount:void 0}),vP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Il(MS,e);return z.jsx(r8,{scope:e,forceMount:n,children:z.jsx(Xf,{present:n||s.open,children:z.jsx(TI,{asChild:!0,container:i,children:r})})})};vP.displayName=MS;var Li="MenuContent",[i8,kS]=Nl(Li),yP=j.forwardRef((t,e)=>{const n=pP(Li,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Il(Li,t.__scopeMenu),a=eh(Li,t.__scopeMenu);return z.jsx(Ef.Provider,{scope:t.__scopeMenu,children:z.jsx(Xf,{present:r||s.open,children:z.jsx(Ef.Slot,{scope:t.__scopeMenu,children:a.modal?z.jsx(s8,{...i,ref:e}):z.jsx(a8,{...i,ref:e})})})})}),s8=j.forwardRef((t,e)=>{const n=Il(Li,t.__scopeMenu),r=j.useRef(null),i=Wr(e,r);return j.useEffect(()=>{const s=r.current;if(s)return lG(s)},[]),z.jsx(NS,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:bt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),a8=j.forwardRef((t,e)=>{const n=Il(Li,t.__scopeMenu);return z.jsx(NS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),o8=yf("MenuContent.ScrollLock"),NS=j.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:p,onDismiss:v,disableOutsideScroll:_,...b}=t,w=Il(Li,n),x=eh(Li,n),E=ev(n),R=gP(n),O=ZG(n),[A,I]=j.useState(null),k=j.useRef(null),M=Wr(e,k,w.onContentChange),L=j.useRef(0),H=j.useRef(""),V=j.useRef(0),G=j.useRef(null),se=j.useRef("right"),ue=j.useRef(0),ye=_?dP:j.Fragment,U=_?{as:o8,allowPinchZoom:!0}:void 0,K=Y=>{const me=H.current+Y,D=O().filter(_e=>!_e.disabled),$=document.activeElement,Q=D.find(_e=>_e.ref.current===$)?.textValue,ee=D.map(_e=>_e.textValue),he=b8(ee,me,Q),pe=D.find(_e=>_e.textValue===he)?.ref.current;(function _e(Se){H.current=Se,window.clearTimeout(L.current),Se!==""&&(L.current=window.setTimeout(()=>_e(""),1e3))})(me),pe&&setTimeout(()=>pe.focus())};j.useEffect(()=>()=>window.clearTimeout(L.current),[]),u6();const ne=j.useCallback(Y=>se.current===G.current?.side&&w8(Y,G.current?.area),[]);return z.jsx(i8,{scope:n,searchRef:H,onItemEnter:j.useCallback(Y=>{ne(Y)&&Y.preventDefault()},[ne]),onItemLeave:j.useCallback(Y=>{ne(Y)||(k.current?.focus(),I(null))},[ne]),onTriggerLeave:j.useCallback(Y=>{ne(Y)&&Y.preventDefault()},[ne]),pointerGraceTimerRef:V,onPointerGraceIntentChange:j.useCallback(Y=>{G.current=Y},[]),children:z.jsx(ye,{...U,children:z.jsx(rI,{asChild:!0,trapped:i,onMountAutoFocus:bt(s,Y=>{Y.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:z.jsx(tI,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:p,onDismiss:v,children:z.jsx(rG,{asChild:!0,...R,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:I,onEntryFocus:bt(u,Y=>{x.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:z.jsx(HW,{role:"menu","aria-orientation":"vertical","data-state":IP(w.open),"data-radix-menu-content":"",dir:x.dir,...E,...b,ref:M,style:{outline:"none",...b.style},onKeyDown:bt(b.onKeyDown,Y=>{const D=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,$=Y.ctrlKey||Y.altKey||Y.metaKey,Q=Y.key.length===1;D&&(Y.key==="Tab"&&Y.preventDefault(),!$&&Q&&K(Y.key));const ee=k.current;if(Y.target!==ee||!KG.includes(Y.key))return;Y.preventDefault();const pe=O().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);fP.includes(Y.key)&&pe.reverse(),v8(pe)}),onBlur:bt(t.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(L.current),H.current="")}),onPointerMove:bt(t.onPointerMove,Rf(Y=>{const me=Y.target,D=ue.current!==Y.clientX;if(Y.currentTarget.contains(me)&&D){const $=Y.clientX>ue.current?"right":"left";se.current=$,ue.current=Y.clientX}}))})})})})})})});yP.displayName=Li;var l8="MenuGroup",IS=j.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return z.jsx(Zn.div,{role:"group",...r,ref:e})});IS.displayName=l8;var c8="MenuLabel",bP=j.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return z.jsx(Zn.div,{...r,ref:e})});bP.displayName=c8;var np="MenuItem",zO="menu.itemSelect",tv=j.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=j.useRef(null),a=eh(np,t.__scopeMenu),l=kS(np,t.__scopeMenu),u=Wr(e,s),d=j.useRef(!1),h=()=>{const g=s.current;if(!n&&g){const p=new CustomEvent(zO,{bubbles:!0,cancelable:!0});g.addEventListener(zO,v=>r?.(v),{once:!0}),VN(g,p),p.defaultPrevented?d.current=!1:a.onClose()}};return z.jsx(_P,{...i,ref:u,disabled:n,onClick:bt(t.onClick,h),onPointerDown:g=>{t.onPointerDown?.(g),d.current=!0},onPointerUp:bt(t.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:bt(t.onKeyDown,g=>{const p=l.searchRef.current!=="";n||p&&g.key===" "||ew.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});tv.displayName=np;var _P=j.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=kS(np,n),l=gP(n),u=j.useRef(null),d=Wr(e,u),[h,g]=j.useState(!1),[p,v]=j.useState("");return j.useEffect(()=>{const _=u.current;_&&v((_.textContent??"").trim())},[s.children]),z.jsx(Ef.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:z.jsx(iG,{asChild:!0,...l,focusable:!r,children:z.jsx(Zn.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:bt(t.onPointerMove,Rf(_=>{r?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:bt(t.onPointerLeave,Rf(_=>a.onItemLeave(_))),onFocus:bt(t.onFocus,()=>g(!0)),onBlur:bt(t.onBlur,()=>g(!1))})})})}),u8="MenuCheckboxItem",wP=j.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return z.jsx(CP,{scope:t.__scopeMenu,checked:n,children:z.jsx(tv,{role:"menuitemcheckbox","aria-checked":rp(n)?"mixed":n,...i,ref:e,"data-state":jS(n),onSelect:bt(i.onSelect,()=>r?.(rp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});wP.displayName=u8;var SP="MenuRadioGroup",[d8,f8]=Nl(SP,{value:void 0,onValueChange:()=>{}}),xP=j.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Es(r);return z.jsx(d8,{scope:t.__scopeMenu,value:n,onValueChange:s,children:z.jsx(IS,{...i,ref:e})})});xP.displayName=SP;var EP="MenuRadioItem",RP=j.forwardRef((t,e)=>{const{value:n,...r}=t,i=f8(EP,t.__scopeMenu),s=n===i.value;return z.jsx(CP,{scope:t.__scopeMenu,checked:s,children:z.jsx(tv,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":jS(s),onSelect:bt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});RP.displayName=EP;var PS="MenuItemIndicator",[CP,h8]=Nl(PS,{checked:!1}),TP=j.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=h8(PS,n);return z.jsx(Xf,{present:r||rp(s.checked)||s.checked===!0,children:z.jsx(Zn.span,{...i,ref:e,"data-state":jS(s.checked)})})});TP.displayName=PS;var g8="MenuSeparator",AP=j.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return z.jsx(Zn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});AP.displayName=g8;var m8="MenuArrow",OP=j.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=ev(n);return z.jsx(BW,{...i,...r,ref:e})});OP.displayName=m8;var p8="MenuSub",[ihe,DP]=Nl(p8),Bd="MenuSubTrigger",MP=j.forwardRef((t,e)=>{const n=Il(Bd,t.__scopeMenu),r=eh(Bd,t.__scopeMenu),i=DP(Bd,t.__scopeMenu),s=kS(Bd,t.__scopeMenu),a=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},h=j.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return j.useEffect(()=>h,[h]),j.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),u(null)}},[l,u]),z.jsx(DS,{asChild:!0,...d,children:z.jsx(_P,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":IP(n.open),...t,ref:Bp(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:bt(t.onPointerMove,Rf(g=>{s.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:bt(t.onPointerLeave,Rf(g=>{h();const p=n.content?.getBoundingClientRect();if(p){const v=n.content?.dataset.side,_=v==="right",b=_?-5:5,w=p[_?"left":"right"],x=p[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+b,y:g.clientY},{x:w,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:w,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:bt(t.onKeyDown,g=>{const p=s.searchRef.current!=="";t.disabled||p&&g.key===" "||QG[r.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});MP.displayName=Bd;var kP="MenuSubContent",NP=j.forwardRef((t,e)=>{const n=pP(Li,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Il(Li,t.__scopeMenu),a=eh(Li,t.__scopeMenu),l=DP(kP,t.__scopeMenu),u=j.useRef(null),d=Wr(e,u);return z.jsx(Ef.Provider,{scope:t.__scopeMenu,children:z.jsx(Xf,{present:r||s.open,children:z.jsx(Ef.Slot,{scope:t.__scopeMenu,children:z.jsx(NS,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&u.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:bt(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:bt(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:bt(t.onKeyDown,h=>{const g=h.currentTarget.contains(h.target),p=XG[a.dir].includes(h.key);g&&p&&(s.onOpenChange(!1),l.trigger?.focus(),h.preventDefault())})})})})})});NP.displayName=kP;function IP(t){return t?"open":"closed"}function rp(t){return t==="indeterminate"}function jS(t){return rp(t)?"indeterminate":t?"checked":"unchecked"}function v8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function y8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function b8(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=y8(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function _8(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],u=e[a],d=l.x,h=l.y,g=u.x,p=u.y;h>r!=p>r&&n<(g-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function w8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return _8(n,e)}function Rf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var S8=mP,x8=DS,E8=vP,R8=yP,C8=IS,T8=bP,A8=tv,O8=wP,D8=xP,M8=RP,k8=TP,N8=AP,I8=OP,P8=MP,j8=NP,nv="DropdownMenu",[L8]=xu(nv,[hP]),Tr=hP(),[F8,PP]=L8(nv),jP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,u=Tr(e),d=j.useRef(null),[h,g]=XN({prop:i,defaultProp:s??!1,onChange:a,caller:nv});return z.jsx(F8,{scope:e,triggerId:W_(),triggerRef:d,contentId:W_(),open:h,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(p=>!p),[g]),modal:l,children:z.jsx(S8,{...u,open:h,onOpenChange:g,dir:r,modal:l,children:n})})};jP.displayName=nv;var LP="DropdownMenuTrigger",FP=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=PP(LP,n),a=Tr(n);return z.jsx(x8,{asChild:!0,...a,children:z.jsx(Zn.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Bp(e,s.triggerRef),onPointerDown:bt(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:bt(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});FP.displayName=LP;var U8="DropdownMenuPortal",UP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Tr(e);return z.jsx(E8,{...r,...n})};UP.displayName=U8;var zP="DropdownMenuContent",HP=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=PP(zP,n),s=Tr(n),a=j.useRef(!1);return z.jsx(R8,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:bt(t.onCloseAutoFocus,l=>{a.current||i.triggerRef.current?.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:bt(t.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!i.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HP.displayName=zP;var z8="DropdownMenuGroup",H8=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(C8,{...i,...r,ref:e})});H8.displayName=z8;var B8="DropdownMenuLabel",BP=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(T8,{...i,...r,ref:e})});BP.displayName=B8;var $8="DropdownMenuItem",$P=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(A8,{...i,...r,ref:e})});$P.displayName=$8;var V8="DropdownMenuCheckboxItem",q8=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(O8,{...i,...r,ref:e})});q8.displayName=V8;var W8="DropdownMenuRadioGroup",G8=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(D8,{...i,...r,ref:e})});G8.displayName=W8;var Y8="DropdownMenuRadioItem",K8=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(M8,{...i,...r,ref:e})});K8.displayName=Y8;var Q8="DropdownMenuItemIndicator",X8=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(k8,{...i,...r,ref:e})});X8.displayName=Q8;var Z8="DropdownMenuSeparator",VP=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(N8,{...i,...r,ref:e})});VP.displayName=Z8;var J8="DropdownMenuArrow",eY=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(I8,{...i,...r,ref:e})});eY.displayName=J8;var tY="DropdownMenuSubTrigger",nY=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(P8,{...i,...r,ref:e})});nY.displayName=tY;var rY="DropdownMenuSubContent",iY=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return z.jsx(j8,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iY.displayName=rY;var sY=jP,aY=FP,oY=UP,lY=HP,cY=BP,uY=$P,dY=VP;const fY="modulepreload",hY=function(t){return"/scheduler_demo/"+t},HO={},rs=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(d=>{if(d=hY(d),d in HO)return;HO[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":fY,h||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((v,_)=>{p.addEventListener("load",v),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},gY=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:r}=await Promise.resolve().then(()=>Pl);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class LS extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class BO extends LS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $O extends LS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class VO extends LS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tw||(tw={}));class mY{constructor(e,{headers:n={},customFetch:r,region:i=tw.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=gY(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ke(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:a,body:l,signal:u}=r;let d={},{region:h}=r;h||(h=this.region);const g=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let p;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(d["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)):p=l;const v=yield this.fetch(g.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:p,signal:u}).catch(x=>{throw x.name==="AbortError"?x:new BO(x)}),_=v.headers.get("x-relay-error");if(_&&_==="true")throw new $O(v);if(!v.ok)throw new VO(v);let b=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield v.json():b==="application/octet-stream"||b==="application/pdf"?w=yield v.blob():b==="text/event-stream"?w=v:b==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new BO(s)}:{data:null,error:s,response:s instanceof VO||s instanceof $O?s.context:void 0}}})}}var ur={};const Cu=Mk(fG);var Bg={},$g={},Vg={},qg={},Wg={},pY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},lu=pY();const vY=lu.fetch,qP=lu.fetch.bind(lu),WP=lu.Headers,yY=lu.Request,bY=lu.Response,Pl=Object.freeze(Object.defineProperty({__proto__:null,Headers:WP,Request:yY,Response:bY,default:qP,fetch:vY},Symbol.toStringTag,{value:"Module"})),_Y=Mk(Pl);var Gg={},qO;function GP(){if(qO)return Gg;qO=1,Object.defineProperty(Gg,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Gg.default=t,Gg}var WO;function YP(){if(WO)return Wg;WO=1,Object.defineProperty(Wg,"__esModule",{value:!0});const t=Cu,e=t.__importDefault(_Y),n=t.__importDefault(GP());class r{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,p,v;let _=null,b=null,w=null,x=d.status,E=d.statusText;if(d.ok){if(this.method!=="HEAD"){const I=await d.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=I:b=JSON.parse(I))}const O=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),A=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&A&&A.length>1&&(w=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,w=null,x=406,E="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const O=await d.text();try{_=JSON.parse(O),Array.isArray(_)&&d.status===404&&(b=[],_=null,x=200,E="OK")}catch{d.status===404&&O===""?(x=204,E="No Content"):_={message:O}}if(_&&this.isMaybeSingle&&(!((v=_?.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,x=200,E="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:b,count:w,status:x,statusText:E}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,g,p;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(g=d?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(p=d?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return Wg.default=r,Wg}var GO;function KP(){if(GO)return qg;GO=1,Object.defineProperty(qg,"__esModule",{value:!0});const e=Cu.__importDefault(YP());class n extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const g=[i?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return qg.default=n,qg}var YO;function FS(){if(YO)return Vg;YO=1,Object.defineProperty(Vg,"__esModule",{value:!0});const e=Cu.__importDefault(KP());class n extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}}return Vg.default=n,Vg}var KO;function QP(){if(KO)return $g;KO=1,Object.defineProperty($g,"__esModule",{value:!0});const e=Cu.__importDefault(FS());class n{constructor(i,{headers:s={},schema:a,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(i,s){const{head:a=!1,count:l}=s??{},u=a?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var l;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(g.length>0){const p=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return $g.default=n,$g}var QO;function wY(){if(QO)return Bg;QO=1,Object.defineProperty(Bg,"__esModule",{value:!0});const t=Cu,e=t.__importDefault(QP()),n=t.__importDefault(FS());class r{constructor(s,{headers:a={},schema:l,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:u=!1,count:d}={}){var h;let g;const p=new URL(`${this.url}/rpc/${s}`);let v;l||u?(g=l?"HEAD":"GET",Object.entries(a).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{p.searchParams.append(b,w)})):(g="POST",v=a);const _=new Headers(this.headers);return d&&_.set("Prefer",`count=${d}`),new n.default({method:g,url:p,headers:_,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Bg.default=r,Bg}var XO;function SY(){if(XO)return ur;XO=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.PostgrestError=ur.PostgrestBuilder=ur.PostgrestTransformBuilder=ur.PostgrestFilterBuilder=ur.PostgrestQueryBuilder=ur.PostgrestClient=void 0;const t=Cu,e=t.__importDefault(wY());ur.PostgrestClient=e.default;const n=t.__importDefault(QP());ur.PostgrestQueryBuilder=n.default;const r=t.__importDefault(FS());ur.PostgrestFilterBuilder=r.default;const i=t.__importDefault(KP());ur.PostgrestTransformBuilder=i.default;const s=t.__importDefault(YP());ur.PostgrestBuilder=s.default;const a=t.__importDefault(GP());return ur.PostgrestError=a.default,ur.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},ur}var xY=SY();const EY=Co(xY),{PostgrestClient:RY,PostgrestQueryBuilder:she,PostgrestFilterBuilder:ahe,PostgrestTransformBuilder:ohe,PostgrestBuilder:lhe,PostgrestError:che}=EY;class CY{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const TY="2.76.1",AY=`realtime-js/${TY}`,OY="1.0.0",nw=1e4,DY=1e3,MY=100;var Zd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zd||(Zd={}));var Un;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Un||(Un={}));var Gi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Gi||(Gi={}));var rw;(function(t){t.websocket="websocket"})(rw||(rw={}));var dl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dl||(dl={}));class kY{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+i));a=a+i;const u=r.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class XP{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Yt||(Yt={}));const ZO=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=NY(a,t,e,i),s),{}):{}},NY=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i?.type,a=n[t];return s&&!r.includes(s)?ZP(s,a):iw(a)},ZP=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return LY(e,n)}switch(t){case Yt.bool:return IY(e);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return PY(e);case Yt.json:case Yt.jsonb:return jY(e);case Yt.timestamp:return FY(e);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return iw(e);default:return iw(e)}},iw=t=>t,IY=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},PY=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jY=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},LY=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>ZP(e,l))}return t},FY=t=>typeof t=="string"?t.replace(" ","T"):t,JP=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class T0{constructor(e,n,r={},i=nw){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var JO;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(JO||(JO={}));class Jd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jd.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=Jd.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Jd.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),l={},u={};return this.map(s,(d,h)=>{a[d]||(u[d]=h)}),this.map(a,(d,h)=>{const g=s[d];if(g){const p=h.map(w=>w.presence_ref),v=g.map(w=>w.presence_ref),_=h.filter(w=>v.indexOf(w.presence_ref)<0),b=g.filter(w=>p.indexOf(w.presence_ref)<0);_.length>0&&(l[d]=_),b.length>0&&(u[d]=b)}else l[d]=h}),this.syncDiff(s,{joins:l,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),h.length>0){const g=e[l].map(v=>v.presence_ref),p=h.filter(v=>g.indexOf(v.presence_ref)<0);e[l].unshift(...p)}r(l,h,u)}),this.map(a,(l,u)=>{let d=e[l];if(!d)return;const h=u.map(g=>g.presence_ref);d=d.filter(g=>h.indexOf(g.presence_ref)<0),e[l]=d,i(l,d,u),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eD;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(eD||(eD={}));var ef;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ef||(ef={}));var ra;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ra||(ra={}));class US{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new T0(this,Gi.join,this.params,this.timeout),this.rejoinTimer=new XP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gi.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Jd(this),this.broadcastEndpointURL=JP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[ef.PRESENCE]&&this.bindings[ef.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(ra.CHANNEL_ERROR,v)),this._onClose(()=>e?.(ra.CLOSED)),this.updateJoinPayload(Object.assign({config:p},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket.setAuth(),v===void 0){e?.(ra.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(_=b?.length)!==null&&_!==void 0?_:0,x=[];for(let E=0;E<w;E++){const R=b[E],{filter:{event:O,schema:A,table:I,filter:k}}=R,M=v&&v[E];if(M&&M.event===O&&M.schema===A&&M.table===I&&M.filter===k)x.push(Object.assign(Object.assign({},R),{id:M.id}));else{this.unsubscribe(),this.state=Un.errored,e?.(ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(ra.SUBSCRIBED);return}}).receive("error",v=>{this.state=Un.errored,e?.(ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Un.joined&&e===ef.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new T0(this,Gi.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new T0(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Gi;if(r&&[l,u,d,h].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var _,b,w;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((w=(b=v.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(v=>v.callback(p,r)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var _,b,w,x,E,R;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const O=v.id,A=(_=v.filter)===null||_===void 0?void 0:_.event;return O&&((b=n.ids)===null||b===void 0?void 0:b.includes(O))&&(A==="*"||A?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const O=(E=(x=v?.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return O==="*"||O===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof p=="object"&&"ids"in p){const _=p.data,{schema:b,table:w,commit_timestamp:x,type:E,errors:R}=_;p=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:x,eventType:E,new:{},old:{},errors:R}),this._getPayloadRecords(_))}v.callback(p,r)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&US.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gi.close,{},e)}_onError(e){this._on(Gi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ZO(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ZO(e.columns,e.old_record)),n}}const A0=()=>{},Yg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},UY=[1e3,2e3,5e3,1e4],zY=1e4,HY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BY{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nw,this.transport=null,this.heartbeatIntervalMs=Yg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=A0,this.ref=0,this.reconnectTimer=null,this.logger=A0,this.conn=null,this.sendBuffer=[],this.serializer=new kY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>rs(async()=>{const{default:l}=await Promise.resolve().then(()=>Pl);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${rw.websocket}`,this.httpEndpoint=JP(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=CY.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OY}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zd.connecting:return dl.Connecting;case Zd.open:return dl.Open;case Zd.closing:return dl.Closing;default:return dl.Closed}}isConnected(){return this.connectionState()===dl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new US(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(DY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Yg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,l=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),s),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([HY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:AY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Gi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new XP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,l,u,d,h;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:nw,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Yg.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:A0,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(g=>UY[g-1]||zY),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((g,p)=>p(JSON.stringify(g))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class zS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function cn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $Y extends zS{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sw extends zS{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const HS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:r}=await Promise.resolve().then(()=>Pl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},VY=()=>ke(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rs(()=>Promise.resolve().then(()=>Pl),void 0)).Response:Response}),aw=t=>{if(Array.isArray(t))return t.map(n=>aw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=aw(r)}),e},qY=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},O0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WY=(t,e,n)=>ke(void 0,void 0,void 0,function*(){const r=yield VY();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const s=t.status||500,a=i?.statusCode||s+"";e(new $Y(O0(i),s,a))}).catch(i=>{e(new sw(O0(i),i))}):e(new sw(O0(t),t))}),GY=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(qY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function th(t,e,n,r,i,s){return ke(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,GY(e,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>WY(u,l,r))})})}function Cf(t,e,n,r){return ke(this,void 0,void 0,function*(){return th(t,"GET",e,n,r)})}function qi(t,e,n,r,i){return ke(this,void 0,void 0,function*(){return th(t,"POST",e,r,i,n)})}function ow(t,e,n,r,i){return ke(this,void 0,void 0,function*(){return th(t,"PUT",e,r,i,n)})}function YY(t,e,n,r){return ke(this,void 0,void 0,function*(){return th(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function BS(t,e,n,r,i){return ke(this,void 0,void 0,function*(){return th(t,"DELETE",e,r,i,n)})}class KY{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ke(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cn(e))return{data:null,error:e};throw e}})}}var e2;class QY{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[e2]="BlobDownloadBuilder",this.promise=null}asStream(){return new KY(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ke(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cn(e))return{data:null,error:e};throw e}})}}e2=Symbol.toStringTag;const XY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZY{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=HS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ke(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},tD),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=yield(e=="PUT"?ow:qi)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(cn(s))return{data:null,error:s};throw s}})}upload(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:tD.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=yield ow(this.fetch,l.toString(),u,{headers:h});return{data:{path:s,fullPath:g.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(cn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield qi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new zS("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}update(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield qi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield qi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ke(this,void 0,void 0,function*(){try{const i=yield qi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),a=s?`?${s}`:"",l=this._getFinalPath(e),u=()=>Cf(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new QY(u,this.shouldThrowOnError)}info(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Cf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:aw(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}exists(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield YY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r)&&r instanceof sw){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield BS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}list(e,n,r){return ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},XY),n),{prefix:e||""});return{data:yield qi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}listV2(e,n){return ke(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield qi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const t2="2.76.1",n2={"X-Client-Info":`storage-js/${t2}`};class JY{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n2),n),this.fetch=HS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ke(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cn(e))return{data:null,error:e};throw e}})}getBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}createBucket(e){return ke(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield qi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ke(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield BS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}}class e9{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n2),n),this.fetch=HS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listBuckets(e){return ke(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,s=yield Cf(this.fetch,i,{headers:this.headers});return{data:Array.isArray(s)?s.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield BS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}}const $S={"X-Client-Info":`storage-js/${t2}`,"Content-Type":"application/json"};class r2 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function si(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class D0 extends r2{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class t9 extends r2{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var nD;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(nD||(nD={}));const VS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:r}=await Promise.resolve().then(()=>Pl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},n9=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rD=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r9=(t,e,n)=>ke(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const l=a?.statusCode||a?.code||i+"";e(new D0(rD(a),i,l))}).catch(()=>{const a=i+"",l=s.statusText||`HTTP ${i} error`;e(new D0(l,i,a))});else{const a=i+"",l=s.statusText||`HTTP ${i} error`;e(new D0(l,i,a))}}else e(new t9(rD(t),t))}),i9=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return r?(n9(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function s9(t,e,n,r,i,s){return ke(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,i9(e,r,i,s)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>r9(u,l,r))})})}function ai(t,e,n,r,i){return ke(this,void 0,void 0,function*(){return s9(t,"POST",e,r,i,n)})}class a9{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$S),n),this.fetch=VS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ke(this,void 0,void 0,function*(){try{return{data:(yield ai(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ke(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}})}listIndexes(e){return ke(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ke(this,void 0,void 0,function*(){try{return{data:(yield ai(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}})}}class o9{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$S),n),this.fetch=VS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ke(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ai(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getVectors(e){return ke(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}listVectors(e){return ke(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ai(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}queryVectors(e){return ke(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ke(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ai(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}}class l9{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$S),n),this.fetch=VS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:(yield ai(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}listBuckets(){return ke(this,arguments,void 0,function*(e={}){try{return{data:yield ai(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:(yield ai(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}}class c9 extends l9{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new u9(this.url,this.headers,e,this.fetch)}}class u9 extends a9{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ke(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ke(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ke(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ke(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new d9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class d9 extends o9{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ke(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ke(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ke(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ke(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ke(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class f9 extends JY{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new ZY(this.url,this.headers,e,this.fetch)}get vectors(){return new c9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new e9(this.url+"/iceberg",this.headers,this.fetch)}}const h9="2.76.1";let $d="";typeof Deno<"u"?$d="deno":typeof document<"u"?$d="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$d="react-native":$d="node";const g9={"X-Client-Info":`supabase-js-${$d}/${h9}`},m9={headers:g9},p9={schema:"public"},v9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y9={},b9=t=>{let e;return t?e=t:typeof fetch>"u"?e=qP:e=fetch,(...n)=>e(...n)},_9=()=>typeof Headers>"u"?WP:Headers,w9=(t,e,n)=>{const r=b9(n),i=_9();return async(s,a)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:t;let d=new i(a?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},a),{headers:d}))}};function S9(t){return t.endsWith("/")?t:t+"/"}function x9(t,e){var n,r;const{db:i,auth:s,realtime:a,global:l}=t,{db:u,auth:d,realtime:h,global:g}=e,p={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function E9(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(S9(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const i2="2.76.1",Vc=30*1e3,lw=3,M0=lw*Vc,R9="http://localhost:9999",C9="supabase.auth.token",T9={"X-Client-Info":`gotrue-js/${i2}`},cw="X-Supabase-Api-Version",s2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O9=600*1e3;class Tf extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class D9 extends Tf{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function M9(t){return je(t)&&t.name==="AuthApiError"}class fl extends Tf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ao extends Tf{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class to extends Ao{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k9(t){return je(t)&&t.name==="AuthSessionMissingError"}class Ic extends Ao{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kg extends Ao{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qg extends Ao{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N9(t){return je(t)&&t.name==="AuthImplicitGrantRedirectError"}class iD extends Ao{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uw extends Ao{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function k0(t){return je(t)&&t.name==="AuthRetryableFetchError"}class sD extends Ao{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class dw extends Ao{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ip="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aD=` 	
\r=`.split(""),I9=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<aD.length;e+=1)t[aD[e].charCodeAt(0)]=-2;for(let e=0;e<ip.length;e+=1)t[ip[e].charCodeAt(0)]=e;return t})();function oD(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ip[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ip[r]),e.queuedBits-=6}}function a2(t,e,n){const r=I9[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function lD(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{L9(a,r,n)};for(let a=0;a<t.length;a+=1)a2(t.charCodeAt(a),i,s);return e.join("")}function P9(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function j9(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}P9(r,e)}}function L9(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Jc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)a2(t.charCodeAt(i),n,r);return new Uint8Array(e)}function F9(t){const e=[];return j9(t,n=>e.push(n)),new Uint8Array(e)}function vl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>oD(i,n,r)),oD(null,n,r),e.join("")}function U9(t){return Math.round(Date.now()/1e3)+t}function z9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",Zo={tested:!1,writable:!1},o2=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zo.tested)return Zo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zo.tested=!0,Zo.writable=!0}catch{Zo.tested=!0,Zo.writable=!1}return Zo.writable};function H9(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const l2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:r}=await Promise.resolve().then(()=>Pl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},B9=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xa=async(t,e)=>{await t.removeItem(e)};class rv{constructor(){this.promise=new rv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rv.promiseConstructor=Promise;function N0(t){const e=t.split(".");if(e.length!==3)throw new dw("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!A9.test(e[r]))throw new dw("JWT not in base64url format");return{header:JSON.parse(lD(e[0])),payload:JSON.parse(lD(e[1])),signature:Jc(e[2]),raw:{header:e[0],payload:e[1]}}}async function $9(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function V9(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function q9(t){return("0"+t.toString(16)).substr(-2)}function W9(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,q9).join("")}async function G9(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Y9(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await G9(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pc(t,e,n=!1){const r=W9();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await qc(t,`${e}-code-verifier`,i);const s=await Y9(r);return[s,r===s?"plain":"s256"]}const K9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q9(t){const e=t.headers.get(cw);if(!e||!e.match(K9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function X9(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Z9(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jc(t){if(!J9.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function I0(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cD(t){return JSON.parse(JSON.stringify(t))}const sl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),e7=[502,503,504];async function uD(t){var e;if(!B9(t))throw new uw(sl(t),0);if(e7.includes(t.status))throw new uw(sl(t),t.status);let n;try{n=await t.json()}catch(s){throw new fl(sl(s),s)}let r;const i=Q9(t);if(i&&i.getTime()>=s2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sD(sl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new to}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new sD(sl(n),t.status,n.weak_password.reasons);throw new D9(sl(n),t.status||500,r)}const t7=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ge(t,e,n,r){var i;const s=Object.assign({},r?.headers);s[cw]||(s[cw]=s2["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await n7(t,e,n+l,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function n7(t,e,n,r,i,s){const a=t7(e,r,i,s);let l;try{l=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new uw(sl(u),0)}if(l.ok||await uD(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await uD(u)}}function Vi(t){var e;let n=null;s7(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=U9(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function dD(t){const e=Vi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ao(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function r7(t){return{data:t,error:null}}function i7(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=To(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function fD(t){return t}function s7(t){return t.access_token&&t.refresh_token&&t.expires_in}const P0=["global","local","others"];class a7{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=l2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=P0[0]){if(P0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${P0.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ao})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=To(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:i7,redirectTo:n?.redirectTo})}catch(n){if(je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ao})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:fD});if(h.error)throw h.error;const g=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);d[`${w}Page`]=b}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(je(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){jc(e);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ao})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){jc(e);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ao})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){jc(e);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ao})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){jc(e.userId);try{const{data:n,error:r}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){jc(e.userId),jc(e.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:fD});if(h.error)throw h.error;const g=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);d[`${w}Page`]=b}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(je(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}}function hD(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Lc={debug:!!(globalThis&&o2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class o7 extends c2{}async function l7(t,e,n){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new o7(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function c7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function u2(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function u7(t){return parseInt(t,16)}function d7(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function f7(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:u,resources:d,scheme:h,uri:g,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=u2(t.address),_=h?`${h}://${r}`:r,b=t.statement?`${t.statement}
`:"",w=`${_} wants you to sign in with your Ethereum account:
${v}

${b}`;let x=`URI: ${g}
Version: ${p}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),u&&(x+=`
Request ID: ${u}`),d){let E=`
Resources:`;for(const R of d){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);E+=`
- ${R}`}x+=E}return`${w}
${x}`}class Mn extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class sp extends Mn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function h7({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Mn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Mn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Mn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Mn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Mn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Mn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Mn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(d2(a)){if(s.rp.id!==a)return new Mn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Mn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Mn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function g7({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Mn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(d2(r)){if(n.rpId!==r)return new Mn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Mn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class m7{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const p7=new m7;function v7(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=To(t,["challenge","user","excludeCredentials"]),s=Jc(e).buffer,a=Object.assign(Object.assign({},n),{id:Jc(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Jc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function y7(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=To(t,["challenge","allowCredentials"]),i=Jc(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Jc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function b7(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:vl(new Uint8Array(t.response.attestationObject)),clientDataJSON:vl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _7(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:vl(new Uint8Array(i.authenticatorData)),clientDataJSON:vl(new Uint8Array(i.clientDataJSON)),signature:vl(new Uint8Array(i.signature)),userHandle:i.userHandle?vl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function d2(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function gD(){var t,e;return!!(ti()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function w7(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sp("Browser returned unexpected credential type",e)}:{data:null,error:new sp("Empty credential response",e)}}catch(e){return{data:null,error:h7({error:e,options:t})}}}async function S7(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sp("Browser returned unexpected credential type",e)}:{data:null,error:new sp("Empty credential response",e)}}catch(e){return{data:null,error:g7({error:e,options:t})}}}const x7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},E7={userVerification:"preferred",hints:["security-key"]};function ap(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const l=r[s];e(l)?r[s]=ap(l,a):r[s]=ap(a)}else r[s]=a}return r}function R7(t,e){return ap(x7,t,e||{})}function C7(t,e){return ap(E7,t,e||{})}class T7{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const u=i??p7.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=R7(a.webauthn.credential_options.publicKey,s?.create),{data:h,error:g}=await w7({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const d=C7(a.webauthn.credential_options.publicKey,s?.request),{data:h,error:g}=await S7(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(a){return je(a)?{data:null,error:a}:{data:null,error:new fl("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new Tf("rpId is required for WebAuthn authentication")};try{if(!gD())return{data:null,error:new fl("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return je(a)?{data:null,error:a}:{data:null,error:new fl("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new Tf("rpId is required for WebAuthn registration")};try{if(!gD())return{data:null,error:new fl("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return je(a)?{data:null,error:a}:{data:null,error:new fl("Unexpected error in register",a)}}}}c7();const A7={url:R9,storageKey:C9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mD(t,e,n){return await n()}const Fc={};class Af{get jwks(){var e,n;return(n=(e=Fc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Fc[this.storageKey]=Object.assign(Object.assign({},Fc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Fc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fc[this.storageKey]=Object.assign(Object.assign({},Fc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Af.nextInstanceID,Af.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},A7),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new a7({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=l2(i.fetch),this.lock=i.lock||mD,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ti()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=l7:this.lock=mD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T7(this)},this.persistSession?(i.storage?this.storage=i.storage:o2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hD(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=hD(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${i2}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=H9(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ti()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),N9(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return je(n)?{error:n}:{error:new fl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Vi}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:h,password:g,options:p}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await Pc(this.storage,this.storageKey)),s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:h,password:g,data:(n=p?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:_},xform:Vi})}else if("phone"in e){const{phone:h,password:g,options:p}=e;s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=p?.data)!==null&&r!==void 0?r:{},channel:(i=p?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Vi})}else throw new Kg("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:l}=e;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:dD})}else if("phone"in e){const{phone:s,password:a,options:l}=e;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:dD})}else throw new Kg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ic}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,l,u,d,h,g,p;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:b,wallet:w,statement:x,options:E}=e;let R;if(ti())if(typeof w=="object")R=w;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")R=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=w}const O=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),A=await R.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=u2(A[0]);let k=(r=E?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const L=await R.request({method:"eth_chainId"});k=u7(L)}const M={domain:O.host,address:I,statement:x,uri:O.href,version:"1",chainId:k,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=f7(M),_=await R.request({method:"personal_sign",params:[d7(v),I]})}try{const{data:b,error:w}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:_},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Vi});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ic}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(je(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,r,i,s,a,l,u,d,h,g,p,v;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:w,wallet:x,statement:E,options:R}=e;let O;if(ti())if(typeof x=="object")O=x;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))O=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=x}const A=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const I=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),E?{statement:E}:null));let k;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")k=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)k=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)_=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),b=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${A.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=R?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=R?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((a=R?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((l=R?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((g=(h=R?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...R.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const I=await O.signMessage(new TextEncoder().encode(_),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=I}}try{const{data:w,error:x}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:vl(b)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Vi});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ic}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(je(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await Jo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Vi});if(await Xa(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ic}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(je(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,l=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Vi}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ic}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:l,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Pc(this.storage,this.storageKey));const{error:g}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:h}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Kg("You must provide either an email or phone number.")}catch(l){if(je(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Vi});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Pc(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:r7})}catch(s){if(je(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new to;const{error:i}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:l}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Kg("You must provide either an email or phone number and a type")}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<M0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Jo(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=I0()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ao}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new to}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ao})})}catch(n){if(je(n))return k9(n)&&(await this._removeSession(),await Xa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new to;const a=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Pc(this.storage,this.storageKey));const{data:d,error:h}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:ao});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new to;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=N0(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new to;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ti())throw new Qg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iD("No code detected.");const{data:E,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:d}=e;if(!s||!l||!a||!d)throw new Qg("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(l);let p=h+g;u&&(p=parseInt(u));const v=p-h;v*1e3<=Vc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const _=p-g;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,h);const{data:b,error:w}=await this._getUser(s);if(w)throw w;const x={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:p,refresh_token:a,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(M9(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Xa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=z9(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Pc(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(je(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,u,d,h;const{data:g,error:p}=s;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return ti()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(je(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:l,token:u,access_token:d,nonce:h}=e,g=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Vi}),{data:p,error:v}=g;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Ic}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:v})}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await V9(async i=>(i>0&&await $9(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&k0(s)&&Date.now()+a-r<Vc})}catch(r){if(this._debug(n,"error",r),je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ti()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Jo(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Jo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await qc(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:I0()}else if(i&&!i.user&&!i.user){const a=await Jo(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Xa(this.storage,this.storageKey+"-user"),await qc(this.storage,this.storageKey,i)):i.user=I0()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<M0;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${M0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),k0(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new to;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rv;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new to;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),je(s)){const a={data:null,error:s};return k0(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await qc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=cD(i);await qc(this.storage,this.storageKey,s)}else{const i=cD(n);await qc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Xa(this.storage,this.storageKey),await Xa(this.storage,this.storageKey+"-code-verifier"),await Xa(this.storage,this.storageKey+"-user"),this.userStorage&&await Xa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Vc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vc}ms, refresh threshold is ${lw} ticks`),i<=lw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof c2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Pc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?b7(e.webauthn.credential_response):_7(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=await Ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:v7(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:y7(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=N0(i.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+O9>i)return r;const{data:s,error:a}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};r=v.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:u}}=N0(r);n?.allowExpired||X9(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:a},error:null}}const h=Z9(i.alg),g=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,a,F9(`${l}.${u}`)))throw new dw("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}Af.nextInstanceID=0;const O7=Af;class D7 extends O7{constructor(e){super(e)}}class M7{constructor(e,n,r){var i,s,a;this.supabaseUrl=e,this.supabaseKey=n;const l=E9(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:p9,realtime:y9,auth:Object.assign(Object.assign({},v9),{storageKey:u}),global:m9},h=x9(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=w9(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new RY(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new f9(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new mY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:l,lock:u,debug:d},h,g){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D7({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:l,lock:u,debug:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new BY(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k7=(t,e,n)=>new M7(t,e,n);function N7(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}N7()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I7={};function P7(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=u=>u===null?null:JSON.parse(u,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(a):a(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Of=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Of(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Of(r)(n)}}}},j7=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...e},a=!1;const l=new Set,u=new Set;let d;try{d=s.getStorage()}catch{}if(!d)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=Of(s.serialize),g=()=>{const w=s.partialize({...r()});let x;const E=h({state:w,version:s.version}).then(R=>d.setItem(s.name,R)).catch(R=>{x=R});if(x)throw x;return E},p=i.setState;i.setState=(w,x)=>{p(w,x),g()};const v=t((...w)=>{n(...w),g()},r,i);let _;const b=()=>{var w;if(!d)return;a=!1,l.forEach(E=>E(r()));const x=((w=s.onRehydrateStorage)==null?void 0:w.call(s,r()))||void 0;return Of(d.getItem.bind(d))(s.name).then(E=>{if(E)return s.deserialize(E)}).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate)return s.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var R;return _=s.merge(E,(R=r())!=null?R:v),n(_,!0),g()}).then(()=>{x?.(_,void 0),a=!0,u.forEach(E=>E(_))}).catch(E=>{x?.(void 0,E)})};return i.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(d=w.getStorage())},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>a,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},b(),_||v},L7=(t,e)=>(n,r,i)=>{let s={storage:P7(()=>localStorage),partialize:b=>b,version:0,merge:(b,w)=>({...w,...b}),...e},a=!1;const l=new Set,u=new Set;let d=s.storage;if(!d)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...b)},r,i);const h=()=>{const b=s.partialize({...r()});return d.setItem(s.name,{state:b,version:s.version})},g=i.setState;i.setState=(b,w)=>{g(b,w),h()};const p=t((...b)=>{n(...b),h()},r,i);i.getInitialState=()=>p;let v;const _=()=>{var b,w;if(!d)return;a=!1,l.forEach(E=>{var R;return E((R=r())!=null?R:p)});const x=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(b=r())!=null?b:p))||void 0;return Of(d.getItem.bind(d))(s.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate)return[!0,s.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var R;const[O,A]=E;if(v=s.merge(A,(R=r())!=null?R:p),n(v,!0),O)return h()}).then(()=>{x?.(v,void 0),v=r(),a=!0,u.forEach(E=>E(v))}).catch(E=>{x?.(void 0,E)})};return i.persist={setOptions:b=>{s={...s,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>a,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(u.add(b),()=>{u.delete(b)})},s.skipHydration||_(),v||p},F7=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((I7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),j7(t,e)):L7(t,e),f2=F7;var U7=t=>{if(!t||Array.isArray(t)&&t.length===0)return;let e;if(Array.isArray(t)){const n=t.filter(r=>r&&r.trim().length>0);if(n.length===0)return;n.length===1?e=n[0]:e=`There are ${n.length} validation errors:

 ${n.join(`
 `)}`}else e=t;Yf.error(e,{duration:1e4,position:"top-right",style:{maxWidth:"400px",whiteSpace:"pre-line"}})},jl=t=>{Yf.success(t)},lo=t=>{Yf.error(t)},Vd=t=>{Yf.warning(t)},z7=(t,e)=>Yf(t,e),h2={DISPLAY:"dd/MM/yyyy"},H7=(t,e=h2.DISPLAY)=>{if(!t)return"";try{const n=typeof t=="string"?f5(t):t;return yN(n)?u5(n,e):""}catch(n){return console.warn("Date formatting error:",n),""}},uhe=t=>H7(t,h2.DISPLAY);function Ar(...t){return KV(lN(t))}var pD=t=>confirm(t),B7=(t,e)=>{if(!(!t||!e))return e.indexOf(".")===-1?t[e]:e.split(".").reduce((n,r)=>n&&n[r]!==void 0?n[r]:void 0,t)},vD=()=>`ID_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,hl=(t,e={})=>{let n="An unexpected error occurred";if(t.response)switch(t.response.status){case 400:n="Invalid request data";break;case 401:n="Authentication required";break;case 403:n="Access denied";break;case 404:n="Resource not found";break;case 500:case 502:case 503:n="Server error occurred";break;default:n="Network error occurred"}else t.request?n="Network connection failed":t.message&&(n=t.message);return new Error(n)},$7=A5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),Rr=j.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?fV:"button";return z.jsx(a,{"data-slot":"button",className:Ar($7({variant:e,size:n,className:t})),ref:s,...i})});Rr.displayName="Button";var Kn=j.forwardRef(({className:t,type:e,...n},r)=>z.jsx("input",{type:e,"data-slot":"input",className:Ar("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),ref:r,...n}));Kn.displayName="Input";var hr=j.forwardRef(({className:t,...e},n)=>z.jsx("label",{ref:n,"data-slot":"label",className:Ar("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));hr.displayName="Label";function Ri({className:t,...e}){return z.jsx("div",{"data-slot":"card",className:Ar("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",t),...e})}function Ci({className:t,...e}){return z.jsx("div",{"data-slot":"card-header",className:Ar("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Ti({className:t,...e}){return z.jsx("div",{"data-slot":"card-title",className:Ar("leading-none font-semibold",t),...e})}function Ai({className:t,...e}){return z.jsx("div",{"data-slot":"card-content",className:Ar("px-6",t),...e})}var g2=j.createContext(null);function j0(t){const e=document.documentElement,n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=t==="dark"||t==="system"&&n;e.classList.toggle("dark",r)}var V7=({defaultTheme:t="system",children:e})=>{const[n,r]=j.useState(t);j.useEffect(()=>{const a=localStorage.getItem("theme")||t;r(a),j0(a);const l=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{(localStorage.getItem("theme")||"system")==="system"&&j0("system")};return l.addEventListener?.("change",u),()=>l.removeEventListener?.("change",u)},[t]);const i=a=>{localStorage.setItem("theme",a),r(a),j0(a)},s=j.useMemo(()=>({theme:n,setTheme:i}),[n]);return z.jsx(g2.Provider,{value:s,children:e})},q7=()=>{const t=j.useContext(g2);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},m2=({className:t})=>{const{theme:e,setTheme:n}=q7();return z.jsx("div",{className:"inline-flex gap-2 items-center",children:z.jsxs("select",{"aria-label":"Theme",value:e,onChange:r=>n(r.target.value),className:Ar("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","w-36",t),children:[z.jsx("option",{value:"light",children:"Light"}),z.jsx("option",{value:"dark",children:"Dark"}),z.jsx("option",{value:"system",children:"System"})]})})},W7=({children:t,className:e,...n})=>z.jsx("table",{className:`w-full border-collapse border border-gray-200 table-auto ${e||""}`,...n,children:t}),G7=({children:t})=>z.jsx("thead",{className:"bg-gray-50",children:t}),Y7=({children:t})=>z.jsx("tbody",{className:"divide-y divide-gray-200",children:t}),L0=({children:t,onClick:e,className:n})=>z.jsx("tr",{onClick:e,className:`${e?"cursor-pointer hover:bg-gray-50":""} ${n||""}`,children:t}),K7=({children:t})=>z.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200 min-w-0",children:t}),yD=({children:t,colSpan:e,className:n})=>z.jsx("td",{colSpan:e,className:`px-4 py-3 text-sm text-gray-900 border-b border-gray-200 min-w-0 max-w-xs ${n||""}`,children:z.jsx("div",{className:"truncate",title:typeof t=="string"?t:"",children:t})}),Za=({children:t,variant:e="default",size:n="default",onClick:r,disabled:i,className:s})=>{const a="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",l={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},u={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"};return z.jsx("button",{onClick:r,disabled:i,className:`${a} ${l[e]||l.default} ${u[n]||u.default} ${s||""}`,children:t})};function qS({data:t,columns:e,onEditRow:n,onDeleteRow:r,onRowClick:i,enableFiltering:s=!1,filterableColumns:a=[],stickyColumns:l=[],onBulkDelete:u,onBulkExport:d,initialPageSize:h=_A.PAGE_SIZE,pageSizeOptions:g=[..._A.PAGE_SIZE_OPTIONS],enableGlobalSearch:p=!0,enableColumnVisibility:v=!1,enableRowSelection:_=!1}){const[b,w]=j.useState({}),[x,E]=j.useState(0),[R,O]=j.useState(h),[A,I]=j.useState(new Set),[k,M]=j.useState(""),[L,H]=j.useState([]),V=j.useMemo(()=>{const K=_?{id:"select",header:({table:Y})=>{const me=Y.getRowModel().rows.map($=>$.original),D=me.length>0&&me.every($=>A.has($.id));return z.jsx("div",{className:"w-8",children:z.jsx("input",{type:"checkbox","aria-label":"Select all",checked:D,onChange:$=>{const Q=new Set(A);$.target.checked?me.forEach(ee=>Q.add(ee.id)):me.forEach(ee=>Q.delete(ee.id)),I(Q)},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})},cell:({row:Y})=>z.jsx("div",{className:"flex w-8",children:z.jsx("input",{type:"checkbox","aria-label":"Select row",checked:A.has(Y.original.id),onChange:me=>{const D=new Set(A);me.target.checked?D.add(Y.original.id):D.delete(Y.original.id),I(D)},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})}:null,ne=n||r?{id:"actions",header:"Actions",cell:({row:Y})=>z.jsxs("div",{className:"flex gap-2",children:[n&&z.jsx(Za,{variant:"outline",size:"sm",onClick:()=>n(Y.original),children:"Edit"}),r&&z.jsx(Za,{variant:"destructive",size:"sm",onClick:()=>{pD("Are you sure you want to delete this item?")&&r(Y.original)},children:"Delete"})]})}:null;return[K,...e,ne].filter(Boolean)},[e,n,r,_,A]),G=j.useMemo(()=>{let K=t;return s&&Object.keys(b).length>0&&(K=K.filter(ne=>Object.entries(b).every(([Y,me])=>{if(!me)return!0;const D=B7(ne,Y);return String(D).toLowerCase().includes(me.toLowerCase())}))),p&&k&&(K=K.filter(ne=>Object.values(ne).some(Y=>String(Y).toLowerCase().includes(k.toLowerCase())))),K},[t,b,k,s,p]),se=j.useMemo(()=>{const K=x*R,ne=K+R;return G.slice(K,ne)},[G,x,R]),ue=Math.ceil(G.length/R),ye=_q({data:se,columns:V,state:{sorting:L},onSortingChange:H,getCoreRowModel:mq(),getSortedRowModel:pq()}),U=()=>{w({}),M(""),E(0)};return z.jsxs("div",{className:"w-full space-y-4",children:[p&&z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx("div",{className:"flex-1",children:z.jsx("input",{type:"text",placeholder:"Search all columns...",value:k,onChange:K=>{M(K.target.value),E(0)},className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})}),k&&z.jsx(Za,{variant:"outline",onClick:U,children:"Clear Search"})]}),z.jsx("div",{className:"rounded-md border border-gray-200 overflow-hidden shadow-sm",children:z.jsx("div",{className:"overflow-x-auto",children:z.jsxs(W7,{className:"min-w-full",children:[z.jsx(G7,{children:ye.getHeaderGroups().map(K=>z.jsx(L0,{children:K.headers.map(ne=>z.jsx(K7,{children:ne.isPlaceholder?null:z.jsxs("div",{className:ne.column.getCanSort()?"cursor-pointer select-none flex items-center gap-2":"",onClick:ne.column.getToggleSortingHandler(),children:[HA(ne.column.columnDef.header,ne.getContext()),{asc:" ",desc:" "}[ne.column.getIsSorted()]??null]})},ne.id))},K.id))}),z.jsx(Y7,{children:ye.getRowModel().rows.length?ye.getRowModel().rows.map(K=>z.jsx(L0,{onClick:()=>i&&i(K.original),className:i?"cursor-pointer hover:bg-muted/50":"",children:K.getVisibleCells().map(ne=>z.jsx(yD,{children:HA(ne.column.columnDef.cell,ne.getContext())},ne.id))},K.id)):z.jsx(L0,{children:z.jsx(yD,{colSpan:V.length,className:"h-24 text-center",children:"No results found."})})})]})})}),z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",x*R+1," to ",Math.min((x+1)*R,G.length)," of ",G.length," results"]}),z.jsxs("div",{className:"flex items-center space-x-2",children:[z.jsx(Za,{variant:"outline",size:"sm",onClick:()=>E(Math.max(0,x-1)),disabled:x===0,children:"Previous"}),z.jsxs("span",{className:"text-sm",children:["Page ",x+1," of ",ue]}),z.jsx(Za,{variant:"outline",size:"sm",onClick:()=>E(Math.min(ue-1,x+1)),disabled:x>=ue-1,children:"Next"})]})]}),A.size>0&&(u||d)&&z.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-md",children:[z.jsxs("span",{className:"text-sm text-muted-foreground",children:[A.size," items selected"]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx(Za,{variant:"outline",size:"sm",onClick:()=>I(new Set),children:"Clear Selection"}),d&&z.jsx(Za,{variant:"outline",size:"sm",onClick:()=>d(Array.from(A)),children:"Export Selected"}),u&&z.jsx(Za,{variant:"destructive",size:"sm",onClick:()=>{pD(`Delete ${A.size} selected items?`)&&(u(Array.from(A)),I(new Set))},children:"Delete Selected"})]})]})]})}var Q7=class extends At.Component{constructor(t){super(t),this.handleRetry=()=>{const e=this.props.maxRetries||3;this.state.retryCount<e&&this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:this.state.retryCount+1})},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0})},this.handleReportIssue=()=>{const e=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${e}&body=${n}`)},this.state={hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorId:vD()}}componentDidCatch(t,e){this.setState({errorInfo:e,errorId:this.state.errorId||vD()}),this.props.onError&&this.props.onError(t,e)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,{retry:this.handleRetry,reset:this.handleReset,retryCount:this.state.retryCount,maxRetries:this.props.maxRetries||3}):z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:z.jsxs("div",{className:"max-w-md w-full bg-card shadow-lg rounded-lg p-6 border",children:[z.jsxs("div",{className:"flex items-center mb-4",children:[z.jsx("div",{className:"flex-shrink-0",children:z.jsx("div",{className:"h-8 w-8 text-destructive text-2xl",children:""})}),z.jsx("div",{className:"ml-3",children:z.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Something went wrong"})})]}),z.jsxs("div",{className:"mb-4",children:[z.jsx("p",{className:"text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),this.state.errorId&&z.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error ID: ",z.jsx("code",{className:"bg-muted px-1 rounded",children:this.state.errorId})]})]}),z.jsxs("div",{className:"flex space-x-3 mb-4",children:[this.state.retryCount<(this.props.maxRetries||3)&&z.jsxs("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Try Again (",this.state.retryCount+1,"/",(this.props.maxRetries||3)+1,")"]}),z.jsx("button",{onClick:this.handleReset,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Reset"})]}),z.jsx("button",{onClick:this.handleReportIssue,className:"w-full bg-gray-100 text-gray-900 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 border border-gray-300",children:" Report Issue"}),!1]})}):this.props.children}},p2=j.createContext(null),X7=({children:t,supabaseClient:e,onAuthStateChange:n})=>{const[r,i]=j.useState(null),[s,a]=j.useState(null),[l,u]=j.useState(!0),[d,h]=j.useState(null);j.useEffect(()=>{(async()=>{try{const{data:{session:E},error:R}=await e.auth.getSession();R?h("Failed to initialize authentication"):(a(E),i(E?.user??null),n?.(E?.user??null,E))}catch{h("Authentication initialization failed")}finally{u(!1)}})();const{data:{subscription:x}}=e.auth.onAuthStateChange(async(E,R)=>{a(R),i(R?.user??null),h(null),n?.(R?.user??null,R),E==="SIGNED_OUT"&&u(!1)});return()=>x.unsubscribe()},[e,n]);const b={user:r,session:s,loading:l,error:d,signIn:async(w,x)=>{try{h(null);const{error:E}=await e.auth.signInWithPassword({email:w,password:x});return E?(h(E.message),{error:E.message}):{}}catch{const R="Sign in failed";return h(R),{error:R}}},signUp:async(w,x,E)=>{try{h(null);const{error:R}=await e.auth.signUp({email:w,password:x,options:{data:E}});return R?(h(R.message),{error:R.message}):{}}catch{const O="Sign up failed";return h(O),{error:O}}},signOut:async()=>{try{h(null),await e.auth.signOut()}catch{h("Sign out failed")}},resetPassword:async w=>{try{h(null);const{error:x}=await e.auth.resetPasswordForEmail(w);return x?(h(x.message),{error:x.message}):{}}catch{const E="Password reset failed";return h(E),{error:E}}}};return z.jsx(p2.Provider,{value:b,children:t})},Z7=()=>{const t=j.useContext(p2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},F0=t=>console.error(t),J7=t=>console.warn(t),eK=t=>console.info(t),Ds=(t={})=>{const{logErrors:e=!0,showUserMessages:n=!0,maxRetries:r=3,retryDelay:i=1e3,onError:s=null,onRetry:a=null,onFallback:l=null}=t,[u,d]=j.useState([]),[h,g]=j.useState(!1),p=j.useRef(0),v=j.useCallback(async(k,M="",L={})=>{const H={id:`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,message:k.message||"An unexpected error occurred",type:k.type||Dg.SERVER_ERROR,severity:k.severity||"medium",context:M,timestamp:new Date().toISOString(),userMessage:k.userMessage||k.message||"An unexpected error occurred"};if(d(V=>[...V,H]),e&&console.error(`[${M}] Error:`,k),n){const V=H.userMessage;switch(H.severity){case"low":J7(V);break;case"medium":F0(V);break;case"high":case"critical":F0(V);break;default:F0(V)}}return s&&await s(H,M),H},[e,n,s]),_=j.useCallback(async(k,M={})=>{const{context:L="",fallbackMessage:H="Operation failed",retry:V=!1,maxRetries:G=r}=M;try{return V?await b(k,G):await k()}catch(se){throw await v(se,L,{fallbackMessage:H})}},[r,v]),b=j.useCallback(async(k,M)=>{let L;for(let H=1;H<=M;H++)try{g(H>1),p.current=H-1;const V=await k();return g(!1),p.current=0,V}catch(V){if(L=V,H<M){const G=i*Math.pow(2,H-1);a&&await a(V,H,G),n&&eK(`Retrying... (${H}/${M})`),await new Promise(se=>setTimeout(se,G))}}throw g(!1),p.current=0,L},[i,a,n]),w=j.useCallback((k,M={})=>{const L={message:k,type:Dg.VALIDATION_ERROR,severity:"medium",details:M,userMessage:k};return v(L,"validation")},[v]),x=j.useCallback((k="Network connection failed")=>{const M={message:k,type:Dg.NETWORK_ERROR,severity:"high",userMessage:k};return v(M,"network")},[v]),E=j.useCallback((k="Authentication failed")=>{const M={message:k,type:Dg.AUTHENTICATION_ERROR,severity:"high",userMessage:k};return v(M,"authentication")},[v]),R=j.useCallback(()=>{d([])},[]),O=j.useCallback(k=>{d(M=>M.filter(L=>L.id!==k))},[]),A=j.useCallback(k=>u.filter(M=>M.type===k),[u]),I=j.useCallback(()=>u.some(k=>k.severity==="critical"),[u]);return{handleError:v,handleAsync:_,handleValidationError:w,handleNetworkError:x,handleAuthError:E,clearErrors:R,clearError:O,getErrorsByType:A,hasCriticalErrors:I,errors:u,isRetrying:h,retryCount:p.current,retryOperation:b}},v2=_f(t=>({isOpen:!0,toggle:()=>t(e=>({isOpen:!e.isOpen})),open:()=>t({isOpen:!0}),close:()=>t({isOpen:!1})})),tK=t=>({all:[t],lists:()=>[t,"list"],list:e=>[t,"list",e],details:()=>[t,"detail"],detail:e=>[t,"detail",e],search:(e,n)=>[t,"search",e,n],count:e=>[t,"count",e],paginated:e=>[t,"paginated",e]});function nK(t){const e=t.getTableName(),n=tK(e);return{useList:(E,R)=>Nd({queryKey:n.list(E?.filters),queryFn:()=>t.getAll(E),staleTime:300*1e3,...R}),usePaginatedList:(E,R)=>Nd({queryKey:n.paginated(E),queryFn:()=>t.getPaginated(E),staleTime:300*1e3,keepPreviousData:!0,...R}),useDetail:(E,R,O)=>Nd({queryKey:n.detail(E),queryFn:()=>t.getById(E,R),enabled:!!E,staleTime:300*1e3,...O}),useSearch:(E,R,O,A)=>Nd({queryKey:n.search(E,R),queryFn:()=>t.search(E,R,O),enabled:E.length>0,staleTime:120*1e3,...A}),useCount:(E,R)=>Nd({queryKey:n.count(E),queryFn:()=>t.count(E),staleTime:300*1e3,...R}),useCreate:E=>{const R=Mi();return Xo({mutationFn:O=>t.create(O),onSuccess:(O,A)=>{R.invalidateQueries({queryKey:n.lists()}),R.invalidateQueries({queryKey:n.count()}),R.setQueryData(n.detail(O.id),O),E?.onSuccess?.(O,A,void 0)},...E})},useCreateMany:E=>{const R=Mi();return Xo({mutationFn:O=>t.createMany(O),onSuccess:(O,A)=>{R.invalidateQueries({queryKey:n.lists()}),R.invalidateQueries({queryKey:n.count()}),O.forEach(I=>{R.setQueryData(n.detail(I.id),I)}),E?.onSuccess?.(O,A,void 0)},...E})},useUpdate:E=>{const R=Mi();return Xo({mutationFn:({id:O,data:A})=>t.update(O,A),onSuccess:(O,A)=>{R.setQueryData(n.detail(A.id),O),R.invalidateQueries({queryKey:n.lists()}),E?.onSuccess?.(O,A,void 0)},...E})},useUpdateMany:E=>{const R=Mi();return Xo({mutationFn:O=>t.updateMany(O),onSuccess:(O,A)=>{O.forEach((I,k)=>{R.setQueryData(n.detail(A[k].id),I)}),R.invalidateQueries({queryKey:n.lists()}),E?.onSuccess?.(O,A,void 0)},...E})},useUpsert:E=>{const R=Mi();return Xo({mutationFn:({data:O,onConflict:A})=>t.upsert(O,A),onSuccess:(O,A)=>{R.setQueryData(n.detail(O.id),O),R.invalidateQueries({queryKey:n.lists()}),R.invalidateQueries({queryKey:n.count()}),E?.onSuccess?.(O,A,void 0)},...E})},useDelete:E=>{const R=Mi();return Xo({mutationFn:O=>t.delete(O),onSuccess:(O,A)=>{R.removeQueries({queryKey:n.detail(A)}),R.invalidateQueries({queryKey:n.lists()}),R.invalidateQueries({queryKey:n.count()}),E?.onSuccess?.(O,A,void 0)},...E})},useBulkDelete:E=>{const R=Mi();return Xo({mutationFn:O=>t.bulkDelete(O),onSuccess:(O,A)=>{A.forEach(I=>{R.removeQueries({queryKey:n.detail(I)})}),R.invalidateQueries({queryKey:n.lists()}),R.invalidateQueries({queryKey:n.count()}),E?.onSuccess?.(O,A,void 0)},...E})},useOptimisticUpdate:()=>{const E=Mi();return{optimisticUpdate:(A,I)=>{E.setQueryData(n.detail(A),I)},rollbackOptimisticUpdate:A=>{E.invalidateQueries({queryKey:n.detail(A)})}}},useInvalidateAll:()=>{const E=Mi();return{invalidateAll:()=>{E.invalidateQueries({queryKey:n.all})},invalidateLists:()=>{E.invalidateQueries({queryKey:n.lists()})},invalidateDetail:I=>{E.invalidateQueries({queryKey:n.detail(I)})}}},usePrefetch:()=>{const E=Mi();return{prefetchList:A=>E.prefetchQuery({queryKey:n.list(A?.filters),queryFn:()=>t.getAll(A),staleTime:300*1e3}),prefetchDetail:(A,I)=>E.prefetchQuery({queryKey:n.detail(A),queryFn:()=>t.getById(A,I),staleTime:300*1e3})}},queryKeys:n}}function dhe(t){return nK(t)}function rK({config:t,initialData:e={},onSubmit:n,onSuccess:r,isEditMode:i=!1,isLoading:s=!1,customActions:a=null,customFieldRenderers:l={},className:u="p-1 bg-card rounded-lg shadow-sm border"}){const{handleAsync:d}=Ds("GenericForm"),h=j.useMemo(()=>{const M={};return t.sections.forEach(L=>{L.fields.forEach(H=>{H.name in e?M[H.name]=e[H.name]:H.defaultValue!==void 0?M[H.name]=H.defaultValue:M[H.name]=""})}),M},[t,e]),{register:g,handleSubmit:p,formState:{isSubmitting:v,errors:_},watch:b,setValue:w,getValues:x,reset:E,clearErrors:R}=Vq({defaultValues:h,mode:"onChange"}),O=async M=>{await d(async()=>{await n(M),r&&r(),E(h)},{context:i?t.editContext:t.addContext,fallbackMessage:i?t.editErrorMessage:t.addErrorMessage})},A=M=>{const L=b(M.name);if(M.conditional&&!M.conditional(L,b,x))return null;if(l[M.type])return l[M.type](M,{watch:b,setValue:w,getValues:x,register:g,isSubmitting:v,fieldValue:L});const H={id:M.name,placeholder:M.placeholder,disabled:M.disabled||v,className:M.className||"",...g(M.name,M.validation||{})};switch(M.type){case"select":return z.jsxs("div",{children:[z.jsxs("select",{...g(M.name,M.validation),disabled:M.disabled||v,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${_[M.name]?"border-red-500":"border-input"}`,children:[z.jsx("option",{value:"",children:M.placeholder||`Seleziona ${M.label.toLowerCase()}`}),M.options?.map(V=>z.jsx("option",{value:V.value,children:V.label},V.value))]}),_[M.name]&&z.jsx("p",{className:"text-sm text-destructive mt-1",children:_[M.name].message})]});case"textarea":return z.jsxs("div",{children:[z.jsx("textarea",{...H,rows:M.rows||3,className:`w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent ${M.className||""} ${_[M.name]?"border-destructive":""}`}),_[M.name]&&z.jsx("p",{className:"text-sm text-destructive mt-1",children:_[M.name].message})]});case"checkbox":return z.jsx("div",{className:"flex flex-wrap gap-2",children:M.options?.map(V=>z.jsxs("div",{className:"flex items-center space-x-2",children:[z.jsx("input",{type:"checkbox",id:`${M.name}_${V.value}`,value:V.value,checked:L?.includes(V.value)||!1,onChange:G=>{const se=x(M.name)||[];G.target.checked?w(M.name,[...se,V.value].sort(),{shouldValidate:!0}):w(M.name,se.filter(ue=>ue!==V.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),z.jsx(hr,{htmlFor:`${M.name}_${V.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:V.label})]},V.value))});case"datetime-local":return z.jsxs("div",{children:[z.jsx(Kn,{type:"datetime-local",...H,className:`${H.className} ${_[M.name]?"border-red-500":""}`}),_[M.name]&&z.jsx("p",{className:"text-sm text-destructive mt-1",children:_[M.name].message})]});case"date":return z.jsxs("div",{children:[z.jsx(Kn,{type:"date",...H,className:`${H.className} ${_[M.name]?"border-red-500":""}`}),_[M.name]&&z.jsx("p",{className:"text-sm text-destructive mt-1",children:_[M.name].message})]});case"time":return z.jsxs("div",{children:[z.jsx(Kn,{type:"time",...H,className:`${H.className} ${_[M.name]?"border-red-500":""}`}),_[M.name]&&z.jsx("p",{className:"text-sm text-destructive mt-1",children:_[M.name].message})]});case"number":return z.jsxs("div",{children:[z.jsx(Kn,{type:"number",...H,className:`${H.className} ${_[M.name]?"border-red-500":""}`}),_[M.name]&&z.jsx("p",{className:"text-sm text-destructive mt-1",children:_[M.name].message})]});case"text":default:return z.jsxs("div",{children:[z.jsx(Kn,{type:"text",...H,className:`${H.className} ${_[M.name]?"border-red-500":""}`}),_[M.name]&&z.jsx("p",{className:"text-sm text-destructive mt-1",children:_[M.name].message})]})}},I=M=>{const L=M.fields.filter(H=>!H.conditional||H.conditional(b(H.name),b,x));return L.length===0?null:z.jsxs("div",{className:"space-y-4",children:[z.jsx("h2",{className:"text-lg font-semibold text-foreground",children:M.title}),z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(H=>z.jsxs("div",{className:"space-y-2",children:[z.jsxs(hr,{htmlFor:H.name,className:"text-sm font-medium text-foreground",children:[H.label," ",H.required&&z.jsx("span",{className:"text-destructive",children:"*"})]}),A(H),H.helpText&&z.jsx("p",{className:"text-xs text-muted-foreground",children:H.helpText})]},H.name))})]},M.title)},k=M=>l[M]?l[M]():null;return z.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm p-6",children:z.jsxs("form",{onSubmit:p(O),noValidate:!0,className:"space-y-6",children:[t.sections.map(I),t.customFields&&Object.keys(t.customFields).map(M=>z.jsx("div",{children:k(M)},M)),a&&z.jsx("div",{className:"space-y-4",children:a}),z.jsx("div",{className:"flex justify-end pt-6 border-t border-border",children:z.jsx(Rr,{type:"submit",disabled:s||v,children:s||v?i?t.editLoadingText:t.addLoadingText:i?t.editButtonText:t.addButtonText})})]})})}var iv=rK;function iK({className:t,...e}){return z.jsx(K4,{"data-slot":"avatar",className:Ar("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function sK({className:t,...e}){return z.jsx(Q4,{"data-slot":"avatar-image",className:Ar("aspect-square size-full",t),...e})}function aK({className:t,...e}){return z.jsx(X4,{"data-slot":"avatar-fallback",className:Ar("bg-primary text-primary-foreground flex size-full items-center justify-center rounded-full font-medium",t),...e})}function oK({...t}){return z.jsx(sY,{"data-slot":"dropdown-menu",...t})}function lK({...t}){return z.jsx(aY,{"data-slot":"dropdown-menu-trigger",...t})}function cK({className:t,sideOffset:e=4,...n}){return z.jsx(oY,{children:z.jsx(lY,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ar("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function WS({className:t,inset:e,variant:n="default",...r}){return z.jsx(uY,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Ar("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function uK({className:t,inset:e,...n}){return z.jsx(cY,{"data-slot":"dropdown-menu-label","data-inset":e,className:Ar("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function bD({className:t,...e}){return z.jsx(dY,{"data-slot":"dropdown-menu-separator",className:Ar("bg-border -mx-1 my-1 h-px",t),...e})}At.createContext(void 0);var y2=At.createContext(void 0),b2=()=>At.useContext(y2),dK=({onRefresh:t,loading:e=!1})=>{const n=()=>{t?t():window.location.reload()};return z.jsx(Rr,{onClick:n,variant:"ghost",size:"icon",className:"hidden sm:inline-flex",children:e?z.jsx(P4,{className:"animate-spin"}):z.jsx(F4,{})})};function fK({children:t,user:e,onLogout:n}){const[r,i]=j.useState(!1),s=j.useCallback(()=>{i(u=>!u)},[]),a=j.useCallback(()=>{i(!1)},[]),l=()=>{n&&n(),i(!1)};return z.jsx(y2.Provider,{value:{onClose:a},children:z.jsxs(oK,{open:r,onOpenChange:s,children:[z.jsx(lK,{asChild:!0,children:z.jsx(Rr,{variant:"ghost",className:"relative h-8 w-8 ml-2 rounded-full",children:z.jsxs(iK,{className:"h-8 w-8",children:[z.jsx(sK,{src:e?.avatar,role:"presentation"}),z.jsx(aK,{children:e?.name?.charAt(0)||"U"})]})})}),z.jsxs(cK,{className:"w-56",align:"end",forceMount:!0,children:[z.jsx(uK,{className:"font-normal",children:z.jsxs("div",{className:"flex flex-col space-y-1",children:[z.jsx("p",{className:"text-sm font-medium leading-none",children:e?.name||"User"}),e?.email&&z.jsx("p",{className:"text-xs text-muted-foreground",children:e.email})]})}),z.jsx(bD,{}),t,j.Children.count(t)>0&&z.jsx(bD,{}),z.jsxs(WS,{onClick:l,className:"cursor-pointer",children:[z.jsx(j4,{}),"Log out"]})]})]})})}var hK=()=>{const{onClose:t}=b2()??{};return z.jsx(WS,{onClick:t,children:z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx(z4,{})," Users"]})})},gK=()=>{const{onClose:t}=b2()??{};return z.jsx(WS,{onClick:t,children:z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx(U4,{}),"My info"]})})},mK=({title:t,darkModeLogo:e,lightModeLogo:n,user:r,onLogout:i,onRefresh:s,onToggleSidebar:a,loading:l=!1})=>z.jsx("nav",{className:"flex-grow",children:z.jsx("header",{className:"bg-secondary",children:z.jsx("div",{className:"px-4",children:z.jsxs("div",{className:"flex justify-between items-center flex-1",children:[z.jsxs("div",{className:"flex items-center gap-2",children:[a&&z.jsx("button",{onClick:a,className:"p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-inset focus:ring-ring",children:z.jsx(L4,{className:"h-5 w-5"})}),z.jsxs("div",{className:"flex items-center gap-2 text-secondary-foreground",children:[e&&z.jsx("img",{className:"[.light_&]:hidden h-6",src:e,alt:t}),n&&z.jsx("img",{className:"[.dark_&]:hidden h-6",src:n,alt:t}),z.jsx("h1",{className:"text-xl font-semibold",children:t})]})]}),z.jsxs("div",{className:"flex items-center",children:[z.jsx(m2,{}),z.jsx(dK,{onRefresh:s,loading:l}),z.jsxs(fK,{user:r,onLogout:i,children:[z.jsx(gK,{}),z.jsx(hK,{})]})]})]})})})}),Re={VALIDATION_ERROR:"VALIDATION_ERROR",REQUIRED_FIELD_ERROR:"REQUIRED_FIELD_ERROR",INVALID_FORMAT_ERROR:"INVALID_FORMAT_ERROR",INVALID_RANGE_ERROR:"INVALID_RANGE_ERROR",INVALID_TYPE_ERROR:"INVALID_TYPE_ERROR",NOT_FOUND:"NOT_FOUND",DUPLICATE_ERROR:"DUPLICATE_ERROR",CONFLICT_ERROR:"CONFLICT_ERROR",OUT_OF_SYNC_ERROR:"OUT_OF_SYNC_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",INSUFFICIENT_STOCK_ERROR:"INSUFFICIENT_STOCK_ERROR",CAPACITY_EXCEEDED_ERROR:"CAPACITY_EXCEEDED_ERROR",INVALID_OPERATION_ERROR:"INVALID_OPERATION_ERROR",WORKFLOW_ERROR:"WORKFLOW_ERROR",SERVER_ERROR:"SERVER_ERROR",DATABASE_ERROR:"DATABASE_ERROR",NETWORK_ERROR:"NETWORK_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",CONNECTION_ERROR:"CONNECTION_ERROR",EXTERNAL_SERVICE_ERROR:"EXTERNAL_SERVICE_ERROR",API_ERROR:"API_ERROR",INTEGRATION_ERROR:"INTEGRATION_ERROR",CONFIGURATION_ERROR:"CONFIGURATION_ERROR",ENVIRONMENT_ERROR:"ENVIRONMENT_ERROR",RESOURCE_EXHAUSTED_ERROR:"RESOURCE_EXHAUSTED_ERROR",QUOTA_EXCEEDED_ERROR:"QUOTA_EXCEEDED_ERROR",STORAGE_ERROR:"STORAGE_ERROR",USER_INPUT_ERROR:"USER_INPUT_ERROR",UI_ERROR:"UI_ERROR",NAVIGATION_ERROR:"NAVIGATION_ERROR",RECOVERY_ERROR:"RECOVERY_ERROR",RETRY_ERROR:"RETRY_ERROR",FALLBACK_ERROR:"FALLBACK_ERROR"},fw=class extends Error{constructor(t,e=Re.SERVER_ERROR,n=500,r=null,i="",s={}){super(t),this.name="ServiceError",this.type=e,this.statusCode=n,this.originalError=r,this.context=i,this.timestamp=new Date().toISOString(),this.id=s.id||this.generateErrorId(),this.severity=s.severity||this.getDefaultSeverity(e),this.retryable=s.retryable!==void 0?s.retryable:this.isRetryable(e),this.userMessage=s.userMessage||this.getDefaultUserMessage(e,t),this.details=s.details||{},this.metadata=s.metadata||{},r?.stack&&(this.stack=r.stack)}generateErrorId(){return`err_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getDefaultSeverity(t){return{[Re.VALIDATION_ERROR]:"low",[Re.REQUIRED_FIELD_ERROR]:"low",[Re.INVALID_FORMAT_ERROR]:"low",[Re.INVALID_RANGE_ERROR]:"low",[Re.INVALID_TYPE_ERROR]:"low",[Re.USER_INPUT_ERROR]:"low",[Re.UI_ERROR]:"low",[Re.NAVIGATION_ERROR]:"low",[Re.NOT_FOUND]:"medium",[Re.DUPLICATE_ERROR]:"medium",[Re.CONFLICT_ERROR]:"medium",[Re.BUSINESS_LOGIC_ERROR]:"medium",[Re.INSUFFICIENT_STOCK_ERROR]:"medium",[Re.CAPACITY_EXCEEDED_ERROR]:"medium",[Re.INVALID_OPERATION_ERROR]:"medium",[Re.WORKFLOW_ERROR]:"medium",[Re.PERMISSION_ERROR]:"high",[Re.AUTHENTICATION_ERROR]:"high",[Re.AUTHORIZATION_ERROR]:"high",[Re.RATE_LIMIT_ERROR]:"high",[Re.CONFIGURATION_ERROR]:"high",[Re.ENVIRONMENT_ERROR]:"high",[Re.SERVER_ERROR]:"critical",[Re.DATABASE_ERROR]:"critical",[Re.NETWORK_ERROR]:"critical",[Re.CONNECTION_ERROR]:"critical",[Re.EXTERNAL_SERVICE_ERROR]:"critical",[Re.API_ERROR]:"critical",[Re.INTEGRATION_ERROR]:"critical",[Re.RESOURCE_EXHAUSTED_ERROR]:"critical",[Re.QUOTA_EXCEEDED_ERROR]:"critical",[Re.STORAGE_ERROR]:"critical"}[t]||"medium"}isRetryable(t){return[Re.NETWORK_ERROR,Re.CONNECTION_ERROR,Re.TIMEOUT_ERROR,Re.SERVER_ERROR,Re.EXTERNAL_SERVICE_ERROR,Re.API_ERROR,Re.RATE_LIMIT_ERROR].includes(t)}getDefaultUserMessage(t,e){return{[Re.VALIDATION_ERROR]:"Please check your input and try again.",[Re.REQUIRED_FIELD_ERROR]:"Please fill in all required fields.",[Re.INVALID_FORMAT_ERROR]:"Please check the format of your input.",[Re.INVALID_RANGE_ERROR]:"Please enter a value within the allowed range.",[Re.INVALID_TYPE_ERROR]:"Please enter the correct type of data.",[Re.NOT_FOUND]:"The requested item was not found.",[Re.DUPLICATE_ERROR]:"This item already exists.",[Re.CONFLICT_ERROR]:"There was a conflict with your request.",[Re.PERMISSION_ERROR]:"You do not have permission to perform this action.",[Re.AUTHENTICATION_ERROR]:"Please log in to continue.",[Re.AUTHORIZATION_ERROR]:"You are not authorized to perform this action.",[Re.BUSINESS_LOGIC_ERROR]:"This operation cannot be completed due to business rules.",[Re.INSUFFICIENT_STOCK_ERROR]:"Insufficient stock available.",[Re.CAPACITY_EXCEEDED_ERROR]:"Capacity limit exceeded.",[Re.INVALID_OPERATION_ERROR]:"This operation is not allowed.",[Re.SERVER_ERROR]:"A server error occurred. Please try again later.",[Re.DATABASE_ERROR]:"A database error occurred. Please try again later.",[Re.NETWORK_ERROR]:"Network connection failed. Please check your connection.",[Re.CONNECTION_ERROR]:"Connection failed. Please try again.",[Re.TIMEOUT_ERROR]:"The operation timed out. Please try again.",[Re.EXTERNAL_SERVICE_ERROR]:"External service is temporarily unavailable.",[Re.API_ERROR]:"API request failed. Please try again later.",[Re.CONFIGURATION_ERROR]:"System configuration error. Please contact support.",[Re.ENVIRONMENT_ERROR]:"Environment configuration error. Please contact support.",[Re.RESOURCE_EXHAUSTED_ERROR]:"System resources are exhausted. Please try again later.",[Re.QUOTA_EXCEEDED_ERROR]:"Quota exceeded. Please try again later.",[Re.STORAGE_ERROR]:"Storage error occurred. Please try again later.",[Re.USER_INPUT_ERROR]:"Please check your input and try again.",[Re.UI_ERROR]:"A user interface error occurred.",[Re.NAVIGATION_ERROR]:"Navigation error occurred.",[Re.RECOVERY_ERROR]:"Error recovery failed.",[Re.RETRY_ERROR]:"Retry operation failed.",[Re.FALLBACK_ERROR]:"Fallback operation failed."}[t]||"An unexpected error occurred. Please try again."}toUserFriendly(){return{message:this.userMessage,type:this.type,severity:this.severity,retryable:this.retryable,timestamp:this.timestamp}}},pK=t=>{if(!t)return{type:Re.SERVER_ERROR,message:"Unknown error occurred"};switch(t.code){case"23505":return{type:Re.DUPLICATE_ERROR,message:"A record with this information already exists",details:{constraint:t.constraint,table:t.table}};case"23503":return{type:Re.CONFLICT_ERROR,message:"Cannot perform this action due to related records",details:{constraint:t.constraint,table:t.table}};case"23502":return{type:Re.REQUIRED_FIELD_ERROR,message:"Required fields are missing",details:{column:t.column,table:t.table}};case"23514":return{type:Re.VALIDATION_ERROR,message:"Data validation failed",details:{constraint:t.constraint,table:t.table}};case"42P01":return{type:Re.DATABASE_ERROR,message:"Database table not found",details:{table:t.table}};case"42703":return{type:Re.DATABASE_ERROR,message:"Database column not found",details:{column:t.column,table:t.table}};case"PGRST301":case"PGRST302":return{type:Re.AUTHENTICATION_ERROR,message:"Authentication expired. Please log in again."};case"PGRST001":return{type:Re.AUTHORIZATION_ERROR,message:"You do not have permission to perform this action."};case"PGRST116":return{type:Re.NOT_FOUND,message:"Record not found"};default:return t.message?.includes("JWT")?{type:Re.AUTHENTICATION_ERROR,message:"Authentication error. Please refresh the page"}:t.message?.includes("network")?{type:Re.NETWORK_ERROR,message:"Network connection failed"}:t.message?.includes("timeout")?{type:Re.TIMEOUT_ERROR,message:"Request timed out"}:{type:Re.SERVER_ERROR,message:t.message||"An unexpected error occurred"}}},dr=async(t,e="unknown")=>{try{return await t()}catch(n){if(n instanceof fw)throw n;const r=pK(n);throw new fw(r.message,r.type,500,n,e,{details:r.details})}},fhe=class{constructor(t,e){this.realtimeChannels=new Map,this.client=t,this.tableName=e}async init(){return dr(async()=>{const{error:t}=await this.client.from(this.tableName).select("count").limit(1);if(t)throw t;return!0},`${this.tableName}.init`)}async getAll(t={}){return dr(async()=>{let e=this.client.from(this.tableName).select(t.select||"*").order(t.orderBy||"created_at",{ascending:t.ascending!==!1});if(t.filters&&Object.entries(t.filters).forEach(([i,s])=>{s!=null&&s!==""&&(Array.isArray(s)?e=e.in(i,s):typeof s=="string"&&s.includes("%")?e=e.like(i,s):e=e.eq(i,s))}),t.dateRange){const{startDate:i,endDate:s,dateField:a="created_at"}=t.dateRange;i&&(e=e.gte(a,`${i}T00:00:00.000Z`)),s&&(e=e.lte(a,`${s}T23:59:59.999Z`))}t.limit&&(e=e.limit(t.limit)),t.offset&&(e=e.range(t.offset,t.offset+(t.limit||10)-1));const{data:n,error:r}=await e;if(r)throw r;return n||[]},`${this.tableName}.getAll`)}async getPaginated(t={}){const e=t.page||1,n=t.perPage||10,r=(e-1)*n,[i,s]=await Promise.all([this.count(t.filters),this.getAll({...t,limit:n,offset:r})]);return{data:s,total:i,page:e,perPage:n,totalPages:Math.ceil(i/n)}}async getById(t,e="*"){return dr(async()=>{const{data:n,error:r}=await this.client.from(this.tableName).select(e).eq("id",t).single();if(r)throw r;return n},`${this.tableName}.getById`)}async getByField(t,e,n={}){return dr(async()=>{let r=this.client.from(this.tableName).select(n.select||"*").eq(t,e);n.orderBy&&(r=r.order(n.orderBy,{ascending:n.ascending!==!1})),n.limit&&(r=r.limit(n.limit));const{data:i,error:s}=await r;if(s)throw s;return i||[]},`${this.tableName}.getByField`)}async create(t){return dr(async()=>{const{data:e,error:n}=await this.client.from(this.tableName).insert(t).select().single();if(n)throw n;return e},`${this.tableName}.create`)}async createMany(t){return dr(async()=>{const{data:e,error:n}=await this.client.from(this.tableName).insert(t).select();if(n)throw n;return e||[]},`${this.tableName}.createMany`)}async update(t,e){return dr(async()=>{const{data:n,error:r}=await this.client.from(this.tableName).update(e).eq("id",t).select().single();if(r)throw r;return n},`${this.tableName}.update`)}async updateMany(t){return dr(async()=>{const e=t.map(({id:n,data:r})=>this.update(n,r));return Promise.all(e)},`${this.tableName}.updateMany`)}async upsert(t,e){return dr(async()=>{let n=this.client.from(this.tableName).upsert(t).select().single();e&&(n=n.onConflict(e));const{data:r,error:i}=await n;if(i)throw i;return r},`${this.tableName}.upsert`)}async delete(t){return dr(async()=>{const{error:e}=await this.client.from(this.tableName).delete().eq("id",t);if(e)throw e},`${this.tableName}.delete`)}async bulkDelete(t){return dr(async()=>{const{error:e}=await this.client.from(this.tableName).delete().in("id",t);if(e)throw e},`${this.tableName}.bulkDelete`)}async count(t){return dr(async()=>{let e=this.client.from(this.tableName).select("*",{count:"exact",head:!0});t&&Object.entries(t).forEach(([i,s])=>{s!=null&&s!==""&&(Array.isArray(s)?e=e.in(i,s):e=e.eq(i,s))});const{count:n,error:r}=await e;if(r)throw r;return n||0},`${this.tableName}.count`)}async exists(t){return dr(async()=>{const{data:e,error:n}=await this.client.from(this.tableName).select("id").eq("id",t).single();if(n&&n.code!=="PGRST116")throw n;return!!e},`${this.tableName}.exists`)}async search(t,e=["name"],n={}){return dr(async()=>{let r=this.client.from(this.tableName).select(n.select||"*");if(e.length===1)r=r.ilike(e[0],`%${t}%`);else{const a=e.map(l=>`${l}.ilike.%${t}%`).join(",");r=r.or(a)}n.filters&&Object.entries(n.filters).forEach(([a,l])=>{l!=null&&l!==""&&(r=r.eq(a,l))}),r=r.order(n.orderBy||"created_at",{ascending:n.ascending!==!1}),n.limit&&(r=r.limit(n.limit));const{data:i,error:s}=await r;if(s)throw s;return i||[]},`${this.tableName}.search`)}async getByDateRange(t,e,n="created_at",r={}){return this.getAll({...r,dateRange:{startDate:t,endDate:e,dateField:n}})}async executeRpc(t,e){return dr(async()=>{const{data:n,error:r}=await this.client.rpc(t,e);if(r)throw r;return n},`${this.tableName}.executeRpc`)}setupRealtimeSubscription(t,e={},n){const r=n||`${this.tableName}_realtime_${Date.now()}`;let i=this.client.channel(r).on("postgres_changes",{event:e.event||"*",schema:e.schema||"public",table:this.tableName,filter:e.filter},t).subscribe();return this.realtimeChannels.set(r,i),i}removeRealtimeSubscription(t){const e=this.realtimeChannels.get(t);e&&(this.client.removeChannel(e),this.realtimeChannels.delete(t))}removeAllRealtimeSubscriptions(){this.realtimeChannels.forEach((t,e)=>{this.client.removeChannel(t)}),this.realtimeChannels.clear()}async bulkOperation(t){return dr(async()=>{const e=[];for(const n of t){let r;switch(n.type){case"insert":r=await this.create(n.data);break;case"update":r=await this.update(n.id,n.data);break;case"delete":await this.delete(n.id),r={deleted:!0,id:n.id};break;case"upsert":r=await this.upsert(n.data);break;default:throw new fw(`Unknown operation type: ${n.type}`,Re.INVALID_OPERATION_ERROR)}e.push(r)}return e},`${this.tableName}.bulkOperation`)}getTableName(){return this.tableName}getClient(){return this.client}},vK=t=>{const e={auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}};return k7(t.url,t.anonKey,{...e,...t.options})},yK=()=>vK({url:"https://wufsjkzyjxgvualcaftn.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1ZnNqa3p5anhndnVhbGNhZnRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0NzAyNzAsImV4cCI6MjA3NzA0NjI3MH0.cq8pGstXbA3OzgPbkJNRrQT39ROA4t9N3czLSIWpjUs"}),bK=(t,e="")=>t.code==="23505"?"This record already exists":t.code==="23503"?"Cannot perform this operation due to related records":t.code==="PGRST116"?"No records found":t.message?.includes("JWT")?"Authentication error. Please refresh the page":t.message||"An unexpected error occurred",U0=null,_K=()=>(U0||(U0=yK()),U0),wK=t=>e=>({getEntities:()=>e().entities,getEntityById:n=>e().entities.find(r=>r.id===n),getEntitiesByField:(n,r)=>e().entities.filter(i=>i[n]===r),getEntitiesCount:()=>e().entities.length,getLoadingState:()=>e().loading,getErrorState:()=>e().error,isInitialized:()=>e().initialized}),SK=t=>(e,n)=>({setEntities:r=>e({entities:r}),addEntity:r=>{const i=n();e({entities:[r,...i.entities]})},updateEntity:(r,i)=>{const a=n().entities.map(l=>l.id===r?{...l,...i}:l);e({entities:a})},removeEntity:r=>{const s=n().entities.filter(a=>a.id!==r);e({entities:s})},setLoading:r=>e({loading:r}),setError:r=>e({error:r}),setInitialized:r=>e({initialized:r}),reset:()=>e({entities:[],loading:!1,error:null,initialized:!1}),cleanupDuplicates:()=>{const r=n(),i=[],s=new Set;r.entities.forEach(a=>{s.has(a.id)||(s.add(a.id),i.push(a))}),e({entities:i})},sortEntitiesByDate:(r=!1)=>{const s=[...n().entities].sort((a,l)=>{const u=new Date(a.created_at||0),d=new Date(l.created_at||0);return r?u.getTime()-d.getTime():d.getTime()-u.getTime()});e({entities:s})},sortEntitiesByField:(r,i=!0)=>{const a=[...n().entities].sort((l,u)=>{const d=l[r],h=u[r];return d<h?i?-1:1:d>h?i?1:-1:0});e({entities:a})},filterEntitiesByDateRange:(r,i,s="created_at")=>{const a=n(),l=new Date(r),u=new Date(i);return a.entities.filter(d=>{const h=new Date(d[s]);return h>=l&&h<=u})}});function sv(t,e,n,r){const i={entities:[],loading:!1,error:null,initialized:!1},s=(a,l)=>({...i,...wK()(l),...SK()(a,l),...e?e(a,l):{},...n?n(l):{}});return r?_f()(f2(s,{name:`${t}-store`,...r})):_f()(s)}function xK(t,e){const n={loading:!1,loadingStates:{},error:null,errors:{},modals:{},forms:{},filters:{},notifications:[],sidebarOpen:!1,theme:"system",initialized:!1},r=(i,s)=>({...n,setLoading:a=>i({loading:a}),setLoadingState:(a,l)=>{const u=s();i({loadingStates:{...u.loadingStates,[a]:l}})},getLoadingState:a=>{const l=s();return a?l.loadingStates[a]||!1:l.loading},setError:a=>i({error:a}),setErrorState:(a,l)=>{const u=s();i({errors:{...u.errors,[a]:l}})},getErrorState:a=>{const l=s();return a?l.errors[a]||null:l.error},clearErrors:()=>i({error:null,errors:{}}),openModal:a=>{const l=s();i({modals:{...l.modals,[a]:!0}})},closeModal:a=>{const l=s();i({modals:{...l.modals,[a]:!1}})},toggleModal:a=>{const l=s(),u=l.modals[a]||!1;i({modals:{...l.modals,[a]:!u}})},isModalOpen:a=>s().modals[a]||!1,closeAllModals:()=>i({modals:{}}),setFormData:(a,l)=>{const u=s();i({forms:{...u.forms,[a]:l}})},getFormData:a=>s().forms[a],clearFormData:a=>{const l=s(),{[a]:u,...d}=l.forms;i({forms:d})},clearAllForms:()=>i({forms:{}}),setFilter:(a,l)=>{const u=s();i({filters:{...u.filters,[a]:l}})},getFilter:a=>s().filters[a],clearFilter:a=>{const l=s(),{[a]:u,...d}=l.filters;i({filters:d})},clearAllFilters:()=>i({filters:{}}),addNotification:a=>{const l=s(),u={...a,id:`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};i({notifications:[...l.notifications,u]})},removeNotification:a=>{const l=s();i({notifications:l.notifications.filter(u=>u.id!==a)})},clearNotifications:()=>i({notifications:[]}),setSidebarOpen:a=>i({sidebarOpen:a}),toggleSidebar:()=>{const a=s();i({sidebarOpen:!a.sidebarOpen})},setTheme:a=>i({theme:a}),setInitialized:a=>i({initialized:a}),reset:()=>i(n),...t?t(i,s):{}});return e?_f()(f2(r,{name:"ui-store",...e})):_f()(r)}const vn=_K(),Ln=bK,EK=({children:t})=>T.jsx(X7,{supabaseClient:vn,children:t}),Ll=Z7;/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),_D=t=>{const e=CK(t);return e.charAt(0).toUpperCase()+e.slice(1)},_2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),TK=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>N.createElement("svg",{ref:u,...AK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_2("lucide",i),...!s&&!TK(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,h])=>N.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=(t,e)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(OK,{ref:s,iconNode:e,className:_2(`lucide-${RK(_D(t))}`,`lucide-${t}`,r),...i}));return n.displayName=_D(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],MK=Tu("calendar",DK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],NK=Tu("chevron-right",kK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PK=Tu("clock",IK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],LK=Tu("file-text",jK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],UK=Tu("house",FK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HK=Tu("settings",zK);function BK(){const{user:t}=Ll(),e=wa(),{isOpen:n}=v2(),[r,i]=N.useState({backlog:e.pathname.startsWith("/backlog"),machinery:e.pathname.startsWith("/machinery"),phases:e.pathname.startsWith("/phases"),scheduler:e.pathname.startsWith("/scheduler")}),s=l=>{i(u=>({...u,[l]:!u[l]}))},a=[{href:"/",label:"Dashboard",icon:UK},{section:"backlog",label:"Backlog",icon:LK,subLinks:[{href:"/backlog",label:"Lista Backlog"},{href:"/backlog/add",label:"Nuovo Backlog"}]},{section:"machinery",label:"Macchinari",icon:HK,subLinks:[{href:"/machinery",label:"Lista Macchinari"},{href:"/machinery/add",label:"Nuovo Macchinario"}]},{section:"phases",label:"Fasi",icon:PK,subLinks:[{href:"/phases",label:"Lista Fasi"},{href:"/phases/add",label:"Nuova Fase"}]},{href:"/scheduler",label:"Scheduler",icon:MK}];return t?n?T.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[T.jsx("div",{className:"p-4 border-b border-border",children:T.jsx(kn,{to:"/",className:"flex items-center justify-center",children:T.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),T.jsxs("div",{className:"flex-1 p-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-secondary-foreground mb-6",children:"Navigation"}),T.jsx("nav",{className:"space-y-2",children:a.map(l=>{if(l.section){const u=r[l.section],d=l.subLinks.some(g=>e.pathname===g.href),h=l.icon;return T.jsxs("div",{children:[T.jsxs("button",{onClick:()=>s(l.section),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx(h,{className:"h-5 w-5"}),T.jsx("span",{className:"text-sm font-medium",children:l.label})]}),T.jsx(NK,{className:`h-4 w-4 transform transition-transform ${u?"rotate-90":""}`})]}),u&&T.jsx("div",{className:"ml-6 mt-2 space-y-1",children:l.subLinks.map(g=>{const p=e.pathname===g.href;return T.jsx(kn,{to:g.href,className:`block px-3 py-2 rounded-lg text-sm font-medium transition-colors ${p?"bg-primary/5 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent/50"}`,children:g.label},g.href)})})]},l.section)}else{const u=e.pathname===l.href,d=l.icon;return T.jsxs(kn,{to:l.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${u?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[T.jsx(d,{className:"h-5 w-5"}),T.jsx("span",{className:"text-sm font-medium",children:l.label})]},l.href)}})})]})]}):T.jsx("div",{className:"w-16 bg-secondary shadow-sm border-r border-border min-h-screen",children:T.jsx("div",{className:"flex flex-col items-center py-4 space-y-4",children:a.map(l=>{const u=l.icon,d=e.pathname===l.href;return T.jsx(kn,{to:l.href||"#",className:`p-3 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,title:l.label,children:T.jsx(u,{className:"h-6 w-6"})},l.href||l.section)})})}):T.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col",children:[T.jsx("div",{className:"p-4 border-b border-border",children:T.jsx(kn,{to:"/login",className:"flex items-center justify-center",children:T.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),T.jsxs("div",{className:"flex-1 p-4",children:[T.jsx("h3",{className:"text-xs font-semibold text-secondary-foreground uppercase tracking-wider mb-4",children:"NAVIGATION"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(kn,{to:"/login",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:T.jsx("span",{className:"font-medium",children:"Accedi"})}),T.jsx(kn,{to:"/signup",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:T.jsx("span",{className:"font-medium",children:"Registrati"})})]})]})]})}function $K(){const{user:t,signOut:e}=Ll(),{toggle:n}=v2();return T.jsx(mK,{title:"Scheduler Demo",user:{name:t?.email?.split("@")[0]||"User",email:t?.email,avatar:t?.avatar_url},onLogout:()=>e(),onRefresh:()=>window.location.reload(),onToggleSidebar:n,LinkComponent:kn,rightContent:T.jsx(m2,{})})}const Df=sv("machines",(t,e)=>({getMachinesByWorkCenter:n=>{const r=e();return n==="BOTH"?r.entities:r.entities.filter(i=>i.work_center===n)},getAvailableMachines:()=>e().entities.filter(r=>r.status==="available"),getMachineById:n=>e().entities.find(i=>i.id===n),updateMachineStatus:(n,r)=>{const s=e().entities.map(a=>a.id===n?{...a,status:r,updated_at:new Date().toISOString()}:a);t({entities:s})},getMachineStats:()=>{const n=e(),r={total:n.entities.length,byStatus:{},byWorkCenter:{}};return n.entities.forEach(i=>{r.byStatus[i.status]=(r.byStatus[i.status]||0)+1,r.byWorkCenter[i.work_center]=(r.byWorkCenter[i.work_center]||0)+1}),r}}),t=>({}),{partialize:t=>({entities:t.entities,initialized:t.initialized})}),cu=sv("orders",(t,e)=>({getScheduledOrders:()=>e().entities.filter(r=>r.status==="SCHEDULED"),getUnscheduledOrders:()=>e().entities.filter(r=>r.status!=="SCHEDULED"&&r.duration>0&&r.cost>0),getOrdersByWorkCenter:n=>{const r=e();return n==="BOTH"?r.entities:r.entities.filter(i=>i.work_center===n)},getOrderById:n=>e().entities.find(i=>i.id===n),scheduleOrder:(n,r)=>{const s=e().entities.map(a=>a.id===n?{...a,...r,status:"SCHEDULED",updated_at:new Date().toISOString()}:a);t({entities:s})},unscheduleOrder:n=>{const i=e().entities.map(s=>s.id===n?{...s,status:"NOT SCHEDULED",scheduled_start_time:null,scheduled_end_time:null,machine_id:null,updated_at:new Date().toISOString()}:s);t({entities:i})},bulkScheduleOrders:n=>{const i=e().entities.map(s=>{const a=n.find(l=>l.id===s.id);return a?{...s,...a.data,status:"SCHEDULED",updated_at:new Date().toISOString()}:s});t({entities:i})},getOrderStats:()=>{const n=e(),r={total:n.entities.length,scheduled:0,unscheduled:0,byWorkCenter:{}};return n.entities.forEach(i=>{i.status==="SCHEDULED"?r.scheduled++:r.unscheduled++,r.byWorkCenter[i.work_center]=(r.byWorkCenter[i.work_center]||0)+1}),r}}),t=>({}),{partialize:t=>({entities:t.entities,initialized:t.initialized})}),hw=sv("phases",(t,e)=>({getPhasesByWorkCenter:n=>e().entities.filter(i=>i.work_center===n),getPhaseById:n=>e().entities.find(i=>i.id===n),searchPhases:n=>{const r=e();if(!n)return r.entities;const i=n.toLowerCase();return r.entities.filter(s=>s.phase_name?.toLowerCase().includes(i)||s.description?.toLowerCase().includes(i))},updatePhaseDetails:(n,r)=>{const s=e().entities.map(a=>a.id===n?{...a,...r,updated_at:new Date().toISOString()}:a);t({entities:s})},getPhaseStats:()=>{const n=e(),r={total:n.entities.length,byWorkCenter:{}};return n.entities.forEach(i=>{r.byWorkCenter[i.work_center]=(r.byWorkCenter[i.work_center]||0)+1}),r}}),t=>({}),{partialize:t=>({entities:t.entities,initialized:t.initialized})}),Sn=xK((t,e)=>({selectedWorkCenter:"BOTH",isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,taskId:null},conflictDialog:{isOpen:!1,conflictingTasks:[],newTask:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},setSelectedWorkCenter:n=>t({selectedWorkCenter:n}),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>{const r=e();t({schedulingLoading:{...r.schedulingLoading,...n}})},startSchedulingOperation:(n=null,r=null)=>{t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:r}})},stopSchedulingOperation:()=>{t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}})},setConflictDialog:n=>{const r=e();t({conflictDialog:{...r.conflictDialog,...n}})},setDragPreview:n=>{t({dragPreview:n})},clearDragPreview:()=>{t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})},openConflictDialog:(n,r)=>{t({conflictDialog:{isOpen:!0,conflictingTasks:n,newTask:r}})},closeConflictDialog:()=>{t({conflictDialog:{isOpen:!1,conflictingTasks:[],newTask:null}})},showSchedulerAlert:(n,r="info",i=5e3)=>{const s=e(),a={type:r,message:n,timestamp:Date.now()};s.addNotification(a),i>0&&setTimeout(()=>{s.removeNotification(a.id)},i)},showConfirmDialog:(n,r,i,s="info")=>{const a=e();a.setFormData("confirmDialog",{isOpen:!0,title:n,message:r,onConfirm:i,type:s}),a.openModal("confirmDialog")},closeConfirmDialog:()=>{const n=e();n.clearFormData("confirmDialog"),n.closeModal("confirmDialog")},getInitializationState:()=>e().initialized,getLoadingState:n=>{const r=e();return n?r.loadingStates[n]||!1:r.loading}}),{partialize:t=>({selectedWorkCenter:t.selectedWorkCenter,theme:t.theme,sidebarOpen:t.sidebarOpen,filters:t.filters})}),Oo=sv("main",(t,e)=>({init:async()=>{try{const n=Sn.getState();n.setLoading(!0),n.setInitialized(!0),n.setLoading(!1),n.showSchedulerAlert("Application initialized successfully with modern architecture","success")}catch(n){const r=Sn.getState();throw r.setLoading(!1),r.showSchedulerAlert("Failed to initialize application","error"),n}},refreshData:()=>{console.warn("refreshData is deprecated. Use React Query invalidation instead.")},reset:()=>{Df.getState().reset(),cu.getState().reset(),hw.getState().reset(),Sn.getState().reset()},cleanup:()=>{console.log("Cleanup handled by modern architecture")},getState:()=>{const n=Df.getState(),r=cu.getState(),i=hw.getState(),s=Sn.getState();return{machines:n.entities,odpOrders:r.entities,phases:i.entities,isLoading:s.loading,isInitialized:s.initialized}}})),wD=t=>{let e;const n=new Set,r=(d,h)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const p=e;e=h??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(v=>v(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(r,i,l);return l},VK=(t=>t?wD(t):wD),qK=t=>t;function WK(t,e=qK){const n=be.useSyncExternalStore(t.subscribe,be.useCallback(()=>e(t.getState()),[t,e]),be.useCallback(()=>e(t.getInitialState()),[t,e]));return be.useDebugValue(n),n}const SD=t=>{const e=VK(t),n=r=>WK(e,r);return Object.assign(n,e),n},nh=(t=>t?SD(t):SD),GK={APP:{FIRST_DAY_OF_WEEK:1}},YK=Object.prototype.toString;function KK(t,e){return YK.call(t)===`[object ${e}]`}function w2(t){return KK(t,"Object")}function GS(t){return!!(t&&t.then&&typeof t.then=="function")}function QK(t){return typeof t=="number"&&t!==t}function Xg(t){return t&&t.Math==Math?t:void 0}const sr=typeof globalThis=="object"&&Xg(globalThis)||typeof window=="object"&&Xg(window)||typeof self=="object"&&Xg(self)||typeof global=="object"&&Xg(global)||(function(){return this})()||{};function S2(t,e,n){const r=n||sr,i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}const x2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,XK="Sentry Logger ",xD=["debug","info","warn","error","log","assert","trace"],ED={};function E2(t){if(!("console"in sr))return t();const e=sr.console,n={},r=Object.keys(ED);r.forEach(i=>{const s=ED[i];n[i]=e[i],e[i]=s});try{return t()}finally{r.forEach(i=>{e[i]=n[i]})}}function ZK(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return x2?xD.forEach(n=>{e[n]=(...r)=>{t&&E2(()=>{sr.console[n](`${XK}[${n}]:`,...r)})}}):xD.forEach(n=>{e[n]=()=>{}}),e}const fn=ZK();function Qi(t){return gw(t,new Map)}function gw(t,e){if(JK(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const i of Object.keys(t))typeof t[i]<"u"&&(r[i]=gw(t[i],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(i=>{r.push(gw(i,e))}),r}return t}function JK(t){if(!w2(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const z0="<anonymous>";function eQ(t){try{return!t||typeof t!="function"?z0:t.name||z0}catch{return z0}}const Dm={},RD={};function R2(t,e){Dm[t]=Dm[t]||[],Dm[t].push(e)}function C2(t,e){RD[t]||(e(),RD[t]=!0)}function T2(t,e){const n=t&&Dm[t];if(n)for(const r of n)try{r(e)}catch(i){x2&&fn.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${eQ(r)}
Error:`,i)}}function qr(){const t=sr,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function tQ(t){return Array.isArray(t)?t:[t]}let Zg=null;function nQ(t){const e="error";R2(e,t),C2(e,rQ)}function rQ(){Zg=sr.onerror,sr.onerror=function(t,e,n,r,i){return T2("error",{column:r,error:i,line:n,msg:t,url:e}),Zg&&!Zg.__SENTRY_LOADER__?Zg.apply(this,arguments):!1},sr.onerror.__SENTRY_INSTRUMENTED__=!0}let Jg=null;function iQ(t){const e="unhandledrejection";R2(e,t),C2(e,sQ)}function sQ(){Jg=sr.onunhandledrejection,sr.onunhandledrejection=function(t){return T2("unhandledrejection",t),Jg&&!Jg.__SENTRY_LOADER__?Jg.apply(this,arguments):!0},sr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function aQ(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function oQ(){return!aQ()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function yl(t,e){return t.require(e)}function lQ(t){let e;try{e=yl(module,t)}catch{}try{const{cwd:n}=yl(module,"process");e=yl(module,`${n()}/node_modules/${t}`)}catch{}return e}var ia;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(ia||(ia={}));class ro{constructor(e){ro.prototype.__init.call(this),ro.prototype.__init2.call(this),ro.prototype.__init3.call(this),ro.prototype.__init4.call(this),this._state=ia.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new ro((r,i)=>{this._handlers.push([!1,s=>{if(!e)r(s);else try{r(e(s))}catch(a){i(a)}},s=>{if(!n)i(s);else try{r(n(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new ro((n,r)=>{let i,s;return this.then(a=>{s=!1,i=a,e&&e()},a=>{s=!0,i=a,e&&e()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=e=>{this._setResult(ia.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ia.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===ia.PENDING){if(GS(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ia.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===ia.RESOLVED&&n[1](this._value),this._state===ia.REJECTED&&n[2](this._value),n[0]=!0)})}}}const A2=1e3;function YS(){return Date.now()/A2}function cQ(){const{performance:t}=sr;if(!t||!t.now)return YS;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/A2}const av=cQ();(()=>{const{performance:t}=sr;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number"?Math.abs(a+n-r):e,d=u<e;return s||d?i<=u?t.timeOrigin:a:r})();function uQ(t=qr(),e=qr().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}const Qn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,O2="production";function dQ(){return S2("globalEventProcessors",()=>[])}function mw(t,e,n,r=0){return new ro((i,s)=>{const a=t[r];if(e===null||typeof a!="function")i(e);else{const l=a({...e},n);Qn&&a.id&&l===null&&fn.log(`Event processor "${a.id}" dropped event`),GS(l)?l.then(u=>mw(t,u,n,r+1).then(i)).then(null,s):mw(t,l,n,r+1).then(i).then(null,s)}})}function fQ(t){const e=av(),n={sid:qr(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>gQ(n)};return t&&ov(n,t),n}function ov(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||av(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:qr()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function hQ(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),ov(t,n)}function gQ(t){return Qi({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const mQ=0,D2=1;function KS(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:i,parent_span_id:s,status:a,tags:l,origin:u}=wo(t);return Qi({data:r,op:i,parent_span_id:s,span_id:e,status:a,tags:l,trace_id:n,origin:u})}function M2(t){const{traceId:e,spanId:n}=t.spanContext(),r=N2(t);return uQ(e,n,r)}function k2(t){return typeof t=="number"?CD(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?CD(t.getTime()):av()}function CD(t){return t>9999999999?t/1e3:t}function wo(t){return pQ(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function pQ(t){return typeof t.getSpanJSON=="function"}function N2(t){const{traceFlags:e}=t.spanContext();return!!(e&D2)}function I2(){return lv().getClient()}function vQ(){return lv().getScope()}function op(t){return t.transaction}function yQ(t,e,n){const r=e.getOptions(),{publicKey:i}=e.getDsn()||{},{segment:s}=n&&n.getUser()||{},a=Qi({environment:r.environment||O2,release:r.release,user_segment:s,public_key:i,trace_id:t});return e.emit&&e.emit("createDsc",a),a}function pw(t){const e=I2();if(!e)return{};const n=yQ(wo(t).trace_id||"",e,vQ()),r=op(t);if(!r)return n;const i=r&&r._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:a}=r.metadata;s!=null&&(n.sample_rate=`${s}`);const l=wo(r);return a&&a!=="url"&&(n.transaction=l.description),n.sampled=String(N2(r)),e.emit&&e.emit("createDsc",n),n}function bQ(t,e){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=e;_Q(t,e),r&&xQ(t,r),EQ(t,n),wQ(t,i),SQ(t,s)}function _Q(t,e){const{extra:n,tags:r,user:i,contexts:s,level:a,transactionName:l}=e,u=Qi(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const d=Qi(r);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});const h=Qi(i);h&&Object.keys(h).length&&(t.user={...h,...t.user});const g=Qi(s);g&&Object.keys(g).length&&(t.contexts={...g,...t.contexts}),a&&(t.level=a),l&&(t.transaction=l)}function wQ(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function SQ(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function xQ(t,e){t.contexts={trace:KS(e),...t.contexts};const n=op(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:pw(e),...t.sdkProcessingMetadata};const r=wo(n).description;r&&(t.tags={transaction:r,...t.tags})}}function EQ(t,e){t.fingerprint=t.fingerprint?tQ(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const RQ=100;class eu{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=TD()}static clone(e){return e?e.clone():new eu}clone(){const e=new eu;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&ov(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof eu){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(w2(n)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=TD(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:RQ;if(r<=0)return this;const i={timestamp:YS(),...e},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:i,_extra:s,_user:a,_level:l,_fingerprint:u,_eventProcessors:d,_propagationContext:h,_sdkProcessingMetadata:g,_transactionName:p,_span:v}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:i,extra:s,user:a,level:l,fingerprint:u||[],eventProcessors:d,propagationContext:h,sdkProcessingMetadata:g,transactionName:p,span:v}}applyToEvent(e,n={},r=[]){bQ(e,this.getScopeData());const i=[...r,...dQ(),...this._eventProcessors];return mw(i,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:qr();if(!this._client)return fn.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureMessage(e,n,r){const i=r&&r.event_id?r.event_id:qr();if(!this._client)return fn.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i},this),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:qr();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(fn.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function TD(){return{traceId:qr(),spanId:qr().substring(16)}}const CQ="7.120.4",P2=parseFloat(CQ),TQ=100;class j2{constructor(e,n,r,i=P2){this._version=i;let s;n?s=n:(s=new eu,s.setClient(e));let a;r?a=r:(a=new eu,a.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=a}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(i){throw this.popScope(),i}return GS(r)?r.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:qr(),i=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:i,...n,event_id:r}),r}captureMessage(e,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:qr(),s=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i}),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:qr();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=TQ}=i.getOptions&&i.getOptions()||{};if(a<=0)return;const u={timestamp:YS(),...e},d=s?E2(()=>s(u,n)):u;d!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",d,n),r.addBreadcrumb(d,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=AD(this);try{e(this)}finally{AD(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return Qn&&fn.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return Qn&&!r&&(this.getClient()?fn.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):fn.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&hQ(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=O2}=r&&r.getOptions()||{},{userAgent:a}=sr.navigator||{},l=fQ({release:i,environment:s,user:n.getUser(),...a&&{userAgent:a},...e}),u=n.getSession&&n.getSession();return u&&u.status==="ok"&&ov(u,{status:"exited"}),this.endSession(),n.setSession(l),l}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const i=Au().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,n);Qn&&fn.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Au(){return sr.__SENTRY__=sr.__SENTRY__||{extensions:{},hub:void 0},sr}function AD(t){const e=Au(),n=vw(e);return L2(e,t),n}function lv(){const t=Au();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return AQ(t)}function AQ(t=Au()){return(!OQ(t)||vw(t).isOlderThan(P2))&&L2(t,new j2),vw(t)}function OQ(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function vw(t){return S2("hub",()=>new j2,t)}function L2(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function DQ(t){return(t||lv()).getScope().getTransaction()}let OD=!1;function MQ(){OD||(OD=!0,nQ(yw),iQ(yw))}function yw(){const t=DQ();if(t){const e="internal_error";Qn&&fn.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}yw.tag="sentry_tracingErrorCallback";var DD;(function(t){t.Ok="ok";const n="deadline_exceeded";t.DeadlineExceeded=n;const r="unauthenticated";t.Unauthenticated=r;const i="permission_denied";t.PermissionDenied=i;const s="not_found";t.NotFound=s;const a="resource_exhausted";t.ResourceExhausted=a;const l="invalid_argument";t.InvalidArgument=l;const u="unimplemented";t.Unimplemented=u;const d="unavailable";t.Unavailable=d;const h="internal_error";t.InternalError=h;const g="unknown_error";t.UnknownError=g;const p="cancelled";t.Cancelled=p;const v="already_exists";t.AlreadyExists=v;const _="failed_precondition";t.FailedPrecondition=_;const b="aborted";t.Aborted=b;const w="out_of_range";t.OutOfRange=w;const x="data_loss";t.DataLoss=x})(DD||(DD={}));function kQ(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function NQ(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=kQ(e);n!=="unknown_error"&&t.setStatus(n)}function IQ(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=I2(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const PQ="_sentryScope",jQ="_sentryIsolationScope";function LQ(t){return{scope:t[PQ],isolationScope:t[jQ]}}const H0="sentry.source",Gc="sentry.sample_rate",em="sentry.op",tm="sentry.origin",FQ="profile_id";class UQ{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class QS{constructor(e={}){this._traceId=e.traceId||qr(),this._spanId=e.spanId||qr().substring(16),this._startTime=e.startTimestamp||av(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[tm]:e.origin||"manual",[em]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[em]}set op(e){this.setAttribute(em,e)}get origin(){return this._attributes[tm]}set origin(e){this.setAttribute(tm,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?D2:mQ}}startChild(e){const n=new QS({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=op(this);if(n.transaction=r,Qn&&r){const i=e&&e.op||"< unknown op >",s=wo(n).description||"< unknown name >",a=r.spanContext().spanId,l=`[Tracing] Starting '${i}' span on transaction '${s}' (${a}).`;fn.log(l),this._logMessage=l}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return NQ(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=op(this);if(Qn&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&fn.log(r.replace("Starting","Finishing"))}this._endTime=k2(e)}toTraceparent(){return M2(this)}toContext(){return Qi({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return KS(this)}getSpanJSON(){return Qi({data:this._getData(),description:this._name,op:this._attributes[em],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[tm],_metrics_summary:void 0,profile_id:this._attributes[FQ],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,r=Object.keys(e).length>0,i=Object.keys(n).length>0;if(!(!r&&!i))return r&&i?{...e,...n}:r?e:n}}class zQ extends QS{constructor(e,n){super(e),this._contexts={},this._hub=n||lv(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[H0]&&{source:this._attributes[H0]},...this._attributes[Gc]&&{sampleRate:this._attributes[Gc]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(H0,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new UQ(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,r=""){this._measurements[e]={value:n,unit:r}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=k2(e),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const e=super.toContext();return Qi({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return pw(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(Qn&&fn.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Qn&&fn.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(h=>h!==this&&wo(h).timestamp):[];if(this._trimEnd&&r.length>0){const h=r.map(g=>wo(g).timestamp).filter(Boolean);this._endTime=h.reduce((g,p)=>g>p?g:p)}const{scope:i,isolationScope:s}=LQ(this),{metadata:a}=this,{source:l}=a,u={contexts:{...this._contexts,trace:KS(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:i,capturedSpanIsolationScope:s,...Qi({dynamicSamplingContext:pw(this)})},_metrics_summary:void 0,...l&&{transaction_info:{source:l}}};return Object.keys(this._measurements).length>0&&(Qn&&fn.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),u.measurements=this._measurements),Qn&&fn.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),u}}function HQ(t,e,n){if(!IQ(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(Gc,Number(t.sampled)),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setAttribute(Gc,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate<"u"?(r=e.tracesSampleRate,t.setAttribute(Gc,Number(r))):(r=1,t.setAttribute(Gc,r)),BQ(r)?r?(t.sampled=Math.random()<r,t.sampled?(Qn&&fn.log(`[Tracing] starting ${t.op} transaction - ${wo(t).description}`),t):(Qn&&fn.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(Qn&&fn.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(Qn&&fn.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function BQ(t){return QK(t)||!(typeof t=="number"||typeof t=="boolean")?(Qn&&fn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(Qn&&fn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function $Q(){const e=this.getScope().getSpan();return e?{"sentry-trace":M2(e)}:{}}function VQ(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=t.instrumenter||"sentry";i!==s&&(Qn&&fn.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let a=new zQ(t,this);return a=HQ(a,r,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),a.isRecording()&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function qQ(){const t=Au();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=VQ),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=$Q),MQ())}function WQ(){const t=Au();if(!t.__SENTRY__)return;const e={mongodb(){const r=yl(module,"./node/integrations/mongo");return new r.Mongo},mongoose(){const r=yl(module,"./node/integrations/mongo");return new r.Mongo},mysql(){const r=yl(module,"./node/integrations/mysql");return new r.Mysql},pg(){const r=yl(module,"./node/integrations/postgres");return new r.Postgres}},n=Object.keys(e).filter(r=>!!lQ(r)).map(r=>{try{return e[r]()}catch{return}}).filter(r=>r);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function GQ(){qQ(),oQ()&&WQ()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&GQ();const et={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"},MD={[et.VALIDATION_ERROR]:"I dati inseriti non sono validi. Controlla i campi evidenziati.",[et.NETWORK_ERROR]:"Errore di connessione. Verifica la tua connessione internet.",[et.AUTHENTICATION_ERROR]:"Sessione scaduta. Effettua nuovamente l'accesso.",[et.AUTHORIZATION_ERROR]:"Non hai i permessi per eseguire questa operazione.",[et.NOT_FOUND_ERROR]:"La risorsa richiesta non  stata trovata.",[et.SERVER_ERROR]:"Errore del server. Riprova pi tardi.",[et.BUSINESS_LOGIC_ERROR]:"Operazione non consentita dalle regole di business.",[et.UNKNOWN_ERROR]:"Si  verificato un errore imprevisto."};class wt extends Error{constructor(e,n=et.UNKNOWN_ERROR,r=500,i={}){super(e),this.name="AppError",this.type=n,this.statusCode=r,this.context=i,this.timestamp=new Date().toISOString(),this.userMessage=MD[n]||MD[et.UNKNOWN_ERROR]}toJSON(){return{message:this.message,type:this.type,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage}}}const F2=6048e5,YQ=864e5,KQ=36e5,kD=Symbol.for("constructDateFrom");function Cs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&kD in t?t[kD](e):t instanceof Date?new t.constructor(e):new Date(e)}function ar(t,e){return Cs(e||t,t)}function rh(t,e,n){const r=ar(t,n?.in);return isNaN(e)?Cs(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function QQ(t,e,n){return Cs(t,+ar(t)+e)}function ND(t,e,n){return QQ(t,e*KQ)}let XQ={};function cv(){return XQ}function Al(t,e){const n=cv(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ar(t,e?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function lp(t,e){return Al(t,{...e,weekStartsOn:1})}function U2(t,e){const n=ar(t,e?.in),r=n.getFullYear(),i=Cs(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=lp(i),a=Cs(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=lp(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function ID(t){const e=ar(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ZQ(t,...e){const n=Cs.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function PD(t,e){const n=ar(t,e?.in);return n.setHours(0,0,0,0),n}function JQ(t,e,n){const[r,i]=ZQ(n?.in,t,e),s=PD(r),a=PD(i),l=+s-ID(s),u=+a-ID(a);return Math.round((l-u)/YQ)}function eX(t,e){const n=U2(t,e),r=Cs(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),lp(r)}function z2(t,e,n){return rh(t,e*7,n)}function tX(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nX(t){return!(!tX(t)&&typeof t!="number"||isNaN(+ar(t)))}function rX(t,e){const n=ar(t,e?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function H2(t,e){const n=ar(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const iX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sX=(t,e,n)=>{let r;const i=iX[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function B0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const aX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cX={date:B0({formats:aX,defaultWidth:"full"}),time:B0({formats:oX,defaultWidth:"full"}),dateTime:B0({formats:lX,defaultWidth:"full"})},uX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dX=(t,e,n,r)=>uX[t];function Id(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const fX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bX={ordinalNumber:yX,era:Id({values:fX,defaultWidth:"wide"}),quarter:Id({values:hX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Id({values:gX,defaultWidth:"wide"}),day:Id({values:mX,defaultWidth:"wide"}),dayPeriod:Id({values:pX,defaultWidth:"wide",formattingValues:vX,defaultFormattingWidth:"wide"})};function Pd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?wX(l,g=>g.test(a)):_X(l,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function _X(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function wX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function SX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const xX=/^(\d+)(th|st|nd|rd)?/i,EX=/\d+/i,RX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CX={any:[/^b/i,/^(a|c)/i]},TX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AX={any:[/1/i,/2/i,/3/i,/4/i]},OX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PX={ordinalNumber:SX({matchPattern:xX,parsePattern:EX,valueCallback:t=>parseInt(t,10)}),era:Pd({matchPatterns:RX,defaultMatchWidth:"wide",parsePatterns:CX,defaultParseWidth:"any"}),quarter:Pd({matchPatterns:TX,defaultMatchWidth:"wide",parsePatterns:AX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Pd({matchPatterns:OX,defaultMatchWidth:"wide",parsePatterns:DX,defaultParseWidth:"any"}),day:Pd({matchPatterns:MX,defaultMatchWidth:"wide",parsePatterns:kX,defaultParseWidth:"any"}),dayPeriod:Pd({matchPatterns:NX,defaultMatchWidth:"any",parsePatterns:IX,defaultParseWidth:"any"})},jX={code:"en-US",formatDistance:sX,formatLong:cX,formatRelative:dX,localize:bX,match:PX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LX(t,e){const n=ar(t,e?.in);return JQ(n,H2(n))+1}function FX(t,e){const n=ar(t,e?.in),r=+lp(n)-+eX(n);return Math.round(r/F2)+1}function B2(t,e){const n=ar(t,e?.in),r=n.getFullYear(),i=cv(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Cs(e?.in||t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=Al(a,e),u=Cs(e?.in||t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=Al(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function UX(t,e){const n=cv(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=B2(t,e),s=Cs(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Al(s,e)}function zX(t,e){const n=ar(t,e?.in),r=+Al(n,e)-+UX(n,e);return Math.round(r/F2)+1}function Nt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ja={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Nt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Nt(n+1,2)},d(t,e){return Nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Nt(t.getHours()%12||12,e.length)},H(t,e){return Nt(t.getHours(),e.length)},m(t,e){return Nt(t.getMinutes(),e.length)},s(t,e){return Nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nt(i,e.length)}},Uc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ja.y(t,e)},Y:function(t,e,n,r){const i=B2(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Nt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Nt(s,e.length)},R:function(t,e){const n=U2(t);return Nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Nt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ja.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=zX(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,e.length)},I:function(t,e,n){const r=FX(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Nt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ja.d(t,e)},D:function(t,e,n){const r=LX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Nt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Nt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Nt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Uc.noon:r===0?i=Uc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Uc.evening:r>=12?i=Uc.afternoon:r>=4?i=Uc.morning:i=Uc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ja.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ja.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ja.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ja.s(t,e)},S:function(t,e){return Ja.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return FD(r);case"XXXX":case"XX":return al(r);case"XXXXX":case"XXX":default:return al(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return FD(r);case"xxxx":case"xx":return al(r);case"xxxxx":case"xxx":default:return al(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LD(r,":");case"OOOO":default:return"GMT"+al(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LD(r,":");case"zzzz":default:return"GMT"+al(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Nt(r,e.length)},T:function(t,e,n){return Nt(+t,e.length)}};function LD(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Nt(s,2)}function FD(t,e){return t%60===0?(t>0?"-":"+")+Nt(Math.abs(t)/60,2):al(t,e)}function al(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Nt(Math.trunc(r/60),2),s=Nt(r%60,2);return n+i+e+s}const UD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},HX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return UD(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",UD(r,e)).replace("{{time}}",$2(i,e))},BX={p:$2,P:HX},$X=/^D+$/,VX=/^Y+$/,qX=["D","DD","YY","YYYY"];function WX(t){return $X.test(t)}function GX(t){return VX.test(t)}function YX(t,e,n){const r=KX(t,e,n);if(console.warn(r),qX.includes(t))throw new RangeError(r)}function KX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZX=/^'([^]*?)'?$/,JX=/''/g,eZ=/[a-zA-Z]/;function Xn(t,e,n){const r=cv(),i=r.locale??jX,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=ar(t,n?.in);if(!nX(l))throw new RangeError("Invalid time value");let u=e.match(XX).map(h=>{const g=h[0];if(g==="p"||g==="P"){const p=BX[g];return p(h,i.formatLong)}return h}).join("").match(QX).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:tZ(h)};if(jD[g])return{isToken:!0,value:h};if(g.match(eZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(h=>{if(!h.isToken)return h.value;const g=h.value;(GX(g)||WX(g))&&YX(g,e,String(t));const p=jD[g[0]];return p(l,g,i.localize,d)}).join("")}function tZ(t){const e=t.match(ZX);return e?e[1].replace(JX,"'"):t}function nZ(t,e){return ar(t,e?.in).getDay()}function rZ(t,e){return+ar(t)>+ar(e)}function iZ(t,e,n){return z2(t,-1,n)}class sZ{async init(){try{const{error:e}=await vn.from("machines").select("count").limit(1);if(e)throw new wt(`API initialization failed: ${e.message}`,et.SERVER_ERROR,500,e,"API.init");return!0}catch(e){throw e instanceof wt?e:new wt(`API initialization failed: ${e.message}`,et.SERVER_ERROR,500,e,"API.init")}}async getMachines(){try{const{data:e,error:n}=await vn.from("machines").select("*").order("machine_name");if(n)throw n;return e||[]}catch(e){throw new wt(`Failed to get machines: ${e.message}`,et.SERVER_ERROR,500,e,"API.getMachines")}}async addMachine(e){try{const{data:n,error:r}=await vn.from("machines").insert([e]).select().single();if(r)throw r;return n}catch(n){throw new wt(`Failed to add machine: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.addMachine")}}async updateMachine(e,n){try{const{data:r,error:i}=await vn.from("machines").update(n).eq("id",e).select().single();if(i)throw i;return r}catch(r){throw new wt(`Failed to update machine: ${Ln(r)}`,et.SERVER_ERROR,500,r,"API.updateMachine")}}async removeMachine(e){try{const{error:n}=await vn.from("machines").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new wt(`Failed to remove machine: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.removeMachine")}}async getOdpOrders(){try{const{data:e,error:n}=await vn.from("odp_orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){throw new wt(`Failed to fetch ODP orders: ${Ln(e)}`,et.SERVER_ERROR,500,e,"API.getOdpOrders")}}async getOdpOrder(e){try{const{data:n,error:r}=await vn.from("odp_orders").select("*").eq("id",e).single();if(r)throw r;return n}catch(n){throw new wt(`Failed to fetch ODP order: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.getOdpOrder")}}async addOdpOrder(e){try{const{data:n,error:r}=await vn.from("odp_orders").insert([e]).select().single();if(r)throw r;return n}catch(n){throw new wt(`Failed to add ODP order: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.addOdpOrder")}}async updateOdpOrder(e,n){try{const{data:r,error:i}=await vn.from("odp_orders").update(n).eq("id",e).select().single();if(i)throw i;return r}catch(r){throw new wt(`Failed to update ODP order: ${Ln(r)}`,et.SERVER_ERROR,500,r,"API.updateOdpOrder")}}async removeOdpOrder(e){try{const{error:n}=await vn.from("odp_orders").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new wt(`Failed to remove ODP order: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.removeOdpOrder")}}async getPhases(){try{const{data:e,error:n}=await vn.from("phases").select("*").order("name");if(n)throw n;return e||[]}catch(e){throw new wt(`Failed to fetch phases: ${Ln(e)}`,et.SERVER_ERROR,500,e,"API.getPhases")}}async addPhase(e){try{const{data:n,error:r}=await vn.from("phases").insert([e]).select().single();if(r)throw r;return n}catch(n){throw new wt(`Failed to add phase: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.addPhase")}}async updatePhase(e,n){try{const{data:r,error:i}=await vn.from("phases").update(n).eq("id",e).select().single();if(i)throw i;return r}catch(r){throw new wt(`Failed to update phase: ${Ln(r)}`,et.SERVER_ERROR,500,r,"API.updatePhase")}}async removePhase(e){try{const{error:n}=await vn.from("phases").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new wt(`Failed to remove phase: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.removePhase")}}async getMachineAvailabilityForDateRange(e,n,r){try{const{data:i,error:s}=await vn.from("machine_availability").select("*").eq("machine_id",e).gte("date",n).lte("date",r).order("date");if(s)throw s;return i||[]}catch(i){throw new wt(`Failed to fetch machine availability for date range: ${Ln(i)}`,et.SERVER_ERROR,500,i,"API.getMachineAvailabilityForDateRange")}}async getMachineAvailabilityForDate(e,n){try{const{data:r,error:i}=await vn.from("machine_availability").select("*").eq("machine_id",e).eq("date",n).maybeSingle();if(i)throw i;return r||null}catch(r){throw new wt(`Failed to fetch machine availability: ${Ln(r)}`,et.SERVER_ERROR,500,r,"API.getMachineAvailabilityForDate")}}async getMachineAvailability(e,n){try{return(await this.getMachineAvailabilityForDate(e,n))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(e,n,r){try{const{data:i,error:s}=await vn.from("machine_availability").upsert([{machine_id:e,date:n,unavailable_hours:r}],{onConflict:"machine_id,date"}).select().single();if(s)throw s;return i}catch(i){throw new wt(`Failed to set machine availability: ${Ln(i)}`,et.SERVER_ERROR,500,i,"API.setMachineAvailability")}}async getMachineAvailabilityForDateAllMachines(e){try{const{data:n,error:r}=await vn.from("machine_availability").select("*").eq("date",e);if(r)throw r;return n||[]}catch(n){throw new wt(`Failed to fetch machine availability for all machines: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.getMachineAvailabilityForDateAllMachines")}}async getEventsByDate(e){try{const{data:n,error:r}=await vn.from("machine_availability").select("*").eq("date",e);if(r)throw r;return n||[]}catch(n){throw new wt(`Failed to fetch events by date: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.getEventsByDate")}}async setUnavailableHoursForRange(e,n,r,i,s){try{const a=parseInt(i.split(":")[0]),l=parseInt(s.split(":")[0]),u=[];for(let v=a;v<l;v++)u.push(v.toString());const d=new Date(n),h=new Date(r);let g=new Date(d);const p=[];for(;g<=h;){const v=Xn(g,"yyyy-MM-dd"),b=(await this.getMachineAvailabilityForDate(e,v))?.unavailable_hours||[],w=[...new Set([...b,...u])].sort((E,R)=>parseInt(E)-parseInt(R)),x=await this.setMachineAvailability(e,v,w);p.push(x),g=rh(g,1)}return p}catch(a){throw new wt(`Failed to set unavailable hours for range: ${Ln(a)}`,et.SERVER_ERROR,500,a,"API.setUnavailableHoursForRange")}}async bulkUpsertMachineAvailability(e){try{const{error:n}=await vn.from("machine_availability").upsert(e,{onConflict:"machine_id,date"});if(n)throw n;return{success:!0}}catch(n){throw new wt(`Failed to bulk set machine availability: ${Ln(n)}`,et.SERVER_ERROR,500,n,"API.bulkUpsertMachineAvailability")}}setupRealtimeSubscriptions(e,n,r){return vn.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},e).on("postgres_changes",{event:"*",schema:"public",table:"machines"},n).on("postgres_changes",{event:"*",schema:"public",table:"phases"},r).subscribe(s=>{})}cleanupRealtimeSubscriptions(e){if(e)try{e.unsubscribe()}catch{}}}const Ot=new sZ,bw=Object.freeze(Object.defineProperty({__proto__:null,apiService:Ot},Symbol.toStringTag,{value:"Module"})),xr=nh((t,e)=>({odpOrders:[],getOdpOrders:()=>e().odpOrders,getOrderById:n=>e().odpOrders.find(r=>r.id===n),getScheduledOrders:()=>e().odpOrders.filter(n=>n.status==="SCHEDULED"),getUnscheduledOrders:()=>e().odpOrders.filter(n=>n.status==="NOT SCHEDULED"),getOdpOrdersByWorkCenter:n=>n==="BOTH"?e().odpOrders:e().odpOrders.filter(r=>r.work_center===n),setOdpOrders:n=>t({odpOrders:n||[]}),cleanupDuplicateOrders:()=>{const n=e(),r=[],i=new Set;n.odpOrders.forEach(s=>{i.has(s.id)||(i.add(s.id),r.push(s))}),t({odpOrders:r})},reset:()=>t({odpOrders:[]})})),tf=nh((t,e)=>({machines:[],getMachines:()=>e().machines,getMachineById:n=>e().machines.find(r=>r.id===n),getMachinesByWorkCenter:n=>n==="BOTH"?e().machines:e().machines.filter(r=>r.work_center===n),setMachines:n=>t({machines:n||[]}),cleanupDuplicateMachines:()=>{const n=e(),r=[],i=new Set;n.machines.forEach(s=>{i.has(s.id)||(i.add(s.id),r.push(s))}),t({machines:r})},reset:()=>t({machines:[]})})),tn={MACHINE:{DEPARTMENT:"STAMPA",WORK_CENTER:"ZANICA",MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:["T1"],STATUS:"ACTIVE"},PHASE:{DEPARTMENT:"STAMPA",NUMERO_PERSONE:1,WORK_CENTER:"ZANICA",V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:3,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},aZ={MAX_TASK_SEGMENTS:50},nm={MINUTES_PER_HOUR:60,MILLISECONDS_PER_MINUTE:60*1e3},Ss=nh((t,e)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:localStorage.getItem("selectedWorkCenter")||St.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},getLoadingState:()=>e().isLoading,getInitializationState:()=>e().isInitialized,getSelectedWorkCenter:()=>e().selectedWorkCenter,getEditMode:()=>e().isEditMode,getConfirmDialog:()=>e().confirmDialog,getConflictDialog:()=>e().conflictDialog,getSchedulingLoading:()=>e().schedulingLoading,getDragPreview:()=>e().dragPreview,setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),setSelectedWorkCenter:n=>{localStorage.setItem("selectedWorkCenter",n),t({selectedWorkCenter:n})},toggleEditMode:()=>t(n=>({isEditMode:!n.isEditMode})),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>t({schedulingLoading:n}),startSchedulingOperation:(n,r=null)=>t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:r}}),stopSchedulingOperation:()=>t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}}),showConfirmDialog:(n,r,i,s="danger")=>t({confirmDialog:{isOpen:!0,title:n,message:r,onConfirm:i,type:s}}),hideConfirmDialog:()=>t({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),showConflictDialog:n=>t({conflictDialog:{isOpen:!0,details:n}}),hideConflictDialog:()=>t({conflictDialog:{isOpen:!1,details:null}}),setDragPreview:n=>t({dragPreview:n}),clearDragPreview:()=>t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}}),showAlert:(n,r="info")=>{z7(n,r)},reset:()=>t({isLoading:!1,isInitialized:!1,selectedWorkCenter:St.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})}));class oZ{constructor(e,n){this.get=e,this.set=n}setSplitTaskInfo=(e,n)=>{this.set(r=>({splitTasksInfo:{...r.splitTasksInfo,[e]:n}}))};getSplitTaskInfo=e=>{const n=this.get().splitTasksInfo[e];if(n&&n.segments)return n;const{getOrderById:r}=xr.getState(),i=r(e);if(i&&i.description&&i.status==="SCHEDULED")try{const s=JSON.parse(i.description);if(s.segments&&Array.isArray(s.segments))return setTimeout(()=>{this.setSplitTaskInfo(e,s)},0),s}catch{}return null};clearSplitTaskInfo=e=>{this.set(n=>{const r={...n.splitTasksInfo};return delete r[e],{splitTasksInfo:r}})};updateTaskWithSplitInfo=async(e,n,r=null,i=null,s=null)=>{const{apiService:a}=await rs(async()=>{const{apiService:l}=await Promise.resolve().then(()=>bw);return{apiService:l}},void 0);if(n){this.setSplitTaskInfo(e,n);const u={description:JSON.stringify(n),status:"SCHEDULED"};if(r&&(u.scheduled_start_time=r.toISOString()),i&&(u.scheduled_end_time=i.toISOString()),s&&(u.scheduled_machine_id=s),!(u.scheduled_start_time&&u.scheduled_end_time&&u.scheduled_machine_id))if(!u.scheduled_start_time&&!u.scheduled_end_time&&!u.scheduled_machine_id)delete u.scheduled_start_time,delete u.scheduled_end_time,delete u.scheduled_machine_id,u.status="NOT SCHEDULED";else{const{getOrderById:h}=xr.getState(),g=h(e);g&&(u.scheduled_start_time||(u.scheduled_start_time=g.scheduled_start_time),u.scheduled_end_time||(u.scheduled_end_time=g.scheduled_end_time),u.scheduled_machine_id||(u.scheduled_machine_id=g.scheduled_machine_id))}const d=await a.updateOdpOrder(e,u);this.updateSplitTaskInfo(e,d)}else{this.clearSplitTaskInfo(e);const l=await a.updateOdpOrder(e,{description:""});this.updateSplitTaskInfo(e,l)}};updateSplitTaskInfo=(e,n)=>{if(this.clearSplitTaskInfo(e),n.description&&n.status==="SCHEDULED")try{const r=JSON.parse(n.description);r.segments&&Array.isArray(r.segments)?this.validateSegments(r.segments.map(s=>({start:new Date(s.start),end:new Date(s.end),duration:s.duration}))).isValid?this.setSplitTaskInfo(e,r):this.clearSplitTaskInfo(e):this.clearSplitTaskInfo(e)}catch{this.clearSplitTaskInfo(e)}else this.clearSplitTaskInfo(e)};restoreSplitTaskInfo=()=>{const{getOdpOrders:e}=xr.getState(),n=e(),r={};let i=0;n.forEach(s=>{if(s.description&&s.status==="SCHEDULED")try{const a=JSON.parse(s.description);a.segments&&Array.isArray(a.segments)&&(r[s.id]=a,i++)}catch{}}),this.set({splitTasksInfo:r})};validateSegments=e=>{if(!Array.isArray(e)||e.length===0)return{isValid:!1,error:"Segments must be a non-empty array"};for(let n=0;n<e.length;n++){const r=e[n];if(!r.start||!r.end||r.duration===void 0)return{isValid:!1,error:`Segment ${n} missing required properties (start, end, duration)`};const i=new Date(r.start),s=new Date(r.end);if(isNaN(i.getTime())||isNaN(s.getTime()))return{isValid:!1,error:`Segment ${n} has invalid date values`};if(s<=i)return{isValid:!1,error:`Segment ${n} end time must be after start time`};if(r.duration<=0)return{isValid:!1,error:`Segment ${n} duration must be positive`};if(n>0){const a=e[n-1],l=new Date(a.end);if(i<l)return{isValid:!1,error:`Segment ${n} overlaps with previous segment`}}}return{isValid:!0}};createSegmentInfo=(e,n)=>{const r=this.validateSegments(e);if(!r.isValid)throw new Error(`Invalid segments: ${r.error}`);return{totalSegments:e.length,segments:e.map(i=>({start:i.start.toISOString(),end:i.end.toISOString(),duration:i.duration})),originalDuration:n,wasSplit:e.length>1}};getTaskOccupiedSegments=e=>{const n=this.getSplitTaskInfo(e.id);if(n&&n.segments)return n.segments.map(r=>({start:new Date(r.start),end:new Date(r.end),duration:r.duration}));if(e.description)try{const r=JSON.parse(e.description);if(r.segments&&Array.isArray(r.segments))return r.segments.map(i=>({start:new Date(i.start),end:new Date(i.end),duration:i.duration}))}catch{}if(e.scheduled_start_time){const r=new Date(e.scheduled_start_time),i=e.time_remaining||e.duration||1,s=new Date(r.getTime()+i*60*60*1e3);return[{start:r,end:s,duration:i}]}return[]};doTimeRangesOverlap=(e,n,r,i)=>e<i&&n>r;checkTaskOverlap=(e,n,r)=>{const i=this.getTaskOccupiedSegments(r);for(const s of i)if(this.doTimeRangesOverlap(e,n,s.start,s.end))return{hasOverlap:!0,conflictingSegment:s,existingTask:r};return{hasOverlap:!1}};checkMachineOverlaps=(e,n,r,i=null,s=[])=>{const{getOdpOrders:a}=xr.getState(),l=[i,...s].filter(h=>h),d=a().filter(h=>h.scheduled_machine_id===r&&h.status==="SCHEDULED"&&!l.includes(h.id)&&h.scheduled_start_time&&h.scheduled_end_time&&h.scheduled_machine_id).sort((h,g)=>{const p=this.getTaskOccupiedSegments(h),v=this.getTaskOccupiedSegments(g),_=p.length>0?p[0].start:new Date(h.scheduled_start_time),b=v.length>0?v[0].start:new Date(g.scheduled_start_time);return _.getTime()-b.getTime()});for(const h of d){const g=this.checkTaskOverlap(e,n,h);if(g.hasOverlap)return{hasOverlap:!0,conflictingTask:h,conflictingSegment:g.conflictingSegment}}return{hasOverlap:!1}};migrateExistingTasksToSegmentFormat=async()=>{const{getOdpOrders:e}=xr.getState(),n=e();for(const r of n)if(r.status==="SCHEDULED"&&r.scheduled_start_time){const i=this.getSplitTaskInfo(r.id);if(i&&i.segments)continue;if(r.description)try{const h=JSON.parse(r.description);if(h.segments&&Array.isArray(h.segments)){this.setSplitTaskInfo(r.id,h);continue}}catch{}const s=new Date(r.scheduled_start_time),a=r.time_remaining||r.duration||1,l=new Date(s.getTime()+a*60*60*1e3),u=[{start:s,end:l,duration:a}],d=this.createSegmentInfo(u,a);await this.updateTaskWithSplitInfo(r.id,d)}};verifyAllTasksHaveSegmentInfo=()=>{const{getOdpOrders:e}=xr.getState(),r=e().filter(s=>s.status==="SCHEDULED"),i=[];for(const s of r){const a=this.getSplitTaskInfo(s.id);(!a||!a.segments)&&i.push({id:s.id,odp_number:s.odp_number,description:s.description})}return{totalScheduledTasks:r.length,tasksWithSegments:r.length-i.length,tasksWithoutSegments:i}}}class lZ{constructor(e,n,r,i){this.get=e,this.set=n,this.splitTaskManager=r,this.machineAvailabilityManager=i}createAbsoluteDate=(e,n,r,i=0,s=0)=>new Date(Date.UTC(e,n-1,r,i,s,0,0));splitTaskAcrossAvailableSlots=(e,n,r,i)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const d of i)if(a>=d.start&&a<d.end){a=new Date(d.end),u=!0;break}}for(;l>0;){let d=null,h=null,g=null;for(const p of i){const v=new Date(p.start),_=new Date(p.end);v>=a&&(!d||v<h)&&(d=p,h=v,g=_)}if(d){const p=(h.getTime()-a.getTime())/36e5;if(p>0){const _=Math.min(p,l),b=new Date(a.getTime()+_*60*60*1e3);s.push({start:new Date(a),end:b,duration:_}),l-=_}a=new Date(g);let v=!0;for(;v;){v=!1;for(const _ of i)if(a>=_.start&&a<_.end){a=new Date(_.end),v=!0;break}}}else{const p=new Date(a.getTime()+l*60*60*1e3);s.push({start:new Date(a),end:p,duration:l}),l=0}if(s.length>aZ.MAX_TASK_SEGMENTS){console.warn("Task splitting exceeded maximum segments limit");break}}return s}catch(s){return console.error("Error in splitTaskAcrossAvailableSlots:",s),[]}};splitTaskAcrossAvailableSlotsBackward=(e,n,r,i)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const h of i)if(a>h.start&&a<=h.end){a=new Date(h.start),u=!0;break}}for(;l>0;){let h=null,g=null,p=null;for(const E of i){const R=new Date(E.start),O=new Date(E.end);O<=a&&(!h||O>p)&&(h=E,g=R,p=O)}let v;h?v=new Date(p):v=new Date(a.getTime()-l*60*60*1e3);let _=!0;for(;_;){_=!1;for(const E of i)if(v<E.end&&v>=E.start){v=new Date(E.end),_=!0;break}}const b=(a.getTime()-v.getTime())/(1e3*60*60);if(b<=0){a=h?new Date(g):new Date(a.getTime()-3600*1e3);continue}const w=Math.min(b,l),x=new Date(a.getTime()-w*60*60*1e3);s.push({start:x,end:new Date(a),duration:w}),l-=w,a=new Date(x)}return s.reverse()}catch(s){return console.error("Error in splitTaskAcrossAvailableSlotsBackward:",s),[]}};collectUnavailableSlots=(e,n,r)=>{const i=[],s=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),a=this.createAbsoluteDate(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(s);for(;u<=l;){const d=Xn(u,"yyyy-MM-dd"),h=this.get().machineAvailability[d];if(h&&Array.isArray(h)){const g=h.find(p=>p.machine_id===r);if(g&&g.unavailable_hours&&Array.isArray(g.unavailable_hours)){const[p,v,_]=d.split("-").map(Number);for(const b of g.unavailable_hours){const w=this.createAbsoluteDate(p,v,_,parseInt(b),0),x=new Date(w.getTime()+3600*1e3);i.push({start:w,end:x,hour:parseInt(b),date:d})}}}u.setUTCDate(u.getUTCDate()+1)}return i.sort((d,h)=>d.start.getTime()-h.start.getTime())};loadMachineAvailabilityForExtendedRange=async(e,n,r)=>{const i=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()+n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(i);for(;u<=l;){const d=Xn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return l};loadMachineAvailabilityForBackwardRange=async(e,n,r)=>{const i=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()-n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()-7);let u=new Date(l);for(;u<=i;){const d=Xn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return{taskStartDateWithBuffer:l,taskEndDate:i}};checkSegmentsForOverlaps=(e,n,r,i=[])=>{[r,...i].filter(s=>s);for(const s of e){const a=this.splitTaskManager.checkMachineOverlaps(s.start,s.end,n,r,i);if(a.hasOverlap)return{hasOverlap:!0,conflictingSegment:s,conflictingTask:a.conflictingTask,conflictingExistingSegment:a.conflictingSegment}}return{hasOverlap:!1}};scheduleTaskWithSplitting=async(e,n,r,i,s=[])=>{const a=await this.loadMachineAvailabilityForExtendedRange(n,r,i),l=this.collectUnavailableSlots(n,a,i),u=new Date(n.getTime()+r*60*60*1e3);if(l.some(h=>n<h.end&&u>h.start)){const h=this.splitTaskAcrossAvailableSlots(n,r,i,l);if(h.length>0){const g=this.checkSegmentsForOverlaps(h,i,e,s);if(g.hasOverlap)return{conflict:!0,conflictingTask:g.conflictingTask,conflictingSegment:g.conflictingExistingSegment,proposedSegments:h};const p=h[0],v=h[h.length-1];if(!p?.start||!v?.end)return console.error("Invalid segments returned from splitTaskAcrossAvailableSlots:",h),null;const _=this.splitTaskManager.createSegmentInfo(h,r);return await this.splitTaskManager.updateTaskWithSplitInfo(e,_,p.start,v.end,i),{startTime:p.start,endTime:v.end,wasSplit:!0,segments:h,originalDuration:r}}}else{const h=[{start:n,end:u,duration:r}],g=this.checkSegmentsForOverlaps(h,i,e,s);if(g.hasOverlap)return{conflict:!0,conflictingTask:g.conflictingTask,conflictingSegment:g.conflictingExistingSegment,proposedSegments:h};const p=this.splitTaskManager.createSegmentInfo(h,r);return await this.splitTaskManager.updateTaskWithSplitInfo(e,p,n,u,i),{startTime:n,endTime:u,wasSplit:!1,segments:h,originalDuration:r}}return null};scheduleTaskEndingAtWithSplitting=async(e,n,r,i,s=[])=>{const{taskStartDateWithBuffer:a,taskEndDate:l}=await this.loadMachineAvailabilityForBackwardRange(n,r,i),u=this.collectUnavailableSlots(a,l,i),d=this.splitTaskAcrossAvailableSlotsBackward(n,r,i,u);if(d.length===0)return null;const h=this.checkSegmentsForOverlaps(d,i,e,s);if(h.hasOverlap)return{conflict:!0,conflictingTask:h.conflictingTask,conflictingSegment:h.conflictingExistingSegment,proposedSegments:d};const g=this.splitTaskManager.createSegmentInfo(d,r),p=d[0],v=d[d.length-1];return!p?.start||!v?.end?(console.error("Invalid segments returned from splitTaskAcrossAvailableSlotsBackward:",d),null):(await this.splitTaskManager.updateTaskWithSplitInfo(e,g,p.start,v.end,i),{startTime:p.start,endTime:v.end,wasSplit:d.length>1,segments:d,originalDuration:r})};handleTaskDurationShrinking=async(e,n,r,i={})=>{try{console.log(" DURATION SHRINKING: Starting cascading rescheduling for task",e),console.log(" DURATION SHRINKING: New duration:",n,"hours");const{getOrderById:s,getOdpOrders:a}=xr.getState(),{getMachineById:l}=tf.getState(),u=s(e),d=l(r),h=a();if(!u||!d)return{success:!1,error:"Task or machine not found"};if(!u.scheduled_start_time||!u.scheduled_end_time)return{success:!1,error:"Task is not scheduled"};const g=new Date(u.scheduled_start_time),p=u.duration,v=new Date(g.getTime()+p*60*60*1e3);console.log(" DURATION SHRINKING: Original end time (pre-shrinking):",v.toISOString()),console.log(" DURATION SHRINKING: Original duration:",p,"New duration:",n);const _=this.findCascadingChain(e,v,r,h);console.log(" DURATION SHRINKING: Found cascading chain of",_.length,"tasks to reschedule"),console.log(" DURATION SHRINKING: Chain tasks:",_.map(M=>M.odp_number));const b=u.quantity_completed/u.quantity||0,w=n*(1-b);console.log(" DURATION SHRINKING: Calculated time_remaining:",w,"from new duration:",n,"and progress:",b),console.log(" DURATION SHRINKING: Progress calculation:",u.quantity_completed,"/",u.quantity,"=",b),console.log(" DURATION SHRINKING: Rescheduling original task with new time_remaining");const x=await this.scheduleTaskWithSplitting(e,g,w,r,[]);if(!x)return console.error(" DURATION SHRINKING: Failed to reschedule original task"),{success:!1,error:"Failed to reschedule original task. Not enough space available.",rescheduledTasks:[]};if(x.conflict)return console.error(" DURATION SHRINKING: Conflict detected while rescheduling original task"),{success:!1,error:"Conflict detected while rescheduling original task. Consider using conflict resolution.",rescheduledTasks:[]};await this.splitTaskManager.updateTaskWithSplitInfo(e,x.segments?{segments:x.segments,totalSegments:x.segments.length,originalDuration:x.originalDuration||w,wasSplit:x.wasSplit||!1}:null,x.startTime,x.endTime,r);const E={duration:n,time_remaining:w,...i};console.log(" DURATION SHRINKING: Final update data:",E),await Ot.updateOdpOrder(e,E);const R=[{id:e,odp_number:u.odp_number,new_start_time:x.startTime.toISOString(),new_end_time:x.endTime.toISOString(),was_split:x.wasSplit}];let O=new Date(x.endTime);const A=O.getUTCMinutes(),I=Math.ceil(A/15)*15;I===60?O.setUTCHours(O.getUTCHours()+1,0,0,0):O.setUTCMinutes(I,0,0);for(const M of _){console.log(" DURATION SHRINKING: Rescheduling task",M.odp_number,"to start at",O.toISOString());const L=await this.scheduleTaskWithSplitting(M.id,O,M.time_remaining||M.duration||1,r,[e]);if(!L)return console.error(" DURATION SHRINKING: Failed to reschedule task",M.odp_number),{success:!1,error:`Failed to reschedule task ${M.odp_number}. Not enough space available.`,rescheduledTasks:R};if(L.conflict)return console.error(" DURATION SHRINKING: Conflict detected while rescheduling task",M.odp_number),{success:!1,error:`Conflict detected while rescheduling task ${M.odp_number}. Consider using conflict resolution.`,rescheduledTasks:R};await this.splitTaskManager.updateTaskWithSplitInfo(M.id,L.segments?{segments:L.segments,totalSegments:L.segments.length,originalDuration:L.originalDuration||M.time_remaining||M.duration||1,wasSplit:L.wasSplit||!1}:null,L.startTime,L.endTime,r),R.push({id:M.id,odp_number:M.odp_number,new_start_time:L.startTime.toISOString(),new_end_time:L.endTime.toISOString(),was_split:L.wasSplit}),O=new Date(L.endTime);const H=O.getUTCMinutes(),V=Math.ceil(H/15)*15;V===60?O.setUTCHours(O.getUTCHours()+1,0,0,0):O.setUTCMinutes(V,0,0)}console.log(" DURATION SHRINKING: Successfully rescheduled",R.length,"tasks");const k=s(e);return{success:!0,message:`Successfully rescheduled ${R.length} tasks due to duration reduction`,rescheduledTasks:R,updatedTask:k}}catch(s){return console.error(" DURATION SHRINKING ERROR:",s),{success:!1,error:s.message||"Unknown error during duration shrinking",rescheduledTasks:[]}}};findCascadingChain=(e,n,r,i)=>{const s=[],a=new Set,l=i.filter(h=>h.scheduled_machine_id===r&&h.status==="SCHEDULED"&&h.id!==e&&h.scheduled_start_time).sort((h,g)=>new Date(h.scheduled_start_time)-new Date(g.scheduled_start_time)),u=l.filter(h=>{const p=(new Date(h.scheduled_start_time).getTime()-n.getTime())/(1e3*60);return p>=0&&p<=15});console.log(" DURATION SHRINKING: Initial candidates within 15 minutes:",u.map(h=>h.odp_number));const d=h=>{for(const g of l){if(a.has(g.id))continue;const p=new Date(g.scheduled_start_time),v=(p.getTime()-h.getTime())/(1e3*60);if(v>=0&&v<=15){a.add(g.id),s.push(g);const _=g.time_remaining||g.duration||1,b=new Date(p.getTime()+_*60*60*1e3);console.log(" DURATION SHRINKING: Added to chain:",g.odp_number,"ends at",b.toISOString()),d(b)}}};return d(n),console.log(" DURATION SHRINKING: Complete chain found:",s.map(h=>h.odp_number)),s}}class cZ{constructor(e,n,r,i){this.get=e,this.set=n,this.schedulingLogic=r,this.splitTaskManager=i}getTaskDurationMinutes=e=>Math.round((e.time_remaining||e.duration||1)*nm.MINUTES_PER_HOUR);getTaskEndTime=e=>{const n=new Date(e.scheduled_start_time),r=this.getTaskDurationMinutes(e);return new Date(n.getTime()+r*nm.MILLISECONDS_PER_MINUTE)};addMinutesToDate=(e,n)=>new Date(e.getTime()+n*nm.MILLISECONDS_PER_MINUTE);roundUpToNext15MinSlot=e=>{const n=e.getUTCMinutes(),r=e.getUTCHours(),i=Math.ceil(n/15)*15,s=new Date(e);return i===nm.MINUTES_PER_HOUR?s.setUTCHours(r+1,0,0,0):s.setUTCMinutes(i,0,0),s};scheduleTaskWithSplittingForShunt=async(e,n,r)=>await this.scheduleTaskWithSplittingForShuntExcluding(e,n,r,[e.id]);scheduleTaskWithSplittingForShuntExcluding=async(e,n,r,i,s=3)=>{const a=this.getTaskDurationMinutes(e)/60,l=i.filter(d=>d!==e.id),u=await this.schedulingLogic.scheduleTaskWithSplitting(e.id,n,a,r.id,l);return u&&!u.conflict?{startTime:u.startTime,endTime:u.endTime,wasSplit:u.wasSplit}:u&&u.conflict?(console.log(` CASCADING SHUNT: Task ${e.odp_number} conflicts with ${u.conflictingTask?.odp_number}, attempting cascading resolution`),s>0?await this.handleCascadingConflict(e,n,r,i,u,s-1):(console.warn(` CASCADING SHUNT: Max depth reached for task ${e.odp_number}, returning conflict info`),{conflict:!0,conflictingTask:u.conflictingTask,conflictingSegment:u.conflictingSegment,proposedSegments:u.proposedSegments})):u?{startTime:n,endTime:this.addMinutesToDate(n,this.getTaskDurationMinutes(e)),wasSplit:!1}:null};handleCascadingConflict=async(e,n,r,i,s,a)=>{const l=s.conflictingTask,u=s.conflictingSegment;console.log(` CASCADING SHUNT: Attempting to shunt conflicting task ${l?.odp_number} to resolve conflict with ${e.odp_number}`);const d=new Date(n.getTime()+this.getTaskDurationMinutes(e)*60*1e3),h=this.roundUpToNext15MinSlot(d),g=[...i,l.id];try{const p=await this.scheduleTaskWithSplittingForShuntExcluding(l,h,r,g,a);if(p&&!p.conflict){console.log(` CASCADING SHUNT: Successfully shunted conflicting task ${l.odp_number}`),await this.updateTaskSchedule(l.id,p.startTime,p.endTime);const v=await this.scheduleTaskWithSplittingForShuntExcluding(e,n,r,g,a);return v&&!v.conflict?(console.log(` CASCADING SHUNT: Successfully scheduled original task ${e.odp_number} after resolving conflicts`),v):(console.warn(` CASCADING SHUNT: Original task ${e.odp_number} still conflicts after shunting conflicting task`),v||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments})}else return console.warn(` CASCADING SHUNT: Could not shunt conflicting task ${l?.odp_number}`),p||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}catch(p){return console.error(" CASCADING SHUNT: Error during cascading conflict resolution:",p),{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}};updateTaskSchedule=async(e,n,r)=>{try{const{updateOrder:i}=xr.getState();await i(e,{scheduled_start_time:n.toISOString(),scheduled_end_time:r.toISOString()})}catch(i){console.error(` CASCADING SHUNT: Failed to update task ${e} schedule:`,i)}};checkShuntingOverlaps=(e,n,r,i=[])=>{const s=r.filter(a=>a.scheduled_machine_id===n&&a.status==="SCHEDULED"&&!i.includes(a.id));for(const a of e)for(const l of s){const u=this.splitTaskManager.checkTaskOverlap(a.start,a.end,l);if(u.hasOverlap)return{hasOverlap:!0,conflictingTask:l,conflictingSegment:u.conflictingSegment,newTaskSegment:a}}return{hasOverlap:!1}};resolveConflictByShunting=async(e,n,r,i)=>{try{const{conflictingTask:s,proposedStartTime:a,machine:l}=e,u=new Date(a),d=r.filter(A=>A.scheduled_machine_id===l.id&&A.status==="SCHEDULED"&&A.id!==i.id).sort((A,I)=>{const k=this.splitTaskManager.getTaskOccupiedSegments(A),M=this.splitTaskManager.getTaskOccupiedSegments(I),L=k.length>0?k[0].start:new Date(A.scheduled_start_time),H=M.length>0?M[0].start:new Date(I.scheduled_start_time);return L-H}),h=d.findIndex(A=>A.id===s.id);if(h===-1)throw new wt("Conflicting task not found",et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const g=this.getTaskDurationMinutes(i),p=[];let v=!1;if(n==="right")for(let A=h;A<d.length&&!v;A++){const I=d[A];if(p.push(I),A<d.length-1){const k=d[A+1],M=this.splitTaskManager.getTaskOccupiedSegments(I),L=this.splitTaskManager.getTaskOccupiedSegments(k);if(M.length>0&&L.length>0){const H=Math.max(...M.map(se=>se.end.getTime())),V=Math.min(...L.map(se=>se.start.getTime()));Math.floor((V-H)/(60*1e3))>=g&&(v=!0)}}else v=!0}else for(let A=h;A>=0&&!v;A--){const I=d[A];if(p.unshift(I),A>0){const k=d[A-1],M=this.splitTaskManager.getTaskOccupiedSegments(k),L=this.splitTaskManager.getTaskOccupiedSegments(I);if(M.length>0&&L.length>0){const H=Math.max(...M.map(se=>se.end.getTime())),V=Math.min(...L.map(se=>se.start.getTime()));Math.floor((V-H)/(60*1e3))>=g&&(v=!0)}}else{const k=this.splitTaskManager.getTaskOccupiedSegments(I);if(k.length>0){const M=Math.min(...k.map(V=>V.start.getTime())),L=new Date(M);if(L.setUTCHours(6,0,0,0),Math.floor((M-L.getTime())/(60*1e3))>=g)v=!0;else{const V=new Date(M),G=new Date(V);G.setUTCHours(6,0,0,0),V.getTime()>G.getTime()&&(v=!0)}}}}const _=new Set,b=new Set;for(const A of p)_.add(A.id),b.add(A.id);b.add(i.id);let w=0;const x=10;for(;w<x;){w++;let A=!1;const I=Array.from(_);for(const k of I){const M=d.find(se=>se.id===k)||i;if(!M)continue;let L;if(n==="right"){const se=new Date(u.getTime()+g*60*1e3);if(L=this.roundUpToNext15MinSlot(se),M.id!==i.id){const ue=Array.from(_).indexOf(k);if(ue>0){const ye=Array.from(_)[ue-1],U=d.find(Y=>Y.id===ye)||i,K=this.getTaskDurationMinutes(U),ne=new Date(L.getTime()+K*60*1e3);L=this.roundUpToNext15MinSlot(ne)}}}else{const se=u,ue=this.getTaskDurationMinutes(M);L=this.roundUpToNext15MinSlot(this.addMinutesToDate(se,-ue))}const H=this.getTaskDurationMinutes(M)/60,V=this.schedulingLogic.collectUnavailableSlots(L,new Date(L.getTime()+H*60*60*1e3),l.id);if(V.some(se=>L<se.end&&new Date(L.getTime()+H*60*60*1e3)>se.start)){const se=this.schedulingLogic.splitTaskAcrossAvailableSlots(L,H,l.id,V);for(const ue of se)for(const ye of d)!b.has(ye.id)&&ye.id!==M.id&&this.splitTaskManager.checkTaskOverlap(ue.start,ue.end,ye).hasOverlap&&(b.add(ye.id),_.add(ye.id),A=!0)}else{const se=new Date(L.getTime()+H*60*60*1e3);for(const ue of d)!b.has(ue.id)&&ue.id!==M.id&&this.splitTaskManager.checkTaskOverlap(L,se,ue).hasOverlap&&(b.add(ue.id),_.add(ue.id),A=!0)}}if(!A)break}if(w>=x)throw console.error(` SHUNTING ERROR: Maximum iterations (${x}) reached, possible infinite loop`),new wt("Too many conflicts detected during shunting",et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const E=d.filter(A=>_.has(A.id));if(p.length=0,p.push(...E),!v&&p.length===d.length){const A=this.getTaskDurationMinutes(i),I=p.length,k=l.machine_name||"Unknown Machine";console.warn(` SHUNTING WARNING: No gap found for ${A} minutes on machine ${k}`),console.warn(` All ${I} tasks on machine would need to be moved`),console.warn(" Attempting to schedule at earliest possible time...");const M=d[0],L=this.splitTaskManager.getTaskOccupiedSegments(M);if(L.length>0){const H=Math.min(...L.map(G=>G.start.getTime())),V=new Date(H);if(V.setUTCHours(6,0,0,0),V.getTime()<H)v=!0;else throw console.error(` SHUNTING FAILED: No space even at 6 AM on machine ${k}`),console.error(" Consider: 1) Moving to different machine, 2) Reducing task duration, 3) Scheduling on different day"),new wt(`Non c' spazio sufficiente per spostare i lavori. Il task ${i.odp_number} (${A} minuti) richiederebbe di spostare tutti i ${I} lavori sulla macchina ${k}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}else throw new wt(`Non c' spazio sufficiente per spostare i lavori. Il task ${i.odp_number} (${A} minuti) richiederebbe di spostare tutti i ${I} lavori sulla macchina ${k}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}const R=[];let O=null;if(n==="right"){const A=new Date(u),I=[...Array.from(b)];if(O=await this.scheduleTaskWithSplittingForShuntExcluding(i,A,l,I),O&&O.conflict)return console.warn(` CASCADING SHUNT: Dragged task ${i.odp_number} still has conflicts after cascading resolution`),{error:`Impossibile programmare il task ${i.odp_number} alla posizione richiesta. Conflitti non risolvibili automaticamente.`,conflict:O.conflict,conflictingTask:O.conflictingTask,conflictingSegment:O.conflictingSegment};let k=O.endTime?this.roundUpToNext15MinSlot(O.endTime):new Date;for(const M of p){const L=[...Array.from(b)],H=await this.scheduleTaskWithSplittingForShuntExcluding(M,k,l,L);if(!H)throw console.error(` Failed to schedule task ${M.odp_number} at ${k.toISOString()}`),new wt(`Impossibile programmare il task ${M.odp_number} alla posizione richiesta. Non c' spazio sufficiente.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(H&&H.conflict){console.warn(` CASCADING SHUNT: Task ${M.odp_number} still has conflicts after cascading resolution`);continue}R.push({id:M.id,scheduled_start_time:H.startTime?.toISOString(),scheduled_end_time:H.endTime?.toISOString()}),H.endTime&&(k=this.roundUpToNext15MinSlot(H.endTime))}}else{const A=new Date(u);let I=this.roundUpToNext15MinSlot(this.addMinutesToDate(A,-1));for(let k=p.length-1;k>=0;k--){const M=p[k],L=[...Array.from(b)],H=await this.schedulingLogic.scheduleTaskEndingAtWithSplitting(M.id,I,this.getTaskDurationMinutes(M)/60,l.id,L);if(!H)throw console.error(` Failed to schedule task ${M.odp_number} ending at ${I.toISOString()}`),new wt(`Impossibile programmare il task ${M.odp_number} alla posizione richiesta. Non c' spazio sufficiente.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(H&&H.conflict){console.warn(` CASCADING SHUNT: Task ${M.odp_number} still has conflicts after cascading resolution (LEFT direction)`);continue}R.push({id:M.id,scheduled_start_time:H.startTime?.toISOString(),scheduled_end_time:H.endTime?.toISOString()}),H.startTime&&(I=this.roundUpToNext15MinSlot(this.addMinutesToDate(H.startTime,-1)))}}if(!O){const A=new Date(u),I=[...Array.from(b)];O=await this.scheduleTaskWithSplittingForShuntExcluding(i,A,l,I)}if(!O)throw console.error(` Failed to schedule dragged task ${i.odp_number} at ${proposedStart.toISOString()}`),new wt(`Impossibile programmare il task ${i.odp_number} alla posizione richiesta. Non c' spazio sufficiente.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");R.push({id:i.id,scheduled_machine_id:l.id,scheduled_start_time:O.startTime?.toISOString(),scheduled_end_time:O.endTime?.toISOString(),status:"SCHEDULED"});for(const A of R)await Ot.updateOdpOrder(A.id,A);return Ss.getState().hideConflictDialog(),Ss.getState().showAlert("Lavori riprogrammati con successo","success"),{success:!0}}catch(s){return console.error(" SHUNTING ERROR:",s),{error:(s instanceof wt?s:new wt(s.message||"Errore durante la riprogrammazione",et.BUSINESS_LOGIC_ERROR,400,s,"ConflictResolution.resolveConflictByShunting")).message}}}}class uZ{constructor(e,n){this.get=e,this.set=n,this.updateLocks=new Map}getLockKey=(e,n)=>`${e}-${n}`;acquireLock=async(e,n)=>{const r=this.getLockKey(e,n);this.updateLocks.has(r)&&await this.updateLocks.get(r);let i;const s=new Promise(a=>{i=a});return this.updateLocks.set(r,s),i};releaseLock=(e,n)=>{const r=this.getLockKey(e,n);this.updateLocks.delete(r)};loadMachineAvailabilityForDate=async e=>{const{machineAvailability:n}=this.get();if(!n[e]?._loading&&!(n[e]&&n[e].length>=0)){this.set(r=>({machineAvailability:{...r.machineAvailability,[e]:{_loading:!0}}}));try{const r=await Ot.getMachineAvailabilityForDateAllMachines(e);this.set(i=>({machineAvailability:{...i.machineAvailability,[e]:r||[]}}))}catch(r){throw this.set(i=>{const s={...i.machineAvailability};return s[e]&&delete s[e]._loading,{machineAvailability:s}}),r}}};loadMachineAvailabilityForDateRange=async(e,n,r)=>{const i=n instanceof Date?Xn(n,"yyyy-MM-dd"):n,s=r instanceof Date?Xn(r,"yyyy-MM-dd"):r;try{const a=await Ot.getMachineAvailabilityForDateRange(e,i,s);return this.set(l=>{const u={...l.machineAvailability};return Array.isArray(a)&&a.forEach(d=>{if(d.date&&d.unavailable_hours){const h=d.date;u[h]||(u[h]=[]);const g=u[h].find(p=>p.machine_id===e);g?g.unavailable_hours=d.unavailable_hours:u[h].push({machine_id:e,date:h,unavailable_hours:d.unavailable_hours})}}),{machineAvailability:u}}),a}catch(a){throw a}};getMachineAvailability=async(e,n)=>{try{const r=this.get().machineAvailability[n];if(r&&Array.isArray(r)){const s=r.find(a=>a.machine_id===e);if(s)return s.unavailable_hours||[]}const i=await Ot.getMachineAvailabilityForDate(e,n);if(i){const s=(i.unavailable_hours||[]).map(a=>a.toString());return this.set(a=>{const l={...a.machineAvailability};l[n]||(l[n]=[]);const u=l[n].find(d=>d.machine_id===e);return u?u.unavailable_hours=s:l[n].push({machine_id:e,date:n,unavailable_hours:s}),{machineAvailability:l}}),s}return[]}catch{return[]}};loadMachineAvailabilityForMachine=async(e,n,r)=>{const i={};try{try{await Ot.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let s=new Date(n);for(;s<=r;){const a=Xn(s,"yyyy-MM-dd");this.get().machineAvailability[a]||await this.loadMachineAvailabilityForDate(a);const u=this.get().machineAvailability[a];if(Array.isArray(u)){const d=u.find(h=>h.machine_id===e);d&&(i[a]=d.unavailable_hours||[])}s=rh(s,1)}return i}catch{return{}}};isTimeSlotUnavailable=async(e,n,r)=>(await this.getMachineAvailability(e,n)).includes(r.toString());setMachineAvailability=async(e,n,r)=>{const i=await this.acquireLock(e,n);try{const{getOdpOrders:s}=xr.getState(),a=s().filter(p=>p.scheduled_machine_id===e&&p.status==="SCHEDULED"&&p.scheduled_start_time&&p.scheduled_end_time),[l,u,d]=n.split("-").map(Number),h=new Date(Date.UTC(l,u-1,d)),g=new Date(h.getTime()+1440*60*1e3);for(const p of a){const v=new Date(p.scheduled_start_time),_=new Date(p.scheduled_end_time);if(v<g&&_>h)for(const b of r){const w=new Date(h.getTime()+parseInt(b)*60*60*1e3),x=new Date(w.getTime()+3600*1e3);if(w<_&&x>v)throw new wt(`Cannot set machine unavailable during scheduled task: ${p.odp_number}`,et.BUSINESS_LOGIC_ERROR,400,null,"MachineAvailabilityManager.setMachineUnavailability")}}return await Ot.setMachineAvailability(e,n,r),this.set(p=>{const v={...p.machineAvailability};v[n]||(v[n]=[]);const _=v[n].find(b=>b.machine_id===e);return _?_.unavailable_hours=r:v[n].push({machine_id:e,date:n,unavailable_hours:r}),{machineAvailability:v}}),Ss.getState().showAlert(`Machine availability updated successfully for ${n}`,"success"),!0}catch(s){const a=hl(s,"Machine Availability");throw Ss.getState().showAlert(a.message,"error"),a}finally{i(),this.releaseLock(e,n)}};toggleMachineHourAvailability=async(e,n,r)=>{const i=await this.acquireLock(e,n);try{const s=await this.getMachineAvailability(e,n),a=r.toString();let l;return s.includes(a)?l=s.filter(u=>u!==a):l=[...s,a].sort((u,d)=>parseInt(u)-parseInt(d)),await Ot.setMachineAvailability(e,n,l),this.set(u=>{const d={...u.machineAvailability};d[n]||(d[n]=[]);const h=d[n].find(g=>g.machine_id===e);return h?h.unavailable_hours=l:d[n].push({machine_id:e,date:n,unavailable_hours:l}),{machineAvailability:d}}),Ss.getState().showAlert(`Time slot ${a}:00 updated successfully`,"success"),!0}catch(s){const a=hl(s,"Machine Availability");throw Ss.getState().showAlert(a.message,"error"),a}finally{i(),this.releaseLock(e,n)}};setMachineUnavailability=async(e,n,r,i,s)=>{try{const a=await Ot.setUnavailableHoursForRange(e,n,r,i,s),l=new Date(n),u=new Date(r),d=await this.loadMachineAvailabilityForDateRange(e,l,u);return d&&Array.isArray(d)&&this.set(h=>{const g={...h.machineAvailability};return d.forEach(p=>{if(p.date&&p.unavailable_hours){const v=Xn(new Date(p.date),"yyyy-MM-dd");g[v]||(g[v]=[]);const _=g[v].find(b=>b.machine_id===e);_?_.unavailable_hours=p.unavailable_hours:g[v].push({machine_id:e,date:v,unavailable_hours:p.unavailable_hours})}}),{machineAvailability:g}}),a}catch(a){throw a}};isMachineAvailabilityAccessible=async()=>{try{return await Ot.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}};getMachineAvailabilityStatus=async()=>{try{const e=await this.isMachineAvailabilityAccessible();return{accessible:e,message:e?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(e){return{accessible:!1,message:`Error checking table: ${e.message}`}}};initializeEmptyMachineAvailability=()=>{const{machineAvailability:e}=this.get(),n={...e};this.set({machineAvailability:n})}}const ih=nh((t,e)=>{const n=new oZ(e,t),r=new uZ(e,t),i=new lZ(e,t,n,r),s=new cZ(e,t,i,n);return{machineAvailability:{},shuntPreview:null,splitTasksInfo:{},getMachineAvailabilityState:()=>e().machineAvailability,getSplitTaskInfo:a=>n.getSplitTaskInfo(a),setMachineAvailabilityState:a=>t({machineAvailability:a}),setShuntPreview:a=>t({shuntPreview:a}),clearShuntPreview:()=>t({shuntPreview:null}),setSplitTaskInfo:n.setSplitTaskInfo,clearSplitTaskInfo:n.clearSplitTaskInfo,updateSplitTaskInfo:n.updateSplitTaskInfo,restoreSplitTaskInfo:n.restoreSplitTaskInfo,updateTaskWithSplitInfo:n.updateTaskWithSplitInfo,getTaskOccupiedSegments:n.getTaskOccupiedSegments,checkTaskOverlap:n.checkTaskOverlap,checkMachineOverlaps:n.checkMachineOverlaps,migrateExistingTasksToSegmentFormat:n.migrateExistingTasksToSegmentFormat,verifyAllTasksHaveSegmentInfo:n.verifyAllTasksHaveSegmentInfo,createAbsoluteDate:i.createAbsoluteDate,splitTaskAcrossAvailableSlots:i.splitTaskAcrossAvailableSlots,collectUnavailableSlots:i.collectUnavailableSlots,scheduleTaskWithSplitting:i.scheduleTaskWithSplitting,findAdjacentTasksChain:i.findAdjacentTasksChain,handleTaskDurationShrinking:i.handleTaskDurationShrinking,scheduleTaskFromSlot:async(a,l,u,d,h,g=null,p=null)=>{const{startSchedulingOperation:v,stopSchedulingOperation:_}=Ss.getState();try{v("schedule",a);const{getOrderById:b,getOdpOrders:w}=xr.getState(),{getMachineById:x}=tf.getState(),E=b(a),R=x(l.id),O=w();if(!E||!R)return{error:"Task or machine not found"};const A=u.getUTCFullYear(),I=u.getUTCMonth()+1,k=u.getUTCDate(),M=i.createAbsoluteDate(A,I,k,d,h),L=g||E.time_remaining||E.duration||1;console.log(" SCHEDULER: Using duration:",L,"overrideDuration:",g);const H={machine:l.id,start_time:M.toISOString(),end_time:ND(M,L).toISOString()};console.log(" SCHEDULER: Calling scheduleTask with:",{taskId:a,scheduleData:H,overrideDuration:g});const V=await e().scheduleTask(a,H,O,g,p);return console.log(" SCHEDULER: scheduleTask result:",V),V}catch(b){return{error:hl(b,"SchedulerStore.scheduleTaskFromSlot").message}}finally{_()}},rescheduleTaskToSlot:async(a,l,u,d,h,g=null)=>{const{startSchedulingOperation:p,stopSchedulingOperation:v}=Ss.getState();try{p("reschedule",a);const{getOrderById:_,getOdpOrders:b}=xr.getState(),{getMachineById:w}=tf.getState(),x=_(a),E=w(l.id),R=b();if(!x||!E)return{error:"Event or machine not found"};const O=u.getUTCFullYear(),A=u.getUTCMonth()+1,I=u.getUTCDate(),k=i.createAbsoluteDate(O,A,I,d,h),M=x.time_remaining||x.duration||1,L={machine:l.id,start_time:k.toISOString(),end_time:ND(k,M).toISOString()};return await e().scheduleTask(a,L,R,null,g)}catch(_){return{error:hl(_,"SchedulerStore.rescheduleTaskToSlot").message}}finally{v()}},scheduleTask:async(a,l,u=null,d=null,h=null)=>{try{console.log(" SCHEDULER: scheduleTask called with:",{taskId:a,eventData:l,overrideDuration:d});const{getOrderById:g,getOdpOrders:p}=xr.getState(),{getMachineById:v}=tf.getState(),_=g(a),b=v(l.machine),w=u||p();if(console.log(" SCHEDULER: Task found:",_?.odp_number,"Machine found:",b?.name),_&&b&&_.work_center&&b.work_center&&_.work_center!==b.work_center)return{error:`Work center mismatch: task requires '${_.work_center}' but machine is '${b.work_center}'`};const x=new Date(l.start_time),E=d||_.time_remaining||_.duration||1;console.log(" SCHEDULER: scheduleTask using duration:",E,"overrideDuration:",d),console.log(" SCHEDULER: Calling scheduleTaskWithSplitting with:",{taskId:a,newStart:x.toISOString(),timeRemainingHours:E,machineId:l.machine});const R=await i.scheduleTaskWithSplitting(a,x,E,l.machine);if(console.log(" SCHEDULER: scheduleTaskWithSplitting result:",R),!R)return{error:"No available time slots found for this task"};if(R.conflict)return{conflict:!0,conflictingTask:R.conflictingTask,draggedTask:_,proposedStartTime:l.start_time,proposedEndTime:l.end_time,machine:b,conflictingSegment:R.conflictingSegment,proposedSegments:R.proposedSegments,tasks:w};l.start_time=R.startTime.toISOString(),l.end_time=R.endTime.toISOString();const O={scheduled_machine_id:l.machine,scheduled_start_time:l.start_time,scheduled_end_time:l.end_time,status:"SCHEDULED"};if(R.segments){const k={segments:R.segments,totalSegments:R.segments.length,originalDuration:R.originalDuration||_.time_remaining||_.duration||1,wasSplit:R.wasSplit||!1};O.description=JSON.stringify(k)}const{apiService:A}=await rs(async()=>{const{apiService:k}=await Promise.resolve().then(()=>bw);return{apiService:k}},void 0),I=await A.updateOdpOrder(a,O);if(R.segments){const k={segments:R.segments,totalSegments:R.segments.length,originalDuration:R.originalDuration||_.time_remaining||_.duration||1,wasSplit:R.wasSplit||!1};n.setSplitTaskInfo(a,k)}return h&&(h.invalidateQueries({queryKey:["orders"]}),h.invalidateQueries({queryKey:["orders",a]})),{success:!0,updatedTask:I,schedulingResult:R}}catch(g){return{error:hl(g,"SchedulerStore.scheduleTask").message}}},unscheduleTask:async(a,l=null)=>{const{startSchedulingOperation:u,stopSchedulingOperation:d}=Ss.getState();try{u("unschedule",a),n.clearSplitTaskInfo(a);const h={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,status:"NOT SCHEDULED",description:""},{apiService:g}=await rs(async()=>{const{apiService:p}=await Promise.resolve().then(()=>bw);return{apiService:p}},void 0);return await g.updateOdpOrder(a,h),l&&(l.invalidateQueries({queryKey:["orders"]}),l.invalidateQueries({queryKey:["orders",a]})),{success:!0}}catch(h){return{error:hl(h,"SchedulerStore.unscheduleTask").message}}finally{d()}},loadMachineAvailabilityForDate:r.loadMachineAvailabilityForDate,loadMachineAvailabilityForDateRange:r.loadMachineAvailabilityForDateRange,getMachineAvailability:r.getMachineAvailability,loadMachineAvailabilityForMachine:r.loadMachineAvailabilityForMachine,isTimeSlotUnavailable:r.isTimeSlotUnavailable,setMachineAvailability:r.setMachineAvailability,toggleMachineHourAvailability:r.toggleMachineHourAvailability,setMachineUnavailability:r.setMachineUnavailability,isMachineAvailabilityAccessible:r.isMachineAvailabilityAccessible,getMachineAvailabilityStatus:r.getMachineAvailabilityStatus,initializeEmptyMachineAvailability:r.initializeEmptyMachineAvailability,resolveConflictByShunting:async(a,l,u=null)=>{const{startSchedulingOperation:d,stopSchedulingOperation:h}=Ss.getState();try{d("shunt",a.draggedTask?.id);const{getOdpOrders:g}=xr.getState(),p=g(),v=await s.resolveConflictByShunting(a,l,p,a.draggedTask);if(v&&!v.error&&u){console.log(" SHUNTING: Invalidating React Query cache to refresh UI");const _=[u.invalidateQueries({queryKey:["orders"]}),u.invalidateQueries({queryKey:["machines"]})];a.draggedTask?.id&&_.push(u.invalidateQueries({queryKey:["orders",a.draggedTask.id]})),await Promise.all(_)}return v}catch(g){return console.error(" SHUNTING ERROR in scheduler store:",g),{error:g.message||"Errore durante lo spostamento del task"}}finally{h()}},validateSlotAvailability:async(a,l,u,d)=>{try{const h=Xn(l,"yyyy-MM-dd");if(await e().isTimeSlotUnavailable(a.id,h,u))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:p}=xr.getState(),v=new Date(l);v.setUTCHours(u,d,0,0);const _=new Date(v.getTime()+3600*1e3),b=p().filter(w=>w.scheduled_machine_id===a.id&&w.status==="SCHEDULED"&&w.scheduled_start_time);for(const w of b){const x=new Date(w.scheduled_start_time),E=w.time_remaining||w.duration||1,R=new Date(x.getTime()+E*60*60*1e3);if(v<R&&_>x)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch(h){return{error:hl(h,"SchedulerStore.validateSlotAvailability").message}}},getEventsByDate:async a=>{try{return await Ot.getEventsByDate(a)}catch{return[]}},reset:()=>t({machineAvailability:{},shuntPreview:null,splitTasksInfo:{}})}}),V2=()=>{const t=N.useCallback(d=>{if(!d||!d.department)return{isValid:!1,error:"Invalid phase data"};const{department:h}=d;if(h==="STAMPA"){const g=parseFloat(d.v_stampa);if(isNaN(g)||g<=0)return{isValid:!1,error:"Velocit di stampa non valida. Inserisci un valore maggiore di zero."}}else if(h==="CONFEZIONAMENTO"){const g=parseFloat(d.v_conf);if(isNaN(g)||g<=0)return{isValid:!1,error:"Velocit di confezionamento non valida. Inserisci un valore maggiore di zero."}}else return{isValid:!1,error:"Reparto non riconosciuto"};return{isValid:!0}},[]),e=N.useCallback((d,h,g)=>{if(!d||!h||d.department==="STAMPA"&&!g||!t(d).isValid)return null;try{const{department:v}=d;if(v==="STAMPA"){const _=parseFloat(d.v_stampa),b=parseFloat(d.t_setup_stampa)||0,w=parseFloat(d.costo_h_stampa)||0;if(isNaN(_)||_<=0)return null;const E=g*h/1e3/_,R=E+b,O=R*w;return{totals:{duration:R,cost:O},breakdown:{print:{time:E,cost:E*w},setup:{time:b,cost:b*w}}}}else if(v==="CONFEZIONAMENTO"){const _=parseFloat(d.v_conf),b=parseFloat(d.t_setup_conf)||0,w=parseFloat(d.costo_h_conf)||0;if(isNaN(_)||_<=0)return null;const x=h/_,E=b,R=x+E,O=R*w;return{totals:{duration:R,cost:O},breakdown:{package:{time:x,cost:x*w},setup:{time:E,cost:E*w}}}}return null}catch{return null}},[t]),n=N.useCallback(d=>d&&(d.startsWith("P05")||d.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),r=N.useCallback(d=>d&&d.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),i=N.useCallback(d=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[d]||[],[]),s=N.useCallback((d,h)=>{const p={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[d]||"MACH",v=h==="BUSTO_GAROLFO"?"BGF":"ZAN",_=Date.now().toString(36);return`${p}_${v}_${_}`},[]),a=N.useCallback((d,h)=>!(h<0||h>d),[]),l=N.useCallback((d,h)=>!d||d===0?0:Math.round(h*100/d),[]),u=N.useCallback((d,h)=>!d||d===0?0:!h||h===0?d:Math.round(d*(1-h/100)*100)/100,[]);return{calculateProductionMetrics:e,validatePhaseParameters:t,autoDetermineWorkCenter:n,autoDetermineDepartment:r,getValidMachineTypes:i,generateMachineId:s,validateQuantityCompleted:a,calculateCompletionRate:l,calculateTimeRemaining:u}};var $0,zD;function dZ(){if(zD)return $0;zD=1;function t(x){this._maxSize=x,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(x){return this._values[x]},t.prototype.set=function(x,E){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=E};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),u=new t(a),d=new t(a);$0={Cache:t,split:g,normalizePath:h,setter:function(x){var E=h(x);return u.get(x)||u.set(x,function(O,A){for(var I=0,k=E.length,M=O;I<k-1;){var L=E[I];if(L==="__proto__"||L==="constructor"||L==="prototype")return O;M=M[E[I++]]}M[E[I]]=A})},getter:function(x,E){var R=h(x);return d.get(x)||d.set(x,function(A){for(var I=0,k=R.length;I<k;)if(A!=null||!E)A=A[R[I++]];else return;return A})},join:function(x){return x.reduce(function(E,R){return E+(v(R)||n.test(R)?"["+R+"]":(E?".":"")+R)},"")},forEach:function(x,E,R){p(Array.isArray(x)?x:g(x),E,R)}};function h(x){return l.get(x)||l.set(x,g(x).map(function(E){return E.replace(s,"$2")}))}function g(x){return x.match(e)||[""]}function p(x,E,R){var O=x.length,A,I,k,M;for(I=0;I<O;I++)A=x[I],A&&(w(A)&&(A='"'+A+'"'),M=v(A),k=!M&&/^\d+$/.test(A),E.call(R,A,M,k,I,x))}function v(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function _(x){return x.match(r)&&!x.match(n)}function b(x){return i.test(x)}function w(x){return!v(x)&&(_(x)||b(x))}return $0}var wl=dZ(),V0,HD;function fZ(){if(HD)return V0;HD=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(t)||[],n=h=>h[0].toUpperCase()+h.slice(1),r=(h,g)=>e(h).join(g).toLowerCase(),i=h=>e(h).reduce((g,p)=>`${g}${g?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return V0={words:e,upperFirst:n,camelCase:i,pascalCase:h=>n(i(h)),snakeCase:h=>r(h,"_"),kebabCase:h=>r(h,"-"),sentenceCase:h=>n(r(h," ")),titleCase:h=>e(h).map(n).join(" ")},V0}var q0=fZ(),rm={exports:{}},BD;function hZ(){if(BD)return rm.exports;BD=1,rm.exports=function(i){return t(e(i),i)},rm.exports.array=t;function t(i,s){var a=i.length,l=new Array(a),u={},d=a,h=n(s),g=r(i);for(s.forEach(function(v){if(!g.has(v[0])||!g.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)u[d]||p(i[d],d,new Set);return l;function p(v,_,b){if(b.has(v)){var w;try{w=", node was:"+JSON.stringify(v)}catch{w=""}throw new Error("Cyclic dependency"+w)}if(!g.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!u[_]){u[_]=!0;var x=h.get(v)||new Set;if(x=Array.from(x),_=x.length){b.add(v);do{var E=x[--_];p(E,g.get(E),b)}while(_);b.delete(v)}l[--a]=v}}}function e(i){for(var s=new Set,a=0,l=i.length;a<l;a++){var u=i[a];s.add(u[0]),s.add(u[1])}return Array.from(s)}function n(i){for(var s=new Map,a=0,l=i.length;a<l;a++){var u=i[a];s.has(u[0])||s.set(u[0],new Set),s.has(u[1])||s.set(u[1],new Set),s.get(u[0]).add(u[1])}return s}function r(i){for(var s=new Map,a=0,l=i.length;a<l;a++)s.set(i[a],a);return s}return rm.exports}var gZ=hZ();const mZ=Co(gZ),pZ=Object.prototype.toString,vZ=Error.prototype.toString,yZ=RegExp.prototype.toString,bZ=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",_Z=/^Symbol\((.*)\)(.*)$/;function wZ(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function $D(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return wZ(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return bZ.call(t).replace(_Z,"Symbol($1)");const r=pZ.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+vZ.call(t)+"]":r==="RegExp"?yZ.call(t):null}function fa(t,e){let n=$D(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=$D(this[r],e);return s!==null?s:i},2)}function q2(t){return t==null?[]:[].concat(t)}let W2,G2,Y2,SZ=/\$\{\s*(\w+)\s*\}/g;W2=Symbol.toStringTag;class VD{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[W2]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],q2(e).forEach(s=>{if(Sr.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}G2=Symbol.hasInstance;Y2=Symbol.toStringTag;class Sr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(SZ,(i,s)=>fa(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const a=new VD(e,n,r,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Y2]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Sr)}static[G2](e){return VD[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let bs={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${fa(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${fa(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${fa(n,!0)}\``+i}},Fr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},no={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},_w={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},xZ={isValue:"${path} field must be ${value}"},Mm={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},km={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},EZ={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${fa(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${fa(n,!0)}\``}return Sr.formatError(bs.notType,t)}};Object.assign(Object.create(null),{mixed:bs,string:Fr,number:no,date:_w,object:Mm,array:km,boolean:xZ,tuple:EZ});const uv=t=>t&&t.__isYupSchema__;class cp{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,a=typeof r=="function"?r:(...l)=>l.every(u=>u===r);return new cp(e,(l,u)=>{var d;let h=a(...l)?i:s;return(d=h?.(u))!=null?d:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n?.value,n?.parent,n?.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!uv(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const im={context:"$",value:"."};class Fl{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===im.context,this.isValue=this.key[0]===im.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?im.context:this.isValue?im.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&wl.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Fl.prototype.__isYupRef=!0;const la=t=>t==null;function zc(t){function e({value:n,path:r="",options:i,originalValue:s,schema:a},l,u){const{name:d,test:h,params:g,message:p,skipAbsent:v}=t;let{parent:_,context:b,abortEarly:w=a.spec.abortEarly,disableStackTrace:x=a.spec.disableStackTrace}=i;const E={value:n,parent:_,context:b};function R(V={}){const G=K2(Object.assign({value:n,originalValue:s,label:a.spec.label,path:V.path||r,spec:a.spec,disableStackTrace:V.disableStackTrace||x},g,V.params),E),se=new Sr(Sr.formatError(V.message||p,G),n,G.path,V.type||d,G.disableStackTrace);return se.params=G,se}const O=w?l:u;let A={path:r,parent:_,type:d,from:i.from,createError:R,resolve(V){return Q2(V,E)},options:i,originalValue:s,schema:a};const I=V=>{Sr.isError(V)?O(V):V?u(null):O(R())},k=V=>{Sr.isError(V)?O(V):l(V)};if(v&&la(n))return I(!0);let L;try{var H;if(L=h.call(A,n,A),typeof((H=L)==null?void 0:H.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(L).then(I,k)}}catch(V){k(V);return}I(L)}return e.OPTIONS=t,e}function K2(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=Q2(t[n],e);return t}function Q2(t,e){return Fl.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function RZ(t,e,n,r=n){let i,s,a;return e?(wl.forEach(e,(l,u,d)=>{let h=u?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:i,value:n});let g=t.type==="tuple",p=d?parseInt(h,10):0;if(t.innerType||g){if(g&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[p],t=g?t.spec.types[p]:t.innerType}if(!d){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);i=n,n=n&&n[h],t=t.fields[h]}s=h,a=u?"["+l+"]":"."+l}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class up extends Set{describe(){const e=[];for(const n of this.values())e.push(Fl.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new up(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Yc(t,e=new Map){if(uv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Yc(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Yc(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Yc(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Yc(i,e)}else throw Error(`Unable to clone ${t}`);return n}function CZ(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,i=!1;for(let s=0;s<t.length;s++){const a=t[s];if(a==="["&&!i){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(a==="]"&&!i){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(a==='"'){i=!i;continue}if(a==="."&&!r&&!i){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function TZ(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:CZ(n)}))}function X2(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return TZ(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(i=>X2(i,r))}class Fi{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new up,this._blacklist=new up,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(bs.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Yc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({},n,{value:e})),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&la(s))return s;let a=fa(e),l=fa(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this,n),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:a=e,strict:l=this.spec.strict}=n,u=e;l||(u=this._cast(u,Object.assign({assert:!1},n)));let d=[];for(let h of Object.values(this.internalTests))h&&d.push(h);this.runTests({path:s,value:u,originalValue:a,options:n,tests:d},r,h=>{if(h.length)return i(h,u);this.runTests({path:s,value:u,originalValue:a,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:a,originalValue:l,path:u,options:d}=e,h=b=>{i||(i=!0,n(b,a))},g=b=>{i||(i=!0,r(b,a))},p=s.length,v=[];if(!p)return g([]);let _={value:a,originalValue:l,path:u,options:d,schema:this};for(let b=0;b<s.length;b++){const w=s[b];w(_,h,function(E){E&&(Array.isArray(E)?v.push(...E):v.push(E)),--p<=0&&g(v)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let d=r[l];const h=Object.assign({},a,{strict:!0,parent:r,value:d,originalValue:s[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${i||""}[${u?l:`"${l}"`}]`:(i?`${i}.`:"")+e});return(g,p,v)=>this.resolve(h)._validate(d,h,p,v)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n?.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((a,l)=>i._validate(e,n,(u,d)=>{Sr.isError(u)&&(u.value=d),l(u)},(u,d)=>{u.length?l(new Sr(u,d,void 0,void 0,s)):a(d)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,a=(r=n?.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(l,u)=>{throw Sr.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new Sr(l,e,void 0,void 0,a);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Sr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Sr.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Yc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=zc({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=zc({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=bs.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=bs.notNull){return this.nullability(!1,e)}required(e=bs.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=bs.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=zc(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=q2(e).map(s=>new Fl(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new cp(i,n):cp.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=zc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=bs.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=zc({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),r}notOneOf(e,n=bs.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=zc({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:a}=n.spec;return{meta:i,label:r,optional:s,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((u,d,h)=>h.findIndex(g=>g.OPTIONS.name===u.OPTIONS.name)===d).map(u=>{const d=u.OPTIONS.params&&e?K2(Object.assign({},u.OPTIONS.params),e):u.OPTIONS.params;return{name:u.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(i){if(i instanceof Sr)return{issues:X2(i)};throw i}}}}}Fi.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Fi.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:a}=RZ(this,e,n,r.context);return a[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Fi.prototype[t]=Fi.prototype.oneOf;for(const t of["not","nope"])Fi.prototype[t]=Fi.prototype.notOneOf;const AZ=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function OZ(t){const e=ww(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function ww(t){var e,n;const r=AZ.exec(t);return r?{year:Zs(r[1]),month:Zs(r[2],1)-1,day:Zs(r[3],1),hour:Zs(r[4]),minute:Zs(r[5]),second:Zs(r[6]),millisecond:r[7]?Zs(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Zs(r[10]),minuteOffset:Zs(r[11])}:null}function Zs(t,e=0){return Number(t)||e}let DZ=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,MZ=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,kZ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,NZ="^\\d{4}-\\d{2}-\\d{2}",IZ="\\d{2}:\\d{2}:\\d{2}",PZ="(([+-]\\d{2}(:?\\d{2})?)|Z)",jZ=new RegExp(`${NZ}T${IZ}(\\.\\d+)?${PZ}$`),LZ=t=>la(t)||t===t.trim(),FZ={}.toString();function zr(){return new Z2}class Z2 extends Fi{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===FZ?e:r})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||bs.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Fr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Fr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Fr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Fr.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=Fr.email){return this.matches(DZ,{name:"email",message:e,excludeEmptyString:!0})}url(e=Fr.url){return this.matches(MZ,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Fr.uuid){return this.matches(kZ,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(jZ,{name:"datetime",message:n||Fr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Fr.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const a=ww(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Fr.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const a=ww(s);return a?a.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Fr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:LZ})}lowercase(e=Fr.lowercase){return this.transform(n=>la(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>la(n)||n===n.toLowerCase()})}uppercase(e=Fr.uppercase){return this.transform(n=>la(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>la(n)||n===n.toUpperCase()})}}zr.prototype=Z2.prototype;let UZ=t=>t!=+t;function zn(){return new J2}class J2 extends Fi{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!UZ(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let r=e;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)||r===null?r:parseFloat(r)})})}min(e,n=no.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=no.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=no.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=no.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=no.positive){return this.moreThan(0,e)}negative(e=no.negative){return this.lessThan(0,e)}integer(e=no.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>la(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>la(i)?i:Math[e](i))}}zn.prototype=J2.prototype;let ej=new Date(""),zZ=t=>Object.prototype.toString.call(t)==="[object Date]";function nf(){return new sh}class sh extends Fi{constructor(){super({type:"date",check(e){return zZ(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=OZ(e),isNaN(e)?sh.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Fl.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=_w.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=_w.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}sh.INVALID_DATE=ej;nf.prototype=sh.prototype;nf.INVALID_DATE=ej;function HZ(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([a,l])=>`${a}-${l}`));function s(a,l){let u=wl.split(a)[0];r.add(u),i.has(`${l}-${u}`)||n.push([l,u])}for(const a of Object.keys(t)){let l=t[a];r.add(a),Fl.isRef(l)&&l.isSibling?s(l.path,a):uv(l)&&"deps"in l&&l.deps.forEach(u=>s(u,a))}return mZ.array(Array.from(r),n).reverse()}function qD(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function tj(t){return(e,n)=>qD(t,e)-qD(t,n)}const nj=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Nm(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Nm(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Nm(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Nm)}):"optional"in t?t.optional():t}const BZ=(t,e)=>{const n=[...wl.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=wl.getter(wl.join(n),!0)(t);return!!(i&&r in i)};let WD=t=>Object.prototype.toString.call(t)==="[object Object]";function GD(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const $Z=tj([]);function Do(t){return new rj(t)}class rj extends Fi{constructor(e){super({type:"object",check(n){return WD(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=$Z,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(i).filter(g=>!this._nodes.includes(g))),u={},d=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const g of l){let p=s[g],v=g in i,_=i[g];if(p){let b;d.path=(n.path?`${n.path}.`:"")+g,p=p.resolve({value:_,context:n.context,parent:u});let w=p instanceof Fi?p.spec:void 0,x=w?.strict;if(w!=null&&w.strip){h=h||g in i;continue}b=!n.__validating||!x?p.cast(_,d):_,b!==void 0&&(u[g]=b)}else v&&!a&&(u[g]=_);(v!==g in u||u[g]!==_)&&(h=!0)}return h?u:i}_validate(e,n={},r,i){let{from:s=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...s],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(u,d)=>{if(!l||!WD(d)){i(u,d);return}a=a||d;let h=[];for(let g of this._nodes){let p=this.fields[g];!p||Fl.isRef(p)||h.push(p.asNestedTest({options:n,key:g,parent:d,parentPath:n.path,originalParent:a}))}this.runTests({tests:h,value:d,originalValue:a,options:n},r,g=>{i(g.sort(this._sortErrors).concat(u),d)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const a=r[i];r[i]=a===void 0?s:a}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=HZ(e,n),r._sortErrors=tj(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Nm(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=wl.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return BZ(s,e)&&(a=Object.assign({},s),r||delete a[e],a[n]=i(s)),a})}json(){return this.transform(nj)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Mm.exact,test(n){if(n==null)return!0;const r=GD(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Mm.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=GD(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Mm.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(q0.camelCase)}snakeCase(){return this.transformKeys(q0.snakeCase)}constantCase(){return this.transformKeys(e=>q0.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,a]of Object.entries(n.fields)){var i;let l=e;(i=l)!=null&&i.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),r.fields[s]=a.describe(l)}return r}}Do.prototype=rj.prototype;function ij(t){return new sj(t)}class sj extends Fi{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((a,l)=>{const u=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${l}]`,parent:r,originalValue:a,value:a,index:l}));return u!==a&&(i=!0),u});return i?s:r}_validate(e,n={},r,i){var s;let a=this.innerType,l=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(u,d)=>{var h;if(!l||!a||!this._typeCheck(d)){i(u,d);return}let g=new Array(d.length);for(let v=0;v<d.length;v++){var p;g[v]=a.asNestedTest({options:n,index:v,parent:d,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:d,tests:g,originalValue:(h=n.originalValue)!=null?h:e,options:n},r,v=>i(v.concat(u),d))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(nj)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!uv(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+fa(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=km.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||km.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||km.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),r.innerType=n.innerType.describe(s)}return r}}ij.prototype=sj.prototype;const dn=zr().required("This field is required");zn().required("This field is required").min(0,"Value must be at least 0");const ps=zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Value must be at least 0"),VZ=t=>t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0,qZ=Do({machine_name:dn.min(2,"Machine name must be at least 2 characters").max(100,"Machine name must be at most 100 characters").matches(/^[a-zA-Z0-9\s\-_]+$/,"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"),machine_type:dn,department:dn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:dn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),status:dn.oneOf(["ACTIVE","INACTIVE"],"Invalid status"),min_web_width:ps,max_web_width:ps,min_bag_height:ps,max_bag_height:ps,standard_speed:ps,setup_time_standard:ps,changeover_color:ps,changeover_material:ps,active_shifts:ij().of(zr().oneOf(["T1","T2","T3"]))}).test("web-width-logic","Minimum web width cannot exceed maximum web width",function(t){return t.min_web_width&&t.max_web_width?t.min_web_width<=t.max_web_width:!0}).test("bag-height-logic","Minimum bag height cannot exceed maximum bag height",function(t){return t.min_bag_height&&t.max_bag_height?t.min_bag_height<=t.max_bag_height:!0}),WZ=Do({name:dn.min(2,"Phase name must be at least 2 characters").max(100,"Phase name must be at most 100 characters"),department:dn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:dn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),numero_persone:zn().required("Number of people is required").min(1,"Number of people must be at least 1"),bag_width:ps,bag_step:ps,v_stampa:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Printing speed must be greater than 0")}),t_setup_stampa:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_stampa:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Hourly cost cannot be negative")}),v_conf:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Packaging speed must be greater than 0")}),t_setup_conf:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_conf:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Hourly cost cannot be negative")})}).test("bag-width-step-logic","Bag width cannot be less than bag step",VZ),YD=Do({odp_number:dn.min(1,"Il numero ODP  obbligatorio"),article_code:dn.min(1,"Il codice articolo  obbligatorio"),work_center:dn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Seleziona un centro di lavoro valido"),nome_cliente:dn.min(1,"Il nome del cliente  obbligatorio"),quantity:zn().required("La quantit  obbligatoria").min(0,"La quantit deve essere maggiore o uguale a 0").typeError("La quantit deve essere un numero valido"),delivery_date:nf().required("La data di consegna  obbligatoria").typeError("Inserisci una data di consegna valida"),customer_order_ref:dn.min(1,"Il riferimento ordine cliente  obbligatorio"),department:dn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Seleziona un reparto valido"),status:zr().oneOf(["NOT SCHEDULED","SCHEDULED","IN PROGRESS","COMPLETED","CANCELLED"],"Stato non valido").default("NOT SCHEDULED"),quantity_completed:zn().min(0,"La quantit completata deve essere maggiore o uguale a 0").default(0),production_lot:zr().nullable(),description:zr().nullable(),bag_height:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"L'altezza busta deve essere maggiore o uguale a 0"),bag_width:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La larghezza busta deve essere maggiore o uguale a 0"),bag_step:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il passo busta deve essere maggiore o uguale a 0"),seal_sides:zn().nullable().transform(t=>isNaN(t)?null:t).oneOf([3,4],"I lati di sigillatura devono essere 3 o 4"),product_type:zr().nullable().oneOf(["CREMA","LIQUIDO","POLVERI"],"Seleziona un tipo di prodotto valido"),internal_customer_code:zr().nullable().test("not-empty-if-provided","Il codice cliente interno non pu essere vuoto",function(t){return!t||t.trim().length>0}),external_customer_code:zr().nullable().test("not-empty-if-provided","Il codice cliente esterno non pu essere vuoto",function(t){return!t||t.trim().length>0}),fase:zr().nullable(),duration:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La durata deve essere maggiore o uguale a 0"),cost:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il costo deve essere maggiore o uguale a 0"),scheduled_start_time:nf().nullable(),scheduled_end_time:nf().nullable(),scheduled_machine_id:zr().nullable(),user_notes:zr().nullable(),asd_notes:zr().nullable(),material_availability_global:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Material availability must be between 0 and 100").max(100,"Material availability must be between 0 and 100")}).test("bag-width-step-logic","La larghezza busta non pu essere minore del passo busta",function(t){return t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0}).test("quantity-completed-logic","La quantit completata non pu superare la quantit totale",function(t){return t.quantity&&t.quantity_completed!==void 0?t.quantity_completed<=t.quantity:!0}).test("scheduled-time-order","L'ora di fine programmata deve essere dopo l'ora di inizio",function(t){return t.scheduled_start_time&&t.scheduled_end_time?new Date(t.scheduled_end_time)>new Date(t.scheduled_start_time):!0}).test("scheduling-logic","I campi di programmazione devono essere tutti forniti o tutti nulli",function(t){const e=!!t.scheduled_start_time,n=!!t.scheduled_end_time,r=!!t.scheduled_machine_id;return e&&n&&r||!e&&!n&&!r}),GZ=Do({startDate:dn,startTime:dn,endDate:dn,endTime:dn}).test("date-logic","End date cannot be before start date",function(t){return t.startDate&&t.endDate?new Date(t.startDate)<=new Date(t.endDate):!0}).test("time-logic","End time must be after start time when dates are the same",function(t){return t.startDate&&t.endDate&&t.startDate===t.endDate&&t.startTime&&t.endTime?t.startTime<t.endTime:!0}),YZ=Do({email:dn.email("Please enter a valid email address"),password:dn.min(6,"Password must be at least 6 characters")}),KZ=Do({email:dn.email("Please enter a valid email address"),password:dn.min(6,"Password must be at least 6 characters"),confirmPassword:zr().required("Please confirm your password")}).test("passwords-match","Passwords must match",function(t){return t.password===t.confirmPassword}),QZ=Do({email:dn.email("Please enter a valid email address")}),XZ=(t,e)=>{try{return e.validateSync(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(n){const r={};return n.inner.forEach(i=>{r[i.path]=i.message}),{isValid:!1,errors:r}}},ZZ={MACHINE:qZ,PHASE:WZ,ORDER:YD,BACKLOG:YD,OFF_TIME:GZ,LOGIN:YZ,SIGNUP:KZ,FORGOT_PASSWORD:QZ},JZ=()=>{const t=N.useCallback((p,v)=>{const _=ZZ[v];if(!_)throw new Error(`Unknown schema type: ${v}`);return XZ(p,_)},[]),e=N.useCallback(p=>t(p,"MACHINE"),[t]),n=N.useCallback(p=>t(p,"PHASE"),[t]),r=N.useCallback(p=>t(p,"ORDER"),[t]),i=N.useCallback(p=>t(p,"OFF_TIME"),[t]),s=N.useCallback((p,v)=>t(p,v),[t]),a=N.useCallback((p,v)=>{const _={};return v.some(w=>w.scheduled_machine_id===p)&&(_.general="Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),{isValid:Object.keys(_).length===0,errors:_}},[]),l=N.useCallback(p=>{const v={};return p?(p.quantity_completed>0&&(v.general="Cannot delete order that has started production"),p.scheduled_machine_id&&(v.general="Cannot delete scheduled order. Please unschedule first."),{isValid:Object.keys(v).length===0,errors:v}):(v.general="Order is required",{isValid:!1,errors:v})},[]),u=N.useCallback((p,v,_,b)=>{const w={};return p?v?!_||!b?(w.general="Start and end times are required",{isValid:!1,errors:w}):(v.status!=="ACTIVE"&&(w.general=`Machine ${v.machine_name} is not active`),p.scheduled_machine_id&&p.scheduled_machine_id!==v.id&&(w.general="Order is already scheduled on a different machine"),p.fase||(w.general="Order must have a production phase selected"),(!p.quantity||p.quantity<=0)&&(w.general="Order must have a valid quantity"),(!p.duration||p.duration<=0)&&(w.general="Order must have calculated duration"),{isValid:Object.keys(w).length===0,errors:w}):(w.general="Machine is required",{isValid:!1,errors:w}):(w.general="Order is required",{isValid:!1,errors:w})},[]),d=N.useCallback((p,v)=>{const _={};if(!p)return _.general="Please select a production phase",{isValid:!1,errors:_};v.department&&p.department!==v.department&&(_.general=`Selected phase is for ${p.department} department, but order is for ${v.department}`),v.work_center&&p.work_center!==v.work_center&&(_.general=`Selected phase is for ${p.work_center} work center, but order is for ${v.work_center}`);const b=n(p);return b.isValid||Object.assign(_,b.errors),{isValid:Object.keys(_).length===0,errors:_}},[n]),h=N.useCallback((p,v)=>{if(p.status!=="ACTIVE")return!1;const _=p.active_shifts||[];if(_.length===0)return!1;const b=v.getUTCHours();return _.some(x=>{switch(x){case"T1":return b>=6&&b<14;case"T2":return b>=14&&b<22;case"T3":return b>=22||b<6;default:return!1}})},[]),g=N.useCallback(p=>({name:p?.machine_name||"Unknown Machine",type:p?.machine_type||"Unknown Type",department:p?.department||"Unknown Department",workCenter:p?.work_center||"Unknown Work Center",status:p?.status||"UNKNOWN",isActive:p?.status==="ACTIVE"}),[]);return{validate:t,validateMachine:e,validatePhase:n,validateOrder:r,validateOffTime:i,validateAuth:s,validateMachineDeletion:a,validateOrderDeletion:l,validateOrderScheduling:u,validatePhaseSelection:d,isMachineAvailable:h,getMachineDisplayInfo:g}},eJ=(t,e,n=null)=>{const{entities:r}=hw(),[i,s]=N.useState(""),[a,l]=N.useState(!1),[u,d]=N.useState(null),[h,g]=N.useState({}),p=N.useRef(null),v=N.useMemo(()=>!r||r.length===0?[]:t||e?r.filter(O=>(!t||O.department===t)&&(!e||O.work_center===e)).filter(O=>O.name.toLowerCase().includes(i.toLowerCase())):[],[i,t,e,r]);N.useEffect(()=>{if(n&&r&&r.length>0&&!u){const R=r.find(O=>O.id===n);R&&(d(R),s(R.name),g({v_stampa:R.v_stampa||null,t_setup_stampa:R.t_setup_stampa||null,costo_h_stampa:R.costo_h_stampa||null,v_conf:R.v_conf||null,t_setup_conf:R.t_setup_conf||null,costo_h_conf:R.costo_h_conf||null}))}},[n,r,u]),N.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const _=N.useCallback((R,O)=>{const A=O===""?null:parseFloat(O);g(I=>({...I,[R]:A}))},[]),b=N.useCallback((R,O,A)=>{O("fase",R.id),d(R),s(R.name),l(!1),A("fase"),g({v_stampa:R.v_stampa||null,t_setup_stampa:R.t_setup_stampa||null,costo_h_stampa:R.costo_h_stampa||null,v_conf:R.v_conf||null,t_setup_conf:R.t_setup_conf||null,costo_h_conf:R.costo_h_conf||null})},[]),w=N.useCallback(()=>{s(""),d(null),g({})},[]),x=N.useCallback(()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>l(!1),150)},[]);return N.useMemo(()=>({phaseSearch:i,setPhaseSearch:s,isDropdownVisible:a,setIsDropdownVisible:l,selectedPhase:u,setSelectedPhase:d,filteredPhases:v,editablePhaseParams:h,setEditablePhaseParams:g,handlePhaseParamChange:_,handlePhaseSelect:b,resetPhaseData:w,handleBlur:x,blurTimeoutRef:p}),[i,a,u,v,h,g,_,b,w,x])};function tJ(t,e){const n=nZ(e),r=new Set;if(n===0||n===6){for(let l=0;l<24;l++)r.add(l.toString());return Array.from(r)}for(let l=0;l<24;l++)r.add(l.toString());const{work_center:i,department:s,active_shifts:a=[]}=t;return a.forEach(l=>{if(l==="T3"){r.clear();return}if(l==="T2")for(let u=6;u<22;u++)r.delete(u.toString());if(l==="T1"){if(i===St.BUSTO_GAROLFO){for(let u=8;u<12;u++)r.delete(u.toString());for(let u=14;u<18;u++)r.delete(u.toString())}else if(i===St.ZANICA)if(s===un.PACKAGING){for(let u=8;u<12;u++)r.delete(u.toString());for(let u=13;u<17;u++)r.delete(u.toString())}else{for(let u=8;u<12;u++)r.delete(u.toString());for(let u=13;u<17;u++)r.delete(u.toString())}}}),Array.from(r).sort((l,u)=>parseInt(l)-parseInt(u))}function nJ(t,e){const n=[],r=H2(new Date(e,0,1)),i=rX(new Date(e,11,31));for(const s of t){let a=new Date(r);for(;!rZ(a,i);){const l=tJ(s,a);l.length>0&&n.push({machine_id:s.id,date:Xn(a,"yyyy-MM-dd"),unavailable_hours:l}),a=rh(a,1)}}return n}const _t={machines:["machines"],machine:t=>["machines",t],machinesByWorkCenter:t=>["machines","workCenter",t],orders:["orders"],order:t=>["orders",t],phases:["phases"],phase:t=>["phases",t],machineAvailability:(t,e,n)=>["machineAvailability",t,e,n],machineAvailabilityForDate:(t,e)=>["machineAvailability",t,"date",e],machineAvailabilityForDateAllMachines:t=>["machineAvailability","allMachines",t]},dv=()=>kl({queryKey:_t.machines,queryFn:()=>Ot.getMachines(),staleTime:120*1e3}),rJ=t=>kl({queryKey:_t.machinesByWorkCenter(t),queryFn:()=>Ot.getMachines().then(e=>t===St.BOTH?e:e.filter(n=>n.work_center===t)),staleTime:120*1e3}),iJ=()=>{const t=Gr();return Sa({mutationFn:async e=>{const n=await Ot.addMachine(e);try{const r=new Date().getUTCFullYear(),i=nJ([n],r);i.length>0&&await Ot.bulkUpsertMachineAvailability(i),jl(`Machine "${n?.machine_name||"Unknown"}" added and calendar set successfully`)}catch(r){Vd(`Machine added, but failed to set calendar: ${r.message}`)}return n},onSuccess:e=>{t.invalidateQueries({queryKey:_t.machines}),t.invalidateQueries({queryKey:_t.machinesByWorkCenter()}),t.setQueryData(_t.machines,n=>n?[...n,e]:[e])}})},sJ=()=>{const t=Gr();return Sa({mutationFn:({id:e,updates:n})=>Ot.updateMachine(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:_t.machines}),t.invalidateQueries({queryKey:_t.machinesByWorkCenter()}),t.setQueryData(_t.machines,r=>r?.map(i=>i.id===n?{...i,...e}:i)),t.setQueryData(_t.machine(n),e),jl(`Machine "${e?.machine_name||"Unknown"}" updated successfully`)}})},aJ=()=>{const t=Gr();return Sa({mutationFn:async e=>{const n=await Ot.getMachines().then(r=>r.find(i=>i.id===e));return await Ot.removeMachine(e),n},onSuccess:e=>{t.invalidateQueries({queryKey:_t.machines}),t.invalidateQueries({queryKey:_t.machinesByWorkCenter()}),t.setQueryData(_t.machines,n=>n?.filter(r=>r.id!==e.id)),t.removeQueries({queryKey:_t.machine(e.id)}),jl(`Machine "${e?.machine_name||"Unknown"}" deleted successfully`)}})},fv=()=>kl({queryKey:_t.orders,queryFn:()=>Ot.getOdpOrders(),staleTime:60*1e3}),oJ=t=>kl({queryKey:_t.order(t),queryFn:async()=>{try{return await Ot.getOdpOrder(t)}catch{const r=(await Ot.getOdpOrders()).find(i=>i.id===t);if(!r)throw new Error(`Order with id ${t} not found`);return r}},enabled:!!t,staleTime:60*1e3}),lJ=()=>{const t=Gr();return Sa({mutationFn:e=>Ot.addOdpOrder(e),onSuccess:e=>{t.invalidateQueries({queryKey:_t.orders}),t.setQueryData(_t.orders,n=>n?[e,...n]:[e])}})},cJ=()=>{const t=Gr();return Sa({mutationFn:({id:e,updates:n})=>Ot.updateOdpOrder(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:_t.orders}),t.setQueryData(_t.orders,r=>r?.map(i=>i.id===n?{...i,...e}:i)),t.setQueryData(_t.order(n),e)}})},uJ=()=>{const t=Gr();return Sa({mutationFn:e=>Ot.removeOdpOrder(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:_t.orders}),t.setQueryData(_t.orders,r=>r?.filter(i=>i.id!==n)),t.removeQueries({queryKey:_t.order(n)})}})},XS=()=>kl({queryKey:_t.phases,queryFn:()=>Ot.getPhases(),staleTime:300*1e3}),dJ=t=>kl({queryKey:_t.phase(t),queryFn:()=>Ot.getPhases().then(e=>e.find(n=>n.id===t)),enabled:!!t,staleTime:300*1e3}),fJ=()=>{const t=Gr();return Sa({mutationFn:e=>Ot.addPhase(e),onSuccess:e=>{t.invalidateQueries({queryKey:_t.phases}),t.setQueryData(_t.phases,n=>n?[...n,e]:[e])}})},hJ=()=>{const t=Gr();return Sa({mutationFn:({id:e,updates:n})=>Ot.updatePhase(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:_t.phases}),t.setQueryData(_t.phases,r=>r?.map(i=>i.id===n?{...i,...e}:i)),t.setQueryData(_t.phase(n),e)}})},gJ=()=>{const t=Gr();return Sa({mutationFn:e=>Ot.removePhase(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:_t.phases}),t.setQueryData(_t.phases,r=>r?.filter(i=>i.id!==n)),t.removeQueries({queryKey:_t.phase(n)})}})},hhe=t=>kl({queryKey:_t.machineAvailabilityForDateAllMachines(t),queryFn:()=>Ot.getMachineAvailabilityForDateAllMachines(t),enabled:!!t,staleTime:30*1e3}),mJ=nh((t,e)=>({phases:[],getPhases:()=>e().phases,getPhaseById:n=>e().phases.find(r=>r.id===n),setPhases:n=>t({phases:n||[]}),cleanupDuplicatePhases:()=>{const n=e(),r=[],i=new Set;n.phases.forEach(s=>{i.has(s.id)||(i.add(s.id),r.push(s))}),t({phases:r})},reset:()=>t({phases:[]})})),pJ=()=>{const{data:t,isLoading:e,error:n}=dv(),{data:r,isLoading:i,error:s}=fv(),{data:a,isLoading:l,error:u}=XS(),{setMachines:d}=tf(),{setOdpOrders:h}=xr(),{setPhases:g}=mJ();return N.useEffect(()=>{t&&!e&&!n&&d(t)},[t,e,n,d]),N.useEffect(()=>{r&&!i&&!s&&h(r)},[r,i,s,h]),N.useEffect(()=>{a&&!l&&!u&&g(a)},[a,l,u,g]),{isLoading:e||i||l,errors:{machines:n,orders:s,phases:u}}};function vJ(){const{selectedWorkCenter:t,showConfirmDialog:e}=Sn(),n=As(),{data:r=[],isLoading:i,error:s}=rJ(t),a=aJ(),{handleAsync:l}=Ds("MachineryListPage");if(s)return T.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle macchine: ",s.message]});const u=N.useMemo(()=>[{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Stato",accessorKey:"status"},{header:"Larghezza Min (mm)",accessorKey:"min_web_width"},{header:"Larghezza Max (mm)",accessorKey:"max_web_width"},{header:"Altezza Min (mm)",accessorKey:"min_bag_height"},{header:"Altezza Max (mm)",accessorKey:"max_bag_height"},{header:"Velocit Std",accessorKey:"standard_speed"},{header:"Setup (h)",accessorKey:"setup_time_standard"},{header:"Cambio Colore (h)",accessorKey:"changeover_color"},{header:"Cambio Materiale (h)",accessorKey:"changeover_material"},{header:"Turni Attivi",accessorKey:"active_shifts",cell:g=>Array.isArray(g.getValue())?g.getValue().join(", "):""},{header:"Calendario",accessorKey:"id",cell:g=>T.jsx(kn,{to:`/machinery/${g.getValue()}/calendar`,className:"inline-flex items-center px-1 py-1 border border-gray-300 rounded shadow-sm text-[10px] font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Visualizza Calendario"})}],[]),d=g=>{n(`/machinery/${g.id}/edit`)},h=async g=>{e("Elimina Macchina",`Sei sicuro di voler eliminare "${g.machine_name}"? Questa azione non pu essere annullata.`,async()=>{await l(async()=>{await a.mutateAsync(g.id)},{context:"Delete Machine",fallbackMessage:"Eliminazione macchina fallita"})},"danger")};return i?T.jsx("div",{children:"Caricamento dati macchine..."}):t?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Macchine"}),T.jsx(kn,{to:"/machinery/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Macchina"})]}),T.jsx(qS,{columns:u,data:r,onEditRow:d,onDeleteRow:h,enableGlobalSearch:!1})]}):T.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle macchine."})}const Oi={validationSchema:"MACHINE",addButtonText:"Aggiungi Macchina",editButtonText:"Aggiorna Macchina",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Machine",editContext:"Update Machine",addErrorMessage:"Aggiunta macchina fallita",editErrorMessage:"Aggiornamento macchina fallita",sections:[{title:"Identificazione",fields:[{name:"department",label:"Department",type:"select",required:!0,options:[{value:un.PRINTING,label:un.PRINTING},{value:un.PACKAGING,label:un.PACKAGING}],defaultValue:tn.MACHINE.DEPARTMENT,validation:{required:"Department is required"}},{name:"machine_type",label:"Machine Type",type:"select",required:!0,placeholder:"Seleziona tipo macchina",options:[],conditional:t=>t===un.PRINTING||t===un.PACKAGING,validation:{required:"Machine type is required"}},{name:"machine_name",label:"Machine Name",type:"text",required:!0,placeholder:"Nome descrittivo",validation:{required:"Machine name is required",minLength:{value:2,message:"Machine name must be at least 2 characters"},maxLength:{value:100,message:"Machine name must be at most 100 characters"},pattern:{value:/^[a-zA-Z0-9\s\-_]+$/,message:"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"}}},{name:"work_center",label:"Work Center",type:"select",required:!0,placeholder:"Seleziona un centro di lavoro",options:[{value:St.ZANICA,label:St.ZANICA},{value:St.BUSTO_GAROLFO,label:St.BUSTO_GAROLFO}],defaultValue:tn.MACHINE.WORK_CENTER,helpText:"Il centro di lavoro  pre-impostato.",validation:{required:"Work center is required"}}]},{title:"Capacit Tecniche",fields:[{name:"min_web_width",label:"Min Web Width (mm)",type:"number",required:!0,defaultValue:tn.MACHINE.MIN_WEB_WIDTH,validation:{required:"Min web width is required",min:{value:1,message:"Min web width must be at least 1"}}},{name:"max_web_width",label:"Max Web Width (mm)",type:"number",required:!0,defaultValue:tn.MACHINE.MAX_WEB_WIDTH,validation:{required:"Max web width is required",min:{value:1,message:"Max web width must be at least 1"}}},{name:"min_bag_height",label:"Min Bag Height (mm)",type:"number",required:!0,defaultValue:tn.MACHINE.MIN_BAG_HEIGHT,validation:{required:"Min bag height is required",min:{value:1,message:"Min bag height must be at least 1"}}},{name:"max_bag_height",label:"Max Bag Height (mm)",type:"number",required:!0,defaultValue:tn.MACHINE.MAX_BAG_HEIGHT,validation:{required:"Max bag height is required",min:{value:1,message:"Max bag height must be at least 1"}}}]},{title:"Performance",fields:[{name:"standard_speed",label:"Standard Speed",type:"number",required:!0,placeholder:"pz/h o mt/h",validation:{required:"Standard speed is required",min:{value:1,message:"Standard speed must be at least 1"}}},{name:"setup_time_standard",label:"Setup Time Standard (h)",type:"number",required:!0,defaultValue:tn.MACHINE.SETUP_TIME_STANDARD,validation:{required:"Setup time is required",min:{value:0,message:"Setup time must be at least 0"}}},{name:"changeover_color",label:"Changeover Color (h)",type:"number",required:!0,defaultValue:tn.MACHINE.CHANGEOVER_COLOR,conditional:(t,e,n)=>n("department")===un.PRINTING,validation:{required:"Changeover color time is required",min:{value:0,message:"Changeover color time must be at least 0"}}},{name:"changeover_material",label:"Material Changeover (h)",type:"number",required:!0,defaultValue:tn.MACHINE.CHANGEOVER_MATERIAL,conditional:(t,e,n)=>n("department")===un.PACKAGING,validation:{required:"Changeover material time is required",min:{value:0,message:"Changeover material time must be at least 0"}}}]},{title:"Disponibilit",fields:[{name:"active_shifts",label:"Active Shifts",type:"checkbox",required:!1,defaultValue:tn.MACHINE.ACTIVE_SHIFTS,options:[{value:Ac.T1,label:Ac.T1},{value:Ac.T2,label:Ac.T2},{value:Ac.T3,label:Ac.T3}]},{name:"status",label:"Status",type:"select",required:!0,defaultValue:tn.MACHINE.STATUS,options:[{value:oa.ACTIVE,label:oa.ACTIVE},{value:oa.INACTIVE,label:oa.INACTIVE}],validation:{required:"Status is required"}}]}]},hs={validationSchema:"PHASE",addButtonText:"Aggiungi Fase",editButtonText:"Aggiorna Fase",addLoadingText:"Aggiunta Fase...",editLoadingText:"Aggiornamento Fase...",addContext:"Add Phase",editContext:"Update Phase",addErrorMessage:"Aggiunta fase fallita",editErrorMessage:"Aggiornamento fase fallita",sections:[{title:"Informazioni Fase",fields:[{name:"name",label:"Nome Fase",type:"text",required:!0,placeholder:"es. Stampa Alta Velocit"},{name:"department",label:"Tipo Fase",type:"select",required:!0,options:[{value:un.PRINTING,label:un.PRINTING},{value:un.PACKAGING,label:un.PACKAGING}],defaultValue:tn.PHASE.DEPARTMENT},{name:"numero_persone",label:"Numero di Persone Richieste",type:"number",required:!0,defaultValue:tn.PHASE.NUMERO_PERSONE},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,options:[{value:St.ZANICA,label:St.ZANICA},{value:St.BUSTO_GAROLFO,label:St.BUSTO_GAROLFO}],defaultValue:tn.PHASE.WORK_CENTER,helpText:"Il centro di lavoro  impostato in base alla tua selezione di accesso"}]},{title:"Parametri Stampa",fields:[{name:"v_stampa",label:"Velocit Stampa (mt/h)",type:"number",required:!0,defaultValue:tn.PHASE.V_STAMPA,conditional:(t,e,n)=>n("department")===un.PRINTING},{name:"t_setup_stampa",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:tn.PHASE.T_SETUP_STAMPA,conditional:(t,e,n)=>n("department")===un.PRINTING},{name:"costo_h_stampa",label:"Costo Orario (/h)",type:"number",required:!0,defaultValue:tn.PHASE.COSTO_H_STAMPA,conditional:(t,e,n)=>n("department")===un.PRINTING}]},{title:"Parametri Confezionamento",fields:[{name:"v_conf",label:"Velocit Confezionamento (pz/h)",type:"number",required:!0,defaultValue:tn.PHASE.V_CONF,conditional:(t,e,n)=>n("department")===un.PACKAGING},{name:"t_setup_conf",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:tn.PHASE.T_SETUP_CONF,conditional:(t,e,n)=>n("department")===un.PACKAGING},{name:"costo_h_conf",label:"Costo Orario (/h)",type:"number",required:!0,defaultValue:tn.PHASE.COSTO_H_CONF,conditional:(t,e,n)=>n("department")===un.PACKAGING}]},{title:"Descrizione Fase",fields:[{name:"contenuto_fase",label:"Descrizione Contenuto Fase",type:"textarea",required:!0,placeholder:"Descrivi il contenuto della fase e i requisiti...",rows:3}],gridCols:"grid-cols-1"}]},yJ={validationSchema:"ORDER",addButtonText:"Aggiungi al Backlog",editButtonText:"Aggiorna Ordine",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Order",editContext:"Update Order",addErrorMessage:"Aggiunta ordine fallita",editErrorMessage:"Aggiornamento ordine fallito",sections:[{title:"Identificazione",fields:[{name:"odp_number",label:"Numero ODP",type:"text",required:!0,placeholder:"Inserisci numero ODP"},{name:"article_code",label:"Codice Articolo",type:"article_code",required:!0,placeholder:"Inserisci codice articolo"},{name:"production_lot",label:"Codice Articolo Esterno",type:"text",required:!0,placeholder:"Inserisci codice articolo esterno"},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,placeholder:"Seleziona centro di lavoro",options:[{value:St.ZANICA,label:St.ZANICA},{value:St.BUSTO_GAROLFO,label:St.BUSTO_GAROLFO}],conditional:(t,e,n)=>!0},{name:"nome_cliente",label:"Nome Cliente",type:"text",required:!0,placeholder:"Inserisci nome cliente"}]},{title:"Specifiche Tecniche",fields:[{name:"bag_height",label:"Altezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci altezza busta"},{name:"bag_width",label:"Larghezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci larghezza busta"},{name:"bag_step",label:"Passo Busta (mm)",type:"number",required:!1,placeholder:"Inserisci passo busta"},{name:"seal_sides",label:"Lati Sigillatura",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:"3",label:"3"},{value:"4",label:"4"}],defaultValue:tn.ORDER.SEAL_SIDES},{name:"product_type",label:"Tipo Prodotto",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:Tc.CREMA,label:Tc.CREMA},{value:Tc.LIQUIDO,label:Tc.LIQUIDO},{value:Tc.POLVERI,label:Tc.POLVERI}]},{name:"quantity",label:"Quantit",type:"number",required:!0,placeholder:"Inserisci quantit"},{name:"quantity_completed",label:"Q.t Completata",type:"number",required:!0,defaultValue:tn.ORDER.QUANTITY_COMPLETED}]},{title:"Dati Commerciali",fields:[{name:"internal_customer_code",label:"Lotto FLEXI",type:"text",required:!0,placeholder:"Inserisci lotto FLEXI"},{name:"external_customer_code",label:"Lotto Cliente",type:"text",required:!0,placeholder:"Inserisci lotto cliente"},{name:"customer_order_ref",label:"Riferimento Cliente",type:"text",required:!0,placeholder:"Inserisci riferimento cliente"},{name:"user_notes",label:"Note Libere",type:"textarea",required:!1,placeholder:"Inserisci note libere per l'ordine...",rows:3},{name:"asd_notes",label:"Note ASD",type:"textarea",required:!1,placeholder:"Inserisci note ASD per l'ordine...",rows:3}],gridCols:"grid-cols-2 md:grid-cols-3"},{title:"Dati Lavorazione & Pianificazione",fields:[{name:"department",label:"Reparto",type:"text",required:!0,readOnly:!0,className:"bg-gray-50"},{name:"phase_search",label:"Cerca Fase di Produzione",type:"phase_search",required:!0},{name:"delivery_date",label:"Data di Consegna",type:"datetime-local",required:!0}]},{title:"Disponibilit Materiali",fields:[{name:"material_availability_global",label:"Disponibilit Materiale Globale (%)",type:"number",required:!1,placeholder:"Inserisci percentuale disponibilit (0-100)",min:0,max:100}]}],customFields:{phase_parameters:{type:"phase_parameters",label:"Parametri Fase Selezionata"},calculation_results:{type:"calculation_results",label:"Risultati Calcolo Produzione"}},customValidation:t=>{const e={};return{isValid:Object.keys(e).length===0,errors:e}}},W0={validationSchema:"OFF_TIME",addButtonText:"Imposta Non Disponibilit",editButtonText:"Aggiorna Non Disponibilit",addLoadingText:"Impostazione...",editLoadingText:"Aggiornamento...",addContext:"Set Machine Unavailability",editContext:"Update Machine Unavailability",addErrorMessage:"Impostazione indisponibilit macchina fallita",editErrorMessage:"Aggiornamento indisponibilit macchina fallita",sections:[{title:"Periodo di Non Disponibilit",fields:[{name:"startDate",label:"Data Inizio",type:"date",required:!0,defaultValue:""},{name:"startTime",label:"Ora Inizio",type:"time",required:!0,defaultValue:tn.OFF_TIME.START_TIME},{name:"endDate",label:"Data Fine",type:"date",required:!0,defaultValue:""},{name:"endTime",label:"Ora Fine",type:"time",required:!0,defaultValue:tn.OFF_TIME.END_TIME}]}],customValidation:t=>{const e={};if(t.startDate&&t.endDate){const n=new Date(t.startDate);new Date(t.endDate)<n&&(e.endDate=bA.END_DATE_BEFORE_START),t.startDate===t.endDate&&t.startTime&&t.endTime&&t.startTime>=t.endTime&&(e.endTime=bA.END_TIME_BEFORE_START)}return{isValid:Object.keys(e).length===0,errors:e}}};function bJ({machineToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Sn(),{getValidMachineTypes:r}=V2(),i=iJ(),s=sJ(),a=!!t,l=N.useMemo(()=>{const g={...Oi};return g.sections[0].fields[1].options=[...r("STAMPA").map(p=>({value:p,label:p})),...r("CONFEZIONAMENTO").map(p=>({value:p,label:p}))],g.sections[0].fields[1].placeholder="Seleziona tipo macchina",n!==St.BOTH&&(g.sections[0].fields[3].disabled=!0,g.sections[0].fields[3].defaultValue=n,g.sections[0].fields[3].helpText="Il centro di lavoro  pre-impostato."),g},[r,n]),u=N.useMemo(()=>({department:t?.department||Oi.sections[0].fields[0].defaultValue,machine_type:t?.machine_type||"",machine_name:t?.machine_name||"",work_center:t?.work_center||(n===St.BOTH?Oi.sections[0].fields[3].defaultValue:n),min_web_width:t?.min_web_width||Oi.sections[1].fields[0].defaultValue,max_web_width:t?.max_web_width||Oi.sections[1].fields[1].defaultValue,min_bag_height:t?.min_bag_height||Oi.sections[1].fields[2].defaultValue,max_bag_height:t?.max_bag_height||Oi.sections[1].fields[3].defaultValue,standard_speed:t?.standard_speed||"",setup_time_standard:t?.setup_time_standard||Oi.sections[2].fields[1].defaultValue,changeover_color:t?.changeover_color||Oi.sections[2].fields[2].defaultValue,changeover_material:t?.changeover_material||Oi.sections[2].fields[3].defaultValue,active_shifts:t?.active_shifts||Oi.sections[3].fields[0].defaultValue,status:t?.status||Oi.sections[3].fields[1].defaultValue}),[n,t]),d=async g=>{a?await s.mutateAsync({id:t.id,updates:g}):await i.mutateAsync(g),e&&e()},h=i.isPending||s.isPending;return T.jsx(iv,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a,isLoading:h})}function _J({title:t,children:e}){return T.jsx("div",{className:"sticky top-0 z-10 bg-background border-b border-border px-2 py-3 mb-2",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("div",{className:"flex items-center",children:t&&T.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:t})}),e]})})}function KD(){const{id:t}=Up(),e=As(),{getMachineById:n}=Df(),{selectedWorkCenter:r}=Sn(),{isLoading:i,isInitialized:s,init:a,cleanup:l}=Oo(),u=!!t,d=u?n(t):null;return N.useEffect(()=>(s||a(),()=>{l()}),[a,s,l]),N.useEffect(()=>{u&&!i&&!d&&e("/machinery",{replace:!0})},[u,i,d,e]),i?T.jsx("div",{children:"Caricamento..."}):u&&!d?T.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Macchina non trovata."}):r?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:u?`Modifica Macchina: ${d?.machine_name}`:"Aggiungi Nuova Macchina"}),u&&T.jsx(kn,{to:`/machinery/${t}/calendar`,className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Visualizza Calendario"})]}),T.jsx(bJ,{machineToEdit:d})]}):T.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le macchine."})}function wJ({machineId:t,currentDate:e,onSuccess:n}){const{setMachineUnavailability:r}=ih(),{showAlert:i}=Sn(),s=N.useMemo(()=>{const l=new Date,u=rh(l,1);return{startDate:Xn(l,"yyyy-MM-dd"),endDate:Xn(u,"yyyy-MM-dd"),startTime:W0.sections[0].fields[1].defaultValue,endTime:W0.sections[0].fields[3].defaultValue}},[e]),a=async l=>{await r(t,l.startDate,l.endDate,l.startTime,l.endTime),i("Indisponibilit macchina impostata con successo!","success"),n&&n()};return T.jsx(iv,{config:W0,initialData:s,onSubmit:a,onSuccess:n,className:"p-1 bg-white rounded-lg shadow-sm border"})}var hv,Le,aj,oj,uu,gl,QD,lj,cj,dp={},uj=[],SJ=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function co(t,e){for(var n in e)t[n]=e[n];return t}function dj(t){var e=t.parentNode;e&&e.removeChild(t)}function B(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?hv.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return Im(t,a,r,i,null)}function Im(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++aj};return i==null&&Le.vnode!=null&&Le.vnode(s),s}function Cr(){return{current:null}}function Ut(t){return t.children}function xJ(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||fp(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||fp(t,s,e[s],n[s],r)}function XD(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||SJ.test(e)?n:n+"px"}function fp(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||XD(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||XD(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?JD:ZD,s):t.removeEventListener(e,s?JD:ZD,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function ZD(t){uu=!0;try{return this.l[t.type+!1](Le.event?Le.event(t):t)}finally{uu=!1}}function JD(t){uu=!0;try{return this.l[t.type+!0](Le.event?Le.event(t):t)}finally{uu=!1}}function li(t,e){this.props=t,this.context=e}function Mf(t,e){if(e==null)return t.__?Mf(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Mf(t):null}function fj(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return fj(t)}}function EJ(t){uu?setTimeout(t):lj(t)}function Sw(t){(!t.__d&&(t.__d=!0)&&gl.push(t)&&!hp.__r++||QD!==Le.debounceRendering)&&((QD=Le.debounceRendering)||EJ)(hp)}function hp(){var t,e,n,r,i,s,a,l;for(gl.sort(function(u,d){return u.__v.__b-d.__v.__b});t=gl.shift();)t.__d&&(e=gl.length,r=void 0,i=void 0,a=(s=(n=t).__v).__e,(l=n.__P)&&(r=[],(i=co({},s)).__v=s.__v+1,ZS(l,s,i,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[a]:null,r,a??Mf(s),s.__h),vj(r,s),s.__e!=a&&fj(s)),gl.length>e&&gl.sort(function(u,d){return u.__v.__b-d.__v.__b}));hp.__r=0}function hj(t,e,n,r,i,s,a,l,u,d){var h,g,p,v,_,b,w,x=r&&r.__k||uj,E=x.length;for(n.__k=[],h=0;h<e.length;h++)if((v=n.__k[h]=(v=e[h])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?Im(null,v,null,null,v):Array.isArray(v)?Im(Ut,{children:v},null,null,null):v.__b>0?Im(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=n,v.__b=n.__b+1,(p=x[h])===null||p&&v.key==p.key&&v.type===p.type)x[h]=void 0;else for(g=0;g<E;g++){if((p=x[g])&&v.key==p.key&&v.type===p.type){x[g]=void 0;break}p=null}ZS(t,v,p=p||dp,i,s,a,l,u,d),_=v.__e,(g=v.ref)&&p.ref!=g&&(w||(w=[]),p.ref&&w.push(p.ref,null,v),w.push(g,v.__c||_,v)),_!=null?(b==null&&(b=_),typeof v.type=="function"&&v.__k===p.__k?v.__d=u=gj(v,u,t):u=mj(t,v,p,x,_,u),typeof n.type=="function"&&(n.__d=u)):u&&p.__e==u&&u.parentNode!=t&&(u=Mf(p))}for(n.__e=b,h=E;h--;)x[h]!=null&&(typeof n.type=="function"&&x[h].__e!=null&&x[h].__e==n.__d&&(n.__d=pj(r).nextSibling),bj(x[h],x[h]));if(w)for(h=0;h<w.length;h++)yj(w[h],w[++h],w[++h])}function gj(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?gj(r,e,n):mj(n,r,r,i,r.__e,e));return e}function gp(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){gp(n,e)}):e.push(t)),e}function mj(t,e,n,r,i,s){var a,l,u;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),a=null;else{for(l=s,u=0;(l=l.nextSibling)&&u<r.length;u+=1)if(l==i)break e;t.insertBefore(i,s),a=s}return a!==void 0?a:i.nextSibling}function pj(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=pj(n)))return r}return null}function ZS(t,e,n,r,i,s,a,l,u){var d,h,g,p,v,_,b,w,x,E,R,O,A,I,k,M=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,s=[l]),(d=Le.__b)&&d(e);try{e:if(typeof M=="function"){if(w=e.props,x=(d=M.contextType)&&r[d.__c],E=d?x?x.props.value:d.__:r,n.__c?b=(h=e.__c=n.__c).__=h.__E:("prototype"in M&&M.prototype.render?e.__c=h=new M(w,E):(e.__c=h=new li(w,E),h.constructor=M,h.render=CJ),x&&x.sub(h),h.props=w,h.state||(h.state={}),h.context=E,h.__n=r,g=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),M.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=co({},h.__s)),co(h.__s,M.getDerivedStateFromProps(w,h.__s))),p=h.props,v=h.state,h.__v=e,g)M.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(M.getDerivedStateFromProps==null&&w!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(w,E),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(w,h.__s,E)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(h.props=w,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(L){L&&(L.__=e)}),R=0;R<h._sb.length;R++)h.__h.push(h._sb[R]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(w,h.__s,E),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,v,_)})}if(h.context=E,h.props=w,h.__P=t,O=Le.__r,A=0,"prototype"in M&&M.prototype.render){for(h.state=h.__s,h.__d=!1,O&&O(e),d=h.render(h.props,h.state,h.context),I=0;I<h._sb.length;I++)h.__h.push(h._sb[I]);h._sb=[]}else do h.__d=!1,O&&O(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++A<25);h.state=h.__s,h.getChildContext!=null&&(r=co(co({},r),h.getChildContext())),g||h.getSnapshotBeforeUpdate==null||(_=h.getSnapshotBeforeUpdate(p,v)),k=d!=null&&d.type===Ut&&d.key==null?d.props.children:d,hj(t,Array.isArray(k)?k:[k],e,n,r,i,s,a,l,u),h.base=e.__e,e.__h=null,h.__h.length&&a.push(h),b&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=RJ(n.__e,e,n,r,i,s,a,u);(d=Le.diffed)&&d(e)}catch(L){e.__v=null,(u||s!=null)&&(e.__e=l,e.__h=!!u,s[s.indexOf(l)]=null),Le.__e(L,e,n)}}function vj(t,e){Le.__c&&Le.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Le.__e(r,n.__v)}})}function RJ(t,e,n,r,i,s,a,l){var u,d,h,g=n.props,p=e.props,v=e.type,_=0;if(v==="svg"&&(i=!0),s!=null){for(;_<s.length;_++)if((u=s[_])&&"setAttribute"in u==!!v&&(v?u.localName===v:u.nodeType===3)){t=u,s[_]=null;break}}if(t==null){if(v===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,p.is&&p),s=null,l=!1}if(v===null)g===p||l&&t.data===p||(t.data=p);else{if(s=s&&hv.call(t.childNodes),d=(g=n.props||dp).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!l){if(s!=null)for(g={},_=0;_<t.attributes.length;_++)g[t.attributes[_].name]=t.attributes[_].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(xJ(t,p,g,i,l),h)e.__k=[];else if(_=e.props.children,hj(t,Array.isArray(_)?_:[_],e,n,r,i&&v!=="foreignObject",s,a,s?s[0]:n.__k&&Mf(n,0),l),s!=null)for(_=s.length;_--;)s[_]!=null&&dj(s[_]);l||("value"in p&&(_=p.value)!==void 0&&(_!==t.value||v==="progress"&&!_||v==="option"&&_!==g.value)&&fp(t,"value",_,g.value,!1),"checked"in p&&(_=p.checked)!==void 0&&_!==t.checked&&fp(t,"checked",_,g.checked,!1))}return t}function yj(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Le.__e(r,n)}}function bj(t,e,n){var r,i;if(Le.unmount&&Le.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||yj(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Le.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&bj(r[i],e,n||typeof t.type!="function");n||t.__e==null||dj(t.__e),t.__=t.__e=t.__d=void 0}function CJ(t,e,n){return this.constructor(t,n)}function kf(t,e,n){var r,i,s;Le.__&&Le.__(t,e),i=(r=!1)?null:e.__k,s=[],ZS(e,t=e.__k=B(Ut,null,[t]),i||dp,dp,e.ownerSVGElement!==void 0,i?null:e.firstChild?hv.call(e.childNodes):null,s,i?i.__e:e.firstChild,r),vj(s,t)}function TJ(t,e){var n={__c:e="__cC"+cj++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(function(l){l.__e=!0,Sw(l)})},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),l&&l.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}hv=uj.slice,Le={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(l){t=l}throw t}},aj=0,oj=function(t){return t!=null&&t.constructor===void 0},uu=!1,li.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=co({},this.state),typeof t=="function"&&(t=t(co({},n),this.props)),t&&co(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Sw(this))},li.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Sw(this))},li.prototype.render=Ut,gl=[],lj=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,hp.__r=0,cj=0;var _s,G0,e1,_j=[],Y0=[],t1=Le.__b,n1=Le.__r,r1=Le.diffed,i1=Le.__c,s1=Le.unmount;function AJ(){for(var t;t=_j.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Pm),t.__H.__h.forEach(xw),t.__H.__h=[]}catch(e){t.__H.__h=[],Le.__e(e,t.__v)}}Le.__b=function(t){_s=null,t1&&t1(t)},Le.__r=function(t){n1&&n1(t);var e=(_s=t.__c).__H;e&&(G0===_s?(e.__h=[],_s.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Y0,n.__N=n.i=void 0})):(e.__h.forEach(Pm),e.__h.forEach(xw),e.__h=[])),G0=_s},Le.diffed=function(t){r1&&r1(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(_j.push(e)!==1&&e1===Le.requestAnimationFrame||((e1=Le.requestAnimationFrame)||OJ)(AJ)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Y0&&(n.__=n.__V),n.i=void 0,n.__V=Y0})),G0=_s=null},Le.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Pm),n.__h=n.__h.filter(function(r){return!r.__||xw(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Le.__e(r,n.__v)}}),i1&&i1(t,e)},Le.unmount=function(t){s1&&s1(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Pm(r)}catch(i){e=i}}),n.__H=void 0,e&&Le.__e(e,n.__v))};var a1=typeof requestAnimationFrame=="function";function OJ(t){var e,n=function(){clearTimeout(r),a1&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);a1&&(e=requestAnimationFrame(n))}function Pm(t){var e=_s,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),_s=e}function xw(t){var e=_s;t.__c=t.__(),_s=e}function DJ(t,e){for(var n in e)t[n]=e[n];return t}function o1(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function l1(t){this.props=t}(l1.prototype=new li).isPureReactComponent=!0,l1.prototype.shouldComponentUpdate=function(t,e){return o1(this.props,t)||o1(this.state,e)};var c1=Le.__b;Le.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),c1&&c1(t)};var MJ=Le.__e;Le.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}MJ(t,e,n,r)};var u1=Le.unmount;function wj(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=DJ({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return wj(r,e,n)})),t}function Sj(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Sj(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function K0(){this.__u=0,this.t=null,this.__b=null}function xj(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function sm(){this.u=null,this.o=null}Le.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),u1&&u1(t)},(K0.prototype=new li).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=xj(r.__v),s=!1,a=function(){s||(s=!0,n.__R=null,i?i(l):l())};n.__R=a;var l=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=Sj(d,d.__c.__P,d.__c.__O)}var h;for(r.setState({__a:r.__b=null});h=r.t.pop();)h.forceUpdate()}},u=e.__h===!0;r.__u++||u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},K0.prototype.componentWillUnmount=function(){this.t=[]},K0.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=wj(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&B(Ut,null,t.fallback);return i&&(i.__h=null),[B(Ut,null,e.__a?null:t.children),i]};var d1=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function kJ(t){return this.getChildContext=function(){return t.context},t.children}function NJ(t){var e=this,n=t.i;e.componentWillUnmount=function(){kf(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),kf(B(kJ,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function IJ(t,e){var n=B(NJ,{__v:t,i:e});return n.containerInfo=e,n}(sm.prototype=new li).__a=function(t){var e=this,n=xj(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),d1(e,t,r)):i()};n?n(s):s()}},sm.prototype.render=function(t){this.u=null,this.o=new Map;var e=gp(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},sm.prototype.componentDidUpdate=sm.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){d1(t,n,e)})};var PJ=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,jJ=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,LJ=typeof document<"u",FJ=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};li.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(li.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var f1=Le.event;function UJ(){}function zJ(){return this.cancelBubble}function HJ(){return this.defaultPrevented}Le.event=function(t){return f1&&(t=f1(t)),t.persist=UJ,t.isPropagationStopped=zJ,t.isDefaultPrevented=HJ,t.nativeEvent=t};var h1={configurable:!0,get:function(){return this.class}},g1=Le.vnode;Le.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var a=n[s];LJ&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&a==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&a===!0?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!FJ(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&jJ.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=a)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=gp(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=gp(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),t.props=r,n.class!=n.className&&(h1.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",h1))}t.$$typeof=PJ,g1&&g1(t)};var m1=Le.__r;Le.__r=function(t){m1&&m1(t),t.__c};const Ej=[],Ew=new Map;function gv(t){Ej.push(t),Ew.forEach(e=>{Cj(e,t)})}function BJ(t){t.isConnected&&t.getRootNode&&Rj(t.getRootNode())}function Rj(t){let e=Ew.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=VJ();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}Ew.set(t,e),$J(e)}}function $J(t){for(const e of Ej)Cj(t,e)}function Cj(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let Q0;function VJ(){return Q0===void 0&&(Q0=qJ()),Q0}function qJ(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Rj(document);var WJ=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';gv(WJ);class JS{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function ex(t){t.parentNode&&t.parentNode.removeChild(t)}function gr(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(GJ(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function GJ(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function YJ(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let a=0;a<s.length;a+=1)r.push(s[a])}return r}const KJ=/(top|left|right|bottom|width|height)$/i;function rf(t,e){for(let n in e)Tj(t,n,e[n])}function Tj(t,e,n){n==null?t.style[e]="":typeof n=="number"&&KJ.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function Aj(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let p1=0;function po(){return p1+=1,"fc-dom-"+p1}function mv(t){t.preventDefault()}function QJ(t,e){return n=>{let r=gr(n.target,t);r&&e.call(r,n,r)}}function Oj(t,e,n,r){let i=QJ(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function XJ(t,e,n,r){let i;return Oj(t,"mouseover",e,(s,a)=>{if(a!==i){i=a,n(s,a);let l=u=>{i=null,r(u,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}const v1=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function ZJ(t,e){let n=r=>{e(r),v1.forEach(i=>{t.removeEventListener(i,n)})};v1.forEach(r=>{t.addEventListener(r,n)})}function Dj(t){return Object.assign({onClick:t},Mj(t))}function Mj(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let y1=0;function Ul(){return y1+=1,String(y1)}function tx(){document.body.classList.add("fc-not-allowed")}function nx(){document.body.classList.remove("fc-not-allowed")}function JJ(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",mv)}function eee(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",mv)}function tee(t){t.addEventListener("contextmenu",mv)}function nee(t){t.removeEventListener("contextmenu",mv)}function ree(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function iee(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=see(t,e,n[r]),i)return i;return 0}function see(t,e,n){return n.func?n.func(t,e):aee(t[n.field],e[n.field])*(n.order||1)}function aee(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function tu(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function sf(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function oee(t,e){return t-e}function jm(t){return t%1===0}function lee(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const b1=["years","months","days","milliseconds"],cee=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function gt(t,e){return typeof t=="string"?uee(t):typeof t=="object"&&t?_1(t):typeof t=="number"?_1({[e||"milliseconds"]:t}):null}function uee(t){let e=cee.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function _1(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function dee(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Rw(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function fee(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function hee(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function gee(t){return nu(t)/365}function mee(t){return nu(t)/30}function nu(t){return Xi(t)/864e5}function Xi(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function rx(t,e){let n=null;for(let r=0;r<b1.length;r+=1){let i=b1[r];if(e[i]){let s=t[i]/e[i];if(!jm(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function Cw(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function So(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const pee=["sun","mon","tue","wed","thu","fri","sat"];function w1(t,e){let n=uo(t);return n[2]+=e*7,Vr(n)}function In(t,e){let n=uo(t);return n[2]+=e,Vr(n)}function xo(t,e){let n=uo(t);return n[6]+=e,Vr(n)}function vee(t,e){return Mo(t,e)/7}function Mo(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function yee(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function bee(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function _ee(t,e){return(e.valueOf()-t.valueOf())/1e3}function wee(t,e){let n=Vt(t),r=Vt(e);return{years:0,months:0,days:Math.round(Mo(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function See(t,e){let n=mp(t,e);return n!==null&&n%7===0?n/7:null}function mp(t,e){return fo(t)===fo(e)?Math.round(Mo(t,e)):null}function Vt(t){return Vr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function xee(t){return Vr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Eee(t){return Vr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Ree(t){return Vr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Cee(t,e,n){let r=t.getUTCFullYear(),i=X0(t,r,e,n);if(i<1)return X0(t,r-1,e,n);let s=X0(t,r+1,e,n);return s>=1?Math.min(i,s):i}function X0(t,e,n,r){let i=Vr([e,0,1+Tee(e,n,r)]),s=Vt(t),a=Math.round(Mo(i,s));return Math.floor(a/7)+1}function Tee(t,e,n){let r=7+e-n;return-((7+Vr([t,0,r]).getUTCDay()-e)%7)+r-1}function S1(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function x1(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function uo(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Vr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function kj(t){return!isNaN(t.valueOf())}function fo(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function Nj(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",ix(e,!0)))),r}function ah(t){return t.toISOString().replace(/T.*$/,"")}function Aee(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Oee(t){return tu(t.getUTCHours(),2)+":"+tu(t.getUTCMinutes(),2)+":"+tu(t.getUTCSeconds(),2)}function ix(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+tu(i,2)}:${tu(s,2)}`:`GMT${n}${i}${s?`:${tu(s,2)}`:""}`}function Pe(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!So(r,s)){let a=t.apply(this,s);(!e||!e(a,i))&&(i=a)}return r=s,i}}function Lm(t,e,n){let r,i;return s=>(r?is(r,s)||(i=t.call(this,s)):i=t.call(this,s),r=s,i)}const Z0={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},pp={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},am=/\s*([ap])\.?m\.?/i,Dee=/,/g,Mee=/\s+/g,kee=/\u200e/g,Nee=/UTC|GMT/;class Iee{constructor(e){let n={},r={},i=9;for(let s in e)s in Z0?(r[s]=e[s],Z0[s]<9&&(i=Math.min(Z0[s],i))):(n[s]=e[s],s in pp&&(i=Math.min(pp[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=Pe(E1)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:a}=this,l=zee(e.marker,n.marker,r.calendarSystem);if(!l)return this.format(e,r);let u=l;u>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(u=1);let d=this.format(e,r),h=this.format(n,r);if(d===h)return d;let g=Hee(s,u),p=E1(g,a,r),v=p(e),_=p(n),b=Bee(d,v,h,_),w=a.separator||i||r.defaultSeparator||"";return b?b.before+v+w+_+b.after:d+w+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function E1(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>ix(i.timeZoneOffset):r===0&&e.week?i=>Uee(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):Pee(t,e,n)}function Pee(t,e,n){t=Object.assign({},t),e=Object.assign({},e),jee(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:a}=s,l;i&&!a.getUTCMinutes()?l=i:l=r;let u=l.format(a);return Lee(u,s,t,e,n)}}function jee(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Lee(t,e,n,r,i){return t=t.replace(kee,""),n.timeZoneName==="short"&&(t=Fee(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":ix(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(Dee,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(am,"").trim():r.meridiem==="narrow"?t=t.replace(am,(s,a)=>a.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(am,(s,a)=>`${a.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(am,s=>s.toLocaleLowerCase())),t=t.replace(Mee," "),t=t.trim(),t}function Fee(t,e){let n=!1;return t=t.replace(Nee,()=>(n=!0,e)),n||(t+=` ${e}`),t}function Uee(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function zee(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:fo(t)!==fo(e)?1:0}function Hee(t,e){let n={};for(let r in t)(!(r in pp)||pp[r]<=e)&&(n[r]=t[r]);return n}function Bee(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let a=t.substr(0,s);i=s+e.length;let l=t.substr(i),u=0;for(;u<n.length;){let d=n.indexOf(r,u);if(d===-1)break;let h=n.substr(0,d);u=d+r.length;let g=n.substr(u);if(a===h&&l===g)return{before:a,after:l}}}return null}function R1(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function vp(t,e,n,r){let i=R1(t,n.calendarSystem),s=e?R1(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class $ee{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,vp(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,vp(e,n,r,i))}}class Vee{constructor(e){this.func=e}format(e,n,r){return this.func(vp(e,null,n,r))}formatRange(e,n,r,i){return this.func(vp(e,n,r,i))}}function nn(t){return typeof t=="object"&&t?new Iee(t):typeof t=="string"?new $ee(t):typeof t=="function"?new Vee(t):null}const C1={navLinkDayClick:le,navLinkWeekClick:le,duration:gt,bootstrapFontAwesome:le,buttonIcons:le,customButtons:le,defaultAllDayEventDuration:gt,defaultTimedEventDuration:gt,nextDayThreshold:gt,scrollTime:gt,scrollTimeReset:Boolean,slotMinTime:gt,slotMaxTime:gt,dayPopoverFormat:nn,slotDuration:gt,snapDuration:gt,headerToolbar:le,footerToolbar:le,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:nn,dayHeaderClassNames:le,dayHeaderContent:le,dayHeaderDidMount:le,dayHeaderWillUnmount:le,dayCellClassNames:le,dayCellContent:le,dayCellDidMount:le,dayCellWillUnmount:le,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:le,weekNumbers:Boolean,weekNumberClassNames:le,weekNumberContent:le,weekNumberDidMount:le,weekNumberWillUnmount:le,editable:Boolean,viewClassNames:le,viewDidMount:le,viewWillUnmount:le,nowIndicator:Boolean,nowIndicatorSnap:le,nowIndicatorClassNames:le,nowIndicatorContent:le,nowIndicatorDidMount:le,nowIndicatorWillUnmount:le,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:le,locale:le,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:le,eventOrder:ree,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:le,contentHeight:le,direction:String,weekNumberFormat:nn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:le,initialDate:le,now:le,eventDataTransform:le,stickyHeaderDates:le,stickyFooterScrollbar:le,viewHeight:le,defaultAllDay:Boolean,eventSourceFailure:le,eventSourceSuccess:le,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:le,eventConstraint:le,eventAllow:le,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:le,eventContent:le,eventDidMount:le,eventWillUnmount:le,selectConstraint:le,selectOverlap:le,selectAllow:le,droppable:Boolean,unselectCancel:String,slotLabelFormat:le,slotLaneClassNames:le,slotLaneContent:le,slotLaneDidMount:le,slotLaneWillUnmount:le,slotLabelClassNames:le,slotLabelContent:le,slotLabelDidMount:le,slotLabelWillUnmount:le,dayMaxEvents:le,dayMaxEventRows:le,dayMinWidth:Number,slotLabelInterval:gt,allDayText:String,allDayClassNames:le,allDayContent:le,allDayDidMount:le,allDayWillUnmount:le,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:nn,rerenderDelay:Number,moreLinkText:le,moreLinkHint:le,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:le,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:gt,hiddenDays:le,fixedWeekCount:Boolean,validRange:le,visibleRange:le,titleFormat:le,eventInteractive:Boolean,noEventsText:String,viewHint:le,navLinkHint:le,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:le,moreLinkClassNames:le,moreLinkContent:le,moreLinkDidMount:le,moreLinkWillUnmount:le,monthStartFormat:nn,handleCustomRendering:le,customRenderingMetaMap:le,customRenderingReplaces:Boolean},af={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},T1={datesSet:le,eventsSet:le,eventAdd:le,eventChange:le,eventRemove:le,windowResize:le,eventClick:le,eventMouseEnter:le,eventMouseLeave:le,select:le,unselect:le,loading:le,_unmount:le,_beforeprint:le,_afterprint:le,_noEventDrop:le,_noEventResize:le,_resize:le,_scrollRequest:le},A1={buttonText:le,buttonHints:le,views:le,plugins:le,initialEvents:le,events:le,eventSources:le},ol={headerToolbar:ll,footerToolbar:ll,buttonText:ll,buttonHints:ll,buttonIcons:ll,dateIncrement:ll,plugins:om,events:om,eventSources:om,resources:om};function ll(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?is(t,e):t===e}function om(t,e){return Array.isArray(t)&&Array.isArray(e)?So(t,e):t===e}const qee={type:String,component:le,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:le,usesMinMaxTime:Boolean,classNames:le,content:le,didMount:le,willUnmount:le};function J0(t){return ax(t,ol)}function sx(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function le(t){return t}const{hasOwnProperty:yp}=Object.prototype;function ax(t,e){let n={};if(e){for(let r in e)if(e[r]===ll){let i=[];for(let s=t.length-1;s>=0;s-=1){let a=t[s][r];if(typeof a=="object"&&a)i.unshift(a);else if(a!==void 0){n[r]=a;break}}i.length&&(n[r]=ax(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function Ol(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function ba(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function Ij(t){let e={};for(let n of t)e[n]=!0;return e}function ox(t){let e=[];for(let n in t)e.push(t[n]);return e}function is(t,e){if(t===e)return!0;for(let n in t)if(yp.call(t,n)&&!(n in e))return!1;for(let n in e)if(yp.call(e,n)&&t[n]!==e[n])return!1;return!0}const Wee=/^on[A-Z]/;function Gee(t,e){const n=Yee(t,e);for(let r of n)if(!Wee.test(r))return!1;return!0}function Yee(t,e){let n=[];for(let r in t)yp.call(t,r)&&(r in e||n.push(r));for(let r in e)yp.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function e_(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&Kee(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function Kee(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function Qee(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let a=t[s];a!==void 0&&i.push(a)}return i}let Pj={};function Xee(t,e){Pj[t]=e}function Zee(t){return new Pj[t]}class Jee{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Vr(e)}markerToArray(e){return uo(e)}}Xee("gregory",Jee);const ete=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function tte(t){let e=ete.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(kj(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class nte{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=Zee(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Vr(S1(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Vr(e)),n===null||!kj(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=tte(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return fo(e)===fo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return fo(e)===fo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=See(e,n),r!==null?{unit:"week",value:r}:(r=mp(e,n),r!==null?{unit:"day",value:r}:(r=yee(e,n),jm(r)?{unit:"hour",value:r}:(r=bee(e,n),jm(r)?{unit:"minute",value:r}:(r=_ee(e,n),jm(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/gee(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/mee(r):r.days&&(i=mp(e,n),i!==null)?i/nu(r):(n.valueOf()-e.valueOf())/Xi(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Vt(e):n==="hour"?xee(e):n==="minute"?Eee(e):n==="second"?Ree(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Cee(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=xo(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),Nj(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Vr(S1(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Vr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-x1(uo(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(uo(e)):null}toDate(e,n){return this.timeZone==="local"?x1(uo(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(uo(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class oh{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}oh.prototype.classes={};oh.prototype.iconClasses={};oh.prototype.baseIconClass="";oh.prototype.iconOverridePrefix="";function bp(t){t();let e=Le.debounceRendering,n=[];function r(i){n.push(i)}for(Le.debounceRendering=r,kf(B(rte,{}),document.createElement("div"));n.length;)n.shift()();Le.debounceRendering=e}class rte extends li{render(){return B("div",{})}componentDidMount(){this.setState({})}}function jj(t){let e=TJ(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=a=>{this.props.value!==a.value&&s.forEach(l=>{l.context=a.value,l.forceUpdate()})},this.sub=a=>{s.push(a);let l=a.componentWillUnmount;a.componentWillUnmount=()=>{s.splice(s.indexOf(a),1),l&&l.call(a)}}}return i},e}class ite{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const xa=jj({});function ste(t,e,n,r,i,s,a,l,u,d,h,g,p,v){return{dateEnv:i,nowManager:s,options:n,pluginHooks:l,emitter:h,dispatch:u,getCurrentData:d,calendarApi:g,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:a,isRtl:n.direction==="rtl",addResizeHandler(_){h.on("_resize",_)},removeResizeHandler(_){h.off("_resize",_)},createScrollResponder(_){return new ite(_,h,gt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:p,unregisterInteractiveComponent:v}}class zl extends li{shouldComponentUpdate(e,n){return!e_(this.props,e,this.propEquality)||!e_(this.state,n,this.stateEquality)}safeSetState(e){e_(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}zl.addPropsEquality=ate;zl.addStateEquality=ote;zl.contextType=xa;zl.prototype.propEquality={};zl.prototype.stateEquality={};class Ct extends zl{}Ct.contextType=xa;function ate(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function ote(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Ts(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class lx extends Ct{constructor(){super(...arguments),this.id=Ul(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!Tw(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Ts(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:a}=e,l=Lj(e,[],this.handleEl);let u=!1,d,h=[],g;if(i!=null){const p=typeof i=="function"?i(a,B):i;if(p===!0)u=!0;else{const v=p&&typeof p=="object";v&&"html"in p?l.dangerouslySetInnerHTML={__html:p.html}:v&&"domNodes"in p?h=Array.prototype.slice.call(p.domNodes):(v?oj(p):typeof p!="function")?d=p:g=p}}else u=!Tw(e.generatorName,r);return u&&s&&(d=s(a)),this.queuedDomNodes=h,this.currentGeneratorMeta=g,B(e.elTag,l,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:a}=i.options;if(s){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:a?.[r.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},r),{elClasses:(r.elClasses||[]).filter(lte)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!So(e,n)){n.forEach(ex);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}lx.addPropsEquality({elClasses:So,elStyle:is,elAttrs:Gee,renderProps:is});function Tw(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function Lj(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function lte(t){return!!t}const Fj=jj(0);class vr extends li{constructor(){super(...arguments),this.InnerContent=cte.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Ts(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=ute(e.classNameGenerator,e.renderProps);if(e.children){const r=Lj(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?B(e.elTag,r,i):i}else return B(lx,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}vr.contextType=Fj;function cte(t,e){const n=t.props;return B(lx,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function ute(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Nf extends Ct{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return B(vr,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...Uj(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function Uj(t){return[`fc-${t.type}-view`,"fc-view"]}function dte(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function O1(t,e){let n=[],{start:r}=e,i,s;for(t.sort(fte),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function fte(t,e){return t.start.valueOf()-e.start.valueOf()}function Eo(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function hte(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function cx(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function pv(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function ha(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function gte(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function zj(t){let e=Math.floor(Mo(t.start,t.end))||1,n=Vt(t.start),r=In(n,e);return{start:n,end:r}}function ux(t,e=gt(0)){let n=null,r=null;if(t.end){r=Vt(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Xi(e)&&(r=In(r,1))}return t.start&&(n=Vt(t.start),r&&r<=n&&(r=In(n,1))),{start:n,end:r}}function mte(t){let e=ux(t);return Mo(e.start,e.end)>1}function Kc(t,e,n,r){return r==="year"?gt(n.diffWholeYears(t,e),"year"):r==="month"?gt(n.diffWholeMonths(t,e),"month"):wee(t,e)}class Hj{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,a,l,u,d,h;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=gte(e,s)),a=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(a.unit),u=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),u=this.trimHiddenDays(u),d=u,i.showNonCurrentDates||(d=Eo(d,a.range)),d=this.adjustActiveRange(d),d=Eo(d,s),h=cx(a.range,s),ha(u,e)||(e=u.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:d,renderRange:u,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:h,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,a=null,l;return r.duration?(i=r.duration,s=r.durationUnit,a=this.buildRangeFromDuration(e,n,i,s)):(l=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,n,l)):(a=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=this.getFallbackDuration(),s=Cw(i).unit,a=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:a}}getFallbackDuration(){return gt({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:a,end:l}=e;return r&&(nu(i)<0&&(a=Vt(a),a=n.add(a,i)),nu(s)>1&&(l=Vt(l),l=In(l,-1),l=n.add(l,s))),{start:a,end:l}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:a}=this.props,l,u,d;if(!a){let{dateIncrement:g}=this.props;g&&Xi(g)<Xi(r)?a=Cw(g).unit:a=i}nu(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=Vt(l));function h(){l=s.startOf(e,a),u=s.add(l,r),d={start:l,end:u}}return h(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),h()),d}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,a=0,l=e,u;s&&(l=i.startOf(l,s)),l=Vt(l),l=this.skipHiddenDays(l,n),u=l;do u=In(u,1),this.isHiddenDay(u)||(a+=1);while(a<r);return{start:l,end:u}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?gt(1,r):e||gt({days:1}))}refineRange(e){if(e){let n=dte(e,this.props.dateEnv);return n&&(n=ux(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=In(e,n);return e}}function dx(t,e,n,r){return{instanceId:Ul(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function pte(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:a}=t;return a==null&&(a=e,a==null&&(a=s.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function Dl(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:a,instances:l}=t;l=Ol(l,u=>!a[u.defId].recurringDef);for(let u in a){let d=a[u];if(d.recurringDef){let{duration:h}=d.recurringDef;h||(h=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let g=vte(d,h,e,r,i.recurringTypes);for(let p of g){let v=dx(u,{start:p,end:r.add(p,h)});l[v.instanceId]=v}}}return{defs:a,instances:l}}function vte(t,e,n,r,i){let a=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(a=a.map(Vt)),a}const Fm={id:String,groupId:String,title:String,url:String,interactive:Boolean},Bj={start:le,end:le,date:le,allDay:Boolean},yte=Object.assign(Object.assign(Object.assign({},Fm),Bj),{extendedProps:le});function $j(t,e,n,r,i=fx(n),s,a){let{refined:l,extra:u}=Vj(t,n,i),d=_te(e,n),h=pte(l,d,n.dateEnv,n.pluginHooks.recurringTypes);if(h){let p=Aw(l,u,e?e.sourceId:"",h.allDay,!!h.duration,n,s);return p.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:p,instance:null}}let g=bte(l,d,n,r);if(g){let p=Aw(l,u,e?e.sourceId:"",g.allDay,g.hasEnd,n,s),v=dx(p.defId,g.range,g.forcedStartTzo,g.forcedEndTzo);return a&&p.publicId&&a[p.publicId]&&(v.instanceId=a[p.publicId]),{def:p,instance:v}}return null}function Vj(t,e,n=fx(e)){return sx(t,n)}function fx(t){return Object.assign(Object.assign(Object.assign({},_p),yte),t.pluginHooks.eventRefiners)}function Aw(t,e,n,r,i,s,a){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(a&&t.id?a[t.id]:"")||Ul(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:wp(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let u of s.pluginHooks.eventDefMemberAdders)Object.assign(l,u(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function bte(t,e,n,r){let{allDay:i}=t,s,a=null,l=!1,u,d=null,h=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(h),s)a=s.marker;else if(!r)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),i&&a&&(a=Vt(a)),u&&(d=u.marker,i&&(d=Vt(d)),a&&d<=a&&(d=null)),d?l=!0:r||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(a,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:a,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function _te(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function If(t,e,n,r,i,s){let a=ci(),l=fx(n);for(let u of t){let d=$j(u,e,n,r,l,i,s);d&&Ow(d,a)}return a}function Ow(t,e=ci()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function hx(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=vv(t,s=>wte(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return ci()}function wte(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function ci(){return{defs:{},instances:{}}}function gx(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function vv(t,e){let n=Ol(t.defs,e),r=Ol(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function Ste(t,e){let{defs:n,instances:r}=t,i={},s={};for(let a in n)e.defs[a]||(i[a]=n[a]);for(let a in r)!e.instances[a]&&i[r[a].defId]&&(s[a]=r[a]);return{defs:i,instances:s}}function xte(t,e){return Array.isArray(t)?If(t,null,e,!0):typeof t=="object"&&t?If([t],null,e,!0):t!=null?String(t):null}function D1(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const _p={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:le,overlap:le,allow:le,className:D1,classNames:D1,color:String,backgroundColor:String,borderColor:String,textColor:String},Ete={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function wp(t,e){let n=xte(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function qj(t){return t.reduce(Rte,Ete)}function Rte(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Cte={id:String,defaultAllDay:Boolean,url:String,format:String,events:le,eventDataTransform:le,success:le,failure:le};function Wj(t,e,n=Gj(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=sx(r,n),a=Tte(i,e);if(a)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Ul(),sourceDefId:a.sourceDefId,meta:a.meta,ui:wp(i,e),extendedProps:s}}return null}function Gj(t){return Object.assign(Object.assign(Object.assign({},_p),Cte),t.pluginHooks.eventSourceRefiners)}function Tte(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function Ate(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return Ote(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return Dte(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return Mte(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return gx(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Dl(t,r.activeRange,i):t;case"REMOVE_EVENTS":return Ste(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Kj(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return vv(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return ci();default:return t}}function Ote(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let a=If(Yj(i,e,s),e,s);return r&&(a=Dl(a,r,s)),gx(Kj(t,e.sourceId),a)}return t}function Dte(t,e,n,r,i){const{defIdMap:s,instanceIdMap:a}=Nte(t);let l=If(Yj(n,e,i),e,i,!1,s,a);return Dl(l,r,i)}function Yj(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=M1(t,i)),r&&(t=M1(t,r)),t}function M1(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function Mte(t,e,n,r){return n&&(e=Dl(e,n,r)),gx(t,e)}function k1(t,e,n){let{defs:r}=t,i=ba(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function Kj(t,e){return vv(t,n=>n.sourceId!==e)}function kte(t,e){return{defs:t.defs,instances:Ol(t.instances,n=>!e[n.instanceId])}}function Nte(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const a=e[s],{publicId:l}=a;l&&(r[l]=s)}for(let s in n){const a=n[s],l=e[a.defId],{publicId:u}=l;u&&(i[u]=s)}return{defIdMap:r,instanceIdMap:i}}class yv{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){Ite(this.handlers,e,n)}off(e,n){Pte(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let a of s)a.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Ite(t,e,n){(t[e]||(t[e]=[])).push(n)}function Pte(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const jte={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Lte(t,e){return If(Fte(t),null,e)}function Fte(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},jte),n)),e}function Qj(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},mx(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function Ute(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function mx(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,Jte(t,e.dateEnv)),n}function N1(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=Vt(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function px(t,e,n,r){let i=Sp(t.defs,e),s=ci();for(let a in t.defs){let l=t.defs[a];s.defs[a]=zte(l,i[a],n,r)}for(let a in t.instances){let l=t.instances[a],u=s.defs[l.defId];s.instances[a]=Hte(l,u,i[l.defId],n,r)}return s}function zte(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let a of r.pluginHooks.eventDefMutationAppliers)a(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function Hte(t,e,n,r,i){let{dateEnv:s}=i,a=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,u=Object.assign({},t);return a&&(u.range=zj(u.range)),r.datesDelta&&n.startEditable&&(u.range={start:s.add(u.range.start,r.datesDelta),end:s.add(u.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(u.range={start:s.add(u.range.start,r.startDelta),end:u.range.end}),r.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:s.add(u.range.end,r.endDelta)}),l&&(u.range={start:u.range.start,end:N1(e.allDay,u.range.start,i)}),e.allDay&&(u.range={start:Vt(u.range.start),end:Vt(u.range.end)}),u.range.end<u.range.start&&(u.range.end=N1(e.allDay,u.range.start,i)),u}class Wc{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class on{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in Bj)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Fm[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Fm)n=Fm[e](n),this.mutate({standardProps:{[e]:n}});else if(e in _p){let r=_p[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,a=Kc(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=Kc(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},a=i.createMarker(e),l;if(a&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){let u=this._instance.range;r.allDay===!0&&(u=zj(u));let d=Kc(u.start,a,i,r.granularity);if(l){let h=Kc(u.end,l,i,r.granularity);dee(d,h)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:h,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let n=gt(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=gt(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=gt(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=nn(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),a=hx(s,n.instanceId);a=px(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let u=new on(i,r,n);this._def=a.defs[r.defId],this._instance=a.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:a}),i.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:Sl(a,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=Xj(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Wc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,a={allDay:n.allDay};return n.title&&(a.title=n.title),i&&(a.start=i),s&&(a.end=s),n.publicId&&(a.id=n.publicId),n.groupId&&(a.groupId=n.groupId),n.url&&(a.url=n.url),r.display&&r.display!=="auto"&&(a.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?a.color=r.backgroundColor:(r.backgroundColor&&(a.backgroundColor=r.backgroundColor),r.borderColor&&(a.borderColor=r.borderColor)),r.textColor&&(a.textColor=r.textColor),r.classNames.length&&(a.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,n.extendedProps):a.extendedProps=n.extendedProps),a}toJSON(){return this.toPlainObject()}}function Xj(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Sl(t,e,n){let{defs:r,instances:i}=t,s=[],a=n?n.instanceId:"";for(let l in i){let u=i[l],d=r[u.defId];u.instanceId!==a&&s.push(new on(e,d,u))}return s}function Dw(t,e,n,r){let i={},s={},a={},l=[],u=[],d=Sp(t.defs,e);for(let h in t.defs){let g=t.defs[h];d[g.defId].display==="inverse-background"&&(g.groupId?(i[g.groupId]=[],a[g.groupId]||(a[g.groupId]=g)):s[h]=[])}for(let h in t.instances){let g=t.instances[h],p=t.defs[g.defId],v=d[p.defId],_=g.range,b=!p.allDay&&r?ux(_,r):_,w=Eo(b,n);w&&(v.display==="inverse-background"?p.groupId?i[p.groupId].push(w):s[g.defId].push(w):v.display!=="none"&&(v.display==="background"?l:u).push({def:p,ui:v,instance:g,range:w,isStart:b.start&&b.start.valueOf()===w.start.valueOf(),isEnd:b.end&&b.end.valueOf()===w.end.valueOf()}))}for(let h in i){let g=i[h],p=O1(g,n);for(let v of p){let _=a[h],b=d[_.defId];l.push({def:_,ui:b,instance:null,range:v,isStart:!1,isEnd:!1})}}for(let h in s){let g=s[h],p=O1(g,n);for(let v of p)l.push({def:t.defs[h],ui:d[h],instance:null,range:v,isStart:!1,isEnd:!1})}return{bg:l,fg:u}}function Bte(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function I1(t,e){t.fcSeg=e}function du(t){return t.fcSeg||t.parentNode.fcSeg||null}function Sp(t,e){return ba(t,n=>Zj(n,e))}function Zj(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),qj(n)}function vx(t,e){let n=t.map($te);return n.sort((r,i)=>iee(r,i,e)),n.map(r=>r._seg)}function $te(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function Vte(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,a=s.startEditable;for(let l of r)a=l(a,i,s,e);return a}function qte(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Wte(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function of(t,e,n,r,i,s,a){let{dateEnv:l,options:u}=n,{displayEventTime:d,displayEventEnd:h}=u,g=t.eventRange.def,p=t.eventRange.instance;d==null&&(d=r!==!1),h==null&&(h=i!==!1);let v=p.range.start,_=p.range.end,b=s||t.start||t.eventRange.range.start,w=a||t.end||t.eventRange.range.end,x=Vt(v).valueOf()===Vt(b).valueOf(),E=Vt(xo(_,-1)).valueOf()===Vt(xo(w,-1)).valueOf();return d&&!g.allDay&&(x||E)?(b=x?v:b,w=E?_:w,h&&g.hasEnd?l.formatRange(b,w,e,{forcedStartTzo:s?null:p.forcedStartTzo,forcedEndTzo:a?null:p.forcedEndTzo}):l.format(b,e,{forcedTzo:s?null:p.forcedStartTzo})):""}function ga(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&ha(e,r.start)}}function Gte(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function Jj(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function yx(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:a}=e,{eventInteractive:l}=a;return l==null&&(l=n.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?Mj(u=>{s.trigger("eventClick",{el:u.target,event:new on(e,n,r),jsEvent:u,view:e.viewApi})}):{}}const Yte={start:le,end:le,allDay:Boolean};function Kte(t,e,n){let r=Qte(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function Qte(t,e){let{refined:n,extra:r}=sx(t,Yte),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:a}=n;return a==null&&(a=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:a},r)}function Xte(t,e){return hte(t.range,e.range)&&t.allDay===e.allDay&&Zte(t,e)}function Zte(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function Jte(t,e){return Object.assign(Object.assign({},tL(t.range,e,t.allDay)),{allDay:t.allDay})}function eL(t,e,n){return Object.assign(Object.assign({},tL(t,e,n)),{timeZone:e.timeZone})}function tL(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function ene(t,e,n){let r=Vj({editable:!1},n),i=Aw(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:Zj(i,e),instance:dx(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function tne(t,e,n){let r=!1,i=function(l){r||(r=!0,e(l))},s=function(l){r||(r=!0,n(l))},a=t(i,s);a&&typeof a.then=="function"&&a.then(i,s)}class P1 extends Error{constructor(e,n){super(e),this.response=n}}function nne(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new P1("Failure parsing JSON",i)});throw new P1("Request failed",i)})}let t_;function nL(){return t_==null&&(t_=rne()),t_}function rne(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class ine extends Ct{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{bp(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{bp(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",a=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return nL()||a.push("fc-liquid-hack"),e.children(a,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let Ou=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function sne(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function bx(t){return{[t.component.uid]:t}}const Mw={};class Hl extends li{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,a;return i?(s=n.dateEnv.startOf(r,e.unit),a=n.dateEnv.add(s,gt(1,e.unit)).valueOf()-r.valueOf()):(s=r,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:ane(s)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Hl.contextType=xa;function ane(t){let e=Vt(t),n=In(e,1);return{start:e,end:n}}class one{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,a;for(let l in n)i.push(l);for(s=0;s<i.length;s+=1)if(a=n[i[s]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=gt(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),nn(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),nn(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=Kte(r,i.dateEnv,gt({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),Qj(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Ute(e,n))}addEvent(e,n){if(e instanceof on){let a=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ow({def:a,instance:l})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Wc)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=ox(r.eventSources));else if(n!=null){let a=this.getEventSourceById(n);if(!a)return console.warn(`Could not find an event source with ID "${n}"`),null;i=a.internalEventSource}let s=$j(e,i,r,!1);if(s){let a=new on(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ow(s)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Xj(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let a=r[s];if(a.publicId===e){if(a.recurringDef)return new on(n,a,null);for(let l in i){let u=i[l];if(u.defId===a.defId)return new on(n,a,u)}}}return null}getEvents(){let e=this.getCurrentData();return Sl(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Wc(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Wc(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Wc)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Wj(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Wc(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=gt(e);n&&this.trigger("_scrollRequest",{time:n})}}function lne(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function rL(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function cne(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function une(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function dne(t,e){return{left:t.left-e.left,top:t.top-e.top}}const n_=ci();class fne{constructor(){this.getKeysForEventDefs=Pe(this._getKeysForEventDefs),this.splitDateSelection=Pe(this._splitDateSpan),this.splitEventStore=Pe(this._splitEventStore),this.splitIndividualUi=Pe(this._splitIndividualUi),this.splitEventDrag=Pe(this._splitInteraction),this.splitEventResize=Pe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),a=this.splitEventStore(e.eventStore,r),l=this.splitEventDrag(e.eventDrag),u=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=ba(n,(h,g)=>this.eventUiBuilders[g]||Pe(hne));for(let h in n){let g=n[h],p=a[h]||n_,v=this.eventUiBuilders[h];d[h]={businessHours:g.businessHours||e.businessHours,dateSelection:i[h]||null,eventStore:p,eventUiBases:v(e.eventUiBases[""],g.ui,s[h]),eventSelection:p.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[h]||null,eventResize:u[h]||null}}return d}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return ba(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let a in r)for(let l of n[a])s[l]||(s[l]=ci()),s[l].defs[a]=r[a];for(let a in i){let l=i[a];for(let u of n[l.defId])s[u]&&(s[u].instances[a]=l)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),a=l=>{n[l]||(n[l]={affectedEvents:r[l]||n_,mutatedEvents:s[l]||n_,isEvent:e.isEvent})};for(let l in r)a(l);for(let l in s)a(l)}return n}}function hne(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":qj(r)};return n&&Object.assign(i,n),i}function _x(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!ha(r.activeRange,t))),isOther:!!(r&&!ha(r.currentRange,t)),isToday:!!(e&&ha(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function bv(t,e){let n=["fc-day",`fc-day-${pee[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const gne=nn({year:"numeric",month:"long",day:"numeric"}),mne=nn({week:"long"});function fu(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:a}=t;let l=i.format(e,n==="week"?mne:gne);if(s.navLinks){let u=i.toDate(e);const d=h=>{let g=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof g=="function"?g.call(a,i.toDate(e),h):(typeof g=="string"&&(n=g),a.zoomTo(e,n))};return Object.assign({title:sf(s.navLinkHint,[l,u],l),"data-navlink":""},r?Dj(d):{onClick:d})}return{"aria-label":l}}let r_=null;function pne(){return r_===null&&(r_=vne()),r_}function vne(){let t=document.createElement("div");rf(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return ex(t),n}let i_;function yne(){return i_||(i_=bne()),i_}function bne(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=iL(t);return document.body.removeChild(t),e}function iL(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function _ne(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,l=iL(t),u=l.y-r-i,d=l.x-s-a,h={borderLeft:r,borderRight:i,borderTop:s,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return pne()&&n.direction==="rtl"?h.scrollbarLeft=u:h.scrollbarRight=u,e&&(h.paddingLeft=parseInt(n.paddingLeft,10)||0,h.paddingRight=parseInt(n.paddingRight,10)||0,h.paddingTop=parseInt(n.paddingTop,10)||0,h.paddingBottom=parseInt(n.paddingBottom,10)||0),h}function wne(t,e=!1,n){let r=wx(t),i=_ne(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function wx(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Sne(t){let e=sL(t),n=t.getBoundingClientRect();for(let r of e){let i=rL(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function sL(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class hu{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return lm(this.tops||[],e.tops||[])&&lm(this.bottoms||[],e.bottoms||[])&&lm(this.lefts||[],e.lefts||[])&&lm(this.rights||[],e.rights||[])}}function lm(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class Sx{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class xne extends Sx{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Ene extends Sx{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class os extends Ct{constructor(){super(...arguments),this.uid=Ul()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!gr(e,".fc-event-mirror")}isValidDateDownEl(e){return!gr(e,".fc-event:not(.fc-bg-event)")&&!gr(e,".fc-more-link")&&!gr(e,"a[data-navlink]")&&!gr(e,".fc-popover")}}class aL{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:xx(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(s_(i,n.level,n.levelCoord),s_(r,n.level,[e])):s_(r[n.level],n.lateral,e),this.stackCnts[xl(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,a=n.length,l=0,u=-1,d=-1,h=null,g=0;for(let _=0;_<a;_+=1){const b=n[_];if(!i&&b>=l+this.getEntryThickness(e))break;let w=r[_],x,E=Nw(w,e.span.start,kw),R=E[0]+E[1];for(;(x=w[R])&&x.span.start<e.span.end;){let O=b+this.getEntryThickness(x);O>l&&(l=O,h=x,u=_,d=R),O===l&&(g=Math.max(g,s[xl(x)]+1)),R+=1}}let p=0;if(h)for(p=u+1;p<a&&n[p]<l;)p+=1;let v=-1;return p<a&&n[p]===l&&(v=Nw(r[p],e.span.end,kw)[0]),{touchingLevel:u,touchingLateral:d,touchingEntry:h,stackCnt:g,levelCoord:l,level:p,lateral:v}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let a=e[s],l=n[s];for(let u of a)i.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:l}))}return i}}function kw(t){return t.span.end}function xl(t){return t.index+":"+t.span.start}function Rne(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)xx(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:Cne(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function Cne(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function xx(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function s_(t,e,n){t.splice(e,0,n)}function Nw(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),a=n(t[s]);if(e<a)i=s;else if(e>a)r=s+1;else return[s,1]}return[r,0]}class Tne{constructor(e,n){this.emitter=new yv}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Ex={};function Ane(t,e){return!t||e>10?nn({weekday:"short"}):e>1?nn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):nn({weekday:"long"})}const oL="fc-col-header-cell";function lL(t){return t.text}class One extends Ct{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:a,dateProfile:l}=s,u=_x(a,s.todayRange,null,l),d=[oL].concat(bv(u,r)),h=e.format(a,s.dayHeaderFormat),g=!u.isDisabled&&s.colCnt>1?fu(this.context,a):{},p=e.toDate(a);e.namedTimeZoneImpl&&(p=xo(p,36e5));let v=Object.assign(Object.assign(Object.assign({date:p,view:i},s.extraRenderProps),{text:h}),u);return B(vr,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":u.isDisabled?void 0:ah(a)},s.extraDataAttrs),renderProps:v,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:lL,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},_=>B("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&B(_,{elTag:"a",elAttrs:g,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const Dne=nn({weekday:"long"});class Mne extends Ct{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,a=In(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=n.format(a,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:a},l),{view:i}),e.extraRenderProps),{text:u});return B(vr,{elTag:"th",elClasses:[oL,...bv(l,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:lL,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},h=>B("div",{className:"fc-scrollgrid-sync-inner"},B(h,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(a,Dne)}})))}}class cL extends Ct{constructor(){super(...arguments),this.createDayHeaderFormatter=Pe(kne)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return B(Hl,{unit:"day"},(l,u)=>B("tr",{role:"row"},s&&s("day"),n.map(d=>i?B(One,{key:d.toISOString(),date:d,dateProfile:r,todayRange:u,colCnt:n.length,dayHeaderFormat:a}):B(Mne,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:a}))))}}function kne(t,e,n){return t||Ane(e,n)}class uL{constructor(e,n){let r=e.start,{end:i}=e,s=[],a=[],l=-1;for(;r<i;)n.isHiddenDay(r)?s.push(l+.5):(l+=1,s.push(l),a.push(r)),r=In(r,1);this.dates=a,this.indices=s,this.cnt=a.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(In(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Mo(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class dL{constructor(e,n){let{dates:r}=e,i,s,a;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);a=Math.ceil(r.length/i)}else a=1,i=r.length;this.rowCnt=a,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:a}=r,l=s;for(;l<=a;){let u=Math.floor(l/n),d=Math.min((u+1)*n,a+1);i.push({row:u,firstCol:l%n,lastCol:(d-1)%n,isStart:r.isStart&&l===s,isEnd:r.isEnd&&d-1===a}),l=d}}return i}}class fL{constructor(){this.sliceBusinessHours=Pe(this._sliceBusinessHours),this.sliceDateSelection=Pe(this._sliceDateSpan),this.sliceEventStore=Pe(this._sliceEventStore),this.sliceEventDrag=Pe(this._sliceInteraction),this.sliceEventResize=Pe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:a}=e,l=this.sliceEventStore(e.eventStore,a,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,a,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,a,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:xo(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(Dl(e,cm(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let a=Dw(e,n,cm(r,!!i),i);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let a=Dw(e.mutatedEvents,n,cm(r,!!i),i);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...a){if(!e)return[];let l=cm(n,!!r),u=Eo(e.range,l);if(u){e=Object.assign(Object.assign({},e),{range:u});let d=ene(e,i,s),h=this.sliceRange(e.range,...a);for(let g of h)g.eventRange=d;return h}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:In(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function cm(t,e){let n=t.activeRange;return e?n:{start:xo(n.start,t.slotMinTime.milliseconds),end:xo(n.end,t.slotMaxTime.milliseconds-864e5)}}function hL(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!pv(e.validRange,r[i].range))return!1;return gL({eventDrag:t},n)}function Nne(t,e,n){return pv(e.validRange,t.range)?gL({dateSelection:t},n):!1}function gL(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Ine)(r,e)}function Ine(t,e,n={},r){return!(t.eventDrag&&!Pne(t,e,n,r)||t.dateSelection&&!jne(t,e,n,r))}function Pne(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,a=s.mutatedEvents,l=a.defs,u=a.instances,d=Sp(l,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(d=ba(d,r));let h=kte(t.eventStore,s.affectedEvents.instances),g=h.defs,p=h.instances,v=Sp(g,t.eventUiBases);for(let _ in u){let b=u[_],w=b.range,x=d[b.defId],E=l[b.defId];if(!mL(x.constraints,w,h,t.businessHours,e))return!1;let{eventOverlap:R}=e.options,O=typeof R=="function"?R:null;for(let I in p){let k=p[I];if(cx(w,k.range)&&(v[k.defId].overlap===!1&&s.isEvent||x.overlap===!1||O&&!O(new on(e,g[k.defId],k),new on(e,E,b))))return!1}let A=i.eventStore;for(let I of x.allows){let k=Object.assign(Object.assign({},n),{range:b.range,allDay:E.allDay}),M=A.defs[E.defId],L=A.instances[_],H;if(M?H=new on(e,M,L):H=new on(e,E),!I(mx(k,e),H))return!1}}return!0}function jne(t,e,n,r){let i=t.eventStore,s=i.defs,a=i.instances,l=t.dateSelection,u=l.range,{selectionConfig:d}=e.getCurrentData();if(r&&(d=r(d)),!mL(d.constraints,u,i,t.businessHours,e))return!1;let{selectOverlap:h}=e.options,g=typeof h=="function"?h:null;for(let p in a){let v=a[p];if(cx(u,v.range)&&(d.overlap===!1||g&&!g(new on(e,s[v.defId],v),null)))return!1}for(let p of d.allows){let v=Object.assign(Object.assign({},n),l);if(!p(mx(v,e),null))return!1}return!0}function mL(t,e,n,r,i){for(let s of t)if(!Fne(Lne(s,e,n,r,i),e))return!1;return!0}function Lne(t,e,n,r,i){return t==="businessHours"?a_(Dl(r,e,i)):typeof t=="string"?a_(vv(n,s=>s.groupId===t)):typeof t=="object"&&t?a_(Dl(t,e,i)):[]}function a_(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function Fne(t,e){for(let n of t)if(pv(n,e))return!0;return!1}const um=/^(visible|hidden)$/;class pL extends Ct{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Ts(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),B("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(um.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(um.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return um.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return um.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ca{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,a=!1,l=!1;n!==null?(a=r in s,s[r]=n,i[r]=(i[r]||0)+1,l=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(r)),l&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return Qee(this.currentMap,e,n,r)}getAll(){return ox(this.currentMap)}}function Une(t){let e=YJ(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,lee(r));return Math.ceil(n)}function vL(t,e){return t.liquid&&e.liquid}function zne(t,e){return e.maxHeight!=null||vL(t,e)}function Hne(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):B("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,B(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function Bne(t,e){return So(t,e,is)}function $ne(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(B("col",{style:{width:r.width==="shrink"?Vne(e):r.width||"",minWidth:r.minWidth||""}}))}return B("colgroup",{},...n)}function Vne(t){return t??4}function qne(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Wne(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function Gne(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Iw(t){return B("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function xp(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function yL(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Rx extends Ct{constructor(){super(...arguments),this.processCols=Pe(e=>e,Bne),this.renderMicroColGroup=Pe($ne),this.scrollerRefs=new ca,this.scrollerElRefs=new ca(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),a=this.renderMicroColGroup(s,n.shrinkWidth),l=Wne(e.liquid,r);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let u=i.length,d=0,h,g=[],p=[],v=[];for(;d<u&&(h=i[d]).type==="header";)g.push(this.renderSection(h,a,!0)),d+=1;for(;d<u&&(h=i[d]).type==="body";)p.push(this.renderSection(h,a,!1)),d+=1;for(;d<u&&(h=i[d]).type==="footer";)v.push(this.renderSection(h,a,!0)),d+=1;let _=!nL();const b={role:"rowgroup"};return B("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!_&&g.length)&&B("thead",b,...g),!!(!_&&p.length)&&B("tbody",b,...p),!!(!_&&v.length)&&B("tfoot",b,...v),_&&B("tbody",b,...g,...p,...v))}renderSection(e,n,r){return"outerContent"in e?B(Ut,{key:e.key},e.outerContent):B("tr",{key:e.key,role:"presentation",className:Gne(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:u}=this.state,d=zne(s,e),h=vL(s,e),g=s.liquid?a?"scroll":d?"auto":"hidden":"visible",p=e.key,v=Hne(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[p]!==void 0?l[p]:null,clientHeight:u[p]!==void 0?u[p]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return B(i?"th":"td",{ref:r.elRef,role:"presentation"},B("div",{className:`fc-scroller-harness${h?" fc-scroller-harness-liquid":""}`},B(pL,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:g,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:h,liquidIsAbsolute:!0},v)))}_handleScrollerEl(e,n){let r=Yne(this.props.sections,n);r&&Ts(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return qne(this.props.cols)?Une(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=yne(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},a={};for(let l in n.currentMap){let u=n.currentMap[l];if(u&&u.needsYScrolling()){i=!0;break}}for(let l of this.props.sections){let u=l.key,d=r.currentMap[u];if(d){let h=d.parentNode;s[u]=Math.floor(h.getBoundingClientRect().width-(i?e.y:0)),a[u]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:a}}}Rx.addStateEquality({scrollerClientWidths:is,scrollerClientHeights:is});function Yne(t,e){for(let n of t)if(n.key===e)return n;return null}class _v extends Ct{constructor(){super(...arguments),this.buildPublicEvent=Pe((e,n,r)=>new on(e,n,r)),this.handleEl=e=>{this.el=e,Ts(this.props.elRef,e),e&&I1(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:a}=s,l={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&Vte(i,n),isStartResizable:!e.disableResizing&&qte(i,n),isEndResizable:!e.disableResizing&&Wte(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return B(vr,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Gte(l),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&I1(this.el,this.props.seg)}}class Cx extends Ct{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,a=r.eventTimeFormat||e.defaultTimeFormat,l=of(i,a,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return B(_v,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:yx(i,n),defaultGenerator:Kne,timeText:l}),(u,d)=>B(Ut,null,B(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&B("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&B("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Cx.addPropsEquality({seg:is});function Kne(t){return B("div",{className:"fc-event-main-frame"},t.timeText&&B("div",{className:"fc-event-time"},t.timeText),B("div",{className:"fc-event-title-container"},B("div",{className:"fc-event-title fc-sticky"},t.event.title||B(Ut,null,""))))}const Tx=t=>B(xa.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return B(vr,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),Qne=nn({day:"numeric"});class Ax extends Ct{constructor(){super(...arguments),this.refineRenderProps=Lm(Xne)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return B(vr,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":ah(e.date)}),elClasses:[...bv(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function Ox(t){return!!(t.dayCellContent||Tw("dayCellContent",t))}function Xne(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=_x(e,t.todayRange,null,r),a=t.showDayNumber?n.format(e,i?t.monthStartFormat:Qne):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:a}),t.extraRenderProps)}class bL extends Ct{render(){let{props:e}=this,{seg:n}=e;return B(_v,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:Zne,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Zne(t){let{title:e}=t.event;return e&&B("div",{className:"fc-event-title"},t.event.title)}function _L(t){return B("div",{className:`fc-${t}`})}const wL=t=>B(xa.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,a=n.computeWeekNumber(i),l=n.format(i,s),u={num:a,text:l,date:i};return B(vr,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Jne,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function Jne(t){return t.text}const o_=10;class ere extends Ct{constructor(){super(...arguments),this.state={titleId:po()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Ts(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=Aj(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return IJ(B("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),B("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},B("span",{className:"fc-popover-title",id:i.titleId},r.title),B("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),B("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=Sne(n);if(s){let a=i.getBoundingClientRect(),l=r?gr(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,u=e?s.right-a.width:s.left;l=Math.max(l,o_),u=Math.min(u,document.documentElement.clientWidth-o_-a.width),u=Math.max(u,o_);let d=i.offsetParent.getBoundingClientRect();rf(i,{top:l-d.top,left:u-d.left})}}}class tre extends os{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:a}=r,l=n.format(i,e.dayPopoverFormat);return B(Ax,{elRef:this.handleRootEl,date:i,dateProfile:a,todayRange:s},(u,d,h)=>B(ere,{elRef:h.ref,id:r.id,title:l,extraClassNames:["fc-more-popover"].concat(h.className||[]),extraAttrs:h,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Ox(e)&&B(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:a}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class SL extends Ct{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:po()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Ts(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=j1(n).start;function a(l){let{def:u,instance:d,range:h}=l.eventRange;return{event:new on(r,u,d),start:r.dateEnv.toDate(h.start),end:r.dateEnv.toDate(h.end),isStart:l.isStart,isEnd:l.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(a),hiddenSegs:n.hiddenSegs.map(a),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return B(xa.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:a}=r,{moreLinkText:l}=s,{moreCnt:u}=e,d=j1(e),h=typeof l=="function"?l.call(a,u):`+${u} ${l}`,g=sf(s.moreLinkHint,[u],h),p={num:u,shortText:`+${u}`,text:h,view:i};return B(Ut,null,!!e.moreCnt&&B(vr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Dj(this.handleClick)),{title:g,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:p,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||nre,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&B(tre,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=gr(this.linkEl,".fc-view-harness"))}}function nre(t){return t.text}function j1(t){if(t.allDayDate)return{start:t.allDayDate,end:In(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:xL(e),end:ire(e)}}function xL(t){return t.reduce(rre).eventRange.range.start}function rre(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function ire(t){return t.reduce(sre).eventRange.range.end}function sre(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class are{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class ore extends are{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const lre=[],EL={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},RL=Object.assign(Object.assign({},EL),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function cre(t){let e=t.length>0?t[0].code:"en",n=lre.concat(t),r={en:RL};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function CL(t,e){return typeof t=="object"&&!Array.isArray(t)?TL(t.code,[t.code],t):ure(t,e)}function ure(t,e){let n=[].concat(t||[]),r=dre(n,e)||RL;return TL(t,n,r)}function dre(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function TL(t,e,n){let r=ax([EL,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function Ms(t){return{id:Ul(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function fre(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let a of s){const l=a.name,u=n[l];u===void 0?(n[l]=a.id,i(a.deps),r=gre(r,a)):u!==a.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&i(t),i(e),r}function hre(){let t=[],e=[],n;return(r,i)=>((!n||!So(r,t)||!So(i,e))&&(n=fre(r,i)),t=r,e=i,n)}function gre(t,e){return{premiumReleaseDate:mre(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function mre(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class ko extends oh{}ko.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ko.prototype.baseIconClass="fc-icon";ko.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ko.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ko.prototype.iconOverrideOption="buttonIcons";ko.prototype.iconOverrideCustomButtonOption="icon";ko.prototype.iconOverridePrefix="fc-icon-";function pre(t,e){let n={},r;for(r in t)Pw(r,n,t,e);for(r in e)Pw(r,n,t,e);return n}function Pw(t,e,n,r){if(e[t])return e[t];let i=vre(t,e,n,r);return i&&(e[t]=i),i}function vre(t,e,n,r){let i=n[t],s=r[t],a=h=>i&&i[h]!==null?i[h]:s&&s[h]!==null?s[h]:null,l=a("component"),u=a("superType"),d=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");d=Pw(u,e,n,r)}return!l&&d&&(l=d.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},d?d.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function L1(t){return ba(t,yre)}function yre(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=F1(e):n&&!(n.prototype instanceof Ct)&&(n=F1(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function F1(t){return e=>B(xa.Consumer,null,n=>B(vr,{elTag:"div",elClasses:Uj(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function bre(t,e,n,r){let i=L1(t),s=L1(e.views),a=pre(i,s);return ba(a,l=>_re(l,s,e,n,r))}function _re(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,a=null,l="",u="",d={};if(s&&(a=wre(s),a)){let p=Cw(a);l=p.unit,p.value===1&&(u=l,d=e[l]?e[l].rawOptions:{})}let h=p=>{let v=p.buttonText||{},_=t.defaults.buttonTextKey;return _!=null&&v[_]!=null?v[_]:v[t.type]!=null?v[t.type]:v[u]!=null?v[u]:null},g=p=>{let v=p.buttonHints||{},_=t.defaults.buttonTextKey;return _!=null&&v[_]!=null?v[_]:v[t.type]!=null?v[t.type]:v[u]!=null?v[u]:null};return{type:t.type,component:t.component,duration:a,durationUnit:l,singleUnit:u,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:h(r)||h(n)||t.overrides.buttonText,buttonTextDefault:h(i)||t.defaults.buttonText||h(af)||t.type,buttonTitleOverride:g(r)||g(n)||t.overrides.buttonHint,buttonTitleDefault:g(i)||t.defaults.buttonHint||g(af)}}let U1={};function wre(t){let e=JSON.stringify(t),n=U1[e];return n===void 0&&(n=gt(t),U1[e]=n),n}function Sre(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function xre(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Ere(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function Rre(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Cre(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Tre(t,e,n){let r=e?e.activeRange:null;return OL({},Ire(t,n),r,n)}function Are(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return OL(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Dre(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?DL(t,i,r):t;case"FETCH_EVENT_SOURCES":return Dx(t,e.sourceIds?Ij(e.sourceIds):ML(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Nre(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Ore(t,e,n){let r=e?e.activeRange:null;return Dx(t,ML(t,n),r,!0,n)}function AL(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function OL(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=DL(i,n,r)),Object.assign(Object.assign({},t),i)}function Dre(t,e){return Ol(t,n=>n.sourceId!==e)}function DL(t,e,n){return Dx(t,Ol(t,r=>Mre(r,e,n)),e,!1,n)}function Mre(t,e,n){return kL(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Dx(t,e,n,r,i){let s={};for(let a in t){let l=t[a];e[a]?s[a]=kre(l,n,r,i):s[a]=l}return s}function kre(t,e,n,r){let{options:i,calendarApi:s}=r,a=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=Ul();return a.fetch({eventSource:t,range:e,isRefetch:n,context:r},u=>{let{rawEvents:d}=u;i.eventSourceSuccess&&(d=i.eventSourceSuccess.call(s,d,u.response)||d),t.success&&(d=t.success.call(s,d,u.response)||d),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},u=>{let d=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,u),d=!0),t.failure&&(t.failure(u),d=!0),d||console.warn(u.message,u),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:u})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function Nre(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function ML(t,e){return Ol(t,n=>kL(n,e))}function Ire(t,e){let n=Gj(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let a=Wj(s,e,n);a&&i.push(a)}return i}function kL(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Pre(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function jre(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Lre(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Fre(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Ure(t,e,n,r,i){let s=t.headerToolbar?z1(t.headerToolbar,t,e,n,r,i):null,a=t.footerToolbar?z1(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:a}}function z1(t,e,n,r,i,s){let a={},l=[],u=!1;for(let d in t){let h=t[d],g=zre(h,e,n,r,i,s);a[d]=g.widgets,l.push(...g.viewsWithButtons),u=u||g.hasTitle}return{sectionWidgets:a,viewsWithButtons:l,hasTitle:u}}function zre(t,e,n,r,i,s){let a=e.direction==="rtl",l=e.customButtons||{},u=n.buttonText||{},d=e.buttonText||{},h=n.buttonHints||{},g=e.buttonHints||{},p=t?t.split(" "):[],v=[],_=!1;return{widgets:p.map(w=>w.split(",").map(x=>{if(x==="title")return _=!0,{buttonName:x};let E,R,O,A,I,k;if(E=l[x])O=M=>{E.click&&E.click.call(M.target,M,M.target)},(A=r.getCustomButtonIconClass(E))||(A=r.getIconClass(x,a))||(I=E.text),k=E.hint||E.text;else if(R=i[x]){v.push(x),O=()=>{s.changeView(x)},(I=R.buttonTextOverride)||(A=r.getIconClass(x,a))||(I=R.buttonTextDefault);let M=R.buttonTextOverride||R.buttonTextDefault;k=sf(R.buttonTitleOverride||R.buttonTitleDefault||e.viewHint,[M,x],M)}else if(s[x])if(O=()=>{s[x]()},(I=u[x])||(A=r.getIconClass(x,a))||(I=d[x]),x==="prevYear"||x==="nextYear"){let M=x==="prevYear"?"prev":"next";k=sf(h[M]||g[M],[d.year||"year","year"],d[x])}else k=M=>sf(h[x]||g[x],[d[M]||M,M],d[x]);return{buttonName:x,buttonClick:O,buttonIcon:A,buttonText:I,buttonHint:k}})),viewsWithButtons:v,hasTitle:_}}class Hre{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Bre={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const $re=Ms({name:"array-event-source",eventSourceDefs:[Bre]});let Vre={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;tne(i.bind(null,eL(t.range,r)),s=>e({rawEvents:s}),n)}};const qre=Ms({name:"func-event-source",eventSourceDefs:[Vre]}),Wre={method:String,extraParams:le,startParam:String,endParam:String,timeZoneParam:String};let Gre={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=Kre(r,t.range,t.context);nne(r.method,r.url,i).then(([s,a])=>{e({rawEvents:s,response:a})},n)}};const Yre=Ms({name:"json-event-source",eventSourceRefiners:Wre,eventSourceDefs:[Gre]});function Kre(t,e,n){let{dateEnv:r,options:i}=n,s,a,l,u,d={};return s=t.startParam,s==null&&(s=i.startParam),a=t.endParam,a==null&&(a=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},Object.assign(d,u),d[s]=r.formatIso(e.start),d[a]=r.formatIso(e.end),r.timeZone!=="local"&&(d[l]=r.timeZone),d}const Qre={daysOfWeek:le,startTime:gt,endTime:gt,duration:gt,startRecur:le,endRecur:le};let Xre={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=fee(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Eo(e,{start:t.startRecur,end:t.endRecur});return r?Jre(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const Zre=Ms({name:"simple-recurring-event",recurringTypes:[Xre],eventRefiners:Qre});function Jre(t,e,n,r,i){let s=t?Ij(t):null,a=Vt(i.start),l=i.end,u=[];for(e&&(e.milliseconds<0?l=In(l,1):e.milliseconds>=1e3*60*60*24&&(a=In(a,-1)));a<l;){let d;(!s||s[a.getUTCDay()])&&(e?d=r.add(a,e):d=a,u.push(r.createMarker(n.toDate(d)))),a=In(a,1)}return u}const eie=Ms({name:"change-handler",optionChangeHandlers:{events(t,e){H1([t],e)},eventSources:H1}});function H1(t,e){let n=ox(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let a=0;a<n.length;a+=1)if(n[a]._raw===i){n.splice(a,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function tie(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},eL(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function nie(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Sl(t,e))}const rie=[$re,qre,Yre,Zre,eie,Ms({name:"misc",isLoadingFuncs:[t=>AL(t.eventSources)],propSetHandlers:{dateProfile:tie,eventStore:nie}})];class iie{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new JS(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function sie(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,nn(e.titleFormat||aie(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function aie(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=mp(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class B1{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class oie{constructor(e){this.computeCurrentViewData=Pe(this._computeCurrentViewData),this.organizeRawLocales=Pe(cre),this.buildLocale=Pe(CL),this.buildPluginHooks=hre(),this.buildDateEnv=Pe(lie),this.buildTheme=Pe(cie),this.parseToolbars=Pe(Ure),this.buildViewSpecs=Pe(bre),this.buildDateProfileGenerator=Lm(uie),this.buildViewApi=Pe(die),this.buildViewUiProps=Lm(gie),this.buildEventUiBySource=Pe(fie,is),this.buildEventUiBases=Pe(hie),this.parseContextBusinessHours=Lm(mie),this.buildTitle=Pe(sie),this.nowManager=new B1,this.emitter=new yv,this.actionRunner=new iie(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=p=>{this.actionRunner.request(p)},this.props=e,this.actionRunner.pause(),this.nowManager=new B1;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let a={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=Ere(r.calendarOptions,r.dateEnv,this.nowManager),u=s.dateProfileGenerator.build(l);ha(u.activeRange,l)||(l=u.currentRange.start);for(let p of r.pluginHooks.contextInit)p(a);let d=Tre(r.calendarOptions,u,a),h={dynamicOptionOverrides:n,currentViewType:i,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(a),eventSources:d,eventUiBases:{},eventStore:ci(),renderableEventStore:ci(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},g=Object.assign(Object.assign({},a),h);for(let p of r.pluginHooks.reducers)Object.assign(h,p(null,null,g));l_(h,a)&&this.emitter.trigger("loading",!0),this.state=h,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=Rre(r.dynamicOptionOverrides,e),a=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),l=Sre(r.currentViewType,e),u=this.computeCurrentViewData(l,a,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(u.options);let d={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:g}=r;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(g=u.dateProfileGenerator.build(h)),h=xre(h,e),g=Cre(g,e,h,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ha(g.currentRange,h))&&(h=g.currentRange.start);let p=Are(r.eventSources,e,g,d),v=Ate(r.eventStore,e,p,g,d),b=AL(p)&&!u.options.progressiveEventRendering&&r.renderableEventStore||v,{eventUiSingleBase:w,selectionConfig:x}=this.buildViewUiProps(d),E=this.buildEventUiBySource(p),R=this.buildEventUiBases(b.defs,w,E),O={dynamicOptionOverrides:s,currentViewType:l,currentDate:h,dateProfile:g,eventSources:p,eventStore:v,renderableEventStore:b,selectionConfig:x,eventUiBases:R,businessHours:this.parseContextBusinessHours(d),dateSelection:Pre(r.dateSelection,e),eventSelection:jre(r.eventSelection,e),eventDrag:Lre(r.eventDrag,e),eventResize:Fre(r.eventResize,e)},A=Object.assign(Object.assign({},d),O);for(let M of a.pluginHooks.reducers)Object.assign(O,M(r,e,A));let I=l_(r,d),k=l_(O,d);!I&&k?i.trigger("loading",!0):I&&!k&&i.trigger("loading",!1),this.state=O,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),l=i.pluginHooks.optionChangeHandlers,u=r&&r.calendarOptions,d=i.calendarOptions;if(u&&u!==d){u.timeZone!==d.timeZone&&(n.eventSources=a.eventSources=Ore(a.eventSources,n.dateProfile,a),n.eventStore=a.eventStore=k1(a.eventStore,r.dateEnv,a.dateEnv),n.renderableEventStore=a.renderableEventStore=k1(a.renderableEventStore,r.dateEnv,a.dateEnv));for(let h in l)(this.optionsForHandling.indexOf(h)!==-1||u[h]!==d[h])&&l[h](d[h],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:a,availableLocaleData:l,extra:u}=this.processRawCalendarOptions(e,n);$1(u);let d=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,l,i.defaultRangeSeparator),h=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),g=this.buildTheme(i,s),p=this.parseToolbars(i,this.stableOptionOverrides,g,h,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:d,viewSpecs:h,theme:g,toolbarConfig:p,localeDefaults:a,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=J0([af,e,n]),s=this.organizeRawLocales(r),a=s.map,l=this.buildLocale(i||s.defaultCode,a).options,u=this.buildPluginHooks(e.plugins||[],rie),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},C1),T1),A1),u.listenerRefiners),u.optionRefiners),h={},g=J0([af,l,e,n]),p={},v=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,b=!1;for(let w in g)this.optionsForRefining.indexOf(w)===-1&&(g[w]===v[w]||ol[w]&&w in v&&ol[w](v[w],g[w]))?p[w]=_[w]:d[w]?(p[w]=d[w](g[w]),b=!0):h[w]=v[w];return b&&(this.currentCalendarOptionsInput=g,this.currentCalendarOptionsRefined=p,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:s,localeDefaults:l,extra:h}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:l}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);$1(l),this.nowManager.handleInput(n.dateEnv,a.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:u,viewApi:d}}processRawViewOptions(e,n,r,i,s){let a=J0([af,e.optionDefaults,r,i,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},C1),T1),A1),qee),n.listenerRefiners),n.optionRefiners),u={},d=this.currentViewOptionsInput,h=this.currentViewOptionsRefined,g=!1,p={};for(let v in a)a[v]===d[v]||ol[v]&&ol[v](a[v],d[v])?u[v]=h[v]:(a[v]===this.currentCalendarOptionsInput[v]||ol[v]&&ol[v](a[v],this.currentCalendarOptionsInput[v])?v in this.currentCalendarOptionsRefined&&(u[v]=this.currentCalendarOptionsRefined[v]):l[v]?u[v]=l[v](a[v]):p[v]=a[v],g=!0);return g&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}}}function lie(t,e,n,r,i,s,a,l){let u=CL(e||a.defaultCode,a.map);return new nte({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function cie(t,e){let n=e.themeClasses[t.themeSystem]||ko;return new n(t)}function uie(t){let e=t.dateProfileGeneratorClass||Hj;return new e(t)}function die(t,e,n){return new Hre(t,e,n)}function fie(t){return ba(t,e=>e.ui)}function hie(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function gie(t){let{options:e}=t;return{eventUiSingleBase:wp({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:wp({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function l_(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function mie(t){return Lte(t.options.businessHours,t)}function $1(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class pie extends Ct{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return B("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let a of e){let{buttonName:l,buttonClick:u,buttonText:d,buttonIcon:h,buttonHint:g}=a;if(l==="title")s=!1,i.push(B("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let p=l===n.activeButton,v=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",_=[`fc-${l}-button`,r.getClass("button")];p&&_.push(r.getClass("buttonActive")),i.push(B("button",{type:"button",title:typeof g=="function"?g(n.navUnit):g,disabled:v,"aria-pressed":p,className:_.join(" "),onClick:u},d||(h?B("span",{className:h,role:"img"}):"")))}}if(i.length>1){let a=s&&r.getClass("buttonGroup")||"";return B("div",{className:a},...i)}return i[0]}}class V1 extends Ct{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,a=e.sectionWidgets,l=a.center;return a.left?(r=!0,i=a.left):i=a.start,a.right?(r=!0,s=a.right):s=a.end,B("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return B(pie,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class vie extends Ct{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Ts(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",a="";return r?n.availableWidth!==null?s=n.availableWidth/r:a=`${1/r*100}%`:s=e.height||"",B("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class yie extends Ou{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,a=du(r);if(a&&i.isValidSegDownEl(n.target)){let l=gr(n.target,".fc-event-forced-url"),u=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new on(i.context,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi}),u&&!n.defaultPrevented&&(window.location.href=u)}},this.destroy=Oj(e.el,"click",".fc-event",this.handleSegClick)}}class bie extends Ou{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{du(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=XJ(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,a=du(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new on(s,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi})}}class _ie extends zl{constructor(){super(...arguments),this.buildViewContext=Pe(ste),this.buildViewPropTransformers=Pe(Sie),this.buildToolbarProps=Pe(wie),this.headerRef=Cr(),this.footerRef=Cr(),this.interactionsStore={},this.state={viewLabelId:po()},this.registerInteractiveComponent=(e,n)=>{let r=sne(e,n),a=[yie,bie].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(r));this.interactionsStore[e.uid]=a,Mw[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete Mw[e.uid]},this.resizeRunner=new JS(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,s="",a;e.isHeightAuto||e.forPrint?s="":r.height!=null?i=!0:r.contentHeight!=null?s=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return B(xa.Provider,{value:l},B(Hl,{unit:"day"},d=>{let h=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return B(Ut,null,n.header&&B(V1,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},h)),B(vie,{liquid:i,height:s,aspectRatio:a,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&B(V1,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},h)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return B(Ut,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of s)Object.assign(i,l.transform(i,e));let a=r.component;return B(a,Object.assign({},i))}}function wie(t,e,n,r,i,s){let a=n.build(i,void 0,!1),l=n.buildPrev(e,r,!1),u=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:a.isValid&&!ha(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:u.isValid}}function Sie(t){return t.map(e=>new e)}class xie extends one{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;bp(()=>{kf(B(ine,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,a,l)=>(this.setClassNames(i),this.setHeight(s),B(Fj.Provider,{value:this.customContentRenderId},B(_ie,Object.assign({isHeightAuto:a,forPrint:l},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,kf(null,this.el),this.setClassNames([]),this.setHeight(""))},BJ(e),this.el=e,this.renderRunner=new JS(this.handleRenderRequest),new oie({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){bp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!So(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){Tj(this.el,"height",e)}}const Eie=parseInt(String(be.version).split(".")[0]),Rie=Eie<18;class NL extends N.Component{constructor(){super(...arguments),this.elRef=N.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(be.createElement(Cie,{key:n.id,customRendering:n}));return be.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new ore;this.handleCustomRendering=e.handle.bind(e),this.calendar=new xie(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{aa.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),s=!n;(Rie||s||this.isUpdating||this.isUnmounting||i-n<100?IL:aa.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}NL.act=IL;class Cie extends N.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return aa.createPortal(r,e.containerEl)}}function IL(t){t()}class Tie extends os{constructor(){super(...arguments),this.headerElRef=Cr()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],a=xp(i.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),B(Nf,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},B(Rx,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:a,context:l}=this,u=!a.forPrint&&xp(l.options),d=!a.forPrint&&yL(l.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Iw}]}),B(Nf,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},B(s,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:h}))}}function Um(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function dm(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function q1(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const PL=nn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function jL(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class LL extends Ct{render(){let{props:e}=this;return B(Cx,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:PL,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class FL extends Ct{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||PL,a=of(i,s,n,!0,e.defaultDisplayEventEnd);return B(_v,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:yx(e.seg,n),defaultGenerator:Aie,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function Aie(t){return B(Ut,null,B("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&B("div",{className:"fc-event-time"},t.timeText),B("div",{className:"fc-event-title"},t.event.title||B(Ut,null,"")))}class Oie extends Ct{constructor(){super(...arguments),this.compileSegs=Pe(Die)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return B(SL,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return B(Ut,null,n.map(s=>{let a=s.eventRange.instance.instanceId;return B("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:i[a]?"hidden":""}},jL(s)?B(FL,Object.assign({seg:s,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},ga(s,e.todayRange))):B(LL,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},ga(s,e.todayRange))))}))}})}}function Die(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const Mie=nn({week:"narrow"});class kie extends os{constructor(){super(...arguments),this.rootElRef=Cr(),this.state={dayNumberId:po()},this.handleRootEl=e=>{Ts(this.rootElRef,e),Ts(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:a}=e,{date:l,dateProfile:u}=n;const d=n.showDayNumber&&Iie(l,u.currentRange,a);return B(Ax,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Nie,date:l,dateProfile:u,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(h,g)=>B("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&B(wL,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:fu(e,l,"week"),date:l,defaultFormat:Mie}),!g.isDisabled&&(n.showDayNumber||Ox(s)||n.forceDayTop)?B("div",{className:"fc-daygrid-day-top"},B(h,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},fu(e,l)),{id:r.dayNumberId})})):n.showDayNumber?B("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},B("a",{className:"fc-daygrid-day-number"},"")):void 0,B("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,B("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},B(Oie,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),B("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function Nie(t){return t.dayNumberText||B(Ut,null,"")}function Iie(t,e,n){const{start:r,end:i}=e,s=xo(i,-1),a=n.getYear(r),l=n.getMonth(r),u=n.getYear(s),d=n.getMonth(s);return!(a===u&&l===d)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function UL(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function zL(t){return UL(t)+":"+t.lastCol}function Pie(t,e,n,r,i,s,a){let l=new Fie(x=>{let E=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return i[E]||1});l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let u=[],d=[];for(let x=0;x<t.length;x+=1){let E=t[x],R=zL(E);i[R]!=null?u.push({index:x,span:{start:E.firstCol,end:E.lastCol+1}}):d.push(E)}let h=l.addSegs(u),g=l.toRects(),{singleColPlacements:p,multiColPlacements:v,leftoverMargins:_}=jie(g,t,a),b=[],w=[];for(let x of d){v[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=x.firstCol;E<=x.lastCol;E+=1)p[E].push({seg:ru(x,E,E+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)b.push(0);for(let x of h){let E=t[x.index],R=x.span;v[R.start].push({seg:ru(E,R.start,R.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let O=R.start;O<R.end;O+=1)b[O]+=1,p[O].push({seg:ru(E,O,O+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)w.push(_[x]);return{singleColPlacements:p,multiColPlacements:v,moreCnts:b,moreMarginTops:w}}function jie(t,e,n){let r=Lie(t,n.length),i=[],s=[],a=[];for(let l=0;l<n.length;l+=1){let u=r[l],d=[],h=0,g=0;for(let v of u){let _=e[v.index];d.push({seg:ru(_,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-h}),h=v.levelCoord+v.thickness}let p=[];h=0,g=0;for(let v of u){let _=e[v.index],b=v.span.end-v.span.start>1,w=v.span.start===l;g+=v.levelCoord-h,h=v.levelCoord+v.thickness,b?(g+=v.thickness,w&&p.push({seg:ru(_,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):w&&(p.push({seg:ru(_,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:g}),g=0)}i.push(d),s.push(p),a.push(g)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:a}}function Lie(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function ru(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,a=Eo(s,{start:r[e].date,end:In(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:t.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===s.end.valueOf()})}class Fie extends aL{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[xl(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:a,touchingLevel:l,touchingLateral:u}=e;if(this.hiddenConsumes&&a){const d=xl(a);if(!s[d])if(this.allowReslicing){const h=Object.assign(Object.assign({},a),{span:xx(a.span,n.span)}),g=xl(h);s[g]=!0,i[l][u]=h,r.push(h),this.splitEntry(a,n,r)}else s[d]=!0,r.push(a)}super.handleInvalidInsertion(e,n,r)}}class HL extends os{constructor(){super(...arguments),this.cellElRefs=new ca,this.frameElRefs=new ca,this.fgElRefs=new ca,this.segHarnessRefs=new ca,this.rootElRef=Cr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,a=dm(e.businessHourSegs,s),l=dm(e.bgEventSegs,s),u=dm(this.getHighlightSegs(),s),d=dm(this.getMirrorSegs(),s),{singleColPlacements:h,multiColPlacements:g,moreCnts:p,moreMarginTops:v}=Pie(vx(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),_=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return B("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((b,w)=>{let x=this.renderFgSegs(w,e.forPrint?h[w]:g[w],e.todayRange,_),E=this.renderFgSegs(w,Uie(d[w],g),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return B(kie,{key:b.key,elRef:this.cellElRefs.createRef(b.key),innerElRef:this.frameElRefs.createRef(b.key),dateProfile:e.dateProfile,date:b.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&w===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:b.extraRenderProps,extraDataAttrs:b.extraDataAttrs,extraClassNames:b.extraClassNames,extraDateSpan:b.extraDateSpan,moreCnt:p[w],moreMarginTop:v[w],singlePlacements:h[w],fgContentElRef:this.fgElRefs.createRef(b.key),fgContent:B(Ut,null,B(Ut,null,x),B(Ut,null,E)),bgContent:B(Ut,null,this.renderFillSegs(u[w],"highlight"),this.renderFillSegs(a[w],"non-business"),this.renderFillSegs(l[w],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!is(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,a,l){let{context:u}=this,{eventSelection:d}=this.props,{framePositions:h}=this.state,g=this.props.cells.length===1,p=s||a||l,v=[];if(h)for(let _ of n){let{seg:b}=_,{instanceId:w}=b.eventRange.instance,x=_.isVisible&&!i[w],E=_.isAbsolute,R="",O="";E&&(u.isRtl?(O=0,R=h.lefts[b.lastCol]-h.lefts[b.firstCol]):(R=0,O=h.rights[b.firstCol]-h.rights[b.lastCol])),v.push(B("div",{className:"fc-daygrid-event-harness"+(E?" fc-daygrid-event-harness-abs":""),key:UL(b),ref:p?null:this.segHarnessRefs.createRef(zL(b)),style:{visibility:x?"":"hidden",marginTop:E?"":_.marginTop,top:E?_.absoluteTop:"",left:R,right:O}},jL(b)?B(FL,Object.assign({seg:b,isDragging:s,isSelected:w===d,defaultDisplayEventEnd:g},ga(b,r))):B(LL,Object.assign({seg:b,isDragging:s,isResizing:a,isDateSelecting:l,isSelected:w===d,defaultDisplayEventEnd:g},ga(b,r)))))}return v}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,a=[];if(s)for(let l of e){let u=r?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};a.push(B("div",{key:Jj(l.eventRange),className:"fc-daygrid-bg-harness",style:u},n==="bg-event"?B(bL,Object.assign({seg:l},ga(l,i))):_L(n)))}return B(Ut,{},...a)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let u=n.cells.map(d=>i.currentMap[d.key]);if(u.length){let d=this.rootElRef.current,h=new hu(d,u,!0,!1);(!r.framePositions||!r.framePositions.similarTo(h))&&this.setState({framePositions:new hu(d,u,!0,!1)})}}const s=this.state.segHeights,a=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),a),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}HL.addStateEquality({segHeights:is});function Uie(t,e){if(!t.length)return[];let n=zie(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function zie(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class Hie extends os{constructor(){super(...arguments),this.splitBusinessHourSegs=Pe(Um),this.splitBgEventSegs=Pe(Bie),this.splitFgEventSegs=Pe(Um),this.splitDateSelectionSegs=Pe(Um),this.splitEventDrag=Pe(q1),this.splitEventResize=Pe(q1),this.rowRefs=new ca}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),a=this.splitFgEventSegs(e.fgEventSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),u=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r),h=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return B(Hl,{unit:"day"},(g,p)=>B(Ut,null,e.cells.map((v,_)=>B(HL,{ref:this.rowRefs.createRef(_),key:v.length?v[0].date.toISOString():_,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:p,dateProfile:e.dateProfile,cells:v,renderIntro:e.renderRowIntro,businessHourSegs:i[_],eventSelection:e.eventSelection,bgEventSegs:s[_],fgEventSegs:a[_],dateSelectionSegs:l[_],eventDrag:u[_],eventResize:d[_],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new hu(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new hu(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),a=i.topToIndex(n);if(a!=null&&s!=null){let l=this.props.cells[a][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(a,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[a],bottom:i.bottoms[a]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=In(r,1);return{start:r,end:i}}}function Bie(t,e){return Um(t.filter($ie),e)}function $ie(t){return t.eventRange.def.allDay}class Vie extends os{constructor(){super(...arguments),this.elRef=Cr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let a=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return B("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},B("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,B("tbody",{role:"presentation"},B(Hie,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=qie(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function qie(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${Aee(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${ah(e.currentDate)}"]`)),n}class Wie extends fL{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class BL extends os{constructor(){super(...arguments),this.slicer=new Wie,this.tableRef=Cr()}render(){let{props:e,context:n}=this;return B(Vie,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Gie extends Tie{constructor(){super(...arguments),this.buildDayTableModel=Pe(Yie),this.headerRef=Cr(),this.tableRef=Cr()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&B(cL,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),a=l=>B(BL,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,a,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,a)}}function Yie(t,e){let n=new uL(t.renderRange,e);return new dL(n,/year|month|week/.test(t.currentRangeUnit))}class Kie extends Hj{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return Qie({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function Qie(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=w1(s,1))),t.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(In(n.end,-1))),l=Math.ceil(vee(a,i));i=w1(i,6-l)}return{start:r,end:i}}var Xie=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';gv(Xie);var Zie=Ms({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Gie,dateProfileGeneratorClass:Kie},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Jie extends fne{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Bte(e)?["timed","allDay"]:["allDay"]:["timed"]}}const ese=nn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function $L(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return B(xa.Consumer,null,n=>{if(!t.isLabeled)return B("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,a=i.slotLabelFormat==null?ese:Array.isArray(i.slotLabelFormat)?nn(i.slotLabelFormat[0]):nn(i.slotLabelFormat),l={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,a)};return B(vr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:tse,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},u=>B("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},B(u,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function tse(t){return t.text}class nse extends Ct{render(){return this.props.slatMetas.map(e=>B("tr",{key:e.key},B($L,Object.assign({},e))))}}const rse=nn({week:"short"}),ise=5;class sse extends os{constructor(){super(...arguments),this.allDaySplitter=new Jie,this.headerElRef=Cr(),this.rootElRef=Cr(),this.scrollerElRef=Cr(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,l=Mo(s.start,s.end)===1?fu(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?B(wL,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:rse},u=>B("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},B(u,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):B("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},B("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return B(vr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:ase,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>B("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},B(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,a=[],l=xp(i.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(a.push({type:"body",key:"all-day",chunk:{content:n}}),a.push({type:"body",key:"all-day-divider",outerContent:B("tr",{role:"presentation",className:"fc-scrollgrid-section"},B("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),B(Nf,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},B(Rx,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,n,r,i,s,a,l){let u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");let{context:d,props:h}=this,g=!h.forPrint&&xp(d.options),p=!h.forPrint&&yL(d.options),v=[];e&&v.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:b=>B("tr",{role:"presentation"},this.renderHeadAxis("day",b.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(v.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:b=>B("tr",{role:"presentation"},this.renderTableRowAxis(b.rowSyncHeights[0]))},{key:"cols",content:n}]}),v.push({key:"all-day-divider",type:"body",outerContent:B("tr",{role:"presentation",className:"fc-scrollgrid-section"},B("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let _=d.options.nowIndicator;return v.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:b=>B("div",{className:"fc-timegrid-axis-chunk"},B("table",{"aria-hidden":!0,style:{height:b.expandRows?b.clientHeight:""}},b.tableColGroupNode,B("tbody",null,B(nse,{slatMetas:a}))),B("div",{className:"fc-timegrid-now-indicator-container"},B(Hl,{unit:_?"minute":"day"},w=>{let x=_&&l&&l.safeComputeTop(w);return typeof x=="number"?B(Tx,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:w}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),p&&v.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Iw},{key:"cols",content:Iw}]}),B(Nf,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},B(u,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:v}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=ise),{dayMaxEvents:e,dayMaxEventRows:n}}}function ase(t){return t.text}class ose{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(ha(n.currentRange,e)){let r=Vt(e),i=e.valueOf()-r.valueOf();if(i>=Xi(n.slotMinTime)&&i<Xi(n.slotMaxTime))return this.computeTimeTop(gt(i))}return null}computeDateTop(e,n){return n||(n=Vt(e)),this.computeTimeTop(gt(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-Xi(r.slotMinTime))/Xi(this.slotDuration),a,l;return s=Math.max(0,s),s=Math.min(i,s),a=Math.floor(s),a=Math.min(a,i-1),l=s-a,n.tops[a]+n.getHeight(a)*l}}class lse extends Ct{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return B("tbody",null,e.slatMetas.map((s,a)=>{let l={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return B("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&B($L,Object.assign({},s)),B(vr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class cse extends Ct{constructor(){super(...arguments),this.rootElRef=Cr(),this.slatElRefs=new ca}render(){let{props:e,context:n}=this;return B("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},B("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,B(lse,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new ose(new hu(this.rootElRef.current,use(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function use(t,e){return e.map(n=>t[n.key])}function jd(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function W1(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class dse extends Ct{render(){let{props:e}=this;return B(SL,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>qL(e.hiddenSegs,e),defaultGenerator:fse,forceTimed:!0},n=>B(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function fse(t){return t.shortText}function hse(t,e,n){let r=new aL;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=Rne(i),a=gse(r);return a=yse(a,1),{segRects:bse(a),hiddenGroups:s}}function gse(t){const{entriesByLevel:e}=t,n=Mx((r,i)=>r+":"+i,(r,i)=>{let s=vse(t,r,i),a=G1(s,n),l=e[r][i];return[Object.assign(Object.assign({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return G1(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function G1(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,a=[];for(;s<i;)a.push(e(n,s)),s+=1;return a.sort(mse),[a.map(pse),a[0][1]]}function mse(t,e){return e[1]-t[1]}function pse(t){return t[0]}function vse(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],a=r[e]+s.thickness,l=r.length,u=e;for(;u<l&&r[u]<a;u+=1);for(;u<l;u+=1){let d=i[u],h,g=Nw(d,s.span.start,kw),p=g[0]+g[1],v=p;for(;(h=d[v])&&h.span.start<s.span.end;)v+=1;if(p<v)return{level:u,lateralStart:p,lateralEnd:v}}return null}function yse(t,e){const n=Mx((r,i,s)=>xl(r),(r,i,s)=>{let{nextLevelNodes:a,thickness:l}=r,u=l+s,d=l/u,h,g=[];if(!a.length)h=e;else for(let v of a)if(h===void 0){let _=n(v,i,u);h=_[0],g.push(_[1])}else{let _=n(v,h,0);g.push(_[1])}let p=(h-i)*d;return[h-p,Object.assign(Object.assign({},r),{thickness:p,nextLevelNodes:g})]});return t.map(r=>n(r,0,0)[1])}function bse(t){let e=[];const n=Mx((i,s,a)=>xl(i),(i,s,a)=>{let l=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:a,stackForward:0});return e.push(l),l.stackForward=r(i.nextLevelNodes,s+i.thickness,a+1)+1});function r(i,s,a){let l=0;for(let u of i)l=Math.max(n(u,s,a),l);return l}return r(t,0,0),e}function Mx(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function Y1(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let a=t[s],l=n.computeDateTop(a.start,e),u=Math.max(l+(r||0),n.computeDateTop(a.end,e));i.push({start:Math.round(l),end:Math.round(u)})}return i}function _se(t,e,n,r){let i=[],s=[];for(let d=0;d<t.length;d+=1){let h=e[d];h?i.push({index:d,thickness:1,span:h}):s.push(t[d])}let{segRects:a,hiddenGroups:l}=hse(i,n,r),u=[];for(let d of a)u.push({seg:t[d.index],rect:d});for(let d of s)u.push({seg:d,rect:null});return{segPlacements:u,hiddenGroups:l}}const wse=nn({hour:"numeric",minute:"2-digit",meridiem:!1});class VL extends Ct{render(){return B(Cx,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:wse}))}}class Sse extends Ct{constructor(){super(...arguments),this.sortEventSegs=Pe(vx)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return B(Ax,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},u=>B("div",{className:"fc-timegrid-col-frame"},B("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),B("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,a,!1,!1,!1)),B("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),B("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Ox(r)&&B(u,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,a){let{props:l}=this;return l.forPrint?qL(e,l):this.renderPositionedFgSegs(e,n,r,i,s,a)}renderPositionedFgSegs(e,n,r,i,s,a){let{eventMaxStack:l,eventShortHeight:u,eventOrderStrict:d,eventMinHeight:h}=this.context.options,{date:g,slatCoords:p,eventSelection:v,todayRange:_,nowDate:b}=this.props,w=r||i||s,x=Y1(e,g,p,h),{segPlacements:E,hiddenGroups:R}=_se(e,x,d,l);return B(Ut,null,this.renderHiddenGroups(R,e),E.map(O=>{let{seg:A,rect:I}=O,k=A.eventRange.instance.instanceId,M=w||!!(!n[k]&&I),L=c_(I&&I.span),H=!w&&I?this.computeSegHStyle(I):{left:0,right:0},V=!!I&&I.stackForward>0,G=!!I&&I.span.end-I.span.start<u;return B("div",{className:"fc-timegrid-event-harness"+(V?" fc-timegrid-event-harness-inset":""),key:a||k,style:Object.assign(Object.assign({visibility:M?"":"hidden"},L),H)},B(VL,Object.assign({seg:A,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:k===v,isShort:G},ga(A,_,b))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d}=this.props;return B(Ut,null,e.map(h=>{let g=c_(h.span),p=xse(h.entries,n);return B(dse,{key:Nj(xL(p)),hiddenSegs:p,top:g.top,bottom:g.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d})}))}renderFillSegs(e,n){let{props:r,context:i}=this,a=Y1(e,r.date,r.slatCoords,i.options.eventMinHeight).map((l,u)=>{let d=e[u];return B("div",{key:Jj(d.eventRange),className:"fc-timegrid-bg-harness",style:c_(l)},n==="bg-event"?B(bL,Object.assign({seg:d},ga(d,r.todayRange,r.nowDate))):_L(n))});return B(Ut,null,a)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>B(Tx,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,a=e.levelCoord+e.thickness,l,u;i&&(a=Math.min(1,s+(a-s)*2)),n?(l=1-a,u=s):(l=s,u=1-a);let d={zIndex:e.stackDepth+1,left:l*100+"%",right:u*100+"%"};return i&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=20),d}}function qL(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let a=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return B(Ut,null,t.map(l=>{let u=l.eventRange.instance.instanceId;return B("div",{key:u,style:{visibility:a[u]?"hidden":""}},B(VL,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===r,isShort:!1},ga(l,e,n))))}))}function c_(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function xse(t,e){return t.map(n=>e[n.index])}class Ese extends Ct{constructor(){super(...arguments),this.splitFgEventSegs=Pe(jd),this.splitBgEventSegs=Pe(jd),this.splitBusinessHourSegs=Pe(jd),this.splitNowIndicatorSegs=Pe(jd),this.splitDateSelectionSegs=Pe(jd),this.splitEventDrag=Pe(W1),this.splitEventResize=Pe(W1),this.rootElRef=Cr(),this.cellElRefs=new ca}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitBusinessHourSegs(e.businessHourSegs,i),u=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),d=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),g=this.splitEventResize(e.eventResize,i);return B("div",{className:"fc-timegrid-cols",ref:this.rootElRef},B("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,B("tbody",{role:"presentation"},B("tr",{role:"row"},e.axis&&B("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},B("div",{className:"fc-timegrid-col-frame"},B("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&B(Tx,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((p,v)=>B(Sse,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:s[v],bgEventSegs:a[v],businessHourSegs:l[v],nowIndicatorSegs:u[v],dateSelectionSegs:d[v],eventDrag:h[v],eventResize:g[v],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new hu(this.rootElRef.current,Rse(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Rse(t,e){return e.map(n=>t[n.key])}class Cse extends os{constructor(){super(...arguments),this.processSlotOptions=Pe(Tse),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return B("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},B(cse,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),B(Ese,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:a}=this.props,{slatCoords:l}=this.state,{snapDuration:u,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),h=s.leftToIndex(e),g=l.positions.topToIndex(n);if(h!=null&&g!=null){let p=this.props.cells[h],v=l.positions.tops[g],_=l.positions.getHeight(g),b=(n-v)/_,w=Math.floor(b*d),x=g*d+w,E=this.props.cells[h].date,R=Rw(a.slotMinTime,hee(u,x)),O=r.add(E,R),A=r.add(O,u);return{dateProfile:a,dateSpan:Object.assign({range:{start:O,end:A},allDay:!1},p.extraDateSpan),dayEl:s.els[h],rect:{left:s.lefts[h],right:s.rights[h],top:v,bottom:v+_},layer:0}}return null}}function Tse(t,e){let n=e||t,r=rx(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class Ase extends fL{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=Eo(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class Ose extends os{constructor(){super(...arguments),this.buildDayRanges=Pe(Dse),this.slicer=new Ase,this.timeColsRef=Cr()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:a}=n.options,l=this.buildDayRanges(i,r,n.dateEnv);return B(Hl,{unit:s?"minute":"day"},(u,d)=>B(Cse,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:u,nowIndicatorSegs:s&&this.slicer.sliceNowDate(u,r,a,n,l),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Dse(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const K1=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Mse(t,e,n,r,i){let s=new Date(0),a=t,l=gt(0),u=n||kse(r),d=[];for(;Xi(a)<Xi(e);){let h=i.add(s,a),g=rx(l,u)!==null;d.push({date:h,time:a,key:h.toISOString(),isoTimeStr:Oee(h),isLabeled:g}),a=Rw(a,r),l=Rw(l,r)}return d}function kse(t){let e,n,r;for(e=K1.length-1;e>=0;e-=1)if(n=gt(K1[e]),r=rx(n,t),r!==null&&r>1)return n;return t}class Nse extends sse{constructor(){super(...arguments),this.buildTimeColsModel=Pe(Ise),this.buildSlatMetas=Pe(Mse)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,a=this.buildTimeColsModel(s,r),l=this.allDaySplitter.splitProps(i),u=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,h=!d,g=d,p=e.dayHeaders&&B(cL,{dates:a.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),v=e.allDaySlot!==!1&&(b=>B(BL,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:b.tableMinWidth,colGroupNode:b.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:b.clientWidth,clientHeight:b.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),_=b=>B(Ose,Object.assign({},l.timed,{dayTableModel:a,dateProfile:s,axis:h,slotDuration:e.slotDuration,slatMetas:u,forPrint:i.forPrint,tableColGroupNode:b.tableColGroupNode,tableMinWidth:b.tableMinWidth,clientWidth:b.clientWidth,clientHeight:b.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:b.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(p,v,_,a.colCnt,d,u,this.state.slatCoords):this.renderSimpleLayout(p,v,_)}}function Ise(t,e){let n=new uL(t.renderRange,e);return new dL(n,!1)}var Pse='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';gv(Pse);const jse={allDaySlot:Boolean};var Lse=Ms({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:jse,views:{timeGrid:{component:Nse,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class Fse extends Ct{constructor(){super(...arguments),this.state={textId:po()}}render(){let{theme:e,dateEnv:n,options:r,viewApi:i}=this.context,{cellId:s,dayDate:a,todayRange:l}=this.props,{textId:u}=this.state,d=_x(a,l),h=r.listDayFormat?n.format(a,r.listDayFormat):"",g=r.listDaySideFormat?n.format(a,r.listDaySideFormat):"",p=Object.assign({date:n.toDate(a),view:i,textId:u,text:h,sideText:g,navLinkAttrs:fu(this.context,a),sideNavLinkAttrs:fu(this.context,a,"day",!1)},d);return B(vr,{elTag:"tr",elClasses:["fc-list-day",...bv(d,e)],elAttrs:{"data-date":ah(a)},renderProps:p,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:Use,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},v=>B("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":u},B(v,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function Use(t){return B(Ut,null,t.text&&B("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&B("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const zse=nn({hour:"numeric",minute:"2-digit",meridiem:"short"});class Hse extends Ct{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i,timeHeaderId:s,eventHeaderId:a,dateHeaderId:l}=e,u=r.eventTimeFormat||zse;return B(_v,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",i.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>Bse(i,n),seg:i,timeText:"",disableDragging:!0,disableResizing:!0}),(d,h)=>B(Ut,null,$se(i,u,n,s,l),B("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},B("span",{className:"fc-list-event-dot",style:{borderColor:h.borderColor||h.backgroundColor}})),B(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${a} ${l}`}})))}}function Bse(t,e){let n=yx(t,e);return B("a",Object.assign({},n),t.eventRange.def.title)}function $se(t,e,n,r,i){let{options:s}=n;if(s.displayEventTime!==!1){let a=t.eventRange.def,l=t.eventRange.instance,u=!1,d;if(a.allDay?u=!0:mte(t.eventRange.range)?t.isStart?d=of(t,e,n,null,null,l.range.start,t.end):t.isEnd?d=of(t,e,n,null,null,t.start,l.range.end):u=!0:d=of(t,e,n),u){let h={text:n.options.allDayText,view:n.viewApi};return B(vr,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${i}`},renderProps:h,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:Vse,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return B("td",{className:"fc-list-event-time"},d)}return null}function Vse(t){return t.text}class qse extends os{constructor(){super(...arguments),this.computeDateVars=Pe(Gse),this.eventStoreToSegs=Pe(this._eventStoreToSegs),this.state={timeHeaderId:po(),eventHeaderId:po(),dateHeaderIdRoot:po()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:r,dayRanges:i}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,i);return B(Nf,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},B(pL,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,r):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,r={text:e.noEventsText,view:n};return B(vr,{elTag:"div",elClasses:["fc-list-empty"],renderProps:r,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Wse,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},i=>B(i,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:r,options:i}=this.context,{timeHeaderId:s,eventHeaderId:a,dateHeaderIdRoot:l}=this.state,u=Yse(e);return B(Hl,{unit:"day"},(d,h)=>{let g=[];for(let p=0;p<u.length;p+=1){let v=u[p];if(v){let _=ah(n[p]),b=l+"-"+_;g.push(B(Fse,{key:_,cellId:b,dayDate:n[p],todayRange:h})),v=vx(v,i.eventOrder);for(let w of v)g.push(B(Hse,Object.assign({key:_+":"+w.eventRange.instance.instanceId,seg:w,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:a,dateHeaderId:b},ga(w,h,d))))}}return B("table",{className:"fc-list-table "+r.getClass("table")},B("thead",null,B("tr",null,B("th",{scope:"col",id:s},i.timeHint),B("th",{scope:"col","aria-hidden":!0}),B("th",{scope:"col",id:a},i.eventHint))),B("tbody",null,g))})}_eventStoreToSegs(e,n,r){return this.eventRangesToSegs(Dw(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)}eventRangesToSegs(e,n){let r=[];for(let i of e)r.push(...this.eventRangeToSegs(i,n));return r}eventRangeToSegs(e,n){let{dateEnv:r}=this.context,{nextDayThreshold:i}=this.context.options,s=e.range,a=e.def.allDay,l,u,d,h=[];for(l=0;l<n.length;l+=1)if(u=Eo(s,n[l]),u&&(d={component:this,eventRange:e,start:u.start,end:u.end,isStart:e.isStart&&u.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&u.end.valueOf()===s.end.valueOf(),dayIndex:l},h.push(d),!d.isEnd&&!a&&l+1<n.length&&s.end<r.add(n[l+1].start,i))){d.end=s.end,d.isEnd=!0;break}return h}}function Wse(t){return t.text}function Gse(t){let e=Vt(t.renderRange.start),n=t.renderRange.end,r=[],i=[];for(;e<n;)r.push(e),i.push({start:e,end:In(e,1)}),e=In(e,1);return{dayDates:r,dayRanges:i}}function Yse(t){let e=[],n,r;for(n=0;n<t.length;n+=1)r=t[n],(e[r.dayIndex]||(e[r.dayIndex]=[])).push(r);return e}var Kse=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';gv(Kse);const Qse={listDayFormat:Q1,listDaySideFormat:Q1,noEventsClassNames:le,noEventsContent:le,noEventsDidMount:le,noEventsWillUnmount:le};function Q1(t){return t===!1?null:nn(t)}var Xse=Ms({name:"@fullcalendar/list",optionRefiners:Qse,views:{list:{component:qse,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});Ex.touchMouseIgnoreWait=500;let jw=0,Ep=0,Lw=!1;class WL{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&Zse(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,Jse()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new yv,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),eae()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),tae()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||gr(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Lw=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?gr(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return jw||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Lw=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,a=0,l=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(a=i-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:a,deltaY:l}}}function Zse(t){return t.button===0&&!t.ctrlKey}function Jse(){jw+=1,setTimeout(()=>{jw-=1},Ex.touchMouseIgnoreWait)}function eae(){Ep+=1,Ep===1&&window.addEventListener("touchmove",GL,{passive:!1})}function tae(){Ep-=1,Ep||window.removeEventListener("touchmove",GL,{passive:!1})}function GL(t){Lw&&t.preventDefault()}class nae{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",rf(r,{left:i.left,top:i.top}),ZJ(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(ex(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&rf(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),rf(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class YL extends Sx{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class KL extends YL{constructor(e,n){super(new xne(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return wne(this.scrollController.el)}}class rae extends YL{constructor(e){super(new Ene,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const X1=typeof performance=="function"?performance.now:Date.now;class iae{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=X1();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,a=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(X1()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,a=s*s/(i*i)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+a*l);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let a of s){let l=a.clientRect,u=e-l.left,d=l.right-e,h=n-l.top,g=l.bottom-n;u>=0&&d>=0&&h>=0&&g>=0&&(h<=r&&this.everMovedUp&&a.canScrollUp()&&(!i||i.distance>h)&&(i={scrollCache:a,name:"top",distance:h}),g<=r&&this.everMovedDown&&a.canScrollDown()&&(!i||i.distance>g)&&(i={scrollCache:a,name:"bottom",distance:g}),u<=r&&this.everMovedLeft&&a.canScrollLeft()&&(!i||i.distance>u)&&(i={scrollCache:a,name:"left",distance:u}),d<=r&&this.everMovedRight&&a.canScrollRight()&&(!i||i.distance>d)&&(i={scrollCache:a,name:"right",distance:d}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new rae(!1):new KL(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class lh extends Tne{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,JJ(document.body),tee(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,a,{deltaX:l,deltaY:u}=i;a=l*l+u*u,a>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,eee(document.body),nee(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new WL(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new nae,this.autoScroller=new iae}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class sae{constructor(e){this.el=e,this.origRect=wx(e),this.scrollCaches=sL(e).map(n=>new KL(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!aae(i.getEventTarget())&&!lne(r,i.clientRect))return!1;return!0}}function aae(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class wv{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new yv}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=wx(i),r=cne(r,s));let a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&s){let l=rL(s,a.rect);l&&(r=une(l))}this.coordAdjust=dne(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Sv(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=ba(this.droppableStore,e=>(e.component.prepareHits(),new sae(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let a in r){let l=r[a].component,u=i[a];if(u&&u.isWithinClipping(e,n)){let d=u.computeLeft(),h=u.computeTop(),g=e-d,p=n-h,{origRect:v}=u,_=v.right-v.left,b=v.bottom-v.top;if(g>=0&&g<_&&p>=0&&p<b){let w=l.queryHit(g,p,_,b);w&&pv(w.dateProfile.activeRange,w.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(g+d-window.scrollX,p+h-window.scrollY)))&&(!s||w.layer>s.layer)&&(w.componentId=a,w.context=l.context,w.rect.left+=d,w.rect.right+=d,w.rect.top+=h,w.rect.bottom+=h,s=w)}}}return s}}function Sv(t,e){return!t&&!e?!0:!!t!=!!e?!1:Xte(t.dateSpan,e.dateSpan)}function QL(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,oae(t,e.dateEnv)),n}function oae(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class lae extends Ou{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:a,finalHit:l}=this.hitDragging;if(a&&l&&Sv(a,l)){let{context:u}=i,d=Object.assign(Object.assign({},QL(a.dateSpan,u)),{dayEl:a.dayEl,jsEvent:r.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",d)}}},this.dragging=new lh(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new wv(this.dragging,bx(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class cae extends Ou{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:l,dragging:u}=this,{options:d}=l.context,h=d.selectable&&l.isValidDateDownEl(a.origEvent.target);u.setIgnoreMove(!h),u.delay=a.isTouch?uae(l):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,l)=>{let{context:u}=this.component,d=null,h=!1;if(a){let g=this.hitDragging.initialHit;a.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,a)||(d=dae(g,a,u.pluginHooks.dateSelectionTransformers)),(!d||!Nne(d,a.dateProfile,u))&&(h=!0,d=null)}d?u.dispatch({type:"SELECT_DATES",selection:d}):l||u.dispatch({type:"UNSELECT_DATES"}),h?tx():nx(),l||(this.dragSelection=d)},this.handlePointerUp=a=>{this.dragSelection&&(Qj(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new lh(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new wv(this.dragging,bx(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function uae(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function dae(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(oee);let a={};for(let l of n){let u=l(t,e);if(u===!1)return null;u&&Object.assign(a,u)}return a.range={start:s[0],end:s[3]},a.allDay=r.allDay,a}class ch extends Ou{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:u,dragging:d}=this,{mirror:h}=d,{options:g}=u.context,p=u.context;this.subjectEl=a.subjectEl;let v=this.subjectSeg=du(a.subjectEl),b=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=hx(p.getCurrentData().eventStore,b),d.minDistance=a.isTouch?0:g.eventDragMinDistance,d.delay=a.isTouch&&b!==u.props.eventSelection?hae(u):null,g.fixedMirrorParent?h.parentNode=g.fixedMirrorParent:h.parentNode=gr(l,".fc"),h.revertDuration=g.dragRevertDuration;let w=u.isValidSegDownEl(l)&&!gr(l,".fc-event-resizer");d.setIgnoreMove(!w),this.isDragging=w&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,u=this.eventRange,d=u.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new on(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.component.context,g=null,p=null,v=null,_=!1,b={affectedEvents:u,mutatedEvents:ci(),isEvent:!0};if(a){g=a.context;let w=g.options;h===g||w.editable&&w.droppable?(p=fae(d,a,this.eventRange.instance.range.start,g.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(v=px(u,g.getCurrentData().eventUiBases,p,g),b.mutatedEvents=v,hL(b,a.dateProfile,g)||(_=!0,p=null,v=null,b.mutatedEvents=ci()))):g=null}this.displayDrag(g,b),_?tx():nx(),l||(h===g&&Sv(d,a)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=g,this.validMutation=p,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,u=l.viewApi,{receivingContext:d,validMutation:h}=this,g=this.eventRange.def,p=this.eventRange.instance,v=new on(l,g,p),_=this.relevantEvents,b=this.mutatedRelevantEvents,{finalHit:w}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:a.origEvent,view:u}),h){if(d===l){let x=new on(l,b.defs[g.defId],p?b.instances[p.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:b});let E={oldEvent:v,event:x,relatedEvents:Sl(b,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:_})}},R={};for(let O of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(R,O(h,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},E),R),{el:a.subjectEl,delta:h.datesDelta,jsEvent:a.origEvent,view:u})),l.emitter.trigger("eventChange",E)}else if(d){let x={event:v,relatedEvents:Sl(_,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:_})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:a.subjectEl,view:u})),l.dispatch({type:"REMOVE_EVENTS",eventStore:_}),l.emitter.trigger("eventRemove",x);let E=b.defs[g.defId],R=b.instances[p.instanceId],O=new on(d,E,R);d.dispatch({type:"MERGE_EVENTS",eventStore:b});let A={event:O,relatedEvents:Sl(b,d,R),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:b})}};d.emitter.trigger("eventAdd",A),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},QL(w.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:w.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},A),{draggedEl:a.subjectEl,view:w.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new lh(e.el);i.pointer.selector=ch.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new wv(this.dragging,Mw);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:ci(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}ch.SELECTOR=".fc-event-draggable, .fc-event-resizable";function fae(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,a=i.range.start,l=s.range.start,u={};i.allDay!==s.allDay&&(u.allDay=s.allDay,u.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?a=Vt(n):a=n);let d=Kc(a,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(u.allDay=!1);let h={datesDelta:d,standardProps:u};for(let g of r)g(h,t,e);return h}function hae(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class gae extends Ou{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:a}=this,l=this.querySegEl(s),u=du(l),d=this.eventRange=u.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:a}=this.component,l=this.eventRange;this.relevantEvents=hx(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(s);this.draggingSegEl=u,this.draggingSeg=du(u),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:u,event:new on(a,l.def,l.instance),jsEvent:s.origEvent,view:a.viewApi})},this.handleHitUpdate=(s,a,l)=>{let{context:u}=this.component,d=this.relevantEvents,h=this.hitDragging.initialHit,g=this.eventRange.instance,p=null,v=null,_=!1,b={affectedEvents:d,mutatedEvents:ci(),isEvent:!0};s&&(s.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,s)||(p=mae(h,s,l.subjectEl.classList.contains("fc-event-resizer-start"),g.range))),p&&(v=px(d,u.getCurrentData().eventUiBases,p,u),b.mutatedEvents=v,hL(b,s.dateProfile,u)||(_=!0,p=null,v=null,b.mutatedEvents=null)),v?u.dispatch({type:"SET_EVENT_RESIZE",state:b}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),_?tx():nx(),a||(p&&Sv(h,s)&&(p=null),this.validMutation=p,this.mutatedRelevantEvents=v)},this.handleDragEnd=s=>{let{context:a}=this.component,l=this.eventRange.def,u=this.eventRange.instance,d=new on(a,l,u),h=this.relevantEvents,g=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:a.viewApi}),this.validMutation){let p=new on(a,g.defs[l.defId],u?g.instances[u.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:g});let v={oldEvent:d,event:p,relatedEvents:Sl(g,a,u),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:h})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||gt(0),endDelta:this.validMutation.endDelta||gt(0),jsEvent:s.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",v)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new lh(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new wv(this.dragging,bx(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return gr(e.subjectEl,".fc-event")}}function mae(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,a=e.dateSpan.range.start,l=Kc(s,a,i,t.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}class pae{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=Aj(r.origEvent);this.matchesCancel=!!gr(s,i),this.matchesEvent=!!gr(s,ch.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,a=i.getCurrentData();if(!s.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let l=i.options.unselectAuto;l&&(!l||!this.matchesCancel)&&i.calendarApi.unselect(r)}a.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new WL(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const vae={fixedMirrorParent:le},yae={dateClick:le,eventDragStart:le,eventDragStop:le,eventDrop:le,eventResizeStart:le,eventResizeStop:le,eventResize:le,drop:le,eventReceive:le,eventLeave:le};Ex.dataAttrPrefix="";var bae=Ms({name:"@fullcalendar/interaction",componentInteractions:[lae,cae,ch,gae],calendarInteractions:[pae],elementDraggingImpl:lh,optionRefiners:vae,listenerRefiners:yae});function _ae({machineId:t,refreshTrigger:e}){const[n,r]=N.useState(!1),[i,s]=N.useState({}),a=be.useRef(null),{entities:l}=Df(),{entities:u}=cu(),{machineAvailability:d,loadMachineAvailabilityForDateRange:h,toggleMachineHourAvailability:g,getTaskOccupiedSegments:p}=ih(),{showAlert:v}=Sn();Ds("FullCalendarGrid");const _=l.find(A=>A.id===t),b=N.useCallback(A=>{try{const I=p(A);return I&&I.length>0?I:A.scheduled_start_time&&A.scheduled_end_time?[{start:new Date(A.scheduled_start_time),end:new Date(A.scheduled_end_time),duration:(new Date(A.scheduled_end_time).getTime()-new Date(A.scheduled_start_time).getTime())/(1e3*60*60)}]:[]}catch(I){return console.warn("Failed to get task segments:",I),[]}},[p]),w=N.useMemo(()=>{if(!_)return[];const A=[];return u.filter(I=>I.status==="SCHEDULED"&&I.scheduled_machine_id===_.id&&I.scheduled_start_time&&I.scheduled_end_time).forEach(I=>{const k=b(I);k.forEach((M,L)=>{const H=k.length>1;A.push({id:`${I.id}-segment-${L}`,title:`${I.odp_number} - ${I.article_code}${H?` (${L+1}/${k.length})`:""}`,start:M.start,end:M.end,backgroundColor:H?"#8b5cf6":"#3b82f6",borderColor:H?"#7c3aed":"#2563eb",textColor:"#ffffff",extendedProps:{taskId:I.id,odpNumber:I.odp_number,articleCode:I.article_code,quantity:I.quantity,status:I.status,segmentIndex:L,totalSegments:k.length,isSplitTask:H}})})}),A},[_,u,b]),x=N.useMemo(()=>{if(!d||!_)return[];const A=[];return Object.entries(d).forEach(([I,k])=>{if(Array.isArray(k)){const M=k.find(L=>L.machine_id===t);M&&M.unavailable_hours&&(Array.isArray(M.unavailable_hours)?M.unavailable_hours:[]).forEach(H=>{const V=parseInt(H);if(V<6||V>=22)return;const G=new Date(I);G.setUTCHours(V,0,0,0);const se=new Date(G);se.setUTCHours(V+1,0,0,0),A.push({id:`availability-${I}-${H}`,title:"Unavailable",start:G,end:se,backgroundColor:"#ef4444",borderColor:"#dc2626",textColor:"#ffffff",display:"background",extendedProps:{type:"availability",date:I,hour:parseInt(H)}})})}}),A},[d,t,_]);N.useEffect(()=>{(async()=>{if(t){r(!0);try{const I=new Date,k=new Date(Date.UTC(I.getUTCFullYear(),I.getUTCMonth(),1)),M=new Date(Date.UTC(I.getUTCFullYear(),I.getUTCMonth()+1,0));await h(t,Xn(k,"yyyy-MM-dd"),Xn(M,"yyyy-MM-dd"))}catch(I){console.error("Failed to load machine availability data:",I)}finally{r(!1)}}})()},[t,e]);const E=N.useCallback(async A=>{const I=A.date,k=Xn(I,"yyyy-MM-dd"),M=I.getUTCHours();if(w.some(V=>{const G=new Date(V.start),se=new Date(V.end),ue=new Date(I);return ue>=G&&ue<se})){v("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!_)return;const H=`${k}-${M}`;s(V=>({...V,[H]:!0}));try{await g(_.id,k,M)}catch(V){console.error("Failed to toggle machine hour availability:",V),v("An unexpected error occurred.","error")}finally{s(V=>({...V,[H]:!1}))}},[w,v,_,g]),R=N.useCallback(A=>{const I=A.event,k=I.extendedProps;k.type==="availability"?console.log("Availability event clicked:",k):console.log("Scheduled task clicked:",{odpNumber:k.odpNumber,articleCode:k.articleCode,quantity:k.quantity,start:I.start,end:I.end})},[]),O=N.useMemo(()=>({plugins:[Zie,Lse,Xse,bae],initialView:"dayGridMonth",initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},height:"auto",locale:"it",timeZone:"UTC",firstDay:GK.APP.FIRST_DAY_OF_WEEK,slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},dayHeaderFormat:{weekday:"short",day:"numeric"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},buttonText:{today:"Oggi",month:"Mese",week:"Settimana",day:"Giorno"},eventClick:R,dateClick:E,events:[...w,...x]}),[R,E,w,x]);return _?n?T.jsx("div",{className:"loading",children:"Loading calendar data..."}):T.jsx("div",{className:"fullcalendar-container",children:T.jsx(NL,{ref:a,...O})}):T.jsx("div",{className:"loading",children:"Loading machine data..."})}function wae(){const{machineId:t}=Up(),[e,n]=N.useState(0),{getMachineById:r}=Df(),{isLoading:i,isInitialized:s}=Sn(),{init:a,cleanup:l}=Oo(),u=r(t);if(N.useEffect(()=>{if(!s){console.log("Initializing main store...");const h=a(),g=new Promise((p,v)=>setTimeout(()=>v(new Error("Initialization timeout")),1e4));Promise.race([h,g]).catch(p=>{console.error("Initialization failed or timed out:",p)})}return()=>{l()}},[a,s,l]),i)return T.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:T.jsxs("div",{className:"text-center py-1 text-gray-500 text-[10px]",children:["Caricamento calendario macchina... (Loading: ",i.toString(),", Initialized: ",s.toString(),")"]})});if(!u)return T.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:T.jsxs("div",{className:"text-center py-1 text-red-600 text-[10px]",children:["Macchina non trovata (ID: ",t,", Initialized: ",s.toString(),")"]})});const d=()=>{n(h=>h+1)};return T.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[T.jsx(_J,{title:"Calendario Disponibilit Macchina"}),T.jsx("div",{className:"mb-1",children:T.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:u.machine_name})}),!1,T.jsx(wJ,{machineId:u.id,currentDate:new Date,onSuccess:d}),T.jsx(_ae,{machineId:u.id,refreshTrigger:e})]})}function Sae(){const{data:t=[],isLoading:e,error:n}=XS(),r=gJ(),{selectedWorkCenter:i,isInitialized:s,showConfirmDialog:a}=Sn(),{init:l,cleanup:u}=Oo(),d=As(),h=N.useMemo(()=>i?i===St.BOTH?t:t.filter(_=>_.work_center===i):[],[t,i]);Ds("PhasesListPage"),N.useEffect(()=>(s||l(),()=>{u()}),[l,s,u]);const g=N.useMemo(()=>[{header:"Nome Fase",accessorKey:"name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Numero Persone",accessorKey:"numero_persone"},{header:"V Stampa",accessorKey:"v_stampa"},{header:"T Setup Stampa (h)",accessorKey:"t_setup_stampa"},{header:"Costo H Stampa",accessorKey:"costo_h_stampa"},{header:"V Conf",accessorKey:"v_conf"},{header:"T Setup Conf (h)",accessorKey:"t_setup_conf"},{header:"Costo H Conf",accessorKey:"costo_h_conf"},{header:"Contenuto Fase",accessorKey:"contenuto_fase"}],[]),p=_=>{d(`/phases/${_.id}/edit`)},v=async _=>{a("Elimina Fase",`Sei sicuro di voler eliminare "${_.name}"? Questa azione non pu essere annullata.`,async()=>{try{await r.mutateAsync(_.id),jl(`Fase "${_.name}" eliminata con successo`)}catch(b){lo(b.message||"Errore durante l'eliminazione della fase")}},"danger")};return e?T.jsx("div",{children:"Caricamento dati fasi..."}):n?T.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle fasi: ",n.message]}):i?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Fasi"}),T.jsx(kn,{to:"/phases/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Fase"})]}),T.jsx(qS,{columns:g,data:h,onEditRow:p,onDeleteRow:v,enableGlobalSearch:!1})]}):T.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle fasi."})}function xae({phaseToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Sn(),r=fJ(),i=hJ(),{handleAsync:s}=Ds("PhasesForm"),a=!!t,l=N.useMemo(()=>{const h={...hs};return n!==St.BOTH&&(h.sections[0].fields[3].disabled=!0,h.sections[0].fields[3].defaultValue=n,h.sections[0].fields[3].helpText="Il centro di lavoro  impostato in base alla tua selezione di accesso"),h},[n]),u=N.useMemo(()=>({name:t?.name||"",department:t?.department||hs.sections[0].fields[1].defaultValue,numero_persone:t?.numero_persone||hs.sections[0].fields[2].defaultValue,work_center:t?.work_center||(n===St.BOTH?hs.sections[0].fields[3].defaultValue:n),v_stampa:t?.v_stampa||hs.sections[1].fields[0].defaultValue,t_setup_stampa:t?.t_setup_stampa||hs.sections[1].fields[1].defaultValue,costo_h_stampa:t?.costo_h_stampa||hs.sections[1].fields[2].defaultValue,v_conf:t?.v_conf||hs.sections[2].fields[0].defaultValue,t_setup_conf:t?.t_setup_conf||hs.sections[2].fields[1].defaultValue,costo_h_conf:t?.costo_h_conf||hs.sections[2].fields[2].defaultValue,contenuto_fase:t?.contenuto_fase||""}),[n,t]),d=async h=>{await s(async()=>{a?await i.mutateAsync({id:t.id,updates:h}):await r.mutateAsync(h),e&&e(),jl(a?"Fase aggiornata con successo":"Fase aggiunta con successo")},{context:a?"Update Phase":"Add Phase",fallbackMessage:a?"Aggiornamento fase fallito":"Aggiunta fase fallita"})};return T.jsx(iv,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a})}function Z1(){const{id:t}=Up(),e=As(),{selectedWorkCenter:n}=Sn(),{isLoading:r,isInitialized:i,init:s,cleanup:a}=Oo(),l=!!t,{data:u,isLoading:d,error:h}=dJ(t);return N.useEffect(()=>(i||s(),()=>{a()}),[s,i,a]),N.useEffect(()=>{l&&!r&&!d&&!u&&!h&&e("/phases",{replace:!0})},[l,r,d,u,h,e]),r||l&&d?T.jsx("div",{children:"Caricamento..."}):l&&h?T.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento della fase: ",h.message]}):l&&!u?T.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Fase non trovata."}):n?T.jsxs("div",{className:"space-y-6",children:[T.jsx("div",{className:"flex items-center justify-between",children:T.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:l?`Modifica Fase: ${u?.name}`:"Aggiungi Nuova Fase"})}),T.jsx(xae,{phaseToEdit:u})]}):T.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le fasi."})}function Eae(){const{selectedWorkCenter:t,showConfirmDialog:e}=Sn(),n=As(),{data:r=[],isLoading:i,error:s}=fv(),{data:a=[],isLoading:l}=dv(),{data:u=[],isLoading:d}=XS(),h=uJ(),{handleAsync:g}=Ds("BacklogListPage");if(s)return T.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento degli ordini: ",s.message]});const p=N.useMemo(()=>{if(!t)return[];let x=r;return t!==St.BOTH&&(x=r.filter(E=>E.work_center===t)),x.map(E=>({...E,machine_name:E.scheduled_machine_id?a.find(R=>R.id===E.scheduled_machine_id)?.machine_name||"Macchina non trovata":"Non programmato",phase_name:E.fase?u.find(R=>R.id===E.fase)?.name||"Fase non trovata":"Fase non assegnata",progress:E.progress||0,time_remaining:E.time_remaining||E.duration||0}))},[r,t,a,u]),v=i||l||d,_=N.useMemo(()=>[{header:"Numero ODP",accessorKey:"odp_number",cell:x=>{const E=x.row.original.status,R=x.getValue(),O=E==="SCHEDULED";return T.jsx("span",{className:O?"text-green-600 font-medium":"",children:R})}},{header:"Codice Articolo",accessorKey:"article_code"},{header:"Note ASD",accessorKey:"asd_notes",cell:x=>{const E=x.getValue();return E?T.jsx("div",{className:"max-w-[200px] truncate text-[10px]",title:E,children:E}):"N/A"}},{header:"Nome Cliente",accessorKey:"nome_cliente"},{header:"Quantit",accessorKey:"quantity"},{header:"Quantit Completata",accessorKey:"quantity_completed"},{header:"Altezza Busta (mm)",accessorKey:"bag_height"},{header:"Larghezza Busta (mm)",accessorKey:"bag_width"},{header:"Passo Busta (mm)",accessorKey:"bag_step"},{header:"Lotto Produzione",accessorKey:"production_lot"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Lati Sigillati",accessorKey:"seal_sides"},{header:"Tipo Prodotto",accessorKey:"product_type"},{header:"Data Consegna",accessorKey:"delivery_date",cell:x=>x.getValue()?Xn(new Date(x.getValue()),"yyyy-MM-dd"):"Non impostata"},{header:"Inizio Programmato",accessorKey:"scheduled_start_time",cell:x=>x.getValue()?new Date(x.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Fine Programmata",accessorKey:"scheduled_end_time",cell:x=>x.getValue()?new Date(x.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Codice Cliente Interno",accessorKey:"internal_customer_code"},{header:"Codice Cliente Esterno",accessorKey:"external_customer_code"},{header:"Riferimento Ordine Cliente",accessorKey:"customer_order_ref"},{header:"Note Libere",accessorKey:"user_notes"},{header:"Nome Fase",accessorKey:"phase_name"},{header:"Durata (ore)",accessorKey:"duration",cell:x=>{const E=x.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Costo ()",accessorKey:"cost",cell:x=>{const E=x.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Stato",accessorKey:"status"},{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Progresso (%)",accessorKey:"progress",cell:x=>{const E=x.getValue();return typeof E=="number"?`${E}%`:E}},{header:"Tempo Rimanente (ore)",accessorKey:"time_remaining",cell:x=>{const E=x.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Material ISP (%)",accessorKey:"material_availability_isp",cell:x=>{const E=x.getValue();if(typeof E!="number")return E||"N/A";const R=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return T.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${R} text-black text-[10px] font-medium`,children:E})}},{header:"Material Lotti (%)",accessorKey:"material_availability_lotti",cell:x=>{const E=x.getValue();if(typeof E!="number")return E||"N/A";const R=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return T.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${R} text-black text-[10px] font-medium`,children:E})}},{header:"Material Global (%)",accessorKey:"material_availability_global",cell:x=>{const E=x.getValue();if(typeof E!="number")return E||"N/A";const R=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return T.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${R} text-black text-[10px] font-medium`,children:E})}}],[]);N.useMemo(()=>_.map(x=>x.accessorKey),[_]);const b=x=>{n(`/backlog/${x.id}/edit`)},w=async x=>{e("Elimina Ordine",`Sei sicuro di voler eliminare "${x.odp_number}"? Questa azione non pu essere annullata.`,async()=>{await g(async()=>{await h.mutateAsync(x.id)},{context:"Delete Order",fallbackMessage:"Eliminazione ordine fallita"})},"danger")};return v?T.jsx("div",{children:"Caricamento dati backlog..."}):t?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Ordini"}),T.jsx(kn,{to:"/backlog/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Ordine"})]}),T.jsx(qS,{columns:_,data:p,onEditRow:b,onDeleteRow:w,stickyColumns:["odp_number","article_code"],enableGlobalSearch:!1,enableFiltering:!1})]}):T.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati del backlog."})}const Rae=({onSuccess:t,orderToEdit:e})=>{const{selectedWorkCenter:n,showConflictDialog:r}=Sn(),{scheduleTaskFromSlot:i,unscheduleTask:s}=ih(),{calculateProductionMetrics:a,validatePhaseParameters:l,autoDetermineWorkCenter:u,autoDetermineDepartment:d}=V2(),{handleAsync:h}=Ds("BacklogForm"),{validateOrder:g}=JZ(),p=lJ(),v=cJ(),_=Gr(),[b,w]=N.useState(null),x=!!e,E=N.useMemo(()=>{const Ce={...yJ};if(n!==St.BOTH){const Be=Ce.sections[0].fields.find(rt=>rt.name==="work_center");Be&&(Be.disabled=!0,Be.defaultValue=n,Be.helpText="Centro di lavoro pre-impostato.")}return Ce},[n]),R=N.useMemo(()=>({odp_number:e?.odp_number||"",article_code:e?.article_code||"",work_center:e?.work_center||(n===St.BOTH?"":n),nome_cliente:e?.nome_cliente||"",delivery_date:e?.delivery_date?new Date(e.delivery_date).toISOString().slice(0,16):"",quantity:e?.quantity||"",customer_order_ref:e?.customer_order_ref||"",department:e?.department||"",quantity_completed:e?.quantity_completed||tn.ORDER.QUANTITY_COMPLETED,production_lot:e?.production_lot||null,bag_height:e?.bag_height||null,bag_width:e?.bag_width||null,bag_step:e?.bag_step||null,seal_sides:e?.seal_sides||null,product_type:e?.product_type||null,internal_customer_code:e?.internal_customer_code||null,external_customer_code:e?.external_customer_code||null,user_notes:e?.user_notes||null,asd_notes:e?.asd_notes||null,material_availability_global:e?.material_availability_global||null,fase:e?.fase||null}),[n,e]),[O,A]=N.useState(R.department),[I,k]=N.useState(R.work_center),[M,L]=N.useState(R.quantity),[H,V]=N.useState(R.bag_step),{phaseSearch:G,setPhaseSearch:se,isDropdownVisible:ue,setIsDropdownVisible:ye,selectedPhase:U,setSelectedPhase:K,filteredPhases:ne,editablePhaseParams:Y,setEditablePhaseParams:me,handlePhaseParamChange:D,handlePhaseSelect:$,handleBlur:Q}=eJ(O,I,x?e?.fase:null),ee=N.useCallback(()=>{se(""),K(null),me({}),w(null)},[se,K,me]),he=N.useCallback((Ce,Be)=>{if(Ce){const rt=d(Ce);Be("department",rt),n===St.BOTH&&Be("work_center",u(Ce)),Be("fase",""),se(""),K(null),me({}),w(null)}},[d,u,n,se,K,me]),pe=async Ce=>{const Be=g(Ce);if(!Be.isValid){const Ke=Object.entries(Be.errors).map(([F,X])=>`${{odp_number:"Numero ODP",article_code:"Codice Articolo",work_center:"Centro di Lavoro",nome_cliente:"Nome Cliente",quantity:"Quantit",delivery_date:"Data di Consegna",customer_order_ref:"Riferimento Ordine Cliente",department:"Reparto",bag_height:"Altezza Busta",bag_width:"Larghezza Busta",bag_step:"Passo Busta",seal_sides:"Lati Sigillatura",product_type:"Tipo Prodotto",internal_customer_code:"Codice Cliente Interno",external_customer_code:"Codice Cliente Esterno"}[F]||F}: ${X}`);U7(Ke);return}const rt=Ce.fase,Wt=U?.department===un.PRINTING;if(rt&&(!Wt||Ce.bag_step)&&(!b?.totals||typeof b.totals.duration!="number"||typeof b.totals.cost!="number")){Vd("Calcola le metriche di produzione valide prima di procedere.");return}await h(async()=>{const{phase_search:Ke,...F}=Ce,X={...F,fase:F.fase===""?null:F.fase,scheduled_machine_id:F.scheduled_machine_id===""?null:F.scheduled_machine_id,production_lot:F.production_lot===""?null:F.production_lot,internal_customer_code:F.internal_customer_code===""?null:F.internal_customer_code,external_customer_code:F.external_customer_code===""?null:F.external_customer_code,user_notes:F.user_notes===""?null:F.user_notes,asd_notes:F.asd_notes===""?null:F.asd_notes,material_availability_global:F.material_availability_global===""?null:F.material_availability_global,bag_height:F.bag_height===""?null:F.bag_height,bag_width:F.bag_width===""?null:F.bag_width,bag_step:F.bag_step===""?null:F.bag_step,seal_sides:F.seal_sides===""?null:F.seal_sides,product_type:F.product_type===""?null:F.product_type};let te;if(x){const J=b?.totals?.duration||e.duration,ae=e.quantity_completed/e.quantity||0,de=J*(1-ae);if(e.scheduled_machine_id&&e.scheduled_start_time){console.log(" EDIT FLOW: Starting rescheduling for task",e.id),console.log(" EDIT FLOW: Original duration:",e.duration,"New duration:",J);const we=e.duration,xe=J-we;if(Math.abs(xe)<.01){console.log(" SCENARIO X: Duration unchanged, skipping rescheduling");const Ee={...X,duration:J,cost:b?.totals?.cost||null};te=await v.mutateAsync({id:e.id,updates:Ee})}else if(xe>0){console.log(" SCENARIO Y: Duration increased, using standard rescheduling");const Ee=new Date(e.scheduled_start_time),Ne=Ee.getUTCHours(),Qe=Ee.getUTCMinutes(),Ve=new Date(Date.UTC(Ee.getUTCFullYear(),Ee.getUTCMonth(),Ee.getUTCDate()));console.log(" EDIT FLOW: Start date:",Ee.toISOString()),console.log(" EDIT FLOW: Hour:",Ne,"Minute:",Qe),console.log(" EDIT FLOW: Current date:",Ve.toISOString());const dt={duration:J};console.log(" EDIT FLOW: Updating task with new duration:",dt),await v.mutateAsync({id:e.id,updates:dt}),await new Promise(pt=>setTimeout(pt,100));const{getOrderById:it}=cu.getState(),Ht=it(e.id);console.log(" EDIT FLOW: Task duration after update:",Ht?.duration),console.log(" EDIT FLOW: Unscheduling task first"),await s(e.id,_),await new Promise(pt=>setTimeout(pt,100));const st={id:e.scheduled_machine_id};console.log(" EDIT FLOW: Calling scheduleTaskFromSlot with:",{taskId:e.id,machine:st,currentDate:Ve.toISOString(),hour:Ne,minute:Qe,timeRemaining:de});const He=await i(e.id,st,Ve,Ne,Qe,de,_);if(console.log(" EDIT FLOW: scheduleTaskFromSlot result:",He),He?.conflict){console.log(" EDIT FLOW: Conflict detected, showing dialog");const pt={...He,schedulingParams:{taskId:e.id,machine:st,currentDate:Ve,hour:Ne,minute:Qe,newDuration:de,originalConflict:He}};r(pt);return}else if(He?.error){console.log(" EDIT FLOW: Error:",He.error),lo(He.error);return}else console.log(" EDIT FLOW: Scheduling successful");const yn=He?.updatedTask;console.log(" EDIT FLOW: Updated task from scheduling result:",yn);const nt={...X,duration:J,cost:b?.totals?.cost||null,scheduled_start_time:yn?.scheduled_start_time||Ee.toISOString(),scheduled_end_time:yn?.scheduled_end_time||new Date(Ee.getTime()+J*36e5).toISOString(),description:yn?.description||e.description};console.log(" EDIT FLOW: Final order data to save:",nt),te=await v.mutateAsync({id:e.id,updates:nt}),console.log(" EDIT FLOW: Final update completed:",te)}else{console.log(" SCENARIO Z: Duration decreased, using adjacent task rescheduling");const Ee=await Oe(e.id,J,de,X,b?.totals?.cost||null,_,v,i,s,r);if(Ee?.error){console.log(" SCENARIO Z: Error:",Ee.error),lo(Ee.error);return}te=Ee.updatedOrder,console.log(" SCENARIO Z: Duration decrease rescheduling completed:",te)}}else{const we={...X,duration:J,cost:b?.totals?.cost||null};te=await v.mutateAsync({id:e.id,updates:we})}}else{const J={...X,duration:b?.totals?.duration||null,cost:b?.totals?.cost||null,status:"NOT SCHEDULED"};te=await p.mutateAsync(J)}t&&t(),ee(),jl(x?"Ordine aggiornato con successo":"Ordine aggiunto con successo")},{context:x?"Aggiorna Ordine":"Aggiungi Ordine",fallbackMessage:x?"Aggiornamento ordine fallito":"Aggiunta ordine fallita"})},_e=()=>{if(!U){Vd("Seleziona una fase prima di calcolare.");return}if(!M){Vd("Inserisci la quantit per calcolare.");return}if(U.department===un.PRINTING&&!H){Vd("Inserisci il passo busta per calcolare la stampa.");return}const Ce={...U,...Y},Be=l(Ce);if(!Be.isValid){lo(Be.error),w(null);return}const rt=U.department===un.PRINTING?H:null,Wt=a(Ce,M,rt);if(!Wt||typeof Wt.totals?.duration!="number"||typeof Wt.totals?.cost!="number"){lo("Errore nel calcolo. Verifica i parametri della fase."),w(null);return}w(Wt)},Se=Ce=>Y[Ce]??U[Ce]??"",Oe=async(Ce,Be,rt,Wt,En,Ke,F,X,te,J,ae)=>{try{console.log(" SCENARIO Z: Starting duration decrease rescheduling for task",Ce);const{getOrderById:de,getOdpOrders:we}=cu.getState(),xe=de(Ce);if(!xe)return{error:"Task not found"};const Ee=new Date(xe.scheduled_start_time),Ne=Ee.getUTCHours(),Qe=Ee.getUTCMinutes(),Ve=new Date(Date.UTC(Ee.getUTCFullYear(),Ee.getUTCMonth(),Ee.getUTCDate())),dt={id:xe.scheduled_machine_id};console.log(" SCENARIO Z: Current task start:",Ee.toISOString()),console.log(" SCENARIO Z: New time remaining:",rt);const it=new Date(xe.scheduled_end_time);console.log(" SCENARIO Z: Current end time for task A (from DB):",it.toISOString());const Ht=we(),st=[];let He=it;for(console.log(" SCENARIO Z: Starting to find chain of adjacent tasks...");;){const yn=Ht.find(nt=>{if(nt.id===Ce||!nt.scheduled_machine_id||!nt.scheduled_start_time||nt.status!=="SCHEDULED"||nt.scheduled_machine_id!==xe.scheduled_machine_id||st.some(br=>br.id===nt.id))return!1;const pt=new Date(nt.scheduled_start_time),yr=Math.abs(pt.getTime()-He.getTime())/(1e3*60);return console.log(" SCENARIO Z: Checking task",nt.odp_number,"start:",pt.toISOString(),"diff:",yr,"minutes","against end time:",He.toISOString()),yr<=120});if(yn)console.log(" SCENARIO Z: Found adjacent task in chain:",yn.odp_number),st.push(yn),He=new Date(yn.scheduled_end_time),console.log(" SCENARIO Z: Next task end time for chain:",He.toISOString()),console.log(" SCENARIO Z: Continuing to search for more adjacent tasks...");else{console.log(" SCENARIO Z: No more adjacent tasks found, stopping chain search");break}}if(st.length>0){console.log(" SCENARIO Z: Found chain of",st.length,"adjacent tasks:",st.map(Te=>Te.odp_number)),console.log(" SCENARIO Z: Step 2 - Rescheduling task A");const yn={duration:Be};await F.mutateAsync({id:Ce,updates:yn}),await new Promise(Te=>setTimeout(Te,100)),await te(Ce,Ke),await new Promise(Te=>setTimeout(Te,100));const nt=await X(Ce,dt,Ve,Ne,Qe,rt,Ke);if(nt?.conflict){console.log(" SCENARIO Z: Conflict detected for task A, showing dialog");const Te={...nt,schedulingParams:{taskId:Ce,machine:dt,currentDate:Ve,hour:Ne,minute:Qe,newDuration:rt,originalConflict:nt}};return J(Te),{error:"Conflict detected for task A"}}else if(nt?.error)return console.log(" SCENARIO Z: Error rescheduling task A:",nt.error),{error:nt.error};console.log(" SCENARIO Z: Task A rescheduled successfully"),console.log(" SCENARIO Z: Step 3 - Rescheduling chain of",st.length,"tasks");let pt=new Date(nt.schedulingResult.endTime);const yr=[];for(let Te=0;Te<st.length;Te++){const $e=st[Te];console.log(` SCENARIO Z: Rescheduling chain task ${Te+1}/${st.length}:`,$e.odp_number);const ft=pt.getUTCHours(),vt=pt.getUTCMinutes(),gn=new Date(Date.UTC(pt.getUTCFullYear(),pt.getUTCMonth(),pt.getUTCDate()));console.log(" SCENARIO Z: Chain task new start time:",pt.toISOString()),console.log(" SCENARIO Z: Chain task new hour:",ft,"minute:",vt);const yt=$e.time_remaining||$e.duration||1;console.log(" SCENARIO Z: Chain task time remaining:",yt),await te($e.id,Ke),await new Promise(Rn=>setTimeout(Rn,100));const Xe=await X($e.id,dt,gn,ft,vt,yt,Ke);if(Xe?.conflict){console.log(" SCENARIO Z: Conflict detected for chain task",$e.odp_number,", showing dialog");const Rn={...Xe,schedulingParams:{taskId:$e.id,machine:dt,currentDate:gn,hour:ft,minute:vt,newDuration:yt,originalConflict:Xe}};return J(Rn),{error:`Conflict detected for chain task ${$e.odp_number}`}}else if(Xe?.error)return console.log(" SCENARIO Z: Error rescheduling chain task",$e.odp_number,":",Xe.error),{error:`Error rescheduling chain task ${$e.odp_number}: ${Xe.error}`};console.log(" SCENARIO Z: Chain task",$e.odp_number,"rescheduled successfully"),yr.push(Xe),pt=new Date(Xe.schedulingResult.endTime),console.log(" SCENARIO Z: Updated end time for next chain task:",pt.toISOString())}console.log(" SCENARIO Z: All",st.length,"chain tasks rescheduled successfully");const br=nt?.updatedTask,xt={...Wt,duration:Be,cost:En,scheduled_start_time:br?.scheduled_start_time||Ee.toISOString(),scheduled_end_time:br?.scheduled_end_time||new Date(Ee.getTime()+Be*36e5).toISOString(),description:br?.description||xe.description},Gt=await F.mutateAsync({id:Ce,updates:xt});return console.log(" SCENARIO Z: Task A and",st.length,"chain tasks rescheduled successfully"),{updatedOrder:Gt}}else{console.log(" SCENARIO Z: No adjacent task found, using standard rescheduling");const yn={duration:Be};await F.mutateAsync({id:Ce,updates:yn}),await new Promise(xt=>setTimeout(xt,100)),await te(Ce,Ke),await new Promise(xt=>setTimeout(xt,100));const nt=await X(Ce,dt,Ve,Ne,Qe,rt,Ke);if(nt?.conflict){console.log(" SCENARIO Z: Conflict detected, showing dialog");const xt={...nt,schedulingParams:{taskId:Ce,machine:dt,currentDate:Ve,hour:Ne,minute:Qe,newDuration:rt,originalConflict:nt}};return J(xt),{error:"Conflict detected"}}else if(nt?.error)return console.log(" SCENARIO Z: Error:",nt.error),{error:nt.error};const pt=nt?.updatedTask,yr={...Wt,duration:Be,cost:En,scheduled_start_time:pt?.scheduled_start_time||Ee.toISOString(),scheduled_end_time:pt?.scheduled_end_time||new Date(Ee.getTime()+Be*36e5).toISOString(),description:pt?.description||xe.description};return{updatedOrder:await F.mutateAsync({id:Ce,updates:yr})}}}catch(de){return console.error(" SCENARIO Z: Error in handleDurationDecreaseRescheduling:",de),{error:de.message||"Error during duration decrease rescheduling"}}},tt=()=>U?U.department===un.PRINTING?[{name:"v_stampa",label:"Velocit Stampa:",unit:"mt/h"},{name:"t_setup_stampa",label:"Setup Stampa:",unit:"h"},{name:"costo_h_stampa",label:"Costo Stampa:",unit:"/h"}]:[{name:"v_conf",label:"Velocit Confezionamento:",unit:"pz/h"},{name:"t_setup_conf",label:"Setup Confezionamento:",unit:"h"},{name:"costo_h_conf",label:"Costo Confezionamento:",unit:"/h"}]:[],qt=N.useMemo(()=>({article_code:(Ce,{watch:Be,setValue:rt,getValues:Wt,register:En})=>T.jsx(Kn,{type:"text",...En(Ce.name,{...Ce.validation,onChange:Ke=>{Ce.validation?.onChange&&Ce.validation.onChange(Ke),he(Ke.target.value,rt)}}),placeholder:Ce.placeholder,disabled:Ce.disabled,className:Ce.className}),phase_search:(Ce,{watch:Be,setValue:rt,getValues:Wt,register:En})=>{const Ke=Be("department"),F=Be("work_center"),X=Be("quantity"),te=Be("bag_step");return N.useEffect(()=>{Ke!==O&&A(Ke),F!==I&&k(F),X!==M&&L(X),te!==H&&V(te)},[Ke,F,X,te,O,I,M,H]),T.jsxs("div",{className:"relative",children:[T.jsx(Kn,{type:"text",value:G,onChange:J=>se(J.target.value),onFocus:()=>ye(!0),onBlur:Q,placeholder:"Cerca fase di produzione..."}),T.jsx("input",{type:"hidden",...En("fase")}),ue&&ne.length>0&&T.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:ne.map(J=>T.jsxs("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onMouseDown:()=>{$(J,rt,()=>{}),w(null)},children:[T.jsx("div",{className:"text-[10px] font-medium",children:J.name}),T.jsx("div",{className:"text-[10px] text-gray-600",children:J.contenuto_fase})]},J.id))})]})},phase_parameters:()=>U?T.jsxs("div",{className:"space-y-2",children:[T.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Parametri Fase Selezionata"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:tt().map(Ce=>T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:Ce.name,children:Ce.label}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(Kn,{type:"number",id:Ce.name,value:Se(Ce.name),onChange:Be=>D(Ce.name,Be.target.value)}),T.jsx("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:Ce.unit})]})]},Ce.name))})]}):null,calculation_results:()=>b?.totals?T.jsxs("div",{className:"space-y-2",children:[T.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Risultati Calcolo Produzione"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{children:"Durata Totale (ore):"}),T.jsx("div",{className:"text-[10px] font-semibold text-navy-800",children:b.totals.duration.toFixed(2)})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{children:"Costo Totale ():"}),T.jsx("div",{className:"text-[10px] font-semibold text-green-600",children:b.totals.cost.toFixed(2)})]})]})]}):null}),[G,se,ue,ye,ne,Q,$,U,Se,D,tt,b,he]),zt=N.useMemo(()=>T.jsx("div",{className:"flex justify-end space-x-4 pt-6",children:T.jsx(Rr,{type:"button",variant:"outline",onClick:_e,disabled:!U,children:"Calcola"})}),[U,_e]),Pn=p.isPending||v.isPending;return T.jsx(iv,{config:E,initialData:R,onSubmit:pe,onSuccess:t,isEditMode:x,isLoading:Pn,customActions:zt,customFieldRenderers:qt})};function J1(){const{id:t}=Up(),e=As(),{data:n,isLoading:r,error:i}=oJ(t),{selectedWorkCenter:s}=Sn(),{isLoading:a,isInitialized:l,init:u,cleanup:d}=Oo(),h=!!t;return N.useEffect(()=>(l||u(),()=>{d()}),[u,l,d]),N.useEffect(()=>{h&&!r&&!n&&i&&e("/backlog",{replace:!0})},[h,r,n,e,i]),r?T.jsx("div",{children:"Caricamento..."}):h&&!n?T.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Ordine non trovato."}):s?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:h?`Modifica Ordine: ${n?.odp_number}`:"Aggiungi Nuovo Ordine"}),h&&T.jsx(Rr,{variant:"outline",onClick:()=>e("/scheduler"),children:" Torna al Programmatore"})]}),T.jsx(Rae,{onSuccess:h?()=>e("/scheduler"):void 0,orderToEdit:n})]}):T.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire gli ordini del backlog."})}const xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Du(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function kx(t){return"nodeType"in t}function Or(t){var e,n;return t?Du(t)?t:kx(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Nx(t){const{Document:e}=Or(t);return t instanceof e}function uh(t){return Du(t)?!1:t instanceof Or(t).HTMLElement}function XL(t){return t instanceof Or(t).SVGElement}function Mu(t){return t?Du(t)?t.document:kx(t)?Nx(t)?t:uh(t)||XL(t)?t.ownerDocument:document:document:document}const _a=xv?N.useLayoutEffect:N.useEffect;function Ev(t){const e=N.useRef(t);return _a(()=>{e.current=t}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Cae(){const t=N.useRef(null),e=N.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=N.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Pf(t,e){e===void 0&&(e=[t]);const n=N.useRef(t);return _a(()=>{n.current!==t&&(n.current=t)},e),n}function dh(t,e){const n=N.useRef();return N.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Rp(t){const e=Ev(t),n=N.useRef(null),r=N.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function Cp(t){const e=N.useRef();return N.useEffect(()=>{e.current=t},[t]),e.current}let u_={};function Rv(t,e){return N.useMemo(()=>{if(e)return e;const n=u_[t]==null?0:u_[t]+1;return u_[t]=n,t+"-"+n},[t,e])}function ZL(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[u,d]of l){const h=s[u];h!=null&&(s[u]=h+t*d)}return s},{...e})}}const iu=ZL(1),Tp=ZL(-1);function Tae(t){return"clientX"in t&&"clientY"in t}function Ix(t){if(!t)return!1;const{KeyboardEvent:e}=Or(t.target);return e&&t instanceof e}function Aae(t){if(!t)return!1;const{TouchEvent:e}=Or(t.target);return e&&t instanceof e}function Ap(t){if(Aae(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Tae(t)?{x:t.clientX,y:t.clientY}:null}const jf=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[jf.Translate.toString(t),jf.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),eM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Oae(t){return t.matches(eM)?t:t.querySelector(eM)}const Dae={display:"none"};function Mae(t){let{id:e,value:n}=t;return be.createElement("div",{id:e,style:Dae},n)}function kae(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return be.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Nae(){const[t,e]=N.useState("");return{announce:N.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const JL=N.createContext(null);function Iae(t){const e=N.useContext(JL);N.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Pae(){const[t]=N.useState(()=>new Set),e=N.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[N.useCallback(r=>{let{type:i,event:s}=r;t.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[t]),e]}const jae={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Lae={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Fae(t){let{announcements:e=Lae,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=jae}=t;const{announce:s,announcement:a}=Nae(),l=Rv("DndLiveRegion"),[u,d]=N.useState(!1);if(N.useEffect(()=>{d(!0)},[]),Iae(N.useMemo(()=>({onDragStart(g){let{active:p}=g;s(e.onDragStart({active:p}))},onDragMove(g){let{active:p,over:v}=g;e.onDragMove&&s(e.onDragMove({active:p,over:v}))},onDragOver(g){let{active:p,over:v}=g;s(e.onDragOver({active:p,over:v}))},onDragEnd(g){let{active:p,over:v}=g;s(e.onDragEnd({active:p,over:v}))},onDragCancel(g){let{active:p,over:v}=g;s(e.onDragCancel({active:p,over:v}))}}),[s,e])),!u)return null;const h=be.createElement(be.Fragment,null,be.createElement(Mae,{id:r,value:i.draggable}),be.createElement(kae,{id:l,announcement:a}));return n?aa.createPortal(h,n):h}var Hn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Hn||(Hn={}));function Op(){}function tM(t,e){return N.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Uae(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ss=Object.freeze({x:0,y:0});function zae(t,e){const n=Ap(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function Hae(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function Bae(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function $ae(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-r,l=s-n;if(r<i&&n<s){const u=e.width*e.height,d=t.width*t.height,h=a*l,g=h/(u+d-h);return Number(g.toFixed(4))}return 0}const Vae=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=$ae(l,e);u>0&&i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(Hae)};function qae(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function eF(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ss}function Wae(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const Gae=Wae(1);function tF(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Yae(t,e,n){const r=tF(e);if(!r)return t;const{scaleX:i,scaleY:s,x:a,y:l}=r,u=t.left-a-(1-i)*parseFloat(n),d=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?t.width/i:t.width,g=s?t.height/s:t.height;return{width:h,height:g,top:d,right:u+h,bottom:d+g,left:u}}const Kae={ignoreTransform:!1};function fh(t,e){e===void 0&&(e=Kae);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:h}=Or(t).getComputedStyle(t);d&&(n=Yae(n,d,h))}const{top:r,left:i,width:s,height:a,bottom:l,right:u}=n;return{top:r,left:i,width:s,height:a,bottom:l,right:u}}function nM(t){return fh(t,{ignoreTransform:!0})}function Qae(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Xae(t,e){return e===void 0&&(e=Or(t).getComputedStyle(t)),e.position==="fixed"}function Zae(t,e){e===void 0&&(e=Or(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function Px(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(Nx(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!uh(i)||XL(i)||n.includes(i))return n;const s=Or(t).getComputedStyle(i);return i!==t&&Zae(i,s)&&n.push(i),Xae(i,s)?n:r(i.parentNode)}return t?r(t):n}function nF(t){const[e]=Px(t,1);return e??null}function d_(t){return!xv||!t?null:Du(t)?t:kx(t)?Nx(t)||t===Mu(t).scrollingElement?window:uh(t)?t:null:null}function rF(t){return Du(t)?t.scrollX:t.scrollLeft}function iF(t){return Du(t)?t.scrollY:t.scrollTop}function Fw(t){return{x:rF(t),y:iF(t)}}var Yn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Yn||(Yn={}));function sF(t){return!xv||!t?!1:t===document.scrollingElement}function aF(t){const e={x:0,y:0},n=sF(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const Jae={x:.2,y:.2};function eoe(t,e,n,r,i){let{top:s,left:a,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=Jae);const{isTop:d,isBottom:h,isLeft:g,isRight:p}=aF(t),v={x:0,y:0},_={x:0,y:0},b={height:e.height*i.y,width:e.width*i.x};return!d&&s<=e.top+b.height?(v.y=Yn.Backward,_.y=r*Math.abs((e.top+b.height-s)/b.height)):!h&&u>=e.bottom-b.height&&(v.y=Yn.Forward,_.y=r*Math.abs((e.bottom-b.height-u)/b.height)),!p&&l>=e.right-b.width?(v.x=Yn.Forward,_.x=r*Math.abs((e.right-b.width-l)/b.width)):!g&&a<=e.left+b.width&&(v.x=Yn.Backward,_.x=r*Math.abs((e.left+b.width-a)/b.width)),{direction:v,speed:_}}function toe(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function oF(t){return t.reduce((e,n)=>iu(e,Fw(n)),ss)}function noe(t){return t.reduce((e,n)=>e+rF(n),0)}function roe(t){return t.reduce((e,n)=>e+iF(n),0)}function lF(t,e){if(e===void 0&&(e=fh),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);nF(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const ioe=[["x",["left","right"],noe],["y",["top","bottom"],roe]];class jx{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Px(n),i=oF(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of ioe)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=l(r),h=i[s]-d;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class lf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function soe(t){const{EventTarget:e}=Or(t);return t instanceof e?t:Mu(t)}function f_(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Ii;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ii||(Ii={}));function rM(t){t.preventDefault()}function aoe(t){t.stopPropagation()}var $t;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})($t||($t={}));const cF={start:[$t.Space,$t.Enter],cancel:[$t.Esc],end:[$t.Space,$t.Enter,$t.Tab]},ooe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case $t.Right:return{...n,x:n.x+25};case $t.Left:return{...n,x:n.x-25};case $t.Down:return{...n,y:n.y+25};case $t.Up:return{...n,y:n.y-25}}};class uF{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new lf(Mu(n)),this.windowListeners=new lf(Or(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ii.Resize,this.handleCancel),this.windowListeners.add(Ii.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ii.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&lF(r),n(ss)}handleKeyDown(e){if(Ix(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=cF,coordinateGetter:a=ooe,scrollBehavior:l="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,h=d?{x:d.left,y:d.top}:ss;this.referenceCoordinates||(this.referenceCoordinates=h);const g=a(e,{active:n,context:r.current,currentCoordinates:h});if(g){const p=Tp(g,h),v={x:0,y:0},{scrollableAncestors:_}=r.current;for(const b of _){const w=e.code,{isTop:x,isRight:E,isLeft:R,isBottom:O,maxScroll:A,minScroll:I}=aF(b),k=toe(b),M={x:Math.min(w===$t.Right?k.right-k.width/2:k.right,Math.max(w===$t.Right?k.left:k.left+k.width/2,g.x)),y:Math.min(w===$t.Down?k.bottom-k.height/2:k.bottom,Math.max(w===$t.Down?k.top:k.top+k.height/2,g.y))},L=w===$t.Right&&!E||w===$t.Left&&!R,H=w===$t.Down&&!O||w===$t.Up&&!x;if(L&&M.x!==g.x){const V=b.scrollLeft+p.x,G=w===$t.Right&&V<=A.x||w===$t.Left&&V>=I.x;if(G&&!p.y){b.scrollTo({left:V,behavior:l});return}G?v.x=b.scrollLeft-V:v.x=w===$t.Right?b.scrollLeft-A.x:b.scrollLeft-I.x,v.x&&b.scrollBy({left:-v.x,behavior:l});break}else if(H&&M.y!==g.y){const V=b.scrollTop+p.y,G=w===$t.Down&&V<=A.y||w===$t.Up&&V>=I.y;if(G&&!p.x){b.scrollTo({top:V,behavior:l});return}G?v.y=b.scrollTop-V:v.y=w===$t.Down?b.scrollTop-A.y:b.scrollTop-I.y,v.y&&b.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(e,iu(Tp(g,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}uF.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=cF,onActivation:i}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function iM(t){return!!(t&&"distance"in t)}function sM(t){return!!(t&&"delay"in t)}class Lx{constructor(e,n,r){var i;r===void 0&&(r=soe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=Mu(a),this.documentListeners=new lf(this.document),this.listeners=new lf(r),this.windowListeners=new lf(Or(a)),this.initialCoordinates=(i=Ap(s))!=null?i:ss,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ii.Resize,this.handleCancel),this.windowListeners.add(Ii.DragStart,rM),this.windowListeners.add(Ii.VisibilityChange,this.handleCancel),this.windowListeners.add(Ii.ContextMenu,rM),this.documentListeners.add(Ii.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(sM(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(iM(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ii.Click,aoe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ii.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const u=(n=Ap(e))!=null?n:ss,d=Tp(i,u);if(!r&&l){if(iM(l)){if(l.tolerance!=null&&f_(d,l.tolerance))return this.handleCancel();if(f_(d,l.distance))return this.handleStart()}if(sM(l)&&f_(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===$t.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const loe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Fx extends Lx{constructor(e){const{event:n}=e,r=Mu(n.target);super(e,loe,r)}}Fx.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const coe={move:{name:"mousemove"},end:{name:"mouseup"}};var Uw;(function(t){t[t.RightClick=2]="RightClick"})(Uw||(Uw={}));class dF extends Lx{constructor(e){super(e,coe,Mu(e.event.target))}}dF.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Uw.RightClick?!1:(r?.({event:n}),!0)}}];const h_={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class uoe extends Lx{constructor(e){super(e,h_)}static setup(){return window.addEventListener(h_.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(h_.move.name,e)};function e(){}}}uoe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var cf;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(cf||(cf={}));var Dp;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Dp||(Dp={}));function doe(t){let{acceleration:e,activator:n=cf.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:l=Dp.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:h,delta:g,threshold:p}=t;const v=hoe({delta:g,disabled:!s}),[_,b]=Cae(),w=N.useRef({x:0,y:0}),x=N.useRef({x:0,y:0}),E=N.useMemo(()=>{switch(n){case cf.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case cf.DraggableRect:return i}},[n,i,u]),R=N.useRef(null),O=N.useCallback(()=>{const I=R.current;if(!I)return;const k=w.current.x*x.current.x,M=w.current.y*x.current.y;I.scrollBy(k,M)},[]),A=N.useMemo(()=>l===Dp.TreeOrder?[...d].reverse():d,[l,d]);N.useEffect(()=>{if(!s||!d.length||!E){b();return}for(const I of A){if(r?.(I)===!1)continue;const k=d.indexOf(I),M=h[k];if(!M)continue;const{direction:L,speed:H}=eoe(I,M,E,e,p);for(const V of["x","y"])v[V][L[V]]||(H[V]=0,L[V]=0);if(H.x>0||H.y>0){b(),R.current=I,_(O,a),w.current=H,x.current=L;return}}w.current={x:0,y:0},x.current={x:0,y:0},b()},[e,O,r,b,s,a,JSON.stringify(E),JSON.stringify(v),_,d,A,h,JSON.stringify(p)])}const foe={x:{[Yn.Backward]:!1,[Yn.Forward]:!1},y:{[Yn.Backward]:!1,[Yn.Forward]:!1}};function hoe(t){let{delta:e,disabled:n}=t;const r=Cp(e);return dh(i=>{if(n||!r||!i)return foe;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Yn.Backward]:i.x[Yn.Backward]||s.x===-1,[Yn.Forward]:i.x[Yn.Forward]||s.x===1},y:{[Yn.Backward]:i.y[Yn.Backward]||s.y===-1,[Yn.Forward]:i.y[Yn.Forward]||s.y===1}}},[n,e,r])}function goe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return dh(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function moe(t,e){return N.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...s]},[]),[t,e])}var Lf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Lf||(Lf={}));var zw;(function(t){t.Optimized="optimized"})(zw||(zw={}));const aM=new Map;function poe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,a]=N.useState(null),{frequency:l,measure:u,strategy:d}=i,h=N.useRef(t),g=w(),p=Pf(g),v=N.useCallback(function(x){x===void 0&&(x=[]),!p.current&&a(E=>E===null?x:E.concat(x.filter(R=>!E.includes(R))))},[p]),_=N.useRef(null),b=dh(x=>{if(g&&!n)return aM;if(!x||x===aM||h.current!==t||s!=null){const E=new Map;for(let R of t){if(!R)continue;if(s&&s.length>0&&!s.includes(R.id)&&R.rect.current){E.set(R.id,R.rect.current);continue}const O=R.node.current,A=O?new jx(u(O),O):null;R.rect.current=A,A&&E.set(R.id,A)}return E}return x},[t,s,n,g,u]);return N.useEffect(()=>{h.current=t},[t]),N.useEffect(()=>{g||v()},[n,g]),N.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),N.useEffect(()=>{g||typeof l!="number"||_.current!==null||(_.current=setTimeout(()=>{v(),_.current=null},l))},[l,g,v,...r]),{droppableRects:b,measureDroppableContainers:v,measuringScheduled:s!=null};function w(){switch(d){case Lf.Always:return!1;case Lf.BeforeDragging:return n;default:return!n}}}function Ux(t,e){return dh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function voe(t,e){return Ux(t,e)}function yoe(t){let{callback:e,disabled:n}=t;const r=Ev(e),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return N.useEffect(()=>()=>i?.disconnect(),[i]),i}function Cv(t){let{callback:e,disabled:n}=t;const r=Ev(e),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return N.useEffect(()=>()=>i?.disconnect(),[i]),i}function boe(t){return new jx(fh(t),t)}function oM(t,e,n){e===void 0&&(e=boe);const[r,i]=N.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const h=e(t);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const a=yoe({callback(u){if(t)for(const d of u){const{type:h,target:g}=d;if(h==="childList"&&g instanceof HTMLElement&&g.contains(t)){s();break}}}}),l=Cv({callback:s});return _a(()=>{s(),t?(l?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[t]),r}function _oe(t){const e=Ux(t);return eF(t,e)}const lM=[];function woe(t){const e=N.useRef(t),n=dh(r=>t?r&&r!==lM&&t&&e.current&&t.parentNode===e.current.parentNode?r:Px(t):lM,[t]);return N.useEffect(()=>{e.current=t},[t]),n}function Soe(t){const[e,n]=N.useState(null),r=N.useRef(t),i=N.useCallback(s=>{const a=d_(s.target);a&&n(l=>l?(l.set(a,Fw(a)),new Map(l)):null)},[]);return N.useEffect(()=>{const s=r.current;if(t!==s){a(s);const l=t.map(u=>{const d=d_(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,Fw(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(u=>{const d=d_(u);d?.removeEventListener("scroll",i)})}},[i,t]),N.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>iu(s,a),ss):oF(t):ss,[t,e])}function cM(t,e){e===void 0&&(e=[]);const n=N.useRef(null);return N.useEffect(()=>{n.current=null},e),N.useEffect(()=>{const r=t!==ss;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Tp(t,n.current):ss}function xoe(t){N.useEffect(()=>{if(!xv)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function Eoe(t,e){return N.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,e)},n},{}),[t,e])}function fF(t){return N.useMemo(()=>t?Qae(t):null,[t])}const uM=[];function Roe(t,e){e===void 0&&(e=fh);const[n]=t,r=fF(n?Or(n):null),[i,s]=N.useState(uM);function a(){s(()=>t.length?t.map(u=>sF(u)?r:new jx(e(u),u)):uM)}const l=Cv({callback:a});return _a(()=>{l?.disconnect(),a(),t.forEach(u=>l?.observe(u))},[t]),i}function hF(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return uh(e)?e:t}function Coe(t){let{measure:e}=t;const[n,r]=N.useState(null),i=N.useCallback(d=>{for(const{target:h}of d)if(uh(h)){r(g=>{const p=e(h);return g?{...g,width:p.width,height:p.height}:p});break}},[e]),s=Cv({callback:i}),a=N.useCallback(d=>{const h=hF(d);s?.disconnect(),h&&s?.observe(h),r(h?e(h):null)},[e,s]),[l,u]=Rp(a);return N.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const Toe=[{sensor:Fx,options:{}},{sensor:uF,options:{}}],Aoe={current:{}},zm={draggable:{measure:nM},droppable:{measure:nM,strategy:Lf.WhileDragging,frequency:zw.Optimized},dragOverlay:{measure:fh}};class uf extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const Ooe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new uf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Op},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zm,measureDroppableContainers:Op,windowRect:null,measuringScheduled:!1},gF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Op,draggableNodes:new Map,over:null,measureDroppableContainers:Op},hh=N.createContext(gF),mF=N.createContext(Ooe);function Doe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new uf}}}function Moe(t,e){switch(e.type){case Hn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Hn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Hn.DragEnd:case Hn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Hn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new uf(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Hn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new uf(t.droppable.containers);return a.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Hn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new uf(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function koe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=N.useContext(hh),s=Cp(r),a=Cp(n?.id);return N.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!Ix(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[u.current,d.current]){if(!h)continue;const g=Oae(h);if(g){g.focus();break}}})}},[r,e,i,a,s]),null}function pF(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function Noe(t){return N.useMemo(()=>({draggable:{...zm.draggable,...t?.draggable},droppable:{...zm.droppable,...t?.droppable},dragOverlay:{...zm.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Ioe(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=N.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;_a(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!r)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const h=n(d),g=eF(h,r);if(a||(g.x=0),l||(g.y=0),s.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const p=nF(d);p&&p.scrollBy({top:g.y,left:g.x})}},[e,a,l,r,n])}const Tv=N.createContext({...ss,scaleX:1,scaleY:1});var io;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(io||(io={}));const Poe=N.memo(function(e){var n,r,i,s;let{id:a,accessibility:l,autoScroll:u=!0,children:d,sensors:h=Toe,collisionDetection:g=Vae,measuring:p,modifiers:v,..._}=e;const b=N.useReducer(Moe,void 0,Doe),[w,x]=b,[E,R]=Pae(),[O,A]=N.useState(io.Uninitialized),I=O===io.Initialized,{draggable:{active:k,nodes:M,translate:L},droppable:{containers:H}}=w,V=k!=null?M.get(k):null,G=N.useRef({initial:null,translated:null}),se=N.useMemo(()=>{var xt;return k!=null?{id:k,data:(xt=V?.data)!=null?xt:Aoe,rect:G}:null},[k,V]),ue=N.useRef(null),[ye,U]=N.useState(null),[K,ne]=N.useState(null),Y=Pf(_,Object.values(_)),me=Rv("DndDescribedBy",a),D=N.useMemo(()=>H.getEnabled(),[H]),$=Noe(p),{droppableRects:Q,measureDroppableContainers:ee,measuringScheduled:he}=poe(D,{dragging:I,dependencies:[L.x,L.y],config:$.droppable}),pe=goe(M,k),_e=N.useMemo(()=>K?Ap(K):null,[K]),Se=br(),Oe=voe(pe,$.draggable.measure);Ioe({activeNode:k!=null?M.get(k):null,config:Se.layoutShiftCompensation,initialRect:Oe,measure:$.draggable.measure});const tt=oM(pe,$.draggable.measure,Oe),qt=oM(pe?pe.parentElement:null),zt=N.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:H,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pn=H.getNodeFor((n=zt.current.over)==null?void 0:n.id),Ce=Coe({measure:$.dragOverlay.measure}),Be=(r=Ce.nodeRef.current)!=null?r:pe,rt=I?(i=Ce.rect)!=null?i:tt:null,Wt=!!(Ce.nodeRef.current&&Ce.rect),En=_oe(Wt?null:tt),Ke=fF(Be?Or(Be):null),F=woe(I?Pn??pe:null),X=Roe(F),te=pF(v,{transform:{x:L.x-En.x,y:L.y-En.y,scaleX:1,scaleY:1},activatorEvent:K,active:se,activeNodeRect:tt,containerNodeRect:qt,draggingNodeRect:rt,over:zt.current.over,overlayNodeRect:Ce.rect,scrollableAncestors:F,scrollableAncestorRects:X,windowRect:Ke}),J=_e?iu(_e,L):null,ae=Soe(F),de=cM(ae),we=cM(ae,[tt]),xe=iu(te,de),Ee=rt?Gae(rt,te):null,Ne=se&&Ee?g({active:se,collisionRect:Ee,droppableRects:Q,droppableContainers:D,pointerCoordinates:J}):null,Qe=Bae(Ne,"id"),[Ve,dt]=N.useState(null),it=Wt?te:iu(te,we),Ht=qae(it,(s=Ve?.rect)!=null?s:null,tt),st=N.useRef(null),He=N.useCallback((xt,Gt)=>{let{sensor:Te,options:$e}=Gt;if(ue.current==null)return;const ft=M.get(ue.current);if(!ft)return;const vt=xt.nativeEvent,gn=new Te({active:ue.current,activeNode:ft,event:vt,options:$e,context:zt,onAbort(Xe){if(!M.get(Xe))return;const{onDragAbort:Qt}=Y.current,rn={id:Xe};Qt?.(rn),E({type:"onDragAbort",event:rn})},onPending(Xe,Rn,Qt,rn){if(!M.get(Xe))return;const{onDragPending:Jn}=Y.current,hi={id:Xe,constraint:Rn,initialCoordinates:Qt,offset:rn};Jn?.(hi),E({type:"onDragPending",event:hi})},onStart(Xe){const Rn=ue.current;if(Rn==null)return;const Qt=M.get(Rn);if(!Qt)return;const{onDragStart:rn}=Y.current,fi={activatorEvent:vt,active:{id:Rn,data:Qt.data,rect:G}};aa.unstable_batchedUpdates(()=>{rn?.(fi),A(io.Initializing),x({type:Hn.DragStart,initialCoordinates:Xe,active:Rn}),E({type:"onDragStart",event:fi}),U(st.current),ne(vt)})},onMove(Xe){x({type:Hn.DragMove,coordinates:Xe})},onEnd:yt(Hn.DragEnd),onCancel:yt(Hn.DragCancel)});st.current=gn;function yt(Xe){return async function(){const{active:Qt,collisions:rn,over:fi,scrollAdjustedTranslate:Jn}=zt.current;let hi=null;if(Qt&&Jn){const{cancelDrop:Ea}=Y.current;hi={activatorEvent:vt,active:Qt,collisions:rn,delta:Jn,over:fi},Xe===Hn.DragEnd&&typeof Ea=="function"&&await Promise.resolve(Ea(hi))&&(Xe=Hn.DragCancel)}ue.current=null,aa.unstable_batchedUpdates(()=>{x({type:Xe}),A(io.Uninitialized),dt(null),U(null),ne(null),st.current=null;const Ea=Xe===Hn.DragEnd?"onDragEnd":"onDragCancel";if(hi){const gi=Y.current[Ea];gi?.(hi),E({type:Ea,event:hi})}})}}},[M]),yn=N.useCallback((xt,Gt)=>(Te,$e)=>{const ft=Te.nativeEvent,vt=M.get($e);if(ue.current!==null||!vt||ft.dndKit||ft.defaultPrevented)return;const gn={active:vt};xt(Te,Gt.options,gn)===!0&&(ft.dndKit={capturedBy:Gt.sensor},ue.current=$e,He(Te,Gt))},[M,He]),nt=moe(h,yn);xoe(h),_a(()=>{tt&&O===io.Initializing&&A(io.Initialized)},[tt,O]),N.useEffect(()=>{const{onDragMove:xt}=Y.current,{active:Gt,activatorEvent:Te,collisions:$e,over:ft}=zt.current;if(!Gt||!Te)return;const vt={active:Gt,activatorEvent:Te,collisions:$e,delta:{x:xe.x,y:xe.y},over:ft};aa.unstable_batchedUpdates(()=>{xt?.(vt),E({type:"onDragMove",event:vt})})},[xe.x,xe.y]),N.useEffect(()=>{const{active:xt,activatorEvent:Gt,collisions:Te,droppableContainers:$e,scrollAdjustedTranslate:ft}=zt.current;if(!xt||ue.current==null||!Gt||!ft)return;const{onDragOver:vt}=Y.current,gn=$e.get(Qe),yt=gn&&gn.rect.current?{id:gn.id,rect:gn.rect.current,data:gn.data,disabled:gn.disabled}:null,Xe={active:xt,activatorEvent:Gt,collisions:Te,delta:{x:ft.x,y:ft.y},over:yt};aa.unstable_batchedUpdates(()=>{dt(yt),vt?.(Xe),E({type:"onDragOver",event:Xe})})},[Qe]),_a(()=>{zt.current={activatorEvent:K,active:se,activeNode:pe,collisionRect:Ee,collisions:Ne,droppableRects:Q,draggableNodes:M,draggingNode:Be,draggingNodeRect:rt,droppableContainers:H,over:Ve,scrollableAncestors:F,scrollAdjustedTranslate:xe},G.current={initial:rt,translated:Ee}},[se,pe,Ne,Ee,M,Be,rt,Q,H,Ve,F,xe]),doe({...Se,delta:L,draggingRect:Ee,pointerCoordinates:J,scrollableAncestors:F,scrollableAncestorRects:X});const pt=N.useMemo(()=>({active:se,activeNode:pe,activeNodeRect:tt,activatorEvent:K,collisions:Ne,containerNodeRect:qt,dragOverlay:Ce,draggableNodes:M,droppableContainers:H,droppableRects:Q,over:Ve,measureDroppableContainers:ee,scrollableAncestors:F,scrollableAncestorRects:X,measuringConfiguration:$,measuringScheduled:he,windowRect:Ke}),[se,pe,tt,K,Ne,qt,Ce,M,H,Q,Ve,ee,F,X,$,he,Ke]),yr=N.useMemo(()=>({activatorEvent:K,activators:nt,active:se,activeNodeRect:tt,ariaDescribedById:{draggable:me},dispatch:x,draggableNodes:M,over:Ve,measureDroppableContainers:ee}),[K,nt,se,tt,x,me,M,Ve,ee]);return be.createElement(JL.Provider,{value:R},be.createElement(hh.Provider,{value:yr},be.createElement(mF.Provider,{value:pt},be.createElement(Tv.Provider,{value:Ht},d)),be.createElement(koe,{disabled:l?.restoreFocus===!1})),be.createElement(Fae,{...l,hiddenTextDescribedById:me}));function br(){const xt=ye?.autoScrollEnabled===!1,Gt=typeof u=="object"?u.enabled===!1:u===!1,Te=I&&!xt&&!Gt;return typeof u=="object"?{...u,enabled:Te}:{enabled:Te}}}),joe=N.createContext(null),dM="button",Loe="Draggable";function mhe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Rv(Loe),{activators:a,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:h,draggableNodes:g,over:p}=N.useContext(hh),{role:v=dM,roleDescription:_="draggable",tabIndex:b=0}=i??{},w=u?.id===e,x=N.useContext(w?Tv:joe),[E,R]=Rp(),[O,A]=Rp(),I=Eoe(a,e),k=Pf(n);_a(()=>(g.set(e,{id:e,key:s,node:E,activatorNode:O,data:k}),()=>{const L=g.get(e);L&&L.key===s&&g.delete(e)}),[g,e]);const M=N.useMemo(()=>({role:v,tabIndex:b,"aria-disabled":r,"aria-pressed":w&&v===dM?!0:void 0,"aria-roledescription":_,"aria-describedby":h.draggable}),[r,v,b,w,_,h.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:M,isDragging:w,listeners:r?void 0:I,node:E,over:p,setNodeRef:R,setActivatorNodeRef:A,transform:x}}function Foe(){return N.useContext(mF)}const Uoe="Droppable",zoe={timeout:25};function phe(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Rv(Uoe),{active:a,dispatch:l,over:u,measureDroppableContainers:d}=N.useContext(hh),h=N.useRef({disabled:n}),g=N.useRef(!1),p=N.useRef(null),v=N.useRef(null),{disabled:_,updateMeasurementsFor:b,timeout:w}={...zoe,...i},x=Pf(b??r),E=N.useCallback(()=>{if(!g.current){g.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),v.current=null},w)},[w]),R=Cv({callback:E,disabled:_||!a}),O=N.useCallback((M,L)=>{R&&(L&&(R.unobserve(L),g.current=!1),M&&R.observe(M))},[R]),[A,I]=Rp(O),k=Pf(e);return N.useEffect(()=>{!R||!A.current||(R.disconnect(),g.current=!1,R.observe(A.current))},[A,R]),N.useEffect(()=>(l({type:Hn.RegisterDroppable,element:{id:r,key:s,disabled:n,node:A,rect:p,data:k}}),()=>l({type:Hn.UnregisterDroppable,key:s,id:r})),[r]),N.useEffect(()=>{n!==h.current.disabled&&(l({type:Hn.SetDroppableDisabled,id:r,key:s,disabled:n}),h.current.disabled=n)},[r,s,n,l]),{active:a,rect:p,isOver:u?.id===r,node:A,over:u,setNodeRef:I}}function Hoe(t){let{animation:e,children:n}=t;const[r,i]=N.useState(null),[s,a]=N.useState(null),l=Cp(n);return!n&&!r&&l&&i(l),_a(()=>{if(!s)return;const u=r?.key,d=r?.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,s)).then(()=>{i(null)})},[e,r,s]),be.createElement(be.Fragment,null,n,r?N.cloneElement(r,{ref:a}):null)}const Boe={x:0,y:0,scaleX:1,scaleY:1};function $oe(t){let{children:e}=t;return be.createElement(hh.Provider,{value:gF},be.createElement(Tv.Provider,{value:Boe},e))}const Voe={position:"fixed",touchAction:"none"},qoe=t=>Ix(t)?"transform 250ms ease":void 0,Woe=N.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:a,rect:l,style:u,transform:d,transition:h=qoe}=t;if(!l)return null;const g=i?d:{...d,scaleX:1,scaleY:1},p={...Voe,width:l.width,height:l.height,top:l.top,left:l.left,transform:jf.Transform.toString(g),transformOrigin:i&&r?zae(r,l):void 0,transition:typeof h=="function"?h(r):h,...u};return be.createElement(n,{className:a,style:p,ref:e},s)}),Goe=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[l,u]of Object.entries(s.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(s!=null&&s.dragOverlay)for(const[l,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},Yoe=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:jf.Transform.toString(e)},{transform:jf.Transform.toString(n)}]},Koe={duration:250,easing:"ease",keyframes:Yoe,sideEffects:Goe({styles:{active:{opacity:"0"}}})};function Qoe(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Ev((s,a)=>{if(e===null)return;const l=n.get(s);if(!l)return;const u=l.node.current;if(!u)return;const d=hF(a);if(!d)return;const{transform:h}=Or(a).getComputedStyle(a),g=tF(h);if(!g)return;const p=typeof e=="function"?e:Xoe(e);return lF(u,i.draggable.measure),p({active:{id:s,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:g})})}function Xoe(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...Koe,...t};return s=>{let{active:a,dragOverlay:l,transform:u,...d}=s;if(!e)return;const h={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},g={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/l.rect.height:1},p={x:u.x-h.x,y:u.y-h.y,...g},v=i({...d,active:a,dragOverlay:l,transform:{initial:u,final:p}}),[_]=v,b=v[v.length-1];if(JSON.stringify(_)===JSON.stringify(b))return;const w=r?.({active:a,dragOverlay:l,...d}),x=l.node.animate(v,{duration:e,easing:n,fill:"forwards"});return new Promise(E=>{x.onfinish=()=>{w?.(),E()}})}}let fM=0;function Zoe(t){return N.useMemo(()=>{if(t!=null)return fM++,fM},[t])}const Joe=be.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:a,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:h,active:g,activeNodeRect:p,containerNodeRect:v,draggableNodes:_,droppableContainers:b,dragOverlay:w,over:x,measuringConfiguration:E,scrollableAncestors:R,scrollableAncestorRects:O,windowRect:A}=Foe(),I=N.useContext(Tv),k=Zoe(g?.id),M=pF(a,{activatorEvent:h,active:g,activeNodeRect:p,containerNodeRect:v,draggingNodeRect:w.rect,over:x,overlayNodeRect:w.rect,scrollableAncestors:R,scrollableAncestorRects:O,transform:I,windowRect:A}),L=Ux(p),H=Qoe({config:r,draggableNodes:_,droppableContainers:b,measuringConfiguration:E}),V=L?w.setRef:void 0;return be.createElement($oe,null,be.createElement(Hoe,{animation:H},g&&k?be.createElement(Woe,{key:k,id:g.id,ref:V,as:l,activatorEvent:h,adjustScale:e,className:u,transition:s,rect:L,style:{zIndex:d,...i},transform:M},n):null))});function el({label:t,options:e,selectedOptions:n,onSelectionChange:r,searchPlaceholder:i,id:s,width:a="200px"}){const[l,u]=N.useState(!1),[d,h]=N.useState(""),g=N.useRef(null);N.useEffect(()=>{const E=R=>{g.current&&!g.current.contains(R.target)&&u(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const p=e.filter(E=>E.toLowerCase().includes(d.toLowerCase())),v=p.length>0&&p.every(E=>n.includes(E)),_=E=>{if(E.preventDefault(),E.stopPropagation(),v){const R=n.filter(O=>!p.includes(O));r(R)}else{const R=[...new Set([...n,...p])];r(R)}},b=(E,R)=>{if(E.preventDefault(),E.stopPropagation(),n.includes(R)){const O=n.filter(A=>A!==R);r(O)}else{const O=[...n.filter(A=>A!==""),R];r(O)}},w=()=>{u(!0)},x=E=>{h(E.target.value)};return T.jsxs("div",{className:"relative",ref:g,style:{width:a},children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs(hr,{htmlFor:s,children:[t,":"]}),T.jsx(Kn,{type:"text",id:s,value:d,onChange:x,onFocus:w,placeholder:i})]}),l&&e.length>0&&T.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:[T.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 ${v?"bg-navy-50 text-navy-800":""}`,onMouseDown:_,children:T.jsx("div",{className:"text-xs font-bold",children:"Tutti"})}),p.map(E=>T.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 ${n.includes(E)?"bg-navy-50 text-navy-800":""}`,onMouseDown:R=>b(R,E),children:T.jsx("div",{className:"text-xs font-normal",children:E})},E))]})]})}const ele=N.lazy(()=>rs(()=>import("./TaskPoolDataTable-D6fR-GaV.js"),[])),tle=N.lazy(()=>rs(()=>import("./GanttChart-pgzuWXn4.js"),[])),hM=()=>T.jsx("div",{className:"loading",children:"Caricamento componenti scheduler..."}),nle=({schedulingLoading:t})=>{if(!t.isScheduling&&!t.isRescheduling&&!t.isShunting&&!t.isNavigating)return null;const e=()=>t.isScheduling?"Programmazione lavoro...":t.isRescheduling?"Riprogrammazione lavoro...":t.isShunting?"Risoluzione conflitti...":t.isNavigating?"Navigazione...":"Operazione in corso...";return T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[T.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),T.jsx("span",{className:"text-gray-700 font-medium",children:e()})]})})},rle=(t,e)=>{const n=document.querySelector(t);if(!n){lo("Grafico Gantt non trovato. Assicurati che il grafico sia visibile sullo schermo.");return}const r=Array.from(document.styleSheets);let i="";r.forEach(p=>{try{Array.from(p.cssRules||p.rules||[]).forEach(_=>{i+=_.cssText+`
`})}catch{}});const s=n.cloneNode(!0),a=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Grafico Gantt - ${e}</title>
        <style>
          ${i}
          body { 
            margin: 0; 
            padding: 20px; 
            font-family: Arial, sans-serif;
          }
          .calendar-section {
            width: 100%;
            overflow-x: auto;
          }
        </style>
      </head>
      <body>
        <div style="text-align: center; margin-bottom: 20px; font-size: 12px; font-weight: bold;">
          Grafico Gantt - ${e}
        </div>
        <div class="calendar-section">
          ${s.outerHTML}
        </div>
      </body>
    </html>
  `,l=new Blob([a],{type:"text/html"}),u=window.URL.createObjectURL(l),d=document.createElement("a");d.href=u;const h=new Date().toISOString().split("T")[0],g=new Date().toISOString().split("T")[1].split(".")[0].replace(/:/g,"-");d.download=`grafico-gantt-${h}-${g}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u)};function ile(){const{data:t=[],isLoading:e,error:n}=fv(),{data:r=[],isLoading:i,error:s}=dv(),{getOdpOrdersByWorkCenter:a,getScheduledOrders:l}=cu(),{selectedWorkCenter:u,isLoading:d,isInitialized:h,showAlert:g,isEditMode:p,toggleEditMode:v,showConflictDialog:_,schedulingLoading:b,setDragPreview:w,clearDragPreview:x,dragPreview:E}=Sn(),{scheduleTask:R,unscheduleTask:O,scheduleTaskFromSlot:A,rescheduleTaskToSlot:I,validateSlotAvailability:k}=ih(),{init:M,cleanup:L}=Oo(),H=Gr(),V=Uae(tM(Fx,{activationConstraint:{distance:0}}),tM(dF,{activationConstraint:{distance:0}})),[G,se]=N.useState(()=>{const J=new Date;return new Date(Date.UTC(J.getUTCFullYear(),J.getUTCMonth(),J.getUTCDate()))}),[ue,ye]=N.useState(null),U=e||i||d,[K,ne]=N.useState(null),[Y,me]=N.useState(""),[D,$]=N.useState(""),[Q,ee]=N.useState(""),he={workCenter:[],department:[],machineType:[],machineName:[]};function pe(J,ae){switch(ae.type){case"SET_FILTER":return{...J,[ae.payload.filterName]:ae.payload.value};case"CLEAR_FILTERS":return he;default:return J}}const[_e,Se]=N.useReducer(pe,he);N.useEffect(()=>(h||M(),()=>{L()}),[M,h,L]);const Oe=N.useMemo(()=>u?u==="BOTH"?t:t.filter(J=>J.work_center===u):[],[u,t]),tt=N.useMemo(()=>Oe.filter(ae=>ae.status==="SCHEDULED"),[Oe,u]),qt=N.useMemo(()=>{if(performance.now(),!r||r.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let J=r;u&&u!==St.BOTH&&(J=r.filter(it=>it.work_center===u));const ae=J.filter(it=>it.status===oa.ACTIVE);if(ae.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const de=new Set,we=new Set,xe=new Set,Ee=new Set;for(const it of ae)it.work_center&&de.add(it.work_center),it.department&&we.add(it.department),it.machine_type&&xe.add(it.machine_type),it.machine_name&&Ee.add(it.machine_name);const Ne=Array.from(de).sort(),Qe=Array.from(we).sort(),Ve=Array.from(xe).sort(),dt=Array.from(Ee).sort();return performance.now(),{activeMachines:ae,workCenters:Ne,departments:Qe,machineTypes:Ve,machineNames:dt}},[r,u]),zt=N.useMemo(()=>{const{activeMachines:J}=qt;let ae=J;return _e.workCenter.length>0&&(ae=ae.filter(de=>_e.workCenter.includes(de.work_center))),_e.department.length>0&&(ae=ae.filter(de=>_e.department.includes(de.department))),_e.machineType.length>0&&(ae=ae.filter(de=>_e.machineType.includes(de.machine_type))),_e.machineName.length>0&&(ae=ae.filter(de=>_e.machineName.includes(de.machine_name))),ae},[qt,_e]),Pn=N.useCallback(async(J,ae="Daily")=>{const{startSchedulingOperation:de,stopSchedulingOperation:we}=Sn.getState();try{de("navigate");let xe;se(Ee=>{if(J==="today"){const Ne=new Date,Qe=Ne.getUTCFullYear(),Ve=Ne.getUTCMonth(),dt=Ne.getUTCDate();return xe=new Date(Date.UTC(Qe,Ve,dt)),xe}else if(J==="prev"){if(ae==="Weekly")return xe=Al(iZ(Ee,1),{weekStartsOn:1}),xe;{const Ne=new Date(Ee);return Ne.setUTCDate(Ne.getUTCDate()-1),xe=Ne,xe}}else if(J==="next"){if(ae==="Weekly")return xe=Al(z2(Ee,1),{weekStartsOn:1}),xe;{const Ne=new Date(Ee);return Ne.setUTCDate(Ne.getUTCDate()+1),xe=Ne,Ne}}return xe=Ee,Ee})}finally{we()}},[]),Ce=N.useCallback(()=>{const J=new Date,ae=J.getUTCFullYear(),de=J.getUTCMonth(),we=J.getUTCDate(),xe=new Date(Date.UTC(ae,de,we));return G.getTime()===xe.getTime()?"Oggi":Xn(G,"yyyy-MM-dd")},[G]),Be=N.useCallback(()=>{Se({type:"CLEAR_FILTERS"})},[]),rt=N.useCallback((J,ae,de)=>{if(!J.trim())return;let we=tt.find(xe=>xe[ae]===J.trim());if(we||(we=tt.find(xe=>xe[ae]&&xe[ae].toLowerCase().includes(J.trim().toLowerCase()))),!we){g(`Lavoro non trovato per ${de}: ${J}`,"warning");return}Wt(we,ae,de,J)},[tt,r,g]),Wt=N.useCallback((J,ae,de,we)=>{const xe=r.find(Ne=>Ne.id===J.scheduled_machine_id);if(!xe){g("Macchina non trovata per questo lavoro","error");return}if(Se({type:"SET_FILTER",payload:{filterName:"machineName",value:[xe.machine_name]}}),Se({type:"SET_FILTER",payload:{filterName:"workCenter",value:[xe.work_center]}}),Se({type:"SET_FILTER",payload:{filterName:"department",value:[xe.department]}}),Se({type:"SET_FILTER",payload:{filterName:"machineType",value:[xe.machine_type]}}),J.scheduled_start_time){const Ne=new Date(J.scheduled_start_time),Qe=Ne.getUTCFullYear(),Ve=Ne.getUTCMonth(),dt=Ne.getUTCDate();se(new Date(Date.UTC(Qe,Ve,dt)))}ae==="odp_number"?me(""):ae==="article_code"?$(""):ae==="nome_cliente"&&ee("");const Ee=J[ae];g(`Lavoro trovato per ${de} "${Ee}" su ${xe.machine_name}`,"success")},[r,g,me,$,ee,se]),En=N.useRef(null),Ke=N.useRef(!1),F=N.useCallback(J=>{const ae=J.active.data.current;ae&&ae.type==="task"?ye(ae.task):ae&&ae.type==="event"&&ye(ae.event)},[]),X=N.useCallback(J=>{const{over:ae}=J;if(ae&&ae.data.current?.type==="slot"){const{machine:de,hour:we,minute:xe,isUnavailable:Ee,hasScheduledTask:Ne}=ae.data.current;if(Ee||Ne){ne(null),x();return}const Qe=`${de.id}-${we}-${xe}`;if(ne(Qe),ue){const Ve=ue.time_remaining||ue.duration||1,dt=Math.ceil(Ve*4),it=(we-6)*4+Math.floor(xe/15);w({isActive:!0,startSlot:it,durationSlots:dt,machineId:de.id})}}else ae&&ae.data.current?.type==="next-day"?(ne("next-day-drop-zone"),x()):ae&&ae.data.current?.type==="previous-day"?(ne("previous-day-drop-zone"),x()):(ne(null),x())},[ue,w,x]),te=N.useCallback(async J=>{if(performance.now(),En.current&&clearTimeout(En.current),Ke.current)return;ye(null),ne(null),x();const{over:ae,active:de}=J;if(!ae)return;const we=de.data.current,xe=ae.data.current;if(!(!we||!xe)){Ke.current=!0;try{await new Promise(Ee=>{requestAnimationFrame(async()=>{const Ne=performance.now();if(we.type==="task"&&xe.type==="slot"){const Qe=we.task,{machine:Ve,hour:dt,minute:it,isUnavailable:Ht,hasScheduledTask:st}=xe;if(st)return g("Impossibile pianificare il lavoro su uno slot temporale occupato","error"),Ee();const He=await A(Qe.id,Ve,G,dt,it,null,H);He?.error?g(He.error,"error"):He?.conflict&&_(He)}else if(we.type==="event"&&xe.type==="slot"){const Qe=we.event,{machine:Ve,hour:dt,minute:it,isUnavailable:Ht,hasScheduledTask:st}=xe;if(st)return g("Impossibile riprogrammare il lavoro su uno slot temporale occupato","error"),Ee();const He=await I(Qe.id,Ve,G,dt,it,H);He?.error?g(He.error,"error"):He?.conflict&&_(He)}else if(we.type==="event"&&xe.type==="pool"){const Qe=we.event;O(Qe.id,H)}else(we.type==="task"||we.type==="event")&&xe.type==="next-day"?g("Navigazione al giorno successivo completata","success"):(we.type==="task"||we.type==="event")&&xe.type==="previous-day"&&g("Navigazione al giorno precedente completata","success");Ee()})})}catch{g("Si  verificato un errore durante l'operazione di trascinamento","error")}finally{Ke.current=!1}}},[G,A,I,O,g,_]);return U?T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[T.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),T.jsx("span",{className:"text-gray-700 font-medium",children:"Caricamento Scheduler Produzione..."})]})}):n||s?T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[T.jsx("div",{className:"text-red-600 mb-4",children:T.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Errore nel caricamento dei dati"}),T.jsx("p",{className:"text-gray-600 mb-4",children:n?.message||s?.message||"Errore sconosciuto"}),T.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Riprova"})]})}):u?T.jsxs(T.Fragment,{children:[T.jsx(nle,{schedulingLoading:b}),T.jsxs(Poe,{sensors:V,onDragStart:F,onDragOver:X,onDragEnd:te,children:[T.jsxs("div",{className:`content-section ${p?"edit-mode":""}`,children:[T.jsxs("div",{className:"task-pool-section",children:[T.jsxs("div",{className:"task-pool-header",children:[T.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Pool Lavori"}),T.jsx(Rr,{variant:p?"destructive":"default",size:"sm",onClick:v,title:p?"Disabilita modalit modifica":"Abilita modalit modifica",children:p?"Disabilita Modalit Modifica":"Abilita Modalit Modifica"})]}),T.jsx(N.Suspense,{fallback:T.jsx(hM,{}),children:T.jsx(ele,{})})]}),T.jsxs("div",{className:"section-controls",children:[T.jsx("div",{className:"task-pool-header",children:T.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Filtri"})}),T.jsxs("div",{className:"filters-grid",children:[T.jsx("div",{className:"filters-actions-left",children:T.jsx(Rr,{variant:"secondary",size:"sm",onClick:Be,title:"Clear all filters",children:"Cancella Filtri"})}),T.jsx(el,{label:"ODP",options:tt.map(J=>J.odp_number).filter(Boolean),selectedOptions:Y?[Y]:[],onSelectionChange:J=>{J.length>0?(me(J[0]),rt(J[0],"odp_number","ODP")):me("")},searchPlaceholder:"Cerca ODP...",id:"odp_filter",width:"150px"}),T.jsx(el,{label:"Codice Articolo",options:tt.map(J=>J.article_code).filter(Boolean),selectedOptions:D?[D]:[],onSelectionChange:J=>{J.length>0?($(J[0]),rt(J[0],"article_code","codice articolo")):$("")},searchPlaceholder:"Cerca Articolo...",id:"article_filter",width:"150px"}),T.jsx(el,{label:"Nome Cliente",options:tt.map(J=>J.nome_cliente).filter(Boolean),selectedOptions:Q?[Q]:[],onSelectionChange:J=>{J.length>0?(ee(J[0]),rt(J[0],"nome_cliente","cliente")):ee("")},searchPlaceholder:"Cerca Cliente...",id:"customer_filter",width:"150px"}),T.jsx(el,{label:"Centro di Lavoro",options:qt.workCenters,selectedOptions:_e.workCenter,onSelectionChange:J=>Se({type:"SET_FILTER",payload:{filterName:"workCenter",value:J}}),searchPlaceholder:"Cerca Centri di Lavoro",id:"work_center_filter",width:"150px"}),T.jsx(el,{label:"Reparto",options:qt.departments,selectedOptions:_e.department,onSelectionChange:J=>Se({type:"SET_FILTER",payload:{filterName:"department",value:J}}),searchPlaceholder:"Cerca Reparti",id:"department_filter",width:"150px"}),T.jsx(el,{label:"Tipo Macchina",options:qt.machineTypes,selectedOptions:_e.machineType,onSelectionChange:J=>Se({type:"SET_FILTER",payload:{filterName:"machineType",value:J}}),searchPlaceholder:"Cerca Tipi di Macchina",id:"machine_type_filter",width:"150px"}),T.jsx(el,{label:"Nome Macchina",options:qt.machineNames,selectedOptions:_e.machineName,onSelectionChange:J=>Se({type:"SET_FILTER",payload:{filterName:"machineName",value:J}}),searchPlaceholder:"Cerca Nomi Macchine",id:"machine_name_filter",width:"150px"}),T.jsx("div",{className:"filters-actions-right",children:T.jsx(Rr,{variant:"secondary",size:"sm",onClick:()=>rle(".calendar-section .calendar-grid-container",Ce()),title:"Download exact Gantt chart as HTML file",children:"Scarica HTML"})})]})]}),T.jsxs("div",{className:"calendar-section relative",children:[T.jsx(N.Suspense,{fallback:T.jsx(hM,{}),children:T.jsx(tle,{machines:zt,currentDate:G,dropTargetId:K,dragPreview:E,onNavigateToNextDay:J=>Pn("next",J),onNavigateToPreviousDay:J=>Pn("prev",J)})}),(b.isScheduling||b.isRescheduling||b.isShunting||b.isNavigating)&&T.jsx("div",{className:"absolute inset-0 bg-white z-40"})]})]}),T.jsx(Joe,{children:ue?T.jsx("div",{style:{background:"#1e293b",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"400",zIndex:9999,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(3deg) scale(1.05)",border:"1px solid #2d3a4b",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",pointerEvents:"none",minHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",whiteSpace:"nowrap"},children:ue.odp_number}):null})]})]}):T.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:T.jsx("div",{className:"text-center py-1 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati dello scheduler."})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gh(t){return t+.5|0}const ho=(t,e,n)=>Math.max(Math.min(t,n),e);function qd(t){return ho(gh(t*2.55),0,255)}function vo(t){return ho(gh(t*255),0,255)}function sa(t){return ho(gh(t/2.55)/100,0,1)}function gM(t){return ho(gh(t*100),0,100)}const Di={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hw=[..."0123456789ABCDEF"],sle=t=>Hw[t&15],ale=t=>Hw[(t&240)>>4]+Hw[t&15],fm=t=>(t&240)>>4===(t&15),ole=t=>fm(t.r)&&fm(t.g)&&fm(t.b)&&fm(t.a);function lle(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Di[t[1]]*17,g:255&Di[t[2]]*17,b:255&Di[t[3]]*17,a:e===5?Di[t[4]]*17:255}:(e===7||e===9)&&(n={r:Di[t[1]]<<4|Di[t[2]],g:Di[t[3]]<<4|Di[t[4]],b:Di[t[5]]<<4|Di[t[6]],a:e===9?Di[t[7]]<<4|Di[t[8]]:255})),n}const cle=(t,e)=>t<255?e(t):"";function ule(t){var e=ole(t)?sle:ale;return t?"#"+e(t.r)+e(t.g)+e(t.b)+cle(t.a,e):void 0}const dle=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vF(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function fle(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function hle(t,e,n){const r=vF(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function gle(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function zx(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),l=(s+a)/2;let u,d,h;return s!==a&&(h=s-a,d=l>.5?h/(2-s-a):h/(s+a),u=gle(n,r,i,h,s),u=u*60+.5),[u|0,d||0,l]}function Hx(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(vo)}function Bx(t,e,n){return Hx(vF,t,e,n)}function mle(t,e,n){return Hx(hle,t,e,n)}function ple(t,e,n){return Hx(fle,t,e,n)}function yF(t){return(t%360+360)%360}function vle(t){const e=dle.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?qd(+e[5]):vo(+e[5]));const i=yF(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=mle(i,s,a):e[1]==="hsv"?r=ple(i,s,a):r=Bx(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function yle(t,e){var n=zx(t);n[0]=yF(n[0]+e),n=Bx(n),t.r=n[0],t.g=n[1],t.b=n[2]}function ble(t){if(!t)return;const e=zx(t),n=e[0],r=gM(e[1]),i=gM(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${sa(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const mM={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _le(){const t={},e=Object.keys(pM),n=Object.keys(mM);let r,i,s,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],i=0;i<n.length;i++)s=n[i],l=l.replace(s,mM[s]);s=parseInt(pM[a],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let hm;function wle(t){hm||(hm=_le(),hm.transparent=[0,0,0,0]);const e=hm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Sle=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function xle(t){const e=Sle.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?qd(a):ho(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?qd(r):ho(r,0,255)),i=255&(e[4]?qd(i):ho(i,0,255)),s=255&(e[6]?qd(s):ho(s,0,255)),{r,g:i,b:s,a:n}}}function Ele(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${sa(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const g_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Hc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Rle(t,e,n){const r=Hc(sa(t.r)),i=Hc(sa(t.g)),s=Hc(sa(t.b));return{r:vo(g_(r+n*(Hc(sa(e.r))-r))),g:vo(g_(i+n*(Hc(sa(e.g))-i))),b:vo(g_(s+n*(Hc(sa(e.b))-s))),a:t.a+n*(e.a-t.a)}}function gm(t,e,n){if(t){let r=zx(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Bx(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function bF(t,e){return t&&Object.assign(e||{},t)}function vM(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=vo(t[3]))):(e=bF(t,{r:0,g:0,b:0,a:1}),e.a=vo(e.a)),e}function Cle(t){return t.charAt(0)==="r"?xle(t):vle(t)}class Ff{constructor(e){if(e instanceof Ff)return e;const n=typeof e;let r;n==="object"?r=vM(e):n==="string"&&(r=lle(e)||wle(e)||Cle(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=bF(this._rgb);return e&&(e.a=sa(e.a)),e}set rgb(e){this._rgb=vM(e)}rgbString(){return this._valid?Ele(this._rgb):void 0}hexString(){return this._valid?ule(this._rgb):void 0}hslString(){return this._valid?ble(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,l=2*a-1,u=r.a-i.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Rle(this._rgb,e._rgb,n)),this}clone(){return new Ff(this.rgb)}alpha(e){return this._rgb.a=vo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=gh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return gm(this._rgb,2,e),this}darken(e){return gm(this._rgb,2,-e),this}saturate(e){return gm(this._rgb,1,e),this}desaturate(e){return gm(this._rgb,1,-e),this}rotate(e){return yle(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Js(){}const Tle=(()=>{let t=0;return()=>t++})();function Kt(t){return t==null}function $n(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function mt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function pr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function gs(t,e){return pr(t)?t:e}function lt(t,e){return typeof t>"u"?e:t}const Ale=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,_F=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function en(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function It(t,e,n,r){let i,s,a;if($n(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(mt(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function Mp(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function kp(t){if($n(t))return t.map(kp);if(mt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=kp(t[n[i]]);return e}return t}function wF(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Ole(t,e,n,r){if(!wF(t))return;const i=e[t],s=n[t];mt(i)&&mt(s)?Uf(i,s,r):e[t]=kp(s)}function Uf(t,e,n){const r=$n(e)?e:[e],i=r.length;if(!mt(t))return t;n=n||{};const s=n.merger||Ole;let a;for(let l=0;l<i;++l){if(a=r[l],!mt(a))continue;const u=Object.keys(a);for(let d=0,h=u.length;d<h;++d)s(u[d],t,a,n)}return t}function df(t,e){return Uf(t,e,{merger:Dle})}function Dle(t,e,n){if(!wF(t))return;const r=e[t],i=n[t];mt(r)&&mt(i)?df(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=kp(i))}const yM={"":t=>t,x:t=>t.x,y:t=>t.y};function Mle(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function kle(t){const e=Mle(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function zf(t,e){return(yM[e]||(yM[e]=kle(e)))(t)}function $x(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Np=t=>typeof t<"u",Ro=t=>typeof t=="function",bM=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Nle(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Pt=Math.PI,hn=2*Pt,Ile=hn+Pt,Ip=Number.POSITIVE_INFINITY,Ple=Pt/180,Vn=Pt/2,tl=Pt/4,_M=Pt*2/3,SF=Math.log10,gu=Math.sign;function ff(t,e,n){return Math.abs(t-e)<n}function wM(t){const e=Math.round(t);t=ff(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(SF(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function jle(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Lle(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Hf(t){return!Lle(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Fle(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Ule(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ua(t){return t*(Pt/180)}function zle(t){return t*(180/Pt)}function SM(t){if(!pr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function xF(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Pt&&(s+=hn),{angle:s,distance:i}}function Bw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Hle(t,e){return(t-e+Ile)%hn-Pt}function ni(t){return(t%hn+hn)%hn}function Bf(t,e,n,r){const i=ni(t),s=ni(e),a=ni(n),l=ni(s-i),u=ni(a-i),d=ni(i-s),h=ni(i-a);return i===s||i===a||r&&s===a||l>u&&d<h}function Er(t,e,n){return Math.max(e,Math.min(n,t))}function Ble(t){return Er(t,-32768,32767)}function bl(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Vx(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const _l=(t,e,n,r)=>Vx(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),$le=(t,e,n)=>Vx(t,n,r=>t[r][e]>=n);function Vle(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const EF=["push","pop","shift","splice","unshift"];function qle(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),EF.forEach(n=>{const r="_onData"+$x(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),a}})})}function xM(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(EF.forEach(s=>{delete t[s]}),delete t._chartjs)}function Wle(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const RF=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function CF(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,RF.call(window,()=>{r=!1,t.apply(e,n)}))}}function Gle(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const qx=t=>t==="start"?"left":t==="end"?"right":"center",fr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Yle=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Kle(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=a.axis,{min:g,max:p,minDefined:v,maxDefined:_}=a.getUserBounds();if(v){if(i=Math.min(_l(u,h,g).lo,n?r:_l(e,h,a.getPixelForValue(g)).lo),d){const b=u.slice(0,i+1).reverse().findIndex(w=>!Kt(w[l.axis]));i-=Math.max(0,b)}i=Er(i,0,r-1)}if(_){let b=Math.max(_l(u,a.axis,p,!0).hi+1,n?0:_l(e,h,a.getPixelForValue(p),!0).hi+1);if(d){const w=u.slice(b-1).findIndex(x=>!Kt(x[l.axis]));b+=Math.max(0,w)}s=Er(b,i,r)-i}else s=r-i}return{start:i,count:s}}function Qle(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const mm=t=>t===0||t===1,EM=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*hn/n)),RM=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*hn/n)+1,hf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Vn)+1,easeOutSine:t=>Math.sin(t*Vn),easeInOutSine:t=>-.5*(Math.cos(Pt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>mm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>mm(t)?t:EM(t,.075,.3),easeOutElastic:t=>mm(t)?t:RM(t,.075,.3),easeInOutElastic(t){return mm(t)?t:t<.5?.5*EM(t*2,.1125,.45):.5+.5*RM(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hf.easeInBounce(t*2)*.5:hf.easeOutBounce(t*2-1)*.5+.5};function Wx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function CM(t){return Wx(t)?t:new Ff(t)}function m_(t){return Wx(t)?t:new Ff(t).saturate(.5).darken(.1).hexString()}const Xle=["x","y","borderWidth","radius","tension"],Zle=["color","borderColor","backgroundColor"];function Jle(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Zle},numbers:{type:"number",properties:Xle}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function ece(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const TM=new Map;function tce(t,e){e=e||{};const n=t+JSON.stringify(e);let r=TM.get(n);return r||(r=new Intl.NumberFormat(t,e),TM.set(n,r)),r}function Gx(t,e,n){return tce(e,n).format(t)}const nce={values(t){return $n(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=rce(t,n)}const a=SF(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),Gx(t,r,u)}};function rce(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var TF={formatters:nce};function ice(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:TF.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ml=Object.create(null),$w=Object.create(null);function gf(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function p_(t,e,n){return typeof e=="string"?Uf(gf(t,e),n):Uf(gf(t,""),e)}class sce{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>m_(i.backgroundColor),this.hoverBorderColor=(r,i)=>m_(i.borderColor),this.hoverColor=(r,i)=>m_(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return p_(this,e,n)}get(e){return gf(this,e)}describe(e,n){return p_($w,e,n)}override(e,n){return p_(Ml,e,n)}route(e,n,r,i){const s=gf(this,e),a=gf(this,r),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=a[i];return mt(u)?Object.assign({},d,u):lt(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var xn=new sce({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Jle,ece,ice]);function ace(t){return!t||Kt(t.size)||Kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function AM(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function nl(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function OM(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Vw(t,e,n,r){AF(t,e,n,r,null)}function AF(t,e,n,r,i){let s,a,l,u,d,h,g,p;const v=e.pointStyle,_=e.rotation,b=e.radius;let w=(_||0)*Ple;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(w),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),v){default:i?t.ellipse(n,r,i/2,b,0,0,hn):t.arc(n,r,b,0,hn),t.closePath();break;case"triangle":h=i?i/2:b,t.moveTo(n+Math.sin(w)*h,r-Math.cos(w)*b),w+=_M,t.lineTo(n+Math.sin(w)*h,r-Math.cos(w)*b),w+=_M,t.lineTo(n+Math.sin(w)*h,r-Math.cos(w)*b),t.closePath();break;case"rectRounded":d=b*.516,u=b-d,a=Math.cos(w+tl)*u,g=Math.cos(w+tl)*(i?i/2-d:u),l=Math.sin(w+tl)*u,p=Math.sin(w+tl)*(i?i/2-d:u),t.arc(n-g,r-l,d,w-Pt,w-Vn),t.arc(n+p,r-a,d,w-Vn,w),t.arc(n+g,r+l,d,w,w+Vn),t.arc(n-p,r+a,d,w+Vn,w+Pt),t.closePath();break;case"rect":if(!_){u=Math.SQRT1_2*b,h=i?i/2:u,t.rect(n-h,r-u,2*h,2*u);break}w+=tl;case"rectRot":g=Math.cos(w)*(i?i/2:b),a=Math.cos(w)*b,l=Math.sin(w)*b,p=Math.sin(w)*(i?i/2:b),t.moveTo(n-g,r-l),t.lineTo(n+p,r-a),t.lineTo(n+g,r+l),t.lineTo(n-p,r+a),t.closePath();break;case"crossRot":w+=tl;case"cross":g=Math.cos(w)*(i?i/2:b),a=Math.cos(w)*b,l=Math.sin(w)*b,p=Math.sin(w)*(i?i/2:b),t.moveTo(n-g,r-l),t.lineTo(n+g,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"star":g=Math.cos(w)*(i?i/2:b),a=Math.cos(w)*b,l=Math.sin(w)*b,p=Math.sin(w)*(i?i/2:b),t.moveTo(n-g,r-l),t.lineTo(n+g,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a),w+=tl,g=Math.cos(w)*(i?i/2:b),a=Math.cos(w)*b,l=Math.sin(w)*b,p=Math.sin(w)*(i?i/2:b),t.moveTo(n-g,r-l),t.lineTo(n+g,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"line":a=i?i/2:Math.cos(w)*b,l=Math.sin(w)*b,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(w)*(i?i/2:b),r+Math.sin(w)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function $f(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Av(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ov(t){t.restore()}function oce(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function lce(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function cce(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Kt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function uce(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,h=i.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,h),t.lineTo(l,h),t.stroke()}}function dce(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Vf(t,e,n,r,i,s={}){const a=$n(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=i.string,cce(t,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&dce(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Kt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,r,s.maxWidth)),t.fillText(d,n,r,s.maxWidth),uce(t,n,r,d,s),r+=Number(i.lineHeight);t.restore()}function qw(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Pt,Pt,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Pt,Vn,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Vn,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Vn,!0),t.lineTo(n+a.topLeft,r)}const fce=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hce=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function gce(t,e){const n=(""+t).match(fce);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const mce=t=>+t||0;function Yx(t,e){const n={},r=mt(e),i=r?Object.keys(e):e,s=mt(t)?r?a=>lt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=mce(s(a));return n}function pce(t){return Yx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function mf(t){return Yx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ui(t){const e=pce(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mr(t,e){t=t||{},e=e||xn.font;let n=lt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=lt(t.style,e.style);r&&!(""+r).match(hce)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:lt(t.family,e.family),lineHeight:gce(lt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:lt(t.weight,e.weight),string:""};return i.string=ace(i),i}function pm(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function vce(t,e,n){const{min:r,max:i}=t,s=_F(e,(i-r)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Bl(t,e){return Object.assign(Object.create(t),e)}function Kx(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=kF("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>Kx([l,...t],e,s,r)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return DF(l,u,()=>Rce(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return MM(l).includes(u)},ownKeys(l){return MM(l)},set(l,u,d){const h=l._storage||(l._storage=i());return l[u]=h[u]=d,delete l._keys,!0}})}function mu(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:OF(t,r),setContext:s=>mu(t,s,n,r),override:s=>mu(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,l){return DF(s,a,()=>bce(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,l){return t[a]=l,delete s[a],!0}})}function OF(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ro(n)?n:()=>n,isIndexable:Ro(r)?r:()=>r}}const yce=(t,e)=>t?t+$x(e):e,Qx=(t,e)=>mt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function DF(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function bce(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let l=r[e];return Ro(l)&&a.isScriptable(e)&&(l=_ce(e,l,t,n)),$n(l)&&l.length&&(l=wce(e,l,t,a.isIndexable)),Qx(e,l)&&(l=mu(l,i,s&&s[e],a)),l}function _ce(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,a||r);return l.delete(t),Qx(t,u)&&(u=Xx(i._scopes,i,t,u)),u}function wce(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(mt(e[0])){const u=e,d=i._scopes.filter(h=>h!==u);e=[];for(const h of u){const g=Xx(d,i,t,h);e.push(mu(g,s,a&&a[t],l))}}return e}function MF(t,e,n){return Ro(t)?t(e,n):t}const Sce=(t,e)=>t===!0?e:typeof t=="string"?zf(e,t):void 0;function xce(t,e,n,r,i){for(const s of e){const a=Sce(n,s);if(a){t.add(a);const l=MF(a._fallback,n,i);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function Xx(t,e,n,r){const i=e._rootScopes,s=MF(e._fallback,n,r),a=[...t,...i],l=new Set;l.add(r);let u=DM(l,a,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=DM(l,a,s,u,r),u===null)?!1:Kx(Array.from(l),[""],i,s,()=>Ece(e,n,r))}function DM(t,e,n,r,i){for(;n;)n=xce(t,e,n,r,i);return n}function Ece(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return $n(i)&&mt(n)?n:i||{}}function Rce(t,e,n,r){let i;for(const s of e)if(i=kF(yce(s,t),n),typeof i<"u")return Qx(t,i)?Xx(n,r,t,i):i}function kF(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function MM(t){let e=t._keys;return e||(e=t._keys=Cce(t._scopes)),e}function Cce(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const Tce=Number.EPSILON||1e-14,pu=(t,e)=>e<t.length&&!t[e].skip&&t[e],NF=t=>t==="x"?"y":"x";function Ace(t,e,n,r){const i=t.skip?e:t,s=e,a=n.skip?e:n,l=Bw(s,i),u=Bw(a,s);let d=l/(l+u),h=u/(l+u);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const g=r*d,p=r*h;return{previous:{x:s.x-g*(a.x-i.x),y:s.y-g*(a.y-i.y)},next:{x:s.x+p*(a.x-i.x),y:s.y+p*(a.y-i.y)}}}function Oce(t,e,n){const r=t.length;let i,s,a,l,u,d=pu(t,0);for(let h=0;h<r-1;++h)if(u=d,d=pu(t,h+1),!(!u||!d)){if(ff(e[h],0,Tce)){n[h]=n[h+1]=0;continue}i=n[h]/e[h],s=n[h+1]/e[h],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),n[h]=i*a*e[h],n[h+1]=s*a*e[h])}}function Dce(t,e,n="x"){const r=NF(n),i=t.length;let s,a,l,u=pu(t,0);for(let d=0;d<i;++d){if(a=l,l=u,u=pu(t,d+1),!l)continue;const h=l[n],g=l[r];a&&(s=(h-a[n])/3,l[`cp1${n}`]=h-s,l[`cp1${r}`]=g-s*e[d]),u&&(s=(u[n]-h)/3,l[`cp2${n}`]=h+s,l[`cp2${r}`]=g+s*e[d])}}function Mce(t,e="x"){const n=NF(e),r=t.length,i=Array(r).fill(0),s=Array(r);let a,l,u,d=pu(t,0);for(a=0;a<r;++a)if(l=u,u=d,d=pu(t,a+1),!!u){if(d){const h=d[e]-u[e];i[a]=h!==0?(d[n]-u[n])/h:0}s[a]=l?d?gu(i[a-1])!==gu(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}Oce(t,i,s),Dce(t,s,e)}function vm(t,e,n){return Math.max(Math.min(t,n),e)}function kce(t,e){let n,r,i,s,a,l=$f(t[0],e);for(n=0,r=t.length;n<r;++n)a=s,s=l,l=n<r-1&&$f(t[n+1],e),s&&(i=t[n],a&&(i.cp1x=vm(i.cp1x,e.left,e.right),i.cp1y=vm(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=vm(i.cp2x,e.left,e.right),i.cp2y=vm(i.cp2y,e.top,e.bottom)))}function Nce(t,e,n,r,i){let s,a,l,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Mce(t,i);else{let d=r?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)l=t[s],u=Ace(d,l,t[Math.min(s+1,a-(r?0:1))%a],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}e.capBezierPoints&&kce(t,n)}function Zx(){return typeof window<"u"&&typeof document<"u"}function Jx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Pp(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Dv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Ice(t,e){return Dv(t).getPropertyValue(e)}const Pce=["top","right","bottom","left"];function El(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Pce[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const jce=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Lce(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,l,u;if(jce(i,s,t.target))l=i,u=s;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,u=r.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function cl(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Dv(n),s=i.boxSizing==="border-box",a=El(i,"padding"),l=El(i,"border","width"),{x:u,y:d,box:h}=Lce(t,n),g=a.left+(h&&l.left),p=a.top+(h&&l.top);let{width:v,height:_}=e;return s&&(v-=a.width+l.width,_-=a.height+l.height),{x:Math.round((u-g)/v*n.width/r),y:Math.round((d-p)/_*n.height/r)}}function Fce(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Jx(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),l=Dv(s),u=El(l,"border","width"),d=El(l,"padding");e=a.width-d.width-u.width,n=a.height-d.height-u.height,r=Pp(l.maxWidth,s,"clientWidth"),i=Pp(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Ip,maxHeight:i||Ip}}const go=t=>Math.round(t*10)/10;function Uce(t,e,n,r){const i=Dv(t),s=El(i,"margin"),a=Pp(i.maxWidth,t,"clientWidth")||Ip,l=Pp(i.maxHeight,t,"clientHeight")||Ip,u=Fce(t,e,n);let{width:d,height:h}=u;if(i.boxSizing==="content-box"){const p=El(i,"border","width"),v=El(i,"padding");d-=v.width+p.width,h-=v.height+p.height}return d=Math.max(0,d-s.width),h=Math.max(0,r?d/r:h-s.height),d=go(Math.min(d,a,u.maxWidth)),h=go(Math.min(h,l,u.maxHeight)),d&&!h&&(h=go(d/2)),(e!==void 0||n!==void 0)&&r&&u.height&&h>u.height&&(h=u.height,d=go(Math.floor(h*r))),{width:d,height:h}}function kM(t,e,n){const r=e||1,i=go(t.height*r),s=go(t.width*r);t.height=go(t.height),t.width=go(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const zce=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Zx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function NM(t,e){const n=Ice(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ul(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Hce(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Bce(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=ul(t,i,n),l=ul(i,s,n),u=ul(s,e,n),d=ul(a,l,n),h=ul(l,u,n);return ul(d,h,n)}const $ce=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Vce=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function su(t,e,n){return t?$ce(e,n):Vce()}function IF(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function PF(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function jF(t){return t==="angle"?{between:Bf,compare:Hle,normalize:ni}:{between:bl,compare:(e,n)=>e-n,normalize:e=>e}}function IM({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function qce(t,e,n){const{property:r,start:i,end:s}=n,{between:a,normalize:l}=jF(r),u=e.length;let{start:d,end:h,loop:g}=t,p,v;if(g){for(d+=u,h+=u,p=0,v=u;p<v&&a(l(e[d%u][r]),i,s);++p)d--,h--;d%=u,h%=u}return h<d&&(h+=u),{start:d,end:h,loop:g,style:t.style}}function LF(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,a=e.length,{compare:l,between:u,normalize:d}=jF(r),{start:h,end:g,loop:p,style:v}=qce(t,e,n),_=[];let b=!1,w=null,x,E,R;const O=()=>u(i,R,x)&&l(i,R)!==0,A=()=>l(s,x)===0||u(s,R,x),I=()=>b||O(),k=()=>!b||A();for(let M=h,L=h;M<=g;++M)E=e[M%a],!E.skip&&(x=d(E[r]),x!==R&&(b=u(x,i,s),w===null&&I()&&(w=l(x,i)===0?M:L),w!==null&&k()&&(_.push(IM({start:w,end:M,loop:p,count:a,style:v})),w=null),L=M,R=x));return w!==null&&_.push(IM({start:w,end:g,loop:p,count:a,style:v})),_}function FF(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=LF(r[i],t.points,e);s.length&&n.push(...s)}return n}function Wce(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Gce(t,e,n,r){const i=t.length,s=[];let a=e,l=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%i];d.skip||d.stop?l.skip||(r=!1,s.push({start:e%i,end:(u-1)%i,loop:r}),e=a=d.stop?u:null):(a=u,l.skip&&(e=u)),l=d}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function Yce(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:a,end:l}=Wce(n,i,s,r);if(r===!0)return PM(t,[{start:a,end:l,loop:s}],n,e);const u=l<a?l+i:l,d=!!t._fullLoop&&a===0&&l===i-1;return PM(t,Gce(n,a,u,d),n,e)}function PM(t,e,n,r){return!r||!r.setContext||!n?e:Kce(t,e,n,r)}function Kce(t,e,n,r){const i=t._chart.getContext(),s=jM(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,u=n.length,d=[];let h=s,g=e[0].start,p=g;function v(_,b,w,x){const E=l?-1:1;if(_!==b){for(_+=u;n[_%u].skip;)_-=E;for(;n[b%u].skip;)b+=E;_%u!==b%u&&(d.push({start:_%u,end:b%u,loop:w,style:x}),h=x,g=b%u)}}for(const _ of e){g=l?g:_.start;let b=n[g%u],w;for(p=g+1;p<=_.end;p++){const x=n[p%u];w=jM(r.setContext(Bl(i,{type:"segment",p0:b,p1:x,p0DataIndex:(p-1)%u,p1DataIndex:p%u,datasetIndex:a}))),Qce(w,h)&&v(g,p-1,_.loop,h),b=x,h=w}g<p-1&&v(g,p-1,_.loop,h)}return d}function jM(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Qce(t,e){if(!e)return!1;const n=[],r=function(i,s){return Wx(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function ym(t,e,n){return t.options.clip?t[n]:e[n]}function Xce(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:ym(n,e,"left"),right:ym(n,e,"right"),top:ym(r,e,"top"),bottom:ym(r,e,"bottom")}:e}function UF(t,e){const n=e._clip;if(n.disabled)return!1;const r=Xce(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Zce{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=RF.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,l=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ea=new Zce;const LM="transparent",Jce={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=CM(t||LM),i=r.valid&&CM(e||LM);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class eue{constructor(e,n,r,i){const s=n[r];i=pm([e.to,i,s,e.from]);const a=pm([e.from,s,i]);this._active=!0,this._fn=e.fn||Jce[e.type||typeof a],this._easing=hf[e.easing]||hf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=pm([e.to,n,i,e.from]),this._from=pm([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,l=this._to;let u;if(this._active=s!==l&&(a||n<r),!this._active){this._target[i]=l,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class zF{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!mt(e))return;const n=Object.keys(xn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!mt(s))return;const a={};for(const l of n)a[l]=s[l];($n(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,i=nue(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&tue(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[d];let g=s[d];const p=r.get(d);if(g)if(p&&g.active()){g.update(p,h,l);continue}else g.cancel();if(!p||!p.duration){e[d]=h;continue}s[d]=g=new eue(p,e,d,h),i.push(g)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ea.add(this._chart,r),!0}}function tue(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function nue(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function FM(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function rue(t,e,n){if(n===!1)return!1;const r=FM(t,n),i=FM(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function iue(t){let e,n,r,i;return mt(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function HF(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function UM(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,l,u,d;if(e===null)return;let h=!1;for(a=0,l=i.length;a<l;++a){if(u=+i[a],u===n){if(h=!0,r.all)continue;break}d=t.values[u],pr(d)&&(s||e===0||gu(e)===gu(d))&&(e+=d)}return!h&&!r.all?0:e}function sue(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let u,d,h;for(u=0,d=a.length;u<d;++u)h=a[u],l[u]={[i]:h,[s]:t[h]};return l}function v_(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function aue(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function oue(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function lue(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function zM(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function HM(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:l}=r,u=s.axis,d=a.axis,h=aue(s,a,r),g=e.length;let p;for(let v=0;v<g;++v){const _=e[v],{[u]:b,[d]:w}=_,x=_._stacks||(_._stacks={});p=x[d]=lue(i,h,b),p[l]=w,p._top=zM(p,a,!0,r.type),p._bottom=zM(p,a,!1,r.type);const E=p._visualValues||(p._visualValues={});E[l]=w}}function y_(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function cue(t,e){return Bl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function uue(t,e,n){return Bl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ld(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const b_=t=>t==="reset"||t==="none",BM=(t,e)=>e?t:Object.assign({},t),due=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:HF(n,!0),values:null};class eE{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=v_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ld(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(g,p,v,_)=>g==="x"?p:g==="r"?_:v,s=n.xAxisID=lt(r.xAxisID,y_(e,"x")),a=n.yAxisID=lt(r.yAxisID,y_(e,"y")),l=n.rAxisID=lt(r.rAxisID,y_(e,"r")),u=n.indexAxis,d=n.iAxisID=i(u,s,a,l),h=n.vAxisID=i(u,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xM(this._data,this),e._stacked&&Ld(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(mt(n)){const i=this._cachedMeta;this._data=sue(n,i)}else if(r!==n){if(r){xM(r,this);const i=this._cachedMeta;Ld(i),i._parsed=[]}n&&Object.isExtensible(n)&&qle(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=v_(n.vScale,n),n.stack!==r.stack&&(i=!0,Ld(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(HM(this,n._parsed),n._stacked=v_(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,l=s.axis;let u=e===0&&n===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],h,g,p;if(this._parsing===!1)r._parsed=i,r._sorted=!0,p=i;else{$n(i[e])?p=this.parseArrayData(r,i,e,n):mt(i[e])?p=this.parseObjectData(r,i,e,n):p=this.parsePrimitiveData(r,i,e,n);const v=()=>g[l]===null||d&&g[l]<d[l];for(h=0;h<n;++h)r._parsed[h+e]=g=p[h],u&&(v()&&(u=!1),d=g);r._sorted=u}a&&HM(this,p)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),h=s===a,g=new Array(i);let p,v,_;for(p=0,v=i;p<v;++p)_=p+r,g[p]={[l]:h||s.parse(d[_],_),[u]:a.parse(n[_],_)};return g}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,l=new Array(i);let u,d,h,g;for(u=0,d=i;u<d;++u)h=u+r,g=n[h],l[u]={x:s.parse(g[0],h),y:a.parse(g[1],h)};return l}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let h,g,p,v;for(h=0,g=i;h<g;++h)p=h+r,v=n[p],d[h]={x:s.parse(zf(v,l),p),y:a.parse(zf(v,u),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],l={keys:HF(i,!0),values:n._stacks[e.axis]._visualValues};return UM(l,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const l=i&&r._stacks[n.axis];i&&l&&(i.values=l,a=UM(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,l=this._getOtherScale(e),u=due(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:g}=oue(l);let p,v;function _(){v=i[p];const b=v[l.axis];return!pr(v[e.axis])||h>b||g<b}for(p=0;p<a&&!(!_()&&(this.updateRangeFromParsed(d,e,v,u),s));++p);if(s){for(p=a-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(d,e,v,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],pr(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=iue(lt(this.options.clip,rue(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,l,u),h=l;h<l+u;++h){const g=i[h];g.hidden||(g.active&&d?a.push(g):g.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=uue(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=cue(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,l=s[a],u=this.enableOptionSharing&&Np(r);if(l)return BM(l,u);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),g=i?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),h),v=Object.keys(xn.elements[e]),_=()=>this.getContext(r,i,n),b=d.resolveNamedOptions(p,v,_,g);return b.$shared&&(b.$shared=u,s[a]=Object.freeze(BM(b,u))),b}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let u;if(i.options.animation!==!1){const h=this.chart.config,g=h.datasetAnimationScopeKeys(this._type,n),p=h.getOptionScopes(this.getDataset(),g);u=h.createResolver(p,this.getContext(e,r,n))}const d=new zF(i,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||b_(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){b_(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!b_(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Ld(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fue(t,e,n){let r=1,i=1,s=0,a=0;if(e<hn){const l=t,u=l+e,d=Math.cos(l),h=Math.sin(l),g=Math.cos(u),p=Math.sin(u),v=(R,O,A)=>Bf(R,l,u,!0)?1:Math.max(O,O*n,A,A*n),_=(R,O,A)=>Bf(R,l,u,!0)?-1:Math.min(O,O*n,A,A*n),b=v(0,d,g),w=v(Vn,h,p),x=_(Pt,d,g),E=_(Pt+Vn,h,p);r=(b-x)/2,i=(w-E)/2,s=-(b+x)/2,a=-(w+E)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class hue extends eE{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const g=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:g.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:i,pointStyle:r,borderRadius:a&&(l||g.borderRadius),index:d}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(mt(r[e])){const{key:u="value"}=this._parsing;s=d=>+zf(r[d],u)}let a,l;for(a=e,l=e+n;a<l;++a)i._parsed[a]=s(a)}}_getRotation(){return ua(this.options.rotation-90)}_getCircumference(){return ua(this.options.circumference)}_getRotationExtents(){let e=hn,n=-hn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(Ale(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:g}=this._getRotationExtents(),{ratioX:p,ratioY:v,offsetX:_,offsetY:b}=fue(g,h,u),w=(r.width-a)/p,x=(r.height-a)/v,E=Math.max(Math.min(w,x)/2,0),R=_F(this.options.radius,E),O=Math.max(R*u,0),A=(R-O)/this._getVisibleDatasetWeightTotal();this.offsetX=_*R,this.offsetY=b*R,i.total=this.calculateTotal(),this.outerRadius=R-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/hn)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,h=(l.left+l.right)/2,g=(l.top+l.bottom)/2,p=s&&d.animateScale,v=p?0:this.innerRadius,_=p?0:this.outerRadius,{sharedOptions:b,includeOptions:w}=this._getSharedOptions(n,i);let x=this._getRotation(),E;for(E=0;E<n;++E)x+=this._circumference(E,s);for(E=n;E<n+r;++E){const R=this._circumference(E,s),O=e[E],A={x:h+this.offsetX,y:g+this.offsetY,startAngle:x,endAngle:x+R,circumference:R,outerRadius:_,innerRadius:v};w&&(A.options=b||this.resolveDataElementOptions(E,O.active?"active":i)),x+=R,this.updateElement(O,E,A,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?hn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Gx(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,l,u;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(lt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class gue extends eE{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:l,count:u}=Kle(n,i,a);this._drawStart=l,this._drawCount=u,Qle(n)&&(l=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(i,l,u,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:g}=this._getSharedOptions(n,i),p=a.axis,v=l.axis,{spanGaps:_,segment:b}=this.options,w=Hf(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none",E=n+r,R=e.length;let O=n>0&&this.getParsed(n-1);for(let A=0;A<R;++A){const I=e[A],k=x?I:{};if(A<n||A>=E){k.skip=!0;continue}const M=this.getParsed(A),L=Kt(M[v]),H=k[p]=a.getPixelForValue(M[p],A),V=k[v]=s||L?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,M,u):M[v],A);k.skip=isNaN(H)||isNaN(V)||L,k.stop=A>0&&Math.abs(M[p]-O[p])>w,b&&(k.parsed=M,k.raw=d.data[A]),g&&(k.options=h||this.resolveDataElementOptions(A,I.active?"active":i)),x||this.updateElement(I,A,k,i),O=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class mue extends hue{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function rl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tE{static override(e){Object.assign(tE.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return rl()}parse(){return rl()}format(){return rl()}add(){return rl()}diff(){return rl()}startOf(){return rl()}endOf(){return rl()}}var pue={_date:tE};function vue(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,l=i._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const d=l._reversePixels?$le:_l;if(r){if(i._sharedOptions){const h=s[0],g=typeof h.getRange=="function"&&h.getRange(e);if(g){const p=d(s,e,n-g),v=d(s,e,n+g);return{lo:p.lo,hi:v.hi}}}}else{const h=d(s,e,n);if(u){const{vScale:g}=i._cachedMeta,{_parsed:p}=t,v=p.slice(0,h.lo+1).reverse().findIndex(b=>!Kt(b[g.axis]));h.lo-=Math.max(0,v);const _=p.slice(h.hi).findIndex(b=>!Kt(b[g.axis]));h.hi+=Math.max(0,_)}return h}}return{lo:0,hi:s.length-1}}function Mv(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,u=s.length;l<u;++l){const{index:d,data:h}=s[l],{lo:g,hi:p}=vue(s[l],e,a,i);for(let v=g;v<=p;++v){const _=h[v];_.skip||r(_,d,v)}}}function yue(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function __(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Mv(t,n,e,function(l,u,d){!i&&!$f(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function bue(t,e,n,r){let i=[];function s(a,l,u){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],r),{angle:g}=xF(a,{x:e.x,y:e.y});Bf(g,d,h)&&i.push({element:a,datasetIndex:l,index:u})}return Mv(t,n,e,s),i}function _ue(t,e,n,r,i,s){let a=[];const l=yue(n);let u=Number.POSITIVE_INFINITY;function d(h,g,p){const v=h.inRange(e.x,e.y,i);if(r&&!v)return;const _=h.getCenterPoint(i);if(!(!!s||t.isPointInArea(_))&&!v)return;const w=l(e,_);w<u?(a=[{element:h,datasetIndex:g,index:p}],u=w):w===u&&a.push({element:h,datasetIndex:g,index:p})}return Mv(t,n,e,d),a}function w_(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?bue(t,e,n,i):_ue(t,e,n,r,i,s)}function $M(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return Mv(t,n,e,(u,d,h)=>{u[a]&&u[a](e[n],i)&&(s.push({element:u,datasetIndex:d,index:h}),l=l||u.inRange(e.x,e.y,i))}),r&&!l?[]:s}var wue={modes:{index(t,e,n,r){const i=cl(e,t),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?__(t,i,s,r,a):w_(t,i,s,!1,r,a),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,g=d.data[h];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:h})}),u):[]},dataset(t,e,n,r){const i=cl(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?__(t,i,s,r,a):w_(t,i,s,!1,r,a);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:u,index:h})}return l},point(t,e,n,r){const i=cl(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return __(t,i,s,r,a)},nearest(t,e,n,r){const i=cl(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return w_(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=cl(e,t);return $M(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=cl(e,t);return $M(t,i,"y",n.intersect,r)}}};const BF=["left","top","right","bottom"];function Fd(t,e){return t.filter(n=>n.pos===e)}function VM(t,e){return t.filter(n=>BF.indexOf(n.pos)===-1&&n.box.axis===e)}function Ud(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Sue(t){const e=[];let n,r,i,s,a,l;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:l=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:l});return e}function xue(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!BF.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function Eue(t,e){const n=xue(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,l;for(s=0,a=t.length;s<a;++s){l=t[s];const{fullSize:u}=l.box,d=n[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*r:u&&e.availableWidth,l.height=i):(l.width=r,l.height=h?h*i:u&&e.availableHeight)}return n}function Rue(t){const e=Sue(t),n=Ud(e.filter(d=>d.box.fullSize),!0),r=Ud(Fd(e,"left"),!0),i=Ud(Fd(e,"right")),s=Ud(Fd(e,"top"),!0),a=Ud(Fd(e,"bottom")),l=VM(e,"x"),u=VM(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(a).concat(l),chartArea:Fd(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(a).concat(l)}}function qM(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function $F(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Cue(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!mt(i)){n.size&&(t[i]-=n.size);const g=r[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?s.height:s.width),n.size=g.size/g.count,t[i]+=n.size}s.getPadding&&$F(a,s.getPadding());const l=Math.max(0,e.outerWidth-qM(a,t,"left","right")),u=Math.max(0,e.outerHeight-qM(a,t,"top","bottom")),d=l!==t.w,h=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:h}:{same:h,other:d}}function Tue(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Aue(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function Wd(t,e,n,r){const i=[];let s,a,l,u,d,h;for(s=0,a=t.length,d=0;s<a;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,Aue(l.horizontal,e));const{same:g,other:p}=Cue(e,n,l,r);d|=g&&i.length,h=h||p,u.fullSize||i.push(l)}return d&&Wd(i,e,n,r)||h}function bm(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function WM(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const l of t){const u=l.box,d=r[l.stack]||{placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const g=e.w*h,p=d.size||u.height;Np(d.start)&&(a=d.start),u.fullSize?bm(u,i.left,a,n.outerWidth-i.right-i.left,p):bm(u,e.left+d.placed,a,g,p),d.start=a,d.placed+=g,a=u.bottom}else{const g=e.h*h,p=d.size||u.width;Np(d.start)&&(s=d.start),u.fullSize?bm(u,s,i.top,p,n.outerHeight-i.bottom-i.top):bm(u,s,e.top+d.placed,p,g),d.start=s,d.placed+=g,s=u.right}}e.x=s,e.y=a}var ji={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ui(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),l=Rue(t.boxes),u=l.vertical,d=l.horizontal;It(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const h=u.reduce((b,w)=>w.box.options&&w.box.options.display===!1?b:b+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/h,hBoxMaxHeight:a/2}),p=Object.assign({},i);$F(p,Ui(r));const v=Object.assign({maxPadding:p,w:s,h:a,x:i.left,y:i.top},i),_=Eue(u.concat(d),g);Wd(l.fullSize,v,g,_),Wd(u,v,g,_),Wd(d,v,g,_)&&Wd(u,v,g,_),Tue(v),WM(l.leftAndTop,v,g,_),v.x+=v.w,v.y+=v.h,WM(l.rightAndBottom,v,g,_),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},It(l.chartArea,b=>{const w=b.box;Object.assign(w,t.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class VF{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Oue extends VF{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Hm="$chartjs",Due={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},GM=t=>t===null||t==="";function Mue(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Hm]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",GM(i)){const s=NM(t,"width");s!==void 0&&(t.width=s)}if(GM(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=NM(t,"height");s!==void 0&&(t.height=s)}return t}const qF=zce?{passive:!0}:!1;function kue(t,e,n){t&&t.addEventListener(e,n,qF)}function Nue(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,qF)}function Iue(t,e){const n=Due[t.type]||t.type,{x:r,y:i}=cl(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function jp(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Pue(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||jp(l.addedNodes,r),a=a&&!jp(l.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function jue(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||jp(l.removedNodes,r),a=a&&!jp(l.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const qf=new Map;let YM=0;function WF(){const t=window.devicePixelRatio;t!==YM&&(YM=t,qf.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Lue(t,e){qf.size||window.addEventListener("resize",WF),qf.set(t,e)}function Fue(t){qf.delete(t),qf.size||window.removeEventListener("resize",WF)}function Uue(t,e,n){const r=t.canvas,i=r&&Jx(r);if(!i)return;const s=CF((l,u)=>{const d=i.clientWidth;n(l,u),d<i.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,h=u.contentRect.height;d===0&&h===0||s(d,h)});return a.observe(i),Lue(t,s),a}function S_(t,e,n){n&&n.disconnect(),e==="resize"&&Fue(t)}function zue(t,e,n){const r=t.canvas,i=CF(s=>{t.ctx!==null&&n(Iue(s,t))},t);return kue(r,e,i),i}class Hue extends VF{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Mue(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Hm])return!1;const r=n[Hm].initial;["height","width"].forEach(s=>{const a=r[s];Kt(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Hm],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:Pue,detach:jue,resize:Uue}[n]||zue;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:S_,detach:S_,resize:S_}[n]||Nue)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return Uce(e,n,r,i)}isAttached(e){const n=e&&Jx(e);return!!(n&&n.isConnected)}}function Bue(t){return!Zx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Oue:Hue}let No=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Hf(this.x)&&Hf(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function $ue(t,e){const n=t.options.ticks,r=Vue(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Wue(e):[],a=s.length,l=s[0],u=s[a-1],d=[];if(a>i)return Gue(e,d,s,a/i),d;const h=que(s,e,i);if(a>0){let g,p;const v=a>1?Math.round((u-l)/(a-1)):null;for(_m(e,d,h,Kt(v)?0:l-v,l),g=0,p=a-1;g<p;g++)_m(e,d,h,s[g],s[g+1]);return _m(e,d,h,u,Kt(v)?e.length:u+v),d}return _m(e,d,h),d}function Vue(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function que(t,e,n){const r=Yue(t),i=e.length/n;if(!r)return Math.max(i,1);const s=jle(r);for(let a=0,l=s.length-1;a<l;a++){const u=s[a];if(u>i)return u}return Math.max(i,1)}function Wue(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Gue(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function _m(t,e,n,r,i){const s=lt(r,0),a=Math.min(lt(i,t.length),t.length);let l=0,u,d,h;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),h=s;h<0;)l++,h=Math.round(s+l*n);for(d=Math.max(s,0);d<a;d++)d===h&&(e.push(t[d]),l++,h=Math.round(s+l*n))}function Yue(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Kue=t=>t==="left"?"right":t==="right"?"left":t,KM=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,QM=(t,e)=>Math.min(e||t,t);function XM(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Que(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,l=1e-6;let u=t.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(u-s,a-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(i-1))/2,u+=i<e?d:-d,u<s-l||u>a+l)))return u}function Xue(t,e){It(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function zd(t){return t.drawTicks?t.tickLength:0}function ZM(t,e){if(!t.display)return 0;const n=mr(t.font,e),r=Ui(t.padding);return($n(t.text)?t.text.length:1)*n.lineHeight+r.height}function Zue(t,e){return Bl(t,{scale:e,type:"scale"})}function Jue(t,e,n){return Bl(t,{tick:n,index:e,type:"tick"})}function ede(t,e,n){let r=qx(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Kue(r)),r}function tde(t,e,n,r){const{top:i,left:s,bottom:a,right:l,chart:u}=t,{chartArea:d,scales:h}=u;let g=0,p,v,_;const b=a-i,w=l-s;if(t.isHorizontal()){if(v=fr(r,s,l),mt(n)){const x=Object.keys(n)[0],E=n[x];_=h[x].getPixelForValue(E)+b-e}else n==="center"?_=(d.bottom+d.top)/2+b-e:_=KM(t,n,e);p=l-s}else{if(mt(n)){const x=Object.keys(n)[0],E=n[x];v=h[x].getPixelForValue(E)-w+e}else n==="center"?v=(d.left+d.right)/2-w+e:v=KM(t,n,e);_=fr(r,a,i),g=n==="left"?-Vn:Vn}return{titleX:v,titleY:_,maxWidth:p,rotation:g}}class ku extends No{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=gs(e,Number.POSITIVE_INFINITY),n=gs(n,Number.NEGATIVE_INFINITY),r=gs(r,Number.POSITIVE_INFINITY),i=gs(i,Number.NEGATIVE_INFINITY),{min:gs(e,r),max:gs(n,i),minDefined:pr(e),maxDefined:pr(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:gs(n,gs(r,n)),max:gs(r,gs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){en(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vce(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?XM(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=$ue(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){en(this.options.afterUpdate,[this])}beforeSetDimensions(){en(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){en(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),en(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){en(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=en(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){en(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){en(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=QM(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,l,u,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),g=h.widest.width,p=h.highest.height,v=Er(this.chart.width-g,0,this.maxWidth);l=e.offset?this.maxWidth/r:v/(r-1),g+6>l&&(l=v/(r-(e.offset?.5:1)),u=this.maxHeight-zd(e.grid)-n.padding-ZM(e.title,this.chart.options.font),d=Math.sqrt(g*g+p*p),a=zle(Math.min(Math.asin(Er((h.highest.height+6)/l,-1,1)),Math.asin(Er(u/d,-1,1))-Math.asin(Er(p/d,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){en(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){en(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=ZM(i,n.options.font);if(l?(e.width=this.maxWidth,e.height=zd(s)+u):(e.height=this.maxHeight,e.width=zd(s)+u),r.display&&this.ticks.length){const{first:d,last:h,widest:g,highest:p}=this._getLabelSizes(),v=r.padding*2,_=ua(this.labelRotation),b=Math.cos(_),w=Math.sin(_);if(l){const x=r.mirror?0:w*g.width+b*p.height;e.height=Math.min(this.maxHeight,e.height+x+v)}else{const x=r.mirror?0:b*g.width+w*p.height;e.width=Math.min(this.maxWidth,e.width+x+v)}this._calculatePadding(d,h,w,b)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,v=0;u?d?(p=i*e.width,v=r*n.height):(p=r*e.height,v=i*n.width):s==="start"?v=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,v=n.width/2),this.paddingLeft=Math.max((p-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let h=n.height/2,g=e.height/2;s==="start"?(h=0,g=e.height):s==="end"&&(h=n.height,g=0),this.paddingTop=h+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){en(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Kt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=XM(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],l=[],u=Math.floor(n/QM(n,r));let d=0,h=0,g,p,v,_,b,w,x,E,R,O,A;for(g=0;g<n;g+=u){if(_=e[g].label,b=this._resolveTickFontOptions(g),i.font=w=b.string,x=s[w]=s[w]||{data:{},gc:[]},E=b.lineHeight,R=O=0,!Kt(_)&&!$n(_))R=AM(i,x.data,x.gc,R,_),O=E;else if($n(_))for(p=0,v=_.length;p<v;++p)A=_[p],!Kt(A)&&!$n(A)&&(R=AM(i,x.data,x.gc,R,A),O+=E);a.push(R),l.push(O),d=Math.max(R,d),h=Math.max(O,h)}Xue(s,n);const I=a.indexOf(d),k=l.indexOf(h),M=L=>({width:a[L]||0,height:l[L]||0});return{first:M(0),last:M(n-1),widest:M(I),highest:M(k),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Ble(this._alignToPixels?nl(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Jue(this.getContext(),e,r))}return this.$context||(this.$context=Zue(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ua(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*r>l*i?l/r:u/i:u*i<l*r?u/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:l}=i,u=s.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),p=zd(s),v=[],_=l.setContext(this.getContext()),b=_.display?_.width:0,w=b/2,x=function(U){return nl(r,U,b)};let E,R,O,A,I,k,M,L,H,V,G,se;if(a==="top")E=x(this.bottom),k=this.bottom-p,L=E-w,V=x(e.top)+w,se=e.bottom;else if(a==="bottom")E=x(this.top),V=e.top,se=x(e.bottom)-w,k=E+w,L=this.top+p;else if(a==="left")E=x(this.right),I=this.right-p,M=E-w,H=x(e.left)+w,G=e.right;else if(a==="right")E=x(this.left),H=e.left,G=x(e.right)-w,I=E+w,M=this.left+p;else if(n==="x"){if(a==="center")E=x((e.top+e.bottom)/2+.5);else if(mt(a)){const U=Object.keys(a)[0],K=a[U];E=x(this.chart.scales[U].getPixelForValue(K))}V=e.top,se=e.bottom,k=E+w,L=k+p}else if(n==="y"){if(a==="center")E=x((e.left+e.right)/2);else if(mt(a)){const U=Object.keys(a)[0],K=a[U];E=x(this.chart.scales[U].getPixelForValue(K))}I=E-w,M=I-p,H=e.left,G=e.right}const ue=lt(i.ticks.maxTicksLimit,g),ye=Math.max(1,Math.ceil(g/ue));for(R=0;R<g;R+=ye){const U=this.getContext(R),K=s.setContext(U),ne=l.setContext(U),Y=K.lineWidth,me=K.color,D=ne.dash||[],$=ne.dashOffset,Q=K.tickWidth,ee=K.tickColor,he=K.tickBorderDash||[],pe=K.tickBorderDashOffset;O=Que(this,R,u),O!==void 0&&(A=nl(r,O,Y),d?I=M=H=G=A:k=L=V=se=A,v.push({tx1:I,ty1:k,tx2:M,ty2:L,x1:H,y1:V,x2:G,y2:se,width:Y,color:me,borderDash:D,borderDashOffset:$,tickWidth:Q,tickColor:ee,tickBorderDash:he,tickBorderDashOffset:pe}))}return this._ticksLength=g,this._borderValue=E,v}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:h,mirror:g}=s,p=zd(r.grid),v=p+h,_=g?-h:v,b=-ua(this.labelRotation),w=[];let x,E,R,O,A,I,k,M,L,H,V,G,se="middle";if(i==="top")I=this.bottom-_,k=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+_,k=this._getXAxisLabelAlignment();else if(i==="left"){const ye=this._getYAxisLabelAlignment(p);k=ye.textAlign,A=ye.x}else if(i==="right"){const ye=this._getYAxisLabelAlignment(p);k=ye.textAlign,A=ye.x}else if(n==="x"){if(i==="center")I=(e.top+e.bottom)/2+v;else if(mt(i)){const ye=Object.keys(i)[0],U=i[ye];I=this.chart.scales[ye].getPixelForValue(U)+v}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")A=(e.left+e.right)/2-v;else if(mt(i)){const ye=Object.keys(i)[0],U=i[ye];A=this.chart.scales[ye].getPixelForValue(U)}k=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(u==="start"?se="top":u==="end"&&(se="bottom"));const ue=this._getLabelSizes();for(x=0,E=l.length;x<E;++x){R=l[x],O=R.label;const ye=s.setContext(this.getContext(x));M=this.getPixelForTick(x)+s.labelOffset,L=this._resolveTickFontOptions(x),H=L.lineHeight,V=$n(O)?O.length:1;const U=V/2,K=ye.color,ne=ye.textStrokeColor,Y=ye.textStrokeWidth;let me=k;a?(A=M,k==="inner"&&(x===E-1?me=this.options.reverse?"left":"right":x===0?me=this.options.reverse?"right":"left":me="center"),i==="top"?d==="near"||b!==0?G=-V*H+H/2:d==="center"?G=-ue.highest.height/2-U*H+H:G=-ue.highest.height+H/2:d==="near"||b!==0?G=H/2:d==="center"?G=ue.highest.height/2-U*H:G=ue.highest.height-V*H,g&&(G*=-1),b!==0&&!ye.showLabelBackdrop&&(A+=H/2*Math.sin(b))):(I=M,G=(1-V)*H/2);let D;if(ye.showLabelBackdrop){const $=Ui(ye.backdropPadding),Q=ue.heights[x],ee=ue.widths[x];let he=G-$.top,pe=0-$.left;switch(se){case"middle":he-=Q/2;break;case"bottom":he-=Q;break}switch(k){case"center":pe-=ee/2;break;case"right":pe-=ee;break;case"inner":x===E-1?pe-=ee:x>0&&(pe-=ee/2);break}D={left:pe,top:he,width:ee+$.width,height:Q+$.height,color:ye.backdropColor}}w.push({label:O,font:L,textOffset:G,options:{rotation:b,color:K,strokeColor:ne,strokeWidth:Y,textAlign:me,textBaseline:se,translation:[A,I],backdrop:D}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ua(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,u=a.widest.width;let d,h;return n==="left"?i?(h=this.right+s,r==="near"?d="left":r==="center"?(d="center",h+=u/2):(d="right",h+=u)):(h=this.right-l,r==="near"?d="right":r==="center"?(d="center",h-=u/2):(d="left",h=this.left)):n==="right"?i?(h=this.left+s,r==="near"?d="right":r==="center"?(d="center",h-=u/2):(d="left",h-=u)):(h=this.left+l,r==="near"?d="left":r==="center"?(d="center",h+=u/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(u,d,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const u=i[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,h,g,p;this.isHorizontal()?(d=nl(e,this.left,a)-a/2,h=nl(e,this.right,l)+l/2,g=p=u):(g=nl(e,this.top,a)-a/2,p=nl(e,this.bottom,l)+l/2,d=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,g),n.lineTo(h,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Av(r,i);const s=this.getLabelItems(e);for(const a of s){const l=a.options,u=a.font,d=a.label,h=a.textOffset;Vf(r,d,0,h,u,l)}i&&Ov(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=mr(r.font),a=Ui(r.padding),l=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||mt(n)?(u+=a.bottom,$n(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=a.top;const{titleX:d,titleY:h,maxWidth:g,rotation:p}=tde(this,u,n,l);Vf(e,r.text,0,0,s,{color:r.color,maxWidth:g,rotation:p,textAlign:ede(l,n,i),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=lt(e.grid&&e.grid.z,-1),i=lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ku.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return mr(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class wm{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;ide(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,nde(e,a,r),this.override&&xn.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in xn[i]&&(delete xn[i][r],this.override&&delete Ml[r])}}function nde(t,e,n){const r=Uf(Object.create(null),[n?xn.get(n):{},xn.get(e),t.defaults]);xn.set(e,r),t.defaultRoutes&&rde(e,t.defaultRoutes),t.descriptors&&xn.describe(e,t.descriptors)}function rde(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),u=a.join(".");xn.route(s,i,u,l)})}function ide(t){return"id"in t&&"defaults"in t}class sde{constructor(){this.controllers=new wm(eE,"datasets",!0),this.elements=new wm(No,"elements"),this.plugins=new wm(Object,"plugins"),this.scales=new wm(ku,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):It(i,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const i=$x(e);en(r["before"+i],[],r),n[e](r),en(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var vs=new sde;class ade{constructor(){this._init=void 0}notify(e,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,l=a[r],u=[n,i,s.options];if(en(l,u,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=lt(r.options&&r.options.plugins,{}),s=ode(r);return i===!1&&!n?[]:cde(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function ode(t){const e={},n=[],r=Object.keys(vs.plugins.items);for(let s=0;s<r.length;s++)n.push(vs.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function lde(t,e){return!e&&t===!1?null:t===!0?{}:t}function cde(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const l of e){const u=l.id,d=lde(r[u],i);d!==null&&s.push({plugin:l,options:ude(t.config,{plugin:l,local:n[u]},d,a)})}return s}function ude(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ww(t,e){const n=xn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function dde(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function fde(t,e){return t===e?"_index_":"_value_"}function JM(t){if(t==="x"||t==="y"||t==="r")return t}function hde(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Gw(t,...e){if(JM(t))return t;for(const n of e){const r=n.axis||hde(n.position)||t.length>1&&JM(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ek(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function gde(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return ek(t,"x",n[0])||ek(t,"y",n[0])}return{}}function mde(t,e){const n=Ml[t.type]||{scales:{}},r=e.scales||{},i=Ww(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!mt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Gw(a,l,gde(a,t),xn.scales[l.type]),d=fde(u,i),h=n.scales||{};s[a]=df(Object.create(null),[{axis:u},l,h[u],h[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||Ww(l,e),h=(Ml[l]||{}).scales||{};Object.keys(h).forEach(g=>{const p=dde(g,u),v=a[p+"AxisID"]||p;s[v]=s[v]||Object.create(null),df(s[v],[{axis:p},r[v],h[g]])})}),Object.keys(s).forEach(a=>{const l=s[a];df(l,[xn.scales[l.type],xn.scale])}),s}function GF(t){const e=t.options||(t.options={});e.plugins=lt(e.plugins,{}),e.scales=mde(t,e)}function YF(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function pde(t){return t=t||{},t.data=YF(t.data),GF(t),t}const tk=new Map,KF=new Set;function Sm(t,e){let n=tk.get(t);return n||(n=e(),tk.set(t,n),KF.add(n)),n}const Hd=(t,e,n)=>{const r=zf(e,n);r!==void 0&&t.add(r)};class vde{constructor(e){this._config=pde(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=YF(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),GF(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Sm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Sm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Sm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Sm(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(g=>Hd(u,e,g))),h.forEach(g=>Hd(u,i,g)),h.forEach(g=>Hd(u,Ml[s]||{},g)),h.forEach(g=>Hd(u,xn,g)),h.forEach(g=>Hd(u,$w,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),KF.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ml[n]||{},xn.datasets[n]||{},{type:n},xn,$w]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=nk(this._resolverCache,e,i);let u=a;if(bde(a,n)){s.$shared=!1,r=Ro(r)?r():r;const d=this.createResolver(e,r,l);u=mu(a,r,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,r=[""],i){const{resolver:s}=nk(this._resolverCache,e,r);return mt(n)?mu(s,n,void 0,i):s}}function nk(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Kx(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const yde=t=>mt(t)&&Object.getOwnPropertyNames(t).some(e=>Ro(t[e]));function bde(t,e){const{isScriptable:n,isIndexable:r}=OF(t);for(const i of e){const s=n(i),a=r(i),l=(a||s)&&t[i];if(s&&(Ro(l)||yde(l))||a&&$n(l))return!0}return!1}var _de="4.5.1";const wde=["top","bottom","left","right","chartArea"];function rk(t,e){return t==="top"||t==="bottom"||wde.indexOf(t)===-1&&e==="x"}function ik(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function sk(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),en(n&&n.onComplete,[t],e)}function Sde(t){const e=t.chart,n=e.options.animation;en(n&&n.onProgress,[t],e)}function QF(t){return Zx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Bm={},ak=t=>{const e=QF(t);return Object.values(Bm).filter(n=>n.canvas===e).pop()};function xde(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function Ede(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let kv=class{static defaults=xn;static instances=Bm;static overrides=Ml;static registry=vs;static version=_de;static getChart=ak;static register(...e){vs.add(...e),ok()}static unregister(...e){vs.remove(...e),ok()}constructor(e,n){const r=this.config=new vde(n),i=QF(e),s=ak(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Bue(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,h=u&&u.width;if(this.id=Tle(),this.ctx=l,this.canvas=u,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ade,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Gle(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Bm[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}ea.listen(this,"complete",sk),ea.listen(this,"progress",Sde),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Kt(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return vs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():kM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return OM(this.canvas,this.ctx),this}stop(){return ea.stop(this),this}resize(e,n){ea.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,kM(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),en(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};It(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const l=n[a],u=Gw(a,l),d=u==="r",h=u==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),It(s,a=>{const l=a.options,u=l.id,d=Gw(u,l),h=lt(l.type,a.dtype);(l.position===void 0||rk(l.position,d)!==rk(a.dposition))&&(l.position=a.dposition),i[u]=!0;let g=null;if(u in r&&r[u].type===h)g=r[u];else{const p=vs.getScale(h);g=new p({id:u,type:h,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(l,e)}),It(i,(a,l)=>{a||delete r[l]}),It(r,a=>{ji.configure(this,a,a.options),ji.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(ik("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||Ww(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const u=vs.getController(l),{datasetElementType:d,dataElementType:h}=xn.datasets[l];Object.assign(u,{dataElementType:vs.getElement(h),datasetElementType:d&&vs.getElement(d)}),a.controller=new u(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){It(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:g}=this.getDatasetMeta(d),p=!i&&s.indexOf(g)===-1;g.buildOrUpdateElements(p),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||It(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ik("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){It(this.scales,e=>{ji.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!bM(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;xde(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!bM(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ji.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],It(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ro(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ea.has(this)?this.attached&&!ea.running(this)&&ea.start(this):(this.draw(),sk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=UF(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Av(n,i),e.controller.draw(),i&&Ov(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return $f(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=wue.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Bl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Np(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ea.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),OM(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Bm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};It(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},i=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){It(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},It(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Mp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(u,d)=>u.filter(h=>!d.some(g=>h.datasetIndex===g.datasetIndex&&h.index===g.index)),a=s(n,e),l=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,l=this._getActiveElements(e,i,r,a),u=Nle(e),d=Ede(e,this._lastEvent,r,u);r&&(this._lastEvent=null,en(s.onHover,[e,l,this],this),u&&en(s.onClick,[e,l,this],this));const h=!Mp(l,i);return(h||n)&&(this._active=l,this._updateHoverStyles(l,i,n)),this._lastEvent=d,h}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};function ok(){return It(kv.instances,t=>t._plugins.invalidate())}function Rde(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:l,options:u}=e,{borderWidth:d,borderJoinStyle:h}=u,g=Math.min(d/a,ni(r-n));if(t.beginPath(),t.arc(i,s,a-d/2,r+g/2,n-g/2),l>0){const p=Math.min(d/l,ni(r-n));t.arc(i,s,l+d/2,n-p/2,r+p/2,!0)}else{const p=Math.min(d/2,a*ni(r-n));if(h==="round")t.arc(i,s,p,n-Pt/2,r+Pt/2,!0);else if(h==="bevel"){const v=2*p*p,_=-v*Math.cos(n+Pt/2)+i,b=-v*Math.sin(n+Pt/2)+s,w=v*Math.cos(r+Pt/2)+i,x=v*Math.sin(r+Pt/2)+s;t.lineTo(_,b),t.lineTo(w,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Cde(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:l,innerRadius:u}=e;let d=i/l;t.beginPath(),t.arc(s,a,l,r-d,n+d),u>i?(d=i/u,t.arc(s,a,u,n+d,r-d,!0)):t.arc(s,a,i,n+Vn,r-Vn),t.closePath(),t.clip()}function Tde(t){return Yx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Ade(t,e,n,r){const i=Tde(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,r*e/2),l=u=>{const d=(n-Math.min(s,u))*r/2;return Er(u,0,Math.min(s,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Er(i.innerStart,0,a),innerEnd:Er(i.innerEnd,0,a)}}function Bc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Lp(t,e,n,r,i,s){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:h}=e,g=Math.max(e.outerRadius+r+n-d,0),p=h>0?h+r+n+d:0;let v=0;const _=i-u;if(r){const ye=h>0?h-r:0,U=g>0?g-r:0,K=(ye+U)/2,ne=K!==0?_*K/(K+r):_;v=(_-ne)/2}const b=Math.max(.001,_*g-n/Pt)/g,w=(_-b)/2,x=u+w+v,E=i-w-v,{outerStart:R,outerEnd:O,innerStart:A,innerEnd:I}=Ade(e,p,g,E-x),k=g-R,M=g-O,L=x+R/k,H=E-O/M,V=p+A,G=p+I,se=x+A/V,ue=E-I/G;if(t.beginPath(),s){const ye=(L+H)/2;if(t.arc(a,l,g,L,ye),t.arc(a,l,g,ye,H),O>0){const Y=Bc(M,H,a,l);t.arc(Y.x,Y.y,O,H,E+Vn)}const U=Bc(G,E,a,l);if(t.lineTo(U.x,U.y),I>0){const Y=Bc(G,ue,a,l);t.arc(Y.x,Y.y,I,E+Vn,ue+Math.PI)}const K=(E-I/p+(x+A/p))/2;if(t.arc(a,l,p,E-I/p,K,!0),t.arc(a,l,p,K,x+A/p,!0),A>0){const Y=Bc(V,se,a,l);t.arc(Y.x,Y.y,A,se+Math.PI,x-Vn)}const ne=Bc(k,x,a,l);if(t.lineTo(ne.x,ne.y),R>0){const Y=Bc(k,L,a,l);t.arc(Y.x,Y.y,R,x-Vn,L)}}else{t.moveTo(a,l);const ye=Math.cos(L)*g+a,U=Math.sin(L)*g+l;t.lineTo(ye,U);const K=Math.cos(H)*g+a,ne=Math.sin(H)*g+l;t.lineTo(K,ne)}t.closePath()}function Ode(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:l}=e;let u=e.endAngle;if(s){Lp(t,e,n,r,u,i);for(let d=0;d<s;++d)t.fill();isNaN(l)||(u=a+(l%hn||hn))}return Lp(t,e,n,r,u,i),t.fill(),u}function Dde(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:h,borderDash:g,borderDashOffset:p,borderRadius:v}=u,_=u.borderAlign==="inner";if(!d)return;t.setLineDash(g||[]),t.lineDashOffset=p,_?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let b=e.endAngle;if(s){Lp(t,e,n,r,b,i);for(let w=0;w<s;++w)t.stroke();isNaN(l)||(b=a+(l%hn||hn))}_&&Cde(t,e,b),u.selfJoin&&b-a>=Pt&&v===0&&h!=="miter"&&Rde(t,e,b),s||(Lp(t,e,n,r,b,i),t.stroke())}class Mde extends No{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:a}=xF(i,{x:e,y:n}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:h,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,v=lt(g,u-l),_=Bf(s,l,u)&&l!==u,b=v>=hn||_,w=bl(a,d+p,h+p);return b&&w}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,h=(i+s)/2,g=(a+l+d+u)/2;return{x:n+Math.cos(h)*g,y:r+Math.sin(h)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>hn?Math.floor(r/hn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Pt,r||0)),d=i*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,Ode(e,this,d,s,a),Dde(e,this,d,s,a),e.restore()}}function XF(t,e,n=e){t.lineCap=lt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(lt(n.borderDash,e.borderDash)),t.lineDashOffset=lt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=lt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=lt(n.borderWidth,e.borderWidth),t.strokeStyle=lt(n.borderColor,e.borderColor)}function kde(t,e,n){t.lineTo(n.x,n.y)}function Nde(t){return t.stepped?oce:t.tension||t.cubicInterpolationMode==="monotone"?lce:kde}function ZF(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:a,end:l}=e,u=Math.max(i,a),d=Math.min(s,l),h=i<a&&s<a||i>l&&s>l;return{count:r,start:u,loop:e.loop,ilen:d<u&&!h?r+d-u:d-u}}function Ide(t,e,n,r){const{points:i,options:s}=e,{count:a,start:l,loop:u,ilen:d}=ZF(i,n,r),h=Nde(s);let{move:g=!0,reverse:p}=r||{},v,_,b;for(v=0;v<=d;++v)_=i[(l+(p?d-v:v))%a],!_.skip&&(g?(t.moveTo(_.x,_.y),g=!1):h(t,b,_,p,s.stepped),b=_);return u&&(_=i[(l+(p?d:0))%a],h(t,b,_,p,s.stepped)),!!u}function Pde(t,e,n,r){const i=e.points,{count:s,start:a,ilen:l}=ZF(i,n,r),{move:u=!0,reverse:d}=r||{};let h=0,g=0,p,v,_,b,w,x;const E=O=>(a+(d?l-O:O))%s,R=()=>{b!==w&&(t.lineTo(h,w),t.lineTo(h,b),t.lineTo(h,x))};for(u&&(v=i[E(0)],t.moveTo(v.x,v.y)),p=0;p<=l;++p){if(v=i[E(p)],v.skip)continue;const O=v.x,A=v.y,I=O|0;I===_?(A<b?b=A:A>w&&(w=A),h=(g*h+O)/++g):(R(),t.lineTo(O,A),_=I,g=0,b=w=A),x=A}R()}function Yw(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Pde:Ide}function jde(t){return t.stepped?Hce:t.tension||t.cubicInterpolationMode==="monotone"?Bce:ul}function Lde(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),XF(t,e.options),t.stroke(i)}function Fde(t,e,n,r){const{segments:i,options:s}=e,a=Yw(e);for(const l of i)XF(t,s,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Ude=typeof Path2D=="function";function zde(t,e,n,r){Ude&&!e.options.segment?Lde(t,e,n,r):Fde(t,e,n,r)}class Nv extends No{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;Nce(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Yce(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,a=FF(this,{property:n,start:i,end:i});if(!a.length)return;const l=[],u=jde(r);let d,h;for(d=0,h=a.length;d<h;++d){const{start:g,end:p}=a[d],v=s[g],_=s[p];if(v===_){l.push(v);continue}const b=Math.abs((i-v[n])/(_[n]-v[n])),w=u(v,_,b,r.stepped);w[n]=e[n],l.push(w)}return l.length===1?l[0]:l}pathSegment(e,n,r){return Yw(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Yw(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of i)a&=s(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),zde(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function lk(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Hde extends No{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return lk(this,e,"x",n)}inYRange(e,n){return lk(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!$f(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Vw(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Bde(t,e,n){const r=t.segments,i=t.points,s=e.points,a=[];for(const l of r){let{start:u,end:d}=l;d=Iv(u,d,i);const h=Kw(n,i[u],i[d],l.loop);if(!e.segments){a.push({source:l,target:h,start:i[u],end:i[d]});continue}const g=FF(e,h);for(const p of g){const v=Kw(n,s[p.start],s[p.end],p.loop),_=LF(l,i,v);for(const b of _)a.push({source:b,target:p,start:{[n]:ck(h,v,"start",Math.max)},end:{[n]:ck(h,v,"end",Math.min)}})}}return a}function Kw(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=ni(i),s=ni(s)),{property:t,start:i,end:s}}function $de(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:l})=>{l=Iv(a,l,i);const u=i[a],d=i[l];r!==null?(s.push({x:u.x,y:r}),s.push({x:d.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:d.y}))}),s}function Iv(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function ck(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function JF(t,e){let n=[],r=!1;return $n(t)?(r=!0,n=t):n=$de(t,e),n.length?new Nv({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function uk(t){return t&&t.fill!==!1}function Vde(t,e,n){let i=t[e].fill;const s=[e];let a;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!pr(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function qde(t,e,n){const r=Kde(t);if(mt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return pr(i)&&Math.floor(i)===i?Wde(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Wde(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function Gde(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:mt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Yde(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:mt(t)?r=t.value:r=e.getBaseValue(),r}function Kde(t){const e=t.options,n=e.fill;let r=lt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Qde(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,a=r.points,l=Xde(e,n);l.push(JF({x:null,y:e.bottom},r));for(let u=0;u<s.length;u++){const d=s[u];for(let h=d.start;h<=d.end;h++)Zde(i,a[h],l)}return new Nv({points:i,options:{}})}function Xde(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function Zde(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:a,last:l,point:u}=Jde(s,e,"x");if(!(!u||a&&l)){if(a)r.unshift(u);else if(t.push(u),!l)break}}t.push(...r)}function Jde(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,a=t.points;let l=!1,u=!1;for(let d=0;d<s.length;d++){const h=s[d],g=a[h.start][n],p=a[h.end][n];if(bl(i,g,p)){l=i===g,u=i===p;break}}return{first:l,last:u,point:r}}class eU{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:a}=this;return n=n||{start:0,end:hn},e.arc(i,s,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function efe(t){const{chart:e,fill:n,line:r}=t;if(pr(n))return tfe(e,n);if(n==="stack")return Qde(t);if(n==="shape")return!0;const i=nfe(t);return i instanceof eU?i:JF(i,r)}function tfe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function nfe(t){return(t.scale||{}).getPointPositionForValue?ife(t):rfe(t)}function rfe(t){const{scale:e={},fill:n}=t,r=Gde(n,e);if(pr(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function ife(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,a=Yde(n,e,s),l=[];if(r.grid.circular){const u=e.getPointPositionForValue(0,s);return new eU({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<i;++u)l.push(e.getPointPositionForValue(u,a));return l}function x_(t,e,n){const r=efe(e),{chart:i,index:s,line:a,scale:l,axis:u}=e,d=a.options,h=d.fill,g=d.backgroundColor,{above:p=g,below:v=g}=h||{},_=i.getDatasetMeta(s),b=UF(i,_);r&&a.points.length&&(Av(t,n),sfe(t,{line:a,target:r,above:p,below:v,area:n,scale:l,axis:u,clip:b}),Ov(t))}function sfe(t,e){const{line:n,target:r,above:i,below:s,area:a,scale:l,clip:u}=e,d=n._loop?"angle":e.axis;t.save();let h=s;s!==i&&(d==="x"?(dk(t,r,a.top),E_(t,{line:n,target:r,color:i,scale:l,property:d,clip:u}),t.restore(),t.save(),dk(t,r,a.bottom)):d==="y"&&(fk(t,r,a.left),E_(t,{line:n,target:r,color:s,scale:l,property:d,clip:u}),t.restore(),t.save(),fk(t,r,a.right),h=i)),E_(t,{line:n,target:r,color:h,scale:l,property:d,clip:u}),t.restore()}function dk(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const l of r){const{start:u,end:d}=l,h=i[u],g=i[Iv(u,d,i)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function fk(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const l of r){const{start:u,end:d}=l,h=i[u],g=i[Iv(u,d,i)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(n,h.y),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function E_(t,e){const{line:n,target:r,property:i,color:s,scale:a,clip:l}=e,u=Bde(n,r,i);for(const{source:d,target:h,start:g,end:p}of u){const{style:{backgroundColor:v=s}={}}=d,_=r!==!0;t.save(),t.fillStyle=v,afe(t,a,l,_&&Kw(i,g,p)),t.beginPath();const b=!!n.pathSegment(t,d);let w;if(_){b?t.closePath():hk(t,r,p,i);const x=!!r.pathSegment(t,h,{move:b,reverse:!0});w=b&&x,w||hk(t,r,g,i)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function afe(t,e,n,r){const i=e.chart.chartArea,{property:s,start:a,end:l}=r||{};if(s==="x"||s==="y"){let u,d,h,g;s==="x"?(u=a,d=i.top,h=l,g=i.bottom):(u=i.left,d=a,h=i.right,g=l),t.beginPath(),n&&(u=Math.max(u,n.left),h=Math.min(h,n.right),d=Math.max(d,n.top),g=Math.min(g,n.bottom)),t.rect(u,d,h-u,g-d),t.clip()}}function hk(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var ofe={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,a,l,u;for(a=0;a<r;++a)s=t.getDatasetMeta(a),l=s.dataset,u=null,l&&l.options&&l instanceof Nv&&(u={visible:t.isDatasetVisible(a),index:a,fill:qde(l,a,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=u,i.push(u);for(a=0;a<r;++a)u=i[a],!(!u||u.fill===!1)&&(u.fill=Vde(i,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const l=i[a].$filler;l&&(l.line.updateControlPoints(s,l.axis),r&&l.fill&&x_(t.ctx,l,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;uk(s)&&x_(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!uk(r)||n.drawTime!=="beforeDatasetDraw"||x_(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const gk=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},lfe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class mk extends No{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=en(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=mr(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=gk(r,s);let d,h;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,s,l,u)+10):(h=this.maxHeight,d=this._fitCols(a,i,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],h=i+l;let g=e;s.textAlign="left",s.textBaseline="middle";let p=-1,v=-h;return this.legendItems.forEach((_,b)=>{const w=r+n/2+s.measureText(_.text).width;(b===0||d[d.length-1]+w+2*l>a)&&(g+=h,d[d.length-(b>0?0:1)]=0,v+=h,p++),u[b]={left:0,top:v,row:p,width:w,height:i},d[d.length-1]+=w+l}),g}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-e;let g=l,p=0,v=0,_=0,b=0;return this.legendItems.forEach((w,x)=>{const{itemWidth:E,itemHeight:R}=cfe(r,n,s,w,i);x>0&&v+R+2*l>h&&(g+=p+l,d.push({width:p,height:v}),_+=p+l,b++,p=v=0),u[x]={left:_,top:v,col:b,width:E,height:R},p=Math.max(p,E),v+=R+l}),g+=p,d.push({width:p,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=su(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=fr(r,this.left+i,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=fr(r,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+e+i,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+i}else{let l=0,u=fr(r,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=fr(r,this.top+e+i,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+i,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Av(e,this),this._draw(),Ov(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,l=xn.color,u=su(e.rtl,this.left,this.width),d=mr(a.font),{padding:h}=a,g=d.size,p=g/2;let v;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:_,boxHeight:b,itemHeight:w}=gk(a,g),x=function(I,k,M){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;i.save();const L=lt(M.lineWidth,1);if(i.fillStyle=lt(M.fillStyle,l),i.lineCap=lt(M.lineCap,"butt"),i.lineDashOffset=lt(M.lineDashOffset,0),i.lineJoin=lt(M.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=lt(M.strokeStyle,l),i.setLineDash(lt(M.lineDash,[])),a.usePointStyle){const H={radius:b*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:L},V=u.xPlus(I,_/2),G=k+p;AF(i,H,V,G,a.pointStyleWidth&&_)}else{const H=k+Math.max((g-b)/2,0),V=u.leftForLtr(I,_),G=mf(M.borderRadius);i.beginPath(),Object.values(G).some(se=>se!==0)?qw(i,{x:V,y:H,w:_,h:b,radius:G}):i.rect(V,H,_,b),i.fill(),L!==0&&i.stroke()}i.restore()},E=function(I,k,M){Vf(i,M.text,I,k+w/2,d,{strikethrough:M.hidden,textAlign:u.textAlign(M.textAlign)})},R=this.isHorizontal(),O=this._computeTitleHeight();R?v={x:fr(s,this.left+h,this.right-r[0]),y:this.top+h+O,line:0}:v={x:this.left+h,y:fr(s,this.top+O+h,this.bottom-n[0].height),line:0},IF(this.ctx,e.textDirection);const A=w+h;this.legendItems.forEach((I,k)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const M=i.measureText(I.text).width,L=u.textAlign(I.textAlign||(I.textAlign=a.textAlign)),H=_+p+M;let V=v.x,G=v.y;u.setWidth(this.width),R?k>0&&V+H+h>this.right&&(G=v.y+=A,v.line++,V=v.x=fr(s,this.left+h,this.right-r[v.line])):k>0&&G+A>this.bottom&&(V=v.x=V+n[v.line].width+h,v.line++,G=v.y=fr(s,this.top+O+h,this.bottom-n[v.line].height));const se=u.x(V);if(x(se,G,I),V=Yle(L,V+_+p,R?V+H:this.right,e.rtl),E(u.x(V),G,I),R)v.x+=H+h;else if(typeof I.text!="string"){const ue=d.lineHeight;v.y+=tU(I,ue)+h}else v.y+=A}),PF(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=mr(n.font),i=Ui(n.padding);if(!n.display)return;const s=su(e.rtl,this.left,this.width),a=this.ctx,l=n.position,u=r.size/2,d=i.top+u;let h,g=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+d,g=fr(e.align,g,this.right-p);else{const _=this.columnSizes.reduce((b,w)=>Math.max(b,w.height),0);h=d+fr(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const v=fr(l,g,g+p);a.textAlign=s.textAlign(qx(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Vf(a,n.text,v,h,r)}_computeTitleHeight(){const e=this.options.title,n=mr(e.font),r=Ui(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(bl(e,this.left,this.right)&&bl(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],bl(e,i.left,i.left+i.width)&&bl(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!ffe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=lfe(i,r);i&&!s&&en(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&en(n.onHover,[e,r,this],this)}else r&&en(n.onClick,[e,r,this],this)}}function cfe(t,e,n,r,i){const s=ufe(r,t,e,n),a=dfe(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function ufe(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function dfe(t,e,n){let r=t;return typeof e.text!="string"&&(r=tU(e,n)),r}function tU(t,e){const n=t.text?t.text.length:0;return e*n}function ffe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var hfe={id:"legend",_element:mk,start(t,e,n){const r=t.legend=new mk({ctx:t.ctx,options:n,chart:t});ji.configure(t,r,n),ji.addBox(t,r)},stop(t){ji.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ji.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),h=Ui(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class nU extends No{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=$n(r.text)?r.text.length:1;this._padding=Ui(r.padding);const s=i*mr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,l=a.align;let u=0,d,h,g;return this.isHorizontal()?(h=fr(l,r,s),g=n+e,d=s-r):(a.position==="left"?(h=r+e,g=fr(l,i,n),u=Pt*-.5):(h=s-e,g=fr(l,n,i),u=Pt*.5),d=i-n),{titleX:h,titleY:g,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=mr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(s);Vf(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:qx(n.align),textBaseline:"middle",translation:[a,l]})}}function gfe(t,e){const n=new nU({ctx:t.ctx,options:e,chart:t});ji.configure(t,n,e),ji.addBox(t,n),t.titleBlock=n}var mfe={id:"title",_element:nU,start(t,e,n){gfe(t,n)},stop(t){const e=t.titleBlock;ji.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ji.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gd={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=t.length;s<a;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),h=Bw(e,d);h<i&&(i=h,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function ms(t,e){return e&&($n(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ta(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function pfe(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:l}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function pk(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:l}=e,u=mr(e.bodyFont),d=mr(e.titleFont),h=mr(e.footerFont),g=s.length,p=i.length,v=r.length,_=Ui(e.padding);let b=_.height,w=0,x=r.reduce((O,A)=>O+A.before.length+A.lines.length+A.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,g&&(b+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),x){const O=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;b+=v*O+(x-v)*u.lineHeight+(x-1)*e.bodySpacing}p&&(b+=e.footerMarginTop+p*h.lineHeight+(p-1)*e.footerSpacing);let E=0;const R=function(O){w=Math.max(w,n.measureText(O).width+E)};return n.save(),n.font=d.string,It(t.title,R),n.font=u.string,It(t.beforeBody.concat(t.afterBody),R),E=e.displayColors?a+2+e.boxPadding:0,It(r,O=>{It(O.before,R),It(O.lines,R),It(O.after,R)}),E=0,n.font=h.string,It(t.footer,R),n.restore(),w+=_.width,{width:w,height:b}}function vfe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function yfe(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function bfe(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:l,right:u}}=t;let d="center";return r==="center"?d=i<=(l+u)/2?"left":"right":i<=s/2?d="left":i>=a-s/2&&(d="right"),yfe(d,t,e,n)&&(d="center"),d}function vk(t,e,n){const r=n.yAlign||e.yAlign||vfe(t,n);return{xAlign:n.xAlign||e.xAlign||bfe(t,e,n,r),yAlign:r}}function _fe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function wfe(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function yk(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:l,yAlign:u}=n,d=i+s,{topLeft:h,topRight:g,bottomLeft:p,bottomRight:v}=mf(a);let _=_fe(e,l);const b=wfe(e,u,d);return u==="center"?l==="left"?_+=d:l==="right"&&(_-=d):l==="left"?_-=Math.max(h,p)+i:l==="right"&&(_+=Math.max(g,v)+i),{x:Er(_,0,r.width-e.width),y:Er(b,0,r.height-e.height)}}function xm(t,e,n){const r=Ui(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function bk(t){return ms([],ta(t))}function Sfe(t,e,n){return Bl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function _k(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const rU={beforeTitle:Js,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Js,beforeBody:Js,beforeLabel:Js,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Kt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Js,afterBody:Js,beforeFooter:Js,footer:Js,afterFooter:Js};function Lr(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?rU[e].call(n,r):i}class wk extends No{static positioners=Gd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new zF(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Sfe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Lr(r,"beforeTitle",this,e),s=Lr(r,"title",this,e),a=Lr(r,"afterTitle",this,e);let l=[];return l=ms(l,ta(i)),l=ms(l,ta(s)),l=ms(l,ta(a)),l}getBeforeBody(e,n){return bk(Lr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return It(e,s=>{const a={before:[],lines:[],after:[]},l=_k(r,s);ms(a.before,ta(Lr(l,"beforeLabel",this,s))),ms(a.lines,Lr(l,"label",this,s)),ms(a.after,ta(Lr(l,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return bk(Lr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Lr(r,"beforeFooter",this,e),s=Lr(r,"footer",this,e),a=Lr(r,"afterFooter",this,e);let l=[];return l=ms(l,ta(i)),l=ms(l,ta(s)),l=ms(l,ta(a)),l}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(pfe(this.chart,n[u]));return e.filter&&(l=l.filter((h,g,p)=>e.filter(h,g,p,r))),e.itemSort&&(l=l.sort((h,g)=>e.itemSort(h,g,r))),It(l,h=>{const g=_k(e.callbacks,h);i.push(Lr(g,"labelColor",this,h)),s.push(Lr(g,"labelPointStyle",this,h)),a.push(Lr(g,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=Gd[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=pk(this,r),d=Object.assign({},l,u),h=vk(this.chart,r,d),g=yk(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:g}=mf(l),{x:p,y:v}=e,{width:_,height:b}=n;let w,x,E,R,O,A;return s==="center"?(O=v+b/2,i==="left"?(w=p,x=w-a,R=O+a,A=O-a):(w=p+_,x=w+a,R=O-a,A=O+a),E=w):(i==="left"?x=p+Math.max(u,h)+a:i==="right"?x=p+_-Math.max(d,g)-a:x=this.caretX,s==="top"?(R=v,O=R-a,w=x-a,E=x+a):(R=v+b,O=R+a,w=x+a,E=x-a),A=R),{x1:w,x2:x,x3:E,y1:R,y2:O,y3:A}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,l,u;if(s){const d=su(r.rtl,this.x,this.width);for(e.x=xm(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=mr(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(i[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,h=mr(s.bodyFont),g=xm(this,"left",s),p=i.x(g),v=u<h.lineHeight?(h.lineHeight-u)/2:0,_=n.y+v;if(s.usePointStyle){const b={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=i.leftForLtr(p,d)+d/2,x=_+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Vw(e,b,w,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Vw(e,b,w,x)}else{e.lineWidth=mt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=i.leftForLtr(p,d),w=i.leftForLtr(i.xPlus(p,1),d-2),x=mf(a.borderRadius);Object.values(x).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,qw(e,{x:b,y:_,w:d,h:u,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),qw(e,{x:w,y:_+1,w:d-2,h:u-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,_,d,u),e.strokeRect(b,_,d,u),e.fillStyle=a.backgroundColor,e.fillRect(w,_+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:h}=r,g=mr(r.bodyFont);let p=g.lineHeight,v=0;const _=su(r.rtl,this.x,this.width),b=function(M){n.fillText(M,_.x(e.x+v),e.y+p/2),e.y+=p+s},w=_.textAlign(a);let x,E,R,O,A,I,k;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=xm(this,w,r),n.fillStyle=r.bodyColor,It(this.beforeBody,b),v=l&&w!=="right"?a==="center"?d/2+h:d+2+h:0,O=0,I=i.length;O<I;++O){for(x=i[O],E=this.labelTextColors[O],n.fillStyle=E,It(x.before,b),R=x.lines,l&&R.length&&(this._drawColorBox(n,e,O,_,r),p=Math.max(g.lineHeight,u)),A=0,k=R.length;A<k;++A)b(R[A]),p=g.lineHeight;It(x.after,b)}v=0,p=g.lineHeight,It(this.afterBody,b),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,l;if(s){const u=su(r.rtl,this.x,this.width);for(e.x=xm(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",a=mr(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:h}=r,{topLeft:g,topRight:p,bottomLeft:v,bottomRight:_}=mf(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(l+g,u),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(l+d-p,u),n.quadraticCurveTo(l+d,u,l+d,u+p),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(l+d,u+h-_),n.quadraticCurveTo(l+d,u+h,l+d-_,u+h),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(l+v,u+h),n.quadraticCurveTo(l,u+h,l,u+h-v),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(l,u+g),n.quadraticCurveTo(l,u,l+g,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Gd[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=pk(this,e),u=Object.assign({},a,this._size),d=vk(n,e,u),h=yk(e,u,d,n);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ui(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),IF(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),PF(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!Mp(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),l=this._positionChanged(a,e),u=n||!Mp(a,s)||l;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=Gd[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}var xfe={id:"tooltip",_element:wk,positioners:Gd,afterInit(t,e,n){n&&(t.tooltip=new wk({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Efe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Rfe(t,e,n,r){const i=t.indexOf(e);if(i===-1)return Efe(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const Cfe=(t,e)=>t===null?null:Er(Math.round(t),0,e);function Sk(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Tfe extends ku{static id="category";static defaults={ticks:{callback:Sk}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Kt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Rfe(r,e,lt(n,e),this._addedLabels),Cfe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return Sk.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Afe(t,e){const n=[],{bounds:i,step:s,min:a,max:l,precision:u,count:d,maxTicks:h,maxDigits:g,includeBounds:p}=t,v=s||1,_=h-1,{min:b,max:w}=e,x=!Kt(a),E=!Kt(l),R=!Kt(d),O=(w-b)/(g+1);let A=wM((w-b)/_/v)*v,I,k,M,L;if(A<1e-14&&!x&&!E)return[{value:b},{value:w}];L=Math.ceil(w/A)-Math.floor(b/A),L>_&&(A=wM(L*A/_/v)*v),Kt(u)||(I=Math.pow(10,u),A=Math.ceil(A*I)/I),i==="ticks"?(k=Math.floor(b/A)*A,M=Math.ceil(w/A)*A):(k=b,M=w),x&&E&&s&&Fle((l-a)/s,A/1e3)?(L=Math.round(Math.min((l-a)/A,h)),A=(l-a)/L,k=a,M=l):R?(k=x?a:k,M=E?l:M,L=d-1,A=(M-k)/L):(L=(M-k)/A,ff(L,Math.round(L),A/1e3)?L=Math.round(L):L=Math.ceil(L));const H=Math.max(SM(A),SM(k));I=Math.pow(10,Kt(u)?H:u),k=Math.round(k*I)/I,M=Math.round(M*I)/I;let V=0;for(x&&(p&&k!==a?(n.push({value:a}),k<a&&V++,ff(Math.round((k+V*A)*I)/I,a,xk(a,O,t))&&V++):k<a&&V++);V<L;++V){const G=Math.round((k+V*A)*I)/I;if(E&&G>l)break;n.push({value:G})}return E&&p&&M!==l?n.length&&ff(n[n.length-1].value,l,xk(l,O,t))?n[n.length-1].value=l:n.push({value:l}):(!E||M===l)&&n.push({value:M}),n}function xk(t,e,{horizontal:n,minRotation:r}){const i=ua(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class Ofe extends ku{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=u=>i=n?i:u,l=u=>s=r?s:u;if(e){const u=gu(i),d=gu(s);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||a(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=Afe(i,s);return e.bounds==="ticks"&&Ule(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Gx(e,this.chart.options.locale,this.options.ticks.format)}}class Dfe extends Ofe{static id="linear";static defaults={ticks:{callback:TF.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=pr(e)?e:0,this.max=pr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ua(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Pv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$r=Object.keys(Pv);function Ek(t,e){return t-e}function Rk(t,e){if(Kt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),pr(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Hf(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function Ck(t,e,n,r){const i=$r.length;for(let s=$r.indexOf(t);s<i-1;++s){const a=Pv[$r[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return $r[s]}return $r[i-1]}function Mfe(t,e,n,r,i){for(let s=$r.length-1;s>=$r.indexOf(n);s--){const a=$r[s];if(Pv[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return $r[n?$r.indexOf(n):0]}function kfe(t){for(let e=$r.indexOf(t)+1,n=$r.length;e<n;++e)if(Pv[$r[e]].common)return $r[e]}function Tk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Vx(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Nfe(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let l,u;for(l=s;l<=a;l=+i.add(l,1,r))u=n[l],u>=0&&(e[u].major=!0);return e}function Ak(t,e,n){const r=[],i={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],i[l]=a,r.push({value:l,major:!1});return s===0||!n?r:Nfe(t,r,i,n)}class Ok extends ku{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new pue._date(e.adapters.date);i.init(n),df(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Rk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=pr(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=pr(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,l=Vle(i,s,a);return this._unit=n.unit||(r.autoSkip?Ck(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Mfe(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:kfe(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),Ak(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Er(n,0,a),r=Er(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||Ck(s.minUnit,n,r,this._getLabelCapacity(n)),l=lt(i.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=Hf(u)||u===!0,h={};let g=n,p,v;if(d&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,d?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(p=g,v=0;p<r;p=+e.add(p,l,a),v++)Tk(h,p,_);return(p===r||i.bounds==="ticks"||v===1)&&Tk(h,p,_),Object.keys(h).sort(Ek).map(b=>+b)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return en(a,[e,n,r],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&l[u],g=d&&l[d],p=r[n],v=d&&g&&p&&p.major;return this._adapter.format(e,i||(v?g:h))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=ua(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Ak(this,[e],this._majorUnit),i),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Rk(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Wle(e.sort(Ek))}}function Em(t,e,n){let r=0,i=t.length-1,s,a,l,u;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=_l(t,"pos",e)),{pos:s,time:l}=t[r],{pos:a,time:u}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=_l(t,"time",e)),{time:s,pos:l}=t[r],{time:a,pos:u}=t[i]);const d=a-s;return d?l+(u-l)*(e-s)/d:l}class bhe extends Ok{static id="timeseries";static defaults=Ok.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Em(n,this.min),this._tableRange=Em(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,l,u,d,h;for(a=0,l=e.length;a<l;++a)d=e[a],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=i.length;a<l;++a)h=i[a+1],u=i[a-1],d=i[a],Math.round((h+u)/2)!==d&&s.push({time:d,pos:a/(l-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Em(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Em(this._table,r*this._tableRange+this._minPos,!0)}}const iU="label";function Dk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Ife(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function sU(t,e){t.labels=e}function aU(t,e,n=iU){const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Pfe(t,e=iU){const n={labels:[],datasets:[]};return sU(n,t.labels),aU(n,t.datasets,e),n}function jfe(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:d=[],fallbackContent:h,updateMode:g,...p}=t,v=N.useRef(null),_=N.useRef(null),b=()=>{v.current&&(_.current=new kv(v.current,{type:a,data:Pfe(l,s),options:u&&{...u},plugins:d}),Dk(e,_.current))},w=()=>{Dk(e,null),_.current&&(_.current.destroy(),_.current=null)};return N.useEffect(()=>{!i&&_.current&&u&&Ife(_.current,u)},[i,u]),N.useEffect(()=>{!i&&_.current&&sU(_.current.config.data,l.labels)},[i,l.labels]),N.useEffect(()=>{!i&&_.current&&l.datasets&&aU(_.current.config.data,l.datasets,s)},[i,l.datasets]),N.useEffect(()=>{_.current&&(i?(w(),setTimeout(b)):_.current.update(g))},[i,u,l.labels,l.datasets,g]),N.useEffect(()=>{_.current&&(w(),setTimeout(b))},[a]),N.useEffect(()=>(b(),()=>w()),[]),T.jsx("canvas",{ref:v,role:"img",height:n,width:r,...p,children:h})}const Lfe=N.forwardRef(jfe);function oU(t,e){return kv.register(e),N.forwardRef((n,r)=>T.jsx(Lfe,{...n,ref:r,type:t}))}const Ffe=oU("line",gue),Ufe=oU("pie",mue);kv.register(Tfe,Dfe,Hde,Nv,mfe,xfe,hfe,Mde,ofe);function zfe(){const{data:t=[],isLoading:e,error:n}=dv(),{data:r=[],isLoading:i,error:s}=fv(),{isInitialized:a}=Sn(),{init:l,cleanup:u}=Oo(),d=e||i;N.useEffect(()=>(a||l(),()=>{u()}),[l,a,u]);const h=N.useMemo(()=>{if(d)return{};const _=t.reduce((Y,me)=>{const D=me.work_center||"Unknown";return Y[D]||(Y[D]={[oa.ACTIVE]:0,[oa.INACTIVE]:0,[oa.MAINTENANCE]:0}),Y[D][me.status]=(Y[D][me.status]||0)+1,Y},{}),b=new Date,w=new Date(b),x=b.getDay(),E=x===0?6:x-1;w.setUTCDate(b.getUTCDate()-E),w.setUTCHours(0,0,0,0);const R=r.filter(Y=>Y.completion_date?new Date(Y.completion_date)>=w:!1).length,O=r.filter(Y=>Y.status==="IN PROGRESS"||Y.status==="SCHEDULED").length,A=r.filter(Y=>Y.delivery_date?new Date(Y.delivery_date)<b&&(Y.quantity_completed||0)<(Y.quantity||0):!1).length,I=t.filter(Y=>Y.status===oa.ACTIVE).length,k={},M=new Date(b);M.setUTCDate(b.getUTCDate()-7);const L=new Date(b);L.setUTCDate(b.getUTCDate()+7),r.forEach(Y=>{if(Y.scheduled_start_time){const me=new Date(Y.scheduled_start_time);if(me>=M&&me<=L){const D=me.toISOString().split("T")[0];k[D]=(k[D]||0)+1}}});const H=r.filter(Y=>Y.scheduled_start_time?new Date(Y.scheduled_start_time)>=w:!1),V=H.filter(Y=>Y.cost&&Y.cost>0).map(Y=>Y.cost),G=H.filter(Y=>Y.duration&&Y.duration>0).map(Y=>Y.duration),se=V.length>0?V.reduce((Y,me)=>Y+me,0)/V.length:0,ue=G.length>0?G.reduce((Y,me)=>Y+me,0)/G.length:0,ye={},U={},K=["STAMPA","CONFEZIONAMENTO"],ne=["ZANICA","BUSTO_GAROLFO"];return K.forEach(Y=>{const me=Y.toLowerCase();ye[me]={},U[me]={},ne.forEach(D=>{const $=D==="BUSTO_GAROLFO"?"busto_garolfo":D.toLowerCase(),Q=r.filter(Se=>!Se.work_center||!Se.department?!1:Se.work_center===D&&Se.department===Y),ee=Q.filter(Se=>Se.cost&&Se.cost>0).map(Se=>Se.cost),he=ee.length>0?ee.reduce((Se,Oe)=>Se+Oe,0)/ee.length:0,pe=Q.filter(Se=>Se.duration&&Se.duration>0).map(Se=>Se.duration),_e=pe.length>0?pe.reduce((Se,Oe)=>Se+Oe,0)/pe.length:0;ye[me][$]=he,U[me][$]=_e})}),{machinesByWorkCenter:_,completedThisWeek:R,tasksInWip:O,delayedTasks:A,activeMachines:I,totalMachines:t.length,totalOrders:r.length,tasksPerDay:k,avgWeeklyCost:se,avgWeeklyDuration:ue,weeklyOrdersCount:H.length,costMatrix:ye,durationMatrix:U}},[t,r,d]),g=N.useMemo(()=>{if(!h.tasksPerDay)return null;const _=[],b=new Date;for(let w=-7;w<=7;w++){const x=new Date(b);x.setUTCDate(b.getUTCDate()+w);const E=x.toISOString().split("T")[0];_.push(E)}return{labels:_.map(w=>{const x=new Date(w);return Xn(new Date(x),"dd/MM")}),datasets:[{label:"Lavori Iniziati",data:_.map(w=>h.tasksPerDay[w]||0),borderColor:"rgb(37, 99, 235)",backgroundColor:"rgba(37, 99, 235, 0.1)",tension:.4,borderWidth:2,pointBackgroundColor:"rgb(37, 99, 235)",pointBorderColor:"rgb(37, 99, 235)",pointRadius:4,pointHoverRadius:6,fill:!0}]}},[h.tasksPerDay]),p={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{stepSize:1,color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}},x:{grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}}},elements:{point:{hoverBorderWidth:3}}},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0,font:{size:10}}}}};return d?T.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:T.jsx("div",{className:"text-center py-1 text-muted-foreground text-[10px]",children:"Caricamento dashboard..."})}):n||s?T.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:T.jsxs("div",{className:"text-center py-1 text-destructive text-[10px]",children:["Errore nel caricamento dei dati: ",n?.message||s?.message]})}):T.jsxs("div",{className:"space-y-6",children:[T.jsx("div",{className:"flex justify-between items-center",children:T.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard Produzione"})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[T.jsxs(Ri,{className:"p-6",children:[T.jsx(Ci,{className:"pb-2",children:T.jsx(Ti,{className:"text-sm font-medium text-muted-foreground",children:"Macchine Totali"})}),T.jsxs(Ai,{children:[T.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalMachines}),T.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Attive: ",h.activeMachines]})]})]}),T.jsxs(Ri,{className:"p-6",children:[T.jsx(Ci,{className:"pb-2",children:T.jsx(Ti,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Totali"})}),T.jsxs(Ai,{children:[T.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalOrders}),T.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Totali nel sistema"})]})]}),T.jsxs(Ri,{className:"p-6",children:[T.jsx(Ci,{className:"pb-2",children:T.jsx(Ti,{className:"text-sm font-medium text-muted-foreground",children:"Completati Questa Settimana"})}),T.jsxs(Ai,{children:[T.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.completedThisWeek}),T.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lavori completati"})]})]}),T.jsxs(Ri,{className:"p-6",children:[T.jsx(Ci,{className:"pb-2",children:T.jsx(Ti,{className:"text-sm font-medium text-muted-foreground",children:"Lavori in Corso"})}),T.jsxs(Ai,{children:[T.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.tasksInWip}),T.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In progress/scheduled"})]})]}),T.jsxs(Ri,{className:"p-6 border-destructive/20 bg-destructive/5",children:[T.jsx(Ci,{className:"pb-2",children:T.jsx(Ti,{className:"text-sm font-medium text-destructive",children:"Lavori Ritardati"})}),T.jsxs(Ai,{children:[T.jsx("div",{className:"text-3xl font-bold text-destructive",children:h.delayedTasks}),T.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Oltre la scadenza"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsxs(Ri,{className:"p-6",children:[T.jsx(Ci,{className:"pb-2",children:T.jsx(Ti,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Settimanali"})}),T.jsxs(Ai,{children:[T.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.weeklyOrdersCount}),T.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Questa Settimana"})]})]}),T.jsxs(Ri,{className:"p-6",children:[T.jsx(Ci,{className:"pb-2",children:T.jsx(Ti,{className:"text-sm font-medium text-muted-foreground",children:"Costo Medio"})}),T.jsxs(Ai,{children:[T.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["",h.avgWeeklyCost.toFixed(2)]}),T.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]}),T.jsxs(Ri,{className:"p-6",children:[T.jsx(Ci,{className:"pb-2",children:T.jsx(Ti,{className:"text-sm font-medium text-muted-foreground",children:"Durata Media"})}),T.jsxs(Ai,{children:[T.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[h.avgWeeklyDuration.toFixed(1),"h"]}),T.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs(Ri,{children:[T.jsx(Ci,{children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx(Ti,{children:"Lavori Iniziati per Giorno (14 giorni)"}),T.jsx("div",{className:"flex items-center gap-3 text-xs",children:T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("span",{className:"inline-block w-3 h-1 bg-primary"})," Lavori"]})})]})}),T.jsx(Ai,{children:T.jsx("div",{className:"h-64",children:g&&T.jsx(Ffe,{data:g,options:p,height:256})})})]}),T.jsxs(Ri,{children:[T.jsx(Ci,{children:T.jsx(Ti,{children:"Macchine per Centro di Lavoro e Stato"})}),T.jsx(Ai,{children:T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(h.machinesByWorkCenter||{}).map(([_,b])=>{const w={labels:Object.keys(b).map(x=>x.charAt(0).toUpperCase()+x.slice(1).toLowerCase()),datasets:[{data:Object.values(b),backgroundColor:["rgba(37, 99, 235, 0.8)","rgba(107, 114, 128, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgba(37, 99, 235, 1)","rgba(107, 114, 128, 1)","rgba(156, 163, 175, 1)"],borderWidth:2}]};return T.jsxs("div",{className:"text-center",children:[T.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:_}),T.jsx("div",{className:"h-32",children:T.jsx(Ufe,{data:w,options:v,height:150})}),T.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:Object.entries(b).map(([x,E])=>T.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[T.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:x==="ACTIVE"?"rgba(37, 99, 235, 0.8)":x==="INACTIVE"?"rgba(107, 114, 128, 0.8)":"rgba(156, 163, 175, 0.8)"}}),T.jsxs("span",{children:[x,": ",E]})]},x))})]},_)})})})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs(Ri,{children:[T.jsx(Ci,{children:T.jsx(Ti,{children:"Costo Medio per Centro di Lavoro e Reparto"})}),T.jsx(Ai,{children:T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"border-b border-border",children:[T.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),T.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),T.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),T.jsxs("tbody",{children:[T.jsxs("tr",{className:"border-b border-border",children:[T.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),T.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["",h.costMatrix?.stampa?.zanica?.toFixed(2)||"0.00"]}),T.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["",h.costMatrix?.stampa?.busto_garolfo?.toFixed(2)||"0.00"]})]}),T.jsxs("tr",{children:[T.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),T.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["",h.costMatrix?.confezionamento?.zanica?.toFixed(2)||"0.00"]}),T.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["",h.costMatrix?.confezionamento?.busto_garolfo?.toFixed(2)||"0.00"]})]})]})]})})})]}),T.jsxs(Ri,{children:[T.jsx(Ci,{children:T.jsx(Ti,{children:"Durata Media per Centro di Lavoro e Reparto"})}),T.jsx(Ai,{children:T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"border-b border-border",children:[T.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),T.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),T.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),T.jsxs("tbody",{children:[T.jsxs("tr",{className:"border-b border-border",children:[T.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),T.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.zanica?.toFixed(1)||"0.0","h"]}),T.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.busto_garolfo?.toFixed(1)||"0.0","h"]})]}),T.jsxs("tr",{children:[T.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),T.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.zanica?.toFixed(1)||"0.0","h"]}),T.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.busto_garolfo?.toFixed(1)||"0.0","h"]})]})]})]})})})]})]})]})}function Hfe(){const[t,e]=N.useState({email:"",password:"",workCenter:""}),[n,r]=N.useState(!1),[i,s]=N.useState({}),{signIn:a,error:l}=Ll(),{setSelectedWorkCenter:u}=Sn(),d=As(),{handleAsync:h}=Ds("LoginPage"),g=b=>{const{name:w,value:x}=b.target;e(E=>({...E,[w]:x})),i[w]&&s(E=>({...E,[w]:""}))},p=()=>{const b={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(b.email="Inserisci un indirizzo email valido"):b.email="Email richiesta",t.password?t.password.length<6&&(b.password="La password deve essere di almeno 6 caratteri"):b.password="Password richiesta",t.workCenter||(b.workCenter="Centro di lavoro richiesto"),s(b),Object.keys(b).length===0},v=async b=>{b.preventDefault(),p()&&(r(!0),await h(async()=>{(await a(t.email,t.password)).error||(u(t.workCenter),d("/",{replace:!0}))},{context:"Login",fallbackMessage:"Accesso fallito. Riprova.",onFinally:()=>r(!1)}))},_=b=>i[b]?T.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:i[b]}):null;return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full space-y-4",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Bentornato"}),T.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Accedi al tuo account per continuare"})]}),T.jsxs("form",{onSubmit:v,className:"mt-4 space-y-4",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:"email",children:"Indirizzo Email"}),T.jsx(Kn,{type:"email",id:"email",name:"email",value:t.email,onChange:g,placeholder:"Inserisci la tua email",className:i.email?"border-red-500":"",disabled:n,autoComplete:"email"}),_("email")]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:"password",children:"Password"}),T.jsx(Kn,{type:"password",id:"password",name:"password",value:t.password,onChange:g,placeholder:"Inserisci la tua password",className:i.password?"border-red-500":"",disabled:n,autoComplete:"current-password"}),_("password")]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:"workCenter",children:"Centro di Lavoro *"}),T.jsxs("select",{name:"workCenter",value:t.workCenter,onChange:g,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${i.workCenter?"border-red-500":"border-input"}`,children:[T.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),T.jsx("option",{value:St.ZANICA,children:St.ZANICA}),T.jsx("option",{value:St.BUSTO_GAROLFO,children:St.BUSTO_GAROLFO}),T.jsx("option",{value:St.BOTH,children:St.BOTH})]}),_("workCenter")]}),l&&T.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("span",{className:"text-red-400",children:""})}),T.jsx("div",{className:"ml-3",children:T.jsx("p",{className:"text-[10px] text-red-800",children:l})})]})}),T.jsx(Rr,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Accesso in corso...":"Accedi"})]}),T.jsxs("div",{className:"text-center space-y-4",children:[T.jsx(kn,{to:"/forgot-password",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Password dimenticata?"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-300"})}),T.jsx("div",{className:"relative flex justify-center text-[10px]",children:T.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Non hai un account?"})})]}),T.jsx(kn,{to:"/signup",children:T.jsx(Rr,{variant:"outline",size:"sm",className:"w-full",children:"Crea Account"})})]}),!1]})})}function Bfe(){const[t,e]=N.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,r]=N.useState(!1),[i,s]=N.useState({}),{signUp:a,error:l}=Ll(),u=As(),{handleAsync:d}=Ds("SignupPage"),h=_=>{const{name:b,value:w}=_.target;e(x=>({...x,[b]:w})),i[b]&&s(x=>({...x,[b]:""}))},g=()=>{const _={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(_.email="Inserisci un indirizzo email valido"):_.email="Email richiesta",t.password?t.password.length<6&&(_.password="La password deve essere di almeno 6 caratteri"):_.password="Password richiesta",t.confirmPassword?t.password!==t.confirmPassword&&(_.confirmPassword="Le password non coincidono"):_.confirmPassword="Conferma la tua password",t.firstName.trim()||(_.firstName="Nome richiesto"),t.lastName.trim()||(_.lastName="Cognome richiesto"),s(_),Object.keys(_).length===0},p=async _=>{_.preventDefault(),g()&&(r(!0),await d(async()=>{const b={first_name:t.firstName,last_name:t.lastName,full_name:`${t.firstName} ${t.lastName}`};(await a(t.email,t.password,b)).error||u("/",{replace:!0})},{context:"Signup",fallbackMessage:"Creazione account fallita. Riprova.",onFinally:()=>r(!1)}))},v=_=>i[_]?T.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:i[_]}):null;return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full space-y-4",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Crea Account"}),T.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Registrati per iniziare con il tuo account"})]}),T.jsxs("form",{onSubmit:p,className:"mt-4 space-y-4",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:"firstName",children:"Nome"}),T.jsx(Kn,{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:h,placeholder:"Inserisci il tuo nome",className:i.firstName?"border-red-500":"",disabled:n,autoComplete:"given-name"}),v("firstName")]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:"lastName",children:"Cognome"}),T.jsx(Kn,{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:h,placeholder:"Inserisci il tuo cognome",className:i.lastName?"border-red-500":"",disabled:n,autoComplete:"family-name"}),v("lastName")]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:"email",children:"Indirizzo Email"}),T.jsx(Kn,{type:"email",id:"email",name:"email",value:t.email,onChange:h,placeholder:"Inserisci la tua email",className:i.email?"border-red-500":"",disabled:n,autoComplete:"email"}),v("email")]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:"password",children:"Password"}),T.jsx(Kn,{type:"password",id:"password",name:"password",value:t.password,onChange:h,placeholder:"Crea una password",className:i.password?"border-red-500":"",disabled:n,autoComplete:"new-password"}),v("password")]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:"confirmPassword",children:"Conferma Password"}),T.jsx(Kn,{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:h,placeholder:"Conferma la tua password",className:i.confirmPassword?"border-red-500":"",disabled:n,autoComplete:"new-password"}),v("confirmPassword")]})]}),l&&T.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("span",{className:"text-red-400",children:""})}),T.jsx("div",{className:"ml-3",children:T.jsx("p",{className:"text-[10px] text-red-800",children:l})})]})}),T.jsx(Rr,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Creazione Account...":"Crea Account"})]}),T.jsxs("div",{className:"text-center space-y-4",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-300"})}),T.jsx("div",{className:"relative flex justify-center text-[10px]",children:T.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Hai gi un account?"})})]}),T.jsx(kn,{to:"/login",children:T.jsx(Rr,{variant:"outline",size:"sm",className:"w-full",children:"Accedi"})})]})]})})}function $fe(){const[t,e]=N.useState(""),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[a,l]=N.useState(""),{resetPassword:u}=Ll(),{handleAsync:d}=Ds("ForgotPasswordPage"),h=async g=>{if(g.preventDefault(),!t.trim()){l("Inserisci il tuo indirizzo email");return}if(!/\S+@\S+\.\S+/.test(t)){l("Inserisci un indirizzo email valido");return}r(!0),l(""),await d(async()=>{const p=await u(t);p.error?l(p.error||"Invio email di reset fallito"):s(!0)},{context:"Password Reset",fallbackMessage:"Invio email di reset fallito. Riprova.",onFinally:()=>r(!1)})};return i?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-2 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full space-y-4",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Controlla la Tua Email"}),T.jsxs("p",{className:"mt-2 text-[10px] text-gray-600",children:["Abbiamo inviato un link per il reset della password a ",t]})]}),T.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-1",children:T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("span",{className:"text-green-400 text-[10px]",children:""})}),T.jsx("div",{className:"ml-3",children:T.jsx("p",{className:"text-[10px] text-green-800",children:"Se non vedi l'email, controlla la cartella spam."})})]})}),T.jsx("div",{className:"text-center",children:T.jsx(kn,{to:"/login",children:T.jsx(Rr,{size:"sm",className:"w-full",children:"Torna all'Accesso"})})})]})}):T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full space-y-4",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Reset Password"}),T.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Inserisci la tua email per ricevere un link per il reset della password"})]}),T.jsxs("form",{onSubmit:h,className:"mt-4 space-y-4",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(hr,{htmlFor:"email",children:"Indirizzo Email"}),T.jsx(Kn,{type:"email",id:"email",name:"email",value:t,onChange:g=>e(g.target.value),placeholder:"Inserisci la tua email",disabled:n,autoComplete:"email"})]}),a&&T.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("span",{className:"text-red-400",children:""})}),T.jsx("div",{className:"ml-3",children:T.jsx("p",{className:"text-[10px] text-red-800",children:a})})]})}),T.jsx(Rr,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Invio...":"Invia Link di Reset"})]}),T.jsx("div",{className:"text-center",children:T.jsx(kn,{to:"/login",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Torna all'Accesso"})})]})})}const Vfe=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`;if(typeof document<"u"){const t=document.createElement("style");t.textContent=Vfe,document.head.appendChild(t)}const qfe=()=>{const{user:t,loading:e}=Ll();return e?T.jsx("div",{className:"auth-loading",style:{padding:"20px",textAlign:"center"},children:T.jsxs("div",{className:"auth-loading__container",children:[T.jsx("div",{className:"auth-loading__spinner",style:{border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 2s linear infinite",margin:"0 auto 10px"}}),T.jsx("p",{children:"Checking authentication..."})]})}):t?T.jsx($k,{}):T.jsx(Bk,{to:"/login",replace:!0})},Wfe=()=>{const{forms:t,modals:e,hideConfirmDialog:n,conflictDialog:r,hideConflictDialog:i,showConflictDialog:s,schedulingLoading:a,selectedWorkCenter:l}=Sn(),u={...t.confirmDialog||{},isOpen:e.confirmDialog||!1},{cleanup:d}=Oo(),{resolveConflictByShunting:h,scheduleTaskFromSlot:g}=ih(),{user:p,signOut:v}=Ll(),_=Gr();return pJ(),N.useEffect(()=>()=>{d()},[d]),T.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[T.jsx(BK,{}),T.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[T.jsx($K,{}),T.jsx("main",{className:"flex-1 overflow-auto bg-background min-w-0",children:T.jsx("div",{className:"p-4",children:T.jsx($k,{})})})]}),T.jsx(lV,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3}),u.isOpen&&(confirm(`${u.title}

${u.message}`)&&u.onConfirm?.(),n(),null),r.isOpen&&(()=>{const b=r.details?`Il lavoro "${r.details.draggedTask?.odp_number}" si sovrappone con "${r.details.conflictingTask?.odp_number}". Vuoi spostarlo a sinistra?`:"Conflitto rilevato. Vuoi spostare il task?",w=confirm(`${b}

OK = Sposta a Sinistra
Annulla = Sposta a Destra`);return w!==null?(async()=>{if(r.details){try{const x=r.details.schedulingParams?r.details.schedulingParams.originalConflict:r.details;console.log(" CONFLICT: Using resolveConflictByShunting",w?"left":"right");const E=await h(x,w?"left":"right",_);E.error?lo(E.error):jl("Task spostato con successo")}catch(x){console.error(" SHUNTING ERROR:",x),lo("Errore durante lo spostamento del task")}i()}})():i(),null})()]})};function Gfe(){return T.jsx(V7,{children:T.jsx(Q7,{children:T.jsxs(wB,{children:[T.jsx(Fn,{path:"/login",element:T.jsx(Hfe,{})}),T.jsx(Fn,{path:"/signup",element:T.jsx(Bfe,{})}),T.jsx(Fn,{path:"/forgot-password",element:T.jsx($fe,{})}),T.jsx(Fn,{path:"/",element:T.jsx(qfe,{}),children:T.jsxs(Fn,{element:T.jsx(Wfe,{}),children:[T.jsx(Fn,{index:!0,element:T.jsx(zfe,{})}),T.jsx(Fn,{path:"machinery",element:T.jsx(vJ,{})}),T.jsx(Fn,{path:"machinery/add",element:T.jsx(KD,{})}),T.jsx(Fn,{path:"machinery/:id/edit",element:T.jsx(KD,{})}),T.jsx(Fn,{path:"machinery/:machineId/calendar",element:T.jsx(wae,{})}),T.jsx(Fn,{path:"phases",element:T.jsx(Sae,{})}),T.jsx(Fn,{path:"phases/add",element:T.jsx(Z1,{})}),T.jsx(Fn,{path:"phases/:id/edit",element:T.jsx(Z1,{})}),T.jsx(Fn,{path:"backlog",element:T.jsx(Eae,{})}),T.jsx(Fn,{path:"backlog/add",element:T.jsx(J1,{})}),T.jsx(Fn,{path:"backlog/:id/edit",element:T.jsx(J1,{})}),T.jsx(Fn,{path:"scheduler",element:T.jsx(ile,{})})]})}),T.jsx(Fn,{path:"*",element:T.jsx(Bk,{to:"/",replace:!0})})]})})})}const Yfe=new x$({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),Kfe="/scheduler_demo/";OH.createRoot(document.getElementById("root")).render(T.jsx(be.StrictMode,{children:T.jsx(E$,{client:Yfe,children:T.jsx(VB,{basename:Kfe,children:T.jsx(EK,{children:T.jsx(Gfe,{})})})})}));export{GK as A,Rr as B,qS as D,be as R,fhe as S,As as a,cu as b,dhe as c,phe as d,Ds as e,mhe as f,uhe as g,PD as h,rh as i,T as j,Xn as k,Gr as l,hhe as m,ZQ as n,ih as o,Al as p,N as r,vn as s,ar as t,Sn as u};
