function MH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function If(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var kb={exports:{}},Sd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA;function kH(){if(IA)return Sd;IA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Sd.Fragment=e,Sd.jsx=n,Sd.jsxs=n,Sd}var PA;function NH(){return PA||(PA=1,kb.exports=kH()),kb.exports}var w=NH(),Nb={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function IH(){if(jA)return Ke;jA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,S={};function C(F,te,V){this.props=F,this.context=te,this.refs=S,this.updater=V||b}C.prototype.isReactComponent={},C.prototype.setState=function(F,te){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,te,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function T(){}T.prototype=C.prototype;function A(F,te,V){this.props=F,this.context=te,this.refs=S,this.updater=V||b}var M=A.prototype=new T;M.constructor=A,y(M,C.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function k(){}var N={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function j(F,te,V){var J=V.ref;return{$$typeof:t,type:F,key:te,ref:J!==void 0?J:null,props:V}}function z(F,te){return j(F.type,te,F.props)}function B(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function Q(F){var te={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(V){return te[V]})}var ne=/\/+/g;function de(F,te){return typeof F=="object"&&F!==null&&F.key!=null?Q(""+F.key):te.toString(36)}function ge(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(k,k):(F.status="pending",F.then(function(te){F.status==="pending"&&(F.status="fulfilled",F.value=te)},function(te){F.status==="pending"&&(F.status="rejected",F.reason=te)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function P(F,te,V,J,ue){var me=typeof F;(me==="undefined"||me==="boolean")&&(F=null);var Z=!1;if(F===null)Z=!0;else switch(me){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(F.$$typeof){case t:case e:Z=!0;break;case h:return Z=F._init,P(Z(F._payload),te,V,J,ue)}}if(Z)return ue=ue(F),Z=J===""?"."+de(F,0):J,D(ue)?(V="",Z!=null&&(V=Z.replace(ne,"$&/")+"/"),P(ue,te,V,"",function(Te){return Te})):ue!=null&&(B(ue)&&(ue=z(ue,V+(ue.key==null||F&&F.key===ue.key?"":(""+ue.key).replace(ne,"$&/")+"/")+Z)),te.push(ue)),1;Z=0;var pe=J===""?".":J+":";if(D(F))for(var Ce=0;Ce<F.length;Ce++)J=F[Ce],me=pe+de(J,Ce),Z+=P(J,te,V,me,ue);else if(Ce=v(F),typeof Ce=="function")for(F=Ce.call(F),Ce=0;!(J=F.next()).done;)J=J.value,me=pe+de(J,Ce++),Z+=P(J,te,V,me,ue);else if(me==="object"){if(typeof F.then=="function")return P(ge(F),te,V,J,ue);throw te=String(F),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Z}function G(F,te,V){if(F==null)return F;var J=[],ue=0;return P(F,J,"","",function(me){return te.call(V,me,ue++)}),J}function q(F){if(F._status===-1){var te=F._result;te=te(),te.then(function(V){(F._status===0||F._status===-1)&&(F._status=1,F._result=V)},function(V){(F._status===0||F._status===-1)&&(F._status=2,F._result=V)}),F._status===-1&&(F._status=0,F._result=te)}if(F._status===1)return F._result.default;throw F._result}var W=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ye={map:G,forEach:function(F,te,V){G(F,function(){te.apply(this,arguments)},V)},count:function(F){var te=0;return G(F,function(){te++}),te},toArray:function(F){return G(F,function(te){return te})||[]},only:function(F){if(!B(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ke.Activity=g,Ke.Children=ye,Ke.Component=C,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=A,Ke.StrictMode=r,Ke.Suspense=u,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(F){return N.H.useMemoCache(F)}},Ke.cache=function(F){return function(){return F.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(F,te,V){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var J=y({},F.props),ue=F.key;if(te!=null)for(me in te.key!==void 0&&(ue=""+te.key),te)!O.call(te,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&te.ref===void 0||(J[me]=te[me]);var me=arguments.length-2;if(me===1)J.children=V;else if(1<me){for(var Z=Array(me),pe=0;pe<me;pe++)Z[pe]=arguments[pe+2];J.children=Z}return j(F.type,ue,J)},Ke.createContext=function(F){return F={$$typeof:a,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Ke.createElement=function(F,te,V){var J,ue={},me=null;if(te!=null)for(J in te.key!==void 0&&(me=""+te.key),te)O.call(te,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ue[J]=te[J]);var Z=arguments.length-2;if(Z===1)ue.children=V;else if(1<Z){for(var pe=Array(Z),Ce=0;Ce<Z;Ce++)pe[Ce]=arguments[Ce+2];ue.children=pe}if(F&&F.defaultProps)for(J in Z=F.defaultProps,Z)ue[J]===void 0&&(ue[J]=Z[J]);return j(F,me,ue)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(F){return{$$typeof:l,render:F}},Ke.isValidElement=B,Ke.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:q}},Ke.memo=function(F,te){return{$$typeof:d,type:F,compare:te===void 0?null:te}},Ke.startTransition=function(F){var te=N.T,V={};N.T=V;try{var J=F(),ue=N.S;ue!==null&&ue(V,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(k,W)}catch(me){W(me)}finally{te!==null&&V.types!==null&&(te.types=V.types),N.T=te}},Ke.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ke.use=function(F){return N.H.use(F)},Ke.useActionState=function(F,te,V){return N.H.useActionState(F,te,V)},Ke.useCallback=function(F,te){return N.H.useCallback(F,te)},Ke.useContext=function(F){return N.H.useContext(F)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(F,te){return N.H.useDeferredValue(F,te)},Ke.useEffect=function(F,te){return N.H.useEffect(F,te)},Ke.useEffectEvent=function(F){return N.H.useEffectEvent(F)},Ke.useId=function(){return N.H.useId()},Ke.useImperativeHandle=function(F,te,V){return N.H.useImperativeHandle(F,te,V)},Ke.useInsertionEffect=function(F,te){return N.H.useInsertionEffect(F,te)},Ke.useLayoutEffect=function(F,te){return N.H.useLayoutEffect(F,te)},Ke.useMemo=function(F,te){return N.H.useMemo(F,te)},Ke.useOptimistic=function(F,te){return N.H.useOptimistic(F,te)},Ke.useReducer=function(F,te,V){return N.H.useReducer(F,te,V)},Ke.useRef=function(F){return N.H.useRef(F)},Ke.useState=function(F){return N.H.useState(F)},Ke.useSyncExternalStore=function(F,te,V){return N.H.useSyncExternalStore(F,te,V)},Ke.useTransition=function(){return N.H.useTransition()},Ke.version="19.2.0",Ke}var LA;function Em(){return LA||(LA=1,Nb.exports=IH()),Nb.exports}var E=Em();const le=If(E),Bk=MH({__proto__:null,default:le},[E]);var Ib={exports:{}},xd={},Pb={exports:{}},jb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA;function PH(){return FA||(FA=1,(function(t){function e(P,G){var q=P.length;P.push(G);e:for(;0<q;){var W=q-1>>>1,ye=P[W];if(0<i(ye,G))P[W]=G,P[q]=ye,q=W;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var G=P[0],q=P.pop();if(q!==G){P[0]=q;e:for(var W=0,ye=P.length,F=ye>>>1;W<F;){var te=2*(W+1)-1,V=P[te],J=te+1,ue=P[J];if(0>i(V,q))J<ye&&0>i(ue,V)?(P[W]=ue,P[J]=q,W=J):(P[W]=V,P[te]=q,W=te);else if(J<ye&&0>i(ue,q))P[W]=ue,P[J]=q,W=J;else break e}}return G}function i(P,G){var q=P.sortIndex-G.sortIndex;return q!==0?q:P.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,g=null,m=3,v=!1,b=!1,y=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(P){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=P)r(d),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(d)}}function D(P){if(y=!1,M(P),!b)if(n(u)!==null)b=!0,k||(k=!0,Q());else{var G=n(d);G!==null&&ge(D,G.startTime-P)}}var k=!1,N=-1,O=5,j=-1;function z(){return S?!0:!(t.unstable_now()-j<O)}function B(){if(S=!1,k){var P=t.unstable_now();j=P;var G=!0;try{e:{b=!1,y&&(y=!1,T(N),N=-1),v=!0;var q=m;try{t:{for(M(P),g=n(u);g!==null&&!(g.expirationTime>P&&z());){var W=g.callback;if(typeof W=="function"){g.callback=null,m=g.priorityLevel;var ye=W(g.expirationTime<=P);if(P=t.unstable_now(),typeof ye=="function"){g.callback=ye,M(P),G=!0;break t}g===n(u)&&r(u),M(P)}else r(u);g=n(u)}if(g!==null)G=!0;else{var F=n(d);F!==null&&ge(D,F.startTime-P),G=!1}}break e}finally{g=null,m=q,v=!1}G=void 0}}finally{G?Q():k=!1}}}var Q;if(typeof A=="function")Q=function(){A(B)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,de=ne.port2;ne.port1.onmessage=B,Q=function(){de.postMessage(null)}}else Q=function(){C(B,0)};function ge(P,G){N=C(function(){P(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var q=m;m=G;try{return P()}finally{m=q}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var q=m;m=P;try{return G()}finally{m=q}},t.unstable_scheduleCallback=function(P,G,q){var W=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,P){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=q+ye,P={id:h++,callback:G,priorityLevel:P,startTime:q,expirationTime:ye,sortIndex:-1},q>W?(P.sortIndex=q,e(d,P),n(u)===null&&P===n(d)&&(y?(T(N),N=-1):y=!0,ge(D,q-W))):(P.sortIndex=ye,e(u,P),b||v||(b=!0,k||(k=!0,Q()))),P},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(P){var G=m;return function(){var q=m;m=G;try{return P.apply(this,arguments)}finally{m=q}}}})(jb)),jb}var UA;function jH(){return UA||(UA=1,Pb.exports=PH()),Pb.exports}var Lb={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA;function LH(){if(zA)return cr;zA=1;var t=Em();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cr.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},cr.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},cr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},cr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},cr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:v}):h==="script"&&r.d.X(u,{crossOrigin:g,integrity:m,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},cr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cr.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},cr.requestFormReset=function(u){r.d.r(u)},cr.unstable_batchedUpdates=function(u,d){return u(d)},cr.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},cr.useFormStatus=function(){return a.H.useHostTransitionStatus()},cr.version="19.2.0",cr}var HA;function $k(){if(HA)return Lb.exports;HA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lb.exports=LH(),Lb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function FH(){if(BA)return xd;BA=1;var t=jH(),e=Em(),n=$k();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var f=o,p=c;;){var _=f.return;if(_===null)break;var x=_.alternate;if(x===null){if(p=_.return,p!==null){f=p;continue}break}if(_.child===x.child){for(x=_.child;x;){if(x===f)return u(_),o;if(x===p)return u(_),c;x=x.sibling}throw Error(r(188))}if(f.return!==p.return)f=_,p=x;else{for(var R=!1,I=_.child;I;){if(I===f){R=!0,f=_,p=x;break}if(I===p){R=!0,p=_,f=x;break}I=I.sibling}if(!R){for(I=x.child;I;){if(I===f){R=!0,f=x,p=_;break}if(I===p){R=!0,p=x,f=_;break}I=I.sibling}if(!R)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function Q(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ne?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case y:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList";case j:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case A:return o.displayName||"Context";case T:return(o._context.displayName||"Context")+".Consumer";case M:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case N:return c=o.displayName||null,c!==null?c:de(o.type)||"Memo";case O:c=o._payload,o=o._init;try{return de(o(c))}catch{}}return null}var ge=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},W=[],ye=-1;function F(o){return{current:o}}function te(o){0>ye||(o.current=W[ye],W[ye]=null,ye--)}function V(o,c){ye++,W[ye]=o.current,o.current=c}var J=F(null),ue=F(null),me=F(null),Z=F(null);function pe(o,c){switch(V(me,c),V(ue,o),V(J,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?rA(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=rA(c),o=iA(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}te(J),V(J,o)}function Ce(){te(J),te(ue),te(me)}function Te(o){o.memoizedState!==null&&V(Z,o);var c=J.current,f=iA(c,o.type);c!==f&&(V(ue,o),V(J,f))}function Le(o){ue.current===o&&(te(J),te(ue)),Z.current===o&&(te(Z),yd._currentValue=q)}var He,$t;function xe(o){if(He===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);He=c&&c[1]||"",$t=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+o+$t}var $e=!1;function Ze(o,c){if(!o||$e)return"";$e=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(ce){var ae=ce}Reflect.construct(o,[],be)}else{try{be.call()}catch(ce){ae=ce}o.call(be.prototype)}}else{try{throw Error()}catch(ce){ae=ce}(be=o())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(ce){if(ce&&ae&&typeof ce.stack=="string")return[ce.stack,ae.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=p.DetermineComponentFrameRoot(),R=x[0],I=x[1];if(R&&I){var H=R.split(`
`),ie=I.split(`
`);for(_=p=0;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;for(;_<ie.length&&!ie[_].includes("DetermineComponentFrameRoot");)_++;if(p===H.length||_===ie.length)for(p=H.length-1,_=ie.length-1;1<=p&&0<=_&&H[p]!==ie[_];)_--;for(;1<=p&&0<=_;p--,_--)if(H[p]!==ie[_]){if(p!==1||_!==1)do if(p--,_--,0>_||H[p]!==ie[_]){var he=`
`+H[p].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=p&&0<=_);break}}}finally{$e=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?xe(f):""}function kt(o,c){switch(o.tag){case 26:case 27:case 5:return xe(o.type);case 16:return xe("Lazy");case 13:return o.child!==c&&c!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Ze(o.type,!1);case 11:return Ze(o.type.render,!1);case 1:return Ze(o.type,!0);case 31:return xe("Activity");default:return""}}function Cn(o){try{var c="",f=null;do c+=kt(o,f),f=o,o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Je=Object.prototype.hasOwnProperty,L=t.unstable_scheduleCallback,Y=t.unstable_cancelCallback,ee=t.unstable_shouldYield,X=t.unstable_requestPaint,se=t.unstable_now,fe=t.unstable_getCurrentPriorityLevel,_e=t.unstable_ImmediatePriority,we=t.unstable_UserBlockingPriority,Se=t.unstable_NormalPriority,Ne=t.unstable_LowPriority,et=t.unstable_IdlePriority,Ye=t.log,pt=t.unstable_setDisableYieldValue,lt=null,Vt=null;function ct(o){if(typeof Ye=="function"&&pt(o),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(lt,o)}catch{}}var We=Math.clz32?Math.clz32:_t,_n=Math.log,rt=Math.LN2;function _t(o){return o>>>=0,o===0?32:31-(_n(o)/rt|0)|0}var yr=256,br=262144,Ct=4194304;function Kt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ee(o,c,f){var p=o.pendingLanes;if(p===0)return 0;var _=0,x=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var I=p&134217727;return I!==0?(p=I&~x,p!==0?_=Kt(p):(R&=I,R!==0?_=Kt(R):f||(f=I&~o,f!==0&&(_=Kt(f))))):(I=p&~x,I!==0?_=Kt(I):R!==0?_=Kt(R):f||(f=p&~o,f!==0&&(_=Kt(f)))),_===0?0:c!==0&&c!==_&&(c&x)===0&&(x=_&-_,f=c&-c,x>=f||x===32&&(f&4194048)!==0)?c:_}function Ge(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function mt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wt(){var o=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),o}function mn(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function St(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function tt(o,c,f,p,_,x){var R=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,H=o.expirationTimes,ie=o.hiddenUpdates;for(f=R&~f;0<f;){var he=31-We(f),be=1<<he;I[he]=0,H[he]=-1;var ae=ie[he];if(ae!==null)for(ie[he]=null,he=0;he<ae.length;he++){var ce=ae[he];ce!==null&&(ce.lane&=-536870913)}f&=~be}p!==0&&Tn(o,p,0),x!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=x&~(R&~c))}function Tn(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var p=31-We(c);o.entangledLanes|=c,o.entanglements[p]=o.entanglements[p]|1073741824|f&261930}function Jt(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var p=31-We(f),_=1<<p;_&c|o[p]&c&&(o[p]|=c),f&=~_}}function on(o,c){var f=c&-c;return f=(f&42)!==0?1:fi(f),(f&(o.suspendedLanes|c))!==0?0:f}function fi(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function er(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function hi(){var o=G.p;return o!==0?o:(o=window.event,o===void 0?32:AA(o.type))}function ba(o,c){var f=G.p;try{return G.p=o,c()}finally{G.p=f}}var gi=Math.random().toString(36).slice(2),tr="__reactFiber$"+gi,Ar="__reactProps$"+gi,Bl="__reactContainer$"+gi,xv="__reactEvents$"+gi,_U="__reactListeners$"+gi,wU="__reactHandles$"+gi,Vx="__reactResources$"+gi,Nu="__reactMarker$"+gi;function Ev(o){delete o[tr],delete o[Ar],delete o[xv],delete o[_U],delete o[wU]}function $l(o){var c=o[tr];if(c)return c;for(var f=o.parentNode;f;){if(c=f[Bl]||f[tr]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=dA(o);o!==null;){if(f=o[tr])return f;o=dA(o)}return c}o=f,f=o.parentNode}return null}function Vl(o){if(o=o[tr]||o[Bl]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Iu(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function ql(o){var c=o[Vx];return c||(c=o[Vx]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Wn(o){o[Nu]=!0}var qx=new Set,Wx={};function Mo(o,c){Wl(o,c),Wl(o+"Capture",c)}function Wl(o,c){for(Wx[o]=c,o=0;o<c.length;o++)qx.add(c[o])}var SU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gx={},Yx={};function xU(o){return Je.call(Yx,o)?!0:Je.call(Gx,o)?!1:SU.test(o)?Yx[o]=!0:(Gx[o]=!0,!1)}function eh(o,c,f){if(xU(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function th(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function Ds(o,c,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+p)}}function pi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Kx(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function EU(o,c,f){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,x=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return _.call(this)},set:function(R){f=""+R,x.call(this,R)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Cv(o){if(!o._valueTracker){var c=Kx(o)?"checked":"value";o._valueTracker=EU(o,c,""+o[c])}}function Qx(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),p="";return o&&(p=Kx(o)?o.checked?"true":"false":o.value),o=p,o!==f?(c.setValue(o),!0):!1}function nh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var CU=/[\n"\\]/g;function mi(o){return o.replace(CU,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Tv(o,c,f,p,_,x,R,I){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),c!=null?R==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+pi(c)):o.value!==""+pi(c)&&(o.value=""+pi(c)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),c!=null?Av(o,R,pi(c)):f!=null?Av(o,R,pi(f)):p!=null&&o.removeAttribute("value"),_==null&&x!=null&&(o.defaultChecked=!!x),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+pi(I):o.removeAttribute("name")}function Xx(o,c,f,p,_,x,R,I){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.type=x),c!=null||f!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){Cv(o);return}f=f!=null?""+pi(f):"",c=c!=null?""+pi(c):f,I||c===o.value||(o.value=c),o.defaultValue=c}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=I?o.checked:!!p,o.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),Cv(o)}function Av(o,c,f){c==="number"&&nh(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Gl(o,c,f,p){if(o=o.options,c){c={};for(var _=0;_<f.length;_++)c["$"+f[_]]=!0;for(f=0;f<o.length;f++)_=c.hasOwnProperty("$"+o[f].value),o[f].selected!==_&&(o[f].selected=_),_&&p&&(o[f].defaultSelected=!0)}else{for(f=""+pi(f),c=null,_=0;_<o.length;_++){if(o[_].value===f){o[_].selected=!0,p&&(o[_].defaultSelected=!0);return}c!==null||o[_].disabled||(c=o[_])}c!==null&&(c.selected=!0)}}function Zx(o,c,f){if(c!=null&&(c=""+pi(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+pi(f):""}function Jx(o,c,f,p){if(c==null){if(p!=null){if(f!=null)throw Error(r(92));if(ge(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),c=f}f=pi(c),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p),Cv(o)}function Yl(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var TU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eE(o,c,f){var p=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":p?o.setProperty(c,f):typeof f!="number"||f===0||TU.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function tE(o,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var _ in c)p=c[_],c.hasOwnProperty(_)&&f[_]!==p&&eE(o,_,p)}else for(var x in c)c.hasOwnProperty(x)&&eE(o,x,c[x])}function Rv(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rh(o){return RU.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Os(){}var Dv=null;function Ov(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Kl=null,Ql=null;function nE(o){var c=Vl(o);if(c&&(o=c.stateNode)){var f=o[Ar]||null;e:switch(o=c.stateNode,c.type){case"input":if(Tv(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+mi(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var p=f[c];if(p!==o&&p.form===o.form){var _=p[Ar]||null;if(!_)throw Error(r(90));Tv(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<f.length;c++)p=f[c],p.form===o.form&&Qx(p)}break e;case"textarea":Zx(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Gl(o,!!f.multiple,c,!1)}}}var Mv=!1;function rE(o,c,f){if(Mv)return o(c,f);Mv=!0;try{var p=o(c);return p}finally{if(Mv=!1,(Kl!==null||Ql!==null)&&(Vh(),Kl&&(c=Kl,o=Ql,Ql=Kl=null,nE(c),o)))for(c=0;c<o.length;c++)nE(o[c])}}function Pu(o,c){var f=o.stateNode;if(f===null)return null;var p=f[Ar]||null;if(p===null)return null;f=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kv=!1;if(Ms)try{var ju={};Object.defineProperty(ju,"passive",{get:function(){kv=!0}}),window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{kv=!1}var _a=null,Nv=null,ih=null;function iE(){if(ih)return ih;var o,c=Nv,f=c.length,p,_="value"in _a?_a.value:_a.textContent,x=_.length;for(o=0;o<f&&c[o]===_[o];o++);var R=f-o;for(p=1;p<=R&&c[f-p]===_[x-p];p++);return ih=_.slice(o,1<p?1-p:void 0)}function sh(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function ah(){return!0}function sE(){return!1}function Rr(o){function c(f,p,_,x,R){this._reactName=f,this._targetInst=_,this.type=p,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(x):x[I]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ah:sE,this.isPropagationStopped=sE,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ah)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ah)},persist:function(){},isPersistent:ah}),c}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oh=Rr(ko),Lu=g({},ko,{view:0,detail:0}),DU=Rr(Lu),Iv,Pv,Fu,lh=g({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Fu&&(Fu&&o.type==="mousemove"?(Iv=o.screenX-Fu.screenX,Pv=o.screenY-Fu.screenY):Pv=Iv=0,Fu=o),Iv)},movementY:function(o){return"movementY"in o?o.movementY:Pv}}),aE=Rr(lh),OU=g({},lh,{dataTransfer:0}),MU=Rr(OU),kU=g({},Lu,{relatedTarget:0}),jv=Rr(kU),NU=g({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),IU=Rr(NU),PU=g({},ko,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),jU=Rr(PU),LU=g({},ko,{data:0}),oE=Rr(LU),FU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HU(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=zU[o])?!!c[o]:!1}function Lv(){return HU}var BU=g({},Lu,{key:function(o){if(o.key){var c=FU[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=sh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?UU[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lv,charCode:function(o){return o.type==="keypress"?sh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?sh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),$U=Rr(BU),VU=g({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lE=Rr(VU),qU=g({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lv}),WU=Rr(qU),GU=g({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),YU=Rr(GU),KU=g({},lh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),QU=Rr(KU),XU=g({},ko,{newState:0,oldState:0}),ZU=Rr(XU),JU=[9,13,27,32],Fv=Ms&&"CompositionEvent"in window,Uu=null;Ms&&"documentMode"in document&&(Uu=document.documentMode);var ez=Ms&&"TextEvent"in window&&!Uu,cE=Ms&&(!Fv||Uu&&8<Uu&&11>=Uu),uE=" ",dE=!1;function fE(o,c){switch(o){case"keyup":return JU.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hE(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xl=!1;function tz(o,c){switch(o){case"compositionend":return hE(c);case"keypress":return c.which!==32?null:(dE=!0,uE);case"textInput":return o=c.data,o===uE&&dE?null:o;default:return null}}function nz(o,c){if(Xl)return o==="compositionend"||!Fv&&fE(o,c)?(o=iE(),ih=Nv=_a=null,Xl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return cE&&c.locale!=="ko"?null:c.data;default:return null}}var rz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gE(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!rz[o.type]:c==="textarea"}function pE(o,c,f,p){Kl?Ql?Ql.push(p):Ql=[p]:Kl=p,c=Xh(c,"onChange"),0<c.length&&(f=new oh("onChange","change",null,f,p),o.push({event:f,listeners:c}))}var zu=null,Hu=null;function iz(o){XT(o,0)}function ch(o){var c=Iu(o);if(Qx(c))return o}function mE(o,c){if(o==="change")return c}var vE=!1;if(Ms){var Uv;if(Ms){var zv="oninput"in document;if(!zv){var yE=document.createElement("div");yE.setAttribute("oninput","return;"),zv=typeof yE.oninput=="function"}Uv=zv}else Uv=!1;vE=Uv&&(!document.documentMode||9<document.documentMode)}function bE(){zu&&(zu.detachEvent("onpropertychange",_E),Hu=zu=null)}function _E(o){if(o.propertyName==="value"&&ch(Hu)){var c=[];pE(c,Hu,o,Ov(o)),rE(iz,c)}}function sz(o,c,f){o==="focusin"?(bE(),zu=c,Hu=f,zu.attachEvent("onpropertychange",_E)):o==="focusout"&&bE()}function az(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ch(Hu)}function oz(o,c){if(o==="click")return ch(c)}function lz(o,c){if(o==="input"||o==="change")return ch(c)}function cz(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var qr=typeof Object.is=="function"?Object.is:cz;function Bu(o,c){if(qr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),p=Object.keys(c);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var _=f[p];if(!Je.call(c,_)||!qr(o[_],c[_]))return!1}return!0}function wE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function SE(o,c){var f=wE(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=c&&p>=c)return{node:f,offset:c-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=wE(f)}}function xE(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?xE(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function EE(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=nh(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=nh(o.document)}return c}function Hv(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var uz=Ms&&"documentMode"in document&&11>=document.documentMode,Zl=null,Bv=null,$u=null,$v=!1;function CE(o,c,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;$v||Zl==null||Zl!==nh(p)||(p=Zl,"selectionStart"in p&&Hv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),$u&&Bu($u,p)||($u=p,p=Xh(Bv,"onSelect"),0<p.length&&(c=new oh("onSelect","select",null,c,f),o.push({event:c,listeners:p}),c.target=Zl)))}function No(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Jl={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},Vv={},TE={};Ms&&(TE=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function Io(o){if(Vv[o])return Vv[o];if(!Jl[o])return o;var c=Jl[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in TE)return Vv[o]=c[f];return o}var AE=Io("animationend"),RE=Io("animationiteration"),DE=Io("animationstart"),dz=Io("transitionrun"),fz=Io("transitionstart"),hz=Io("transitioncancel"),OE=Io("transitionend"),ME=new Map,qv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qv.push("scrollEnd");function Li(o,c){ME.set(o,c),Mo(c,[o])}var uh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},vi=[],ec=0,Wv=0;function dh(){for(var o=ec,c=Wv=ec=0;c<o;){var f=vi[c];vi[c++]=null;var p=vi[c];vi[c++]=null;var _=vi[c];vi[c++]=null;var x=vi[c];if(vi[c++]=null,p!==null&&_!==null){var R=p.pending;R===null?_.next=_:(_.next=R.next,R.next=_),p.pending=_}x!==0&&kE(f,_,x)}}function fh(o,c,f,p){vi[ec++]=o,vi[ec++]=c,vi[ec++]=f,vi[ec++]=p,Wv|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Gv(o,c,f,p){return fh(o,c,f,p),hh(o)}function Po(o,c){return fh(o,null,null,c),hh(o)}function kE(o,c,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var _=!1,x=o.return;x!==null;)x.childLanes|=f,p=x.alternate,p!==null&&(p.childLanes|=f),x.tag===22&&(o=x.stateNode,o===null||o._visibility&1||(_=!0)),o=x,x=x.return;return o.tag===3?(x=o.stateNode,_&&c!==null&&(_=31-We(f),o=x.hiddenUpdates,p=o[_],p===null?o[_]=[c]:p.push(c),c.lane=f|536870912),x):null}function hh(o){if(50<dd)throw dd=0,nb=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var tc={};function gz(o,c,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(o,c,f,p){return new gz(o,c,f,p)}function Yv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ks(o,c){var f=o.alternate;return f===null?(f=Wr(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function NE(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function gh(o,c,f,p,_,x){var R=0;if(p=o,typeof o=="function")Yv(o)&&(R=1);else if(typeof o=="string")R=bH(o,f,J.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case j:return o=Wr(31,f,c,_),o.elementType=j,o.lanes=x,o;case y:return jo(f.children,_,x,c);case S:R=8,_|=24;break;case C:return o=Wr(12,f,c,_|2),o.elementType=C,o.lanes=x,o;case D:return o=Wr(13,f,c,_),o.elementType=D,o.lanes=x,o;case k:return o=Wr(19,f,c,_),o.elementType=k,o.lanes=x,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:R=10;break e;case T:R=9;break e;case M:R=11;break e;case N:R=14;break e;case O:R=16,p=null;break e}R=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return c=Wr(R,f,c,_),c.elementType=o,c.type=p,c.lanes=x,c}function jo(o,c,f,p){return o=Wr(7,o,p,c),o.lanes=f,o}function Kv(o,c,f){return o=Wr(6,o,null,c),o.lanes=f,o}function IE(o){var c=Wr(18,null,null,0);return c.stateNode=o,c}function Qv(o,c,f){return c=Wr(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var PE=new WeakMap;function yi(o,c){if(typeof o=="object"&&o!==null){var f=PE.get(o);return f!==void 0?f:(c={value:o,source:c,stack:Cn(c)},PE.set(o,c),c)}return{value:o,source:c,stack:Cn(c)}}var nc=[],rc=0,ph=null,Vu=0,bi=[],_i=0,wa=null,ss=1,as="";function Ns(o,c){nc[rc++]=Vu,nc[rc++]=ph,ph=o,Vu=c}function jE(o,c,f){bi[_i++]=ss,bi[_i++]=as,bi[_i++]=wa,wa=o;var p=ss;o=as;var _=32-We(p)-1;p&=~(1<<_),f+=1;var x=32-We(c)+_;if(30<x){var R=_-_%5;x=(p&(1<<R)-1).toString(32),p>>=R,_-=R,ss=1<<32-We(c)+_|f<<_|p,as=x+o}else ss=1<<x|f<<_|p,as=o}function Xv(o){o.return!==null&&(Ns(o,1),jE(o,1,0))}function Zv(o){for(;o===ph;)ph=nc[--rc],nc[rc]=null,Vu=nc[--rc],nc[rc]=null;for(;o===wa;)wa=bi[--_i],bi[_i]=null,as=bi[--_i],bi[_i]=null,ss=bi[--_i],bi[_i]=null}function LE(o,c){bi[_i++]=ss,bi[_i++]=as,bi[_i++]=wa,ss=c.id,as=c.overflow,wa=o}var nr=null,en=null,vt=!1,Sa=null,wi=!1,Jv=Error(r(519));function xa(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qu(yi(c,o)),Jv}function FE(o){var c=o.stateNode,f=o.type,p=o.memoizedProps;switch(c[tr]=o,c[Ar]=p,f){case"dialog":dt("cancel",c),dt("close",c);break;case"iframe":case"object":case"embed":dt("load",c);break;case"video":case"audio":for(f=0;f<hd.length;f++)dt(hd[f],c);break;case"source":dt("error",c);break;case"img":case"image":case"link":dt("error",c),dt("load",c);break;case"details":dt("toggle",c);break;case"input":dt("invalid",c),Xx(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":dt("invalid",c);break;case"textarea":dt("invalid",c),Jx(c,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||p.suppressHydrationWarning===!0||tA(c.textContent,f)?(p.popover!=null&&(dt("beforetoggle",c),dt("toggle",c)),p.onScroll!=null&&dt("scroll",c),p.onScrollEnd!=null&&dt("scrollend",c),p.onClick!=null&&(c.onclick=Os),c=!0):c=!1,c||xa(o,!0)}function UE(o){for(nr=o.return;nr;)switch(nr.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:nr=nr.return}}function ic(o){if(o!==nr)return!1;if(!vt)return UE(o),vt=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||vb(o.type,o.memoizedProps)),f=!f),f&&en&&xa(o),UE(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));en=uA(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));en=uA(o)}else c===27?(c=en,La(o.type)?(o=Sb,Sb=null,en=o):en=c):en=nr?xi(o.stateNode.nextSibling):null;return!0}function Lo(){en=nr=null,vt=!1}function ey(){var o=Sa;return o!==null&&(kr===null?kr=o:kr.push.apply(kr,o),Sa=null),o}function qu(o){Sa===null?Sa=[o]:Sa.push(o)}var ty=F(null),Fo=null,Is=null;function Ea(o,c,f){V(ty,c._currentValue),c._currentValue=f}function Ps(o){o._currentValue=ty.current,te(ty)}function ny(o,c,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),o===f)break;o=o.return}}function ry(o,c,f,p){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var x=_.dependencies;if(x!==null){var R=_.child;x=x.firstContext;e:for(;x!==null;){var I=x;x=_;for(var H=0;H<c.length;H++)if(I.context===c[H]){x.lanes|=f,I=x.alternate,I!==null&&(I.lanes|=f),ny(x.return,f,o),p||(R=null);break e}x=I.next}}else if(_.tag===18){if(R=_.return,R===null)throw Error(r(341));R.lanes|=f,x=R.alternate,x!==null&&(x.lanes|=f),ny(R,f,o),R=null}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===o){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}}function sc(o,c,f,p){o=null;for(var _=c,x=!1;_!==null;){if(!x){if((_.flags&524288)!==0)x=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var R=_.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var I=_.type;qr(_.pendingProps.value,R.value)||(o!==null?o.push(I):o=[I])}}else if(_===Z.current){if(R=_.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(yd):o=[yd])}_=_.return}o!==null&&ry(c,o,f,p),c.flags|=262144}function mh(o){for(o=o.firstContext;o!==null;){if(!qr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Uo(o){Fo=o,Is=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function rr(o){return zE(Fo,o)}function vh(o,c){return Fo===null&&Uo(o),zE(o,c)}function zE(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Is===null){if(o===null)throw Error(r(308));Is=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Is=Is.next=c;return f}var pz=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},mz=t.unstable_scheduleCallback,vz=t.unstable_NormalPriority,An={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iy(){return{controller:new pz,data:new Map,refCount:0}}function Wu(o){o.refCount--,o.refCount===0&&mz(vz,function(){o.controller.abort()})}var Gu=null,sy=0,ac=0,oc=null;function yz(o,c){if(Gu===null){var f=Gu=[];sy=0,ac=lb(),oc={status:"pending",value:void 0,then:function(p){f.push(p)}}}return sy++,c.then(HE,HE),c}function HE(){if(--sy===0&&Gu!==null){oc!==null&&(oc.status="fulfilled");var o=Gu;Gu=null,ac=0,oc=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function bz(o,c){var f=[],p={status:"pending",value:null,reason:null,then:function(_){f.push(_)}};return o.then(function(){p.status="fulfilled",p.value=c;for(var _=0;_<f.length;_++)(0,f[_])(c)},function(_){for(p.status="rejected",p.reason=_,_=0;_<f.length;_++)(0,f[_])(void 0)}),p}var BE=P.S;P.S=function(o,c){CT=se(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&yz(o,c),BE!==null&&BE(o,c)};var zo=F(null);function ay(){var o=zo.current;return o!==null?o:qt.pooledCache}function yh(o,c){c===null?V(zo,zo.current):V(zo,c.pool)}function $E(){var o=ay();return o===null?null:{parent:An._currentValue,pool:o}}var lc=Error(r(460)),oy=Error(r(474)),bh=Error(r(542)),_h={then:function(){}};function VE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function qE(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(Os,Os),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,GE(o),o;default:if(typeof c.status=="string")c.then(Os,Os);else{if(o=qt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(p){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=p}},function(p){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,GE(o),o}throw Bo=c,lc}}function Ho(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Bo=f,lc):f}}var Bo=null;function WE(){if(Bo===null)throw Error(r(459));var o=Bo;return Bo=null,o}function GE(o){if(o===lc||o===bh)throw Error(r(483))}var cc=null,Yu=0;function wh(o){var c=Yu;return Yu+=1,cc===null&&(cc=[]),qE(cc,o,c)}function Ku(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Sh(o,c){throw c.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function YE(o){function c(K,$){if(o){var re=K.deletions;re===null?(K.deletions=[$],K.flags|=16):re.push($)}}function f(K,$){if(!o)return null;for(;$!==null;)c(K,$),$=$.sibling;return null}function p(K){for(var $=new Map;K!==null;)K.key!==null?$.set(K.key,K):$.set(K.index,K),K=K.sibling;return $}function _(K,$){return K=ks(K,$),K.index=0,K.sibling=null,K}function x(K,$,re){return K.index=re,o?(re=K.alternate,re!==null?(re=re.index,re<$?(K.flags|=67108866,$):re):(K.flags|=67108866,$)):(K.flags|=1048576,$)}function R(K){return o&&K.alternate===null&&(K.flags|=67108866),K}function I(K,$,re,ve){return $===null||$.tag!==6?($=Kv(re,K.mode,ve),$.return=K,$):($=_($,re),$.return=K,$)}function H(K,$,re,ve){var je=re.type;return je===y?he(K,$,re.props.children,ve,re.key):$!==null&&($.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&Ho(je)===$.type)?($=_($,re.props),Ku($,re),$.return=K,$):($=gh(re.type,re.key,re.props,null,K.mode,ve),Ku($,re),$.return=K,$)}function ie(K,$,re,ve){return $===null||$.tag!==4||$.stateNode.containerInfo!==re.containerInfo||$.stateNode.implementation!==re.implementation?($=Qv(re,K.mode,ve),$.return=K,$):($=_($,re.children||[]),$.return=K,$)}function he(K,$,re,ve,je){return $===null||$.tag!==7?($=jo(re,K.mode,ve,je),$.return=K,$):($=_($,re),$.return=K,$)}function be(K,$,re){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Kv(""+$,K.mode,re),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return re=gh($.type,$.key,$.props,null,K.mode,re),Ku(re,$),re.return=K,re;case b:return $=Qv($,K.mode,re),$.return=K,$;case O:return $=Ho($),be(K,$,re)}if(ge($)||Q($))return $=jo($,K.mode,re,null),$.return=K,$;if(typeof $.then=="function")return be(K,wh($),re);if($.$$typeof===A)return be(K,vh(K,$),re);Sh(K,$)}return null}function ae(K,$,re,ve){var je=$!==null?$.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return je!==null?null:I(K,$,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return re.key===je?H(K,$,re,ve):null;case b:return re.key===je?ie(K,$,re,ve):null;case O:return re=Ho(re),ae(K,$,re,ve)}if(ge(re)||Q(re))return je!==null?null:he(K,$,re,ve,null);if(typeof re.then=="function")return ae(K,$,wh(re),ve);if(re.$$typeof===A)return ae(K,$,vh(K,re),ve);Sh(K,re)}return null}function ce(K,$,re,ve,je){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return K=K.get(re)||null,I($,K,""+ve,je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case v:return K=K.get(ve.key===null?re:ve.key)||null,H($,K,ve,je);case b:return K=K.get(ve.key===null?re:ve.key)||null,ie($,K,ve,je);case O:return ve=Ho(ve),ce(K,$,re,ve,je)}if(ge(ve)||Q(ve))return K=K.get(re)||null,he($,K,ve,je,null);if(typeof ve.then=="function")return ce(K,$,re,wh(ve),je);if(ve.$$typeof===A)return ce(K,$,re,vh($,ve),je);Sh($,ve)}return null}function Ae(K,$,re,ve){for(var je=null,Tt=null,Oe=$,nt=$=0,ht=null;Oe!==null&&nt<re.length;nt++){Oe.index>nt?(ht=Oe,Oe=null):ht=Oe.sibling;var At=ae(K,Oe,re[nt],ve);if(At===null){Oe===null&&(Oe=ht);break}o&&Oe&&At.alternate===null&&c(K,Oe),$=x(At,$,nt),Tt===null?je=At:Tt.sibling=At,Tt=At,Oe=ht}if(nt===re.length)return f(K,Oe),vt&&Ns(K,nt),je;if(Oe===null){for(;nt<re.length;nt++)Oe=be(K,re[nt],ve),Oe!==null&&($=x(Oe,$,nt),Tt===null?je=Oe:Tt.sibling=Oe,Tt=Oe);return vt&&Ns(K,nt),je}for(Oe=p(Oe);nt<re.length;nt++)ht=ce(Oe,K,nt,re[nt],ve),ht!==null&&(o&&ht.alternate!==null&&Oe.delete(ht.key===null?nt:ht.key),$=x(ht,$,nt),Tt===null?je=ht:Tt.sibling=ht,Tt=ht);return o&&Oe.forEach(function(Ba){return c(K,Ba)}),vt&&Ns(K,nt),je}function Be(K,$,re,ve){if(re==null)throw Error(r(151));for(var je=null,Tt=null,Oe=$,nt=$=0,ht=null,At=re.next();Oe!==null&&!At.done;nt++,At=re.next()){Oe.index>nt?(ht=Oe,Oe=null):ht=Oe.sibling;var Ba=ae(K,Oe,At.value,ve);if(Ba===null){Oe===null&&(Oe=ht);break}o&&Oe&&Ba.alternate===null&&c(K,Oe),$=x(Ba,$,nt),Tt===null?je=Ba:Tt.sibling=Ba,Tt=Ba,Oe=ht}if(At.done)return f(K,Oe),vt&&Ns(K,nt),je;if(Oe===null){for(;!At.done;nt++,At=re.next())At=be(K,At.value,ve),At!==null&&($=x(At,$,nt),Tt===null?je=At:Tt.sibling=At,Tt=At);return vt&&Ns(K,nt),je}for(Oe=p(Oe);!At.done;nt++,At=re.next())At=ce(Oe,K,nt,At.value,ve),At!==null&&(o&&At.alternate!==null&&Oe.delete(At.key===null?nt:At.key),$=x(At,$,nt),Tt===null?je=At:Tt.sibling=At,Tt=At);return o&&Oe.forEach(function(OH){return c(K,OH)}),vt&&Ns(K,nt),je}function Ht(K,$,re,ve){if(typeof re=="object"&&re!==null&&re.type===y&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case v:e:{for(var je=re.key;$!==null;){if($.key===je){if(je=re.type,je===y){if($.tag===7){f(K,$.sibling),ve=_($,re.props.children),ve.return=K,K=ve;break e}}else if($.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&Ho(je)===$.type){f(K,$.sibling),ve=_($,re.props),Ku(ve,re),ve.return=K,K=ve;break e}f(K,$);break}else c(K,$);$=$.sibling}re.type===y?(ve=jo(re.props.children,K.mode,ve,re.key),ve.return=K,K=ve):(ve=gh(re.type,re.key,re.props,null,K.mode,ve),Ku(ve,re),ve.return=K,K=ve)}return R(K);case b:e:{for(je=re.key;$!==null;){if($.key===je)if($.tag===4&&$.stateNode.containerInfo===re.containerInfo&&$.stateNode.implementation===re.implementation){f(K,$.sibling),ve=_($,re.children||[]),ve.return=K,K=ve;break e}else{f(K,$);break}else c(K,$);$=$.sibling}ve=Qv(re,K.mode,ve),ve.return=K,K=ve}return R(K);case O:return re=Ho(re),Ht(K,$,re,ve)}if(ge(re))return Ae(K,$,re,ve);if(Q(re)){if(je=Q(re),typeof je!="function")throw Error(r(150));return re=je.call(re),Be(K,$,re,ve)}if(typeof re.then=="function")return Ht(K,$,wh(re),ve);if(re.$$typeof===A)return Ht(K,$,vh(K,re),ve);Sh(K,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,$!==null&&$.tag===6?(f(K,$.sibling),ve=_($,re),ve.return=K,K=ve):(f(K,$),ve=Kv(re,K.mode,ve),ve.return=K,K=ve),R(K)):f(K,$)}return function(K,$,re,ve){try{Yu=0;var je=Ht(K,$,re,ve);return cc=null,je}catch(Oe){if(Oe===lc||Oe===bh)throw Oe;var Tt=Wr(29,Oe,null,K.mode);return Tt.lanes=ve,Tt.return=K,Tt}finally{}}}var $o=YE(!0),KE=YE(!1),Ca=!1;function ly(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cy(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ta(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Aa(o,c,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ot&2)!==0){var _=p.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),p.pending=c,c=hh(o),kE(o,null,f),c}return fh(o,p,c,f),hh(o)}function Qu(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var p=c.lanes;p&=o.pendingLanes,f|=p,c.lanes=f,Jt(o,f)}}function uy(o,c){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var _=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var R={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};x===null?_=x=R:x=x.next=R,f=f.next}while(f!==null);x===null?_=x=c:x=x.next=c}else _=x=c;f={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:x,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var dy=!1;function Xu(){if(dy){var o=oc;if(o!==null)throw o}}function Zu(o,c,f,p){dy=!1;var _=o.updateQueue;Ca=!1;var x=_.firstBaseUpdate,R=_.lastBaseUpdate,I=_.shared.pending;if(I!==null){_.shared.pending=null;var H=I,ie=H.next;H.next=null,R===null?x=ie:R.next=ie,R=H;var he=o.alternate;he!==null&&(he=he.updateQueue,I=he.lastBaseUpdate,I!==R&&(I===null?he.firstBaseUpdate=ie:I.next=ie,he.lastBaseUpdate=H))}if(x!==null){var be=_.baseState;R=0,he=ie=H=null,I=x;do{var ae=I.lane&-536870913,ce=ae!==I.lane;if(ce?(ft&ae)===ae:(p&ae)===ae){ae!==0&&ae===ac&&(dy=!0),he!==null&&(he=he.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ae=o,Be=I;ae=c;var Ht=f;switch(Be.tag){case 1:if(Ae=Be.payload,typeof Ae=="function"){be=Ae.call(Ht,be,ae);break e}be=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Be.payload,ae=typeof Ae=="function"?Ae.call(Ht,be,ae):Ae,ae==null)break e;be=g({},be,ae);break e;case 2:Ca=!0}}ae=I.callback,ae!==null&&(o.flags|=64,ce&&(o.flags|=8192),ce=_.callbacks,ce===null?_.callbacks=[ae]:ce.push(ae))}else ce={lane:ae,tag:I.tag,payload:I.payload,callback:I.callback,next:null},he===null?(ie=he=ce,H=be):he=he.next=ce,R|=ae;if(I=I.next,I===null){if(I=_.shared.pending,I===null)break;ce=I,I=ce.next,ce.next=null,_.lastBaseUpdate=ce,_.shared.pending=null}}while(!0);he===null&&(H=be),_.baseState=H,_.firstBaseUpdate=ie,_.lastBaseUpdate=he,x===null&&(_.shared.lanes=0),ka|=R,o.lanes=R,o.memoizedState=be}}function QE(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function XE(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)QE(f[o],c)}var uc=F(null),xh=F(0);function ZE(o,c){o=Vs,V(xh,o),V(uc,c),Vs=o|c.baseLanes}function fy(){V(xh,Vs),V(uc,uc.current)}function hy(){Vs=xh.current,te(uc),te(xh)}var Gr=F(null),Si=null;function Ra(o){var c=o.alternate;V(wn,wn.current&1),V(Gr,o),Si===null&&(c===null||uc.current!==null||c.memoizedState!==null)&&(Si=o)}function gy(o){V(wn,wn.current),V(Gr,o),Si===null&&(Si=o)}function JE(o){o.tag===22?(V(wn,wn.current),V(Gr,o),Si===null&&(Si=o)):Da()}function Da(){V(wn,wn.current),V(Gr,Gr.current)}function Yr(o){te(Gr),Si===o&&(Si=null),te(wn)}var wn=F(0);function Eh(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||_b(f)||wb(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var js=0,Xe=null,Ut=null,Rn=null,Ch=!1,dc=!1,Vo=!1,Th=0,Ju=0,fc=null,_z=0;function vn(){throw Error(r(321))}function py(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!qr(o[f],c[f]))return!1;return!0}function my(o,c,f,p,_,x){return js=x,Xe=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,P.H=o===null||o.memoizedState===null?jC:My,Vo=!1,x=f(p,_),Vo=!1,dc&&(x=tC(c,f,p,_)),eC(o),x}function eC(o){P.H=nd;var c=Ut!==null&&Ut.next!==null;if(js=0,Rn=Ut=Xe=null,Ch=!1,Ju=0,fc=null,c)throw Error(r(300));o===null||Dn||(o=o.dependencies,o!==null&&mh(o)&&(Dn=!0))}function tC(o,c,f,p){Xe=o;var _=0;do{if(dc&&(fc=null),Ju=0,dc=!1,25<=_)throw Error(r(301));if(_+=1,Rn=Ut=null,o.updateQueue!=null){var x=o.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}P.H=LC,x=c(f,p)}while(dc);return x}function wz(){var o=P.H,c=o.useState()[0];return c=typeof c.then=="function"?ed(c):c,o=o.useState()[0],(Ut!==null?Ut.memoizedState:null)!==o&&(Xe.flags|=1024),c}function vy(){var o=Th!==0;return Th=0,o}function yy(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function by(o){if(Ch){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ch=!1}js=0,Rn=Ut=Xe=null,dc=!1,Ju=Th=0,fc=null}function _r(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Xe.memoizedState=Rn=o:Rn=Rn.next=o,Rn}function Sn(){if(Ut===null){var o=Xe.alternate;o=o!==null?o.memoizedState:null}else o=Ut.next;var c=Rn===null?Xe.memoizedState:Rn.next;if(c!==null)Rn=c,Ut=o;else{if(o===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Ut=o,o={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Rn===null?Xe.memoizedState=Rn=o:Rn=Rn.next=o}return Rn}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ed(o){var c=Ju;return Ju+=1,fc===null&&(fc=[]),o=qE(fc,o,c),c=Xe,(Rn===null?c.memoizedState:Rn.next)===null&&(c=c.alternate,P.H=c===null||c.memoizedState===null?jC:My),o}function Rh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ed(o);if(o.$$typeof===A)return rr(o)}throw Error(r(438,String(o)))}function _y(o){var c=null,f=Xe.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var p=Xe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Ah(),Xe.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),p=0;p<o;p++)f[p]=z;return c.index++,f}function Ls(o,c){return typeof c=="function"?c(o):c}function Dh(o){var c=Sn();return wy(c,Ut,o)}function wy(o,c,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var _=o.baseQueue,x=p.pending;if(x!==null){if(_!==null){var R=_.next;_.next=x.next,x.next=R}c.baseQueue=_=x,p.pending=null}if(x=o.baseState,_===null)o.memoizedState=x;else{c=_.next;var I=R=null,H=null,ie=c,he=!1;do{var be=ie.lane&-536870913;if(be!==ie.lane?(ft&be)===be:(js&be)===be){var ae=ie.revertLane;if(ae===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),be===ac&&(he=!0);else if((js&ae)===ae){ie=ie.next,ae===ac&&(he=!0);continue}else be={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},H===null?(I=H=be,R=x):H=H.next=be,Xe.lanes|=ae,ka|=ae;be=ie.action,Vo&&f(x,be),x=ie.hasEagerState?ie.eagerState:f(x,be)}else ae={lane:be,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},H===null?(I=H=ae,R=x):H=H.next=ae,Xe.lanes|=be,ka|=be;ie=ie.next}while(ie!==null&&ie!==c);if(H===null?R=x:H.next=I,!qr(x,o.memoizedState)&&(Dn=!0,he&&(f=oc,f!==null)))throw f;o.memoizedState=x,o.baseState=R,o.baseQueue=H,p.lastRenderedState=x}return _===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Sy(o){var c=Sn(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,_=f.pending,x=c.memoizedState;if(_!==null){f.pending=null;var R=_=_.next;do x=o(x,R.action),R=R.next;while(R!==_);qr(x,c.memoizedState)||(Dn=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),f.lastRenderedState=x}return[x,p]}function nC(o,c,f){var p=Xe,_=Sn(),x=vt;if(x){if(f===void 0)throw Error(r(407));f=f()}else f=c();var R=!qr((Ut||_).memoizedState,f);if(R&&(_.memoizedState=f,Dn=!0),_=_.queue,Cy(sC.bind(null,p,_,o),[o]),_.getSnapshot!==c||R||Rn!==null&&Rn.memoizedState.tag&1){if(p.flags|=2048,hc(9,{destroy:void 0},iC.bind(null,p,_,f,c),null),qt===null)throw Error(r(349));x||(js&127)!==0||rC(p,c,f)}return f}function rC(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Xe.updateQueue,c===null?(c=Ah(),Xe.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function iC(o,c,f,p){c.value=f,c.getSnapshot=p,aC(c)&&oC(o)}function sC(o,c,f){return f(function(){aC(c)&&oC(o)})}function aC(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!qr(o,f)}catch{return!0}}function oC(o){var c=Po(o,2);c!==null&&Nr(c,o,2)}function xy(o){var c=_r();if(typeof o=="function"){var f=o;if(o=f(),Vo){ct(!0);try{f()}finally{ct(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:o},c}function lC(o,c,f,p){return o.baseState=f,wy(o,Ut,typeof p=="function"?p:Ls)}function Sz(o,c,f,p,_){if(kh(o))throw Error(r(485));if(o=c.action,o!==null){var x={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){x.listeners.push(R)}};P.T!==null?f(!0):x.isTransition=!1,p(x),f=c.pending,f===null?(x.next=c.pending=x,cC(c,x)):(x.next=f.next,c.pending=f.next=x)}}function cC(o,c){var f=c.action,p=c.payload,_=o.state;if(c.isTransition){var x=P.T,R={};P.T=R;try{var I=f(_,p),H=P.S;H!==null&&H(R,I),uC(o,c,I)}catch(ie){Ey(o,c,ie)}finally{x!==null&&R.types!==null&&(x.types=R.types),P.T=x}}else try{x=f(_,p),uC(o,c,x)}catch(ie){Ey(o,c,ie)}}function uC(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){dC(o,c,p)},function(p){return Ey(o,c,p)}):dC(o,c,f)}function dC(o,c,f){c.status="fulfilled",c.value=f,fC(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,cC(o,f)))}function Ey(o,c,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=f,fC(c),c=c.next;while(c!==p)}o.action=null}function fC(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function hC(o,c){return c}function gC(o,c){if(vt){var f=qt.formState;if(f!==null){e:{var p=Xe;if(vt){if(en){t:{for(var _=en,x=wi;_.nodeType!==8;){if(!x){_=null;break t}if(_=xi(_.nextSibling),_===null){_=null;break t}}x=_.data,_=x==="F!"||x==="F"?_:null}if(_){en=xi(_.nextSibling),p=_.data==="F!";break e}}xa(p)}p=!1}p&&(c=f[0])}}return f=_r(),f.memoizedState=f.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hC,lastRenderedState:c},f.queue=p,f=NC.bind(null,Xe,p),p.dispatch=f,p=xy(!1),x=Oy.bind(null,Xe,!1,p.queue),p=_r(),_={state:c,dispatch:null,action:o,pending:null},p.queue=_,f=Sz.bind(null,Xe,_,x,f),_.dispatch=f,p.memoizedState=o,[c,f,!1]}function pC(o){var c=Sn();return mC(c,Ut,o)}function mC(o,c,f){if(c=wy(o,c,hC)[0],o=Dh(Ls)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=ed(c)}catch(R){throw R===lc?bh:R}else p=c;c=Sn();var _=c.queue,x=_.dispatch;return f!==c.memoizedState&&(Xe.flags|=2048,hc(9,{destroy:void 0},xz.bind(null,_,f),null)),[p,x,o]}function xz(o,c){o.action=c}function vC(o){var c=Sn(),f=Ut;if(f!==null)return mC(c,f,o);Sn(),c=c.memoizedState,f=Sn();var p=f.queue.dispatch;return f.memoizedState=o,[c,p,!1]}function hc(o,c,f,p){return o={tag:o,create:f,deps:p,inst:c,next:null},c=Xe.updateQueue,c===null&&(c=Ah(),Xe.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,c.lastEffect=o),o}function yC(){return Sn().memoizedState}function Oh(o,c,f,p){var _=_r();Xe.flags|=o,_.memoizedState=hc(1|c,{destroy:void 0},f,p===void 0?null:p)}function Mh(o,c,f,p){var _=Sn();p=p===void 0?null:p;var x=_.memoizedState.inst;Ut!==null&&p!==null&&py(p,Ut.memoizedState.deps)?_.memoizedState=hc(c,x,f,p):(Xe.flags|=o,_.memoizedState=hc(1|c,x,f,p))}function bC(o,c){Oh(8390656,8,o,c)}function Cy(o,c){Mh(2048,8,o,c)}function Ez(o){Xe.flags|=4;var c=Xe.updateQueue;if(c===null)c=Ah(),Xe.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function _C(o){var c=Sn().memoizedState;return Ez({ref:c,nextImpl:o}),function(){if((Ot&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function wC(o,c){return Mh(4,2,o,c)}function SC(o,c){return Mh(4,4,o,c)}function xC(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function EC(o,c,f){f=f!=null?f.concat([o]):null,Mh(4,4,xC.bind(null,c,o),f)}function Ty(){}function CC(o,c){var f=Sn();c=c===void 0?null:c;var p=f.memoizedState;return c!==null&&py(c,p[1])?p[0]:(f.memoizedState=[o,c],o)}function TC(o,c){var f=Sn();c=c===void 0?null:c;var p=f.memoizedState;if(c!==null&&py(c,p[1]))return p[0];if(p=o(),Vo){ct(!0);try{o()}finally{ct(!1)}}return f.memoizedState=[p,c],p}function Ay(o,c,f){return f===void 0||(js&1073741824)!==0&&(ft&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=AT(),Xe.lanes|=o,ka|=o,f)}function AC(o,c,f,p){return qr(f,c)?f:uc.current!==null?(o=Ay(o,f,p),qr(o,c)||(Dn=!0),o):(js&42)===0||(js&1073741824)!==0&&(ft&261930)===0?(Dn=!0,o.memoizedState=f):(o=AT(),Xe.lanes|=o,ka|=o,c)}function RC(o,c,f,p,_){var x=G.p;G.p=x!==0&&8>x?x:8;var R=P.T,I={};P.T=I,Oy(o,!1,c,f);try{var H=_(),ie=P.S;if(ie!==null&&ie(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var he=bz(H,p);td(o,c,he,Xr(o))}else td(o,c,p,Xr(o))}catch(be){td(o,c,{then:function(){},status:"rejected",reason:be},Xr())}finally{G.p=x,R!==null&&I.types!==null&&(R.types=I.types),P.T=R}}function Cz(){}function Ry(o,c,f,p){if(o.tag!==5)throw Error(r(476));var _=DC(o).queue;RC(o,_,c,q,f===null?Cz:function(){return OC(o),f(p)})}function DC(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:q},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function OC(o){var c=DC(o);c.next===null&&(c=o.alternate.memoizedState),td(o,c.next.queue,{},Xr())}function Dy(){return rr(yd)}function MC(){return Sn().memoizedState}function kC(){return Sn().memoizedState}function Tz(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=Xr();o=Ta(f);var p=Aa(c,o,f);p!==null&&(Nr(p,c,f),Qu(p,c,f)),c={cache:iy()},o.payload=c;return}c=c.return}}function Az(o,c,f){var p=Xr();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},kh(o)?IC(c,f):(f=Gv(o,c,f,p),f!==null&&(Nr(f,o,p),PC(f,c,p)))}function NC(o,c,f){var p=Xr();td(o,c,f,p)}function td(o,c,f,p){var _={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(kh(o))IC(c,_);else{var x=o.alternate;if(o.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var R=c.lastRenderedState,I=x(R,f);if(_.hasEagerState=!0,_.eagerState=I,qr(I,R))return fh(o,c,_,0),qt===null&&dh(),!1}catch{}finally{}if(f=Gv(o,c,_,p),f!==null)return Nr(f,o,p),PC(f,c,p),!0}return!1}function Oy(o,c,f,p){if(p={lane:2,revertLane:lb(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},kh(o)){if(c)throw Error(r(479))}else c=Gv(o,f,p,2),c!==null&&Nr(c,o,2)}function kh(o){var c=o.alternate;return o===Xe||c!==null&&c===Xe}function IC(o,c){dc=Ch=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function PC(o,c,f){if((f&4194048)!==0){var p=c.lanes;p&=o.pendingLanes,f|=p,c.lanes=f,Jt(o,f)}}var nd={readContext:rr,use:Rh,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};nd.useEffectEvent=vn;var jC={readContext:rr,use:Rh,useCallback:function(o,c){return _r().memoizedState=[o,c===void 0?null:c],o},useContext:rr,useEffect:bC,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,Oh(4194308,4,xC.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Oh(4194308,4,o,c)},useInsertionEffect:function(o,c){Oh(4,2,o,c)},useMemo:function(o,c){var f=_r();c=c===void 0?null:c;var p=o();if(Vo){ct(!0);try{o()}finally{ct(!1)}}return f.memoizedState=[p,c],p},useReducer:function(o,c,f){var p=_r();if(f!==void 0){var _=f(c);if(Vo){ct(!0);try{f(c)}finally{ct(!1)}}}else _=c;return p.memoizedState=p.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},p.queue=o,o=o.dispatch=Az.bind(null,Xe,o),[p.memoizedState,o]},useRef:function(o){var c=_r();return o={current:o},c.memoizedState=o},useState:function(o){o=xy(o);var c=o.queue,f=NC.bind(null,Xe,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:Ty,useDeferredValue:function(o,c){var f=_r();return Ay(f,o,c)},useTransition:function(){var o=xy(!1);return o=RC.bind(null,Xe,o.queue,!0,!1),_r().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var p=Xe,_=_r();if(vt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),qt===null)throw Error(r(349));(ft&127)!==0||rC(p,c,f)}_.memoizedState=f;var x={value:f,getSnapshot:c};return _.queue=x,bC(sC.bind(null,p,x,o),[o]),p.flags|=2048,hc(9,{destroy:void 0},iC.bind(null,p,x,f,c),null),f},useId:function(){var o=_r(),c=qt.identifierPrefix;if(vt){var f=as,p=ss;f=(p&~(1<<32-We(p)-1)).toString(32)+f,c="_"+c+"R_"+f,f=Th++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=_z++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Dy,useFormState:gC,useActionState:gC,useOptimistic:function(o){var c=_r();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Oy.bind(null,Xe,!0,f),f.dispatch=c,[o,c]},useMemoCache:_y,useCacheRefresh:function(){return _r().memoizedState=Tz.bind(null,Xe)},useEffectEvent:function(o){var c=_r(),f={impl:o};return c.memoizedState=f,function(){if((Ot&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},My={readContext:rr,use:Rh,useCallback:CC,useContext:rr,useEffect:Cy,useImperativeHandle:EC,useInsertionEffect:wC,useLayoutEffect:SC,useMemo:TC,useReducer:Dh,useRef:yC,useState:function(){return Dh(Ls)},useDebugValue:Ty,useDeferredValue:function(o,c){var f=Sn();return AC(f,Ut.memoizedState,o,c)},useTransition:function(){var o=Dh(Ls)[0],c=Sn().memoizedState;return[typeof o=="boolean"?o:ed(o),c]},useSyncExternalStore:nC,useId:MC,useHostTransitionStatus:Dy,useFormState:pC,useActionState:pC,useOptimistic:function(o,c){var f=Sn();return lC(f,Ut,o,c)},useMemoCache:_y,useCacheRefresh:kC};My.useEffectEvent=_C;var LC={readContext:rr,use:Rh,useCallback:CC,useContext:rr,useEffect:Cy,useImperativeHandle:EC,useInsertionEffect:wC,useLayoutEffect:SC,useMemo:TC,useReducer:Sy,useRef:yC,useState:function(){return Sy(Ls)},useDebugValue:Ty,useDeferredValue:function(o,c){var f=Sn();return Ut===null?Ay(f,o,c):AC(f,Ut.memoizedState,o,c)},useTransition:function(){var o=Sy(Ls)[0],c=Sn().memoizedState;return[typeof o=="boolean"?o:ed(o),c]},useSyncExternalStore:nC,useId:MC,useHostTransitionStatus:Dy,useFormState:vC,useActionState:vC,useOptimistic:function(o,c){var f=Sn();return Ut!==null?lC(f,Ut,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:_y,useCacheRefresh:kC};LC.useEffectEvent=_C;function ky(o,c,f,p){c=o.memoizedState,f=f(p,c),f=f==null?c:g({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Ny={enqueueSetState:function(o,c,f){o=o._reactInternals;var p=Xr(),_=Ta(p);_.payload=c,f!=null&&(_.callback=f),c=Aa(o,_,p),c!==null&&(Nr(c,o,p),Qu(c,o,p))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var p=Xr(),_=Ta(p);_.tag=1,_.payload=c,f!=null&&(_.callback=f),c=Aa(o,_,p),c!==null&&(Nr(c,o,p),Qu(c,o,p))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Xr(),p=Ta(f);p.tag=2,c!=null&&(p.callback=c),c=Aa(o,p,f),c!==null&&(Nr(c,o,f),Qu(c,o,f))}};function FC(o,c,f,p,_,x,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,x,R):c.prototype&&c.prototype.isPureReactComponent?!Bu(f,p)||!Bu(_,x):!0}function UC(o,c,f,p){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,p),c.state!==o&&Ny.enqueueReplaceState(c,c.state,null)}function qo(o,c){var f=c;if("ref"in c){f={};for(var p in c)p!=="ref"&&(f[p]=c[p])}if(o=o.defaultProps){f===c&&(f=g({},f));for(var _ in o)f[_]===void 0&&(f[_]=o[_])}return f}function zC(o){uh(o)}function HC(o){console.error(o)}function BC(o){uh(o)}function Nh(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function $C(o,c,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Iy(o,c,f){return f=Ta(f),f.tag=3,f.payload={element:null},f.callback=function(){Nh(o,c)},f}function VC(o){return o=Ta(o),o.tag=3,o}function qC(o,c,f,p){var _=f.type.getDerivedStateFromError;if(typeof _=="function"){var x=p.value;o.payload=function(){return _(x)},o.callback=function(){$C(c,f,p)}}var R=f.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){$C(c,f,p),typeof _!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function Rz(o,c,f,p,_){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=f.alternate,c!==null&&sc(c,f,_,!0),f=Gr.current,f!==null){switch(f.tag){case 31:case 13:return Si===null?qh():f.alternate===null&&yn===0&&(yn=3),f.flags&=-257,f.flags|=65536,f.lanes=_,p===_h?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([p]):c.add(p),sb(o,p,_)),!1;case 22:return f.flags|=65536,p===_h?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([p]):f.add(p)),sb(o,p,_)),!1}throw Error(r(435,f.tag))}return sb(o,p,_),qh(),!1}if(vt)return c=Gr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,p!==Jv&&(o=Error(r(422),{cause:p}),qu(yi(o,f)))):(p!==Jv&&(c=Error(r(423),{cause:p}),qu(yi(c,f))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,p=yi(p,f),_=Iy(o.stateNode,p,_),uy(o,_),yn!==4&&(yn=2)),!1;var x=Error(r(520),{cause:p});if(x=yi(x,f),ud===null?ud=[x]:ud.push(x),yn!==4&&(yn=2),c===null)return!0;p=yi(p,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=_&-_,f.lanes|=o,o=Iy(f.stateNode,p,o),uy(f,o),!1;case 1:if(c=f.type,x=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Na===null||!Na.has(x))))return f.flags|=65536,_&=-_,f.lanes|=_,_=VC(_),qC(_,o,f,p),uy(f,_),!1}f=f.return}while(f!==null);return!1}var Py=Error(r(461)),Dn=!1;function ir(o,c,f,p){c.child=o===null?KE(c,null,f,p):$o(c,o.child,f,p)}function WC(o,c,f,p,_){f=f.render;var x=c.ref;if("ref"in p){var R={};for(var I in p)I!=="ref"&&(R[I]=p[I])}else R=p;return Uo(c),p=my(o,c,f,R,x,_),I=vy(),o!==null&&!Dn?(yy(o,c,_),Fs(o,c,_)):(vt&&I&&Xv(c),c.flags|=1,ir(o,c,p,_),c.child)}function GC(o,c,f,p,_){if(o===null){var x=f.type;return typeof x=="function"&&!Yv(x)&&x.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=x,YC(o,c,x,p,_)):(o=gh(f.type,null,p,c,c.mode,_),o.ref=c.ref,o.return=c,c.child=o)}if(x=o.child,!$y(o,_)){var R=x.memoizedProps;if(f=f.compare,f=f!==null?f:Bu,f(R,p)&&o.ref===c.ref)return Fs(o,c,_)}return c.flags|=1,o=ks(x,p),o.ref=c.ref,o.return=c,c.child=o}function YC(o,c,f,p,_){if(o!==null){var x=o.memoizedProps;if(Bu(x,p)&&o.ref===c.ref)if(Dn=!1,c.pendingProps=p=x,$y(o,_))(o.flags&131072)!==0&&(Dn=!0);else return c.lanes=o.lanes,Fs(o,c,_)}return jy(o,c,f,p,_)}function KC(o,c,f,p){var _=p.children,x=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|f:f,o!==null){for(p=c.child=o.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~x}else p=0,c.child=null;return QC(o,c,x,f,p)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&yh(c,x!==null?x.cachePool:null),x!==null?ZE(c,x):fy(),JE(c);else return p=c.lanes=536870912,QC(o,c,x!==null?x.baseLanes|f:f,f,p)}else x!==null?(yh(c,x.cachePool),ZE(c,x),Da(),c.memoizedState=null):(o!==null&&yh(c,null),fy(),Da());return ir(o,c,_,f),c.child}function rd(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function QC(o,c,f,p,_){var x=ay();return x=x===null?null:{parent:An._currentValue,pool:x},c.memoizedState={baseLanes:f,cachePool:x},o!==null&&yh(c,null),fy(),JE(c),o!==null&&sc(o,c,p,!0),c.childLanes=_,null}function Ih(o,c){return c=jh({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function XC(o,c,f){return $o(c,o.child,null,f),o=Ih(c,c.pendingProps),o.flags|=2,Yr(c),c.memoizedState=null,o}function Dz(o,c,f){var p=c.pendingProps,_=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(vt){if(p.mode==="hidden")return o=Ih(c,p),c.lanes=536870912,rd(null,o);if(gy(c),(o=en)?(o=cA(o,wi),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:wa!==null?{id:ss,overflow:as}:null,retryLane:536870912,hydrationErrors:null},f=IE(o),f.return=c,c.child=f,nr=c,en=null)):o=null,o===null)throw xa(c);return c.lanes=536870912,null}return Ih(c,p)}var x=o.memoizedState;if(x!==null){var R=x.dehydrated;if(gy(c),_)if(c.flags&256)c.flags&=-257,c=XC(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Dn||sc(o,c,f,!1),_=(f&o.childLanes)!==0,Dn||_){if(p=qt,p!==null&&(R=on(p,f),R!==0&&R!==x.retryLane))throw x.retryLane=R,Po(o,R),Nr(p,o,R),Py;qh(),c=XC(o,c,f)}else o=x.treeContext,en=xi(R.nextSibling),nr=c,vt=!0,Sa=null,wi=!1,o!==null&&LE(c,o),c=Ih(c,p),c.flags|=4096;return c}return o=ks(o.child,{mode:p.mode,children:p.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Ph(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function jy(o,c,f,p,_){return Uo(c),f=my(o,c,f,p,void 0,_),p=vy(),o!==null&&!Dn?(yy(o,c,_),Fs(o,c,_)):(vt&&p&&Xv(c),c.flags|=1,ir(o,c,f,_),c.child)}function ZC(o,c,f,p,_,x){return Uo(c),c.updateQueue=null,f=tC(c,p,f,_),eC(o),p=vy(),o!==null&&!Dn?(yy(o,c,x),Fs(o,c,x)):(vt&&p&&Xv(c),c.flags|=1,ir(o,c,f,x),c.child)}function JC(o,c,f,p,_){if(Uo(c),c.stateNode===null){var x=tc,R=f.contextType;typeof R=="object"&&R!==null&&(x=rr(R)),x=new f(p,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Ny,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=p,x.state=c.memoizedState,x.refs={},ly(c),R=f.contextType,x.context=typeof R=="object"&&R!==null?rr(R):tc,x.state=c.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(ky(c,f,R,p),x.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(R=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),R!==x.state&&Ny.enqueueReplaceState(x,x.state,null),Zu(c,p,x,_),Xu(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(o===null){x=c.stateNode;var I=c.memoizedProps,H=qo(f,I);x.props=H;var ie=x.context,he=f.contextType;R=tc,typeof he=="object"&&he!==null&&(R=rr(he));var be=f.getDerivedStateFromProps;he=typeof be=="function"||typeof x.getSnapshotBeforeUpdate=="function",I=c.pendingProps!==I,he||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I||ie!==R)&&UC(c,x,p,R),Ca=!1;var ae=c.memoizedState;x.state=ae,Zu(c,p,x,_),Xu(),ie=c.memoizedState,I||ae!==ie||Ca?(typeof be=="function"&&(ky(c,f,be,p),ie=c.memoizedState),(H=Ca||FC(c,f,H,p,ae,ie,R))?(he||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=ie),x.props=p,x.state=ie,x.context=R,p=H):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{x=c.stateNode,cy(o,c),R=c.memoizedProps,he=qo(f,R),x.props=he,be=c.pendingProps,ae=x.context,ie=f.contextType,H=tc,typeof ie=="object"&&ie!==null&&(H=rr(ie)),I=f.getDerivedStateFromProps,(ie=typeof I=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R!==be||ae!==H)&&UC(c,x,p,H),Ca=!1,ae=c.memoizedState,x.state=ae,Zu(c,p,x,_),Xu();var ce=c.memoizedState;R!==be||ae!==ce||Ca||o!==null&&o.dependencies!==null&&mh(o.dependencies)?(typeof I=="function"&&(ky(c,f,I,p),ce=c.memoizedState),(he=Ca||FC(c,f,he,p,ae,ce,H)||o!==null&&o.dependencies!==null&&mh(o.dependencies))?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,ce,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,ce,H)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||R===o.memoizedProps&&ae===o.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&ae===o.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=ce),x.props=p,x.state=ce,x.context=H,p=he):(typeof x.componentDidUpdate!="function"||R===o.memoizedProps&&ae===o.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&ae===o.memoizedState||(c.flags|=1024),p=!1)}return x=p,Ph(o,c),p=(c.flags&128)!==0,x||p?(x=c.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,o!==null&&p?(c.child=$o(c,o.child,null,_),c.child=$o(c,null,f,_)):ir(o,c,f,_),c.memoizedState=x.state,o=c.child):o=Fs(o,c,_),o}function eT(o,c,f,p){return Lo(),c.flags|=256,ir(o,c,f,p),c.child}var Ly={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fy(o){return{baseLanes:o,cachePool:$E()}}function Uy(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Qr),o}function tT(o,c,f){var p=c.pendingProps,_=!1,x=(c.flags&128)!==0,R;if((R=x)||(R=o!==null&&o.memoizedState===null?!1:(wn.current&2)!==0),R&&(_=!0,c.flags&=-129),R=(c.flags&32)!==0,c.flags&=-33,o===null){if(vt){if(_?Ra(c):Da(),(o=en)?(o=cA(o,wi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:wa!==null?{id:ss,overflow:as}:null,retryLane:536870912,hydrationErrors:null},f=IE(o),f.return=c,c.child=f,nr=c,en=null)):o=null,o===null)throw xa(c);return wb(o)?c.lanes=32:c.lanes=536870912,null}var I=p.children;return p=p.fallback,_?(Da(),_=c.mode,I=jh({mode:"hidden",children:I},_),p=jo(p,_,f,null),I.return=c,p.return=c,I.sibling=p,c.child=I,p=c.child,p.memoizedState=Fy(f),p.childLanes=Uy(o,R,f),c.memoizedState=Ly,rd(null,p)):(Ra(c),zy(c,I))}var H=o.memoizedState;if(H!==null&&(I=H.dehydrated,I!==null)){if(x)c.flags&256?(Ra(c),c.flags&=-257,c=Hy(o,c,f)):c.memoizedState!==null?(Da(),c.child=o.child,c.flags|=128,c=null):(Da(),I=p.fallback,_=c.mode,p=jh({mode:"visible",children:p.children},_),I=jo(I,_,f,null),I.flags|=2,p.return=c,I.return=c,p.sibling=I,c.child=p,$o(c,o.child,null,f),p=c.child,p.memoizedState=Fy(f),p.childLanes=Uy(o,R,f),c.memoizedState=Ly,c=rd(null,p));else if(Ra(c),wb(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var ie=R.dgst;R=ie,p=Error(r(419)),p.stack="",p.digest=R,qu({value:p,source:null,stack:null}),c=Hy(o,c,f)}else if(Dn||sc(o,c,f,!1),R=(f&o.childLanes)!==0,Dn||R){if(R=qt,R!==null&&(p=on(R,f),p!==0&&p!==H.retryLane))throw H.retryLane=p,Po(o,p),Nr(R,o,p),Py;_b(I)||qh(),c=Hy(o,c,f)}else _b(I)?(c.flags|=192,c.child=o.child,c=null):(o=H.treeContext,en=xi(I.nextSibling),nr=c,vt=!0,Sa=null,wi=!1,o!==null&&LE(c,o),c=zy(c,p.children),c.flags|=4096);return c}return _?(Da(),I=p.fallback,_=c.mode,H=o.child,ie=H.sibling,p=ks(H,{mode:"hidden",children:p.children}),p.subtreeFlags=H.subtreeFlags&65011712,ie!==null?I=ks(ie,I):(I=jo(I,_,f,null),I.flags|=2),I.return=c,p.return=c,p.sibling=I,c.child=p,rd(null,p),p=c.child,I=o.child.memoizedState,I===null?I=Fy(f):(_=I.cachePool,_!==null?(H=An._currentValue,_=_.parent!==H?{parent:H,pool:H}:_):_=$E(),I={baseLanes:I.baseLanes|f,cachePool:_}),p.memoizedState=I,p.childLanes=Uy(o,R,f),c.memoizedState=Ly,rd(o.child,p)):(Ra(c),f=o.child,o=f.sibling,f=ks(f,{mode:"visible",children:p.children}),f.return=c,f.sibling=null,o!==null&&(R=c.deletions,R===null?(c.deletions=[o],c.flags|=16):R.push(o)),c.child=f,c.memoizedState=null,f)}function zy(o,c){return c=jh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function jh(o,c){return o=Wr(22,o,null,c),o.lanes=0,o}function Hy(o,c,f){return $o(c,o.child,null,f),o=zy(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function nT(o,c,f){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c),ny(o.return,c,f)}function By(o,c,f,p,_,x){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:_,treeForkCount:x}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=p,R.tail=f,R.tailMode=_,R.treeForkCount=x)}function rT(o,c,f){var p=c.pendingProps,_=p.revealOrder,x=p.tail;p=p.children;var R=wn.current,I=(R&2)!==0;if(I?(R=R&1|2,c.flags|=128):R&=1,V(wn,R),ir(o,c,p,f),p=vt?Vu:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&nT(o,f,c);else if(o.tag===19)nT(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(_){case"forwards":for(f=c.child,_=null;f!==null;)o=f.alternate,o!==null&&Eh(o)===null&&(_=f),f=f.sibling;f=_,f===null?(_=c.child,c.child=null):(_=f.sibling,f.sibling=null),By(c,!1,_,f,x,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,_=c.child,c.child=null;_!==null;){if(o=_.alternate,o!==null&&Eh(o)===null){c.child=_;break}o=_.sibling,_.sibling=f,f=_,_=o}By(c,!0,f,null,x,p);break;case"together":By(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function Fs(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),ka|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(sc(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,f=ks(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=ks(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function $y(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&mh(o)))}function Oz(o,c,f){switch(c.tag){case 3:pe(c,c.stateNode.containerInfo),Ea(c,An,o.memoizedState.cache),Lo();break;case 27:case 5:Te(c);break;case 4:pe(c,c.stateNode.containerInfo);break;case 10:Ea(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,gy(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Ra(c),c.flags|=128,null):(f&c.child.childLanes)!==0?tT(o,c,f):(Ra(c),o=Fs(o,c,f),o!==null?o.sibling:null);Ra(c);break;case 19:var _=(o.flags&128)!==0;if(p=(f&c.childLanes)!==0,p||(sc(o,c,f,!1),p=(f&c.childLanes)!==0),_){if(p)return rT(o,c,f);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),V(wn,wn.current),p)break;return null;case 22:return c.lanes=0,KC(o,c,f,c.pendingProps);case 24:Ea(c,An,o.memoizedState.cache)}return Fs(o,c,f)}function iT(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)Dn=!0;else{if(!$y(o,f)&&(c.flags&128)===0)return Dn=!1,Oz(o,c,f);Dn=(o.flags&131072)!==0}else Dn=!1,vt&&(c.flags&1048576)!==0&&jE(c,Vu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(o=Ho(c.elementType),c.type=o,typeof o=="function")Yv(o)?(p=qo(o,p),c.tag=1,c=JC(null,c,o,p,f)):(c.tag=0,c=jy(null,c,o,p,f));else{if(o!=null){var _=o.$$typeof;if(_===M){c.tag=11,c=WC(null,c,o,p,f);break e}else if(_===N){c.tag=14,c=GC(null,c,o,p,f);break e}}throw c=de(o)||o,Error(r(306,c,""))}}return c;case 0:return jy(o,c,c.type,c.pendingProps,f);case 1:return p=c.type,_=qo(p,c.pendingProps),JC(o,c,p,_,f);case 3:e:{if(pe(c,c.stateNode.containerInfo),o===null)throw Error(r(387));p=c.pendingProps;var x=c.memoizedState;_=x.element,cy(o,c),Zu(c,p,null,f);var R=c.memoizedState;if(p=R.cache,Ea(c,An,p),p!==x.cache&&ry(c,[An],f,!0),Xu(),p=R.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:R.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=eT(o,c,p,f);break e}else if(p!==_){_=yi(Error(r(424)),c),qu(_),c=eT(o,c,p,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(en=xi(o.firstChild),nr=c,vt=!0,Sa=null,wi=!0,f=KE(c,null,p,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Lo(),p===_){c=Fs(o,c,f);break e}ir(o,c,p,f)}c=c.child}return c;case 26:return Ph(o,c),o===null?(f=pA(c.type,null,c.pendingProps,null))?c.memoizedState=f:vt||(f=c.type,o=c.pendingProps,p=Zh(me.current).createElement(f),p[tr]=c,p[Ar]=o,sr(p,f,o),Wn(p),c.stateNode=p):c.memoizedState=pA(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Te(c),o===null&&vt&&(p=c.stateNode=fA(c.type,c.pendingProps,me.current),nr=c,wi=!0,_=en,La(c.type)?(Sb=_,en=xi(p.firstChild)):en=_),ir(o,c,c.pendingProps.children,f),Ph(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&vt&&((_=p=en)&&(p=aH(p,c.type,c.pendingProps,wi),p!==null?(c.stateNode=p,nr=c,en=xi(p.firstChild),wi=!1,_=!0):_=!1),_||xa(c)),Te(c),_=c.type,x=c.pendingProps,R=o!==null?o.memoizedProps:null,p=x.children,vb(_,x)?p=null:R!==null&&vb(_,R)&&(c.flags|=32),c.memoizedState!==null&&(_=my(o,c,wz,null,null,f),yd._currentValue=_),Ph(o,c),ir(o,c,p,f),c.child;case 6:return o===null&&vt&&((o=f=en)&&(f=oH(f,c.pendingProps,wi),f!==null?(c.stateNode=f,nr=c,en=null,o=!0):o=!1),o||xa(c)),null;case 13:return tT(o,c,f);case 4:return pe(c,c.stateNode.containerInfo),p=c.pendingProps,o===null?c.child=$o(c,null,p,f):ir(o,c,p,f),c.child;case 11:return WC(o,c,c.type,c.pendingProps,f);case 7:return ir(o,c,c.pendingProps,f),c.child;case 8:return ir(o,c,c.pendingProps.children,f),c.child;case 12:return ir(o,c,c.pendingProps.children,f),c.child;case 10:return p=c.pendingProps,Ea(c,c.type,p.value),ir(o,c,p.children,f),c.child;case 9:return _=c.type._context,p=c.pendingProps.children,Uo(c),_=rr(_),p=p(_),c.flags|=1,ir(o,c,p,f),c.child;case 14:return GC(o,c,c.type,c.pendingProps,f);case 15:return YC(o,c,c.type,c.pendingProps,f);case 19:return rT(o,c,f);case 31:return Dz(o,c,f);case 22:return KC(o,c,f,c.pendingProps);case 24:return Uo(c),p=rr(An),o===null?(_=ay(),_===null&&(_=qt,x=iy(),_.pooledCache=x,x.refCount++,x!==null&&(_.pooledCacheLanes|=f),_=x),c.memoizedState={parent:p,cache:_},ly(c),Ea(c,An,_)):((o.lanes&f)!==0&&(cy(o,c),Zu(c,null,null,f),Xu()),_=o.memoizedState,x=c.memoizedState,_.parent!==p?(_={parent:p,cache:p},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),Ea(c,An,p)):(p=x.cache,Ea(c,An,p),p!==_.cache&&ry(c,[An],f,!0))),ir(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Us(o){o.flags|=4}function Vy(o,c,f,p,_){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(_&335544128)===_)if(o.stateNode.complete)o.flags|=8192;else if(MT())o.flags|=8192;else throw Bo=_h,oy}else o.flags&=-16777217}function sT(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!_A(c))if(MT())o.flags|=8192;else throw Bo=_h,oy}function Lh(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?wt():536870912,o.lanes|=c,vc|=c)}function id(o,c){if(!vt)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function tn(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(c)for(var _=o.child;_!==null;)f|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)f|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=p,o.childLanes=f,c}function Mz(o,c,f){var p=c.pendingProps;switch(Zv(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(c),null;case 1:return tn(c),null;case 3:return f=c.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Ps(An),Ce(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(ic(c)?Us(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ey())),tn(c),null;case 26:var _=c.type,x=c.memoizedState;return o===null?(Us(c),x!==null?(tn(c),sT(c,x)):(tn(c),Vy(c,_,null,p,f))):x?x!==o.memoizedState?(Us(c),tn(c),sT(c,x)):(tn(c),c.flags&=-16777217):(o=o.memoizedProps,o!==p&&Us(c),tn(c),Vy(c,_,o,p,f)),null;case 27:if(Le(c),f=me.current,_=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&Us(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return tn(c),null}o=J.current,ic(c)?FE(c):(o=fA(_,p,f),c.stateNode=o,Us(c))}return tn(c),null;case 5:if(Le(c),_=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&Us(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return tn(c),null}if(x=J.current,ic(c))FE(c);else{var R=Zh(me.current);switch(x){case 1:x=R.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:x=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":x=R.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":x=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":x=R.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof p.is=="string"?R.createElement("select",{is:p.is}):R.createElement("select"),p.multiple?x.multiple=!0:p.size&&(x.size=p.size);break;default:x=typeof p.is=="string"?R.createElement(_,{is:p.is}):R.createElement(_)}}x[tr]=c,x[Ar]=p;e:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)x.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break e;for(;R.sibling===null;){if(R.return===null||R.return===c)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=x;e:switch(sr(x,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Us(c)}}return tn(c),Vy(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==p&&Us(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(r(166));if(o=me.current,ic(c)){if(o=c.stateNode,f=c.memoizedProps,p=null,_=nr,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}o[tr]=c,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||tA(o.nodeValue,f)),o||xa(c,!0)}else o=Zh(o).createTextNode(p),o[tr]=c,c.stateNode=o}return tn(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(p=ic(c),f!==null){if(o===null){if(!p)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[tr]=c}else Lo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;tn(c),o=!1}else f=ey(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Yr(c),c):(Yr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return tn(c),null;case 13:if(p=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=ic(c),p!==null&&p.dehydrated!==null){if(o===null){if(!_)throw Error(r(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[tr]=c}else Lo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;tn(c),_=!1}else _=ey(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(Yr(c),c):(Yr(c),null)}return Yr(c),(c.flags&128)!==0?(c.lanes=f,c):(f=p!==null,o=o!==null&&o.memoizedState!==null,f&&(p=c.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),x=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),x!==_&&(p.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),Lh(c,c.updateQueue),tn(c),null);case 4:return Ce(),o===null&&fb(c.stateNode.containerInfo),tn(c),null;case 10:return Ps(c.type),tn(c),null;case 19:if(te(wn),p=c.memoizedState,p===null)return tn(c),null;if(_=(c.flags&128)!==0,x=p.rendering,x===null)if(_)id(p,!1);else{if(yn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(x=Eh(o),x!==null){for(c.flags|=128,id(p,!1),o=x.updateQueue,c.updateQueue=o,Lh(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)NE(f,o),f=f.sibling;return V(wn,wn.current&1|2),vt&&Ns(c,p.treeForkCount),c.child}o=o.sibling}p.tail!==null&&se()>Bh&&(c.flags|=128,_=!0,id(p,!1),c.lanes=4194304)}else{if(!_)if(o=Eh(x),o!==null){if(c.flags|=128,_=!0,o=o.updateQueue,c.updateQueue=o,Lh(c,o),id(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!vt)return tn(c),null}else 2*se()-p.renderingStartTime>Bh&&f!==536870912&&(c.flags|=128,_=!0,id(p,!1),c.lanes=4194304);p.isBackwards?(x.sibling=c.child,c.child=x):(o=p.last,o!==null?o.sibling=x:c.child=x,p.last=x)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=se(),o.sibling=null,f=wn.current,V(wn,_?f&1|2:f&1),vt&&Ns(c,p.treeForkCount),o):(tn(c),null);case 22:case 23:return Yr(c),hy(),p=c.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(f&536870912)!==0&&(c.flags&128)===0&&(tn(c),c.subtreeFlags&6&&(c.flags|=8192)):tn(c),f=c.updateQueue,f!==null&&Lh(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048),o!==null&&te(zo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Ps(An),tn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function kz(o,c){switch(Zv(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ps(An),Ce(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Le(c),null;case 31:if(c.memoizedState!==null){if(Yr(c),c.alternate===null)throw Error(r(340));Lo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Yr(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Lo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return te(wn),null;case 4:return Ce(),null;case 10:return Ps(c.type),null;case 22:case 23:return Yr(c),hy(),o!==null&&te(zo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ps(An),null;case 25:return null;default:return null}}function aT(o,c){switch(Zv(c),c.tag){case 3:Ps(An),Ce();break;case 26:case 27:case 5:Le(c);break;case 4:Ce();break;case 31:c.memoizedState!==null&&Yr(c);break;case 13:Yr(c);break;case 19:te(wn);break;case 10:Ps(c.type);break;case 22:case 23:Yr(c),hy(),o!==null&&te(zo);break;case 24:Ps(An)}}function sd(o,c){try{var f=c.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var _=p.next;f=_;do{if((f.tag&o)===o){p=void 0;var x=f.create,R=f.inst;p=x(),R.destroy=p}f=f.next}while(f!==_)}}catch(I){It(c,c.return,I)}}function Oa(o,c,f){try{var p=c.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var x=_.next;p=x;do{if((p.tag&o)===o){var R=p.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,_=c;var H=f,ie=I;try{ie()}catch(he){It(_,H,he)}}}p=p.next}while(p!==x)}}catch(he){It(c,c.return,he)}}function oT(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{XE(c,f)}catch(p){It(o,o.return,p)}}}function lT(o,c,f){f.props=qo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){It(o,c,p)}}function ad(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(_){It(o,c,_)}}function os(o,c){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(_){It(o,c,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(_){It(o,c,_)}else f.current=null}function cT(o){var c=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(_){It(o,o.return,_)}}function qy(o,c,f){try{var p=o.stateNode;eH(p,o.type,f,c),p[Ar]=c}catch(_){It(o,o.return,_)}}function uT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&La(o.type)||o.tag===4}function Wy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||uT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&La(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Gy(o,c,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Os));else if(p!==4&&(p===27&&La(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(Gy(o,c,f),o=o.sibling;o!==null;)Gy(o,c,f),o=o.sibling}function Fh(o,c,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(p!==4&&(p===27&&La(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Fh(o,c,f),o=o.sibling;o!==null;)Fh(o,c,f),o=o.sibling}function dT(o){var c=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);sr(c,p,f),c[tr]=o,c[Ar]=f}catch(x){It(o,o.return,x)}}var zs=!1,On=!1,Yy=!1,fT=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function Nz(o,c){if(o=o.containerInfo,pb=sg,o=EE(o),Hv(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var _=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{f.nodeType,x.nodeType}catch{f=null;break e}var R=0,I=-1,H=-1,ie=0,he=0,be=o,ae=null;t:for(;;){for(var ce;be!==f||_!==0&&be.nodeType!==3||(I=R+_),be!==x||p!==0&&be.nodeType!==3||(H=R+p),be.nodeType===3&&(R+=be.nodeValue.length),(ce=be.firstChild)!==null;)ae=be,be=ce;for(;;){if(be===o)break t;if(ae===f&&++ie===_&&(I=R),ae===x&&++he===p&&(H=R),(ce=be.nextSibling)!==null)break;be=ae,ae=be.parentNode}be=ce}f=I===-1||H===-1?null:{start:I,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(mb={focusedElem:o,selectionRange:f},sg=!1,Gn=c;Gn!==null;)if(c=Gn,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Gn=o;else for(;Gn!==null;){switch(c=Gn,x=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)_=o[f],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&x!==null){o=void 0,f=c,_=x.memoizedProps,x=x.memoizedState,p=f.stateNode;try{var Ae=qo(f.type,_);o=p.getSnapshotBeforeUpdate(Ae,x),p.__reactInternalSnapshotBeforeUpdate=o}catch(Be){It(f,f.return,Be)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)bb(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":bb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Gn=o;break}Gn=c.return}}function hT(o,c,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Bs(o,f),p&4&&sd(5,f);break;case 1:if(Bs(o,f),p&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(R){It(f,f.return,R)}else{var _=qo(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(_,c,o.__reactInternalSnapshotBeforeUpdate)}catch(R){It(f,f.return,R)}}p&64&&oT(f),p&512&&ad(f,f.return);break;case 3:if(Bs(o,f),p&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{XE(o,c)}catch(R){It(f,f.return,R)}}break;case 27:c===null&&p&4&&dT(f);case 26:case 5:Bs(o,f),c===null&&p&4&&cT(f),p&512&&ad(f,f.return);break;case 12:Bs(o,f);break;case 31:Bs(o,f),p&4&&mT(o,f);break;case 13:Bs(o,f),p&4&&vT(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=Bz.bind(null,f),lH(o,f))));break;case 22:if(p=f.memoizedState!==null||zs,!p){c=c!==null&&c.memoizedState!==null||On,_=zs;var x=On;zs=p,(On=c)&&!x?$s(o,f,(f.subtreeFlags&8772)!==0):Bs(o,f),zs=_,On=x}break;case 30:break;default:Bs(o,f)}}function gT(o){var c=o.alternate;c!==null&&(o.alternate=null,gT(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Ev(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ln=null,Dr=!1;function Hs(o,c,f){for(f=f.child;f!==null;)pT(o,c,f),f=f.sibling}function pT(o,c,f){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(lt,f)}catch{}switch(f.tag){case 26:On||os(f,c),Hs(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:On||os(f,c);var p=ln,_=Dr;La(f.type)&&(ln=f.stateNode,Dr=!1),Hs(o,c,f),pd(f.stateNode),ln=p,Dr=_;break;case 5:On||os(f,c);case 6:if(p=ln,_=Dr,ln=null,Hs(o,c,f),ln=p,Dr=_,ln!==null)if(Dr)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(f.stateNode)}catch(x){It(f,c,x)}else try{ln.removeChild(f.stateNode)}catch(x){It(f,c,x)}break;case 18:ln!==null&&(Dr?(o=ln,oA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Cc(o)):oA(ln,f.stateNode));break;case 4:p=ln,_=Dr,ln=f.stateNode.containerInfo,Dr=!0,Hs(o,c,f),ln=p,Dr=_;break;case 0:case 11:case 14:case 15:Oa(2,f,c),On||Oa(4,f,c),Hs(o,c,f);break;case 1:On||(os(f,c),p=f.stateNode,typeof p.componentWillUnmount=="function"&&lT(f,c,p)),Hs(o,c,f);break;case 21:Hs(o,c,f);break;case 22:On=(p=On)||f.memoizedState!==null,Hs(o,c,f),On=p;break;default:Hs(o,c,f)}}function mT(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Cc(o)}catch(f){It(c,c.return,f)}}}function vT(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Cc(o)}catch(f){It(c,c.return,f)}}function Iz(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new fT),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new fT),c;default:throw Error(r(435,o.tag))}}function Uh(o,c){var f=Iz(o);c.forEach(function(p){if(!f.has(p)){f.add(p);var _=$z.bind(null,o,p);p.then(_,_)}})}function Or(o,c){var f=c.deletions;if(f!==null)for(var p=0;p<f.length;p++){var _=f[p],x=o,R=c,I=R;e:for(;I!==null;){switch(I.tag){case 27:if(La(I.type)){ln=I.stateNode,Dr=!1;break e}break;case 5:ln=I.stateNode,Dr=!1;break e;case 3:case 4:ln=I.stateNode.containerInfo,Dr=!0;break e}I=I.return}if(ln===null)throw Error(r(160));pT(x,R,_),ln=null,Dr=!1,x=_.alternate,x!==null&&(x.return=null),_.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)yT(c,o),c=c.sibling}var Fi=null;function yT(o,c){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Or(c,o),Mr(o),p&4&&(Oa(3,o,o.return),sd(3,o),Oa(5,o,o.return));break;case 1:Or(c,o),Mr(o),p&512&&(On||f===null||os(f,f.return)),p&64&&zs&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var _=Fi;if(Or(c,o),Mr(o),p&512&&(On||f===null||os(f,f.return)),p&4){var x=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":x=_.getElementsByTagName("title")[0],(!x||x[Nu]||x[tr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=_.createElement(p),_.head.insertBefore(x,_.querySelector("head > title"))),sr(x,p,f),x[tr]=o,Wn(x),p=x;break e;case"link":var R=yA("link","href",_).get(p+(f.href||""));if(R){for(var I=0;I<R.length;I++)if(x=R[I],x.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&x.getAttribute("rel")===(f.rel==null?null:f.rel)&&x.getAttribute("title")===(f.title==null?null:f.title)&&x.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){R.splice(I,1);break t}}x=_.createElement(p),sr(x,p,f),_.head.appendChild(x);break;case"meta":if(R=yA("meta","content",_).get(p+(f.content||""))){for(I=0;I<R.length;I++)if(x=R[I],x.getAttribute("content")===(f.content==null?null:""+f.content)&&x.getAttribute("name")===(f.name==null?null:f.name)&&x.getAttribute("property")===(f.property==null?null:f.property)&&x.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&x.getAttribute("charset")===(f.charSet==null?null:f.charSet)){R.splice(I,1);break t}}x=_.createElement(p),sr(x,p,f),_.head.appendChild(x);break;default:throw Error(r(468,p))}x[tr]=o,Wn(x),p=x}o.stateNode=p}else bA(_,o.type,o.stateNode);else o.stateNode=vA(_,p,o.memoizedProps);else x!==p?(x===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):x.count--,p===null?bA(_,o.type,o.stateNode):vA(_,p,o.memoizedProps)):p===null&&o.stateNode!==null&&qy(o,o.memoizedProps,f.memoizedProps)}break;case 27:Or(c,o),Mr(o),p&512&&(On||f===null||os(f,f.return)),f!==null&&p&4&&qy(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Or(c,o),Mr(o),p&512&&(On||f===null||os(f,f.return)),o.flags&32){_=o.stateNode;try{Yl(_,"")}catch(Ae){It(o,o.return,Ae)}}p&4&&o.stateNode!=null&&(_=o.memoizedProps,qy(o,_,f!==null?f.memoizedProps:_)),p&1024&&(Yy=!0);break;case 6:if(Or(c,o),Mr(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(Ae){It(o,o.return,Ae)}}break;case 3:if(tg=null,_=Fi,Fi=Jh(c.containerInfo),Or(c,o),Fi=_,Mr(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{Cc(c.containerInfo)}catch(Ae){It(o,o.return,Ae)}Yy&&(Yy=!1,bT(o));break;case 4:p=Fi,Fi=Jh(o.stateNode.containerInfo),Or(c,o),Mr(o),Fi=p;break;case 12:Or(c,o),Mr(o);break;case 31:Or(c,o),Mr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Uh(o,p)));break;case 13:Or(c,o),Mr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Hh=se()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Uh(o,p)));break;case 22:_=o.memoizedState!==null;var H=f!==null&&f.memoizedState!==null,ie=zs,he=On;if(zs=ie||_,On=he||H,Or(c,o),On=he,zs=ie,Mr(o),p&8192)e:for(c=o.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(f===null||H||zs||On||Wo(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){H=f=c;try{if(x=H.stateNode,_)R=x.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=H.stateNode;var be=H.memoizedProps.style,ae=be!=null&&be.hasOwnProperty("display")?be.display:null;I.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Ae){It(H,H.return,Ae)}}}else if(c.tag===6){if(f===null){H=c;try{H.stateNode.nodeValue=_?"":H.memoizedProps}catch(Ae){It(H,H.return,Ae)}}}else if(c.tag===18){if(f===null){H=c;try{var ce=H.stateNode;_?lA(ce,!0):lA(H.stateNode,!1)}catch(Ae){It(H,H.return,Ae)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,Uh(o,f))));break;case 19:Or(c,o),Mr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Uh(o,p)));break;case 30:break;case 21:break;default:Or(c,o),Mr(o)}}function Mr(o){var c=o.flags;if(c&2){try{for(var f,p=o.return;p!==null;){if(uT(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var _=f.stateNode,x=Wy(o);Fh(o,x,_);break;case 5:var R=f.stateNode;f.flags&32&&(Yl(R,""),f.flags&=-33);var I=Wy(o);Fh(o,I,R);break;case 3:case 4:var H=f.stateNode.containerInfo,ie=Wy(o);Gy(o,ie,H);break;default:throw Error(r(161))}}catch(he){It(o,o.return,he)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function bT(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;bT(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Bs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)hT(o,c.alternate,c),c=c.sibling}function Wo(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Oa(4,c,c.return),Wo(c);break;case 1:os(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&lT(c,c.return,f),Wo(c);break;case 27:pd(c.stateNode);case 26:case 5:os(c,c.return),Wo(c);break;case 22:c.memoizedState===null&&Wo(c);break;case 30:Wo(c);break;default:Wo(c)}o=o.sibling}}function $s(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,_=o,x=c,R=x.flags;switch(x.tag){case 0:case 11:case 15:$s(_,x,f),sd(4,x);break;case 1:if($s(_,x,f),p=x,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ie){It(p,p.return,ie)}if(p=x,_=p.updateQueue,_!==null){var I=p.stateNode;try{var H=_.shared.hiddenCallbacks;if(H!==null)for(_.shared.hiddenCallbacks=null,_=0;_<H.length;_++)QE(H[_],I)}catch(ie){It(p,p.return,ie)}}f&&R&64&&oT(x),ad(x,x.return);break;case 27:dT(x);case 26:case 5:$s(_,x,f),f&&p===null&&R&4&&cT(x),ad(x,x.return);break;case 12:$s(_,x,f);break;case 31:$s(_,x,f),f&&R&4&&mT(_,x);break;case 13:$s(_,x,f),f&&R&4&&vT(_,x);break;case 22:x.memoizedState===null&&$s(_,x,f),ad(x,x.return);break;case 30:break;default:$s(_,x,f)}c=c.sibling}}function Ky(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Wu(f))}function Qy(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wu(o))}function Ui(o,c,f,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)_T(o,c,f,p),c=c.sibling}function _T(o,c,f,p){var _=c.flags;switch(c.tag){case 0:case 11:case 15:Ui(o,c,f,p),_&2048&&sd(9,c);break;case 1:Ui(o,c,f,p);break;case 3:Ui(o,c,f,p),_&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wu(o)));break;case 12:if(_&2048){Ui(o,c,f,p),o=c.stateNode;try{var x=c.memoizedProps,R=x.id,I=x.onPostCommit;typeof I=="function"&&I(R,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(H){It(c,c.return,H)}}else Ui(o,c,f,p);break;case 31:Ui(o,c,f,p);break;case 13:Ui(o,c,f,p);break;case 23:break;case 22:x=c.stateNode,R=c.alternate,c.memoizedState!==null?x._visibility&2?Ui(o,c,f,p):od(o,c):x._visibility&2?Ui(o,c,f,p):(x._visibility|=2,gc(o,c,f,p,(c.subtreeFlags&10256)!==0||!1)),_&2048&&Ky(R,c);break;case 24:Ui(o,c,f,p),_&2048&&Qy(c.alternate,c);break;default:Ui(o,c,f,p)}}function gc(o,c,f,p,_){for(_=_&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=o,R=c,I=f,H=p,ie=R.flags;switch(R.tag){case 0:case 11:case 15:gc(x,R,I,H,_),sd(8,R);break;case 23:break;case 22:var he=R.stateNode;R.memoizedState!==null?he._visibility&2?gc(x,R,I,H,_):od(x,R):(he._visibility|=2,gc(x,R,I,H,_)),_&&ie&2048&&Ky(R.alternate,R);break;case 24:gc(x,R,I,H,_),_&&ie&2048&&Qy(R.alternate,R);break;default:gc(x,R,I,H,_)}c=c.sibling}}function od(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,p=c,_=p.flags;switch(p.tag){case 22:od(f,p),_&2048&&Ky(p.alternate,p);break;case 24:od(f,p),_&2048&&Qy(p.alternate,p);break;default:od(f,p)}c=c.sibling}}var ld=8192;function pc(o,c,f){if(o.subtreeFlags&ld)for(o=o.child;o!==null;)wT(o,c,f),o=o.sibling}function wT(o,c,f){switch(o.tag){case 26:pc(o,c,f),o.flags&ld&&o.memoizedState!==null&&_H(f,Fi,o.memoizedState,o.memoizedProps);break;case 5:pc(o,c,f);break;case 3:case 4:var p=Fi;Fi=Jh(o.stateNode.containerInfo),pc(o,c,f),Fi=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=ld,ld=16777216,pc(o,c,f),ld=p):pc(o,c,f));break;default:pc(o,c,f)}}function ST(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function cd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];Gn=p,ET(p,o)}ST(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)xT(o),o=o.sibling}function xT(o){switch(o.tag){case 0:case 11:case 15:cd(o),o.flags&2048&&Oa(9,o,o.return);break;case 3:cd(o);break;case 12:cd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,zh(o)):cd(o);break;default:cd(o)}}function zh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];Gn=p,ET(p,o)}ST(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Oa(8,c,c.return),zh(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,zh(c));break;default:zh(c)}o=o.sibling}}function ET(o,c){for(;Gn!==null;){var f=Gn;switch(f.tag){case 0:case 11:case 15:Oa(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Wu(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Gn=p;else e:for(f=o;Gn!==null;){p=Gn;var _=p.sibling,x=p.return;if(gT(p),p===f){Gn=null;break e}if(_!==null){_.return=x,Gn=_;break e}Gn=x}}}var Pz={getCacheForType:function(o){var c=rr(An),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return rr(An).controller.signal}},jz=typeof WeakMap=="function"?WeakMap:Map,Ot=0,qt=null,ut=null,ft=0,Nt=0,Kr=null,Ma=!1,mc=!1,Xy=!1,Vs=0,yn=0,ka=0,Go=0,Zy=0,Qr=0,vc=0,ud=null,kr=null,Jy=!1,Hh=0,CT=0,Bh=1/0,$h=null,Na=null,Pn=0,Ia=null,yc=null,qs=0,eb=0,tb=null,TT=null,dd=0,nb=null;function Xr(){return(Ot&2)!==0&&ft!==0?ft&-ft:P.T!==null?lb():hi()}function AT(){if(Qr===0)if((ft&536870912)===0||vt){var o=br;br<<=1,(br&3932160)===0&&(br=262144),Qr=o}else Qr=536870912;return o=Gr.current,o!==null&&(o.flags|=32),Qr}function Nr(o,c,f){(o===qt&&(Nt===2||Nt===9)||o.cancelPendingCommit!==null)&&(bc(o,0),Pa(o,ft,Qr,!1)),St(o,f),((Ot&2)===0||o!==qt)&&(o===qt&&((Ot&2)===0&&(Go|=f),yn===4&&Pa(o,ft,Qr,!1)),ls(o))}function RT(o,c,f){if((Ot&6)!==0)throw Error(r(327));var p=!f&&(c&127)===0&&(c&o.expiredLanes)===0||Ge(o,c),_=p?Uz(o,c):ib(o,c,!0),x=p;do{if(_===0){mc&&!p&&Pa(o,c,0,!1);break}else{if(f=o.current.alternate,x&&!Lz(f)){_=ib(o,c,!1),x=!1;continue}if(_===2){if(x=c,o.errorRecoveryDisabledLanes&x)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){c=R;e:{var I=o;_=ud;var H=I.current.memoizedState.isDehydrated;if(H&&(bc(I,R).flags|=256),R=ib(I,R,!1),R!==2){if(Xy&&!H){I.errorRecoveryDisabledLanes|=x,Go|=x,_=4;break e}x=kr,kr=_,x!==null&&(kr===null?kr=x:kr.push.apply(kr,x))}_=R}if(x=!1,_!==2)continue}}if(_===1){bc(o,0),Pa(o,c,0,!0);break}e:{switch(p=o,x=_,x){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Pa(p,c,Qr,!Ma);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(_=Hh+300-se(),10<_)){if(Pa(p,c,Qr,!Ma),Ee(p,0,!0)!==0)break e;qs=c,p.timeoutHandle=sA(DT.bind(null,p,f,kr,$h,Jy,c,Qr,Go,vc,Ma,x,"Throttled",-0,0),_);break e}DT(p,f,kr,$h,Jy,c,Qr,Go,vc,Ma,x,null,-0,0)}}break}while(!0);ls(o)}function DT(o,c,f,p,_,x,R,I,H,ie,he,be,ae,ce){if(o.timeoutHandle=-1,be=c.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Os},wT(c,x,be);var Ae=(x&62914560)===x?Hh-se():(x&4194048)===x?CT-se():0;if(Ae=wH(be,Ae),Ae!==null){qs=x,o.cancelPendingCommit=Ae(LT.bind(null,o,c,x,f,p,_,R,I,H,he,be,null,ae,ce)),Pa(o,x,R,!ie);return}}LT(o,c,x,f,p,_,R,I,H)}function Lz(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var _=f[p],x=_.getSnapshot;_=_.value;try{if(!qr(x(),_))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Pa(o,c,f,p){c&=~Zy,c&=~Go,o.suspendedLanes|=c,o.pingedLanes&=~c,p&&(o.warmLanes|=c),p=o.expirationTimes;for(var _=c;0<_;){var x=31-We(_),R=1<<x;p[x]=-1,_&=~R}f!==0&&Tn(o,f,c)}function Vh(){return(Ot&6)===0?(fd(0),!1):!0}function rb(){if(ut!==null){if(Nt===0)var o=ut.return;else o=ut,Is=Fo=null,by(o),cc=null,Yu=0,o=ut;for(;o!==null;)aT(o.alternate,o),o=o.return;ut=null}}function bc(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,rH(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),qs=0,rb(),qt=o,ut=f=ks(o.current,null),ft=c,Nt=0,Kr=null,Ma=!1,mc=Ge(o,c),Xy=!1,vc=Qr=Zy=Go=ka=yn=0,kr=ud=null,Jy=!1,(c&8)!==0&&(c|=c&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=c;0<p;){var _=31-We(p),x=1<<_;c|=o[_],p&=~x}return Vs=c,dh(),f}function OT(o,c){Xe=null,P.H=nd,c===lc||c===bh?(c=WE(),Nt=3):c===oy?(c=WE(),Nt=4):Nt=c===Py?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Kr=c,ut===null&&(yn=1,Nh(o,yi(c,o.current)))}function MT(){var o=Gr.current;return o===null?!0:(ft&4194048)===ft?Si===null:(ft&62914560)===ft||(ft&536870912)!==0?o===Si:!1}function kT(){var o=P.H;return P.H=nd,o===null?nd:o}function NT(){var o=P.A;return P.A=Pz,o}function qh(){yn=4,Ma||(ft&4194048)!==ft&&Gr.current!==null||(mc=!0),(ka&134217727)===0&&(Go&134217727)===0||qt===null||Pa(qt,ft,Qr,!1)}function ib(o,c,f){var p=Ot;Ot|=2;var _=kT(),x=NT();(qt!==o||ft!==c)&&($h=null,bc(o,c)),c=!1;var R=yn;e:do try{if(Nt!==0&&ut!==null){var I=ut,H=Kr;switch(Nt){case 8:rb(),R=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(c=!0);var ie=Nt;if(Nt=0,Kr=null,_c(o,I,H,ie),f&&mc){R=0;break e}break;default:ie=Nt,Nt=0,Kr=null,_c(o,I,H,ie)}}Fz(),R=yn;break}catch(he){OT(o,he)}while(!0);return c&&o.shellSuspendCounter++,Is=Fo=null,Ot=p,P.H=_,P.A=x,ut===null&&(qt=null,ft=0,dh()),R}function Fz(){for(;ut!==null;)IT(ut)}function Uz(o,c){var f=Ot;Ot|=2;var p=kT(),_=NT();qt!==o||ft!==c?($h=null,Bh=se()+500,bc(o,c)):mc=Ge(o,c);e:do try{if(Nt!==0&&ut!==null){c=ut;var x=Kr;t:switch(Nt){case 1:Nt=0,Kr=null,_c(o,c,x,1);break;case 2:case 9:if(VE(x)){Nt=0,Kr=null,PT(c);break}c=function(){Nt!==2&&Nt!==9||qt!==o||(Nt=7),ls(o)},x.then(c,c);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:VE(x)?(Nt=0,Kr=null,PT(c)):(Nt=0,Kr=null,_c(o,c,x,7));break;case 5:var R=null;switch(ut.tag){case 26:R=ut.memoizedState;case 5:case 27:var I=ut;if(R?_A(R):I.stateNode.complete){Nt=0,Kr=null;var H=I.sibling;if(H!==null)ut=H;else{var ie=I.return;ie!==null?(ut=ie,Wh(ie)):ut=null}break t}}Nt=0,Kr=null,_c(o,c,x,5);break;case 6:Nt=0,Kr=null,_c(o,c,x,6);break;case 8:rb(),yn=6;break e;default:throw Error(r(462))}}zz();break}catch(he){OT(o,he)}while(!0);return Is=Fo=null,P.H=p,P.A=_,Ot=f,ut!==null?0:(qt=null,ft=0,dh(),yn)}function zz(){for(;ut!==null&&!ee();)IT(ut)}function IT(o){var c=iT(o.alternate,o,Vs);o.memoizedProps=o.pendingProps,c===null?Wh(o):ut=c}function PT(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=ZC(f,c,c.pendingProps,c.type,void 0,ft);break;case 11:c=ZC(f,c,c.pendingProps,c.type.render,c.ref,ft);break;case 5:by(c);default:aT(f,c),c=ut=NE(c,Vs),c=iT(f,c,Vs)}o.memoizedProps=o.pendingProps,c===null?Wh(o):ut=c}function _c(o,c,f,p){Is=Fo=null,by(c),cc=null,Yu=0;var _=c.return;try{if(Rz(o,_,c,f,ft)){yn=1,Nh(o,yi(f,o.current)),ut=null;return}}catch(x){if(_!==null)throw ut=_,x;yn=1,Nh(o,yi(f,o.current)),ut=null;return}c.flags&32768?(vt||p===1?o=!0:mc||(ft&536870912)!==0?o=!1:(Ma=o=!0,(p===2||p===9||p===3||p===6)&&(p=Gr.current,p!==null&&p.tag===13&&(p.flags|=16384))),jT(c,o)):Wh(c)}function Wh(o){var c=o;do{if((c.flags&32768)!==0){jT(c,Ma);return}o=c.return;var f=Mz(c.alternate,c,Vs);if(f!==null){ut=f;return}if(c=c.sibling,c!==null){ut=c;return}ut=c=o}while(c!==null);yn===0&&(yn=5)}function jT(o,c){do{var f=kz(o.alternate,o);if(f!==null){f.flags&=32767,ut=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){ut=o;return}ut=o=f}while(o!==null);yn=6,ut=null}function LT(o,c,f,p,_,x,R,I,H){o.cancelPendingCommit=null;do Gh();while(Pn!==0);if((Ot&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(x=c.lanes|c.childLanes,x|=Wv,tt(o,f,x,R,I,H),o===qt&&(ut=qt=null,ft=0),yc=c,Ia=o,qs=f,eb=x,tb=_,TT=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Vz(Se,function(){return BT(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=P.T,P.T=null,_=G.p,G.p=2,R=Ot,Ot|=4;try{Nz(o,c,f)}finally{Ot=R,G.p=_,P.T=p}}Pn=1,FT(),UT(),zT()}}function FT(){if(Pn===1){Pn=0;var o=Ia,c=yc,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=P.T,P.T=null;var p=G.p;G.p=2;var _=Ot;Ot|=4;try{yT(c,o);var x=mb,R=EE(o.containerInfo),I=x.focusedElem,H=x.selectionRange;if(R!==I&&I&&I.ownerDocument&&xE(I.ownerDocument.documentElement,I)){if(H!==null&&Hv(I)){var ie=H.start,he=H.end;if(he===void 0&&(he=ie),"selectionStart"in I)I.selectionStart=ie,I.selectionEnd=Math.min(he,I.value.length);else{var be=I.ownerDocument||document,ae=be&&be.defaultView||window;if(ae.getSelection){var ce=ae.getSelection(),Ae=I.textContent.length,Be=Math.min(H.start,Ae),Ht=H.end===void 0?Be:Math.min(H.end,Ae);!ce.extend&&Be>Ht&&(R=Ht,Ht=Be,Be=R);var K=SE(I,Be),$=SE(I,Ht);if(K&&$&&(ce.rangeCount!==1||ce.anchorNode!==K.node||ce.anchorOffset!==K.offset||ce.focusNode!==$.node||ce.focusOffset!==$.offset)){var re=be.createRange();re.setStart(K.node,K.offset),ce.removeAllRanges(),Be>Ht?(ce.addRange(re),ce.extend($.node,$.offset)):(re.setEnd($.node,$.offset),ce.addRange(re))}}}}for(be=[],ce=I;ce=ce.parentNode;)ce.nodeType===1&&be.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<be.length;I++){var ve=be[I];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}sg=!!pb,mb=pb=null}finally{Ot=_,G.p=p,P.T=f}}o.current=c,Pn=2}}function UT(){if(Pn===2){Pn=0;var o=Ia,c=yc,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=P.T,P.T=null;var p=G.p;G.p=2;var _=Ot;Ot|=4;try{hT(o,c.alternate,c)}finally{Ot=_,G.p=p,P.T=f}}Pn=3}}function zT(){if(Pn===4||Pn===3){Pn=0,X();var o=Ia,c=yc,f=qs,p=TT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Pn=5:(Pn=0,yc=Ia=null,HT(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(Na=null),er(f),c=c.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(lt,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=P.T,_=G.p,G.p=2,P.T=null;try{for(var x=o.onRecoverableError,R=0;R<p.length;R++){var I=p[R];x(I.value,{componentStack:I.stack})}}finally{P.T=c,G.p=_}}(qs&3)!==0&&Gh(),ls(o),_=o.pendingLanes,(f&261930)!==0&&(_&42)!==0?o===nb?dd++:(dd=0,nb=o):dd=0,fd(0)}}function HT(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Wu(c)))}function Gh(){return FT(),UT(),zT(),BT()}function BT(){if(Pn!==5)return!1;var o=Ia,c=eb;eb=0;var f=er(qs),p=P.T,_=G.p;try{G.p=32>f?32:f,P.T=null,f=tb,tb=null;var x=Ia,R=qs;if(Pn=0,yc=Ia=null,qs=0,(Ot&6)!==0)throw Error(r(331));var I=Ot;if(Ot|=4,xT(x.current),_T(x,x.current,R,f),Ot=I,fd(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(lt,x)}catch{}return!0}finally{G.p=_,P.T=p,HT(o,c)}}function $T(o,c,f){c=yi(f,c),c=Iy(o.stateNode,c,2),o=Aa(o,c,2),o!==null&&(St(o,2),ls(o))}function It(o,c,f){if(o.tag===3)$T(o,o,f);else for(;c!==null;){if(c.tag===3){$T(c,o,f);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Na===null||!Na.has(p))){o=yi(f,o),f=VC(2),p=Aa(c,f,2),p!==null&&(qC(f,p,c,o),St(p,2),ls(p));break}}c=c.return}}function sb(o,c,f){var p=o.pingCache;if(p===null){p=o.pingCache=new jz;var _=new Set;p.set(c,_)}else _=p.get(c),_===void 0&&(_=new Set,p.set(c,_));_.has(f)||(Xy=!0,_.add(f),o=Hz.bind(null,o,c,f),c.then(o,o))}function Hz(o,c,f){var p=o.pingCache;p!==null&&p.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,qt===o&&(ft&f)===f&&(yn===4||yn===3&&(ft&62914560)===ft&&300>se()-Hh?(Ot&2)===0&&bc(o,0):Zy|=f,vc===ft&&(vc=0)),ls(o)}function VT(o,c){c===0&&(c=wt()),o=Po(o,c),o!==null&&(St(o,c),ls(o))}function Bz(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),VT(o,f)}function $z(o,c){var f=0;switch(o.tag){case 31:case 13:var p=o.stateNode,_=o.memoizedState;_!==null&&(f=_.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(c),VT(o,f)}function Vz(o,c){return L(o,c)}var Yh=null,wc=null,ab=!1,Kh=!1,ob=!1,ja=0;function ls(o){o!==wc&&o.next===null&&(wc===null?Yh=wc=o:wc=wc.next=o),Kh=!0,ab||(ab=!0,Wz())}function fd(o,c){if(!ob&&Kh){ob=!0;do for(var f=!1,p=Yh;p!==null;){if(o!==0){var _=p.pendingLanes;if(_===0)var x=0;else{var R=p.suspendedLanes,I=p.pingedLanes;x=(1<<31-We(42|o)+1)-1,x&=_&~(R&~I),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(f=!0,YT(p,x))}else x=ft,x=Ee(p,p===qt?x:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(x&3)===0||Ge(p,x)||(f=!0,YT(p,x));p=p.next}while(f);ob=!1}}function qz(){qT()}function qT(){Kh=ab=!1;var o=0;ja!==0&&nH()&&(o=ja);for(var c=se(),f=null,p=Yh;p!==null;){var _=p.next,x=WT(p,c);x===0?(p.next=null,f===null?Yh=_:f.next=_,_===null&&(wc=f)):(f=p,(o!==0||(x&3)!==0)&&(Kh=!0)),p=_}Pn!==0&&Pn!==5||fd(o),ja!==0&&(ja=0)}function WT(o,c){for(var f=o.suspendedLanes,p=o.pingedLanes,_=o.expirationTimes,x=o.pendingLanes&-62914561;0<x;){var R=31-We(x),I=1<<R,H=_[R];H===-1?((I&f)===0||(I&p)!==0)&&(_[R]=mt(I,c)):H<=c&&(o.expiredLanes|=I),x&=~I}if(c=qt,f=ft,f=Ee(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===c&&(Nt===2||Nt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Y(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ge(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(p!==null&&Y(p),er(f)){case 2:case 8:f=we;break;case 32:f=Se;break;case 268435456:f=et;break;default:f=Se}return p=GT.bind(null,o),f=L(f,p),o.callbackPriority=c,o.callbackNode=f,c}return p!==null&&p!==null&&Y(p),o.callbackPriority=2,o.callbackNode=null,2}function GT(o,c){if(Pn!==0&&Pn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Gh()&&o.callbackNode!==f)return null;var p=ft;return p=Ee(o,o===qt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(RT(o,p,c),WT(o,se()),o.callbackNode!=null&&o.callbackNode===f?GT.bind(null,o):null)}function YT(o,c){if(Gh())return null;RT(o,c,!0)}function Wz(){iH(function(){(Ot&6)!==0?L(_e,qz):qT()})}function lb(){if(ja===0){var o=ac;o===0&&(o=yr,yr<<=1,(yr&261888)===0&&(yr=256)),ja=o}return ja}function KT(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:rh(""+o)}function QT(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function Gz(o,c,f,p,_){if(c==="submit"&&f&&f.stateNode===_){var x=KT((_[Ar]||null).action),R=p.submitter;R&&(c=(c=R[Ar]||null)?KT(c.formAction):R.getAttribute("formAction"),c!==null&&(x=c,R=null));var I=new oh("action","action",null,p,_);o.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ja!==0){var H=R?QT(_,R):new FormData(_);Ry(f,{pending:!0,data:H,method:_.method,action:x},null,H)}}else typeof x=="function"&&(I.preventDefault(),H=R?QT(_,R):new FormData(_),Ry(f,{pending:!0,data:H,method:_.method,action:x},x,H))},currentTarget:_}]})}}for(var cb=0;cb<qv.length;cb++){var ub=qv[cb],Yz=ub.toLowerCase(),Kz=ub[0].toUpperCase()+ub.slice(1);Li(Yz,"on"+Kz)}Li(AE,"onAnimationEnd"),Li(RE,"onAnimationIteration"),Li(DE,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(dz,"onTransitionRun"),Li(fz,"onTransitionStart"),Li(hz,"onTransitionCancel"),Li(OE,"onTransitionEnd"),Wl("onMouseEnter",["mouseout","mouseover"]),Wl("onMouseLeave",["mouseout","mouseover"]),Wl("onPointerEnter",["pointerout","pointerover"]),Wl("onPointerLeave",["pointerout","pointerover"]),Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hd));function XT(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],_=p.event;p=p.listeners;e:{var x=void 0;if(c)for(var R=p.length-1;0<=R;R--){var I=p[R],H=I.instance,ie=I.currentTarget;if(I=I.listener,H!==x&&_.isPropagationStopped())break e;x=I,_.currentTarget=ie;try{x(_)}catch(he){uh(he)}_.currentTarget=null,x=H}else for(R=0;R<p.length;R++){if(I=p[R],H=I.instance,ie=I.currentTarget,I=I.listener,H!==x&&_.isPropagationStopped())break e;x=I,_.currentTarget=ie;try{x(_)}catch(he){uh(he)}_.currentTarget=null,x=H}}}}function dt(o,c){var f=c[xv];f===void 0&&(f=c[xv]=new Set);var p=o+"__bubble";f.has(p)||(ZT(c,o,2,!1),f.add(p))}function db(o,c,f){var p=0;c&&(p|=4),ZT(f,o,p,c)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function fb(o){if(!o[Qh]){o[Qh]=!0,qx.forEach(function(f){f!=="selectionchange"&&(Qz.has(f)||db(f,!1,o),db(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Qh]||(c[Qh]=!0,db("selectionchange",!1,c))}}function ZT(o,c,f,p){switch(AA(c)){case 2:var _=EH;break;case 8:_=CH;break;default:_=Ab}f=_.bind(null,c,f,o),_=void 0,!kv||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),p?_!==void 0?o.addEventListener(c,f,{capture:!0,passive:_}):o.addEventListener(c,f,!0):_!==void 0?o.addEventListener(c,f,{passive:_}):o.addEventListener(c,f,!1)}function hb(o,c,f,p,_){var x=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var I=p.stateNode.containerInfo;if(I===_)break;if(R===4)for(R=p.return;R!==null;){var H=R.tag;if((H===3||H===4)&&R.stateNode.containerInfo===_)return;R=R.return}for(;I!==null;){if(R=$l(I),R===null)return;if(H=R.tag,H===5||H===6||H===26||H===27){p=x=R;continue e}I=I.parentNode}}p=p.return}rE(function(){var ie=x,he=Ov(f),be=[];e:{var ae=ME.get(o);if(ae!==void 0){var ce=oh,Ae=o;switch(o){case"keypress":if(sh(f)===0)break e;case"keydown":case"keyup":ce=$U;break;case"focusin":Ae="focus",ce=jv;break;case"focusout":Ae="blur",ce=jv;break;case"beforeblur":case"afterblur":ce=jv;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=aE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=MU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=WU;break;case AE:case RE:case DE:ce=IU;break;case OE:ce=YU;break;case"scroll":case"scrollend":ce=DU;break;case"wheel":ce=QU;break;case"copy":case"cut":case"paste":ce=jU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=lE;break;case"toggle":case"beforetoggle":ce=ZU}var Be=(c&4)!==0,Ht=!Be&&(o==="scroll"||o==="scrollend"),K=Be?ae!==null?ae+"Capture":null:ae;Be=[];for(var $=ie,re;$!==null;){var ve=$;if(re=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||re===null||K===null||(ve=Pu($,K),ve!=null&&Be.push(gd($,ve,re))),Ht)break;$=$.return}0<Be.length&&(ae=new ce(ae,Ae,null,f,he),be.push({event:ae,listeners:Be}))}}if((c&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",ce=o==="mouseout"||o==="pointerout",ae&&f!==Dv&&(Ae=f.relatedTarget||f.fromElement)&&($l(Ae)||Ae[Bl]))break e;if((ce||ae)&&(ae=he.window===he?he:(ae=he.ownerDocument)?ae.defaultView||ae.parentWindow:window,ce?(Ae=f.relatedTarget||f.toElement,ce=ie,Ae=Ae?$l(Ae):null,Ae!==null&&(Ht=s(Ae),Be=Ae.tag,Ae!==Ht||Be!==5&&Be!==27&&Be!==6)&&(Ae=null)):(ce=null,Ae=ie),ce!==Ae)){if(Be=aE,ve="onMouseLeave",K="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(Be=lE,ve="onPointerLeave",K="onPointerEnter",$="pointer"),Ht=ce==null?ae:Iu(ce),re=Ae==null?ae:Iu(Ae),ae=new Be(ve,$+"leave",ce,f,he),ae.target=Ht,ae.relatedTarget=re,ve=null,$l(he)===ie&&(Be=new Be(K,$+"enter",Ae,f,he),Be.target=re,Be.relatedTarget=Ht,ve=Be),Ht=ve,ce&&Ae)t:{for(Be=Xz,K=ce,$=Ae,re=0,ve=K;ve;ve=Be(ve))re++;ve=0;for(var je=$;je;je=Be(je))ve++;for(;0<re-ve;)K=Be(K),re--;for(;0<ve-re;)$=Be($),ve--;for(;re--;){if(K===$||$!==null&&K===$.alternate){Be=K;break t}K=Be(K),$=Be($)}Be=null}else Be=null;ce!==null&&JT(be,ae,ce,Be,!1),Ae!==null&&Ht!==null&&JT(be,Ht,Ae,Be,!0)}}e:{if(ae=ie?Iu(ie):window,ce=ae.nodeName&&ae.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ae.type==="file")var Tt=mE;else if(gE(ae))if(vE)Tt=lz;else{Tt=az;var Oe=sz}else ce=ae.nodeName,!ce||ce.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ie&&Rv(ie.elementType)&&(Tt=mE):Tt=oz;if(Tt&&(Tt=Tt(o,ie))){pE(be,Tt,f,he);break e}Oe&&Oe(o,ae,ie),o==="focusout"&&ie&&ae.type==="number"&&ie.memoizedProps.value!=null&&Av(ae,"number",ae.value)}switch(Oe=ie?Iu(ie):window,o){case"focusin":(gE(Oe)||Oe.contentEditable==="true")&&(Zl=Oe,Bv=ie,$u=null);break;case"focusout":$u=Bv=Zl=null;break;case"mousedown":$v=!0;break;case"contextmenu":case"mouseup":case"dragend":$v=!1,CE(be,f,he);break;case"selectionchange":if(uz)break;case"keydown":case"keyup":CE(be,f,he)}var nt;if(Fv)e:{switch(o){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Xl?fE(o,f)&&(ht="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(ht="onCompositionStart");ht&&(cE&&f.locale!=="ko"&&(Xl||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Xl&&(nt=iE()):(_a=he,Nv="value"in _a?_a.value:_a.textContent,Xl=!0)),Oe=Xh(ie,ht),0<Oe.length&&(ht=new oE(ht,o,null,f,he),be.push({event:ht,listeners:Oe}),nt?ht.data=nt:(nt=hE(f),nt!==null&&(ht.data=nt)))),(nt=ez?tz(o,f):nz(o,f))&&(ht=Xh(ie,"onBeforeInput"),0<ht.length&&(Oe=new oE("onBeforeInput","beforeinput",null,f,he),be.push({event:Oe,listeners:ht}),Oe.data=nt)),Gz(be,o,ie,f,he)}XT(be,c)})}function gd(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Xh(o,c){for(var f=c+"Capture",p=[];o!==null;){var _=o,x=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||x===null||(_=Pu(o,f),_!=null&&p.unshift(gd(o,_,x)),_=Pu(o,c),_!=null&&p.push(gd(o,_,x))),o.tag===3)return p;o=o.return}return[]}function Xz(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function JT(o,c,f,p,_){for(var x=c._reactName,R=[];f!==null&&f!==p;){var I=f,H=I.alternate,ie=I.stateNode;if(I=I.tag,H!==null&&H===p)break;I!==5&&I!==26&&I!==27||ie===null||(H=ie,_?(ie=Pu(f,x),ie!=null&&R.unshift(gd(f,ie,H))):_||(ie=Pu(f,x),ie!=null&&R.push(gd(f,ie,H)))),f=f.return}R.length!==0&&o.push({event:c,listeners:R})}var Zz=/\r\n?/g,Jz=/\u0000|\uFFFD/g;function eA(o){return(typeof o=="string"?o:""+o).replace(Zz,`
`).replace(Jz,"")}function tA(o,c){return c=eA(c),eA(o)===c}function zt(o,c,f,p,_,x){switch(f){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||Yl(o,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&Yl(o,""+p);break;case"className":th(o,"class",p);break;case"tabIndex":th(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":th(o,f,p);break;case"style":tE(o,p,x);break;case"data":if(c!=="object"){th(o,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=rh(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(f==="formAction"?(c!=="input"&&zt(o,c,"name",_.name,_,null),zt(o,c,"formEncType",_.formEncType,_,null),zt(o,c,"formMethod",_.formMethod,_,null),zt(o,c,"formTarget",_.formTarget,_,null)):(zt(o,c,"encType",_.encType,_,null),zt(o,c,"method",_.method,_,null),zt(o,c,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=rh(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=Os);break;case"onScroll":p!=null&&dt("scroll",o);break;case"onScrollEnd":p!=null&&dt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=rh(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":dt("beforetoggle",o),dt("toggle",o),eh(o,"popover",p);break;case"xlinkActuate":Ds(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ds(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ds(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ds(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ds(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ds(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ds(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ds(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ds(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":eh(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=AU.get(f)||f,eh(o,f,p))}}function gb(o,c,f,p,_,x){switch(f){case"style":tE(o,p,x);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?Yl(o,p):(typeof p=="number"||typeof p=="bigint")&&Yl(o,""+p);break;case"onScroll":p!=null&&dt("scroll",o);break;case"onScrollEnd":p!=null&&dt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Os);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wx.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(_=f.endsWith("Capture"),c=f.slice(2,_?f.length-7:void 0),x=o[Ar]||null,x=x!=null?x[f]:null,typeof x=="function"&&o.removeEventListener(c,x,_),typeof p=="function")){typeof x!="function"&&x!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,p,_);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):eh(o,f,p)}}}function sr(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",o),dt("load",o);var p=!1,_=!1,x;for(x in f)if(f.hasOwnProperty(x)){var R=f[x];if(R!=null)switch(x){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:zt(o,c,x,R,f,null)}}_&&zt(o,c,"srcSet",f.srcSet,f,null),p&&zt(o,c,"src",f.src,f,null);return;case"input":dt("invalid",o);var I=x=R=_=null,H=null,ie=null;for(p in f)if(f.hasOwnProperty(p)){var he=f[p];if(he!=null)switch(p){case"name":_=he;break;case"type":R=he;break;case"checked":H=he;break;case"defaultChecked":ie=he;break;case"value":x=he;break;case"defaultValue":I=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:zt(o,c,p,he,f,null)}}Xx(o,x,I,H,ie,R,_,!1);return;case"select":dt("invalid",o),p=R=x=null;for(_ in f)if(f.hasOwnProperty(_)&&(I=f[_],I!=null))switch(_){case"value":x=I;break;case"defaultValue":R=I;break;case"multiple":p=I;default:zt(o,c,_,I,f,null)}c=x,f=R,o.multiple=!!p,c!=null?Gl(o,!!p,c,!1):f!=null&&Gl(o,!!p,f,!0);return;case"textarea":dt("invalid",o),x=_=p=null;for(R in f)if(f.hasOwnProperty(R)&&(I=f[R],I!=null))switch(R){case"value":p=I;break;case"defaultValue":_=I;break;case"children":x=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:zt(o,c,R,I,f,null)}Jx(o,p,_,x);return;case"option":for(H in f)if(f.hasOwnProperty(H)&&(p=f[H],p!=null))switch(H){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:zt(o,c,H,p,f,null)}return;case"dialog":dt("beforetoggle",o),dt("toggle",o),dt("cancel",o),dt("close",o);break;case"iframe":case"object":dt("load",o);break;case"video":case"audio":for(p=0;p<hd.length;p++)dt(hd[p],o);break;case"image":dt("error",o),dt("load",o);break;case"details":dt("toggle",o);break;case"embed":case"source":case"link":dt("error",o),dt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in f)if(f.hasOwnProperty(ie)&&(p=f[ie],p!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:zt(o,c,ie,p,f,null)}return;default:if(Rv(c)){for(he in f)f.hasOwnProperty(he)&&(p=f[he],p!==void 0&&gb(o,c,he,p,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(p=f[I],p!=null&&zt(o,c,I,p,f,null))}function eH(o,c,f,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,x=null,R=null,I=null,H=null,ie=null,he=null;for(ce in f){var be=f[ce];if(f.hasOwnProperty(ce)&&be!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":H=be;default:p.hasOwnProperty(ce)||zt(o,c,ce,null,p,be)}}for(var ae in p){var ce=p[ae];if(be=f[ae],p.hasOwnProperty(ae)&&(ce!=null||be!=null))switch(ae){case"type":x=ce;break;case"name":_=ce;break;case"checked":ie=ce;break;case"defaultChecked":he=ce;break;case"value":R=ce;break;case"defaultValue":I=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,c));break;default:ce!==be&&zt(o,c,ae,ce,p,be)}}Tv(o,R,I,H,ie,he,x,_);return;case"select":ce=R=I=ae=null;for(x in f)if(H=f[x],f.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":ce=H;default:p.hasOwnProperty(x)||zt(o,c,x,null,p,H)}for(_ in p)if(x=p[_],H=f[_],p.hasOwnProperty(_)&&(x!=null||H!=null))switch(_){case"value":ae=x;break;case"defaultValue":I=x;break;case"multiple":R=x;default:x!==H&&zt(o,c,_,x,p,H)}c=I,f=R,p=ce,ae!=null?Gl(o,!!f,ae,!1):!!p!=!!f&&(c!=null?Gl(o,!!f,c,!0):Gl(o,!!f,f?[]:"",!1));return;case"textarea":ce=ae=null;for(I in f)if(_=f[I],f.hasOwnProperty(I)&&_!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:zt(o,c,I,null,p,_)}for(R in p)if(_=p[R],x=f[R],p.hasOwnProperty(R)&&(_!=null||x!=null))switch(R){case"value":ae=_;break;case"defaultValue":ce=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==x&&zt(o,c,R,_,p,x)}Zx(o,ae,ce);return;case"option":for(var Ae in f)if(ae=f[Ae],f.hasOwnProperty(Ae)&&ae!=null&&!p.hasOwnProperty(Ae))switch(Ae){case"selected":o.selected=!1;break;default:zt(o,c,Ae,null,p,ae)}for(H in p)if(ae=p[H],ce=f[H],p.hasOwnProperty(H)&&ae!==ce&&(ae!=null||ce!=null))switch(H){case"selected":o.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:zt(o,c,H,ae,p,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in f)ae=f[Be],f.hasOwnProperty(Be)&&ae!=null&&!p.hasOwnProperty(Be)&&zt(o,c,Be,null,p,ae);for(ie in p)if(ae=p[ie],ce=f[ie],p.hasOwnProperty(ie)&&ae!==ce&&(ae!=null||ce!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:zt(o,c,ie,ae,p,ce)}return;default:if(Rv(c)){for(var Ht in f)ae=f[Ht],f.hasOwnProperty(Ht)&&ae!==void 0&&!p.hasOwnProperty(Ht)&&gb(o,c,Ht,void 0,p,ae);for(he in p)ae=p[he],ce=f[he],!p.hasOwnProperty(he)||ae===ce||ae===void 0&&ce===void 0||gb(o,c,he,ae,p,ce);return}}for(var K in f)ae=f[K],f.hasOwnProperty(K)&&ae!=null&&!p.hasOwnProperty(K)&&zt(o,c,K,null,p,ae);for(be in p)ae=p[be],ce=f[be],!p.hasOwnProperty(be)||ae===ce||ae==null&&ce==null||zt(o,c,be,ae,p,ce)}function nA(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tH(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var _=f[p],x=_.transferSize,R=_.initiatorType,I=_.duration;if(x&&I&&nA(R)){for(R=0,I=_.responseEnd,p+=1;p<f.length;p++){var H=f[p],ie=H.startTime;if(ie>I)break;var he=H.transferSize,be=H.initiatorType;he&&nA(be)&&(H=H.responseEnd,R+=he*(H<I?1:(I-ie)/(H-ie)))}if(--p,c+=8*(x+R)/(_.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var pb=null,mb=null;function Zh(o){return o.nodeType===9?o:o.ownerDocument}function rA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iA(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function vb(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var yb=null;function nH(){var o=window.event;return o&&o.type==="popstate"?o===yb?!1:(yb=o,!0):(yb=null,!1)}var sA=typeof setTimeout=="function"?setTimeout:void 0,rH=typeof clearTimeout=="function"?clearTimeout:void 0,aA=typeof Promise=="function"?Promise:void 0,iH=typeof queueMicrotask=="function"?queueMicrotask:typeof aA<"u"?function(o){return aA.resolve(null).then(o).catch(sH)}:sA;function sH(o){setTimeout(function(){throw o})}function La(o){return o==="head"}function oA(o,c){var f=c,p=0;do{var _=f.nextSibling;if(o.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"||f==="/&"){if(p===0){o.removeChild(_),Cc(c);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")pd(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,pd(f);for(var x=f.firstChild;x;){var R=x.nextSibling,I=x.nodeName;x[Nu]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&x.rel.toLowerCase()==="stylesheet"||f.removeChild(x),x=R}}else f==="body"&&pd(o.ownerDocument.body);f=_}while(f);Cc(c)}function lA(o,c){var f=o;o=0;do{var p=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=p}while(f)}function bb(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":bb(f),Ev(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function aH(o,c,f,p){for(;o.nodeType===1;){var _=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Nu])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(x=o.getAttribute("rel"),x==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(x!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(x=o.getAttribute("src"),(x!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&x&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var x=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===x)return o}else return o;if(o=xi(o.nextSibling),o===null)break}return null}function oH(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=xi(o.nextSibling),o===null))return null;return o}function cA(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=xi(o.nextSibling),o===null))return null;return o}function _b(o){return o.data==="$?"||o.data==="$~"}function wb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function lH(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var p=function(){c(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function xi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Sb=null;function uA(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return xi(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function dA(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function fA(o,c,f){switch(c=Zh(f),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function pd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Ev(o)}var Ei=new Map,hA=new Set;function Jh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ws=G.d;G.d={f:cH,r:uH,D:dH,C:fH,L:hH,m:gH,X:mH,S:pH,M:vH};function cH(){var o=Ws.f(),c=Vh();return o||c}function uH(o){var c=Vl(o);c!==null&&c.tag===5&&c.type==="form"?OC(c):Ws.r(o)}var Sc=typeof document>"u"?null:document;function gA(o,c,f){var p=Sc;if(p&&typeof c=="string"&&c){var _=mi(c);_='link[rel="'+o+'"][href="'+_+'"]',typeof f=="string"&&(_+='[crossorigin="'+f+'"]'),hA.has(_)||(hA.add(_),o={rel:o,crossOrigin:f,href:c},p.querySelector(_)===null&&(c=p.createElement("link"),sr(c,"link",o),Wn(c),p.head.appendChild(c)))}}function dH(o){Ws.D(o),gA("dns-prefetch",o,null)}function fH(o,c){Ws.C(o,c),gA("preconnect",o,c)}function hH(o,c,f){Ws.L(o,c,f);var p=Sc;if(p&&o&&c){var _='link[rel="preload"][as="'+mi(c)+'"]';c==="image"&&f&&f.imageSrcSet?(_+='[imagesrcset="'+mi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(_+='[imagesizes="'+mi(f.imageSizes)+'"]')):_+='[href="'+mi(o)+'"]';var x=_;switch(c){case"style":x=xc(o);break;case"script":x=Ec(o)}Ei.has(x)||(o=g({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),Ei.set(x,o),p.querySelector(_)!==null||c==="style"&&p.querySelector(md(x))||c==="script"&&p.querySelector(vd(x))||(c=p.createElement("link"),sr(c,"link",o),Wn(c),p.head.appendChild(c)))}}function gH(o,c){Ws.m(o,c);var f=Sc;if(f&&o){var p=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+mi(p)+'"][href="'+mi(o)+'"]',x=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ec(o)}if(!Ei.has(x)&&(o=g({rel:"modulepreload",href:o},c),Ei.set(x,o),f.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(vd(x)))return}p=f.createElement("link"),sr(p,"link",o),Wn(p),f.head.appendChild(p)}}}function pH(o,c,f){Ws.S(o,c,f);var p=Sc;if(p&&o){var _=ql(p).hoistableStyles,x=xc(o);c=c||"default";var R=_.get(x);if(!R){var I={loading:0,preload:null};if(R=p.querySelector(md(x)))I.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},f),(f=Ei.get(x))&&xb(o,f);var H=R=p.createElement("link");Wn(H),sr(H,"link",o),H._p=new Promise(function(ie,he){H.onload=ie,H.onerror=he}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,eg(R,c,p)}R={type:"stylesheet",instance:R,count:1,state:I},_.set(x,R)}}}function mH(o,c){Ws.X(o,c);var f=Sc;if(f&&o){var p=ql(f).hoistableScripts,_=Ec(o),x=p.get(_);x||(x=f.querySelector(vd(_)),x||(o=g({src:o,async:!0},c),(c=Ei.get(_))&&Eb(o,c),x=f.createElement("script"),Wn(x),sr(x,"link",o),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(_,x))}}function vH(o,c){Ws.M(o,c);var f=Sc;if(f&&o){var p=ql(f).hoistableScripts,_=Ec(o),x=p.get(_);x||(x=f.querySelector(vd(_)),x||(o=g({src:o,async:!0,type:"module"},c),(c=Ei.get(_))&&Eb(o,c),x=f.createElement("script"),Wn(x),sr(x,"link",o),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(_,x))}}function pA(o,c,f,p){var _=(_=me.current)?Jh(_):null;if(!_)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=xc(f.href),f=ql(_).hoistableStyles,p=f.get(c),p||(p={type:"style",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=xc(f.href);var x=ql(_).hoistableStyles,R=x.get(o);if(R||(_=_.ownerDocument||_,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(o,R),(x=_.querySelector(md(o)))&&!x._p&&(R.instance=x,R.state.loading=5),Ei.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ei.set(o,f),x||yH(_,o,f,R.state))),c&&p===null)throw Error(r(528,""));return R}if(c&&p!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ec(f),f=ql(_).hoistableScripts,p=f.get(c),p||(p={type:"script",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function xc(o){return'href="'+mi(o)+'"'}function md(o){return'link[rel="stylesheet"]['+o+"]"}function mA(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function yH(o,c,f,p){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=o.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),sr(c,"link",f),Wn(c),o.head.appendChild(c))}function Ec(o){return'[src="'+mi(o)+'"]'}function vd(o){return"script[async]"+o}function vA(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var p=o.querySelector('style[data-href~="'+mi(f.href)+'"]');if(p)return c.instance=p,Wn(p),p;var _=g({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Wn(p),sr(p,"style",_),eg(p,f.precedence,o),c.instance=p;case"stylesheet":_=xc(f.href);var x=o.querySelector(md(_));if(x)return c.state.loading|=4,c.instance=x,Wn(x),x;p=mA(f),(_=Ei.get(_))&&xb(p,_),x=(o.ownerDocument||o).createElement("link"),Wn(x);var R=x;return R._p=new Promise(function(I,H){R.onload=I,R.onerror=H}),sr(x,"link",p),c.state.loading|=4,eg(x,f.precedence,o),c.instance=x;case"script":return x=Ec(f.src),(_=o.querySelector(vd(x)))?(c.instance=_,Wn(_),_):(p=f,(_=Ei.get(x))&&(p=g({},f),Eb(p,_)),o=o.ownerDocument||o,_=o.createElement("script"),Wn(_),sr(_,"link",p),o.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,eg(p,f.precedence,o));return c.instance}function eg(o,c,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,x=_,R=0;R<p.length;R++){var I=p[R];if(I.dataset.precedence===c)x=I;else if(x!==_)break}x?x.parentNode.insertBefore(o,x.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function xb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Eb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var tg=null;function yA(o,c,f){if(tg===null){var p=new Map,_=tg=new Map;_.set(f,p)}else _=tg,p=_.get(f),p||(p=new Map,_.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),_=0;_<f.length;_++){var x=f[_];if(!(x[Nu]||x[tr]||o==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var R=x.getAttribute(c)||"";R=o+R;var I=p.get(R);I?I.push(x):p.set(R,[x])}}return p}function bA(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function bH(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function _A(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function _H(o,c,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var _=xc(p.href),x=c.querySelector(md(_));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=ng.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=x,Wn(x);return}x=c.ownerDocument||c,p=mA(p),(_=Ei.get(_))&&xb(p,_),x=x.createElement("link"),Wn(x);var R=x;R._p=new Promise(function(I,H){R.onload=I,R.onerror=H}),sr(x,"link",p),f.instance=x}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=ng.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var Cb=0;function wH(o,c){return o.stylesheets&&o.count===0&&ig(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var p=setTimeout(function(){if(o.stylesheets&&ig(o,o.stylesheets),o.unsuspend){var x=o.unsuspend;o.unsuspend=null,x()}},6e4+c);0<o.imgBytes&&Cb===0&&(Cb=62500*tH());var _=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ig(o,o.stylesheets),o.unsuspend)){var x=o.unsuspend;o.unsuspend=null,x()}},(o.imgBytes>Cb?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function ng(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ig(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var rg=null;function ig(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,rg=new Map,c.forEach(SH,o),rg=null,ng.call(o))}function SH(o,c){if(!(c.state.loading&4)){var f=rg.get(o);if(f)var p=f.get(null);else{f=new Map,rg.set(o,f);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<_.length;x++){var R=_[x];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(f.set(R.dataset.precedence,R),p=R)}p&&f.set(null,p)}_=c.instance,R=_.getAttribute("data-precedence"),x=f.get(R)||p,x===p&&f.set(null,_),f.set(R,_),this.count++,p=ng.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),x?x.parentNode.insertBefore(_,x.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),c.state.loading|=4}}var yd={$$typeof:A,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function xH(o,c,f,p,_,x,R,I,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mn(0),this.hiddenUpdates=mn(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=x,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function wA(o,c,f,p,_,x,R,I,H,ie,he,be){return o=new xH(o,c,f,R,H,ie,he,be,I),c=1,x===!0&&(c|=24),x=Wr(3,null,null,c),o.current=x,x.stateNode=o,c=iy(),c.refCount++,o.pooledCache=c,c.refCount++,x.memoizedState={element:p,isDehydrated:f,cache:c},ly(x),o}function SA(o){return o?(o=tc,o):tc}function xA(o,c,f,p,_,x){_=SA(_),p.context===null?p.context=_:p.pendingContext=_,p=Ta(c),p.payload={element:f},x=x===void 0?null:x,x!==null&&(p.callback=x),f=Aa(o,p,c),f!==null&&(Nr(f,o,c),Qu(f,o,c))}function EA(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Tb(o,c){EA(o,c),(o=o.alternate)&&EA(o,c)}function CA(o){if(o.tag===13||o.tag===31){var c=Po(o,67108864);c!==null&&Nr(c,o,67108864),Tb(o,67108864)}}function TA(o){if(o.tag===13||o.tag===31){var c=Xr();c=fi(c);var f=Po(o,c);f!==null&&Nr(f,o,c),Tb(o,c)}}var sg=!0;function EH(o,c,f,p){var _=P.T;P.T=null;var x=G.p;try{G.p=2,Ab(o,c,f,p)}finally{G.p=x,P.T=_}}function CH(o,c,f,p){var _=P.T;P.T=null;var x=G.p;try{G.p=8,Ab(o,c,f,p)}finally{G.p=x,P.T=_}}function Ab(o,c,f,p){if(sg){var _=Rb(p);if(_===null)hb(o,c,p,ag,f),RA(o,p);else if(AH(_,o,c,f,p))p.stopPropagation();else if(RA(o,p),c&4&&-1<TH.indexOf(o)){for(;_!==null;){var x=Vl(_);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var R=Kt(x.pendingLanes);if(R!==0){var I=x;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var H=1<<31-We(R);I.entanglements[1]|=H,R&=~H}ls(x),(Ot&6)===0&&(Bh=se()+500,fd(0))}}break;case 31:case 13:I=Po(x,2),I!==null&&Nr(I,x,2),Vh(),Tb(x,2)}if(x=Rb(p),x===null&&hb(o,c,p,ag,f),x===_)break;_=x}_!==null&&p.stopPropagation()}else hb(o,c,p,null,f)}}function Rb(o){return o=Ov(o),Db(o)}var ag=null;function Db(o){if(ag=null,o=$l(o),o!==null){var c=s(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=a(c),o!==null)return o;o=null}else if(f===31){if(o=l(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return ag=o,null}function AA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case _e:return 2;case we:return 8;case Se:case Ne:return 32;case et:return 268435456;default:return 32}default:return 32}}var Ob=!1,Fa=null,Ua=null,za=null,bd=new Map,_d=new Map,Ha=[],TH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RA(o,c){switch(o){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":bd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(c.pointerId)}}function wd(o,c,f,p,_,x){return o===null||o.nativeEvent!==x?(o={blockedOn:c,domEventName:f,eventSystemFlags:p,nativeEvent:x,targetContainers:[_]},c!==null&&(c=Vl(c),c!==null&&CA(c)),o):(o.eventSystemFlags|=p,c=o.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),o)}function AH(o,c,f,p,_){switch(c){case"focusin":return Fa=wd(Fa,o,c,f,p,_),!0;case"dragenter":return Ua=wd(Ua,o,c,f,p,_),!0;case"mouseover":return za=wd(za,o,c,f,p,_),!0;case"pointerover":var x=_.pointerId;return bd.set(x,wd(bd.get(x)||null,o,c,f,p,_)),!0;case"gotpointercapture":return x=_.pointerId,_d.set(x,wd(_d.get(x)||null,o,c,f,p,_)),!0}return!1}function DA(o){var c=$l(o.target);if(c!==null){var f=s(c);if(f!==null){if(c=f.tag,c===13){if(c=a(f),c!==null){o.blockedOn=c,ba(o.priority,function(){TA(f)});return}}else if(c===31){if(c=l(f),c!==null){o.blockedOn=c,ba(o.priority,function(){TA(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function og(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=Rb(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);Dv=p,f.target.dispatchEvent(p),Dv=null}else return c=Vl(f),c!==null&&CA(c),o.blockedOn=f,!1;c.shift()}return!0}function OA(o,c,f){og(o)&&f.delete(c)}function RH(){Ob=!1,Fa!==null&&og(Fa)&&(Fa=null),Ua!==null&&og(Ua)&&(Ua=null),za!==null&&og(za)&&(za=null),bd.forEach(OA),_d.forEach(OA)}function lg(o,c){o.blockedOn===c&&(o.blockedOn=null,Ob||(Ob=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RH)))}var cg=null;function MA(o){cg!==o&&(cg=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cg===o&&(cg=null);for(var c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],_=o[c+2];if(typeof p!="function"){if(Db(p||f)===null)continue;break}var x=Vl(f);x!==null&&(o.splice(c,3),c-=3,Ry(x,{pending:!0,data:_,method:f.method,action:p},p,_))}}))}function Cc(o){function c(H){return lg(H,o)}Fa!==null&&lg(Fa,o),Ua!==null&&lg(Ua,o),za!==null&&lg(za,o),bd.forEach(c),_d.forEach(c);for(var f=0;f<Ha.length;f++){var p=Ha[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ha.length&&(f=Ha[0],f.blockedOn===null);)DA(f),f.blockedOn===null&&Ha.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var _=f[p],x=f[p+1],R=_[Ar]||null;if(typeof x=="function")R||MA(f);else if(R){var I=null;if(x&&x.hasAttribute("formAction")){if(_=x,R=x[Ar]||null)I=R.formAction;else if(Db(_)!==null)continue}else I=R.action;typeof I=="function"?f[p+1]=I:(f.splice(p,3),p-=3),MA(f)}}}function kA(){function o(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(R){return _=R})},focusReset:"manual",scroll:"manual"})}function c(){_!==null&&(_(),_=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),_!==null&&(_(),_=null)}}}function Mb(o){this._internalRoot=o}ug.prototype.render=Mb.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,p=Xr();xA(f,p,o,c,null,null)},ug.prototype.unmount=Mb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;xA(o.current,2,null,o,null,null),Vh(),c[Bl]=null}};function ug(o){this._internalRoot=o}ug.prototype.unstable_scheduleHydration=function(o){if(o){var c=hi();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Ha.length&&c!==0&&c<Ha[f].priority;f++);Ha.splice(f,0,o),f===0&&DA(o)}};var NA=e.version;if(NA!=="19.2.0")throw Error(r(527,NA,"19.2.0"));G.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var DH={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dg.isDisabled&&dg.supportsFiber)try{lt=dg.inject(DH),Vt=dg}catch{}}return xd.createRoot=function(o,c){if(!i(o))throw Error(r(299));var f=!1,p="",_=zC,x=HC,R=BC;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),c=wA(o,1,!1,null,null,f,p,null,_,x,R,kA),o[Bl]=c.current,fb(o),new Mb(c)},xd.hydrateRoot=function(o,c,f){if(!i(o))throw Error(r(299));var p=!1,_="",x=zC,R=HC,I=BC,H=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.formState!==void 0&&(H=f.formState)),c=wA(o,1,!0,c,f??null,p,_,H,x,R,I,kA),c.context=SA(null),f=c.current,p=Xr(),p=fi(p),_=Ta(p),_.callback=null,Aa(f,_,p),f=p,c.current.lanes=f,St(c,f),ls(c),o[Bl]=c.current,fb(o),new ug(c)},xd.version="19.2.0",xd}var $A;function UH(){if($A)return Ib.exports;$A=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ib.exports=FH(),Ib.exports}var zH=UH();const HH=If(zH);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VA="popstate";function BH(t={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return t_("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cf(i)}return VH(e,n,null,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $H(){return Math.random().toString(36).substring(2,10)}function qA(t,e){return{usr:t.state,key:t.key,idx:e}}function t_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yu(e):e,state:n,key:e&&e.key||r||$H()}}function cf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function VH(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",u=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function g(){l="POP";let S=h(),C=S==null?null:S-d;d=S,u&&u({action:l,location:y.location,delta:C})}function m(S,C){l="PUSH";let T=t_(y.location,S,C);d=h()+1;let A=qA(T,d),M=y.createHref(T);try{a.pushState(A,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(M)}s&&u&&u({action:l,location:y.location,delta:1})}function v(S,C){l="REPLACE";let T=t_(y.location,S,C);d=h();let A=qA(T,d),M=y.createHref(T);a.replaceState(A,"",M),s&&u&&u({action:l,location:y.location,delta:0})}function b(S){return qH(S)}let y={get action(){return l},get location(){return t(i,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(VA,g),u=S,()=>{i.removeEventListener(VA,g),u=null}},createHref(S){return e(i,S)},createURL:b,encodeLocation(S){let C=b(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:v,go(S){return a.go(S)}};return y}function qH(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Vk(t,e,n="/"){return WH(t,e,n,!1)}function WH(t,e,n,r){let i=typeof e=="string"?yu(e):e,s=da(i.pathname||"/",n);if(s==null)return null;let a=qk(t);GH(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=iB(s);l=nB(a[u],d,r)}return l}function qk(t,e=[],n=[],r="",i=!1){let s=(a,l,u=i,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;dn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let g=aa([r,h.relativePath]),m=n.concat(h);a.children&&a.children.length>0&&(dn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qk(a.children,e,m,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:eB(g,a.index),routesMeta:m})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of Wk(a.path))s(a,l,!0,u)}),e}function Wk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Wk(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function GH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YH=/^:[\w-]+$/,KH=3,QH=2,XH=1,ZH=10,JH=-2,WA=t=>t==="*";function eB(t,e){let n=t.split("/"),r=n.length;return n.some(WA)&&(r+=JH),e&&(r+=QH),n.filter(i=>!WA(i)).reduce((i,s)=>i+(YH.test(s)?KH:s===""?XH:ZH),r)}function tB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nB(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",g=Rp({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),m=u.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Rp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:aa([s,g.pathname]),pathnameBase:lB(aa([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=aa([s,g.pathnameBase]))}return a}function Rp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:g},m)=>{if(h==="*"){let b=l[m]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[m];return g&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function rB(t,e=!1,n=!0){Qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function da(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sB(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yu(t):t;return{pathname:n?n.startsWith("/")?n:aB(n,e):e,search:cB(r),hash:uB(i)}}function aB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dw(t){let e=oB(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ow(t,e,n,r=!1){let i;typeof t=="string"?i=yu(t):(i={...t},dn(!i.pathname||!i.pathname.includes("?"),Fb("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),Fb("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),Fb("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}l=g>=0?e[g]:"/"}let u=sB(i,l),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var aa=t=>t.join("/").replace(/\/\/+/g,"/"),lB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gk=["POST","PUT","PATCH","DELETE"];new Set(Gk);var fB=["GET",...Gk];new Set(fB);var bu=E.createContext(null);bu.displayName="DataRouter";var Cm=E.createContext(null);Cm.displayName="DataRouterState";E.createContext(!1);var Yk=E.createContext({isTransitioning:!1});Yk.displayName="ViewTransition";var hB=E.createContext(new Map);hB.displayName="Fetchers";var gB=E.createContext(null);gB.displayName="Await";var ns=E.createContext(null);ns.displayName="Navigation";var Pf=E.createContext(null);Pf.displayName="Location";var ji=E.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var Mw=E.createContext(null);Mw.displayName="RouteError";function pB(t,{relative:e}={}){dn(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ns),{hash:i,pathname:s,search:a}=jf(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:aa([n,s])),r.createHref({pathname:l,search:a,hash:i})}function _u(){return E.useContext(Pf)!=null}function ma(){return dn(_u(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Pf).location}var Kk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qk(t){E.useContext(ns).static||E.useLayoutEffect(t)}function Cs(){let{isDataRoute:t}=E.useContext(ji);return t?OB():mB()}function mB(){dn(_u(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(bu),{basename:e,navigator:n}=E.useContext(ns),{matches:r}=E.useContext(ji),{pathname:i}=ma(),s=JSON.stringify(Dw(r)),a=E.useRef(!1);return Qk(()=>{a.current=!0}),E.useCallback((u,d={})=>{if(Qi(a.current,Kk),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=Ow(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:aa([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}var vB=E.createContext(null);function yB(t){let e=E.useContext(ji).outlet;return E.useMemo(()=>e&&E.createElement(vB.Provider,{value:t},e),[e,t])}function Tm(){let{matches:t}=E.useContext(ji),e=t[t.length-1];return e?e.params:{}}function jf(t,{relative:e}={}){let{matches:n}=E.useContext(ji),{pathname:r}=ma(),i=JSON.stringify(Dw(n));return E.useMemo(()=>Ow(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function bB(t,e){return Xk(t,e)}function Xk(t,e,n,r,i){dn(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(ns),{matches:a}=E.useContext(ji),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let T=g&&g.path||"";Zk(d,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let m=ma(),v;if(e){let T=typeof e=="string"?yu(e):e;dn(h==="/"||T.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=m;let b=v.pathname||"/",y=b;if(h!=="/"){let T=h.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=Vk(t,{pathname:y});Qi(g||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Qi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=EB(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:aa([h,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:aa([h,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,n,r,i);return e&&C?E.createElement(Pf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function _B(){let t=DB(),e=dB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:s},"ErrorBoundary")," or"," ",E.createElement("code",{style:s},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,a)}var wB=E.createElement(_B,null),SB=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(ji.Provider,{value:this.props.routeContext},E.createElement(Mw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xB({routeContext:t,match:e,children:n}){let r=E.useContext(bu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(ji.Provider,{value:t},n)}function EB(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);dn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:m}=n,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,g)=>{let m,v=!1,b=null,y=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||wB,l&&(u<0&&g===0?(Zk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,y=null):u===g&&(v=!0,y=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),C=()=>{let T;return m?T=b:v?T=y:h.route.Component?T=E.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,E.createElement(xB,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?E.createElement(SB,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):C()},null)}function kw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CB(t){let e=E.useContext(bu);return dn(e,kw(t)),e}function TB(t){let e=E.useContext(Cm);return dn(e,kw(t)),e}function AB(t){let e=E.useContext(ji);return dn(e,kw(t)),e}function Nw(t){let e=AB(t),n=e.matches[e.matches.length-1];return dn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function RB(){return Nw("useRouteId")}function DB(){let t=E.useContext(Mw),e=TB("useRouteError"),n=Nw("useRouteError");return t!==void 0?t:e.errors?.[n]}function OB(){let{router:t}=CB("useNavigate"),e=Nw("useNavigate"),n=E.useRef(!1);return Qk(()=>{n.current=!0}),E.useCallback(async(i,s={})=>{Qi(n.current,Kk),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var GA={};function Zk(t,e,n){!e&&!GA[t]&&(GA[t]=!0,Qi(!1,n))}E.memo(MB);function MB({routes:t,future:e,state:n,unstable_onError:r}){return Xk(t,void 0,n,r,e)}function Jk({to:t,replace:e,state:n,relative:r}){dn(_u(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(ns);Qi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=E.useContext(ji),{pathname:a}=ma(),l=Cs(),u=Ow(t,Dw(s),a,r==="path"),d=JSON.stringify(u);return E.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function e1(t){return yB(t.context)}function Fn(t){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){dn(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=yu(n));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:m="default"}=n,v=E.useMemo(()=>{let b=da(u,a);return b==null?null:{location:{pathname:b,search:d,hash:h,state:g,key:m},navigationType:r}},[a,u,d,h,g,m,r]);return Qi(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:E.createElement(ns.Provider,{value:l},E.createElement(Pf.Provider,{children:e,value:v}))}function NB({children:t,location:e}){return bB(n_(t),e)}function n_(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,n_(r.props.children,s));return}dn(r.type===Fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=n_(r.props.children,s)),n.push(a)}),n}var cp="get",up="application/x-www-form-urlencoded";function Am(t){return t!=null&&typeof t.tagName=="string"}function IB(t){return Am(t)&&t.tagName.toLowerCase()==="button"}function PB(t){return Am(t)&&t.tagName.toLowerCase()==="form"}function jB(t){return Am(t)&&t.tagName.toLowerCase()==="input"}function LB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FB(t,e){return t.button===0&&(!e||e==="_self")&&!LB(t)}var fg=null;function UB(){if(fg===null)try{new FormData(document.createElement("form"),0),fg=!1}catch{fg=!0}return fg}var zB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ub(t){return t!=null&&!zB.has(t)?(Qi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${up}"`),null):t}function HB(t,e){let n,r,i,s,a;if(PB(t)){let l=t.getAttribute("action");r=l?da(l,e):null,n=t.getAttribute("method")||cp,i=Ub(t.getAttribute("enctype"))||up,s=new FormData(t)}else if(IB(t)||jB(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?da(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||cp,i=Ub(t.getAttribute("formenctype"))||Ub(l.getAttribute("enctype"))||up,s=new FormData(l,t),!UB()){let{name:d,type:h,value:g}=t;if(h==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,g)}}else{if(Am(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cp,r=null,i=up,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Iw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BB(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&da(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function $B(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qB(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await $B(s,n);return a.links?a.links():[]}return[]}));return KB(r.flat(1).filter(VB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YA(t,e,n,r,i,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function WB(t,e,{includeHydrateFallback:n}={}){return GB(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function GB(t){return[...new Set(t)]}function YB(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function KB(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(YB(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function t1(){let t=E.useContext(bu);return Iw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QB(){let t=E.useContext(Cm);return Iw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pw=E.createContext(void 0);Pw.displayName="FrameworkContext";function n1(){let t=E.useContext(Pw);return Iw(t,"You must render this element inside a <HydratedRouter> element"),t}function XB(t,e){let n=E.useContext(Pw),[r,i]=E.useState(!1),[s,a]=E.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:g}=e,m=E.useRef(null);E.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let y=C=>{C.forEach(T=>{a(T.isIntersecting)})},S=new IntersectionObserver(y,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[t]),E.useEffect(()=>{if(r){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:Ed(l,v),onBlur:Ed(u,b),onMouseEnter:Ed(d,v),onMouseLeave:Ed(h,b),onTouchStart:Ed(g,v)}]:[!1,m,{}]}function Ed(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ZB({page:t,...e}){let{router:n}=t1(),r=E.useMemo(()=>Vk(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(e$,{page:t,matches:r,...e}):null}function JB(t){let{manifest:e,routeModules:n}=n1(),[r,i]=E.useState([]);return E.useEffect(()=>{let s=!1;return qB(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function e$({page:t,matches:e,...n}){let r=ma(),{manifest:i,routeModules:s}=n1(),{basename:a}=t1(),{loaderData:l,matches:u}=QB(),d=E.useMemo(()=>YA(t,e,u,i,r,"data"),[t,e,u,i,r]),h=E.useMemo(()=>YA(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,y=!1;if(e.forEach(C=>{let T=i.routes[C.route.id];!T||!T.hasLoader||(!d.some(A=>A.route.id===C.route.id)&&C.route.id in l&&s[C.route.id]?.shouldRevalidate||T.hasClientLoader?y=!0:b.add(C.route.id))}),b.size===0)return[];let S=BB(t,a,"data");return y&&b.size>0&&S.searchParams.set("_routes",e.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[a,l,r,i,d,e,t,s]),m=E.useMemo(()=>WB(h,i),[h,i]),v=JB(h);return E.createElement(E.Fragment,null,g.map(b=>E.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),m.map(b=>E.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:y})=>E.createElement("link",{key:b,nonce:n.nonce,...y})))}function t$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var r1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r1&&(window.__reactRouterVersion="7.9.4")}catch{}function n$({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=BH({window:n,v5Compat:!0}));let i=r.current,[s,a]=E.useState({action:i.action,location:i.location}),l=E.useCallback(u=>{E.startTransition(()=>a(u))},[a]);return E.useLayoutEffect(()=>i.listen(l),[i,l]),E.createElement(kB,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var i1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:g,...m},v){let{basename:b}=E.useContext(ns),y=typeof d=="string"&&i1.test(d),S,C=!1;if(typeof d=="string"&&y&&(S=d,r1))try{let j=new URL(window.location.href),z=d.startsWith("//")?new URL(j.protocol+d):new URL(d),B=da(z.pathname,b);z.origin===j.origin&&B!=null?d=B+z.search+z.hash:C=!0}catch{Qi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=pB(d,{relative:i}),[A,M,D]=XB(r,m),k=a$(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:g});function N(j){e&&e(j),j.defaultPrevented||k(j)}let O=E.createElement("a",{...m,...D,href:S||T,onClick:C||s?e:N,ref:t$(v,M),target:u,"data-discover":!y&&n==="render"?"true":void 0});return A&&!y?E.createElement(E.Fragment,null,O,E.createElement(ZB,{page:T})):O});Hn.displayName="Link";var r$=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...d},h){let g=jf(a,{relative:d.relative}),m=ma(),v=E.useContext(Cm),{navigator:b,basename:y}=E.useContext(ns),S=v!=null&&d$(g)&&l===!0,C=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,T=m.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&y&&(A=da(A,y)||A);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=T===C||!i&&T.startsWith(C)&&T.charAt(M)==="/",k=A!=null&&(A===C||!i&&A.startsWith(C)&&A.charAt(C.length)==="/"),N={isActive:D,isPending:k,isTransitioning:S},O=D?e:void 0,j;typeof r=="function"?j=r(N):j=[r,D?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(N):s;return E.createElement(Hn,{...d,"aria-current":O,className:j,ref:h,style:z,to:a,viewTransition:l},typeof u=="function"?u(N):u)});r$.displayName="NavLink";var i$=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=cp,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:g,...m},v)=>{let b=c$(),y=u$(l,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&i1.test(l),T=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let M=A.nativeEvent.submitter,D=M?.getAttribute("formmethod")||a;b(M||A.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:g})};return E.createElement("form",{ref:v,method:S,action:y,onSubmit:r?u:T,...m,"data-discover":!C&&t==="render"?"true":void 0})});i$.displayName="Form";function s$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(t){let e=E.useContext(bu);return dn(e,s$(t)),e}function a$(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=Cs(),u=ma(),d=jf(t,{relative:s});return E.useCallback(h=>{if(FB(h,e)){h.preventDefault();let g=n!==void 0?n:cf(u)===cf(d);l(t,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,n,r,e,t,i,s,a])}var o$=0,l$=()=>`__${String(++o$)}__`;function c$(){let{router:t}=s1("useSubmit"),{basename:e}=E.useContext(ns),n=RB();return E.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=HB(r,e);if(i.navigate===!1){let h=i.fetcherKey||l$();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function u$(t,{relative:e}={}){let{basename:n}=E.useContext(ns),r=E.useContext(ji);dn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...jf(t||".",{relative:e})},a=ma();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:aa([n,s.pathname])),cf(s)}function d$(t,{relative:e}={}){let n=E.useContext(Yk);dn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=s1("useViewTransitionState"),i=jf(t,{relative:e});if(!n.isTransitioning)return!1;let s=da(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=da(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rp(i.pathname,a)!=null||Rp(i.pathname,s)!=null}var oi=$k();const a1=If(oi);var wu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},f$={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},h$=class{#e=f$;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},dl=new h$;function g$(t){setTimeout(t,0)}var _l=typeof window>"u"||"Deno"in globalThis;function wr(){}function p$(t,e){return typeof t=="function"?t(e):t}function r_(t){return typeof t=="number"&&t>=0&&t!==1/0}function o1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ao(t,e){return typeof t=="function"?t(e):t}function Ai(t,e){return typeof t=="function"?t(e):t}function KA(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==jw(a,e.options))return!1}else if(!uf(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function QA(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(wl(e.options.mutationKey)!==wl(s))return!1}else if(!uf(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function jw(t,e){return(e?.queryKeyHashFn||wl)(t)}function wl(t){return JSON.stringify(t,(e,n)=>i_(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function uf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>uf(t[n],e[n])):!1}var m$=Object.prototype.hasOwnProperty;function l1(t,e){if(t===e)return t;const n=XA(t)&&XA(e);if(!n&&!(i_(t)&&i_(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=n?d:s[d],g=t[h],m=e[h];if(g===m){l[h]=g,(n?d<i:m$.call(t,h))&&u++;continue}if(g===null||m===null||typeof g!="object"||typeof m!="object"){l[h]=m;continue}const v=l1(g,m);l[h]=v,v===g&&u++}return i===a&&u===i?t:l}function Dp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function XA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function i_(t){if(!ZA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ZA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ZA(t){return Object.prototype.toString.call(t)==="[object Object]"}function v$(t){return new Promise(e=>{dl.setTimeout(e,t)})}function s_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?l1(t,e):e}function y$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function b$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Lw=Symbol();function c1(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Lw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function u1(t,e){return typeof t=="function"?t(...e):!!t}var _$=class extends wu{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!_l&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Fw=new _$;function a_(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var w$=g$;function S$(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=w$;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var $n=S$(),x$=class extends wu{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!_l&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Op=new x$;function E$(t){return Math.min(1e3*2**t,3e4)}function d1(t){return(t??"online")==="online"?Op.isOnline():!0}var o_=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function f1(t){let e=!1,n=0,r;const i=a_(),s=()=>i.status!=="pending",a=y=>{if(!s()){const S=new o_(y);m(S),t.onCancel?.(S)}},l=()=>{e=!0},u=()=>{e=!1},d=()=>Fw.isFocused()&&(t.networkMode==="always"||Op.isOnline())&&t.canRun(),h=()=>d1(t.networkMode)&&t.canRun(),g=y=>{s()||(r?.(),i.resolve(y))},m=y=>{s()||(r?.(),i.reject(y))},v=()=>new Promise(y=>{r=S=>{(s()||d())&&y(S)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),b=()=>{if(s())return;let y;const S=n===0?t.initialPromise:void 0;try{y=S??t.fn()}catch(C){y=Promise.reject(C)}Promise.resolve(y).then(g).catch(C=>{if(s())return;const T=t.retry??(_l?0:3),A=t.retryDelay??E$,M=typeof A=="function"?A(n,C):A,D=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,C);if(e||!D){m(C);return}n++,t.onFail?.(n,C),v$(M).then(()=>d()?void 0:v()).then(()=>{e?m(C):b()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?b():v().then(b),i)}}var h1=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),r_(this.gcTime)&&(this.#e=dl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_l?1/0:300*1e3))}clearGcTimeout(){this.#e&&(dl.clearTimeout(this.#e),this.#e=void 0)}},C$=class extends h1{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=JA(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=JA(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=s_(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ai(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ao(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!o1(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=c1(this.options,e),d=(()=>{const h={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(h),h})();return this.#o=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=f1({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof o_&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof o_){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...g1(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),$n.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function g1(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function JA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var T$=class extends wu{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=a_(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#p;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),eR(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return l_(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return l_(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ai(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!Dp(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&tR(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Ai(this.options.enabled,this.#t)!==Ai(e.enabled,this.#t)||ao(this.options.staleTime,this.#t)!==ao(e.staleTime,this.#t))&&this.#m();const i=this.#v();r&&(this.#t!==n||Ai(this.options.enabled,this.#t)!==Ai(e.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return R$(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(wr)),e}#m(){this.#_();const t=ao(this.options.staleTime,this.#t);if(_l||this.#i.isStale||!r_(t))return;const n=o1(this.#i.dataUpdatedAt,t)+1;this.#c=dl.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(_l||Ai(this.options.enabled,this.#t)===!1||!r_(this.#l)||this.#l===0)&&(this.#u=dl.setInterval(()=>{(this.options.refetchIntervalInBackground||Fw.isFocused())&&this.#d()},this.#l))}#b(){this.#m(),this.#y(this.#v())}#_(){this.#c&&(dl.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(dl.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,s=this.#r,a=this.#a,u=t!==n?t.state:this.#n,{state:d}=t;let h={...d},g=!1,m;if(e._optimisticResults){const O=this.hasListeners(),j=!O&&eR(t,e),z=O&&tR(t,n,e,r);(j||z)&&(h={...h,...g1(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:y}=h;m=h.data;let S=!1;if(e.placeholderData!==void 0&&m===void 0&&y==="pending"){let O;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(O=i.data,S=!0):O=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,O!==void 0&&(y="success",m=s_(i?.data,O,e),g=!0)}if(e.select&&m!==void 0&&!S)if(i&&m===s?.data&&e.select===this.#p)m=this.#f;else try{this.#p=e.select,m=e.select(m),m=s_(i?.data,m,e),this.#f=m,this.#s=null}catch(O){this.#s=O}this.#s&&(v=this.#s,m=this.#f,b=Date.now(),y="error");const C=h.fetchStatus==="fetching",T=y==="pending",A=y==="error",M=T&&C,D=m!==void 0,N={status:y,fetchStatus:h.fetchStatus,isPending:T,isSuccess:y==="success",isError:A,isInitialLoading:M,isLoading:M,data:m,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:C,isRefetching:C&&!T,isLoadingError:A&&!D,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:A&&D,isStale:Uw(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Ai(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=B=>{N.status==="error"?B.reject(N.error):N.data!==void 0&&B.resolve(N.data)},j=()=>{const B=this.#o=N.promise=a_();O(B)},z=this.#o;switch(z.status){case"pending":t.queryHash===n.queryHash&&O(z);break;case"fulfilled":(N.status==="error"||N.data!==z.value)&&j();break;case"rejected":(N.status!=="error"||N.error!==z.reason)&&j();break}}return N}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Dp(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#g.size)return!0;const s=new Set(i??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(a=>{const l=a;return this.#i[l]!==t[l]&&s.has(l)})};this.#x({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(t){$n.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function A$(t,e){return Ai(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function eR(t,e){return A$(t,e)||t.state.data!==void 0&&l_(t,e,e.refetchOnMount)}function l_(t,e,n){if(Ai(e.enabled,t)!==!1&&ao(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Uw(t,e)}return!1}function tR(t,e,n,r){return(t!==e||Ai(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Uw(t,n)}function Uw(t,e){return Ai(e.enabled,t)!==!1&&t.isStaleByTime(ao(e.staleTime,t))}function R$(t,e){return!Dp(t.getCurrentResult(),e)}function nR(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},m=c1(e.options,e.fetchOptions),v=async(b,y,S)=>{if(h)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const T=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:y,direction:S?"backward":"forward",meta:e.options.meta};return g(k),k})(),A=await m(T),{maxPages:M}=e.options,D=S?b$:y$;return{pages:D(b.pages,A,M),pageParams:D(b.pageParams,y,M)}};if(i&&s.length){const b=i==="backward",y=b?D$:rR,S={pages:s,pageParams:a},C=y(r,S);l=await v(S,C,b)}else{const b=t??s.length;do{const y=u===0?a[0]??r.initialPageParam:rR(r,l);if(u>0&&y==null)break;l=await v(l,y),u++}while(u<b)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function rR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function D$(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var O$=class extends h1{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||p1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=f1({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),$n.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function p1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var M$=class extends wu{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new O$({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=hg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=hg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=hg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=hg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){$n.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>QA(e,n))}findAll(t={}){return this.getAll().filter(e=>QA(t,e))}notify(t){$n.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return $n.batch(()=>Promise.all(t.map(e=>e.continue().catch(wr))))}};function hg(t){return t.options.scope?.id}var k$=class extends wu{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Dp(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&wl(n.mutationKey)!==wl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??p1();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){$n.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},N$=class extends wu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??jw(r,e);let s=this.get(i);return s||(s=new C$({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>KA(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>KA(t,n)):e}notify(t){$n.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){$n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},I$=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new N$,this.#t=t.mutationCache||new M$,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Fw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Op.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ao(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,a=p$(e,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return $n.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;$n.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return $n.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=$n.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(wr).catch(wr)}invalidateQueries(t,e={}){return $n.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=$n.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(wr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(wr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ao(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wr).catch(wr)}fetchInfiniteQuery(t){return t.behavior=nR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wr).catch(wr)}ensureInfiniteQueryData(t){return t.behavior=nR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Op.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(wl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{uf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(wl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{uf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Lw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},m1=E.createContext(void 0),Vr=t=>{const e=E.useContext(m1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},P$=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(m1.Provider,{value:t,children:e})),v1=E.createContext(!1),j$=()=>E.useContext(v1);v1.Provider;function L$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var F$=E.createContext(L$()),U$=()=>E.useContext(F$),z$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},H$=t=>{E.useEffect(()=>{t.clearReset()},[t])},B$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||u1(n,[t.error,r])),$$=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},V$=(t,e)=>t.isLoading&&t.isFetching&&!e,q$=(t,e)=>t?.suspense&&e.isPending,iR=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function W$(t,e,n){const r=j$(),i=U$(),s=Vr(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",$$(a),z$(a,i),H$(i);const l=!s.getQueryCache().get(a.queryHash),[u]=E.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!r&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(g=>{const m=h?u.subscribe($n.batchCalls(g)):wr;return u.updateResult(),m},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),E.useEffect(()=>{u.setOptions(a)},[a,u]),q$(a,d))throw iR(a,u,i);if(B$({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!_l&&V$(d,r)&&(l?iR(a,u,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(wr).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function Ml(t,e){return W$(t,T$)}function va(t,e){const n=Vr(),[r]=E.useState(()=>new k$(n,t));E.useEffect(()=>{r.setOptions(t)},[r,t]);const i=E.useSyncExternalStore(E.useCallback(a=>r.subscribe($n.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=E.useCallback((a,l)=>{r.mutate(a,l).catch(wr)},[r]);if(i.error&&u1(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const G$="modulepreload",Y$=function(t){return"/scheduler_demo/"+t},sR={},ar=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(d=>{if(d=Y$(d),d in sR)return;sR[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":G$,h||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((v,b)=>{m.addEventListener("load",v),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function K$(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Q$=t=>{switch(t){case"success":return J$;case"info":return tV;case"warning":return eV;case"error":return nV;default:return null}},X$=Array(12).fill(0),Z$=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},X$.map((n,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),J$=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eV=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tV=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nV=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rV=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iV=()=>{const[t,e]=le.useState(document.hidden);return le.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let c_=1;class sV{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:c_++,a=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:r}),{...u,...e,id:s,dismissible:l,title:r}):u):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const l=i.then(async d=>{if(a=["resolve",d],le.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(oV(d)&&!d.ok){s=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...b})}else if(d instanceof Error){s=!1;const g=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,b=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...b})}else if(n.success!==void 0){s=!1;const g=typeof n.success=="function"?await n.success(d):n.success,m=typeof n.description=="function"?await n.description(d):n.description,b=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:m,...b})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,v=typeof h=="object"&&!le.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...v})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=n?.id||c_++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fr=new sV,aV=(t,e)=>{const n=e?.id||c_++;return Fr.addToast({title:t,...e,id:n}),n},oV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",lV=aV,cV=()=>Fr.toasts,uV=()=>Fr.getActiveToasts(),yo=Object.assign(lV,{success:Fr.success,info:Fr.info,warning:Fr.warning,error:Fr.error,custom:Fr.custom,message:Fr.message,promise:Fr.promise,dismiss:Fr.dismiss,loading:Fr.loading},{getHistory:cV,getToasts:uV});K$("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function gg(t){return t.label!==void 0}const dV=3,fV="24px",hV="16px",aR=4e3,gV=356,pV=14,mV=45,vV=200;function cs(...t){return t.filter(Boolean).join(" ")}function yV(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const bV=t=>{var e,n,r,i,s,a,l,u,d;const{invert:h,toast:g,unstyled:m,interacting:v,setHeights:b,visibleToasts:y,heights:S,index:C,toasts:T,expanded:A,removeToast:M,defaultRichColors:D,closeButton:k,style:N,cancelButtonStyle:O,actionButtonStyle:j,className:z="",descriptionClassName:B="",duration:Q,position:ne,gap:de,expandByDefault:ge,classNames:P,icons:G,closeButtonAriaLabel:q="Close toast"}=t,[W,ye]=le.useState(null),[F,te]=le.useState(null),[V,J]=le.useState(!1),[ue,me]=le.useState(!1),[Z,pe]=le.useState(!1),[Ce,Te]=le.useState(!1),[Le,He]=le.useState(!1),[$t,xe]=le.useState(0),[$e,Ze]=le.useState(0),kt=le.useRef(g.duration||Q||aR),Cn=le.useRef(null),Je=le.useRef(null),L=C===0,Y=C+1<=y,ee=g.type,X=g.dismissible!==!1,se=g.className||"",fe=g.descriptionClassName||"",_e=le.useMemo(()=>S.findIndex(Ee=>Ee.toastId===g.id)||0,[S,g.id]),we=le.useMemo(()=>{var Ee;return(Ee=g.closeButton)!=null?Ee:k},[g.closeButton,k]),Se=le.useMemo(()=>g.duration||Q||aR,[g.duration,Q]),Ne=le.useRef(0),et=le.useRef(0),Ye=le.useRef(0),pt=le.useRef(null),[lt,Vt]=ne.split("-"),ct=le.useMemo(()=>S.reduce((Ee,Ge,mt)=>mt>=_e?Ee:Ee+Ge.height,0),[S,_e]),We=iV(),_n=g.invert||h,rt=ee==="loading";et.current=le.useMemo(()=>_e*de+ct,[_e,ct]),le.useEffect(()=>{kt.current=Se},[Se]),le.useEffect(()=>{J(!0)},[]),le.useEffect(()=>{const Ee=Je.current;if(Ee){const Ge=Ee.getBoundingClientRect().height;return Ze(Ge),b(mt=>[{toastId:g.id,height:Ge,position:g.position},...mt]),()=>b(mt=>mt.filter(wt=>wt.toastId!==g.id))}},[b,g.id]),le.useLayoutEffect(()=>{if(!V)return;const Ee=Je.current,Ge=Ee.style.height;Ee.style.height="auto";const mt=Ee.getBoundingClientRect().height;Ee.style.height=Ge,Ze(mt),b(wt=>wt.find(St=>St.toastId===g.id)?wt.map(St=>St.toastId===g.id?{...St,height:mt}:St):[{toastId:g.id,height:mt,position:g.position},...wt])},[V,g.title,g.description,b,g.id,g.jsx,g.action,g.cancel]);const _t=le.useCallback(()=>{me(!0),xe(et.current),b(Ee=>Ee.filter(Ge=>Ge.toastId!==g.id)),setTimeout(()=>{M(g)},vV)},[g,M,b,et]);le.useEffect(()=>{if(g.promise&&ee==="loading"||g.duration===1/0||g.type==="loading")return;let Ee;return A||v||We?(()=>{if(Ye.current<Ne.current){const wt=new Date().getTime()-Ne.current;kt.current=kt.current-wt}Ye.current=new Date().getTime()})():(()=>{kt.current!==1/0&&(Ne.current=new Date().getTime(),Ee=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),_t()},kt.current))})(),()=>clearTimeout(Ee)},[A,v,g,ee,We,_t]),le.useEffect(()=>{g.delete&&(_t(),g.onDismiss==null||g.onDismiss.call(g,g))},[_t,g.delete]);function yr(){var Ee;if(G?.loading){var Ge;return le.createElement("div",{className:cs(P?.loader,g==null||(Ge=g.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":ee==="loading"},G.loading)}return le.createElement(Z$,{className:cs(P?.loader,g==null||(Ee=g.classNames)==null?void 0:Ee.loader),visible:ee==="loading"})}const br=g.icon||G?.[ee]||Q$(ee);var Ct,Kt;return le.createElement("li",{tabIndex:0,ref:Je,className:cs(z,se,P?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,P?.default,P?.[ee],g==null||(n=g.classNames)==null?void 0:n[ee]),"data-sonner-toast":"","data-rich-colors":(Ct=g.richColors)!=null?Ct:D,"data-styled":!(g.jsx||g.unstyled||m),"data-mounted":V,"data-promise":!!g.promise,"data-swiped":Le,"data-removed":ue,"data-visible":Y,"data-y-position":lt,"data-x-position":Vt,"data-index":C,"data-front":L,"data-swiping":Z,"data-dismissible":X,"data-type":ee,"data-invert":_n,"data-swipe-out":Ce,"data-swipe-direction":F,"data-expanded":!!(A||ge&&V),"data-testid":g.testId,style:{"--index":C,"--toasts-before":C,"--z-index":T.length-C,"--offset":`${ue?$t:et.current}px`,"--initial-height":ge?"auto":`${$e}px`,...N,...g.style},onDragEnd:()=>{pe(!1),ye(null),pt.current=null},onPointerDown:Ee=>{Ee.button!==2&&(rt||!X||(Cn.current=new Date,xe(et.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(pe(!0),pt.current={x:Ee.clientX,y:Ee.clientY})))},onPointerUp:()=>{var Ee,Ge,mt;if(Ce||!X)return;pt.current=null;const wt=Number(((Ee=Je.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mn=Number(((Ge=Je.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),St=new Date().getTime()-((mt=Cn.current)==null?void 0:mt.getTime()),tt=W==="x"?wt:mn,Tn=Math.abs(tt)/St;if(Math.abs(tt)>=mV||Tn>.11){xe(et.current),g.onDismiss==null||g.onDismiss.call(g,g),te(W==="x"?wt>0?"right":"left":mn>0?"down":"up"),_t(),Te(!0);return}else{var Jt,on;(Jt=Je.current)==null||Jt.style.setProperty("--swipe-amount-x","0px"),(on=Je.current)==null||on.style.setProperty("--swipe-amount-y","0px")}He(!1),pe(!1),ye(null)},onPointerMove:Ee=>{var Ge,mt,wt;if(!pt.current||!X||((Ge=window.getSelection())==null?void 0:Ge.toString().length)>0)return;const St=Ee.clientY-pt.current.y,tt=Ee.clientX-pt.current.x;var Tn;const Jt=(Tn=t.swipeDirections)!=null?Tn:yV(ne);!W&&(Math.abs(tt)>1||Math.abs(St)>1)&&ye(Math.abs(tt)>Math.abs(St)?"x":"y");let on={x:0,y:0};const fi=er=>1/(1.5+Math.abs(er)/20);if(W==="y"){if(Jt.includes("top")||Jt.includes("bottom"))if(Jt.includes("top")&&St<0||Jt.includes("bottom")&&St>0)on.y=St;else{const er=St*fi(St);on.y=Math.abs(er)<Math.abs(St)?er:St}}else if(W==="x"&&(Jt.includes("left")||Jt.includes("right")))if(Jt.includes("left")&&tt<0||Jt.includes("right")&&tt>0)on.x=tt;else{const er=tt*fi(tt);on.x=Math.abs(er)<Math.abs(tt)?er:tt}(Math.abs(on.x)>0||Math.abs(on.y)>0)&&He(!0),(mt=Je.current)==null||mt.style.setProperty("--swipe-amount-x",`${on.x}px`),(wt=Je.current)==null||wt.style.setProperty("--swipe-amount-y",`${on.y}px`)}},we&&!g.jsx&&ee!=="loading"?le.createElement("button",{"aria-label":q,"data-disabled":rt,"data-close-button":!0,onClick:rt||!X?()=>{}:()=>{_t(),g.onDismiss==null||g.onDismiss.call(g,g)},className:cs(P?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(Kt=G?.close)!=null?Kt:rV):null,(ee||g.icon||g.promise)&&g.icon!==null&&(G?.[ee]!==null||g.icon)?le.createElement("div",{"data-icon":"",className:cs(P?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||yr():null,g.type!=="loading"?br:null):null,le.createElement("div",{"data-content":"",className:cs(P?.content,g==null||(s=g.classNames)==null?void 0:s.content)},le.createElement("div",{"data-title":"",className:cs(P?.title,g==null||(a=g.classNames)==null?void 0:a.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?le.createElement("div",{"data-description":"",className:cs(B,fe,P?.description,g==null||(l=g.classNames)==null?void 0:l.description)},typeof g.description=="function"?g.description():g.description):null),le.isValidElement(g.cancel)?g.cancel:g.cancel&&gg(g.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||O,onClick:Ee=>{gg(g.cancel)&&X&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ee),_t())},className:cs(P?.cancelButton,g==null||(u=g.classNames)==null?void 0:u.cancelButton)},g.cancel.label):null,le.isValidElement(g.action)?g.action:g.action&&gg(g.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||j,onClick:Ee=>{gg(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ee),!Ee.defaultPrevented&&_t())},className:cs(P?.actionButton,g==null||(d=g.classNames)==null?void 0:d.actionButton)},g.action.label):null)};function oR(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function _V(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",l=s?hV:fV;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):u(l)}),n}const wV=le.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:h,mobileOffset:g,theme:m="light",richColors:v,duration:b,style:y,visibleToasts:S=dV,toastOptions:C,dir:T=oR(),gap:A=pV,icons:M,containerAriaLabel:D="Notifications"}=e,[k,N]=le.useState([]),O=le.useMemo(()=>r?k.filter(V=>V.toasterId===r):k.filter(V=>!V.toasterId),[k,r]),j=le.useMemo(()=>Array.from(new Set([s].concat(O.filter(V=>V.position).map(V=>V.position)))),[O,s]),[z,B]=le.useState([]),[Q,ne]=le.useState(!1),[de,ge]=le.useState(!1),[P,G]=le.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=le.useRef(null),W=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),ye=le.useRef(null),F=le.useRef(!1),te=le.useCallback(V=>{N(J=>{var ue;return(ue=J.find(me=>me.id===V.id))!=null&&ue.delete||Fr.dismiss(V.id),J.filter(({id:me})=>me!==V.id)})},[]);return le.useEffect(()=>Fr.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{N(J=>J.map(ue=>ue.id===V.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{a1.flushSync(()=>{N(J=>{const ue=J.findIndex(me=>me.id===V.id);return ue!==-1?[...J.slice(0,ue),{...J[ue],...V},...J.slice(ue+1)]:[V,...J]})})})}),[k]),le.useEffect(()=>{if(m!=="system"){G(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:J})=>{G(J?"dark":"light")})}catch{V.addListener(({matches:ue})=>{try{G(ue?"dark":"light")}catch(me){console.error(me)}})}},[m]),le.useEffect(()=>{k.length<=1&&ne(!1)},[k]),le.useEffect(()=>{const V=J=>{var ue;if(a.every(pe=>J[pe]||J.code===pe)){var Z;ne(!0),(Z=q.current)==null||Z.focus()}J.code==="Escape"&&(document.activeElement===q.current||(ue=q.current)!=null&&ue.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[a]),le.useEffect(()=>{if(q.current)return()=>{ye.current&&(ye.current.focus({preventScroll:!0}),ye.current=null,F.current=!1)}},[q.current]),le.createElement("section",{ref:n,"aria-label":`${D} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((V,J)=>{var ue;const[me,Z]=V.split("-");return O.length?le.createElement("ol",{key:V,dir:T==="auto"?oR():T,tabIndex:-1,ref:q,className:d,"data-sonner-toaster":!0,"data-sonner-theme":P,"data-y-position":me,"data-x-position":Z,style:{"--front-toast-height":`${((ue=z[0])==null?void 0:ue.height)||0}px`,"--width":`${gV}px`,"--gap":`${A}px`,...y,..._V(h,g)},onBlur:pe=>{F.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(F.current=!1,ye.current&&(ye.current.focus({preventScroll:!0}),ye.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||F.current||(F.current=!0,ye.current=pe.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{de||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||ge(!0)},onPointerUp:()=>ge(!1)},O.filter(pe=>!pe.position&&J===0||pe.position===V).map((pe,Ce)=>{var Te,Le;return le.createElement(bV,{key:pe.id,icons:M,index:Ce,toast:pe,defaultRichColors:v,duration:(Te=C?.duration)!=null?Te:b,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Le=C?.closeButton)!=null?Le:u,interacting:de,position:V,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:te,toasts:O.filter(He=>He.position==pe.position),heights:z.filter(He=>He.position==pe.position),setHeights:B,expandByDefault:l,gap:A,expanded:Q,swipeDirections:e.swipeDirections})})):null}))});var u_=function(t,e){return u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},u_(t,e)};function y1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Di=function(){return Di=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Di.apply(this,arguments)};function bo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function b1(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function _1(t,e){return function(n,r){e(n,r,t)}}function w1(t,e,n,r,i,s){function a(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!e&&t?r.static?t:t.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),g,m=!1,v=n.length-1;v>=0;v--){var b={};for(var y in r)b[y]=y==="access"?{}:r[y];for(var y in r.access)b.access[y]=r.access[y];b.addInitializer=function(C){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(C||null))};var S=(0,n[v])(l==="accessor"?{get:h.get,set:h.set}:h[u],b);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(g=a(S.get))&&(h.get=g),(g=a(S.set))&&(h.set=g),(g=a(S.init))&&i.unshift(g)}else(g=a(S))&&(l==="field"?i.unshift(g):h[u]=g)}d&&Object.defineProperty(d,r.name,h),m=!0}function S1(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function x1(t){return typeof t=="symbol"?t:"".concat(t)}function E1(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function C1(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ke(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(h){try{d(r.next(h))}catch(g){a(g)}}function u(h){try{d(r.throw(h))}catch(g){a(g)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})}function T1(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Rm=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function A1(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Rm(e,t,n)}function Mp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zw(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function R1(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zw(arguments[e]));return t}function D1(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}function Hw(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function lu(t){return this instanceof lu?(this.v=t,this):new lu(t)}function O1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(b){return Promise.resolve(b).then(v,g)}}function l(v,b){r[v]&&(i[v]=function(y){return new Promise(function(S,C){s.push([v,y,S,C])>1||u(v,y)})},b&&(i[v]=b(i[v])))}function u(v,b){try{d(r[v](b))}catch(y){m(s[0][3],y)}}function d(v){v.value instanceof lu?Promise.resolve(v.value.v).then(h,g):m(s[0][2],v)}function h(v){u("next",v)}function g(v){u("throw",v)}function m(v,b){v(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function M1(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:lu(t[i](a)),done:!1}:s?s(a):a}:s}}function k1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Mp=="function"?Mp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(l,u){a=t[s](a),i(l,u,a.done,a.value)})}}function i(s,a,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},a)}}function N1(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var SV=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},d_=function(t){return d_=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},d_(t)};function I1(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=d_(t),r=0;r<n.length;r++)n[r]!=="default"&&Rm(e,t,n[r]);return SV(e,t),e}function P1(t){return t&&t.__esModule?t:{default:t}}function j1(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function L1(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function F1(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function U1(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var xV=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function z1(t){function e(s){t.error=t.hasError?new xV(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function H1(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,a){return r?e?".jsx":".js":i&&(!s||!a)?n:i+s+"."+a.toLowerCase()+"js"}):t}const EV={__extends:y1,__assign:Di,__rest:bo,__decorate:b1,__param:_1,__esDecorate:w1,__runInitializers:S1,__propKey:x1,__setFunctionName:E1,__metadata:C1,__awaiter:ke,__generator:T1,__createBinding:Rm,__exportStar:A1,__values:Mp,__read:zw,__spread:R1,__spreadArrays:D1,__spreadArray:Hw,__await:lu,__asyncGenerator:O1,__asyncDelegator:M1,__asyncValues:k1,__makeTemplateObject:N1,__importStar:I1,__importDefault:P1,__classPrivateFieldGet:j1,__classPrivateFieldSet:L1,__classPrivateFieldIn:F1,__addDisposableResource:U1,__disposeResources:z1,__rewriteRelativeImportExtension:H1},CV=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:U1,get __assign(){return Di},__asyncDelegator:M1,__asyncGenerator:O1,__asyncValues:k1,__await:lu,__awaiter:ke,__classPrivateFieldGet:j1,__classPrivateFieldIn:F1,__classPrivateFieldSet:L1,__createBinding:Rm,__decorate:b1,__disposeResources:z1,__esDecorate:w1,__exportStar:A1,__extends:y1,__generator:T1,__importDefault:P1,__importStar:I1,__makeTemplateObject:N1,__metadata:C1,__param:_1,__propKey:x1,__read:zw,__rest:bo,__rewriteRelativeImportExtension:H1,__runInitializers:S1,__setFunctionName:E1,__spread:R1,__spreadArray:Hw,__spreadArrays:D1,__values:Mp,default:EV},Symbol.toStringTag,{value:"Module"})),TV=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ar(async()=>{const{default:r}=await Promise.resolve().then(()=>kl);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Bw extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class lR extends Bw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cR extends Bw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uR extends Bw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var f_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(f_||(f_={}));class AV{constructor(e,{headers:n={},customFetch:r,region:i=f_.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=TV(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ke(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:a,body:l,signal:u}=r;let d={},{region:h}=r;h||(h=this.region);const g=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let m;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(d["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(d["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const v=yield this.fetch(g.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:m,signal:u}).catch(C=>{throw C.name==="AbortError"?C:new lR(C)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new cR(v);if(!v.ok)throw new uR(v);let y=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield v.json():y==="application/octet-stream"||y==="application/pdf"?S=yield v.blob():y==="text/event-stream"?S=v:y==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new lR(s)}:{data:null,error:s,response:s instanceof uR||s instanceof cR?s.context:void 0}}})}}var ur={};const Su=Hk(CV);var pg={},mg={},vg={},yg={},bg={},RV=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cu=RV();const DV=cu.fetch,B1=cu.fetch.bind(cu),$1=cu.Headers,OV=cu.Request,MV=cu.Response,kl=Object.freeze(Object.defineProperty({__proto__:null,Headers:$1,Request:OV,Response:MV,default:B1,fetch:DV},Symbol.toStringTag,{value:"Module"})),kV=Hk(kl);var _g={},dR;function V1(){if(dR)return _g;dR=1,Object.defineProperty(_g,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return _g.default=t,_g}var fR;function q1(){if(fR)return bg;fR=1,Object.defineProperty(bg,"__esModule",{value:!0});const t=Su,e=t.__importDefault(kV),n=t.__importDefault(V1());class r{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,m,v;let b=null,y=null,S=null,C=d.status,T=d.statusText;if(d.ok){if(this.method!=="HEAD"){const k=await d.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?y=k:y=JSON.parse(k))}const M=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),D=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");M&&D&&D.length>1&&(S=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(b={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,S=null,C=406,T="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const M=await d.text();try{b=JSON.parse(M),Array.isArray(b)&&d.status===404&&(y=[],b=null,C=200,T="OK")}catch{d.status===404&&M===""?(C=204,T="No Content"):b={message:M}}if(b&&this.isMaybeSingle&&(!((v=b?.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,C=200,T="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:y,count:S,status:C,statusText:T}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,g,m;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(g=d?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(m=d?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return bg.default=r,bg}var hR;function W1(){if(hR)return yg;hR=1,Object.defineProperty(yg,"__esModule",{value:!0});const e=Su.__importDefault(q1());class n extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const g=[i?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return yg.default=n,yg}var gR;function $w(){if(gR)return vg;gR=1,Object.defineProperty(vg,"__esModule",{value:!0});const e=Su.__importDefault(W1());class n extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}}return vg.default=n,vg}var pR;function G1(){if(pR)return mg;pR=1,Object.defineProperty(mg,"__esModule",{value:!0});const e=Su.__importDefault($w());class n{constructor(i,{headers:s={},schema:a,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(i,s){const{head:a=!1,count:l}=s??{},u=a?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var l;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(g.length>0){const m=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return mg.default=n,mg}var mR;function NV(){if(mR)return pg;mR=1,Object.defineProperty(pg,"__esModule",{value:!0});const t=Su,e=t.__importDefault(G1()),n=t.__importDefault($w());class r{constructor(s,{headers:a={},schema:l,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:u=!1,count:d}={}){var h;let g;const m=new URL(`${this.url}/rpc/${s}`);let v;l||u?(g=l?"HEAD":"GET",Object.entries(a).filter(([y,S])=>S!==void 0).map(([y,S])=>[y,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([y,S])=>{m.searchParams.append(y,S)})):(g="POST",v=a);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new n.default({method:g,url:m,headers:b,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return pg.default=r,pg}var vR;function IV(){if(vR)return ur;vR=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.PostgrestError=ur.PostgrestBuilder=ur.PostgrestTransformBuilder=ur.PostgrestFilterBuilder=ur.PostgrestQueryBuilder=ur.PostgrestClient=void 0;const t=Su,e=t.__importDefault(NV());ur.PostgrestClient=e.default;const n=t.__importDefault(G1());ur.PostgrestQueryBuilder=n.default;const r=t.__importDefault($w());ur.PostgrestFilterBuilder=r.default;const i=t.__importDefault(W1());ur.PostgrestTransformBuilder=i.default;const s=t.__importDefault(q1());ur.PostgrestBuilder=s.default;const a=t.__importDefault(V1());return ur.PostgrestError=a.default,ur.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},ur}var PV=IV();const jV=If(PV),{PostgrestClient:LV,PostgrestQueryBuilder:lde,PostgrestFilterBuilder:cde,PostgrestTransformBuilder:ude,PostgrestBuilder:dde,PostgrestError:fde}=jV;class FV{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const UV="2.76.1",zV=`realtime-js/${UV}`,HV="1.0.0",h_=1e4,BV=1e3,$V=100;var Bd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bd||(Bd={}));var Un;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Un||(Un={}));var $i;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($i||($i={}));var g_;(function(t){t.websocket="websocket"})(g_||(g_={}));var ll;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ll||(ll={}));class VV{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+i));a=a+i;const u=r.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class Y1{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qt||(Qt={}));const yR=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=qV(a,t,e,i),s),{}):{}},qV=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i?.type,a=n[t];return s&&!r.includes(s)?K1(s,a):p_(a)},K1=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return KV(e,n)}switch(t){case Qt.bool:return WV(e);case Qt.float4:case Qt.float8:case Qt.int2:case Qt.int4:case Qt.int8:case Qt.numeric:case Qt.oid:return GV(e);case Qt.json:case Qt.jsonb:return YV(e);case Qt.timestamp:return QV(e);case Qt.abstime:case Qt.date:case Qt.daterange:case Qt.int4range:case Qt.int8range:case Qt.money:case Qt.reltime:case Qt.text:case Qt.time:case Qt.timestamptz:case Qt.timetz:case Qt.tsrange:case Qt.tstzrange:return p_(e);default:return p_(e)}},p_=t=>t,WV=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},GV=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},YV=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},KV=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>K1(e,l))}return t},QV=t=>typeof t=="string"?t.replace(" ","T"):t,Q1=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zb{constructor(e,n,r={},i=h_){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bR;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bR||(bR={}));class $d{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$d.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=$d.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$d.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),l={},u={};return this.map(s,(d,h)=>{a[d]||(u[d]=h)}),this.map(a,(d,h)=>{const g=s[d];if(g){const m=h.map(S=>S.presence_ref),v=g.map(S=>S.presence_ref),b=h.filter(S=>v.indexOf(S.presence_ref)<0),y=g.filter(S=>m.indexOf(S.presence_ref)<0);b.length>0&&(l[d]=b),y.length>0&&(u[d]=y)}else l[d]=h}),this.syncDiff(s,{joins:l,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),h.length>0){const g=e[l].map(v=>v.presence_ref),m=h.filter(v=>g.indexOf(v.presence_ref)<0);e[l].unshift(...m)}r(l,h,u)}),this.map(a,(l,u)=>{let d=e[l];if(!d)return;const h=u.map(g=>g.presence_ref);d=d.filter(g=>h.indexOf(g.presence_ref)<0),e[l]=d,i(l,d,u),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _R;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_R||(_R={}));var Vd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vd||(Vd={}));var Js;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Js||(Js={}));class Vw{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zb(this,$i.join,this.params,this.timeout),this.rejoinTimer=new Y1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on($i.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new $d(this),this.broadcastEndpointURL=Q1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Vd.PRESENCE]&&this.bindings[Vd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(Js.CHANNEL_ERROR,v)),this._onClose(()=>e?.(Js.CLOSED)),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){e?.(Js.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,S=(b=y?.length)!==null&&b!==void 0?b:0,C=[];for(let T=0;T<S;T++){const A=y[T],{filter:{event:M,schema:D,table:k,filter:N}}=A,O=v&&v[T];if(O&&O.event===M&&O.schema===D&&O.table===k&&O.filter===N)C.push(Object.assign(Object.assign({},A),{id:O.id}));else{this.unsubscribe(),this.state=Un.errored,e?.(Js.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Js.SUBSCRIBED);return}}).receive("error",v=>{this.state=Un.errored,e?.(Js.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(Js.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Un.joined&&e===Vd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($i.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new zb(this,$i.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zb(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$V){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=$i;if(r&&[l,u,d,h].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var b,y,S;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(y=v.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(v=>v.callback(m,r)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var b,y,S,C,T,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const M=v.id,D=(b=v.filter)===null||b===void 0?void 0:b.event;return M&&((y=n.ids)===null||y===void 0?void 0:y.includes(M))&&(D==="*"||D?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(T=(C=v?.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return M==="*"||M===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:y,table:S,commit_timestamp:C,type:T,errors:A}=b;m=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:C,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(b))}v.callback(m,r)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Vw.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($i.close,{},e)}_onError(e){this._on($i.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=yR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=yR(e.columns,e.old_record)),n}}const Hb=()=>{},wg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XV=[1e3,2e3,5e3,1e4],ZV=1e4,JV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e5{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=h_,this.transport=null,this.heartbeatIntervalMs=wg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hb,this.ref=0,this.reconnectTimer=null,this.logger=Hb,this.conn=null,this.sendBuffer=[],this.serializer=new VV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>ar(async()=>{const{default:l}=await Promise.resolve().then(()=>kl);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${g_.websocket}`,this.httpEndpoint=Q1(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FV.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HV}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bd.connecting:return ll.Connecting;case Bd.open:return ll.Open;case Bd.closing:return ll.Closing;default:return ll.Closed}}isConnected(){return this.connectionState()===ll.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Vw(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(BV,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,l=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),s),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($i.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([JV],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:zV};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push($i.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Y1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,l,u,d,h;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:h_,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:wg.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Hb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(g=>XV[g-1]||ZV),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((g,m)=>m(JSON.stringify(g))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class qw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class t5 extends qw{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class m_ extends qw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Ww=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ar(async()=>{const{default:r}=await Promise.resolve().then(()=>kl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},n5=()=>ke(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ar(()=>Promise.resolve().then(()=>kl),void 0)).Response:Response}),v_=t=>{if(Array.isArray(t))return t.map(n=>v_(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=v_(r)}),e},r5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Bb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i5=(t,e,n)=>ke(void 0,void 0,void 0,function*(){const r=yield n5();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const s=t.status||500,a=i?.statusCode||s+"";e(new t5(Bb(i),s,a))}).catch(i=>{e(new m_(Bb(i),i))}):e(new m_(Bb(t),t))}),s5=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(r5(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Lf(t,e,n,r,i,s){return ke(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,s5(e,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>i5(u,l,r))})})}function df(t,e,n,r){return ke(this,void 0,void 0,function*(){return Lf(t,"GET",e,n,r)})}function Bi(t,e,n,r,i){return ke(this,void 0,void 0,function*(){return Lf(t,"POST",e,r,i,n)})}function y_(t,e,n,r,i){return ke(this,void 0,void 0,function*(){return Lf(t,"PUT",e,r,i,n)})}function a5(t,e,n,r){return ke(this,void 0,void 0,function*(){return Lf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Gw(t,e,n,r,i){return ke(this,void 0,void 0,function*(){return Lf(t,"DELETE",e,r,i,n)})}class o5{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ke(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fn(e))return{data:null,error:e};throw e}})}}var X1;class l5{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[X1]="BlobDownloadBuilder",this.promise=null}asStream(){return new o5(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ke(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fn(e))return{data:null,error:e};throw e}})}}X1=Symbol.toStringTag;const c5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u5{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ww(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ke(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},wR),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=yield(e=="PUT"?y_:Bi)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fn(s))return{data:null,error:s};throw s}})}upload(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:wR.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=yield y_(this.fetch,l.toString(),u,{headers:h});return{data:{path:s,fullPath:g.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(fn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield Bi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new qw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}})}update(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Bi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Bi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ke(this,void 0,void 0,function*(){try{const i=yield Bi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),a=s?`?${s}`:"",l=this._getFinalPath(e),u=()=>df(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new l5(u,this.shouldThrowOnError)}info(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield df(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:v_(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}})}exists(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield a5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fn(r)&&r instanceof m_){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Gw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}})}list(e,n,r){return ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},c5),n),{prefix:e||""});return{data:yield Bi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fn(i))return{data:null,error:i};throw i}})}listV2(e,n){return ke(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Bi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Z1="2.76.1",J1={"X-Client-Info":`storage-js/${Z1}`};class d5{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},J1),n),this.fetch=Ww(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ke(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fn(e))return{data:null,error:e};throw e}})}getBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}})}createBucket(e){return ke(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ke(this,void 0,void 0,function*(){try{return{data:yield y_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Gw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}})}}class f5{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},J1),n),this.fetch=Ww(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}})}listBuckets(e){return ke(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,s=yield df(this.fetch,i,{headers:this.headers});return{data:Array.isArray(s)?s.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Gw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}})}}const Yw={"X-Client-Info":`storage-js/${Z1}`,"Content-Type":"application/json"};class eN extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ii(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class $b extends eN{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class h5 extends eN{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var SR;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(SR||(SR={}));const Kw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ar(async()=>{const{default:r}=await Promise.resolve().then(()=>kl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},g5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xR=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),p5=(t,e,n)=>ke(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const l=a?.statusCode||a?.code||i+"";e(new $b(xR(a),i,l))}).catch(()=>{const a=i+"",l=s.statusText||`HTTP ${i} error`;e(new $b(l,i,a))});else{const a=i+"",l=s.statusText||`HTTP ${i} error`;e(new $b(l,i,a))}}else e(new h5(xR(t),t))}),m5=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return r?(g5(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function v5(t,e,n,r,i,s){return ke(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,m5(e,r,i,s)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>p5(u,l,r))})})}function si(t,e,n,r,i){return ke(this,void 0,void 0,function*(){return v5(t,"POST",e,r,i,n)})}class y5{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yw),n),this.fetch=Kw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ke(this,void 0,void 0,function*(){try{return{data:(yield si(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ke(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}listIndexes(e){return ke(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ke(this,void 0,void 0,function*(){try{return{data:(yield si(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}}class b5{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yw),n),this.fetch=Kw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ke(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield si(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getVectors(e){return ke(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listVectors(e){return ke(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield si(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}queryVectors(e){return ke(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ke(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield si(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class _5{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yw),n),this.fetch=Kw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:(yield si(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listBuckets(){return ke(this,arguments,void 0,function*(e={}){try{return{data:yield si(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ke(this,void 0,void 0,function*(){try{return{data:(yield si(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class w5 extends _5{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new S5(this.url,this.headers,e,this.fetch)}}class S5 extends y5{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ke(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ke(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ke(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ke(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new x5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class x5 extends b5{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ke(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ke(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ke(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ke(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ke(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class E5 extends d5{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new u5(this.url,this.headers,e,this.fetch)}get vectors(){return new w5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new f5(this.url+"/iceberg",this.headers,this.fetch)}}const C5="2.76.1";let jd="";typeof Deno<"u"?jd="deno":typeof document<"u"?jd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jd="react-native":jd="node";const T5={"X-Client-Info":`supabase-js-${jd}/${C5}`},A5={headers:T5},R5={schema:"public"},D5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O5={},M5=t=>{let e;return t?e=t:typeof fetch>"u"?e=B1:e=fetch,(...n)=>e(...n)},k5=()=>typeof Headers>"u"?$1:Headers,N5=(t,e,n)=>{const r=M5(n),i=k5();return async(s,a)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:t;let d=new i(a?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},a),{headers:d}))}};function I5(t){return t.endsWith("/")?t:t+"/"}function P5(t,e){var n,r;const{db:i,auth:s,realtime:a,global:l}=t,{db:u,auth:d,realtime:h,global:g}=e,m={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function j5(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(I5(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tN="2.76.1",Bc=30*1e3,b_=3,Vb=b_*Bc,L5="http://localhost:9999",F5="supabase.auth.token",U5={"X-Client-Info":`gotrue-js/${tN}`},__="X-Supabase-Api-Version",nN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H5=600*1e3;class ff extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class B5 extends ff{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function $5(t){return Ue(t)&&t.name==="AuthApiError"}class cl extends ff{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _o extends ff{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Wa extends _o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function V5(t){return Ue(t)&&t.name==="AuthSessionMissingError"}class Tc extends _o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sg extends _o{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xg extends _o{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function q5(t){return Ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class ER extends _o{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class w_ extends _o{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function qb(t){return Ue(t)&&t.name==="AuthRetryableFetchError"}class CR extends _o{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class S_ extends _o{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TR=` 	
\r=`.split(""),W5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<TR.length;e+=1)t[TR[e].charCodeAt(0)]=-2;for(let e=0;e<kp.length;e+=1)t[kp[e].charCodeAt(0)]=e;return t})();function AR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(kp[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(kp[r]),e.queuedBits-=6}}function rN(t,e,n){const r=W5[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function RR(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{K5(a,r,n)};for(let a=0;a<t.length;a+=1)rN(t.charCodeAt(a),i,s);return e.join("")}function G5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Y5(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}G5(r,e)}}function K5(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Zc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)rN(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Q5(t){const e=[];return Y5(t,n=>e.push(n)),new Uint8Array(e)}function fl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>AR(i,n,r)),AR(null,n,r),e.join("")}function X5(t){return Math.round(Date.now()/1e3)+t}function Z5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ni=()=>typeof window<"u"&&typeof document<"u",Yo={tested:!1,writable:!1},iN=()=>{if(!ni())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yo.tested)return Yo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yo.tested=!0,Yo.writable=!0}catch{Yo.tested=!0,Yo.writable=!1}return Yo.writable};function J5(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const sN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ar(async()=>{const{default:r}=await Promise.resolve().then(()=>kl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},e3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$c=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ko=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$a=async(t,e)=>{await t.removeItem(e)};class Dm{constructor(){this.promise=new Dm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Dm.promiseConstructor=Promise;function Wb(t){const e=t.split(".");if(e.length!==3)throw new S_("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!z5.test(e[r]))throw new S_("JWT not in base64url format");return{header:JSON.parse(RR(e[0])),payload:JSON.parse(RR(e[1])),signature:Zc(e[2]),raw:{header:e[0],payload:e[1]}}}async function t3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function n3(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function r3(t){return("0"+t.toString(16)).substr(-2)}function i3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,r3).join("")}async function s3(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function a3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await s3(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ac(t,e,n=!1){const r=i3();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await $c(t,`${e}-code-verifier`,i);const s=await a3(r);return[s,r===s?"plain":"s256"]}const o3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l3(t){const e=t.headers.get(__);if(!e||!e.match(o3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function c3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function u3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rc(t){if(!d3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gb(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function DR(t){return JSON.parse(JSON.stringify(t))}const tl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),f3=[502,503,504];async function OR(t){var e;if(!e3(t))throw new w_(tl(t),0);if(f3.includes(t.status))throw new w_(tl(t),t.status);let n;try{n=await t.json()}catch(s){throw new cl(tl(s),s)}let r;const i=l3(t);if(i&&i.getTime()>=nN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new CR(tl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Wa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new CR(tl(n),t.status,n.weak_password.reasons);throw new B5(tl(n),t.status||500,r)}const h3=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Qe(t,e,n,r){var i;const s=Object.assign({},r?.headers);s[__]||(s[__]=nN["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await g3(t,e,n+l,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function g3(t,e,n,r,i,s){const a=h3(e,r,i,s);let l;try{l=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new w_(tl(u),0)}if(l.ok||await OR(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await OR(u)}}function zi(t){var e;let n=null;v3(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=X5(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function MR(t){const e=zi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function p3(t){return{data:t,error:null}}function m3(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=bo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function kR(t){return t}function v3(t){return t.access_token&&t.refresh_token&&t.expires_in}const Yb=["global","local","others"];class y3{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=sN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Yb[0]){if(Yb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yb.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xa})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=bo(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:m3,redirectTo:n?.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xa})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:kR});if(h.error)throw h.error;const g=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);d[`${S}Page`]=y}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Rc(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xa})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Rc(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Xa})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Rc(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xa})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Rc(e.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Rc(e.userId),Rc(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:kR});if(h.error)throw h.error;const g=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);d[`${S}Page`]=y}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ue(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function NR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Dc={debug:!!(globalThis&&iN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class b3 extends aN{}async function _3(t,e,n){Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new b3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Dc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function w3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oN(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function S3(t){return parseInt(t,16)}function x3(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function E3(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:u,resources:d,scheme:h,uri:g,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=oN(t.address),b=h?`${h}://${r}`:r,y=t.statement?`${t.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${v}

${y}`;let C=`URI: ${g}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),l&&(C+=`
Not Before: ${l.toISOString()}`),u&&(C+=`
Request ID: ${u}`),d){let T=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);T+=`
- ${A}`}C+=T}return`${S}
${C}`}class kn extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Np extends kn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function C3({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new kn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new kn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new kn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new kn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new kn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new kn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new kn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(lN(a)){if(s.rp.id!==a)return new kn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new kn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new kn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function T3({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new kn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(lN(r)){if(n.rpId!==r)return new kn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new kn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class A3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const R3=new A3;function D3(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=bo(t,["challenge","user","excludeCredentials"]),s=Zc(e).buffer,a=Object.assign(Object.assign({},n),{id:Zc(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Zc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function O3(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=bo(t,["challenge","allowCredentials"]),i=Zc(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Zc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function M3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:fl(new Uint8Array(t.response.attestationObject)),clientDataJSON:fl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function k3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:fl(new Uint8Array(i.authenticatorData)),clientDataJSON:fl(new Uint8Array(i.clientDataJSON)),signature:fl(new Uint8Array(i.signature)),userHandle:i.userHandle?fl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lN(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function IR(){var t,e;return!!(ni()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function N3(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Np("Browser returned unexpected credential type",e)}:{data:null,error:new Np("Empty credential response",e)}}catch(e){return{data:null,error:C3({error:e,options:t})}}}async function I3(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Np("Browser returned unexpected credential type",e)}:{data:null,error:new Np("Empty credential response",e)}}catch(e){return{data:null,error:T3({error:e,options:t})}}}const P3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},j3={userVerification:"preferred",hints:["security-key"]};function Ip(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const l=r[s];e(l)?r[s]=Ip(l,a):r[s]=Ip(a)}else r[s]=a}return r}function L3(t,e){return Ip(P3,t,e||{})}function F3(t,e){return Ip(j3,t,e||{})}class U3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const u=i??R3.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=L3(a.webauthn.credential_options.publicKey,s?.create),{data:h,error:g}=await N3({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const d=F3(a.webauthn.credential_options.publicKey,s?.request),{data:h,error:g}=await I3(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new cl("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new ff("rpId is required for WebAuthn authentication")};try{if(!IR())return{data:null,error:new cl("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new cl("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new ff("rpId is required for WebAuthn registration")};try{if(!IR())return{data:null,error:new cl("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new cl("Unexpected error in register",a)}}}}w3();const z3={url:L5,storageKey:F5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function PR(t,e,n){return await n()}const Oc={};class hf{get jwks(){var e,n;return(n=(e=Oc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Oc[this.storageKey]=Object.assign(Object.assign({},Oc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Oc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oc[this.storageKey]=Object.assign(Object.assign({},Oc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hf.nextInstanceID,hf.nextInstanceID+=1,this.instanceID>0&&ni()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},z3),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new y3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sN(i.fetch),this.lock=i.lock||PR,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ni()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=_3:this.lock=PR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new U3(this)},this.persistSession?(i.storage?this.storage=i.storage:iN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NR(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=NR(this.memoryStorage)),ni()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tN}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=J5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ni()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),q5(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?{error:n}:{error:new cl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:zi}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:h,password:g,options:m}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Ac(this.storage,this.storageKey)),s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:h,password:g,data:(n=m?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:v,code_challenge_method:b},xform:zi})}else if("phone"in e){const{phone:h,password:g,options:m}=e;s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=m?.data)!==null&&r!==void 0?r:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:zi})}else throw new Sg("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:l}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:MR})}else if("phone"in e){const{phone:s,password:a,options:l}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:MR})}else throw new Sg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Tc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,l,u,d,h,g,m;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:y,wallet:S,statement:C,options:T}=e;let A;if(ni())if(typeof S=="object")A=S;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")A=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const M=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=oN(D[0]);let N=(r=T?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const j=await A.request({method:"eth_chainId"});N=S3(j)}const O={domain:M.host,address:k,statement:C,uri:M.href,version:"1",chainId:N,nonce:(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=E3(O),b=await A.request({method:"personal_sign",params:[x3(v),k]})}try{const{data:y,error:S}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:zi});if(S)throw S;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Tc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:S})}catch(y){if(Ue(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var n,r,i,s,a,l,u,d,h,g,m,v;let b,y;if("message"in e)b=e.message,y=e.signature;else{const{chain:S,wallet:C,statement:T,options:A}=e;let M;if(ni())if(typeof C=="object")M=C;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))M=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const D=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const k=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),T?{statement:T}:null));let N;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")N=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)N=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${D.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const k=await M.signMessage(new TextEncoder().encode(b),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:S,error:C}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:fl(y)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:zi});if(C)throw C;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Tc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:C})}catch(S){if(Ue(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await Ko(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:zi});if(await $a(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Tc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Ue(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,l=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:zi}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Tc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:l,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ac(this.storage,this.storageKey));const{error:g}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:h}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Sg("You must provide either an email or phone number.")}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:zi});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Ac(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:p3})}catch(s){if(Ue(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Wa;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:l}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Sg("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ko(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Vb:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Ko(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Gb()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xa}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wa}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Xa})})}catch(n){if(Ue(n))return V5(n)&&(await this._removeSession(),await $a(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Wa;const a=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Ac(this.storage,this.storageKey));const{data:d,error:h}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Xa});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wa;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Wb(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Wa;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ni())throw new xg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ER("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ER("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:d}=e;if(!s||!l||!a||!d)throw new xg("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(l);let m=h+g;u&&(m=parseInt(u));const v=m-h;v*1e3<=Bc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const b=m-g;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,h);const{data:y,error:S}=await this._getUser(s);if(S)throw S;const C={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:m,refresh_token:a,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(Ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ko(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!($5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await $a(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Z5(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ac(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ue(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,u,d,h;const{data:g,error:m}=s;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return ni()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Ue(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:l,token:u,access_token:d,nonce:h}=e,g=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:zi}),{data:m,error:v}=g;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Tc}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:v})}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await n3(async i=>(i>0&&await t3(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&qb(s)&&Date.now()+a-r<Bc})}catch(r){if(this._debug(n,"error",r),Ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ni()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ko(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ko(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await $c(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:Gb()}else if(i&&!i.user&&!i.user){const a=await Ko(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await $a(this.storage,this.storageKey+"-user"),await $c(this.storage,this.storageKey,i)):i.user=Gb()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vb;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Vb}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),qb(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Wa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dm;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Wa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Ue(s)){const a={data:null,error:s};return qb(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $c(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=DR(i);await $c(this.storage,this.storageKey,s)}else{const i=DR(n);await $c(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await $a(this.storage,this.storageKey),await $a(this.storage,this.storageKey+"-code-verifier"),await $a(this.storage,this.storageKey+"-user"),this.userStorage&&await $a(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ni()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Bc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bc}ms, refresh threshold is ${b_} ticks`),i<=b_&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof aN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ni()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Ac(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?M3(e.webauthn.credential_response):k3(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:D3(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:O3(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Wb(i.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+H5>i)return r;const{data:s,error:a}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};r=v.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:u}}=Wb(r);n?.allowExpired||c3(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:a},error:null}}const h=u3(i.alg),g=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,a,Q5(`${l}.${u}`)))throw new S_("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}hf.nextInstanceID=0;const H3=hf;class B3 extends H3{constructor(e){super(e)}}class $3{constructor(e,n,r){var i,s,a;this.supabaseUrl=e,this.supabaseKey=n;const l=j5(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:R5,realtime:O5,auth:Object.assign(Object.assign({},D5),{storageKey:u}),global:A5},h=P5(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=N5(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new LV(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new E5(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new AV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:l,lock:u,debug:d},h,g){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B3({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:l,lock:u,debug:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new e5(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const V3=(t,e,n)=>new $3(t,e,n);function q3(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}q3()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W3="https://wufsjkzyjxgvualcaftn.supabase.co",G3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1ZnNqa3p5anhndnVhbGNhZnRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0NzAyNzAsImV4cCI6MjA3NzA0NjI3MH0.cq8pGstXbA3OzgPbkJNRrQT39ROA4t9N3czLSIWpjUs",Pt=V3(W3,G3,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),jn=(t,e="")=>t.code==="23505"?"This record already exists":t.code==="23503"?"Cannot perform this operation due to related records":t.code==="PGRST116"?"No records found":t.message?.includes("JWT")?"Authentication error. Please refresh the page":t.message||"An unexpected error occurred",sn={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},bt={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},ys={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},Mc={CREMA:"CREMA",LIQUIDO:"LIQUIDO",POLVERI:"POLVERI"},nl={T1:"T1",T2:"T2",T3:"T3"},Y3={THREE:3},jR={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},rn={MACHINE:{DEPARTMENT:sn.PRINTING,WORK_CENTER:bt.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[nl.T1],STATUS:ys.ACTIVE},PHASE:{DEPARTMENT:sn.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:bt.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:Y3.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},K3={MAX_TASK_SEGMENTS:50},Eg={MINUTES_PER_HOUR:60,MILLISECONDS_PER_MINUTE:60*1e3},Q3=Object.prototype.toString;function X3(t,e){return Q3.call(t)===`[object ${e}]`}function cN(t){return X3(t,"Object")}function Qw(t){return!!(t&&t.then&&typeof t.then=="function")}function Z3(t){return typeof t=="number"&&t!==t}function Cg(t){return t&&t.Math==Math?t:void 0}const or=typeof globalThis=="object"&&Cg(globalThis)||typeof window=="object"&&Cg(window)||typeof self=="object"&&Cg(self)||typeof global=="object"&&Cg(global)||(function(){return this})()||{};function uN(t,e,n){const r=n||or,i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}const dN=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,J3="Sentry Logger ",LR=["debug","info","warn","error","log","assert","trace"],FR={};function fN(t){if(!("console"in or))return t();const e=or.console,n={},r=Object.keys(FR);r.forEach(i=>{const s=FR[i];n[i]=e[i],e[i]=s});try{return t()}finally{r.forEach(i=>{e[i]=n[i]})}}function e4(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return dN?LR.forEach(n=>{e[n]=(...r)=>{t&&fN(()=>{or.console[n](`${J3}[${n}]:`,...r)})}}):LR.forEach(n=>{e[n]=()=>{}}),e}const pn=e4();function Gi(t){return x_(t,new Map)}function x_(t,e){if(t4(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const i of Object.keys(t))typeof t[i]<"u"&&(r[i]=x_(t[i],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(i=>{r.push(x_(i,e))}),r}return t}function t4(t){if(!cN(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const Kb="<anonymous>";function n4(t){try{return!t||typeof t!="function"?Kb:t.name||Kb}catch{return Kb}}const dp={},UR={};function hN(t,e){dp[t]=dp[t]||[],dp[t].push(e)}function gN(t,e){UR[t]||(e(),UR[t]=!0)}function pN(t,e){const n=t&&dp[t];if(n)for(const r of n)try{r(e)}catch(i){dN&&pn.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${n4(r)}
Error:`,i)}}function $r(){const t=or,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function r4(t){return Array.isArray(t)?t:[t]}let Tg=null;function i4(t){const e="error";hN(e,t),gN(e,s4)}function s4(){Tg=or.onerror,or.onerror=function(t,e,n,r,i){return pN("error",{column:r,error:i,line:n,msg:t,url:e}),Tg&&!Tg.__SENTRY_LOADER__?Tg.apply(this,arguments):!1},or.onerror.__SENTRY_INSTRUMENTED__=!0}let Ag=null;function a4(t){const e="unhandledrejection";hN(e,t),gN(e,o4)}function o4(){Ag=or.onunhandledrejection,or.onunhandledrejection=function(t){return pN("unhandledrejection",t),Ag&&!Ag.__SENTRY_LOADER__?Ag.apply(this,arguments):!0},or.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function l4(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function c4(){return!l4()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function hl(t,e){return t.require(e)}function u4(t){let e;try{e=hl(module,t)}catch{}try{const{cwd:n}=hl(module,"process");e=hl(module,`${n()}/node_modules/${t}`)}catch{}return e}var ea;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(ea||(ea={}));class Ka{constructor(e){Ka.prototype.__init.call(this),Ka.prototype.__init2.call(this),Ka.prototype.__init3.call(this),Ka.prototype.__init4.call(this),this._state=ea.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Ka((r,i)=>{this._handlers.push([!1,s=>{if(!e)r(s);else try{r(e(s))}catch(a){i(a)}},s=>{if(!n)i(s);else try{r(n(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Ka((n,r)=>{let i,s;return this.then(a=>{s=!1,i=a,e&&e()},a=>{s=!0,i=a,e&&e()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=e=>{this._setResult(ea.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ea.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===ea.PENDING){if(Qw(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ea.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===ea.RESOLVED&&n[1](this._value),this._state===ea.REJECTED&&n[2](this._value),n[0]=!0)})}}}const mN=1e3;function Xw(){return Date.now()/mN}function d4(){const{performance:t}=or;if(!t||!t.now)return Xw;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/mN}const Om=d4();(()=>{const{performance:t}=or;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number"?Math.abs(a+n-r):e,d=u<e;return s||d?i<=u?t.timeOrigin:a:r})();function f4(t=$r(),e=$r().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}const Zn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,vN="production";function h4(){return uN("globalEventProcessors",()=>[])}function E_(t,e,n,r=0){return new Ka((i,s)=>{const a=t[r];if(e===null||typeof a!="function")i(e);else{const l=a({...e},n);Zn&&a.id&&l===null&&pn.log(`Event processor "${a.id}" dropped event`),Qw(l)?l.then(u=>E_(t,u,n,r+1).then(i)).then(null,s):E_(t,l,n,r+1).then(i).then(null,s)}})}function g4(t){const e=Om(),n={sid:$r(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>m4(n)};return t&&Mm(n,t),n}function Mm(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Om(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:$r()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function p4(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Mm(t,n)}function m4(t){return Gi({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const v4=0,yN=1;function Zw(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:i,parent_span_id:s,status:a,tags:l,origin:u}=co(t);return Gi({data:r,op:i,parent_span_id:s,span_id:e,status:a,tags:l,trace_id:n,origin:u})}function bN(t){const{traceId:e,spanId:n}=t.spanContext(),r=wN(t);return f4(e,n,r)}function _N(t){return typeof t=="number"?zR(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?zR(t.getTime()):Om()}function zR(t){return t>9999999999?t/1e3:t}function co(t){return y4(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function y4(t){return typeof t.getSpanJSON=="function"}function wN(t){const{traceFlags:e}=t.spanContext();return!!(e&yN)}function SN(){return km().getClient()}function b4(){return km().getScope()}function Pp(t){return t.transaction}function _4(t,e,n){const r=e.getOptions(),{publicKey:i}=e.getDsn()||{},{segment:s}=n&&n.getUser()||{},a=Gi({environment:r.environment||vN,release:r.release,user_segment:s,public_key:i,trace_id:t});return e.emit&&e.emit("createDsc",a),a}function C_(t){const e=SN();if(!e)return{};const n=_4(co(t).trace_id||"",e,b4()),r=Pp(t);if(!r)return n;const i=r&&r._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:a}=r.metadata;s!=null&&(n.sample_rate=`${s}`);const l=co(r);return a&&a!=="url"&&(n.transaction=l.description),n.sampled=String(wN(r)),e.emit&&e.emit("createDsc",n),n}function w4(t,e){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=e;S4(t,e),r&&C4(t,r),T4(t,n),x4(t,i),E4(t,s)}function S4(t,e){const{extra:n,tags:r,user:i,contexts:s,level:a,transactionName:l}=e,u=Gi(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const d=Gi(r);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});const h=Gi(i);h&&Object.keys(h).length&&(t.user={...h,...t.user});const g=Gi(s);g&&Object.keys(g).length&&(t.contexts={...g,...t.contexts}),a&&(t.level=a),l&&(t.transaction=l)}function x4(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function E4(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function C4(t,e){t.contexts={trace:Zw(e),...t.contexts};const n=Pp(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:C_(e),...t.sdkProcessingMetadata};const r=co(n).description;r&&(t.tags={transaction:r,...t.tags})}}function T4(t,e){t.fingerprint=t.fingerprint?r4(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const A4=100;class Jc{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=HR()}static clone(e){return e?e.clone():new Jc}clone(){const e=new Jc;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Mm(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof Jc){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(cN(n)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=HR(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:A4;if(r<=0)return this;const i={timestamp:Xw(),...e},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:i,_extra:s,_user:a,_level:l,_fingerprint:u,_eventProcessors:d,_propagationContext:h,_sdkProcessingMetadata:g,_transactionName:m,_span:v}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:i,extra:s,user:a,level:l,fingerprint:u||[],eventProcessors:d,propagationContext:h,sdkProcessingMetadata:g,transactionName:m,span:v}}applyToEvent(e,n={},r=[]){w4(e,this.getScopeData());const i=[...r,...h4(),...this._eventProcessors];return E_(i,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:$r();if(!this._client)return pn.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureMessage(e,n,r){const i=r&&r.event_id?r.event_id:$r();if(!this._client)return pn.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i},this),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:$r();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(pn.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function HR(){return{traceId:$r(),spanId:$r().substring(16)}}const R4="7.120.4",xN=parseFloat(R4),D4=100;class EN{constructor(e,n,r,i=xN){this._version=i;let s;n?s=n:(s=new Jc,s.setClient(e));let a;r?a=r:(a=new Jc,a.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=a}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(i){throw this.popScope(),i}return Qw(r)?r.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:$r(),i=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:i,...n,event_id:r}),r}captureMessage(e,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:$r(),s=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i}),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:$r();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=D4}=i.getOptions&&i.getOptions()||{};if(a<=0)return;const u={timestamp:Xw(),...e},d=s?fN(()=>s(u,n)):u;d!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",d,n),r.addBreadcrumb(d,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=BR(this);try{e(this)}finally{BR(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return Zn&&pn.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return Zn&&!r&&(this.getClient()?pn.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):pn.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&p4(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=vN}=r&&r.getOptions()||{},{userAgent:a}=or.navigator||{},l=g4({release:i,environment:s,user:n.getUser(),...a&&{userAgent:a},...e}),u=n.getSession&&n.getSession();return u&&u.status==="ok"&&Mm(u,{status:"exited"}),this.endSession(),n.setSession(l),l}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const i=xu().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,n);Zn&&pn.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function xu(){return or.__SENTRY__=or.__SENTRY__||{extensions:{},hub:void 0},or}function BR(t){const e=xu(),n=T_(e);return CN(e,t),n}function km(){const t=xu();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return O4(t)}function O4(t=xu()){return(!M4(t)||T_(t).isOlderThan(xN))&&CN(t,new EN),T_(t)}function M4(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function T_(t){return uN("hub",()=>new EN,t)}function CN(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function k4(t){return(t||km()).getScope().getTransaction()}let $R=!1;function N4(){$R||($R=!0,i4(A_),a4(A_))}function A_(){const t=k4();if(t){const e="internal_error";Zn&&pn.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}A_.tag="sentry_tracingErrorCallback";var VR;(function(t){t.Ok="ok";const n="deadline_exceeded";t.DeadlineExceeded=n;const r="unauthenticated";t.Unauthenticated=r;const i="permission_denied";t.PermissionDenied=i;const s="not_found";t.NotFound=s;const a="resource_exhausted";t.ResourceExhausted=a;const l="invalid_argument";t.InvalidArgument=l;const u="unimplemented";t.Unimplemented=u;const d="unavailable";t.Unavailable=d;const h="internal_error";t.InternalError=h;const g="unknown_error";t.UnknownError=g;const m="cancelled";t.Cancelled=m;const v="already_exists";t.AlreadyExists=v;const b="failed_precondition";t.FailedPrecondition=b;const y="aborted";t.Aborted=y;const S="out_of_range";t.OutOfRange=S;const C="data_loss";t.DataLoss=C})(VR||(VR={}));function I4(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function P4(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=I4(e);n!=="unknown_error"&&t.setStatus(n)}function j4(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=SN(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const L4="_sentryScope",F4="_sentryIsolationScope";function U4(t){return{scope:t[L4],isolationScope:t[F4]}}const Qb="sentry.source",Wc="sentry.sample_rate",Rg="sentry.op",Dg="sentry.origin",z4="profile_id";class H4{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Jw{constructor(e={}){this._traceId=e.traceId||$r(),this._spanId=e.spanId||$r().substring(16),this._startTime=e.startTimestamp||Om(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Dg]:e.origin||"manual",[Rg]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[Rg]}set op(e){this.setAttribute(Rg,e)}get origin(){return this._attributes[Dg]}set origin(e){this.setAttribute(Dg,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?yN:v4}}startChild(e){const n=new Jw({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=Pp(this);if(n.transaction=r,Zn&&r){const i=e&&e.op||"< unknown op >",s=co(n).description||"< unknown name >",a=r.spanContext().spanId,l=`[Tracing] Starting '${i}' span on transaction '${s}' (${a}).`;pn.log(l),this._logMessage=l}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return P4(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=Pp(this);if(Zn&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&pn.log(r.replace("Starting","Finishing"))}this._endTime=_N(e)}toTraceparent(){return bN(this)}toContext(){return Gi({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return Zw(this)}getSpanJSON(){return Gi({data:this._getData(),description:this._name,op:this._attributes[Rg],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Dg],_metrics_summary:void 0,profile_id:this._attributes[z4],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,r=Object.keys(e).length>0,i=Object.keys(n).length>0;if(!(!r&&!i))return r&&i?{...e,...n}:r?e:n}}class B4 extends Jw{constructor(e,n){super(e),this._contexts={},this._hub=n||km(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Qb]&&{source:this._attributes[Qb]},...this._attributes[Wc]&&{sampleRate:this._attributes[Wc]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(Qb,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new H4(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,r=""){this._measurements[e]={value:n,unit:r}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=_N(e),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const e=super.toContext();return Gi({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return C_(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(Zn&&pn.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Zn&&pn.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(h=>h!==this&&co(h).timestamp):[];if(this._trimEnd&&r.length>0){const h=r.map(g=>co(g).timestamp).filter(Boolean);this._endTime=h.reduce((g,m)=>g>m?g:m)}const{scope:i,isolationScope:s}=U4(this),{metadata:a}=this,{source:l}=a,u={contexts:{...this._contexts,trace:Zw(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:i,capturedSpanIsolationScope:s,...Gi({dynamicSamplingContext:C_(this)})},_metrics_summary:void 0,...l&&{transaction_info:{source:l}}};return Object.keys(this._measurements).length>0&&(Zn&&pn.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),u.measurements=this._measurements),Zn&&pn.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),u}}function $4(t,e,n){if(!j4(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(Wc,Number(t.sampled)),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setAttribute(Wc,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate<"u"?(r=e.tracesSampleRate,t.setAttribute(Wc,Number(r))):(r=1,t.setAttribute(Wc,r)),V4(r)?r?(t.sampled=Math.random()<r,t.sampled?(Zn&&pn.log(`[Tracing] starting ${t.op} transaction - ${co(t).description}`),t):(Zn&&pn.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(Zn&&pn.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(Zn&&pn.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function V4(t){return Z3(t)||!(typeof t=="number"||typeof t=="boolean")?(Zn&&pn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(Zn&&pn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function q4(){const e=this.getScope().getSpan();return e?{"sentry-trace":bN(e)}:{}}function W4(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=t.instrumenter||"sentry";i!==s&&(Zn&&pn.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let a=new B4(t,this);return a=$4(a,r,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),a.isRecording()&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function G4(){const t=xu();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=W4),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=q4),N4())}function Y4(){const t=xu();if(!t.__SENTRY__)return;const e={mongodb(){const r=hl(module,"./node/integrations/mongo");return new r.Mongo},mongoose(){const r=hl(module,"./node/integrations/mongo");return new r.Mongo},mysql(){const r=hl(module,"./node/integrations/mysql");return new r.Mysql},pg(){const r=hl(module,"./node/integrations/postgres");return new r.Postgres}},n=Object.keys(e).filter(r=>!!u4(r)).map(r=>{try{return e[r]()}catch{return}}).filter(r=>r);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function K4(){G4(),c4()&&Y4()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&K4();const Q4=()=>{{console.log("Sentry not initialized: VITE_SENTRY_DSN not provided");return}},eS=(t,e={})=>{{console.warn("Sentry not configured, error not reported:",t);return}},TN=(t,e="user",n="info",r={})=>{},AN=t=>{if(!t||Array.isArray(t)&&t.length===0)return;let e;if(Array.isArray(t)){const n=t.filter(r=>r&&r.trim().length>0);if(n.length===0)return;n.length===1?e=n[0]:e=`Ci sono ${n.length} errori di validazione:

• ${n.join(`
• `)}`}else e=t;yo.error(e,{duration:1e4,position:"top-right",style:{maxWidth:"400px",whiteSpace:"pre-line"}})},RN=yo,Nl=yo.success,Ja=yo.error,Gc=yo.warning;yo.info;yo.dismiss;yo.dismiss;const kc=Object.freeze(Object.defineProperty({__proto__:null,showError:Ja,showSuccess:Nl,showToast:RN,showValidationError:AN,showWarning:Gc},Symbol.toStringTag,{value:"Module"})),Ie={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"},jp={[Ie.VALIDATION_ERROR]:"I dati inseriti non sono validi. Controlla i campi evidenziati.",[Ie.NETWORK_ERROR]:"Errore di connessione. Verifica la tua connessione internet.",[Ie.AUTHENTICATION_ERROR]:"Sessione scaduta. Effettua nuovamente l'accesso.",[Ie.AUTHORIZATION_ERROR]:"Non hai i permessi per eseguire questa operazione.",[Ie.NOT_FOUND_ERROR]:"La risorsa richiesta non è stata trovata.",[Ie.SERVER_ERROR]:"Errore del server. Riprova più tardi.",[Ie.BUSINESS_LOGIC_ERROR]:"Operazione non consentita dalle regole di business.",[Ie.UNKNOWN_ERROR]:"Si è verificato un errore imprevisto."};class st extends Error{constructor(e,n=Ie.UNKNOWN_ERROR,r=500,i={}){super(e),this.name="AppError",this.type=n,this.statusCode=r,this.context=i,this.timestamp=new Date().toISOString(),this.userMessage=jp[n]||jp[Ie.UNKNOWN_ERROR]}toJSON(){return{message:this.message,type:this.type,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage}}}const zr=(t,e={})=>{TN("API Error occurred","api","error",{error:t.message}),eS(t,{...e});let n=Ie.UNKNOWN_ERROR,r=jp[Ie.UNKNOWN_ERROR];if(t.response)switch(t.response.status){case 400:n=Ie.VALIDATION_ERROR;break;case 401:n=Ie.AUTHENTICATION_ERROR;break;case 403:n=Ie.AUTHORIZATION_ERROR;break;case 404:n=Ie.NOT_FOUND_ERROR;break;case 500:case 502:case 503:n=Ie.SERVER_ERROR;break;default:n=Ie.NETWORK_ERROR}else t.request&&(n=Ie.NETWORK_ERROR);return r=jp[n],Ja(r),new st(t.message,n,t.response?.status,e)},R_=async(t,e={})=>{try{return await t()}catch(n){return zr(n,e)}},qR=async(t,e=3,n=1e3)=>{let r;for(let i=0;i<e;i++)try{return await t()}catch(s){r=s,i<e-1&&(TN(`Retry attempt ${i+1}`,"retry","info",{error:s.message}),await new Promise(a=>setTimeout(a,n*Math.pow(2,i))))}throw eS(r,{}),r},DN=E.createContext(),X4=({children:t})=>{const[e,n]=E.useState(null),[r,i]=E.useState(null),[s,a]=E.useState(!0),[l,u]=E.useState(null);E.useEffect(()=>{(async()=>{try{const{data:{session:T},error:A}=await Pt.auth.getSession();A?u("Failed to initialize authentication"):(i(T),n(T?.user??null))}catch(T){const A=new st("Failed to initialize authentication",Ie.AUTHENTICATION_ERROR,401,T,"AuthContext.getInitialSession");u(A.message)}finally{a(!1)}})();const{data:{subscription:C}}=Pt.auth.onAuthStateChange(async(T,A)=>{i(A),n(A?.user??null),a(!1),u(null)});return()=>C.unsubscribe()},[]);const y={user:e,session:r,loading:s,error:l,signIn:async(S,C)=>{try{u(null),a(!0);const{data:T,error:A}=await Pt.auth.signInWithPassword({email:S,password:C});if(A)throw A;return{success:!0,user:T.user}}catch(T){const A=T instanceof st?T:new st(T.message,Ie.AUTHENTICATION_ERROR,401,T,"AuthContext.signIn");return u(A.message),{success:!1,error:A.message}}finally{a(!1)}},signUp:async(S,C,T={})=>{try{u(null),a(!0);const{data:A,error:M}=await Pt.auth.signUp({email:S,password:C,options:{data:T}});if(M)throw M;return{success:!0,user:A.user}}catch(A){return u(A.message),{success:!1,error:A.message}}finally{a(!1)}},signOut:async()=>{try{u(null),a(!0);const{error:S}=await Pt.auth.signOut();if(S)throw S;return{success:!0}}catch(S){return u(S.message),{success:!1,error:S.message}}finally{a(!1)}},resetPassword:async S=>{try{u(null),a(!0);const{error:C}=await Pt.auth.resetPasswordForEmail(S,{redirectTo:`${window.location.origin}/reset-password`});if(C)throw C;return{success:!0}}catch(C){return u(C.message),{success:!1,error:C.message}}finally{a(!1)}},updateProfile:async S=>{try{u(null),a(!0);const{data:C,error:T}=await Pt.auth.updateUser({data:S});if(T)throw T;return{success:!0,user:C.user}}catch(C){return u(C.message),{success:!1,error:C.message}}finally{a(!1)}},getUserProfile:async()=>{if(!e)return null;try{const{data:S,error:C}=await Pt.from("profiles").select("*").eq("id",e.id).single();return C?null:S}catch{return null}},isAuthenticated:!!e};return w.jsx(DN.Provider,{value:y,children:t})},Il=()=>{const t=E.useContext(DN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},WR=t=>{let e;const n=new Set,r=(d,h)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const m=e;e=h??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(v=>v(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(r,i,l);return l},Z4=(t=>t?WR(t):WR),J4=t=>t;function e6(t,e=J4){const n=le.useSyncExternalStore(t.subscribe,le.useCallback(()=>e(t.getState()),[t,e]),le.useCallback(()=>e(t.getInitialState()),[t,e]));return le.useDebugValue(n),n}const GR=t=>{const e=Z4(t),n=r=>e6(e,r);return Object.assign(n,e),n},wo=(t=>t?GR(t):GR),ON=wo(t=>({isOpen:!0,toggle:()=>t(e=>({isOpen:!e.isOpen})),open:()=>t({isOpen:!0}),close:()=>t({isOpen:!1})}));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),YR=t=>{const e=n6(t);return e.charAt(0).toUpperCase()+e.slice(1)},MN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),r6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>E.createElement("svg",{ref:u,...i6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MN("lucide",i),...!s&&!r6(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,h])=>E.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(s6,{ref:s,iconNode:e,className:MN(`lucide-${t6(YR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=YR(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],o6=mr("calendar",a6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],c6=mr("check",l6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kN=mr("chevron-down",u6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],f6=mr("chevron-right",d6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],g6=mr("chevron-up",h6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m6=mr("clock",p6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],y6=mr("file-text",v6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],_6=mr("house",b6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],S6=mr("log-out",w6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],E6=mr("menu",x6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],T6=mr("monitor",C6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],R6=mr("moon",A6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NN=mr("settings",D6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],M6=mr("sun",O6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],N6=mr("users",k6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],P6=mr("x",I6);function j6(){const{user:t}=Il(),e=ma(),{isOpen:n}=ON(),[r,i]=E.useState({backlog:e.pathname.startsWith("/backlog"),machinery:e.pathname.startsWith("/machinery"),phases:e.pathname.startsWith("/phases"),scheduler:e.pathname.startsWith("/scheduler")}),s=l=>{i(u=>({...u,[l]:!u[l]}))},a=[{href:"/",label:"Dashboard",icon:_6},{section:"backlog",label:"Backlog",icon:y6,subLinks:[{href:"/backlog",label:"Lista Backlog"},{href:"/backlog/add",label:"Nuovo Backlog"}]},{section:"machinery",label:"Macchinari",icon:NN,subLinks:[{href:"/machinery",label:"Lista Macchinari"},{href:"/machinery/add",label:"Nuovo Macchinario"}]},{section:"phases",label:"Fasi",icon:m6,subLinks:[{href:"/phases",label:"Lista Fasi"},{href:"/phases/add",label:"Nuova Fase"}]},{href:"/scheduler",label:"Scheduler",icon:o6}];return t?n?w.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[w.jsx("div",{className:"p-4 border-b border-border",children:w.jsx(Hn,{to:"/",className:"flex items-center justify-center",children:w.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),w.jsxs("div",{className:"flex-1 p-4",children:[w.jsx("h2",{className:"text-xl font-semibold text-secondary-foreground mb-6",children:"Navigation"}),w.jsx("nav",{className:"space-y-2",children:a.map(l=>{if(l.section){const u=r[l.section],d=l.subLinks.some(g=>e.pathname===g.href),h=l.icon;return w.jsxs("div",{children:[w.jsxs("button",{onClick:()=>s(l.section),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(h,{className:"h-5 w-5"}),w.jsx("span",{className:"text-sm font-medium",children:l.label})]}),w.jsx(f6,{className:`h-4 w-4 transform transition-transform ${u?"rotate-90":""}`})]}),u&&w.jsx("div",{className:"ml-6 mt-2 space-y-1",children:l.subLinks.map(g=>{const m=e.pathname===g.href;return w.jsx(Hn,{to:g.href,className:`block px-3 py-2 rounded-lg text-sm font-medium transition-colors ${m?"bg-primary/5 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent/50"}`,children:g.label},g.href)})})]},l.section)}else{const u=e.pathname===l.href,d=l.icon;return w.jsxs(Hn,{to:l.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${u?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[w.jsx(d,{className:"h-5 w-5"}),w.jsx("span",{className:"text-sm font-medium",children:l.label})]},l.href)}})})]})]}):w.jsx("div",{className:"w-16 bg-secondary shadow-sm border-r border-border min-h-screen",children:w.jsx("div",{className:"flex flex-col items-center py-4 space-y-4",children:a.map(l=>{const u=l.icon,d=e.pathname===l.href;return w.jsx(Hn,{to:l.href||"#",className:`p-3 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,title:l.label,children:w.jsx(u,{className:"h-6 w-6"})},l.href||l.section)})})}):w.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col",children:[w.jsx("div",{className:"p-4 border-b border-border",children:w.jsx(Hn,{to:"/login",className:"flex items-center justify-center",children:w.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),w.jsxs("div",{className:"flex-1 p-4",children:[w.jsx("h3",{className:"text-xs font-semibold text-secondary-foreground uppercase tracking-wider mb-4",children:"NAVIGATION"}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Hn,{to:"/login",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:w.jsx("span",{className:"font-medium",children:"Accedi"})}),w.jsx(Hn,{to:"/signup",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:w.jsx("span",{className:"font-medium",children:"Registrati"})})]})]})]})}function L6(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=u=>u===null?null:JSON.parse(u,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(a):a(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const D_=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return D_(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return D_(r)(n)}}}},F6=(t,e)=>(n,r,i)=>{let s={storage:L6(()=>localStorage),partialize:y=>y,version:0,merge:(y,S)=>({...S,...y}),...e},a=!1;const l=new Set,u=new Set;let d=s.storage;if(!d)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,i);const h=()=>{const y=s.partialize({...r()});return d.setItem(s.name,{state:y,version:s.version})},g=i.setState;i.setState=(y,S)=>(g(y,S),h());const m=t((...y)=>(n(...y),h()),r,i);i.getInitialState=()=>m;let v;const b=()=>{var y,S;if(!d)return;a=!1,l.forEach(T=>{var A;return T((A=r())!=null?A:m)});const C=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(y=r())!=null?y:m))||void 0;return D_(d.getItem.bind(d))(s.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==s.version){if(s.migrate){const A=s.migrate(T.state,T.version);return A instanceof Promise?A.then(M=>[!0,M]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var A;const[M,D]=T;if(v=s.merge(D,(A=r())!=null?A:m),n(v,!0),M)return h()}).then(()=>{C?.(v,void 0),v=r(),a=!0,u.forEach(T=>T(v))}).catch(T=>{C?.(void 0,T)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>a,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},s.skipHydration||b(),v||m},U6=F6,z6=wo(U6(t=>({theme:"system",setTheme:e=>t({theme:e}),toggleTheme:()=>t(e=>({theme:e.theme==="light"?"dark":"light"}))}),{name:"theme-storage"})),IN=()=>{const{theme:t,setTheme:e,toggleTheme:n}=z6(),r=()=>typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",i=()=>t==="system"?r():t;return E.useEffect(()=>{if(t!=="system")return;const s=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{e("system")};return s.addEventListener("change",a),()=>s.removeEventListener("change",a)},[t,e]),{theme:t,setTheme:e,toggleTheme:n,isDark:i()==="dark",effectiveTheme:i()}};function Pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function KR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nm(...t){return e=>{let n=!1;const r=t.map(i=>{const s=KR(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():KR(t[i],null)}}}}function Yt(...t){return E.useCallback(Nm(...t),t)}function H6(t,e){const n=E.createContext(e),r=s=>{const{children:a,...l}=s,u=E.useMemo(()=>l,Object.values(l));return w.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function i(s){const a=E.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function So(t,e=[]){let n=[];function r(s,a){const l=E.createContext(a),u=n.length;n=[...n,a];const d=g=>{const{scope:m,children:v,...b}=g,y=m?.[t]?.[u]||l,S=E.useMemo(()=>b,Object.values(b));return w.jsx(y.Provider,{value:S,children:v})};d.displayName=s+"Provider";function h(g,m){const v=m?.[t]?.[u]||l,b=E.useContext(v);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(a=>E.createContext(a));return function(l){const u=l?.[t]||s;return E.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,B6(i,...e)]}function B6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:u,scopeName:d})=>{const g=u(s)[`__scope${d}`];return{...l,...g}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var qn=globalThis?.document?E.useLayoutEffect:()=>{},$6=Bk[" useInsertionEffect ".trim().toString()]||qn;function gf({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=V6({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const h=E.useRef(t!==void 0);E.useEffect(()=>{const g=h.current;g!==l&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=E.useCallback(h=>{if(l){const g=q6(h)?h(t):h;g!==t&&a.current?.(g)}else s(h)},[l,t,s,a]);return[u,d]}function V6({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),i=E.useRef(n),s=E.useRef(e);return $6(()=>{s.current=e},[e]),E.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function q6(t){return typeof t=="function"}function Sl(t){const e=G6(t),n=E.forwardRef((r,i)=>{const{children:s,...a}=r,l=E.Children.toArray(s),u=l.find(K6);if(u){const d=u.props.children,h=l.map(g=>g===u?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return w.jsx(e,{...a,ref:i,children:E.isValidElement(d)?E.cloneElement(d,void 0,h):null})}return w.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var W6=Sl("Slot");function G6(t){const e=E.forwardRef((n,r)=>{const{children:i,...s}=n;if(E.isValidElement(i)){const a=X6(i),l=Q6(s,i.props);return i.type!==E.Fragment&&(l.ref=r?Nm(r,a):a),E.cloneElement(i,l)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Y6=Symbol("radix.slottable");function K6(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Y6}function Q6(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function X6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Z6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=Z6.reduce((t,e)=>{const n=Sl(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:a,...l}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function PN(t,e){t&&oi.flushSync(()=>t.dispatchEvent(e))}function tS(t){const e=t+"CollectionProvider",[n,r]=So(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:S,children:C}=y,T=le.useRef(null),A=le.useRef(new Map).current;return w.jsx(i,{scope:S,itemMap:A,collectionRef:T,children:C})};a.displayName=e;const l=t+"CollectionSlot",u=Sl(l),d=le.forwardRef((y,S)=>{const{scope:C,children:T}=y,A=s(l,C),M=Yt(S,A.collectionRef);return w.jsx(u,{ref:M,children:T})});d.displayName=l;const h=t+"CollectionItemSlot",g="data-radix-collection-item",m=Sl(h),v=le.forwardRef((y,S)=>{const{scope:C,children:T,...A}=y,M=le.useRef(null),D=Yt(S,M),k=s(h,C);return le.useEffect(()=>(k.itemMap.set(M,{ref:M,...A}),()=>void k.itemMap.delete(M))),w.jsx(m,{[g]:"",ref:D,children:T})});v.displayName=h;function b(y){const S=s(t+"CollectionConsumer",y);return le.useCallback(()=>{const T=S.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((k,N)=>A.indexOf(k.ref.current)-A.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:d,ItemSlot:v},b,r]}var J6=E.createContext(void 0);function nS(t){const e=E.useContext(J6);return t||e||"ltr"}function Xi(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>e.current?.(...n),[])}function eq(t,e=globalThis?.document){const n=Xi(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var tq="DismissableLayer",O_="dismissableLayer.update",nq="dismissableLayer.pointerDownOutside",rq="dismissableLayer.focusOutside",QR,jN=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Im=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,d=E.useContext(jN),[h,g]=E.useState(null),m=h?.ownerDocument??globalThis?.document,[,v]=E.useState({}),b=Yt(e,N=>g(N)),y=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(S),T=h?y.indexOf(h):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,M=T>=C,D=aq(N=>{const O=N.target,j=[...d.branches].some(z=>z.contains(O));!M||j||(i?.(N),a?.(N),N.defaultPrevented||l?.())},m),k=oq(N=>{const O=N.target;[...d.branches].some(z=>z.contains(O))||(s?.(N),a?.(N),N.defaultPrevented||l?.())},m);return eq(N=>{T===d.layers.size-1&&(r?.(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),E.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(QR=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),XR(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=QR)}},[h,m,n,d]),E.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),XR())},[h,d]),E.useEffect(()=>{const N=()=>v({});return document.addEventListener(O_,N),()=>document.removeEventListener(O_,N)},[]),w.jsx(ot.div,{...u,ref:b,style:{pointerEvents:A?M?"auto":"none":void 0,...t.style},onFocusCapture:Pe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Pe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Pe(t.onPointerDownCapture,D.onPointerDownCapture)})});Im.displayName=tq;var iq="DismissableLayerBranch",sq=E.forwardRef((t,e)=>{const n=E.useContext(jN),r=E.useRef(null),i=Yt(e,r);return E.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),w.jsx(ot.div,{...t,ref:i})});sq.displayName=iq;function aq(t,e=globalThis?.document){const n=Xi(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){LN(nq,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function oq(t,e=globalThis?.document){const n=Xi(t),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&LN(rq,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function XR(){const t=new CustomEvent(O_);document.dispatchEvent(t)}function LN(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?PN(i,s):i.dispatchEvent(s)}var Xb=0;function rS(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ZR()),document.body.insertAdjacentElement("beforeend",t[1]??ZR()),Xb++,()=>{Xb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xb--}},[])}function ZR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zb="focusScope.autoFocusOnMount",Jb="focusScope.autoFocusOnUnmount",JR={bubbles:!1,cancelable:!0},lq="FocusScope",Pm=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,u]=E.useState(null),d=Xi(i),h=Xi(s),g=E.useRef(null),m=Yt(e,y=>u(y)),v=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let y=function(A){if(v.paused||!l)return;const M=A.target;l.contains(M)?g.current=M:Ga(g.current,{select:!0})},S=function(A){if(v.paused||!l)return;const M=A.relatedTarget;M!==null&&(l.contains(M)||Ga(g.current,{select:!0}))},C=function(A){if(document.activeElement===document.body)for(const D of A)D.removedNodes.length>0&&Ga(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const T=new MutationObserver(C);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),T.disconnect()}}},[r,l,v.paused]),E.useEffect(()=>{if(l){tD.add(v);const y=document.activeElement;if(!l.contains(y)){const C=new CustomEvent(Zb,JR);l.addEventListener(Zb,d),l.dispatchEvent(C),C.defaultPrevented||(cq(gq(FN(l)),{select:!0}),document.activeElement===y&&Ga(l))}return()=>{l.removeEventListener(Zb,d),setTimeout(()=>{const C=new CustomEvent(Jb,JR);l.addEventListener(Jb,h),l.dispatchEvent(C),C.defaultPrevented||Ga(y??document.body,{select:!0}),l.removeEventListener(Jb,h),tD.remove(v)},0)}}},[l,d,h,v]);const b=E.useCallback(y=>{if(!n&&!r||v.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(S&&C){const T=y.currentTarget,[A,M]=uq(T);A&&M?!y.shiftKey&&C===M?(y.preventDefault(),n&&Ga(A,{select:!0})):y.shiftKey&&C===A&&(y.preventDefault(),n&&Ga(M,{select:!0})):C===T&&y.preventDefault()}},[n,r,v.paused]);return w.jsx(ot.div,{tabIndex:-1,...a,ref:m,onKeyDown:b})});Pm.displayName=lq;function cq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ga(r,{select:e}),document.activeElement!==n)return}function uq(t){const e=FN(t),n=eD(e,t),r=eD(e.reverse(),t);return[n,r]}function FN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function eD(t,e){for(const n of t)if(!dq(n,{upTo:e}))return n}function dq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function fq(t){return t instanceof HTMLInputElement&&"select"in t}function Ga(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&fq(t)&&e&&t.select()}}var tD=hq();function hq(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=nD(t,e),t.unshift(e)},remove(e){t=nD(t,e),t[0]?.resume()}}}function nD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gq(t){return t.filter(e=>e.tagName!=="A")}var pq=Bk[" useId ".trim().toString()]||(()=>{}),mq=0;function oa(t){const[e,n]=E.useState(pq());return qn(()=>{n(r=>r??String(mq++))},[t]),e?`radix-${e}`:""}const vq=["top","right","bottom","left"],uo=Math.min,ri=Math.max,Lp=Math.round,Og=Math.floor,ws=t=>({x:t,y:t}),yq={left:"right",right:"left",bottom:"top",top:"bottom"},bq={start:"end",end:"start"};function M_(t,e,n){return ri(t,uo(e,n))}function fa(t,e){return typeof t=="function"?t(e):t}function ha(t){return t.split("-")[0]}function Eu(t){return t.split("-")[1]}function iS(t){return t==="x"?"y":"x"}function sS(t){return t==="y"?"height":"width"}const _q=new Set(["top","bottom"]);function bs(t){return _q.has(ha(t))?"y":"x"}function aS(t){return iS(bs(t))}function wq(t,e,n){n===void 0&&(n=!1);const r=Eu(t),i=aS(t),s=sS(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Fp(a)),[a,Fp(a)]}function Sq(t){const e=Fp(t);return[k_(t),e,k_(e)]}function k_(t){return t.replace(/start|end/g,e=>bq[e])}const rD=["left","right"],iD=["right","left"],xq=["top","bottom"],Eq=["bottom","top"];function Cq(t,e,n){switch(t){case"top":case"bottom":return n?e?iD:rD:e?rD:iD;case"left":case"right":return e?xq:Eq;default:return[]}}function Tq(t,e,n,r){const i=Eu(t);let s=Cq(ha(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(k_)))),s}function Fp(t){return t.replace(/left|right|bottom|top/g,e=>yq[e])}function Aq(t){return{top:0,right:0,bottom:0,left:0,...t}}function UN(t){return typeof t!="number"?Aq(t):{top:t,right:t,bottom:t,left:t}}function Up(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function sD(t,e,n){let{reference:r,floating:i}=t;const s=bs(e),a=aS(e),l=sS(a),u=ha(e),d=s==="y",h=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let v;switch(u){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-i.width,y:g};break;default:v={x:r.x,y:r.y}}switch(Eu(e)){case"start":v[a]-=m*(n&&d?-1:1);break;case"end":v[a]+=m*(n&&d?-1:1);break}return v}const Rq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:g}=sD(d,r,u),m=r,v={},b=0;for(let y=0;y<l.length;y++){const{name:S,fn:C}=l[y],{x:T,y:A,data:M,reset:D}=await C({x:h,y:g,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:d,platform:a,elements:{reference:t,floating:e}});h=T??h,g=A??g,v={...v,[S]:{...v[S],...M}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:h,y:g}=sD(d,m,u)),y=-1)}return{x:h,y:g,placement:m,strategy:i,middlewareData:v}};async function pf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:m=!1,padding:v=0}=fa(e,t),b=UN(v),S=l[m?g==="floating"?"reference":"floating":g],C=Up(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),T=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),M=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},D=Up(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:A,strategy:u}):T);return{top:(C.top-D.top+b.top)/M.y,bottom:(D.bottom-C.bottom+b.bottom)/M.y,left:(C.left-D.left+b.left)/M.x,right:(D.right-C.right+b.right)/M.x}}const Dq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=fa(t,e)||{};if(d==null)return{};const g=UN(h),m={x:n,y:r},v=aS(i),b=sS(v),y=await a.getDimensions(d),S=v==="y",C=S?"top":"left",T=S?"bottom":"right",A=S?"clientHeight":"clientWidth",M=s.reference[b]+s.reference[v]-m[v]-s.floating[b],D=m[v]-s.reference[v],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let N=k?k[A]:0;(!N||!await(a.isElement==null?void 0:a.isElement(k)))&&(N=l.floating[A]||s.floating[b]);const O=M/2-D/2,j=N/2-y[b]/2-1,z=uo(g[C],j),B=uo(g[T],j),Q=z,ne=N-y[b]-B,de=N/2-y[b]/2+O,ge=M_(Q,de,ne),P=!u.arrow&&Eu(i)!=null&&de!==ge&&s.reference[b]/2-(de<Q?z:B)-y[b]/2<0,G=P?de<Q?de-Q:de-ne:0;return{[v]:m[v]+G,data:{[v]:ge,centerOffset:de-ge-G,...P&&{alignmentOffset:G}},reset:P}}}),Oq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...S}=fa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const C=ha(i),T=bs(l),A=ha(l)===l,M=await(u.isRTL==null?void 0:u.isRTL(d.floating)),D=m||(A||!y?[Fp(l)]:Sq(l)),k=b!=="none";!m&&k&&D.push(...Tq(l,y,b,M));const N=[l,...D],O=await pf(e,S),j=[];let z=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&j.push(O[C]),g){const de=wq(i,a,M);j.push(O[de[0]],O[de[1]])}if(z=[...z,{placement:i,overflows:j}],!j.every(de=>de<=0)){var B,Q;const de=(((B=s.flip)==null?void 0:B.index)||0)+1,ge=N[de];if(ge&&(!(g==="alignment"?T!==bs(ge):!1)||z.every(q=>bs(q.placement)===T?q.overflows[0]>0:!0)))return{data:{index:de,overflows:z},reset:{placement:ge}};let P=(Q=z.filter(G=>G.overflows[0]<=0).sort((G,q)=>G.overflows[1]-q.overflows[1])[0])==null?void 0:Q.placement;if(!P)switch(v){case"bestFit":{var ne;const G=(ne=z.filter(q=>{if(k){const W=bs(q.placement);return W===T||W==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(W=>W>0).reduce((W,ye)=>W+ye,0)]).sort((q,W)=>q[1]-W[1])[0])==null?void 0:ne[0];G&&(P=G);break}case"initialPlacement":P=l;break}if(i!==P)return{reset:{placement:P}}}return{}}}};function aD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function oD(t){return vq.some(e=>t[e]>=0)}const Mq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=fa(t,e);switch(r){case"referenceHidden":{const s=await pf(e,{...i,elementContext:"reference"}),a=aD(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:oD(a)}}}case"escaped":{const s=await pf(e,{...i,altBoundary:!0}),a=aD(s,n.floating);return{data:{escapedOffsets:a,escaped:oD(a)}}}default:return{}}}}},zN=new Set(["left","top"]);async function kq(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ha(n),l=Eu(n),u=bs(n)==="y",d=zN.has(a)?-1:1,h=s&&u?-1:1,g=fa(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),u?{x:v*h,y:m*d}:{x:m*d,y:v*h}}const Nq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,u=await kq(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},Iq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:S=>{let{x:C,y:T}=S;return{x:C,y:T}}},...u}=fa(t,e),d={x:n,y:r},h=await pf(e,u),g=bs(ha(i)),m=iS(g);let v=d[m],b=d[g];if(s){const S=m==="y"?"top":"left",C=m==="y"?"bottom":"right",T=v+h[S],A=v-h[C];v=M_(T,v,A)}if(a){const S=g==="y"?"top":"left",C=g==="y"?"bottom":"right",T=b+h[S],A=b-h[C];b=M_(T,b,A)}const y=l.fn({...e,[m]:v,[g]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:s,[g]:a}}}}}},Pq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=fa(t,e),h={x:n,y:r},g=bs(i),m=iS(g);let v=h[m],b=h[g];const y=fa(l,e),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const A=m==="y"?"height":"width",M=s.reference[m]-s.floating[A]+S.mainAxis,D=s.reference[m]+s.reference[A]-S.mainAxis;v<M?v=M:v>D&&(v=D)}if(d){var C,T;const A=m==="y"?"width":"height",M=zN.has(ha(i)),D=s.reference[g]-s.floating[A]+(M&&((C=a.offset)==null?void 0:C[g])||0)+(M?0:S.crossAxis),k=s.reference[g]+s.reference[A]+(M?0:((T=a.offset)==null?void 0:T[g])||0)-(M?S.crossAxis:0);b<D?b=D:b>k&&(b=k)}return{[m]:v,[g]:b}}}},jq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:u=()=>{},...d}=fa(t,e),h=await pf(e,d),g=ha(i),m=Eu(i),v=bs(i)==="y",{width:b,height:y}=s.floating;let S,C;g==="top"||g==="bottom"?(S=g,C=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(C=g,S=m==="end"?"top":"bottom");const T=y-h.top-h.bottom,A=b-h.left-h.right,M=uo(y-h[S],T),D=uo(b-h[C],A),k=!e.middlewareData.shift;let N=M,O=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=T),k&&!m){const z=ri(h.left,0),B=ri(h.right,0),Q=ri(h.top,0),ne=ri(h.bottom,0);v?O=b-2*(z!==0||B!==0?z+B:ri(h.left,h.right)):N=y-2*(Q!==0||ne!==0?Q+ne:ri(h.top,h.bottom))}await u({...e,availableWidth:O,availableHeight:N});const j=await a.getDimensions(l.floating);return b!==j.width||y!==j.height?{reset:{rects:!0}}:{}}}};function jm(){return typeof window<"u"}function Cu(t){return HN(t)?(t.nodeName||"").toLowerCase():"#document"}function li(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ts(t){var e;return(e=(HN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HN(t){return jm()?t instanceof Node||t instanceof li(t).Node:!1}function Zi(t){return jm()?t instanceof Element||t instanceof li(t).Element:!1}function Ss(t){return jm()?t instanceof HTMLElement||t instanceof li(t).HTMLElement:!1}function lD(t){return!jm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof li(t).ShadowRoot}const Lq=new Set(["inline","contents"]);function Ff(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ji(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Lq.has(i)}const Fq=new Set(["table","td","th"]);function Uq(t){return Fq.has(Cu(t))}const zq=[":popover-open",":modal"];function Lm(t){return zq.some(e=>{try{return t.matches(e)}catch{return!1}})}const Hq=["transform","translate","scale","rotate","perspective"],Bq=["transform","translate","scale","rotate","perspective","filter"],$q=["paint","layout","strict","content"];function oS(t){const e=lS(),n=Zi(t)?Ji(t):t;return Hq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Bq.some(r=>(n.willChange||"").includes(r))||$q.some(r=>(n.contain||"").includes(r))}function Vq(t){let e=fo(t);for(;Ss(e)&&!uu(e);){if(oS(e))return e;if(Lm(e))return null;e=fo(e)}return null}function lS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qq=new Set(["html","body","#document"]);function uu(t){return qq.has(Cu(t))}function Ji(t){return li(t).getComputedStyle(t)}function Fm(t){return Zi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fo(t){if(Cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lD(t)&&t.host||Ts(t);return lD(e)?e.host:e}function BN(t){const e=fo(t);return uu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ss(e)&&Ff(e)?e:BN(e)}function mf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=BN(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=li(i);if(s){const l=N_(a);return e.concat(a,a.visualViewport||[],Ff(i)?i:[],l&&n?mf(l):[])}return e.concat(i,mf(i,[],n))}function N_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $N(t){const e=Ji(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ss(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=Lp(n)!==s||Lp(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function cS(t){return Zi(t)?t:t.contextElement}function eu(t){const e=cS(t);if(!Ss(e))return ws(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=$N(e);let a=(s?Lp(n.width):n.width)/r,l=(s?Lp(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Wq=ws(0);function VN(t){const e=li(t);return!lS()||!e.visualViewport?Wq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==li(t)?!1:e}function xl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=cS(t);let a=ws(1);e&&(r?Zi(r)&&(a=eu(r)):a=eu(t));const l=Gq(s,n,r)?VN(s):ws(0);let u=(i.left+l.x)/a.x,d=(i.top+l.y)/a.y,h=i.width/a.x,g=i.height/a.y;if(s){const m=li(s),v=r&&Zi(r)?li(r):r;let b=m,y=N_(b);for(;y&&r&&v!==b;){const S=eu(y),C=y.getBoundingClientRect(),T=Ji(y),A=C.left+(y.clientLeft+parseFloat(T.paddingLeft))*S.x,M=C.top+(y.clientTop+parseFloat(T.paddingTop))*S.y;u*=S.x,d*=S.y,h*=S.x,g*=S.y,u+=A,d+=M,b=li(y),y=N_(b)}}return Up({width:h,height:g,x:u,y:d})}function Um(t,e){const n=Fm(t).scrollLeft;return e?e.left+n:xl(Ts(t)).left+n}function qN(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Um(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Yq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Ts(r),l=e?Lm(e.floating):!1;if(r===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=ws(1);const h=ws(0),g=Ss(r);if((g||!g&&!s)&&((Cu(r)!=="body"||Ff(a))&&(u=Fm(r)),Ss(r))){const v=xl(r);d=eu(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const m=a&&!g&&!s?qN(a,u):ws(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-u.scrollTop*d.y+h.y+m.y}}function Kq(t){return Array.from(t.getClientRects())}function Qq(t){const e=Ts(t),n=Fm(t),r=t.ownerDocument.body,i=ri(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ri(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Um(t);const l=-n.scrollTop;return Ji(r).direction==="rtl"&&(a+=ri(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const cD=25;function Xq(t,e){const n=li(t),r=Ts(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){s=i.width,a=i.height;const h=lS();(!h||h&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}const d=Um(r);if(d<=0){const h=r.ownerDocument,g=h.body,m=getComputedStyle(g),v=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(r.clientWidth-g.clientWidth-v);b<=cD&&(s-=b)}else d<=cD&&(s+=d);return{width:s,height:a,x:l,y:u}}const Zq=new Set(["absolute","fixed"]);function Jq(t,e){const n=xl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ss(t)?eu(t):ws(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:a,height:l,x:u,y:d}}function uD(t,e,n){let r;if(e==="viewport")r=Xq(t,n);else if(e==="document")r=Qq(Ts(t));else if(Zi(e))r=Jq(e,n);else{const i=VN(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Up(r)}function WN(t,e){const n=fo(t);return n===e||!Zi(n)||uu(n)?!1:Ji(n).position==="fixed"||WN(n,e)}function eW(t,e){const n=e.get(t);if(n)return n;let r=mf(t,[],!1).filter(l=>Zi(l)&&Cu(l)!=="body"),i=null;const s=Ji(t).position==="fixed";let a=s?fo(t):t;for(;Zi(a)&&!uu(a);){const l=Ji(a),u=oS(a);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&Zq.has(i.position)||Ff(a)&&!u&&WN(t,a))?r=r.filter(h=>h!==a):i=l,a=fo(a)}return e.set(t,r),r}function tW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Lm(e)?[]:eW(e,this._c):[].concat(n),r],l=a[0],u=a.reduce((d,h)=>{const g=uD(e,h,i);return d.top=ri(g.top,d.top),d.right=uo(g.right,d.right),d.bottom=uo(g.bottom,d.bottom),d.left=ri(g.left,d.left),d},uD(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function nW(t){const{width:e,height:n}=$N(t);return{width:e,height:n}}function rW(t,e,n){const r=Ss(e),i=Ts(e),s=n==="fixed",a=xl(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=ws(0);function d(){u.x=Um(i)}if(r||!r&&!s)if((Cu(e)!=="body"||Ff(i))&&(l=Fm(e)),r){const v=xl(e,!0,s,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?qN(i,l):ws(0),g=a.left+l.scrollLeft-u.x-h.x,m=a.top+l.scrollTop-u.y-h.y;return{x:g,y:m,width:a.width,height:a.height}}function e0(t){return Ji(t).position==="static"}function dD(t,e){if(!Ss(t)||Ji(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ts(t)===n&&(n=n.ownerDocument.body),n}function GN(t,e){const n=li(t);if(Lm(t))return n;if(!Ss(t)){let i=fo(t);for(;i&&!uu(i);){if(Zi(i)&&!e0(i))return i;i=fo(i)}return n}let r=dD(t,e);for(;r&&Uq(r)&&e0(r);)r=dD(r,e);return r&&uu(r)&&e0(r)&&!oS(r)?n:r||Vq(t)||n}const iW=async function(t){const e=this.getOffsetParent||GN,n=this.getDimensions,r=await n(t.floating);return{reference:rW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function sW(t){return Ji(t).direction==="rtl"}const aW={convertOffsetParentRelativeRectToViewportRelativeRect:Yq,getDocumentElement:Ts,getClippingRect:tW,getOffsetParent:GN,getElementRects:iW,getClientRects:Kq,getDimensions:nW,getScale:eu,isElement:Zi,isRTL:sW};function YN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function oW(t,e){let n=null,r;const i=Ts(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:h,top:g,width:m,height:v}=d;if(l||e(),!m||!v)return;const b=Og(g),y=Og(i.clientWidth-(h+m)),S=Og(i.clientHeight-(g+v)),C=Og(h),A={rootMargin:-b+"px "+-y+"px "+-S+"px "+-C+"px",threshold:ri(0,uo(1,u))||1};let M=!0;function D(k){const N=k[0].intersectionRatio;if(N!==u){if(!M)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!YN(d,t.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(D,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,A)}n.observe(t)}return a(!0),s}function lW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=cS(t),h=i||s?[...d?mf(d):[],...mf(e)]:[];h.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),s&&C.addEventListener("resize",n)});const g=d&&l?oW(d,n):null;let m=-1,v=null;a&&(v=new ResizeObserver(C=>{let[T]=C;T&&T.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(e)})),n()}),d&&!u&&v.observe(d),v.observe(e));let b,y=u?xl(t):null;u&&S();function S(){const C=xl(t);y&&!YN(y,C)&&n(),y=C,b=requestAnimationFrame(S)}return n(),()=>{var C;h.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),g?.(),(C=v)==null||C.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const cW=Nq,uW=Iq,dW=Oq,fW=jq,hW=Mq,fD=Dq,gW=Pq,pW=(t,e,n)=>{const r=new Map,i={platform:aW,...n},s={...i.platform,_c:r};return Rq(t,e,{...i,platform:s})};var mW=typeof document<"u",vW=function(){},fp=mW?E.useLayoutEffect:vW;function zp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!zp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function KN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hD(t,e){const n=KN(t);return Math.round(e*n)/n}function t0(t){const e=E.useRef(t);return fp(()=>{e.current=t}),e}function yW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,g]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=E.useState(r);zp(m,r)||v(r);const[b,y]=E.useState(null),[S,C]=E.useState(null),T=E.useCallback(q=>{q!==k.current&&(k.current=q,y(q))},[]),A=E.useCallback(q=>{q!==N.current&&(N.current=q,C(q))},[]),M=s||b,D=a||S,k=E.useRef(null),N=E.useRef(null),O=E.useRef(h),j=u!=null,z=t0(u),B=t0(i),Q=t0(d),ne=E.useCallback(()=>{if(!k.current||!N.current)return;const q={placement:e,strategy:n,middleware:m};B.current&&(q.platform=B.current),pW(k.current,N.current,q).then(W=>{const ye={...W,isPositioned:Q.current!==!1};de.current&&!zp(O.current,ye)&&(O.current=ye,oi.flushSync(()=>{g(ye)}))})},[m,e,n,B,Q]);fp(()=>{d===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g(q=>({...q,isPositioned:!1})))},[d]);const de=E.useRef(!1);fp(()=>(de.current=!0,()=>{de.current=!1}),[]),fp(()=>{if(M&&(k.current=M),D&&(N.current=D),M&&D){if(z.current)return z.current(M,D,ne);ne()}},[M,D,ne,z,j]);const ge=E.useMemo(()=>({reference:k,floating:N,setReference:T,setFloating:A}),[T,A]),P=E.useMemo(()=>({reference:M,floating:D}),[M,D]),G=E.useMemo(()=>{const q={position:n,left:0,top:0};if(!P.floating)return q;const W=hD(P.floating,h.x),ye=hD(P.floating,h.y);return l?{...q,transform:"translate("+W+"px, "+ye+"px)",...KN(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:ye}},[n,l,P.floating,h.x,h.y]);return E.useMemo(()=>({...h,update:ne,refs:ge,elements:P,floatingStyles:G}),[h,ne,ge,P,G])}const bW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fD({element:r.current,padding:i}).fn(n):{}:r?fD({element:r,padding:i}).fn(n):{}}}},_W=(t,e)=>({...cW(t),options:[t,e]}),wW=(t,e)=>({...uW(t),options:[t,e]}),SW=(t,e)=>({...gW(t),options:[t,e]}),xW=(t,e)=>({...dW(t),options:[t,e]}),EW=(t,e)=>({...fW(t),options:[t,e]}),CW=(t,e)=>({...hW(t),options:[t,e]}),TW=(t,e)=>({...bW(t),options:[t,e]});var AW="Arrow",QN=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return w.jsx(ot.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});QN.displayName=AW;var RW=QN;function DW(t){const[e,n]=E.useState(void 0);return qn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var uS="Popper",[XN,zm]=So(uS),[OW,ZN]=XN(uS),JN=t=>{const{__scopePopper:e,children:n}=t,[r,i]=E.useState(null);return w.jsx(OW,{scope:e,anchor:r,onAnchorChange:i,children:n})};JN.displayName=uS;var eI="PopperAnchor",tI=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=ZN(eI,n),a=E.useRef(null),l=Yt(e,a),u=E.useRef(null);return E.useEffect(()=>{const d=u.current;u.current=r?.current||a.current,d!==u.current&&s.onAnchorChange(u.current)}),r?null:w.jsx(ot.div,{...i,ref:l})});tI.displayName=eI;var dS="PopperContent",[MW,kW]=XN(dS),nI=E.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:b,...y}=t,S=ZN(dS,n),[C,T]=E.useState(null),A=Yt(e,Z=>T(Z)),[M,D]=E.useState(null),k=DW(M),N=k?.width??0,O=k?.height??0,j=r+(s!=="center"?"-"+s:""),z=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},B=Array.isArray(d)?d:[d],Q=B.length>0,ne={padding:z,boundary:B.filter(IW),altBoundary:Q},{refs:de,floatingStyles:ge,placement:P,isPositioned:G,middlewareData:q}=yW({strategy:"fixed",placement:j,whileElementsMounted:(...Z)=>lW(...Z,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[_W({mainAxis:i+O,alignmentAxis:a}),u&&wW({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?SW():void 0,...ne}),u&&xW({...ne}),EW({...ne,apply:({elements:Z,rects:pe,availableWidth:Ce,availableHeight:Te})=>{const{width:Le,height:He}=pe.reference,$t=Z.floating.style;$t.setProperty("--radix-popper-available-width",`${Ce}px`),$t.setProperty("--radix-popper-available-height",`${Te}px`),$t.setProperty("--radix-popper-anchor-width",`${Le}px`),$t.setProperty("--radix-popper-anchor-height",`${He}px`)}}),M&&TW({element:M,padding:l}),PW({arrowWidth:N,arrowHeight:O}),m&&CW({strategy:"referenceHidden",...ne})]}),[W,ye]=sI(P),F=Xi(b);qn(()=>{G&&F?.()},[G,F]);const te=q.arrow?.x,V=q.arrow?.y,J=q.arrow?.centerOffset!==0,[ue,me]=E.useState();return qn(()=>{C&&me(window.getComputedStyle(C).zIndex)},[C]),w.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:G?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(MW,{scope:n,placedSide:W,onArrowChange:D,arrowX:te,arrowY:V,shouldHideArrow:J,children:w.jsx(ot.div,{"data-side":W,"data-align":ye,...y,ref:A,style:{...y.style,animation:G?void 0:"none"}})})})});nI.displayName=dS;var rI="PopperArrow",NW={top:"bottom",right:"left",bottom:"top",left:"right"},iI=E.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=kW(rI,r),a=NW[s.placedSide];return w.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:w.jsx(RW,{...i,ref:n,style:{...i.style,display:"block"}})})});iI.displayName=rI;function IW(t){return t!==null}var PW=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,h]=sI(n),g={start:"0%",center:"50%",end:"100%"}[h],m=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+u/2;let b="",y="";return d==="bottom"?(b=a?g:`${m}px`,y=`${-u}px`):d==="top"?(b=a?g:`${m}px`,y=`${r.floating.height+u}px`):d==="right"?(b=`${-u}px`,y=a?g:`${v}px`):d==="left"&&(b=`${r.floating.width+u}px`,y=a?g:`${v}px`),{data:{x:b,y}}}});function sI(t){const[e,n="center"]=t.split("-");return[e,n]}var aI=JN,oI=tI,lI=nI,cI=iI,jW="Portal",Hm=E.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=E.useState(!1);qn(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?a1.createPortal(w.jsx(ot.div,{...r,ref:e}),a):null});Hm.displayName=jW;function LW(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var xo=t=>{const{present:e,children:n}=t,r=FW(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=Yt(r.ref,UW(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};xo.displayName="Presence";function FW(t){const[e,n]=E.useState(),r=E.useRef(null),i=E.useRef(t),s=E.useRef("none"),a=t?"mounted":"unmounted",[l,u]=LW(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=Mg(r.current);s.current=l==="mounted"?d:"none"},[l]),qn(()=>{const d=r.current,h=i.current;if(h!==t){const m=s.current,v=Mg(d);t?u("MOUNT"):v==="none"||d?.display==="none"?u("UNMOUNT"):u(h&&m!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),qn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,g=v=>{const y=Mg(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&y&&(u("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=v=>{v.target===e&&(s.current=Mg(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Mg(t){return t?.animationName||"none"}function UW(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var n0="rovingFocusGroup.onEntryFocus",zW={bubbles:!1,cancelable:!0},Uf="RovingFocusGroup",[I_,uI,HW]=tS(Uf),[BW,dI]=So(Uf,[HW]),[$W,VW]=BW(Uf),fI=E.forwardRef((t,e)=>w.jsx(I_.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(I_.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(qW,{...t,ref:e})})}));fI.displayName=Uf;var qW=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...g}=t,m=E.useRef(null),v=Yt(e,m),b=nS(s),[y,S]=gf({prop:a,defaultProp:l??null,onChange:u,caller:Uf}),[C,T]=E.useState(!1),A=Xi(d),M=uI(n),D=E.useRef(!1),[k,N]=E.useState(0);return E.useEffect(()=>{const O=m.current;if(O)return O.addEventListener(n0,A),()=>O.removeEventListener(n0,A)},[A]),w.jsx($W,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:y,onItemFocus:E.useCallback(O=>S(O),[S]),onItemShiftTab:E.useCallback(()=>T(!0),[]),onFocusableItemAdd:E.useCallback(()=>N(O=>O+1),[]),onFocusableItemRemove:E.useCallback(()=>N(O=>O-1),[]),children:w.jsx(ot.div,{tabIndex:C||k===0?-1:0,"data-orientation":r,...g,ref:v,style:{outline:"none",...t.style},onMouseDown:Pe(t.onMouseDown,()=>{D.current=!0}),onFocus:Pe(t.onFocus,O=>{const j=!D.current;if(O.target===O.currentTarget&&j&&!C){const z=new CustomEvent(n0,zW);if(O.currentTarget.dispatchEvent(z),!z.defaultPrevented){const B=M().filter(P=>P.focusable),Q=B.find(P=>P.active),ne=B.find(P=>P.id===y),ge=[Q,ne,...B].filter(Boolean).map(P=>P.ref.current);pI(ge,h)}}D.current=!1}),onBlur:Pe(t.onBlur,()=>T(!1))})})}),hI="RovingFocusGroupItem",gI=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,u=oa(),d=s||u,h=VW(hI,n),g=h.currentTabStopId===d,m=uI(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:y}=h;return E.useEffect(()=>{if(r)return v(),()=>b()},[r,v,b]),w.jsx(I_.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:w.jsx(ot.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Pe(t.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:Pe(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Pe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const C=YW(S,h.orientation,h.dir);if(C!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let A=m().filter(M=>M.focusable).map(M=>M.ref.current);if(C==="last")A.reverse();else if(C==="prev"||C==="next"){C==="prev"&&A.reverse();const M=A.indexOf(S.currentTarget);A=h.loop?KW(A,M+1):A.slice(M+1)}setTimeout(()=>pI(A))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:y!=null}):a})})});gI.displayName=hI;var WW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function YW(t,e,n){const r=GW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WW[r]}function pI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function KW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var QW=fI,XW=gI,ZW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Nc=new WeakMap,kg=new WeakMap,Ng={},r0=0,mI=function(t){return t&&(t.host||mI(t.parentNode))},JW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=mI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},eG=function(t,e,n,r){var i=JW(e,Array.isArray(t)?t:[t]);Ng[n]||(Ng[n]=new WeakMap);var s=Ng[n],a=[],l=new Set,u=new Set(i),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};i.forEach(d);var h=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(m){if(l.has(m))h(m);else try{var v=m.getAttribute(r),b=v!==null&&v!=="false",y=(Nc.get(m)||0)+1,S=(s.get(m)||0)+1;Nc.set(m,y),s.set(m,S),a.push(m),y===1&&b&&kg.set(m,!0),S===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",m,C)}})};return h(e),l.clear(),r0++,function(){a.forEach(function(g){var m=Nc.get(g)-1,v=s.get(g)-1;Nc.set(g,m),s.set(g,v),m||(kg.has(g)||g.removeAttribute(r),kg.delete(g)),v||g.removeAttribute(n)}),r0--,r0||(Nc=new WeakMap,Nc=new WeakMap,kg=new WeakMap,Ng={})}},fS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=ZW(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),eG(r,i,n,"aria-hidden")):function(){return null}},hp="right-scroll-bar-position",gp="width-before-scroll-bar",tG="with-scroll-bars-hidden",nG="--removed-body-scroll-bar-size";function i0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function rG(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var iG=typeof window<"u"?E.useLayoutEffect:E.useEffect,gD=new WeakMap;function sG(t,e){var n=rG(null,function(r){return t.forEach(function(i){return i0(i,r)})});return iG(function(){var r=gD.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||i0(l,null)}),s.forEach(function(l){i.has(l)||i0(l,a)})}gD.set(n,t)},[t]),n}function aG(t){return t}function oG(t,e){e===void 0&&(e=aG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var u=function(){var h=a;a=[],h.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return i}function lG(t){t===void 0&&(t={});var e=oG(null);return e.options=Di({async:!0,ssr:!1},t),e}var vI=function(t){var e=t.sideCar,n=bo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Di({},n))};vI.isSideCarExport=!0;function cG(t,e){return t.useMedium(e),vI}var yI=lG(),s0=function(){},Bm=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:s0,onWheelCapture:s0,onTouchMoveCapture:s0}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,g=t.shards,m=t.sideCar,v=t.noRelative,b=t.noIsolation,y=t.inert,S=t.allowPinchZoom,C=t.as,T=C===void 0?"div":C,A=t.gapMode,M=bo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,k=sG([n,e]),N=Di(Di({},M),i);return E.createElement(E.Fragment,null,h&&E.createElement(D,{sideCar:yI,removeScrollBar:d,shards:g,noRelative:v,noIsolation:b,inert:y,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:A}),a?E.cloneElement(E.Children.only(l),Di(Di({},N),{ref:k})):E.createElement(T,Di({},N,{className:u,ref:k}),l))});Bm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bm.classNames={fullWidth:gp,zeroRight:hp};var uG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uG();return e&&t.setAttribute("nonce",e),t}function fG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function hG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=dG())&&(fG(e,n),hG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pG=function(){var t=gG();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},bI=function(){var t=pG(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},mG={left:0,top:0,right:0,gap:0},a0=function(t){return parseInt(t||"",10)||0},vG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[a0(n),a0(r),a0(i)]},yG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mG;var e=vG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},bG=bI(),tu="data-scroll-locked",_G=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(tu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(gp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(hp," .").concat(hp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gp," .").concat(gp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(tu,`] {
    `).concat(nG,": ").concat(l,`px;
  }
`)},pD=function(){var t=parseInt(document.body.getAttribute(tu)||"0",10);return isFinite(t)?t:0},wG=function(){E.useEffect(function(){return document.body.setAttribute(tu,(pD()+1).toString()),function(){var t=pD()-1;t<=0?document.body.removeAttribute(tu):document.body.setAttribute(tu,t.toString())}},[])},SG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;wG();var s=E.useMemo(function(){return yG(i)},[i]);return E.createElement(bG,{styles:_G(s,!e,i,n?"":"!important")})},P_=!1;if(typeof window<"u")try{var Ig=Object.defineProperty({},"passive",{get:function(){return P_=!0,!0}});window.addEventListener("test",Ig,Ig),window.removeEventListener("test",Ig,Ig)}catch{P_=!1}var Ic=P_?{passive:!1}:!1,xG=function(t){return t.tagName==="TEXTAREA"},_I=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!xG(t)&&n[e]==="visible")},EG=function(t){return _I(t,"overflowY")},CG=function(t){return _I(t,"overflowX")},mD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wI(t,r);if(i){var s=SI(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},TG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},AG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wI=function(t,e){return t==="v"?EG(e):CG(e)},SI=function(t,e){return t==="v"?TG(e):AG(e)},RG=function(t,e){return t==="h"&&e==="rtl"?-1:1},DG=function(t,e,n,r,i){var s=RG(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,u=e.contains(l),d=!1,h=a>0,g=0,m=0;do{if(!l)break;var v=SI(t,l),b=v[0],y=v[1],S=v[2],C=y-S-s*b;(b||C)&&wI(t,l)&&(g+=C,m+=b);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(g)<1||!h&&Math.abs(m)<1)&&(d=!0),d},Pg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vD=function(t){return[t.deltaX,t.deltaY]},yD=function(t){return t&&"current"in t?t.current:t},OG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},MG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},kG=0,Pc=[];function NG(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(kG++)[0],s=E.useState(bI)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Hw([t.lockRef.current],(t.shards||[]).map(yD),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=E.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var C=Pg(y),T=n.current,A="deltaX"in y?y.deltaX:T[0]-C[0],M="deltaY"in y?y.deltaY:T[1]-C[1],D,k=y.target,N=Math.abs(A)>Math.abs(M)?"h":"v";if("touches"in y&&N==="h"&&k.type==="range")return!1;var O=mD(N,k);if(!O)return!0;if(O?D=N:(D=N==="v"?"h":"v",O=mD(N,k)),!O)return!1;if(!r.current&&"changedTouches"in y&&(A||M)&&(r.current=D),!D)return!0;var j=r.current||D;return DG(j,S,y,j==="h"?A:M)},[]),u=E.useCallback(function(y){var S=y;if(!(!Pc.length||Pc[Pc.length-1]!==s)){var C="deltaY"in S?vD(S):Pg(S),T=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&OG(D.delta,C)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var A=(a.current.shards||[]).map(yD).filter(Boolean).filter(function(D){return D.contains(S.target)}),M=A.length>0?l(S,A[0]):!a.current.noIsolation;M&&S.cancelable&&S.preventDefault()}}},[]),d=E.useCallback(function(y,S,C,T){var A={name:y,delta:S,target:C,should:T,shadowParent:IG(C)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(M){return M!==A})},1)},[]),h=E.useCallback(function(y){n.current=Pg(y),r.current=void 0},[]),g=E.useCallback(function(y){d(y.type,vD(y),y.target,l(y,t.lockRef.current))},[]),m=E.useCallback(function(y){d(y.type,Pg(y),y.target,l(y,t.lockRef.current))},[]);E.useEffect(function(){return Pc.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Ic),document.addEventListener("touchmove",u,Ic),document.addEventListener("touchstart",h,Ic),function(){Pc=Pc.filter(function(y){return y!==s}),document.removeEventListener("wheel",u,Ic),document.removeEventListener("touchmove",u,Ic),document.removeEventListener("touchstart",h,Ic)}},[]);var v=t.removeScrollBar,b=t.inert;return E.createElement(E.Fragment,null,b?E.createElement(s,{styles:MG(i)}):null,v?E.createElement(SG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function IG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const PG=cG(yI,NG);var $m=E.forwardRef(function(t,e){return E.createElement(Bm,Di({},t,{ref:e,sideCar:PG}))});$m.classNames=Bm.classNames;var j_=["Enter"," "],jG=["ArrowDown","PageUp","Home"],xI=["ArrowUp","PageDown","End"],LG=[...jG,...xI],FG={ltr:[...j_,"ArrowRight"],rtl:[...j_,"ArrowLeft"]},UG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zf="Menu",[vf,zG,HG]=tS(zf),[Pl,EI]=So(zf,[HG,zm,dI]),Vm=zm(),CI=dI(),[BG,jl]=Pl(zf),[$G,Hf]=Pl(zf),TI=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,l=Vm(e),[u,d]=E.useState(null),h=E.useRef(!1),g=Xi(s),m=nS(i);return E.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),w.jsx(aI,{...l,children:w.jsx(BG,{scope:e,open:n,onOpenChange:g,content:u,onContentChange:d,children:w.jsx($G,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:m,modal:a,children:r})})})};TI.displayName=zf;var VG="MenuAnchor",hS=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Vm(n);return w.jsx(oI,{...i,...r,ref:e})});hS.displayName=VG;var gS="MenuPortal",[qG,AI]=Pl(gS,{forceMount:void 0}),RI=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=jl(gS,e);return w.jsx(qG,{scope:e,forceMount:n,children:w.jsx(xo,{present:n||s.open,children:w.jsx(Hm,{asChild:!0,container:i,children:r})})})};RI.displayName=gS;var ki="MenuContent",[WG,pS]=Pl(ki),DI=E.forwardRef((t,e)=>{const n=AI(ki,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=jl(ki,t.__scopeMenu),a=Hf(ki,t.__scopeMenu);return w.jsx(vf.Provider,{scope:t.__scopeMenu,children:w.jsx(xo,{present:r||s.open,children:w.jsx(vf.Slot,{scope:t.__scopeMenu,children:a.modal?w.jsx(GG,{...i,ref:e}):w.jsx(YG,{...i,ref:e})})})})}),GG=E.forwardRef((t,e)=>{const n=jl(ki,t.__scopeMenu),r=E.useRef(null),i=Yt(e,r);return E.useEffect(()=>{const s=r.current;if(s)return fS(s)},[]),w.jsx(mS,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Pe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),YG=E.forwardRef((t,e)=>{const n=jl(ki,t.__scopeMenu);return w.jsx(mS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),KG=Sl("MenuContent.ScrollLock"),mS=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:m,onDismiss:v,disableOutsideScroll:b,...y}=t,S=jl(ki,n),C=Hf(ki,n),T=Vm(n),A=CI(n),M=zG(n),[D,k]=E.useState(null),N=E.useRef(null),O=Yt(e,N,S.onContentChange),j=E.useRef(0),z=E.useRef(""),B=E.useRef(0),Q=E.useRef(null),ne=E.useRef("right"),de=E.useRef(0),ge=b?$m:E.Fragment,P=b?{as:KG,allowPinchZoom:!0}:void 0,G=W=>{const ye=z.current+W,F=M().filter(Z=>!Z.disabled),te=document.activeElement,V=F.find(Z=>Z.ref.current===te)?.textValue,J=F.map(Z=>Z.textValue),ue=o8(J,ye,V),me=F.find(Z=>Z.textValue===ue)?.ref.current;(function Z(pe){z.current=pe,window.clearTimeout(j.current),pe!==""&&(j.current=window.setTimeout(()=>Z(""),1e3))})(ye),me&&setTimeout(()=>me.focus())};E.useEffect(()=>()=>window.clearTimeout(j.current),[]),rS();const q=E.useCallback(W=>ne.current===Q.current?.side&&c8(W,Q.current?.area),[]);return w.jsx(WG,{scope:n,searchRef:z,onItemEnter:E.useCallback(W=>{q(W)&&W.preventDefault()},[q]),onItemLeave:E.useCallback(W=>{q(W)||(N.current?.focus(),k(null))},[q]),onTriggerLeave:E.useCallback(W=>{q(W)&&W.preventDefault()},[q]),pointerGraceTimerRef:B,onPointerGraceIntentChange:E.useCallback(W=>{Q.current=W},[]),children:w.jsx(ge,{...P,children:w.jsx(Pm,{asChild:!0,trapped:i,onMountAutoFocus:Pe(s,W=>{W.preventDefault(),N.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:w.jsx(Im,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:m,onDismiss:v,children:w.jsx(QW,{asChild:!0,...A,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:k,onEntryFocus:Pe(u,W=>{C.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(lI,{role:"menu","aria-orientation":"vertical","data-state":qI(S.open),"data-radix-menu-content":"",dir:C.dir,...T,...y,ref:O,style:{outline:"none",...y.style},onKeyDown:Pe(y.onKeyDown,W=>{const F=W.target.closest("[data-radix-menu-content]")===W.currentTarget,te=W.ctrlKey||W.altKey||W.metaKey,V=W.key.length===1;F&&(W.key==="Tab"&&W.preventDefault(),!te&&V&&G(W.key));const J=N.current;if(W.target!==J||!LG.includes(W.key))return;W.preventDefault();const me=M().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);xI.includes(W.key)&&me.reverse(),s8(me)}),onBlur:Pe(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(j.current),z.current="")}),onPointerMove:Pe(t.onPointerMove,yf(W=>{const ye=W.target,F=de.current!==W.clientX;if(W.currentTarget.contains(ye)&&F){const te=W.clientX>de.current?"right":"left";ne.current=te,de.current=W.clientX}}))})})})})})})});DI.displayName=ki;var QG="MenuGroup",vS=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(ot.div,{role:"group",...r,ref:e})});vS.displayName=QG;var XG="MenuLabel",OI=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(ot.div,{...r,ref:e})});OI.displayName=XG;var Hp="MenuItem",bD="menu.itemSelect",qm=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=E.useRef(null),a=Hf(Hp,t.__scopeMenu),l=pS(Hp,t.__scopeMenu),u=Yt(e,s),d=E.useRef(!1),h=()=>{const g=s.current;if(!n&&g){const m=new CustomEvent(bD,{bubbles:!0,cancelable:!0});g.addEventListener(bD,v=>r?.(v),{once:!0}),PN(g,m),m.defaultPrevented?d.current=!1:a.onClose()}};return w.jsx(MI,{...i,ref:u,disabled:n,onClick:Pe(t.onClick,h),onPointerDown:g=>{t.onPointerDown?.(g),d.current=!0},onPointerUp:Pe(t.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:Pe(t.onKeyDown,g=>{const m=l.searchRef.current!=="";n||m&&g.key===" "||j_.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});qm.displayName=Hp;var MI=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=pS(Hp,n),l=CI(n),u=E.useRef(null),d=Yt(e,u),[h,g]=E.useState(!1),[m,v]=E.useState("");return E.useEffect(()=>{const b=u.current;b&&v((b.textContent??"").trim())},[s.children]),w.jsx(vf.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:w.jsx(XW,{asChild:!0,...l,focusable:!r,children:w.jsx(ot.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:Pe(t.onPointerMove,yf(b=>{r?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(t.onPointerLeave,yf(b=>a.onItemLeave(b))),onFocus:Pe(t.onFocus,()=>g(!0)),onBlur:Pe(t.onBlur,()=>g(!1))})})})}),ZG="MenuCheckboxItem",kI=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return w.jsx(LI,{scope:t.__scopeMenu,checked:n,children:w.jsx(qm,{role:"menuitemcheckbox","aria-checked":Bp(n)?"mixed":n,...i,ref:e,"data-state":bS(n),onSelect:Pe(i.onSelect,()=>r?.(Bp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kI.displayName=ZG;var NI="MenuRadioGroup",[JG,e8]=Pl(NI,{value:void 0,onValueChange:()=>{}}),II=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Xi(r);return w.jsx(JG,{scope:t.__scopeMenu,value:n,onValueChange:s,children:w.jsx(vS,{...i,ref:e})})});II.displayName=NI;var PI="MenuRadioItem",jI=E.forwardRef((t,e)=>{const{value:n,...r}=t,i=e8(PI,t.__scopeMenu),s=n===i.value;return w.jsx(LI,{scope:t.__scopeMenu,checked:s,children:w.jsx(qm,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":bS(s),onSelect:Pe(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});jI.displayName=PI;var yS="MenuItemIndicator",[LI,t8]=Pl(yS,{checked:!1}),FI=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=t8(yS,n);return w.jsx(xo,{present:r||Bp(s.checked)||s.checked===!0,children:w.jsx(ot.span,{...i,ref:e,"data-state":bS(s.checked)})})});FI.displayName=yS;var n8="MenuSeparator",UI=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(ot.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});UI.displayName=n8;var r8="MenuArrow",zI=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Vm(n);return w.jsx(cI,{...i,...r,ref:e})});zI.displayName=r8;var i8="MenuSub",[hde,HI]=Pl(i8),Ld="MenuSubTrigger",BI=E.forwardRef((t,e)=>{const n=jl(Ld,t.__scopeMenu),r=Hf(Ld,t.__scopeMenu),i=HI(Ld,t.__scopeMenu),s=pS(Ld,t.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},h=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>h,[h]),E.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),u(null)}},[l,u]),w.jsx(hS,{asChild:!0,...d,children:w.jsx(MI,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":qI(n.open),...t,ref:Nm(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Pe(t.onPointerMove,yf(g=>{s.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Pe(t.onPointerLeave,yf(g=>{h();const m=n.content?.getBoundingClientRect();if(m){const v=n.content?.dataset.side,b=v==="right",y=b?-5:5,S=m[b?"left":"right"],C=m[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+y,y:g.clientY},{x:S,y:m.top},{x:C,y:m.top},{x:C,y:m.bottom},{x:S,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(t.onKeyDown,g=>{const m=s.searchRef.current!=="";t.disabled||m&&g.key===" "||FG[r.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});BI.displayName=Ld;var $I="MenuSubContent",VI=E.forwardRef((t,e)=>{const n=AI(ki,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=jl(ki,t.__scopeMenu),a=Hf(ki,t.__scopeMenu),l=HI($I,t.__scopeMenu),u=E.useRef(null),d=Yt(e,u);return w.jsx(vf.Provider,{scope:t.__scopeMenu,children:w.jsx(xo,{present:r||s.open,children:w.jsx(vf.Slot,{scope:t.__scopeMenu,children:w.jsx(mS,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&u.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Pe(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Pe(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:Pe(t.onKeyDown,h=>{const g=h.currentTarget.contains(h.target),m=UG[a.dir].includes(h.key);g&&m&&(s.onOpenChange(!1),l.trigger?.focus(),h.preventDefault())})})})})})});VI.displayName=$I;function qI(t){return t?"open":"closed"}function Bp(t){return t==="indeterminate"}function bS(t){return Bp(t)?"indeterminate":t?"checked":"unchecked"}function s8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function a8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function o8(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=a8(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function l8(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],u=e[a],d=l.x,h=l.y,g=u.x,m=u.y;h>r!=m>r&&n<(g-d)*(r-h)/(m-h)+d&&(i=!i)}return i}function c8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return l8(n,e)}function yf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var u8=TI,d8=hS,f8=RI,h8=DI,g8=vS,p8=OI,m8=qm,v8=kI,y8=II,b8=jI,_8=FI,w8=UI,S8=zI,x8=BI,E8=VI,Wm="DropdownMenu",[C8]=So(Wm,[EI]),Cr=EI(),[T8,WI]=C8(Wm),GI=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,u=Cr(e),d=E.useRef(null),[h,g]=gf({prop:i,defaultProp:s??!1,onChange:a,caller:Wm});return w.jsx(T8,{scope:e,triggerId:oa(),triggerRef:d,contentId:oa(),open:h,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(m=>!m),[g]),modal:l,children:w.jsx(u8,{...u,open:h,onOpenChange:g,dir:r,modal:l,children:n})})};GI.displayName=Wm;var YI="DropdownMenuTrigger",KI=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=WI(YI,n),a=Cr(n);return w.jsx(d8,{asChild:!0,...a,children:w.jsx(ot.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Nm(e,s.triggerRef),onPointerDown:Pe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Pe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});KI.displayName=YI;var A8="DropdownMenuPortal",QI=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Cr(e);return w.jsx(f8,{...r,...n})};QI.displayName=A8;var XI="DropdownMenuContent",ZI=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=WI(XI,n),s=Cr(n),a=E.useRef(!1);return w.jsx(h8,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Pe(t.onCloseAutoFocus,l=>{a.current||i.triggerRef.current?.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:Pe(t.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!i.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZI.displayName=XI;var R8="DropdownMenuGroup",D8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(g8,{...i,...r,ref:e})});D8.displayName=R8;var O8="DropdownMenuLabel",JI=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(p8,{...i,...r,ref:e})});JI.displayName=O8;var M8="DropdownMenuItem",eP=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(m8,{...i,...r,ref:e})});eP.displayName=M8;var k8="DropdownMenuCheckboxItem",N8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(v8,{...i,...r,ref:e})});N8.displayName=k8;var I8="DropdownMenuRadioGroup",P8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(y8,{...i,...r,ref:e})});P8.displayName=I8;var j8="DropdownMenuRadioItem",L8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(b8,{...i,...r,ref:e})});L8.displayName=j8;var F8="DropdownMenuItemIndicator",U8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(_8,{...i,...r,ref:e})});U8.displayName=F8;var z8="DropdownMenuSeparator",tP=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(w8,{...i,...r,ref:e})});tP.displayName=z8;var H8="DropdownMenuArrow",B8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(S8,{...i,...r,ref:e})});B8.displayName=H8;var $8="DropdownMenuSubTrigger",V8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(x8,{...i,...r,ref:e})});V8.displayName=$8;var q8="DropdownMenuSubContent",W8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return w.jsx(E8,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W8.displayName=q8;var G8=GI,Y8=KI,K8=QI,Q8=ZI,X8=JI,Z8=eP,J8=tP;function nP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rP(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nP(t))&&(r&&(r+=" "),r+=e);return r}const _S="-",eY=t=>{const e=nY(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(_S);return l[0]===""&&l.length!==1&&l.shift(),iP(l,e)||tY(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&r[a]?[...u,...r[a]]:u}}},iP=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?iP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(_S);return e.validators.find(({validator:a})=>a(s))?.classGroupId},_D=/^\[(.+)\]$/,tY=t=>{if(_D.test(t)){const e=_D.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nY=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)L_(n[i],r,i,e);return r},L_=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:wD(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(rY(i)){L_(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{L_(a,wD(e,s),n,r)})})},wD=(t,e)=>{let n=t;return e.split(_S).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rY=t=>t.isThemeGetter,iY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},F_="!",U_=":",sY=U_.length,aY=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,l=0,u=0,d;for(let b=0;b<i.length;b++){let y=i[b];if(a===0&&l===0){if(y===U_){s.push(i.slice(u,b)),u=b+sY;continue}if(y==="/"){d=b;continue}}y==="["?a++:y==="]"?a--:y==="("?l++:y===")"&&l--}const h=s.length===0?i:i.substring(u),g=oY(h),m=g!==h,v=d&&d>u?d-u:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};if(e){const i=e+U_,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},oY=t=>t.endsWith(F_)?t.substring(0,t.length-1):t.startsWith(F_)?t.substring(1):t,lY=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},cY=t=>({cache:iY(t.cacheSize),parseClassName:aY(t),sortModifiers:lY(t),...eY(t)}),uY=/\s+/,dY=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],l=t.trim().split(uY);let u="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:g,modifiers:m,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:y}=n(h);if(g){u=h+(u.length>0?" "+u:u);continue}let S=!!y,C=r(S?b.substring(0,y):b);if(!C){if(!S){u=h+(u.length>0?" "+u:u);continue}if(C=r(b),!C){u=h+(u.length>0?" "+u:u);continue}S=!1}const T=s(m).join(":"),A=v?T+F_:T,M=A+C;if(a.includes(M))continue;a.push(M);const D=i(C,S);for(let k=0;k<D.length;++k){const N=D[k];a.push(A+N)}u=h+(u.length>0?" "+u:u)}return u};function fY(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=sP(e))&&(r&&(r+=" "),r+=n);return r}const sP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=sP(t[r]))&&(n&&(n+=" "),n+=e);return n};function hY(t,...e){let n,r,i,s=a;function a(u){const d=e.reduce((h,g)=>g(h),t());return n=cY(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const h=dY(u,n);return i(u,h),h}return function(){return s(fY.apply(null,arguments))}}const Ln=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,oP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gY=/^\d+\/\d+$/,pY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jc=t=>gY.test(t),it=t=>!!t&&!Number.isNaN(Number(t)),Va=t=>!!t&&Number.isInteger(Number(t)),o0=t=>t.endsWith("%")&&it(t.slice(0,-1)),Gs=t=>pY.test(t),_Y=()=>!0,wY=t=>mY.test(t)&&!vY.test(t),lP=()=>!1,SY=t=>yY.test(t),xY=t=>bY.test(t),EY=t=>!Re(t)&&!De(t),CY=t=>Tu(t,dP,lP),Re=t=>aP.test(t),Qo=t=>Tu(t,fP,wY),l0=t=>Tu(t,OY,it),SD=t=>Tu(t,cP,lP),TY=t=>Tu(t,uP,xY),jg=t=>Tu(t,hP,SY),De=t=>oP.test(t),Cd=t=>Au(t,fP),AY=t=>Au(t,MY),xD=t=>Au(t,cP),RY=t=>Au(t,dP),DY=t=>Au(t,uP),Lg=t=>Au(t,hP,!0),Tu=(t,e,n)=>{const r=aP.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Au=(t,e,n=!1)=>{const r=oP.exec(t);return r?r[1]?e(r[1]):n:!1},cP=t=>t==="position"||t==="percentage",uP=t=>t==="image"||t==="url",dP=t=>t==="length"||t==="size"||t==="bg-size",fP=t=>t==="length",OY=t=>t==="number",MY=t=>t==="family-name",hP=t=>t==="shadow",kY=()=>{const t=Ln("color"),e=Ln("font"),n=Ln("text"),r=Ln("font-weight"),i=Ln("tracking"),s=Ln("leading"),a=Ln("breakpoint"),l=Ln("container"),u=Ln("spacing"),d=Ln("radius"),h=Ln("shadow"),g=Ln("inset-shadow"),m=Ln("text-shadow"),v=Ln("drop-shadow"),b=Ln("blur"),y=Ln("perspective"),S=Ln("aspect"),C=Ln("ease"),T=Ln("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...M(),De,Re],k=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],O=()=>[De,Re,u],j=()=>[jc,"full","auto",...O()],z=()=>[Va,"none","subgrid",De,Re],B=()=>["auto",{span:["full",Va,De,Re]},Va,De,Re],Q=()=>[Va,"auto",De,Re],ne=()=>["auto","min","max","fr",De,Re],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ge=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...O()],G=()=>[jc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],q=()=>[t,De,Re],W=()=>[...M(),xD,SD,{position:[De,Re]}],ye=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",RY,CY,{size:[De,Re]}],te=()=>[o0,Cd,Qo],V=()=>["","none","full",d,De,Re],J=()=>["",it,Cd,Qo],ue=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>[it,o0,xD,SD],pe=()=>["","none",b,De,Re],Ce=()=>["none",it,De,Re],Te=()=>["none",it,De,Re],Le=()=>[it,De,Re],He=()=>[jc,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gs],breakpoint:[Gs],color:[_Y],container:[Gs],"drop-shadow":[Gs],ease:["in","out","in-out"],font:[EY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gs],shadow:[Gs],spacing:["px",it],text:[Gs],"text-shadow":[Gs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",jc,Re,De,S]}],container:["container"],columns:[{columns:[it,Re,De,l]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Va,"auto",De,Re]}],basis:[{basis:[jc,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[it,jc,"auto","initial","none",Re]}],grow:[{grow:["",it,De,Re]}],shrink:[{shrink:["",it,De,Re]}],order:[{order:[Va,"first","last","none",De,Re]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,Cd,Qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,De,l0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",o0,Re]}],"font-family":[{font:[AY,Re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,De,Re]}],"line-clamp":[{"line-clamp":[it,"none",De,l0]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",De,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[it,"from-font","auto",De,Qo]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[it,"auto",De,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:ye()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Va,De,Re],radial:["",De,Re],conic:[Va,De,Re]},DY,TY]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[it,De,Re]}],"outline-w":[{outline:["",it,Cd,Qo]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",h,Lg,jg]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",g,Lg,jg]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[it,Qo]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",m,Lg,jg]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[it,De,Re]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[it]}],"mask-image-linear-from-pos":[{"mask-linear-from":Z()}],"mask-image-linear-to-pos":[{"mask-linear-to":Z()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":Z()}],"mask-image-t-to-pos":[{"mask-t-to":Z()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":Z()}],"mask-image-r-to-pos":[{"mask-r-to":Z()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":Z()}],"mask-image-b-to-pos":[{"mask-b-to":Z()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":Z()}],"mask-image-l-to-pos":[{"mask-l-to":Z()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":Z()}],"mask-image-x-to-pos":[{"mask-x-to":Z()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":Z()}],"mask-image-y-to-pos":[{"mask-y-to":Z()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[De,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":Z()}],"mask-image-radial-to-pos":[{"mask-radial-to":Z()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[it]}],"mask-image-conic-from-pos":[{"mask-conic-from":Z()}],"mask-image-conic-to-pos":[{"mask-conic-to":Z()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:ye()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Re]}],filter:[{filter:["","none",De,Re]}],blur:[{blur:pe()}],brightness:[{brightness:[it,De,Re]}],contrast:[{contrast:[it,De,Re]}],"drop-shadow":[{"drop-shadow":["","none",v,Lg,jg]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",it,De,Re]}],"hue-rotate":[{"hue-rotate":[it,De,Re]}],invert:[{invert:["",it,De,Re]}],saturate:[{saturate:[it,De,Re]}],sepia:[{sepia:["",it,De,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Re]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[it,De,Re]}],"backdrop-contrast":[{"backdrop-contrast":[it,De,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",it,De,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[it,De,Re]}],"backdrop-invert":[{"backdrop-invert":["",it,De,Re]}],"backdrop-opacity":[{"backdrop-opacity":[it,De,Re]}],"backdrop-saturate":[{"backdrop-saturate":[it,De,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",it,De,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[it,"initial",De,Re]}],ease:[{ease:["linear","initial",C,De,Re]}],delay:[{delay:[it,De,Re]}],animate:[{animate:["none",T,De,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,De,Re]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:Te()}],"scale-x":[{"scale-x":Te()}],"scale-y":[{"scale-y":Te()}],"scale-z":[{"scale-z":Te()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[De,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Re]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[it,Cd,Qo,l0]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NY=hY(kY);function at(...t){return NY(rP(t))}function gP({...t}){return w.jsx(G8,{"data-slot":"dropdown-menu",...t})}function pP({...t}){return w.jsx(Y8,{"data-slot":"dropdown-menu-trigger",...t})}function mP({className:t,sideOffset:e=4,...n}){return w.jsx(K8,{children:w.jsx(Q8,{"data-slot":"dropdown-menu-content",sideOffset:e,className:at("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function IY({className:t,...e}){return w.jsx(X8,{"data-slot":"dropdown-menu-label",className:at("px-2 py-1.5 text-sm font-semibold",t),...e})}function pp({className:t,...e}){return w.jsx(Z8,{"data-slot":"dropdown-menu-item",className:at("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function ED({className:t,...e}){return w.jsx(J8,{"data-slot":"dropdown-menu-separator",className:at("-mx-1 my-1 h-px bg-muted",t),...e})}const CD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,TD=rP,vP=(t,e)=>n=>{var r;if(e?.variants==null)return TD(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(d=>{const h=n?.[d],g=s?.[d];if(h===null)return null;const m=CD(h)||CD(g);return i[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[g,m]=h;return m===void 0||(d[g]=m),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:g,className:m,...v}=h;return Object.entries(v).every(b=>{let[y,S]=b;return Array.isArray(S)?S.includes({...s,...l}[y]):{...s,...l}[y]===S})?[...d,g,m]:d},[]);return TD(t,a,u,n?.class,n?.className)},PY=vP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",xs:"h-7 rounded-md gap-1 px-2 text-xs has-[>svg]:px-1.5",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),Xt=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?W6:"button";return w.jsx(a,{className:at(PY({variant:e,size:n,className:t})),ref:s,...i})});Xt.displayName="Button";function jY(){const{theme:t,setTheme:e}=IN(),n=[{value:"light",label:"Light",icon:M6},{value:"dark",label:"Dark",icon:R6},{value:"system",label:"System",icon:T6}],i=(n.find(s=>s.value===t)||n[2]).icon;return w.jsxs(gP,{children:[w.jsx(pP,{asChild:!0,children:w.jsxs(Xt,{variant:"ghost",size:"sm",className:"h-8 w-8 px-0",children:[w.jsx(i,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),w.jsx(mP,{align:"end",children:n.map(s=>{const a=s.icon;return w.jsxs(pp,{onClick:()=>e(s.value),className:"flex items-center gap-2",children:[w.jsx(a,{className:"h-4 w-4"}),w.jsx("span",{children:s.label}),t===s.value&&w.jsx("span",{className:"ml-auto",children:"✓"})]},s.value)})})]})}var c0={exports:{}},u0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD;function LY(){if(AD)return u0;AD=1;var t=Em();function e(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(g,m){var v=m(),b=r({inst:{value:v,getSnapshot:m}}),y=b[0].inst,S=b[1];return s(function(){y.value=v,y.getSnapshot=m,u(y)&&S({inst:y})},[g,v,m]),i(function(){return u(y)&&S({inst:y}),g(function(){u(y)&&S({inst:y})})},[g]),a(v),v}function u(g){var m=g.getSnapshot;g=g.value;try{var v=m();return!n(g,v)}catch{return!0}}function d(g,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return u0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,u0}var RD;function FY(){return RD||(RD=1,c0.exports=LY()),c0.exports}var UY=FY();function zY(){return UY.useSyncExternalStore(HY,()=>!0,()=>!1)}function HY(){return()=>{}}var wS="Avatar",[BY]=So(wS),[$Y,yP]=BY(wS),bP=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=E.useState("idle");return w.jsx($Y,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:w.jsx(ot.span,{...r,ref:e})})});bP.displayName=wS;var _P="AvatarImage",VY=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=yP(_P,n),l=qY(r,s),u=Xi(d=>{i(d),a.onImageLoadingStatusChange(d)});return qn(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?w.jsx(ot.img,{...s,ref:e,src:r}):null});VY.displayName=_P;var wP="AvatarFallback",SP=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=yP(wP,n),[a,l]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(u)}},[r]),a&&s.imageLoadingStatus!=="loaded"?w.jsx(ot.span,{...i,ref:e}):null});SP.displayName=wP;function DD(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qY(t,{referrerPolicy:e,crossOrigin:n}){const r=zY(),i=E.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,l]=E.useState(()=>DD(s,t));return qn(()=>{l(DD(s,t))},[s,t]),qn(()=>{const u=g=>()=>{l(g)};if(!s)return;const d=u("loaded"),h=u("error");return s.addEventListener("load",d),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",d),s.removeEventListener("error",h)}},[s,n,e]),a}var WY=bP,GY=SP;function YY({className:t,...e}){return w.jsx(WY,{"data-slot":"avatar",className:at("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function KY({className:t,...e}){return w.jsx(GY,{"data-slot":"avatar-fallback",className:at("flex size-full items-center justify-center rounded-full bg-muted text-sm font-medium",t),...e})}function QY(){const{user:t,signOut:e}=Il(),{toggle:n}=ON();return w.jsx("header",{className:"bg-secondary shadow-sm border-b border-border",children:w.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[w.jsx("div",{className:"flex items-center",children:w.jsx("button",{onClick:n,className:"p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-inset focus:ring-ring",children:w.jsx(E6,{className:"h-6 w-6"})})}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx(jY,{}),w.jsxs(gP,{children:[w.jsx(pP,{asChild:!0,children:w.jsx(Xt,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:w.jsx(YY,{className:"h-8 w-8",children:w.jsx(KY,{className:"text-xs",children:t?.email?.charAt(0).toUpperCase()||"U"})})})}),w.jsxs(mP,{className:"w-56",align:"end",forceMount:!0,children:[w.jsx(IY,{className:"font-normal",children:w.jsxs("div",{className:"flex flex-col space-y-1",children:[w.jsx("p",{className:"text-sm font-medium leading-none",children:t?.email?.split("@")[0]||"User"}),w.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t?.email||"user@example.com"})]})}),w.jsx(ED,{}),w.jsxs(pp,{className:"cursor-pointer",children:[w.jsx(NN,{className:"size-4"}),w.jsx("span",{children:"My info"})]}),w.jsxs(pp,{className:"cursor-pointer",children:[w.jsx(N6,{className:"size-4"}),w.jsx("span",{children:"Users"})]}),w.jsx(ED,{}),w.jsxs(pp,{onClick:()=>e(),className:"cursor-pointer",children:[w.jsx(S6,{className:"size-4"}),w.jsx("span",{children:"Logout"})]})]})]})]})]})})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function eo(t,e){return typeof t=="function"?t(e):t}function di(t,e){return n=>{e.setState(r=>({...r,[t]:eo(n,r[t])}))}}function Gm(t){return t instanceof Function}function XY(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function ZY(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const a=e(s);a!=null&&a.length&&r(a)})};return r(t),n}function Ve(t,e,n){let r=[],i;return s=>{let a;n.key&&n.debug&&(a=Date.now());const l=t(s);if(!(l.length!==r.length||l.some((h,g)=>r[g]!==h)))return i;r=l;let d;if(n.key&&n.debug&&(d=Date.now()),i=e(...l),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-a)*100)/100,g=Math.round((Date.now()-d)*100)/100,m=g/16,v=(b,y)=>{for(b=String(b);b.length<y;)b=" "+b;return b};console.info(`%c⏱ ${v(g,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n?.key)}return i}}function qe(t,e,n,r){return{debug:()=>{var i;return(i=t?.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function JY(t,e,n,r){const i=()=>{var a;return(a=s.getValue())!=null?a:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Ve(()=>[t,n,e,s],(a,l,u,d)=>({table:a,column:l,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),qe(t.options,"debugCells"))};return t._features.forEach(a=>{a.createCell==null||a.createCell(s,n,e,t)},{}),s}function e9(t,e,n,r){var i,s;const l={...t._getDefaultColumnDef(),...e},u=l.accessorKey;let d=(i=(s=l.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:u&&(u.includes(".")?h=m=>{let v=m;for(const y of u.split(".")){var b;v=(b=v)==null?void 0:b[y]}return v}:h=m=>m[l.accessorKey]),!d)throw new Error;let g={id:`${String(d)}`,accessorFn:h,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Ve(()=>[!0],()=>{var m;return[g,...(m=g.columns)==null?void 0:m.flatMap(v=>v.getFlatColumns())]},qe(t.options,"debugColumns")),getLeafColumns:Ve(()=>[t._getOrderColumnsFn()],m=>{var v;if((v=g.columns)!=null&&v.length){let b=g.columns.flatMap(y=>y.getLeafColumns());return m(b)}return[g]},qe(t.options,"debugColumns"))};for(const m of t._features)m.createColumn==null||m.createColumn(g,t);return g}const dr="debugHeaders";function OD(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),a.push(u)};return l(s),a},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(a=>{a.createHeader==null||a.createHeader(s,t)}),s}const t9={createTable:t=>{t.getHeaderGroups=Ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,a;const l=(s=r?.map(g=>n.find(m=>m.id===g)).filter(Boolean))!=null?s:[],u=(a=i?.map(g=>n.find(m=>m.id===g)).filter(Boolean))!=null?a:[],d=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(i!=null&&i.includes(g.id)));return Fg(e,[...l,...d,...u],t)},qe(t.options,dr)),t.getCenterHeaderGroups=Ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),Fg(e,n,t,"center")),qe(t.options,dr)),t.getLeftHeaderGroups=Ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?i:[];return Fg(e,s,t,"left")},qe(t.options,dr)),t.getRightHeaderGroups=Ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?i:[];return Fg(e,s,t,"right")},qe(t.options,dr)),t.getFooterGroups=Ve(()=>[t.getHeaderGroups()],e=>[...e].reverse(),qe(t.options,dr)),t.getLeftFooterGroups=Ve(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),qe(t.options,dr)),t.getCenterFooterGroups=Ve(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),qe(t.options,dr)),t.getRightFooterGroups=Ve(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),qe(t.options,dr)),t.getFlatHeaders=Ve(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),qe(t.options,dr)),t.getLeftFlatHeaders=Ve(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),qe(t.options,dr)),t.getCenterFlatHeaders=Ve(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),qe(t.options,dr)),t.getRightFlatHeaders=Ve(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),qe(t.options,dr)),t.getCenterLeafHeaders=Ve(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),qe(t.options,dr)),t.getLeftLeafHeaders=Ve(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),qe(t.options,dr)),t.getRightLeafHeaders=Ve(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),qe(t.options,dr)),t.getLeafHeaders=Ve(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,a,l,u,d;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(u=(d=r[0])==null?void 0:d.headers)!=null?u:[]].map(h=>h.getLeafHeaders()).flat()},qe(t.options,dr))}};function Fg(t,e,n,r){var i,s;let a=0;const l=function(m,v){v===void 0&&(v=1),a=Math.max(a,v),m.filter(b=>b.getIsVisible()).forEach(b=>{var y;(y=b.columns)!=null&&y.length&&l(b.columns,v+1)},0)};l(t);let u=[];const d=(m,v)=>{const b={depth:v,id:[r,`${v}`].filter(Boolean).join("_"),headers:[]},y=[];m.forEach(S=>{const C=[...y].reverse()[0],T=S.column.depth===b.depth;let A,M=!1;if(T&&S.column.parent?A=S.column.parent:(A=S.column,M=!0),C&&C?.column===A)C.subHeaders.push(S);else{const D=OD(n,A,{id:[r,v,A.id,S?.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${y.filter(k=>k.column===A).length}`:void 0,depth:v,index:y.length});D.subHeaders.push(S),y.push(D)}b.headers.push(S),S.headerGroup=b}),u.push(b),v>0&&d(y,v-1)},h=e.map((m,v)=>OD(n,m,{depth:a,index:v}));d(h,a-1),u.reverse();const g=m=>m.filter(b=>b.column.getIsVisible()).map(b=>{let y=0,S=0,C=[0];b.subHeaders&&b.subHeaders.length?(C=[],g(b.subHeaders).forEach(A=>{let{colSpan:M,rowSpan:D}=A;y+=M,C.push(D)})):y=1;const T=Math.min(...C);return S=S+T,b.colSpan=y,b.rowSpan=S,{colSpan:y,rowSpan:S}});return g((i=(s=u[0])==null?void 0:s.headers)!=null?i:[]),u}const n9=(t,e,n,r,i,s,a)=>{let l={id:e,index:r,original:n,depth:i,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return l._valuesCache[u]=d.accessorFn(l.original,r),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=l.getValue(u))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>ZY(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;u.push(h),d=h}return u.reverse()},getAllCells:Ve(()=>[t.getAllLeafColumns()],u=>u.map(d=>JY(t,l,d,d.id)),qe(t.options,"debugRows")),_getAllCellsByColumnId:Ve(()=>[l.getAllCells()],u=>u.reduce((d,h)=>(d[h.column.id]=h,d),{}),qe(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createRow==null||d.createRow(l,t)}return l},r9={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},xP=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};xP.autoRemove=t=>Ki(t);const EP=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};EP.autoRemove=t=>Ki(t);const CP=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};CP.autoRemove=t=>Ki(t);const TP=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};TP.autoRemove=t=>Ki(t);const AP=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});AP.autoRemove=t=>Ki(t)||!(t!=null&&t.length);const RP=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});RP.autoRemove=t=>Ki(t)||!(t!=null&&t.length);const DP=(t,e,n)=>t.getValue(e)===n;DP.autoRemove=t=>Ki(t);const OP=(t,e,n)=>t.getValue(e)==n;OP.autoRemove=t=>Ki(t);const SS=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};SS.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(i)?1/0:i;if(s>a){const l=s;s=a,a=l}return[s,a]};SS.autoRemove=t=>Ki(t)||Ki(t[0])&&Ki(t[1]);const ta={includesString:xP,includesStringSensitive:EP,equalsString:CP,arrIncludes:TP,arrIncludesAll:AP,arrIncludesSome:RP,equals:DP,weakEquals:OP,inNumberRange:SS};function Ki(t){return t==null||t===""}const i9={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:di("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?ta.includesString:typeof r=="number"?ta.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ta.equals:Array.isArray(r)?ta.arrIncludes:ta.weakEquals},t.getFilterFn=()=>{var n,r;return Gm(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:ta[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r?.find(h=>h.id===t.id),a=eo(n,s?s.value:void 0);if(MD(i,a,t)){var l;return(l=r?.filter(h=>h.id!==t.id))!=null?l:[]}const u={id:t.id,value:a};if(s){var d;return(d=r?.map(h=>h.id===t.id?u:h))!=null?d:[]}return r!=null&&r.length?[...r,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=eo(e,i))==null?void 0:s.filter(a=>{const l=n.find(u=>u.id===a.id);if(l){const u=l.getFilterFn();if(MD(u,a.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function MD(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const s9=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),a9=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},o9=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},l9=(t,e,n)=>{let r,i;return n.forEach(s=>{const a=s.getValue(t);a!=null&&(r===void 0?a>=a&&(r=i=a):(r>a&&(r=a),i<a&&(i=a)))}),[r,i]},c9=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},u9=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!XY(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,a)=>s-a);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},d9=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),f9=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,h9=(t,e)=>e.length,d0={sum:s9,min:a9,max:o9,extent:l9,mean:c9,median:u9,unique:d9,uniqueCount:f9,count:h9},g9={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:di("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return d0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return d0.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return Gm(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:d0[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function p9(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(a=>a.id===s)).filter(Boolean),...r]}const m9={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:di("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Ve(n=>[qd(e,n)],n=>n.findIndex(r=>r.id===t.id),qe(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=qd(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=qd(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Ve(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const a=[...e],l=[...i];for(;l.length&&a.length;){const u=a.shift(),d=l.findIndex(h=>h.id===u);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return p9(s,n,r)},qe(t.options,"debugTable"))}},f0=()=>({left:[],right:[]}),v9={getInitialState:t=>({columnPinning:f0(),...t}),getDefaultOptions:t=>({onColumnPinningChange:di("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,a;if(n==="right"){var l,u;return{left:((l=i?.left)!=null?l:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((u=i?.right)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var d,h;return{left:[...((d=i?.left)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((h=i?.right)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((s=i?.left)!=null?s:[]).filter(g=>!(r!=null&&r.includes(g))),right:((a=i?.right)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,a;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(a=e.options.enableColumnPinning)!=null?a:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(l=>r?.includes(l)),a=n.some(l=>i?.includes(l));return s?"left":a?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Ve(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(a=>!s.includes(a.column.id))},qe(e.options,"debugRows")),t.getLeftVisibleCells=Ve(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),qe(e.options,"debugRows")),t.getRightVisibleCells=Ve(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),qe(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?f0():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:f0())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Ve(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),qe(t.options,"debugColumns")),t.getRightLeafColumns=Ve(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),qe(t.options,"debugColumns")),t.getCenterLeafColumns=Ve(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},qe(t.options,"debugColumns"))}};function y9(t){return t||(typeof document<"u"?document:null)}const Ug={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},h0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),b9={getDefaultColumnDef:()=>Ug,getInitialState:t=>({columnSizing:{},columnSizingInfo:h0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:di("columnSizing",t),onColumnSizingInfoChange:di("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Ug.minSize,(r=s??t.columnDef.size)!=null?r:Ug.size),(i=t.columnDef.maxSize)!=null?i:Ug.maxSize)},t.getStart=Ve(n=>[n,qd(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),qe(e.options,"debugColumns")),t.getAfter=Ve(n=>[n,qd(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),qe(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r?.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),g0(s)&&s.touches&&s.touches.length>1))return;const a=t.getSize(),l=t?t.getLeafHeaders().map(C=>[C.column.id,C.column.getSize()]):[[r.id,r.getSize()]],u=g0(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(C,T)=>{typeof T=="number"&&(e.setColumnSizingInfo(A=>{var M,D;const k=e.options.columnResizeDirection==="rtl"?-1:1,N=(T-((M=A?.startOffset)!=null?M:0))*k,O=Math.max(N/((D=A?.startSize)!=null?D:0),-.999999);return A.columnSizingStart.forEach(j=>{let[z,B]=j;d[z]=Math.round(Math.max(B+B*O,0)*100)/100}),{...A,deltaOffset:N,deltaPercentage:O}}),(e.options.columnResizeMode==="onChange"||C==="end")&&e.setColumnSizing(A=>({...A,...d})))},g=C=>h("move",C),m=C=>{h("end",C),e.setColumnSizingInfo(T=>({...T,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=y9(n),b={moveHandler:C=>g(C.clientX),upHandler:C=>{v?.removeEventListener("mousemove",b.moveHandler),v?.removeEventListener("mouseup",b.upHandler),m(C.clientX)}},y={moveHandler:C=>(C.cancelable&&(C.preventDefault(),C.stopPropagation()),g(C.touches[0].clientX),!1),upHandler:C=>{var T;v?.removeEventListener("touchmove",y.moveHandler),v?.removeEventListener("touchend",y.upHandler),C.cancelable&&(C.preventDefault(),C.stopPropagation()),m((T=C.touches[0])==null?void 0:T.clientX)}},S=_9()?{passive:!1}:!1;g0(s)?(v?.addEventListener("touchmove",y.moveHandler,S),v?.addEventListener("touchend",y.upHandler,S)):(v?.addEventListener("mousemove",b.moveHandler,S),v?.addEventListener("mouseup",b.upHandler,S)),e.setColumnSizingInfo(C=>({...C,startOffset:u,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?h0():(n=t.initialState.columnSizingInfo)!=null?n:h0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let zg=null;function _9(){if(typeof zg=="boolean")return zg;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return zg=t,zg}function g0(t){return t.type==="touchstart"}const w9={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:di("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Ve(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),qe(e.options,"debugRows")),t.getVisibleCells=Ve(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],qe(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Ve(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),qe(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function qd(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const S9={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},x9={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:di("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>ta.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return Gm(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:ta[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},E9={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:di("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const a=s.split(".");r=Math.max(r,a.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let a={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=r,n=(i=n)!=null?i:!s,!s&&n)return{...a,[t.id]:!0};if(s&&!n){const{[t.id]:l,...u}=a;return u}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},z_=0,H_=10,p0=()=>({pageIndex:z_,pageSize:H_}),C9={getInitialState:t=>({...t,pagination:{...p0(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:di("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>eo(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?p0():(i=t.initialState.pagination)!=null?i:p0())},t.setPageIndex=r=>{t.setPagination(i=>{let s=eo(r,i.pageIndex);const a=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?z_:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:z_)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?H_:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:H_)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,eo(r,i.pageSize)),a=i.pageSize*i.pageIndex,l=Math.floor(a/s);return{...i,pageIndex:l,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let a=eo(r,(s=t.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...i,pageCount:a}}),t.getPageOptions=Ve(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,a)=>a)),i},qe(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},m0=()=>({top:[],bottom:[]}),T9={getInitialState:t=>({rowPinning:m0(),...t}),getDefaultOptions:t=>({onRowPinningChange:di("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(u=>{let{id:d}=u;return d}):[],a=i?t.getParentRows().map(u=>{let{id:d}=u;return d}):[],l=new Set([...a,t.id,...s]);e.setRowPinning(u=>{var d,h;if(n==="bottom"){var g,m;return{top:((g=u?.top)!=null?g:[]).filter(y=>!(l!=null&&l.has(y))),bottom:[...((m=u?.bottom)!=null?m:[]).filter(y=>!(l!=null&&l.has(y))),...Array.from(l)]}}if(n==="top"){var v,b;return{top:[...((v=u?.top)!=null?v:[]).filter(y=>!(l!=null&&l.has(y))),...Array.from(l)],bottom:((b=u?.bottom)!=null?b:[]).filter(y=>!(l!=null&&l.has(y)))}}return{top:((d=u?.top)!=null?d:[]).filter(y=>!(l!=null&&l.has(y))),bottom:((h=u?.bottom)!=null?h:[]).filter(y=>!(l!=null&&l.has(y)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(l=>r?.includes(l)),a=n.some(l=>i?.includes(l));return s?"top":a?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(r=s?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?m0():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:m0())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(a=>{const l=t.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>e.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:r}))},t.getTopRows=Ve(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),qe(t.options,"debugRows")),t.getBottomRows=Ve(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),qe(t.options,"debugRows")),t.getCenterRows=Ve(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},qe(t.options,"debugRows"))}},A9={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:di("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{B_(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Ve(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?v0(t,n):{rows:[],flatRows:[],rowsById:{}},qe(t.options,"debugTable")),t.getFilteredSelectedRowModel=Ve(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?v0(t,n):{rows:[],flatRows:[],rowsById:{}},qe(t.options,"debugTable")),t.getGroupedSelectedRowModel=Ve(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?v0(t,n):{rows:[],flatRows:[],rowsById:{}},qe(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var a;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const l={...s};return B_(l,t.id,n,(a=r?.selectChildren)!=null?a:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return xS(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return $_(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return $_(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},B_=(t,e,n,r,i)=>{var s;const a=i.getRow(e,!0);n?(a.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),a.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>B_(t,l.id,n,r,i))};function v0(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(a,l){return a.map(u=>{var d;const h=xS(u,n);if(h&&(r.push(u),i[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:s(u.subRows)}),h)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function xS(t,e){var n;return(n=e[t.id])!=null?n:!1}function $_(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(a=>{if(!(s&&!i)&&(a.getCanSelect()&&(xS(a,e)?s=!0:i=!1),a.subRows&&a.subRows.length)){const l=$_(a,e);l==="all"?s=!0:(l==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const V_=/([0-9]+)/gm,R9=(t,e,n)=>MP(ho(t.getValue(n)).toLowerCase(),ho(e.getValue(n)).toLowerCase()),D9=(t,e,n)=>MP(ho(t.getValue(n)),ho(e.getValue(n))),O9=(t,e,n)=>ES(ho(t.getValue(n)).toLowerCase(),ho(e.getValue(n)).toLowerCase()),M9=(t,e,n)=>ES(ho(t.getValue(n)),ho(e.getValue(n))),k9=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},N9=(t,e,n)=>ES(t.getValue(n),e.getValue(n));function ES(t,e){return t===e?0:t>e?1:-1}function ho(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function MP(t,e){const n=t.split(V_).filter(Boolean),r=e.split(V_).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),a=parseInt(i,10),l=parseInt(s,10),u=[a,l].sort();if(isNaN(u[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(u[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-r.length}const Td={alphanumeric:R9,alphanumericCaseSensitive:D9,text:O9,textCaseSensitive:M9,datetime:k9,basic:N9},I9={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:di("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i?.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return Td.datetime;if(typeof s=="string"&&(r=!0,s.split(V_).length>1))return Td.alphanumeric}return r?Td.text:Td.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return Gm(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:Td[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(a=>{const l=a?.find(v=>v.id===t.id),u=a?.findIndex(v=>v.id===t.id);let d=[],h,g=s?n:i==="desc";if(a!=null&&a.length&&t.getCanMultiSort()&&r?l?h="toggle":h="add":a!=null&&a.length&&u!==a.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||i||(h="remove")),h==="add"){var m;d=[...a,{id:t.id,desc:g}],d.splice(0,d.length-((m=e.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=a.map(v=>v.id===t.id?{...v,desc:g}:v):h==="remove"?d=a.filter(v=>v.id!==t.id):d=[{id:t.id,desc:g}];return d})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),a=t.getIsSorted();return a?a!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:a==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},P9=[t9,w9,m9,v9,r9,i9,S9,x9,I9,g9,E9,C9,T9,A9,b9];function j9(t){var e,n;const r=[...P9,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((m,v)=>Object.assign(m,v.getDefaultOptions==null?void 0:v.getDefaultOptions(i)),{}),a=m=>i.options.mergeOptions?i.options.mergeOptions(s,m):{...s,...m};let u={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(m=>{var v;u=(v=m.getInitialState==null?void 0:m.getInitialState(u))!=null?v:u});const d=[];let h=!1;const g={_features:r,options:{...s,...t},initialState:u,_queue:m=>{d.push(m),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(v=>setTimeout(()=>{throw v})))},reset:()=>{i.setState(i.initialState)},setOptions:m=>{const v=eo(m,i.options);i.options=a(v)},getState:()=>i.options.state,setState:m=>{i.options.onStateChange==null||i.options.onStateChange(m)},_getRowId:(m,v,b)=>{var y;return(y=i.options.getRowId==null?void 0:i.options.getRowId(m,v,b))!=null?y:`${b?[b.id,v].join("."):v}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(m,v)=>{let b=(v?i.getPrePaginationRowModel():i.getRowModel()).rowsById[m];if(!b&&(b=i.getCoreRowModel().rowsById[m],!b))throw new Error;return b},_getDefaultColumnDef:Ve(()=>[i.options.defaultColumn],m=>{var v;return m=(v=m)!=null?v:{},{header:b=>{const y=b.header.column.columnDef;return y.accessorKey?y.accessorKey:y.accessorFn?y.id:null},cell:b=>{var y,S;return(y=(S=b.renderValue())==null||S.toString==null?void 0:S.toString())!=null?y:null},...i._features.reduce((b,y)=>Object.assign(b,y.getDefaultColumnDef==null?void 0:y.getDefaultColumnDef()),{}),...m}},qe(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Ve(()=>[i._getColumnDefs()],m=>{const v=function(b,y,S){return S===void 0&&(S=0),b.map(C=>{const T=e9(i,C,S,y),A=C;return T.columns=A.columns?v(A.columns,T,S+1):[],T})};return v(m)},qe(t,"debugColumns")),getAllFlatColumns:Ve(()=>[i.getAllColumns()],m=>m.flatMap(v=>v.getFlatColumns()),qe(t,"debugColumns")),_getAllFlatColumnsById:Ve(()=>[i.getAllFlatColumns()],m=>m.reduce((v,b)=>(v[b.id]=b,v),{}),qe(t,"debugColumns")),getAllLeafColumns:Ve(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(m,v)=>{let b=m.flatMap(y=>y.getLeafColumns());return v(b)},qe(t,"debugColumns")),getColumn:m=>i._getAllFlatColumnsById()[m]};Object.assign(i,g);for(let m=0;m<i._features.length;m++){const v=i._features[m];v==null||v.createTable==null||v.createTable(i)}return i}function L9(){return t=>Ve(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,a){s===void 0&&(s=0);const l=[];for(let d=0;d<i.length;d++){const h=n9(t,t._getRowId(i[d],d,a),i[d],d,s,void 0,a?.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var u;h.originalSubRows=t.options.getSubRows(i[d],d),(u=h.originalSubRows)!=null&&u.length&&(h.subRows=r(h.originalSubRows,s+1,h))}}return l};return n.rows=r(e),n},qe(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function F9(){return t=>Ve(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(u=>{var d;return(d=t.getColumn(u.id))==null?void 0:d.getCanSort()}),a={};s.forEach(u=>{const d=t.getColumn(u.id);d&&(a[u.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=u=>{const d=u.map(h=>({...h}));return d.sort((h,g)=>{for(let v=0;v<s.length;v+=1){var m;const b=s[v],y=a[b.id],S=y.sortUndefined,C=(m=b?.desc)!=null?m:!1;let T=0;if(S){const A=h.getValue(b.id),M=g.getValue(b.id),D=A===void 0,k=M===void 0;if(D||k){if(S==="first")return D?-1:1;if(S==="last")return D?1:-1;T=D&&k?0:D?S:-S}}if(T===0&&(T=y.sortingFn(h,g,b.id)),T!==0)return C&&(T*=-1),y.invertSorting&&(T*=-1),T}return h.index-g.index}),d.forEach(h=>{var g;i.push(h),(g=h.subRows)!=null&&g.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:i,rowsById:n.rowsById}},qe(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function kD(t,e){return t?U9(t)?E.createElement(t,e):t:null}function U9(t){return z9(t)||typeof t=="function"||H9(t)}function z9(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function H9(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function B9(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=E.useState(()=>({current:j9(e)})),[r,i]=E.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:a=>{i(a),t.onStateChange==null||t.onStateChange(a)}})),n.current}const $9=le.forwardRef(({className:t,...e},n)=>w.jsx("div",{className:"relative w-full overflow-auto",children:w.jsx("table",{ref:n,className:at("w-full caption-bottom text-sm",t),...e})}));$9.displayName="Table";const V9=le.forwardRef(({className:t,...e},n)=>w.jsx("thead",{ref:n,className:at("[&_tr]:border-b [&_tr]:border-border/50",t),...e}));V9.displayName="TableHeader";const q9=le.forwardRef(({className:t,...e},n)=>w.jsx("tbody",{ref:n,className:at("[&_tr:last-child]:border-0",t),...e}));q9.displayName="TableBody";const W9=le.forwardRef(({className:t,...e},n)=>w.jsx("tfoot",{ref:n,className:at("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));W9.displayName="TableFooter";const q_=le.forwardRef(({className:t,...e},n)=>w.jsx("tr",{ref:n,className:at("border-b border-border transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));q_.displayName="TableRow";const kP=le.forwardRef(({className:t,...e},n)=>w.jsx("th",{ref:n,className:at("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));kP.displayName="TableHead";const NP=le.forwardRef(({className:t,...e},n)=>w.jsx("td",{ref:n,className:at("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));NP.displayName="TableCell";const G9=le.forwardRef(({className:t,...e},n)=>w.jsx("caption",{ref:n,className:at("mt-4 text-sm text-muted-foreground",t),...e}));G9.displayName="TableCaption";const Y9=({column:t,options:e,onFilterChange:n,isOpen:r,onToggle:i,activeFilter:s})=>{const[a,l]=E.useState(""),[u,d]=E.useState({top:0,left:0}),[h,g]=E.useState(new Set),[m,v]=E.useState(!0),b=E.useRef(null),y=E.useMemo(()=>a?e.filter(k=>k&&k.toLowerCase().includes(a.toLowerCase())):e,[e,a,t]);E.useEffect(()=>{r&&(s&&Array.isArray(s)?(g(new Set(s)),v(s.length===e.length)):s?(g(new Set([s])),v(!1)):(g(new Set(e)),v(!0)))},[r,s,e]);const S=D=>{const k=new Set(h);k.has(D)?k.delete(D):k.add(D),g(k),v(k.size===y.length)},C=()=>{m?(g(new Set),v(!1)):(g(new Set(y)),v(!0))},T=()=>{g(new Set),v(!1)},A=()=>{const D=Array.from(h);n(t,D.length===0?"":D),l(""),i()},M=()=>{l(""),i()};return E.useEffect(()=>{const D=k=>{b.current&&!b.current.contains(k.target)&&M()};return r&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[r]),E.useEffect(()=>{r||(l(""),g(new Set),v(!0))},[r]),E.useEffect(()=>{if(r&&b.current){const D=b.current.querySelector("button");if(D){const k=D.getBoundingClientRect(),N=window.innerWidth,O=192;let j=0;k.left+O>N&&(j=-O+k.width),d({top:k.height+5,left:j})}}},[r]),w.jsxs("div",{className:"relative",ref:b,children:[w.jsx("button",{onClick:i,className:`inline-flex items-center justify-center w-4 h-4 transition-colors ${s?"text-blue-600 hover:text-blue-700":"text-gray-500 hover:text-gray-700"}`,title:s?`Filtro attivo: ${s}`:"Filtra",children:w.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})})}),r&&w.jsxs("div",{className:"absolute bg-white border border-gray-300 rounded-md shadow-lg z-[99999] w-48",style:{top:u.top,left:u.left},onClick:D=>D.stopPropagation(),children:[w.jsxs("div",{className:"p-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-1",children:[w.jsx("button",{onClick:C,className:"text-blue-600 text-xs font-medium hover:underline",children:m?"Select all":`Select all ${y.length}`}),w.jsx("button",{onClick:T,className:"text-blue-600 text-xs font-medium hover:underline",children:"Clear"})]}),w.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["Displaying ",y.length]}),w.jsxs("div",{className:"relative mb-1",children:[w.jsx("input",{type:"text",placeholder:"Search values...",value:a,onChange:D=>l(D.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),w.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:w.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor",className:"text-gray-400",children:w.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})]}),w.jsxs("div",{className:"h-16 overflow-y-auto border border-gray-200 rounded",children:[y.map((D,k)=>w.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-50 cursor-pointer",children:[w.jsx("input",{type:"checkbox",checked:h.has(D),onChange:()=>S(D),className:"mr-2 h-3 w-3 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),w.jsx("span",{className:"text-xs truncate flex-1",children:D||"(Blanks)"})]},`${D}-${k}`)),y.length===0&&a&&w.jsx("div",{className:"px-2 py-2 text-xs text-gray-500 text-center",children:"No results found"})]})]}),w.jsxs("div",{className:"border-t border-gray-200 p-2 flex justify-end space-x-1",children:[w.jsx("button",{onClick:M,className:"px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded",children:"Cancel"}),w.jsx("button",{onClick:A,className:"px-2 py-1 text-xs bg-blue-600 text-white hover:bg-blue-700 rounded",children:"OK"})]})]})]})};function CS({data:t,columns:e,onEditRow:n,onDeleteRow:r,onRowClick:i,enableFiltering:s=!1,filterableColumns:a=[],stickyColumns:l=[],onBulkDelete:u=null,onBulkExport:d=null,initialPageSize:h=10,pageSizeOptions:g=[10,25,50],enableGlobalSearch:m=!0,enableColumnVisibility:v=!1}){const[b,y]=E.useState({}),[S,C]=E.useState(null),[T,A]=E.useState(0),[M,D]=E.useState(h),[k,N]=E.useState(new Set),[O,j]=E.useState(""),z=(V,J)=>{if(!(!V||!J))return J.indexOf(".")===-1?V[J]:J.split(".").reduce((ue,me)=>ue&&ue[me]!==void 0?ue[me]:void 0,V)},B=E.useMemo(()=>!s||Object.keys(b).length===0?t:t.filter(V=>Object.entries(b).every(([J,ue])=>{if(!ue)return!0;const me=z(V,J);return me?Array.isArray(ue)?ue.includes(me):me.toString().toLowerCase().includes(ue.toLowerCase()):!1})),[t,b,s]),Q=E.useMemo(()=>{if(!s)return{};const V={};return a.forEach(J=>{V[J]=[...new Set(t.map(ue=>z(ue,J)).filter(Boolean))].sort()}),V},[t,a,s]),ne=(V,J)=>{y(ue=>({...ue,[V]:J}))},de=V=>{C(S===V?null:V)},ge=E.useMemo(()=>{if(B&&B.length>0){const V=B.map(Z=>Z.id);V.filter((Z,pe)=>V.indexOf(Z)!==pe).length>0;const ue=new Set,me=[];B.forEach((Z,pe)=>{ue.has(Z.id)?me.push({id:Z.id,index:pe,item:Z}):ue.add(Z.id)})}if(m&&O.trim().length>0){const V=O.toLowerCase(),J=(e||[]).map(me=>me.accessorKey).filter(Boolean);return B.filter(me=>J.some(Z=>{const pe=z(me,Z);return pe!=null&&String(pe).toLowerCase().includes(V)}))}return B},[B,m,O,e]),P=E.useMemo(()=>{const V=ue=>{n&&n(ue.original)},J=n||r?{id:"actions",header:"Azioni",cell:({row:ue})=>w.jsxs("div",{className:"flex flex-row gap-1 items-center justify-start",children:[n&&w.jsx(Xt,{size:"xs",variant:"outline",onClick:()=>V(ue),children:"Modifica"}),r&&w.jsx(Xt,{size:"xs",variant:"destructive",onClick:()=>r(ue.original),children:"Elimina"})]})}:null;return J?[...e,J]:e},[e,n,r]),G=(V,J)=>{if(!l.includes(V))return 0;let ue=0;for(let me=0;me<J;me++){const Z=P[me]?.id||P[me]?.accessorKey;l.includes(Z)&&(Z==="odp_number"?ue+=71:Z==="article_code"?ue+=80:ue+=100)}return ue},q=B9({data:ge,columns:P,getCoreRowModel:L9(),getSortedRowModel:F9()}),W=q.getRowModel().rows,ye=Math.max(1,Math.ceil(W.length/M)),F=Math.min(T,ye-1),te=W.slice(F*M,(F+1)*M);return w.jsxs("div",{className:"bg-card rounded-lg border border-border shadow-sm overflow-hidden h-full flex flex-col",children:[m&&w.jsx("div",{className:"flex items-center justify-between p-2 border-b",children:w.jsx("input",{type:"text",value:O,onChange:V=>{j(V.target.value),A(0)},placeholder:"Cerca...",className:"border border-input rounded px-2 py-1 text-sm w-64 text-foreground placeholder-muted-foreground"})}),w.jsx("div",{className:"flex-1 overflow-auto",children:w.jsxs("table",{className:"w-full caption-bottom text-sm relative",children:[w.jsx("thead",{className:"sticky top-0 z-20 bg-muted/50 border-b border-border",children:q.getHeaderGroups().map(V=>w.jsx(q_,{children:V.headers.map((J,ue)=>{const me=`${V.id}_${J.id}_${ue}`,Z=J.column.id,pe=s&&a.includes(Z),Ce=l.includes(Z);return w.jsx(kP,{onClick:J.column.getToggleSortingHandler(),className:Ce?"sticky top-0 z-30 bg-muted/50 shadow-sm":"",style:Ce?{left:`${G(Z,ue)}px`}:{},children:w.jsxs("div",{className:"flex items-center gap-2",children:[kD(J.column.columnDef.header,J.getContext()),{asc:" 🔼",desc:" 🔽"}[J.column.getIsSorted()]??null,pe&&w.jsx(Y9,{column:Z,options:Q[Z]||[],onFilterChange:ne,isOpen:S===Z,onToggle:()=>de(Z),activeFilter:b[Z]})]})},me)})},V.id))}),w.jsx("tbody",{children:te.map(V=>{const J=V.original.id||V.id;return w.jsx(q_,{className:i?"cursor-pointer hover:bg-muted/50":"",onClick:i?()=>i(V.original):void 0,children:V.getVisibleCells().map((ue,me)=>{const Z=`${J}_${ue.column.id}_${me}`,pe=ue.column.id,Ce=l.includes(pe);return w.jsx(NP,{className:Ce?"sticky z-10 shadow-sm":"",style:Ce?{left:`${G(pe,me)}px`}:{},onClick:Te=>{pe==="actions"&&Te.stopPropagation()},children:kD(ue.column.columnDef.cell,ue.getContext())},Z)})},J)})})]})}),w.jsxs("div",{className:"flex items-center justify-between p-2 border-t",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-sm text-muted-foreground",children:"Righe per pagina"}),w.jsx("select",{className:"border border-input rounded px-2 py-1 text-sm text-foreground",value:M,onChange:V=>{D(Number(V.target.value)),A(0)},children:g.map(V=>w.jsx("option",{value:V,children:V},V))})]}),w.jsx("div",{className:"text-sm text-muted-foreground",children:W.length===0?"0–0 di 0":`${F*M+1}–${Math.min((F+1)*M,W.length)} di ${W.length}`}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Xt,{size:"sm",variant:"outline",onClick:()=>A(0),disabled:F===0,children:"«"}),w.jsx(Xt,{size:"sm",variant:"outline",onClick:()=>A(Math.max(0,F-1)),disabled:F===0,children:"Prev"}),w.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pagina ",F+1," / ",ye]}),w.jsx(Xt,{size:"sm",variant:"outline",onClick:()=>A(Math.min(ye-1,F+1)),disabled:F>=ye-1,children:"Next"}),w.jsx(Xt,{size:"sm",variant:"outline",onClick:()=>A(ye-1),disabled:F>=ye-1,children:"»"})]})]})]})}const Oi=wo((t,e)=>({machines:[],getMachines:()=>e().machines,getMachineById:n=>e().machines.find(r=>r.id===n),getMachinesByWorkCenter:n=>n==="BOTH"?e().machines:e().machines.filter(r=>r.work_center===n),setMachines:n=>t({machines:n||[]}),cleanupDuplicateMachines:()=>{const n=e(),r=[],i=new Set;n.machines.forEach(s=>{i.has(s.id)||(i.add(s.id),r.push(s))}),t({machines:r})},reset:()=>t({machines:[]})})),hn=wo((t,e)=>({odpOrders:[],getOdpOrders:()=>e().odpOrders,getOrderById:n=>e().odpOrders.find(r=>r.id===n),getScheduledOrders:()=>e().odpOrders.filter(n=>n.status==="SCHEDULED"),getUnscheduledOrders:()=>e().odpOrders.filter(n=>n.status==="NOT SCHEDULED"),getOdpOrdersByWorkCenter:n=>n==="BOTH"?e().odpOrders:e().odpOrders.filter(r=>r.work_center===n),setOdpOrders:n=>t({odpOrders:n||[]}),cleanupDuplicateOrders:()=>{const n=e(),r=[],i=new Set;n.odpOrders.forEach(s=>{i.has(s.id)||(i.add(s.id),r.push(s))}),t({odpOrders:r})},reset:()=>t({odpOrders:[]})})),Yc=wo((t,e)=>({phases:[],getPhases:()=>e().phases,getPhaseById:n=>e().phases.find(r=>r.id===n),setPhases:n=>t({phases:n||[]}),cleanupDuplicatePhases:()=>{const n=e(),r=[],i=new Set;n.phases.forEach(s=>{i.has(s.id)||(i.add(s.id),r.push(s))}),t({phases:r})},reset:()=>t({phases:[]})})),K9={APP:{FIRST_DAY_OF_WEEK:1}},IP=6048e5,Q9=864e5,X9=36e5,ND=Symbol.for("constructDateFrom");function xs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ND in t?t[ND](e):t instanceof Date?new t.constructor(e):new Date(e)}function lr(t,e){return xs(e||t,t)}function Bf(t,e,n){const r=lr(t,n?.in);return isNaN(e)?xs(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Z9(t,e,n){return xs(t,+lr(t)+e)}function ID(t,e,n){return Z9(t,e*X9)}let J9={};function Ym(){return J9}function El(t,e){const n=Ym(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=lr(t,e?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function $p(t,e){return El(t,{...e,weekStartsOn:1})}function PP(t,e){const n=lr(t,e?.in),r=n.getFullYear(),i=xs(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=$p(i),a=xs(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=$p(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function PD(t){const e=lr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function e7(t,...e){const n=xs.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function jD(t,e){const n=lr(t,e?.in);return n.setHours(0,0,0,0),n}function t7(t,e,n){const[r,i]=e7(n?.in,t,e),s=jD(r),a=jD(i),l=+s-PD(s),u=+a-PD(a);return Math.round((l-u)/Q9)}function n7(t,e){const n=PP(t,e),r=xs(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),$p(r)}function jP(t,e,n){return Bf(t,e*7,n)}function r7(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function i7(t){return!(!r7(t)&&typeof t!="number"||isNaN(+lr(t)))}function s7(t,e){const n=lr(t,e?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function LP(t,e){const n=lr(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const a7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o7=(t,e,n)=>{let r;const i=a7[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function y0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const l7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d7={date:y0({formats:l7,defaultWidth:"full"}),time:y0({formats:c7,defaultWidth:"full"}),dateTime:y0({formats:u7,defaultWidth:"full"})},f7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h7=(t,e,n,r)=>f7[t];function Ad(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const g7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},m7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},v7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},y7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_7=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},w7={ordinalNumber:_7,era:Ad({values:g7,defaultWidth:"wide"}),quarter:Ad({values:p7,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ad({values:m7,defaultWidth:"wide"}),day:Ad({values:v7,defaultWidth:"wide"}),dayPeriod:Ad({values:y7,defaultWidth:"wide",formattingValues:b7,defaultFormattingWidth:"wide"})};function Rd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?x7(l,g=>g.test(a)):S7(l,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function S7(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function x7(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function E7(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const C7=/^(\d+)(th|st|nd|rd)?/i,T7=/\d+/i,A7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R7={any:[/^b/i,/^(a|c)/i]},D7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O7={any:[/1/i,/2/i,/3/i,/4/i]},M7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},k7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},I7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},L7={ordinalNumber:E7({matchPattern:C7,parsePattern:T7,valueCallback:t=>parseInt(t,10)}),era:Rd({matchPatterns:A7,defaultMatchWidth:"wide",parsePatterns:R7,defaultParseWidth:"any"}),quarter:Rd({matchPatterns:D7,defaultMatchWidth:"wide",parsePatterns:O7,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Rd({matchPatterns:M7,defaultMatchWidth:"wide",parsePatterns:k7,defaultParseWidth:"any"}),day:Rd({matchPatterns:N7,defaultMatchWidth:"wide",parsePatterns:I7,defaultParseWidth:"any"}),dayPeriod:Rd({matchPatterns:P7,defaultMatchWidth:"any",parsePatterns:j7,defaultParseWidth:"any"})},F7={code:"en-US",formatDistance:o7,formatLong:d7,formatRelative:h7,localize:w7,match:L7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function U7(t,e){const n=lr(t,e?.in);return t7(n,LP(n))+1}function z7(t,e){const n=lr(t,e?.in),r=+$p(n)-+n7(n);return Math.round(r/IP)+1}function FP(t,e){const n=lr(t,e?.in),r=n.getFullYear(),i=Ym(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=xs(e?.in||t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=El(a,e),u=xs(e?.in||t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=El(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function H7(t,e){const n=Ym(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=FP(t,e),s=xs(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),El(s,e)}function B7(t,e){const n=lr(t,e?.in),r=+El(n,e)-+H7(n,e);return Math.round(r/IP)+1}function jt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const qa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return jt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):jt(n+1,2)},d(t,e){return jt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return jt(t.getHours()%12||12,e.length)},H(t,e){return jt(t.getHours(),e.length)},m(t,e){return jt(t.getMinutes(),e.length)},s(t,e){return jt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return jt(i,e.length)}},Lc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return qa.y(t,e)},Y:function(t,e,n,r){const i=FP(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return jt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):jt(s,e.length)},R:function(t,e){const n=PP(t);return jt(n,e.length)},u:function(t,e){const n=t.getFullYear();return jt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return jt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return jt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return qa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return jt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=B7(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):jt(i,e.length)},I:function(t,e,n){const r=z7(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):jt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):qa.d(t,e)},D:function(t,e,n){const r=U7(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):jt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return jt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return jt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return jt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Lc.noon:r===0?i=Lc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Lc.evening:r>=12?i=Lc.afternoon:r>=4?i=Lc.morning:i=Lc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return qa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):qa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):jt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):jt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):qa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):qa.s(t,e)},S:function(t,e){return qa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return UD(r);case"XXXX":case"XX":return rl(r);case"XXXXX":case"XXX":default:return rl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return UD(r);case"xxxx":case"xx":return rl(r);case"xxxxx":case"xxx":default:return rl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FD(r,":");case"OOOO":default:return"GMT"+rl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FD(r,":");case"zzzz":default:return"GMT"+rl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return jt(r,e.length)},T:function(t,e,n){return jt(+t,e.length)}};function FD(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+jt(s,2)}function UD(t,e){return t%60===0?(t>0?"-":"+")+jt(Math.abs(t)/60,2):rl(t,e)}function rl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=jt(Math.trunc(r/60),2),s=jt(r%60,2);return n+i+e+s}const zD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},UP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},$7=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return zD(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",zD(r,e)).replace("{{time}}",UP(i,e))},V7={p:UP,P:$7},q7=/^D+$/,W7=/^Y+$/,G7=["D","DD","YY","YYYY"];function Y7(t){return q7.test(t)}function K7(t){return W7.test(t)}function Q7(t,e,n){const r=X7(t,e,n);if(console.warn(r),G7.includes(t))throw new RangeError(r)}function X7(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eK=/^'([^]*?)'?$/,tK=/''/g,nK=/[a-zA-Z]/;function Jn(t,e,n){const r=Ym(),i=r.locale??F7,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=lr(t,n?.in);if(!i7(l))throw new RangeError("Invalid time value");let u=e.match(J7).map(h=>{const g=h[0];if(g==="p"||g==="P"){const m=V7[g];return m(h,i.formatLong)}return h}).join("").match(Z7).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:rK(h)};if(LD[g])return{isToken:!0,value:h};if(g.match(nK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(h=>{if(!h.isToken)return h.value;const g=h.value;(K7(g)||Y7(g))&&Q7(g,e,String(t));const m=LD[g[0]];return m(l,g,i.localize,d)}).join("")}function rK(t){const e=t.match(eK);return e?e[1].replace(tK,"'"):t}function iK(t,e){return lr(t,e?.in).getDay()}function sK(t,e){return+lr(t)>+lr(e)}function aK(t,e,n){return jP(t,-1,n)}class oK{async init(){try{const{error:e}=await Pt.from("machines").select("count").limit(1);if(e)throw new st(`API initialization failed: ${e.message}`,Ie.SERVER_ERROR,500,e,"API.init");return!0}catch(e){throw e instanceof st?e:new st(`API initialization failed: ${e.message}`,Ie.SERVER_ERROR,500,e,"API.init")}}async getMachines(){return R_(async()=>{const{data:e,error:n}=await Pt.from("machines").select("*").order("machine_name");if(n)throw n;return e||[]},"getMachines")}async addMachine(e){try{const{data:n,error:r}=await Pt.from("machines").insert([e]).select().single();if(r)throw r;return n}catch(n){throw new st(`Failed to add machine: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.addMachine")}}async updateMachine(e,n){try{const{data:r,error:i}=await Pt.from("machines").update(n).eq("id",e).select().single();if(i)throw i;return r}catch(r){throw new st(`Failed to update machine: ${jn(r)}`,Ie.SERVER_ERROR,500,r,"API.updateMachine")}}async removeMachine(e){try{const{error:n}=await Pt.from("machines").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new st(`Failed to remove machine: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.removeMachine")}}async getOdpOrders(){try{const{data:e,error:n}=await Pt.from("odp_orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){throw new st(`Failed to fetch ODP orders: ${jn(e)}`,Ie.SERVER_ERROR,500,e,"API.getOdpOrders")}}async getOdpOrder(e){try{const{data:n,error:r}=await Pt.from("odp_orders").select("*").eq("id",e).single();if(r)throw r;return n}catch(n){throw new st(`Failed to fetch ODP order: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.getOdpOrder")}}async addOdpOrder(e){try{const{data:n,error:r}=await Pt.from("odp_orders").insert([e]).select().single();if(r)throw r;return n}catch(n){throw new st(`Failed to add ODP order: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.addOdpOrder")}}async updateOdpOrder(e,n){try{const{data:r,error:i}=await Pt.from("odp_orders").update(n).eq("id",e).select().single();if(i)throw i;return r}catch(r){throw new st(`Failed to update ODP order: ${jn(r)}`,Ie.SERVER_ERROR,500,r,"API.updateOdpOrder")}}async removeOdpOrder(e){try{const{error:n}=await Pt.from("odp_orders").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new st(`Failed to remove ODP order: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.removeOdpOrder")}}async getPhases(){try{const{data:e,error:n}=await Pt.from("phases").select("*").order("name");if(n)throw n;return e||[]}catch(e){throw new st(`Failed to fetch phases: ${jn(e)}`,Ie.SERVER_ERROR,500,e,"API.getPhases")}}async addPhase(e){try{const{data:n,error:r}=await Pt.from("phases").insert([e]).select().single();if(r)throw r;return n}catch(n){throw new st(`Failed to add phase: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.addPhase")}}async updatePhase(e,n){try{const{data:r,error:i}=await Pt.from("phases").update(n).eq("id",e).select().single();if(i)throw i;return r}catch(r){throw new st(`Failed to update phase: ${jn(r)}`,Ie.SERVER_ERROR,500,r,"API.updatePhase")}}async removePhase(e){try{const{error:n}=await Pt.from("phases").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new st(`Failed to remove phase: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.removePhase")}}async getMachineAvailabilityForDateRange(e,n,r){try{const{data:i,error:s}=await Pt.from("machine_availability").select("*").eq("machine_id",e).gte("date",n).lte("date",r).order("date");if(s)throw s;return i||[]}catch(i){throw new st(`Failed to fetch machine availability for date range: ${jn(i)}`,Ie.SERVER_ERROR,500,i,"API.getMachineAvailabilityForDateRange")}}async getMachineAvailabilityForDate(e,n){try{const{data:r,error:i}=await Pt.from("machine_availability").select("*").eq("machine_id",e).eq("date",n).maybeSingle();if(i)throw i;return r||null}catch(r){throw new st(`Failed to fetch machine availability: ${jn(r)}`,Ie.SERVER_ERROR,500,r,"API.getMachineAvailabilityForDate")}}async getMachineAvailability(e,n){try{return(await this.getMachineAvailabilityForDate(e,n))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(e,n,r){try{const{data:i,error:s}=await Pt.from("machine_availability").upsert([{machine_id:e,date:n,unavailable_hours:r}],{onConflict:"machine_id,date"}).select().single();if(s)throw s;return i}catch(i){throw new st(`Failed to set machine availability: ${jn(i)}`,Ie.SERVER_ERROR,500,i,"API.setMachineAvailability")}}async getMachineAvailabilityForDateAllMachines(e){try{const{data:n,error:r}=await Pt.from("machine_availability").select("*").eq("date",e);if(r)throw r;return n||[]}catch(n){throw new st(`Failed to fetch machine availability for all machines: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.getMachineAvailabilityForDateAllMachines")}}async getEventsByDate(e){try{const{data:n,error:r}=await Pt.from("machine_availability").select("*").eq("date",e);if(r)throw r;return n||[]}catch(n){throw new st(`Failed to fetch events by date: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.getEventsByDate")}}async setUnavailableHoursForRange(e,n,r,i,s){try{const a=parseInt(i.split(":")[0]),l=parseInt(s.split(":")[0]),u=[];for(let v=a;v<l;v++)u.push(v.toString());const d=new Date(n),h=new Date(r);let g=new Date(d);const m=[];for(;g<=h;){const v=Jn(g,"yyyy-MM-dd"),y=(await this.getMachineAvailabilityForDate(e,v))?.unavailable_hours||[],S=[...new Set([...y,...u])].sort((T,A)=>parseInt(T)-parseInt(A)),C=await this.setMachineAvailability(e,v,S);m.push(C),g=Bf(g,1)}return m}catch(a){throw new st(`Failed to set unavailable hours for range: ${jn(a)}`,Ie.SERVER_ERROR,500,a,"API.setUnavailableHoursForRange")}}async bulkUpsertMachineAvailability(e){try{const{error:n}=await Pt.from("machine_availability").upsert(e,{onConflict:"machine_id,date"});if(n)throw n;return{success:!0}}catch(n){throw new st(`Failed to bulk set machine availability: ${jn(n)}`,Ie.SERVER_ERROR,500,n,"API.bulkUpsertMachineAvailability")}}setupRealtimeSubscriptions(e,n,r){return Pt.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},e).on("postgres_changes",{event:"*",schema:"public",table:"machines"},n).on("postgres_changes",{event:"*",schema:"public",table:"phases"},r).subscribe(s=>{})}cleanupRealtimeSubscriptions(e){if(e)try{e.unsubscribe()}catch{}}}const xt=new oK,W_=Object.freeze(Object.defineProperty({__proto__:null,apiService:xt},Symbol.toStringTag,{value:"Module"})),Mt=wo((t,e)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:localStorage.getItem("selectedWorkCenter")||bt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},getLoadingState:()=>e().isLoading,getInitializationState:()=>e().isInitialized,getSelectedWorkCenter:()=>e().selectedWorkCenter,getEditMode:()=>e().isEditMode,getConfirmDialog:()=>e().confirmDialog,getConflictDialog:()=>e().conflictDialog,getSchedulingLoading:()=>e().schedulingLoading,getDragPreview:()=>e().dragPreview,setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),setSelectedWorkCenter:n=>{localStorage.setItem("selectedWorkCenter",n),t({selectedWorkCenter:n})},toggleEditMode:()=>t(n=>({isEditMode:!n.isEditMode})),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>t({schedulingLoading:n}),startSchedulingOperation:(n,r=null)=>t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:r}}),stopSchedulingOperation:()=>t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}}),showConfirmDialog:(n,r,i,s="danger")=>t({confirmDialog:{isOpen:!0,title:n,message:r,onConfirm:i,type:s}}),hideConfirmDialog:()=>t({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),showConflictDialog:n=>t({conflictDialog:{isOpen:!0,details:n}}),hideConflictDialog:()=>t({conflictDialog:{isOpen:!1,details:null}}),setDragPreview:n=>t({dragPreview:n}),clearDragPreview:()=>t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}}),showAlert:(n,r="info")=>{RN(n,r)},reset:()=>t({isLoading:!1,isInitialized:!1,selectedWorkCenter:bt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})}));class lK{constructor(e,n){this.get=e,this.set=n}setSplitTaskInfo=(e,n)=>{this.set(r=>({splitTasksInfo:{...r.splitTasksInfo,[e]:n}}))};getSplitTaskInfo=e=>{const n=this.get().splitTasksInfo[e];if(n&&n.segments)return n;const{getOrderById:r}=hn.getState(),i=r(e);if(i&&i.description&&i.status==="SCHEDULED")try{const s=JSON.parse(i.description);if(s.segments&&Array.isArray(s.segments))return setTimeout(()=>{this.setSplitTaskInfo(e,s)},0),s}catch{}return null};clearSplitTaskInfo=e=>{this.set(n=>{const r={...n.splitTasksInfo};return delete r[e],{splitTasksInfo:r}})};updateTaskWithSplitInfo=async(e,n,r=null,i=null,s=null)=>{const{apiService:a}=await ar(async()=>{const{apiService:l}=await Promise.resolve().then(()=>W_);return{apiService:l}},void 0);if(n){this.setSplitTaskInfo(e,n);const u={description:JSON.stringify(n),status:"SCHEDULED"};if(r&&(u.scheduled_start_time=r.toISOString()),i&&(u.scheduled_end_time=i.toISOString()),s&&(u.scheduled_machine_id=s),!(u.scheduled_start_time&&u.scheduled_end_time&&u.scheduled_machine_id))if(!u.scheduled_start_time&&!u.scheduled_end_time&&!u.scheduled_machine_id)delete u.scheduled_start_time,delete u.scheduled_end_time,delete u.scheduled_machine_id,u.status="NOT SCHEDULED";else{const{getOrderById:h}=hn.getState(),g=h(e);g&&(u.scheduled_start_time||(u.scheduled_start_time=g.scheduled_start_time),u.scheduled_end_time||(u.scheduled_end_time=g.scheduled_end_time),u.scheduled_machine_id||(u.scheduled_machine_id=g.scheduled_machine_id))}const d=await a.updateOdpOrder(e,u);this.updateSplitTaskInfo(e,d)}else{this.clearSplitTaskInfo(e);const l=await a.updateOdpOrder(e,{description:""});this.updateSplitTaskInfo(e,l)}};updateSplitTaskInfo=(e,n)=>{if(this.clearSplitTaskInfo(e),n.description&&n.status==="SCHEDULED")try{const r=JSON.parse(n.description);r.segments&&Array.isArray(r.segments)?this.validateSegments(r.segments.map(s=>({start:new Date(s.start),end:new Date(s.end),duration:s.duration}))).isValid?this.setSplitTaskInfo(e,r):this.clearSplitTaskInfo(e):this.clearSplitTaskInfo(e)}catch{this.clearSplitTaskInfo(e)}else this.clearSplitTaskInfo(e)};restoreSplitTaskInfo=()=>{const{getOdpOrders:e}=hn.getState(),n=e(),r={};let i=0;n.forEach(s=>{if(s.description&&s.status==="SCHEDULED")try{const a=JSON.parse(s.description);a.segments&&Array.isArray(a.segments)&&(r[s.id]=a,i++)}catch{}}),this.set({splitTasksInfo:r})};validateSegments=e=>{if(!Array.isArray(e)||e.length===0)return{isValid:!1,error:"Segments must be a non-empty array"};for(let n=0;n<e.length;n++){const r=e[n];if(!r.start||!r.end||r.duration===void 0)return{isValid:!1,error:`Segment ${n} missing required properties (start, end, duration)`};const i=new Date(r.start),s=new Date(r.end);if(isNaN(i.getTime())||isNaN(s.getTime()))return{isValid:!1,error:`Segment ${n} has invalid date values`};if(s<=i)return{isValid:!1,error:`Segment ${n} end time must be after start time`};if(r.duration<=0)return{isValid:!1,error:`Segment ${n} duration must be positive`};if(n>0){const a=e[n-1],l=new Date(a.end);if(i<l)return{isValid:!1,error:`Segment ${n} overlaps with previous segment`}}}return{isValid:!0}};createSegmentInfo=(e,n)=>{const r=this.validateSegments(e);if(!r.isValid)throw new Error(`Invalid segments: ${r.error}`);return{totalSegments:e.length,segments:e.map(i=>({start:i.start.toISOString(),end:i.end.toISOString(),duration:i.duration})),originalDuration:n,wasSplit:e.length>1}};getTaskOccupiedSegments=e=>{const n=this.getSplitTaskInfo(e.id);if(n&&n.segments)return n.segments.map(r=>({start:new Date(r.start),end:new Date(r.end),duration:r.duration}));if(e.description)try{const r=JSON.parse(e.description);if(r.segments&&Array.isArray(r.segments))return r.segments.map(i=>({start:new Date(i.start),end:new Date(i.end),duration:i.duration}))}catch{}if(e.scheduled_start_time){const r=new Date(e.scheduled_start_time),i=e.time_remaining||e.duration||1,s=new Date(r.getTime()+i*60*60*1e3);return[{start:r,end:s,duration:i}]}return[]};doTimeRangesOverlap=(e,n,r,i)=>e<i&&n>r;checkTaskOverlap=(e,n,r)=>{const i=this.getTaskOccupiedSegments(r);for(const s of i)if(this.doTimeRangesOverlap(e,n,s.start,s.end))return{hasOverlap:!0,conflictingSegment:s,existingTask:r};return{hasOverlap:!1}};checkMachineOverlaps=(e,n,r,i=null,s=[])=>{const{getOdpOrders:a}=hn.getState(),l=[i,...s].filter(h=>h),d=a().filter(h=>h.scheduled_machine_id===r&&h.status==="SCHEDULED"&&!l.includes(h.id)&&h.scheduled_start_time&&h.scheduled_end_time&&h.scheduled_machine_id).sort((h,g)=>{const m=this.getTaskOccupiedSegments(h),v=this.getTaskOccupiedSegments(g),b=m.length>0?m[0].start:new Date(h.scheduled_start_time),y=v.length>0?v[0].start:new Date(g.scheduled_start_time);return b.getTime()-y.getTime()});for(const h of d){const g=this.checkTaskOverlap(e,n,h);if(g.hasOverlap)return{hasOverlap:!0,conflictingTask:h,conflictingSegment:g.conflictingSegment}}return{hasOverlap:!1}};migrateExistingTasksToSegmentFormat=async()=>{const{getOdpOrders:e}=hn.getState(),n=e();for(const r of n)if(r.status==="SCHEDULED"&&r.scheduled_start_time){const i=this.getSplitTaskInfo(r.id);if(i&&i.segments)continue;if(r.description)try{const h=JSON.parse(r.description);if(h.segments&&Array.isArray(h.segments)){this.setSplitTaskInfo(r.id,h);continue}}catch{}const s=new Date(r.scheduled_start_time),a=r.time_remaining||r.duration||1,l=new Date(s.getTime()+a*60*60*1e3),u=[{start:s,end:l,duration:a}],d=this.createSegmentInfo(u,a);await this.updateTaskWithSplitInfo(r.id,d)}};verifyAllTasksHaveSegmentInfo=()=>{const{getOdpOrders:e}=hn.getState(),r=e().filter(s=>s.status==="SCHEDULED"),i=[];for(const s of r){const a=this.getSplitTaskInfo(s.id);(!a||!a.segments)&&i.push({id:s.id,odp_number:s.odp_number,description:s.description})}return{totalScheduledTasks:r.length,tasksWithSegments:r.length-i.length,tasksWithoutSegments:i}}}class cK{constructor(e,n,r,i){this.get=e,this.set=n,this.splitTaskManager=r,this.machineAvailabilityManager=i}createAbsoluteDate=(e,n,r,i=0,s=0)=>new Date(Date.UTC(e,n-1,r,i,s,0,0));splitTaskAcrossAvailableSlots=(e,n,r,i)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const d of i)if(a>=d.start&&a<d.end){a=new Date(d.end),u=!0;break}}for(;l>0;){let d=null,h=null,g=null;for(const m of i){const v=new Date(m.start),b=new Date(m.end);v>=a&&(!d||v<h)&&(d=m,h=v,g=b)}if(d){const m=(h.getTime()-a.getTime())/36e5;if(m>0){const b=Math.min(m,l),y=new Date(a.getTime()+b*60*60*1e3);s.push({start:new Date(a),end:y,duration:b}),l-=b}a=new Date(g);let v=!0;for(;v;){v=!1;for(const b of i)if(a>=b.start&&a<b.end){a=new Date(b.end),v=!0;break}}}else{const m=new Date(a.getTime()+l*60*60*1e3);s.push({start:new Date(a),end:m,duration:l}),l=0}if(s.length>K3.MAX_TASK_SEGMENTS){console.warn("Task splitting exceeded maximum segments limit");break}}return s}catch(s){return console.error("Error in splitTaskAcrossAvailableSlots:",s),[]}};splitTaskAcrossAvailableSlotsBackward=(e,n,r,i)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const h of i)if(a>h.start&&a<=h.end){a=new Date(h.start),u=!0;break}}for(;l>0;){let h=null,g=null,m=null;for(const T of i){const A=new Date(T.start),M=new Date(T.end);M<=a&&(!h||M>m)&&(h=T,g=A,m=M)}let v;h?v=new Date(m):v=new Date(a.getTime()-l*60*60*1e3);let b=!0;for(;b;){b=!1;for(const T of i)if(v<T.end&&v>=T.start){v=new Date(T.end),b=!0;break}}const y=(a.getTime()-v.getTime())/(1e3*60*60);if(y<=0){a=h?new Date(g):new Date(a.getTime()-3600*1e3);continue}const S=Math.min(y,l),C=new Date(a.getTime()-S*60*60*1e3);s.push({start:C,end:new Date(a),duration:S}),l-=S,a=new Date(C)}return s.reverse()}catch(s){return console.error("Error in splitTaskAcrossAvailableSlotsBackward:",s),[]}};collectUnavailableSlots=(e,n,r)=>{const i=[],s=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),a=this.createAbsoluteDate(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(s);for(;u<=l;){const d=Jn(u,"yyyy-MM-dd"),h=this.get().machineAvailability[d];if(h&&Array.isArray(h)){const g=h.find(m=>m.machine_id===r);if(g&&g.unavailable_hours&&Array.isArray(g.unavailable_hours)){const[m,v,b]=d.split("-").map(Number);for(const y of g.unavailable_hours){const S=this.createAbsoluteDate(m,v,b,parseInt(y),0),C=new Date(S.getTime()+3600*1e3);i.push({start:S,end:C,hour:parseInt(y),date:d})}}}u.setUTCDate(u.getUTCDate()+1)}return i.sort((d,h)=>d.start.getTime()-h.start.getTime())};loadMachineAvailabilityForExtendedRange=async(e,n,r)=>{const i=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()+n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(i);for(;u<=l;){const d=Jn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return l};loadMachineAvailabilityForBackwardRange=async(e,n,r)=>{const i=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()-n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()-7);let u=new Date(l);for(;u<=i;){const d=Jn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return{taskStartDateWithBuffer:l,taskEndDate:i}};checkSegmentsForOverlaps=(e,n,r,i=[])=>{[r,...i].filter(s=>s);for(const s of e){const a=this.splitTaskManager.checkMachineOverlaps(s.start,s.end,n,r,i);if(a.hasOverlap)return{hasOverlap:!0,conflictingSegment:s,conflictingTask:a.conflictingTask,conflictingExistingSegment:a.conflictingSegment}}return{hasOverlap:!1}};scheduleTaskWithSplitting=async(e,n,r,i,s=[])=>{const a=await this.loadMachineAvailabilityForExtendedRange(n,r,i),l=this.collectUnavailableSlots(n,a,i),u=new Date(n.getTime()+r*60*60*1e3);if(l.some(h=>n<h.end&&u>h.start)){const h=this.splitTaskAcrossAvailableSlots(n,r,i,l);if(h.length>0){const g=this.checkSegmentsForOverlaps(h,i,e,s);if(g.hasOverlap)return{conflict:!0,conflictingTask:g.conflictingTask,conflictingSegment:g.conflictingExistingSegment,proposedSegments:h};const m=h[0],v=h[h.length-1];if(!m?.start||!v?.end)return console.error("Invalid segments returned from splitTaskAcrossAvailableSlots:",h),null;const b=this.splitTaskManager.createSegmentInfo(h,r);return await this.splitTaskManager.updateTaskWithSplitInfo(e,b,m.start,v.end,i),{startTime:m.start,endTime:v.end,wasSplit:!0,segments:h,originalDuration:r}}}else{const h=[{start:n,end:u,duration:r}],g=this.checkSegmentsForOverlaps(h,i,e,s);if(g.hasOverlap)return{conflict:!0,conflictingTask:g.conflictingTask,conflictingSegment:g.conflictingExistingSegment,proposedSegments:h};const m=this.splitTaskManager.createSegmentInfo(h,r);return await this.splitTaskManager.updateTaskWithSplitInfo(e,m,n,u,i),{startTime:n,endTime:u,wasSplit:!1,segments:h,originalDuration:r}}return null};scheduleTaskEndingAtWithSplitting=async(e,n,r,i,s=[])=>{const{taskStartDateWithBuffer:a,taskEndDate:l}=await this.loadMachineAvailabilityForBackwardRange(n,r,i),u=this.collectUnavailableSlots(a,l,i),d=this.splitTaskAcrossAvailableSlotsBackward(n,r,i,u);if(d.length===0)return null;const h=this.checkSegmentsForOverlaps(d,i,e,s);if(h.hasOverlap)return{conflict:!0,conflictingTask:h.conflictingTask,conflictingSegment:h.conflictingExistingSegment,proposedSegments:d};const g=this.splitTaskManager.createSegmentInfo(d,r),m=d[0],v=d[d.length-1];return!m?.start||!v?.end?(console.error("Invalid segments returned from splitTaskAcrossAvailableSlotsBackward:",d),null):(await this.splitTaskManager.updateTaskWithSplitInfo(e,g,m.start,v.end,i),{startTime:m.start,endTime:v.end,wasSplit:d.length>1,segments:d,originalDuration:r})};handleTaskDurationShrinking=async(e,n,r,i={})=>{try{console.log("🔄 DURATION SHRINKING: Starting cascading rescheduling for task",e),console.log("📊 DURATION SHRINKING: New duration:",n,"hours");const{getOrderById:s,getOdpOrders:a}=hn.getState(),{getMachineById:l}=Oi.getState(),u=s(e),d=l(r),h=a();if(!u||!d)return{success:!1,error:"Task or machine not found"};if(!u.scheduled_start_time||!u.scheduled_end_time)return{success:!1,error:"Task is not scheduled"};const g=new Date(u.scheduled_start_time),m=u.duration,v=new Date(g.getTime()+m*60*60*1e3);console.log("📅 DURATION SHRINKING: Original end time (pre-shrinking):",v.toISOString()),console.log("📅 DURATION SHRINKING: Original duration:",m,"New duration:",n);const b=this.findCascadingChain(e,v,r,h);console.log("🔄 DURATION SHRINKING: Found cascading chain of",b.length,"tasks to reschedule"),console.log("📋 DURATION SHRINKING: Chain tasks:",b.map(O=>O.odp_number));const y=u.quantity_completed/u.quantity||0,S=n*(1-y);console.log("📊 DURATION SHRINKING: Calculated time_remaining:",S,"from new duration:",n,"and progress:",y),console.log("📊 DURATION SHRINKING: Progress calculation:",u.quantity_completed,"/",u.quantity,"=",y),console.log("🔄 DURATION SHRINKING: Rescheduling original task with new time_remaining");const C=await this.scheduleTaskWithSplitting(e,g,S,r,[]);if(!C)return console.error("❌ DURATION SHRINKING: Failed to reschedule original task"),{success:!1,error:"Failed to reschedule original task. Not enough space available.",rescheduledTasks:[]};if(C.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling original task"),{success:!1,error:"Conflict detected while rescheduling original task. Consider using conflict resolution.",rescheduledTasks:[]};await this.splitTaskManager.updateTaskWithSplitInfo(e,C.segments?{segments:C.segments,totalSegments:C.segments.length,originalDuration:C.originalDuration||S,wasSplit:C.wasSplit||!1}:null,C.startTime,C.endTime,r);const T={duration:n,time_remaining:S,...i};console.log("💾 DURATION SHRINKING: Final update data:",T),await xt.updateOdpOrder(e,T);const A=[{id:e,odp_number:u.odp_number,new_start_time:C.startTime.toISOString(),new_end_time:C.endTime.toISOString(),was_split:C.wasSplit}];let M=new Date(C.endTime);const D=M.getUTCMinutes(),k=Math.ceil(D/15)*15;k===60?M.setUTCHours(M.getUTCHours()+1,0,0,0):M.setUTCMinutes(k,0,0);for(const O of b){console.log("🔄 DURATION SHRINKING: Rescheduling task",O.odp_number,"to start at",M.toISOString());const j=await this.scheduleTaskWithSplitting(O.id,M,O.time_remaining||O.duration||1,r,[e]);if(!j)return console.error("❌ DURATION SHRINKING: Failed to reschedule task",O.odp_number),{success:!1,error:`Failed to reschedule task ${O.odp_number}. Not enough space available.`,rescheduledTasks:A};if(j.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling task",O.odp_number),{success:!1,error:`Conflict detected while rescheduling task ${O.odp_number}. Consider using conflict resolution.`,rescheduledTasks:A};await this.splitTaskManager.updateTaskWithSplitInfo(O.id,j.segments?{segments:j.segments,totalSegments:j.segments.length,originalDuration:j.originalDuration||O.time_remaining||O.duration||1,wasSplit:j.wasSplit||!1}:null,j.startTime,j.endTime,r),A.push({id:O.id,odp_number:O.odp_number,new_start_time:j.startTime.toISOString(),new_end_time:j.endTime.toISOString(),was_split:j.wasSplit}),M=new Date(j.endTime);const z=M.getUTCMinutes(),B=Math.ceil(z/15)*15;B===60?M.setUTCHours(M.getUTCHours()+1,0,0,0):M.setUTCMinutes(B,0,0)}console.log("✅ DURATION SHRINKING: Successfully rescheduled",A.length,"tasks");const N=s(e);return{success:!0,message:`Successfully rescheduled ${A.length} tasks due to duration reduction`,rescheduledTasks:A,updatedTask:N}}catch(s){return console.error("❌ DURATION SHRINKING ERROR:",s),{success:!1,error:s.message||"Unknown error during duration shrinking",rescheduledTasks:[]}}};findCascadingChain=(e,n,r,i)=>{const s=[],a=new Set,l=i.filter(h=>h.scheduled_machine_id===r&&h.status==="SCHEDULED"&&h.id!==e&&h.scheduled_start_time).sort((h,g)=>new Date(h.scheduled_start_time)-new Date(g.scheduled_start_time)),u=l.filter(h=>{const m=(new Date(h.scheduled_start_time).getTime()-n.getTime())/(1e3*60);return m>=0&&m<=15});console.log("🔍 DURATION SHRINKING: Initial candidates within 15 minutes:",u.map(h=>h.odp_number));const d=h=>{for(const g of l){if(a.has(g.id))continue;const m=new Date(g.scheduled_start_time),v=(m.getTime()-h.getTime())/(1e3*60);if(v>=0&&v<=15){a.add(g.id),s.push(g);const b=g.time_remaining||g.duration||1,y=new Date(m.getTime()+b*60*60*1e3);console.log("🔗 DURATION SHRINKING: Added to chain:",g.odp_number,"ends at",y.toISOString()),d(y)}}};return d(n),console.log("📋 DURATION SHRINKING: Complete chain found:",s.map(h=>h.odp_number)),s}}class uK{constructor(e,n,r,i){this.get=e,this.set=n,this.schedulingLogic=r,this.splitTaskManager=i}getTaskDurationMinutes=e=>Math.round((e.time_remaining||e.duration||1)*Eg.MINUTES_PER_HOUR);getTaskEndTime=e=>{const n=new Date(e.scheduled_start_time),r=this.getTaskDurationMinutes(e);return new Date(n.getTime()+r*Eg.MILLISECONDS_PER_MINUTE)};addMinutesToDate=(e,n)=>new Date(e.getTime()+n*Eg.MILLISECONDS_PER_MINUTE);roundUpToNext15MinSlot=e=>{const n=e.getUTCMinutes(),r=e.getUTCHours(),i=Math.ceil(n/15)*15,s=new Date(e);return i===Eg.MINUTES_PER_HOUR?s.setUTCHours(r+1,0,0,0):s.setUTCMinutes(i,0,0),s};scheduleTaskWithSplittingForShunt=async(e,n,r)=>await this.scheduleTaskWithSplittingForShuntExcluding(e,n,r,[e.id]);scheduleTaskWithSplittingForShuntExcluding=async(e,n,r,i,s=3)=>{const a=this.getTaskDurationMinutes(e)/60,l=i.filter(d=>d!==e.id),u=await this.schedulingLogic.scheduleTaskWithSplitting(e.id,n,a,r.id,l);return u&&!u.conflict?{startTime:u.startTime,endTime:u.endTime,wasSplit:u.wasSplit}:u&&u.conflict?(console.log(`🔄 CASCADING SHUNT: Task ${e.odp_number} conflicts with ${u.conflictingTask?.odp_number}, attempting cascading resolution`),s>0?await this.handleCascadingConflict(e,n,r,i,u,s-1):(console.warn(`⚠️ CASCADING SHUNT: Max depth reached for task ${e.odp_number}, returning conflict info`),{conflict:!0,conflictingTask:u.conflictingTask,conflictingSegment:u.conflictingSegment,proposedSegments:u.proposedSegments})):u?{startTime:n,endTime:this.addMinutesToDate(n,this.getTaskDurationMinutes(e)),wasSplit:!1}:null};handleCascadingConflict=async(e,n,r,i,s,a)=>{const l=s.conflictingTask,u=s.conflictingSegment;console.log(`🔄 CASCADING SHUNT: Attempting to shunt conflicting task ${l?.odp_number} to resolve conflict with ${e.odp_number}`);const d=new Date(n.getTime()+this.getTaskDurationMinutes(e)*60*1e3),h=this.roundUpToNext15MinSlot(d),g=[...i,l.id];try{const m=await this.scheduleTaskWithSplittingForShuntExcluding(l,h,r,g,a);if(m&&!m.conflict){console.log(`✅ CASCADING SHUNT: Successfully shunted conflicting task ${l.odp_number}`),await this.updateTaskSchedule(l.id,m.startTime,m.endTime);const v=await this.scheduleTaskWithSplittingForShuntExcluding(e,n,r,g,a);return v&&!v.conflict?(console.log(`✅ CASCADING SHUNT: Successfully scheduled original task ${e.odp_number} after resolving conflicts`),v):(console.warn(`⚠️ CASCADING SHUNT: Original task ${e.odp_number} still conflicts after shunting conflicting task`),v||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments})}else return console.warn(`⚠️ CASCADING SHUNT: Could not shunt conflicting task ${l?.odp_number}`),m||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}catch(m){return console.error("❌ CASCADING SHUNT: Error during cascading conflict resolution:",m),{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}};updateTaskSchedule=async(e,n,r)=>{try{const{updateOrder:i}=hn.getState();await i(e,{scheduled_start_time:n.toISOString(),scheduled_end_time:r.toISOString()})}catch(i){console.error(`❌ CASCADING SHUNT: Failed to update task ${e} schedule:`,i)}};checkShuntingOverlaps=(e,n,r,i=[])=>{const s=r.filter(a=>a.scheduled_machine_id===n&&a.status==="SCHEDULED"&&!i.includes(a.id));for(const a of e)for(const l of s){const u=this.splitTaskManager.checkTaskOverlap(a.start,a.end,l);if(u.hasOverlap)return{hasOverlap:!0,conflictingTask:l,conflictingSegment:u.conflictingSegment,newTaskSegment:a}}return{hasOverlap:!1}};resolveConflictByShunting=async(e,n,r,i)=>{try{const{conflictingTask:s,proposedStartTime:a,machine:l}=e,u=new Date(a),d=r.filter(D=>D.scheduled_machine_id===l.id&&D.status==="SCHEDULED"&&D.id!==i.id).sort((D,k)=>{const N=this.splitTaskManager.getTaskOccupiedSegments(D),O=this.splitTaskManager.getTaskOccupiedSegments(k),j=N.length>0?N[0].start:new Date(D.scheduled_start_time),z=O.length>0?O[0].start:new Date(k.scheduled_start_time);return j-z}),h=d.findIndex(D=>D.id===s.id);if(h===-1)throw new st("Conflicting task not found",Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const g=this.getTaskDurationMinutes(i),m=[];let v=!1;if(n==="right")for(let D=h;D<d.length&&!v;D++){const k=d[D];if(m.push(k),D<d.length-1){const N=d[D+1],O=this.splitTaskManager.getTaskOccupiedSegments(k),j=this.splitTaskManager.getTaskOccupiedSegments(N);if(O.length>0&&j.length>0){const z=Math.max(...O.map(ne=>ne.end.getTime())),B=Math.min(...j.map(ne=>ne.start.getTime()));Math.floor((B-z)/(60*1e3))>=g&&(v=!0)}}else v=!0}else for(let D=h;D>=0&&!v;D--){const k=d[D];if(m.unshift(k),D>0){const N=d[D-1],O=this.splitTaskManager.getTaskOccupiedSegments(N),j=this.splitTaskManager.getTaskOccupiedSegments(k);if(O.length>0&&j.length>0){const z=Math.max(...O.map(ne=>ne.end.getTime())),B=Math.min(...j.map(ne=>ne.start.getTime()));Math.floor((B-z)/(60*1e3))>=g&&(v=!0)}}else{const N=this.splitTaskManager.getTaskOccupiedSegments(k);if(N.length>0){const O=Math.min(...N.map(B=>B.start.getTime())),j=new Date(O);if(j.setUTCHours(6,0,0,0),Math.floor((O-j.getTime())/(60*1e3))>=g)v=!0;else{const B=new Date(O),Q=new Date(B);Q.setUTCHours(6,0,0,0),B.getTime()>Q.getTime()&&(v=!0)}}}}const b=new Set,y=new Set;for(const D of m)b.add(D.id),y.add(D.id);y.add(i.id);let S=0;const C=10;for(;S<C;){S++;let D=!1;const k=Array.from(b);for(const N of k){const O=d.find(ne=>ne.id===N)||i;if(!O)continue;let j;if(n==="right"){const ne=new Date(u.getTime()+g*60*1e3);if(j=this.roundUpToNext15MinSlot(ne),O.id!==i.id){const de=Array.from(b).indexOf(N);if(de>0){const ge=Array.from(b)[de-1],P=d.find(W=>W.id===ge)||i,G=this.getTaskDurationMinutes(P),q=new Date(j.getTime()+G*60*1e3);j=this.roundUpToNext15MinSlot(q)}}}else{const ne=u,de=this.getTaskDurationMinutes(O);j=this.roundUpToNext15MinSlot(this.addMinutesToDate(ne,-de))}const z=this.getTaskDurationMinutes(O)/60,B=this.schedulingLogic.collectUnavailableSlots(j,new Date(j.getTime()+z*60*60*1e3),l.id);if(B.some(ne=>j<ne.end&&new Date(j.getTime()+z*60*60*1e3)>ne.start)){const ne=this.schedulingLogic.splitTaskAcrossAvailableSlots(j,z,l.id,B);for(const de of ne)for(const ge of d)!y.has(ge.id)&&ge.id!==O.id&&this.splitTaskManager.checkTaskOverlap(de.start,de.end,ge).hasOverlap&&(y.add(ge.id),b.add(ge.id),D=!0)}else{const ne=new Date(j.getTime()+z*60*60*1e3);for(const de of d)!y.has(de.id)&&de.id!==O.id&&this.splitTaskManager.checkTaskOverlap(j,ne,de).hasOverlap&&(y.add(de.id),b.add(de.id),D=!0)}}if(!D)break}if(S>=C)throw console.error(`🚨 SHUNTING ERROR: Maximum iterations (${C}) reached, possible infinite loop`),new st("Too many conflicts detected during shunting",Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const T=d.filter(D=>b.has(D.id));if(m.length=0,m.push(...T),!v&&m.length===d.length){const D=this.getTaskDurationMinutes(i),k=m.length,N=l.machine_name||"Unknown Machine";console.warn(`⚠️ SHUNTING WARNING: No gap found for ${D} minutes on machine ${N}`),console.warn(`⚠️ All ${k} tasks on machine would need to be moved`),console.warn("⚠️ Attempting to schedule at earliest possible time...");const O=d[0],j=this.splitTaskManager.getTaskOccupiedSegments(O);if(j.length>0){const z=Math.min(...j.map(Q=>Q.start.getTime())),B=new Date(z);if(B.setUTCHours(6,0,0,0),B.getTime()<z)v=!0;else throw console.error(`❌ SHUNTING FAILED: No space even at 6 AM on machine ${N}`),console.error("❌ Consider: 1) Moving to different machine, 2) Reducing task duration, 3) Scheduling on different day"),new st(`Non c'è spazio sufficiente per spostare i lavori. Il task ${i.odp_number} (${D} minuti) richiederebbe di spostare tutti i ${k} lavori sulla macchina ${N}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}else throw new st(`Non c'è spazio sufficiente per spostare i lavori. Il task ${i.odp_number} (${D} minuti) richiederebbe di spostare tutti i ${k} lavori sulla macchina ${N}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}const A=[];let M=null;if(n==="right"){const D=new Date(u),k=[...Array.from(y)];if(M=await this.scheduleTaskWithSplittingForShuntExcluding(i,D,l,k),M&&M.conflict)return console.warn(`⚠️ CASCADING SHUNT: Dragged task ${i.odp_number} still has conflicts after cascading resolution`),{error:`Impossibile programmare il task ${i.odp_number} alla posizione richiesta. Conflitti non risolvibili automaticamente.`,conflict:M.conflict,conflictingTask:M.conflictingTask,conflictingSegment:M.conflictingSegment};let N=M.endTime?this.roundUpToNext15MinSlot(M.endTime):new Date;for(const O of m){const j=[...Array.from(y)],z=await this.scheduleTaskWithSplittingForShuntExcluding(O,N,l,j);if(!z)throw console.error(`❌ Failed to schedule task ${O.odp_number} at ${N.toISOString()}`),new st(`Impossibile programmare il task ${O.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(z&&z.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${O.odp_number} still has conflicts after cascading resolution`);continue}A.push({id:O.id,scheduled_start_time:z.startTime?.toISOString(),scheduled_end_time:z.endTime?.toISOString()}),z.endTime&&(N=this.roundUpToNext15MinSlot(z.endTime))}}else{const D=new Date(u);let k=this.roundUpToNext15MinSlot(this.addMinutesToDate(D,-1));for(let N=m.length-1;N>=0;N--){const O=m[N],j=[...Array.from(y)],z=await this.schedulingLogic.scheduleTaskEndingAtWithSplitting(O.id,k,this.getTaskDurationMinutes(O)/60,l.id,j);if(!z)throw console.error(`❌ Failed to schedule task ${O.odp_number} ending at ${k.toISOString()}`),new st(`Impossibile programmare il task ${O.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(z&&z.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${O.odp_number} still has conflicts after cascading resolution (LEFT direction)`);continue}A.push({id:O.id,scheduled_start_time:z.startTime?.toISOString(),scheduled_end_time:z.endTime?.toISOString()}),z.startTime&&(k=this.roundUpToNext15MinSlot(this.addMinutesToDate(z.startTime,-1)))}}if(!M){const D=new Date(u),k=[...Array.from(y)];M=await this.scheduleTaskWithSplittingForShuntExcluding(i,D,l,k)}if(!M)throw console.error(`❌ Failed to schedule dragged task ${i.odp_number} at ${proposedStart.toISOString()}`),new st(`Impossibile programmare il task ${i.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");A.push({id:i.id,scheduled_machine_id:l.id,scheduled_start_time:M.startTime?.toISOString(),scheduled_end_time:M.endTime?.toISOString(),status:"SCHEDULED"});for(const D of A)await xt.updateOdpOrder(D.id,D);return Mt.getState().hideConflictDialog(),Mt.getState().showAlert("Lavori riprogrammati con successo","success"),{success:!0}}catch(s){return console.error("❌ SHUNTING ERROR:",s),{error:(s instanceof st?s:new st(s.message||"Errore durante la riprogrammazione",Ie.BUSINESS_LOGIC_ERROR,400,s,"ConflictResolution.resolveConflictByShunting")).message}}}}class dK{constructor(e,n){this.get=e,this.set=n,this.updateLocks=new Map}getLockKey=(e,n)=>`${e}-${n}`;acquireLock=async(e,n)=>{const r=this.getLockKey(e,n);this.updateLocks.has(r)&&await this.updateLocks.get(r);let i;const s=new Promise(a=>{i=a});return this.updateLocks.set(r,s),i};releaseLock=(e,n)=>{const r=this.getLockKey(e,n);this.updateLocks.delete(r)};loadMachineAvailabilityForDate=async e=>{const{machineAvailability:n}=this.get();if(!n[e]?._loading&&!(n[e]&&n[e].length>=0)){this.set(r=>({machineAvailability:{...r.machineAvailability,[e]:{_loading:!0}}}));try{const r=await xt.getMachineAvailabilityForDateAllMachines(e);this.set(i=>({machineAvailability:{...i.machineAvailability,[e]:r||[]}}))}catch(r){throw this.set(i=>{const s={...i.machineAvailability};return s[e]&&delete s[e]._loading,{machineAvailability:s}}),r}}};loadMachineAvailabilityForDateRange=async(e,n,r)=>{const i=n instanceof Date?Jn(n,"yyyy-MM-dd"):n,s=r instanceof Date?Jn(r,"yyyy-MM-dd"):r;try{const a=await xt.getMachineAvailabilityForDateRange(e,i,s);return this.set(l=>{const u={...l.machineAvailability};return Array.isArray(a)&&a.forEach(d=>{if(d.date&&d.unavailable_hours){const h=d.date;u[h]||(u[h]=[]);const g=u[h].find(m=>m.machine_id===e);g?g.unavailable_hours=d.unavailable_hours:u[h].push({machine_id:e,date:h,unavailable_hours:d.unavailable_hours})}}),{machineAvailability:u}}),a}catch(a){throw a}};getMachineAvailability=async(e,n)=>{try{const r=this.get().machineAvailability[n];if(r&&Array.isArray(r)){const s=r.find(a=>a.machine_id===e);if(s)return s.unavailable_hours||[]}const i=await xt.getMachineAvailabilityForDate(e,n);if(i){const s=(i.unavailable_hours||[]).map(a=>a.toString());return this.set(a=>{const l={...a.machineAvailability};l[n]||(l[n]=[]);const u=l[n].find(d=>d.machine_id===e);return u?u.unavailable_hours=s:l[n].push({machine_id:e,date:n,unavailable_hours:s}),{machineAvailability:l}}),s}return[]}catch{return[]}};loadMachineAvailabilityForMachine=async(e,n,r)=>{const i={};try{try{await xt.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let s=new Date(n);for(;s<=r;){const a=Jn(s,"yyyy-MM-dd");this.get().machineAvailability[a]||await this.loadMachineAvailabilityForDate(a);const u=this.get().machineAvailability[a];if(Array.isArray(u)){const d=u.find(h=>h.machine_id===e);d&&(i[a]=d.unavailable_hours||[])}s=Bf(s,1)}return i}catch{return{}}};isTimeSlotUnavailable=async(e,n,r)=>(await this.getMachineAvailability(e,n)).includes(r.toString());setMachineAvailability=async(e,n,r)=>{const i=await this.acquireLock(e,n);try{const{getOdpOrders:s}=hn.getState(),a=s().filter(m=>m.scheduled_machine_id===e&&m.status==="SCHEDULED"&&m.scheduled_start_time&&m.scheduled_end_time),[l,u,d]=n.split("-").map(Number),h=new Date(Date.UTC(l,u-1,d)),g=new Date(h.getTime()+1440*60*1e3);for(const m of a){const v=new Date(m.scheduled_start_time),b=new Date(m.scheduled_end_time);if(v<g&&b>h)for(const y of r){const S=new Date(h.getTime()+parseInt(y)*60*60*1e3),C=new Date(S.getTime()+3600*1e3);if(S<b&&C>v)throw new st(`Cannot set machine unavailable during scheduled task: ${m.odp_number}`,Ie.BUSINESS_LOGIC_ERROR,400,null,"MachineAvailabilityManager.setMachineUnavailability")}}return await xt.setMachineAvailability(e,n,r),this.set(m=>{const v={...m.machineAvailability};v[n]||(v[n]=[]);const b=v[n].find(y=>y.machine_id===e);return b?b.unavailable_hours=r:v[n].push({machine_id:e,date:n,unavailable_hours:r}),{machineAvailability:v}}),Mt.getState().showAlert(`Machine availability updated successfully for ${n}`,"success"),!0}catch(s){const a=zr(s,"Machine Availability");throw Mt.getState().showAlert(a.message,"error"),a}finally{i(),this.releaseLock(e,n)}};toggleMachineHourAvailability=async(e,n,r)=>{const i=await this.acquireLock(e,n);try{const s=await this.getMachineAvailability(e,n),a=r.toString();let l;return s.includes(a)?l=s.filter(u=>u!==a):l=[...s,a].sort((u,d)=>parseInt(u)-parseInt(d)),await xt.setMachineAvailability(e,n,l),this.set(u=>{const d={...u.machineAvailability};d[n]||(d[n]=[]);const h=d[n].find(g=>g.machine_id===e);return h?h.unavailable_hours=l:d[n].push({machine_id:e,date:n,unavailable_hours:l}),{machineAvailability:d}}),Mt.getState().showAlert(`Time slot ${a}:00 updated successfully`,"success"),!0}catch(s){const a=zr(s,"Machine Availability");throw Mt.getState().showAlert(a.message,"error"),a}finally{i(),this.releaseLock(e,n)}};setMachineUnavailability=async(e,n,r,i,s)=>{try{const a=await xt.setUnavailableHoursForRange(e,n,r,i,s),l=new Date(n),u=new Date(r),d=await this.loadMachineAvailabilityForDateRange(e,l,u);return d&&Array.isArray(d)&&this.set(h=>{const g={...h.machineAvailability};return d.forEach(m=>{if(m.date&&m.unavailable_hours){const v=Jn(new Date(m.date),"yyyy-MM-dd");g[v]||(g[v]=[]);const b=g[v].find(y=>y.machine_id===e);b?b.unavailable_hours=m.unavailable_hours:g[v].push({machine_id:e,date:v,unavailable_hours:m.unavailable_hours})}}),{machineAvailability:g}}),a}catch(a){throw a}};isMachineAvailabilityAccessible=async()=>{try{return await xt.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}};getMachineAvailabilityStatus=async()=>{try{const e=await this.isMachineAvailabilityAccessible();return{accessible:e,message:e?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(e){return{accessible:!1,message:`Error checking table: ${e.message}`}}};initializeEmptyMachineAvailability=()=>{const{machineAvailability:e}=this.get(),n={...e};this.set({machineAvailability:n})}}const _s=wo((t,e)=>{const n=new lK(e,t),r=new dK(e,t),i=new cK(e,t,n,r),s=new uK(e,t,i,n);return{machineAvailability:{},shuntPreview:null,splitTasksInfo:{},getMachineAvailabilityState:()=>e().machineAvailability,getSplitTaskInfo:a=>n.getSplitTaskInfo(a),setMachineAvailabilityState:a=>t({machineAvailability:a}),setShuntPreview:a=>t({shuntPreview:a}),clearShuntPreview:()=>t({shuntPreview:null}),setSplitTaskInfo:n.setSplitTaskInfo,clearSplitTaskInfo:n.clearSplitTaskInfo,updateSplitTaskInfo:n.updateSplitTaskInfo,restoreSplitTaskInfo:n.restoreSplitTaskInfo,updateTaskWithSplitInfo:n.updateTaskWithSplitInfo,getTaskOccupiedSegments:n.getTaskOccupiedSegments,checkTaskOverlap:n.checkTaskOverlap,checkMachineOverlaps:n.checkMachineOverlaps,migrateExistingTasksToSegmentFormat:n.migrateExistingTasksToSegmentFormat,verifyAllTasksHaveSegmentInfo:n.verifyAllTasksHaveSegmentInfo,createAbsoluteDate:i.createAbsoluteDate,splitTaskAcrossAvailableSlots:i.splitTaskAcrossAvailableSlots,collectUnavailableSlots:i.collectUnavailableSlots,scheduleTaskWithSplitting:i.scheduleTaskWithSplitting,findAdjacentTasksChain:i.findAdjacentTasksChain,handleTaskDurationShrinking:i.handleTaskDurationShrinking,scheduleTaskFromSlot:async(a,l,u,d,h,g=null,m=null)=>{const{startSchedulingOperation:v,stopSchedulingOperation:b}=Mt.getState();try{v("schedule",a);const{getOrderById:y,getOdpOrders:S}=hn.getState(),{getMachineById:C}=Oi.getState(),T=y(a),A=C(l.id),M=S();if(!T||!A)return{error:"Task or machine not found"};const D=u.getUTCFullYear(),k=u.getUTCMonth()+1,N=u.getUTCDate(),O=i.createAbsoluteDate(D,k,N,d,h),j=g||T.time_remaining||T.duration||1;console.log("🎯 SCHEDULER: Using duration:",j,"overrideDuration:",g);const z={machine:l.id,start_time:O.toISOString(),end_time:ID(O,j).toISOString()};console.log("🎯 SCHEDULER: Calling scheduleTask with:",{taskId:a,scheduleData:z,overrideDuration:g});const B=await e().scheduleTask(a,z,M,g,m);return console.log("🎯 SCHEDULER: scheduleTask result:",B),B}catch(y){return{error:zr(y,"SchedulerStore.scheduleTaskFromSlot").message}}finally{b()}},rescheduleTaskToSlot:async(a,l,u,d,h,g=null)=>{const{startSchedulingOperation:m,stopSchedulingOperation:v}=Mt.getState();try{m("reschedule",a);const{getOrderById:b,getOdpOrders:y}=hn.getState(),{getMachineById:S}=Oi.getState(),C=b(a),T=S(l.id),A=y();if(!C||!T)return{error:"Event or machine not found"};const M=u.getUTCFullYear(),D=u.getUTCMonth()+1,k=u.getUTCDate(),N=i.createAbsoluteDate(M,D,k,d,h),O=C.time_remaining||C.duration||1,j={machine:l.id,start_time:N.toISOString(),end_time:ID(N,O).toISOString()};return await e().scheduleTask(a,j,A,null,g)}catch(b){return{error:zr(b,"SchedulerStore.rescheduleTaskToSlot").message}}finally{v()}},scheduleTask:async(a,l,u=null,d=null,h=null)=>{try{console.log("🎯 SCHEDULER: scheduleTask called with:",{taskId:a,eventData:l,overrideDuration:d});const{getOrderById:g,getOdpOrders:m}=hn.getState(),{getMachineById:v}=Oi.getState(),b=g(a),y=v(l.machine),S=u||m();if(console.log("🎯 SCHEDULER: Task found:",b?.odp_number,"Machine found:",y?.name),b&&y&&b.work_center&&y.work_center&&b.work_center!==y.work_center)return{error:`Work center mismatch: task requires '${b.work_center}' but machine is '${y.work_center}'`};const C=new Date(l.start_time),T=d||b.time_remaining||b.duration||1;console.log("🎯 SCHEDULER: scheduleTask using duration:",T,"overrideDuration:",d),console.log("🎯 SCHEDULER: Calling scheduleTaskWithSplitting with:",{taskId:a,newStart:C.toISOString(),timeRemainingHours:T,machineId:l.machine});const A=await i.scheduleTaskWithSplitting(a,C,T,l.machine);if(console.log("🎯 SCHEDULER: scheduleTaskWithSplitting result:",A),!A)return{error:"No available time slots found for this task"};if(A.conflict)return{conflict:!0,conflictingTask:A.conflictingTask,draggedTask:b,proposedStartTime:l.start_time,proposedEndTime:l.end_time,machine:y,conflictingSegment:A.conflictingSegment,proposedSegments:A.proposedSegments,tasks:S};l.start_time=A.startTime.toISOString(),l.end_time=A.endTime.toISOString();const M={scheduled_machine_id:l.machine,scheduled_start_time:l.start_time,scheduled_end_time:l.end_time,status:"SCHEDULED"};if(A.segments){const N={segments:A.segments,totalSegments:A.segments.length,originalDuration:A.originalDuration||b.time_remaining||b.duration||1,wasSplit:A.wasSplit||!1};M.description=JSON.stringify(N)}const{apiService:D}=await ar(async()=>{const{apiService:N}=await Promise.resolve().then(()=>W_);return{apiService:N}},void 0),k=await D.updateOdpOrder(a,M);if(A.segments){const N={segments:A.segments,totalSegments:A.segments.length,originalDuration:A.originalDuration||b.time_remaining||b.duration||1,wasSplit:A.wasSplit||!1};n.setSplitTaskInfo(a,N)}return h&&(h.invalidateQueries({queryKey:["orders"]}),h.invalidateQueries({queryKey:["orders",a]})),{success:!0,updatedTask:k,schedulingResult:A}}catch(g){return{error:zr(g,"SchedulerStore.scheduleTask").message}}},unscheduleTask:async(a,l=null)=>{const{startSchedulingOperation:u,stopSchedulingOperation:d}=Mt.getState();try{u("unschedule",a),n.clearSplitTaskInfo(a);const h={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,status:"NOT SCHEDULED",description:""},{apiService:g}=await ar(async()=>{const{apiService:m}=await Promise.resolve().then(()=>W_);return{apiService:m}},void 0);return await g.updateOdpOrder(a,h),l&&(l.invalidateQueries({queryKey:["orders"]}),l.invalidateQueries({queryKey:["orders",a]})),{success:!0}}catch(h){return{error:zr(h,"SchedulerStore.unscheduleTask").message}}finally{d()}},loadMachineAvailabilityForDate:r.loadMachineAvailabilityForDate,loadMachineAvailabilityForDateRange:r.loadMachineAvailabilityForDateRange,getMachineAvailability:r.getMachineAvailability,loadMachineAvailabilityForMachine:r.loadMachineAvailabilityForMachine,isTimeSlotUnavailable:r.isTimeSlotUnavailable,setMachineAvailability:r.setMachineAvailability,toggleMachineHourAvailability:r.toggleMachineHourAvailability,setMachineUnavailability:r.setMachineUnavailability,isMachineAvailabilityAccessible:r.isMachineAvailabilityAccessible,getMachineAvailabilityStatus:r.getMachineAvailabilityStatus,initializeEmptyMachineAvailability:r.initializeEmptyMachineAvailability,resolveConflictByShunting:async(a,l,u=null)=>{const{startSchedulingOperation:d,stopSchedulingOperation:h}=Mt.getState();try{d("shunt",a.draggedTask?.id);const{getOdpOrders:g}=hn.getState(),m=g(),v=await s.resolveConflictByShunting(a,l,m,a.draggedTask);if(v&&!v.error&&u){console.log("🔄 SHUNTING: Invalidating React Query cache to refresh UI");const b=[u.invalidateQueries({queryKey:["orders"]}),u.invalidateQueries({queryKey:["machines"]})];a.draggedTask?.id&&b.push(u.invalidateQueries({queryKey:["orders",a.draggedTask.id]})),await Promise.all(b)}return v}catch(g){return console.error("❌ SHUNTING ERROR in scheduler store:",g),{error:g.message||"Errore durante lo spostamento del task"}}finally{h()}},validateSlotAvailability:async(a,l,u,d)=>{try{const h=Jn(l,"yyyy-MM-dd");if(await e().isTimeSlotUnavailable(a.id,h,u))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:m}=hn.getState(),v=new Date(l);v.setUTCHours(u,d,0,0);const b=new Date(v.getTime()+3600*1e3),y=m().filter(S=>S.scheduled_machine_id===a.id&&S.status==="SCHEDULED"&&S.scheduled_start_time);for(const S of y){const C=new Date(S.scheduled_start_time),T=S.time_remaining||S.duration||1,A=new Date(C.getTime()+T*60*60*1e3);if(v<A&&b>C)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch(h){return{error:zr(h,"SchedulerStore.validateSlotAvailability").message}}},getEventsByDate:async a=>{try{return await xt.getEventsByDate(a)}catch{return[]}},reset:()=>t({machineAvailability:{},shuntPreview:null,splitTasksInfo:{}})}}),fK=(t,e)=>{const n=s=>{gK(s)},r=s=>{pK(s)},i=s=>{mK(s)};return xt.setupRealtimeSubscriptions(n,r,i)},b0=(t,e)=>{const{realtimeChannel:n}=t();n&&(xt.cleanupRealtimeSubscriptions(n),e({realtimeChannel:null}))};let nu=null;const hK=()=>{typeof window<"u"&&nu&&(window.removeEventListener("beforeunload",nu),nu=null)},gK=(t,e,n)=>{const{eventType:r,newRecord:i,oldRecord:s}=t,{updateSplitTaskInfo:a}=_s.getState();(r==="INSERT"&&i.status==="SCHEDULED"||r==="UPDATE")&&a(i.id,i),console.log(`Orders ${r.toLowerCase()}:`,i||s)},pK=(t,e,n)=>{const{eventType:r,newRecord:i,oldRecord:s}=t;console.log(`Machines ${r.toLowerCase()}:`,i||s)},mK=(t,e,n)=>{const{eventType:r,newRecord:i,oldRecord:s}=t;console.log(`Phases ${r.toLowerCase()}:`,i||s)},Eo=wo((t,e)=>({isInitializing:!1,realtimeChannel:null,init:async()=>{const{getInitializationState:n,setLoading:r,setInitialized:i,showAlert:s}=Mt.getState(),{initializeEmptyMachineAvailability:a}=_s.getState();if(!n()){if(e().isInitializing)return new Promise(l=>{const u=()=>{n()?l():setTimeout(u,100)};u()});t({isInitializing:!0}),r(!0);try{let l=!1,u=0;const d=3;for(;!l&&u<d;)try{await xt.init(),l=!0}catch(h){u++;const g=zr(h,"API Service Initialization");if(u>=d)throw r(!1),i(!1),s("Unable to connect to the server. Please check your internet connection and refresh the page.","error"),new st("API service initialization failed after multiple attempts","CRITICAL_INIT_ERROR",503,g,"Store Initialization");const m=Math.min(1e3*Math.pow(2,u-1),1e4);await new Promise(v=>setTimeout(v,m)),s(`Connection attempt ${u} failed. Retrying...`,"warning")}try{a();const{restoreSplitTaskInfo:h,migrateExistingTasksToSegmentFormat:g}=_s.getState();h(),await g();const{realtimeChannel:m}=e();if(!m)try{const v=fK(t,e);v&&(t({realtimeChannel:v}),typeof window<"u"&&!nu&&(nu=()=>{b0(e,t)},window.addEventListener("beforeunload",nu)))}catch(v){const b=zr(v,"Real-time Subscriptions Setup");s("Warning: Real-time updates are not available. Data may not update automatically.","warning")}r(!1),i(!0),t({isInitializing:!1}),s("Application initialized successfully. Data will be loaded via React Query.","success")}catch(h){const g=zr(h,"Data Processing");throw r(!1),i(!1),t({isInitializing:!1}),s("Failed to process application data. Please refresh the page.","error"),g}}catch(l){const u=l instanceof st?l:zr(l,"Store Initialization");throw r(!1),i(!1),t({isInitializing:!1}),u.code==="CRITICAL_INIT_ERROR"?s("Critical initialization error. Please contact support if the problem persists.","error"):s("Application initialization failed. Please refresh the page or contact support.","error"),u}}},refreshData:()=>{console.warn("refreshData is deprecated. Use React Query invalidation instead.")},debugData:()=>{const{getMachines:n}=Oi.getState(),{getOdpOrders:r}=hn.getState(),{getPhases:i}=Yc.getState(),s=n().map(u=>u.id);s.filter((u,d)=>s.indexOf(u)!==d);const a=r().map(u=>u.id);a.filter((u,d)=>a.indexOf(u)!==d);const l=i().map(u=>u.id);l.filter((u,d)=>l.indexOf(u)!==d)},cleanupDuplicates:()=>{const{cleanupDuplicateMachines:n}=Oi.getState(),{cleanupDuplicateOrders:r}=hn.getState(),{cleanupDuplicatePhases:i}=Yc.getState();n(),r(),i()},reset:()=>{b0(e,t);const{reset:n}=Oi.getState(),{reset:r}=hn.getState(),{reset:i}=Yc.getState(),{reset:s}=_s.getState(),{reset:a}=Mt.getState();n(),r(),i(),s(),a(),t({isInitializing:!1,realtimeChannel:null})},cleanup:()=>{b0(e,t),hK()},getState:()=>{const{getMachines:n}=Oi.getState(),{getOdpOrders:r}=hn.getState(),{getPhases:i}=Yc.getState(),{getLoadingState:s,getInitializationState:a}=Mt.getState();return{machines:n(),odpOrders:r(),phases:i(),machineAvailability:_s.getState().getMachineAvailabilityState(),isLoading:s(),isInitialized:a()}}})),zP=()=>{const t=E.useCallback(d=>{if(!d||!d.department)return{isValid:!1,error:"Invalid phase data"};const{department:h}=d;if(h==="STAMPA"){const g=parseFloat(d.v_stampa);if(isNaN(g)||g<=0)return{isValid:!1,error:"Velocità di stampa non valida. Inserisci un valore maggiore di zero."}}else if(h==="CONFEZIONAMENTO"){const g=parseFloat(d.v_conf);if(isNaN(g)||g<=0)return{isValid:!1,error:"Velocità di confezionamento non valida. Inserisci un valore maggiore di zero."}}else return{isValid:!1,error:"Reparto non riconosciuto"};return{isValid:!0}},[]),e=E.useCallback((d,h,g)=>{if(!d||!h||d.department==="STAMPA"&&!g||!t(d).isValid)return null;try{const{department:v}=d;if(v==="STAMPA"){const b=parseFloat(d.v_stampa),y=parseFloat(d.t_setup_stampa)||0,S=parseFloat(d.costo_h_stampa)||0;if(isNaN(b)||b<=0)return null;const T=g*h/1e3/b,A=T+y,M=A*S;return{totals:{duration:A,cost:M},breakdown:{print:{time:T,cost:T*S},setup:{time:y,cost:y*S}}}}else if(v==="CONFEZIONAMENTO"){const b=parseFloat(d.v_conf),y=parseFloat(d.t_setup_conf)||0,S=parseFloat(d.costo_h_conf)||0;if(isNaN(b)||b<=0)return null;const C=h/b,T=y,A=C+T,M=A*S;return{totals:{duration:A,cost:M},breakdown:{package:{time:C,cost:C*S},setup:{time:T,cost:T*S}}}}return null}catch{return null}},[t]),n=E.useCallback(d=>d&&(d.startsWith("P05")||d.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),r=E.useCallback(d=>d&&d.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),i=E.useCallback(d=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[d]||[],[]),s=E.useCallback((d,h)=>{const m={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[d]||"MACH",v=h==="BUSTO_GAROLFO"?"BGF":"ZAN",b=Date.now().toString(36);return`${m}_${v}_${b}`},[]),a=E.useCallback((d,h)=>!(h<0||h>d),[]),l=E.useCallback((d,h)=>!d||d===0?0:Math.round(h*100/d),[]),u=E.useCallback((d,h)=>!d||d===0?0:!h||h===0?d:Math.round(d*(1-h/100)*100)/100,[]);return{calculateProductionMetrics:e,validatePhaseParameters:t,autoDetermineWorkCenter:n,autoDetermineDepartment:r,getValidMachineTypes:i,generateMachineId:s,validateQuantityCompleted:a,calculateCompletionRate:l,calculateTimeRemaining:u}};var _0,HD;function vK(){if(HD)return _0;HD=1;function t(C){this._maxSize=C,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(C){return this._values[C]},t.prototype.set=function(C,T){return this._size>=this._maxSize&&this.clear(),C in this._values||this._size++,this._values[C]=T};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),u=new t(a),d=new t(a);_0={Cache:t,split:g,normalizePath:h,setter:function(C){var T=h(C);return u.get(C)||u.set(C,function(M,D){for(var k=0,N=T.length,O=M;k<N-1;){var j=T[k];if(j==="__proto__"||j==="constructor"||j==="prototype")return M;O=O[T[k++]]}O[T[k]]=D})},getter:function(C,T){var A=h(C);return d.get(C)||d.set(C,function(D){for(var k=0,N=A.length;k<N;)if(D!=null||!T)D=D[A[k++]];else return;return D})},join:function(C){return C.reduce(function(T,A){return T+(v(A)||n.test(A)?"["+A+"]":(T?".":"")+A)},"")},forEach:function(C,T,A){m(Array.isArray(C)?C:g(C),T,A)}};function h(C){return l.get(C)||l.set(C,g(C).map(function(T){return T.replace(s,"$2")}))}function g(C){return C.match(e)||[""]}function m(C,T,A){var M=C.length,D,k,N,O;for(k=0;k<M;k++)D=C[k],D&&(S(D)&&(D='"'+D+'"'),O=v(D),N=!O&&/^\d+$/.test(D),T.call(A,D,O,N,k,C))}function v(C){return typeof C=="string"&&C&&["'",'"'].indexOf(C.charAt(0))!==-1}function b(C){return C.match(r)&&!C.match(n)}function y(C){return i.test(C)}function S(C){return!v(C)&&(b(C)||y(C))}return _0}var ml=vK(),w0,BD;function yK(){if(BD)return w0;BD=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(t)||[],n=h=>h[0].toUpperCase()+h.slice(1),r=(h,g)=>e(h).join(g).toLowerCase(),i=h=>e(h).reduce((g,m)=>`${g}${g?m[0].toUpperCase()+m.slice(1).toLowerCase():m.toLowerCase()}`,"");return w0={words:e,upperFirst:n,camelCase:i,pascalCase:h=>n(i(h)),snakeCase:h=>r(h,"_"),kebabCase:h=>r(h,"-"),sentenceCase:h=>n(r(h," ")),titleCase:h=>e(h).map(n).join(" ")},w0}var S0=yK(),Hg={exports:{}},$D;function bK(){if($D)return Hg.exports;$D=1,Hg.exports=function(i){return t(e(i),i)},Hg.exports.array=t;function t(i,s){var a=i.length,l=new Array(a),u={},d=a,h=n(s),g=r(i);for(s.forEach(function(v){if(!g.has(v[0])||!g.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)u[d]||m(i[d],d,new Set);return l;function m(v,b,y){if(y.has(v)){var S;try{S=", node was:"+JSON.stringify(v)}catch{S=""}throw new Error("Cyclic dependency"+S)}if(!g.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!u[b]){u[b]=!0;var C=h.get(v)||new Set;if(C=Array.from(C),b=C.length){y.add(v);do{var T=C[--b];m(T,g.get(T),y)}while(b);y.delete(v)}l[--a]=v}}}function e(i){for(var s=new Set,a=0,l=i.length;a<l;a++){var u=i[a];s.add(u[0]),s.add(u[1])}return Array.from(s)}function n(i){for(var s=new Map,a=0,l=i.length;a<l;a++){var u=i[a];s.has(u[0])||s.set(u[0],new Set),s.has(u[1])||s.set(u[1],new Set),s.get(u[0]).add(u[1])}return s}function r(i){for(var s=new Map,a=0,l=i.length;a<l;a++)s.set(i[a],a);return s}return Hg.exports}var _K=bK();const wK=If(_K),SK=Object.prototype.toString,xK=Error.prototype.toString,EK=RegExp.prototype.toString,CK=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",TK=/^Symbol\((.*)\)(.*)$/;function AK(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function VD(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return AK(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return CK.call(t).replace(TK,"Symbol($1)");const r=SK.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+xK.call(t)+"]":r==="RegExp"?EK.call(t):null}function la(t,e){let n=VD(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=VD(this[r],e);return s!==null?s:i},2)}function HP(t){return t==null?[]:[].concat(t)}let BP,$P,VP,RK=/\$\{\s*(\w+)\s*\}/g;BP=Symbol.toStringTag;class qD{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[BP]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],HP(e).forEach(s=>{if(Sr.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}$P=Symbol.hasInstance;VP=Symbol.toStringTag;class Sr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(RK,(i,s)=>la(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const a=new qD(e,n,r,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[VP]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Sr)}static[$P](e){return qD[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ps={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${la(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${la(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${la(n,!0)}\``+i}},Pr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ya={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},G_={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},DK={isValue:"${path} field must be ${value}"},mp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},vp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},OK={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${la(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${la(n,!0)}\``}return Sr.formatError(ps.notType,t)}};Object.assign(Object.create(null),{mixed:ps,string:Pr,number:Ya,date:G_,object:mp,array:vp,boolean:DK,tuple:OK});const Km=t=>t&&t.__isYupSchema__;class Vp{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,a=typeof r=="function"?r:(...l)=>l.every(u=>u===r);return new Vp(e,(l,u)=>{var d;let h=a(...l)?i:s;return(d=h?.(u))!=null?d:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n?.value,n?.parent,n?.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Km(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Bg={context:"$",value:"."};class Ll{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Bg.context,this.isValue=this.key[0]===Bg.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Bg.context:this.isValue?Bg.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ml.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ll.prototype.__isYupRef=!0;const ra=t=>t==null;function Fc(t){function e({value:n,path:r="",options:i,originalValue:s,schema:a},l,u){const{name:d,test:h,params:g,message:m,skipAbsent:v}=t;let{parent:b,context:y,abortEarly:S=a.spec.abortEarly,disableStackTrace:C=a.spec.disableStackTrace}=i;const T={value:n,parent:b,context:y};function A(B={}){const Q=qP(Object.assign({value:n,originalValue:s,label:a.spec.label,path:B.path||r,spec:a.spec,disableStackTrace:B.disableStackTrace||C},g,B.params),T),ne=new Sr(Sr.formatError(B.message||m,Q),n,Q.path,B.type||d,Q.disableStackTrace);return ne.params=Q,ne}const M=S?l:u;let D={path:r,parent:b,type:d,from:i.from,createError:A,resolve(B){return WP(B,T)},options:i,originalValue:s,schema:a};const k=B=>{Sr.isError(B)?M(B):B?u(null):M(A())},N=B=>{Sr.isError(B)?M(B):l(B)};if(v&&ra(n))return k(!0);let j;try{var z;if(j=h.call(D,n,D),typeof((z=j)==null?void 0:z.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${D.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(j).then(k,N)}}catch(B){N(B);return}k(j)}return e.OPTIONS=t,e}function qP(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=WP(t[n],e);return t}function WP(t,e){return Ll.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function MK(t,e,n,r=n){let i,s,a;return e?(ml.forEach(e,(l,u,d)=>{let h=u?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:i,value:n});let g=t.type==="tuple",m=d?parseInt(h,10):0;if(t.innerType||g){if(g&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[m],t=g?t.spec.types[m]:t.innerType}if(!d){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);i=n,n=n&&n[h],t=t.fields[h]}s=h,a=u?"["+l+"]":"."+l}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class qp extends Set{describe(){const e=[];for(const n of this.values())e.push(Ll.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new qp(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Kc(t,e=new Map){if(Km(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Kc(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Kc(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Kc(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Kc(i,e)}else throw Error(`Unable to clone ${t}`);return n}function kK(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,i=!1;for(let s=0;s<t.length;s++){const a=t[s];if(a==="["&&!i){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(a==="]"&&!i){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(a==='"'){i=!i;continue}if(a==="."&&!r&&!i){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function NK(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:kK(n)}))}function GP(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return NK(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(i=>GP(i,r))}class Ni{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new qp,this._blacklist=new qp,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ps.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Kc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({},n,{value:e})),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&ra(s))return s;let a=la(e),l=la(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this,n),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:a=e,strict:l=this.spec.strict}=n,u=e;l||(u=this._cast(u,Object.assign({assert:!1},n)));let d=[];for(let h of Object.values(this.internalTests))h&&d.push(h);this.runTests({path:s,value:u,originalValue:a,options:n,tests:d},r,h=>{if(h.length)return i(h,u);this.runTests({path:s,value:u,originalValue:a,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:a,originalValue:l,path:u,options:d}=e,h=y=>{i||(i=!0,n(y,a))},g=y=>{i||(i=!0,r(y,a))},m=s.length,v=[];if(!m)return g([]);let b={value:a,originalValue:l,path:u,options:d,schema:this};for(let y=0;y<s.length;y++){const S=s[y];S(b,h,function(T){T&&(Array.isArray(T)?v.push(...T):v.push(T)),--m<=0&&g(v)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let d=r[l];const h=Object.assign({},a,{strict:!0,parent:r,value:d,originalValue:s[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${i||""}[${u?l:`"${l}"`}]`:(i?`${i}.`:"")+e});return(g,m,v)=>this.resolve(h)._validate(d,h,m,v)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n?.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((a,l)=>i._validate(e,n,(u,d)=>{Sr.isError(u)&&(u.value=d),l(u)},(u,d)=>{u.length?l(new Sr(u,d,void 0,void 0,s)):a(d)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,a=(r=n?.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(l,u)=>{throw Sr.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new Sr(l,e,void 0,void 0,a);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Sr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Sr.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Kc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Fc({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Fc({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=ps.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ps.notNull){return this.nullability(!1,e)}required(e=ps.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=ps.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Fc(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=HP(e).map(s=>new Ll(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Vp(i,n):Vp.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Fc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=ps.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Fc({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),r}notOneOf(e,n=ps.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Fc({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:a}=n.spec;return{meta:i,label:r,optional:s,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((u,d,h)=>h.findIndex(g=>g.OPTIONS.name===u.OPTIONS.name)===d).map(u=>{const d=u.OPTIONS.params&&e?qP(Object.assign({},u.OPTIONS.params),e):u.OPTIONS.params;return{name:u.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(i){if(i instanceof Sr)return{issues:GP(i)};throw i}}}}}Ni.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ni.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:a}=MK(this,e,n,r.context);return a[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Ni.prototype[t]=Ni.prototype.oneOf;for(const t of["not","nope"])Ni.prototype[t]=Ni.prototype.notOneOf;const IK=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function PK(t){const e=Y_(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Y_(t){var e,n;const r=IK.exec(t);return r?{year:Ys(r[1]),month:Ys(r[2],1)-1,day:Ys(r[3],1),hour:Ys(r[4]),minute:Ys(r[5]),second:Ys(r[6]),millisecond:r[7]?Ys(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ys(r[10]),minuteOffset:Ys(r[11])}:null}function Ys(t,e=0){return Number(t)||e}let jK=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,LK=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,FK=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,UK="^\\d{4}-\\d{2}-\\d{2}",zK="\\d{2}:\\d{2}:\\d{2}",HK="(([+-]\\d{2}(:?\\d{2})?)|Z)",BK=new RegExp(`${UK}T${zK}(\\.\\d+)?${HK}$`),$K=t=>ra(t)||t===t.trim(),VK={}.toString();function jr(){return new YP}class YP extends Ni{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===VK?e:r})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||ps.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Pr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Pr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Pr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Pr.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=Pr.email){return this.matches(jK,{name:"email",message:e,excludeEmptyString:!0})}url(e=Pr.url){return this.matches(LK,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Pr.uuid){return this.matches(FK,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(BK,{name:"datetime",message:n||Pr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Pr.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const a=Y_(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Pr.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const a=Y_(s);return a?a.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Pr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:$K})}lowercase(e=Pr.lowercase){return this.transform(n=>ra(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ra(n)||n===n.toLowerCase()})}uppercase(e=Pr.uppercase){return this.transform(n=>ra(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ra(n)||n===n.toUpperCase()})}}jr.prototype=YP.prototype;let qK=t=>t!=+t;function zn(){return new KP}class KP extends Ni{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!qK(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let r=e;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)||r===null?r:parseFloat(r)})})}min(e,n=Ya.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Ya.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Ya.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Ya.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Ya.positive){return this.moreThan(0,e)}negative(e=Ya.negative){return this.lessThan(0,e)}integer(e=Ya.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>ra(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>ra(i)?i:Math[e](i))}}zn.prototype=KP.prototype;let QP=new Date(""),WK=t=>Object.prototype.toString.call(t)==="[object Date]";function Wd(){return new $f}class $f extends Ni{constructor(){super({type:"date",check(e){return WK(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=PK(e),isNaN(e)?$f.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Ll.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=G_.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=G_.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}$f.INVALID_DATE=QP;Wd.prototype=$f.prototype;Wd.INVALID_DATE=QP;function GK(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([a,l])=>`${a}-${l}`));function s(a,l){let u=ml.split(a)[0];r.add(u),i.has(`${l}-${u}`)||n.push([l,u])}for(const a of Object.keys(t)){let l=t[a];r.add(a),Ll.isRef(l)&&l.isSibling?s(l.path,a):Km(l)&&"deps"in l&&l.deps.forEach(u=>s(u,a))}return wK.array(Array.from(r),n).reverse()}function WD(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function XP(t){return(e,n)=>WD(t,e)-WD(t,n)}const ZP=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function yp(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=yp(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=yp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(yp)}):"optional"in t?t.optional():t}const YK=(t,e)=>{const n=[...ml.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=ml.getter(ml.join(n),!0)(t);return!!(i&&r in i)};let GD=t=>Object.prototype.toString.call(t)==="[object Object]";function YD(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const KK=XP([]);function Co(t){return new JP(t)}class JP extends Ni{constructor(e){super({type:"object",check(n){return GD(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=KK,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(i).filter(g=>!this._nodes.includes(g))),u={},d=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const g of l){let m=s[g],v=g in i,b=i[g];if(m){let y;d.path=(n.path?`${n.path}.`:"")+g,m=m.resolve({value:b,context:n.context,parent:u});let S=m instanceof Ni?m.spec:void 0,C=S?.strict;if(S!=null&&S.strip){h=h||g in i;continue}y=!n.__validating||!C?m.cast(b,d):b,y!==void 0&&(u[g]=y)}else v&&!a&&(u[g]=b);(v!==g in u||u[g]!==b)&&(h=!0)}return h?u:i}_validate(e,n={},r,i){let{from:s=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...s],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(u,d)=>{if(!l||!GD(d)){i(u,d);return}a=a||d;let h=[];for(let g of this._nodes){let m=this.fields[g];!m||Ll.isRef(m)||h.push(m.asNestedTest({options:n,key:g,parent:d,parentPath:n.path,originalParent:a}))}this.runTests({tests:h,value:d,originalValue:a,options:n},r,g=>{i(g.sort(this._sortErrors).concat(u),d)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const a=r[i];r[i]=a===void 0?s:a}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=GK(e,n),r._sortErrors=XP(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return yp(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=ml.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return YK(s,e)&&(a=Object.assign({},s),r||delete a[e],a[n]=i(s)),a})}json(){return this.transform(ZP)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||mp.exact,test(n){if(n==null)return!0;const r=YD(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=mp.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=YD(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=mp.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(S0.camelCase)}snakeCase(){return this.transformKeys(S0.snakeCase)}constantCase(){return this.transformKeys(e=>S0.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,a]of Object.entries(n.fields)){var i;let l=e;(i=l)!=null&&i.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),r.fields[s]=a.describe(l)}return r}}Co.prototype=JP.prototype;function ej(t){return new tj(t)}class tj extends Ni{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((a,l)=>{const u=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${l}]`,parent:r,originalValue:a,value:a,index:l}));return u!==a&&(i=!0),u});return i?s:r}_validate(e,n={},r,i){var s;let a=this.innerType,l=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(u,d)=>{var h;if(!l||!a||!this._typeCheck(d)){i(u,d);return}let g=new Array(d.length);for(let v=0;v<d.length;v++){var m;g[v]=a.asNestedTest({options:n,index:v,parent:d,parentPath:n.path,originalParent:(m=n.originalValue)!=null?m:e})}this.runTests({value:d,tests:g,originalValue:(h=n.originalValue)!=null?h:e,options:n},r,v=>i(v.concat(u),d))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(ZP)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Km(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+la(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=vp.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||vp.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||vp.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),r.innerType=n.innerType.describe(s)}return r}}ej.prototype=tj.prototype;const gn=jr().required("This field is required");zn().required("This field is required").min(0,"Value must be at least 0");const hs=zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Value must be at least 0"),QK=t=>t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0,XK=Co({machine_name:gn.min(2,"Machine name must be at least 2 characters").max(100,"Machine name must be at most 100 characters").matches(/^[a-zA-Z0-9\s\-_]+$/,"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"),machine_type:gn,department:gn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:gn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),status:gn.oneOf(["ACTIVE","INACTIVE"],"Invalid status"),min_web_width:hs,max_web_width:hs,min_bag_height:hs,max_bag_height:hs,standard_speed:hs,setup_time_standard:hs,changeover_color:hs,changeover_material:hs,active_shifts:ej().of(jr().oneOf(["T1","T2","T3"]))}).test("web-width-logic","Minimum web width cannot exceed maximum web width",function(t){return t.min_web_width&&t.max_web_width?t.min_web_width<=t.max_web_width:!0}).test("bag-height-logic","Minimum bag height cannot exceed maximum bag height",function(t){return t.min_bag_height&&t.max_bag_height?t.min_bag_height<=t.max_bag_height:!0}),ZK=Co({name:gn.min(2,"Phase name must be at least 2 characters").max(100,"Phase name must be at most 100 characters"),department:gn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:gn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),numero_persone:zn().required("Number of people is required").min(1,"Number of people must be at least 1"),bag_width:hs,bag_step:hs,v_stampa:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Printing speed must be greater than 0")}),t_setup_stampa:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_stampa:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Hourly cost cannot be negative")}),v_conf:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Packaging speed must be greater than 0")}),t_setup_conf:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_conf:zn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Hourly cost cannot be negative")})}).test("bag-width-step-logic","Bag width cannot be less than bag step",QK),KD=Co({odp_number:gn.min(1,"Il numero ODP è obbligatorio"),article_code:gn.min(1,"Il codice articolo è obbligatorio"),work_center:gn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Seleziona un centro di lavoro valido"),nome_cliente:gn.min(1,"Il nome del cliente è obbligatorio"),quantity:zn().required("La quantità è obbligatoria").min(0,"La quantità deve essere maggiore o uguale a 0").typeError("La quantità deve essere un numero valido"),delivery_date:Wd().required("La data di consegna è obbligatoria").typeError("Inserisci una data di consegna valida"),customer_order_ref:gn.min(1,"Il riferimento ordine cliente è obbligatorio"),department:gn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Seleziona un reparto valido"),status:jr().oneOf(["NOT SCHEDULED","SCHEDULED","IN PROGRESS","COMPLETED","CANCELLED"],"Stato non valido").default("NOT SCHEDULED"),quantity_completed:zn().min(0,"La quantità completata deve essere maggiore o uguale a 0").default(0),production_lot:jr().nullable(),description:jr().nullable(),bag_height:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"L'altezza busta deve essere maggiore o uguale a 0"),bag_width:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La larghezza busta deve essere maggiore o uguale a 0"),bag_step:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il passo busta deve essere maggiore o uguale a 0"),seal_sides:zn().nullable().transform(t=>isNaN(t)?null:t).oneOf([3,4],"I lati di sigillatura devono essere 3 o 4"),product_type:jr().nullable().oneOf(["CREMA","LIQUIDO","POLVERI"],"Seleziona un tipo di prodotto valido"),internal_customer_code:jr().nullable().test("not-empty-if-provided","Il codice cliente interno non può essere vuoto",function(t){return!t||t.trim().length>0}),external_customer_code:jr().nullable().test("not-empty-if-provided","Il codice cliente esterno non può essere vuoto",function(t){return!t||t.trim().length>0}),fase:jr().nullable(),duration:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La durata deve essere maggiore o uguale a 0"),cost:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il costo deve essere maggiore o uguale a 0"),scheduled_start_time:Wd().nullable(),scheduled_end_time:Wd().nullable(),scheduled_machine_id:jr().nullable(),user_notes:jr().nullable(),asd_notes:jr().nullable(),material_availability_global:zn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Material availability must be between 0 and 100").max(100,"Material availability must be between 0 and 100")}).test("bag-width-step-logic","La larghezza busta non può essere minore del passo busta",function(t){return t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0}).test("quantity-completed-logic","La quantità completata non può superare la quantità totale",function(t){return t.quantity&&t.quantity_completed!==void 0?t.quantity_completed<=t.quantity:!0}).test("scheduled-time-order","L'ora di fine programmata deve essere dopo l'ora di inizio",function(t){return t.scheduled_start_time&&t.scheduled_end_time?new Date(t.scheduled_end_time)>new Date(t.scheduled_start_time):!0}).test("scheduling-logic","I campi di programmazione devono essere tutti forniti o tutti nulli",function(t){const e=!!t.scheduled_start_time,n=!!t.scheduled_end_time,r=!!t.scheduled_machine_id;return e&&n&&r||!e&&!n&&!r}),JK=Co({startDate:gn,startTime:gn,endDate:gn,endTime:gn}).test("date-logic","End date cannot be before start date",function(t){return t.startDate&&t.endDate?new Date(t.startDate)<=new Date(t.endDate):!0}).test("time-logic","End time must be after start time when dates are the same",function(t){return t.startDate&&t.endDate&&t.startDate===t.endDate&&t.startTime&&t.endTime?t.startTime<t.endTime:!0}),eQ=Co({email:gn.email("Please enter a valid email address"),password:gn.min(6,"Password must be at least 6 characters")}),tQ=Co({email:gn.email("Please enter a valid email address"),password:gn.min(6,"Password must be at least 6 characters"),confirmPassword:jr().required("Please confirm your password")}).test("passwords-match","Passwords must match",function(t){return t.password===t.confirmPassword}),nQ=Co({email:gn.email("Please enter a valid email address")}),rQ=(t,e)=>{try{return e.validateSync(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(n){const r={};return n.inner.forEach(i=>{r[i.path]=i.message}),{isValid:!1,errors:r}}},iQ={MACHINE:XK,PHASE:ZK,ORDER:KD,BACKLOG:KD,OFF_TIME:JK,LOGIN:eQ,SIGNUP:tQ,FORGOT_PASSWORD:nQ},nj=()=>{const t=E.useCallback((m,v)=>{const b=iQ[v];if(!b)throw new Error(`Unknown schema type: ${v}`);return rQ(m,b)},[]),e=E.useCallback(m=>t(m,"MACHINE"),[t]),n=E.useCallback(m=>t(m,"PHASE"),[t]),r=E.useCallback(m=>t(m,"ORDER"),[t]),i=E.useCallback(m=>t(m,"OFF_TIME"),[t]),s=E.useCallback((m,v)=>t(m,v),[t]),a=E.useCallback((m,v)=>{const b={};return v.some(S=>S.scheduled_machine_id===m)&&(b.general="Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),{isValid:Object.keys(b).length===0,errors:b}},[]),l=E.useCallback(m=>{const v={};return m?(m.quantity_completed>0&&(v.general="Cannot delete order that has started production"),m.scheduled_machine_id&&(v.general="Cannot delete scheduled order. Please unschedule first."),{isValid:Object.keys(v).length===0,errors:v}):(v.general="Order is required",{isValid:!1,errors:v})},[]),u=E.useCallback((m,v,b,y)=>{const S={};return m?v?!b||!y?(S.general="Start and end times are required",{isValid:!1,errors:S}):(v.status!=="ACTIVE"&&(S.general=`Machine ${v.machine_name} is not active`),m.scheduled_machine_id&&m.scheduled_machine_id!==v.id&&(S.general="Order is already scheduled on a different machine"),m.fase||(S.general="Order must have a production phase selected"),(!m.quantity||m.quantity<=0)&&(S.general="Order must have a valid quantity"),(!m.duration||m.duration<=0)&&(S.general="Order must have calculated duration"),{isValid:Object.keys(S).length===0,errors:S}):(S.general="Machine is required",{isValid:!1,errors:S}):(S.general="Order is required",{isValid:!1,errors:S})},[]),d=E.useCallback((m,v)=>{const b={};if(!m)return b.general="Please select a production phase",{isValid:!1,errors:b};v.department&&m.department!==v.department&&(b.general=`Selected phase is for ${m.department} department, but order is for ${v.department}`),v.work_center&&m.work_center!==v.work_center&&(b.general=`Selected phase is for ${m.work_center} work center, but order is for ${v.work_center}`);const y=n(m);return y.isValid||Object.assign(b,y.errors),{isValid:Object.keys(b).length===0,errors:b}},[n]),h=E.useCallback((m,v)=>{if(m.status!=="ACTIVE")return!1;const b=m.active_shifts||[];if(b.length===0)return!1;const y=v.getUTCHours();return b.some(C=>{switch(C){case"T1":return y>=6&&y<14;case"T2":return y>=14&&y<22;case"T3":return y>=22||y<6;default:return!1}})},[]),g=E.useCallback(m=>({name:m?.machine_name||"Unknown Machine",type:m?.machine_type||"Unknown Type",department:m?.department||"Unknown Department",workCenter:m?.work_center||"Unknown Work Center",status:m?.status||"UNKNOWN",isActive:m?.status==="ACTIVE"}),[]);return{validate:t,validateMachine:e,validatePhase:n,validateOrder:r,validateOffTime:i,validateAuth:s,validateMachineDeletion:a,validateOrderDeletion:l,validateOrderScheduling:u,validatePhaseSelection:d,isMachineAvailable:h,getMachineDisplayInfo:g}},As=(t="")=>{const{showAlert:e,showConfirmDialog:n}=Mt(),r=E.useCallback((m,v={})=>{const{showUserAlert:b=!0,alertType:y="error",logError:S=!0,context:C=t,fallbackMessage:T="An unexpected error occurred"}=v,A=zr(m,C);if(b){const M=A.userMessage||T;e(M,y)}return A},[t,e]),i=E.useCallback(async(m,v={})=>{const{showUserAlert:b=!0,alertType:y="error",context:S=t,fallbackMessage:C="Operation failed",retry:T=!1,maxRetries:A=3}=v;try{return T?await qR(m,A):await m()}catch(M){throw r(M,{showUserAlert:b,alertType:y,context:S,fallbackMessage:C})}},[t,r]),s=E.useCallback((m,v)=>{const b=r(m,{showUserAlert:!1});b.code===Ie.VALIDATION_ERROR?b.fieldErrors?Object.entries(b.fieldErrors).forEach(([y,S])=>{v(y,{type:"server",message:S})}):v("root",{type:"server",message:b.userMessage}):v("root",{type:"server",message:b.userMessage})},[r]),a=E.useCallback((m,v,b)=>{const y=r(m,{context:`${v} ${b}`,fallbackMessage:`Failed to ${v} ${b}`});return y.code===Ie.VALIDATION_ERROR?e(`Please check the ${b} information and try again.`,"error"):y.code===Ie.NOT_FOUND_ERROR?e(`${b} not found. It may have been deleted.`,"error"):y.code===Ie.AUTHORIZATION_ERROR&&e(`You don't have permission to ${v} ${b}.`,"error"),y},[r,e]),l=E.useCallback((m,v)=>{const b=r(m,{context:"Network Operation",fallbackMessage:"Network error occurred"});return b.code===Ie.NETWORK_ERROR&&v&&n("Network Error","Your connection seems to be unstable. Would you like to retry?",v,"warning"),b},[r,n]),u=E.useCallback(m=>{const v=r(m,{context:"Authentication",fallbackMessage:"Authentication error occurred"});return v.code===Ie.AUTHENTICATION_ERROR&&e("Please log in again to continue.","warning"),v},[r,e]),d=E.useCallback((m,v="")=>R_(m,v||t),[t]),h=E.useCallback(m=>zr(m,t).severity||"medium",[t]),g=E.useMemo(()=>Ie,[]);return{handleError:r,handleAsync:i,handleFormError:s,handleCrudError:a,handleNetworkError:l,handleAuthError:u,createSafeAsync:d,getErrorSeverity:h,errorTypes:g,withRetry:qR,safeAsync:R_}},sQ=(t,e,n=null)=>{const{phases:r}=Yc(),[i,s]=E.useState(""),[a,l]=E.useState(!1),[u,d]=E.useState(null),[h,g]=E.useState({}),m=E.useRef(null),v=E.useMemo(()=>!r||r.length===0?[]:t||e?r.filter(M=>(!t||M.department===t)&&(!e||M.work_center===e)).filter(M=>M.name.toLowerCase().includes(i.toLowerCase())):[],[i,t,e,r]);E.useEffect(()=>{if(n&&r&&r.length>0&&!u){const A=r.find(M=>M.id===n);A&&(d(A),s(A.name),g({v_stampa:A.v_stampa||null,t_setup_stampa:A.t_setup_stampa||null,costo_h_stampa:A.costo_h_stampa||null,v_conf:A.v_conf||null,t_setup_conf:A.t_setup_conf||null,costo_h_conf:A.costo_h_conf||null}))}},[n,r,u]),E.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const b=E.useCallback((A,M)=>{const D=M===""?null:parseFloat(M);g(k=>({...k,[A]:D}))},[]),y=E.useCallback((A,M,D)=>{M("fase",A.id),d(A),s(A.name),l(!1),D("fase"),g({v_stampa:A.v_stampa||null,t_setup_stampa:A.t_setup_stampa||null,costo_h_stampa:A.costo_h_stampa||null,v_conf:A.v_conf||null,t_setup_conf:A.t_setup_conf||null,costo_h_conf:A.costo_h_conf||null})},[]),S=E.useCallback(()=>{s(""),d(null),g({})},[]),C=E.useCallback(()=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>l(!1),150)},[]);return E.useMemo(()=>({phaseSearch:i,setPhaseSearch:s,isDropdownVisible:a,setIsDropdownVisible:l,selectedPhase:u,setSelectedPhase:d,filteredPhases:v,editablePhaseParams:h,setEditablePhaseParams:g,handlePhaseParamChange:b,handlePhaseSelect:y,resetPhaseData:S,handleBlur:C,blurTimeoutRef:m}),[i,a,u,v,h,g,b,y,S,C])};function aQ(t,e){const n=iK(e),r=new Set;if(n===0||n===6){for(let l=0;l<24;l++)r.add(l.toString());return Array.from(r)}for(let l=0;l<24;l++)r.add(l.toString());const{work_center:i,department:s,active_shifts:a=[]}=t;return a.forEach(l=>{if(l==="T3"){r.clear();return}if(l==="T2")for(let u=6;u<22;u++)r.delete(u.toString());if(l==="T1"){if(i===bt.BUSTO_GAROLFO){for(let u=8;u<12;u++)r.delete(u.toString());for(let u=14;u<18;u++)r.delete(u.toString())}else if(i===bt.ZANICA)if(s===sn.PACKAGING){for(let u=8;u<12;u++)r.delete(u.toString());for(let u=13;u<17;u++)r.delete(u.toString())}else{for(let u=8;u<12;u++)r.delete(u.toString());for(let u=13;u<17;u++)r.delete(u.toString())}}}),Array.from(r).sort((l,u)=>parseInt(l)-parseInt(u))}function oQ(t,e){const n=[],r=LP(new Date(e,0,1)),i=s7(new Date(e,11,31));for(const s of t){let a=new Date(r);for(;!sK(a,i);){const l=aQ(s,a);l.length>0&&n.push({machine_id:s.id,date:Jn(a,"yyyy-MM-dd"),unavailable_hours:l}),a=Bf(a,1)}}return n}const Et={machines:["machines"],machine:t=>["machines",t],machinesByWorkCenter:t=>["machines","workCenter",t],orders:["orders"],order:t=>["orders",t],phases:["phases"],phase:t=>["phases",t],machineAvailability:(t,e,n)=>["machineAvailability",t,e,n],machineAvailabilityForDate:(t,e)=>["machineAvailability",t,"date",e],machineAvailabilityForDateAllMachines:t=>["machineAvailability","allMachines",t]},Qm=()=>Ml({queryKey:Et.machines,queryFn:()=>xt.getMachines(),staleTime:120*1e3}),lQ=t=>Ml({queryKey:Et.machinesByWorkCenter(t),queryFn:()=>xt.getMachines().then(e=>t===bt.BOTH?e:e.filter(n=>n.work_center===t)),staleTime:120*1e3}),cQ=()=>{const t=Vr();return va({mutationFn:async e=>{const n=await xt.addMachine(e);try{const r=new Date().getUTCFullYear(),i=oQ([n],r);i.length>0&&await xt.bulkUpsertMachineAvailability(i),Nl(`Machine "${n?.machine_name||"Unknown"}" added and calendar set successfully`)}catch(r){Gc(`Machine added, but failed to set calendar: ${r.message}`)}return n},onSuccess:e=>{t.invalidateQueries({queryKey:Et.machines}),t.invalidateQueries({queryKey:Et.machinesByWorkCenter()}),t.setQueryData(Et.machines,n=>n?[...n,e]:[e])}})},uQ=()=>{const t=Vr();return va({mutationFn:({id:e,updates:n})=>xt.updateMachine(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:Et.machines}),t.invalidateQueries({queryKey:Et.machinesByWorkCenter()}),t.setQueryData(Et.machines,r=>r?.map(i=>i.id===n?{...i,...e}:i)),t.setQueryData(Et.machine(n),e),Nl(`Machine "${e?.machine_name||"Unknown"}" updated successfully`)}})},dQ=()=>{const t=Vr();return va({mutationFn:async e=>{const n=await xt.getMachines().then(r=>r.find(i=>i.id===e));return await xt.removeMachine(e),n},onSuccess:e=>{t.invalidateQueries({queryKey:Et.machines}),t.invalidateQueries({queryKey:Et.machinesByWorkCenter()}),t.setQueryData(Et.machines,n=>n?.filter(r=>r.id!==e.id)),t.removeQueries({queryKey:Et.machine(e.id)}),Nl(`Machine "${e?.machine_name||"Unknown"}" deleted successfully`)}})},Xm=()=>Ml({queryKey:Et.orders,queryFn:()=>xt.getOdpOrders(),staleTime:60*1e3}),fQ=t=>Ml({queryKey:Et.order(t),queryFn:async()=>{try{return await xt.getOdpOrder(t)}catch{const r=(await xt.getOdpOrders()).find(i=>i.id===t);if(!r)throw new Error(`Order with id ${t} not found`);return r}},enabled:!!t,staleTime:60*1e3}),hQ=()=>{const t=Vr();return va({mutationFn:e=>xt.addOdpOrder(e),onSuccess:e=>{t.invalidateQueries({queryKey:Et.orders}),t.setQueryData(Et.orders,n=>n?[e,...n]:[e])}})},gQ=()=>{const t=Vr();return va({mutationFn:({id:e,updates:n})=>xt.updateOdpOrder(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:Et.orders}),t.setQueryData(Et.orders,r=>r?.map(i=>i.id===n?{...i,...e}:i)),t.setQueryData(Et.order(n),e)}})},pQ=()=>{const t=Vr();return va({mutationFn:e=>xt.removeOdpOrder(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:Et.orders}),t.setQueryData(Et.orders,r=>r?.filter(i=>i.id!==n)),t.removeQueries({queryKey:Et.order(n)})}})},TS=()=>Ml({queryKey:Et.phases,queryFn:()=>xt.getPhases(),staleTime:300*1e3}),mQ=t=>Ml({queryKey:Et.phase(t),queryFn:()=>xt.getPhases().then(e=>e.find(n=>n.id===t)),enabled:!!t,staleTime:300*1e3}),vQ=()=>{const t=Vr();return va({mutationFn:e=>xt.addPhase(e),onSuccess:e=>{t.invalidateQueries({queryKey:Et.phases}),t.setQueryData(Et.phases,n=>n?[...n,e]:[e])}})},yQ=()=>{const t=Vr();return va({mutationFn:({id:e,updates:n})=>xt.updatePhase(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:Et.phases}),t.setQueryData(Et.phases,r=>r?.map(i=>i.id===n?{...i,...e}:i)),t.setQueryData(Et.phase(n),e)}})},bQ=()=>{const t=Vr();return va({mutationFn:e=>xt.removePhase(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:Et.phases}),t.setQueryData(Et.phases,r=>r?.filter(i=>i.id!==n)),t.removeQueries({queryKey:Et.phase(n)})}})},gde=t=>Ml({queryKey:Et.machineAvailabilityForDateAllMachines(t),queryFn:()=>xt.getMachineAvailabilityForDateAllMachines(t),enabled:!!t,staleTime:30*1e3}),_Q=()=>{const{data:t,isLoading:e,error:n}=Qm(),{data:r,isLoading:i,error:s}=Xm(),{data:a,isLoading:l,error:u}=TS(),{setMachines:d}=Oi(),{setOdpOrders:h}=hn(),{setPhases:g}=Yc();return E.useEffect(()=>{t&&!e&&!n&&d(t)},[t,e,n,d]),E.useEffect(()=>{r&&!i&&!s&&h(r)},[r,i,s,h]),E.useEffect(()=>{a&&!l&&!u&&g(a)},[a,l,u,g]),{isLoading:e||i||l,errors:{machines:n,orders:s,phases:u}}};function wQ(){const{selectedWorkCenter:t,showConfirmDialog:e}=Mt(),n=Cs(),{data:r=[],isLoading:i,error:s}=lQ(t),a=dQ(),{handleAsync:l}=As("MachineryListPage");if(s)return w.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle macchine: ",s.message]});const u=E.useMemo(()=>[{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Stato",accessorKey:"status"},{header:"Larghezza Min (mm)",accessorKey:"min_web_width"},{header:"Larghezza Max (mm)",accessorKey:"max_web_width"},{header:"Altezza Min (mm)",accessorKey:"min_bag_height"},{header:"Altezza Max (mm)",accessorKey:"max_bag_height"},{header:"Velocità Std",accessorKey:"standard_speed"},{header:"Setup (h)",accessorKey:"setup_time_standard"},{header:"Cambio Colore (h)",accessorKey:"changeover_color"},{header:"Cambio Materiale (h)",accessorKey:"changeover_material"},{header:"Turni Attivi",accessorKey:"active_shifts",cell:g=>Array.isArray(g.getValue())?g.getValue().join(", "):""},{header:"Calendario",accessorKey:"id",cell:g=>w.jsx(Hn,{to:`/machinery/${g.getValue()}/calendar`,className:"inline-flex items-center px-1 py-1 border border-gray-300 rounded shadow-sm text-[10px] font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Visualizza Calendario"})}],[]),d=g=>{n(`/machinery/${g.id}/edit`)},h=async g=>{e("Elimina Macchina",`Sei sicuro di voler eliminare "${g.machine_name}"? Questa azione non può essere annullata.`,async()=>{await l(async()=>{await a.mutateAsync(g.id)},{context:"Delete Machine",fallbackMessage:"Eliminazione macchina fallita"})},"danger")};return i?w.jsx("div",{children:"Caricamento dati macchine..."}):t?w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Macchine"}),w.jsx(Hn,{to:"/machinery/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Macchina"})]}),w.jsx(CS,{columns:u,data:r,onEditRow:d,onDeleteRow:h})]}):w.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle macchine."})}var Vf=t=>t.type==="checkbox",gl=t=>t instanceof Date,Ur=t=>t==null;const rj=t=>typeof t=="object";var Nn=t=>!Ur(t)&&!Array.isArray(t)&&rj(t)&&!gl(t),SQ=t=>Nn(t)&&t.target?Vf(t.target)?t.target.checked:t.target.value:t,xQ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,EQ=(t,e)=>t.has(xQ(e)),CQ=t=>{const e=t.constructor&&t.constructor.prototype;return Nn(e)&&e.hasOwnProperty("isPrototypeOf")},AS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(AS&&(t instanceof Blob||r))&&(n||Nn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!CQ(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Yn(t[i]));else return t;return e}var Zm=t=>/^\w*$/.test(t),xn=t=>t===void 0,RS=t=>Array.isArray(t)?t.filter(Boolean):[],DS=t=>RS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(t,e,n)=>{if(!e||!Nn(t))return n;const r=(Zm(e)?[e]:DS(e)).reduce((i,s)=>Ur(i)?i:i[s],t);return xn(r)||r===t?xn(t[e])?n:t[e]:r},ms=t=>typeof t=="boolean",cn=(t,e,n)=>{let r=-1;const i=Zm(e)?[e]:DS(e),s=i.length,a=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==a){const d=t[l];u=Nn(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const QD={BLUR:"blur",FOCUS_OUT:"focusout"},qi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ks={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},TQ=le.createContext(null);TQ.displayName="HookFormContext";var AQ=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==qi.all&&(e._proxyFormState[a]=!r||qi.all),t[a]}});return i};const RQ=typeof window<"u"?le.useLayoutEffect:le.useEffect;var ai=t=>typeof t=="string",DQ=(t,e,n,r,i)=>ai(t)?(r&&e.watch.add(t),Me(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Me(n,s))):(r&&(e.watchAll=!0),n),K_=t=>Ur(t)||!rj(t);function Za(t,e,n=new WeakSet){if(K_(t)||K_(e))return t===e;if(gl(t)&&gl(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=e[s];if(gl(a)&&gl(l)||Nn(a)&&Nn(l)||Array.isArray(a)&&Array.isArray(l)?!Za(a,l,n):a!==l)return!1}}return!0}var OQ=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Gd=t=>Array.isArray(t)?t:[t],XD=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function ij(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],s=e[r];if(i&&Nn(i)&&s){const a=ij(i,s);Nn(a)&&(n[r]=a)}else t[r]&&(n[r]=s)}return n}var Lr=t=>Nn(t)&&!Object.keys(t).length,OS=t=>t.type==="file",Wi=t=>typeof t=="function",Wp=t=>{if(!AS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},sj=t=>t.type==="select-multiple",MS=t=>t.type==="radio",MQ=t=>MS(t)||Vf(t),x0=t=>Wp(t)&&t.isConnected;function kQ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=xn(t)?r++:t[e[r++]];return t}function NQ(t){for(const e in t)if(t.hasOwnProperty(e)&&!xn(t[e]))return!1;return!0}function Mn(t,e){const n=Array.isArray(e)?e:Zm(e)?[e]:DS(e),r=n.length===1?t:kQ(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Nn(r)&&Lr(r)||Array.isArray(r)&&NQ(r))&&Mn(t,n.slice(0,-1)),t}var IQ=t=>{for(const e in t)if(Wi(t[e]))return!0;return!1};function aj(t){return Array.isArray(t)||Nn(t)&&!IQ(t)}function Q_(t,e={}){for(const n in t)aj(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Q_(t[n],e[n])):xn(t[n])||(e[n]=!0);return e}function Vc(t,e,n){n||(n=Q_(e));for(const r in t)aj(t[r])?xn(e)||K_(n[r])?n[r]=Q_(t[r],Array.isArray(t[r])?[]:{}):Vc(t[r],Ur(e)?{}:e[r],n[r]):n[r]=!Za(t[r],e[r]);return n}const ZD={value:!1,isValid:!1},JD={value:!0,isValid:!0};var oj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!xn(t[0].attributes.value)?xn(t[0].value)||t[0].value===""?JD:{value:t[0].value,isValid:!0}:JD:ZD}return ZD},lj=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>xn(t)?t:e?t===""?NaN:t&&+t:n&&ai(t)?new Date(t):r?r(t):t;const eO={isValid:!1,value:null};var cj=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,eO):eO;function tO(t){const e=t.ref;return OS(e)?e.files:MS(e)?cj(t.refs).value:sj(e)?[...e.selectedOptions].map(({value:n})=>n):Vf(e)?oj(t.refs).value:lj(xn(e.value)?t.ref.value:e.value,t)}var PQ=(t,e,n,r)=>{const i={};for(const s of t){const a=Me(e,s);a&&cn(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Gp=t=>t instanceof RegExp,Dd=t=>xn(t)?t:Gp(t)?t.source:Nn(t)?Gp(t.value)?t.value.source:t.value:t,nO=t=>({isOnSubmit:!t||t===qi.onSubmit,isOnBlur:t===qi.onBlur,isOnChange:t===qi.onChange,isOnAll:t===qi.all,isOnTouch:t===qi.onTouched});const rO="AsyncFunction";var jQ=t=>!!t&&!!t.validate&&!!(Wi(t.validate)&&t.validate.constructor.name===rO||Nn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===rO)),LQ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),iO=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Yd=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Me(t,i);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Yd(l,e))break}else if(Nn(l)&&Yd(l,e))break}}};function sO(t,e,n){const r=Me(t,n);if(r||Zm(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=Me(e,s),l=Me(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var FQ=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Lr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||qi.all))},UQ=(t,e,n)=>!t||!e||t===e||Gd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),zQ=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,HQ=(t,e)=>!RS(Me(t,e)).length&&Mn(t,e),BQ=(t,e,n)=>{const r=Gd(Me(t,n));return cn(r,"root",e[n]),cn(t,n,r),t};function aO(t,e,n="validate"){if(ai(t)||Array.isArray(t)&&t.every(ai)||ms(t)&&!t)return{type:n,message:ai(t)?t:"",ref:e}}var Uc=t=>Nn(t)&&!Gp(t)?t:{value:t,message:""},oO=async(t,e,n,r,i,s)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:h,min:g,max:m,pattern:v,validate:b,name:y,valueAsNumber:S,mount:C}=t._f,T=Me(n,y);if(!C||e.has(y))return{};const A=l?l[0]:a,M=Q=>{i&&A.reportValidity&&(A.setCustomValidity(ms(Q)?"":Q||""),A.reportValidity())},D={},k=MS(a),N=Vf(a),O=k||N,j=(S||OS(a))&&xn(a.value)&&xn(T)||Wp(a)&&a.value===""||T===""||Array.isArray(T)&&!T.length,z=OQ.bind(null,y,r,D),B=(Q,ne,de,ge=Ks.maxLength,P=Ks.minLength)=>{const G=Q?ne:de;D[y]={type:Q?ge:P,message:G,ref:a,...z(Q?ge:P,G)}};if(s?!Array.isArray(T)||!T.length:u&&(!O&&(j||Ur(T))||ms(T)&&!T||N&&!oj(l).isValid||k&&!cj(l).isValid)){const{value:Q,message:ne}=ai(u)?{value:!!u,message:u}:Uc(u);if(Q&&(D[y]={type:Ks.required,message:ne,ref:A,...z(Ks.required,ne)},!r))return M(ne),D}if(!j&&(!Ur(g)||!Ur(m))){let Q,ne;const de=Uc(m),ge=Uc(g);if(!Ur(T)&&!isNaN(T)){const P=a.valueAsNumber||T&&+T;Ur(de.value)||(Q=P>de.value),Ur(ge.value)||(ne=P<ge.value)}else{const P=a.valueAsDate||new Date(T),G=ye=>new Date(new Date().toDateString()+" "+ye),q=a.type=="time",W=a.type=="week";ai(de.value)&&T&&(Q=q?G(T)>G(de.value):W?T>de.value:P>new Date(de.value)),ai(ge.value)&&T&&(ne=q?G(T)<G(ge.value):W?T<ge.value:P<new Date(ge.value))}if((Q||ne)&&(B(!!Q,de.message,ge.message,Ks.max,Ks.min),!r))return M(D[y].message),D}if((d||h)&&!j&&(ai(T)||s&&Array.isArray(T))){const Q=Uc(d),ne=Uc(h),de=!Ur(Q.value)&&T.length>+Q.value,ge=!Ur(ne.value)&&T.length<+ne.value;if((de||ge)&&(B(de,Q.message,ne.message),!r))return M(D[y].message),D}if(v&&!j&&ai(T)){const{value:Q,message:ne}=Uc(v);if(Gp(Q)&&!T.match(Q)&&(D[y]={type:Ks.pattern,message:ne,ref:a,...z(Ks.pattern,ne)},!r))return M(ne),D}if(b){if(Wi(b)){const Q=await b(T,n),ne=aO(Q,A);if(ne&&(D[y]={...ne,...z(Ks.validate,ne.message)},!r))return M(ne.message),D}else if(Nn(b)){let Q={};for(const ne in b){if(!Lr(Q)&&!r)break;const de=aO(await b[ne](T,n),A,ne);de&&(Q={...de,...z(ne,de.message)},M(de.message),r&&(D[y]=Q))}if(!Lr(Q)&&(D[y]={ref:A,...Q},!r))return D}}return M(!0),D};const $Q={mode:qi.onSubmit,reValidateMode:qi.onChange,shouldFocusError:!0};function VQ(t={}){let e={...$Q,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Nn(e.defaultValues)||Nn(e.values)?Yn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Yn(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const m={array:XD(),state:XD()},v=e.criteriaMode===qi.all,b=L=>Y=>{clearTimeout(d),d=setTimeout(L,Y)},y=async L=>{if(!e.disabled&&(h.isValid||g.isValid||L)){const Y=e.resolver?Lr((await N()).errors):await j(r,!0);Y!==n.isValid&&m.state.next({isValid:Y})}},S=(L,Y)=>{!e.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&((L||Array.from(l.mount)).forEach(ee=>{ee&&(Y?cn(n.validatingFields,ee,Y):Mn(n.validatingFields,ee))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Lr(n.validatingFields)}))},C=(L,Y=[],ee,X,se=!0,fe=!0)=>{if(X&&ee&&!e.disabled){if(a.action=!0,fe&&Array.isArray(Me(r,L))){const _e=ee(Me(r,L),X.argA,X.argB);se&&cn(r,L,_e)}if(fe&&Array.isArray(Me(n.errors,L))){const _e=ee(Me(n.errors,L),X.argA,X.argB);se&&cn(n.errors,L,_e),HQ(n.errors,L)}if((h.touchedFields||g.touchedFields)&&fe&&Array.isArray(Me(n.touchedFields,L))){const _e=ee(Me(n.touchedFields,L),X.argA,X.argB);se&&cn(n.touchedFields,L,_e)}(h.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Vc(i,s)),m.state.next({name:L,isDirty:B(L,Y),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else cn(s,L,Y)},T=(L,Y)=>{cn(n.errors,L,Y),m.state.next({errors:n.errors})},A=L=>{n.errors=L,m.state.next({errors:n.errors,isValid:!1})},M=(L,Y,ee,X)=>{const se=Me(r,L);if(se){const fe=Me(s,L,xn(ee)?Me(i,L):ee);xn(fe)||X&&X.defaultChecked||Y?cn(s,L,Y?fe:tO(se._f)):de(L,fe),a.mount&&y()}},D=(L,Y,ee,X,se)=>{let fe=!1,_e=!1;const we={name:L};if(!e.disabled){if(!ee||X){(h.isDirty||g.isDirty)&&(_e=n.isDirty,n.isDirty=we.isDirty=B(),fe=_e!==we.isDirty);const Se=Za(Me(i,L),Y);_e=!!Me(n.dirtyFields,L),Se?Mn(n.dirtyFields,L):cn(n.dirtyFields,L,!0),we.dirtyFields=n.dirtyFields,fe=fe||(h.dirtyFields||g.dirtyFields)&&_e!==!Se}if(ee){const Se=Me(n.touchedFields,L);Se||(cn(n.touchedFields,L,ee),we.touchedFields=n.touchedFields,fe=fe||(h.touchedFields||g.touchedFields)&&Se!==ee)}fe&&se&&m.state.next(we)}return fe?we:{}},k=(L,Y,ee,X)=>{const se=Me(n.errors,L),fe=(h.isValid||g.isValid)&&ms(Y)&&n.isValid!==Y;if(e.delayError&&ee?(u=b(()=>T(L,ee)),u(e.delayError)):(clearTimeout(d),u=null,ee?cn(n.errors,L,ee):Mn(n.errors,L)),(ee?!Za(se,ee):se)||!Lr(X)||fe){const _e={...X,...fe&&ms(Y)?{isValid:Y}:{},errors:n.errors,name:L};n={...n,..._e},m.state.next(_e)}},N=async L=>{S(L,!0);const Y=await e.resolver(s,e.context,PQ(L||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(L),Y},O=async L=>{const{errors:Y}=await N(L);if(L)for(const ee of L){const X=Me(Y,ee);X?cn(n.errors,ee,X):Mn(n.errors,ee)}else n.errors=Y;return Y},j=async(L,Y,ee={valid:!0})=>{for(const X in L){const se=L[X];if(se){const{_f:fe,..._e}=se;if(fe){const we=l.array.has(fe.name),Se=se._f&&jQ(se._f);Se&&h.validatingFields&&S([fe.name],!0);const Ne=await oO(se,l.disabled,s,v,e.shouldUseNativeValidation&&!Y,we);if(Se&&h.validatingFields&&S([fe.name]),Ne[fe.name]&&(ee.valid=!1,Y))break;!Y&&(Me(Ne,fe.name)?we?BQ(n.errors,Ne,fe.name):cn(n.errors,fe.name,Ne[fe.name]):Mn(n.errors,fe.name))}!Lr(_e)&&await j(_e,Y,ee)}}return ee.valid},z=()=>{for(const L of l.unMount){const Y=Me(r,L);Y&&(Y._f.refs?Y._f.refs.every(ee=>!x0(ee)):!x0(Y._f.ref))&&Z(L)}l.unMount=new Set},B=(L,Y)=>!e.disabled&&(L&&Y&&cn(s,L,Y),!Za(ye(),i)),Q=(L,Y,ee)=>DQ(L,l,{...a.mount?s:xn(Y)?i:ai(L)?{[L]:Y}:Y},ee,Y),ne=L=>RS(Me(a.mount?s:i,L,e.shouldUnregister?Me(i,L,[]):[])),de=(L,Y,ee={})=>{const X=Me(r,L);let se=Y;if(X){const fe=X._f;fe&&(!fe.disabled&&cn(s,L,lj(Y,fe)),se=Wp(fe.ref)&&Ur(Y)?"":Y,sj(fe.ref)?[...fe.ref.options].forEach(_e=>_e.selected=se.includes(_e.value)):fe.refs?Vf(fe.ref)?fe.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(se)?_e.checked=!!se.find(we=>we===_e.value):_e.checked=se===_e.value||!!se)}):fe.refs.forEach(_e=>_e.checked=_e.value===se):OS(fe.ref)?fe.ref.value="":(fe.ref.value=se,fe.ref.type||m.state.next({name:L,values:Yn(s)})))}(ee.shouldDirty||ee.shouldTouch)&&D(L,se,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&W(L)},ge=(L,Y,ee)=>{for(const X in Y){if(!Y.hasOwnProperty(X))return;const se=Y[X],fe=L+"."+X,_e=Me(r,fe);(l.array.has(L)||Nn(se)||_e&&!_e._f)&&!gl(se)?ge(fe,se,ee):de(fe,se,ee)}},P=(L,Y,ee={})=>{const X=Me(r,L),se=l.array.has(L),fe=Yn(Y);cn(s,L,fe),se?(m.array.next({name:L,values:Yn(s)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&ee.shouldDirty&&m.state.next({name:L,dirtyFields:Vc(i,s),isDirty:B(L,fe)})):X&&!X._f&&!Ur(fe)?ge(L,fe,ee):de(L,fe,ee),iO(L,l)&&m.state.next({...n,name:L}),m.state.next({name:a.mount?L:void 0,values:Yn(s)})},G=async L=>{a.mount=!0;const Y=L.target;let ee=Y.name,X=!0;const se=Me(r,ee),fe=Se=>{X=Number.isNaN(Se)||gl(Se)&&isNaN(Se.getTime())||Za(Se,Me(s,ee,Se))},_e=nO(e.mode),we=nO(e.reValidateMode);if(se){let Se,Ne;const et=Y.type?tO(se._f):SQ(L),Ye=L.type===QD.BLUR||L.type===QD.FOCUS_OUT,pt=!LQ(se._f)&&!e.resolver&&!Me(n.errors,ee)&&!se._f.deps||zQ(Ye,Me(n.touchedFields,ee),n.isSubmitted,we,_e),lt=iO(ee,l,Ye);cn(s,ee,et),Ye?(!Y||!Y.readOnly)&&(se._f.onBlur&&se._f.onBlur(L),u&&u(0)):se._f.onChange&&se._f.onChange(L);const Vt=D(ee,et,Ye),ct=!Lr(Vt)||lt;if(!Ye&&m.state.next({name:ee,type:L.type,values:Yn(s)}),pt)return(h.isValid||g.isValid)&&(e.mode==="onBlur"?Ye&&y():Ye||y()),ct&&m.state.next({name:ee,...lt?{}:Vt});if(!Ye&&lt&&m.state.next({...n}),e.resolver){const{errors:We}=await N([ee]);if(fe(et),X){const _n=sO(n.errors,r,ee),rt=sO(We,r,_n.name||ee);Se=rt.error,ee=rt.name,Ne=Lr(We)}}else S([ee],!0),Se=(await oO(se,l.disabled,s,v,e.shouldUseNativeValidation))[ee],S([ee]),fe(et),X&&(Se?Ne=!1:(h.isValid||g.isValid)&&(Ne=await j(r,!0)));X&&(se._f.deps&&(!Array.isArray(se._f.deps)||se._f.deps.length>0)&&W(se._f.deps),k(ee,Ne,Se,Vt))}},q=(L,Y)=>{if(Me(n.errors,Y)&&L.focus)return L.focus(),1},W=async(L,Y={})=>{let ee,X;const se=Gd(L);if(e.resolver){const fe=await O(xn(L)?L:se);ee=Lr(fe),X=L?!se.some(_e=>Me(fe,_e)):ee}else L?(X=(await Promise.all(se.map(async fe=>{const _e=Me(r,fe);return await j(_e&&_e._f?{[fe]:_e}:_e)}))).every(Boolean),!(!X&&!n.isValid)&&y()):X=ee=await j(r);return m.state.next({...!ai(L)||(h.isValid||g.isValid)&&ee!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:ee}:{},errors:n.errors}),Y.shouldFocus&&!X&&Yd(r,q,L?se:l.mount),X},ye=(L,Y)=>{let ee={...a.mount?s:i};return Y&&(ee=ij(Y.dirtyFields?n.dirtyFields:n.touchedFields,ee)),xn(L)?ee:ai(L)?Me(ee,L):L.map(X=>Me(ee,X))},F=(L,Y)=>({invalid:!!Me((Y||n).errors,L),isDirty:!!Me((Y||n).dirtyFields,L),error:Me((Y||n).errors,L),isValidating:!!Me(n.validatingFields,L),isTouched:!!Me((Y||n).touchedFields,L)}),te=L=>{L&&Gd(L).forEach(Y=>Mn(n.errors,Y)),m.state.next({errors:L?n.errors:{}})},V=(L,Y,ee)=>{const X=(Me(r,L,{_f:{}})._f||{}).ref,se=Me(n.errors,L)||{},{ref:fe,message:_e,type:we,...Se}=se;cn(n.errors,L,{...Se,...Y,ref:X}),m.state.next({name:L,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&X&&X.focus&&X.focus()},J=(L,Y)=>Wi(L)?m.state.subscribe({next:ee=>"values"in ee&&L(Q(void 0,Y),ee)}):Q(L,Y,!0),ue=L=>m.state.subscribe({next:Y=>{UQ(L.name,Y.name,L.exact)&&FQ(Y,L.formState||h,kt,L.reRenderRoot)&&L.callback({values:{...s},...n,...Y,defaultValues:i})}}).unsubscribe,me=L=>(a.mount=!0,g={...g,...L.formState},ue({...L,formState:g})),Z=(L,Y={})=>{for(const ee of L?Gd(L):l.mount)l.mount.delete(ee),l.array.delete(ee),Y.keepValue||(Mn(r,ee),Mn(s,ee)),!Y.keepError&&Mn(n.errors,ee),!Y.keepDirty&&Mn(n.dirtyFields,ee),!Y.keepTouched&&Mn(n.touchedFields,ee),!Y.keepIsValidating&&Mn(n.validatingFields,ee),!e.shouldUnregister&&!Y.keepDefaultValue&&Mn(i,ee);m.state.next({values:Yn(s)}),m.state.next({...n,...Y.keepDirty?{isDirty:B()}:{}}),!Y.keepIsValid&&y()},pe=({disabled:L,name:Y})=>{(ms(L)&&a.mount||L||l.disabled.has(Y))&&(L?l.disabled.add(Y):l.disabled.delete(Y))},Ce=(L,Y={})=>{let ee=Me(r,L);const X=ms(Y.disabled)||ms(e.disabled);return cn(r,L,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:L}},name:L,mount:!0,...Y}}),l.mount.add(L),ee?pe({disabled:ms(Y.disabled)?Y.disabled:e.disabled,name:L}):M(L,!0,Y.value),{...X?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:Dd(Y.min),max:Dd(Y.max),minLength:Dd(Y.minLength),maxLength:Dd(Y.maxLength),pattern:Dd(Y.pattern)}:{},name:L,onChange:G,onBlur:G,ref:se=>{if(se){Ce(L,Y),ee=Me(r,L);const fe=xn(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,_e=MQ(fe),we=ee._f.refs||[];if(_e?we.find(Se=>Se===fe):fe===ee._f.ref)return;cn(r,L,{_f:{...ee._f,..._e?{refs:[...we.filter(x0),fe,...Array.isArray(Me(i,L))?[{}]:[]],ref:{type:fe.type,name:L}}:{ref:fe}}}),M(L,!1,void 0,fe)}else ee=Me(r,L,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(EQ(l.array,L)&&a.action)&&l.unMount.add(L)}}},Te=()=>e.shouldFocusError&&Yd(r,q,l.mount),Le=L=>{ms(L)&&(m.state.next({disabled:L}),Yd(r,(Y,ee)=>{const X=Me(r,ee);X&&(Y.disabled=X._f.disabled||L,Array.isArray(X._f.refs)&&X._f.refs.forEach(se=>{se.disabled=X._f.disabled||L}))},0,!1))},He=(L,Y)=>async ee=>{let X;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let se=Yn(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:fe,values:_e}=await N();n.errors=fe,se=Yn(_e)}else await j(r);if(l.disabled.size)for(const fe of l.disabled)Mn(se,fe);if(Mn(n.errors,"root"),Lr(n.errors)){m.state.next({errors:{}});try{await L(se,ee)}catch(fe){X=fe}}else Y&&await Y({...n.errors},ee),Te(),setTimeout(Te);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lr(n.errors)&&!X,submitCount:n.submitCount+1,errors:n.errors}),X)throw X},$t=(L,Y={})=>{Me(r,L)&&(xn(Y.defaultValue)?P(L,Yn(Me(i,L))):(P(L,Y.defaultValue),cn(i,L,Yn(Y.defaultValue))),Y.keepTouched||Mn(n.touchedFields,L),Y.keepDirty||(Mn(n.dirtyFields,L),n.isDirty=Y.defaultValue?B(L,Yn(Me(i,L))):B()),Y.keepError||(Mn(n.errors,L),h.isValid&&y()),m.state.next({...n}))},xe=(L,Y={})=>{const ee=L?Yn(L):i,X=Yn(ee),se=Lr(L),fe=se?i:X;if(Y.keepDefaultValues||(i=ee),!Y.keepValues){if(Y.keepDirtyValues){const _e=new Set([...l.mount,...Object.keys(Vc(i,s))]);for(const we of Array.from(_e))Me(n.dirtyFields,we)?cn(fe,we,Me(s,we)):P(we,Me(fe,we))}else{if(AS&&xn(L))for(const _e of l.mount){const we=Me(r,_e);if(we&&we._f){const Se=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(Wp(Se)){const Ne=Se.closest("form");if(Ne){Ne.reset();break}}}}if(Y.keepFieldsRef)for(const _e of l.mount)P(_e,Me(fe,_e));else r={}}s=e.shouldUnregister?Y.keepDefaultValues?Yn(i):{}:Yn(fe),m.array.next({values:{...fe}}),m.state.next({values:{...fe}})}l={mount:Y.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:Y.keepSubmitCount?n.submitCount:0,isDirty:se?!1:Y.keepDirty?n.isDirty:!!(Y.keepDefaultValues&&!Za(L,i)),isSubmitted:Y.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:se?{}:Y.keepDirtyValues?Y.keepDefaultValues&&s?Vc(i,s):n.dirtyFields:Y.keepDefaultValues&&L?Vc(i,L):Y.keepDirty?n.dirtyFields:{},touchedFields:Y.keepTouched?n.touchedFields:{},errors:Y.keepErrors?n.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},$e=(L,Y)=>xe(Wi(L)?L(s):L,Y),Ze=(L,Y={})=>{const ee=Me(r,L),X=ee&&ee._f;if(X){const se=X.refs?X.refs[0]:X.ref;se.focus&&(se.focus(),Y.shouldSelect&&Wi(se.select)&&se.select())}},kt=L=>{n={...n,...L}},Je={control:{register:Ce,unregister:Z,getFieldState:F,handleSubmit:He,setError:V,_subscribe:ue,_runSchema:N,_focusError:Te,_getWatch:Q,_getDirty:B,_setValid:y,_setFieldArray:C,_setDisabledField:pe,_setErrors:A,_getFieldArray:ne,_reset:xe,_resetDefaultValues:()=>Wi(e.defaultValues)&&e.defaultValues().then(L=>{$e(L,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Le,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(L){a=L},get _defaultValues(){return i},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:me,trigger:W,register:Ce,handleSubmit:He,watch:J,setValue:P,getValues:ye,reset:$e,resetField:$t,clearErrors:te,unregister:Z,setError:V,setFocus:Ze,getFieldState:F};return{...Je,formControl:Je}}function qQ(t={}){const e=le.useRef(void 0),n=le.useRef(void 0),[r,i]=le.useState({isDirty:!1,isValidating:!1,isLoading:Wi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Wi(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Wi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=VQ(t);e.current={...l,formState:r}}const s=e.current.control;return s._options=t,RQ(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),le.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),le.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),le.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),le.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),le.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),le.useEffect(()=>{t.values&&!Za(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),le.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=AQ(r,s),e.current}var Jm="Dialog",[uj]=So(Jm),[WQ,rs]=uj(Jm),dj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=E.useRef(null),u=E.useRef(null),[d,h]=gf({prop:r,defaultProp:i??!1,onChange:s,caller:Jm});return w.jsx(WQ,{scope:e,triggerRef:l,contentRef:u,contentId:oa(),titleId:oa(),descriptionId:oa(),open:d,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(g=>!g),[h]),modal:a,children:n})};dj.displayName=Jm;var fj="DialogTrigger",GQ=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(fj,n),s=Yt(e,i.triggerRef);return w.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":IS(i.open),...r,ref:s,onClick:Pe(t.onClick,i.onOpenToggle)})});GQ.displayName=fj;var kS="DialogPortal",[YQ,hj]=uj(kS,{forceMount:void 0}),gj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=rs(kS,e);return w.jsx(YQ,{scope:e,forceMount:n,children:E.Children.map(r,a=>w.jsx(xo,{present:n||s.open,children:w.jsx(Hm,{asChild:!0,container:i,children:a})}))})};gj.displayName=kS;var Yp="DialogOverlay",pj=E.forwardRef((t,e)=>{const n=hj(Yp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=rs(Yp,t.__scopeDialog);return s.modal?w.jsx(xo,{present:r||s.open,children:w.jsx(QQ,{...i,ref:e})}):null});pj.displayName=Yp;var KQ=Sl("DialogOverlay.RemoveScroll"),QQ=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(Yp,n);return w.jsx($m,{as:KQ,allowPinchZoom:!0,shards:[i.contentRef],children:w.jsx(ot.div,{"data-state":IS(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cl="DialogContent",mj=E.forwardRef((t,e)=>{const n=hj(Cl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=rs(Cl,t.__scopeDialog);return w.jsx(xo,{present:r||s.open,children:s.modal?w.jsx(XQ,{...i,ref:e}):w.jsx(ZQ,{...i,ref:e})})});mj.displayName=Cl;var XQ=E.forwardRef((t,e)=>{const n=rs(Cl,t.__scopeDialog),r=E.useRef(null),i=Yt(e,n.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return fS(s)},[]),w.jsx(vj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Pe(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:Pe(t.onFocusOutside,s=>s.preventDefault())})}),ZQ=E.forwardRef((t,e)=>{const n=rs(Cl,t.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return w.jsx(vj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),vj=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=rs(Cl,n),u=E.useRef(null),d=Yt(e,u);return rS(),w.jsxs(w.Fragment,{children:[w.jsx(Pm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:w.jsx(Im,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":IS(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(JQ,{titleId:l.titleId}),w.jsx(tX,{contentRef:u,descriptionId:l.descriptionId})]})]})}),NS="DialogTitle",yj=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(NS,n);return w.jsx(ot.h2,{id:i.titleId,...r,ref:e})});yj.displayName=NS;var bj="DialogDescription",_j=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(bj,n);return w.jsx(ot.p,{id:i.descriptionId,...r,ref:e})});_j.displayName=bj;var wj="DialogClose",Sj=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(wj,n);return w.jsx(ot.button,{type:"button",...r,ref:e,onClick:Pe(t.onClick,()=>i.onOpenChange(!1))})});Sj.displayName=wj;function IS(t){return t?"open":"closed"}var xj="DialogTitleWarning",[pde,Ej]=H6(xj,{contentName:Cl,titleName:NS,docsSlug:"dialog"}),JQ=({titleId:t})=>{const e=Ej(xj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},eX="DialogDescriptionWarning",tX=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ej(eX).contentName}}.`;return E.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},nX=dj,rX=gj,Cj=pj,Tj=mj,Aj=yj,Rj=_j,iX=Sj;const sX=nX,aX=rX,Dj=E.forwardRef(({className:t,...e},n)=>w.jsx(Cj,{ref:n,className:at("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Dj.displayName=Cj.displayName;const Oj=E.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(aX,{children:[w.jsx(Dj,{}),w.jsxs(Tj,{ref:r,className:at("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-2 border bg-background p-1 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,w.jsxs(iX,{className:"absolute right-2 top-1 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[w.jsx(P6,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oj.displayName=Tj.displayName;const Mj=({className:t,...e})=>w.jsx("div",{className:at("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mj.displayName="DialogHeader";const kj=({className:t,...e})=>w.jsx("div",{className:at("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});kj.displayName="DialogFooter";const Nj=E.forwardRef(({className:t,...e},n)=>w.jsx(Aj,{ref:n,className:at("text-[10px] font-semibold leading-none tracking-tight",t),...e}));Nj.displayName=Aj.displayName;const Ij=E.forwardRef(({className:t,...e},n)=>w.jsx(Rj,{ref:n,className:at("text-[10px] text-muted-foreground",t),...e}));Ij.displayName=Rj.displayName;const Qn=E.forwardRef(({className:t,type:e,...n},r)=>w.jsx("input",{type:e,className:at("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Qn.displayName="Input";var oX="Label",Pj=E.forwardRef((t,e)=>w.jsx(ot.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Pj.displayName=oX;var jj=Pj;const lX=vP("text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),hr=E.forwardRef(({className:t,...e},n)=>w.jsx(jj,{ref:n,className:at(lX(),t),...e}));hr.displayName=jj.displayName;function lO(t,[e,n]){return Math.min(n,Math.max(e,t))}function cX(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Lj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uX="VisuallyHidden",dX=E.forwardRef((t,e)=>w.jsx(ot.span,{...t,ref:e,style:{...Lj,...t.style}}));dX.displayName=uX;var fX=[" ","Enter","ArrowUp","ArrowDown"],hX=[" ","Enter"],Tl="Select",[ev,tv,gX]=tS(Tl),[Ru]=So(Tl,[gX,zm]),nv=zm(),[pX,To]=Ru(Tl),[mX,vX]=Ru(Tl),Fj=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:g,disabled:m,required:v,form:b}=t,y=nv(e),[S,C]=E.useState(null),[T,A]=E.useState(null),[M,D]=E.useState(!1),k=nS(d),[N,O]=gf({prop:r,defaultProp:i??!1,onChange:s,caller:Tl}),[j,z]=gf({prop:a,defaultProp:l,onChange:u,caller:Tl}),B=E.useRef(null),Q=S?b||!!S.closest("form"):!0,[ne,de]=E.useState(new Set),ge=Array.from(ne).map(P=>P.props.value).join(";");return w.jsx(aI,{...y,children:w.jsxs(pX,{required:v,scope:e,trigger:S,onTriggerChange:C,valueNode:T,onValueNodeChange:A,valueNodeHasChildren:M,onValueNodeHasChildrenChange:D,contentId:oa(),value:j,onValueChange:z,open:N,onOpenChange:O,dir:k,triggerPointerDownPosRef:B,disabled:m,children:[w.jsx(ev.Provider,{scope:e,children:w.jsx(mX,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(P=>{de(G=>new Set(G).add(P))},[]),onNativeOptionRemove:E.useCallback(P=>{de(G=>{const q=new Set(G);return q.delete(P),q})},[]),children:n})}),Q?w.jsxs(l2,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:g,value:j,onChange:P=>z(P.target.value),disabled:m,form:b,children:[j===void 0?w.jsx("option",{value:""}):null,Array.from(ne)]},ge):null]})})};Fj.displayName=Tl;var Uj="SelectTrigger",zj=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=nv(n),a=To(Uj,n),l=a.disabled||r,u=Yt(e,a.onTriggerChange),d=tv(n),h=E.useRef("touch"),[g,m,v]=u2(y=>{const S=d().filter(A=>!A.disabled),C=S.find(A=>A.value===a.value),T=d2(S,y,C);T!==void 0&&a.onValueChange(T.value)}),b=y=>{l||(a.onOpenChange(!0),v()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return w.jsx(oI,{asChild:!0,...s,children:w.jsx(ot.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":c2(a.value)?"":void 0,...i,ref:u,onClick:Pe(i.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&b(y)}),onPointerDown:Pe(i.onPointerDown,y=>{h.current=y.pointerType;const S=y.target;S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:Pe(i.onKeyDown,y=>{const S=g.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(S&&y.key===" ")&&fX.includes(y.key)&&(b(),y.preventDefault())})})})});zj.displayName=Uj;var Hj="SelectValue",Bj=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=t,u=To(Hj,n),{onValueNodeHasChildrenChange:d}=u,h=s!==void 0,g=Yt(e,u.onValueNodeChange);return qn(()=>{d(h)},[d,h]),w.jsx(ot.span,{...l,ref:g,style:{pointerEvents:"none"},children:c2(u.value)?w.jsx(w.Fragment,{children:a}):s})});Bj.displayName=Hj;var yX="SelectIcon",$j=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return w.jsx(ot.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});$j.displayName=yX;var bX="SelectPortal",Vj=t=>w.jsx(Hm,{asChild:!0,...t});Vj.displayName=bX;var Al="SelectContent",qj=E.forwardRef((t,e)=>{const n=To(Al,t.__scopeSelect),[r,i]=E.useState();if(qn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?oi.createPortal(w.jsx(Wj,{scope:t.__scopeSelect,children:w.jsx(ev.Slot,{scope:t.__scopeSelect,children:w.jsx("div",{children:t.children})})}),s):null}return w.jsx(Gj,{...t,ref:e})});qj.displayName=Al;var Hi=10,[Wj,Ao]=Ru(Al),_X="SelectContentImpl",wX=Sl("SelectContent.RemoveScroll"),Gj=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:y,avoidCollisions:S,...C}=t,T=To(Al,n),[A,M]=E.useState(null),[D,k]=E.useState(null),N=Yt(e,Z=>M(Z)),[O,j]=E.useState(null),[z,B]=E.useState(null),Q=tv(n),[ne,de]=E.useState(!1),ge=E.useRef(!1);E.useEffect(()=>{if(A)return fS(A)},[A]),rS();const P=E.useCallback(Z=>{const[pe,...Ce]=Q().map(He=>He.ref.current),[Te]=Ce.slice(-1),Le=document.activeElement;for(const He of Z)if(He===Le||(He?.scrollIntoView({block:"nearest"}),He===pe&&D&&(D.scrollTop=0),He===Te&&D&&(D.scrollTop=D.scrollHeight),He?.focus(),document.activeElement!==Le))return},[Q,D]),G=E.useCallback(()=>P([O,A]),[P,O,A]);E.useEffect(()=>{ne&&G()},[ne,G]);const{onOpenChange:q,triggerPointerDownPosRef:W}=T;E.useEffect(()=>{if(A){let Z={x:0,y:0};const pe=Te=>{Z={x:Math.abs(Math.round(Te.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(Te.pageY)-(W.current?.y??0))}},Ce=Te=>{Z.x<=10&&Z.y<=10?Te.preventDefault():A.contains(Te.target)||q(!1),document.removeEventListener("pointermove",pe),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[A,q,W]),E.useEffect(()=>{const Z=()=>q(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[q]);const[ye,F]=u2(Z=>{const pe=Q().filter(Le=>!Le.disabled),Ce=pe.find(Le=>Le.ref.current===document.activeElement),Te=d2(pe,Z,Ce);Te&&setTimeout(()=>Te.ref.current.focus())}),te=E.useCallback((Z,pe,Ce)=>{const Te=!ge.current&&!Ce;(T.value!==void 0&&T.value===pe||Te)&&(j(Z),Te&&(ge.current=!0))},[T.value]),V=E.useCallback(()=>A?.focus(),[A]),J=E.useCallback((Z,pe,Ce)=>{const Te=!ge.current&&!Ce;(T.value!==void 0&&T.value===pe||Te)&&B(Z)},[T.value]),ue=r==="popper"?X_:Yj,me=ue===X_?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:y,avoidCollisions:S}:{};return w.jsx(Wj,{scope:n,content:A,viewport:D,onViewportChange:k,itemRefCallback:te,selectedItem:O,onItemLeave:V,itemTextRefCallback:J,focusSelectedItem:G,selectedItemText:z,position:r,isPositioned:ne,searchRef:ye,children:w.jsx($m,{as:wX,allowPinchZoom:!0,children:w.jsx(Pm,{asChild:!0,trapped:T.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Pe(i,Z=>{T.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:w.jsx(Im,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:w.jsx(ue,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:Z=>Z.preventDefault(),...C,...me,onPlaced:()=>de(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Pe(C.onKeyDown,Z=>{const pe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!pe&&Z.key.length===1&&F(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let Te=Q().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Le=Z.target,He=Te.indexOf(Le);Te=Te.slice(He+1)}setTimeout(()=>P(Te)),Z.preventDefault()}})})})})})})});Gj.displayName=_X;var SX="SelectItemAlignedPosition",Yj=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=To(Al,n),a=Ao(Al,n),[l,u]=E.useState(null),[d,h]=E.useState(null),g=Yt(e,N=>h(N)),m=tv(n),v=E.useRef(!1),b=E.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:C,focusSelectedItem:T}=a,A=E.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&y&&S&&C){const N=s.trigger.getBoundingClientRect(),O=d.getBoundingClientRect(),j=s.valueNode.getBoundingClientRect(),z=C.getBoundingClientRect();if(s.dir!=="rtl"){const Le=z.left-O.left,He=j.left-Le,$t=N.left-He,xe=N.width+$t,$e=Math.max(xe,O.width),Ze=window.innerWidth-Hi,kt=lO(He,[Hi,Math.max(Hi,Ze-$e)]);l.style.minWidth=xe+"px",l.style.left=kt+"px"}else{const Le=O.right-z.right,He=window.innerWidth-j.right-Le,$t=window.innerWidth-N.right-He,xe=N.width+$t,$e=Math.max(xe,O.width),Ze=window.innerWidth-Hi,kt=lO(He,[Hi,Math.max(Hi,Ze-$e)]);l.style.minWidth=xe+"px",l.style.right=kt+"px"}const B=m(),Q=window.innerHeight-Hi*2,ne=y.scrollHeight,de=window.getComputedStyle(d),ge=parseInt(de.borderTopWidth,10),P=parseInt(de.paddingTop,10),G=parseInt(de.borderBottomWidth,10),q=parseInt(de.paddingBottom,10),W=ge+P+ne+q+G,ye=Math.min(S.offsetHeight*5,W),F=window.getComputedStyle(y),te=parseInt(F.paddingTop,10),V=parseInt(F.paddingBottom,10),J=N.top+N.height/2-Hi,ue=Q-J,me=S.offsetHeight/2,Z=S.offsetTop+me,pe=ge+P+Z,Ce=W-pe;if(pe<=J){const Le=B.length>0&&S===B[B.length-1].ref.current;l.style.bottom="0px";const He=d.clientHeight-y.offsetTop-y.offsetHeight,$t=Math.max(ue,me+(Le?V:0)+He+G),xe=pe+$t;l.style.height=xe+"px"}else{const Le=B.length>0&&S===B[0].ref.current;l.style.top="0px";const $t=Math.max(J,ge+y.offsetTop+(Le?te:0)+me)+Ce;l.style.height=$t+"px",y.scrollTop=pe-J+y.offsetTop}l.style.margin=`${Hi}px 0`,l.style.minHeight=ye+"px",l.style.maxHeight=Q+"px",r?.(),requestAnimationFrame(()=>v.current=!0)}},[m,s.trigger,s.valueNode,l,d,y,S,C,s.dir,r]);qn(()=>A(),[A]);const[M,D]=E.useState();qn(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const k=E.useCallback(N=>{N&&b.current===!0&&(A(),T?.(),b.current=!1)},[A,T]);return w.jsx(EX,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:w.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:w.jsx(ot.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Yj.displayName=SX;var xX="SelectPopperPosition",X_=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Hi,...s}=t,a=nv(n);return w.jsx(lI,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});X_.displayName=xX;var[EX,PS]=Ru(Al,{}),Z_="SelectViewport",Kj=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ao(Z_,n),a=PS(Z_,n),l=Yt(e,s.onViewportChange),u=E.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),w.jsx(ev.Slot,{scope:n,children:w.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Pe(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:m}=a;if(m?.current&&g){const v=Math.abs(u.current-h.scrollTop);if(v>0){const b=window.innerHeight-Hi*2,y=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),C=Math.max(y,S);if(C<b){const T=C+v,A=Math.min(b,T),M=T-A;g.style.height=A+"px",g.style.bottom==="0px"&&(h.scrollTop=M>0?M:0,g.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});Kj.displayName=Z_;var Qj="SelectGroup",[CX,TX]=Ru(Qj),AX=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=oa();return w.jsx(CX,{scope:n,id:i,children:w.jsx(ot.div,{role:"group","aria-labelledby":i,...r,ref:e})})});AX.displayName=Qj;var Xj="SelectLabel",Zj=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=TX(Xj,n);return w.jsx(ot.div,{id:i.id,...r,ref:e})});Zj.displayName=Xj;var Kp="SelectItem",[RX,Jj]=Ru(Kp),e2=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,l=To(Kp,n),u=Ao(Kp,n),d=l.value===r,[h,g]=E.useState(s??""),[m,v]=E.useState(!1),b=Yt(e,T=>u.itemRefCallback?.(T,r,i)),y=oa(),S=E.useRef("touch"),C=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx(RX,{scope:n,value:r,disabled:i,textId:y,isSelected:d,onItemTextChange:E.useCallback(T=>{g(A=>A||(T?.textContent??"").trim())},[]),children:w.jsx(ev.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:w.jsx(ot.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:b,onFocus:Pe(a.onFocus,()=>v(!0)),onBlur:Pe(a.onBlur,()=>v(!1)),onClick:Pe(a.onClick,()=>{S.current!=="mouse"&&C()}),onPointerUp:Pe(a.onPointerUp,()=>{S.current==="mouse"&&C()}),onPointerDown:Pe(a.onPointerDown,T=>{S.current=T.pointerType}),onPointerMove:Pe(a.onPointerMove,T=>{S.current=T.pointerType,i?u.onItemLeave?.():S.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(a.onPointerLeave,T=>{T.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Pe(a.onKeyDown,T=>{u.searchRef?.current!==""&&T.key===" "||(hX.includes(T.key)&&C(),T.key===" "&&T.preventDefault())})})})})});e2.displayName=Kp;var Fd="SelectItemText",t2=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=To(Fd,n),l=Ao(Fd,n),u=Jj(Fd,n),d=vX(Fd,n),[h,g]=E.useState(null),m=Yt(e,C=>g(C),u.onItemTextChange,C=>l.itemTextRefCallback?.(C,u.value,u.disabled)),v=h?.textContent,b=E.useMemo(()=>w.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=d;return qn(()=>(y(b),()=>S(b)),[y,S,b]),w.jsxs(w.Fragment,{children:[w.jsx(ot.span,{id:u.textId,...s,ref:m}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?oi.createPortal(s.children,a.valueNode):null]})});t2.displayName=Fd;var n2="SelectItemIndicator",r2=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Jj(n2,n).isSelected?w.jsx(ot.span,{"aria-hidden":!0,...r,ref:e}):null});r2.displayName=n2;var J_="SelectScrollUpButton",i2=E.forwardRef((t,e)=>{const n=Ao(J_,t.__scopeSelect),r=PS(J_,t.__scopeSelect),[i,s]=E.useState(!1),a=Yt(e,r.onScrollButtonChange);return qn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;s(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?w.jsx(a2,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});i2.displayName=J_;var ew="SelectScrollDownButton",s2=E.forwardRef((t,e)=>{const n=Ao(ew,t.__scopeSelect),r=PS(ew,t.__scopeSelect),[i,s]=E.useState(!1),a=Yt(e,r.onScrollButtonChange);return qn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;s(h)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?w.jsx(a2,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});s2.displayName=ew;var a2=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ao("SelectScrollButton",n),a=E.useRef(null),l=tv(n),u=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>u(),[u]),qn(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),w.jsx(ot.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Pe(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Pe(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Pe(i.onPointerLeave,()=>{u()})})}),DX="SelectSeparator",o2=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return w.jsx(ot.div,{"aria-hidden":!0,...r,ref:e})});o2.displayName=DX;var tw="SelectArrow",OX=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=nv(n),s=To(tw,n),a=Ao(tw,n);return s.open&&a.position==="popper"?w.jsx(cI,{...i,...r,ref:e}):null});OX.displayName=tw;var MX="SelectBubbleInput",l2=E.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=E.useRef(null),s=Yt(r,i),a=cX(e);return E.useEffect(()=>{const l=i.current;if(!l)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==e&&h){const g=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(g)}},[a,e]),w.jsx(ot.select,{...n,style:{...Lj,...n.style},ref:s,defaultValue:e})});l2.displayName=MX;function c2(t){return t===""||t===void 0}function u2(t){const e=Xi(t),n=E.useRef(""),r=E.useRef(0),i=E.useCallback(a=>{const l=n.current+a;e(l),(function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),s=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function d2(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=kX(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function kX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var NX=Fj,f2=zj,IX=Bj,PX=$j,jX=Vj,h2=qj,LX=Kj,g2=Zj,p2=e2,FX=t2,UX=r2,m2=i2,v2=s2,y2=o2;const b2=NX,_2=IX,jS=E.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(f2,{ref:r,className:at("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,w.jsx(PX,{asChild:!0,children:w.jsx(kN,{className:"h-4 w-4 opacity-50"})})]}));jS.displayName=f2.displayName;const w2=E.forwardRef(({className:t,...e},n)=>w.jsx(m2,{ref:n,className:at("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(g6,{className:"h-4 w-4"})}));w2.displayName=m2.displayName;const S2=E.forwardRef(({className:t,...e},n)=>w.jsx(v2,{ref:n,className:at("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(kN,{className:"h-4 w-4"})}));S2.displayName=v2.displayName;const LS=E.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>w.jsx(jX,{children:w.jsxs(h2,{ref:i,className:at("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[w.jsx(w2,{}),w.jsx(LX,{className:at("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),w.jsx(S2,{})]})}));LS.displayName=h2.displayName;const zX=E.forwardRef(({className:t,...e},n)=>w.jsx(g2,{ref:n,className:at("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));zX.displayName=g2.displayName;const Kd=E.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(p2,{ref:r,className:at("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(UX,{children:w.jsx(c6,{className:"h-4 w-4"})})}),w.jsx(FX,{children:e})]}));Kd.displayName=p2.displayName;const HX=E.forwardRef(({className:t,...e},n)=>w.jsx(y2,{ref:n,className:at("-mx-1 my-1 h-px bg-muted",t),...e}));HX.displayName=y2.displayName;const cO=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i,confirmText:s="Elimina",cancelText:a="Annulla",type:l="danger",customButtons:u=null})=>{if(!t)return null;const d=()=>{switch(l){case"danger":return"destructive";case"warning":return"secondary";case"info":return"default";default:return"destructive"}};return w.jsx(sX,{open:t,onOpenChange:i,children:w.jsxs(Oj,{className:"sm:max-w-[425px]",children:[w.jsxs(Mj,{children:[w.jsx(Nj,{children:e}),w.jsx(Ij,{children:n})]}),w.jsx(kj,{children:u?u.map((h,g)=>w.jsx(Xt,{onClick:h.onClick,variant:h.variant||"secondary",children:h.text},g)):w.jsxs(w.Fragment,{children:[w.jsx(Xt,{variant:"outline",onClick:i,children:a}),w.jsx(Xt,{variant:d(),onClick:r,children:s})]})})]})})},Zr=E.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:at("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Zr.displayName="Card";const Jr=E.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:at("flex flex-col space-y-1.5 p-6",t),...e}));Jr.displayName="CardHeader";const ei=E.forwardRef(({className:t,...e},n)=>w.jsx("h3",{ref:n,className:at("text-2xl font-semibold leading-none tracking-tight",t),...e}));ei.displayName="CardTitle";const BX=E.forwardRef(({className:t,...e},n)=>w.jsx("p",{ref:n,className:at("text-sm text-muted-foreground",t),...e}));BX.displayName="CardDescription";const ti=E.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:at("p-6 pt-0",t),...e}));ti.displayName="CardContent";const $X=E.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:at("flex items-center p-6 pt-0",t),...e}));$X.displayName="CardFooter";const VX=le.forwardRef(({className:t,...e},n)=>w.jsx("textarea",{className:at("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));VX.displayName="Textarea";function rv({config:t,initialData:e={},onSubmit:n,onSuccess:r,isEditMode:i=!1,isLoading:s=!1,customActions:a=null,customFieldRenderers:l={},className:u="p-1 bg-card rounded-lg shadow-sm border"}){const{handleAsync:d}=As("GenericForm");nj();const h=E.useMemo(()=>{const O={};return t.sections.forEach(j=>{j.fields.forEach(z=>{z.name in e?O[z.name]=e[z.name]:z.defaultValue!==void 0?O[z.name]=z.defaultValue:O[z.name]=""})}),O},[t,e]),{register:g,handleSubmit:m,formState:{isSubmitting:v,errors:b},watch:y,setValue:S,getValues:C,reset:T,clearErrors:A}=qQ({defaultValues:h,mode:"onChange"}),M=async O=>{await d(async()=>{await n(O),r&&r(),T(h)},{context:i?t.editContext:t.addContext,fallbackMessage:i?t.editErrorMessage:t.addErrorMessage})},D=O=>{const j=y(O.name);if(O.conditional&&!O.conditional(j,y,C))return null;if(l[O.type])return l[O.type](O,{watch:y,setValue:S,getValues:C,register:g,isSubmitting:v,fieldValue:j});const z={id:O.name,placeholder:O.placeholder,disabled:O.disabled||v,className:O.className||"",...g(O.name,O.validation||{})};switch(O.type){case"select":return w.jsxs("div",{children:[w.jsxs(b2,{onValueChange:B=>{S(O.name,B,{shouldValidate:!0}),A(O.name)},value:C(O.name)||"",disabled:O.disabled||v,children:[w.jsx(jS,{className:b[O.name]?"border-red-500":"",children:w.jsx(_2,{placeholder:O.placeholder||`Seleziona ${O.label.toLowerCase()}`})}),w.jsx(LS,{children:O.options?.map(B=>w.jsx(Kd,{value:B.value,children:B.label},B.value))})]}),b[O.name]&&w.jsx("p",{className:"text-sm text-destructive mt-1",children:b[O.name].message})]});case"textarea":return w.jsxs("div",{children:[w.jsx("textarea",{...z,rows:O.rows||3,className:`w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent ${O.className||""} ${b[O.name]?"border-destructive":""}`}),b[O.name]&&w.jsx("p",{className:"text-sm text-destructive mt-1",children:b[O.name].message})]});case"checkbox":return w.jsx("div",{className:"flex flex-wrap gap-2",children:O.options?.map(B=>w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("input",{type:"checkbox",id:`${O.name}_${B.value}`,value:B.value,checked:j?.includes(B.value)||!1,onChange:Q=>{const ne=C(O.name)||[];Q.target.checked?S(O.name,[...ne,B.value].sort(),{shouldValidate:!0}):S(O.name,ne.filter(de=>de!==B.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),w.jsx(hr,{htmlFor:`${O.name}_${B.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:B.label})]},B.value))});case"datetime-local":return w.jsxs("div",{children:[w.jsx(Qn,{type:"datetime-local",...z,className:`${z.className} ${b[O.name]?"border-red-500":""}`}),b[O.name]&&w.jsx("p",{className:"text-sm text-destructive mt-1",children:b[O.name].message})]});case"date":return w.jsxs("div",{children:[w.jsx(Qn,{type:"date",...z,className:`${z.className} ${b[O.name]?"border-red-500":""}`}),b[O.name]&&w.jsx("p",{className:"text-sm text-destructive mt-1",children:b[O.name].message})]});case"time":return w.jsxs("div",{children:[w.jsx(Qn,{type:"time",...z,className:`${z.className} ${b[O.name]?"border-red-500":""}`}),b[O.name]&&w.jsx("p",{className:"text-sm text-destructive mt-1",children:b[O.name].message})]});case"number":return w.jsxs("div",{children:[w.jsx(Qn,{type:"number",...z,className:`${z.className} ${b[O.name]?"border-red-500":""}`}),b[O.name]&&w.jsx("p",{className:"text-sm text-destructive mt-1",children:b[O.name].message})]});case"text":default:return w.jsxs("div",{children:[w.jsx(Qn,{type:"text",...z,className:`${z.className} ${b[O.name]?"border-red-500":""}`}),b[O.name]&&w.jsx("p",{className:"text-sm text-destructive mt-1",children:b[O.name].message})]})}},k=O=>{const j=O.fields.filter(z=>!z.conditional||z.conditional(y(z.name),y,C));return j.length===0?null:w.jsxs("div",{className:"space-y-4",children:[w.jsx("h2",{className:"text-lg font-semibold text-foreground",children:O.title}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(z=>w.jsxs("div",{className:"space-y-2",children:[w.jsxs(hr,{htmlFor:z.name,className:"text-sm font-medium text-foreground",children:[z.label," ",z.required&&w.jsx("span",{className:"text-destructive",children:"*"})]}),D(z),z.helpText&&w.jsx("p",{className:"text-xs text-muted-foreground",children:z.helpText})]},z.name))})]},O.title)},N=O=>l[O]?l[O]():null;return w.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm p-6",children:w.jsxs("form",{onSubmit:m(M),noValidate:!0,className:"space-y-6",children:[t.sections.map(k),t.customFields&&Object.keys(t.customFields).map(O=>w.jsx("div",{children:N(O)},O)),a&&w.jsx("div",{className:"space-y-4",children:a}),w.jsx("div",{className:"flex justify-end pt-6 border-t border-border",children:w.jsx(Xt,{type:"submit",disabled:s||v,children:s||v?i?t.editLoadingText:t.addLoadingText:i?t.editButtonText:t.addButtonText})})]})})}const Ci={validationSchema:"MACHINE",addButtonText:"Aggiungi Macchina",editButtonText:"Aggiorna Macchina",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Machine",editContext:"Update Machine",addErrorMessage:"Aggiunta macchina fallita",editErrorMessage:"Aggiornamento macchina fallita",sections:[{title:"Identificazione",fields:[{name:"department",label:"Department",type:"select",required:!0,options:[{value:sn.PRINTING,label:sn.PRINTING},{value:sn.PACKAGING,label:sn.PACKAGING}],defaultValue:rn.MACHINE.DEPARTMENT,validation:{required:"Department is required"}},{name:"machine_type",label:"Machine Type",type:"select",required:!0,placeholder:"Seleziona tipo macchina",options:[],conditional:t=>t===sn.PRINTING||t===sn.PACKAGING,validation:{required:"Machine type is required"}},{name:"machine_name",label:"Machine Name",type:"text",required:!0,placeholder:"Nome descrittivo",validation:{required:"Machine name is required",minLength:{value:2,message:"Machine name must be at least 2 characters"},maxLength:{value:100,message:"Machine name must be at most 100 characters"},pattern:{value:/^[a-zA-Z0-9\s\-_]+$/,message:"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"}}},{name:"work_center",label:"Work Center",type:"select",required:!0,placeholder:"Seleziona un centro di lavoro",options:[{value:bt.ZANICA,label:bt.ZANICA},{value:bt.BUSTO_GAROLFO,label:bt.BUSTO_GAROLFO}],defaultValue:rn.MACHINE.WORK_CENTER,helpText:"Il centro di lavoro è pre-impostato.",validation:{required:"Work center is required"}}]},{title:"Capacità Tecniche",fields:[{name:"min_web_width",label:"Min Web Width (mm)",type:"number",required:!0,defaultValue:rn.MACHINE.MIN_WEB_WIDTH,validation:{required:"Min web width is required",min:{value:1,message:"Min web width must be at least 1"}}},{name:"max_web_width",label:"Max Web Width (mm)",type:"number",required:!0,defaultValue:rn.MACHINE.MAX_WEB_WIDTH,validation:{required:"Max web width is required",min:{value:1,message:"Max web width must be at least 1"}}},{name:"min_bag_height",label:"Min Bag Height (mm)",type:"number",required:!0,defaultValue:rn.MACHINE.MIN_BAG_HEIGHT,validation:{required:"Min bag height is required",min:{value:1,message:"Min bag height must be at least 1"}}},{name:"max_bag_height",label:"Max Bag Height (mm)",type:"number",required:!0,defaultValue:rn.MACHINE.MAX_BAG_HEIGHT,validation:{required:"Max bag height is required",min:{value:1,message:"Max bag height must be at least 1"}}}]},{title:"Performance",fields:[{name:"standard_speed",label:"Standard Speed",type:"number",required:!0,placeholder:"pz/h o mt/h",validation:{required:"Standard speed is required",min:{value:1,message:"Standard speed must be at least 1"}}},{name:"setup_time_standard",label:"Setup Time Standard (h)",type:"number",required:!0,defaultValue:rn.MACHINE.SETUP_TIME_STANDARD,validation:{required:"Setup time is required",min:{value:0,message:"Setup time must be at least 0"}}},{name:"changeover_color",label:"Changeover Color (h)",type:"number",required:!0,defaultValue:rn.MACHINE.CHANGEOVER_COLOR,conditional:(t,e,n)=>n("department")===sn.PRINTING,validation:{required:"Changeover color time is required",min:{value:0,message:"Changeover color time must be at least 0"}}},{name:"changeover_material",label:"Material Changeover (h)",type:"number",required:!0,defaultValue:rn.MACHINE.CHANGEOVER_MATERIAL,conditional:(t,e,n)=>n("department")===sn.PACKAGING,validation:{required:"Changeover material time is required",min:{value:0,message:"Changeover material time must be at least 0"}}}]},{title:"Disponibilità",fields:[{name:"active_shifts",label:"Active Shifts",type:"checkbox",required:!1,defaultValue:rn.MACHINE.ACTIVE_SHIFTS,options:[{value:nl.T1,label:nl.T1},{value:nl.T2,label:nl.T2},{value:nl.T3,label:nl.T3}]},{name:"status",label:"Status",type:"select",required:!0,defaultValue:rn.MACHINE.STATUS,options:[{value:ys.ACTIVE,label:ys.ACTIVE},{value:ys.INACTIVE,label:ys.INACTIVE}],validation:{required:"Status is required"}}]}]},us={validationSchema:"PHASE",addButtonText:"Aggiungi Fase",editButtonText:"Aggiorna Fase",addLoadingText:"Aggiunta Fase...",editLoadingText:"Aggiornamento Fase...",addContext:"Add Phase",editContext:"Update Phase",addErrorMessage:"Aggiunta fase fallita",editErrorMessage:"Aggiornamento fase fallita",sections:[{title:"Informazioni Fase",fields:[{name:"name",label:"Nome Fase",type:"text",required:!0,placeholder:"es. Stampa Alta Velocità"},{name:"department",label:"Tipo Fase",type:"select",required:!0,options:[{value:sn.PRINTING,label:sn.PRINTING},{value:sn.PACKAGING,label:sn.PACKAGING}],defaultValue:rn.PHASE.DEPARTMENT},{name:"numero_persone",label:"Numero di Persone Richieste",type:"number",required:!0,defaultValue:rn.PHASE.NUMERO_PERSONE},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,options:[{value:bt.ZANICA,label:bt.ZANICA},{value:bt.BUSTO_GAROLFO,label:bt.BUSTO_GAROLFO}],defaultValue:rn.PHASE.WORK_CENTER,helpText:"Il centro di lavoro è impostato in base alla tua selezione di accesso"}]},{title:"Parametri Stampa",fields:[{name:"v_stampa",label:"Velocità Stampa (mt/h)",type:"number",required:!0,defaultValue:rn.PHASE.V_STAMPA,conditional:(t,e,n)=>n("department")===sn.PRINTING},{name:"t_setup_stampa",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:rn.PHASE.T_SETUP_STAMPA,conditional:(t,e,n)=>n("department")===sn.PRINTING},{name:"costo_h_stampa",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:rn.PHASE.COSTO_H_STAMPA,conditional:(t,e,n)=>n("department")===sn.PRINTING}]},{title:"Parametri Confezionamento",fields:[{name:"v_conf",label:"Velocità Confezionamento (pz/h)",type:"number",required:!0,defaultValue:rn.PHASE.V_CONF,conditional:(t,e,n)=>n("department")===sn.PACKAGING},{name:"t_setup_conf",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:rn.PHASE.T_SETUP_CONF,conditional:(t,e,n)=>n("department")===sn.PACKAGING},{name:"costo_h_conf",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:rn.PHASE.COSTO_H_CONF,conditional:(t,e,n)=>n("department")===sn.PACKAGING}]},{title:"Descrizione Fase",fields:[{name:"contenuto_fase",label:"Descrizione Contenuto Fase",type:"textarea",required:!0,placeholder:"Descrivi il contenuto della fase e i requisiti...",rows:3}],gridCols:"grid-cols-1"}]},qX={validationSchema:"ORDER",addButtonText:"Aggiungi al Backlog",editButtonText:"Aggiorna Ordine",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Order",editContext:"Update Order",addErrorMessage:"Aggiunta ordine fallita",editErrorMessage:"Aggiornamento ordine fallito",sections:[{title:"Identificazione",fields:[{name:"odp_number",label:"Numero ODP",type:"text",required:!0,placeholder:"Inserisci numero ODP"},{name:"article_code",label:"Codice Articolo",type:"article_code",required:!0,placeholder:"Inserisci codice articolo"},{name:"production_lot",label:"Codice Articolo Esterno",type:"text",required:!0,placeholder:"Inserisci codice articolo esterno"},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,placeholder:"Seleziona centro di lavoro",options:[{value:bt.ZANICA,label:bt.ZANICA},{value:bt.BUSTO_GAROLFO,label:bt.BUSTO_GAROLFO}],conditional:(t,e,n)=>!0},{name:"nome_cliente",label:"Nome Cliente",type:"text",required:!0,placeholder:"Inserisci nome cliente"}]},{title:"Specifiche Tecniche",fields:[{name:"bag_height",label:"Altezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci altezza busta"},{name:"bag_width",label:"Larghezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci larghezza busta"},{name:"bag_step",label:"Passo Busta (mm)",type:"number",required:!1,placeholder:"Inserisci passo busta"},{name:"seal_sides",label:"Lati Sigillatura",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:"3",label:"3"},{value:"4",label:"4"}],defaultValue:rn.ORDER.SEAL_SIDES},{name:"product_type",label:"Tipo Prodotto",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:Mc.CREMA,label:Mc.CREMA},{value:Mc.LIQUIDO,label:Mc.LIQUIDO},{value:Mc.POLVERI,label:Mc.POLVERI}]},{name:"quantity",label:"Quantità",type:"number",required:!0,placeholder:"Inserisci quantità"},{name:"quantity_completed",label:"Q.tà Completata",type:"number",required:!0,defaultValue:rn.ORDER.QUANTITY_COMPLETED}]},{title:"Dati Commerciali",fields:[{name:"internal_customer_code",label:"Lotto FLEXI",type:"text",required:!0,placeholder:"Inserisci lotto FLEXI"},{name:"external_customer_code",label:"Lotto Cliente",type:"text",required:!0,placeholder:"Inserisci lotto cliente"},{name:"customer_order_ref",label:"Riferimento Cliente",type:"text",required:!0,placeholder:"Inserisci riferimento cliente"},{name:"user_notes",label:"Note Libere",type:"textarea",required:!1,placeholder:"Inserisci note libere per l'ordine...",rows:3},{name:"asd_notes",label:"Note ASD",type:"textarea",required:!1,placeholder:"Inserisci note ASD per l'ordine...",rows:3}],gridCols:"grid-cols-2 md:grid-cols-3"},{title:"Dati Lavorazione & Pianificazione",fields:[{name:"department",label:"Reparto",type:"text",required:!0,readOnly:!0,className:"bg-gray-50"},{name:"phase_search",label:"Cerca Fase di Produzione",type:"phase_search",required:!0},{name:"delivery_date",label:"Data di Consegna",type:"datetime-local",required:!0}]},{title:"Disponibilità Materiali",fields:[{name:"material_availability_global",label:"Disponibilità Materiale Globale (%)",type:"number",required:!1,placeholder:"Inserisci percentuale disponibilità (0-100)",min:0,max:100}]}],customFields:{phase_parameters:{type:"phase_parameters",label:"Parametri Fase Selezionata"},calculation_results:{type:"calculation_results",label:"Risultati Calcolo Produzione"}},customValidation:t=>{const e={};return{isValid:Object.keys(e).length===0,errors:e}}},E0={validationSchema:"OFF_TIME",addButtonText:"Imposta Non Disponibilità",editButtonText:"Aggiorna Non Disponibilità",addLoadingText:"Impostazione...",editLoadingText:"Aggiornamento...",addContext:"Set Machine Unavailability",editContext:"Update Machine Unavailability",addErrorMessage:"Impostazione indisponibilità macchina fallita",editErrorMessage:"Aggiornamento indisponibilità macchina fallita",sections:[{title:"Periodo di Non Disponibilità",fields:[{name:"startDate",label:"Data Inizio",type:"date",required:!0,defaultValue:""},{name:"startTime",label:"Ora Inizio",type:"time",required:!0,defaultValue:rn.OFF_TIME.START_TIME},{name:"endDate",label:"Data Fine",type:"date",required:!0,defaultValue:""},{name:"endTime",label:"Ora Fine",type:"time",required:!0,defaultValue:rn.OFF_TIME.END_TIME}]}],customValidation:t=>{const e={};if(t.startDate&&t.endDate){const n=new Date(t.startDate);new Date(t.endDate)<n&&(e.endDate=jR.END_DATE_BEFORE_START),t.startDate===t.endDate&&t.startTime&&t.endTime&&t.startTime>=t.endTime&&(e.endTime=jR.END_TIME_BEFORE_START)}return{isValid:Object.keys(e).length===0,errors:e}}};function WX({machineToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Mt(),{getValidMachineTypes:r}=zP(),i=cQ(),s=uQ(),a=!!t,l=E.useMemo(()=>{const g={...Ci};return g.sections[0].fields[1].options=[...r("STAMPA").map(m=>({value:m,label:m})),...r("CONFEZIONAMENTO").map(m=>({value:m,label:m}))],g.sections[0].fields[1].placeholder="Seleziona tipo macchina",n!==bt.BOTH&&(g.sections[0].fields[3].disabled=!0,g.sections[0].fields[3].defaultValue=n,g.sections[0].fields[3].helpText="Il centro di lavoro è pre-impostato."),g},[r,n]),u=E.useMemo(()=>({department:t?.department||Ci.sections[0].fields[0].defaultValue,machine_type:t?.machine_type||"",machine_name:t?.machine_name||"",work_center:t?.work_center||(n===bt.BOTH?Ci.sections[0].fields[3].defaultValue:n),min_web_width:t?.min_web_width||Ci.sections[1].fields[0].defaultValue,max_web_width:t?.max_web_width||Ci.sections[1].fields[1].defaultValue,min_bag_height:t?.min_bag_height||Ci.sections[1].fields[2].defaultValue,max_bag_height:t?.max_bag_height||Ci.sections[1].fields[3].defaultValue,standard_speed:t?.standard_speed||"",setup_time_standard:t?.setup_time_standard||Ci.sections[2].fields[1].defaultValue,changeover_color:t?.changeover_color||Ci.sections[2].fields[2].defaultValue,changeover_material:t?.changeover_material||Ci.sections[2].fields[3].defaultValue,active_shifts:t?.active_shifts||Ci.sections[3].fields[0].defaultValue,status:t?.status||Ci.sections[3].fields[1].defaultValue}),[n,t]),d=async g=>{a?await s.mutateAsync({id:t.id,updates:g}):await i.mutateAsync(g),e&&e()},h=i.isPending||s.isPending;return w.jsx(rv,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a,isLoading:h})}function GX({title:t,children:e}){return w.jsx("div",{className:"sticky top-0 z-10 bg-background border-b border-border px-2 py-3 mb-2",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("div",{className:"flex items-center",children:t&&w.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:t})}),e]})})}function uO(){const{id:t}=Tm(),e=Cs(),{getMachineById:n}=Oi(),{selectedWorkCenter:r}=Mt(),{isLoading:i,isInitialized:s,init:a,cleanup:l}=Eo(),u=!!t,d=u?n(t):null;return E.useEffect(()=>(s||a(),()=>{l()}),[a,s,l]),E.useEffect(()=>{u&&!i&&!d&&e("/machinery",{replace:!0})},[u,i,d,e]),i?w.jsx("div",{children:"Caricamento..."}):u&&!d?w.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Macchina non trovata."}):r?w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:u?`Modifica Macchina: ${d?.machine_name}`:"Aggiungi Nuova Macchina"}),u&&w.jsx(Hn,{to:`/machinery/${t}/calendar`,className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Visualizza Calendario"})]}),w.jsx(WX,{machineToEdit:d})]}):w.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le macchine."})}function YX({machineId:t,currentDate:e,onSuccess:n}){const{setMachineUnavailability:r}=_s(),{showAlert:i}=Mt(),s=E.useMemo(()=>{const l=new Date,u=Bf(l,1);return{startDate:Jn(l,"yyyy-MM-dd"),endDate:Jn(u,"yyyy-MM-dd"),startTime:E0.sections[0].fields[1].defaultValue,endTime:E0.sections[0].fields[3].defaultValue}},[e]),a=async l=>{await r(t,l.startDate,l.endDate,l.startTime,l.endTime),i("Indisponibilità macchina impostata con successo!","success"),n&&n()};return w.jsx(rv,{config:E0,initialData:s,onSubmit:a,onSuccess:n,className:"p-1 bg-white rounded-lg shadow-sm border"})}var iv,ze,x2,E2,du,ul,dO,C2,T2,Qp={},A2=[],KX=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function to(t,e){for(var n in e)t[n]=e[n];return t}function R2(t){var e=t.parentNode;e&&e.removeChild(t)}function U(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?iv.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return bp(t,a,r,i,null)}function bp(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++x2};return i==null&&ze.vnode!=null&&ze.vnode(s),s}function Er(){return{current:null}}function Bt(t){return t.children}function QX(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||Xp(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||Xp(t,s,e[s],n[s],r)}function fO(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||KX.test(e)?n:n+"px"}function Xp(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||fO(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||fO(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?gO:hO,s):t.removeEventListener(e,s?gO:hO,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function hO(t){du=!0;try{return this.l[t.type+!1](ze.event?ze.event(t):t)}finally{du=!1}}function gO(t){du=!0;try{return this.l[t.type+!0](ze.event?ze.event(t):t)}finally{du=!1}}function ci(t,e){this.props=t,this.context=e}function bf(t,e){if(e==null)return t.__?bf(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?bf(t):null}function D2(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return D2(t)}}function XX(t){du?setTimeout(t):C2(t)}function nw(t){(!t.__d&&(t.__d=!0)&&ul.push(t)&&!Zp.__r++||dO!==ze.debounceRendering)&&((dO=ze.debounceRendering)||XX)(Zp)}function Zp(){var t,e,n,r,i,s,a,l;for(ul.sort(function(u,d){return u.__v.__b-d.__v.__b});t=ul.shift();)t.__d&&(e=ul.length,r=void 0,i=void 0,a=(s=(n=t).__v).__e,(l=n.__P)&&(r=[],(i=to({},s)).__v=s.__v+1,FS(l,s,i,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[a]:null,r,a??bf(s),s.__h),I2(r,s),s.__e!=a&&D2(s)),ul.length>e&&ul.sort(function(u,d){return u.__v.__b-d.__v.__b}));Zp.__r=0}function O2(t,e,n,r,i,s,a,l,u,d){var h,g,m,v,b,y,S,C=r&&r.__k||A2,T=C.length;for(n.__k=[],h=0;h<e.length;h++)if((v=n.__k[h]=(v=e[h])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?bp(null,v,null,null,v):Array.isArray(v)?bp(Bt,{children:v},null,null,null):v.__b>0?bp(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=n,v.__b=n.__b+1,(m=C[h])===null||m&&v.key==m.key&&v.type===m.type)C[h]=void 0;else for(g=0;g<T;g++){if((m=C[g])&&v.key==m.key&&v.type===m.type){C[g]=void 0;break}m=null}FS(t,v,m=m||Qp,i,s,a,l,u,d),b=v.__e,(g=v.ref)&&m.ref!=g&&(S||(S=[]),m.ref&&S.push(m.ref,null,v),S.push(g,v.__c||b,v)),b!=null?(y==null&&(y=b),typeof v.type=="function"&&v.__k===m.__k?v.__d=u=M2(v,u,t):u=k2(t,v,m,C,b,u),typeof n.type=="function"&&(n.__d=u)):u&&m.__e==u&&u.parentNode!=t&&(u=bf(m))}for(n.__e=y,h=T;h--;)C[h]!=null&&(typeof n.type=="function"&&C[h].__e!=null&&C[h].__e==n.__d&&(n.__d=N2(r).nextSibling),j2(C[h],C[h]));if(S)for(h=0;h<S.length;h++)P2(S[h],S[++h],S[++h])}function M2(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?M2(r,e,n):k2(n,r,r,i,r.__e,e));return e}function Jp(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Jp(n,e)}):e.push(t)),e}function k2(t,e,n,r,i,s){var a,l,u;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),a=null;else{for(l=s,u=0;(l=l.nextSibling)&&u<r.length;u+=1)if(l==i)break e;t.insertBefore(i,s),a=s}return a!==void 0?a:i.nextSibling}function N2(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=N2(n)))return r}return null}function FS(t,e,n,r,i,s,a,l,u){var d,h,g,m,v,b,y,S,C,T,A,M,D,k,N,O=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,s=[l]),(d=ze.__b)&&d(e);try{e:if(typeof O=="function"){if(S=e.props,C=(d=O.contextType)&&r[d.__c],T=d?C?C.props.value:d.__:r,n.__c?y=(h=e.__c=n.__c).__=h.__E:("prototype"in O&&O.prototype.render?e.__c=h=new O(S,T):(e.__c=h=new ci(S,T),h.constructor=O,h.render=JX),C&&C.sub(h),h.props=S,h.state||(h.state={}),h.context=T,h.__n=r,g=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),O.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=to({},h.__s)),to(h.__s,O.getDerivedStateFromProps(S,h.__s))),m=h.props,v=h.state,h.__v=e,g)O.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(O.getDerivedStateFromProps==null&&S!==m&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(S,T),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(S,h.__s,T)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(h.props=S,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(j){j&&(j.__=e)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(S,h.__s,T),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(m,v,b)})}if(h.context=T,h.props=S,h.__P=t,M=ze.__r,D=0,"prototype"in O&&O.prototype.render){for(h.state=h.__s,h.__d=!1,M&&M(e),d=h.render(h.props,h.state,h.context),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[]}else do h.__d=!1,M&&M(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++D<25);h.state=h.__s,h.getChildContext!=null&&(r=to(to({},r),h.getChildContext())),g||h.getSnapshotBeforeUpdate==null||(b=h.getSnapshotBeforeUpdate(m,v)),N=d!=null&&d.type===Bt&&d.key==null?d.props.children:d,O2(t,Array.isArray(N)?N:[N],e,n,r,i,s,a,l,u),h.base=e.__e,e.__h=null,h.__h.length&&a.push(h),y&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ZX(n.__e,e,n,r,i,s,a,u);(d=ze.diffed)&&d(e)}catch(j){e.__v=null,(u||s!=null)&&(e.__e=l,e.__h=!!u,s[s.indexOf(l)]=null),ze.__e(j,e,n)}}function I2(t,e){ze.__c&&ze.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){ze.__e(r,n.__v)}})}function ZX(t,e,n,r,i,s,a,l){var u,d,h,g=n.props,m=e.props,v=e.type,b=0;if(v==="svg"&&(i=!0),s!=null){for(;b<s.length;b++)if((u=s[b])&&"setAttribute"in u==!!v&&(v?u.localName===v:u.nodeType===3)){t=u,s[b]=null;break}}if(t==null){if(v===null)return document.createTextNode(m);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,m.is&&m),s=null,l=!1}if(v===null)g===m||l&&t.data===m||(t.data=m);else{if(s=s&&iv.call(t.childNodes),d=(g=n.props||Qp).dangerouslySetInnerHTML,h=m.dangerouslySetInnerHTML,!l){if(s!=null)for(g={},b=0;b<t.attributes.length;b++)g[t.attributes[b].name]=t.attributes[b].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(QX(t,m,g,i,l),h)e.__k=[];else if(b=e.props.children,O2(t,Array.isArray(b)?b:[b],e,n,r,i&&v!=="foreignObject",s,a,s?s[0]:n.__k&&bf(n,0),l),s!=null)for(b=s.length;b--;)s[b]!=null&&R2(s[b]);l||("value"in m&&(b=m.value)!==void 0&&(b!==t.value||v==="progress"&&!b||v==="option"&&b!==g.value)&&Xp(t,"value",b,g.value,!1),"checked"in m&&(b=m.checked)!==void 0&&b!==t.checked&&Xp(t,"checked",b,g.checked,!1))}return t}function P2(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){ze.__e(r,n)}}function j2(t,e,n){var r,i;if(ze.unmount&&ze.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||P2(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){ze.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&j2(r[i],e,n||typeof t.type!="function");n||t.__e==null||R2(t.__e),t.__=t.__e=t.__d=void 0}function JX(t,e,n){return this.constructor(t,n)}function _f(t,e,n){var r,i,s;ze.__&&ze.__(t,e),i=(r=!1)?null:e.__k,s=[],FS(e,t=e.__k=U(Bt,null,[t]),i||Qp,Qp,e.ownerSVGElement!==void 0,i?null:e.firstChild?iv.call(e.childNodes):null,s,i?i.__e:e.firstChild,r),I2(s,t)}function eZ(t,e){var n={__c:e="__cC"+T2++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(function(l){l.__e=!0,nw(l)})},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),l&&l.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}iv=A2.slice,ze={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(l){t=l}throw t}},x2=0,E2=function(t){return t!=null&&t.constructor===void 0},du=!1,ci.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=to({},this.state),typeof t=="function"&&(t=t(to({},n),this.props)),t&&to(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),nw(this))},ci.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),nw(this))},ci.prototype.render=Bt,ul=[],C2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Zp.__r=0,T2=0;var vs,C0,pO,L2=[],T0=[],mO=ze.__b,vO=ze.__r,yO=ze.diffed,bO=ze.__c,_O=ze.unmount;function tZ(){for(var t;t=L2.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(_p),t.__H.__h.forEach(rw),t.__H.__h=[]}catch(e){t.__H.__h=[],ze.__e(e,t.__v)}}ze.__b=function(t){vs=null,mO&&mO(t)},ze.__r=function(t){vO&&vO(t);var e=(vs=t.__c).__H;e&&(C0===vs?(e.__h=[],vs.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=T0,n.__N=n.i=void 0})):(e.__h.forEach(_p),e.__h.forEach(rw),e.__h=[])),C0=vs},ze.diffed=function(t){yO&&yO(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(L2.push(e)!==1&&pO===ze.requestAnimationFrame||((pO=ze.requestAnimationFrame)||nZ)(tZ)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==T0&&(n.__=n.__V),n.i=void 0,n.__V=T0})),C0=vs=null},ze.__c=function(t,e){e.some(function(n){try{n.__h.forEach(_p),n.__h=n.__h.filter(function(r){return!r.__||rw(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ze.__e(r,n.__v)}}),bO&&bO(t,e)},ze.unmount=function(t){_O&&_O(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{_p(r)}catch(i){e=i}}),n.__H=void 0,e&&ze.__e(e,n.__v))};var wO=typeof requestAnimationFrame=="function";function nZ(t){var e,n=function(){clearTimeout(r),wO&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);wO&&(e=requestAnimationFrame(n))}function _p(t){var e=vs,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),vs=e}function rw(t){var e=vs;t.__c=t.__(),vs=e}function rZ(t,e){for(var n in e)t[n]=e[n];return t}function SO(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function xO(t){this.props=t}(xO.prototype=new ci).isPureReactComponent=!0,xO.prototype.shouldComponentUpdate=function(t,e){return SO(this.props,t)||SO(this.state,e)};var EO=ze.__b;ze.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),EO&&EO(t)};var iZ=ze.__e;ze.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}iZ(t,e,n,r)};var CO=ze.unmount;function F2(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=rZ({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return F2(r,e,n)})),t}function U2(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return U2(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function A0(){this.__u=0,this.t=null,this.__b=null}function z2(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function $g(){this.u=null,this.o=null}ze.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),CO&&CO(t)},(A0.prototype=new ci).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=z2(r.__v),s=!1,a=function(){s||(s=!0,n.__R=null,i?i(l):l())};n.__R=a;var l=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=U2(d,d.__c.__P,d.__c.__O)}var h;for(r.setState({__a:r.__b=null});h=r.t.pop();)h.forceUpdate()}},u=e.__h===!0;r.__u++||u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},A0.prototype.componentWillUnmount=function(){this.t=[]},A0.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=F2(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&U(Bt,null,t.fallback);return i&&(i.__h=null),[U(Bt,null,e.__a?null:t.children),i]};var TO=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function sZ(t){return this.getChildContext=function(){return t.context},t.children}function aZ(t){var e=this,n=t.i;e.componentWillUnmount=function(){_f(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),_f(U(sZ,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function oZ(t,e){var n=U(aZ,{__v:t,i:e});return n.containerInfo=e,n}($g.prototype=new ci).__a=function(t){var e=this,n=z2(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),TO(e,t,r)):i()};n?n(s):s()}},$g.prototype.render=function(t){this.u=null,this.o=new Map;var e=Jp(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},$g.prototype.componentDidUpdate=$g.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){TO(t,n,e)})};var lZ=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,cZ=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,uZ=typeof document<"u",dZ=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};ci.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ci.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var AO=ze.event;function fZ(){}function hZ(){return this.cancelBubble}function gZ(){return this.defaultPrevented}ze.event=function(t){return AO&&(t=AO(t)),t.persist=fZ,t.isPropagationStopped=hZ,t.isDefaultPrevented=gZ,t.nativeEvent=t};var RO={configurable:!0,get:function(){return this.class}},DO=ze.vnode;ze.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var a=n[s];uZ&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&a==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&a===!0?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!dZ(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&cZ.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=a)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Jp(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Jp(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),t.props=r,n.class!=n.className&&(RO.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",RO))}t.$$typeof=lZ,DO&&DO(t)};var OO=ze.__r;ze.__r=function(t){OO&&OO(t),t.__c};const H2=[],iw=new Map;function sv(t){H2.push(t),iw.forEach(e=>{$2(e,t)})}function pZ(t){t.isConnected&&t.getRootNode&&B2(t.getRootNode())}function B2(t){let e=iw.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=vZ();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}iw.set(t,e),mZ(e)}}function mZ(t){for(const e of H2)$2(t,e)}function $2(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let R0;function vZ(){return R0===void 0&&(R0=yZ()),R0}function yZ(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&B2(document);var bZ=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';sv(bZ);class US{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function zS(t){t.parentNode&&t.parentNode.removeChild(t)}function gr(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(_Z(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function _Z(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function wZ(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let a=0;a<s.length;a+=1)r.push(s[a])}return r}const SZ=/(top|left|right|bottom|width|height)$/i;function Qd(t,e){for(let n in e)V2(t,n,e[n])}function V2(t,e,n){n==null?t.style[e]="":typeof n=="number"&&SZ.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function q2(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let MO=0;function oo(){return MO+=1,"fc-dom-"+MO}function av(t){t.preventDefault()}function xZ(t,e){return n=>{let r=gr(n.target,t);r&&e.call(r,n,r)}}function W2(t,e,n,r){let i=xZ(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function EZ(t,e,n,r){let i;return W2(t,"mouseover",e,(s,a)=>{if(a!==i){i=a,n(s,a);let l=u=>{i=null,r(u,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}const kO=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function CZ(t,e){let n=r=>{e(r),kO.forEach(i=>{t.removeEventListener(i,n)})};kO.forEach(r=>{t.addEventListener(r,n)})}function G2(t){return Object.assign({onClick:t},Y2(t))}function Y2(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let NO=0;function Fl(){return NO+=1,String(NO)}function HS(){document.body.classList.add("fc-not-allowed")}function BS(){document.body.classList.remove("fc-not-allowed")}function TZ(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",av)}function AZ(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",av)}function RZ(t){t.addEventListener("contextmenu",av)}function DZ(t){t.removeEventListener("contextmenu",av)}function OZ(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function MZ(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=kZ(t,e,n[r]),i)return i;return 0}function kZ(t,e,n){return n.func?n.func(t,e):NZ(t[n.field],e[n.field])*(n.order||1)}function NZ(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function ru(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Xd(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function IZ(t,e){return t-e}function wp(t){return t%1===0}function PZ(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const IO=["years","months","days","milliseconds"],jZ=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function yt(t,e){return typeof t=="string"?LZ(t):typeof t=="object"&&t?PO(t):typeof t=="number"?PO({[e||"milliseconds"]:t}):null}function LZ(t){let e=jZ.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function PO(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function FZ(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function sw(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function UZ(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function zZ(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function HZ(t){return iu(t)/365}function BZ(t){return iu(t)/30}function iu(t){return Yi(t)/864e5}function Yi(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function $S(t,e){let n=null;for(let r=0;r<IO.length;r+=1){let i=IO[r];if(e[i]){let s=t[i]/e[i];if(!wp(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function aw(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function go(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const $Z=["sun","mon","tue","wed","thu","fri","sat"];function jO(t,e){let n=no(t);return n[2]+=e*7,Br(n)}function In(t,e){let n=no(t);return n[2]+=e,Br(n)}function po(t,e){let n=no(t);return n[6]+=e,Br(n)}function VZ(t,e){return Ro(t,e)/7}function Ro(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function qZ(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function WZ(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function GZ(t,e){return(e.valueOf()-t.valueOf())/1e3}function YZ(t,e){let n=Gt(t),r=Gt(e);return{years:0,months:0,days:Math.round(Ro(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function KZ(t,e){let n=em(t,e);return n!==null&&n%7===0?n/7:null}function em(t,e){return ro(t)===ro(e)?Math.round(Ro(t,e)):null}function Gt(t){return Br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function QZ(t){return Br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function XZ(t){return Br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function ZZ(t){return Br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function JZ(t,e,n){let r=t.getUTCFullYear(),i=D0(t,r,e,n);if(i<1)return D0(t,r-1,e,n);let s=D0(t,r+1,e,n);return s>=1?Math.min(i,s):i}function D0(t,e,n,r){let i=Br([e,0,1+eJ(e,n,r)]),s=Gt(t),a=Math.round(Ro(i,s));return Math.floor(a/7)+1}function eJ(t,e,n){let r=7+e-n;return-((7+Br([t,0,r]).getUTCDay()-e)%7)+r-1}function LO(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function FO(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function no(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Br(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function K2(t){return!isNaN(t.valueOf())}function ro(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function Q2(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",VS(e,!0)))),r}function qf(t){return t.toISOString().replace(/T.*$/,"")}function tJ(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function nJ(t){return ru(t.getUTCHours(),2)+":"+ru(t.getUTCMinutes(),2)+":"+ru(t.getUTCSeconds(),2)}function VS(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+ru(i,2)}:${ru(s,2)}`:`GMT${n}${i}${s?`:${ru(s,2)}`:""}`}function Fe(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!go(r,s)){let a=t.apply(this,s);(!e||!e(a,i))&&(i=a)}return r=s,i}}function Sp(t,e,n){let r,i;return s=>(r?es(r,s)||(i=t.call(this,s)):i=t.call(this,s),r=s,i)}const O0={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},tm={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Vg=/\s*([ap])\.?m\.?/i,rJ=/,/g,iJ=/\s+/g,sJ=/\u200e/g,aJ=/UTC|GMT/;class oJ{constructor(e){let n={},r={},i=9;for(let s in e)s in O0?(r[s]=e[s],O0[s]<9&&(i=Math.min(O0[s],i))):(n[s]=e[s],s in tm&&(i=Math.min(tm[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=Fe(UO)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:a}=this,l=hJ(e.marker,n.marker,r.calendarSystem);if(!l)return this.format(e,r);let u=l;u>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(u=1);let d=this.format(e,r),h=this.format(n,r);if(d===h)return d;let g=gJ(s,u),m=UO(g,a,r),v=m(e),b=m(n),y=pJ(d,v,h,b),S=a.separator||i||r.defaultSeparator||"";return y?y.before+v+S+b+y.after:d+S+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function UO(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>VS(i.timeZoneOffset):r===0&&e.week?i=>fJ(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):lJ(t,e,n)}function lJ(t,e,n){t=Object.assign({},t),e=Object.assign({},e),cJ(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:a}=s,l;i&&!a.getUTCMinutes()?l=i:l=r;let u=l.format(a);return uJ(u,s,t,e,n)}}function cJ(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function uJ(t,e,n,r,i){return t=t.replace(sJ,""),n.timeZoneName==="short"&&(t=dJ(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":VS(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(rJ,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Vg,"").trim():r.meridiem==="narrow"?t=t.replace(Vg,(s,a)=>a.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(Vg,(s,a)=>`${a.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(Vg,s=>s.toLocaleLowerCase())),t=t.replace(iJ," "),t=t.trim(),t}function dJ(t,e){let n=!1;return t=t.replace(aJ,()=>(n=!0,e)),n||(t+=` ${e}`),t}function fJ(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function hJ(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:ro(t)!==ro(e)?1:0}function gJ(t,e){let n={};for(let r in t)(!(r in tm)||tm[r]<=e)&&(n[r]=t[r]);return n}function pJ(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let a=t.substr(0,s);i=s+e.length;let l=t.substr(i),u=0;for(;u<n.length;){let d=n.indexOf(r,u);if(d===-1)break;let h=n.substr(0,d);u=d+r.length;let g=n.substr(u);if(a===h&&l===g)return{before:a,after:l}}}return null}function zO(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function nm(t,e,n,r){let i=zO(t,n.calendarSystem),s=e?zO(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class mJ{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,nm(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,nm(e,n,r,i))}}class vJ{constructor(e){this.func=e}format(e,n,r){return this.func(nm(e,null,n,r))}formatRange(e,n,r,i){return this.func(nm(e,n,r,i))}}function an(t){return typeof t=="object"&&t?new oJ(t):typeof t=="string"?new mJ(t):typeof t=="function"?new vJ(t):null}const HO={navLinkDayClick:oe,navLinkWeekClick:oe,duration:yt,bootstrapFontAwesome:oe,buttonIcons:oe,customButtons:oe,defaultAllDayEventDuration:yt,defaultTimedEventDuration:yt,nextDayThreshold:yt,scrollTime:yt,scrollTimeReset:Boolean,slotMinTime:yt,slotMaxTime:yt,dayPopoverFormat:an,slotDuration:yt,snapDuration:yt,headerToolbar:oe,footerToolbar:oe,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:an,dayHeaderClassNames:oe,dayHeaderContent:oe,dayHeaderDidMount:oe,dayHeaderWillUnmount:oe,dayCellClassNames:oe,dayCellContent:oe,dayCellDidMount:oe,dayCellWillUnmount:oe,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:oe,weekNumbers:Boolean,weekNumberClassNames:oe,weekNumberContent:oe,weekNumberDidMount:oe,weekNumberWillUnmount:oe,editable:Boolean,viewClassNames:oe,viewDidMount:oe,viewWillUnmount:oe,nowIndicator:Boolean,nowIndicatorSnap:oe,nowIndicatorClassNames:oe,nowIndicatorContent:oe,nowIndicatorDidMount:oe,nowIndicatorWillUnmount:oe,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:oe,locale:oe,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:oe,eventOrder:OZ,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:oe,contentHeight:oe,direction:String,weekNumberFormat:an,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:oe,initialDate:oe,now:oe,eventDataTransform:oe,stickyHeaderDates:oe,stickyFooterScrollbar:oe,viewHeight:oe,defaultAllDay:Boolean,eventSourceFailure:oe,eventSourceSuccess:oe,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:oe,eventConstraint:oe,eventAllow:oe,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:oe,eventContent:oe,eventDidMount:oe,eventWillUnmount:oe,selectConstraint:oe,selectOverlap:oe,selectAllow:oe,droppable:Boolean,unselectCancel:String,slotLabelFormat:oe,slotLaneClassNames:oe,slotLaneContent:oe,slotLaneDidMount:oe,slotLaneWillUnmount:oe,slotLabelClassNames:oe,slotLabelContent:oe,slotLabelDidMount:oe,slotLabelWillUnmount:oe,dayMaxEvents:oe,dayMaxEventRows:oe,dayMinWidth:Number,slotLabelInterval:yt,allDayText:String,allDayClassNames:oe,allDayContent:oe,allDayDidMount:oe,allDayWillUnmount:oe,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:an,rerenderDelay:Number,moreLinkText:oe,moreLinkHint:oe,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:oe,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:yt,hiddenDays:oe,fixedWeekCount:Boolean,validRange:oe,visibleRange:oe,titleFormat:oe,eventInteractive:Boolean,noEventsText:String,viewHint:oe,navLinkHint:oe,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:oe,moreLinkClassNames:oe,moreLinkContent:oe,moreLinkDidMount:oe,moreLinkWillUnmount:oe,monthStartFormat:an,handleCustomRendering:oe,customRenderingMetaMap:oe,customRenderingReplaces:Boolean},Zd={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},BO={datesSet:oe,eventsSet:oe,eventAdd:oe,eventChange:oe,eventRemove:oe,windowResize:oe,eventClick:oe,eventMouseEnter:oe,eventMouseLeave:oe,select:oe,unselect:oe,loading:oe,_unmount:oe,_beforeprint:oe,_afterprint:oe,_noEventDrop:oe,_noEventResize:oe,_resize:oe,_scrollRequest:oe},$O={buttonText:oe,buttonHints:oe,views:oe,plugins:oe,initialEvents:oe,events:oe,eventSources:oe},il={headerToolbar:sl,footerToolbar:sl,buttonText:sl,buttonHints:sl,buttonIcons:sl,dateIncrement:sl,plugins:qg,events:qg,eventSources:qg,resources:qg};function sl(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?es(t,e):t===e}function qg(t,e){return Array.isArray(t)&&Array.isArray(e)?go(t,e):t===e}const yJ={type:String,component:oe,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:oe,usesMinMaxTime:Boolean,classNames:oe,content:oe,didMount:oe,willUnmount:oe};function M0(t){return WS(t,il)}function qS(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function oe(t){return t}const{hasOwnProperty:rm}=Object.prototype;function WS(t,e){let n={};if(e){for(let r in e)if(e[r]===sl){let i=[];for(let s=t.length-1;s>=0;s-=1){let a=t[s][r];if(typeof a=="object"&&a)i.unshift(a);else if(a!==void 0){n[r]=a;break}}i.length&&(n[r]=WS(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function Rl(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function ga(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function X2(t){let e={};for(let n of t)e[n]=!0;return e}function GS(t){let e=[];for(let n in t)e.push(t[n]);return e}function es(t,e){if(t===e)return!0;for(let n in t)if(rm.call(t,n)&&!(n in e))return!1;for(let n in e)if(rm.call(e,n)&&t[n]!==e[n])return!1;return!0}const bJ=/^on[A-Z]/;function _J(t,e){const n=wJ(t,e);for(let r of n)if(!bJ.test(r))return!1;return!0}function wJ(t,e){let n=[];for(let r in t)rm.call(t,r)&&(r in e||n.push(r));for(let r in e)rm.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function k0(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&SJ(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function SJ(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function xJ(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let a=t[s];a!==void 0&&i.push(a)}return i}let Z2={};function EJ(t,e){Z2[t]=e}function CJ(t){return new Z2[t]}class TJ{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Br(e)}markerToArray(e){return no(e)}}EJ("gregory",TJ);const AJ=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function RJ(t){let e=AJ.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(K2(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class DJ{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=CJ(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Br(LO(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Br(e)),n===null||!K2(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=RJ(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return ro(e)===ro(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return ro(e)===ro(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=KZ(e,n),r!==null?{unit:"week",value:r}:(r=em(e,n),r!==null?{unit:"day",value:r}:(r=qZ(e,n),wp(r)?{unit:"hour",value:r}:(r=WZ(e,n),wp(r)?{unit:"minute",value:r}:(r=GZ(e,n),wp(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/HZ(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/BZ(r):r.days&&(i=em(e,n),i!==null)?i/iu(r):(n.valueOf()-e.valueOf())/Yi(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Gt(e):n==="hour"?QZ(e):n==="minute"?XZ(e):n==="second"?ZZ(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):JZ(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=po(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),Q2(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Br(LO(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Br(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-FO(no(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(no(e)):null}toDate(e,n){return this.timeZone==="local"?FO(no(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(no(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Wf{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Wf.prototype.classes={};Wf.prototype.iconClasses={};Wf.prototype.baseIconClass="";Wf.prototype.iconOverridePrefix="";function im(t){t();let e=ze.debounceRendering,n=[];function r(i){n.push(i)}for(ze.debounceRendering=r,_f(U(OJ,{}),document.createElement("div"));n.length;)n.shift()();ze.debounceRendering=e}class OJ extends ci{render(){return U("div",{})}componentDidMount(){this.setState({})}}function J2(t){let e=eZ(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=a=>{this.props.value!==a.value&&s.forEach(l=>{l.context=a.value,l.forceUpdate()})},this.sub=a=>{s.push(a);let l=a.componentWillUnmount;a.componentWillUnmount=()=>{s.splice(s.indexOf(a),1),l&&l.call(a)}}}return i},e}class MJ{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ya=J2({});function kJ(t,e,n,r,i,s,a,l,u,d,h,g,m,v){return{dateEnv:i,nowManager:s,options:n,pluginHooks:l,emitter:h,dispatch:u,getCurrentData:d,calendarApi:g,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:a,isRtl:n.direction==="rtl",addResizeHandler(b){h.on("_resize",b)},removeResizeHandler(b){h.off("_resize",b)},createScrollResponder(b){return new MJ(b,h,yt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:m,unregisterInteractiveComponent:v}}class Ul extends ci{shouldComponentUpdate(e,n){return!k0(this.props,e,this.propEquality)||!k0(this.state,n,this.stateEquality)}safeSetState(e){k0(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Ul.addPropsEquality=NJ;Ul.addStateEquality=IJ;Ul.contextType=ya;Ul.prototype.propEquality={};Ul.prototype.stateEquality={};class Dt extends Ul{}Dt.contextType=ya;function NJ(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function IJ(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Es(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class YS extends Dt{constructor(){super(...arguments),this.id=Fl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!ow(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Es(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:a}=e,l=eL(e,[],this.handleEl);let u=!1,d,h=[],g;if(i!=null){const m=typeof i=="function"?i(a,U):i;if(m===!0)u=!0;else{const v=m&&typeof m=="object";v&&"html"in m?l.dangerouslySetInnerHTML={__html:m.html}:v&&"domNodes"in m?h=Array.prototype.slice.call(m.domNodes):(v?E2(m):typeof m!="function")?d=m:g=m}}else u=!ow(e.generatorName,r);return u&&s&&(d=s(a)),this.queuedDomNodes=h,this.currentGeneratorMeta=g,U(e.elTag,l,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:a}=i.options;if(s){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:a?.[r.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},r),{elClasses:(r.elClasses||[]).filter(PJ)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!go(e,n)){n.forEach(zS);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}YS.addPropsEquality({elClasses:go,elStyle:es,elAttrs:_J,renderProps:es});function ow(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function eL(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function PJ(t){return!!t}const tL=J2(0);class vr extends ci{constructor(){super(...arguments),this.InnerContent=jJ.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Es(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=LJ(e.classNameGenerator,e.renderProps);if(e.children){const r=eL(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?U(e.elTag,r,i):i}else return U(YS,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}vr.contextType=tL;function jJ(t,e){const n=t.props;return U(YS,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function LJ(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class wf extends Dt{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return U(vr,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...nL(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function nL(t){return[`fc-${t.type}-view`,"fc-view"]}function FJ(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function VO(t,e){let n=[],{start:r}=e,i,s;for(t.sort(UJ),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function UJ(t,e){return t.start.valueOf()-e.start.valueOf()}function mo(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function zJ(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function KS(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function ov(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function ca(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function HJ(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function rL(t){let e=Math.floor(Ro(t.start,t.end))||1,n=Gt(t.start),r=In(n,e);return{start:n,end:r}}function QS(t,e=yt(0)){let n=null,r=null;if(t.end){r=Gt(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Yi(e)&&(r=In(r,1))}return t.start&&(n=Gt(t.start),r&&r<=n&&(r=In(n,1))),{start:n,end:r}}function BJ(t){let e=QS(t);return Ro(e.start,e.end)>1}function Qc(t,e,n,r){return r==="year"?yt(n.diffWholeYears(t,e),"year"):r==="month"?yt(n.diffWholeMonths(t,e),"month"):YZ(t,e)}class iL{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,a,l,u,d,h;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=HJ(e,s)),a=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(a.unit),u=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),u=this.trimHiddenDays(u),d=u,i.showNonCurrentDates||(d=mo(d,a.range)),d=this.adjustActiveRange(d),d=mo(d,s),h=KS(a.range,s),ca(u,e)||(e=u.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:d,renderRange:u,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:h,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,a=null,l;return r.duration?(i=r.duration,s=r.durationUnit,a=this.buildRangeFromDuration(e,n,i,s)):(l=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,n,l)):(a=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=this.getFallbackDuration(),s=aw(i).unit,a=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:a}}getFallbackDuration(){return yt({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:a,end:l}=e;return r&&(iu(i)<0&&(a=Gt(a),a=n.add(a,i)),iu(s)>1&&(l=Gt(l),l=In(l,-1),l=n.add(l,s))),{start:a,end:l}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:a}=this.props,l,u,d;if(!a){let{dateIncrement:g}=this.props;g&&Yi(g)<Yi(r)?a=aw(g).unit:a=i}iu(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=Gt(l));function h(){l=s.startOf(e,a),u=s.add(l,r),d={start:l,end:u}}return h(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),h()),d}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,a=0,l=e,u;s&&(l=i.startOf(l,s)),l=Gt(l),l=this.skipHiddenDays(l,n),u=l;do u=In(u,1),this.isHiddenDay(u)||(a+=1);while(a<r);return{start:l,end:u}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?yt(1,r):e||yt({days:1}))}refineRange(e){if(e){let n=FJ(e,this.props.dateEnv);return n&&(n=QS(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=In(e,n);return e}}function XS(t,e,n,r){return{instanceId:Fl(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function $J(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:a}=t;return a==null&&(a=e,a==null&&(a=s.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function Dl(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:a,instances:l}=t;l=Rl(l,u=>!a[u.defId].recurringDef);for(let u in a){let d=a[u];if(d.recurringDef){let{duration:h}=d.recurringDef;h||(h=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let g=VJ(d,h,e,r,i.recurringTypes);for(let m of g){let v=XS(u,{start:m,end:r.add(m,h)});l[v.instanceId]=v}}}return{defs:a,instances:l}}function VJ(t,e,n,r,i){let a=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(a=a.map(Gt)),a}const xp={id:String,groupId:String,title:String,url:String,interactive:Boolean},sL={start:oe,end:oe,date:oe,allDay:Boolean},qJ=Object.assign(Object.assign(Object.assign({},xp),sL),{extendedProps:oe});function aL(t,e,n,r,i=ZS(n),s,a){let{refined:l,extra:u}=oL(t,n,i),d=GJ(e,n),h=$J(l,d,n.dateEnv,n.pluginHooks.recurringTypes);if(h){let m=lw(l,u,e?e.sourceId:"",h.allDay,!!h.duration,n,s);return m.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:m,instance:null}}let g=WJ(l,d,n,r);if(g){let m=lw(l,u,e?e.sourceId:"",g.allDay,g.hasEnd,n,s),v=XS(m.defId,g.range,g.forcedStartTzo,g.forcedEndTzo);return a&&m.publicId&&a[m.publicId]&&(v.instanceId=a[m.publicId]),{def:m,instance:v}}return null}function oL(t,e,n=ZS(e)){return qS(t,n)}function ZS(t){return Object.assign(Object.assign(Object.assign({},sm),qJ),t.pluginHooks.eventRefiners)}function lw(t,e,n,r,i,s,a){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(a&&t.id?a[t.id]:"")||Fl(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:am(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let u of s.pluginHooks.eventDefMemberAdders)Object.assign(l,u(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function WJ(t,e,n,r){let{allDay:i}=t,s,a=null,l=!1,u,d=null,h=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(h),s)a=s.marker;else if(!r)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),i&&a&&(a=Gt(a)),u&&(d=u.marker,i&&(d=Gt(d)),a&&d<=a&&(d=null)),d?l=!0:r||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(a,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:a,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function GJ(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Sf(t,e,n,r,i,s){let a=ui(),l=ZS(n);for(let u of t){let d=aL(u,e,n,r,l,i,s);d&&cw(d,a)}return a}function cw(t,e=ui()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function JS(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=lv(t,s=>YJ(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return ui()}function YJ(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function ui(){return{defs:{},instances:{}}}function ex(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function lv(t,e){let n=Rl(t.defs,e),r=Rl(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function KJ(t,e){let{defs:n,instances:r}=t,i={},s={};for(let a in n)e.defs[a]||(i[a]=n[a]);for(let a in r)!e.instances[a]&&i[r[a].defId]&&(s[a]=r[a]);return{defs:i,instances:s}}function QJ(t,e){return Array.isArray(t)?Sf(t,null,e,!0):typeof t=="object"&&t?Sf([t],null,e,!0):t!=null?String(t):null}function qO(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const sm={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:oe,overlap:oe,allow:oe,className:qO,classNames:qO,color:String,backgroundColor:String,borderColor:String,textColor:String},XJ={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function am(t,e){let n=QJ(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function lL(t){return t.reduce(ZJ,XJ)}function ZJ(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const JJ={id:String,defaultAllDay:Boolean,url:String,format:String,events:oe,eventDataTransform:oe,success:oe,failure:oe};function cL(t,e,n=uL(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=qS(r,n),a=eee(i,e);if(a)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Fl(),sourceDefId:a.sourceDefId,meta:a.meta,ui:am(i,e),extendedProps:s}}return null}function uL(t){return Object.assign(Object.assign(Object.assign({},sm),JJ),t.pluginHooks.eventSourceRefiners)}function eee(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function tee(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return nee(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return ree(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return iee(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return ex(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Dl(t,r.activeRange,i):t;case"REMOVE_EVENTS":return KJ(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return fL(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return lv(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return ui();default:return t}}function nee(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let a=Sf(dL(i,e,s),e,s);return r&&(a=Dl(a,r,s)),ex(fL(t,e.sourceId),a)}return t}function ree(t,e,n,r,i){const{defIdMap:s,instanceIdMap:a}=aee(t);let l=Sf(dL(n,e,i),e,i,!1,s,a);return Dl(l,r,i)}function dL(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=WO(t,i)),r&&(t=WO(t,r)),t}function WO(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function iee(t,e,n,r){return n&&(e=Dl(e,n,r)),ex(t,e)}function GO(t,e,n){let{defs:r}=t,i=ga(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function fL(t,e){return lv(t,n=>n.sourceId!==e)}function see(t,e){return{defs:t.defs,instances:Rl(t.instances,n=>!e[n.instanceId])}}function aee(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const a=e[s],{publicId:l}=a;l&&(r[l]=s)}for(let s in n){const a=n[s],l=e[a.defId],{publicId:u}=l;u&&(i[u]=s)}return{defIdMap:r,instanceIdMap:i}}class cv{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){oee(this.handlers,e,n)}off(e,n){lee(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let a of s)a.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function oee(t,e,n){(t[e]||(t[e]=[])).push(n)}function lee(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const cee={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function uee(t,e){return Sf(dee(t),null,e)}function dee(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},cee),n)),e}function hL(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},tx(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function fee(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function tx(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,Tee(t,e.dateEnv)),n}function YO(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=Gt(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function nx(t,e,n,r){let i=om(t.defs,e),s=ui();for(let a in t.defs){let l=t.defs[a];s.defs[a]=hee(l,i[a],n,r)}for(let a in t.instances){let l=t.instances[a],u=s.defs[l.defId];s.instances[a]=gee(l,u,i[l.defId],n,r)}return s}function hee(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let a of r.pluginHooks.eventDefMutationAppliers)a(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function gee(t,e,n,r,i){let{dateEnv:s}=i,a=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,u=Object.assign({},t);return a&&(u.range=rL(u.range)),r.datesDelta&&n.startEditable&&(u.range={start:s.add(u.range.start,r.datesDelta),end:s.add(u.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(u.range={start:s.add(u.range.start,r.startDelta),end:u.range.end}),r.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:s.add(u.range.end,r.endDelta)}),l&&(u.range={start:u.range.start,end:YO(e.allDay,u.range.start,i)}),e.allDay&&(u.range={start:Gt(u.range.start),end:Gt(u.range.end)}),u.range.end<u.range.start&&(u.range.end=YO(e.allDay,u.range.start,i)),u}class qc{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class un{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in sL)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=xp[e](n),this.mutate({standardProps:{publicId:n}});else if(e in xp)n=xp[e](n),this.mutate({standardProps:{[e]:n}});else if(e in sm){let r=sm[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,a=Qc(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=Qc(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},a=i.createMarker(e),l;if(a&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){let u=this._instance.range;r.allDay===!0&&(u=rL(u));let d=Qc(u.start,a,i,r.granularity);if(l){let h=Qc(u.end,l,i,r.granularity);FZ(d,h)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:h,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let n=yt(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=yt(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=yt(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=an(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),a=JS(s,n.instanceId);a=nx(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let u=new un(i,r,n);this._def=a.defs[r.defId],this._instance=a.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:a}),i.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:vl(a,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=gL(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new qc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,a={allDay:n.allDay};return n.title&&(a.title=n.title),i&&(a.start=i),s&&(a.end=s),n.publicId&&(a.id=n.publicId),n.groupId&&(a.groupId=n.groupId),n.url&&(a.url=n.url),r.display&&r.display!=="auto"&&(a.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?a.color=r.backgroundColor:(r.backgroundColor&&(a.backgroundColor=r.backgroundColor),r.borderColor&&(a.borderColor=r.borderColor)),r.textColor&&(a.textColor=r.textColor),r.classNames.length&&(a.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,n.extendedProps):a.extendedProps=n.extendedProps),a}toJSON(){return this.toPlainObject()}}function gL(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function vl(t,e,n){let{defs:r,instances:i}=t,s=[],a=n?n.instanceId:"";for(let l in i){let u=i[l],d=r[u.defId];u.instanceId!==a&&s.push(new un(e,d,u))}return s}function uw(t,e,n,r){let i={},s={},a={},l=[],u=[],d=om(t.defs,e);for(let h in t.defs){let g=t.defs[h];d[g.defId].display==="inverse-background"&&(g.groupId?(i[g.groupId]=[],a[g.groupId]||(a[g.groupId]=g)):s[h]=[])}for(let h in t.instances){let g=t.instances[h],m=t.defs[g.defId],v=d[m.defId],b=g.range,y=!m.allDay&&r?QS(b,r):b,S=mo(y,n);S&&(v.display==="inverse-background"?m.groupId?i[m.groupId].push(S):s[g.defId].push(S):v.display!=="none"&&(v.display==="background"?l:u).push({def:m,ui:v,instance:g,range:S,isStart:y.start&&y.start.valueOf()===S.start.valueOf(),isEnd:y.end&&y.end.valueOf()===S.end.valueOf()}))}for(let h in i){let g=i[h],m=VO(g,n);for(let v of m){let b=a[h],y=d[b.defId];l.push({def:b,ui:y,instance:null,range:v,isStart:!1,isEnd:!1})}}for(let h in s){let g=s[h],m=VO(g,n);for(let v of m)l.push({def:t.defs[h],ui:d[h],instance:null,range:v,isStart:!1,isEnd:!1})}return{bg:l,fg:u}}function pee(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function KO(t,e){t.fcSeg=e}function fu(t){return t.fcSeg||t.parentNode.fcSeg||null}function om(t,e){return ga(t,n=>pL(n,e))}function pL(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),lL(n)}function rx(t,e){let n=t.map(mee);return n.sort((r,i)=>MZ(r,i,e)),n.map(r=>r._seg)}function mee(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function vee(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,a=s.startEditable;for(let l of r)a=l(a,i,s,e);return a}function yee(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function bee(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Jd(t,e,n,r,i,s,a){let{dateEnv:l,options:u}=n,{displayEventTime:d,displayEventEnd:h}=u,g=t.eventRange.def,m=t.eventRange.instance;d==null&&(d=r!==!1),h==null&&(h=i!==!1);let v=m.range.start,b=m.range.end,y=s||t.start||t.eventRange.range.start,S=a||t.end||t.eventRange.range.end,C=Gt(v).valueOf()===Gt(y).valueOf(),T=Gt(po(b,-1)).valueOf()===Gt(po(S,-1)).valueOf();return d&&!g.allDay&&(C||T)?(y=C?v:y,S=T?b:S,h&&g.hasEnd?l.formatRange(y,S,e,{forcedStartTzo:s?null:m.forcedStartTzo,forcedEndTzo:a?null:m.forcedEndTzo}):l.format(y,e,{forcedTzo:s?null:m.forcedStartTzo})):""}function ua(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&ca(e,r.start)}}function _ee(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function mL(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function ix(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:a}=e,{eventInteractive:l}=a;return l==null&&(l=n.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?Y2(u=>{s.trigger("eventClick",{el:u.target,event:new un(e,n,r),jsEvent:u,view:e.viewApi})}):{}}const wee={start:oe,end:oe,allDay:Boolean};function See(t,e,n){let r=xee(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function xee(t,e){let{refined:n,extra:r}=qS(t,wee),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:a}=n;return a==null&&(a=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:a},r)}function Eee(t,e){return zJ(t.range,e.range)&&t.allDay===e.allDay&&Cee(t,e)}function Cee(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function Tee(t,e){return Object.assign(Object.assign({},yL(t.range,e,t.allDay)),{allDay:t.allDay})}function vL(t,e,n){return Object.assign(Object.assign({},yL(t,e,n)),{timeZone:e.timeZone})}function yL(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function Aee(t,e,n){let r=oL({editable:!1},n),i=lw(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:pL(i,e),instance:XS(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function Ree(t,e,n){let r=!1,i=function(l){r||(r=!0,e(l))},s=function(l){r||(r=!0,n(l))},a=t(i,s);a&&typeof a.then=="function"&&a.then(i,s)}class QO extends Error{constructor(e,n){super(e),this.response=n}}function Dee(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new QO("Failure parsing JSON",i)});throw new QO("Request failed",i)})}let N0;function bL(){return N0==null&&(N0=Oee()),N0}function Oee(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class Mee extends Dt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{im(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{im(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",a=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return bL()||a.push("fc-liquid-hack"),e.children(a,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let Du=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function kee(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function sx(t){return{[t.component.uid]:t}}const dw={};class zl extends ci{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,a;return i?(s=n.dateEnv.startOf(r,e.unit),a=n.dateEnv.add(s,yt(1,e.unit)).valueOf()-r.valueOf()):(s=r,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:Nee(s)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}zl.contextType=ya;function Nee(t){let e=Gt(t),n=In(e,1);return{start:e,end:n}}class Iee{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,a;for(let l in n)i.push(l);for(s=0;s<i.length;s+=1)if(a=n[i[s]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=yt(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),an(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),an(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=See(r,i.dateEnv,yt({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),hL(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),fee(e,n))}addEvent(e,n){if(e instanceof un){let a=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:cw({def:a,instance:l})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof qc)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=GS(r.eventSources));else if(n!=null){let a=this.getEventSourceById(n);if(!a)return console.warn(`Could not find an event source with ID "${n}"`),null;i=a.internalEventSource}let s=aL(e,i,r,!1);if(s){let a=new un(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:cw(s)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:gL(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let a=r[s];if(a.publicId===e){if(a.recurringDef)return new un(n,a,null);for(let l in i){let u=i[l];if(u.defId===a.defId)return new un(n,a,u)}}}return null}getEvents(){let e=this.getCurrentData();return vl(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new qc(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new qc(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof qc)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=cL(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new qc(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=yt(e);n&&this.trigger("_scrollRequest",{time:n})}}function Pee(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function _L(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function jee(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function Lee(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Fee(t,e){return{left:t.left-e.left,top:t.top-e.top}}const I0=ui();class Uee{constructor(){this.getKeysForEventDefs=Fe(this._getKeysForEventDefs),this.splitDateSelection=Fe(this._splitDateSpan),this.splitEventStore=Fe(this._splitEventStore),this.splitIndividualUi=Fe(this._splitIndividualUi),this.splitEventDrag=Fe(this._splitInteraction),this.splitEventResize=Fe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),a=this.splitEventStore(e.eventStore,r),l=this.splitEventDrag(e.eventDrag),u=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=ga(n,(h,g)=>this.eventUiBuilders[g]||Fe(zee));for(let h in n){let g=n[h],m=a[h]||I0,v=this.eventUiBuilders[h];d[h]={businessHours:g.businessHours||e.businessHours,dateSelection:i[h]||null,eventStore:m,eventUiBases:v(e.eventUiBases[""],g.ui,s[h]),eventSelection:m.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[h]||null,eventResize:u[h]||null}}return d}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return ga(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let a in r)for(let l of n[a])s[l]||(s[l]=ui()),s[l].defs[a]=r[a];for(let a in i){let l=i[a];for(let u of n[l.defId])s[u]&&(s[u].instances[a]=l)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),a=l=>{n[l]||(n[l]={affectedEvents:r[l]||I0,mutatedEvents:s[l]||I0,isEvent:e.isEvent})};for(let l in r)a(l);for(let l in s)a(l)}return n}}function zee(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":lL(r)};return n&&Object.assign(i,n),i}function ax(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!ca(r.activeRange,t))),isOther:!!(r&&!ca(r.currentRange,t)),isToday:!!(e&&ca(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function uv(t,e){let n=["fc-day",`fc-day-${$Z[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const Hee=an({year:"numeric",month:"long",day:"numeric"}),Bee=an({week:"long"});function hu(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:a}=t;let l=i.format(e,n==="week"?Bee:Hee);if(s.navLinks){let u=i.toDate(e);const d=h=>{let g=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof g=="function"?g.call(a,i.toDate(e),h):(typeof g=="string"&&(n=g),a.zoomTo(e,n))};return Object.assign({title:Xd(s.navLinkHint,[l,u],l),"data-navlink":""},r?G2(d):{onClick:d})}return{"aria-label":l}}let P0=null;function $ee(){return P0===null&&(P0=Vee()),P0}function Vee(){let t=document.createElement("div");Qd(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return zS(t),n}let j0;function qee(){return j0||(j0=Wee()),j0}function Wee(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=wL(t);return document.body.removeChild(t),e}function wL(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function Gee(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,l=wL(t),u=l.y-r-i,d=l.x-s-a,h={borderLeft:r,borderRight:i,borderTop:s,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return $ee()&&n.direction==="rtl"?h.scrollbarLeft=u:h.scrollbarRight=u,e&&(h.paddingLeft=parseInt(n.paddingLeft,10)||0,h.paddingRight=parseInt(n.paddingRight,10)||0,h.paddingTop=parseInt(n.paddingTop,10)||0,h.paddingBottom=parseInt(n.paddingBottom,10)||0),h}function Yee(t,e=!1,n){let r=ox(t),i=Gee(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function ox(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Kee(t){let e=SL(t),n=t.getBoundingClientRect();for(let r of e){let i=_L(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function SL(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class gu{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Wg(this.tops||[],e.tops||[])&&Wg(this.bottoms||[],e.bottoms||[])&&Wg(this.lefts||[],e.lefts||[])&&Wg(this.rights||[],e.rights||[])}}function Wg(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class lx{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Qee extends lx{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Xee extends lx{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class is extends Dt{constructor(){super(...arguments),this.uid=Fl()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!gr(e,".fc-event-mirror")}isValidDateDownEl(e){return!gr(e,".fc-event:not(.fc-bg-event)")&&!gr(e,".fc-more-link")&&!gr(e,"a[data-navlink]")&&!gr(e,".fc-popover")}}class xL{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:cx(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(L0(i,n.level,n.levelCoord),L0(r,n.level,[e])):L0(r[n.level],n.lateral,e),this.stackCnts[yl(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,a=n.length,l=0,u=-1,d=-1,h=null,g=0;for(let b=0;b<a;b+=1){const y=n[b];if(!i&&y>=l+this.getEntryThickness(e))break;let S=r[b],C,T=hw(S,e.span.start,fw),A=T[0]+T[1];for(;(C=S[A])&&C.span.start<e.span.end;){let M=y+this.getEntryThickness(C);M>l&&(l=M,h=C,u=b,d=A),M===l&&(g=Math.max(g,s[yl(C)]+1)),A+=1}}let m=0;if(h)for(m=u+1;m<a&&n[m]<l;)m+=1;let v=-1;return m<a&&n[m]===l&&(v=hw(r[m],e.span.end,fw)[0]),{touchingLevel:u,touchingLateral:d,touchingEntry:h,stackCnt:g,levelCoord:l,level:m,lateral:v}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let a=e[s],l=n[s];for(let u of a)i.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:l}))}return i}}function fw(t){return t.span.end}function yl(t){return t.index+":"+t.span.start}function Zee(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)cx(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:Jee(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function Jee(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function cx(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function L0(t,e,n){t.splice(e,0,n)}function hw(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),a=n(t[s]);if(e<a)i=s;else if(e>a)r=s+1;else return[s,1]}return[r,0]}class ete{constructor(e,n){this.emitter=new cv}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const ux={};function tte(t,e){return!t||e>10?an({weekday:"short"}):e>1?an({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):an({weekday:"long"})}const EL="fc-col-header-cell";function CL(t){return t.text}class nte extends Dt{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:a,dateProfile:l}=s,u=ax(a,s.todayRange,null,l),d=[EL].concat(uv(u,r)),h=e.format(a,s.dayHeaderFormat),g=!u.isDisabled&&s.colCnt>1?hu(this.context,a):{},m=e.toDate(a);e.namedTimeZoneImpl&&(m=po(m,36e5));let v=Object.assign(Object.assign(Object.assign({date:m,view:i},s.extraRenderProps),{text:h}),u);return U(vr,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":u.isDisabled?void 0:qf(a)},s.extraDataAttrs),renderProps:v,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:CL,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},b=>U("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&U(b,{elTag:"a",elAttrs:g,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const rte=an({weekday:"long"});class ite extends Dt{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,a=In(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=n.format(a,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:a},l),{view:i}),e.extraRenderProps),{text:u});return U(vr,{elTag:"th",elClasses:[EL,...uv(l,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:CL,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},h=>U("div",{className:"fc-scrollgrid-sync-inner"},U(h,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(a,rte)}})))}}class TL extends Dt{constructor(){super(...arguments),this.createDayHeaderFormatter=Fe(ste)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return U(zl,{unit:"day"},(l,u)=>U("tr",{role:"row"},s&&s("day"),n.map(d=>i?U(nte,{key:d.toISOString(),date:d,dateProfile:r,todayRange:u,colCnt:n.length,dayHeaderFormat:a}):U(ite,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:a}))))}}function ste(t,e,n){return t||tte(e,n)}class AL{constructor(e,n){let r=e.start,{end:i}=e,s=[],a=[],l=-1;for(;r<i;)n.isHiddenDay(r)?s.push(l+.5):(l+=1,s.push(l),a.push(r)),r=In(r,1);this.dates=a,this.indices=s,this.cnt=a.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(In(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Ro(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class RL{constructor(e,n){let{dates:r}=e,i,s,a;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);a=Math.ceil(r.length/i)}else a=1,i=r.length;this.rowCnt=a,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:a}=r,l=s;for(;l<=a;){let u=Math.floor(l/n),d=Math.min((u+1)*n,a+1);i.push({row:u,firstCol:l%n,lastCol:(d-1)%n,isStart:r.isStart&&l===s,isEnd:r.isEnd&&d-1===a}),l=d}}return i}}class DL{constructor(){this.sliceBusinessHours=Fe(this._sliceBusinessHours),this.sliceDateSelection=Fe(this._sliceDateSpan),this.sliceEventStore=Fe(this._sliceEventStore),this.sliceEventDrag=Fe(this._sliceInteraction),this.sliceEventResize=Fe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:a}=e,l=this.sliceEventStore(e.eventStore,a,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,a,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,a,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:po(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(Dl(e,Gg(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let a=uw(e,n,Gg(r,!!i),i);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let a=uw(e.mutatedEvents,n,Gg(r,!!i),i);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...a){if(!e)return[];let l=Gg(n,!!r),u=mo(e.range,l);if(u){e=Object.assign(Object.assign({},e),{range:u});let d=Aee(e,i,s),h=this.sliceRange(e.range,...a);for(let g of h)g.eventRange=d;return h}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:In(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function Gg(t,e){let n=t.activeRange;return e?n:{start:po(n.start,t.slotMinTime.milliseconds),end:po(n.end,t.slotMaxTime.milliseconds-864e5)}}function OL(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!ov(e.validRange,r[i].range))return!1;return ML({eventDrag:t},n)}function ate(t,e,n){return ov(e.validRange,t.range)?ML({dateSelection:t},n):!1}function ML(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||ote)(r,e)}function ote(t,e,n={},r){return!(t.eventDrag&&!lte(t,e,n,r)||t.dateSelection&&!cte(t,e,n,r))}function lte(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,a=s.mutatedEvents,l=a.defs,u=a.instances,d=om(l,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(d=ga(d,r));let h=see(t.eventStore,s.affectedEvents.instances),g=h.defs,m=h.instances,v=om(g,t.eventUiBases);for(let b in u){let y=u[b],S=y.range,C=d[y.defId],T=l[y.defId];if(!kL(C.constraints,S,h,t.businessHours,e))return!1;let{eventOverlap:A}=e.options,M=typeof A=="function"?A:null;for(let k in m){let N=m[k];if(KS(S,N.range)&&(v[N.defId].overlap===!1&&s.isEvent||C.overlap===!1||M&&!M(new un(e,g[N.defId],N),new un(e,T,y))))return!1}let D=i.eventStore;for(let k of C.allows){let N=Object.assign(Object.assign({},n),{range:y.range,allDay:T.allDay}),O=D.defs[T.defId],j=D.instances[b],z;if(O?z=new un(e,O,j):z=new un(e,T),!k(tx(N,e),z))return!1}}return!0}function cte(t,e,n,r){let i=t.eventStore,s=i.defs,a=i.instances,l=t.dateSelection,u=l.range,{selectionConfig:d}=e.getCurrentData();if(r&&(d=r(d)),!kL(d.constraints,u,i,t.businessHours,e))return!1;let{selectOverlap:h}=e.options,g=typeof h=="function"?h:null;for(let m in a){let v=a[m];if(KS(u,v.range)&&(d.overlap===!1||g&&!g(new un(e,s[v.defId],v),null)))return!1}for(let m of d.allows){let v=Object.assign(Object.assign({},n),l);if(!m(tx(v,e),null))return!1}return!0}function kL(t,e,n,r,i){for(let s of t)if(!dte(ute(s,e,n,r,i),e))return!1;return!0}function ute(t,e,n,r,i){return t==="businessHours"?F0(Dl(r,e,i)):typeof t=="string"?F0(lv(n,s=>s.groupId===t)):typeof t=="object"&&t?F0(Dl(t,e,i)):[]}function F0(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function dte(t,e){for(let n of t)if(ov(n,e))return!0;return!1}const Yg=/^(visible|hidden)$/;class NL extends Dt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Es(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),U("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Yg.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Yg.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Yg.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Yg.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ia{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,a=!1,l=!1;n!==null?(a=r in s,s[r]=n,i[r]=(i[r]||0)+1,l=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(r)),l&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return xJ(this.currentMap,e,n,r)}getAll(){return GS(this.currentMap)}}function fte(t){let e=wZ(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,PZ(r));return Math.ceil(n)}function IL(t,e){return t.liquid&&e.liquid}function hte(t,e){return e.maxHeight!=null||IL(t,e)}function gte(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):U("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,U(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function pte(t,e){return go(t,e,es)}function mte(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(U("col",{style:{width:r.width==="shrink"?vte(e):r.width||"",minWidth:r.minWidth||""}}))}return U("colgroup",{},...n)}function vte(t){return t??4}function yte(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function bte(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function _te(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function gw(t){return U("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function lm(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function PL(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class dx extends Dt{constructor(){super(...arguments),this.processCols=Fe(e=>e,pte),this.renderMicroColGroup=Fe(mte),this.scrollerRefs=new ia,this.scrollerElRefs=new ia(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),a=this.renderMicroColGroup(s,n.shrinkWidth),l=bte(e.liquid,r);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let u=i.length,d=0,h,g=[],m=[],v=[];for(;d<u&&(h=i[d]).type==="header";)g.push(this.renderSection(h,a,!0)),d+=1;for(;d<u&&(h=i[d]).type==="body";)m.push(this.renderSection(h,a,!1)),d+=1;for(;d<u&&(h=i[d]).type==="footer";)v.push(this.renderSection(h,a,!0)),d+=1;let b=!bL();const y={role:"rowgroup"};return U("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!b&&g.length)&&U("thead",y,...g),!!(!b&&m.length)&&U("tbody",y,...m),!!(!b&&v.length)&&U("tfoot",y,...v),b&&U("tbody",y,...g,...m,...v))}renderSection(e,n,r){return"outerContent"in e?U(Bt,{key:e.key},e.outerContent):U("tr",{key:e.key,role:"presentation",className:_te(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:u}=this.state,d=hte(s,e),h=IL(s,e),g=s.liquid?a?"scroll":d?"auto":"hidden":"visible",m=e.key,v=gte(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[m]!==void 0?l[m]:null,clientHeight:u[m]!==void 0?u[m]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return U(i?"th":"td",{ref:r.elRef,role:"presentation"},U("div",{className:`fc-scroller-harness${h?" fc-scroller-harness-liquid":""}`},U(NL,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:g,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:h,liquidIsAbsolute:!0},v)))}_handleScrollerEl(e,n){let r=wte(this.props.sections,n);r&&Es(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return yte(this.props.cols)?fte(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=qee(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},a={};for(let l in n.currentMap){let u=n.currentMap[l];if(u&&u.needsYScrolling()){i=!0;break}}for(let l of this.props.sections){let u=l.key,d=r.currentMap[u];if(d){let h=d.parentNode;s[u]=Math.floor(h.getBoundingClientRect().width-(i?e.y:0)),a[u]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:a}}}dx.addStateEquality({scrollerClientWidths:es,scrollerClientHeights:es});function wte(t,e){for(let n of t)if(n.key===e)return n;return null}class dv extends Dt{constructor(){super(...arguments),this.buildPublicEvent=Fe((e,n,r)=>new un(e,n,r)),this.handleEl=e=>{this.el=e,Es(this.props.elRef,e),e&&KO(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:a}=s,l={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&vee(i,n),isStartResizable:!e.disableResizing&&yee(i,n),isEndResizable:!e.disableResizing&&bee(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return U(vr,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[..._ee(l),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&KO(this.el,this.props.seg)}}class fx extends Dt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,a=r.eventTimeFormat||e.defaultTimeFormat,l=Jd(i,a,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return U(dv,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:ix(i,n),defaultGenerator:Ste,timeText:l}),(u,d)=>U(Bt,null,U(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&U("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&U("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}fx.addPropsEquality({seg:es});function Ste(t){return U("div",{className:"fc-event-main-frame"},t.timeText&&U("div",{className:"fc-event-time"},t.timeText),U("div",{className:"fc-event-title-container"},U("div",{className:"fc-event-title fc-sticky"},t.event.title||U(Bt,null," "))))}const hx=t=>U(ya.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return U(vr,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),xte=an({day:"numeric"});class gx extends Dt{constructor(){super(...arguments),this.refineRenderProps=Sp(Ete)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return U(vr,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":qf(e.date)}),elClasses:[...uv(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function px(t){return!!(t.dayCellContent||ow("dayCellContent",t))}function Ete(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=ax(e,t.todayRange,null,r),a=t.showDayNumber?n.format(e,i?t.monthStartFormat:xte):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:a}),t.extraRenderProps)}class jL extends Dt{render(){let{props:e}=this,{seg:n}=e;return U(dv,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:Cte,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Cte(t){let{title:e}=t.event;return e&&U("div",{className:"fc-event-title"},t.event.title)}function LL(t){return U("div",{className:`fc-${t}`})}const FL=t=>U(ya.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,a=n.computeWeekNumber(i),l=n.format(i,s),u={num:a,text:l,date:i};return U(vr,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Tte,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function Tte(t){return t.text}const U0=10;class Ate extends Dt{constructor(){super(...arguments),this.state={titleId:oo()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Es(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=q2(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return oZ(U("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),U("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},U("span",{className:"fc-popover-title",id:i.titleId},r.title),U("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),U("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=Kee(n);if(s){let a=i.getBoundingClientRect(),l=r?gr(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,u=e?s.right-a.width:s.left;l=Math.max(l,U0),u=Math.min(u,document.documentElement.clientWidth-U0-a.width),u=Math.max(u,U0);let d=i.offsetParent.getBoundingClientRect();Qd(i,{top:l-d.top,left:u-d.left})}}}class Rte extends is{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:a}=r,l=n.format(i,e.dayPopoverFormat);return U(gx,{elRef:this.handleRootEl,date:i,dateProfile:a,todayRange:s},(u,d,h)=>U(Ate,{elRef:h.ref,id:r.id,title:l,extraClassNames:["fc-more-popover"].concat(h.className||[]),extraAttrs:h,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},px(e)&&U(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:a}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class UL extends Dt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:oo()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Es(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=XO(n).start;function a(l){let{def:u,instance:d,range:h}=l.eventRange;return{event:new un(r,u,d),start:r.dateEnv.toDate(h.start),end:r.dateEnv.toDate(h.end),isStart:l.isStart,isEnd:l.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(a),hiddenSegs:n.hiddenSegs.map(a),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return U(ya.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:a}=r,{moreLinkText:l}=s,{moreCnt:u}=e,d=XO(e),h=typeof l=="function"?l.call(a,u):`+${u} ${l}`,g=Xd(s.moreLinkHint,[u],h),m={num:u,shortText:`+${u}`,text:h,view:i};return U(Bt,null,!!e.moreCnt&&U(vr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),G2(this.handleClick)),{title:g,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||Dte,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&U(Rte,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=gr(this.linkEl,".fc-view-harness"))}}function Dte(t){return t.text}function XO(t){if(t.allDayDate)return{start:t.allDayDate,end:In(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:zL(e),end:Mte(e)}}function zL(t){return t.reduce(Ote).eventRange.range.start}function Ote(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Mte(t){return t.reduce(kte).eventRange.range.end}function kte(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Nte{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class Ite extends Nte{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const Pte=[],HL={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},BL=Object.assign(Object.assign({},HL),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function jte(t){let e=t.length>0?t[0].code:"en",n=Pte.concat(t),r={en:BL};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function $L(t,e){return typeof t=="object"&&!Array.isArray(t)?VL(t.code,[t.code],t):Lte(t,e)}function Lte(t,e){let n=[].concat(t||[]),r=Fte(n,e)||BL;return VL(t,n,r)}function Fte(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function VL(t,e,n){let r=WS([HL,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function Rs(t){return{id:Fl(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Ute(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let a of s){const l=a.name,u=n[l];u===void 0?(n[l]=a.id,i(a.deps),r=Hte(r,a)):u!==a.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&i(t),i(e),r}function zte(){let t=[],e=[],n;return(r,i)=>((!n||!go(r,t)||!go(i,e))&&(n=Ute(r,i)),t=r,e=i,n)}function Hte(t,e){return{premiumReleaseDate:Bte(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function Bte(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Do extends Wf{}Do.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Do.prototype.baseIconClass="fc-icon";Do.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Do.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Do.prototype.iconOverrideOption="buttonIcons";Do.prototype.iconOverrideCustomButtonOption="icon";Do.prototype.iconOverridePrefix="fc-icon-";function $te(t,e){let n={},r;for(r in t)pw(r,n,t,e);for(r in e)pw(r,n,t,e);return n}function pw(t,e,n,r){if(e[t])return e[t];let i=Vte(t,e,n,r);return i&&(e[t]=i),i}function Vte(t,e,n,r){let i=n[t],s=r[t],a=h=>i&&i[h]!==null?i[h]:s&&s[h]!==null?s[h]:null,l=a("component"),u=a("superType"),d=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");d=pw(u,e,n,r)}return!l&&d&&(l=d.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},d?d.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function ZO(t){return ga(t,qte)}function qte(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=JO(e):n&&!(n.prototype instanceof Dt)&&(n=JO(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function JO(t){return e=>U(ya.Consumer,null,n=>U(vr,{elTag:"div",elClasses:nL(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function Wte(t,e,n,r){let i=ZO(t),s=ZO(e.views),a=$te(i,s);return ga(a,l=>Gte(l,s,e,n,r))}function Gte(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,a=null,l="",u="",d={};if(s&&(a=Yte(s),a)){let m=aw(a);l=m.unit,m.value===1&&(u=l,d=e[l]?e[l].rawOptions:{})}let h=m=>{let v=m.buttonText||{},b=t.defaults.buttonTextKey;return b!=null&&v[b]!=null?v[b]:v[t.type]!=null?v[t.type]:v[u]!=null?v[u]:null},g=m=>{let v=m.buttonHints||{},b=t.defaults.buttonTextKey;return b!=null&&v[b]!=null?v[b]:v[t.type]!=null?v[t.type]:v[u]!=null?v[u]:null};return{type:t.type,component:t.component,duration:a,durationUnit:l,singleUnit:u,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:h(r)||h(n)||t.overrides.buttonText,buttonTextDefault:h(i)||t.defaults.buttonText||h(Zd)||t.type,buttonTitleOverride:g(r)||g(n)||t.overrides.buttonHint,buttonTitleDefault:g(i)||t.defaults.buttonHint||g(Zd)}}let eM={};function Yte(t){let e=JSON.stringify(t),n=eM[e];return n===void 0&&(n=yt(t),eM[e]=n),n}function Kte(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Qte(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Xte(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function Zte(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Jte(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function ene(t,e,n){let r=e?e.activeRange:null;return WL({},one(t,n),r,n)}function tne(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return WL(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return rne(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?GL(t,i,r):t;case"FETCH_EVENT_SOURCES":return mx(t,e.sourceIds?X2(e.sourceIds):YL(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return ane(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function nne(t,e,n){let r=e?e.activeRange:null;return mx(t,YL(t,n),r,!0,n)}function qL(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function WL(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=GL(i,n,r)),Object.assign(Object.assign({},t),i)}function rne(t,e){return Rl(t,n=>n.sourceId!==e)}function GL(t,e,n){return mx(t,Rl(t,r=>ine(r,e,n)),e,!1,n)}function ine(t,e,n){return KL(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function mx(t,e,n,r,i){let s={};for(let a in t){let l=t[a];e[a]?s[a]=sne(l,n,r,i):s[a]=l}return s}function sne(t,e,n,r){let{options:i,calendarApi:s}=r,a=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=Fl();return a.fetch({eventSource:t,range:e,isRefetch:n,context:r},u=>{let{rawEvents:d}=u;i.eventSourceSuccess&&(d=i.eventSourceSuccess.call(s,d,u.response)||d),t.success&&(d=t.success.call(s,d,u.response)||d),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},u=>{let d=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,u),d=!0),t.failure&&(t.failure(u),d=!0),d||console.warn(u.message,u),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:u})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function ane(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function YL(t,e){return Rl(t,n=>KL(n,e))}function one(t,e){let n=uL(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let a=cL(s,e,n);a&&i.push(a)}return i}function KL(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function lne(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function cne(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function une(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function dne(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function fne(t,e,n,r,i){let s=t.headerToolbar?tM(t.headerToolbar,t,e,n,r,i):null,a=t.footerToolbar?tM(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:a}}function tM(t,e,n,r,i,s){let a={},l=[],u=!1;for(let d in t){let h=t[d],g=hne(h,e,n,r,i,s);a[d]=g.widgets,l.push(...g.viewsWithButtons),u=u||g.hasTitle}return{sectionWidgets:a,viewsWithButtons:l,hasTitle:u}}function hne(t,e,n,r,i,s){let a=e.direction==="rtl",l=e.customButtons||{},u=n.buttonText||{},d=e.buttonText||{},h=n.buttonHints||{},g=e.buttonHints||{},m=t?t.split(" "):[],v=[],b=!1;return{widgets:m.map(S=>S.split(",").map(C=>{if(C==="title")return b=!0,{buttonName:C};let T,A,M,D,k,N;if(T=l[C])M=O=>{T.click&&T.click.call(O.target,O,O.target)},(D=r.getCustomButtonIconClass(T))||(D=r.getIconClass(C,a))||(k=T.text),N=T.hint||T.text;else if(A=i[C]){v.push(C),M=()=>{s.changeView(C)},(k=A.buttonTextOverride)||(D=r.getIconClass(C,a))||(k=A.buttonTextDefault);let O=A.buttonTextOverride||A.buttonTextDefault;N=Xd(A.buttonTitleOverride||A.buttonTitleDefault||e.viewHint,[O,C],O)}else if(s[C])if(M=()=>{s[C]()},(k=u[C])||(D=r.getIconClass(C,a))||(k=d[C]),C==="prevYear"||C==="nextYear"){let O=C==="prevYear"?"prev":"next";N=Xd(h[O]||g[O],[d.year||"year","year"],d[C])}else N=O=>Xd(h[C]||g[C],[d[O]||O,O],d[C]);return{buttonName:C,buttonClick:M,buttonIcon:D,buttonText:k,buttonHint:N}})),viewsWithButtons:v,hasTitle:b}}class gne{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let pne={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const mne=Rs({name:"array-event-source",eventSourceDefs:[pne]});let vne={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;Ree(i.bind(null,vL(t.range,r)),s=>e({rawEvents:s}),n)}};const yne=Rs({name:"func-event-source",eventSourceDefs:[vne]}),bne={method:String,extraParams:oe,startParam:String,endParam:String,timeZoneParam:String};let _ne={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=Sne(r,t.range,t.context);Dee(r.method,r.url,i).then(([s,a])=>{e({rawEvents:s,response:a})},n)}};const wne=Rs({name:"json-event-source",eventSourceRefiners:bne,eventSourceDefs:[_ne]});function Sne(t,e,n){let{dateEnv:r,options:i}=n,s,a,l,u,d={};return s=t.startParam,s==null&&(s=i.startParam),a=t.endParam,a==null&&(a=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},Object.assign(d,u),d[s]=r.formatIso(e.start),d[a]=r.formatIso(e.end),r.timeZone!=="local"&&(d[l]=r.timeZone),d}const xne={daysOfWeek:oe,startTime:yt,endTime:yt,duration:yt,startRecur:oe,endRecur:oe};let Ene={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=UZ(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=mo(e,{start:t.startRecur,end:t.endRecur});return r?Tne(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const Cne=Rs({name:"simple-recurring-event",recurringTypes:[Ene],eventRefiners:xne});function Tne(t,e,n,r,i){let s=t?X2(t):null,a=Gt(i.start),l=i.end,u=[];for(e&&(e.milliseconds<0?l=In(l,1):e.milliseconds>=1e3*60*60*24&&(a=In(a,-1)));a<l;){let d;(!s||s[a.getUTCDay()])&&(e?d=r.add(a,e):d=a,u.push(r.createMarker(n.toDate(d)))),a=In(a,1)}return u}const Ane=Rs({name:"change-handler",optionChangeHandlers:{events(t,e){nM([t],e)},eventSources:nM}});function nM(t,e){let n=GS(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let a=0;a<n.length;a+=1)if(n[a]._raw===i){n.splice(a,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function Rne(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},vL(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Dne(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",vl(t,e))}const One=[mne,yne,wne,Cne,Ane,Rs({name:"misc",isLoadingFuncs:[t=>qL(t.eventSources)],propSetHandlers:{dateProfile:Rne,eventStore:Dne}})];class Mne{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new US(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function kne(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,an(e.titleFormat||Nne(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Nne(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=em(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class rM{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class Ine{constructor(e){this.computeCurrentViewData=Fe(this._computeCurrentViewData),this.organizeRawLocales=Fe(jte),this.buildLocale=Fe($L),this.buildPluginHooks=zte(),this.buildDateEnv=Fe(Pne),this.buildTheme=Fe(jne),this.parseToolbars=Fe(fne),this.buildViewSpecs=Fe(Wte),this.buildDateProfileGenerator=Sp(Lne),this.buildViewApi=Fe(Fne),this.buildViewUiProps=Sp(Hne),this.buildEventUiBySource=Fe(Une,es),this.buildEventUiBases=Fe(zne),this.parseContextBusinessHours=Sp(Bne),this.buildTitle=Fe(kne),this.nowManager=new rM,this.emitter=new cv,this.actionRunner=new Mne(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=e,this.actionRunner.pause(),this.nowManager=new rM;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let a={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=Xte(r.calendarOptions,r.dateEnv,this.nowManager),u=s.dateProfileGenerator.build(l);ca(u.activeRange,l)||(l=u.currentRange.start);for(let m of r.pluginHooks.contextInit)m(a);let d=ene(r.calendarOptions,u,a),h={dynamicOptionOverrides:n,currentViewType:i,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(a),eventSources:d,eventUiBases:{},eventStore:ui(),renderableEventStore:ui(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},g=Object.assign(Object.assign({},a),h);for(let m of r.pluginHooks.reducers)Object.assign(h,m(null,null,g));z0(h,a)&&this.emitter.trigger("loading",!0),this.state=h,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=Zte(r.dynamicOptionOverrides,e),a=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),l=Kte(r.currentViewType,e),u=this.computeCurrentViewData(l,a,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(u.options);let d={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:g}=r;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(g=u.dateProfileGenerator.build(h)),h=Qte(h,e),g=Jte(g,e,h,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ca(g.currentRange,h))&&(h=g.currentRange.start);let m=tne(r.eventSources,e,g,d),v=tee(r.eventStore,e,m,g,d),y=qL(m)&&!u.options.progressiveEventRendering&&r.renderableEventStore||v,{eventUiSingleBase:S,selectionConfig:C}=this.buildViewUiProps(d),T=this.buildEventUiBySource(m),A=this.buildEventUiBases(y.defs,S,T),M={dynamicOptionOverrides:s,currentViewType:l,currentDate:h,dateProfile:g,eventSources:m,eventStore:v,renderableEventStore:y,selectionConfig:C,eventUiBases:A,businessHours:this.parseContextBusinessHours(d),dateSelection:lne(r.dateSelection,e),eventSelection:cne(r.eventSelection,e),eventDrag:une(r.eventDrag,e),eventResize:dne(r.eventResize,e)},D=Object.assign(Object.assign({},d),M);for(let O of a.pluginHooks.reducers)Object.assign(M,O(r,e,D));let k=z0(r,d),N=z0(M,d);!k&&N?i.trigger("loading",!0):k&&!N&&i.trigger("loading",!1),this.state=M,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),l=i.pluginHooks.optionChangeHandlers,u=r&&r.calendarOptions,d=i.calendarOptions;if(u&&u!==d){u.timeZone!==d.timeZone&&(n.eventSources=a.eventSources=nne(a.eventSources,n.dateProfile,a),n.eventStore=a.eventStore=GO(a.eventStore,r.dateEnv,a.dateEnv),n.renderableEventStore=a.renderableEventStore=GO(a.renderableEventStore,r.dateEnv,a.dateEnv));for(let h in l)(this.optionsForHandling.indexOf(h)!==-1||u[h]!==d[h])&&l[h](d[h],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:a,availableLocaleData:l,extra:u}=this.processRawCalendarOptions(e,n);iM(u);let d=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,l,i.defaultRangeSeparator),h=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),g=this.buildTheme(i,s),m=this.parseToolbars(i,this.stableOptionOverrides,g,h,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:d,viewSpecs:h,theme:g,toolbarConfig:m,localeDefaults:a,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=M0([Zd,e,n]),s=this.organizeRawLocales(r),a=s.map,l=this.buildLocale(i||s.defaultCode,a).options,u=this.buildPluginHooks(e.plugins||[],One),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},HO),BO),$O),u.listenerRefiners),u.optionRefiners),h={},g=M0([Zd,l,e,n]),m={},v=this.currentCalendarOptionsInput,b=this.currentCalendarOptionsRefined,y=!1;for(let S in g)this.optionsForRefining.indexOf(S)===-1&&(g[S]===v[S]||il[S]&&S in v&&il[S](v[S],g[S]))?m[S]=b[S]:d[S]?(m[S]=d[S](g[S]),y=!0):h[S]=v[S];return y&&(this.currentCalendarOptionsInput=g,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:s,localeDefaults:l,extra:h}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:l}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);iM(l),this.nowManager.handleInput(n.dateEnv,a.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:u,viewApi:d}}processRawViewOptions(e,n,r,i,s){let a=M0([Zd,e.optionDefaults,r,i,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},HO),BO),$O),yJ),n.listenerRefiners),n.optionRefiners),u={},d=this.currentViewOptionsInput,h=this.currentViewOptionsRefined,g=!1,m={};for(let v in a)a[v]===d[v]||il[v]&&il[v](a[v],d[v])?u[v]=h[v]:(a[v]===this.currentCalendarOptionsInput[v]||il[v]&&il[v](a[v],this.currentCalendarOptionsInput[v])?v in this.currentCalendarOptionsRefined&&(u[v]=this.currentCalendarOptionsRefined[v]):l[v]?u[v]=l[v](a[v]):m[v]=a[v],g=!0);return g&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}}function Pne(t,e,n,r,i,s,a,l){let u=$L(e||a.defaultCode,a.map);return new DJ({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function jne(t,e){let n=e.themeClasses[t.themeSystem]||Do;return new n(t)}function Lne(t){let e=t.dateProfileGeneratorClass||iL;return new e(t)}function Fne(t,e,n){return new gne(t,e,n)}function Une(t){return ga(t,e=>e.ui)}function zne(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function Hne(t){let{options:e}=t;return{eventUiSingleBase:am({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:am({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function z0(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function Bne(t){return uee(t.options.businessHours,t)}function iM(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class $ne extends Dt{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return U("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let a of e){let{buttonName:l,buttonClick:u,buttonText:d,buttonIcon:h,buttonHint:g}=a;if(l==="title")s=!1,i.push(U("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let m=l===n.activeButton,v=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",b=[`fc-${l}-button`,r.getClass("button")];m&&b.push(r.getClass("buttonActive")),i.push(U("button",{type:"button",title:typeof g=="function"?g(n.navUnit):g,disabled:v,"aria-pressed":m,className:b.join(" "),onClick:u},d||(h?U("span",{className:h,role:"img"}):"")))}}if(i.length>1){let a=s&&r.getClass("buttonGroup")||"";return U("div",{className:a},...i)}return i[0]}}class sM extends Dt{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,a=e.sectionWidgets,l=a.center;return a.left?(r=!0,i=a.left):i=a.start,a.right?(r=!0,s=a.right):s=a.end,U("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return U($ne,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class Vne extends Dt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Es(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",a="";return r?n.availableWidth!==null?s=n.availableWidth/r:a=`${1/r*100}%`:s=e.height||"",U("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class qne extends Du{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,a=fu(r);if(a&&i.isValidSegDownEl(n.target)){let l=gr(n.target,".fc-event-forced-url"),u=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new un(i.context,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi}),u&&!n.defaultPrevented&&(window.location.href=u)}},this.destroy=W2(e.el,"click",".fc-event",this.handleSegClick)}}class Wne extends Du{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{fu(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=EZ(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,a=fu(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new un(s,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi})}}class Gne extends Ul{constructor(){super(...arguments),this.buildViewContext=Fe(kJ),this.buildViewPropTransformers=Fe(Kne),this.buildToolbarProps=Fe(Yne),this.headerRef=Er(),this.footerRef=Er(),this.interactionsStore={},this.state={viewLabelId:oo()},this.registerInteractiveComponent=(e,n)=>{let r=kee(e,n),a=[qne,Wne].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(r));this.interactionsStore[e.uid]=a,dw[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete dw[e.uid]},this.resizeRunner=new US(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,s="",a;e.isHeightAuto||e.forPrint?s="":r.height!=null?i=!0:r.contentHeight!=null?s=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return U(ya.Provider,{value:l},U(zl,{unit:"day"},d=>{let h=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return U(Bt,null,n.header&&U(sM,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},h)),U(Vne,{liquid:i,height:s,aspectRatio:a,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&U(sM,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},h)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return U(Bt,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of s)Object.assign(i,l.transform(i,e));let a=r.component;return U(a,Object.assign({},i))}}function Yne(t,e,n,r,i,s){let a=n.build(i,void 0,!1),l=n.buildPrev(e,r,!1),u=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:a.isValid&&!ca(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:u.isValid}}function Kne(t){return t.map(e=>new e)}class Qne extends Iee{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;im(()=>{_f(U(Mee,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,a,l)=>(this.setClassNames(i),this.setHeight(s),U(tL.Provider,{value:this.customContentRenderId},U(Gne,Object.assign({isHeightAuto:a,forPrint:l},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,_f(null,this.el),this.setClassNames([]),this.setHeight(""))},pZ(e),this.el=e,this.renderRunner=new US(this.handleRenderRequest),new Ine({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){im(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!go(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){V2(this.el,"height",e)}}const Xne=parseInt(String(le.version).split(".")[0]),Zne=Xne<18;class QL extends E.Component{constructor(){super(...arguments),this.elRef=E.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(le.createElement(Jne,{key:n.id,customRendering:n}));return le.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new Ite;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Qne(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{oi.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),s=!n;(Zne||s||this.isUpdating||this.isUnmounting||i-n<100?XL:oi.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}QL.act=XL;class Jne extends E.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return oi.createPortal(r,e.containerEl)}}function XL(t){t()}class ere extends is{constructor(){super(...arguments),this.headerElRef=Er()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],a=lm(i.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),U(wf,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},U(dx,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:a,context:l}=this,u=!a.forPrint&&lm(l.options),d=!a.forPrint&&PL(l.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:gw}]}),U(wf,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},U(s,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:h}))}}function Ep(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Kg(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function aM(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const ZL=an({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function JL(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class eF extends Dt{render(){let{props:e}=this;return U(fx,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:ZL,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class tF extends Dt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||ZL,a=Jd(i,s,n,!0,e.defaultDisplayEventEnd);return U(dv,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:ix(e.seg,n),defaultGenerator:tre,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function tre(t){return U(Bt,null,U("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&U("div",{className:"fc-event-time"},t.timeText),U("div",{className:"fc-event-title"},t.event.title||U(Bt,null," ")))}class nre extends Dt{constructor(){super(...arguments),this.compileSegs=Fe(rre)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return U(UL,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return U(Bt,null,n.map(s=>{let a=s.eventRange.instance.instanceId;return U("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:i[a]?"hidden":""}},JL(s)?U(tF,Object.assign({seg:s,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},ua(s,e.todayRange))):U(eF,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},ua(s,e.todayRange))))}))}})}}function rre(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const ire=an({week:"narrow"});class sre extends is{constructor(){super(...arguments),this.rootElRef=Er(),this.state={dayNumberId:oo()},this.handleRootEl=e=>{Es(this.rootElRef,e),Es(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:a}=e,{date:l,dateProfile:u}=n;const d=n.showDayNumber&&ore(l,u.currentRange,a);return U(gx,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:are,date:l,dateProfile:u,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(h,g)=>U("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&U(FL,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:hu(e,l,"week"),date:l,defaultFormat:ire}),!g.isDisabled&&(n.showDayNumber||px(s)||n.forceDayTop)?U("div",{className:"fc-daygrid-day-top"},U(h,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},hu(e,l)),{id:r.dayNumberId})})):n.showDayNumber?U("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},U("a",{className:"fc-daygrid-day-number"}," ")):void 0,U("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,U("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},U(nre,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),U("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function are(t){return t.dayNumberText||U(Bt,null," ")}function ore(t,e,n){const{start:r,end:i}=e,s=po(i,-1),a=n.getYear(r),l=n.getMonth(r),u=n.getYear(s),d=n.getMonth(s);return!(a===u&&l===d)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function nF(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function rF(t){return nF(t)+":"+t.lastCol}function lre(t,e,n,r,i,s,a){let l=new dre(C=>{let T=t[C.index].eventRange.instance.instanceId+":"+C.span.start+":"+(C.span.end-1);return i[T]||1});l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let u=[],d=[];for(let C=0;C<t.length;C+=1){let T=t[C],A=rF(T);i[A]!=null?u.push({index:C,span:{start:T.firstCol,end:T.lastCol+1}}):d.push(T)}let h=l.addSegs(u),g=l.toRects(),{singleColPlacements:m,multiColPlacements:v,leftoverMargins:b}=cre(g,t,a),y=[],S=[];for(let C of d){v[C.firstCol].push({seg:C,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let T=C.firstCol;T<=C.lastCol;T+=1)m[T].push({seg:su(C,T,T+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let C=0;C<a.length;C+=1)y.push(0);for(let C of h){let T=t[C.index],A=C.span;v[A.start].push({seg:su(T,A.start,A.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let M=A.start;M<A.end;M+=1)y[M]+=1,m[M].push({seg:su(T,M,M+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let C=0;C<a.length;C+=1)S.push(b[C]);return{singleColPlacements:m,multiColPlacements:v,moreCnts:y,moreMarginTops:S}}function cre(t,e,n){let r=ure(t,n.length),i=[],s=[],a=[];for(let l=0;l<n.length;l+=1){let u=r[l],d=[],h=0,g=0;for(let v of u){let b=e[v.index];d.push({seg:su(b,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-h}),h=v.levelCoord+v.thickness}let m=[];h=0,g=0;for(let v of u){let b=e[v.index],y=v.span.end-v.span.start>1,S=v.span.start===l;g+=v.levelCoord-h,h=v.levelCoord+v.thickness,y?(g+=v.thickness,S&&m.push({seg:su(b,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):S&&(m.push({seg:su(b,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:g}),g=0)}i.push(d),s.push(m),a.push(g)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:a}}function ure(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function su(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,a=mo(s,{start:r[e].date,end:In(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:t.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===s.end.valueOf()})}class dre extends xL{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[yl(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:a,touchingLevel:l,touchingLateral:u}=e;if(this.hiddenConsumes&&a){const d=yl(a);if(!s[d])if(this.allowReslicing){const h=Object.assign(Object.assign({},a),{span:cx(a.span,n.span)}),g=yl(h);s[g]=!0,i[l][u]=h,r.push(h),this.splitEntry(a,n,r)}else s[d]=!0,r.push(a)}super.handleInvalidInsertion(e,n,r)}}class iF extends is{constructor(){super(...arguments),this.cellElRefs=new ia,this.frameElRefs=new ia,this.fgElRefs=new ia,this.segHarnessRefs=new ia,this.rootElRef=Er(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,a=Kg(e.businessHourSegs,s),l=Kg(e.bgEventSegs,s),u=Kg(this.getHighlightSegs(),s),d=Kg(this.getMirrorSegs(),s),{singleColPlacements:h,multiColPlacements:g,moreCnts:m,moreMarginTops:v}=lre(rx(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),b=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return U("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((y,S)=>{let C=this.renderFgSegs(S,e.forPrint?h[S]:g[S],e.todayRange,b),T=this.renderFgSegs(S,fre(d[S],g),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return U(sre,{key:y.key,elRef:this.cellElRefs.createRef(y.key),innerElRef:this.frameElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&S===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,moreCnt:m[S],moreMarginTop:v[S],singlePlacements:h[S],fgContentElRef:this.fgElRefs.createRef(y.key),fgContent:U(Bt,null,U(Bt,null,C),U(Bt,null,T)),bgContent:U(Bt,null,this.renderFillSegs(u[S],"highlight"),this.renderFillSegs(a[S],"non-business"),this.renderFillSegs(l[S],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!es(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,a,l){let{context:u}=this,{eventSelection:d}=this.props,{framePositions:h}=this.state,g=this.props.cells.length===1,m=s||a||l,v=[];if(h)for(let b of n){let{seg:y}=b,{instanceId:S}=y.eventRange.instance,C=b.isVisible&&!i[S],T=b.isAbsolute,A="",M="";T&&(u.isRtl?(M=0,A=h.lefts[y.lastCol]-h.lefts[y.firstCol]):(A=0,M=h.rights[y.firstCol]-h.rights[y.lastCol])),v.push(U("div",{className:"fc-daygrid-event-harness"+(T?" fc-daygrid-event-harness-abs":""),key:nF(y),ref:m?null:this.segHarnessRefs.createRef(rF(y)),style:{visibility:C?"":"hidden",marginTop:T?"":b.marginTop,top:T?b.absoluteTop:"",left:A,right:M}},JL(y)?U(tF,Object.assign({seg:y,isDragging:s,isSelected:S===d,defaultDisplayEventEnd:g},ua(y,r))):U(eF,Object.assign({seg:y,isDragging:s,isResizing:a,isDateSelecting:l,isSelected:S===d,defaultDisplayEventEnd:g},ua(y,r)))))}return v}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,a=[];if(s)for(let l of e){let u=r?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};a.push(U("div",{key:mL(l.eventRange),className:"fc-daygrid-bg-harness",style:u},n==="bg-event"?U(jL,Object.assign({seg:l},ua(l,i))):LL(n)))}return U(Bt,{},...a)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let u=n.cells.map(d=>i.currentMap[d.key]);if(u.length){let d=this.rootElRef.current,h=new gu(d,u,!0,!1);(!r.framePositions||!r.framePositions.similarTo(h))&&this.setState({framePositions:new gu(d,u,!0,!1)})}}const s=this.state.segHeights,a=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),a),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}iF.addStateEquality({segHeights:es});function fre(t,e){if(!t.length)return[];let n=hre(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function hre(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class gre extends is{constructor(){super(...arguments),this.splitBusinessHourSegs=Fe(Ep),this.splitBgEventSegs=Fe(pre),this.splitFgEventSegs=Fe(Ep),this.splitDateSelectionSegs=Fe(Ep),this.splitEventDrag=Fe(aM),this.splitEventResize=Fe(aM),this.rowRefs=new ia}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),a=this.splitFgEventSegs(e.fgEventSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),u=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r),h=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return U(zl,{unit:"day"},(g,m)=>U(Bt,null,e.cells.map((v,b)=>U(iF,{ref:this.rowRefs.createRef(b),key:v.length?v[0].date.toISOString():b,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:v,renderIntro:e.renderRowIntro,businessHourSegs:i[b],eventSelection:e.eventSelection,bgEventSegs:s[b],fgEventSegs:a[b],dateSelectionSegs:l[b],eventDrag:u[b],eventResize:d[b],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new gu(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new gu(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),a=i.topToIndex(n);if(a!=null&&s!=null){let l=this.props.cells[a][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(a,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[a],bottom:i.bottoms[a]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=In(r,1);return{start:r,end:i}}}function pre(t,e){return Ep(t.filter(mre),e)}function mre(t){return t.eventRange.def.allDay}class vre extends is{constructor(){super(...arguments),this.elRef=Er(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let a=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return U("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},U("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,U("tbody",{role:"presentation"},U(gre,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=yre(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function yre(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${tJ(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${qf(e.currentDate)}"]`)),n}class bre extends DL{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class sF extends is{constructor(){super(...arguments),this.slicer=new bre,this.tableRef=Er()}render(){let{props:e,context:n}=this;return U(vre,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class _re extends ere{constructor(){super(...arguments),this.buildDayTableModel=Fe(wre),this.headerRef=Er(),this.tableRef=Er()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&U(TL,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),a=l=>U(sF,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,a,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,a)}}function wre(t,e){let n=new AL(t.renderRange,e);return new RL(n,/year|month|week/.test(t.currentRangeUnit))}class Sre extends iL{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return xre({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function xre(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=jO(s,1))),t.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(In(n.end,-1))),l=Math.ceil(VZ(a,i));i=jO(i,6-l)}return{start:r,end:i}}var Ere=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';sv(Ere);var Cre=Rs({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:_re,dateProfileGeneratorClass:Sre},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Tre extends Uee{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?pee(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Are=an({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function aF(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return U(ya.Consumer,null,n=>{if(!t.isLabeled)return U("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,a=i.slotLabelFormat==null?Are:Array.isArray(i.slotLabelFormat)?an(i.slotLabelFormat[0]):an(i.slotLabelFormat),l={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,a)};return U(vr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:Rre,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},u=>U("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},U(u,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Rre(t){return t.text}class Dre extends Dt{render(){return this.props.slatMetas.map(e=>U("tr",{key:e.key},U(aF,Object.assign({},e))))}}const Ore=an({week:"short"}),Mre=5;class kre extends is{constructor(){super(...arguments),this.allDaySplitter=new Tre,this.headerElRef=Er(),this.rootElRef=Er(),this.scrollerElRef=Er(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,l=Ro(s.start,s.end)===1?hu(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?U(FL,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:Ore},u=>U("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},U(u,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):U("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},U("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return U(vr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:Nre,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>U("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},U(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,a=[],l=lm(i.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(a.push({type:"body",key:"all-day",chunk:{content:n}}),a.push({type:"body",key:"all-day-divider",outerContent:U("tr",{role:"presentation",className:"fc-scrollgrid-section"},U("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),U(wf,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},U(dx,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,n,r,i,s,a,l){let u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");let{context:d,props:h}=this,g=!h.forPrint&&lm(d.options),m=!h.forPrint&&PL(d.options),v=[];e&&v.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>U("tr",{role:"presentation"},this.renderHeadAxis("day",y.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(v.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>U("tr",{role:"presentation"},this.renderTableRowAxis(y.rowSyncHeights[0]))},{key:"cols",content:n}]}),v.push({key:"all-day-divider",type:"body",outerContent:U("tr",{role:"presentation",className:"fc-scrollgrid-section"},U("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let b=d.options.nowIndicator;return v.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:y=>U("div",{className:"fc-timegrid-axis-chunk"},U("table",{"aria-hidden":!0,style:{height:y.expandRows?y.clientHeight:""}},y.tableColGroupNode,U("tbody",null,U(Dre,{slatMetas:a}))),U("div",{className:"fc-timegrid-now-indicator-container"},U(zl,{unit:b?"minute":"day"},S=>{let C=b&&l&&l.safeComputeTop(S);return typeof C=="number"?U(hx,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:C},isAxis:!0,date:S}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),m&&v.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:gw},{key:"cols",content:gw}]}),U(wf,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},U(u,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:v}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=Mre),{dayMaxEvents:e,dayMaxEventRows:n}}}function Nre(t){return t.text}class Ire{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(ca(n.currentRange,e)){let r=Gt(e),i=e.valueOf()-r.valueOf();if(i>=Yi(n.slotMinTime)&&i<Yi(n.slotMaxTime))return this.computeTimeTop(yt(i))}return null}computeDateTop(e,n){return n||(n=Gt(e)),this.computeTimeTop(yt(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-Yi(r.slotMinTime))/Yi(this.slotDuration),a,l;return s=Math.max(0,s),s=Math.min(i,s),a=Math.floor(s),a=Math.min(a,i-1),l=s-a,n.tops[a]+n.getHeight(a)*l}}class Pre extends Dt{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return U("tbody",null,e.slatMetas.map((s,a)=>{let l={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return U("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&U(aF,Object.assign({},s)),U(vr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class jre extends Dt{constructor(){super(...arguments),this.rootElRef=Er(),this.slatElRefs=new ia}render(){let{props:e,context:n}=this;return U("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},U("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,U(Pre,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new Ire(new gu(this.rootElRef.current,Lre(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Lre(t,e){return e.map(n=>t[n.key])}function Od(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function oM(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class Fre extends Dt{render(){let{props:e}=this;return U(UL,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>lF(e.hiddenSegs,e),defaultGenerator:Ure,forceTimed:!0},n=>U(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Ure(t){return t.shortText}function zre(t,e,n){let r=new xL;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=Zee(i),a=Hre(r);return a=qre(a,1),{segRects:Wre(a),hiddenGroups:s}}function Hre(t){const{entriesByLevel:e}=t,n=vx((r,i)=>r+":"+i,(r,i)=>{let s=Vre(t,r,i),a=lM(s,n),l=e[r][i];return[Object.assign(Object.assign({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return lM(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function lM(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,a=[];for(;s<i;)a.push(e(n,s)),s+=1;return a.sort(Bre),[a.map($re),a[0][1]]}function Bre(t,e){return e[1]-t[1]}function $re(t){return t[0]}function Vre(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],a=r[e]+s.thickness,l=r.length,u=e;for(;u<l&&r[u]<a;u+=1);for(;u<l;u+=1){let d=i[u],h,g=hw(d,s.span.start,fw),m=g[0]+g[1],v=m;for(;(h=d[v])&&h.span.start<s.span.end;)v+=1;if(m<v)return{level:u,lateralStart:m,lateralEnd:v}}return null}function qre(t,e){const n=vx((r,i,s)=>yl(r),(r,i,s)=>{let{nextLevelNodes:a,thickness:l}=r,u=l+s,d=l/u,h,g=[];if(!a.length)h=e;else for(let v of a)if(h===void 0){let b=n(v,i,u);h=b[0],g.push(b[1])}else{let b=n(v,h,0);g.push(b[1])}let m=(h-i)*d;return[h-m,Object.assign(Object.assign({},r),{thickness:m,nextLevelNodes:g})]});return t.map(r=>n(r,0,0)[1])}function Wre(t){let e=[];const n=vx((i,s,a)=>yl(i),(i,s,a)=>{let l=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:a,stackForward:0});return e.push(l),l.stackForward=r(i.nextLevelNodes,s+i.thickness,a+1)+1});function r(i,s,a){let l=0;for(let u of i)l=Math.max(n(u,s,a),l);return l}return r(t,0,0),e}function vx(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function cM(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let a=t[s],l=n.computeDateTop(a.start,e),u=Math.max(l+(r||0),n.computeDateTop(a.end,e));i.push({start:Math.round(l),end:Math.round(u)})}return i}function Gre(t,e,n,r){let i=[],s=[];for(let d=0;d<t.length;d+=1){let h=e[d];h?i.push({index:d,thickness:1,span:h}):s.push(t[d])}let{segRects:a,hiddenGroups:l}=zre(i,n,r),u=[];for(let d of a)u.push({seg:t[d.index],rect:d});for(let d of s)u.push({seg:d,rect:null});return{segPlacements:u,hiddenGroups:l}}const Yre=an({hour:"numeric",minute:"2-digit",meridiem:!1});class oF extends Dt{render(){return U(fx,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Yre}))}}class Kre extends Dt{constructor(){super(...arguments),this.sortEventSegs=Fe(rx)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return U(gx,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},u=>U("div",{className:"fc-timegrid-col-frame"},U("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),U("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,a,!1,!1,!1)),U("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),U("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),px(r)&&U(u,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,a){let{props:l}=this;return l.forPrint?lF(e,l):this.renderPositionedFgSegs(e,n,r,i,s,a)}renderPositionedFgSegs(e,n,r,i,s,a){let{eventMaxStack:l,eventShortHeight:u,eventOrderStrict:d,eventMinHeight:h}=this.context.options,{date:g,slatCoords:m,eventSelection:v,todayRange:b,nowDate:y}=this.props,S=r||i||s,C=cM(e,g,m,h),{segPlacements:T,hiddenGroups:A}=Gre(e,C,d,l);return U(Bt,null,this.renderHiddenGroups(A,e),T.map(M=>{let{seg:D,rect:k}=M,N=D.eventRange.instance.instanceId,O=S||!!(!n[N]&&k),j=H0(k&&k.span),z=!S&&k?this.computeSegHStyle(k):{left:0,right:0},B=!!k&&k.stackForward>0,Q=!!k&&k.span.end-k.span.start<u;return U("div",{className:"fc-timegrid-event-harness"+(B?" fc-timegrid-event-harness-inset":""),key:a||N,style:Object.assign(Object.assign({visibility:O?"":"hidden"},j),z)},U(oF,Object.assign({seg:D,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:N===v,isShort:Q},ua(D,b,y))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d}=this.props;return U(Bt,null,e.map(h=>{let g=H0(h.span),m=Qre(h.entries,n);return U(Fre,{key:Q2(zL(m)),hiddenSegs:m,top:g.top,bottom:g.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d})}))}renderFillSegs(e,n){let{props:r,context:i}=this,a=cM(e,r.date,r.slatCoords,i.options.eventMinHeight).map((l,u)=>{let d=e[u];return U("div",{key:mL(d.eventRange),className:"fc-timegrid-bg-harness",style:H0(l)},n==="bg-event"?U(jL,Object.assign({seg:d},ua(d,r.todayRange,r.nowDate))):LL(n))});return U(Bt,null,a)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>U(hx,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,a=e.levelCoord+e.thickness,l,u;i&&(a=Math.min(1,s+(a-s)*2)),n?(l=1-a,u=s):(l=s,u=1-a);let d={zIndex:e.stackDepth+1,left:l*100+"%",right:u*100+"%"};return i&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=20),d}}function lF(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let a=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return U(Bt,null,t.map(l=>{let u=l.eventRange.instance.instanceId;return U("div",{key:u,style:{visibility:a[u]?"hidden":""}},U(oF,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===r,isShort:!1},ua(l,e,n))))}))}function H0(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function Qre(t,e){return t.map(n=>e[n.index])}class Xre extends Dt{constructor(){super(...arguments),this.splitFgEventSegs=Fe(Od),this.splitBgEventSegs=Fe(Od),this.splitBusinessHourSegs=Fe(Od),this.splitNowIndicatorSegs=Fe(Od),this.splitDateSelectionSegs=Fe(Od),this.splitEventDrag=Fe(oM),this.splitEventResize=Fe(oM),this.rootElRef=Er(),this.cellElRefs=new ia}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitBusinessHourSegs(e.businessHourSegs,i),u=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),d=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),g=this.splitEventResize(e.eventResize,i);return U("div",{className:"fc-timegrid-cols",ref:this.rootElRef},U("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,U("tbody",{role:"presentation"},U("tr",{role:"row"},e.axis&&U("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},U("div",{className:"fc-timegrid-col-frame"},U("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&U(hx,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((m,v)=>U(Kre,{key:m.key,elRef:this.cellElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,fgEventSegs:s[v],bgEventSegs:a[v],businessHourSegs:l[v],nowIndicatorSegs:u[v],dateSelectionSegs:d[v],eventDrag:h[v],eventResize:g[v],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new gu(this.rootElRef.current,Zre(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Zre(t,e){return e.map(n=>t[n.key])}class Jre extends is{constructor(){super(...arguments),this.processSlotOptions=Fe(eie),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return U("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},U(jre,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),U(Xre,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:a}=this.props,{slatCoords:l}=this.state,{snapDuration:u,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),h=s.leftToIndex(e),g=l.positions.topToIndex(n);if(h!=null&&g!=null){let m=this.props.cells[h],v=l.positions.tops[g],b=l.positions.getHeight(g),y=(n-v)/b,S=Math.floor(y*d),C=g*d+S,T=this.props.cells[h].date,A=sw(a.slotMinTime,zZ(u,C)),M=r.add(T,A),D=r.add(M,u);return{dateProfile:a,dateSpan:Object.assign({range:{start:M,end:D},allDay:!1},m.extraDateSpan),dayEl:s.els[h],rect:{left:s.lefts[h],right:s.rights[h],top:v,bottom:v+b},layer:0}}return null}}function eie(t,e){let n=e||t,r=$S(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class tie extends DL{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=mo(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class nie extends is{constructor(){super(...arguments),this.buildDayRanges=Fe(rie),this.slicer=new tie,this.timeColsRef=Er()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:a}=n.options,l=this.buildDayRanges(i,r,n.dateEnv);return U(zl,{unit:s?"minute":"day"},(u,d)=>U(Jre,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:u,nowIndicatorSegs:s&&this.slicer.sliceNowDate(u,r,a,n,l),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function rie(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const uM=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function iie(t,e,n,r,i){let s=new Date(0),a=t,l=yt(0),u=n||sie(r),d=[];for(;Yi(a)<Yi(e);){let h=i.add(s,a),g=$S(l,u)!==null;d.push({date:h,time:a,key:h.toISOString(),isoTimeStr:nJ(h),isLabeled:g}),a=sw(a,r),l=sw(l,r)}return d}function sie(t){let e,n,r;for(e=uM.length-1;e>=0;e-=1)if(n=yt(uM[e]),r=$S(n,t),r!==null&&r>1)return n;return t}class aie extends kre{constructor(){super(...arguments),this.buildTimeColsModel=Fe(oie),this.buildSlatMetas=Fe(iie)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,a=this.buildTimeColsModel(s,r),l=this.allDaySplitter.splitProps(i),u=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,h=!d,g=d,m=e.dayHeaders&&U(TL,{dates:a.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),v=e.allDaySlot!==!1&&(y=>U(sF,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:y.tableMinWidth,colGroupNode:y.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:y.clientWidth,clientHeight:y.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),b=y=>U(nie,Object.assign({},l.timed,{dayTableModel:a,dateProfile:s,axis:h,slotDuration:e.slotDuration,slatMetas:u,forPrint:i.forPrint,tableColGroupNode:y.tableColGroupNode,tableMinWidth:y.tableMinWidth,clientWidth:y.clientWidth,clientHeight:y.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:y.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(m,v,b,a.colCnt,d,u,this.state.slatCoords):this.renderSimpleLayout(m,v,b)}}function oie(t,e){let n=new AL(t.renderRange,e);return new RL(n,!1)}var lie='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';sv(lie);const cie={allDaySlot:Boolean};var uie=Rs({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:cie,views:{timeGrid:{component:aie,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class die extends Dt{constructor(){super(...arguments),this.state={textId:oo()}}render(){let{theme:e,dateEnv:n,options:r,viewApi:i}=this.context,{cellId:s,dayDate:a,todayRange:l}=this.props,{textId:u}=this.state,d=ax(a,l),h=r.listDayFormat?n.format(a,r.listDayFormat):"",g=r.listDaySideFormat?n.format(a,r.listDaySideFormat):"",m=Object.assign({date:n.toDate(a),view:i,textId:u,text:h,sideText:g,navLinkAttrs:hu(this.context,a),sideNavLinkAttrs:hu(this.context,a,"day",!1)},d);return U(vr,{elTag:"tr",elClasses:["fc-list-day",...uv(d,e)],elAttrs:{"data-date":qf(a)},renderProps:m,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:fie,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},v=>U("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":u},U(v,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function fie(t){return U(Bt,null,t.text&&U("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&U("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const hie=an({hour:"numeric",minute:"2-digit",meridiem:"short"});class gie extends Dt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i,timeHeaderId:s,eventHeaderId:a,dateHeaderId:l}=e,u=r.eventTimeFormat||hie;return U(dv,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",i.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>pie(i,n),seg:i,timeText:"",disableDragging:!0,disableResizing:!0}),(d,h)=>U(Bt,null,mie(i,u,n,s,l),U("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},U("span",{className:"fc-list-event-dot",style:{borderColor:h.borderColor||h.backgroundColor}})),U(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${a} ${l}`}})))}}function pie(t,e){let n=ix(t,e);return U("a",Object.assign({},n),t.eventRange.def.title)}function mie(t,e,n,r,i){let{options:s}=n;if(s.displayEventTime!==!1){let a=t.eventRange.def,l=t.eventRange.instance,u=!1,d;if(a.allDay?u=!0:BJ(t.eventRange.range)?t.isStart?d=Jd(t,e,n,null,null,l.range.start,t.end):t.isEnd?d=Jd(t,e,n,null,null,t.start,l.range.end):u=!0:d=Jd(t,e,n),u){let h={text:n.options.allDayText,view:n.viewApi};return U(vr,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${i}`},renderProps:h,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:vie,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return U("td",{className:"fc-list-event-time"},d)}return null}function vie(t){return t.text}class yie extends is{constructor(){super(...arguments),this.computeDateVars=Fe(_ie),this.eventStoreToSegs=Fe(this._eventStoreToSegs),this.state={timeHeaderId:oo(),eventHeaderId:oo(),dateHeaderIdRoot:oo()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:r,dayRanges:i}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,i);return U(wf,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},U(NL,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,r):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,r={text:e.noEventsText,view:n};return U(vr,{elTag:"div",elClasses:["fc-list-empty"],renderProps:r,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:bie,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},i=>U(i,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:r,options:i}=this.context,{timeHeaderId:s,eventHeaderId:a,dateHeaderIdRoot:l}=this.state,u=wie(e);return U(zl,{unit:"day"},(d,h)=>{let g=[];for(let m=0;m<u.length;m+=1){let v=u[m];if(v){let b=qf(n[m]),y=l+"-"+b;g.push(U(die,{key:b,cellId:y,dayDate:n[m],todayRange:h})),v=rx(v,i.eventOrder);for(let S of v)g.push(U(gie,Object.assign({key:b+":"+S.eventRange.instance.instanceId,seg:S,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:a,dateHeaderId:y},ua(S,h,d))))}}return U("table",{className:"fc-list-table "+r.getClass("table")},U("thead",null,U("tr",null,U("th",{scope:"col",id:s},i.timeHint),U("th",{scope:"col","aria-hidden":!0}),U("th",{scope:"col",id:a},i.eventHint))),U("tbody",null,g))})}_eventStoreToSegs(e,n,r){return this.eventRangesToSegs(uw(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)}eventRangesToSegs(e,n){let r=[];for(let i of e)r.push(...this.eventRangeToSegs(i,n));return r}eventRangeToSegs(e,n){let{dateEnv:r}=this.context,{nextDayThreshold:i}=this.context.options,s=e.range,a=e.def.allDay,l,u,d,h=[];for(l=0;l<n.length;l+=1)if(u=mo(s,n[l]),u&&(d={component:this,eventRange:e,start:u.start,end:u.end,isStart:e.isStart&&u.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&u.end.valueOf()===s.end.valueOf(),dayIndex:l},h.push(d),!d.isEnd&&!a&&l+1<n.length&&s.end<r.add(n[l+1].start,i))){d.end=s.end,d.isEnd=!0;break}return h}}function bie(t){return t.text}function _ie(t){let e=Gt(t.renderRange.start),n=t.renderRange.end,r=[],i=[];for(;e<n;)r.push(e),i.push({start:e,end:In(e,1)}),e=In(e,1);return{dayDates:r,dayRanges:i}}function wie(t){let e=[],n,r;for(n=0;n<t.length;n+=1)r=t[n],(e[r.dayIndex]||(e[r.dayIndex]=[])).push(r);return e}var Sie=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';sv(Sie);const xie={listDayFormat:dM,listDaySideFormat:dM,noEventsClassNames:oe,noEventsContent:oe,noEventsDidMount:oe,noEventsWillUnmount:oe};function dM(t){return t===!1?null:an(t)}var Eie=Rs({name:"@fullcalendar/list",optionRefiners:xie,views:{list:{component:yie,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});ux.touchMouseIgnoreWait=500;let mw=0,cm=0,vw=!1;class cF{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&Cie(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,Tie()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new cv,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Aie()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Rie()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||gr(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){vw=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?gr(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return mw||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(vw=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,a=0,l=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(a=i-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:a,deltaY:l}}}function Cie(t){return t.button===0&&!t.ctrlKey}function Tie(){mw+=1,setTimeout(()=>{mw-=1},ux.touchMouseIgnoreWait)}function Aie(){cm+=1,cm===1&&window.addEventListener("touchmove",uF,{passive:!1})}function Rie(){cm-=1,cm||window.removeEventListener("touchmove",uF,{passive:!1})}function uF(t){vw&&t.preventDefault()}class Die{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Qd(r,{left:i.left,top:i.top}),CZ(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(zS(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Qd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Qd(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class dF extends lx{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class fF extends dF{constructor(e,n){super(new Qee(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Yee(this.scrollController.el)}}class Oie extends dF{constructor(e){super(new Xee,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const fM=typeof performance=="function"?performance.now:Date.now;class Mie{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=fM();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,a=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(fM()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,a=s*s/(i*i)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+a*l);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let a of s){let l=a.clientRect,u=e-l.left,d=l.right-e,h=n-l.top,g=l.bottom-n;u>=0&&d>=0&&h>=0&&g>=0&&(h<=r&&this.everMovedUp&&a.canScrollUp()&&(!i||i.distance>h)&&(i={scrollCache:a,name:"top",distance:h}),g<=r&&this.everMovedDown&&a.canScrollDown()&&(!i||i.distance>g)&&(i={scrollCache:a,name:"bottom",distance:g}),u<=r&&this.everMovedLeft&&a.canScrollLeft()&&(!i||i.distance>u)&&(i={scrollCache:a,name:"left",distance:u}),d<=r&&this.everMovedRight&&a.canScrollRight()&&(!i||i.distance>d)&&(i={scrollCache:a,name:"right",distance:d}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new Oie(!1):new fF(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Gf extends ete{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,TZ(document.body),RZ(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,a,{deltaX:l,deltaY:u}=i;a=l*l+u*u,a>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,AZ(document.body),DZ(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new cF(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new Die,this.autoScroller=new Mie}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class kie{constructor(e){this.el=e,this.origRect=ox(e),this.scrollCaches=SL(e).map(n=>new fF(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!Nie(i.getEventTarget())&&!Pee(r,i.clientRect))return!1;return!0}}function Nie(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class fv{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new cv}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=ox(i),r=jee(r,s));let a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&s){let l=_L(s,a.rect);l&&(r=Lee(l))}this.coordAdjust=Fee(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!hv(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=ga(this.droppableStore,e=>(e.component.prepareHits(),new kie(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let a in r){let l=r[a].component,u=i[a];if(u&&u.isWithinClipping(e,n)){let d=u.computeLeft(),h=u.computeTop(),g=e-d,m=n-h,{origRect:v}=u,b=v.right-v.left,y=v.bottom-v.top;if(g>=0&&g<b&&m>=0&&m<y){let S=l.queryHit(g,m,b,y);S&&ov(S.dateProfile.activeRange,S.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(g+d-window.scrollX,m+h-window.scrollY)))&&(!s||S.layer>s.layer)&&(S.componentId=a,S.context=l.context,S.rect.left+=d,S.rect.right+=d,S.rect.top+=h,S.rect.bottom+=h,s=S)}}}return s}}function hv(t,e){return!t&&!e?!0:!!t!=!!e?!1:Eee(t.dateSpan,e.dateSpan)}function hF(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,Iie(t,e.dateEnv)),n}function Iie(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Pie extends Du{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:a,finalHit:l}=this.hitDragging;if(a&&l&&hv(a,l)){let{context:u}=i,d=Object.assign(Object.assign({},hF(a.dateSpan,u)),{dayEl:a.dayEl,jsEvent:r.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",d)}}},this.dragging=new Gf(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new fv(this.dragging,sx(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class jie extends Du{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:l,dragging:u}=this,{options:d}=l.context,h=d.selectable&&l.isValidDateDownEl(a.origEvent.target);u.setIgnoreMove(!h),u.delay=a.isTouch?Lie(l):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,l)=>{let{context:u}=this.component,d=null,h=!1;if(a){let g=this.hitDragging.initialHit;a.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,a)||(d=Fie(g,a,u.pluginHooks.dateSelectionTransformers)),(!d||!ate(d,a.dateProfile,u))&&(h=!0,d=null)}d?u.dispatch({type:"SELECT_DATES",selection:d}):l||u.dispatch({type:"UNSELECT_DATES"}),h?HS():BS(),l||(this.dragSelection=d)},this.handlePointerUp=a=>{this.dragSelection&&(hL(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Gf(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new fv(this.dragging,sx(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Lie(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function Fie(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(IZ);let a={};for(let l of n){let u=l(t,e);if(u===!1)return null;u&&Object.assign(a,u)}return a.range={start:s[0],end:s[3]},a.allDay=r.allDay,a}class Yf extends Du{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:u,dragging:d}=this,{mirror:h}=d,{options:g}=u.context,m=u.context;this.subjectEl=a.subjectEl;let v=this.subjectSeg=fu(a.subjectEl),y=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=JS(m.getCurrentData().eventStore,y),d.minDistance=a.isTouch?0:g.eventDragMinDistance,d.delay=a.isTouch&&y!==u.props.eventSelection?zie(u):null,g.fixedMirrorParent?h.parentNode=g.fixedMirrorParent:h.parentNode=gr(l,".fc"),h.revertDuration=g.dragRevertDuration;let S=u.isValidSegDownEl(l)&&!gr(l,".fc-event-resizer");d.setIgnoreMove(!S),this.isDragging=S&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,u=this.eventRange,d=u.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new un(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.component.context,g=null,m=null,v=null,b=!1,y={affectedEvents:u,mutatedEvents:ui(),isEvent:!0};if(a){g=a.context;let S=g.options;h===g||S.editable&&S.droppable?(m=Uie(d,a,this.eventRange.instance.range.start,g.getCurrentData().pluginHooks.eventDragMutationMassagers),m&&(v=nx(u,g.getCurrentData().eventUiBases,m,g),y.mutatedEvents=v,OL(y,a.dateProfile,g)||(b=!0,m=null,v=null,y.mutatedEvents=ui()))):g=null}this.displayDrag(g,y),b?HS():BS(),l||(h===g&&hv(d,a)&&(m=null),this.dragging.setMirrorNeedsRevert(!m),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=g,this.validMutation=m,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,u=l.viewApi,{receivingContext:d,validMutation:h}=this,g=this.eventRange.def,m=this.eventRange.instance,v=new un(l,g,m),b=this.relevantEvents,y=this.mutatedRelevantEvents,{finalHit:S}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:a.origEvent,view:u}),h){if(d===l){let C=new un(l,y.defs[g.defId],m?y.instances[m.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:y});let T={oldEvent:v,event:C,relatedEvents:vl(y,l,m),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}},A={};for(let M of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(A,M(h,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},T),A),{el:a.subjectEl,delta:h.datesDelta,jsEvent:a.origEvent,view:u})),l.emitter.trigger("eventChange",T)}else if(d){let C={event:v,relatedEvents:vl(b,l,m),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},C),{draggedEl:a.subjectEl,view:u})),l.dispatch({type:"REMOVE_EVENTS",eventStore:b}),l.emitter.trigger("eventRemove",C);let T=y.defs[g.defId],A=y.instances[m.instanceId],M=new un(d,T,A);d.dispatch({type:"MERGE_EVENTS",eventStore:y});let D={event:M,relatedEvents:vl(y,d,A),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:y})}};d.emitter.trigger("eventAdd",D),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:m.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},hF(S.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:S.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},D),{draggedEl:a.subjectEl,view:S.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Gf(e.el);i.pointer.selector=Yf.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new fv(this.dragging,dw);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:ui(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Yf.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Uie(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,a=i.range.start,l=s.range.start,u={};i.allDay!==s.allDay&&(u.allDay=s.allDay,u.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?a=Gt(n):a=n);let d=Qc(a,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(u.allDay=!1);let h={datesDelta:d,standardProps:u};for(let g of r)g(h,t,e);return h}function zie(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class Hie extends Du{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:a}=this,l=this.querySegEl(s),u=fu(l),d=this.eventRange=u.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:a}=this.component,l=this.eventRange;this.relevantEvents=JS(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(s);this.draggingSegEl=u,this.draggingSeg=fu(u),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:u,event:new un(a,l.def,l.instance),jsEvent:s.origEvent,view:a.viewApi})},this.handleHitUpdate=(s,a,l)=>{let{context:u}=this.component,d=this.relevantEvents,h=this.hitDragging.initialHit,g=this.eventRange.instance,m=null,v=null,b=!1,y={affectedEvents:d,mutatedEvents:ui(),isEvent:!0};s&&(s.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,s)||(m=Bie(h,s,l.subjectEl.classList.contains("fc-event-resizer-start"),g.range))),m&&(v=nx(d,u.getCurrentData().eventUiBases,m,u),y.mutatedEvents=v,OL(y,s.dateProfile,u)||(b=!0,m=null,v=null,y.mutatedEvents=null)),v?u.dispatch({type:"SET_EVENT_RESIZE",state:y}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),b?HS():BS(),a||(m&&hv(h,s)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=v)},this.handleDragEnd=s=>{let{context:a}=this.component,l=this.eventRange.def,u=this.eventRange.instance,d=new un(a,l,u),h=this.relevantEvents,g=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:a.viewApi}),this.validMutation){let m=new un(a,g.defs[l.defId],u?g.instances[u.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:g});let v={oldEvent:d,event:m,relatedEvents:vl(g,a,u),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:h})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||yt(0),endDelta:this.validMutation.endDelta||yt(0),jsEvent:s.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",v)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Gf(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new fv(this.dragging,sx(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return gr(e.subjectEl,".fc-event")}}function Bie(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,a=e.dateSpan.range.start,l=Qc(s,a,i,t.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}class $ie{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=q2(r.origEvent);this.matchesCancel=!!gr(s,i),this.matchesEvent=!!gr(s,Yf.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,a=i.getCurrentData();if(!s.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let l=i.options.unselectAuto;l&&(!l||!this.matchesCancel)&&i.calendarApi.unselect(r)}a.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new cF(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Vie={fixedMirrorParent:oe},qie={dateClick:oe,eventDragStart:oe,eventDragStop:oe,eventDrop:oe,eventResizeStart:oe,eventResizeStop:oe,eventResize:oe,drop:oe,eventReceive:oe,eventLeave:oe};ux.dataAttrPrefix="";var Wie=Rs({name:"@fullcalendar/interaction",componentInteractions:[Pie,jie,Yf,Hie],calendarInteractions:[$ie],elementDraggingImpl:Gf,optionRefiners:Vie,listenerRefiners:qie});function Gie({machineId:t,refreshTrigger:e}){const[n,r]=E.useState(!1),[i,s]=E.useState({}),a=le.useRef(null),{machines:l}=Oi(),{odpOrders:u}=hn(),{machineAvailability:d,loadMachineAvailabilityForDateRange:h,toggleMachineHourAvailability:g,getTaskOccupiedSegments:m}=_s(),{showAlert:v}=Mt();As("FullCalendarGrid");const b=l.find(D=>D.id===t),y=E.useCallback(D=>{try{const k=m(D);return k&&k.length>0?k:D.scheduled_start_time&&D.scheduled_end_time?[{start:new Date(D.scheduled_start_time),end:new Date(D.scheduled_end_time),duration:(new Date(D.scheduled_end_time).getTime()-new Date(D.scheduled_start_time).getTime())/(1e3*60*60)}]:[]}catch(k){return console.warn("Failed to get task segments:",k),[]}},[m]),S=E.useMemo(()=>{if(!b)return[];const D=[];return u.filter(k=>k.status==="SCHEDULED"&&k.scheduled_machine_id===b.id&&k.scheduled_start_time&&k.scheduled_end_time).forEach(k=>{const N=y(k);N.forEach((O,j)=>{const z=N.length>1;D.push({id:`${k.id}-segment-${j}`,title:`${k.odp_number} - ${k.article_code}${z?` (${j+1}/${N.length})`:""}`,start:O.start,end:O.end,backgroundColor:z?"#8b5cf6":"#3b82f6",borderColor:z?"#7c3aed":"#2563eb",textColor:"#ffffff",extendedProps:{taskId:k.id,odpNumber:k.odp_number,articleCode:k.article_code,quantity:k.quantity,status:k.status,segmentIndex:j,totalSegments:N.length,isSplitTask:z}})})}),D},[b,u,y]),C=E.useMemo(()=>{if(!d||!b)return[];const D=[];return Object.entries(d).forEach(([k,N])=>{if(Array.isArray(N)){const O=N.find(j=>j.machine_id===t);O&&O.unavailable_hours&&(Array.isArray(O.unavailable_hours)?O.unavailable_hours:[]).forEach(z=>{const B=parseInt(z);if(B<6||B>=22)return;const Q=new Date(k);Q.setUTCHours(B,0,0,0);const ne=new Date(Q);ne.setUTCHours(B+1,0,0,0),D.push({id:`availability-${k}-${z}`,title:"Unavailable",start:Q,end:ne,backgroundColor:"#ef4444",borderColor:"#dc2626",textColor:"#ffffff",display:"background",extendedProps:{type:"availability",date:k,hour:parseInt(z)}})})}}),D},[d,t,b]);E.useEffect(()=>{(async()=>{if(t){r(!0);try{const k=new Date,N=new Date(Date.UTC(k.getUTCFullYear(),k.getUTCMonth(),1)),O=new Date(Date.UTC(k.getUTCFullYear(),k.getUTCMonth()+1,0));await h(t,Jn(N,"yyyy-MM-dd"),Jn(O,"yyyy-MM-dd"))}catch(k){console.error("Failed to load machine availability data:",k)}finally{r(!1)}}})()},[t,e]);const T=E.useCallback(async D=>{const k=D.date,N=Jn(k,"yyyy-MM-dd"),O=k.getUTCHours();if(S.some(B=>{const Q=new Date(B.start),ne=new Date(B.end),de=new Date(k);return de>=Q&&de<ne})){v("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!b)return;const z=`${N}-${O}`;s(B=>({...B,[z]:!0}));try{await g(b.id,N,O)}catch(B){console.error("Failed to toggle machine hour availability:",B),v("An unexpected error occurred.","error")}finally{s(B=>({...B,[z]:!1}))}},[S,v,b,g]),A=E.useCallback(D=>{const k=D.event,N=k.extendedProps;N.type==="availability"?console.log("Availability event clicked:",N):console.log("Scheduled task clicked:",{odpNumber:N.odpNumber,articleCode:N.articleCode,quantity:N.quantity,start:k.start,end:k.end})},[]),M=E.useMemo(()=>({plugins:[Cre,uie,Eie,Wie],initialView:"dayGridMonth",initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},height:"auto",locale:"it",timeZone:"UTC",firstDay:K9.APP.FIRST_DAY_OF_WEEK,slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},dayHeaderFormat:{weekday:"short",day:"numeric"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},buttonText:{today:"Oggi",month:"Mese",week:"Settimana",day:"Giorno"},eventClick:A,dateClick:T,events:[...S,...C]}),[A,T,S,C]);return b?n?w.jsx("div",{className:"loading",children:"Loading calendar data..."}):w.jsx("div",{className:"fullcalendar-container",children:w.jsx(QL,{ref:a,...M})}):w.jsx("div",{className:"loading",children:"Loading machine data..."})}function Yie(){const{machineId:t}=Tm(),[e,n]=E.useState(0),{getMachineById:r}=Oi(),{isLoading:i,isInitialized:s}=Mt(),{init:a,cleanup:l}=Eo(),u=r(t);if(E.useEffect(()=>{if(!s){console.log("Initializing main store...");const h=a(),g=new Promise((m,v)=>setTimeout(()=>v(new Error("Initialization timeout")),1e4));Promise.race([h,g]).catch(m=>{console.error("Initialization failed or timed out:",m)})}return()=>{l()}},[a,s,l]),i)return w.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:w.jsxs("div",{className:"text-center py-1 text-gray-500 text-[10px]",children:["Caricamento calendario macchina... (Loading: ",i.toString(),", Initialized: ",s.toString(),")"]})});if(!u)return w.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:w.jsxs("div",{className:"text-center py-1 text-red-600 text-[10px]",children:["Macchina non trovata (ID: ",t,", Initialized: ",s.toString(),")"]})});const d=()=>{n(h=>h+1)};return w.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[w.jsx(GX,{title:"Calendario Disponibilità Macchina"}),w.jsx("div",{className:"mb-1",children:w.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:u.machine_name})}),!1,w.jsx(YX,{machineId:u.id,currentDate:new Date,onSuccess:d}),w.jsx(Gie,{machineId:u.id,refreshTrigger:e})]})}function Kie(){const{data:t=[],isLoading:e,error:n}=TS(),r=bQ(),{selectedWorkCenter:i,isInitialized:s,showConfirmDialog:a}=Mt(),{init:l,cleanup:u}=Eo(),d=Cs(),h=E.useMemo(()=>i?i===bt.BOTH?t:t.filter(b=>b.work_center===i):[],[t,i]);As("PhasesListPage"),E.useEffect(()=>(s||l(),()=>{u()}),[l,s,u]);const g=E.useMemo(()=>[{header:"Nome Fase",accessorKey:"name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Numero Persone",accessorKey:"numero_persone"},{header:"V Stampa",accessorKey:"v_stampa"},{header:"T Setup Stampa (h)",accessorKey:"t_setup_stampa"},{header:"Costo H Stampa",accessorKey:"costo_h_stampa"},{header:"V Conf",accessorKey:"v_conf"},{header:"T Setup Conf (h)",accessorKey:"t_setup_conf"},{header:"Costo H Conf",accessorKey:"costo_h_conf"},{header:"Contenuto Fase",accessorKey:"contenuto_fase"}],[]),m=b=>{d(`/phases/${b.id}/edit`)},v=async b=>{a("Elimina Fase",`Sei sicuro di voler eliminare "${b.name}"? Questa azione non può essere annullata.`,async()=>{try{await r.mutateAsync(b.id),Nl(`Fase "${b.name}" eliminata con successo`)}catch(y){Ja(y.message||"Errore durante l'eliminazione della fase")}},"danger")};return e?w.jsx("div",{children:"Caricamento dati fasi..."}):n?w.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle fasi: ",n.message]}):i?w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Fasi"}),w.jsx(Hn,{to:"/phases/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Fase"})]}),w.jsx(CS,{columns:g,data:h,onEditRow:m,onDeleteRow:v})]}):w.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle fasi."})}function Qie({phaseToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Mt(),r=vQ(),i=yQ(),{handleAsync:s}=As("PhasesForm"),a=!!t,l=E.useMemo(()=>{const h={...us};return n!==bt.BOTH&&(h.sections[0].fields[3].disabled=!0,h.sections[0].fields[3].defaultValue=n,h.sections[0].fields[3].helpText="Il centro di lavoro è impostato in base alla tua selezione di accesso"),h},[n]),u=E.useMemo(()=>({name:t?.name||"",department:t?.department||us.sections[0].fields[1].defaultValue,numero_persone:t?.numero_persone||us.sections[0].fields[2].defaultValue,work_center:t?.work_center||(n===bt.BOTH?us.sections[0].fields[3].defaultValue:n),v_stampa:t?.v_stampa||us.sections[1].fields[0].defaultValue,t_setup_stampa:t?.t_setup_stampa||us.sections[1].fields[1].defaultValue,costo_h_stampa:t?.costo_h_stampa||us.sections[1].fields[2].defaultValue,v_conf:t?.v_conf||us.sections[2].fields[0].defaultValue,t_setup_conf:t?.t_setup_conf||us.sections[2].fields[1].defaultValue,costo_h_conf:t?.costo_h_conf||us.sections[2].fields[2].defaultValue,contenuto_fase:t?.contenuto_fase||""}),[n,t]),d=async h=>{await s(async()=>{a?await i.mutateAsync({id:t.id,updates:h}):await r.mutateAsync(h),e&&e(),Nl(a?"Fase aggiornata con successo":"Fase aggiunta con successo")},{context:a?"Update Phase":"Add Phase",fallbackMessage:a?"Aggiornamento fase fallito":"Aggiunta fase fallita"})};return w.jsx(rv,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a})}function hM(){const{id:t}=Tm(),e=Cs(),{selectedWorkCenter:n}=Mt(),{isLoading:r,isInitialized:i,init:s,cleanup:a}=Eo(),l=!!t,{data:u,isLoading:d,error:h}=mQ(t);return E.useEffect(()=>(i||s(),()=>{a()}),[s,i,a]),E.useEffect(()=>{l&&!r&&!d&&!u&&!h&&e("/phases",{replace:!0})},[l,r,d,u,h,e]),r||l&&d?w.jsx("div",{children:"Caricamento..."}):l&&h?w.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento della fase: ",h.message]}):l&&!u?w.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Fase non trovata."}):n?w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex items-center justify-between",children:w.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:l?`Modifica Fase: ${u?.name}`:"Aggiungi Nuova Fase"})}),w.jsx(Qie,{phaseToEdit:u})]}):w.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le fasi."})}function Xie(){const{selectedWorkCenter:t,showConfirmDialog:e}=Mt(),n=Cs(),{data:r=[],isLoading:i,error:s}=Xm(),{data:a=[],isLoading:l}=Qm(),{data:u=[],isLoading:d}=TS(),h=pQ(),{handleAsync:g}=As("BacklogListPage");if(s)return w.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento degli ordini: ",s.message]});const m=E.useMemo(()=>{if(!t)return[];let T=r;return t!==bt.BOTH&&(T=r.filter(A=>A.work_center===t)),T.map(A=>({...A,machine_name:A.scheduled_machine_id?a.find(M=>M.id===A.scheduled_machine_id)?.machine_name||"Macchina non trovata":"Non programmato",phase_name:A.fase?u.find(M=>M.id===A.fase)?.name||"Fase non trovata":"Fase non assegnata",progress:A.progress||0,time_remaining:A.time_remaining||A.duration||0}))},[r,t,a,u]),v=i||l||d,b=E.useMemo(()=>[{header:"Numero ODP",accessorKey:"odp_number",cell:T=>{const A=T.row.original.status,M=T.getValue(),D=A==="SCHEDULED";return w.jsx("span",{className:D?"text-green-600 font-medium":"",children:M})}},{header:"Codice Articolo",accessorKey:"article_code"},{header:"Note ASD",accessorKey:"asd_notes",cell:T=>{const A=T.getValue();return A?w.jsx("div",{className:"max-w-[200px] truncate text-[10px]",title:A,children:A}):"N/A"}},{header:"Nome Cliente",accessorKey:"nome_cliente"},{header:"Quantità",accessorKey:"quantity"},{header:"Quantità Completata",accessorKey:"quantity_completed"},{header:"Altezza Busta (mm)",accessorKey:"bag_height"},{header:"Larghezza Busta (mm)",accessorKey:"bag_width"},{header:"Passo Busta (mm)",accessorKey:"bag_step"},{header:"Lotto Produzione",accessorKey:"production_lot"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Lati Sigillati",accessorKey:"seal_sides"},{header:"Tipo Prodotto",accessorKey:"product_type"},{header:"Data Consegna",accessorKey:"delivery_date",cell:T=>T.getValue()?Jn(new Date(T.getValue()),"yyyy-MM-dd"):"Non impostata"},{header:"Inizio Programmato",accessorKey:"scheduled_start_time",cell:T=>T.getValue()?new Date(T.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Fine Programmata",accessorKey:"scheduled_end_time",cell:T=>T.getValue()?new Date(T.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Codice Cliente Interno",accessorKey:"internal_customer_code"},{header:"Codice Cliente Esterno",accessorKey:"external_customer_code"},{header:"Riferimento Ordine Cliente",accessorKey:"customer_order_ref"},{header:"Note Libere",accessorKey:"user_notes"},{header:"Nome Fase",accessorKey:"phase_name"},{header:"Durata (ore)",accessorKey:"duration",cell:T=>{const A=T.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Costo (€)",accessorKey:"cost",cell:T=>{const A=T.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Stato",accessorKey:"status"},{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Progresso (%)",accessorKey:"progress",cell:T=>{const A=T.getValue();return typeof A=="number"?`${A}%`:A}},{header:"Tempo Rimanente (ore)",accessorKey:"time_remaining",cell:T=>{const A=T.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Material ISP (%)",accessorKey:"material_availability_isp",cell:T=>{const A=T.getValue();if(typeof A!="number")return A||"N/A";const M=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return w.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${M} text-black text-[10px] font-medium`,children:A})}},{header:"Material Lotti (%)",accessorKey:"material_availability_lotti",cell:T=>{const A=T.getValue();if(typeof A!="number")return A||"N/A";const M=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return w.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${M} text-black text-[10px] font-medium`,children:A})}},{header:"Material Global (%)",accessorKey:"material_availability_global",cell:T=>{const A=T.getValue();if(typeof A!="number")return A||"N/A";const M=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return w.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${M} text-black text-[10px] font-medium`,children:A})}}],[]),y=E.useMemo(()=>b.map(T=>T.accessorKey),[b]),S=T=>{n(`/backlog/${T.id}/edit`)},C=async T=>{e("Elimina Ordine",`Sei sicuro di voler eliminare "${T.odp_number}"? Questa azione non può essere annullata.`,async()=>{await g(async()=>{await h.mutateAsync(T.id)},{context:"Delete Order",fallbackMessage:"Eliminazione ordine fallita"})},"danger")};return v?w.jsx("div",{children:"Caricamento dati backlog..."}):t?w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Ordini"}),w.jsx(Hn,{to:"/backlog/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Ordine"})]}),w.jsx(CS,{columns:b,data:m,onEditRow:S,onDeleteRow:C,stickyColumns:["odp_number","article_code"],enableFiltering:!0,filterableColumns:y})]}):w.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati del backlog."})}const Zie=({onSuccess:t,orderToEdit:e})=>{const{selectedWorkCenter:n,showConflictDialog:r}=Mt(),{scheduleTaskFromSlot:i,unscheduleTask:s}=_s(),{calculateProductionMetrics:a,validatePhaseParameters:l,autoDetermineWorkCenter:u,autoDetermineDepartment:d}=zP(),{handleAsync:h}=As("BacklogForm"),{validateOrder:g}=nj(),m=hQ(),v=gQ(),b=Vr(),[y,S]=E.useState(null),C=!!e,T=E.useMemo(()=>{const xe={...qX};if(n!==bt.BOTH){const $e=xe.sections[0].fields.find(Ze=>Ze.name==="work_center");$e&&($e.disabled=!0,$e.defaultValue=n,$e.helpText="Centro di lavoro pre-impostato.")}return xe},[n]),A=E.useMemo(()=>({odp_number:e?.odp_number||"",article_code:e?.article_code||"",work_center:e?.work_center||(n===bt.BOTH?"":n),nome_cliente:e?.nome_cliente||"",delivery_date:e?.delivery_date?new Date(e.delivery_date).toISOString().slice(0,16):"",quantity:e?.quantity||"",customer_order_ref:e?.customer_order_ref||"",department:e?.department||"",quantity_completed:e?.quantity_completed||rn.ORDER.QUANTITY_COMPLETED,production_lot:e?.production_lot||null,bag_height:e?.bag_height||null,bag_width:e?.bag_width||null,bag_step:e?.bag_step||null,seal_sides:e?.seal_sides||null,product_type:e?.product_type||null,internal_customer_code:e?.internal_customer_code||null,external_customer_code:e?.external_customer_code||null,user_notes:e?.user_notes||null,asd_notes:e?.asd_notes||null,material_availability_global:e?.material_availability_global||null,fase:e?.fase||null}),[n,e]),[M,D]=E.useState(A.department),[k,N]=E.useState(A.work_center),[O,j]=E.useState(A.quantity),[z,B]=E.useState(A.bag_step),{phaseSearch:Q,setPhaseSearch:ne,isDropdownVisible:de,setIsDropdownVisible:ge,selectedPhase:P,setSelectedPhase:G,filteredPhases:q,editablePhaseParams:W,setEditablePhaseParams:ye,handlePhaseParamChange:F,handlePhaseSelect:te,handleBlur:V}=sQ(M,k,C?e?.fase:null),J=E.useCallback(()=>{ne(""),G(null),ye({}),S(null)},[ne,G,ye]),ue=E.useCallback((xe,$e)=>{if(xe){const Ze=d(xe);$e("department",Ze),n===bt.BOTH&&$e("work_center",u(xe)),$e("fase",""),ne(""),G(null),ye({}),S(null)}},[d,u,n,ne,G,ye]),me=async xe=>{const $e=g(xe);if(!$e.isValid){const Je=Object.entries($e.errors).map(([L,Y])=>`${{odp_number:"Numero ODP",article_code:"Codice Articolo",work_center:"Centro di Lavoro",nome_cliente:"Nome Cliente",quantity:"Quantità",delivery_date:"Data di Consegna",customer_order_ref:"Riferimento Ordine Cliente",department:"Reparto",bag_height:"Altezza Busta",bag_width:"Larghezza Busta",bag_step:"Passo Busta",seal_sides:"Lati Sigillatura",product_type:"Tipo Prodotto",internal_customer_code:"Codice Cliente Interno",external_customer_code:"Codice Cliente Esterno"}[L]||L}: ${Y}`);AN(Je);return}const Ze=xe.fase,kt=P?.department===sn.PRINTING;if(Ze&&(!kt||xe.bag_step)&&(!y?.totals||typeof y.totals.duration!="number"||typeof y.totals.cost!="number")){Gc("Calcola le metriche di produzione valide prima di procedere.");return}await h(async()=>{const{phase_search:Je,...L}=xe,Y={...L,fase:L.fase===""?null:L.fase,scheduled_machine_id:L.scheduled_machine_id===""?null:L.scheduled_machine_id,production_lot:L.production_lot===""?null:L.production_lot,internal_customer_code:L.internal_customer_code===""?null:L.internal_customer_code,external_customer_code:L.external_customer_code===""?null:L.external_customer_code,user_notes:L.user_notes===""?null:L.user_notes,asd_notes:L.asd_notes===""?null:L.asd_notes,material_availability_global:L.material_availability_global===""?null:L.material_availability_global,bag_height:L.bag_height===""?null:L.bag_height,bag_width:L.bag_width===""?null:L.bag_width,bag_step:L.bag_step===""?null:L.bag_step,seal_sides:L.seal_sides===""?null:L.seal_sides,product_type:L.product_type===""?null:L.product_type};let ee;if(C){const X=y?.totals?.duration||e.duration,se=e.quantity_completed/e.quantity||0,fe=X*(1-se);if(e.scheduled_machine_id&&e.scheduled_start_time){console.log("🔄 EDIT FLOW: Starting rescheduling for task",e.id),console.log("📊 EDIT FLOW: Original duration:",e.duration,"New duration:",X);const _e=e.duration,we=X-_e;if(Math.abs(we)<.01){console.log("📊 SCENARIO X: Duration unchanged, skipping rescheduling");const Se={...Y,duration:X,cost:y?.totals?.cost||null};ee=await v.mutateAsync({id:e.id,updates:Se})}else if(we>0){console.log("📈 SCENARIO Y: Duration increased, using standard rescheduling");const Se=new Date(e.scheduled_start_time),Ne=Se.getUTCHours(),et=Se.getUTCMinutes(),Ye=new Date(Date.UTC(Se.getUTCFullYear(),Se.getUTCMonth(),Se.getUTCDate()));console.log("📅 EDIT FLOW: Start date:",Se.toISOString()),console.log("⏰ EDIT FLOW: Hour:",Ne,"Minute:",et),console.log("📆 EDIT FLOW: Current date:",Ye.toISOString());const pt={duration:X};console.log("💾 EDIT FLOW: Updating task with new duration:",pt),await v.mutateAsync({id:e.id,updates:pt}),await new Promise(_t=>setTimeout(_t,100));const{getOrderById:lt}=hn.getState(),Vt=lt(e.id);console.log("🔍 EDIT FLOW: Task duration after update:",Vt?.duration),console.log("🔄 EDIT FLOW: Unscheduling task first"),await s(e.id,b),await new Promise(_t=>setTimeout(_t,100));const ct={id:e.scheduled_machine_id};console.log("🎯 EDIT FLOW: Calling scheduleTaskFromSlot with:",{taskId:e.id,machine:ct,currentDate:Ye.toISOString(),hour:Ne,minute:et,timeRemaining:fe});const We=await i(e.id,ct,Ye,Ne,et,fe,b);if(console.log("📋 EDIT FLOW: scheduleTaskFromSlot result:",We),We?.conflict){console.log("⚠️ EDIT FLOW: Conflict detected, showing dialog");const _t={...We,schedulingParams:{taskId:e.id,machine:ct,currentDate:Ye,hour:Ne,minute:et,newDuration:fe,originalConflict:We}};r(_t);return}else if(We?.error){console.log("❌ EDIT FLOW: Error:",We.error),Ja(We.error);return}else console.log("✅ EDIT FLOW: Scheduling successful");const _n=We?.updatedTask;console.log("📋 EDIT FLOW: Updated task from scheduling result:",_n);const rt={...Y,duration:X,cost:y?.totals?.cost||null,scheduled_start_time:_n?.scheduled_start_time||Se.toISOString(),scheduled_end_time:_n?.scheduled_end_time||new Date(Se.getTime()+X*36e5).toISOString(),description:_n?.description||e.description};console.log("💾 EDIT FLOW: Final order data to save:",rt),ee=await v.mutateAsync({id:e.id,updates:rt}),console.log("✅ EDIT FLOW: Final update completed:",ee)}else{console.log("📉 SCENARIO Z: Duration decreased, using adjacent task rescheduling");const Se=await Ce(e.id,X,fe,Y,y?.totals?.cost||null,b,v,i,s,r);if(Se?.error){console.log("❌ SCENARIO Z: Error:",Se.error),Ja(Se.error);return}ee=Se.updatedOrder,console.log("✅ SCENARIO Z: Duration decrease rescheduling completed:",ee)}}else{const _e={...Y,duration:X,cost:y?.totals?.cost||null};ee=await v.mutateAsync({id:e.id,updates:_e})}}else{const X={...Y,duration:y?.totals?.duration||null,cost:y?.totals?.cost||null,status:"NOT SCHEDULED"};ee=await m.mutateAsync(X)}t&&t(),J(),Nl(C?"Ordine aggiornato con successo":"Ordine aggiunto con successo")},{context:C?"Aggiorna Ordine":"Aggiungi Ordine",fallbackMessage:C?"Aggiornamento ordine fallito":"Aggiunta ordine fallita"})},Z=()=>{if(!P){Gc("Seleziona una fase prima di calcolare.");return}if(!O){Gc("Inserisci la quantità per calcolare.");return}if(P.department===sn.PRINTING&&!z){Gc("Inserisci il passo busta per calcolare la stampa.");return}const xe={...P,...W},$e=l(xe);if(!$e.isValid){Ja($e.error),S(null);return}const Ze=P.department===sn.PRINTING?z:null,kt=a(xe,O,Ze);if(!kt||typeof kt.totals?.duration!="number"||typeof kt.totals?.cost!="number"){Ja("Errore nel calcolo. Verifica i parametri della fase."),S(null);return}S(kt)},pe=xe=>W[xe]??P[xe]??"",Ce=async(xe,$e,Ze,kt,Cn,Je,L,Y,ee,X,se)=>{try{console.log("📉 SCENARIO Z: Starting duration decrease rescheduling for task",xe);const{getOrderById:fe,getOdpOrders:_e}=hn.getState(),we=fe(xe);if(!we)return{error:"Task not found"};const Se=new Date(we.scheduled_start_time),Ne=Se.getUTCHours(),et=Se.getUTCMinutes(),Ye=new Date(Date.UTC(Se.getUTCFullYear(),Se.getUTCMonth(),Se.getUTCDate())),pt={id:we.scheduled_machine_id};console.log("📅 SCENARIO Z: Current task start:",Se.toISOString()),console.log("📅 SCENARIO Z: New time remaining:",Ze);const lt=new Date(we.scheduled_end_time);console.log("📅 SCENARIO Z: Current end time for task A (from DB):",lt.toISOString());const Vt=_e(),ct=[];let We=lt;for(console.log("🔍 SCENARIO Z: Starting to find chain of adjacent tasks...");;){const _n=Vt.find(rt=>{if(rt.id===xe||!rt.scheduled_machine_id||!rt.scheduled_start_time||rt.status!=="SCHEDULED"||rt.scheduled_machine_id!==we.scheduled_machine_id||ct.some(br=>br.id===rt.id))return!1;const _t=new Date(rt.scheduled_start_time),yr=Math.abs(_t.getTime()-We.getTime())/(1e3*60);return console.log("🔍 SCENARIO Z: Checking task",rt.odp_number,"start:",_t.toISOString(),"diff:",yr,"minutes","against end time:",We.toISOString()),yr<=120});if(_n)console.log("🔗 SCENARIO Z: Found adjacent task in chain:",_n.odp_number),ct.push(_n),We=new Date(_n.scheduled_end_time),console.log("📅 SCENARIO Z: Next task end time for chain:",We.toISOString()),console.log("🔄 SCENARIO Z: Continuing to search for more adjacent tasks...");else{console.log("🛑 SCENARIO Z: No more adjacent tasks found, stopping chain search");break}}if(ct.length>0){console.log("🔗 SCENARIO Z: Found chain of",ct.length,"adjacent tasks:",ct.map(Ee=>Ee.odp_number)),console.log("🔄 SCENARIO Z: Step 2 - Rescheduling task A");const _n={duration:$e};await L.mutateAsync({id:xe,updates:_n}),await new Promise(Ee=>setTimeout(Ee,100)),await ee(xe,Je),await new Promise(Ee=>setTimeout(Ee,100));const rt=await Y(xe,pt,Ye,Ne,et,Ze,Je);if(rt?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for task A, showing dialog");const Ee={...rt,schedulingParams:{taskId:xe,machine:pt,currentDate:Ye,hour:Ne,minute:et,newDuration:Ze,originalConflict:rt}};return X(Ee),{error:"Conflict detected for task A"}}else if(rt?.error)return console.log("❌ SCENARIO Z: Error rescheduling task A:",rt.error),{error:rt.error};console.log("✅ SCENARIO Z: Task A rescheduled successfully"),console.log("🔄 SCENARIO Z: Step 3 - Rescheduling chain of",ct.length,"tasks");let _t=new Date(rt.schedulingResult.endTime);const yr=[];for(let Ee=0;Ee<ct.length;Ee++){const Ge=ct[Ee];console.log(`🔄 SCENARIO Z: Rescheduling chain task ${Ee+1}/${ct.length}:`,Ge.odp_number);const mt=_t.getUTCHours(),wt=_t.getUTCMinutes(),mn=new Date(Date.UTC(_t.getUTCFullYear(),_t.getUTCMonth(),_t.getUTCDate()));console.log("📅 SCENARIO Z: Chain task new start time:",_t.toISOString()),console.log("⏰ SCENARIO Z: Chain task new hour:",mt,"minute:",wt);const St=Ge.time_remaining||Ge.duration||1;console.log("📊 SCENARIO Z: Chain task time remaining:",St),await ee(Ge.id,Je),await new Promise(Tn=>setTimeout(Tn,100));const tt=await Y(Ge.id,pt,mn,mt,wt,St,Je);if(tt?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for chain task",Ge.odp_number,", showing dialog");const Tn={...tt,schedulingParams:{taskId:Ge.id,machine:pt,currentDate:mn,hour:mt,minute:wt,newDuration:St,originalConflict:tt}};return X(Tn),{error:`Conflict detected for chain task ${Ge.odp_number}`}}else if(tt?.error)return console.log("❌ SCENARIO Z: Error rescheduling chain task",Ge.odp_number,":",tt.error),{error:`Error rescheduling chain task ${Ge.odp_number}: ${tt.error}`};console.log("✅ SCENARIO Z: Chain task",Ge.odp_number,"rescheduled successfully"),yr.push(tt),_t=new Date(tt.schedulingResult.endTime),console.log("📅 SCENARIO Z: Updated end time for next chain task:",_t.toISOString())}console.log("✅ SCENARIO Z: All",ct.length,"chain tasks rescheduled successfully");const br=rt?.updatedTask,Ct={...kt,duration:$e,cost:Cn,scheduled_start_time:br?.scheduled_start_time||Se.toISOString(),scheduled_end_time:br?.scheduled_end_time||new Date(Se.getTime()+$e*36e5).toISOString(),description:br?.description||we.description},Kt=await L.mutateAsync({id:xe,updates:Ct});return console.log("✅ SCENARIO Z: Task A and",ct.length,"chain tasks rescheduled successfully"),{updatedOrder:Kt}}else{console.log("📊 SCENARIO Z: No adjacent task found, using standard rescheduling");const _n={duration:$e};await L.mutateAsync({id:xe,updates:_n}),await new Promise(Ct=>setTimeout(Ct,100)),await ee(xe,Je),await new Promise(Ct=>setTimeout(Ct,100));const rt=await Y(xe,pt,Ye,Ne,et,Ze,Je);if(rt?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected, showing dialog");const Ct={...rt,schedulingParams:{taskId:xe,machine:pt,currentDate:Ye,hour:Ne,minute:et,newDuration:Ze,originalConflict:rt}};return X(Ct),{error:"Conflict detected"}}else if(rt?.error)return console.log("❌ SCENARIO Z: Error:",rt.error),{error:rt.error};const _t=rt?.updatedTask,yr={...kt,duration:$e,cost:Cn,scheduled_start_time:_t?.scheduled_start_time||Se.toISOString(),scheduled_end_time:_t?.scheduled_end_time||new Date(Se.getTime()+$e*36e5).toISOString(),description:_t?.description||we.description};return{updatedOrder:await L.mutateAsync({id:xe,updates:yr})}}}catch(fe){return console.error("❌ SCENARIO Z: Error in handleDurationDecreaseRescheduling:",fe),{error:fe.message||"Error during duration decrease rescheduling"}}},Te=()=>P?P.department===sn.PRINTING?[{name:"v_stampa",label:"Velocità Stampa:",unit:"mt/h"},{name:"t_setup_stampa",label:"Setup Stampa:",unit:"h"},{name:"costo_h_stampa",label:"Costo Stampa:",unit:"€/h"}]:[{name:"v_conf",label:"Velocità Confezionamento:",unit:"pz/h"},{name:"t_setup_conf",label:"Setup Confezionamento:",unit:"h"},{name:"costo_h_conf",label:"Costo Confezionamento:",unit:"€/h"}]:[],Le=E.useMemo(()=>({article_code:(xe,{watch:$e,setValue:Ze,getValues:kt,register:Cn})=>w.jsx(Qn,{type:"text",...Cn(xe.name,{...xe.validation,onChange:Je=>{xe.validation?.onChange&&xe.validation.onChange(Je),ue(Je.target.value,Ze)}}),placeholder:xe.placeholder,disabled:xe.disabled,className:xe.className}),phase_search:(xe,{watch:$e,setValue:Ze,getValues:kt,register:Cn})=>{const Je=$e("department"),L=$e("work_center"),Y=$e("quantity"),ee=$e("bag_step");return E.useEffect(()=>{Je!==M&&D(Je),L!==k&&N(L),Y!==O&&j(Y),ee!==z&&B(ee)},[Je,L,Y,ee,M,k,O,z]),w.jsxs("div",{className:"relative",children:[w.jsx(Qn,{type:"text",value:Q,onChange:X=>ne(X.target.value),onFocus:()=>ge(!0),onBlur:V,placeholder:"Cerca fase di produzione..."}),w.jsx("input",{type:"hidden",...Cn("fase")}),de&&q.length>0&&w.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:q.map(X=>w.jsxs("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onMouseDown:()=>{te(X,Ze,()=>{}),S(null)},children:[w.jsx("div",{className:"text-[10px] font-medium",children:X.name}),w.jsx("div",{className:"text-[10px] text-gray-600",children:X.contenuto_fase})]},X.id))})]})},phase_parameters:()=>P?w.jsxs("div",{className:"space-y-2",children:[w.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Parametri Fase Selezionata"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:Te().map(xe=>w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:xe.name,children:xe.label}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx(Qn,{type:"number",id:xe.name,value:pe(xe.name),onChange:$e=>F(xe.name,$e.target.value)}),w.jsx("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:xe.unit})]})]},xe.name))})]}):null,calculation_results:()=>y?.totals?w.jsxs("div",{className:"space-y-2",children:[w.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Risultati Calcolo Produzione"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{children:"Durata Totale (ore):"}),w.jsx("div",{className:"text-[10px] font-semibold text-navy-800",children:y.totals.duration.toFixed(2)})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{children:"Costo Totale (€):"}),w.jsx("div",{className:"text-[10px] font-semibold text-green-600",children:y.totals.cost.toFixed(2)})]})]})]}):null}),[Q,ne,de,ge,q,V,te,P,pe,F,Te,y,ue]),He=E.useMemo(()=>w.jsx("div",{className:"flex justify-end space-x-4 pt-6",children:w.jsx(Xt,{type:"button",variant:"outline",onClick:Z,disabled:!P,children:"Calcola"})}),[P,Z]),$t=m.isPending||v.isPending;return w.jsx(rv,{config:T,initialData:A,onSubmit:me,onSuccess:t,isEditMode:C,isLoading:$t,customActions:He,customFieldRenderers:Le})};function gM(){const{id:t}=Tm(),e=Cs(),{data:n,isLoading:r,error:i}=fQ(t),{selectedWorkCenter:s}=Mt(),{isLoading:a,isInitialized:l,init:u,cleanup:d}=Eo(),h=!!t;return E.useEffect(()=>(l||u(),()=>{d()}),[u,l,d]),E.useEffect(()=>{h&&!r&&!n&&i&&e("/backlog",{replace:!0})},[h,r,n,e,i]),r?w.jsx("div",{children:"Caricamento..."}):h&&!n?w.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Ordine non trovato."}):s?w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:h?`Modifica Ordine: ${n?.odp_number}`:"Aggiungi Nuovo Ordine"}),h&&w.jsx(Xt,{variant:"outline",onClick:()=>e("/scheduler"),children:"← Torna al Programmatore"})]}),w.jsx(Zie,{onSuccess:h?()=>e("/scheduler"):void 0,orderToEdit:n})]}):w.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire gli ordini del backlog."})}const gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ou(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function yx(t){return"nodeType"in t}function Tr(t){var e,n;return t?Ou(t)?t:yx(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function bx(t){const{Document:e}=Tr(t);return t instanceof e}function Kf(t){return Ou(t)?!1:t instanceof Tr(t).HTMLElement}function gF(t){return t instanceof Tr(t).SVGElement}function Mu(t){return t?Ou(t)?t.document:yx(t)?bx(t)?t:Kf(t)||gF(t)?t.ownerDocument:document:document:document}const pa=gv?E.useLayoutEffect:E.useEffect;function pv(t){const e=E.useRef(t);return pa(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Jie(){const t=E.useRef(null),e=E.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=E.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function xf(t,e){e===void 0&&(e=[t]);const n=E.useRef(t);return pa(()=>{n.current!==t&&(n.current=t)},e),n}function Qf(t,e){const n=E.useRef();return E.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function um(t){const e=pv(t),n=E.useRef(null),r=E.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function dm(t){const e=E.useRef();return E.useEffect(()=>{e.current=t},[t]),e.current}let B0={};function mv(t,e){return E.useMemo(()=>{if(e)return e;const n=B0[t]==null?0:B0[t]+1;return B0[t]=n,t+"-"+n},[t,e])}function pF(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[u,d]of l){const h=s[u];h!=null&&(s[u]=h+t*d)}return s},{...e})}}const au=pF(1),fm=pF(-1);function ese(t){return"clientX"in t&&"clientY"in t}function _x(t){if(!t)return!1;const{KeyboardEvent:e}=Tr(t.target);return e&&t instanceof e}function tse(t){if(!t)return!1;const{TouchEvent:e}=Tr(t.target);return e&&t instanceof e}function hm(t){if(tse(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return ese(t)?{x:t.clientX,y:t.clientY}:null}const Ef=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ef.Translate.toString(t),Ef.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),pM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nse(t){return t.matches(pM)?t:t.querySelector(pM)}const rse={display:"none"};function ise(t){let{id:e,value:n}=t;return le.createElement("div",{id:e,style:rse},n)}function sse(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return le.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function ase(){const[t,e]=E.useState("");return{announce:E.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const mF=E.createContext(null);function ose(t){const e=E.useContext(mF);E.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function lse(){const[t]=E.useState(()=>new Set),e=E.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[E.useCallback(r=>{let{type:i,event:s}=r;t.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[t]),e]}const cse={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},use={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function dse(t){let{announcements:e=use,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=cse}=t;const{announce:s,announcement:a}=ase(),l=mv("DndLiveRegion"),[u,d]=E.useState(!1);if(E.useEffect(()=>{d(!0)},[]),ose(E.useMemo(()=>({onDragStart(g){let{active:m}=g;s(e.onDragStart({active:m}))},onDragMove(g){let{active:m,over:v}=g;e.onDragMove&&s(e.onDragMove({active:m,over:v}))},onDragOver(g){let{active:m,over:v}=g;s(e.onDragOver({active:m,over:v}))},onDragEnd(g){let{active:m,over:v}=g;s(e.onDragEnd({active:m,over:v}))},onDragCancel(g){let{active:m,over:v}=g;s(e.onDragCancel({active:m,over:v}))}}),[s,e])),!u)return null;const h=le.createElement(le.Fragment,null,le.createElement(ise,{id:r,value:i.draggable}),le.createElement(sse,{id:l,announcement:a}));return n?oi.createPortal(h,n):h}var Bn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Bn||(Bn={}));function gm(){}function mM(t,e){return E.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function fse(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return E.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ts=Object.freeze({x:0,y:0});function hse(t,e){const n=hm(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function gse(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function pse(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function mse(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-r,l=s-n;if(r<i&&n<s){const u=e.width*e.height,d=t.width*t.height,h=a*l,g=h/(u+d-h);return Number(g.toFixed(4))}return 0}const vse=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=mse(l,e);u>0&&i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(gse)};function yse(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function vF(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ts}function bse(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const _se=bse(1);function yF(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function wse(t,e,n){const r=yF(e);if(!r)return t;const{scaleX:i,scaleY:s,x:a,y:l}=r,u=t.left-a-(1-i)*parseFloat(n),d=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?t.width/i:t.width,g=s?t.height/s:t.height;return{width:h,height:g,top:d,right:u+h,bottom:d+g,left:u}}const Sse={ignoreTransform:!1};function Xf(t,e){e===void 0&&(e=Sse);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:h}=Tr(t).getComputedStyle(t);d&&(n=wse(n,d,h))}const{top:r,left:i,width:s,height:a,bottom:l,right:u}=n;return{top:r,left:i,width:s,height:a,bottom:l,right:u}}function vM(t){return Xf(t,{ignoreTransform:!0})}function xse(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Ese(t,e){return e===void 0&&(e=Tr(t).getComputedStyle(t)),e.position==="fixed"}function Cse(t,e){e===void 0&&(e=Tr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function wx(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(bx(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Kf(i)||gF(i)||n.includes(i))return n;const s=Tr(t).getComputedStyle(i);return i!==t&&Cse(i,s)&&n.push(i),Ese(i,s)?n:r(i.parentNode)}return t?r(t):n}function bF(t){const[e]=wx(t,1);return e??null}function $0(t){return!gv||!t?null:Ou(t)?t:yx(t)?bx(t)||t===Mu(t).scrollingElement?window:Kf(t)?t:null:null}function _F(t){return Ou(t)?t.scrollX:t.scrollLeft}function wF(t){return Ou(t)?t.scrollY:t.scrollTop}function yw(t){return{x:_F(t),y:wF(t)}}var Kn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Kn||(Kn={}));function SF(t){return!gv||!t?!1:t===document.scrollingElement}function xF(t){const e={x:0,y:0},n=SF(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const Tse={x:.2,y:.2};function Ase(t,e,n,r,i){let{top:s,left:a,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=Tse);const{isTop:d,isBottom:h,isLeft:g,isRight:m}=xF(t),v={x:0,y:0},b={x:0,y:0},y={height:e.height*i.y,width:e.width*i.x};return!d&&s<=e.top+y.height?(v.y=Kn.Backward,b.y=r*Math.abs((e.top+y.height-s)/y.height)):!h&&u>=e.bottom-y.height&&(v.y=Kn.Forward,b.y=r*Math.abs((e.bottom-y.height-u)/y.height)),!m&&l>=e.right-y.width?(v.x=Kn.Forward,b.x=r*Math.abs((e.right-y.width-l)/y.width)):!g&&a<=e.left+y.width&&(v.x=Kn.Backward,b.x=r*Math.abs((e.left+y.width-a)/y.width)),{direction:v,speed:b}}function Rse(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function EF(t){return t.reduce((e,n)=>au(e,yw(n)),ts)}function Dse(t){return t.reduce((e,n)=>e+_F(n),0)}function Ose(t){return t.reduce((e,n)=>e+wF(n),0)}function CF(t,e){if(e===void 0&&(e=Xf),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);bF(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Mse=[["x",["left","right"],Dse],["y",["top","bottom"],Ose]];class Sx{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wx(n),i=EF(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of Mse)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=l(r),h=i[s]-d;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ef{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function kse(t){const{EventTarget:e}=Tr(t);return t instanceof e?t:Mu(t)}function V0(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Ri;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ri||(Ri={}));function yM(t){t.preventDefault()}function Nse(t){t.stopPropagation()}var Wt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Wt||(Wt={}));const TF={start:[Wt.Space,Wt.Enter],cancel:[Wt.Esc],end:[Wt.Space,Wt.Enter,Wt.Tab]},Ise=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Wt.Right:return{...n,x:n.x+25};case Wt.Left:return{...n,x:n.x-25};case Wt.Down:return{...n,y:n.y+25};case Wt.Up:return{...n,y:n.y-25}}};class AF{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new ef(Mu(n)),this.windowListeners=new ef(Tr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ri.Resize,this.handleCancel),this.windowListeners.add(Ri.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ri.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&CF(r),n(ts)}handleKeyDown(e){if(_x(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=TF,coordinateGetter:a=Ise,scrollBehavior:l="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,h=d?{x:d.left,y:d.top}:ts;this.referenceCoordinates||(this.referenceCoordinates=h);const g=a(e,{active:n,context:r.current,currentCoordinates:h});if(g){const m=fm(g,h),v={x:0,y:0},{scrollableAncestors:b}=r.current;for(const y of b){const S=e.code,{isTop:C,isRight:T,isLeft:A,isBottom:M,maxScroll:D,minScroll:k}=xF(y),N=Rse(y),O={x:Math.min(S===Wt.Right?N.right-N.width/2:N.right,Math.max(S===Wt.Right?N.left:N.left+N.width/2,g.x)),y:Math.min(S===Wt.Down?N.bottom-N.height/2:N.bottom,Math.max(S===Wt.Down?N.top:N.top+N.height/2,g.y))},j=S===Wt.Right&&!T||S===Wt.Left&&!A,z=S===Wt.Down&&!M||S===Wt.Up&&!C;if(j&&O.x!==g.x){const B=y.scrollLeft+m.x,Q=S===Wt.Right&&B<=D.x||S===Wt.Left&&B>=k.x;if(Q&&!m.y){y.scrollTo({left:B,behavior:l});return}Q?v.x=y.scrollLeft-B:v.x=S===Wt.Right?y.scrollLeft-D.x:y.scrollLeft-k.x,v.x&&y.scrollBy({left:-v.x,behavior:l});break}else if(z&&O.y!==g.y){const B=y.scrollTop+m.y,Q=S===Wt.Down&&B<=D.y||S===Wt.Up&&B>=k.y;if(Q&&!m.x){y.scrollTo({top:B,behavior:l});return}Q?v.y=y.scrollTop-B:v.y=S===Wt.Down?y.scrollTop-D.y:y.scrollTop-k.y,v.y&&y.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(e,au(fm(g,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}AF.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=TF,onActivation:i}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function bM(t){return!!(t&&"distance"in t)}function _M(t){return!!(t&&"delay"in t)}class xx{constructor(e,n,r){var i;r===void 0&&(r=kse(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=Mu(a),this.documentListeners=new ef(this.document),this.listeners=new ef(r),this.windowListeners=new ef(Tr(a)),this.initialCoordinates=(i=hm(s))!=null?i:ts,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ri.Resize,this.handleCancel),this.windowListeners.add(Ri.DragStart,yM),this.windowListeners.add(Ri.VisibilityChange,this.handleCancel),this.windowListeners.add(Ri.ContextMenu,yM),this.documentListeners.add(Ri.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_M(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(bM(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ri.Click,Nse,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ri.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const u=(n=hm(e))!=null?n:ts,d=fm(i,u);if(!r&&l){if(bM(l)){if(l.tolerance!=null&&V0(d,l.tolerance))return this.handleCancel();if(V0(d,l.distance))return this.handleStart()}if(_M(l)&&V0(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Wt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Pse={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ex extends xx{constructor(e){const{event:n}=e,r=Mu(n.target);super(e,Pse,r)}}Ex.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const jse={move:{name:"mousemove"},end:{name:"mouseup"}};var bw;(function(t){t[t.RightClick=2]="RightClick"})(bw||(bw={}));class RF extends xx{constructor(e){super(e,jse,Mu(e.event.target))}}RF.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===bw.RightClick?!1:(r?.({event:n}),!0)}}];const q0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Lse extends xx{constructor(e){super(e,q0)}static setup(){return window.addEventListener(q0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(q0.move.name,e)};function e(){}}}Lse.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var tf;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(tf||(tf={}));var pm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(pm||(pm={}));function Fse(t){let{acceleration:e,activator:n=tf.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:l=pm.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:h,delta:g,threshold:m}=t;const v=zse({delta:g,disabled:!s}),[b,y]=Jie(),S=E.useRef({x:0,y:0}),C=E.useRef({x:0,y:0}),T=E.useMemo(()=>{switch(n){case tf.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case tf.DraggableRect:return i}},[n,i,u]),A=E.useRef(null),M=E.useCallback(()=>{const k=A.current;if(!k)return;const N=S.current.x*C.current.x,O=S.current.y*C.current.y;k.scrollBy(N,O)},[]),D=E.useMemo(()=>l===pm.TreeOrder?[...d].reverse():d,[l,d]);E.useEffect(()=>{if(!s||!d.length||!T){y();return}for(const k of D){if(r?.(k)===!1)continue;const N=d.indexOf(k),O=h[N];if(!O)continue;const{direction:j,speed:z}=Ase(k,O,T,e,m);for(const B of["x","y"])v[B][j[B]]||(z[B]=0,j[B]=0);if(z.x>0||z.y>0){y(),A.current=k,b(M,a),S.current=z,C.current=j;return}}S.current={x:0,y:0},C.current={x:0,y:0},y()},[e,M,r,y,s,a,JSON.stringify(T),JSON.stringify(v),b,d,D,h,JSON.stringify(m)])}const Use={x:{[Kn.Backward]:!1,[Kn.Forward]:!1},y:{[Kn.Backward]:!1,[Kn.Forward]:!1}};function zse(t){let{delta:e,disabled:n}=t;const r=dm(e);return Qf(i=>{if(n||!r||!i)return Use;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Kn.Backward]:i.x[Kn.Backward]||s.x===-1,[Kn.Forward]:i.x[Kn.Forward]||s.x===1},y:{[Kn.Backward]:i.y[Kn.Backward]||s.y===-1,[Kn.Forward]:i.y[Kn.Forward]||s.y===1}}},[n,e,r])}function Hse(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Qf(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function Bse(t,e){return E.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...s]},[]),[t,e])}var Cf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Cf||(Cf={}));var _w;(function(t){t.Optimized="optimized"})(_w||(_w={}));const wM=new Map;function $se(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,a]=E.useState(null),{frequency:l,measure:u,strategy:d}=i,h=E.useRef(t),g=S(),m=xf(g),v=E.useCallback(function(C){C===void 0&&(C=[]),!m.current&&a(T=>T===null?C:T.concat(C.filter(A=>!T.includes(A))))},[m]),b=E.useRef(null),y=Qf(C=>{if(g&&!n)return wM;if(!C||C===wM||h.current!==t||s!=null){const T=new Map;for(let A of t){if(!A)continue;if(s&&s.length>0&&!s.includes(A.id)&&A.rect.current){T.set(A.id,A.rect.current);continue}const M=A.node.current,D=M?new Sx(u(M),M):null;A.rect.current=D,D&&T.set(A.id,D)}return T}return C},[t,s,n,g,u]);return E.useEffect(()=>{h.current=t},[t]),E.useEffect(()=>{g||v()},[n,g]),E.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),E.useEffect(()=>{g||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{v(),b.current=null},l))},[l,g,v,...r]),{droppableRects:y,measureDroppableContainers:v,measuringScheduled:s!=null};function S(){switch(d){case Cf.Always:return!1;case Cf.BeforeDragging:return n;default:return!n}}}function Cx(t,e){return Qf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Vse(t,e){return Cx(t,e)}function qse(t){let{callback:e,disabled:n}=t;const r=pv(e),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return E.useEffect(()=>()=>i?.disconnect(),[i]),i}function vv(t){let{callback:e,disabled:n}=t;const r=pv(e),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return E.useEffect(()=>()=>i?.disconnect(),[i]),i}function Wse(t){return new Sx(Xf(t),t)}function SM(t,e,n){e===void 0&&(e=Wse);const[r,i]=E.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const h=e(t);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const a=qse({callback(u){if(t)for(const d of u){const{type:h,target:g}=d;if(h==="childList"&&g instanceof HTMLElement&&g.contains(t)){s();break}}}}),l=vv({callback:s});return pa(()=>{s(),t?(l?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[t]),r}function Gse(t){const e=Cx(t);return vF(t,e)}const xM=[];function Yse(t){const e=E.useRef(t),n=Qf(r=>t?r&&r!==xM&&t&&e.current&&t.parentNode===e.current.parentNode?r:wx(t):xM,[t]);return E.useEffect(()=>{e.current=t},[t]),n}function Kse(t){const[e,n]=E.useState(null),r=E.useRef(t),i=E.useCallback(s=>{const a=$0(s.target);a&&n(l=>l?(l.set(a,yw(a)),new Map(l)):null)},[]);return E.useEffect(()=>{const s=r.current;if(t!==s){a(s);const l=t.map(u=>{const d=$0(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,yw(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(u=>{const d=$0(u);d?.removeEventListener("scroll",i)})}},[i,t]),E.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>au(s,a),ts):EF(t):ts,[t,e])}function EM(t,e){e===void 0&&(e=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},e),E.useEffect(()=>{const r=t!==ts;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?fm(t,n.current):ts}function Qse(t){E.useEffect(()=>{if(!gv)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function Xse(t,e){return E.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,e)},n},{}),[t,e])}function DF(t){return E.useMemo(()=>t?xse(t):null,[t])}const CM=[];function Zse(t,e){e===void 0&&(e=Xf);const[n]=t,r=DF(n?Tr(n):null),[i,s]=E.useState(CM);function a(){s(()=>t.length?t.map(u=>SF(u)?r:new Sx(e(u),u)):CM)}const l=vv({callback:a});return pa(()=>{l?.disconnect(),a(),t.forEach(u=>l?.observe(u))},[t]),i}function OF(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Kf(e)?e:t}function Jse(t){let{measure:e}=t;const[n,r]=E.useState(null),i=E.useCallback(d=>{for(const{target:h}of d)if(Kf(h)){r(g=>{const m=e(h);return g?{...g,width:m.width,height:m.height}:m});break}},[e]),s=vv({callback:i}),a=E.useCallback(d=>{const h=OF(d);s?.disconnect(),h&&s?.observe(h),r(h?e(h):null)},[e,s]),[l,u]=um(a);return E.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const eae=[{sensor:Ex,options:{}},{sensor:AF,options:{}}],tae={current:{}},Cp={draggable:{measure:vM},droppable:{measure:vM,strategy:Cf.WhileDragging,frequency:_w.Optimized},dragOverlay:{measure:Xf}};class nf extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const nae={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Cp,measureDroppableContainers:gm,windowRect:null,measuringScheduled:!1},MF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gm,draggableNodes:new Map,over:null,measureDroppableContainers:gm},Zf=E.createContext(MF),kF=E.createContext(nae);function rae(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nf}}}function iae(t,e){switch(e.type){case Bn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Bn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Bn.DragEnd:case Bn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Bn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new nf(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Bn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new nf(t.droppable.containers);return a.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Bn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new nf(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function sae(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=E.useContext(Zf),s=dm(r),a=dm(n?.id);return E.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!_x(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[u.current,d.current]){if(!h)continue;const g=nse(h);if(g){g.focus();break}}})}},[r,e,i,a,s]),null}function NF(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function aae(t){return E.useMemo(()=>({draggable:{...Cp.draggable,...t?.draggable},droppable:{...Cp.droppable,...t?.droppable},dragOverlay:{...Cp.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function oae(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=E.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;pa(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!r)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const h=n(d),g=vF(h,r);if(a||(g.x=0),l||(g.y=0),s.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const m=bF(d);m&&m.scrollBy({top:g.y,left:g.x})}},[e,a,l,r,n])}const yv=E.createContext({...ts,scaleX:1,scaleY:1});var Qa;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Qa||(Qa={}));const lae=E.memo(function(e){var n,r,i,s;let{id:a,accessibility:l,autoScroll:u=!0,children:d,sensors:h=eae,collisionDetection:g=vse,measuring:m,modifiers:v,...b}=e;const y=E.useReducer(iae,void 0,rae),[S,C]=y,[T,A]=lse(),[M,D]=E.useState(Qa.Uninitialized),k=M===Qa.Initialized,{draggable:{active:N,nodes:O,translate:j},droppable:{containers:z}}=S,B=N!=null?O.get(N):null,Q=E.useRef({initial:null,translated:null}),ne=E.useMemo(()=>{var Ct;return N!=null?{id:N,data:(Ct=B?.data)!=null?Ct:tae,rect:Q}:null},[N,B]),de=E.useRef(null),[ge,P]=E.useState(null),[G,q]=E.useState(null),W=xf(b,Object.values(b)),ye=mv("DndDescribedBy",a),F=E.useMemo(()=>z.getEnabled(),[z]),te=aae(m),{droppableRects:V,measureDroppableContainers:J,measuringScheduled:ue}=$se(F,{dragging:k,dependencies:[j.x,j.y],config:te.droppable}),me=Hse(O,N),Z=E.useMemo(()=>G?hm(G):null,[G]),pe=br(),Ce=Vse(me,te.draggable.measure);oae({activeNode:N!=null?O.get(N):null,config:pe.layoutShiftCompensation,initialRect:Ce,measure:te.draggable.measure});const Te=SM(me,te.draggable.measure,Ce),Le=SM(me?me.parentElement:null),He=E.useRef({activatorEvent:null,active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:V,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),$t=z.getNodeFor((n=He.current.over)==null?void 0:n.id),xe=Jse({measure:te.dragOverlay.measure}),$e=(r=xe.nodeRef.current)!=null?r:me,Ze=k?(i=xe.rect)!=null?i:Te:null,kt=!!(xe.nodeRef.current&&xe.rect),Cn=Gse(kt?null:Te),Je=DF($e?Tr($e):null),L=Yse(k?$t??me:null),Y=Zse(L),ee=NF(v,{transform:{x:j.x-Cn.x,y:j.y-Cn.y,scaleX:1,scaleY:1},activatorEvent:G,active:ne,activeNodeRect:Te,containerNodeRect:Le,draggingNodeRect:Ze,over:He.current.over,overlayNodeRect:xe.rect,scrollableAncestors:L,scrollableAncestorRects:Y,windowRect:Je}),X=Z?au(Z,j):null,se=Kse(L),fe=EM(se),_e=EM(se,[Te]),we=au(ee,fe),Se=Ze?_se(Ze,ee):null,Ne=ne&&Se?g({active:ne,collisionRect:Se,droppableRects:V,droppableContainers:F,pointerCoordinates:X}):null,et=pse(Ne,"id"),[Ye,pt]=E.useState(null),lt=kt?ee:au(ee,_e),Vt=yse(lt,(s=Ye?.rect)!=null?s:null,Te),ct=E.useRef(null),We=E.useCallback((Ct,Kt)=>{let{sensor:Ee,options:Ge}=Kt;if(de.current==null)return;const mt=O.get(de.current);if(!mt)return;const wt=Ct.nativeEvent,mn=new Ee({active:de.current,activeNode:mt,event:wt,options:Ge,context:He,onAbort(tt){if(!O.get(tt))return;const{onDragAbort:Jt}=W.current,on={id:tt};Jt?.(on),T({type:"onDragAbort",event:on})},onPending(tt,Tn,Jt,on){if(!O.get(tt))return;const{onDragPending:er}=W.current,hi={id:tt,constraint:Tn,initialCoordinates:Jt,offset:on};er?.(hi),T({type:"onDragPending",event:hi})},onStart(tt){const Tn=de.current;if(Tn==null)return;const Jt=O.get(Tn);if(!Jt)return;const{onDragStart:on}=W.current,fi={activatorEvent:wt,active:{id:Tn,data:Jt.data,rect:Q}};oi.unstable_batchedUpdates(()=>{on?.(fi),D(Qa.Initializing),C({type:Bn.DragStart,initialCoordinates:tt,active:Tn}),T({type:"onDragStart",event:fi}),P(ct.current),q(wt)})},onMove(tt){C({type:Bn.DragMove,coordinates:tt})},onEnd:St(Bn.DragEnd),onCancel:St(Bn.DragCancel)});ct.current=mn;function St(tt){return async function(){const{active:Jt,collisions:on,over:fi,scrollAdjustedTranslate:er}=He.current;let hi=null;if(Jt&&er){const{cancelDrop:ba}=W.current;hi={activatorEvent:wt,active:Jt,collisions:on,delta:er,over:fi},tt===Bn.DragEnd&&typeof ba=="function"&&await Promise.resolve(ba(hi))&&(tt=Bn.DragCancel)}de.current=null,oi.unstable_batchedUpdates(()=>{C({type:tt}),D(Qa.Uninitialized),pt(null),P(null),q(null),ct.current=null;const ba=tt===Bn.DragEnd?"onDragEnd":"onDragCancel";if(hi){const gi=W.current[ba];gi?.(hi),T({type:ba,event:hi})}})}}},[O]),_n=E.useCallback((Ct,Kt)=>(Ee,Ge)=>{const mt=Ee.nativeEvent,wt=O.get(Ge);if(de.current!==null||!wt||mt.dndKit||mt.defaultPrevented)return;const mn={active:wt};Ct(Ee,Kt.options,mn)===!0&&(mt.dndKit={capturedBy:Kt.sensor},de.current=Ge,We(Ee,Kt))},[O,We]),rt=Bse(h,_n);Qse(h),pa(()=>{Te&&M===Qa.Initializing&&D(Qa.Initialized)},[Te,M]),E.useEffect(()=>{const{onDragMove:Ct}=W.current,{active:Kt,activatorEvent:Ee,collisions:Ge,over:mt}=He.current;if(!Kt||!Ee)return;const wt={active:Kt,activatorEvent:Ee,collisions:Ge,delta:{x:we.x,y:we.y},over:mt};oi.unstable_batchedUpdates(()=>{Ct?.(wt),T({type:"onDragMove",event:wt})})},[we.x,we.y]),E.useEffect(()=>{const{active:Ct,activatorEvent:Kt,collisions:Ee,droppableContainers:Ge,scrollAdjustedTranslate:mt}=He.current;if(!Ct||de.current==null||!Kt||!mt)return;const{onDragOver:wt}=W.current,mn=Ge.get(et),St=mn&&mn.rect.current?{id:mn.id,rect:mn.rect.current,data:mn.data,disabled:mn.disabled}:null,tt={active:Ct,activatorEvent:Kt,collisions:Ee,delta:{x:mt.x,y:mt.y},over:St};oi.unstable_batchedUpdates(()=>{pt(St),wt?.(tt),T({type:"onDragOver",event:tt})})},[et]),pa(()=>{He.current={activatorEvent:G,active:ne,activeNode:me,collisionRect:Se,collisions:Ne,droppableRects:V,draggableNodes:O,draggingNode:$e,draggingNodeRect:Ze,droppableContainers:z,over:Ye,scrollableAncestors:L,scrollAdjustedTranslate:we},Q.current={initial:Ze,translated:Se}},[ne,me,Ne,Se,O,$e,Ze,V,z,Ye,L,we]),Fse({...pe,delta:j,draggingRect:Se,pointerCoordinates:X,scrollableAncestors:L,scrollableAncestorRects:Y});const _t=E.useMemo(()=>({active:ne,activeNode:me,activeNodeRect:Te,activatorEvent:G,collisions:Ne,containerNodeRect:Le,dragOverlay:xe,draggableNodes:O,droppableContainers:z,droppableRects:V,over:Ye,measureDroppableContainers:J,scrollableAncestors:L,scrollableAncestorRects:Y,measuringConfiguration:te,measuringScheduled:ue,windowRect:Je}),[ne,me,Te,G,Ne,Le,xe,O,z,V,Ye,J,L,Y,te,ue,Je]),yr=E.useMemo(()=>({activatorEvent:G,activators:rt,active:ne,activeNodeRect:Te,ariaDescribedById:{draggable:ye},dispatch:C,draggableNodes:O,over:Ye,measureDroppableContainers:J}),[G,rt,ne,Te,C,ye,O,Ye,J]);return le.createElement(mF.Provider,{value:A},le.createElement(Zf.Provider,{value:yr},le.createElement(kF.Provider,{value:_t},le.createElement(yv.Provider,{value:Vt},d)),le.createElement(sae,{disabled:l?.restoreFocus===!1})),le.createElement(dse,{...l,hiddenTextDescribedById:ye}));function br(){const Ct=ge?.autoScrollEnabled===!1,Kt=typeof u=="object"?u.enabled===!1:u===!1,Ee=k&&!Ct&&!Kt;return typeof u=="object"?{...u,enabled:Ee}:{enabled:Ee}}}),cae=E.createContext(null),TM="button",uae="Draggable";function vde(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=mv(uae),{activators:a,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:h,draggableNodes:g,over:m}=E.useContext(Zf),{role:v=TM,roleDescription:b="draggable",tabIndex:y=0}=i??{},S=u?.id===e,C=E.useContext(S?yv:cae),[T,A]=um(),[M,D]=um(),k=Xse(a,e),N=xf(n);pa(()=>(g.set(e,{id:e,key:s,node:T,activatorNode:M,data:N}),()=>{const j=g.get(e);j&&j.key===s&&g.delete(e)}),[g,e]);const O=E.useMemo(()=>({role:v,tabIndex:y,"aria-disabled":r,"aria-pressed":S&&v===TM?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[r,v,y,S,b,h.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:O,isDragging:S,listeners:r?void 0:k,node:T,over:m,setNodeRef:A,setActivatorNodeRef:D,transform:C}}function dae(){return E.useContext(kF)}const fae="Droppable",hae={timeout:25};function yde(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=mv(fae),{active:a,dispatch:l,over:u,measureDroppableContainers:d}=E.useContext(Zf),h=E.useRef({disabled:n}),g=E.useRef(!1),m=E.useRef(null),v=E.useRef(null),{disabled:b,updateMeasurementsFor:y,timeout:S}={...hae,...i},C=xf(y??r),T=E.useCallback(()=>{if(!g.current){g.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),v.current=null},S)},[S]),A=vv({callback:T,disabled:b||!a}),M=E.useCallback((O,j)=>{A&&(j&&(A.unobserve(j),g.current=!1),O&&A.observe(O))},[A]),[D,k]=um(M),N=xf(e);return E.useEffect(()=>{!A||!D.current||(A.disconnect(),g.current=!1,A.observe(D.current))},[D,A]),E.useEffect(()=>(l({type:Bn.RegisterDroppable,element:{id:r,key:s,disabled:n,node:D,rect:m,data:N}}),()=>l({type:Bn.UnregisterDroppable,key:s,id:r})),[r]),E.useEffect(()=>{n!==h.current.disabled&&(l({type:Bn.SetDroppableDisabled,id:r,key:s,disabled:n}),h.current.disabled=n)},[r,s,n,l]),{active:a,rect:m,isOver:u?.id===r,node:D,over:u,setNodeRef:k}}function gae(t){let{animation:e,children:n}=t;const[r,i]=E.useState(null),[s,a]=E.useState(null),l=dm(n);return!n&&!r&&l&&i(l),pa(()=>{if(!s)return;const u=r?.key,d=r?.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,s)).then(()=>{i(null)})},[e,r,s]),le.createElement(le.Fragment,null,n,r?E.cloneElement(r,{ref:a}):null)}const pae={x:0,y:0,scaleX:1,scaleY:1};function mae(t){let{children:e}=t;return le.createElement(Zf.Provider,{value:MF},le.createElement(yv.Provider,{value:pae},e))}const vae={position:"fixed",touchAction:"none"},yae=t=>_x(t)?"transform 250ms ease":void 0,bae=E.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:a,rect:l,style:u,transform:d,transition:h=yae}=t;if(!l)return null;const g=i?d:{...d,scaleX:1,scaleY:1},m={...vae,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ef.Transform.toString(g),transformOrigin:i&&r?hse(r,l):void 0,transition:typeof h=="function"?h(r):h,...u};return le.createElement(n,{className:a,style:m,ref:e},s)}),_ae=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[l,u]of Object.entries(s.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(s!=null&&s.dragOverlay)for(const[l,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},wae=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Ef.Transform.toString(e)},{transform:Ef.Transform.toString(n)}]},Sae={duration:250,easing:"ease",keyframes:wae,sideEffects:_ae({styles:{active:{opacity:"0"}}})};function xae(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return pv((s,a)=>{if(e===null)return;const l=n.get(s);if(!l)return;const u=l.node.current;if(!u)return;const d=OF(a);if(!d)return;const{transform:h}=Tr(a).getComputedStyle(a),g=yF(h);if(!g)return;const m=typeof e=="function"?e:Eae(e);return CF(u,i.draggable.measure),m({active:{id:s,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:g})})}function Eae(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...Sae,...t};return s=>{let{active:a,dragOverlay:l,transform:u,...d}=s;if(!e)return;const h={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},g={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/l.rect.height:1},m={x:u.x-h.x,y:u.y-h.y,...g},v=i({...d,active:a,dragOverlay:l,transform:{initial:u,final:m}}),[b]=v,y=v[v.length-1];if(JSON.stringify(b)===JSON.stringify(y))return;const S=r?.({active:a,dragOverlay:l,...d}),C=l.node.animate(v,{duration:e,easing:n,fill:"forwards"});return new Promise(T=>{C.onfinish=()=>{S?.(),T()}})}}let AM=0;function Cae(t){return E.useMemo(()=>{if(t!=null)return AM++,AM},[t])}const Tae=le.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:a,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:h,active:g,activeNodeRect:m,containerNodeRect:v,draggableNodes:b,droppableContainers:y,dragOverlay:S,over:C,measuringConfiguration:T,scrollableAncestors:A,scrollableAncestorRects:M,windowRect:D}=dae(),k=E.useContext(yv),N=Cae(g?.id),O=NF(a,{activatorEvent:h,active:g,activeNodeRect:m,containerNodeRect:v,draggingNodeRect:S.rect,over:C,overlayNodeRect:S.rect,scrollableAncestors:A,scrollableAncestorRects:M,transform:k,windowRect:D}),j=Cx(m),z=xae({config:r,draggableNodes:b,droppableContainers:y,measuringConfiguration:T}),B=j?S.setRef:void 0;return le.createElement(mae,null,le.createElement(gae,{animation:z},g&&N?le.createElement(bae,{key:N,id:g.id,ref:B,as:l,activatorEvent:h,adjustScale:e,className:u,transition:s,rect:j,style:{zIndex:d,...i},transform:O},n):null))});function Xo({label:t,options:e,selectedOptions:n,onSelectionChange:r,searchPlaceholder:i,id:s,width:a="200px"}){const[l,u]=E.useState(!1),[d,h]=E.useState(""),g=E.useRef(null);E.useEffect(()=>{const T=A=>{g.current&&!g.current.contains(A.target)&&u(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const m=e.filter(T=>T.toLowerCase().includes(d.toLowerCase())),v=m.length>0&&m.every(T=>n.includes(T)),b=T=>{if(T.preventDefault(),T.stopPropagation(),v){const A=n.filter(M=>!m.includes(M));r(A)}else{const A=[...new Set([...n,...m])];r(A)}},y=(T,A)=>{if(T.preventDefault(),T.stopPropagation(),n.includes(A)){const M=n.filter(D=>D!==A);r(M)}else{const M=[...n.filter(D=>D!==""),A];r(M)}},S=()=>{u(!0)},C=T=>{h(T.target.value)};return w.jsxs("div",{className:"relative",ref:g,style:{width:a},children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs(hr,{htmlFor:s,children:[t,":"]}),w.jsx(Qn,{type:"text",id:s,value:d,onChange:C,onFocus:S,placeholder:i})]}),l&&e.length>0&&w.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:[w.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 ${v?"bg-navy-50 text-navy-800":""}`,onMouseDown:b,children:w.jsx("div",{className:"text-xs font-bold",children:"Tutti"})}),m.map(T=>w.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 ${n.includes(T)?"bg-navy-50 text-navy-800":""}`,onMouseDown:A=>y(A,T),children:w.jsx("div",{className:"text-xs font-normal",children:T})},T))]})]})}const Aae=E.lazy(()=>ar(()=>import("./TaskPoolDataTable-DwqPz4qQ.js"),[])),Rae=E.lazy(()=>ar(()=>import("./GanttChart-BBtVk8JA.js"),[])),RM=()=>w.jsx("div",{className:"loading",children:"Caricamento componenti scheduler..."}),Dae=({schedulingLoading:t})=>{if(!t.isScheduling&&!t.isRescheduling&&!t.isShunting&&!t.isNavigating)return null;const e=()=>t.isScheduling?"Programmazione lavoro...":t.isRescheduling?"Riprogrammazione lavoro...":t.isShunting?"Risoluzione conflitti...":t.isNavigating?"Navigazione...":"Operazione in corso...";return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[w.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),w.jsx("span",{className:"text-gray-700 font-medium",children:e()})]})})},Oae=(t,e)=>{const n=document.querySelector(t);if(!n){Ja("Grafico Gantt non trovato. Assicurati che il grafico sia visibile sullo schermo.");return}const r=Array.from(document.styleSheets);let i="";r.forEach(m=>{try{Array.from(m.cssRules||m.rules||[]).forEach(b=>{i+=b.cssText+`
`})}catch{}});const s=n.cloneNode(!0),a=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Grafico Gantt - ${e}</title>
        <style>
          ${i}
          body { 
            margin: 0; 
            padding: 20px; 
            font-family: Arial, sans-serif;
          }
          .calendar-section {
            width: 100%;
            overflow-x: auto;
          }
        </style>
      </head>
      <body>
        <div style="text-align: center; margin-bottom: 20px; font-size: 12px; font-weight: bold;">
          Grafico Gantt - ${e}
        </div>
        <div class="calendar-section">
          ${s.outerHTML}
        </div>
      </body>
    </html>
  `,l=new Blob([a],{type:"text/html"}),u=window.URL.createObjectURL(l),d=document.createElement("a");d.href=u;const h=new Date().toISOString().split("T")[0],g=new Date().toISOString().split("T")[1].split(".")[0].replace(/:/g,"-");d.download=`grafico-gantt-${h}-${g}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u)};function Mae(){const{data:t=[],isLoading:e,error:n}=Xm(),{data:r=[],isLoading:i,error:s}=Qm(),{getOdpOrdersByWorkCenter:a,getScheduledOrders:l}=hn(),{selectedWorkCenter:u,isLoading:d,isInitialized:h,showAlert:g,isEditMode:m,toggleEditMode:v,showConflictDialog:b,schedulingLoading:y,setDragPreview:S,clearDragPreview:C,dragPreview:T}=Mt(),{scheduleTask:A,unscheduleTask:M,scheduleTaskFromSlot:D,rescheduleTaskToSlot:k,validateSlotAvailability:N}=_s(),{init:O,cleanup:j}=Eo(),z=Vr(),B=fse(mM(Ex,{activationConstraint:{distance:0}}),mM(RF,{activationConstraint:{distance:0}})),[Q,ne]=E.useState(()=>{const X=new Date;return new Date(Date.UTC(X.getUTCFullYear(),X.getUTCMonth(),X.getUTCDate()))}),[de,ge]=E.useState(null),P=e||i||d,[G,q]=E.useState(null),[W,ye]=E.useState(""),[F,te]=E.useState(""),[V,J]=E.useState(""),ue={workCenter:[],department:[],machineType:[],machineName:[]};function me(X,se){switch(se.type){case"SET_FILTER":return{...X,[se.payload.filterName]:se.payload.value};case"CLEAR_FILTERS":return ue;default:return X}}const[Z,pe]=E.useReducer(me,ue);E.useEffect(()=>(h||O(),()=>{j()}),[O,h,j]);const Ce=E.useMemo(()=>u?u==="BOTH"?t:t.filter(X=>X.work_center===u):[],[u,t]),Te=E.useMemo(()=>Ce.filter(se=>se.status==="SCHEDULED"),[Ce,u]),Le=E.useMemo(()=>{if(performance.now(),!r||r.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let X=r;u&&u!==bt.BOTH&&(X=r.filter(lt=>lt.work_center===u));const se=X.filter(lt=>lt.status===ys.ACTIVE);if(se.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const fe=new Set,_e=new Set,we=new Set,Se=new Set;for(const lt of se)lt.work_center&&fe.add(lt.work_center),lt.department&&_e.add(lt.department),lt.machine_type&&we.add(lt.machine_type),lt.machine_name&&Se.add(lt.machine_name);const Ne=Array.from(fe).sort(),et=Array.from(_e).sort(),Ye=Array.from(we).sort(),pt=Array.from(Se).sort();return performance.now(),{activeMachines:se,workCenters:Ne,departments:et,machineTypes:Ye,machineNames:pt}},[r,u]),He=E.useMemo(()=>{const{activeMachines:X}=Le;let se=X;return Z.workCenter.length>0&&(se=se.filter(fe=>Z.workCenter.includes(fe.work_center))),Z.department.length>0&&(se=se.filter(fe=>Z.department.includes(fe.department))),Z.machineType.length>0&&(se=se.filter(fe=>Z.machineType.includes(fe.machine_type))),Z.machineName.length>0&&(se=se.filter(fe=>Z.machineName.includes(fe.machine_name))),se},[Le,Z]),$t=E.useCallback(async(X,se="Daily")=>{const{startSchedulingOperation:fe,stopSchedulingOperation:_e}=Mt.getState();try{fe("navigate");let we;ne(Se=>{if(X==="today"){const Ne=new Date,et=Ne.getUTCFullYear(),Ye=Ne.getUTCMonth(),pt=Ne.getUTCDate();return we=new Date(Date.UTC(et,Ye,pt)),we}else if(X==="prev"){if(se==="Weekly")return we=El(aK(Se,1),{weekStartsOn:1}),we;{const Ne=new Date(Se);return Ne.setUTCDate(Ne.getUTCDate()-1),we=Ne,we}}else if(X==="next"){if(se==="Weekly")return we=El(jP(Se,1),{weekStartsOn:1}),we;{const Ne=new Date(Se);return Ne.setUTCDate(Ne.getUTCDate()+1),we=Ne,Ne}}return we=Se,Se})}finally{_e()}},[]),xe=E.useCallback(()=>{const X=new Date,se=X.getUTCFullYear(),fe=X.getUTCMonth(),_e=X.getUTCDate(),we=new Date(Date.UTC(se,fe,_e));return Q.getTime()===we.getTime()?"Oggi":Jn(Q,"yyyy-MM-dd")},[Q]),$e=E.useCallback(()=>{pe({type:"CLEAR_FILTERS"})},[]),Ze=E.useCallback((X,se,fe)=>{if(!X.trim())return;let _e=Te.find(we=>we[se]===X.trim());if(_e||(_e=Te.find(we=>we[se]&&we[se].toLowerCase().includes(X.trim().toLowerCase()))),!_e){g(`Lavoro non trovato per ${fe}: ${X}`,"warning");return}kt(_e,se,fe,X)},[Te,r,g]),kt=E.useCallback((X,se,fe,_e)=>{const we=r.find(Ne=>Ne.id===X.scheduled_machine_id);if(!we){g("Macchina non trovata per questo lavoro","error");return}if(pe({type:"SET_FILTER",payload:{filterName:"machineName",value:[we.machine_name]}}),pe({type:"SET_FILTER",payload:{filterName:"workCenter",value:[we.work_center]}}),pe({type:"SET_FILTER",payload:{filterName:"department",value:[we.department]}}),pe({type:"SET_FILTER",payload:{filterName:"machineType",value:[we.machine_type]}}),X.scheduled_start_time){const Ne=new Date(X.scheduled_start_time),et=Ne.getUTCFullYear(),Ye=Ne.getUTCMonth(),pt=Ne.getUTCDate();ne(new Date(Date.UTC(et,Ye,pt)))}se==="odp_number"?ye(""):se==="article_code"?te(""):se==="nome_cliente"&&J("");const Se=X[se];g(`Lavoro trovato per ${fe} "${Se}" su ${we.machine_name}`,"success")},[r,g,ye,te,J,ne]),Cn=E.useRef(null),Je=E.useRef(!1),L=E.useCallback(X=>{const se=X.active.data.current;se&&se.type==="task"?ge(se.task):se&&se.type==="event"&&ge(se.event)},[]),Y=E.useCallback(X=>{const{over:se}=X;if(se&&se.data.current?.type==="slot"){const{machine:fe,hour:_e,minute:we,isUnavailable:Se,hasScheduledTask:Ne}=se.data.current;if(Se||Ne){q(null),C();return}const et=`${fe.id}-${_e}-${we}`;if(q(et),de){const Ye=de.time_remaining||de.duration||1,pt=Math.ceil(Ye*4),lt=(_e-6)*4+Math.floor(we/15);S({isActive:!0,startSlot:lt,durationSlots:pt,machineId:fe.id})}}else se&&se.data.current?.type==="next-day"?(q("next-day-drop-zone"),C()):se&&se.data.current?.type==="previous-day"?(q("previous-day-drop-zone"),C()):(q(null),C())},[de,S,C]),ee=E.useCallback(async X=>{if(performance.now(),Cn.current&&clearTimeout(Cn.current),Je.current)return;ge(null),q(null),C();const{over:se,active:fe}=X;if(!se)return;const _e=fe.data.current,we=se.data.current;if(!(!_e||!we)){Je.current=!0;try{await new Promise(Se=>{requestAnimationFrame(async()=>{const Ne=performance.now();if(_e.type==="task"&&we.type==="slot"){const et=_e.task,{machine:Ye,hour:pt,minute:lt,isUnavailable:Vt,hasScheduledTask:ct}=we;if(ct)return g("Impossibile pianificare il lavoro su uno slot temporale occupato","error"),Se();const We=await D(et.id,Ye,Q,pt,lt,null,z);We?.error?g(We.error,"error"):We?.conflict&&b(We)}else if(_e.type==="event"&&we.type==="slot"){const et=_e.event,{machine:Ye,hour:pt,minute:lt,isUnavailable:Vt,hasScheduledTask:ct}=we;if(ct)return g("Impossibile riprogrammare il lavoro su uno slot temporale occupato","error"),Se();const We=await k(et.id,Ye,Q,pt,lt,z);We?.error?g(We.error,"error"):We?.conflict&&b(We)}else if(_e.type==="event"&&we.type==="pool"){const et=_e.event;M(et.id,z)}else(_e.type==="task"||_e.type==="event")&&we.type==="next-day"?g("Navigazione al giorno successivo completata","success"):(_e.type==="task"||_e.type==="event")&&we.type==="previous-day"&&g("Navigazione al giorno precedente completata","success");Se()})})}catch{g("Si è verificato un errore durante l'operazione di trascinamento","error")}finally{Je.current=!1}}},[Q,D,k,M,g,b]);return P?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[w.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),w.jsx("span",{className:"text-gray-700 font-medium",children:"Caricamento Scheduler Produzione..."})]})}):n||s?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[w.jsx("div",{className:"text-red-600 mb-4",children:w.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),w.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Errore nel caricamento dei dati"}),w.jsx("p",{className:"text-gray-600 mb-4",children:n?.message||s?.message||"Errore sconosciuto"}),w.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Riprova"})]})}):u?w.jsxs(w.Fragment,{children:[w.jsx(Dae,{schedulingLoading:y}),w.jsxs(lae,{sensors:B,onDragStart:L,onDragOver:Y,onDragEnd:ee,children:[w.jsxs("div",{className:`content-section ${m?"edit-mode":""}`,children:[w.jsxs("div",{className:"task-pool-section",children:[w.jsxs("div",{className:"task-pool-header",children:[w.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Pool Lavori"}),w.jsx(Xt,{variant:m?"destructive":"default",size:"sm",onClick:v,title:m?"Disabilita modalità modifica":"Abilita modalità modifica",children:m?"Disabilita Modalità Modifica":"Abilita Modalità Modifica"})]}),w.jsx(E.Suspense,{fallback:w.jsx(RM,{}),children:w.jsx(Aae,{})})]}),w.jsxs("div",{className:"section-controls",children:[w.jsx("div",{className:"task-pool-header",children:w.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Filtri"})}),w.jsxs("div",{className:"filters-grid",children:[w.jsx("div",{className:"filters-actions-left",children:w.jsx(Xt,{variant:"secondary",size:"sm",onClick:$e,title:"Clear all filters",children:"Cancella Filtri"})}),w.jsx(Xo,{label:"ODP",options:Te.map(X=>X.odp_number).filter(Boolean),selectedOptions:W?[W]:[],onSelectionChange:X=>{X.length>0?(ye(X[0]),Ze(X[0],"odp_number","ODP")):ye("")},searchPlaceholder:"Cerca ODP...",id:"odp_filter",width:"150px"}),w.jsx(Xo,{label:"Codice Articolo",options:Te.map(X=>X.article_code).filter(Boolean),selectedOptions:F?[F]:[],onSelectionChange:X=>{X.length>0?(te(X[0]),Ze(X[0],"article_code","codice articolo")):te("")},searchPlaceholder:"Cerca Articolo...",id:"article_filter",width:"150px"}),w.jsx(Xo,{label:"Nome Cliente",options:Te.map(X=>X.nome_cliente).filter(Boolean),selectedOptions:V?[V]:[],onSelectionChange:X=>{X.length>0?(J(X[0]),Ze(X[0],"nome_cliente","cliente")):J("")},searchPlaceholder:"Cerca Cliente...",id:"customer_filter",width:"150px"}),w.jsx(Xo,{label:"Centro di Lavoro",options:Le.workCenters,selectedOptions:Z.workCenter,onSelectionChange:X=>pe({type:"SET_FILTER",payload:{filterName:"workCenter",value:X}}),searchPlaceholder:"Cerca Centri di Lavoro",id:"work_center_filter",width:"150px"}),w.jsx(Xo,{label:"Reparto",options:Le.departments,selectedOptions:Z.department,onSelectionChange:X=>pe({type:"SET_FILTER",payload:{filterName:"department",value:X}}),searchPlaceholder:"Cerca Reparti",id:"department_filter",width:"150px"}),w.jsx(Xo,{label:"Tipo Macchina",options:Le.machineTypes,selectedOptions:Z.machineType,onSelectionChange:X=>pe({type:"SET_FILTER",payload:{filterName:"machineType",value:X}}),searchPlaceholder:"Cerca Tipi di Macchina",id:"machine_type_filter",width:"150px"}),w.jsx(Xo,{label:"Nome Macchina",options:Le.machineNames,selectedOptions:Z.machineName,onSelectionChange:X=>pe({type:"SET_FILTER",payload:{filterName:"machineName",value:X}}),searchPlaceholder:"Cerca Nomi Macchine",id:"machine_name_filter",width:"150px"}),w.jsx("div",{className:"filters-actions-right",children:w.jsx(Xt,{variant:"secondary",size:"sm",onClick:()=>Oae(".calendar-section .calendar-grid-container",xe()),title:"Download exact Gantt chart as HTML file",children:"Scarica HTML"})})]})]}),w.jsxs("div",{className:"calendar-section relative",children:[w.jsx(E.Suspense,{fallback:w.jsx(RM,{}),children:w.jsx(Rae,{machines:He,currentDate:Q,dropTargetId:G,dragPreview:T,onNavigateToNextDay:X=>$t("next",X),onNavigateToPreviousDay:X=>$t("prev",X)})}),(y.isScheduling||y.isRescheduling||y.isShunting||y.isNavigating)&&w.jsx("div",{className:"absolute inset-0 bg-white z-40"})]})]}),w.jsx(Tae,{children:de?w.jsx("div",{style:{background:"#1e293b",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"400",zIndex:9999,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(3deg) scale(1.05)",border:"1px solid #2d3a4b",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",pointerEvents:"none",minHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",whiteSpace:"nowrap"},children:de.odp_number}):null})]})]}):w.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:w.jsx("div",{className:"text-center py-1 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati dello scheduler."})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jf(t){return t+.5|0}const io=(t,e,n)=>Math.max(Math.min(t,n),e);function Ud(t){return io(Jf(t*2.55),0,255)}function lo(t){return io(Jf(t*255),0,255)}function na(t){return io(Jf(t/2.55)/100,0,1)}function DM(t){return io(Jf(t*100),0,100)}const Ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ww=[..."0123456789ABCDEF"],kae=t=>ww[t&15],Nae=t=>ww[(t&240)>>4]+ww[t&15],Qg=t=>(t&240)>>4===(t&15),Iae=t=>Qg(t.r)&&Qg(t.g)&&Qg(t.b)&&Qg(t.a);function Pae(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ti[t[1]]*17,g:255&Ti[t[2]]*17,b:255&Ti[t[3]]*17,a:e===5?Ti[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ti[t[1]]<<4|Ti[t[2]],g:Ti[t[3]]<<4|Ti[t[4]],b:Ti[t[5]]<<4|Ti[t[6]],a:e===9?Ti[t[7]]<<4|Ti[t[8]]:255})),n}const jae=(t,e)=>t<255?e(t):"";function Lae(t){var e=Iae(t)?kae:Nae;return t?"#"+e(t.r)+e(t.g)+e(t.b)+jae(t.a,e):void 0}const Fae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function IF(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Uae(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function zae(t,e,n){const r=IF(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Hae(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Tx(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),l=(s+a)/2;let u,d,h;return s!==a&&(h=s-a,d=l>.5?h/(2-s-a):h/(s+a),u=Hae(n,r,i,h,s),u=u*60+.5),[u|0,d||0,l]}function Ax(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(lo)}function Rx(t,e,n){return Ax(IF,t,e,n)}function Bae(t,e,n){return Ax(zae,t,e,n)}function $ae(t,e,n){return Ax(Uae,t,e,n)}function PF(t){return(t%360+360)%360}function Vae(t){const e=Fae.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Ud(+e[5]):lo(+e[5]));const i=PF(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=Bae(i,s,a):e[1]==="hsv"?r=$ae(i,s,a):r=Rx(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function qae(t,e){var n=Tx(t);n[0]=PF(n[0]+e),n=Rx(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Wae(t){if(!t)return;const e=Tx(t),n=e[0],r=DM(e[1]),i=DM(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${na(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const OM={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},MM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Gae(){const t={},e=Object.keys(MM),n=Object.keys(OM);let r,i,s,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],i=0;i<n.length;i++)s=n[i],l=l.replace(s,OM[s]);s=parseInt(MM[a],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Xg;function Yae(t){Xg||(Xg=Gae(),Xg.transparent=[0,0,0,0]);const e=Xg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Kae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Qae(t){const e=Kae.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Ud(a):io(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Ud(r):io(r,0,255)),i=255&(e[4]?Ud(i):io(i,0,255)),s=255&(e[6]?Ud(s):io(s,0,255)),{r,g:i,b:s,a:n}}}function Xae(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${na(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const W0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,zc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Zae(t,e,n){const r=zc(na(t.r)),i=zc(na(t.g)),s=zc(na(t.b));return{r:lo(W0(r+n*(zc(na(e.r))-r))),g:lo(W0(i+n*(zc(na(e.g))-i))),b:lo(W0(s+n*(zc(na(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Zg(t,e,n){if(t){let r=Tx(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Rx(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function jF(t,e){return t&&Object.assign(e||{},t)}function kM(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=lo(t[3]))):(e=jF(t,{r:0,g:0,b:0,a:1}),e.a=lo(e.a)),e}function Jae(t){return t.charAt(0)==="r"?Qae(t):Vae(t)}class Tf{constructor(e){if(e instanceof Tf)return e;const n=typeof e;let r;n==="object"?r=kM(e):n==="string"&&(r=Pae(e)||Yae(e)||Jae(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=jF(this._rgb);return e&&(e.a=na(e.a)),e}set rgb(e){this._rgb=kM(e)}rgbString(){return this._valid?Xae(this._rgb):void 0}hexString(){return this._valid?Lae(this._rgb):void 0}hslString(){return this._valid?Wae(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,l=2*a-1,u=r.a-i.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Zae(this._rgb,e._rgb,n)),this}clone(){return new Tf(this.rgb)}alpha(e){return this._rgb.a=lo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Jf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zg(this._rgb,2,e),this}darken(e){return Zg(this._rgb,2,-e),this}saturate(e){return Zg(this._rgb,1,e),this}desaturate(e){return Zg(this._rgb,1,-e),this}rotate(e){return qae(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Qs(){}const eoe=(()=>{let t=0;return()=>t++})();function Zt(t){return t==null}function Xn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Rt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ii(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ds(t,e){return Ii(t)?t:e}function gt(t,e){return typeof t>"u"?e:t}const toe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,LF=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function nn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Lt(t,e,n,r){let i,s,a;if(Xn(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Rt(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function mm(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function vm(t){if(Xn(t))return t.map(vm);if(Rt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=vm(t[n[i]]);return e}return t}function FF(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function noe(t,e,n,r){if(!FF(t))return;const i=e[t],s=n[t];Rt(i)&&Rt(s)?Af(i,s,r):e[t]=vm(s)}function Af(t,e,n){const r=Xn(e)?e:[e],i=r.length;if(!Rt(t))return t;n=n||{};const s=n.merger||noe;let a;for(let l=0;l<i;++l){if(a=r[l],!Rt(a))continue;const u=Object.keys(a);for(let d=0,h=u.length;d<h;++d)s(u[d],t,a,n)}return t}function rf(t,e){return Af(t,e,{merger:roe})}function roe(t,e,n){if(!FF(t))return;const r=e[t],i=n[t];Rt(r)&&Rt(i)?rf(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=vm(i))}const NM={"":t=>t,x:t=>t.x,y:t=>t.y};function ioe(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function soe(t){const e=ioe(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Rf(t,e){return(NM[e]||(NM[e]=soe(e)))(t)}function Dx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ym=t=>typeof t<"u",vo=t=>typeof t=="function",IM=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function aoe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ft=Math.PI,bn=2*Ft,ooe=bn+Ft,bm=Number.POSITIVE_INFINITY,loe=Ft/180,Vn=Ft/2,Zo=Ft/4,PM=Ft*2/3,UF=Math.log10,pu=Math.sign;function sf(t,e,n){return Math.abs(t-e)<n}function jM(t){const e=Math.round(t);t=sf(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(UF(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function coe(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function uoe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Df(t){return!uoe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function doe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function foe(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function sa(t){return t*(Ft/180)}function hoe(t){return t*(180/Ft)}function LM(t){if(!Ii(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function zF(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ft&&(s+=bn),{angle:s,distance:i}}function Sw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function goe(t,e){return(t-e+ooe)%bn-Ft}function Vi(t){return(t%bn+bn)%bn}function Of(t,e,n,r){const i=Vi(t),s=Vi(e),a=Vi(n),l=Vi(s-i),u=Vi(a-i),d=Vi(i-s),h=Vi(i-a);return i===s||i===a||r&&s===a||l>u&&d<h}function xr(t,e,n){return Math.max(e,Math.min(n,t))}function poe(t){return xr(t,-32768,32767)}function Xc(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Ox(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const pl=(t,e,n,r)=>Ox(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),moe=(t,e,n)=>Ox(t,n,r=>t[r][e]>=n);function voe(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const HF=["push","pop","shift","splice","unshift"];function yoe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),HF.forEach(n=>{const r="_onData"+Dx(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),a}})})}function FM(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(HF.forEach(s=>{delete t[s]}),delete t._chartjs)}function boe(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const BF=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function $F(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,BF.call(window,()=>{r=!1,t.apply(e,n)}))}}function _oe(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Mx=t=>t==="start"?"left":t==="end"?"right":"center",fr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,woe=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Soe(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=a.axis,{min:g,max:m,minDefined:v,maxDefined:b}=a.getUserBounds();if(v){if(i=Math.min(pl(u,h,g).lo,n?r:pl(e,h,a.getPixelForValue(g)).lo),d){const y=u.slice(0,i+1).reverse().findIndex(S=>!Zt(S[l.axis]));i-=Math.max(0,y)}i=xr(i,0,r-1)}if(b){let y=Math.max(pl(u,a.axis,m,!0).hi+1,n?0:pl(e,h,a.getPixelForValue(m),!0).hi+1);if(d){const S=u.slice(y-1).findIndex(C=>!Zt(C[l.axis]));y+=Math.max(0,S)}s=xr(y,i,r)-i}else s=r-i}return{start:i,count:s}}function xoe(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Jg=t=>t===0||t===1,UM=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*bn/n)),zM=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*bn/n)+1,af={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Vn)+1,easeOutSine:t=>Math.sin(t*Vn),easeInOutSine:t=>-.5*(Math.cos(Ft*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Jg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Jg(t)?t:UM(t,.075,.3),easeOutElastic:t=>Jg(t)?t:zM(t,.075,.3),easeInOutElastic(t){return Jg(t)?t:t<.5?.5*UM(t*2,.1125,.45):.5+.5*zM(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-af.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?af.easeInBounce(t*2)*.5:af.easeOutBounce(t*2-1)*.5+.5};function kx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function HM(t){return kx(t)?t:new Tf(t)}function G0(t){return kx(t)?t:new Tf(t).saturate(.5).darken(.1).hexString()}const Eoe=["x","y","borderWidth","radius","tension"],Coe=["color","borderColor","backgroundColor"];function Toe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Coe},numbers:{type:"number",properties:Eoe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Aoe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const BM=new Map;function Roe(t,e){e=e||{};const n=t+JSON.stringify(e);let r=BM.get(n);return r||(r=new Intl.NumberFormat(t,e),BM.set(n,r)),r}function Nx(t,e,n){return Roe(e,n).format(t)}const Doe={values(t){return Xn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=Ooe(t,n)}const a=UF(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),Nx(t,r,u)}};function Ooe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var VF={formatters:Doe};function Moe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:VF.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ol=Object.create(null),xw=Object.create(null);function of(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Y0(t,e,n){return typeof e=="string"?Af(of(t,e),n):Af(of(t,""),e)}class koe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>G0(i.backgroundColor),this.hoverBorderColor=(r,i)=>G0(i.borderColor),this.hoverColor=(r,i)=>G0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Y0(this,e,n)}get(e){return of(this,e)}describe(e,n){return Y0(xw,e,n)}override(e,n){return Y0(Ol,e,n)}route(e,n,r,i){const s=of(this,e),a=of(this,r),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=a[i];return Rt(u)?Object.assign({},d,u):gt(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var En=new koe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Toe,Aoe,Moe]);function Noe(t){return!t||Zt(t.size)||Zt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function $M(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Jo(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function VM(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ew(t,e,n,r){qF(t,e,n,r,null)}function qF(t,e,n,r,i){let s,a,l,u,d,h,g,m;const v=e.pointStyle,b=e.rotation,y=e.radius;let S=(b||0)*loe;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(S),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),v){default:i?t.ellipse(n,r,i/2,y,0,0,bn):t.arc(n,r,y,0,bn),t.closePath();break;case"triangle":h=i?i/2:y,t.moveTo(n+Math.sin(S)*h,r-Math.cos(S)*y),S+=PM,t.lineTo(n+Math.sin(S)*h,r-Math.cos(S)*y),S+=PM,t.lineTo(n+Math.sin(S)*h,r-Math.cos(S)*y),t.closePath();break;case"rectRounded":d=y*.516,u=y-d,a=Math.cos(S+Zo)*u,g=Math.cos(S+Zo)*(i?i/2-d:u),l=Math.sin(S+Zo)*u,m=Math.sin(S+Zo)*(i?i/2-d:u),t.arc(n-g,r-l,d,S-Ft,S-Vn),t.arc(n+m,r-a,d,S-Vn,S),t.arc(n+g,r+l,d,S,S+Vn),t.arc(n-m,r+a,d,S+Vn,S+Ft),t.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*y,h=i?i/2:u,t.rect(n-h,r-u,2*h,2*u);break}S+=Zo;case"rectRot":g=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,m=Math.sin(S)*(i?i/2:y),t.moveTo(n-g,r-l),t.lineTo(n+m,r-a),t.lineTo(n+g,r+l),t.lineTo(n-m,r+a),t.closePath();break;case"crossRot":S+=Zo;case"cross":g=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,m=Math.sin(S)*(i?i/2:y),t.moveTo(n-g,r-l),t.lineTo(n+g,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a);break;case"star":g=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,m=Math.sin(S)*(i?i/2:y),t.moveTo(n-g,r-l),t.lineTo(n+g,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a),S+=Zo,g=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,l=Math.sin(S)*y,m=Math.sin(S)*(i?i/2:y),t.moveTo(n-g,r-l),t.lineTo(n+g,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a);break;case"line":a=i?i/2:Math.cos(S)*y,l=Math.sin(S)*y,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(S)*(i?i/2:y),r+Math.sin(S)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Mf(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ix(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Px(t){t.restore()}function Ioe(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Poe(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function joe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Zt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Loe(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,h=i.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,h),t.lineTo(l,h),t.stroke()}}function Foe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function kf(t,e,n,r,i,s={}){const a=Xn(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=i.string,joe(t,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&Foe(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Zt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,r,s.maxWidth)),t.fillText(d,n,r,s.maxWidth),Loe(t,n,r,d,s),r+=Number(i.lineHeight);t.restore()}function Cw(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Ft,Ft,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Ft,Vn,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Vn,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Vn,!0),t.lineTo(n+a.topLeft,r)}const Uoe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zoe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Hoe(t,e){const n=(""+t).match(Uoe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Boe=t=>+t||0;function jx(t,e){const n={},r=Rt(e),i=r?Object.keys(e):e,s=Rt(t)?r?a=>gt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=Boe(s(a));return n}function $oe(t){return jx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function lf(t){return jx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Pi(t){const e=$oe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pr(t,e){t=t||{},e=e||En.font;let n=gt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=gt(t.style,e.style);r&&!(""+r).match(zoe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:gt(t.family,e.family),lineHeight:Hoe(gt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:gt(t.weight,e.weight),string:""};return i.string=Noe(i),i}function ep(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function Voe(t,e,n){const{min:r,max:i}=t,s=LF(e,(i-r)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Hl(t,e){return Object.assign(Object.create(t),e)}function Lx(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=KF("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>Lx([l,...t],e,s,r)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return GF(l,u,()=>Zoe(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return WM(l).includes(u)},ownKeys(l){return WM(l)},set(l,u,d){const h=l._storage||(l._storage=i());return l[u]=h[u]=d,delete l._keys,!0}})}function mu(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:WF(t,r),setContext:s=>mu(t,s,n,r),override:s=>mu(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,l){return GF(s,a,()=>Woe(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,l){return t[a]=l,delete s[a],!0}})}function WF(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:vo(n)?n:()=>n,isIndexable:vo(r)?r:()=>r}}const qoe=(t,e)=>t?t+Dx(e):e,Fx=(t,e)=>Rt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function GF(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function Woe(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let l=r[e];return vo(l)&&a.isScriptable(e)&&(l=Goe(e,l,t,n)),Xn(l)&&l.length&&(l=Yoe(e,l,t,a.isIndexable)),Fx(e,l)&&(l=mu(l,i,s&&s[e],a)),l}function Goe(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,a||r);return l.delete(t),Fx(t,u)&&(u=Ux(i._scopes,i,t,u)),u}function Yoe(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Rt(e[0])){const u=e,d=i._scopes.filter(h=>h!==u);e=[];for(const h of u){const g=Ux(d,i,t,h);e.push(mu(g,s,a&&a[t],l))}}return e}function YF(t,e,n){return vo(t)?t(e,n):t}const Koe=(t,e)=>t===!0?e:typeof t=="string"?Rf(e,t):void 0;function Qoe(t,e,n,r,i){for(const s of e){const a=Koe(n,s);if(a){t.add(a);const l=YF(a._fallback,n,i);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function Ux(t,e,n,r){const i=e._rootScopes,s=YF(e._fallback,n,r),a=[...t,...i],l=new Set;l.add(r);let u=qM(l,a,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=qM(l,a,s,u,r),u===null)?!1:Lx(Array.from(l),[""],i,s,()=>Xoe(e,n,r))}function qM(t,e,n,r,i){for(;n;)n=Qoe(t,e,n,r,i);return n}function Xoe(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Xn(i)&&Rt(n)?n:i||{}}function Zoe(t,e,n,r){let i;for(const s of e)if(i=KF(qoe(s,t),n),typeof i<"u")return Fx(t,i)?Ux(n,r,t,i):i}function KF(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function WM(t){let e=t._keys;return e||(e=t._keys=Joe(t._scopes)),e}function Joe(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const ele=Number.EPSILON||1e-14,vu=(t,e)=>e<t.length&&!t[e].skip&&t[e],QF=t=>t==="x"?"y":"x";function tle(t,e,n,r){const i=t.skip?e:t,s=e,a=n.skip?e:n,l=Sw(s,i),u=Sw(a,s);let d=l/(l+u),h=u/(l+u);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const g=r*d,m=r*h;return{previous:{x:s.x-g*(a.x-i.x),y:s.y-g*(a.y-i.y)},next:{x:s.x+m*(a.x-i.x),y:s.y+m*(a.y-i.y)}}}function nle(t,e,n){const r=t.length;let i,s,a,l,u,d=vu(t,0);for(let h=0;h<r-1;++h)if(u=d,d=vu(t,h+1),!(!u||!d)){if(sf(e[h],0,ele)){n[h]=n[h+1]=0;continue}i=n[h]/e[h],s=n[h+1]/e[h],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),n[h]=i*a*e[h],n[h+1]=s*a*e[h])}}function rle(t,e,n="x"){const r=QF(n),i=t.length;let s,a,l,u=vu(t,0);for(let d=0;d<i;++d){if(a=l,l=u,u=vu(t,d+1),!l)continue;const h=l[n],g=l[r];a&&(s=(h-a[n])/3,l[`cp1${n}`]=h-s,l[`cp1${r}`]=g-s*e[d]),u&&(s=(u[n]-h)/3,l[`cp2${n}`]=h+s,l[`cp2${r}`]=g+s*e[d])}}function ile(t,e="x"){const n=QF(e),r=t.length,i=Array(r).fill(0),s=Array(r);let a,l,u,d=vu(t,0);for(a=0;a<r;++a)if(l=u,u=d,d=vu(t,a+1),!!u){if(d){const h=d[e]-u[e];i[a]=h!==0?(d[n]-u[n])/h:0}s[a]=l?d?pu(i[a-1])!==pu(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}nle(t,i,s),rle(t,s,e)}function tp(t,e,n){return Math.max(Math.min(t,n),e)}function sle(t,e){let n,r,i,s,a,l=Mf(t[0],e);for(n=0,r=t.length;n<r;++n)a=s,s=l,l=n<r-1&&Mf(t[n+1],e),s&&(i=t[n],a&&(i.cp1x=tp(i.cp1x,e.left,e.right),i.cp1y=tp(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=tp(i.cp2x,e.left,e.right),i.cp2y=tp(i.cp2y,e.top,e.bottom)))}function ale(t,e,n,r,i){let s,a,l,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")ile(t,i);else{let d=r?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)l=t[s],u=tle(d,l,t[Math.min(s+1,a-(r?0:1))%a],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}e.capBezierPoints&&sle(t,n)}function zx(){return typeof window<"u"&&typeof document<"u"}function Hx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _m(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const bv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ole(t,e){return bv(t).getPropertyValue(e)}const lle=["top","right","bottom","left"];function bl(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=lle[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const cle=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function ule(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,l,u;if(cle(i,s,t.target))l=i,u=s;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,u=r.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function al(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=bv(n),s=i.boxSizing==="border-box",a=bl(i,"padding"),l=bl(i,"border","width"),{x:u,y:d,box:h}=ule(t,n),g=a.left+(h&&l.left),m=a.top+(h&&l.top);let{width:v,height:b}=e;return s&&(v-=a.width+l.width,b-=a.height+l.height),{x:Math.round((u-g)/v*n.width/r),y:Math.round((d-m)/b*n.height/r)}}function dle(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Hx(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),l=bv(s),u=bl(l,"border","width"),d=bl(l,"padding");e=a.width-d.width-u.width,n=a.height-d.height-u.height,r=_m(l.maxWidth,s,"clientWidth"),i=_m(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||bm,maxHeight:i||bm}}const so=t=>Math.round(t*10)/10;function fle(t,e,n,r){const i=bv(t),s=bl(i,"margin"),a=_m(i.maxWidth,t,"clientWidth")||bm,l=_m(i.maxHeight,t,"clientHeight")||bm,u=dle(t,e,n);let{width:d,height:h}=u;if(i.boxSizing==="content-box"){const m=bl(i,"border","width"),v=bl(i,"padding");d-=v.width+m.width,h-=v.height+m.height}return d=Math.max(0,d-s.width),h=Math.max(0,r?d/r:h-s.height),d=so(Math.min(d,a,u.maxWidth)),h=so(Math.min(h,l,u.maxHeight)),d&&!h&&(h=so(d/2)),(e!==void 0||n!==void 0)&&r&&u.height&&h>u.height&&(h=u.height,d=so(Math.floor(h*r))),{width:d,height:h}}function GM(t,e,n){const r=e||1,i=so(t.height*r),s=so(t.width*r);t.height=so(t.height),t.width=so(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const hle=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};zx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function YM(t,e){const n=ole(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ol(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gle(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function ple(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=ol(t,i,n),l=ol(i,s,n),u=ol(s,e,n),d=ol(a,l,n),h=ol(l,u,n);return ol(d,h,n)}const mle=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},vle=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ou(t,e,n){return t?mle(e,n):vle()}function XF(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function ZF(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function JF(t){return t==="angle"?{between:Of,compare:goe,normalize:Vi}:{between:Xc,compare:(e,n)=>e-n,normalize:e=>e}}function KM({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function yle(t,e,n){const{property:r,start:i,end:s}=n,{between:a,normalize:l}=JF(r),u=e.length;let{start:d,end:h,loop:g}=t,m,v;if(g){for(d+=u,h+=u,m=0,v=u;m<v&&a(l(e[d%u][r]),i,s);++m)d--,h--;d%=u,h%=u}return h<d&&(h+=u),{start:d,end:h,loop:g,style:t.style}}function ble(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,a=e.length,{compare:l,between:u,normalize:d}=JF(r),{start:h,end:g,loop:m,style:v}=yle(t,e,n),b=[];let y=!1,S=null,C,T,A;const M=()=>u(i,A,C)&&l(i,A)!==0,D=()=>l(s,C)===0||u(s,A,C),k=()=>y||M(),N=()=>!y||D();for(let O=h,j=h;O<=g;++O)T=e[O%a],!T.skip&&(C=d(T[r]),C!==A&&(y=u(C,i,s),S===null&&k()&&(S=l(C,i)===0?O:j),S!==null&&N()&&(b.push(KM({start:S,end:O,loop:m,count:a,style:v})),S=null),j=O,A=C));return S!==null&&b.push(KM({start:S,end:g,loop:m,count:a,style:v})),b}function _le(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=ble(r[i],t.points,e);s.length&&n.push(...s)}return n}function wle(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Sle(t,e,n,r){const i=t.length,s=[];let a=e,l=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%i];d.skip||d.stop?l.skip||(r=!1,s.push({start:e%i,end:(u-1)%i,loop:r}),e=a=d.stop?u:null):(a=u,l.skip&&(e=u)),l=d}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function xle(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:a,end:l}=wle(n,i,s,r);if(r===!0)return QM(t,[{start:a,end:l,loop:s}],n,e);const u=l<a?l+i:l,d=!!t._fullLoop&&a===0&&l===i-1;return QM(t,Sle(n,a,u,d),n,e)}function QM(t,e,n,r){return!r||!r.setContext||!n?e:Ele(t,e,n,r)}function Ele(t,e,n,r){const i=t._chart.getContext(),s=XM(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,u=n.length,d=[];let h=s,g=e[0].start,m=g;function v(b,y,S,C){const T=l?-1:1;if(b!==y){for(b+=u;n[b%u].skip;)b-=T;for(;n[y%u].skip;)y+=T;b%u!==y%u&&(d.push({start:b%u,end:y%u,loop:S,style:C}),h=C,g=y%u)}}for(const b of e){g=l?g:b.start;let y=n[g%u],S;for(m=g+1;m<=b.end;m++){const C=n[m%u];S=XM(r.setContext(Hl(i,{type:"segment",p0:y,p1:C,p0DataIndex:(m-1)%u,p1DataIndex:m%u,datasetIndex:a}))),Cle(S,h)&&v(g,m-1,b.loop,h),y=C,h=S}g<m-1&&v(g,m-1,b.loop,h)}return d}function XM(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Cle(t,e){if(!e)return!1;const n=[],r=function(i,s){return kx(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function np(t,e,n){return t.options.clip?t[n]:e[n]}function Tle(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:np(n,e,"left"),right:np(n,e,"right"),top:np(r,e,"top"),bottom:np(r,e,"bottom")}:e}function Ale(t,e){const n=e._clip;if(n.disabled)return!1;const r=Tle(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Rle{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=BF.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,l=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Xs=new Rle;const ZM="transparent",Dle={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=HM(t||ZM),i=r.valid&&HM(e||ZM);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Ole{constructor(e,n,r,i){const s=n[r];i=ep([e.to,i,s,e.from]);const a=ep([e.from,s,i]);this._active=!0,this._fn=e.fn||Dle[e.type||typeof a],this._easing=af[e.easing]||af.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ep([e.to,n,i,e.from]),this._from=ep([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,l=this._to;let u;if(this._active=s!==l&&(a||n<r),!this._active){this._target[i]=l,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class eU{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Rt(e))return;const n=Object.keys(En.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Rt(s))return;const a={};for(const l of n)a[l]=s[l];(Xn(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,i=kle(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Mle(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[d];let g=s[d];const m=r.get(d);if(g)if(m&&g.active()){g.update(m,h,l);continue}else g.cancel();if(!m||!m.duration){e[d]=h;continue}s[d]=g=new Ole(m,e,d,h),i.push(g)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Xs.add(this._chart,r),!0}}function Mle(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function kle(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function JM(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function Nle(t,e,n){if(n===!1)return!1;const r=JM(t,n),i=JM(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Ile(t){let e,n,r,i;return Rt(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function tU(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function ek(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,l,u,d;if(e===null)return;let h=!1;for(a=0,l=i.length;a<l;++a){if(u=+i[a],u===n){if(h=!0,r.all)continue;break}d=t.values[u],Ii(d)&&(s||e===0||pu(e)===pu(d))&&(e+=d)}return!h&&!r.all?0:e}function Ple(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let u,d,h;for(u=0,d=a.length;u<d;++u)h=a[u],l[u]={[i]:h,[s]:t[h]};return l}function K0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function jle(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Lle(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Fle(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function tk(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function nk(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:l}=r,u=s.axis,d=a.axis,h=jle(s,a,r),g=e.length;let m;for(let v=0;v<g;++v){const b=e[v],{[u]:y,[d]:S}=b,C=b._stacks||(b._stacks={});m=C[d]=Fle(i,h,y),m[l]=S,m._top=tk(m,a,!0,r.type),m._bottom=tk(m,a,!1,r.type);const T=m._visualValues||(m._visualValues={});T[l]=S}}function Q0(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Ule(t,e){return Hl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zle(t,e,n){return Hl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Md(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const X0=t=>t==="reset"||t==="none",rk=(t,e)=>e?t:Object.assign({},t),Hle=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:tU(n,!0),values:null};class Bx{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=K0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Md(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(g,m,v,b)=>g==="x"?m:g==="r"?b:v,s=n.xAxisID=gt(r.xAxisID,Q0(e,"x")),a=n.yAxisID=gt(r.yAxisID,Q0(e,"y")),l=n.rAxisID=gt(r.rAxisID,Q0(e,"r")),u=n.indexAxis,d=n.iAxisID=i(u,s,a,l),h=n.vAxisID=i(u,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&FM(this._data,this),e._stacked&&Md(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Rt(n)){const i=this._cachedMeta;this._data=Ple(n,i)}else if(r!==n){if(r){FM(r,this);const i=this._cachedMeta;Md(i),i._parsed=[]}n&&Object.isExtensible(n)&&yoe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=K0(n.vScale,n),n.stack!==r.stack&&(i=!0,Md(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(nk(this,n._parsed),n._stacked=K0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,l=s.axis;let u=e===0&&n===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],h,g,m;if(this._parsing===!1)r._parsed=i,r._sorted=!0,m=i;else{Xn(i[e])?m=this.parseArrayData(r,i,e,n):Rt(i[e])?m=this.parseObjectData(r,i,e,n):m=this.parsePrimitiveData(r,i,e,n);const v=()=>g[l]===null||d&&g[l]<d[l];for(h=0;h<n;++h)r._parsed[h+e]=g=m[h],u&&(v()&&(u=!1),d=g);r._sorted=u}a&&nk(this,m)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),h=s===a,g=new Array(i);let m,v,b;for(m=0,v=i;m<v;++m)b=m+r,g[m]={[l]:h||s.parse(d[b],b),[u]:a.parse(n[b],b)};return g}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,l=new Array(i);let u,d,h,g;for(u=0,d=i;u<d;++u)h=u+r,g=n[h],l[u]={x:s.parse(g[0],h),y:a.parse(g[1],h)};return l}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let h,g,m,v;for(h=0,g=i;h<g;++h)m=h+r,v=n[m],d[h]={x:s.parse(Rf(v,l),m),y:a.parse(Rf(v,u),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],l={keys:tU(i,!0),values:n._stacks[e.axis]._visualValues};return ek(l,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const l=i&&r._stacks[n.axis];i&&l&&(i.values=l,a=ek(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,l=this._getOtherScale(e),u=Hle(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:g}=Lle(l);let m,v;function b(){v=i[m];const y=v[l.axis];return!Ii(v[e.axis])||h>y||g<y}for(m=0;m<a&&!(!b()&&(this.updateRangeFromParsed(d,e,v,u),s));++m);if(s){for(m=a-1;m>=0;--m)if(!b()){this.updateRangeFromParsed(d,e,v,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],Ii(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Ile(gt(this.options.clip,Nle(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,l,u),h=l;h<l+u;++h){const g=i[h];g.hidden||(g.active&&d?a.push(g):g.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=zle(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Ule(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,l=s[a],u=this.enableOptionSharing&&ym(r);if(l)return rk(l,u);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),g=i?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),h),v=Object.keys(En.elements[e]),b=()=>this.getContext(r,i,n),y=d.resolveNamedOptions(m,v,b,g);return y.$shared&&(y.$shared=u,s[a]=Object.freeze(rk(y,u))),y}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let u;if(i.options.animation!==!1){const h=this.chart.config,g=h.datasetAnimationScopeKeys(this._type,n),m=h.getOptionScopes(this.getDataset(),g);u=h.createResolver(m,this.getContext(e,r,n))}const d=new eU(i,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||X0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){X0(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!X0(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Md(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ble(t,e,n){let r=1,i=1,s=0,a=0;if(e<bn){const l=t,u=l+e,d=Math.cos(l),h=Math.sin(l),g=Math.cos(u),m=Math.sin(u),v=(A,M,D)=>Of(A,l,u,!0)?1:Math.max(M,M*n,D,D*n),b=(A,M,D)=>Of(A,l,u,!0)?-1:Math.min(M,M*n,D,D*n),y=v(0,d,g),S=v(Vn,h,m),C=b(Ft,d,g),T=b(Ft+Vn,h,m);r=(y-C)/2,i=(S-T)/2,s=-(y+C)/2,a=-(S+T)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class $le extends Bx{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const g=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:g.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:i,pointStyle:r,borderRadius:a&&(l||g.borderRadius),index:d}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(Rt(r[e])){const{key:u="value"}=this._parsing;s=d=>+Rf(r[d],u)}let a,l;for(a=e,l=e+n;a<l;++a)i._parsed[a]=s(a)}}_getRotation(){return sa(this.options.rotation-90)}_getCircumference(){return sa(this.options.circumference)}_getRotationExtents(){let e=bn,n=-bn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(toe(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:g}=this._getRotationExtents(),{ratioX:m,ratioY:v,offsetX:b,offsetY:y}=Ble(g,h,u),S=(r.width-a)/m,C=(r.height-a)/v,T=Math.max(Math.min(S,C)/2,0),A=LF(this.options.radius,T),M=Math.max(A*u,0),D=(A-M)/this._getVisibleDatasetWeightTotal();this.offsetX=b*A,this.offsetY=y*A,i.total=this.calculateTotal(),this.outerRadius=A-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/bn)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,h=(l.left+l.right)/2,g=(l.top+l.bottom)/2,m=s&&d.animateScale,v=m?0:this.innerRadius,b=m?0:this.outerRadius,{sharedOptions:y,includeOptions:S}=this._getSharedOptions(n,i);let C=this._getRotation(),T;for(T=0;T<n;++T)C+=this._circumference(T,s);for(T=n;T<n+r;++T){const A=this._circumference(T,s),M=e[T],D={x:h+this.offsetX,y:g+this.offsetY,startAngle:C,endAngle:C+A,circumference:A,outerRadius:b,innerRadius:v};S&&(D.options=y||this.resolveDataElementOptions(T,M.active?"active":i)),C+=A,this.updateElement(M,T,D,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?bn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Nx(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,l,u;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(gt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Vle extends Bx{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:l,count:u}=Soe(n,i,a);this._drawStart=l,this._drawCount=u,xoe(n)&&(l=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(i,l,u,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:g}=this._getSharedOptions(n,i),m=a.axis,v=l.axis,{spanGaps:b,segment:y}=this.options,S=Df(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||i==="none",T=n+r,A=e.length;let M=n>0&&this.getParsed(n-1);for(let D=0;D<A;++D){const k=e[D],N=C?k:{};if(D<n||D>=T){N.skip=!0;continue}const O=this.getParsed(D),j=Zt(O[v]),z=N[m]=a.getPixelForValue(O[m],D),B=N[v]=s||j?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,O,u):O[v],D);N.skip=isNaN(z)||isNaN(B)||j,N.stop=D>0&&Math.abs(O[m]-M[m])>S,y&&(N.parsed=O,N.raw=d.data[D]),g&&(N.options=h||this.resolveDataElementOptions(D,k.active?"active":i)),C||this.updateElement(k,D,N,i),M=O}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class qle extends $le{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function el(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $x{static override(e){Object.assign($x.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return el()}parse(){return el()}format(){return el()}add(){return el()}diff(){return el()}startOf(){return el()}endOf(){return el()}}var Wle={_date:$x};function Gle(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,l=i._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const d=l._reversePixels?moe:pl;if(r){if(i._sharedOptions){const h=s[0],g=typeof h.getRange=="function"&&h.getRange(e);if(g){const m=d(s,e,n-g),v=d(s,e,n+g);return{lo:m.lo,hi:v.hi}}}}else{const h=d(s,e,n);if(u){const{vScale:g}=i._cachedMeta,{_parsed:m}=t,v=m.slice(0,h.lo+1).reverse().findIndex(y=>!Zt(y[g.axis]));h.lo-=Math.max(0,v);const b=m.slice(h.hi).findIndex(y=>!Zt(y[g.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:s.length-1}}function _v(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,u=s.length;l<u;++l){const{index:d,data:h}=s[l],{lo:g,hi:m}=Gle(s[l],e,a,i);for(let v=g;v<=m;++v){const b=h[v];b.skip||r(b,d,v)}}}function Yle(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Z0(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||_v(t,n,e,function(l,u,d){!i&&!Mf(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function Kle(t,e,n,r){let i=[];function s(a,l,u){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],r),{angle:g}=zF(a,{x:e.x,y:e.y});Of(g,d,h)&&i.push({element:a,datasetIndex:l,index:u})}return _v(t,n,e,s),i}function Qle(t,e,n,r,i,s){let a=[];const l=Yle(n);let u=Number.POSITIVE_INFINITY;function d(h,g,m){const v=h.inRange(e.x,e.y,i);if(r&&!v)return;const b=h.getCenterPoint(i);if(!(!!s||t.isPointInArea(b))&&!v)return;const S=l(e,b);S<u?(a=[{element:h,datasetIndex:g,index:m}],u=S):S===u&&a.push({element:h,datasetIndex:g,index:m})}return _v(t,n,e,d),a}function J0(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?Kle(t,e,n,i):Qle(t,e,n,r,i,s)}function ik(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return _v(t,n,e,(u,d,h)=>{u[a]&&u[a](e[n],i)&&(s.push({element:u,datasetIndex:d,index:h}),l=l||u.inRange(e.x,e.y,i))}),r&&!l?[]:s}var Xle={modes:{index(t,e,n,r){const i=al(e,t),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Z0(t,i,s,r,a):J0(t,i,s,!1,r,a),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,g=d.data[h];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:h})}),u):[]},dataset(t,e,n,r){const i=al(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Z0(t,i,s,r,a):J0(t,i,s,!1,r,a);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:u,index:h})}return l},point(t,e,n,r){const i=al(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return Z0(t,i,s,r,a)},nearest(t,e,n,r){const i=al(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return J0(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=al(e,t);return ik(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=al(e,t);return ik(t,i,"y",n.intersect,r)}}};const nU=["left","top","right","bottom"];function kd(t,e){return t.filter(n=>n.pos===e)}function sk(t,e){return t.filter(n=>nU.indexOf(n.pos)===-1&&n.box.axis===e)}function Nd(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Zle(t){const e=[];let n,r,i,s,a,l;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:l=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:l});return e}function Jle(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!nU.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function ece(t,e){const n=Jle(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,l;for(s=0,a=t.length;s<a;++s){l=t[s];const{fullSize:u}=l.box,d=n[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*r:u&&e.availableWidth,l.height=i):(l.width=r,l.height=h?h*i:u&&e.availableHeight)}return n}function tce(t){const e=Zle(t),n=Nd(e.filter(d=>d.box.fullSize),!0),r=Nd(kd(e,"left"),!0),i=Nd(kd(e,"right")),s=Nd(kd(e,"top"),!0),a=Nd(kd(e,"bottom")),l=sk(e,"x"),u=sk(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(a).concat(l),chartArea:kd(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(a).concat(l)}}function ak(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function rU(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function nce(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!Rt(i)){n.size&&(t[i]-=n.size);const g=r[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?s.height:s.width),n.size=g.size/g.count,t[i]+=n.size}s.getPadding&&rU(a,s.getPadding());const l=Math.max(0,e.outerWidth-ak(a,t,"left","right")),u=Math.max(0,e.outerHeight-ak(a,t,"top","bottom")),d=l!==t.w,h=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:h}:{same:h,other:d}}function rce(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ice(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function zd(t,e,n,r){const i=[];let s,a,l,u,d,h;for(s=0,a=t.length,d=0;s<a;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,ice(l.horizontal,e));const{same:g,other:m}=nce(e,n,l,r);d|=g&&i.length,h=h||m,u.fullSize||i.push(l)}return d&&zd(i,e,n,r)||h}function rp(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function ok(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const l of t){const u=l.box,d=r[l.stack]||{placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const g=e.w*h,m=d.size||u.height;ym(d.start)&&(a=d.start),u.fullSize?rp(u,i.left,a,n.outerWidth-i.right-i.left,m):rp(u,e.left+d.placed,a,g,m),d.start=a,d.placed+=g,a=u.bottom}else{const g=e.h*h,m=d.size||u.width;ym(d.start)&&(s=d.start),u.fullSize?rp(u,s,i.top,m,n.outerHeight-i.bottom-i.top):rp(u,s,e.top+d.placed,m,g),d.start=s,d.placed+=g,s=u.right}}e.x=s,e.y=a}var Mi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Pi(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),l=tce(t.boxes),u=l.vertical,d=l.horizontal;Lt(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const h=u.reduce((y,S)=>S.box.options&&S.box.options.display===!1?y:y+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/h,hBoxMaxHeight:a/2}),m=Object.assign({},i);rU(m,Pi(r));const v=Object.assign({maxPadding:m,w:s,h:a,x:i.left,y:i.top},i),b=ece(u.concat(d),g);zd(l.fullSize,v,g,b),zd(u,v,g,b),zd(d,v,g,b)&&zd(u,v,g,b),rce(v),ok(l.leftAndTop,v,g,b),v.x+=v.w,v.y+=v.h,ok(l.rightAndBottom,v,g,b),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Lt(l.chartArea,y=>{const S=y.box;Object.assign(S,t.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class iU{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class sce extends iU{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tp="$chartjs",ace={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lk=t=>t===null||t==="";function oce(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Tp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",lk(i)){const s=YM(t,"width");s!==void 0&&(t.width=s)}if(lk(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=YM(t,"height");s!==void 0&&(t.height=s)}return t}const sU=hle?{passive:!0}:!1;function lce(t,e,n){t&&t.addEventListener(e,n,sU)}function cce(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,sU)}function uce(t,e){const n=ace[t.type]||t.type,{x:r,y:i}=al(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function wm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function dce(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||wm(l.addedNodes,r),a=a&&!wm(l.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function fce(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||wm(l.removedNodes,r),a=a&&!wm(l.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Nf=new Map;let ck=0;function aU(){const t=window.devicePixelRatio;t!==ck&&(ck=t,Nf.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function hce(t,e){Nf.size||window.addEventListener("resize",aU),Nf.set(t,e)}function gce(t){Nf.delete(t),Nf.size||window.removeEventListener("resize",aU)}function pce(t,e,n){const r=t.canvas,i=r&&Hx(r);if(!i)return;const s=$F((l,u)=>{const d=i.clientWidth;n(l,u),d<i.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,h=u.contentRect.height;d===0&&h===0||s(d,h)});return a.observe(i),hce(t,s),a}function e_(t,e,n){n&&n.disconnect(),e==="resize"&&gce(t)}function mce(t,e,n){const r=t.canvas,i=$F(s=>{t.ctx!==null&&n(uce(s,t))},t);return lce(r,e,i),i}class vce extends iU{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(oce(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Tp])return!1;const r=n[Tp].initial;["height","width"].forEach(s=>{const a=r[s];Zt(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Tp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:dce,detach:fce,resize:pce}[n]||mce;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:e_,detach:e_,resize:e_}[n]||cce)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return fle(e,n,r,i)}isAttached(e){const n=e&&Hx(e);return!!(n&&n.isConnected)}}function yce(t){return!zx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?sce:vce}let Oo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Df(this.x)&&Df(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function bce(t,e){const n=t.options.ticks,r=_ce(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Sce(e):[],a=s.length,l=s[0],u=s[a-1],d=[];if(a>i)return xce(e,d,s,a/i),d;const h=wce(s,e,i);if(a>0){let g,m;const v=a>1?Math.round((u-l)/(a-1)):null;for(ip(e,d,h,Zt(v)?0:l-v,l),g=0,m=a-1;g<m;g++)ip(e,d,h,s[g],s[g+1]);return ip(e,d,h,u,Zt(v)?e.length:u+v),d}return ip(e,d,h),d}function _ce(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function wce(t,e,n){const r=Ece(t),i=e.length/n;if(!r)return Math.max(i,1);const s=coe(r);for(let a=0,l=s.length-1;a<l;a++){const u=s[a];if(u>i)return u}return Math.max(i,1)}function Sce(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function xce(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function ip(t,e,n,r,i){const s=gt(r,0),a=Math.min(gt(i,t.length),t.length);let l=0,u,d,h;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),h=s;h<0;)l++,h=Math.round(s+l*n);for(d=Math.max(s,0);d<a;d++)d===h&&(e.push(t[d]),l++,h=Math.round(s+l*n))}function Ece(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Cce=t=>t==="left"?"right":t==="right"?"left":t,uk=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,dk=(t,e)=>Math.min(e||t,t);function fk(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Tce(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,l=1e-6;let u=t.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(u-s,a-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(i-1))/2,u+=i<e?d:-d,u<s-l||u>a+l)))return u}function Ace(t,e){Lt(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Id(t){return t.drawTicks?t.tickLength:0}function hk(t,e){if(!t.display)return 0;const n=pr(t.font,e),r=Pi(t.padding);return(Xn(t.text)?t.text.length:1)*n.lineHeight+r.height}function Rce(t,e){return Hl(t,{scale:e,type:"scale"})}function Dce(t,e,n){return Hl(t,{tick:n,index:e,type:"tick"})}function Oce(t,e,n){let r=Mx(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Cce(r)),r}function Mce(t,e,n,r){const{top:i,left:s,bottom:a,right:l,chart:u}=t,{chartArea:d,scales:h}=u;let g=0,m,v,b;const y=a-i,S=l-s;if(t.isHorizontal()){if(v=fr(r,s,l),Rt(n)){const C=Object.keys(n)[0],T=n[C];b=h[C].getPixelForValue(T)+y-e}else n==="center"?b=(d.bottom+d.top)/2+y-e:b=uk(t,n,e);m=l-s}else{if(Rt(n)){const C=Object.keys(n)[0],T=n[C];v=h[C].getPixelForValue(T)-S+e}else n==="center"?v=(d.left+d.right)/2-S+e:v=uk(t,n,e);b=fr(r,a,i),g=n==="left"?-Vn:Vn}return{titleX:v,titleY:b,maxWidth:m,rotation:g}}class ku extends Oo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=ds(e,Number.POSITIVE_INFINITY),n=ds(n,Number.NEGATIVE_INFINITY),r=ds(r,Number.POSITIVE_INFINITY),i=ds(i,Number.NEGATIVE_INFINITY),{min:ds(e,r),max:ds(n,i),minDefined:Ii(e),maxDefined:Ii(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:ds(n,ds(r,n)),max:ds(r,ds(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Voe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?fk(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=bce(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nn(this.options.afterUpdate,[this])}beforeSetDimensions(){nn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=nn(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){nn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=dk(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,l,u,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),g=h.widest.width,m=h.highest.height,v=xr(this.chart.width-g,0,this.maxWidth);l=e.offset?this.maxWidth/r:v/(r-1),g+6>l&&(l=v/(r-(e.offset?.5:1)),u=this.maxHeight-Id(e.grid)-n.padding-hk(e.title,this.chart.options.font),d=Math.sqrt(g*g+m*m),a=hoe(Math.min(Math.asin(xr((h.highest.height+6)/l,-1,1)),Math.asin(xr(u/d,-1,1))-Math.asin(xr(m/d,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){nn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=hk(i,n.options.font);if(l?(e.width=this.maxWidth,e.height=Id(s)+u):(e.height=this.maxHeight,e.width=Id(s)+u),r.display&&this.ticks.length){const{first:d,last:h,widest:g,highest:m}=this._getLabelSizes(),v=r.padding*2,b=sa(this.labelRotation),y=Math.cos(b),S=Math.sin(b);if(l){const C=r.mirror?0:S*g.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+C+v)}else{const C=r.mirror?0:y*g.width+S*m.height;e.width=Math.min(this.maxWidth,e.width+C+v)}this._calculatePadding(d,h,S,y)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,v=0;u?d?(m=i*e.width,v=r*n.height):(m=r*e.height,v=i*n.width):s==="start"?v=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,v=n.width/2),this.paddingLeft=Math.max((m-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let h=n.height/2,g=e.height/2;s==="start"?(h=0,g=e.height):s==="end"&&(h=n.height,g=0),this.paddingTop=h+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Zt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=fk(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],l=[],u=Math.floor(n/dk(n,r));let d=0,h=0,g,m,v,b,y,S,C,T,A,M,D;for(g=0;g<n;g+=u){if(b=e[g].label,y=this._resolveTickFontOptions(g),i.font=S=y.string,C=s[S]=s[S]||{data:{},gc:[]},T=y.lineHeight,A=M=0,!Zt(b)&&!Xn(b))A=$M(i,C.data,C.gc,A,b),M=T;else if(Xn(b))for(m=0,v=b.length;m<v;++m)D=b[m],!Zt(D)&&!Xn(D)&&(A=$M(i,C.data,C.gc,A,D),M+=T);a.push(A),l.push(M),d=Math.max(A,d),h=Math.max(M,h)}Ace(s,n);const k=a.indexOf(d),N=l.indexOf(h),O=j=>({width:a[j]||0,height:l[j]||0});return{first:O(0),last:O(n-1),widest:O(k),highest:O(N),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return poe(this._alignToPixels?Jo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Dce(this.getContext(),e,r))}return this.$context||(this.$context=Rce(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=sa(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*r>l*i?l/r:u/i:u*i<l*r?u/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:l}=i,u=s.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),m=Id(s),v=[],b=l.setContext(this.getContext()),y=b.display?b.width:0,S=y/2,C=function(P){return Jo(r,P,y)};let T,A,M,D,k,N,O,j,z,B,Q,ne;if(a==="top")T=C(this.bottom),N=this.bottom-m,j=T-S,B=C(e.top)+S,ne=e.bottom;else if(a==="bottom")T=C(this.top),B=e.top,ne=C(e.bottom)-S,N=T+S,j=this.top+m;else if(a==="left")T=C(this.right),k=this.right-m,O=T-S,z=C(e.left)+S,Q=e.right;else if(a==="right")T=C(this.left),z=e.left,Q=C(e.right)-S,k=T+S,O=this.left+m;else if(n==="x"){if(a==="center")T=C((e.top+e.bottom)/2+.5);else if(Rt(a)){const P=Object.keys(a)[0],G=a[P];T=C(this.chart.scales[P].getPixelForValue(G))}B=e.top,ne=e.bottom,N=T+S,j=N+m}else if(n==="y"){if(a==="center")T=C((e.left+e.right)/2);else if(Rt(a)){const P=Object.keys(a)[0],G=a[P];T=C(this.chart.scales[P].getPixelForValue(G))}k=T-S,O=k-m,z=e.left,Q=e.right}const de=gt(i.ticks.maxTicksLimit,g),ge=Math.max(1,Math.ceil(g/de));for(A=0;A<g;A+=ge){const P=this.getContext(A),G=s.setContext(P),q=l.setContext(P),W=G.lineWidth,ye=G.color,F=q.dash||[],te=q.dashOffset,V=G.tickWidth,J=G.tickColor,ue=G.tickBorderDash||[],me=G.tickBorderDashOffset;M=Tce(this,A,u),M!==void 0&&(D=Jo(r,M,W),d?k=O=z=Q=D:N=j=B=ne=D,v.push({tx1:k,ty1:N,tx2:O,ty2:j,x1:z,y1:B,x2:Q,y2:ne,width:W,color:ye,borderDash:F,borderDashOffset:te,tickWidth:V,tickColor:J,tickBorderDash:ue,tickBorderDashOffset:me}))}return this._ticksLength=g,this._borderValue=T,v}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:h,mirror:g}=s,m=Id(r.grid),v=m+h,b=g?-h:v,y=-sa(this.labelRotation),S=[];let C,T,A,M,D,k,N,O,j,z,B,Q,ne="middle";if(i==="top")k=this.bottom-b,N=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+b,N=this._getXAxisLabelAlignment();else if(i==="left"){const ge=this._getYAxisLabelAlignment(m);N=ge.textAlign,D=ge.x}else if(i==="right"){const ge=this._getYAxisLabelAlignment(m);N=ge.textAlign,D=ge.x}else if(n==="x"){if(i==="center")k=(e.top+e.bottom)/2+v;else if(Rt(i)){const ge=Object.keys(i)[0],P=i[ge];k=this.chart.scales[ge].getPixelForValue(P)+v}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")D=(e.left+e.right)/2-v;else if(Rt(i)){const ge=Object.keys(i)[0],P=i[ge];D=this.chart.scales[ge].getPixelForValue(P)}N=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(u==="start"?ne="top":u==="end"&&(ne="bottom"));const de=this._getLabelSizes();for(C=0,T=l.length;C<T;++C){A=l[C],M=A.label;const ge=s.setContext(this.getContext(C));O=this.getPixelForTick(C)+s.labelOffset,j=this._resolveTickFontOptions(C),z=j.lineHeight,B=Xn(M)?M.length:1;const P=B/2,G=ge.color,q=ge.textStrokeColor,W=ge.textStrokeWidth;let ye=N;a?(D=O,N==="inner"&&(C===T-1?ye=this.options.reverse?"left":"right":C===0?ye=this.options.reverse?"right":"left":ye="center"),i==="top"?d==="near"||y!==0?Q=-B*z+z/2:d==="center"?Q=-de.highest.height/2-P*z+z:Q=-de.highest.height+z/2:d==="near"||y!==0?Q=z/2:d==="center"?Q=de.highest.height/2-P*z:Q=de.highest.height-B*z,g&&(Q*=-1),y!==0&&!ge.showLabelBackdrop&&(D+=z/2*Math.sin(y))):(k=O,Q=(1-B)*z/2);let F;if(ge.showLabelBackdrop){const te=Pi(ge.backdropPadding),V=de.heights[C],J=de.widths[C];let ue=Q-te.top,me=0-te.left;switch(ne){case"middle":ue-=V/2;break;case"bottom":ue-=V;break}switch(N){case"center":me-=J/2;break;case"right":me-=J;break;case"inner":C===T-1?me-=J:C>0&&(me-=J/2);break}F={left:me,top:ue,width:J+te.width,height:V+te.height,color:ge.backdropColor}}S.push({label:M,font:j,textOffset:Q,options:{rotation:y,color:G,strokeColor:q,strokeWidth:W,textAlign:ye,textBaseline:ne,translation:[D,k],backdrop:F}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-sa(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,u=a.widest.width;let d,h;return n==="left"?i?(h=this.right+s,r==="near"?d="left":r==="center"?(d="center",h+=u/2):(d="right",h+=u)):(h=this.right-l,r==="near"?d="right":r==="center"?(d="center",h-=u/2):(d="left",h=this.left)):n==="right"?i?(h=this.left+s,r==="near"?d="right":r==="center"?(d="center",h-=u/2):(d="left",h-=u)):(h=this.left+l,r==="near"?d="left":r==="center"?(d="center",h+=u/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(u,d,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const u=i[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,h,g,m;this.isHorizontal()?(d=Jo(e,this.left,a)-a/2,h=Jo(e,this.right,l)+l/2,g=m=u):(g=Jo(e,this.top,a)-a/2,m=Jo(e,this.bottom,l)+l/2,d=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,g),n.lineTo(h,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Ix(r,i);const s=this.getLabelItems(e);for(const a of s){const l=a.options,u=a.font,d=a.label,h=a.textOffset;kf(r,d,0,h,u,l)}i&&Px(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=pr(r.font),a=Pi(r.padding),l=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Rt(n)?(u+=a.bottom,Xn(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=a.top;const{titleX:d,titleY:h,maxWidth:g,rotation:m}=Mce(this,u,n,l);kf(e,r.text,0,0,s,{color:r.color,maxWidth:g,rotation:m,textAlign:Oce(l,n,i),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=gt(e.grid&&e.grid.z,-1),i=gt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ku.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return pr(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sp{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Ice(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,kce(e,a,r),this.override&&En.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in En[i]&&(delete En[i][r],this.override&&delete Ol[r])}}function kce(t,e,n){const r=Af(Object.create(null),[n?En.get(n):{},En.get(e),t.defaults]);En.set(e,r),t.defaultRoutes&&Nce(e,t.defaultRoutes),t.descriptors&&En.describe(e,t.descriptors)}function Nce(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),u=a.join(".");En.route(s,i,u,l)})}function Ice(t){return"id"in t&&"defaults"in t}class Pce{constructor(){this.controllers=new sp(Bx,"datasets",!0),this.elements=new sp(Oo,"elements"),this.plugins=new sp(Object,"plugins"),this.scales=new sp(ku,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Lt(i,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const i=Dx(e);nn(r["before"+i],[],r),n[e](r),nn(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var gs=new Pce;class jce{constructor(){this._init=void 0}notify(e,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,l=a[r],u=[n,i,s.options];if(nn(l,u,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=gt(r.options&&r.options.plugins,{}),s=Lce(r);return i===!1&&!n?[]:Uce(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Lce(t){const e={},n=[],r=Object.keys(gs.plugins.items);for(let s=0;s<r.length;s++)n.push(gs.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Fce(t,e){return!e&&t===!1?null:t===!0?{}:t}function Uce(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const l of e){const u=l.id,d=Fce(r[u],i);d!==null&&s.push({plugin:l,options:zce(t.config,{plugin:l,local:n[u]},d,a)})}return s}function zce(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Tw(t,e){const n=En.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Hce(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Bce(t,e){return t===e?"_index_":"_value_"}function gk(t){if(t==="x"||t==="y"||t==="r")return t}function $ce(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Aw(t,...e){if(gk(t))return t;for(const n of e){const r=n.axis||$ce(n.position)||t.length>1&&gk(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function pk(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Vce(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return pk(t,"x",n[0])||pk(t,"y",n[0])}return{}}function qce(t,e){const n=Ol[t.type]||{scales:{}},r=e.scales||{},i=Tw(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!Rt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Aw(a,l,Vce(a,t),En.scales[l.type]),d=Bce(u,i),h=n.scales||{};s[a]=rf(Object.create(null),[{axis:u},l,h[u],h[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||Tw(l,e),h=(Ol[l]||{}).scales||{};Object.keys(h).forEach(g=>{const m=Hce(g,u),v=a[m+"AxisID"]||m;s[v]=s[v]||Object.create(null),rf(s[v],[{axis:m},r[v],h[g]])})}),Object.keys(s).forEach(a=>{const l=s[a];rf(l,[En.scales[l.type],En.scale])}),s}function oU(t){const e=t.options||(t.options={});e.plugins=gt(e.plugins,{}),e.scales=qce(t,e)}function lU(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Wce(t){return t=t||{},t.data=lU(t.data),oU(t),t}const mk=new Map,cU=new Set;function ap(t,e){let n=mk.get(t);return n||(n=e(),mk.set(t,n),cU.add(n)),n}const Pd=(t,e,n)=>{const r=Rf(e,n);r!==void 0&&t.add(r)};class Gce{constructor(e){this._config=Wce(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lU(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),oU(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ap(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ap(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ap(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ap(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(g=>Pd(u,e,g))),h.forEach(g=>Pd(u,i,g)),h.forEach(g=>Pd(u,Ol[s]||{},g)),h.forEach(g=>Pd(u,En,g)),h.forEach(g=>Pd(u,xw,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),cU.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ol[n]||{},En.datasets[n]||{},{type:n},En,xw]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=vk(this._resolverCache,e,i);let u=a;if(Kce(a,n)){s.$shared=!1,r=vo(r)?r():r;const d=this.createResolver(e,r,l);u=mu(a,r,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,r=[""],i){const{resolver:s}=vk(this._resolverCache,e,r);return Rt(n)?mu(s,n,void 0,i):s}}function vk(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Lx(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const Yce=t=>Rt(t)&&Object.getOwnPropertyNames(t).some(e=>vo(t[e]));function Kce(t,e){const{isScriptable:n,isIndexable:r}=WF(t);for(const i of e){const s=n(i),a=r(i),l=(a||s)&&t[i];if(s&&(vo(l)||Yce(l))||a&&Xn(l))return!0}return!1}var Qce="4.5.1";const Xce=["top","bottom","left","right","chartArea"];function yk(t,e){return t==="top"||t==="bottom"||Xce.indexOf(t)===-1&&e==="x"}function bk(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function _k(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),nn(n&&n.onComplete,[t],e)}function Zce(t){const e=t.chart,n=e.options.animation;nn(n&&n.onProgress,[t],e)}function uU(t){return zx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ap={},wk=t=>{const e=uU(t);return Object.values(Ap).filter(n=>n.canvas===e).pop()};function Jce(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function eue(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let wv=class{static defaults=En;static instances=Ap;static overrides=Ol;static registry=gs;static version=Qce;static getChart=wk;static register(...e){gs.add(...e),Sk()}static unregister(...e){gs.remove(...e),Sk()}constructor(e,n){const r=this.config=new Gce(n),i=uU(e),s=wk(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||yce(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,h=u&&u.width;if(this.id=eoe(),this.ctx=l,this.canvas=u,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jce,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_oe(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Ap[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Xs.listen(this,"complete",_k),Xs.listen(this,"progress",Zce),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Zt(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():GM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VM(this.canvas,this.ctx),this}stop(){return Xs.stop(this),this}resize(e,n){Xs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,GM(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),nn(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Lt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const l=n[a],u=Aw(a,l),d=u==="r",h=u==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Lt(s,a=>{const l=a.options,u=l.id,d=Aw(u,l),h=gt(l.type,a.dtype);(l.position===void 0||yk(l.position,d)!==yk(a.dposition))&&(l.position=a.dposition),i[u]=!0;let g=null;if(u in r&&r[u].type===h)g=r[u];else{const m=gs.getScale(h);g=new m({id:u,type:h,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(l,e)}),Lt(i,(a,l)=>{a||delete r[l]}),Lt(r,a=>{Mi.configure(this,a,a.options),Mi.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(bk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||Tw(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const u=gs.getController(l),{datasetElementType:d,dataElementType:h}=En.datasets[l];Object.assign(u,{dataElementType:gs.getElement(h),datasetElementType:d&&gs.getElement(d)}),a.controller=new u(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Lt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:g}=this.getDatasetMeta(d),m=!i&&s.indexOf(g)===-1;g.buildOrUpdateElements(m),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||Lt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(bk("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Lt(this.scales,e=>{Mi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!IM(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;Jce(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!IM(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mi.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Lt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,vo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xs.has(this)?this.attached&&!Xs.running(this)&&Xs.start(this):(this.draw(),_k({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Ale(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Ix(n,i),e.controller.draw(),i&&Px(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Mf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=Xle.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Hl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);ym(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Xs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),VM(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ap[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Lt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},i=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Lt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Lt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!mm(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(u,d)=>u.filter(h=>!d.some(g=>h.datasetIndex===g.datasetIndex&&h.index===g.index)),a=s(n,e),l=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,l=this._getActiveElements(e,i,r,a),u=aoe(e),d=eue(e,this._lastEvent,r,u);r&&(this._lastEvent=null,nn(s.onHover,[e,l,this],this),u&&nn(s.onClick,[e,l,this],this));const h=!mm(l,i);return(h||n)&&(this._active=l,this._updateHoverStyles(l,i,n)),this._lastEvent=d,h}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};function Sk(){return Lt(wv.instances,t=>t._plugins.invalidate())}function tue(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:l,options:u}=e,{borderWidth:d,borderJoinStyle:h}=u,g=Math.min(d/a,Vi(r-n));if(t.beginPath(),t.arc(i,s,a-d/2,r+g/2,n-g/2),l>0){const m=Math.min(d/l,Vi(r-n));t.arc(i,s,l+d/2,n-m/2,r+m/2,!0)}else{const m=Math.min(d/2,a*Vi(r-n));if(h==="round")t.arc(i,s,m,n-Ft/2,r+Ft/2,!0);else if(h==="bevel"){const v=2*m*m,b=-v*Math.cos(n+Ft/2)+i,y=-v*Math.sin(n+Ft/2)+s,S=v*Math.cos(r+Ft/2)+i,C=v*Math.sin(r+Ft/2)+s;t.lineTo(b,y),t.lineTo(S,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function nue(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:l,innerRadius:u}=e;let d=i/l;t.beginPath(),t.arc(s,a,l,r-d,n+d),u>i?(d=i/u,t.arc(s,a,u,n+d,r-d,!0)):t.arc(s,a,i,n+Vn,r-Vn),t.closePath(),t.clip()}function rue(t){return jx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function iue(t,e,n,r){const i=rue(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,r*e/2),l=u=>{const d=(n-Math.min(s,u))*r/2;return xr(u,0,Math.min(s,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:xr(i.innerStart,0,a),innerEnd:xr(i.innerEnd,0,a)}}function Hc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Sm(t,e,n,r,i,s){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:h}=e,g=Math.max(e.outerRadius+r+n-d,0),m=h>0?h+r+n+d:0;let v=0;const b=i-u;if(r){const ge=h>0?h-r:0,P=g>0?g-r:0,G=(ge+P)/2,q=G!==0?b*G/(G+r):b;v=(b-q)/2}const y=Math.max(.001,b*g-n/Ft)/g,S=(b-y)/2,C=u+S+v,T=i-S-v,{outerStart:A,outerEnd:M,innerStart:D,innerEnd:k}=iue(e,m,g,T-C),N=g-A,O=g-M,j=C+A/N,z=T-M/O,B=m+D,Q=m+k,ne=C+D/B,de=T-k/Q;if(t.beginPath(),s){const ge=(j+z)/2;if(t.arc(a,l,g,j,ge),t.arc(a,l,g,ge,z),M>0){const W=Hc(O,z,a,l);t.arc(W.x,W.y,M,z,T+Vn)}const P=Hc(Q,T,a,l);if(t.lineTo(P.x,P.y),k>0){const W=Hc(Q,de,a,l);t.arc(W.x,W.y,k,T+Vn,de+Math.PI)}const G=(T-k/m+(C+D/m))/2;if(t.arc(a,l,m,T-k/m,G,!0),t.arc(a,l,m,G,C+D/m,!0),D>0){const W=Hc(B,ne,a,l);t.arc(W.x,W.y,D,ne+Math.PI,C-Vn)}const q=Hc(N,C,a,l);if(t.lineTo(q.x,q.y),A>0){const W=Hc(N,j,a,l);t.arc(W.x,W.y,A,C-Vn,j)}}else{t.moveTo(a,l);const ge=Math.cos(j)*g+a,P=Math.sin(j)*g+l;t.lineTo(ge,P);const G=Math.cos(z)*g+a,q=Math.sin(z)*g+l;t.lineTo(G,q)}t.closePath()}function sue(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:l}=e;let u=e.endAngle;if(s){Sm(t,e,n,r,u,i);for(let d=0;d<s;++d)t.fill();isNaN(l)||(u=a+(l%bn||bn))}return Sm(t,e,n,r,u,i),t.fill(),u}function aue(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:h,borderDash:g,borderDashOffset:m,borderRadius:v}=u,b=u.borderAlign==="inner";if(!d)return;t.setLineDash(g||[]),t.lineDashOffset=m,b?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let y=e.endAngle;if(s){Sm(t,e,n,r,y,i);for(let S=0;S<s;++S)t.stroke();isNaN(l)||(y=a+(l%bn||bn))}b&&nue(t,e,y),u.selfJoin&&y-a>=Ft&&v===0&&h!=="miter"&&tue(t,e,y),s||(Sm(t,e,n,r,y,i),t.stroke())}class oue extends Oo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:a}=zF(i,{x:e,y:n}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:h,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),m=(this.options.spacing+this.options.borderWidth)/2,v=gt(g,u-l),b=Of(s,l,u)&&l!==u,y=v>=bn||b,S=Xc(a,d+m,h+m);return y&&S}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,h=(i+s)/2,g=(a+l+d+u)/2;return{x:n+Math.cos(h)*g,y:r+Math.sin(h)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>bn?Math.floor(r/bn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Ft,r||0)),d=i*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,sue(e,this,d,s,a),aue(e,this,d,s,a),e.restore()}}function dU(t,e,n=e){t.lineCap=gt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(gt(n.borderDash,e.borderDash)),t.lineDashOffset=gt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=gt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=gt(n.borderWidth,e.borderWidth),t.strokeStyle=gt(n.borderColor,e.borderColor)}function lue(t,e,n){t.lineTo(n.x,n.y)}function cue(t){return t.stepped?Ioe:t.tension||t.cubicInterpolationMode==="monotone"?Poe:lue}function fU(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:a,end:l}=e,u=Math.max(i,a),d=Math.min(s,l),h=i<a&&s<a||i>l&&s>l;return{count:r,start:u,loop:e.loop,ilen:d<u&&!h?r+d-u:d-u}}function uue(t,e,n,r){const{points:i,options:s}=e,{count:a,start:l,loop:u,ilen:d}=fU(i,n,r),h=cue(s);let{move:g=!0,reverse:m}=r||{},v,b,y;for(v=0;v<=d;++v)b=i[(l+(m?d-v:v))%a],!b.skip&&(g?(t.moveTo(b.x,b.y),g=!1):h(t,y,b,m,s.stepped),y=b);return u&&(b=i[(l+(m?d:0))%a],h(t,y,b,m,s.stepped)),!!u}function due(t,e,n,r){const i=e.points,{count:s,start:a,ilen:l}=fU(i,n,r),{move:u=!0,reverse:d}=r||{};let h=0,g=0,m,v,b,y,S,C;const T=M=>(a+(d?l-M:M))%s,A=()=>{y!==S&&(t.lineTo(h,S),t.lineTo(h,y),t.lineTo(h,C))};for(u&&(v=i[T(0)],t.moveTo(v.x,v.y)),m=0;m<=l;++m){if(v=i[T(m)],v.skip)continue;const M=v.x,D=v.y,k=M|0;k===b?(D<y?y=D:D>S&&(S=D),h=(g*h+M)/++g):(A(),t.lineTo(M,D),b=k,g=0,y=S=D),C=D}A()}function Rw(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?due:uue}function fue(t){return t.stepped?gle:t.tension||t.cubicInterpolationMode==="monotone"?ple:ol}function hue(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),dU(t,e.options),t.stroke(i)}function gue(t,e,n,r){const{segments:i,options:s}=e,a=Rw(e);for(const l of i)dU(t,s,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const pue=typeof Path2D=="function";function mue(t,e,n,r){pue&&!e.options.segment?hue(t,e,n,r):gue(t,e,n,r)}class vue extends Oo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;ale(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=xle(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,a=_le(this,{property:n,start:i,end:i});if(!a.length)return;const l=[],u=fue(r);let d,h;for(d=0,h=a.length;d<h;++d){const{start:g,end:m}=a[d],v=s[g],b=s[m];if(v===b){l.push(v);continue}const y=Math.abs((i-v[n])/(b[n]-v[n])),S=u(v,b,y,r.stepped);S[n]=e[n],l.push(S)}return l.length===1?l[0]:l}pathSegment(e,n,r){return Rw(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Rw(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of i)a&=s(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),mue(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function xk(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class yue extends Oo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return xk(this,e,"x",n)}inYRange(e,n){return xk(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Mf(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Ew(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const Ek=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},bue=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ck extends Oo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=nn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=pr(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=Ek(r,s);let d,h;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,s,l,u)+10):(h=this.maxHeight,d=this._fitCols(a,i,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],h=i+l;let g=e;s.textAlign="left",s.textBaseline="middle";let m=-1,v=-h;return this.legendItems.forEach((b,y)=>{const S=r+n/2+s.measureText(b.text).width;(y===0||d[d.length-1]+S+2*l>a)&&(g+=h,d[d.length-(y>0?0:1)]=0,v+=h,m++),u[y]={left:0,top:v,row:m,width:S,height:i},d[d.length-1]+=S+l}),g}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-e;let g=l,m=0,v=0,b=0,y=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:T,itemHeight:A}=_ue(r,n,s,S,i);C>0&&v+A+2*l>h&&(g+=m+l,d.push({width:m,height:v}),b+=m+l,y++,m=v=0),u[C]={left:b,top:v,col:y,width:T,height:A},m=Math.max(m,T),v+=A+l}),g+=m,d.push({width:m,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=ou(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=fr(r,this.left+i,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=fr(r,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+e+i,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+i}else{let l=0,u=fr(r,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=fr(r,this.top+e+i,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+i,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ix(e,this),this._draw(),Px(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,l=En.color,u=ou(e.rtl,this.left,this.width),d=pr(a.font),{padding:h}=a,g=d.size,m=g/2;let v;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:b,boxHeight:y,itemHeight:S}=Ek(a,g),C=function(k,N,O){if(isNaN(b)||b<=0||isNaN(y)||y<0)return;i.save();const j=gt(O.lineWidth,1);if(i.fillStyle=gt(O.fillStyle,l),i.lineCap=gt(O.lineCap,"butt"),i.lineDashOffset=gt(O.lineDashOffset,0),i.lineJoin=gt(O.lineJoin,"miter"),i.lineWidth=j,i.strokeStyle=gt(O.strokeStyle,l),i.setLineDash(gt(O.lineDash,[])),a.usePointStyle){const z={radius:y*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:j},B=u.xPlus(k,b/2),Q=N+m;qF(i,z,B,Q,a.pointStyleWidth&&b)}else{const z=N+Math.max((g-y)/2,0),B=u.leftForLtr(k,b),Q=lf(O.borderRadius);i.beginPath(),Object.values(Q).some(ne=>ne!==0)?Cw(i,{x:B,y:z,w:b,h:y,radius:Q}):i.rect(B,z,b,y),i.fill(),j!==0&&i.stroke()}i.restore()},T=function(k,N,O){kf(i,O.text,k,N+S/2,d,{strikethrough:O.hidden,textAlign:u.textAlign(O.textAlign)})},A=this.isHorizontal(),M=this._computeTitleHeight();A?v={x:fr(s,this.left+h,this.right-r[0]),y:this.top+h+M,line:0}:v={x:this.left+h,y:fr(s,this.top+M+h,this.bottom-n[0].height),line:0},XF(this.ctx,e.textDirection);const D=S+h;this.legendItems.forEach((k,N)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const O=i.measureText(k.text).width,j=u.textAlign(k.textAlign||(k.textAlign=a.textAlign)),z=b+m+O;let B=v.x,Q=v.y;u.setWidth(this.width),A?N>0&&B+z+h>this.right&&(Q=v.y+=D,v.line++,B=v.x=fr(s,this.left+h,this.right-r[v.line])):N>0&&Q+D>this.bottom&&(B=v.x=B+n[v.line].width+h,v.line++,Q=v.y=fr(s,this.top+M+h,this.bottom-n[v.line].height));const ne=u.x(B);if(C(ne,Q,k),B=woe(j,B+b+m,A?B+z:this.right,e.rtl),T(u.x(B),Q,k),A)v.x+=z+h;else if(typeof k.text!="string"){const de=d.lineHeight;v.y+=hU(k,de)+h}else v.y+=D}),ZF(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=pr(n.font),i=Pi(n.padding);if(!n.display)return;const s=ou(e.rtl,this.left,this.width),a=this.ctx,l=n.position,u=r.size/2,d=i.top+u;let h,g=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),h=this.top+d,g=fr(e.align,g,this.right-m);else{const b=this.columnSizes.reduce((y,S)=>Math.max(y,S.height),0);h=d+fr(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const v=fr(l,g,g+m);a.textAlign=s.textAlign(Mx(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,kf(a,n.text,v,h,r)}_computeTitleHeight(){const e=this.options.title,n=pr(e.font),r=Pi(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Xc(e,this.left,this.right)&&Xc(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Xc(e,i.left,i.left+i.width)&&Xc(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!xue(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=bue(i,r);i&&!s&&nn(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&nn(n.onHover,[e,r,this],this)}else r&&nn(n.onClick,[e,r,this],this)}}function _ue(t,e,n,r,i){const s=wue(r,t,e,n),a=Sue(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function wue(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function Sue(t,e,n){let r=t;return typeof e.text!="string"&&(r=hU(e,n)),r}function hU(t,e){const n=t.text?t.text.length:0;return e*n}function xue(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Eue={id:"legend",_element:Ck,start(t,e,n){const r=t.legend=new Ck({ctx:t.ctx,options:n,chart:t});Mi.configure(t,r,n),Mi.addBox(t,r)},stop(t){Mi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Mi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),h=Pi(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class gU extends Oo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Xn(r.text)?r.text.length:1;this._padding=Pi(r.padding);const s=i*pr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,l=a.align;let u=0,d,h,g;return this.isHorizontal()?(h=fr(l,r,s),g=n+e,d=s-r):(a.position==="left"?(h=r+e,g=fr(l,i,n),u=Ft*-.5):(h=s-e,g=fr(l,n,i),u=Ft*.5),d=i-n),{titleX:h,titleY:g,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=pr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(s);kf(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:Mx(n.align),textBaseline:"middle",translation:[a,l]})}}function Cue(t,e){const n=new gU({ctx:t.ctx,options:e,chart:t});Mi.configure(t,n,e),Mi.addBox(t,n),t.titleBlock=n}var Tue={id:"title",_element:gU,start(t,e,n){Cue(t,n)},stop(t){const e=t.titleBlock;Mi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Mi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hd={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=t.length;s<a;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),h=Sw(e,d);h<i&&(i=h,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function fs(t,e){return e&&(Xn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Zs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Aue(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:l}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Tk(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:l}=e,u=pr(e.bodyFont),d=pr(e.titleFont),h=pr(e.footerFont),g=s.length,m=i.length,v=r.length,b=Pi(e.padding);let y=b.height,S=0,C=r.reduce((M,D)=>M+D.before.length+D.lines.length+D.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,g&&(y+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),C){const M=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;y+=v*M+(C-v)*u.lineHeight+(C-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*h.lineHeight+(m-1)*e.footerSpacing);let T=0;const A=function(M){S=Math.max(S,n.measureText(M).width+T)};return n.save(),n.font=d.string,Lt(t.title,A),n.font=u.string,Lt(t.beforeBody.concat(t.afterBody),A),T=e.displayColors?a+2+e.boxPadding:0,Lt(r,M=>{Lt(M.before,A),Lt(M.lines,A),Lt(M.after,A)}),T=0,n.font=h.string,Lt(t.footer,A),n.restore(),S+=b.width,{width:S,height:y}}function Rue(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Due(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function Oue(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:l,right:u}}=t;let d="center";return r==="center"?d=i<=(l+u)/2?"left":"right":i<=s/2?d="left":i>=a-s/2&&(d="right"),Due(d,t,e,n)&&(d="center"),d}function Ak(t,e,n){const r=n.yAlign||e.yAlign||Rue(t,n);return{xAlign:n.xAlign||e.xAlign||Oue(t,e,n,r),yAlign:r}}function Mue(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function kue(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Rk(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:l,yAlign:u}=n,d=i+s,{topLeft:h,topRight:g,bottomLeft:m,bottomRight:v}=lf(a);let b=Mue(e,l);const y=kue(e,u,d);return u==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(h,m)+i:l==="right"&&(b+=Math.max(g,v)+i),{x:xr(b,0,r.width-e.width),y:xr(y,0,r.height-e.height)}}function op(t,e,n){const r=Pi(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Dk(t){return fs([],Zs(t))}function Nue(t,e,n){return Hl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Ok(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const pU={beforeTitle:Qs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Qs,beforeBody:Qs,beforeLabel:Qs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Zt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Qs,afterBody:Qs,beforeFooter:Qs,footer:Qs,afterFooter:Qs};function Ir(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?pU[e].call(n,r):i}class Mk extends Oo{static positioners=Hd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new eU(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Nue(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Ir(r,"beforeTitle",this,e),s=Ir(r,"title",this,e),a=Ir(r,"afterTitle",this,e);let l=[];return l=fs(l,Zs(i)),l=fs(l,Zs(s)),l=fs(l,Zs(a)),l}getBeforeBody(e,n){return Dk(Ir(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Lt(e,s=>{const a={before:[],lines:[],after:[]},l=Ok(r,s);fs(a.before,Zs(Ir(l,"beforeLabel",this,s))),fs(a.lines,Ir(l,"label",this,s)),fs(a.after,Zs(Ir(l,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return Dk(Ir(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Ir(r,"beforeFooter",this,e),s=Ir(r,"footer",this,e),a=Ir(r,"afterFooter",this,e);let l=[];return l=fs(l,Zs(i)),l=fs(l,Zs(s)),l=fs(l,Zs(a)),l}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(Aue(this.chart,n[u]));return e.filter&&(l=l.filter((h,g,m)=>e.filter(h,g,m,r))),e.itemSort&&(l=l.sort((h,g)=>e.itemSort(h,g,r))),Lt(l,h=>{const g=Ok(e.callbacks,h);i.push(Ir(g,"labelColor",this,h)),s.push(Ir(g,"labelPointStyle",this,h)),a.push(Ir(g,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=Hd[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=Tk(this,r),d=Object.assign({},l,u),h=Ak(this.chart,r,d),g=Rk(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:g}=lf(l),{x:m,y:v}=e,{width:b,height:y}=n;let S,C,T,A,M,D;return s==="center"?(M=v+y/2,i==="left"?(S=m,C=S-a,A=M+a,D=M-a):(S=m+b,C=S+a,A=M-a,D=M+a),T=S):(i==="left"?C=m+Math.max(u,h)+a:i==="right"?C=m+b-Math.max(d,g)-a:C=this.caretX,s==="top"?(A=v,M=A-a,S=C-a,T=C+a):(A=v+y,M=A+a,S=C+a,T=C-a),D=A),{x1:S,x2:C,x3:T,y1:A,y2:M,y3:D}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,l,u;if(s){const d=ou(r.rtl,this.x,this.width);for(e.x=op(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=pr(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(i[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,h=pr(s.bodyFont),g=op(this,"left",s),m=i.x(g),v=u<h.lineHeight?(h.lineHeight-u)/2:0,b=n.y+v;if(s.usePointStyle){const y={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},S=i.leftForLtr(m,d)+d/2,C=b+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ew(e,y,S,C),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Ew(e,y,S,C)}else{e.lineWidth=Rt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=i.leftForLtr(m,d),S=i.leftForLtr(i.xPlus(m,1),d-2),C=lf(a.borderRadius);Object.values(C).some(T=>T!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Cw(e,{x:y,y:b,w:d,h:u,radius:C}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Cw(e,{x:S,y:b+1,w:d-2,h:u-2,radius:C}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,b,d,u),e.strokeRect(y,b,d,u),e.fillStyle=a.backgroundColor,e.fillRect(S,b+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:h}=r,g=pr(r.bodyFont);let m=g.lineHeight,v=0;const b=ou(r.rtl,this.x,this.width),y=function(O){n.fillText(O,b.x(e.x+v),e.y+m/2),e.y+=m+s},S=b.textAlign(a);let C,T,A,M,D,k,N;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=op(this,S,r),n.fillStyle=r.bodyColor,Lt(this.beforeBody,y),v=l&&S!=="right"?a==="center"?d/2+h:d+2+h:0,M=0,k=i.length;M<k;++M){for(C=i[M],T=this.labelTextColors[M],n.fillStyle=T,Lt(C.before,y),A=C.lines,l&&A.length&&(this._drawColorBox(n,e,M,b,r),m=Math.max(g.lineHeight,u)),D=0,N=A.length;D<N;++D)y(A[D]),m=g.lineHeight;Lt(C.after,y)}v=0,m=g.lineHeight,Lt(this.afterBody,y),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,l;if(s){const u=ou(r.rtl,this.x,this.width);for(e.x=op(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",a=pr(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:h}=r,{topLeft:g,topRight:m,bottomLeft:v,bottomRight:b}=lf(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(l+g,u),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(l+d-m,u),n.quadraticCurveTo(l+d,u,l+d,u+m),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(l+d,u+h-b),n.quadraticCurveTo(l+d,u+h,l+d-b,u+h),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(l+v,u+h),n.quadraticCurveTo(l,u+h,l,u+h-v),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(l,u+g),n.quadraticCurveTo(l,u,l+g,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Hd[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Tk(this,e),u=Object.assign({},a,this._size),d=Ak(n,e,u),h=Rk(e,u,d,n);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Pi(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),XF(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),ZF(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!mm(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),l=this._positionChanged(a,e),u=n||!mm(a,s)||l;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=Hd[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}var Iue={id:"tooltip",_element:Mk,positioners:Hd,afterInit(t,e,n){n&&(t.tooltip=new Mk({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Pue=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function jue(t,e,n,r){const i=t.indexOf(e);if(i===-1)return Pue(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const Lue=(t,e)=>t===null?null:xr(Math.round(t),0,e);function kk(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Fue extends ku{static id="category";static defaults={ticks:{callback:kk}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Zt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:jue(r,e,gt(n,e),this._addedLabels),Lue(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return kk.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Uue(t,e){const n=[],{bounds:i,step:s,min:a,max:l,precision:u,count:d,maxTicks:h,maxDigits:g,includeBounds:m}=t,v=s||1,b=h-1,{min:y,max:S}=e,C=!Zt(a),T=!Zt(l),A=!Zt(d),M=(S-y)/(g+1);let D=jM((S-y)/b/v)*v,k,N,O,j;if(D<1e-14&&!C&&!T)return[{value:y},{value:S}];j=Math.ceil(S/D)-Math.floor(y/D),j>b&&(D=jM(j*D/b/v)*v),Zt(u)||(k=Math.pow(10,u),D=Math.ceil(D*k)/k),i==="ticks"?(N=Math.floor(y/D)*D,O=Math.ceil(S/D)*D):(N=y,O=S),C&&T&&s&&doe((l-a)/s,D/1e3)?(j=Math.round(Math.min((l-a)/D,h)),D=(l-a)/j,N=a,O=l):A?(N=C?a:N,O=T?l:O,j=d-1,D=(O-N)/j):(j=(O-N)/D,sf(j,Math.round(j),D/1e3)?j=Math.round(j):j=Math.ceil(j));const z=Math.max(LM(D),LM(N));k=Math.pow(10,Zt(u)?z:u),N=Math.round(N*k)/k,O=Math.round(O*k)/k;let B=0;for(C&&(m&&N!==a?(n.push({value:a}),N<a&&B++,sf(Math.round((N+B*D)*k)/k,a,Nk(a,M,t))&&B++):N<a&&B++);B<j;++B){const Q=Math.round((N+B*D)*k)/k;if(T&&Q>l)break;n.push({value:Q})}return T&&m&&O!==l?n.length&&sf(n[n.length-1].value,l,Nk(l,M,t))?n[n.length-1].value=l:n.push({value:l}):(!T||O===l)&&n.push({value:O}),n}function Nk(t,e,{horizontal:n,minRotation:r}){const i=sa(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class zue extends ku{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Zt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=u=>i=n?i:u,l=u=>s=r?s:u;if(e){const u=pu(i),d=pu(s);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||a(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=Uue(i,s);return e.bounds==="ticks"&&foe(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Nx(e,this.chart.options.locale,this.options.ticks.format)}}class Hue extends zue{static id="linear";static defaults={ticks:{callback:VF.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ii(e)?e:0,this.max=Ii(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=sa(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Sv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hr=Object.keys(Sv);function Ik(t,e){return t-e}function Pk(t,e){if(Zt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Ii(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Df(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function jk(t,e,n,r){const i=Hr.length;for(let s=Hr.indexOf(t);s<i-1;++s){const a=Sv[Hr[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return Hr[s]}return Hr[i-1]}function Bue(t,e,n,r,i){for(let s=Hr.length-1;s>=Hr.indexOf(n);s--){const a=Hr[s];if(Sv[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Hr[n?Hr.indexOf(n):0]}function $ue(t){for(let e=Hr.indexOf(t)+1,n=Hr.length;e<n;++e)if(Sv[Hr[e]].common)return Hr[e]}function Lk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Ox(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Vue(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let l,u;for(l=s;l<=a;l=+i.add(l,1,r))u=n[l],u>=0&&(e[u].major=!0);return e}function Fk(t,e,n){const r=[],i={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],i[l]=a,r.push({value:l,major:!1});return s===0||!n?r:Vue(t,r,i,n)}class Uk extends ku{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new Wle._date(e.adapters.date);i.init(n),rf(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Pk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=Ii(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Ii(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,l=voe(i,s,a);return this._unit=n.unit||(r.autoSkip?jk(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Bue(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:$ue(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),Fk(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=xr(n,0,a),r=xr(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||jk(s.minUnit,n,r,this._getLabelCapacity(n)),l=gt(i.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=Df(u)||u===!0,h={};let g=n,m,v;if(d&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,d?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(m=g,v=0;m<r;m=+e.add(m,l,a),v++)Lk(h,m,b);return(m===r||i.bounds==="ticks"||v===1)&&Lk(h,m,b),Object.keys(h).sort(Ik).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return nn(a,[e,n,r],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&l[u],g=d&&l[d],m=r[n],v=d&&g&&m&&m.major;return this._adapter.format(e,i||(v?g:h))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=sa(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Fk(this,[e],this._majorUnit),i),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Pk(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return boe(e.sort(Ik))}}function lp(t,e,n){let r=0,i=t.length-1,s,a,l,u;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=pl(t,"pos",e)),{pos:s,time:l}=t[r],{pos:a,time:u}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=pl(t,"time",e)),{time:s,pos:l}=t[r],{time:a,pos:u}=t[i]);const d=a-s;return d?l+(u-l)*(e-s)/d:l}class wde extends Uk{static id="timeseries";static defaults=Uk.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=lp(n,this.min),this._tableRange=lp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,l,u,d,h;for(a=0,l=e.length;a<l;++a)d=e[a],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=i.length;a<l;++a)h=i[a+1],u=i[a-1],d=i[a],Math.round((h+u)/2)!==d&&s.push({time:d,pos:a/(l-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(lp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return lp(this._table,r*this._tableRange+this._minPos,!0)}}const mU="label";function zk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function que(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function vU(t,e){t.labels=e}function yU(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mU;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Wue(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mU;const n={labels:[],datasets:[]};return vU(n,t.labels),yU(n,t.datasets,e),n}function Gue(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:d=[],fallbackContent:h,updateMode:g,...m}=t,v=E.useRef(null),b=E.useRef(null),y=()=>{v.current&&(b.current=new wv(v.current,{type:a,data:Wue(l,s),options:u&&{...u},plugins:d}),zk(e,b.current))},S=()=>{zk(e,null),b.current&&(b.current.destroy(),b.current=null)};return E.useEffect(()=>{!i&&b.current&&u&&que(b.current,u)},[i,u]),E.useEffect(()=>{!i&&b.current&&vU(b.current.config.data,l.labels)},[i,l.labels]),E.useEffect(()=>{!i&&b.current&&l.datasets&&yU(b.current.config.data,l.datasets,s)},[i,l.datasets]),E.useEffect(()=>{b.current&&(i?(S(),setTimeout(y)):b.current.update(g))},[i,u,l.labels,l.datasets,g]),E.useEffect(()=>{b.current&&(S(),setTimeout(y))},[a]),E.useEffect(()=>(y(),()=>S()),[]),le.createElement("canvas",{ref:v,role:"img",height:n,width:r,...m},h)}const Yue=E.forwardRef(Gue);function bU(t,e){return wv.register(e),E.forwardRef((n,r)=>le.createElement(Yue,{...n,ref:r,type:t}))}const Kue=bU("line",Vle),Que=bU("pie",qle);wv.register(Fue,Hue,yue,vue,Tue,Iue,Eue,oue);function Xue(){const{data:t=[],isLoading:e,error:n}=Qm(),{data:r=[],isLoading:i,error:s}=Xm(),{isInitialized:a}=Mt(),{init:l,cleanup:u}=Eo(),d=e||i;E.useEffect(()=>(a||l(),()=>{u()}),[l,a,u]);const h=E.useMemo(()=>{if(d)return{};const b=t.reduce((W,ye)=>{const F=ye.work_center||"Unknown";return W[F]||(W[F]={[ys.ACTIVE]:0,[ys.INACTIVE]:0,[ys.MAINTENANCE]:0}),W[F][ye.status]=(W[F][ye.status]||0)+1,W},{}),y=new Date,S=new Date(y),C=y.getDay(),T=C===0?6:C-1;S.setUTCDate(y.getUTCDate()-T),S.setUTCHours(0,0,0,0);const A=r.filter(W=>W.completion_date?new Date(W.completion_date)>=S:!1).length,M=r.filter(W=>W.status==="IN PROGRESS"||W.status==="SCHEDULED").length,D=r.filter(W=>W.delivery_date?new Date(W.delivery_date)<y&&(W.quantity_completed||0)<(W.quantity||0):!1).length,k=t.filter(W=>W.status===ys.ACTIVE).length,N={},O=new Date(y);O.setUTCDate(y.getUTCDate()-7);const j=new Date(y);j.setUTCDate(y.getUTCDate()+7),r.forEach(W=>{if(W.scheduled_start_time){const ye=new Date(W.scheduled_start_time);if(ye>=O&&ye<=j){const F=ye.toISOString().split("T")[0];N[F]=(N[F]||0)+1}}});const z=r.filter(W=>W.scheduled_start_time?new Date(W.scheduled_start_time)>=S:!1),B=z.filter(W=>W.cost&&W.cost>0).map(W=>W.cost),Q=z.filter(W=>W.duration&&W.duration>0).map(W=>W.duration),ne=B.length>0?B.reduce((W,ye)=>W+ye,0)/B.length:0,de=Q.length>0?Q.reduce((W,ye)=>W+ye,0)/Q.length:0,ge={},P={},G=["STAMPA","CONFEZIONAMENTO"],q=["ZANICA","BUSTO_GAROLFO"];return G.forEach(W=>{const ye=W.toLowerCase();ge[ye]={},P[ye]={},q.forEach(F=>{const te=F==="BUSTO_GAROLFO"?"busto_garolfo":F.toLowerCase(),V=r.filter(pe=>!pe.work_center||!pe.department?!1:pe.work_center===F&&pe.department===W),J=V.filter(pe=>pe.cost&&pe.cost>0).map(pe=>pe.cost),ue=J.length>0?J.reduce((pe,Ce)=>pe+Ce,0)/J.length:0,me=V.filter(pe=>pe.duration&&pe.duration>0).map(pe=>pe.duration),Z=me.length>0?me.reduce((pe,Ce)=>pe+Ce,0)/me.length:0;ge[ye][te]=ue,P[ye][te]=Z})}),{machinesByWorkCenter:b,completedThisWeek:A,tasksInWip:M,delayedTasks:D,activeMachines:k,totalMachines:t.length,totalOrders:r.length,tasksPerDay:N,avgWeeklyCost:ne,avgWeeklyDuration:de,weeklyOrdersCount:z.length,costMatrix:ge,durationMatrix:P}},[t,r,d]),g=E.useMemo(()=>{if(!h.tasksPerDay)return null;const b=[],y=new Date;for(let S=-7;S<=7;S++){const C=new Date(y);C.setUTCDate(y.getUTCDate()+S);const T=C.toISOString().split("T")[0];b.push(T)}return{labels:b.map(S=>{const C=new Date(S);return Jn(new Date(C),"dd/MM")}),datasets:[{label:"Lavori Iniziati",data:b.map(S=>h.tasksPerDay[S]||0),borderColor:"rgb(37, 99, 235)",backgroundColor:"rgba(37, 99, 235, 0.1)",tension:.4,borderWidth:2,pointBackgroundColor:"rgb(37, 99, 235)",pointBorderColor:"rgb(37, 99, 235)",pointRadius:4,pointHoverRadius:6,fill:!0}]}},[h.tasksPerDay]),m={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{stepSize:1,color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}},x:{grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}}},elements:{point:{hoverBorderWidth:3}}},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0,font:{size:10}}}}};return d?w.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:w.jsx("div",{className:"text-center py-1 text-muted-foreground text-[10px]",children:"Caricamento dashboard..."})}):n||s?w.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:w.jsxs("div",{className:"text-center py-1 text-destructive text-[10px]",children:["Errore nel caricamento dei dati: ",n?.message||s?.message]})}):w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex justify-between items-center",children:w.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard Produzione"})}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[w.jsxs(Zr,{className:"p-6",children:[w.jsx(Jr,{className:"pb-2",children:w.jsx(ei,{className:"text-sm font-medium text-muted-foreground",children:"Macchine Totali"})}),w.jsxs(ti,{children:[w.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalMachines}),w.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Attive: ",h.activeMachines]})]})]}),w.jsxs(Zr,{className:"p-6",children:[w.jsx(Jr,{className:"pb-2",children:w.jsx(ei,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Totali"})}),w.jsxs(ti,{children:[w.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalOrders}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Totali nel sistema"})]})]}),w.jsxs(Zr,{className:"p-6",children:[w.jsx(Jr,{className:"pb-2",children:w.jsx(ei,{className:"text-sm font-medium text-muted-foreground",children:"Completati Questa Settimana"})}),w.jsxs(ti,{children:[w.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.completedThisWeek}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lavori completati"})]})]}),w.jsxs(Zr,{className:"p-6",children:[w.jsx(Jr,{className:"pb-2",children:w.jsx(ei,{className:"text-sm font-medium text-muted-foreground",children:"Lavori in Corso"})}),w.jsxs(ti,{children:[w.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.tasksInWip}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In progress/scheduled"})]})]}),w.jsxs(Zr,{className:"p-6 border-destructive/20 bg-destructive/5",children:[w.jsx(Jr,{className:"pb-2",children:w.jsx(ei,{className:"text-sm font-medium text-destructive",children:"Lavori Ritardati"})}),w.jsxs(ti,{children:[w.jsx("div",{className:"text-3xl font-bold text-destructive",children:h.delayedTasks}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Oltre la scadenza"})]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[w.jsxs(Zr,{className:"p-6",children:[w.jsx(Jr,{className:"pb-2",children:w.jsx(ei,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Settimanali"})}),w.jsxs(ti,{children:[w.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.weeklyOrdersCount}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Questa Settimana"})]})]}),w.jsxs(Zr,{className:"p-6",children:[w.jsx(Jr,{className:"pb-2",children:w.jsx(ei,{className:"text-sm font-medium text-muted-foreground",children:"Costo Medio"})}),w.jsxs(ti,{children:[w.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["€",h.avgWeeklyCost.toFixed(2)]}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]}),w.jsxs(Zr,{className:"p-6",children:[w.jsx(Jr,{className:"pb-2",children:w.jsx(ei,{className:"text-sm font-medium text-muted-foreground",children:"Durata Media"})}),w.jsxs(ti,{children:[w.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[h.avgWeeklyDuration.toFixed(1),"h"]}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs(Zr,{children:[w.jsx(Jr,{children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx(ei,{children:"Lavori Iniziati per Giorno (14 giorni)"}),w.jsx("div",{className:"flex items-center gap-3 text-xs",children:w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("span",{className:"inline-block w-3 h-1 bg-primary"})," Lavori"]})})]})}),w.jsx(ti,{children:w.jsx("div",{className:"h-64",children:g&&w.jsx(Kue,{data:g,options:m,height:256})})})]}),w.jsxs(Zr,{children:[w.jsx(Jr,{children:w.jsx(ei,{children:"Macchine per Centro di Lavoro e Stato"})}),w.jsx(ti,{children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(h.machinesByWorkCenter||{}).map(([b,y])=>{const S={labels:Object.keys(y).map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()),datasets:[{data:Object.values(y),backgroundColor:["rgba(37, 99, 235, 0.8)","rgba(107, 114, 128, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgba(37, 99, 235, 1)","rgba(107, 114, 128, 1)","rgba(156, 163, 175, 1)"],borderWidth:2}]};return w.jsxs("div",{className:"text-center",children:[w.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:b}),w.jsx("div",{className:"h-32",children:w.jsx(Que,{data:S,options:v,height:150})}),w.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:Object.entries(y).map(([C,T])=>w.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[w.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:C==="ACTIVE"?"rgba(37, 99, 235, 0.8)":C==="INACTIVE"?"rgba(107, 114, 128, 0.8)":"rgba(156, 163, 175, 0.8)"}}),w.jsxs("span",{children:[C,": ",T]})]},C))})]},b)})})})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs(Zr,{children:[w.jsx(Jr,{children:w.jsx(ei,{children:"Costo Medio per Centro di Lavoro e Reparto"})}),w.jsx(ti,{children:w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b border-border",children:[w.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),w.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),w.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),w.jsxs("tbody",{children:[w.jsxs("tr",{className:"border-b border-border",children:[w.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),w.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.stampa?.zanica?.toFixed(2)||"0.00"]}),w.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.stampa?.busto_garolfo?.toFixed(2)||"0.00"]})]}),w.jsxs("tr",{children:[w.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),w.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.confezionamento?.zanica?.toFixed(2)||"0.00"]}),w.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.confezionamento?.busto_garolfo?.toFixed(2)||"0.00"]})]})]})]})})})]}),w.jsxs(Zr,{children:[w.jsx(Jr,{children:w.jsx(ei,{children:"Durata Media per Centro di Lavoro e Reparto"})}),w.jsx(ti,{children:w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b border-border",children:[w.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),w.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),w.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),w.jsxs("tbody",{children:[w.jsxs("tr",{className:"border-b border-border",children:[w.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),w.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.zanica?.toFixed(1)||"0.0","h"]}),w.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.busto_garolfo?.toFixed(1)||"0.0","h"]})]}),w.jsxs("tr",{children:[w.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),w.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.zanica?.toFixed(1)||"0.0","h"]}),w.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.busto_garolfo?.toFixed(1)||"0.0","h"]})]})]})]})})})]})]})]})}function Zue(){const[t,e]=E.useState({email:"",password:"",workCenter:""}),[n,r]=E.useState(!1),[i,s]=E.useState({}),{signIn:a,error:l}=Il(),{setSelectedWorkCenter:u}=Mt(),d=Cs(),{handleAsync:h}=As("LoginPage"),g=y=>{const{name:S,value:C}=y.target;e(T=>({...T,[S]:C})),i[S]&&s(T=>({...T,[S]:""}))},m=()=>{const y={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(y.email="Inserisci un indirizzo email valido"):y.email="Email richiesta",t.password?t.password.length<6&&(y.password="La password deve essere di almeno 6 caratteri"):y.password="Password richiesta",t.workCenter||(y.workCenter="Centro di lavoro richiesto"),s(y),Object.keys(y).length===0},v=async y=>{y.preventDefault(),m()&&(r(!0),await h(async()=>{(await a(t.email,t.password)).success&&(u(t.workCenter),d("/",{replace:!0}))},{context:"Login",fallbackMessage:"Accesso fallito. Riprova.",onFinally:()=>r(!1)}))},b=y=>i[y]?w.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:i[y]}):null;return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-md w-full space-y-4",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Bentornato"}),w.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Accedi al tuo account per continuare"})]}),w.jsxs("form",{onSubmit:v,className:"mt-4 space-y-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:"email",children:"Indirizzo Email"}),w.jsx(Qn,{type:"email",id:"email",name:"email",value:t.email,onChange:g,placeholder:"Inserisci la tua email",className:i.email?"border-red-500":"",disabled:n,autoComplete:"email"}),b("email")]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:"password",children:"Password"}),w.jsx(Qn,{type:"password",id:"password",name:"password",value:t.password,onChange:g,placeholder:"Inserisci la tua password",className:i.password?"border-red-500":"",disabled:n,autoComplete:"current-password"}),b("password")]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:"workCenter",children:"Centro di Lavoro *"}),w.jsxs(b2,{onValueChange:y=>g({target:{name:"workCenter",value:y}}),value:t.workCenter,children:[w.jsx(jS,{className:i.workCenter?"border-red-500":"",children:w.jsx(_2,{placeholder:"Seleziona un centro di lavoro"})}),w.jsxs(LS,{children:[w.jsx(Kd,{value:bt.ZANICA,children:bt.ZANICA}),w.jsx(Kd,{value:bt.BUSTO_GAROLFO,children:bt.BUSTO_GAROLFO}),w.jsx(Kd,{value:bt.BOTH,children:bt.BOTH})]})]}),b("workCenter")]}),l&&w.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("span",{className:"text-red-400",children:"●"})}),w.jsx("div",{className:"ml-3",children:w.jsx("p",{className:"text-[10px] text-red-800",children:l})})]})}),w.jsx(Xt,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Accesso in corso...":"Accedi"})]}),w.jsxs("div",{className:"text-center space-y-4",children:[w.jsx(Hn,{to:"/forgot-password",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Password dimenticata?"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-gray-300"})}),w.jsx("div",{className:"relative flex justify-center text-[10px]",children:w.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Non hai un account?"})})]}),w.jsx(Hn,{to:"/signup",children:w.jsx(Xt,{variant:"outline",size:"sm",className:"w-full",children:"Crea Account"})})]}),!1]})})}function Jue(){const[t,e]=E.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,r]=E.useState(!1),[i,s]=E.useState({}),{signUp:a,error:l}=Il(),u=Cs(),{handleAsync:d}=As("SignupPage"),h=b=>{const{name:y,value:S}=b.target;e(C=>({...C,[y]:S})),i[y]&&s(C=>({...C,[y]:""}))},g=()=>{const b={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(b.email="Inserisci un indirizzo email valido"):b.email="Email richiesta",t.password?t.password.length<6&&(b.password="La password deve essere di almeno 6 caratteri"):b.password="Password richiesta",t.confirmPassword?t.password!==t.confirmPassword&&(b.confirmPassword="Le password non coincidono"):b.confirmPassword="Conferma la tua password",t.firstName.trim()||(b.firstName="Nome richiesto"),t.lastName.trim()||(b.lastName="Cognome richiesto"),s(b),Object.keys(b).length===0},m=async b=>{b.preventDefault(),g()&&(r(!0),await d(async()=>{const y={first_name:t.firstName,last_name:t.lastName,full_name:`${t.firstName} ${t.lastName}`};(await a(t.email,t.password,y)).success&&u("/",{replace:!0})},{context:"Signup",fallbackMessage:"Creazione account fallita. Riprova.",onFinally:()=>r(!1)}))},v=b=>i[b]?w.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:i[b]}):null;return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-md w-full space-y-4",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Crea Account"}),w.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Registrati per iniziare con il tuo account"})]}),w.jsxs("form",{onSubmit:m,className:"mt-4 space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:"firstName",children:"Nome"}),w.jsx(Qn,{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:h,placeholder:"Inserisci il tuo nome",className:i.firstName?"border-red-500":"",disabled:n,autoComplete:"given-name"}),v("firstName")]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:"lastName",children:"Cognome"}),w.jsx(Qn,{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:h,placeholder:"Inserisci il tuo cognome",className:i.lastName?"border-red-500":"",disabled:n,autoComplete:"family-name"}),v("lastName")]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:"email",children:"Indirizzo Email"}),w.jsx(Qn,{type:"email",id:"email",name:"email",value:t.email,onChange:h,placeholder:"Inserisci la tua email",className:i.email?"border-red-500":"",disabled:n,autoComplete:"email"}),v("email")]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:"password",children:"Password"}),w.jsx(Qn,{type:"password",id:"password",name:"password",value:t.password,onChange:h,placeholder:"Crea una password",className:i.password?"border-red-500":"",disabled:n,autoComplete:"new-password"}),v("password")]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:"confirmPassword",children:"Conferma Password"}),w.jsx(Qn,{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:h,placeholder:"Conferma la tua password",className:i.confirmPassword?"border-red-500":"",disabled:n,autoComplete:"new-password"}),v("confirmPassword")]})]}),l&&w.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("span",{className:"text-red-400",children:"●"})}),w.jsx("div",{className:"ml-3",children:w.jsx("p",{className:"text-[10px] text-red-800",children:l})})]})}),w.jsx(Xt,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Creazione Account...":"Crea Account"})]}),w.jsxs("div",{className:"text-center space-y-4",children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-gray-300"})}),w.jsx("div",{className:"relative flex justify-center text-[10px]",children:w.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Hai già un account?"})})]}),w.jsx(Hn,{to:"/login",children:w.jsx(Xt,{variant:"outline",size:"sm",className:"w-full",children:"Accedi"})})]})]})})}function ede(){const[t,e]=E.useState(""),[n,r]=E.useState(!1),[i,s]=E.useState(!1),[a,l]=E.useState(""),{resetPassword:u}=Il(),{handleAsync:d}=As("ForgotPasswordPage"),h=async g=>{if(g.preventDefault(),!t.trim()){l("Inserisci il tuo indirizzo email");return}if(!/\S+@\S+\.\S+/.test(t)){l("Inserisci un indirizzo email valido");return}r(!0),l(""),await d(async()=>{const m=await u(t);m.success?s(!0):l(m.error||"Invio email di reset fallito")},{context:"Password Reset",fallbackMessage:"Invio email di reset fallito. Riprova.",onFinally:()=>r(!1)})};return i?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-2 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-md w-full space-y-4",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Controlla la Tua Email"}),w.jsxs("p",{className:"mt-2 text-[10px] text-gray-600",children:["Abbiamo inviato un link per il reset della password a ",t]})]}),w.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-1",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("span",{className:"text-green-400 text-[10px]",children:"✅"})}),w.jsx("div",{className:"ml-3",children:w.jsx("p",{className:"text-[10px] text-green-800",children:"Se non vedi l'email, controlla la cartella spam."})})]})}),w.jsx("div",{className:"text-center",children:w.jsx(Hn,{to:"/login",children:w.jsx(Xt,{size:"sm",className:"w-full",children:"Torna all'Accesso"})})})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-md w-full space-y-4",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Reset Password"}),w.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Inserisci la tua email per ricevere un link per il reset della password"})]}),w.jsxs("form",{onSubmit:h,className:"mt-4 space-y-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(hr,{htmlFor:"email",children:"Indirizzo Email"}),w.jsx(Qn,{type:"email",id:"email",name:"email",value:t,onChange:g=>e(g.target.value),placeholder:"Inserisci la tua email",disabled:n,autoComplete:"email"})]}),a&&w.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("span",{className:"text-red-400",children:"●"})}),w.jsx("div",{className:"ml-3",children:w.jsx("p",{className:"text-[10px] text-red-800",children:a})})]})}),w.jsx(Xt,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Invio...":"Invia Link di Reset"})]}),w.jsx("div",{className:"text-center",children:w.jsx(Hn,{to:"/login",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Torna all'Accesso"})})]})})}class xm extends le.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:xm.generateErrorId()}}componentDidCatch(e,n){this.setState({errorInfo:n,errorId:this.state.errorId||xm.generateErrorId()}),eS(e,{errorId:this.state.errorId})}logErrorToService(e,n){}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const e=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${e}&body=${n}`)};getErrorRecommendations=e=>e?.message?.includes("Network")||e?.message?.includes("fetch")?w.jsxs("div",{className:"error-boundary__recommendation high",children:[w.jsx("strong",{children:"Network Error:"})," Please check your internet connection and try again."]}):e?.message?.includes("Authentication")||e?.message?.includes("login")?w.jsxs("div",{className:"error-boundary__recommendation high",children:[w.jsx("strong",{children:"Authentication Error:"})," Please try logging in again."]}):w.jsxs("div",{className:"error-boundary__recommendation medium",children:[w.jsx("strong",{children:"General Error:"})," Please try refreshing the page or contact support if the problem persists."]});render(){return this.state.hasError?w.jsx("div",{className:"error-boundary",children:w.jsxs("div",{className:"error-boundary__container",children:[w.jsx("div",{className:"error-boundary__icon",children:"🚨"}),w.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),w.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,w.jsxs("div",{className:"error-boundary__actions",children:[w.jsx(Xt,{onClick:this.handleRetry,variant:"default",children:"Try Again"}),w.jsx(Xt,{onClick:this.handleGoHome,variant:"secondary",children:"Go to Home"}),w.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:"📧 Report Issue"})]}),this.state.error&&w.jsx("div",{className:"error-boundary__recommendations",children:this.getErrorRecommendations(this.state.error)}),w.jsxs("div",{className:"error-boundary__footer",children:[w.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",w.jsx("code",{children:this.state.errorId})]}),w.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const tde=()=>{const{user:t,loading:e}=Il();return e?w.jsx("div",{className:"auth-loading",children:w.jsxs("div",{className:"auth-loading__container",children:[w.jsx("div",{className:"auth-loading__spinner"}),w.jsx("p",{children:"Checking authentication..."})]})}):t?w.jsx(e1,{}):w.jsx(Jk,{to:"/login",replace:!0})};function nde({children:t}){const{effectiveTheme:e}=IN();return E.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e)},[e]),w.jsx(w.Fragment,{children:t})}const rde=()=>{const{confirmDialog:t,hideConfirmDialog:e,conflictDialog:n,hideConflictDialog:r,showConflictDialog:i,schedulingLoading:s,selectedWorkCenter:a}=Mt(),{cleanup:l}=Eo(),{resolveConflictByShunting:u,scheduleTaskFromSlot:d}=_s(),{user:h,signOut:g}=Il(),m=Vr();return _Q(),E.useEffect(()=>()=>{l()},[l]),w.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[w.jsx(j6,{}),w.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[w.jsx(QY,{}),w.jsx("main",{className:"flex-1 overflow-auto bg-background min-w-0",children:w.jsx("div",{className:"p-4",children:w.jsx(e1,{})})})]}),w.jsx(wV,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3}),w.jsx(cO,{isOpen:t.isOpen,title:t.title,message:t.message,onConfirm:()=>{t.onConfirm?.(),e()},onCancel:e,type:t.type}),w.jsx(cO,{isOpen:n.isOpen,title:"Risoluzione Conflitto",message:n.details?`Il lavoro "${n.details.draggedTask?.odp_number}" si sovrappone con "${n.details.conflictingTask?.odp_number}". Come vuoi procedere?`:"",type:"warning",customButtons:[{text:"Annulla",variant:"secondary",onClick:r},{text:s.isShunting?"Spostamento...":"Sposta a Sinistra ←",variant:"primary",disabled:s.isShunting,onClick:async()=>{if(n.details)try{const v=n.details.schedulingParams?n.details.schedulingParams.originalConflict:n.details;console.log("🔄 CONFLICT: Using resolveConflictByShunting (left)");const b=await u(v,"left",m);if(b.error){const{showError:y}=await ar(async()=>{const{showError:S}=await Promise.resolve().then(()=>kc);return{showError:S}},void 0);y(b.error)}else{const{showSuccess:y}=await ar(async()=>{const{showSuccess:S}=await Promise.resolve().then(()=>kc);return{showSuccess:S}},void 0);y("Task spostato con successo"),r()}}catch(v){console.error("❌ SHUNTING ERROR:",v);const{showError:b}=await ar(async()=>{const{showError:y}=await Promise.resolve().then(()=>kc);return{showError:y}},void 0);b("Errore durante lo spostamento del task")}}},{text:s.isShunting?"Spostamento...":"Sposta a Destra →",variant:"primary",disabled:s.isShunting,onClick:async()=>{if(n.details)try{const v=n.details.schedulingParams?n.details.schedulingParams.originalConflict:n.details;console.log("🔄 CONFLICT: Using resolveConflictByShunting (right)");const b=await u(v,"right",m);if(b.error){const{showError:y}=await ar(async()=>{const{showError:S}=await Promise.resolve().then(()=>kc);return{showError:S}},void 0);y(b.error)}else{const{showSuccess:y}=await ar(async()=>{const{showSuccess:S}=await Promise.resolve().then(()=>kc);return{showSuccess:S}},void 0);y("Task spostato con successo"),r()}}catch(v){console.error("❌ SHUNTING ERROR:",v);const{showError:b}=await ar(async()=>{const{showError:y}=await Promise.resolve().then(()=>kc);return{showError:y}},void 0);b("Errore durante lo spostamento del task")}}}]})]})};function ide(){return w.jsx(nde,{children:w.jsx(xm,{children:w.jsxs(NB,{children:[w.jsx(Fn,{path:"/login",element:w.jsx(Zue,{})}),w.jsx(Fn,{path:"/signup",element:w.jsx(Jue,{})}),w.jsx(Fn,{path:"/forgot-password",element:w.jsx(ede,{})}),w.jsx(Fn,{path:"/",element:w.jsx(tde,{}),children:w.jsxs(Fn,{element:w.jsx(rde,{}),children:[w.jsx(Fn,{index:!0,element:w.jsx(Xue,{})}),w.jsx(Fn,{path:"machinery",element:w.jsx(wQ,{})}),w.jsx(Fn,{path:"machinery/add",element:w.jsx(uO,{})}),w.jsx(Fn,{path:"machinery/:id/edit",element:w.jsx(uO,{})}),w.jsx(Fn,{path:"machinery/:machineId/calendar",element:w.jsx(Yie,{})}),w.jsx(Fn,{path:"phases",element:w.jsx(Kie,{})}),w.jsx(Fn,{path:"phases/add",element:w.jsx(hM,{})}),w.jsx(Fn,{path:"phases/:id/edit",element:w.jsx(hM,{})}),w.jsx(Fn,{path:"backlog",element:w.jsx(Xie,{})}),w.jsx(Fn,{path:"backlog/add",element:w.jsx(gM,{})}),w.jsx(Fn,{path:"backlog/:id/edit",element:w.jsx(gM,{})}),w.jsx(Fn,{path:"scheduler",element:w.jsx(Mae,{})})]})}),w.jsx(Fn,{path:"*",element:w.jsx(Jk,{to:"/",replace:!0})})]})})})}Q4();const sde=new I$({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),ade="/scheduler_demo/";HH.createRoot(document.getElementById("root")).render(w.jsx(le.StrictMode,{children:w.jsx(P$,{client:sde,children:w.jsx(n$,{basename:ade,children:w.jsx(X4,{children:w.jsx(ide,{})})})})}));export{K9 as A,Xt as B,CS as D,le as R,b2 as S,Mt as a,hn as b,yde as c,Xm as d,pQ as e,As as f,vde as g,Jn as h,Bf as i,w as j,Vr as k,gde as l,jS as m,e7 as n,_2 as o,LS as p,Kd as q,E as r,jD as s,lr as t,Cs as u,_s as v,El as w};
