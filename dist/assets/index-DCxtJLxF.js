function OF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function bd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var kv={exports:{}},au={},Dv={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function IF(){if(lE)return tt;lE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function w(U,J,le){this.props=U,this.context=J,this.refs=y,this.updater=le||m}w.prototype.isReactComponent={},w.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},w.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function _(){}_.prototype=w.prototype;function E(U,J,le){this.props=U,this.context=J,this.refs=y,this.updater=le||m}var T=E.prototype=new _;T.constructor=E,b(T,w.prototype),T.isPureReactComponent=!0;var k=Array.isArray,A=Object.prototype.hasOwnProperty,I={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function D(U,J,le){var ue,Se={},_e=null,ge=null;if(J!=null)for(ue in J.ref!==void 0&&(ge=J.ref),J.key!==void 0&&(_e=""+J.key),J)A.call(J,ue)&&!M.hasOwnProperty(ue)&&(Se[ue]=J[ue]);var fe=arguments.length-2;if(fe===1)Se.children=le;else if(1<fe){for(var Pe=Array(fe),Be=0;Be<fe;Be++)Pe[Be]=arguments[Be+2];Se.children=Pe}if(U&&U.defaultProps)for(ue in fe=U.defaultProps,fe)Se[ue]===void 0&&(Se[ue]=fe[ue]);return{$$typeof:t,type:U,key:_e,ref:ge,props:Se,_owner:I.current}}function P(U,J){return{$$typeof:t,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function j(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function z(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return J[le]})}var G=/\/+/g;function Q(U,J){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):J.toString(36)}function oe(U,J,le,ue,Se){var _e=typeof U;(_e==="undefined"||_e==="boolean")&&(U=null);var ge=!1;if(U===null)ge=!0;else switch(_e){case"string":case"number":ge=!0;break;case"object":switch(U.$$typeof){case t:case e:ge=!0}}if(ge)return ge=U,Se=Se(ge),U=ue===""?"."+Q(ge,0):ue,k(Se)?(le="",U!=null&&(le=U.replace(G,"$&/")+"/"),oe(Se,J,le,"",function(Be){return Be})):Se!=null&&(j(Se)&&(Se=P(Se,le+(!Se.key||ge&&ge.key===Se.key?"":(""+Se.key).replace(G,"$&/")+"/")+U)),J.push(Se)),1;if(ge=0,ue=ue===""?".":ue+":",k(U))for(var fe=0;fe<U.length;fe++){_e=U[fe];var Pe=ue+Q(_e,fe);ge+=oe(_e,J,le,Pe,Se)}else if(Pe=p(U),typeof Pe=="function")for(U=Pe.call(U),fe=0;!(_e=U.next()).done;)_e=_e.value,Pe=ue+Q(_e,fe++),ge+=oe(_e,J,le,Pe,Se);else if(_e==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ge}function ce(U,J,le){if(U==null)return U;var ue=[],Se=0;return oe(U,ue,"","",function(_e){return J.call(le,_e,Se++)}),ue}function ee(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var re={current:null},$={transition:null},B={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:$,ReactCurrentOwner:I};function Z(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:ce,forEach:function(U,J,le){ce(U,function(){J.apply(this,arguments)},le)},count:function(U){var J=0;return ce(U,function(){J++}),J},toArray:function(U){return ce(U,function(J){return J})||[]},only:function(U){if(!j(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},tt.Component=w,tt.Fragment=n,tt.Profiler=s,tt.PureComponent=E,tt.StrictMode=r,tt.Suspense=c,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,tt.act=Z,tt.cloneElement=function(U,J,le){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ue=b({},U.props),Se=U.key,_e=U.ref,ge=U._owner;if(J!=null){if(J.ref!==void 0&&(_e=J.ref,ge=I.current),J.key!==void 0&&(Se=""+J.key),U.type&&U.type.defaultProps)var fe=U.type.defaultProps;for(Pe in J)A.call(J,Pe)&&!M.hasOwnProperty(Pe)&&(ue[Pe]=J[Pe]===void 0&&fe!==void 0?fe[Pe]:J[Pe])}var Pe=arguments.length-2;if(Pe===1)ue.children=le;else if(1<Pe){fe=Array(Pe);for(var Be=0;Be<Pe;Be++)fe[Be]=arguments[Be+2];ue.children=fe}return{$$typeof:t,type:U.type,key:Se,ref:_e,props:ue,_owner:ge}},tt.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:i,_context:U},U.Consumer=U},tt.createElement=D,tt.createFactory=function(U){var J=D.bind(null,U);return J.type=U,J},tt.createRef=function(){return{current:null}},tt.forwardRef=function(U){return{$$typeof:a,render:U}},tt.isValidElement=j,tt.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:ee}},tt.memo=function(U,J){return{$$typeof:d,type:U,compare:J===void 0?null:J}},tt.startTransition=function(U){var J=$.transition;$.transition={};try{U()}finally{$.transition=J}},tt.unstable_act=Z,tt.useCallback=function(U,J){return re.current.useCallback(U,J)},tt.useContext=function(U){return re.current.useContext(U)},tt.useDebugValue=function(){},tt.useDeferredValue=function(U){return re.current.useDeferredValue(U)},tt.useEffect=function(U,J){return re.current.useEffect(U,J)},tt.useId=function(){return re.current.useId()},tt.useImperativeHandle=function(U,J,le){return re.current.useImperativeHandle(U,J,le)},tt.useInsertionEffect=function(U,J){return re.current.useInsertionEffect(U,J)},tt.useLayoutEffect=function(U,J){return re.current.useLayoutEffect(U,J)},tt.useMemo=function(U,J){return re.current.useMemo(U,J)},tt.useReducer=function(U,J,le){return re.current.useReducer(U,J,le)},tt.useRef=function(U){return re.current.useRef(U)},tt.useState=function(U){return re.current.useState(U)},tt.useSyncExternalStore=function(U,J,le){return re.current.useSyncExternalStore(U,J,le)},tt.useTransition=function(){return re.current.useTransition()},tt.version="18.3.1",tt}var cE;function sp(){return cE||(cE=1,Dv.exports=IF()),Dv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function MF(){if(uE)return au;uE=1;var t=sp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,d){var f,h={},p=null,m=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(m=c.ref);for(f in c)r.call(c,f)&&!i.hasOwnProperty(f)&&(h[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:a,key:p,ref:m,props:h,_owner:s.current}}return au.Fragment=n,au.jsx=o,au.jsxs=o,au}var dE;function NF(){return dE||(dE=1,kv.exports=MF()),kv.exports}var S=NF(),C=sp();const ie=bd(C),vk=OF({__proto__:null,default:ie},[C]);var Kf={},Ov={exports:{}},Cr={},Iv={exports:{}},Mv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function PF(){return fE||(fE=1,(function(t){function e($,B){var Z=$.length;$.push(B);e:for(;0<Z;){var U=Z-1>>>1,J=$[U];if(0<s(J,B))$[U]=B,$[Z]=J,Z=U;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var B=$[0],Z=$.pop();if(Z!==B){$[0]=Z;e:for(var U=0,J=$.length,le=J>>>1;U<le;){var ue=2*(U+1)-1,Se=$[ue],_e=ue+1,ge=$[_e];if(0>s(Se,Z))_e<J&&0>s(ge,Se)?($[U]=ge,$[_e]=Z,U=_e):($[U]=Se,$[ue]=Z,U=ue);else if(_e<J&&0>s(ge,Z))$[U]=ge,$[_e]=Z,U=_e;else break e}}return B}function s($,B){var Z=$.sortIndex-B.sortIndex;return Z!==0?Z:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,h=null,p=3,m=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T($){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=$)r(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(d)}}function k($){if(y=!1,T($),!b)if(n(c)!==null)b=!0,ee(A);else{var B=n(d);B!==null&&re(k,B.startTime-$)}}function A($,B){b=!1,y&&(y=!1,_(D),D=-1),m=!0;var Z=p;try{for(T(B),h=n(c);h!==null&&(!(h.expirationTime>B)||$&&!z());){var U=h.callback;if(typeof U=="function"){h.callback=null,p=h.priorityLevel;var J=U(h.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(c)&&r(c),T(B)}else r(c);h=n(c)}if(h!==null)var le=!0;else{var ue=n(d);ue!==null&&re(k,ue.startTime-B),le=!1}return le}finally{h=null,p=Z,m=!1}}var I=!1,M=null,D=-1,P=5,j=-1;function z(){return!(t.unstable_now()-j<P)}function G(){if(M!==null){var $=t.unstable_now();j=$;var B=!0;try{B=M(!0,$)}finally{B?Q():(I=!1,M=null)}}else I=!1}var Q;if(typeof E=="function")Q=function(){E(G)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ce=oe.port2;oe.port1.onmessage=G,Q=function(){ce.postMessage(null)}}else Q=function(){w(G,0)};function ee($){M=$,I||(I=!0,Q())}function re($,B){D=w(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,ee(A))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Z=p;p=B;try{return $()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=p;p=$;try{return B()}finally{p=Z}},t.unstable_scheduleCallback=function($,B,Z){var U=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?U+Z:U):Z=U,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Z+J,$={id:f++,callback:B,priorityLevel:$,startTime:Z,expirationTime:J,sortIndex:-1},Z>U?($.sortIndex=Z,e(d,$),n(c)===null&&$===n(d)&&(y?(_(D),D=-1):y=!0,re(k,Z-U))):($.sortIndex=J,e(c,$),b||m||(b=!0,ee(A))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var B=p;return function(){var Z=p;p=B;try{return $.apply(this,arguments)}finally{p=Z}}}})(Mv)),Mv}var hE;function jF(){return hE||(hE=1,Iv.exports=PF()),Iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function FF(){if(gE)return Cr;gE=1;var t=sp(),e=jF();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(s[l]=u,l=0;l<u.length;l++)r.add(u[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(l){return c.call(h,l)?!0:c.call(f,l)?!1:d.test(l)?h[l]=!0:(f[l]=!0,!1)}function m(l,u,g,v){if(g!==null&&g.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:g!==null?!g.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,u,g,v){if(u===null||typeof u>"u"||m(l,u,g,v))return!0;if(v)return!1;if(g!==null)switch(g.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function y(l,u,g,v,x,R,O){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=x,this.mustUseProperty=g,this.propertyName=l,this.type=u,this.sanitizeURL=R,this.removeEmptyString=O}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){w[l]=new y(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];w[u]=new y(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){w[l]=new y(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){w[l]=new y(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){w[l]=new y(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){w[l]=new y(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){w[l]=new y(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){w[l]=new y(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){w[l]=new y(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(_,E);w[u]=new y(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(_,E);w[u]=new y(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(_,E);w[u]=new y(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){w[l]=new y(l,1,!1,l.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){w[l]=new y(l,1,!1,l.toLowerCase(),null,!0,!0)});function T(l,u,g,v){var x=w.hasOwnProperty(u)?w[u]:null;(x!==null?x.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,g,x,v)&&(g=null),v||x===null?p(u)&&(g===null?l.removeAttribute(u):l.setAttribute(u,""+g)):x.mustUseProperty?l[x.propertyName]=g===null?x.type===3?!1:"":g:(u=x.attributeName,v=x.attributeNamespace,g===null?l.removeAttribute(u):(x=x.type,g=x===3||x===4&&g===!0?"":""+g,v?l.setAttributeNS(v,u,g):l.setAttribute(u,g))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),I=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),$=Symbol.iterator;function B(l){return l===null||typeof l!="object"?null:(l=$&&l[$]||l["@@iterator"],typeof l=="function"?l:null)}var Z=Object.assign,U;function J(l){if(U===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+l}var le=!1;function ue(l,u){if(!l||le)return"";le=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ne){var v=ne}Reflect.construct(l,[],u)}else{try{u.call()}catch(ne){v=ne}l.call(u.prototype)}else{try{throw Error()}catch(ne){v=ne}l()}}catch(ne){if(ne&&v&&typeof ne.stack=="string"){for(var x=ne.stack.split(`
`),R=v.stack.split(`
`),O=x.length-1,F=R.length-1;1<=O&&0<=F&&x[O]!==R[F];)F--;for(;1<=O&&0<=F;O--,F--)if(x[O]!==R[F]){if(O!==1||F!==1)do if(O--,F--,0>F||x[O]!==R[F]){var H=`
`+x[O].replace(" at new "," at ");return l.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",l.displayName)),H}while(1<=O&&0<=F);break}}}finally{le=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?J(l):""}function Se(l){switch(l.tag){case 5:return J(l.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return l=ue(l.type,!1),l;case 11:return l=ue(l.type.render,!1),l;case 1:return l=ue(l.type,!0),l;default:return""}}function _e(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case M:return"Fragment";case I:return"Portal";case P:return"Profiler";case D:return"StrictMode";case Q:return"Suspense";case oe:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case z:return(l.displayName||"Context")+".Consumer";case j:return(l._context.displayName||"Context")+".Provider";case G:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ce:return u=l.displayName||null,u!==null?u:_e(l.type)||"Memo";case ee:u=l._payload,l=l._init;try{return _e(l(u))}catch{}}return null}function ge(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(u);case 8:return u===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function fe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Pe(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Be(l){var u=Pe(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),v=""+l[u];if(!l.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,R=g.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return x.call(this)},set:function(O){v=""+O,R.call(this,O)}}),Object.defineProperty(l,u,{enumerable:g.enumerable}),{getValue:function(){return v},setValue:function(O){v=""+O},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function xt(l){l._valueTracker||(l._valueTracker=Be(l))}function wt(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var g=u.getValue(),v="";return l&&(v=Pe(l)?l.checked?"true":"false":l.value),l=v,l!==g?(u.setValue(l),!0):!1}function an(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Ce(l,u){var g=u.checked;return Z({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??l._wrapperState.initialChecked})}function Ge(l,u){var g=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;g=fe(u.value!=null?u.value:g),l._wrapperState={initialChecked:v,initialValue:g,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function nt(l,u){u=u.checked,u!=null&&T(l,"checked",u,!1)}function kt(l,u){nt(l,u);var g=fe(u.value),v=u.type;if(g!=null)v==="number"?(g===0&&l.value===""||l.value!=g)&&(l.value=""+g):l.value!==""+g&&(l.value=""+g);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Ze(l,u.type,g):u.hasOwnProperty("defaultValue")&&Ze(l,u.type,fe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function gn(l,u,g){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,g||u===l.value||(l.value=u),l.defaultValue=u}g=l.name,g!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,g!==""&&(l.name=g)}function Ze(l,u,g){(u!=="number"||an(l.ownerDocument)!==l)&&(g==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+g&&(l.defaultValue=""+g))}var N=Array.isArray;function W(l,u,g,v){if(l=l.options,u){u={};for(var x=0;x<g.length;x++)u["$"+g[x]]=!0;for(g=0;g<l.length;g++)x=u.hasOwnProperty("$"+l[g].value),l[g].selected!==x&&(l[g].selected=x),x&&v&&(l[g].defaultSelected=!0)}else{for(g=""+fe(g),u=null,x=0;x<l.length;x++){if(l[x].value===g){l[x].selected=!0,v&&(l[x].defaultSelected=!0);return}u!==null||l[x].disabled||(u=l[x])}u!==null&&(u.selected=!0)}}function K(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function q(l,u){var g=u.value;if(g==null){if(g=u.children,u=u.defaultValue,g!=null){if(u!=null)throw Error(n(92));if(N(g)){if(1<g.length)throw Error(n(93));g=g[0]}u=g}u==null&&(u=""),g=u}l._wrapperState={initialValue:fe(g)}}function se(l,u){var g=fe(u.value),v=fe(u.defaultValue);g!=null&&(g=""+g,g!==l.value&&(l.value=g),u.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)),v!=null&&(l.defaultValue=""+v)}function ae(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function pe(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ve(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?pe(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var be,Ne=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,g,v,x){MSApp.execUnsafeLocalFunction(function(){return l(u,g,v,x)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=be.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Ke(l,u){if(u){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=u;return}}l.textContent=u}var ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},at=["Webkit","ms","Moz","O"];Object.keys(ze).forEach(function(l){at.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),ze[u]=ze[l]})});function ct(l,u,g){return u==null||typeof u=="boolean"||u===""?"":g||typeof u!="number"||u===0||ze.hasOwnProperty(l)&&ze[l]?(""+u).trim():u+"px"}function Gn(l,u){l=l.style;for(var g in u)if(u.hasOwnProperty(g)){var v=g.indexOf("--")===0,x=ct(g,u[g],v);g==="float"&&(g="cssFloat"),v?l.setProperty(g,x):l[g]=x}}var Et=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rt(l,u){if(u){if(Et[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Gt(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qe=null;function st(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var vr=null,Hn=null,ut=null;function ln(l){if(l=qc(l)){if(typeof vr!="function")throw Error(n(280));var u=l.stateNode;u&&(u=cf(u),vr(l.stateNode,l.type,u))}}function xe(l){Hn?ut?ut.push(l):ut=[l]:Hn=l}function Xe(){if(Hn){var l=Hn,u=ut;if(ut=Hn=null,ln(l),u)for(l=0;l<u.length;l++)ln(u[l])}}function it(l,u){return l(u)}function dt(){}var tn=!1;function _t(l,u,g){if(tn)return l(u,g);tn=!0;try{return it(l,u,g)}finally{tn=!1,(Hn!==null||ut!==null)&&(dt(),Xe())}}function qe(l,u){var g=l.stateNode;if(g===null)return null;var v=cf(g);if(v===null)return null;g=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(n(231,u,typeof g));return g}var cn=!1;if(a)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){cn=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{cn=!1}function Kt(l,u,g,v,x,R,O,F,H){var ne=Array.prototype.slice.call(arguments,3);try{u.apply(g,ne)}catch(he){this.onError(he)}}var yr=!1,In=null,br=!1,mi=null,Tc={onError:function(l){yr=!0,In=l}};function UP(l,u,g,v,x,R,O,F,H){yr=!1,In=null,Kt.apply(Tc,arguments)}function $P(l,u,g,v,x,R,O,F,H){if(UP.apply(this,arguments),yr){if(yr){var ne=In;yr=!1,In=null}else throw Error(n(198));br||(br=!0,mi=ne)}}function Jo(l){var u=l,g=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(g=u.return),l=u.return;while(l)}return u.tag===3?g:null}function O_(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function I_(l){if(Jo(l)!==l)throw Error(n(188))}function BP(l){var u=l.alternate;if(!u){if(u=Jo(l),u===null)throw Error(n(188));return u!==l?null:l}for(var g=l,v=u;;){var x=g.return;if(x===null)break;var R=x.alternate;if(R===null){if(v=x.return,v!==null){g=v;continue}break}if(x.child===R.child){for(R=x.child;R;){if(R===g)return I_(x),l;if(R===v)return I_(x),u;R=R.sibling}throw Error(n(188))}if(g.return!==v.return)g=x,v=R;else{for(var O=!1,F=x.child;F;){if(F===g){O=!0,g=x,v=R;break}if(F===v){O=!0,v=x,g=R;break}F=F.sibling}if(!O){for(F=R.child;F;){if(F===g){O=!0,g=R,v=x;break}if(F===v){O=!0,v=R,g=x;break}F=F.sibling}if(!O)throw Error(n(189))}}if(g.alternate!==v)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?l:u}function M_(l){return l=BP(l),l!==null?N_(l):null}function N_(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=N_(l);if(u!==null)return u;l=l.sibling}return null}var P_=e.unstable_scheduleCallback,j_=e.unstable_cancelCallback,zP=e.unstable_shouldYield,HP=e.unstable_requestPaint,un=e.unstable_now,VP=e.unstable_getCurrentPriorityLevel,Yp=e.unstable_ImmediatePriority,F_=e.unstable_UserBlockingPriority,zd=e.unstable_NormalPriority,WP=e.unstable_LowPriority,L_=e.unstable_IdlePriority,Hd=null,Ws=null;function qP(l){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(Hd,l,void 0,(l.current.flags&128)===128)}catch{}}var vs=Math.clz32?Math.clz32:YP,GP=Math.log,KP=Math.LN2;function YP(l){return l>>>=0,l===0?32:31-(GP(l)/KP|0)|0}var Vd=64,Wd=4194304;function Ac(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function qd(l,u){var g=l.pendingLanes;if(g===0)return 0;var v=0,x=l.suspendedLanes,R=l.pingedLanes,O=g&268435455;if(O!==0){var F=O&~x;F!==0?v=Ac(F):(R&=O,R!==0&&(v=Ac(R)))}else O=g&~x,O!==0?v=Ac(O):R!==0&&(v=Ac(R));if(v===0)return 0;if(u!==0&&u!==v&&(u&x)===0&&(x=v&-v,R=u&-u,x>=R||x===16&&(R&4194240)!==0))return u;if((v&4)!==0&&(v|=g&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=v;0<u;)g=31-vs(u),x=1<<g,v|=l[g],u&=~x;return v}function QP(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XP(l,u){for(var g=l.suspendedLanes,v=l.pingedLanes,x=l.expirationTimes,R=l.pendingLanes;0<R;){var O=31-vs(R),F=1<<O,H=x[O];H===-1?((F&g)===0||(F&v)!==0)&&(x[O]=QP(F,u)):H<=u&&(l.expiredLanes|=F),R&=~F}}function Qp(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function U_(){var l=Vd;return Vd<<=1,(Vd&4194240)===0&&(Vd=64),l}function Xp(l){for(var u=[],g=0;31>g;g++)u.push(l);return u}function kc(l,u,g){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-vs(u),l[u]=g}function ZP(l,u){var g=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<g;){var x=31-vs(g),R=1<<x;u[x]=0,v[x]=-1,l[x]=-1,g&=~R}}function Zp(l,u){var g=l.entangledLanes|=u;for(l=l.entanglements;g;){var v=31-vs(g),x=1<<v;x&u|l[v]&u&&(l[v]|=u),g&=~x}}var Ct=0;function $_(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var B_,Jp,z_,H_,V_,em=!1,Gd=[],Qi=null,Xi=null,Zi=null,Dc=new Map,Oc=new Map,Ji=[],JP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W_(l,u){switch(l){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Dc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(u.pointerId)}}function Ic(l,u,g,v,x,R){return l===null||l.nativeEvent!==R?(l={blockedOn:u,domEventName:g,eventSystemFlags:v,nativeEvent:R,targetContainers:[x]},u!==null&&(u=qc(u),u!==null&&Jp(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),l)}function ej(l,u,g,v,x){switch(u){case"focusin":return Qi=Ic(Qi,l,u,g,v,x),!0;case"dragenter":return Xi=Ic(Xi,l,u,g,v,x),!0;case"mouseover":return Zi=Ic(Zi,l,u,g,v,x),!0;case"pointerover":var R=x.pointerId;return Dc.set(R,Ic(Dc.get(R)||null,l,u,g,v,x)),!0;case"gotpointercapture":return R=x.pointerId,Oc.set(R,Ic(Oc.get(R)||null,l,u,g,v,x)),!0}return!1}function q_(l){var u=ea(l.target);if(u!==null){var g=Jo(u);if(g!==null){if(u=g.tag,u===13){if(u=O_(g),u!==null){l.blockedOn=u,V_(l.priority,function(){z_(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Kd(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var g=nm(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(g===null){g=l.nativeEvent;var v=new g.constructor(g.type,g);Qe=v,g.target.dispatchEvent(v),Qe=null}else return u=qc(g),u!==null&&Jp(u),l.blockedOn=g,!1;u.shift()}return!0}function G_(l,u,g){Kd(l)&&g.delete(u)}function tj(){em=!1,Qi!==null&&Kd(Qi)&&(Qi=null),Xi!==null&&Kd(Xi)&&(Xi=null),Zi!==null&&Kd(Zi)&&(Zi=null),Dc.forEach(G_),Oc.forEach(G_)}function Mc(l,u){l.blockedOn===u&&(l.blockedOn=null,em||(em=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tj)))}function Nc(l){function u(x){return Mc(x,l)}if(0<Gd.length){Mc(Gd[0],l);for(var g=1;g<Gd.length;g++){var v=Gd[g];v.blockedOn===l&&(v.blockedOn=null)}}for(Qi!==null&&Mc(Qi,l),Xi!==null&&Mc(Xi,l),Zi!==null&&Mc(Zi,l),Dc.forEach(u),Oc.forEach(u),g=0;g<Ji.length;g++)v=Ji[g],v.blockedOn===l&&(v.blockedOn=null);for(;0<Ji.length&&(g=Ji[0],g.blockedOn===null);)q_(g),g.blockedOn===null&&Ji.shift()}var tl=k.ReactCurrentBatchConfig,Yd=!0;function nj(l,u,g,v){var x=Ct,R=tl.transition;tl.transition=null;try{Ct=1,tm(l,u,g,v)}finally{Ct=x,tl.transition=R}}function rj(l,u,g,v){var x=Ct,R=tl.transition;tl.transition=null;try{Ct=4,tm(l,u,g,v)}finally{Ct=x,tl.transition=R}}function tm(l,u,g,v){if(Yd){var x=nm(l,u,g,v);if(x===null)bm(l,u,v,Qd,g),W_(l,v);else if(ej(x,l,u,g,v))v.stopPropagation();else if(W_(l,v),u&4&&-1<JP.indexOf(l)){for(;x!==null;){var R=qc(x);if(R!==null&&B_(R),R=nm(l,u,g,v),R===null&&bm(l,u,v,Qd,g),R===x)break;x=R}x!==null&&v.stopPropagation()}else bm(l,u,v,null,g)}}var Qd=null;function nm(l,u,g,v){if(Qd=null,l=st(v),l=ea(l),l!==null)if(u=Jo(l),u===null)l=null;else if(g=u.tag,g===13){if(l=O_(u),l!==null)return l;l=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Qd=l,null}function K_(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VP()){case Yp:return 1;case F_:return 4;case zd:case WP:return 16;case L_:return 536870912;default:return 16}default:return 16}}var eo=null,rm=null,Xd=null;function Y_(){if(Xd)return Xd;var l,u=rm,g=u.length,v,x="value"in eo?eo.value:eo.textContent,R=x.length;for(l=0;l<g&&u[l]===x[l];l++);var O=g-l;for(v=1;v<=O&&u[g-v]===x[R-v];v++);return Xd=x.slice(l,1<v?1-v:void 0)}function Zd(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Jd(){return!0}function Q_(){return!1}function jr(l){function u(g,v,x,R,O){this._reactName=g,this._targetInst=x,this.type=v,this.nativeEvent=R,this.target=O,this.currentTarget=null;for(var F in l)l.hasOwnProperty(F)&&(g=l[F],this[F]=g?g(R):R[F]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Jd:Q_,this.isPropagationStopped=Q_,this}return Z(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Jd)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Jd)},persist:function(){},isPersistent:Jd}),u}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sm=jr(nl),Pc=Z({},nl,{view:0,detail:0}),sj=jr(Pc),im,om,jc,ef=Z({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lm,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==jc&&(jc&&l.type==="mousemove"?(im=l.screenX-jc.screenX,om=l.screenY-jc.screenY):om=im=0,jc=l),im)},movementY:function(l){return"movementY"in l?l.movementY:om}}),X_=jr(ef),ij=Z({},ef,{dataTransfer:0}),oj=jr(ij),aj=Z({},Pc,{relatedTarget:0}),am=jr(aj),lj=Z({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),cj=jr(lj),uj=Z({},nl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),dj=jr(uj),fj=Z({},nl,{data:0}),Z_=jr(fj),hj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mj(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=pj[l])?!!u[l]:!1}function lm(){return mj}var vj=Z({},Pc,{key:function(l){if(l.key){var u=hj[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Zd(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?gj[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lm,charCode:function(l){return l.type==="keypress"?Zd(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Zd(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),yj=jr(vj),bj=Z({},ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J_=jr(bj),wj=Z({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lm}),_j=jr(wj),Sj=Z({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),xj=jr(Sj),Ej=Z({},ef,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Cj=jr(Ej),Rj=[9,13,27,32],cm=a&&"CompositionEvent"in window,Fc=null;a&&"documentMode"in document&&(Fc=document.documentMode);var Tj=a&&"TextEvent"in window&&!Fc,eS=a&&(!cm||Fc&&8<Fc&&11>=Fc),tS=" ",nS=!1;function rS(l,u){switch(l){case"keyup":return Rj.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sS(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var rl=!1;function Aj(l,u){switch(l){case"compositionend":return sS(u);case"keypress":return u.which!==32?null:(nS=!0,tS);case"textInput":return l=u.data,l===tS&&nS?null:l;default:return null}}function kj(l,u){if(rl)return l==="compositionend"||!cm&&rS(l,u)?(l=Y_(),Xd=rm=eo=null,rl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return eS&&u.locale!=="ko"?null:u.data;default:return null}}var Dj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iS(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Dj[l.type]:u==="textarea"}function oS(l,u,g,v){xe(v),u=of(u,"onChange"),0<u.length&&(g=new sm("onChange","change",null,g,v),l.push({event:g,listeners:u}))}var Lc=null,Uc=null;function Oj(l){ES(l,0)}function tf(l){var u=ll(l);if(wt(u))return l}function Ij(l,u){if(l==="change")return u}var aS=!1;if(a){var um;if(a){var dm="oninput"in document;if(!dm){var lS=document.createElement("div");lS.setAttribute("oninput","return;"),dm=typeof lS.oninput=="function"}um=dm}else um=!1;aS=um&&(!document.documentMode||9<document.documentMode)}function cS(){Lc&&(Lc.detachEvent("onpropertychange",uS),Uc=Lc=null)}function uS(l){if(l.propertyName==="value"&&tf(Uc)){var u=[];oS(u,Uc,l,st(l)),_t(Oj,u)}}function Mj(l,u,g){l==="focusin"?(cS(),Lc=u,Uc=g,Lc.attachEvent("onpropertychange",uS)):l==="focusout"&&cS()}function Nj(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return tf(Uc)}function Pj(l,u){if(l==="click")return tf(u)}function jj(l,u){if(l==="input"||l==="change")return tf(u)}function Fj(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var ys=typeof Object.is=="function"?Object.is:Fj;function $c(l,u){if(ys(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var g=Object.keys(l),v=Object.keys(u);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var x=g[v];if(!c.call(u,x)||!ys(l[x],u[x]))return!1}return!0}function dS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function fS(l,u){var g=dS(l);l=0;for(var v;g;){if(g.nodeType===3){if(v=l+g.textContent.length,l<=u&&v>=u)return{node:g,offset:u-l};l=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=dS(g)}}function hS(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?hS(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function gS(){for(var l=window,u=an();u instanceof l.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)l=u.contentWindow;else break;u=an(l.document)}return u}function fm(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function Lj(l){var u=gS(),g=l.focusedElem,v=l.selectionRange;if(u!==g&&g&&g.ownerDocument&&hS(g.ownerDocument.documentElement,g)){if(v!==null&&fm(g)){if(u=v.start,l=v.end,l===void 0&&(l=u),"selectionStart"in g)g.selectionStart=u,g.selectionEnd=Math.min(l,g.value.length);else if(l=(u=g.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var x=g.textContent.length,R=Math.min(v.start,x);v=v.end===void 0?R:Math.min(v.end,x),!l.extend&&R>v&&(x=v,v=R,R=x),x=fS(g,R);var O=fS(g,v);x&&O&&(l.rangeCount!==1||l.anchorNode!==x.node||l.anchorOffset!==x.offset||l.focusNode!==O.node||l.focusOffset!==O.offset)&&(u=u.createRange(),u.setStart(x.node,x.offset),l.removeAllRanges(),R>v?(l.addRange(u),l.extend(O.node,O.offset)):(u.setEnd(O.node,O.offset),l.addRange(u)))}}for(u=[],l=g;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<u.length;g++)l=u[g],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Uj=a&&"documentMode"in document&&11>=document.documentMode,sl=null,hm=null,Bc=null,gm=!1;function pS(l,u,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;gm||sl==null||sl!==an(v)||(v=sl,"selectionStart"in v&&fm(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Bc&&$c(Bc,v)||(Bc=v,v=of(hm,"onSelect"),0<v.length&&(u=new sm("onSelect","select",null,u,g),l.push({event:u,listeners:v}),u.target=sl)))}function nf(l,u){var g={};return g[l.toLowerCase()]=u.toLowerCase(),g["Webkit"+l]="webkit"+u,g["Moz"+l]="moz"+u,g}var il={animationend:nf("Animation","AnimationEnd"),animationiteration:nf("Animation","AnimationIteration"),animationstart:nf("Animation","AnimationStart"),transitionend:nf("Transition","TransitionEnd")},pm={},mS={};a&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function rf(l){if(pm[l])return pm[l];if(!il[l])return l;var u=il[l],g;for(g in u)if(u.hasOwnProperty(g)&&g in mS)return pm[l]=u[g];return l}var vS=rf("animationend"),yS=rf("animationiteration"),bS=rf("animationstart"),wS=rf("transitionend"),_S=new Map,SS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(l,u){_S.set(l,u),i(u,[l])}for(var mm=0;mm<SS.length;mm++){var vm=SS[mm],$j=vm.toLowerCase(),Bj=vm[0].toUpperCase()+vm.slice(1);to($j,"on"+Bj)}to(vS,"onAnimationEnd"),to(yS,"onAnimationIteration"),to(bS,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(wS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zj=new Set("cancel close invalid load scroll toggle".split(" ").concat(zc));function xS(l,u,g){var v=l.type||"unknown-event";l.currentTarget=g,$P(v,u,void 0,l),l.currentTarget=null}function ES(l,u){u=(u&4)!==0;for(var g=0;g<l.length;g++){var v=l[g],x=v.event;v=v.listeners;e:{var R=void 0;if(u)for(var O=v.length-1;0<=O;O--){var F=v[O],H=F.instance,ne=F.currentTarget;if(F=F.listener,H!==R&&x.isPropagationStopped())break e;xS(x,F,ne),R=H}else for(O=0;O<v.length;O++){if(F=v[O],H=F.instance,ne=F.currentTarget,F=F.listener,H!==R&&x.isPropagationStopped())break e;xS(x,F,ne),R=H}}}if(br)throw l=mi,br=!1,mi=null,l}function Ft(l,u){var g=u[Cm];g===void 0&&(g=u[Cm]=new Set);var v=l+"__bubble";g.has(v)||(CS(u,l,2,!1),g.add(v))}function ym(l,u,g){var v=0;u&&(v|=4),CS(g,l,v,u)}var sf="_reactListening"+Math.random().toString(36).slice(2);function Hc(l){if(!l[sf]){l[sf]=!0,r.forEach(function(g){g!=="selectionchange"&&(zj.has(g)||ym(g,!1,l),ym(g,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[sf]||(u[sf]=!0,ym("selectionchange",!1,u))}}function CS(l,u,g,v){switch(K_(u)){case 1:var x=nj;break;case 4:x=rj;break;default:x=tm}g=x.bind(null,u,g,l),x=void 0,!cn||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),v?x!==void 0?l.addEventListener(u,g,{capture:!0,passive:x}):l.addEventListener(u,g,!0):x!==void 0?l.addEventListener(u,g,{passive:x}):l.addEventListener(u,g,!1)}function bm(l,u,g,v,x){var R=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var O=v.tag;if(O===3||O===4){var F=v.stateNode.containerInfo;if(F===x||F.nodeType===8&&F.parentNode===x)break;if(O===4)for(O=v.return;O!==null;){var H=O.tag;if((H===3||H===4)&&(H=O.stateNode.containerInfo,H===x||H.nodeType===8&&H.parentNode===x))return;O=O.return}for(;F!==null;){if(O=ea(F),O===null)return;if(H=O.tag,H===5||H===6){v=R=O;continue e}F=F.parentNode}}v=v.return}_t(function(){var ne=R,he=st(g),me=[];e:{var de=_S.get(l);if(de!==void 0){var Ee=sm,Te=l;switch(l){case"keypress":if(Zd(g)===0)break e;case"keydown":case"keyup":Ee=yj;break;case"focusin":Te="focus",Ee=am;break;case"focusout":Te="blur",Ee=am;break;case"beforeblur":case"afterblur":Ee=am;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=X_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=oj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=_j;break;case vS:case yS:case bS:Ee=cj;break;case wS:Ee=xj;break;case"scroll":Ee=sj;break;case"wheel":Ee=Cj;break;case"copy":case"cut":case"paste":Ee=dj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=J_}var De=(u&4)!==0,dn=!De&&l==="scroll",Y=De?de!==null?de+"Capture":null:de;De=[];for(var V=ne,X;V!==null;){X=V;var ye=X.stateNode;if(X.tag===5&&ye!==null&&(X=ye,Y!==null&&(ye=qe(V,Y),ye!=null&&De.push(Vc(V,ye,X)))),dn)break;V=V.return}0<De.length&&(de=new Ee(de,Te,null,g,he),me.push({event:de,listeners:De}))}}if((u&7)===0){e:{if(de=l==="mouseover"||l==="pointerover",Ee=l==="mouseout"||l==="pointerout",de&&g!==Qe&&(Te=g.relatedTarget||g.fromElement)&&(ea(Te)||Te[vi]))break e;if((Ee||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,Ee?(Te=g.relatedTarget||g.toElement,Ee=ne,Te=Te?ea(Te):null,Te!==null&&(dn=Jo(Te),Te!==dn||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(Ee=null,Te=ne),Ee!==Te)){if(De=X_,ye="onMouseLeave",Y="onMouseEnter",V="mouse",(l==="pointerout"||l==="pointerover")&&(De=J_,ye="onPointerLeave",Y="onPointerEnter",V="pointer"),dn=Ee==null?de:ll(Ee),X=Te==null?de:ll(Te),de=new De(ye,V+"leave",Ee,g,he),de.target=dn,de.relatedTarget=X,ye=null,ea(he)===ne&&(De=new De(Y,V+"enter",Te,g,he),De.target=X,De.relatedTarget=dn,ye=De),dn=ye,Ee&&Te)t:{for(De=Ee,Y=Te,V=0,X=De;X;X=ol(X))V++;for(X=0,ye=Y;ye;ye=ol(ye))X++;for(;0<V-X;)De=ol(De),V--;for(;0<X-V;)Y=ol(Y),X--;for(;V--;){if(De===Y||Y!==null&&De===Y.alternate)break t;De=ol(De),Y=ol(Y)}De=null}else De=null;Ee!==null&&RS(me,de,Ee,De,!1),Te!==null&&dn!==null&&RS(me,dn,Te,De,!0)}}e:{if(de=ne?ll(ne):window,Ee=de.nodeName&&de.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&de.type==="file")var Me=Ij;else if(iS(de))if(aS)Me=jj;else{Me=Nj;var Fe=Mj}else(Ee=de.nodeName)&&Ee.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Me=Pj);if(Me&&(Me=Me(l,ne))){oS(me,Me,g,he);break e}Fe&&Fe(l,de,ne),l==="focusout"&&(Fe=de._wrapperState)&&Fe.controlled&&de.type==="number"&&Ze(de,"number",de.value)}switch(Fe=ne?ll(ne):window,l){case"focusin":(iS(Fe)||Fe.contentEditable==="true")&&(sl=Fe,hm=ne,Bc=null);break;case"focusout":Bc=hm=sl=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,pS(me,g,he);break;case"selectionchange":if(Uj)break;case"keydown":case"keyup":pS(me,g,he)}var Le;if(cm)e:{switch(l){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else rl?rS(l,g)&&(We="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(We="onCompositionStart");We&&(eS&&g.locale!=="ko"&&(rl||We!=="onCompositionStart"?We==="onCompositionEnd"&&rl&&(Le=Y_()):(eo=he,rm="value"in eo?eo.value:eo.textContent,rl=!0)),Fe=of(ne,We),0<Fe.length&&(We=new Z_(We,l,null,g,he),me.push({event:We,listeners:Fe}),Le?We.data=Le:(Le=sS(g),Le!==null&&(We.data=Le)))),(Le=Tj?Aj(l,g):kj(l,g))&&(ne=of(ne,"onBeforeInput"),0<ne.length&&(he=new Z_("onBeforeInput","beforeinput",null,g,he),me.push({event:he,listeners:ne}),he.data=Le))}ES(me,u)})}function Vc(l,u,g){return{instance:l,listener:u,currentTarget:g}}function of(l,u){for(var g=u+"Capture",v=[];l!==null;){var x=l,R=x.stateNode;x.tag===5&&R!==null&&(x=R,R=qe(l,g),R!=null&&v.unshift(Vc(l,R,x)),R=qe(l,u),R!=null&&v.push(Vc(l,R,x))),l=l.return}return v}function ol(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function RS(l,u,g,v,x){for(var R=u._reactName,O=[];g!==null&&g!==v;){var F=g,H=F.alternate,ne=F.stateNode;if(H!==null&&H===v)break;F.tag===5&&ne!==null&&(F=ne,x?(H=qe(g,R),H!=null&&O.unshift(Vc(g,H,F))):x||(H=qe(g,R),H!=null&&O.push(Vc(g,H,F)))),g=g.return}O.length!==0&&l.push({event:u,listeners:O})}var Hj=/\r\n?/g,Vj=/\u0000|\uFFFD/g;function TS(l){return(typeof l=="string"?l:""+l).replace(Hj,`
`).replace(Vj,"")}function af(l,u,g){if(u=TS(u),TS(l)!==u&&g)throw Error(n(425))}function lf(){}var wm=null,_m=null;function Sm(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,Wj=typeof clearTimeout=="function"?clearTimeout:void 0,AS=typeof Promise=="function"?Promise:void 0,qj=typeof queueMicrotask=="function"?queueMicrotask:typeof AS<"u"?function(l){return AS.resolve(null).then(l).catch(Gj)}:xm;function Gj(l){setTimeout(function(){throw l})}function Em(l,u){var g=u,v=0;do{var x=g.nextSibling;if(l.removeChild(g),x&&x.nodeType===8)if(g=x.data,g==="/$"){if(v===0){l.removeChild(x),Nc(u);return}v--}else g!=="$"&&g!=="$?"&&g!=="$!"||v++;g=x}while(g);Nc(u)}function no(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function kS(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return l;u--}else g==="/$"&&u++}l=l.previousSibling}return null}var al=Math.random().toString(36).slice(2),qs="__reactFiber$"+al,Wc="__reactProps$"+al,vi="__reactContainer$"+al,Cm="__reactEvents$"+al,Kj="__reactListeners$"+al,Yj="__reactHandles$"+al;function ea(l){var u=l[qs];if(u)return u;for(var g=l.parentNode;g;){if(u=g[vi]||g[qs]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(l=kS(l);l!==null;){if(g=l[qs])return g;l=kS(l)}return u}l=g,g=l.parentNode}return null}function qc(l){return l=l[qs]||l[vi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function ll(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function cf(l){return l[Wc]||null}var Rm=[],cl=-1;function ro(l){return{current:l}}function Lt(l){0>cl||(l.current=Rm[cl],Rm[cl]=null,cl--)}function Nt(l,u){cl++,Rm[cl]=l.current,l.current=u}var so={},Kn=ro(so),wr=ro(!1),ta=so;function ul(l,u){var g=l.type.contextTypes;if(!g)return so;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var x={},R;for(R in g)x[R]=u[R];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=x),x}function _r(l){return l=l.childContextTypes,l!=null}function uf(){Lt(wr),Lt(Kn)}function DS(l,u,g){if(Kn.current!==so)throw Error(n(168));Nt(Kn,u),Nt(wr,g)}function OS(l,u,g){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return g;v=v.getChildContext();for(var x in v)if(!(x in u))throw Error(n(108,ge(l)||"Unknown",x));return Z({},g,v)}function df(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||so,ta=Kn.current,Nt(Kn,l),Nt(wr,wr.current),!0}function IS(l,u,g){var v=l.stateNode;if(!v)throw Error(n(169));g?(l=OS(l,u,ta),v.__reactInternalMemoizedMergedChildContext=l,Lt(wr),Lt(Kn),Nt(Kn,l)):Lt(wr),Nt(wr,g)}var yi=null,ff=!1,Tm=!1;function MS(l){yi===null?yi=[l]:yi.push(l)}function Qj(l){ff=!0,MS(l)}function io(){if(!Tm&&yi!==null){Tm=!0;var l=0,u=Ct;try{var g=yi;for(Ct=1;l<g.length;l++){var v=g[l];do v=v(!0);while(v!==null)}yi=null,ff=!1}catch(x){throw yi!==null&&(yi=yi.slice(l+1)),P_(Yp,io),x}finally{Ct=u,Tm=!1}}return null}var dl=[],fl=0,hf=null,gf=0,Yr=[],Qr=0,na=null,bi=1,wi="";function ra(l,u){dl[fl++]=gf,dl[fl++]=hf,hf=l,gf=u}function NS(l,u,g){Yr[Qr++]=bi,Yr[Qr++]=wi,Yr[Qr++]=na,na=l;var v=bi;l=wi;var x=32-vs(v)-1;v&=~(1<<x),g+=1;var R=32-vs(u)+x;if(30<R){var O=x-x%5;R=(v&(1<<O)-1).toString(32),v>>=O,x-=O,bi=1<<32-vs(u)+x|g<<x|v,wi=R+l}else bi=1<<R|g<<x|v,wi=l}function Am(l){l.return!==null&&(ra(l,1),NS(l,1,0))}function km(l){for(;l===hf;)hf=dl[--fl],dl[fl]=null,gf=dl[--fl],dl[fl]=null;for(;l===na;)na=Yr[--Qr],Yr[Qr]=null,wi=Yr[--Qr],Yr[Qr]=null,bi=Yr[--Qr],Yr[Qr]=null}var Fr=null,Lr=null,zt=!1,bs=null;function PS(l,u){var g=es(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=l,u=l.deletions,u===null?(l.deletions=[g],l.flags|=16):u.push(g)}function jS(l,u){switch(l.tag){case 5:var g=l.type;return u=u.nodeType!==1||g.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Fr=l,Lr=no(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Fr=l,Lr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(g=na!==null?{id:bi,overflow:wi}:null,l.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},g=es(18,null,null,0),g.stateNode=u,g.return=l,l.child=g,Fr=l,Lr=null,!0):!1;default:return!1}}function Dm(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Om(l){if(zt){var u=Lr;if(u){var g=u;if(!jS(l,u)){if(Dm(l))throw Error(n(418));u=no(g.nextSibling);var v=Fr;u&&jS(l,u)?PS(v,g):(l.flags=l.flags&-4097|2,zt=!1,Fr=l)}}else{if(Dm(l))throw Error(n(418));l.flags=l.flags&-4097|2,zt=!1,Fr=l}}}function FS(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Fr=l}function pf(l){if(l!==Fr)return!1;if(!zt)return FS(l),zt=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Sm(l.type,l.memoizedProps)),u&&(u=Lr)){if(Dm(l))throw LS(),Error(n(418));for(;u;)PS(l,u),u=no(u.nextSibling)}if(FS(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"){if(u===0){Lr=no(l.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++}l=l.nextSibling}Lr=null}}else Lr=Fr?no(l.stateNode.nextSibling):null;return!0}function LS(){for(var l=Lr;l;)l=no(l.nextSibling)}function hl(){Lr=Fr=null,zt=!1}function Im(l){bs===null?bs=[l]:bs.push(l)}var Xj=k.ReactCurrentBatchConfig;function Gc(l,u,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var v=g.stateNode}if(!v)throw Error(n(147,l));var x=v,R=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===R?u.ref:(u=function(O){var F=x.refs;O===null?delete F[R]:F[R]=O},u._stringRef=R,u)}if(typeof l!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,l))}return l}function mf(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function US(l){var u=l._init;return u(l._payload)}function $S(l){function u(Y,V){if(l){var X=Y.deletions;X===null?(Y.deletions=[V],Y.flags|=16):X.push(V)}}function g(Y,V){if(!l)return null;for(;V!==null;)u(Y,V),V=V.sibling;return null}function v(Y,V){for(Y=new Map;V!==null;)V.key!==null?Y.set(V.key,V):Y.set(V.index,V),V=V.sibling;return Y}function x(Y,V){return Y=go(Y,V),Y.index=0,Y.sibling=null,Y}function R(Y,V,X){return Y.index=X,l?(X=Y.alternate,X!==null?(X=X.index,X<V?(Y.flags|=2,V):X):(Y.flags|=2,V)):(Y.flags|=1048576,V)}function O(Y){return l&&Y.alternate===null&&(Y.flags|=2),Y}function F(Y,V,X,ye){return V===null||V.tag!==6?(V=xv(X,Y.mode,ye),V.return=Y,V):(V=x(V,X),V.return=Y,V)}function H(Y,V,X,ye){var Me=X.type;return Me===M?he(Y,V,X.props.children,ye,X.key):V!==null&&(V.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ee&&US(Me)===V.type)?(ye=x(V,X.props),ye.ref=Gc(Y,V,X),ye.return=Y,ye):(ye=$f(X.type,X.key,X.props,null,Y.mode,ye),ye.ref=Gc(Y,V,X),ye.return=Y,ye)}function ne(Y,V,X,ye){return V===null||V.tag!==4||V.stateNode.containerInfo!==X.containerInfo||V.stateNode.implementation!==X.implementation?(V=Ev(X,Y.mode,ye),V.return=Y,V):(V=x(V,X.children||[]),V.return=Y,V)}function he(Y,V,X,ye,Me){return V===null||V.tag!==7?(V=da(X,Y.mode,ye,Me),V.return=Y,V):(V=x(V,X),V.return=Y,V)}function me(Y,V,X){if(typeof V=="string"&&V!==""||typeof V=="number")return V=xv(""+V,Y.mode,X),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return X=$f(V.type,V.key,V.props,null,Y.mode,X),X.ref=Gc(Y,null,V),X.return=Y,X;case I:return V=Ev(V,Y.mode,X),V.return=Y,V;case ee:var ye=V._init;return me(Y,ye(V._payload),X)}if(N(V)||B(V))return V=da(V,Y.mode,X,null),V.return=Y,V;mf(Y,V)}return null}function de(Y,V,X,ye){var Me=V!==null?V.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Me!==null?null:F(Y,V,""+X,ye);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===Me?H(Y,V,X,ye):null;case I:return X.key===Me?ne(Y,V,X,ye):null;case ee:return Me=X._init,de(Y,V,Me(X._payload),ye)}if(N(X)||B(X))return Me!==null?null:he(Y,V,X,ye,null);mf(Y,X)}return null}function Ee(Y,V,X,ye,Me){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Y=Y.get(X)||null,F(V,Y,""+ye,Me);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case A:return Y=Y.get(ye.key===null?X:ye.key)||null,H(V,Y,ye,Me);case I:return Y=Y.get(ye.key===null?X:ye.key)||null,ne(V,Y,ye,Me);case ee:var Fe=ye._init;return Ee(Y,V,X,Fe(ye._payload),Me)}if(N(ye)||B(ye))return Y=Y.get(X)||null,he(V,Y,ye,Me,null);mf(V,ye)}return null}function Te(Y,V,X,ye){for(var Me=null,Fe=null,Le=V,We=V=0,Pn=null;Le!==null&&We<X.length;We++){Le.index>We?(Pn=Le,Le=null):Pn=Le.sibling;var vt=de(Y,Le,X[We],ye);if(vt===null){Le===null&&(Le=Pn);break}l&&Le&&vt.alternate===null&&u(Y,Le),V=R(vt,V,We),Fe===null?Me=vt:Fe.sibling=vt,Fe=vt,Le=Pn}if(We===X.length)return g(Y,Le),zt&&ra(Y,We),Me;if(Le===null){for(;We<X.length;We++)Le=me(Y,X[We],ye),Le!==null&&(V=R(Le,V,We),Fe===null?Me=Le:Fe.sibling=Le,Fe=Le);return zt&&ra(Y,We),Me}for(Le=v(Y,Le);We<X.length;We++)Pn=Ee(Le,Y,We,X[We],ye),Pn!==null&&(l&&Pn.alternate!==null&&Le.delete(Pn.key===null?We:Pn.key),V=R(Pn,V,We),Fe===null?Me=Pn:Fe.sibling=Pn,Fe=Pn);return l&&Le.forEach(function(po){return u(Y,po)}),zt&&ra(Y,We),Me}function De(Y,V,X,ye){var Me=B(X);if(typeof Me!="function")throw Error(n(150));if(X=Me.call(X),X==null)throw Error(n(151));for(var Fe=Me=null,Le=V,We=V=0,Pn=null,vt=X.next();Le!==null&&!vt.done;We++,vt=X.next()){Le.index>We?(Pn=Le,Le=null):Pn=Le.sibling;var po=de(Y,Le,vt.value,ye);if(po===null){Le===null&&(Le=Pn);break}l&&Le&&po.alternate===null&&u(Y,Le),V=R(po,V,We),Fe===null?Me=po:Fe.sibling=po,Fe=po,Le=Pn}if(vt.done)return g(Y,Le),zt&&ra(Y,We),Me;if(Le===null){for(;!vt.done;We++,vt=X.next())vt=me(Y,vt.value,ye),vt!==null&&(V=R(vt,V,We),Fe===null?Me=vt:Fe.sibling=vt,Fe=vt);return zt&&ra(Y,We),Me}for(Le=v(Y,Le);!vt.done;We++,vt=X.next())vt=Ee(Le,Y,We,vt.value,ye),vt!==null&&(l&&vt.alternate!==null&&Le.delete(vt.key===null?We:vt.key),V=R(vt,V,We),Fe===null?Me=vt:Fe.sibling=vt,Fe=vt);return l&&Le.forEach(function(DF){return u(Y,DF)}),zt&&ra(Y,We),Me}function dn(Y,V,X,ye){if(typeof X=="object"&&X!==null&&X.type===M&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:e:{for(var Me=X.key,Fe=V;Fe!==null;){if(Fe.key===Me){if(Me=X.type,Me===M){if(Fe.tag===7){g(Y,Fe.sibling),V=x(Fe,X.props.children),V.return=Y,Y=V;break e}}else if(Fe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ee&&US(Me)===Fe.type){g(Y,Fe.sibling),V=x(Fe,X.props),V.ref=Gc(Y,Fe,X),V.return=Y,Y=V;break e}g(Y,Fe);break}else u(Y,Fe);Fe=Fe.sibling}X.type===M?(V=da(X.props.children,Y.mode,ye,X.key),V.return=Y,Y=V):(ye=$f(X.type,X.key,X.props,null,Y.mode,ye),ye.ref=Gc(Y,V,X),ye.return=Y,Y=ye)}return O(Y);case I:e:{for(Fe=X.key;V!==null;){if(V.key===Fe)if(V.tag===4&&V.stateNode.containerInfo===X.containerInfo&&V.stateNode.implementation===X.implementation){g(Y,V.sibling),V=x(V,X.children||[]),V.return=Y,Y=V;break e}else{g(Y,V);break}else u(Y,V);V=V.sibling}V=Ev(X,Y.mode,ye),V.return=Y,Y=V}return O(Y);case ee:return Fe=X._init,dn(Y,V,Fe(X._payload),ye)}if(N(X))return Te(Y,V,X,ye);if(B(X))return De(Y,V,X,ye);mf(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,V!==null&&V.tag===6?(g(Y,V.sibling),V=x(V,X),V.return=Y,Y=V):(g(Y,V),V=xv(X,Y.mode,ye),V.return=Y,Y=V),O(Y)):g(Y,V)}return dn}var gl=$S(!0),BS=$S(!1),vf=ro(null),yf=null,pl=null,Mm=null;function Nm(){Mm=pl=yf=null}function Pm(l){var u=vf.current;Lt(vf),l._currentValue=u}function jm(l,u,g){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===g)break;l=l.return}}function ml(l,u){yf=l,Mm=pl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Sr=!0),l.firstContext=null)}function Xr(l){var u=l._currentValue;if(Mm!==l)if(l={context:l,memoizedValue:u,next:null},pl===null){if(yf===null)throw Error(n(308));pl=l,yf.dependencies={lanes:0,firstContext:l}}else pl=pl.next=l;return u}var sa=null;function Fm(l){sa===null?sa=[l]:sa.push(l)}function zS(l,u,g,v){var x=u.interleaved;return x===null?(g.next=g,Fm(u)):(g.next=x.next,x.next=g),u.interleaved=g,_i(l,v)}function _i(l,u){l.lanes|=u;var g=l.alternate;for(g!==null&&(g.lanes|=u),g=l,l=l.return;l!==null;)l.childLanes|=u,g=l.alternate,g!==null&&(g.childLanes|=u),g=l,l=l.return;return g.tag===3?g.stateNode:null}var oo=!1;function Lm(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HS(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Si(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ao(l,u,g){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(gt&2)!==0){var x=v.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),v.pending=u,_i(l,g)}return x=v.interleaved,x===null?(u.next=u,Fm(v)):(u.next=x.next,x.next=u),v.interleaved=u,_i(l,g)}function bf(l,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194240)!==0)){var v=u.lanes;v&=l.pendingLanes,g|=v,u.lanes=g,Zp(l,g)}}function VS(l,u){var g=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var x=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var O={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};R===null?x=R=O:R=R.next=O,g=g.next}while(g!==null);R===null?x=R=u:R=R.next=u}else x=R=u;g={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:R,shared:v.shared,effects:v.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=u:l.next=u,g.lastBaseUpdate=u}function wf(l,u,g,v){var x=l.updateQueue;oo=!1;var R=x.firstBaseUpdate,O=x.lastBaseUpdate,F=x.shared.pending;if(F!==null){x.shared.pending=null;var H=F,ne=H.next;H.next=null,O===null?R=ne:O.next=ne,O=H;var he=l.alternate;he!==null&&(he=he.updateQueue,F=he.lastBaseUpdate,F!==O&&(F===null?he.firstBaseUpdate=ne:F.next=ne,he.lastBaseUpdate=H))}if(R!==null){var me=x.baseState;O=0,he=ne=H=null,F=R;do{var de=F.lane,Ee=F.eventTime;if((v&de)===de){he!==null&&(he=he.next={eventTime:Ee,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Te=l,De=F;switch(de=u,Ee=g,De.tag){case 1:if(Te=De.payload,typeof Te=="function"){me=Te.call(Ee,me,de);break e}me=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=De.payload,de=typeof Te=="function"?Te.call(Ee,me,de):Te,de==null)break e;me=Z({},me,de);break e;case 2:oo=!0}}F.callback!==null&&F.lane!==0&&(l.flags|=64,de=x.effects,de===null?x.effects=[F]:de.push(F))}else Ee={eventTime:Ee,lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},he===null?(ne=he=Ee,H=me):he=he.next=Ee,O|=de;if(F=F.next,F===null){if(F=x.shared.pending,F===null)break;de=F,F=de.next,de.next=null,x.lastBaseUpdate=de,x.shared.pending=null}}while(!0);if(he===null&&(H=me),x.baseState=H,x.firstBaseUpdate=ne,x.lastBaseUpdate=he,u=x.shared.interleaved,u!==null){x=u;do O|=x.lane,x=x.next;while(x!==u)}else R===null&&(x.shared.lanes=0);aa|=O,l.lanes=O,l.memoizedState=me}}function WS(l,u,g){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],x=v.callback;if(x!==null){if(v.callback=null,v=g,typeof x!="function")throw Error(n(191,x));x.call(v)}}}var Kc={},Gs=ro(Kc),Yc=ro(Kc),Qc=ro(Kc);function ia(l){if(l===Kc)throw Error(n(174));return l}function Um(l,u){switch(Nt(Qc,u),Nt(Yc,l),Nt(Gs,Kc),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:ve(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=ve(u,l)}Lt(Gs),Nt(Gs,u)}function vl(){Lt(Gs),Lt(Yc),Lt(Qc)}function qS(l){ia(Qc.current);var u=ia(Gs.current),g=ve(u,l.type);u!==g&&(Nt(Yc,l),Nt(Gs,g))}function $m(l){Yc.current===l&&(Lt(Gs),Lt(Yc))}var Yt=ro(0);function _f(l){for(var u=l;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Bm=[];function zm(){for(var l=0;l<Bm.length;l++)Bm[l]._workInProgressVersionPrimary=null;Bm.length=0}var Sf=k.ReactCurrentDispatcher,Hm=k.ReactCurrentBatchConfig,oa=0,Qt=null,wn=null,Mn=null,xf=!1,Xc=!1,Zc=0,Zj=0;function Yn(){throw Error(n(321))}function Vm(l,u){if(u===null)return!1;for(var g=0;g<u.length&&g<l.length;g++)if(!ys(l[g],u[g]))return!1;return!0}function Wm(l,u,g,v,x,R){if(oa=R,Qt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Sf.current=l===null||l.memoizedState===null?nF:rF,l=g(v,x),Xc){R=0;do{if(Xc=!1,Zc=0,25<=R)throw Error(n(301));R+=1,Mn=wn=null,u.updateQueue=null,Sf.current=sF,l=g(v,x)}while(Xc)}if(Sf.current=Rf,u=wn!==null&&wn.next!==null,oa=0,Mn=wn=Qt=null,xf=!1,u)throw Error(n(300));return l}function qm(){var l=Zc!==0;return Zc=0,l}function Ks(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?Qt.memoizedState=Mn=l:Mn=Mn.next=l,Mn}function Zr(){if(wn===null){var l=Qt.alternate;l=l!==null?l.memoizedState:null}else l=wn.next;var u=Mn===null?Qt.memoizedState:Mn.next;if(u!==null)Mn=u,wn=l;else{if(l===null)throw Error(n(310));wn=l,l={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},Mn===null?Qt.memoizedState=Mn=l:Mn=Mn.next=l}return Mn}function Jc(l,u){return typeof u=="function"?u(l):u}function Gm(l){var u=Zr(),g=u.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var v=wn,x=v.baseQueue,R=g.pending;if(R!==null){if(x!==null){var O=x.next;x.next=R.next,R.next=O}v.baseQueue=x=R,g.pending=null}if(x!==null){R=x.next,v=v.baseState;var F=O=null,H=null,ne=R;do{var he=ne.lane;if((oa&he)===he)H!==null&&(H=H.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),v=ne.hasEagerState?ne.eagerState:l(v,ne.action);else{var me={lane:he,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};H===null?(F=H=me,O=v):H=H.next=me,Qt.lanes|=he,aa|=he}ne=ne.next}while(ne!==null&&ne!==R);H===null?O=v:H.next=F,ys(v,u.memoizedState)||(Sr=!0),u.memoizedState=v,u.baseState=O,u.baseQueue=H,g.lastRenderedState=v}if(l=g.interleaved,l!==null){x=l;do R=x.lane,Qt.lanes|=R,aa|=R,x=x.next;while(x!==l)}else x===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function Km(l){var u=Zr(),g=u.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var v=g.dispatch,x=g.pending,R=u.memoizedState;if(x!==null){g.pending=null;var O=x=x.next;do R=l(R,O.action),O=O.next;while(O!==x);ys(R,u.memoizedState)||(Sr=!0),u.memoizedState=R,u.baseQueue===null&&(u.baseState=R),g.lastRenderedState=R}return[R,v]}function GS(){}function KS(l,u){var g=Qt,v=Zr(),x=u(),R=!ys(v.memoizedState,x);if(R&&(v.memoizedState=x,Sr=!0),v=v.queue,Ym(XS.bind(null,g,v,l),[l]),v.getSnapshot!==u||R||Mn!==null&&Mn.memoizedState.tag&1){if(g.flags|=2048,eu(9,QS.bind(null,g,v,x,u),void 0,null),Nn===null)throw Error(n(349));(oa&30)!==0||YS(g,u,x)}return x}function YS(l,u,g){l.flags|=16384,l={getSnapshot:u,value:g},u=Qt.updateQueue,u===null?(u={lastEffect:null,stores:null},Qt.updateQueue=u,u.stores=[l]):(g=u.stores,g===null?u.stores=[l]:g.push(l))}function QS(l,u,g,v){u.value=g,u.getSnapshot=v,ZS(u)&&JS(l)}function XS(l,u,g){return g(function(){ZS(u)&&JS(l)})}function ZS(l){var u=l.getSnapshot;l=l.value;try{var g=u();return!ys(l,g)}catch{return!0}}function JS(l){var u=_i(l,1);u!==null&&xs(u,l,1,-1)}function ex(l){var u=Ks();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:l},u.queue=l,l=l.dispatch=tF.bind(null,Qt,l),[u.memoizedState,l]}function eu(l,u,g,v){return l={tag:l,create:u,destroy:g,deps:v,next:null},u=Qt.updateQueue,u===null?(u={lastEffect:null,stores:null},Qt.updateQueue=u,u.lastEffect=l.next=l):(g=u.lastEffect,g===null?u.lastEffect=l.next=l:(v=g.next,g.next=l,l.next=v,u.lastEffect=l)),l}function tx(){return Zr().memoizedState}function Ef(l,u,g,v){var x=Ks();Qt.flags|=l,x.memoizedState=eu(1|u,g,void 0,v===void 0?null:v)}function Cf(l,u,g,v){var x=Zr();v=v===void 0?null:v;var R=void 0;if(wn!==null){var O=wn.memoizedState;if(R=O.destroy,v!==null&&Vm(v,O.deps)){x.memoizedState=eu(u,g,R,v);return}}Qt.flags|=l,x.memoizedState=eu(1|u,g,R,v)}function nx(l,u){return Ef(8390656,8,l,u)}function Ym(l,u){return Cf(2048,8,l,u)}function rx(l,u){return Cf(4,2,l,u)}function sx(l,u){return Cf(4,4,l,u)}function ix(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function ox(l,u,g){return g=g!=null?g.concat([l]):null,Cf(4,4,ix.bind(null,u,l),g)}function Qm(){}function ax(l,u){var g=Zr();u=u===void 0?null:u;var v=g.memoizedState;return v!==null&&u!==null&&Vm(u,v[1])?v[0]:(g.memoizedState=[l,u],l)}function lx(l,u){var g=Zr();u=u===void 0?null:u;var v=g.memoizedState;return v!==null&&u!==null&&Vm(u,v[1])?v[0]:(l=l(),g.memoizedState=[l,u],l)}function cx(l,u,g){return(oa&21)===0?(l.baseState&&(l.baseState=!1,Sr=!0),l.memoizedState=g):(ys(g,u)||(g=U_(),Qt.lanes|=g,aa|=g,l.baseState=!0),u)}function Jj(l,u){var g=Ct;Ct=g!==0&&4>g?g:4,l(!0);var v=Hm.transition;Hm.transition={};try{l(!1),u()}finally{Ct=g,Hm.transition=v}}function ux(){return Zr().memoizedState}function eF(l,u,g){var v=fo(l);if(g={lane:v,action:g,hasEagerState:!1,eagerState:null,next:null},dx(l))fx(u,g);else if(g=zS(l,u,g,v),g!==null){var x=lr();xs(g,l,v,x),hx(g,u,v)}}function tF(l,u,g){var v=fo(l),x={lane:v,action:g,hasEagerState:!1,eagerState:null,next:null};if(dx(l))fx(u,x);else{var R=l.alternate;if(l.lanes===0&&(R===null||R.lanes===0)&&(R=u.lastRenderedReducer,R!==null))try{var O=u.lastRenderedState,F=R(O,g);if(x.hasEagerState=!0,x.eagerState=F,ys(F,O)){var H=u.interleaved;H===null?(x.next=x,Fm(u)):(x.next=H.next,H.next=x),u.interleaved=x;return}}catch{}finally{}g=zS(l,u,x,v),g!==null&&(x=lr(),xs(g,l,v,x),hx(g,u,v))}}function dx(l){var u=l.alternate;return l===Qt||u!==null&&u===Qt}function fx(l,u){Xc=xf=!0;var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}function hx(l,u,g){if((g&4194240)!==0){var v=u.lanes;v&=l.pendingLanes,g|=v,u.lanes=g,Zp(l,g)}}var Rf={readContext:Xr,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},nF={readContext:Xr,useCallback:function(l,u){return Ks().memoizedState=[l,u===void 0?null:u],l},useContext:Xr,useEffect:nx,useImperativeHandle:function(l,u,g){return g=g!=null?g.concat([l]):null,Ef(4194308,4,ix.bind(null,u,l),g)},useLayoutEffect:function(l,u){return Ef(4194308,4,l,u)},useInsertionEffect:function(l,u){return Ef(4,2,l,u)},useMemo:function(l,u){var g=Ks();return u=u===void 0?null:u,l=l(),g.memoizedState=[l,u],l},useReducer:function(l,u,g){var v=Ks();return u=g!==void 0?g(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=eF.bind(null,Qt,l),[v.memoizedState,l]},useRef:function(l){var u=Ks();return l={current:l},u.memoizedState=l},useState:ex,useDebugValue:Qm,useDeferredValue:function(l){return Ks().memoizedState=l},useTransition:function(){var l=ex(!1),u=l[0];return l=Jj.bind(null,l[1]),Ks().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,g){var v=Qt,x=Ks();if(zt){if(g===void 0)throw Error(n(407));g=g()}else{if(g=u(),Nn===null)throw Error(n(349));(oa&30)!==0||YS(v,u,g)}x.memoizedState=g;var R={value:g,getSnapshot:u};return x.queue=R,nx(XS.bind(null,v,R,l),[l]),v.flags|=2048,eu(9,QS.bind(null,v,R,g,u),void 0,null),g},useId:function(){var l=Ks(),u=Nn.identifierPrefix;if(zt){var g=wi,v=bi;g=(v&~(1<<32-vs(v)-1)).toString(32)+g,u=":"+u+"R"+g,g=Zc++,0<g&&(u+="H"+g.toString(32)),u+=":"}else g=Zj++,u=":"+u+"r"+g.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},rF={readContext:Xr,useCallback:ax,useContext:Xr,useEffect:Ym,useImperativeHandle:ox,useInsertionEffect:rx,useLayoutEffect:sx,useMemo:lx,useReducer:Gm,useRef:tx,useState:function(){return Gm(Jc)},useDebugValue:Qm,useDeferredValue:function(l){var u=Zr();return cx(u,wn.memoizedState,l)},useTransition:function(){var l=Gm(Jc)[0],u=Zr().memoizedState;return[l,u]},useMutableSource:GS,useSyncExternalStore:KS,useId:ux,unstable_isNewReconciler:!1},sF={readContext:Xr,useCallback:ax,useContext:Xr,useEffect:Ym,useImperativeHandle:ox,useInsertionEffect:rx,useLayoutEffect:sx,useMemo:lx,useReducer:Km,useRef:tx,useState:function(){return Km(Jc)},useDebugValue:Qm,useDeferredValue:function(l){var u=Zr();return wn===null?u.memoizedState=l:cx(u,wn.memoizedState,l)},useTransition:function(){var l=Km(Jc)[0],u=Zr().memoizedState;return[l,u]},useMutableSource:GS,useSyncExternalStore:KS,useId:ux,unstable_isNewReconciler:!1};function ws(l,u){if(l&&l.defaultProps){u=Z({},u),l=l.defaultProps;for(var g in l)u[g]===void 0&&(u[g]=l[g]);return u}return u}function Xm(l,u,g,v){u=l.memoizedState,g=g(v,u),g=g==null?u:Z({},u,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Tf={isMounted:function(l){return(l=l._reactInternals)?Jo(l)===l:!1},enqueueSetState:function(l,u,g){l=l._reactInternals;var v=lr(),x=fo(l),R=Si(v,x);R.payload=u,g!=null&&(R.callback=g),u=ao(l,R,x),u!==null&&(xs(u,l,x,v),bf(u,l,x))},enqueueReplaceState:function(l,u,g){l=l._reactInternals;var v=lr(),x=fo(l),R=Si(v,x);R.tag=1,R.payload=u,g!=null&&(R.callback=g),u=ao(l,R,x),u!==null&&(xs(u,l,x,v),bf(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var g=lr(),v=fo(l),x=Si(g,v);x.tag=2,u!=null&&(x.callback=u),u=ao(l,x,v),u!==null&&(xs(u,l,v,g),bf(u,l,v))}};function gx(l,u,g,v,x,R,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,R,O):u.prototype&&u.prototype.isPureReactComponent?!$c(g,v)||!$c(x,R):!0}function px(l,u,g){var v=!1,x=so,R=u.contextType;return typeof R=="object"&&R!==null?R=Xr(R):(x=_r(u)?ta:Kn.current,v=u.contextTypes,R=(v=v!=null)?ul(l,x):so),u=new u(g,R),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Tf,l.stateNode=u,u._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=R),u}function mx(l,u,g,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,v),u.state!==l&&Tf.enqueueReplaceState(u,u.state,null)}function Zm(l,u,g,v){var x=l.stateNode;x.props=g,x.state=l.memoizedState,x.refs={},Lm(l);var R=u.contextType;typeof R=="object"&&R!==null?x.context=Xr(R):(R=_r(u)?ta:Kn.current,x.context=ul(l,R)),x.state=l.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(Xm(l,u,R,g),x.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Tf.enqueueReplaceState(x,x.state,null),wf(l,g,x,v),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308)}function yl(l,u){try{var g="",v=u;do g+=Se(v),v=v.return;while(v);var x=g}catch(R){x=`
Error generating stack: `+R.message+`
`+R.stack}return{value:l,source:u,stack:x,digest:null}}function Jm(l,u,g){return{value:l,source:null,stack:g??null,digest:u??null}}function ev(l,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var iF=typeof WeakMap=="function"?WeakMap:Map;function vx(l,u,g){g=Si(-1,g),g.tag=3,g.payload={element:null};var v=u.value;return g.callback=function(){Nf||(Nf=!0,pv=v),ev(l,u)},g}function yx(l,u,g){g=Si(-1,g),g.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;g.payload=function(){return v(x)},g.callback=function(){ev(l,u)}}var R=l.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(g.callback=function(){ev(l,u),typeof v!="function"&&(co===null?co=new Set([this]):co.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})}),g}function bx(l,u,g){var v=l.pingCache;if(v===null){v=l.pingCache=new iF;var x=new Set;v.set(u,x)}else x=v.get(u),x===void 0&&(x=new Set,v.set(u,x));x.has(g)||(x.add(g),l=bF.bind(null,l,u,g),u.then(l,l))}function wx(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function _x(l,u,g,v,x){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(u=Si(-1,1),u.tag=2,ao(g,u,1))),g.lanes|=1),l):(l.flags|=65536,l.lanes=x,l)}var oF=k.ReactCurrentOwner,Sr=!1;function ar(l,u,g,v){u.child=l===null?BS(u,null,g,v):gl(u,l.child,g,v)}function Sx(l,u,g,v,x){g=g.render;var R=u.ref;return ml(u,x),v=Wm(l,u,g,v,R,x),g=qm(),l!==null&&!Sr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,xi(l,u,x)):(zt&&g&&Am(u),u.flags|=1,ar(l,u,v,x),u.child)}function xx(l,u,g,v,x){if(l===null){var R=g.type;return typeof R=="function"&&!Sv(R)&&R.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(u.tag=15,u.type=R,Ex(l,u,R,v,x)):(l=$f(g.type,null,v,u,u.mode,x),l.ref=u.ref,l.return=u,u.child=l)}if(R=l.child,(l.lanes&x)===0){var O=R.memoizedProps;if(g=g.compare,g=g!==null?g:$c,g(O,v)&&l.ref===u.ref)return xi(l,u,x)}return u.flags|=1,l=go(R,v),l.ref=u.ref,l.return=u,u.child=l}function Ex(l,u,g,v,x){if(l!==null){var R=l.memoizedProps;if($c(R,v)&&l.ref===u.ref)if(Sr=!1,u.pendingProps=v=R,(l.lanes&x)!==0)(l.flags&131072)!==0&&(Sr=!0);else return u.lanes=l.lanes,xi(l,u,x)}return tv(l,u,g,v,x)}function Cx(l,u,g){var v=u.pendingProps,x=v.children,R=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(wl,Ur),Ur|=g;else{if((g&1073741824)===0)return l=R!==null?R.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Nt(wl,Ur),Ur|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=R!==null?R.baseLanes:g,Nt(wl,Ur),Ur|=v}else R!==null?(v=R.baseLanes|g,u.memoizedState=null):v=g,Nt(wl,Ur),Ur|=v;return ar(l,u,x,g),u.child}function Rx(l,u){var g=u.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function tv(l,u,g,v,x){var R=_r(g)?ta:Kn.current;return R=ul(u,R),ml(u,x),g=Wm(l,u,g,v,R,x),v=qm(),l!==null&&!Sr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,xi(l,u,x)):(zt&&v&&Am(u),u.flags|=1,ar(l,u,g,x),u.child)}function Tx(l,u,g,v,x){if(_r(g)){var R=!0;df(u)}else R=!1;if(ml(u,x),u.stateNode===null)kf(l,u),px(u,g,v),Zm(u,g,v,x),v=!0;else if(l===null){var O=u.stateNode,F=u.memoizedProps;O.props=F;var H=O.context,ne=g.contextType;typeof ne=="object"&&ne!==null?ne=Xr(ne):(ne=_r(g)?ta:Kn.current,ne=ul(u,ne));var he=g.getDerivedStateFromProps,me=typeof he=="function"||typeof O.getSnapshotBeforeUpdate=="function";me||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(F!==v||H!==ne)&&mx(u,O,v,ne),oo=!1;var de=u.memoizedState;O.state=de,wf(u,v,O,x),H=u.memoizedState,F!==v||de!==H||wr.current||oo?(typeof he=="function"&&(Xm(u,g,he,v),H=u.memoizedState),(F=oo||gx(u,g,F,v,de,H,ne))?(me||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=H),O.props=v,O.state=H,O.context=ne,v=F):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{O=u.stateNode,HS(l,u),F=u.memoizedProps,ne=u.type===u.elementType?F:ws(u.type,F),O.props=ne,me=u.pendingProps,de=O.context,H=g.contextType,typeof H=="object"&&H!==null?H=Xr(H):(H=_r(g)?ta:Kn.current,H=ul(u,H));var Ee=g.getDerivedStateFromProps;(he=typeof Ee=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(F!==me||de!==H)&&mx(u,O,v,H),oo=!1,de=u.memoizedState,O.state=de,wf(u,v,O,x);var Te=u.memoizedState;F!==me||de!==Te||wr.current||oo?(typeof Ee=="function"&&(Xm(u,g,Ee,v),Te=u.memoizedState),(ne=oo||gx(u,g,ne,v,de,Te,H)||!1)?(he||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,Te,H),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,Te,H)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||F===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||F===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Te),O.props=v,O.state=Te,O.context=H,v=ne):(typeof O.componentDidUpdate!="function"||F===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||F===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),v=!1)}return nv(l,u,g,v,R,x)}function nv(l,u,g,v,x,R){Rx(l,u);var O=(u.flags&128)!==0;if(!v&&!O)return x&&IS(u,g,!1),xi(l,u,R);v=u.stateNode,oF.current=u;var F=O&&typeof g.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&O?(u.child=gl(u,l.child,null,R),u.child=gl(u,null,F,R)):ar(l,u,F,R),u.memoizedState=v.state,x&&IS(u,g,!0),u.child}function Ax(l){var u=l.stateNode;u.pendingContext?DS(l,u.pendingContext,u.pendingContext!==u.context):u.context&&DS(l,u.context,!1),Um(l,u.containerInfo)}function kx(l,u,g,v,x){return hl(),Im(x),u.flags|=256,ar(l,u,g,v),u.child}var rv={dehydrated:null,treeContext:null,retryLane:0};function sv(l){return{baseLanes:l,cachePool:null,transitions:null}}function Dx(l,u,g){var v=u.pendingProps,x=Yt.current,R=!1,O=(u.flags&128)!==0,F;if((F=O)||(F=l!==null&&l.memoizedState===null?!1:(x&2)!==0),F?(R=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(x|=1),Nt(Yt,x&1),l===null)return Om(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(O=v.children,l=v.fallback,R?(v=u.mode,R=u.child,O={mode:"hidden",children:O},(v&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=O):R=Bf(O,v,0,null),l=da(l,v,g,null),R.return=u,l.return=u,R.sibling=l,u.child=R,u.child.memoizedState=sv(g),u.memoizedState=rv,l):iv(u,O));if(x=l.memoizedState,x!==null&&(F=x.dehydrated,F!==null))return aF(l,u,O,v,F,x,g);if(R){R=v.fallback,O=u.mode,x=l.child,F=x.sibling;var H={mode:"hidden",children:v.children};return(O&1)===0&&u.child!==x?(v=u.child,v.childLanes=0,v.pendingProps=H,u.deletions=null):(v=go(x,H),v.subtreeFlags=x.subtreeFlags&14680064),F!==null?R=go(F,R):(R=da(R,O,g,null),R.flags|=2),R.return=u,v.return=u,v.sibling=R,u.child=v,v=R,R=u.child,O=l.child.memoizedState,O=O===null?sv(g):{baseLanes:O.baseLanes|g,cachePool:null,transitions:O.transitions},R.memoizedState=O,R.childLanes=l.childLanes&~g,u.memoizedState=rv,v}return R=l.child,l=R.sibling,v=go(R,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=g),v.return=u,v.sibling=null,l!==null&&(g=u.deletions,g===null?(u.deletions=[l],u.flags|=16):g.push(l)),u.child=v,u.memoizedState=null,v}function iv(l,u){return u=Bf({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Af(l,u,g,v){return v!==null&&Im(v),gl(u,l.child,null,g),l=iv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function aF(l,u,g,v,x,R,O){if(g)return u.flags&256?(u.flags&=-257,v=Jm(Error(n(422))),Af(l,u,O,v)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(R=v.fallback,x=u.mode,v=Bf({mode:"visible",children:v.children},x,0,null),R=da(R,x,O,null),R.flags|=2,v.return=u,R.return=u,v.sibling=R,u.child=v,(u.mode&1)!==0&&gl(u,l.child,null,O),u.child.memoizedState=sv(O),u.memoizedState=rv,R);if((u.mode&1)===0)return Af(l,u,O,null);if(x.data==="$!"){if(v=x.nextSibling&&x.nextSibling.dataset,v)var F=v.dgst;return v=F,R=Error(n(419)),v=Jm(R,v,void 0),Af(l,u,O,v)}if(F=(O&l.childLanes)!==0,Sr||F){if(v=Nn,v!==null){switch(O&-O){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(v.suspendedLanes|O))!==0?0:x,x!==0&&x!==R.retryLane&&(R.retryLane=x,_i(l,x),xs(v,l,x,-1))}return _v(),v=Jm(Error(n(421))),Af(l,u,O,v)}return x.data==="$?"?(u.flags|=128,u.child=l.child,u=wF.bind(null,l),x._reactRetry=u,null):(l=R.treeContext,Lr=no(x.nextSibling),Fr=u,zt=!0,bs=null,l!==null&&(Yr[Qr++]=bi,Yr[Qr++]=wi,Yr[Qr++]=na,bi=l.id,wi=l.overflow,na=u),u=iv(u,v.children),u.flags|=4096,u)}function Ox(l,u,g){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),jm(l.return,u,g)}function ov(l,u,g,v,x){var R=l.memoizedState;R===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:x}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=v,R.tail=g,R.tailMode=x)}function Ix(l,u,g){var v=u.pendingProps,x=v.revealOrder,R=v.tail;if(ar(l,u,v.children,g),v=Yt.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Ox(l,g,u);else if(l.tag===19)Ox(l,g,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Nt(Yt,v),(u.mode&1)===0)u.memoizedState=null;else switch(x){case"forwards":for(g=u.child,x=null;g!==null;)l=g.alternate,l!==null&&_f(l)===null&&(x=g),g=g.sibling;g=x,g===null?(x=u.child,u.child=null):(x=g.sibling,g.sibling=null),ov(u,!1,x,g,R);break;case"backwards":for(g=null,x=u.child,u.child=null;x!==null;){if(l=x.alternate,l!==null&&_f(l)===null){u.child=x;break}l=x.sibling,x.sibling=g,g=x,x=l}ov(u,!0,g,null,R);break;case"together":ov(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function kf(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function xi(l,u,g){if(l!==null&&(u.dependencies=l.dependencies),aa|=u.lanes,(g&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,g=go(l,l.pendingProps),u.child=g,g.return=u;l.sibling!==null;)l=l.sibling,g=g.sibling=go(l,l.pendingProps),g.return=u;g.sibling=null}return u.child}function lF(l,u,g){switch(u.tag){case 3:Ax(u),hl();break;case 5:qS(u);break;case 1:_r(u.type)&&df(u);break;case 4:Um(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,x=u.memoizedProps.value;Nt(vf,v._currentValue),v._currentValue=x;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(Nt(Yt,Yt.current&1),u.flags|=128,null):(g&u.child.childLanes)!==0?Dx(l,u,g):(Nt(Yt,Yt.current&1),l=xi(l,u,g),l!==null?l.sibling:null);Nt(Yt,Yt.current&1);break;case 19:if(v=(g&u.childLanes)!==0,(l.flags&128)!==0){if(v)return Ix(l,u,g);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Nt(Yt,Yt.current),v)break;return null;case 22:case 23:return u.lanes=0,Cx(l,u,g)}return xi(l,u,g)}var Mx,av,Nx,Px;Mx=function(l,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)l.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},av=function(){},Nx=function(l,u,g,v){var x=l.memoizedProps;if(x!==v){l=u.stateNode,ia(Gs.current);var R=null;switch(g){case"input":x=Ce(l,x),v=Ce(l,v),R=[];break;case"select":x=Z({},x,{value:void 0}),v=Z({},v,{value:void 0}),R=[];break;case"textarea":x=K(l,x),v=K(l,v),R=[];break;default:typeof x.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=lf)}rt(g,v);var O;g=null;for(ne in x)if(!v.hasOwnProperty(ne)&&x.hasOwnProperty(ne)&&x[ne]!=null)if(ne==="style"){var F=x[ne];for(O in F)F.hasOwnProperty(O)&&(g||(g={}),g[O]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?R||(R=[]):(R=R||[]).push(ne,null));for(ne in v){var H=v[ne];if(F=x?.[ne],v.hasOwnProperty(ne)&&H!==F&&(H!=null||F!=null))if(ne==="style")if(F){for(O in F)!F.hasOwnProperty(O)||H&&H.hasOwnProperty(O)||(g||(g={}),g[O]="");for(O in H)H.hasOwnProperty(O)&&F[O]!==H[O]&&(g||(g={}),g[O]=H[O])}else g||(R||(R=[]),R.push(ne,g)),g=H;else ne==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,F=F?F.__html:void 0,H!=null&&F!==H&&(R=R||[]).push(ne,H)):ne==="children"?typeof H!="string"&&typeof H!="number"||(R=R||[]).push(ne,""+H):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(H!=null&&ne==="onScroll"&&Ft("scroll",l),R||F===H||(R=[])):(R=R||[]).push(ne,H))}g&&(R=R||[]).push("style",g);var ne=R;(u.updateQueue=ne)&&(u.flags|=4)}},Px=function(l,u,g,v){g!==v&&(u.flags|=4)};function tu(l,u){if(!zt)switch(l.tailMode){case"hidden":u=l.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Qn(l){var u=l.alternate!==null&&l.alternate.child===l.child,g=0,v=0;if(u)for(var x=l.child;x!==null;)g|=x.lanes|x.childLanes,v|=x.subtreeFlags&14680064,v|=x.flags&14680064,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)g|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=v,l.childLanes=g,u}function cF(l,u,g){var v=u.pendingProps;switch(km(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(u),null;case 1:return _r(u.type)&&uf(),Qn(u),null;case 3:return v=u.stateNode,vl(),Lt(wr),Lt(Kn),zm(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(pf(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,bs!==null&&(yv(bs),bs=null))),av(l,u),Qn(u),null;case 5:$m(u);var x=ia(Qc.current);if(g=u.type,l!==null&&u.stateNode!=null)Nx(l,u,g,v,x),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(n(166));return Qn(u),null}if(l=ia(Gs.current),pf(u)){v=u.stateNode,g=u.type;var R=u.memoizedProps;switch(v[qs]=u,v[Wc]=R,l=(u.mode&1)!==0,g){case"dialog":Ft("cancel",v),Ft("close",v);break;case"iframe":case"object":case"embed":Ft("load",v);break;case"video":case"audio":for(x=0;x<zc.length;x++)Ft(zc[x],v);break;case"source":Ft("error",v);break;case"img":case"image":case"link":Ft("error",v),Ft("load",v);break;case"details":Ft("toggle",v);break;case"input":Ge(v,R),Ft("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!R.multiple},Ft("invalid",v);break;case"textarea":q(v,R),Ft("invalid",v)}rt(g,R),x=null;for(var O in R)if(R.hasOwnProperty(O)){var F=R[O];O==="children"?typeof F=="string"?v.textContent!==F&&(R.suppressHydrationWarning!==!0&&af(v.textContent,F,l),x=["children",F]):typeof F=="number"&&v.textContent!==""+F&&(R.suppressHydrationWarning!==!0&&af(v.textContent,F,l),x=["children",""+F]):s.hasOwnProperty(O)&&F!=null&&O==="onScroll"&&Ft("scroll",v)}switch(g){case"input":xt(v),gn(v,R,!0);break;case"textarea":xt(v),ae(v);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(v.onclick=lf)}v=x,u.updateQueue=v,v!==null&&(u.flags|=4)}else{O=x.nodeType===9?x:x.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=pe(g)),l==="http://www.w3.org/1999/xhtml"?g==="script"?(l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=O.createElement(g,{is:v.is}):(l=O.createElement(g),g==="select"&&(O=l,v.multiple?O.multiple=!0:v.size&&(O.size=v.size))):l=O.createElementNS(l,g),l[qs]=u,l[Wc]=v,Mx(l,u,!1,!1),u.stateNode=l;e:{switch(O=Gt(g,v),g){case"dialog":Ft("cancel",l),Ft("close",l),x=v;break;case"iframe":case"object":case"embed":Ft("load",l),x=v;break;case"video":case"audio":for(x=0;x<zc.length;x++)Ft(zc[x],l);x=v;break;case"source":Ft("error",l),x=v;break;case"img":case"image":case"link":Ft("error",l),Ft("load",l),x=v;break;case"details":Ft("toggle",l),x=v;break;case"input":Ge(l,v),x=Ce(l,v),Ft("invalid",l);break;case"option":x=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},x=Z({},v,{value:void 0}),Ft("invalid",l);break;case"textarea":q(l,v),x=K(l,v),Ft("invalid",l);break;default:x=v}rt(g,x),F=x;for(R in F)if(F.hasOwnProperty(R)){var H=F[R];R==="style"?Gn(l,H):R==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ne(l,H)):R==="children"?typeof H=="string"?(g!=="textarea"||H!=="")&&Ke(l,H):typeof H=="number"&&Ke(l,""+H):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(s.hasOwnProperty(R)?H!=null&&R==="onScroll"&&Ft("scroll",l):H!=null&&T(l,R,H,O))}switch(g){case"input":xt(l),gn(l,v,!1);break;case"textarea":xt(l),ae(l);break;case"option":v.value!=null&&l.setAttribute("value",""+fe(v.value));break;case"select":l.multiple=!!v.multiple,R=v.value,R!=null?W(l,!!v.multiple,R,!1):v.defaultValue!=null&&W(l,!!v.multiple,v.defaultValue,!0);break;default:typeof x.onClick=="function"&&(l.onclick=lf)}switch(g){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Qn(u),null;case 6:if(l&&u.stateNode!=null)Px(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(n(166));if(g=ia(Qc.current),ia(Gs.current),pf(u)){if(v=u.stateNode,g=u.memoizedProps,v[qs]=u,(R=v.nodeValue!==g)&&(l=Fr,l!==null))switch(l.tag){case 3:af(v.nodeValue,g,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&af(v.nodeValue,g,(l.mode&1)!==0)}R&&(u.flags|=4)}else v=(g.nodeType===9?g:g.ownerDocument).createTextNode(v),v[qs]=u,u.stateNode=v}return Qn(u),null;case 13:if(Lt(Yt),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(zt&&Lr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)LS(),hl(),u.flags|=98560,R=!1;else if(R=pf(u),v!==null&&v.dehydrated!==null){if(l===null){if(!R)throw Error(n(318));if(R=u.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(n(317));R[qs]=u}else hl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Qn(u),R=!1}else bs!==null&&(yv(bs),bs=null),R=!0;if(!R)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=g,u):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Yt.current&1)!==0?_n===0&&(_n=3):_v())),u.updateQueue!==null&&(u.flags|=4),Qn(u),null);case 4:return vl(),av(l,u),l===null&&Hc(u.stateNode.containerInfo),Qn(u),null;case 10:return Pm(u.type._context),Qn(u),null;case 17:return _r(u.type)&&uf(),Qn(u),null;case 19:if(Lt(Yt),R=u.memoizedState,R===null)return Qn(u),null;if(v=(u.flags&128)!==0,O=R.rendering,O===null)if(v)tu(R,!1);else{if(_n!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(O=_f(l),O!==null){for(u.flags|=128,tu(R,!1),v=O.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=g,g=u.child;g!==null;)R=g,l=v,R.flags&=14680066,O=R.alternate,O===null?(R.childLanes=0,R.lanes=l,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=O.childLanes,R.lanes=O.lanes,R.child=O.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=O.memoizedProps,R.memoizedState=O.memoizedState,R.updateQueue=O.updateQueue,R.type=O.type,l=O.dependencies,R.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),g=g.sibling;return Nt(Yt,Yt.current&1|2),u.child}l=l.sibling}R.tail!==null&&un()>_l&&(u.flags|=128,v=!0,tu(R,!1),u.lanes=4194304)}else{if(!v)if(l=_f(O),l!==null){if(u.flags|=128,v=!0,g=l.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),tu(R,!0),R.tail===null&&R.tailMode==="hidden"&&!O.alternate&&!zt)return Qn(u),null}else 2*un()-R.renderingStartTime>_l&&g!==1073741824&&(u.flags|=128,v=!0,tu(R,!1),u.lanes=4194304);R.isBackwards?(O.sibling=u.child,u.child=O):(g=R.last,g!==null?g.sibling=O:u.child=O,R.last=O)}return R.tail!==null?(u=R.tail,R.rendering=u,R.tail=u.sibling,R.renderingStartTime=un(),u.sibling=null,g=Yt.current,Nt(Yt,v?g&1|2:g&1),u):(Qn(u),null);case 22:case 23:return wv(),v=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(Ur&1073741824)!==0&&(Qn(u),u.subtreeFlags&6&&(u.flags|=8192)):Qn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function uF(l,u){switch(km(u),u.tag){case 1:return _r(u.type)&&uf(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return vl(),Lt(wr),Lt(Kn),zm(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return $m(u),null;case 13:if(Lt(Yt),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));hl()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Lt(Yt),null;case 4:return vl(),null;case 10:return Pm(u.type._context),null;case 22:case 23:return wv(),null;case 24:return null;default:return null}}var Df=!1,Xn=!1,dF=typeof WeakSet=="function"?WeakSet:Set,Re=null;function bl(l,u){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(v){nn(l,u,v)}else g.current=null}function lv(l,u,g){try{g()}catch(v){nn(l,u,v)}}var jx=!1;function fF(l,u){if(wm=Yd,l=gS(),fm(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var x=v.anchorOffset,R=v.focusNode;v=v.focusOffset;try{g.nodeType,R.nodeType}catch{g=null;break e}var O=0,F=-1,H=-1,ne=0,he=0,me=l,de=null;t:for(;;){for(var Ee;me!==g||x!==0&&me.nodeType!==3||(F=O+x),me!==R||v!==0&&me.nodeType!==3||(H=O+v),me.nodeType===3&&(O+=me.nodeValue.length),(Ee=me.firstChild)!==null;)de=me,me=Ee;for(;;){if(me===l)break t;if(de===g&&++ne===x&&(F=O),de===R&&++he===v&&(H=O),(Ee=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=Ee}g=F===-1||H===-1?null:{start:F,end:H}}else g=null}g=g||{start:0,end:0}}else g=null;for(_m={focusedElem:l,selectionRange:g},Yd=!1,Re=u;Re!==null;)if(u=Re,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Re=l;else for(;Re!==null;){u=Re;try{var Te=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var De=Te.memoizedProps,dn=Te.memoizedState,Y=u.stateNode,V=Y.getSnapshotBeforeUpdate(u.elementType===u.type?De:ws(u.type,De),dn);Y.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var X=u.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){nn(u,u.return,ye)}if(l=u.sibling,l!==null){l.return=u.return,Re=l;break}Re=u.return}return Te=jx,jx=!1,Te}function nu(l,u,g){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var x=v=v.next;do{if((x.tag&l)===l){var R=x.destroy;x.destroy=void 0,R!==void 0&&lv(u,g,R)}x=x.next}while(x!==v)}}function Of(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&l)===l){var v=g.create;g.destroy=v()}g=g.next}while(g!==u)}}function cv(l){var u=l.ref;if(u!==null){var g=l.stateNode;switch(l.tag){case 5:l=g;break;default:l=g}typeof u=="function"?u(l):u.current=l}}function Fx(l){var u=l.alternate;u!==null&&(l.alternate=null,Fx(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[qs],delete u[Wc],delete u[Cm],delete u[Kj],delete u[Yj])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Lx(l){return l.tag===5||l.tag===3||l.tag===4}function Ux(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Lx(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function uv(l,u,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?g.nodeType===8?g.parentNode.insertBefore(l,u):g.insertBefore(l,u):(g.nodeType===8?(u=g.parentNode,u.insertBefore(l,g)):(u=g,u.appendChild(l)),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=lf));else if(v!==4&&(l=l.child,l!==null))for(uv(l,u,g),l=l.sibling;l!==null;)uv(l,u,g),l=l.sibling}function dv(l,u,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?g.insertBefore(l,u):g.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(dv(l,u,g),l=l.sibling;l!==null;)dv(l,u,g),l=l.sibling}var Vn=null,_s=!1;function lo(l,u,g){for(g=g.child;g!==null;)$x(l,u,g),g=g.sibling}function $x(l,u,g){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(Hd,g)}catch{}switch(g.tag){case 5:Xn||bl(g,u);case 6:var v=Vn,x=_s;Vn=null,lo(l,u,g),Vn=v,_s=x,Vn!==null&&(_s?(l=Vn,g=g.stateNode,l.nodeType===8?l.parentNode.removeChild(g):l.removeChild(g)):Vn.removeChild(g.stateNode));break;case 18:Vn!==null&&(_s?(l=Vn,g=g.stateNode,l.nodeType===8?Em(l.parentNode,g):l.nodeType===1&&Em(l,g),Nc(l)):Em(Vn,g.stateNode));break;case 4:v=Vn,x=_s,Vn=g.stateNode.containerInfo,_s=!0,lo(l,u,g),Vn=v,_s=x;break;case 0:case 11:case 14:case 15:if(!Xn&&(v=g.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){x=v=v.next;do{var R=x,O=R.destroy;R=R.tag,O!==void 0&&((R&2)!==0||(R&4)!==0)&&lv(g,u,O),x=x.next}while(x!==v)}lo(l,u,g);break;case 1:if(!Xn&&(bl(g,u),v=g.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=g.memoizedProps,v.state=g.memoizedState,v.componentWillUnmount()}catch(F){nn(g,u,F)}lo(l,u,g);break;case 21:lo(l,u,g);break;case 22:g.mode&1?(Xn=(v=Xn)||g.memoizedState!==null,lo(l,u,g),Xn=v):lo(l,u,g);break;default:lo(l,u,g)}}function Bx(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new dF),u.forEach(function(v){var x=_F.bind(null,l,v);g.has(v)||(g.add(v),v.then(x,x))})}}function Ss(l,u){var g=u.deletions;if(g!==null)for(var v=0;v<g.length;v++){var x=g[v];try{var R=l,O=u,F=O;e:for(;F!==null;){switch(F.tag){case 5:Vn=F.stateNode,_s=!1;break e;case 3:Vn=F.stateNode.containerInfo,_s=!0;break e;case 4:Vn=F.stateNode.containerInfo,_s=!0;break e}F=F.return}if(Vn===null)throw Error(n(160));$x(R,O,x),Vn=null,_s=!1;var H=x.alternate;H!==null&&(H.return=null),x.return=null}catch(ne){nn(x,u,ne)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)zx(u,l),u=u.sibling}function zx(l,u){var g=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Ss(u,l),Ys(l),v&4){try{nu(3,l,l.return),Of(3,l)}catch(De){nn(l,l.return,De)}try{nu(5,l,l.return)}catch(De){nn(l,l.return,De)}}break;case 1:Ss(u,l),Ys(l),v&512&&g!==null&&bl(g,g.return);break;case 5:if(Ss(u,l),Ys(l),v&512&&g!==null&&bl(g,g.return),l.flags&32){var x=l.stateNode;try{Ke(x,"")}catch(De){nn(l,l.return,De)}}if(v&4&&(x=l.stateNode,x!=null)){var R=l.memoizedProps,O=g!==null?g.memoizedProps:R,F=l.type,H=l.updateQueue;if(l.updateQueue=null,H!==null)try{F==="input"&&R.type==="radio"&&R.name!=null&&nt(x,R),Gt(F,O);var ne=Gt(F,R);for(O=0;O<H.length;O+=2){var he=H[O],me=H[O+1];he==="style"?Gn(x,me):he==="dangerouslySetInnerHTML"?Ne(x,me):he==="children"?Ke(x,me):T(x,he,me,ne)}switch(F){case"input":kt(x,R);break;case"textarea":se(x,R);break;case"select":var de=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!R.multiple;var Ee=R.value;Ee!=null?W(x,!!R.multiple,Ee,!1):de!==!!R.multiple&&(R.defaultValue!=null?W(x,!!R.multiple,R.defaultValue,!0):W(x,!!R.multiple,R.multiple?[]:"",!1))}x[Wc]=R}catch(De){nn(l,l.return,De)}}break;case 6:if(Ss(u,l),Ys(l),v&4){if(l.stateNode===null)throw Error(n(162));x=l.stateNode,R=l.memoizedProps;try{x.nodeValue=R}catch(De){nn(l,l.return,De)}}break;case 3:if(Ss(u,l),Ys(l),v&4&&g!==null&&g.memoizedState.isDehydrated)try{Nc(u.containerInfo)}catch(De){nn(l,l.return,De)}break;case 4:Ss(u,l),Ys(l);break;case 13:Ss(u,l),Ys(l),x=l.child,x.flags&8192&&(R=x.memoizedState!==null,x.stateNode.isHidden=R,!R||x.alternate!==null&&x.alternate.memoizedState!==null||(gv=un())),v&4&&Bx(l);break;case 22:if(he=g!==null&&g.memoizedState!==null,l.mode&1?(Xn=(ne=Xn)||he,Ss(u,l),Xn=ne):Ss(u,l),Ys(l),v&8192){if(ne=l.memoizedState!==null,(l.stateNode.isHidden=ne)&&!he&&(l.mode&1)!==0)for(Re=l,he=l.child;he!==null;){for(me=Re=he;Re!==null;){switch(de=Re,Ee=de.child,de.tag){case 0:case 11:case 14:case 15:nu(4,de,de.return);break;case 1:bl(de,de.return);var Te=de.stateNode;if(typeof Te.componentWillUnmount=="function"){v=de,g=de.return;try{u=v,Te.props=u.memoizedProps,Te.state=u.memoizedState,Te.componentWillUnmount()}catch(De){nn(v,g,De)}}break;case 5:bl(de,de.return);break;case 22:if(de.memoizedState!==null){Wx(me);continue}}Ee!==null?(Ee.return=de,Re=Ee):Wx(me)}he=he.sibling}e:for(he=null,me=l;;){if(me.tag===5){if(he===null){he=me;try{x=me.stateNode,ne?(R=x.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(F=me.stateNode,H=me.memoizedProps.style,O=H!=null&&H.hasOwnProperty("display")?H.display:null,F.style.display=ct("display",O))}catch(De){nn(l,l.return,De)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(De){nn(l,l.return,De)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===l)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===l)break e;for(;me.sibling===null;){if(me.return===null||me.return===l)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Ss(u,l),Ys(l),v&4&&Bx(l);break;case 21:break;default:Ss(u,l),Ys(l)}}function Ys(l){var u=l.flags;if(u&2){try{e:{for(var g=l.return;g!==null;){if(Lx(g)){var v=g;break e}g=g.return}throw Error(n(160))}switch(v.tag){case 5:var x=v.stateNode;v.flags&32&&(Ke(x,""),v.flags&=-33);var R=Ux(l);dv(l,R,x);break;case 3:case 4:var O=v.stateNode.containerInfo,F=Ux(l);uv(l,F,O);break;default:throw Error(n(161))}}catch(H){nn(l,l.return,H)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function hF(l,u,g){Re=l,Hx(l)}function Hx(l,u,g){for(var v=(l.mode&1)!==0;Re!==null;){var x=Re,R=x.child;if(x.tag===22&&v){var O=x.memoizedState!==null||Df;if(!O){var F=x.alternate,H=F!==null&&F.memoizedState!==null||Xn;F=Df;var ne=Xn;if(Df=O,(Xn=H)&&!ne)for(Re=x;Re!==null;)O=Re,H=O.child,O.tag===22&&O.memoizedState!==null?qx(x):H!==null?(H.return=O,Re=H):qx(x);for(;R!==null;)Re=R,Hx(R),R=R.sibling;Re=x,Df=F,Xn=ne}Vx(l)}else(x.subtreeFlags&8772)!==0&&R!==null?(R.return=x,Re=R):Vx(l)}}function Vx(l){for(;Re!==null;){var u=Re;if((u.flags&8772)!==0){var g=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Xn||Of(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Xn)if(g===null)v.componentDidMount();else{var x=u.elementType===u.type?g.memoizedProps:ws(u.type,g.memoizedProps);v.componentDidUpdate(x,g.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var R=u.updateQueue;R!==null&&WS(u,R,v);break;case 3:var O=u.updateQueue;if(O!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}WS(u,O,g)}break;case 5:var F=u.stateNode;if(g===null&&u.flags&4){g=F;var H=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&g.focus();break;case"img":H.src&&(g.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ne=u.alternate;if(ne!==null){var he=ne.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&Nc(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xn||u.flags&512&&cv(u)}catch(de){nn(u,u.return,de)}}if(u===l){Re=null;break}if(g=u.sibling,g!==null){g.return=u.return,Re=g;break}Re=u.return}}function Wx(l){for(;Re!==null;){var u=Re;if(u===l){Re=null;break}var g=u.sibling;if(g!==null){g.return=u.return,Re=g;break}Re=u.return}}function qx(l){for(;Re!==null;){var u=Re;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{Of(4,u)}catch(H){nn(u,g,H)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var x=u.return;try{v.componentDidMount()}catch(H){nn(u,x,H)}}var R=u.return;try{cv(u)}catch(H){nn(u,R,H)}break;case 5:var O=u.return;try{cv(u)}catch(H){nn(u,O,H)}}}catch(H){nn(u,u.return,H)}if(u===l){Re=null;break}var F=u.sibling;if(F!==null){F.return=u.return,Re=F;break}Re=u.return}}var gF=Math.ceil,If=k.ReactCurrentDispatcher,fv=k.ReactCurrentOwner,Jr=k.ReactCurrentBatchConfig,gt=0,Nn=null,pn=null,Wn=0,Ur=0,wl=ro(0),_n=0,ru=null,aa=0,Mf=0,hv=0,su=null,xr=null,gv=0,_l=1/0,Ei=null,Nf=!1,pv=null,co=null,Pf=!1,uo=null,jf=0,iu=0,mv=null,Ff=-1,Lf=0;function lr(){return(gt&6)!==0?un():Ff!==-1?Ff:Ff=un()}function fo(l){return(l.mode&1)===0?1:(gt&2)!==0&&Wn!==0?Wn&-Wn:Xj.transition!==null?(Lf===0&&(Lf=U_()),Lf):(l=Ct,l!==0||(l=window.event,l=l===void 0?16:K_(l.type)),l)}function xs(l,u,g,v){if(50<iu)throw iu=0,mv=null,Error(n(185));kc(l,g,v),((gt&2)===0||l!==Nn)&&(l===Nn&&((gt&2)===0&&(Mf|=g),_n===4&&ho(l,Wn)),Er(l,v),g===1&&gt===0&&(u.mode&1)===0&&(_l=un()+500,ff&&io()))}function Er(l,u){var g=l.callbackNode;XP(l,u);var v=qd(l,l===Nn?Wn:0);if(v===0)g!==null&&j_(g),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(g!=null&&j_(g),u===1)l.tag===0?Qj(Kx.bind(null,l)):MS(Kx.bind(null,l)),qj(function(){(gt&6)===0&&io()}),g=null;else{switch($_(v)){case 1:g=Yp;break;case 4:g=F_;break;case 16:g=zd;break;case 536870912:g=L_;break;default:g=zd}g=nE(g,Gx.bind(null,l))}l.callbackPriority=u,l.callbackNode=g}}function Gx(l,u){if(Ff=-1,Lf=0,(gt&6)!==0)throw Error(n(327));var g=l.callbackNode;if(Sl()&&l.callbackNode!==g)return null;var v=qd(l,l===Nn?Wn:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||u)u=Uf(l,v);else{u=v;var x=gt;gt|=2;var R=Qx();(Nn!==l||Wn!==u)&&(Ei=null,_l=un()+500,ca(l,u));do try{vF();break}catch(F){Yx(l,F)}while(!0);Nm(),If.current=R,gt=x,pn!==null?u=0:(Nn=null,Wn=0,u=_n)}if(u!==0){if(u===2&&(x=Qp(l),x!==0&&(v=x,u=vv(l,x))),u===1)throw g=ru,ca(l,0),ho(l,v),Er(l,un()),g;if(u===6)ho(l,v);else{if(x=l.current.alternate,(v&30)===0&&!pF(x)&&(u=Uf(l,v),u===2&&(R=Qp(l),R!==0&&(v=R,u=vv(l,R))),u===1))throw g=ru,ca(l,0),ho(l,v),Er(l,un()),g;switch(l.finishedWork=x,l.finishedLanes=v,u){case 0:case 1:throw Error(n(345));case 2:ua(l,xr,Ei);break;case 3:if(ho(l,v),(v&130023424)===v&&(u=gv+500-un(),10<u)){if(qd(l,0)!==0)break;if(x=l.suspendedLanes,(x&v)!==v){lr(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=xm(ua.bind(null,l,xr,Ei),u);break}ua(l,xr,Ei);break;case 4:if(ho(l,v),(v&4194240)===v)break;for(u=l.eventTimes,x=-1;0<v;){var O=31-vs(v);R=1<<O,O=u[O],O>x&&(x=O),v&=~R}if(v=x,v=un()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*gF(v/1960))-v,10<v){l.timeoutHandle=xm(ua.bind(null,l,xr,Ei),v);break}ua(l,xr,Ei);break;case 5:ua(l,xr,Ei);break;default:throw Error(n(329))}}}return Er(l,un()),l.callbackNode===g?Gx.bind(null,l):null}function vv(l,u){var g=su;return l.current.memoizedState.isDehydrated&&(ca(l,u).flags|=256),l=Uf(l,u),l!==2&&(u=xr,xr=g,u!==null&&yv(u)),l}function yv(l){xr===null?xr=l:xr.push.apply(xr,l)}function pF(l){for(var u=l;;){if(u.flags&16384){var g=u.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var v=0;v<g.length;v++){var x=g[v],R=x.getSnapshot;x=x.value;try{if(!ys(R(),x))return!1}catch{return!1}}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ho(l,u){for(u&=~hv,u&=~Mf,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var g=31-vs(u),v=1<<g;l[g]=-1,u&=~v}}function Kx(l){if((gt&6)!==0)throw Error(n(327));Sl();var u=qd(l,0);if((u&1)===0)return Er(l,un()),null;var g=Uf(l,u);if(l.tag!==0&&g===2){var v=Qp(l);v!==0&&(u=v,g=vv(l,v))}if(g===1)throw g=ru,ca(l,0),ho(l,u),Er(l,un()),g;if(g===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ua(l,xr,Ei),Er(l,un()),null}function bv(l,u){var g=gt;gt|=1;try{return l(u)}finally{gt=g,gt===0&&(_l=un()+500,ff&&io())}}function la(l){uo!==null&&uo.tag===0&&(gt&6)===0&&Sl();var u=gt;gt|=1;var g=Jr.transition,v=Ct;try{if(Jr.transition=null,Ct=1,l)return l()}finally{Ct=v,Jr.transition=g,gt=u,(gt&6)===0&&io()}}function wv(){Ur=wl.current,Lt(wl)}function ca(l,u){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==-1&&(l.timeoutHandle=-1,Wj(g)),pn!==null)for(g=pn.return;g!==null;){var v=g;switch(km(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&uf();break;case 3:vl(),Lt(wr),Lt(Kn),zm();break;case 5:$m(v);break;case 4:vl();break;case 13:Lt(Yt);break;case 19:Lt(Yt);break;case 10:Pm(v.type._context);break;case 22:case 23:wv()}g=g.return}if(Nn=l,pn=l=go(l.current,null),Wn=Ur=u,_n=0,ru=null,hv=Mf=aa=0,xr=su=null,sa!==null){for(u=0;u<sa.length;u++)if(g=sa[u],v=g.interleaved,v!==null){g.interleaved=null;var x=v.next,R=g.pending;if(R!==null){var O=R.next;R.next=x,v.next=O}g.pending=v}sa=null}return l}function Yx(l,u){do{var g=pn;try{if(Nm(),Sf.current=Rf,xf){for(var v=Qt.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}xf=!1}if(oa=0,Mn=wn=Qt=null,Xc=!1,Zc=0,fv.current=null,g===null||g.return===null){_n=1,ru=u,pn=null;break}e:{var R=l,O=g.return,F=g,H=u;if(u=Wn,F.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ne=H,he=F,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ee=wx(O);if(Ee!==null){Ee.flags&=-257,_x(Ee,O,F,R,u),Ee.mode&1&&bx(R,ne,u),u=Ee,H=ne;var Te=u.updateQueue;if(Te===null){var De=new Set;De.add(H),u.updateQueue=De}else Te.add(H);break e}else{if((u&1)===0){bx(R,ne,u),_v();break e}H=Error(n(426))}}else if(zt&&F.mode&1){var dn=wx(O);if(dn!==null){(dn.flags&65536)===0&&(dn.flags|=256),_x(dn,O,F,R,u),Im(yl(H,F));break e}}R=H=yl(H,F),_n!==4&&(_n=2),su===null?su=[R]:su.push(R),R=O;do{switch(R.tag){case 3:R.flags|=65536,u&=-u,R.lanes|=u;var Y=vx(R,H,u);VS(R,Y);break e;case 1:F=H;var V=R.type,X=R.stateNode;if((R.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(co===null||!co.has(X)))){R.flags|=65536,u&=-u,R.lanes|=u;var ye=yx(R,F,u);VS(R,ye);break e}}R=R.return}while(R!==null)}Zx(g)}catch(Me){u=Me,pn===g&&g!==null&&(pn=g=g.return);continue}break}while(!0)}function Qx(){var l=If.current;return If.current=Rf,l===null?Rf:l}function _v(){(_n===0||_n===3||_n===2)&&(_n=4),Nn===null||(aa&268435455)===0&&(Mf&268435455)===0||ho(Nn,Wn)}function Uf(l,u){var g=gt;gt|=2;var v=Qx();(Nn!==l||Wn!==u)&&(Ei=null,ca(l,u));do try{mF();break}catch(x){Yx(l,x)}while(!0);if(Nm(),gt=g,If.current=v,pn!==null)throw Error(n(261));return Nn=null,Wn=0,_n}function mF(){for(;pn!==null;)Xx(pn)}function vF(){for(;pn!==null&&!zP();)Xx(pn)}function Xx(l){var u=tE(l.alternate,l,Ur);l.memoizedProps=l.pendingProps,u===null?Zx(l):pn=u,fv.current=null}function Zx(l){var u=l;do{var g=u.alternate;if(l=u.return,(u.flags&32768)===0){if(g=cF(g,u,Ur),g!==null){pn=g;return}}else{if(g=uF(g,u),g!==null){g.flags&=32767,pn=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{_n=6,pn=null;return}}if(u=u.sibling,u!==null){pn=u;return}pn=u=l}while(u!==null);_n===0&&(_n=5)}function ua(l,u,g){var v=Ct,x=Jr.transition;try{Jr.transition=null,Ct=1,yF(l,u,g,v)}finally{Jr.transition=x,Ct=v}return null}function yF(l,u,g,v){do Sl();while(uo!==null);if((gt&6)!==0)throw Error(n(327));g=l.finishedWork;var x=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var R=g.lanes|g.childLanes;if(ZP(l,R),l===Nn&&(pn=Nn=null,Wn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Pf||(Pf=!0,nE(zd,function(){return Sl(),null})),R=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||R){R=Jr.transition,Jr.transition=null;var O=Ct;Ct=1;var F=gt;gt|=4,fv.current=null,fF(l,g),zx(g,l),Lj(_m),Yd=!!wm,_m=wm=null,l.current=g,hF(g),HP(),gt=F,Ct=O,Jr.transition=R}else l.current=g;if(Pf&&(Pf=!1,uo=l,jf=x),R=l.pendingLanes,R===0&&(co=null),qP(g.stateNode),Er(l,un()),u!==null)for(v=l.onRecoverableError,g=0;g<u.length;g++)x=u[g],v(x.value,{componentStack:x.stack,digest:x.digest});if(Nf)throw Nf=!1,l=pv,pv=null,l;return(jf&1)!==0&&l.tag!==0&&Sl(),R=l.pendingLanes,(R&1)!==0?l===mv?iu++:(iu=0,mv=l):iu=0,io(),null}function Sl(){if(uo!==null){var l=$_(jf),u=Jr.transition,g=Ct;try{if(Jr.transition=null,Ct=16>l?16:l,uo===null)var v=!1;else{if(l=uo,uo=null,jf=0,(gt&6)!==0)throw Error(n(331));var x=gt;for(gt|=4,Re=l.current;Re!==null;){var R=Re,O=R.child;if((Re.flags&16)!==0){var F=R.deletions;if(F!==null){for(var H=0;H<F.length;H++){var ne=F[H];for(Re=ne;Re!==null;){var he=Re;switch(he.tag){case 0:case 11:case 15:nu(8,he,R)}var me=he.child;if(me!==null)me.return=he,Re=me;else for(;Re!==null;){he=Re;var de=he.sibling,Ee=he.return;if(Fx(he),he===ne){Re=null;break}if(de!==null){de.return=Ee,Re=de;break}Re=Ee}}}var Te=R.alternate;if(Te!==null){var De=Te.child;if(De!==null){Te.child=null;do{var dn=De.sibling;De.sibling=null,De=dn}while(De!==null)}}Re=R}}if((R.subtreeFlags&2064)!==0&&O!==null)O.return=R,Re=O;else e:for(;Re!==null;){if(R=Re,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:nu(9,R,R.return)}var Y=R.sibling;if(Y!==null){Y.return=R.return,Re=Y;break e}Re=R.return}}var V=l.current;for(Re=V;Re!==null;){O=Re;var X=O.child;if((O.subtreeFlags&2064)!==0&&X!==null)X.return=O,Re=X;else e:for(O=V;Re!==null;){if(F=Re,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Of(9,F)}}catch(Me){nn(F,F.return,Me)}if(F===O){Re=null;break e}var ye=F.sibling;if(ye!==null){ye.return=F.return,Re=ye;break e}Re=F.return}}if(gt=x,io(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(Hd,l)}catch{}v=!0}return v}finally{Ct=g,Jr.transition=u}}return!1}function Jx(l,u,g){u=yl(g,u),u=vx(l,u,1),l=ao(l,u,1),u=lr(),l!==null&&(kc(l,1,u),Er(l,u))}function nn(l,u,g){if(l.tag===3)Jx(l,l,g);else for(;u!==null;){if(u.tag===3){Jx(u,l,g);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(co===null||!co.has(v))){l=yl(g,l),l=yx(u,l,1),u=ao(u,l,1),l=lr(),u!==null&&(kc(u,1,l),Er(u,l));break}}u=u.return}}function bF(l,u,g){var v=l.pingCache;v!==null&&v.delete(u),u=lr(),l.pingedLanes|=l.suspendedLanes&g,Nn===l&&(Wn&g)===g&&(_n===4||_n===3&&(Wn&130023424)===Wn&&500>un()-gv?ca(l,0):hv|=g),Er(l,u)}function eE(l,u){u===0&&((l.mode&1)===0?u=1:(u=Wd,Wd<<=1,(Wd&130023424)===0&&(Wd=4194304)));var g=lr();l=_i(l,u),l!==null&&(kc(l,u,g),Er(l,g))}function wF(l){var u=l.memoizedState,g=0;u!==null&&(g=u.retryLane),eE(l,g)}function _F(l,u){var g=0;switch(l.tag){case 13:var v=l.stateNode,x=l.memoizedState;x!==null&&(g=x.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(u),eE(l,g)}var tE;tE=function(l,u,g){if(l!==null)if(l.memoizedProps!==u.pendingProps||wr.current)Sr=!0;else{if((l.lanes&g)===0&&(u.flags&128)===0)return Sr=!1,lF(l,u,g);Sr=(l.flags&131072)!==0}else Sr=!1,zt&&(u.flags&1048576)!==0&&NS(u,gf,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;kf(l,u),l=u.pendingProps;var x=ul(u,Kn.current);ml(u,g),x=Wm(null,u,v,l,x,g);var R=qm();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,_r(v)?(R=!0,df(u)):R=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Lm(u),x.updater=Tf,u.stateNode=x,x._reactInternals=u,Zm(u,v,l,g),u=nv(null,u,v,!0,R,g)):(u.tag=0,zt&&R&&Am(u),ar(null,u,x,g),u=u.child),u;case 16:v=u.elementType;e:{switch(kf(l,u),l=u.pendingProps,x=v._init,v=x(v._payload),u.type=v,x=u.tag=xF(v),l=ws(v,l),x){case 0:u=tv(null,u,v,l,g);break e;case 1:u=Tx(null,u,v,l,g);break e;case 11:u=Sx(null,u,v,l,g);break e;case 14:u=xx(null,u,v,ws(v.type,l),g);break e}throw Error(n(306,v,""))}return u;case 0:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:ws(v,x),tv(l,u,v,x,g);case 1:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:ws(v,x),Tx(l,u,v,x,g);case 3:e:{if(Ax(u),l===null)throw Error(n(387));v=u.pendingProps,R=u.memoizedState,x=R.element,HS(l,u),wf(u,v,null,g);var O=u.memoizedState;if(v=O.element,R.isDehydrated)if(R={element:v,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},u.updateQueue.baseState=R,u.memoizedState=R,u.flags&256){x=yl(Error(n(423)),u),u=kx(l,u,v,g,x);break e}else if(v!==x){x=yl(Error(n(424)),u),u=kx(l,u,v,g,x);break e}else for(Lr=no(u.stateNode.containerInfo.firstChild),Fr=u,zt=!0,bs=null,g=BS(u,null,v,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(hl(),v===x){u=xi(l,u,g);break e}ar(l,u,v,g)}u=u.child}return u;case 5:return qS(u),l===null&&Om(u),v=u.type,x=u.pendingProps,R=l!==null?l.memoizedProps:null,O=x.children,Sm(v,x)?O=null:R!==null&&Sm(v,R)&&(u.flags|=32),Rx(l,u),ar(l,u,O,g),u.child;case 6:return l===null&&Om(u),null;case 13:return Dx(l,u,g);case 4:return Um(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=gl(u,null,v,g):ar(l,u,v,g),u.child;case 11:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:ws(v,x),Sx(l,u,v,x,g);case 7:return ar(l,u,u.pendingProps,g),u.child;case 8:return ar(l,u,u.pendingProps.children,g),u.child;case 12:return ar(l,u,u.pendingProps.children,g),u.child;case 10:e:{if(v=u.type._context,x=u.pendingProps,R=u.memoizedProps,O=x.value,Nt(vf,v._currentValue),v._currentValue=O,R!==null)if(ys(R.value,O)){if(R.children===x.children&&!wr.current){u=xi(l,u,g);break e}}else for(R=u.child,R!==null&&(R.return=u);R!==null;){var F=R.dependencies;if(F!==null){O=R.child;for(var H=F.firstContext;H!==null;){if(H.context===v){if(R.tag===1){H=Si(-1,g&-g),H.tag=2;var ne=R.updateQueue;if(ne!==null){ne=ne.shared;var he=ne.pending;he===null?H.next=H:(H.next=he.next,he.next=H),ne.pending=H}}R.lanes|=g,H=R.alternate,H!==null&&(H.lanes|=g),jm(R.return,g,u),F.lanes|=g;break}H=H.next}}else if(R.tag===10)O=R.type===u.type?null:R.child;else if(R.tag===18){if(O=R.return,O===null)throw Error(n(341));O.lanes|=g,F=O.alternate,F!==null&&(F.lanes|=g),jm(O,g,u),O=R.sibling}else O=R.child;if(O!==null)O.return=R;else for(O=R;O!==null;){if(O===u){O=null;break}if(R=O.sibling,R!==null){R.return=O.return,O=R;break}O=O.return}R=O}ar(l,u,x.children,g),u=u.child}return u;case 9:return x=u.type,v=u.pendingProps.children,ml(u,g),x=Xr(x),v=v(x),u.flags|=1,ar(l,u,v,g),u.child;case 14:return v=u.type,x=ws(v,u.pendingProps),x=ws(v.type,x),xx(l,u,v,x,g);case 15:return Ex(l,u,u.type,u.pendingProps,g);case 17:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:ws(v,x),kf(l,u),u.tag=1,_r(v)?(l=!0,df(u)):l=!1,ml(u,g),px(u,v,x),Zm(u,v,x,g),nv(null,u,v,!0,l,g);case 19:return Ix(l,u,g);case 22:return Cx(l,u,g)}throw Error(n(156,u.tag))};function nE(l,u){return P_(l,u)}function SF(l,u,g,v){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(l,u,g,v){return new SF(l,u,g,v)}function Sv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function xF(l){if(typeof l=="function")return Sv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===G)return 11;if(l===ce)return 14}return 2}function go(l,u){var g=l.alternate;return g===null?(g=es(l.tag,u,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=u,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,u=l.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function $f(l,u,g,v,x,R){var O=2;if(v=l,typeof l=="function")Sv(l)&&(O=1);else if(typeof l=="string")O=5;else e:switch(l){case M:return da(g.children,x,R,u);case D:O=8,x|=8;break;case P:return l=es(12,g,u,x|2),l.elementType=P,l.lanes=R,l;case Q:return l=es(13,g,u,x),l.elementType=Q,l.lanes=R,l;case oe:return l=es(19,g,u,x),l.elementType=oe,l.lanes=R,l;case re:return Bf(g,x,R,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case j:O=10;break e;case z:O=9;break e;case G:O=11;break e;case ce:O=14;break e;case ee:O=16,v=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=es(O,g,u,x),u.elementType=l,u.type=v,u.lanes=R,u}function da(l,u,g,v){return l=es(7,l,v,u),l.lanes=g,l}function Bf(l,u,g,v){return l=es(22,l,v,u),l.elementType=re,l.lanes=g,l.stateNode={isHidden:!1},l}function xv(l,u,g){return l=es(6,l,null,u),l.lanes=g,l}function Ev(l,u,g){return u=es(4,l.children!==null?l.children:[],l.key,u),u.lanes=g,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function EF(l,u,g,v,x){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xp(0),this.expirationTimes=Xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xp(0),this.identifierPrefix=v,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Cv(l,u,g,v,x,R,O,F,H){return l=new EF(l,u,g,F,H),u===1?(u=1,R===!0&&(u|=8)):u=0,R=es(3,null,null,u),l.current=R,R.stateNode=l,R.memoizedState={element:v,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lm(R),l}function CF(l,u,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:v==null?null:""+v,children:l,containerInfo:u,implementation:g}}function rE(l){if(!l)return so;l=l._reactInternals;e:{if(Jo(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(_r(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var g=l.type;if(_r(g))return OS(l,g,u)}return u}function sE(l,u,g,v,x,R,O,F,H){return l=Cv(g,v,!0,l,x,R,O,F,H),l.context=rE(null),g=l.current,v=lr(),x=fo(g),R=Si(v,x),R.callback=u??null,ao(g,R,x),l.current.lanes=x,kc(l,x,v),Er(l,v),l}function zf(l,u,g,v){var x=u.current,R=lr(),O=fo(x);return g=rE(g),u.context===null?u.context=g:u.pendingContext=g,u=Si(R,O),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=ao(x,u,O),l!==null&&(xs(l,x,O,R),bf(l,x,O)),O}function Hf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function iE(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<u?g:u}}function Rv(l,u){iE(l,u),(l=l.alternate)&&iE(l,u)}function RF(){return null}var oE=typeof reportError=="function"?reportError:function(l){console.error(l)};function Tv(l){this._internalRoot=l}Vf.prototype.render=Tv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));zf(l,u,null,null)},Vf.prototype.unmount=Tv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;la(function(){zf(null,l,null,null)}),u[vi]=null}};function Vf(l){this._internalRoot=l}Vf.prototype.unstable_scheduleHydration=function(l){if(l){var u=H_();l={blockedOn:null,target:l,priority:u};for(var g=0;g<Ji.length&&u!==0&&u<Ji[g].priority;g++);Ji.splice(g,0,l),g===0&&q_(l)}};function Av(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Wf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function aE(){}function TF(l,u,g,v,x){if(x){if(typeof v=="function"){var R=v;v=function(){var ne=Hf(O);R.call(ne)}}var O=sE(u,v,l,0,null,!1,!1,"",aE);return l._reactRootContainer=O,l[vi]=O.current,Hc(l.nodeType===8?l.parentNode:l),la(),O}for(;x=l.lastChild;)l.removeChild(x);if(typeof v=="function"){var F=v;v=function(){var ne=Hf(H);F.call(ne)}}var H=Cv(l,0,!1,null,null,!1,!1,"",aE);return l._reactRootContainer=H,l[vi]=H.current,Hc(l.nodeType===8?l.parentNode:l),la(function(){zf(u,H,g,v)}),H}function qf(l,u,g,v,x){var R=g._reactRootContainer;if(R){var O=R;if(typeof x=="function"){var F=x;x=function(){var H=Hf(O);F.call(H)}}zf(u,O,l,x)}else O=TF(g,u,l,x,v);return Hf(O)}B_=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var g=Ac(u.pendingLanes);g!==0&&(Zp(u,g|1),Er(u,un()),(gt&6)===0&&(_l=un()+500,io()))}break;case 13:la(function(){var v=_i(l,1);if(v!==null){var x=lr();xs(v,l,1,x)}}),Rv(l,1)}},Jp=function(l){if(l.tag===13){var u=_i(l,134217728);if(u!==null){var g=lr();xs(u,l,134217728,g)}Rv(l,134217728)}},z_=function(l){if(l.tag===13){var u=fo(l),g=_i(l,u);if(g!==null){var v=lr();xs(g,l,u,v)}Rv(l,u)}},H_=function(){return Ct},V_=function(l,u){var g=Ct;try{return Ct=l,u()}finally{Ct=g}},vr=function(l,u,g){switch(u){case"input":if(kt(l,g),u=g.name,g.type==="radio"&&u!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<g.length;u++){var v=g[u];if(v!==l&&v.form===l.form){var x=cf(v);if(!x)throw Error(n(90));wt(v),kt(v,x)}}}break;case"textarea":se(l,g);break;case"select":u=g.value,u!=null&&W(l,!!g.multiple,u,!1)}},it=bv,dt=la;var AF={usingClientEntryPoint:!1,Events:[qc,ll,cf,xe,Xe,bv]},ou={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kF={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=M_(l),l===null?null:l.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||RF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{Hd=Gf.inject(kF),Ws=Gf}catch{}}return Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AF,Cr.createPortal=function(l,u){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Av(u))throw Error(n(200));return CF(l,u,null,g)},Cr.createRoot=function(l,u){if(!Av(l))throw Error(n(299));var g=!1,v="",x=oE;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),u=Cv(l,1,!1,null,null,g,!1,v,x),l[vi]=u.current,Hc(l.nodeType===8?l.parentNode:l),new Tv(u)},Cr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=M_(u),l=l===null?null:l.stateNode,l},Cr.flushSync=function(l){return la(l)},Cr.hydrate=function(l,u,g){if(!Wf(u))throw Error(n(200));return qf(null,l,u,!0,g)},Cr.hydrateRoot=function(l,u,g){if(!Av(l))throw Error(n(405));var v=g!=null&&g.hydratedSources||null,x=!1,R="",O=oE;if(g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onRecoverableError!==void 0&&(O=g.onRecoverableError)),u=sE(u,null,l,1,g??null,x,!1,R,O),l[vi]=u.current,Hc(l),v)for(l=0;l<v.length;l++)g=v[l],x=g._getVersion,x=x(g._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[g,x]:u.mutableSourceEagerHydrationData.push(g,x);return new Vf(u)},Cr.render=function(l,u,g){if(!Wf(u))throw Error(n(200));return qf(null,l,u,!1,g)},Cr.unmountComponentAtNode=function(l){if(!Wf(l))throw Error(n(40));return l._reactRootContainer?(la(function(){qf(null,null,l,!1,function(){l._reactRootContainer=null,l[vi]=null})}),!0):!1},Cr.unstable_batchedUpdates=bv,Cr.unstable_renderSubtreeIntoContainer=function(l,u,g,v){if(!Wf(g))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return qf(l,u,g,!1,v)},Cr.version="18.3.1-next-f1338f8080-20240426",Cr}var pE;function yk(){if(pE)return Ov.exports;pE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ov.exports=FF(),Ov.exports}var mE;function LF(){if(mE)return Kf;mE=1;var t=yk();return Kf.createRoot=t.createRoot,Kf.hydrateRoot=t.hydrateRoot,Kf}var UF=LF();const $F=bd(UF);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vE="popstate";function BF(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return tb("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Gu(s)}return HF(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ns(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zF(){return Math.random().toString(36).substring(2,10)}function yE(t,e){return{usr:t.state,key:t.key,idx:e}}function tb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fc(e):e,state:n,key:e&&e.key||r||zF()}}function Gu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HF(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function h(){a="POP";let w=f(),_=w==null?null:w-d;d=w,c&&c({action:a,location:y.location,delta:_})}function p(w,_){a="PUSH";let E=tb(y.location,w,_);d=f()+1;let T=yE(E,d),k=y.createHref(E);try{o.pushState(T,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(k)}i&&c&&c({action:a,location:y.location,delta:1})}function m(w,_){a="REPLACE";let E=tb(y.location,w,_);d=f();let T=yE(E,d),k=y.createHref(E);o.replaceState(T,"",k),i&&c&&c({action:a,location:y.location,delta:0})}function b(w){return VF(w)}let y={get action(){return a},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(vE,h),c=w,()=>{s.removeEventListener(vE,h),c=null}},createHref(w){return e(s,w)},createURL:b,encodeLocation(w){let _=b(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(w){return o.go(w)}};return y}function VF(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Gu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bk(t,e,n="/"){return WF(t,e,n,!1)}function WF(t,e,n,r){let s=typeof e=="string"?fc(e):e,i=Hi(s.pathname||"/",n);if(i==null)return null;let o=wk(t);qF(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=rL(i);a=tL(o[c],d,r)}return a}function wk(t,e=[],n=[],r="",s=!1){let i=(o,a,c=s,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&c)return;qt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=Ui([r,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(qt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),wk(o.children,e,p,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:JF(h,o.index),routesMeta:p})};return t.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))i(o,a);else for(let c of _k(o.path))i(o,a,!0,c)}),e}function _k(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=_k(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function qF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var GF=/^:[\w-]+$/,KF=3,YF=2,QF=1,XF=10,ZF=-2,bE=t=>t==="*";function JF(t,e){let n=t.split("/"),r=n.length;return n.some(bE)&&(r+=ZF),e&&(r+=YF),n.filter(s=>!bE(s)).reduce((s,i)=>s+(GF.test(i)?KF:i===""?QF:XF),r)}function eL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function tL(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=fg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),p=c.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=fg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ui([i,h.pathname]),pathnameBase:aL(Ui([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ui([i,h.pathnameBase]))}return o}function fg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:h},p)=>{if(f==="*"){let b=a[p]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const m=a[p];return h&&!m?d[f]=void 0:d[f]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function nL(t,e=!1,n=!0){Ns(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function rL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ns(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sL(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?fc(t):t;return{pathname:n?n.startsWith("/")?n:iL(n,e):e,search:lL(r),hash:cL(s)}}function iL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Nv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ew(t){let e=oL(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Cw(t,e,n,r=!1){let s;typeof t=="string"?s=fc(t):(s={...t},qt(!s.pathname||!s.pathname.includes("?"),Nv("?","pathname","search",s)),qt(!s.pathname||!s.pathname.includes("#"),Nv("#","pathname","hash",s)),qt(!s.search||!s.search.includes("#"),Nv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let c=sL(s,a),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Ui=t=>t.join("/").replace(/\/\/+/g,"/"),aL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Sk=["POST","PUT","PATCH","DELETE"];new Set(Sk);var dL=["GET",...Sk];new Set(dL);var hc=C.createContext(null);hc.displayName="DataRouter";var ip=C.createContext(null);ip.displayName="DataRouterState";C.createContext(!1);var xk=C.createContext({isTransitioning:!1});xk.displayName="ViewTransition";var fL=C.createContext(new Map);fL.displayName="Fetchers";var hL=C.createContext(null);hL.displayName="Await";var zs=C.createContext(null);zs.displayName="Navigation";var wd=C.createContext(null);wd.displayName="Location";var ms=C.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var Rw=C.createContext(null);Rw.displayName="RouteError";function gL(t,{relative:e}={}){qt(gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(zs),{hash:s,pathname:i,search:o}=_d(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Ui([n,i])),r.createHref({pathname:a,search:o,hash:s})}function gc(){return C.useContext(wd)!=null}function Ki(){return qt(gc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(wd).location}var Ek="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ck(t){C.useContext(zs).static||C.useLayoutEffect(t)}function fi(){let{isDataRoute:t}=C.useContext(ms);return t?kL():pL()}function pL(){qt(gc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(hc),{basename:e,navigator:n}=C.useContext(zs),{matches:r}=C.useContext(ms),{pathname:s}=Ki(),i=JSON.stringify(Ew(r)),o=C.useRef(!1);return Ck(()=>{o.current=!0}),C.useCallback((c,d={})=>{if(Ns(o.current,Ek),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=Cw(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ui([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}var mL=C.createContext(null);function vL(t){let e=C.useContext(ms).outlet;return C.useMemo(()=>e&&C.createElement(mL.Provider,{value:t},e),[e,t])}function op(){let{matches:t}=C.useContext(ms),e=t[t.length-1];return e?e.params:{}}function _d(t,{relative:e}={}){let{matches:n}=C.useContext(ms),{pathname:r}=Ki(),s=JSON.stringify(Ew(n));return C.useMemo(()=>Cw(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function yL(t,e){return Rk(t,e)}function Rk(t,e,n,r,s){qt(gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(zs),{matches:o}=C.useContext(ms),a=o[o.length-1],c=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let E=h&&h.path||"";Tk(d,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Ki(),m;if(e){let E=typeof e=="string"?fc(e):e;qt(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),m=E}else m=p;let b=m.pathname||"/",y=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=bk(t,{pathname:y});Ns(h||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ns(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=xL(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:Ui([f,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Ui([f,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,s);return e&&_?C.createElement(wd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},_):_}function bL(){let t=AL(),e=uL(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,o)}var wL=C.createElement(bL,null),_L=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(ms.Provider,{value:this.props.routeContext},C.createElement(Rw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SL({routeContext:t,match:e,children:n}){let r=C.useContext(hc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ms.Provider,{value:t},n)}function xL(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n?.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);qt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let a=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){a=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,m=!1,b=null,y=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||wL,a&&(c<0&&h===0?(Tk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,y=null):c===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),_=()=>{let E;return p?E=b:m?E=y:f.route.Component?E=C.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,C.createElement(SL,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(_L,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):_()},null)}function Tw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EL(t){let e=C.useContext(hc);return qt(e,Tw(t)),e}function CL(t){let e=C.useContext(ip);return qt(e,Tw(t)),e}function RL(t){let e=C.useContext(ms);return qt(e,Tw(t)),e}function Aw(t){let e=RL(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TL(){return Aw("useRouteId")}function AL(){let t=C.useContext(Rw),e=CL("useRouteError"),n=Aw("useRouteError");return t!==void 0?t:e.errors?.[n]}function kL(){let{router:t}=EL("useNavigate"),e=Aw("useNavigate"),n=C.useRef(!1);return Ck(()=>{n.current=!0}),C.useCallback(async(s,i={})=>{Ns(n.current,Ek),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var wE={};function Tk(t,e,n){!e&&!wE[t]&&(wE[t]=!0,Ns(!1,n))}C.memo(DL);function DL({routes:t,future:e,state:n,unstable_onError:r}){return Rk(t,void 0,n,r,e)}function Ak({to:t,replace:e,state:n,relative:r}){qt(gc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(zs);Ns(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(ms),{pathname:o}=Ki(),a=fi(),c=Cw(t,Ew(i),o,r==="path"),d=JSON.stringify(c);return C.useEffect(()=>{a(JSON.parse(d),{replace:e,state:n,relative:r})},[a,d,r,e,n]),null}function kk(t){return vL(t.context)}function En(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OL({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){qt(!gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=fc(n));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:p="default"}=n,m=C.useMemo(()=>{let b=Hi(c,o);return b==null?null:{location:{pathname:b,search:d,hash:f,state:h,key:p},navigationType:r}},[o,c,d,f,h,p,r]);return Ns(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:C.createElement(zs.Provider,{value:a},C.createElement(wd.Provider,{children:e,value:m}))}function IL({children:t,location:e}){return yL(nb(t),e)}function nb(t,e=[]){let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,nb(r.props.children,i));return}qt(r.type===En,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=nb(r.props.children,i)),n.push(o)}),n}var Kh="get",Yh="application/x-www-form-urlencoded";function ap(t){return t!=null&&typeof t.tagName=="string"}function ML(t){return ap(t)&&t.tagName.toLowerCase()==="button"}function NL(t){return ap(t)&&t.tagName.toLowerCase()==="form"}function PL(t){return ap(t)&&t.tagName.toLowerCase()==="input"}function jL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FL(t,e){return t.button===0&&(!e||e==="_self")&&!jL(t)}var Yf=null;function LL(){if(Yf===null)try{new FormData(document.createElement("form"),0),Yf=!1}catch{Yf=!0}return Yf}var UL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pv(t){return t!=null&&!UL.has(t)?(Ns(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):t}function $L(t,e){let n,r,s,i,o;if(NL(t)){let a=t.getAttribute("action");r=a?Hi(a,e):null,n=t.getAttribute("method")||Kh,s=Pv(t.getAttribute("enctype"))||Yh,i=new FormData(t)}else if(ML(t)||PL(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?Hi(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Kh,s=Pv(t.getAttribute("formenctype"))||Pv(a.getAttribute("enctype"))||Yh,i=new FormData(a,t),!LL()){let{name:d,type:f,value:h}=t;if(f==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,h)}}else{if(ap(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,r=null,s=Yh,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BL(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Hi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VL(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await zL(i,n);return o.links?o.links():[]}return[]}));return KL(r.flat(1).filter(HL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _E(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,a=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return i==="assets"?e.filter((c,d)=>o(c,d)||a(c,d)):i==="data"?e.filter((c,d)=>{let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function WL(t,e,{includeHydrateFallback:n}={}){return qL(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function qL(t){return[...new Set(t)]}function GL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function KL(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(GL(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Dk(){let t=C.useContext(hc);return kw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YL(){let t=C.useContext(ip);return kw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dw=C.createContext(void 0);Dw.displayName="FrameworkContext";function Ok(){let t=C.useContext(Dw);return kw(t,"You must render this element inside a <HydratedRouter> element"),t}function QL(t,e){let n=C.useContext(Dw),[r,s]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=e,p=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=_=>{_.forEach(E=>{o(E.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[t]),C.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{s(!0)},b=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:lu(a,m),onBlur:lu(c,b),onMouseEnter:lu(d,m),onMouseLeave:lu(f,b),onTouchStart:lu(h,m)}]:[!1,p,{}]}function lu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function XL({page:t,...e}){let{router:n}=Dk(),r=C.useMemo(()=>bk(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(JL,{page:t,matches:r,...e}):null}function ZL(t){let{manifest:e,routeModules:n}=Ok(),[r,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return VL(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function JL({page:t,matches:e,...n}){let r=Ki(),{manifest:s,routeModules:i}=Ok(),{basename:o}=Dk(),{loaderData:a,matches:c}=YL(),d=C.useMemo(()=>_E(t,e,c,s,r,"data"),[t,e,c,s,r]),f=C.useMemo(()=>_E(t,e,c,s,r,"assets"),[t,e,c,s,r]),h=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,y=!1;if(e.forEach(_=>{let E=s.routes[_.route.id];!E||!E.hasLoader||(!d.some(T=>T.route.id===_.route.id)&&_.route.id in a&&i[_.route.id]?.shouldRevalidate||E.hasClientLoader?y=!0:b.add(_.route.id))}),b.size===0)return[];let w=BL(t,o,"data");return y&&b.size>0&&w.searchParams.set("_routes",e.filter(_=>b.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[o,a,r,s,d,e,t,i]),p=C.useMemo(()=>WL(f,s),[f,s]),m=ZL(f);return C.createElement(C.Fragment,null,h.map(b=>C.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),p.map(b=>C.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),m.map(({key:b,link:y})=>C.createElement("link",{key:b,nonce:n.nonce,...y})))}function e2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ik&&(window.__reactRouterVersion="7.9.4")}catch{}function t2({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=BF({window:n,v5Compat:!0}));let s=r.current,[i,o]=C.useState({action:s.action,location:s.location}),a=C.useCallback(c=>{C.startTransition(()=>o(c))},[o]);return C.useLayoutEffect(()=>s.listen(a),[s,a]),C.createElement(OL,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var Mk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:f,viewTransition:h,...p},m){let{basename:b}=C.useContext(zs),y=typeof d=="string"&&Mk.test(d),w,_=!1;if(typeof d=="string"&&y&&(w=d,Ik))try{let P=new URL(window.location.href),j=d.startsWith("//")?new URL(P.protocol+d):new URL(d),z=Hi(j.pathname,b);j.origin===P.origin&&z!=null?d=z+j.search+j.hash:_=!0}catch{Ns(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=gL(d,{relative:s}),[T,k,A]=QL(r,p),I=i2(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:s,viewTransition:h});function M(P){e&&e(P),P.defaultPrevented||I(P)}let D=C.createElement("a",{...p,...A,href:w||E,onClick:_||i?e:M,ref:e2(m,k),target:c,"data-discover":!y&&n==="render"?"true":void 0});return T&&!y?C.createElement(C.Fragment,null,D,C.createElement(XL,{page:E})):D});sn.displayName="Link";var n2=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...d},f){let h=_d(o,{relative:d.relative}),p=Ki(),m=C.useContext(ip),{navigator:b,basename:y}=C.useContext(zs),w=m!=null&&u2(h)&&a===!0,_=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,E=p.pathname,T=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(E=E.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&y&&(T=Hi(T,y)||T);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=E===_||!s&&E.startsWith(_)&&E.charAt(k)==="/",I=T!=null&&(T===_||!s&&T.startsWith(_)&&T.charAt(_.length)==="/"),M={isActive:A,isPending:I,isTransitioning:w},D=A?e:void 0,P;typeof r=="function"?P=r(M):P=[r,A?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let j=typeof i=="function"?i(M):i;return C.createElement(sn,{...d,"aria-current":D,className:P,ref:f,style:j,to:o,viewTransition:a},typeof c=="function"?c(M):c)});n2.displayName="NavLink";var r2=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Kh,action:a,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:h,...p},m)=>{let b=l2(),y=c2(a,{relative:d}),w=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&Mk.test(a),E=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let k=T.nativeEvent.submitter,A=k?.getAttribute("formmethod")||o;b(k||T.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:s,state:i,relative:d,preventScrollReset:f,viewTransition:h})};return C.createElement("form",{ref:m,method:w,action:y,onSubmit:r?c:E,...p,"data-discover":!_&&t==="render"?"true":void 0})});r2.displayName="Form";function s2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nk(t){let e=C.useContext(hc);return qt(e,s2(t)),e}function i2(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=fi(),c=Ki(),d=_d(t,{relative:i});return C.useCallback(f=>{if(FL(f,e)){f.preventDefault();let h=n!==void 0?n:Gu(c)===Gu(d);a(t,{replace:h,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,d,n,r,e,t,s,i,o])}var o2=0,a2=()=>`__${String(++o2)}__`;function l2(){let{router:t}=Nk("useSubmit"),{basename:e}=C.useContext(zs),n=TL();return C.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:c,body:d}=$L(r,e);if(s.navigate===!1){let f=s.fetcherKey||a2();await t.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function c2(t,{relative:e}={}){let{basename:n}=C.useContext(zs),r=C.useContext(ms);qt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={..._d(t||".",{relative:e})},o=Ki();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ui([n,i.pathname])),Gu(i)}function u2(t,{relative:e}={}){let n=C.useContext(xk);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Nk("useViewTransitionState"),s=_d(t,{relative:e});if(!n.isTransitioning)return!1;let i=Hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fg(s.pathname,o)!=null||fg(s.pathname,i)!=null}var Ds=yk();const Pk=bd(Ds);var pc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},d2={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},f2=class{#e=d2;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},ka=new f2;function h2(t){setTimeout(t,0)}var La=typeof window>"u"||"Deno"in globalThis;function cr(){}function g2(t,e){return typeof t=="function"?t(e):t}function rb(t){return typeof t=="number"&&t>=0&&t!==1/0}function jk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function No(t,e){return typeof t=="function"?t(e):t}function as(t,e){return typeof t=="function"?t(e):t}function SE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ow(o,e.options))return!1}else if(!Ku(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function xE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ua(e.options.mutationKey)!==Ua(i))return!1}else if(!Ku(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ow(t,e){return(e?.queryKeyHashFn||Ua)(t)}function Ua(t){return JSON.stringify(t,(e,n)=>sb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ku(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ku(t[n],e[n])):!1}var p2=Object.prototype.hasOwnProperty;function Fk(t,e){if(t===e)return t;const n=EE(t)&&EE(e);if(!n&&!(sb(t)&&sb(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const f=n?d:i[d],h=t[f],p=e[f];if(h===p){a[f]=h,(n?d<s:p2.call(t,f))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[f]=p;continue}const m=Fk(h,p);a[f]=m,m===h&&c++}return s===o&&c===s?t:a}function hg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function EE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sb(t){if(!CE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!CE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function CE(t){return Object.prototype.toString.call(t)==="[object Object]"}function m2(t){return new Promise(e=>{ka.setTimeout(e,t)})}function ib(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Fk(t,e):e}function v2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function y2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Iw=Symbol();function Lk(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Iw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Uk(t,e){return typeof t=="function"?t(...e):!!t}var b2=class extends pc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!La&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Mw=new b2;function ob(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var w2=h2;function _2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=w2;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var An=_2(),S2=class extends pc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!La&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},gg=new S2;function x2(t){return Math.min(1e3*2**t,3e4)}function $k(t){return(t??"online")==="online"?gg.isOnline():!0}var ab=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Bk(t){let e=!1,n=0,r;const s=ob(),i=()=>s.status!=="pending",o=y=>{if(!i()){const w=new ab(y);p(w),t.onCancel?.(w)}},a=()=>{e=!0},c=()=>{e=!1},d=()=>Mw.isFocused()&&(t.networkMode==="always"||gg.isOnline())&&t.canRun(),f=()=>$k(t.networkMode)&&t.canRun(),h=y=>{i()||(r?.(),s.resolve(y))},p=y=>{i()||(r?.(),s.reject(y))},m=()=>new Promise(y=>{r=w=>{(i()||d())&&y(w)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),b=()=>{if(i())return;let y;const w=n===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(h).catch(_=>{if(i())return;const E=t.retry??(La?0:3),T=t.retryDelay??x2,k=typeof T=="function"?T(n,_):T,A=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(e||!A){p(_);return}n++,t.onFail?.(n,_),m2(k).then(()=>d()?void 0:m()).then(()=>{e?p(_):b()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?b():m().then(b),s)}}var zk=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rb(this.gcTime)&&(this.#e=ka.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(La?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ka.clearTimeout(this.#e),this.#e=void 0)}},E2=class extends zk{#e;#t;#n;#s;#r;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=RE(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=RE(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=ib(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(cr).catch(cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>as(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>No(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jk(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const a=Lk(this.options,e),d=(()=>{const f={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#a=!1,this.options.persister?this.options.persister(a,d,this):a(d)},o=(()=>{const a={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=Bk({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof ab&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,c)=>{this.#i({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof ab){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#i({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Hk(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),An.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Hk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$k(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var C2=class extends pc{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#a=ob(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#p;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),TE(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#_(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof as(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!hg(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&AE(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||as(this.options.enabled,this.#t)!==as(e.enabled,this.#t)||No(this.options.staleTime,this.#t)!==No(e.staleTime,this.#t))&&this.#m();const s=this.#v();r&&(this.#t!==n||as(this.options.enabled,this.#t)!==as(e.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return T2(this,n)&&(this.#s=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(cr)),e}#m(){this.#w();const t=No(this.options.staleTime,this.#t);if(La||this.#s.isStale||!rb(t))return;const n=jk(this.#s.dataUpdatedAt,t)+1;this.#c=ka.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#_(),this.#l=t,!(La||as(this.options.enabled,this.#t)===!1||!rb(this.#l)||this.#l===0)&&(this.#u=ka.setInterval(()=>{(this.options.refetchIntervalInBackground||Mw.isFocused())&&this.#d()},this.#l))}#b(){this.#m(),this.#y(this.#v())}#w(){this.#c&&(ka.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(ka.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#s,i=this.#r,o=this.#o,c=t!==n?t.state:this.#n,{state:d}=t;let f={...d},h=!1,p;if(e._optimisticResults){const D=this.hasListeners(),P=!D&&TE(t,e),j=D&&AE(t,n,e,r);(P||j)&&(f={...f,...Hk(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:m,errorUpdatedAt:b,status:y}=f;p=f.data;let w=!1;if(e.placeholderData!==void 0&&p===void 0&&y==="pending"){let D;s?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(D=s.data,w=!0):D=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,D!==void 0&&(y="success",p=ib(s?.data,D,e),h=!0)}if(e.select&&p!==void 0&&!w)if(s&&p===i?.data&&e.select===this.#p)p=this.#f;else try{this.#p=e.select,p=e.select(p),p=ib(s?.data,p,e),this.#f=p,this.#i=null}catch(D){this.#i=D}this.#i&&(m=this.#i,p=this.#f,b=Date.now(),y="error");const _=f.fetchStatus==="fetching",E=y==="pending",T=y==="error",k=E&&_,A=p!==void 0,M={status:y,fetchStatus:f.fetchStatus,isPending:E,isSuccess:y==="success",isError:T,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:f.dataUpdatedAt,error:m,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:T&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:T&&A,isStale:Nw(t,e),refetch:this.refetch,promise:this.#a,isEnabled:as(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=z=>{M.status==="error"?z.reject(M.error):M.data!==void 0&&z.resolve(M.data)},P=()=>{const z=this.#a=M.promise=ob();D(z)},j=this.#a;switch(j.status){case"pending":t.queryHash===n.queryHash&&D(j);break;case"fulfilled":(M.status==="error"||M.data!==j.value)&&P();break;case"rejected":(M.status!=="error"||M.error!==j.reason)&&P();break}}return M}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#h=this.#t),hg(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#g.size)return!0;const i=new Set(s??this.#g);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(o=>{const a=o;return this.#s[a]!==t[a]&&i.has(a)})};this.#x({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(t){An.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function R2(t,e){return as(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function TE(t,e){return R2(t,e)||t.state.data!==void 0&&lb(t,e,e.refetchOnMount)}function lb(t,e,n){if(as(e.enabled,t)!==!1&&No(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Nw(t,e)}return!1}function AE(t,e,n,r){return(t!==e||as(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Nw(t,n)}function Nw(t,e){return as(e.enabled,t)!==!1&&t.isStaleByTime(No(e.staleTime,t))}function T2(t,e){return!hg(t.getCurrentResult(),e)}function kE(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const h=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},p=Lk(e.options,e.fetchOptions),m=async(b,y,w)=>{if(f)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:y,direction:w?"backward":"forward",meta:e.options.meta};return h(I),I})(),T=await p(E),{maxPages:k}=e.options,A=w?y2:v2;return{pages:A(b.pages,T,k),pageParams:A(b.pageParams,y,k)}};if(s&&i.length){const b=s==="backward",y=b?A2:DE,w={pages:i,pageParams:o},_=y(r,w);a=await m(w,_,b)}else{const b=t??i.length;do{const y=c===0?o[0]??r.initialPageParam:DE(r,a);if(c>0&&y==null)break;a=await m(a,y),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function DE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function A2(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var k2=class extends zk{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||Vk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Bk({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:s}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),An.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function Vk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var D2=class extends pc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new k2({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Qf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Qf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Qf(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Qf(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){An.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>xE(e,n))}findAll(t={}){return this.getAll().filter(e=>xE(t,e))}notify(t){An.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return An.batch(()=>Promise.all(t.map(e=>e.continue().catch(cr))))}};function Qf(t){return t.options.scope?.id}var O2=class extends pc{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),hg(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ua(n.mutationKey)!==Ua(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??Vk();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){An.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,n,r,s),this.#s.onSettled?.(e.data,null,n,r,s)):e?.type==="error"&&(this.#s.onError?.(e.error,n,r,s),this.#s.onSettled?.(void 0,e.error,n,r,s))}this.listeners.forEach(n=>{n(this.#t)})})}},I2=class extends pc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??Ow(r,e);let i=this.get(s);return i||(i=new E2({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>SE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>SE(t,n)):e}notify(t){An.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){An.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},M2=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new I2,this.#t=t.mutationCache||new D2,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Mw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=gg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(No(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,o=g2(e,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return An.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;An.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return An.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=An.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(cr).catch(cr)}invalidateQueries(t,e={}){return An.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=An.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(cr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(cr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(No(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(cr).catch(cr)}fetchInfiniteQuery(t){return t.behavior=kE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(cr).catch(cr)}ensureInfiniteQueryData(t){return t.behavior=kE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Ua(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Ku(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Ua(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Ku(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ow(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Iw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Wk=C.createContext(void 0),Vt=t=>{const e=C.useContext(Wk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},N2=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(Wk.Provider,{value:t,children:e})),qk=C.createContext(!1),P2=()=>C.useContext(qk);qk.Provider;function j2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var F2=C.createContext(j2()),L2=()=>C.useContext(F2),U2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},$2=t=>{C.useEffect(()=>{t.clearReset()},[t])},B2=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Uk(n,[t.error,r])),z2=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},H2=(t,e)=>t.isLoading&&t.isFetching&&!e,V2=(t,e)=>t?.suspense&&e.isPending,OE=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function W2(t,e,n){const r=P2(),s=L2(),i=Vt(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",z2(o),U2(o,s),$2(s);const a=!i.getQueryCache().get(o.queryHash),[c]=C.useState(()=>new e(i,o)),d=c.getOptimisticResult(o),f=!r&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(h=>{const p=f?c.subscribe(An.batchCalls(h)):cr;return c.updateResult(),p},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(o)},[o,c]),V2(o,d))throw OE(o,c,s);if(B2({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!La&&H2(d,r)&&(a?OE(o,c,s):i.getQueryCache().get(o.queryHash)?.promise)?.catch(cr).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function cs(t,e){return W2(t,C2)}function nr(t,e){const n=Vt(),[r]=C.useState(()=>new O2(n,t));C.useEffect(()=>{r.setOptions(t)},[r,t]);const s=C.useSyncExternalStore(C.useCallback(o=>r.subscribe(An.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=C.useCallback((o,a)=>{r.mutate(o,a).catch(cr)},[r]);if(s.error&&Uk(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function q2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const G2=t=>{switch(t){case"success":return Q2;case"info":return Z2;case"warning":return X2;case"error":return J2;default:return null}},K2=Array(12).fill(0),Y2=({visible:t,className:e})=>ie.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ie.createElement("div",{className:"sonner-spinner"},K2.map((n,r)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Q2=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),X2=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Z2=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),J2=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eU=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),tU=()=>{const[t,e]=ie.useState(document.hidden);return ie.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let cb=1;class nU{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:cb++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const a=s.then(async d=>{if(o=["resolve",d],ie.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(sU(d)&&!d.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof h=="object"&&!ie.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,...b})}else if(d instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,b=typeof h=="object"&&!ie.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,...b})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,b=typeof h=="object"&&!ie.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:p,...b})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(d):n.error,h=typeof n.description=="function"?await n.description(d):n.description,m=typeof f=="object"&&!ie.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...m})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,f)=>a.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=n?.id||cb++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Dr=new nU,rU=(t,e)=>{const n=e?.id||cb++;return Dr.addToast({title:t,...e,id:n}),n},sU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",iU=rU,oU=()=>Dr.toasts,aU=()=>Dr.getActiveToasts(),Sd=Object.assign(iU,{success:Dr.success,info:Dr.info,warning:Dr.warning,error:Dr.error,custom:Dr.custom,message:Dr.message,promise:Dr.promise,dismiss:Dr.dismiss,loading:Dr.loading},{getHistory:oU,getToasts:aU});q2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Xf(t){return t.label!==void 0}const lU=3,cU="24px",uU="16px",IE=4e3,dU=356,fU=14,hU=45,gU=200;function Qs(...t){return t.filter(Boolean).join(" ")}function pU(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const mU=t=>{var e,n,r,s,i,o,a,c,d;const{invert:f,toast:h,unstyled:p,interacting:m,setHeights:b,visibleToasts:y,heights:w,index:_,toasts:E,expanded:T,removeToast:k,defaultRichColors:A,closeButton:I,style:M,cancelButtonStyle:D,actionButtonStyle:P,className:j="",descriptionClassName:z="",duration:G,position:Q,gap:oe,expandByDefault:ce,classNames:ee,icons:re,closeButtonAriaLabel:$="Close toast"}=t,[B,Z]=ie.useState(null),[U,J]=ie.useState(null),[le,ue]=ie.useState(!1),[Se,_e]=ie.useState(!1),[ge,fe]=ie.useState(!1),[Pe,Be]=ie.useState(!1),[xt,wt]=ie.useState(!1),[an,Ce]=ie.useState(0),[Ge,nt]=ie.useState(0),kt=ie.useRef(h.duration||G||IE),gn=ie.useRef(null),Ze=ie.useRef(null),N=_===0,W=_+1<=y,K=h.type,q=h.dismissible!==!1,se=h.className||"",ae=h.descriptionClassName||"",pe=ie.useMemo(()=>w.findIndex(xe=>xe.toastId===h.id)||0,[w,h.id]),ve=ie.useMemo(()=>{var xe;return(xe=h.closeButton)!=null?xe:I},[h.closeButton,I]),be=ie.useMemo(()=>h.duration||G||IE,[h.duration,G]),Ne=ie.useRef(0),Ke=ie.useRef(0),ze=ie.useRef(0),at=ie.useRef(null),[ct,Gn]=Q.split("-"),Et=ie.useMemo(()=>w.reduce((xe,Xe,it)=>it>=pe?xe:xe+Xe.height,0),[w,pe]),rt=tU(),Gt=h.invert||f,Qe=K==="loading";Ke.current=ie.useMemo(()=>pe*oe+Et,[pe,Et]),ie.useEffect(()=>{kt.current=be},[be]),ie.useEffect(()=>{ue(!0)},[]),ie.useEffect(()=>{const xe=Ze.current;if(xe){const Xe=xe.getBoundingClientRect().height;return nt(Xe),b(it=>[{toastId:h.id,height:Xe,position:h.position},...it]),()=>b(it=>it.filter(dt=>dt.toastId!==h.id))}},[b,h.id]),ie.useLayoutEffect(()=>{if(!le)return;const xe=Ze.current,Xe=xe.style.height;xe.style.height="auto";const it=xe.getBoundingClientRect().height;xe.style.height=Xe,nt(it),b(dt=>dt.find(_t=>_t.toastId===h.id)?dt.map(_t=>_t.toastId===h.id?{..._t,height:it}:_t):[{toastId:h.id,height:it,position:h.position},...dt])},[le,h.title,h.description,b,h.id,h.jsx,h.action,h.cancel]);const st=ie.useCallback(()=>{_e(!0),Ce(Ke.current),b(xe=>xe.filter(Xe=>Xe.toastId!==h.id)),setTimeout(()=>{k(h)},gU)},[h,k,b,Ke]);ie.useEffect(()=>{if(h.promise&&K==="loading"||h.duration===1/0||h.type==="loading")return;let xe;return T||m||rt?(()=>{if(ze.current<Ne.current){const dt=new Date().getTime()-Ne.current;kt.current=kt.current-dt}ze.current=new Date().getTime()})():(()=>{kt.current!==1/0&&(Ne.current=new Date().getTime(),xe=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),st()},kt.current))})(),()=>clearTimeout(xe)},[T,m,h,K,rt,st]),ie.useEffect(()=>{h.delete&&(st(),h.onDismiss==null||h.onDismiss.call(h,h))},[st,h.delete]);function vr(){var xe;if(re?.loading){var Xe;return ie.createElement("div",{className:Qs(ee?.loader,h==null||(Xe=h.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":K==="loading"},re.loading)}return ie.createElement(Y2,{className:Qs(ee?.loader,h==null||(xe=h.classNames)==null?void 0:xe.loader),visible:K==="loading"})}const Hn=h.icon||re?.[K]||G2(K);var ut,ln;return ie.createElement("li",{tabIndex:0,ref:Ze,className:Qs(j,se,ee?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,ee?.default,ee?.[K],h==null||(n=h.classNames)==null?void 0:n[K]),"data-sonner-toast":"","data-rich-colors":(ut=h.richColors)!=null?ut:A,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":le,"data-promise":!!h.promise,"data-swiped":xt,"data-removed":Se,"data-visible":W,"data-y-position":ct,"data-x-position":Gn,"data-index":_,"data-front":N,"data-swiping":ge,"data-dismissible":q,"data-type":K,"data-invert":Gt,"data-swipe-out":Pe,"data-swipe-direction":U,"data-expanded":!!(T||ce&&le),"data-testid":h.testId,style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${Se?an:Ke.current}px`,"--initial-height":ce?"auto":`${Ge}px`,...M,...h.style},onDragEnd:()=>{fe(!1),Z(null),at.current=null},onPointerDown:xe=>{xe.button!==2&&(Qe||!q||(gn.current=new Date,Ce(Ke.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(fe(!0),at.current={x:xe.clientX,y:xe.clientY})))},onPointerUp:()=>{var xe,Xe,it;if(Pe||!q)return;at.current=null;const dt=Number(((xe=Ze.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tn=Number(((Xe=Ze.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_t=new Date().getTime()-((it=gn.current)==null?void 0:it.getTime()),qe=B==="x"?dt:tn,cn=Math.abs(qe)/_t;if(Math.abs(qe)>=hU||cn>.11){Ce(Ke.current),h.onDismiss==null||h.onDismiss.call(h,h),J(B==="x"?dt>0?"right":"left":tn>0?"down":"up"),st(),Be(!0);return}else{var Dt,Kt;(Dt=Ze.current)==null||Dt.style.setProperty("--swipe-amount-x","0px"),(Kt=Ze.current)==null||Kt.style.setProperty("--swipe-amount-y","0px")}wt(!1),fe(!1),Z(null)},onPointerMove:xe=>{var Xe,it,dt;if(!at.current||!q||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;const _t=xe.clientY-at.current.y,qe=xe.clientX-at.current.x;var cn;const Dt=(cn=t.swipeDirections)!=null?cn:pU(Q);!B&&(Math.abs(qe)>1||Math.abs(_t)>1)&&Z(Math.abs(qe)>Math.abs(_t)?"x":"y");let Kt={x:0,y:0};const yr=In=>1/(1.5+Math.abs(In)/20);if(B==="y"){if(Dt.includes("top")||Dt.includes("bottom"))if(Dt.includes("top")&&_t<0||Dt.includes("bottom")&&_t>0)Kt.y=_t;else{const In=_t*yr(_t);Kt.y=Math.abs(In)<Math.abs(_t)?In:_t}}else if(B==="x"&&(Dt.includes("left")||Dt.includes("right")))if(Dt.includes("left")&&qe<0||Dt.includes("right")&&qe>0)Kt.x=qe;else{const In=qe*yr(qe);Kt.x=Math.abs(In)<Math.abs(qe)?In:qe}(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&wt(!0),(it=Ze.current)==null||it.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(dt=Ze.current)==null||dt.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},ve&&!h.jsx&&K!=="loading"?ie.createElement("button",{"aria-label":$,"data-disabled":Qe,"data-close-button":!0,onClick:Qe||!q?()=>{}:()=>{st(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Qs(ee?.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(ln=re?.close)!=null?ln:eU):null,(K||h.icon||h.promise)&&h.icon!==null&&(re?.[K]!==null||h.icon)?ie.createElement("div",{"data-icon":"",className:Qs(ee?.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||vr():null,h.type!=="loading"?Hn:null):null,ie.createElement("div",{"data-content":"",className:Qs(ee?.content,h==null||(i=h.classNames)==null?void 0:i.content)},ie.createElement("div",{"data-title":"",className:Qs(ee?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?ie.createElement("div",{"data-description":"",className:Qs(z,ae,ee?.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),ie.isValidElement(h.cancel)?h.cancel:h.cancel&&Xf(h.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||D,onClick:xe=>{Xf(h.cancel)&&q&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,xe),st())},className:Qs(ee?.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,ie.isValidElement(h.action)?h.action:h.action&&Xf(h.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:xe=>{Xf(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,xe),!xe.defaultPrevented&&st())},className:Qs(ee?.actionButton,h==null||(d=h.classNames)==null?void 0:d.actionButton)},h.action.label):null)};function ME(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function vU(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?uU:cU;function c(d){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(a)}),n}const yU=ie.forwardRef(function(e,n){const{id:r,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:c,className:d,offset:f,mobileOffset:h,theme:p="light",richColors:m,duration:b,style:y,visibleToasts:w=lU,toastOptions:_,dir:E=ME(),gap:T=fU,icons:k,containerAriaLabel:A="Notifications"}=e,[I,M]=ie.useState([]),D=ie.useMemo(()=>r?I.filter(le=>le.toasterId===r):I.filter(le=>!le.toasterId),[I,r]),P=ie.useMemo(()=>Array.from(new Set([i].concat(D.filter(le=>le.position).map(le=>le.position)))),[D,i]),[j,z]=ie.useState([]),[G,Q]=ie.useState(!1),[oe,ce]=ie.useState(!1),[ee,re]=ie.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=ie.useRef(null),B=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=ie.useRef(null),U=ie.useRef(!1),J=ie.useCallback(le=>{M(ue=>{var Se;return(Se=ue.find(_e=>_e.id===le.id))!=null&&Se.delete||Dr.dismiss(le.id),ue.filter(({id:_e})=>_e!==le.id)})},[]);return ie.useEffect(()=>Dr.subscribe(le=>{if(le.dismiss){requestAnimationFrame(()=>{M(ue=>ue.map(Se=>Se.id===le.id?{...Se,delete:!0}:Se))});return}setTimeout(()=>{Pk.flushSync(()=>{M(ue=>{const Se=ue.findIndex(_e=>_e.id===le.id);return Se!==-1?[...ue.slice(0,Se),{...ue[Se],...le},...ue.slice(Se+1)]:[le,...ue]})})})}),[I]),ie.useEffect(()=>{if(p!=="system"){re(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;const le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:ue})=>{re(ue?"dark":"light")})}catch{le.addListener(({matches:Se})=>{try{re(Se?"dark":"light")}catch(_e){console.error(_e)}})}},[p]),ie.useEffect(()=>{I.length<=1&&Q(!1)},[I]),ie.useEffect(()=>{const le=ue=>{var Se;if(o.every(fe=>ue[fe]||ue.code===fe)){var ge;Q(!0),(ge=$.current)==null||ge.focus()}ue.code==="Escape"&&(document.activeElement===$.current||(Se=$.current)!=null&&Se.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[o]),ie.useEffect(()=>{if($.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,U.current=!1)}},[$.current]),ie.createElement("section",{ref:n,"aria-label":`${A} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((le,ue)=>{var Se;const[_e,ge]=le.split("-");return D.length?ie.createElement("ol",{key:le,dir:E==="auto"?ME():E,tabIndex:-1,ref:$,className:d,"data-sonner-toaster":!0,"data-sonner-theme":ee,"data-y-position":_e,"data-x-position":ge,style:{"--front-toast-height":`${((Se=j[0])==null?void 0:Se.height)||0}px`,"--width":`${dU}px`,"--gap":`${T}px`,...y,...vU(f,h)},onBlur:fe=>{U.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(U.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||U.current||(U.current=!0,Z.current=fe.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{oe||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},D.filter(fe=>!fe.position&&ue===0||fe.position===le).map((fe,Pe)=>{var Be,xt;return ie.createElement(mU,{key:fe.id,icons:k,index:Pe,toast:fe,defaultRichColors:m,duration:(Be=_?.duration)!=null?Be:b,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:s,visibleToasts:w,closeButton:(xt=_?.closeButton)!=null?xt:c,interacting:oe,position:le,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,closeButtonAriaLabel:_?.closeButtonAriaLabel,removeToast:J,toasts:D.filter(wt=>wt.position==fe.position),heights:j.filter(wt=>wt.position==fe.position),setHeights:z,expandByDefault:a,gap:T,expanded:G,swipeDirections:e.swipeDirections})})):null}))});var NE={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},Zf={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR"},PE={PAGE_SIZE:10,PAGE_SIZE_OPTIONS:[10,25,50,100]},Zt={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},mt={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},Pi={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},xl={CREMA:"CREMA",LIQUIDO:"LIQUIDO",POLVERI:"POLVERI"},El={T1:"T1",T2:"T2",T3:"T3"};function jE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lp(...t){return e=>{let n=!1;const r=t.map(s=>{const i=jE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():jE(t[s],null)}}}}function Pr(...t){return C.useCallback(lp(...t),t)}function Yu(t){const e=wU(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),c=a.find(SU);if(c){const d=c.props.children,f=a.map(h=>h===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:h);return S.jsx(e,{...o,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return S.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var bU=Yu("Slot");function wU(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=EU(s),a=xU(i,s.props);return s.type!==C.Fragment&&(a.ref=r?lp(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _U=Symbol("radix.slottable");function SU(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_U}function xU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function EU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Gk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Gk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Kk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Gk(t))&&(r&&(r+=" "),r+=e);return r}const Pw="-",CU=t=>{const e=TU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Pw);return a[0]===""&&a.length!==1&&a.shift(),Yk(a,e)||RU(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},Yk=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Yk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Pw);return e.validators.find(({validator:o})=>o(i))?.classGroupId},FE=/^\[(.+)\]$/,RU=t=>{if(FE.test(t)){const e=FE.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},TU=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)ub(n[s],r,s,e);return r},ub=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:LE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(AU(s)){ub(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ub(o,LE(e,i),n,r)})})},LE=(t,e)=>{let n=t;return e.split(Pw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},AU=t=>t.isThemeGetter,kU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},db="!",fb=":",DU=fb.length,OU=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,c=0,d;for(let b=0;b<s.length;b++){let y=s[b];if(o===0&&a===0){if(y===fb){i.push(s.slice(c,b)),c=b+DU;continue}if(y==="/"){d=b;continue}}y==="["?o++:y==="]"?o--:y==="("?a++:y===")"&&a--}const f=i.length===0?s:s.substring(c),h=IU(f),p=h!==f,m=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const s=e+fb,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},IU=t=>t.endsWith(db)?t.substring(0,t.length-1):t.startsWith(db)?t.substring(1):t,MU=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},NU=t=>({cache:kU(t.cacheSize),parseClassName:OU(t),sortModifiers:MU(t),...CU(t)}),PU=/\s+/,jU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(PU);let c="";for(let d=a.length-1;d>=0;d-=1){const f=a[d],{isExternal:h,modifiers:p,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:y}=n(f);if(h){c=f+(c.length>0?" "+c:c);continue}let w=!!y,_=r(w?b.substring(0,y):b);if(!_){if(!w){c=f+(c.length>0?" "+c:c);continue}if(_=r(b),!_){c=f+(c.length>0?" "+c:c);continue}w=!1}const E=i(p).join(":"),T=m?E+db:E,k=T+_;if(o.includes(k))continue;o.push(k);const A=s(_,w);for(let I=0;I<A.length;++I){const M=A[I];o.push(T+M)}c=f+(c.length>0?" "+c:c)}return c};function FU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Qk(e))&&(r&&(r+=" "),r+=n);return r}const Qk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Qk(t[r]))&&(n&&(n+=" "),n+=e);return n};function LU(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((f,h)=>h(f),t());return n=NU(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const f=jU(c,n);return s(c,f),f}return function(){return i(FU.apply(null,arguments))}}const Sn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Xk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Zk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,UU=/^\d+\/\d+$/,$U=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,HU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cl=t=>UU.test(t),et=t=>!!t&&!Number.isNaN(Number(t)),mo=t=>!!t&&Number.isInteger(Number(t)),jv=t=>t.endsWith("%")&&et(t.slice(0,-1)),Ci=t=>$U.test(t),WU=()=>!0,qU=t=>BU.test(t)&&!zU.test(t),Jk=()=>!1,GU=t=>HU.test(t),KU=t=>VU.test(t),YU=t=>!Ae(t)&&!ke(t),QU=t=>mc(t,nD,Jk),Ae=t=>Xk.test(t),fa=t=>mc(t,rD,qU),Fv=t=>mc(t,t$,et),UE=t=>mc(t,eD,Jk),XU=t=>mc(t,tD,KU),Jf=t=>mc(t,sD,GU),ke=t=>Zk.test(t),cu=t=>vc(t,rD),ZU=t=>vc(t,n$),$E=t=>vc(t,eD),JU=t=>vc(t,nD),e$=t=>vc(t,tD),eh=t=>vc(t,sD,!0),mc=(t,e,n)=>{const r=Xk.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},vc=(t,e,n=!1)=>{const r=Zk.exec(t);return r?r[1]?e(r[1]):n:!1},eD=t=>t==="position"||t==="percentage",tD=t=>t==="image"||t==="url",nD=t=>t==="length"||t==="size"||t==="bg-size",rD=t=>t==="length",t$=t=>t==="number",n$=t=>t==="family-name",sD=t=>t==="shadow",r$=()=>{const t=Sn("color"),e=Sn("font"),n=Sn("text"),r=Sn("font-weight"),s=Sn("tracking"),i=Sn("leading"),o=Sn("breakpoint"),a=Sn("container"),c=Sn("spacing"),d=Sn("radius"),f=Sn("shadow"),h=Sn("inset-shadow"),p=Sn("text-shadow"),m=Sn("drop-shadow"),b=Sn("blur"),y=Sn("perspective"),w=Sn("aspect"),_=Sn("ease"),E=Sn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...k(),ke,Ae],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],D=()=>[ke,Ae,c],P=()=>[Cl,"full","auto",...D()],j=()=>[mo,"none","subgrid",ke,Ae],z=()=>["auto",{span:["full",mo,ke,Ae]},mo,ke,Ae],G=()=>[mo,"auto",ke,Ae],Q=()=>["auto","min","max","fr",ke,Ae],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...D()],re=()=>[Cl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],$=()=>[t,ke,Ae],B=()=>[...k(),$E,UE,{position:[ke,Ae]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",JU,QU,{size:[ke,Ae]}],J=()=>[jv,cu,fa],le=()=>["","none","full",d,ke,Ae],ue=()=>["",et,cu,fa],Se=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[et,jv,$E,UE],fe=()=>["","none",b,ke,Ae],Pe=()=>["none",et,ke,Ae],Be=()=>["none",et,ke,Ae],xt=()=>[et,ke,Ae],wt=()=>[Cl,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ci],breakpoint:[Ci],color:[WU],container:[Ci],"drop-shadow":[Ci],ease:["in","out","in-out"],font:[YU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ci],shadow:[Ci],spacing:["px",et],text:[Ci],"text-shadow":[Ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cl,Ae,ke,w]}],container:["container"],columns:[{columns:[et,Ae,ke,a]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[mo,"auto",ke,Ae]}],basis:[{basis:[Cl,"full","auto",a,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,Cl,"auto","initial","none",Ae]}],grow:[{grow:["",et,ke,Ae]}],shrink:[{shrink:["",et,ke,Ae]}],order:[{order:[mo,"first","last","none",ke,Ae]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[a,"screen",...re()]}],"min-w":[{"min-w":[a,"screen","none",...re()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,cu,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ke,Fv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jv,Ae]}],"font-family":[{font:[ZU,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ke,Ae]}],"line-clamp":[{"line-clamp":[et,"none",ke,Fv]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",ke,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",ke,fa]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[et,"auto",ke,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mo,ke,Ae],radial:["",ke,Ae],conic:[mo,ke,Ae]},e$,XU]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,ke,Ae]}],"outline-w":[{outline:["",et,cu,fa]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",f,eh,Jf]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",h,eh,Jf]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[et,fa]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",p,eh,Jf]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[et,ke,Ae]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ke,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Ae]}],filter:[{filter:["","none",ke,Ae]}],blur:[{blur:fe()}],brightness:[{brightness:[et,ke,Ae]}],contrast:[{contrast:[et,ke,Ae]}],"drop-shadow":[{"drop-shadow":["","none",m,eh,Jf]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",et,ke,Ae]}],"hue-rotate":[{"hue-rotate":[et,ke,Ae]}],invert:[{invert:["",et,ke,Ae]}],saturate:[{saturate:[et,ke,Ae]}],sepia:[{sepia:["",et,ke,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Ae]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[et,ke,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[et,ke,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,ke,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,ke,Ae]}],"backdrop-invert":[{"backdrop-invert":["",et,ke,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[et,ke,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[et,ke,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",et,ke,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",ke,Ae]}],ease:[{ease:["linear","initial",_,ke,Ae]}],delay:[{delay:[et,ke,Ae]}],animate:[{animate:["none",E,ke,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ke,Ae]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Be()}],"scale-x":[{"scale-x":Be()}],"scale-y":[{"scale-y":Be()}],"scale-z":[{"scale-z":Be()}],"scale-3d":["scale-3d"],skew:[{skew:xt()}],"skew-x":[{"skew-x":xt()}],"skew-y":[{"skew-y":xt()}],transform:[{transform:[ke,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wt()}],"translate-x":[{"translate-x":wt()}],"translate-y":[{"translate-y":wt()}],"translate-z":[{"translate-z":wt()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Ae]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[et,cu,fa,Fv]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},s$=LU(r$),iD=6048e5,i$=864e5,oD=6e4,jw=36e5,BE=Symbol.for("constructDateFrom");function Ps(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&BE in t?t[BE](e):t instanceof Date?new t.constructor(e):new Date(e)}function On(t,e){return Ps(e||t,t)}function xd(t,e,n){const r=On(t,n?.in);return isNaN(e)?Ps(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function o$(t,e,n){return Ps(t,+On(t)+e)}function zE(t,e,n){return o$(t,e*jw)}let a$={};function cp(){return a$}function $a(t,e){const n=cp(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=On(t,e?.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function pg(t,e){return $a(t,{...e,weekStartsOn:1})}function aD(t,e){const n=On(t,e?.in),r=n.getFullYear(),s=Ps(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=pg(s),o=Ps(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=pg(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function HE(t){const e=On(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function l$(t,...e){const n=Ps.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function VE(t,e){const n=On(t,e?.in);return n.setHours(0,0,0,0),n}function c$(t,e,n){const[r,s]=l$(n?.in,t,e),i=VE(r),o=VE(s),a=+i-HE(i),c=+o-HE(o);return Math.round((a-c)/i$)}function u$(t,e){const n=aD(t,e),r=Ps(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),pg(r)}function lD(t,e,n){return xd(t,e*7,n)}function d$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cD(t){return!(!d$(t)&&typeof t!="number"||isNaN(+On(t)))}function f$(t,e){const n=On(t,e?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function uD(t,e){const n=On(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const h$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},g$=(t,e,n)=>{let r;const s=h$[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Lv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const p$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},v$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},y$={date:Lv({formats:p$,defaultWidth:"full"}),time:Lv({formats:m$,defaultWidth:"full"}),dateTime:Lv({formats:v$,defaultWidth:"full"})},b$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},w$=(t,e,n,r)=>b$[t];function uu(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const _$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T$=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},A$={ordinalNumber:T$,era:uu({values:_$,defaultWidth:"wide"}),quarter:uu({values:S$,defaultWidth:"wide",argumentCallback:t=>t-1}),month:uu({values:x$,defaultWidth:"wide"}),day:uu({values:E$,defaultWidth:"wide"}),dayPeriod:uu({values:C$,defaultWidth:"wide",formattingValues:R$,defaultFormattingWidth:"wide"})};function du(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?D$(a,h=>h.test(o)):k$(a,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function k$(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function D$(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function O$(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const I$=/^(\d+)(th|st|nd|rd)?/i,M$=/\d+/i,N$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P$={any:[/^b/i,/^(a|c)/i]},j$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},F$={any:[/1/i,/2/i,/3/i,/4/i]},L$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},z$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V$={ordinalNumber:O$({matchPattern:I$,parsePattern:M$,valueCallback:t=>parseInt(t,10)}),era:du({matchPatterns:N$,defaultMatchWidth:"wide",parsePatterns:P$,defaultParseWidth:"any"}),quarter:du({matchPatterns:j$,defaultMatchWidth:"wide",parsePatterns:F$,defaultParseWidth:"any",valueCallback:t=>t+1}),month:du({matchPatterns:L$,defaultMatchWidth:"wide",parsePatterns:U$,defaultParseWidth:"any"}),day:du({matchPatterns:$$,defaultMatchWidth:"wide",parsePatterns:B$,defaultParseWidth:"any"}),dayPeriod:du({matchPatterns:z$,defaultMatchWidth:"any",parsePatterns:H$,defaultParseWidth:"any"})},W$={code:"en-US",formatDistance:g$,formatLong:y$,formatRelative:w$,localize:A$,match:V$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function q$(t,e){const n=On(t,e?.in);return c$(n,uD(n))+1}function G$(t,e){const n=On(t,e?.in),r=+pg(n)-+u$(n);return Math.round(r/iD)+1}function dD(t,e){const n=On(t,e?.in),r=n.getFullYear(),s=cp(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=Ps(e?.in||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=$a(o,e),c=Ps(e?.in||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=$a(c,e);return+n>=+a?r+1:+n>=+d?r:r-1}function K$(t,e){const n=cp(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=dD(t,e),i=Ps(e?.in||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),$a(i,e)}function Y$(t,e){const n=On(t,e?.in),r=+$a(n,e)-+K$(n,e);return Math.round(r/iD)+1}function Rt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const vo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Rt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Rt(n+1,2)},d(t,e){return Rt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Rt(t.getHours()%12||12,e.length)},H(t,e){return Rt(t.getHours(),e.length)},m(t,e){return Rt(t.getMinutes(),e.length)},s(t,e){return Rt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Rt(s,e.length)}},Rl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return vo.y(t,e)},Y:function(t,e,n,r){const s=dD(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Rt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Rt(i,e.length)},R:function(t,e){const n=aD(t);return Rt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Rt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Rt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Rt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return vo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Rt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Y$(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Rt(s,e.length)},I:function(t,e,n){const r=G$(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Rt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):vo.d(t,e)},D:function(t,e,n){const r=q$(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Rt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Rt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Rt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Rt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Rl.noon:r===0?s=Rl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Rl.evening:r>=12?s=Rl.afternoon:r>=4?s=Rl.morning:s=Rl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return vo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):vo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):vo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):vo.s(t,e)},S:function(t,e){return vo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return GE(r);case"XXXX":case"XX":return ba(r);case"XXXXX":case"XXX":default:return ba(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return GE(r);case"xxxx":case"xx":return ba(r);case"xxxxx":case"xxx":default:return ba(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qE(r,":");case"OOOO":default:return"GMT"+ba(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qE(r,":");case"zzzz":default:return"GMT"+ba(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Rt(r,e.length)},T:function(t,e,n){return Rt(+t,e.length)}};function qE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Rt(i,2)}function GE(t,e){return t%60===0?(t>0?"-":"+")+Rt(Math.abs(t)/60,2):ba(t,e)}function ba(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Rt(Math.trunc(r/60),2),i=Rt(r%60,2);return n+s+e+i}const KE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Q$=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return KE(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",KE(r,e)).replace("{{time}}",fD(s,e))},X$={p:fD,P:Q$},Z$=/^D+$/,J$=/^Y+$/,eB=["D","DD","YY","YYYY"];function tB(t){return Z$.test(t)}function nB(t){return J$.test(t)}function rB(t,e,n){const r=sB(t,e,n);if(console.warn(r),eB.includes(t))throw new RangeError(r)}function sB(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aB=/^'([^]*?)'?$/,lB=/''/g,cB=/[a-zA-Z]/;function kn(t,e,n){const r=cp(),s=r.locale??W$,i=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=On(t,n?.in);if(!cD(a))throw new RangeError("Invalid time value");let c=e.match(oB).map(f=>{const h=f[0];if(h==="p"||h==="P"){const p=X$[h];return p(f,s.formatLong)}return f}).join("").match(iB).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const h=f[0];if(h==="'")return{isToken:!1,value:uB(f)};if(WE[h])return{isToken:!0,value:f};if(h.match(cB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:f}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(f=>{if(!f.isToken)return f.value;const h=f.value;(nB(h)||tB(h))&&rB(h,e,String(t));const p=WE[h[0]];return p(a,h,s.localize,d)}).join("")}function uB(t){const e=t.match(aB);return e?e[1].replace(lB,"'"):t}function dB(t,e){return On(t,e?.in).getDay()}function fB(t,e){return+On(t)>+On(e)}function hB(t,e){const n=()=>Ps(e?.in,NaN),s=vB(t);let i;if(s.date){const d=yB(s.date,2);i=bB(d.restDateString,d.year)}if(!i||isNaN(+i))return n();const o=+i;let a=0,c;if(s.time&&(a=wB(s.time),isNaN(a)))return n();if(s.timezone){if(c=_B(s.timezone),isNaN(c))return n()}else{const d=new Date(o+a),f=On(0,e?.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return On(o+a+c,e?.in)}const th={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vB(t){const e={},n=t.split(th.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],th.timeZoneDelimiter.test(e.date)&&(e.date=t.split(th.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=th.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function yB(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function bB(t,e){if(e===null)return new Date(NaN);const n=t.match(gB);if(!n)return new Date(NaN);const r=!!n[4],s=fu(n[1]),i=fu(n[2])-1,o=fu(n[3]),a=fu(n[4]),c=fu(n[5])-1;if(r)return RB(e,a,c)?SB(e,a,c):new Date(NaN);{const d=new Date(0);return!EB(e,i,o)||!CB(e,s)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(s,o)),d)}}function fu(t){return t?parseInt(t):1}function wB(t){const e=t.match(pB);if(!e)return NaN;const n=Uv(e[1]),r=Uv(e[2]),s=Uv(e[3]);return TB(n,r,s)?n*jw+r*oD+s*1e3:NaN}function Uv(t){return t&&parseFloat(t.replace(",","."))||0}function _B(t){if(t==="Z")return 0;const e=t.match(mB);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return AB(r,s)?n*(r*jw+s*oD):NaN}function SB(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const xB=[31,null,31,30,31,30,31,31,30,31,30,31];function hD(t){return t%400===0||t%4===0&&t%100!==0}function EB(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(xB[e]||(hD(t)?29:28))}function CB(t,e){return e>=1&&e<=(hD(t)?366:365)}function RB(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function TB(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function AB(t,e){return e>=0&&e<=59}function kB(t,e,n){return lD(t,-1,n)}const YE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,QE=Kk,DB=(t,e)=>n=>{var r;if(e?.variants==null)return QE(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const f=n?.[d],h=i?.[d];if(f===null)return null;const p=YE(f)||YE(h);return s[d][p]}),a=n&&Object.entries(n).reduce((d,f)=>{let[h,p]=f;return p===void 0||(d[h]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:h,className:p,...m}=f;return Object.entries(m).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...i,...a}[y]):{...i,...a}[y]===w})?[...d,h,p]:d},[]);return QE(t,o,c,n?.class,n?.className)};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function To(t,e){return typeof t=="function"?t(e):t}function Kr(t,e){return n=>{e.setState(r=>({...r,[t]:To(n,r[t])}))}}function up(t){return t instanceof Function}function OB(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function IB(t,e){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=e(i);o!=null&&o.length&&r(o)})};return r(t),n}function He(t,e,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=t(i);if(!(a.length!==r.length||a.some((f,h)=>r[h]!==f)))return s;r=a;let d;if(n.key&&n.debug&&(d=Date.now()),s=e(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-d)*100)/100,p=h/16,m=(b,y)=>{for(b=String(b);b.length<y;)b=" "+b;return b};console.info(`%c⏱ ${m(h,5)} /${m(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n?.key)}return s}}function Ve(t,e,n,r){return{debug:()=>{var s;return(s=t?.debugAll)!=null?s:t[e]},key:!1,onChange:r}}function MB(t,e,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:t.options.renderFallbackValue},i={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:s,getContext:He(()=>[t,n,e,i],(o,a,c,d)=>({table:o,column:a,row:c,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Ve(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(i,n,e,t)},{}),i}function NB(t,e,n,r){var s,i;const a={...t._getDefaultColumnDef(),...e},c=a.accessorKey;let d=(s=(i=a.id)!=null?i:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,f;if(a.accessorFn?f=a.accessorFn:c&&(c.includes(".")?f=p=>{let m=p;for(const y of c.split(".")){var b;m=(b=m)==null?void 0:b[y]}return m}:f=p=>p[a.accessorKey]),!d)throw new Error;let h={id:`${String(d)}`,accessorFn:f,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:He(()=>[!0],()=>{var p;return[h,...(p=h.columns)==null?void 0:p.flatMap(m=>m.getFlatColumns())]},Ve(t.options,"debugColumns")),getLeafColumns:He(()=>[t._getOrderColumnsFn()],p=>{var m;if((m=h.columns)!=null&&m.length){let b=h.columns.flatMap(y=>y.getLeafColumns());return p(b)}return[h]},Ve(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(h,t);return h}const Zn="debugHeaders";function XE(t,e,n){var r;let i={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(a),o.push(c)};return a(i),o},getContext:()=>({table:t,header:i,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(i,t)}),i}const PB={createTable:t=>{t.getHeaderGroups=He(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>{var i,o;const a=(i=r?.map(h=>n.find(p=>p.id===h)).filter(Boolean))!=null?i:[],c=(o=s?.map(h=>n.find(p=>p.id===h)).filter(Boolean))!=null?o:[],d=n.filter(h=>!(r!=null&&r.includes(h.id))&&!(s!=null&&s.includes(h.id)));return nh(e,[...a,...d,...c],t)},Ve(t.options,Zn)),t.getCenterHeaderGroups=He(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),nh(e,n,t,"center")),Ve(t.options,Zn)),t.getLeftHeaderGroups=He(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var s;const i=(s=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return nh(e,i,t,"left")},Ve(t.options,Zn)),t.getRightHeaderGroups=He(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var s;const i=(s=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return nh(e,i,t,"right")},Ve(t.options,Zn)),t.getFooterGroups=He(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ve(t.options,Zn)),t.getLeftFooterGroups=He(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ve(t.options,Zn)),t.getCenterFooterGroups=He(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ve(t.options,Zn)),t.getRightFooterGroups=He(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ve(t.options,Zn)),t.getFlatHeaders=He(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ve(t.options,Zn)),t.getLeftFlatHeaders=He(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ve(t.options,Zn)),t.getCenterFlatHeaders=He(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ve(t.options,Zn)),t.getRightFlatHeaders=He(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ve(t.options,Zn)),t.getCenterLeafHeaders=He(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ve(t.options,Zn)),t.getLeftLeafHeaders=He(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ve(t.options,Zn)),t.getRightLeafHeaders=He(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ve(t.options,Zn)),t.getLeafHeaders=He(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var s,i,o,a,c,d;return[...(s=(i=e[0])==null?void 0:i.headers)!=null?s:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(c=(d=r[0])==null?void 0:d.headers)!=null?c:[]].map(f=>f.getLeafHeaders()).flat()},Ve(t.options,Zn))}};function nh(t,e,n,r){var s,i;let o=0;const a=function(p,m){m===void 0&&(m=1),o=Math.max(o,m),p.filter(b=>b.getIsVisible()).forEach(b=>{var y;(y=b.columns)!=null&&y.length&&a(b.columns,m+1)},0)};a(t);let c=[];const d=(p,m)=>{const b={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},y=[];p.forEach(w=>{const _=[...y].reverse()[0],E=w.column.depth===b.depth;let T,k=!1;if(E&&w.column.parent?T=w.column.parent:(T=w.column,k=!0),_&&_?.column===T)_.subHeaders.push(w);else{const A=XE(n,T,{id:[r,m,T.id,w?.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${y.filter(I=>I.column===T).length}`:void 0,depth:m,index:y.length});A.subHeaders.push(w),y.push(A)}b.headers.push(w),w.headerGroup=b}),c.push(b),m>0&&d(y,m-1)},f=e.map((p,m)=>XE(n,p,{depth:o,index:m}));d(f,o-1),c.reverse();const h=p=>p.filter(b=>b.column.getIsVisible()).map(b=>{let y=0,w=0,_=[0];b.subHeaders&&b.subHeaders.length?(_=[],h(b.subHeaders).forEach(T=>{let{colSpan:k,rowSpan:A}=T;y+=k,_.push(A)})):y=1;const E=Math.min(..._);return w=w+E,b.colSpan=y,b.rowSpan=w,{colSpan:y,rowSpan:w}});return h((s=(i=c[0])==null?void 0:i.headers)!=null?s:[]),c}const jB=(t,e,n,r,s,i,o)=>{let a={id:e,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(a._valuesCache.hasOwnProperty(c))return a._valuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return a._valuesCache[c]=d.accessorFn(a.original,r),a._valuesCache[c]},getUniqueValues:c=>{if(a._uniqueValuesCache.hasOwnProperty(c))return a._uniqueValuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(a._uniqueValuesCache[c]=d.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[c]):(a._uniqueValuesCache[c]=[a.getValue(c)],a._uniqueValuesCache[c])},renderValue:c=>{var d;return(d=a.getValue(c))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>IB(a.subRows,c=>c.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let c=[],d=a;for(;;){const f=d.getParentRow();if(!f)break;c.push(f),d=f}return c.reverse()},getAllCells:He(()=>[t.getAllLeafColumns()],c=>c.map(d=>MB(t,a,d,d.id)),Ve(t.options,"debugRows")),_getAllCellsByColumnId:He(()=>[a.getAllCells()],c=>c.reduce((d,f)=>(d[f.column.id]=f,d),{}),Ve(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const d=t._features[c];d==null||d.createRow==null||d.createRow(a,t)}return a},FB={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},gD=(t,e,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=t.getValue(e))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};gD.autoRemove=t=>Ms(t);const pD=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};pD.autoRemove=t=>Ms(t);const mD=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};mD.autoRemove=t=>Ms(t);const vD=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};vD.autoRemove=t=>Ms(t);const yD=(t,e,n)=>!n.some(r=>{var s;return!((s=t.getValue(e))!=null&&s.includes(r))});yD.autoRemove=t=>Ms(t)||!(t!=null&&t.length);const bD=(t,e,n)=>n.some(r=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(r)});bD.autoRemove=t=>Ms(t)||!(t!=null&&t.length);const wD=(t,e,n)=>t.getValue(e)===n;wD.autoRemove=t=>Ms(t);const _D=(t,e,n)=>t.getValue(e)==n;_D.autoRemove=t=>Ms(t);const Fw=(t,e,n)=>{let[r,s]=n;const i=t.getValue(e);return i>=r&&i<=s};Fw.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,s=typeof n!="number"?parseFloat(n):n,i=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const a=i;i=o,o=a}return[i,o]};Fw.autoRemove=t=>Ms(t)||Ms(t[0])&&Ms(t[1]);const Oi={includesString:gD,includesStringSensitive:pD,equalsString:mD,arrIncludes:vD,arrIncludesAll:yD,arrIncludesSome:bD,equals:wD,weakEquals:_D,inNumberRange:Fw};function Ms(t){return t==null||t===""}const LB={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Kr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?Oi.includesString:typeof r=="number"?Oi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Oi.equals:Array.isArray(r)?Oi.arrIncludes:Oi.weakEquals},t.getFilterFn=()=>{var n,r;return up(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:Oi[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,s;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const s=t.getFilterFn(),i=r?.find(f=>f.id===t.id),o=To(n,i?i.value:void 0);if(ZE(s,o,t)){var a;return(a=r?.filter(f=>f.id!==t.id))!=null?a:[]}const c={id:t.id,value:o};if(i){var d;return(d=r?.map(f=>f.id===t.id?c:f))!=null?d:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=s=>{var i;return(i=To(e,s))==null?void 0:i.filter(o=>{const a=n.find(c=>c.id===o.id);if(a){const c=a.getFilterFn();if(ZE(c,o.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function ZE(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const UB=(t,e,n)=>n.reduce((r,s)=>{const i=s.getValue(t);return r+(typeof i=="number"?i:0)},0),$B=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},BB=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},zB=(t,e,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},HB=(t,e)=>{let n=0,r=0;if(e.forEach(s=>{let i=s.getValue(t);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},VB=(t,e)=>{if(!e.length)return;const n=e.map(i=>i.getValue(t));if(!OB(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},WB=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),qB=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,GB=(t,e)=>e.length,$v={sum:UB,min:$B,max:BB,extent:zB,mean:HB,median:VB,unique:WB,uniqueCount:qB,count:GB},KB={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Kr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return $v.sum;if(Object.prototype.toString.call(r)==="[object Date]")return $v.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return up(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:$v[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var s;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function YB(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(i=>!e.includes(i.id));return n==="remove"?r:[...e.map(i=>t.find(o=>o.id===i)).filter(Boolean),...r]}const QB={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Kr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=He(n=>[Tu(e,n)],n=>n.findIndex(r=>r.id===t.id),Ve(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Tu(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const s=Tu(e,n);return((r=s[s.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=He(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>s=>{let i=[];if(!(e!=null&&e.length))i=s;else{const o=[...e],a=[...s];for(;a.length&&o.length;){const c=o.shift(),d=a.findIndex(f=>f.id===c);d>-1&&i.push(a.splice(d,1)[0])}i=[...i,...a]}return YB(i,n,r)},Ve(t.options,"debugTable"))}},Bv=()=>({left:[],right:[]}),XB={getInitialState:t=>({columnPinning:Bv(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Kr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(s=>s.id).filter(Boolean);e.setColumnPinning(s=>{var i,o;if(n==="right"){var a,c;return{left:((a=s?.left)!=null?a:[]).filter(h=>!(r!=null&&r.includes(h))),right:[...((c=s?.right)!=null?c:[]).filter(h=>!(r!=null&&r.includes(h))),...r]}}if(n==="left"){var d,f;return{left:[...((d=s?.left)!=null?d:[]).filter(h=>!(r!=null&&r.includes(h))),...r],right:((f=s?.right)!=null?f:[]).filter(h=>!(r!=null&&r.includes(h)))}}return{left:((i=s?.left)!=null?i:[]).filter(h=>!(r!=null&&r.includes(h))),right:((o=s?.right)!=null?o:[]).filter(h=>!(r!=null&&r.includes(h)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?i:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(a=>a.id),{left:r,right:s}=e.getState().columnPinning,i=n.some(a=>r?.includes(a)),o=n.some(a=>s?.includes(a));return i?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();return s?(n=(r=e.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=He(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},Ve(e.options,"debugRows")),t.getLeftVisibleCells=He(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),Ve(e.options,"debugRows")),t.getRightVisibleCells=He(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),Ve(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?Bv():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:Bv())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=He(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),Ve(t.options,"debugColumns")),t.getRightLeafColumns=He(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),Ve(t.options,"debugColumns")),t.getCenterLeafColumns=He(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const s=[...n??[],...r??[]];return e.filter(i=>!s.includes(i.id))},Ve(t.options,"debugColumns"))}};function ZB(t){return t||(typeof document<"u"?document:null)}const rh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},zv=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),JB={getDefaultColumnDef:()=>rh,getInitialState:t=>({columnSizing:{},columnSizingInfo:zv(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Kr("columnSizing",t),onColumnSizingInfoChange:Kr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,s;const i=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:rh.minSize,(r=i??t.columnDef.size)!=null?r:rh.size),(s=t.columnDef.maxSize)!=null?s:rh.maxSize)},t.getStart=He(n=>[n,Tu(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),Ve(e.options,"debugColumns")),t.getAfter=He(n=>[n,Tu(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),Ve(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...s}=n;return s})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),s=r?.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),Hv(i)&&i.touches&&i.touches.length>1))return;const o=t.getSize(),a=t?t.getLeafHeaders().map(_=>[_.column.id,_.column.getSize()]):[[r.id,r.getSize()]],c=Hv(i)?Math.round(i.touches[0].clientX):i.clientX,d={},f=(_,E)=>{typeof E=="number"&&(e.setColumnSizingInfo(T=>{var k,A;const I=e.options.columnResizeDirection==="rtl"?-1:1,M=(E-((k=T?.startOffset)!=null?k:0))*I,D=Math.max(M/((A=T?.startSize)!=null?A:0),-.999999);return T.columnSizingStart.forEach(P=>{let[j,z]=P;d[j]=Math.round(Math.max(z+z*D,0)*100)/100}),{...T,deltaOffset:M,deltaPercentage:D}}),(e.options.columnResizeMode==="onChange"||_==="end")&&e.setColumnSizing(T=>({...T,...d})))},h=_=>f("move",_),p=_=>{f("end",_),e.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=ZB(n),b={moveHandler:_=>h(_.clientX),upHandler:_=>{m?.removeEventListener("mousemove",b.moveHandler),m?.removeEventListener("mouseup",b.upHandler),p(_.clientX)}},y={moveHandler:_=>(_.cancelable&&(_.preventDefault(),_.stopPropagation()),h(_.touches[0].clientX),!1),upHandler:_=>{var E;m?.removeEventListener("touchmove",y.moveHandler),m?.removeEventListener("touchend",y.upHandler),_.cancelable&&(_.preventDefault(),_.stopPropagation()),p((E=_.touches[0])==null?void 0:E.clientX)}},w=ez()?{passive:!1}:!1;Hv(i)?(m?.addEventListener("touchmove",y.moveHandler,w),m?.addEventListener("touchend",y.upHandler,w)):(m?.addEventListener("mousemove",b.moveHandler,w),m?.addEventListener("mouseup",b.upHandler,w)),e.setColumnSizingInfo(_=>({..._,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?zv():(n=t.initialState.columnSizingInfo)!=null?n:zv())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0}}};let sh=null;function ez(){if(typeof sh=="boolean")return sh;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return sh=t,sh}function Hv(t){return t.type==="touchstart"}const tz={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Kr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const s=t.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=He(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ve(e.options,"debugRows")),t.getVisibleCells=He(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],Ve(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>He(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),Ve(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Tu(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const nz={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},rz={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Kr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,s,i;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&((i=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?i:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Oi.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return up(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:Oi[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},sz={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Kr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var s,i;t.setExpanded(r?{}:(s=(i=t.initialState)==null?void 0:i.expanded)!=null?s:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[t.id]:!0};if(i&&!n){const{[t.id]:a,...c}=o;return c}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,s;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((s=t.subRows)!=null&&s.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},hb=0,gb=10,Vv=()=>({pageIndex:hb,pageSize:gb}),iz={getInitialState:t=>({...t,pagination:{...Vv(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Kr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const s=i=>To(r,i);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(s)},t.resetPagination=r=>{var s;t.setPagination(r?Vv():(s=t.initialState.pagination)!=null?s:Vv())},t.setPageIndex=r=>{t.setPagination(s=>{let i=To(r,s.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},t.resetPageIndex=r=>{var s,i;t.setPageIndex(r?hb:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:hb)},t.resetPageSize=r=>{var s,i;t.setPageSize(r?gb:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:gb)},t.setPageSize=r=>{t.setPagination(s=>{const i=Math.max(1,To(r,s.pageSize)),o=s.pageSize*s.pageIndex,a=Math.floor(o/i);return{...s,pageIndex:a,pageSize:i}})},t.setPageCount=r=>t.setPagination(s=>{var i;let o=To(r,(i=t.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),t.getPageOptions=He(()=>[t.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},Ve(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,s=t.getPageCount();return s===-1?!0:s===0?!1:r<s-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},Wv=()=>({top:[],bottom:[]}),oz={getInitialState:t=>({rowPinning:Wv(),...t}),getDefaultOptions:t=>({onRowPinningChange:Kr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,s)=>{const i=r?t.getLeafRows().map(c=>{let{id:d}=c;return d}):[],o=s?t.getParentRows().map(c=>{let{id:d}=c;return d}):[],a=new Set([...o,t.id,...i]);e.setRowPinning(c=>{var d,f;if(n==="bottom"){var h,p;return{top:((h=c?.top)!=null?h:[]).filter(y=>!(a!=null&&a.has(y))),bottom:[...((p=c?.bottom)!=null?p:[]).filter(y=>!(a!=null&&a.has(y))),...Array.from(a)]}}if(n==="top"){var m,b;return{top:[...((m=c?.top)!=null?m:[]).filter(y=>!(a!=null&&a.has(y))),...Array.from(a)],bottom:((b=c?.bottom)!=null?b:[]).filter(y=>!(a!=null&&a.has(y)))}}return{top:((d=c?.top)!=null?d:[]).filter(y=>!(a!=null&&a.has(y))),bottom:((f=c?.bottom)!=null?f:[]).filter(y=>!(a!=null&&a.has(y)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=e.options;return typeof r=="function"?r(t):(n=r??s)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:s}=e.getState().rowPinning,i=n.some(a=>r?.includes(a)),o=n.some(a=>s?.includes(a));return i?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();if(!s)return-1;const i=(n=s==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=i?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?Wv():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:Wv())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var s;return((s=t.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const a=t.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>e.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=He(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ve(t.options,"debugRows")),t.getBottomRows=He(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ve(t.options,"debugRows")),t.getCenterRows=He(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const s=new Set([...n??[],...r??[]]);return e.filter(i=>!s.has(i.id))},Ve(t.options,"debugRows"))}},az={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Kr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},s=t.getPreGroupedRowModel().flatRows;return e?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),s={...n};return t.getRowModel().rows.forEach(i=>{pb(s,i.id,r,!0,t)}),s}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=He(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?qv(t,n):{rows:[],flatRows:[],rowsById:{}},Ve(t.options,"debugTable")),t.getFilteredSelectedRowModel=He(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?qv(t,n):{rows:[],flatRows:[],rowsById:{}},Ve(t.options,"debugTable")),t.getGroupedSelectedRowModel=He(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?qv(t,n):{rows:[],flatRows:[],rowsById:{}},Ve(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(s=>!n[s.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const s=t.getIsSelected();e.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,t.getCanSelect()&&s===n)return i;const a={...i};return pb(a,t.id,n,(o=r?.selectChildren)!=null?o:!0,e),a})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return Lw(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return mb(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return mb(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var s;n&&t.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},pb=(t,e,n,r,s)=>{var i;const o=s.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(a=>delete t[a]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>pb(t,a.id,n,r,s))};function qv(t,e){const n=t.getState().rowSelection,r=[],s={},i=function(o,a){return o.map(c=>{var d;const f=Lw(c,n);if(f&&(r.push(c),s[c.id]=c),(d=c.subRows)!=null&&d.length&&(c={...c,subRows:i(c.subRows)}),f)return c}).filter(Boolean)};return{rows:i(e.rows),flatRows:r,rowsById:s}}function Lw(t,e){var n;return(n=e[t.id])!=null?n:!1}function mb(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return t.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(Lw(o,e)?i=!0:s=!1),o.subRows&&o.subRows.length)){const a=mb(o,e);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const vb=/([0-9]+)/gm,lz=(t,e,n)=>SD(Lo(t.getValue(n)).toLowerCase(),Lo(e.getValue(n)).toLowerCase()),cz=(t,e,n)=>SD(Lo(t.getValue(n)),Lo(e.getValue(n))),uz=(t,e,n)=>Uw(Lo(t.getValue(n)).toLowerCase(),Lo(e.getValue(n)).toLowerCase()),dz=(t,e,n)=>Uw(Lo(t.getValue(n)),Lo(e.getValue(n))),fz=(t,e,n)=>{const r=t.getValue(n),s=e.getValue(n);return r>s?1:r<s?-1:0},hz=(t,e,n)=>Uw(t.getValue(n),e.getValue(n));function Uw(t,e){return t===e?0:t>e?1:-1}function Lo(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function SD(t,e){const n=t.split(vb).filter(Boolean),r=e.split(vb).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),a=parseInt(i,10),c=[o,a].sort();if(isNaN(c[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const hu={alphanumeric:lz,alphanumericCaseSensitive:cz,text:uz,textCaseSensitive:dz,datetime:fz,basic:hz},gz={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Kr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s?.getValue(t.id);if(Object.prototype.toString.call(i)==="[object Date]")return hu.datetime;if(typeof i=="string"&&(r=!0,i.split(vb).length>1))return hu.alphanumeric}return r?hu.text:hu.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return up(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:hu[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const s=t.getNextSortingOrder(),i=typeof n<"u"&&n!==null;e.setSorting(o=>{const a=o?.find(m=>m.id===t.id),c=o?.findIndex(m=>m.id===t.id);let d=[],f,h=i?n:s==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?a?f="toggle":f="add":o!=null&&o.length&&c!==o.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(i||s||(f="remove")),f==="add"){var p;d=[...o,{id:t.id,desc:h}],d.splice(0,d.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else f==="toggle"?d=o.map(m=>m.id===t.id?{...m,desc:h}:m):f==="remove"?d=o.filter(m=>m.id!==t.id):d=[{id:t.id,desc:h}];return d})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,s;const i=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==i&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(s=e.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(s=>s.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},pz=[PB,tz,QB,XB,FB,LB,nz,rz,gz,KB,sz,iz,oz,az,JB];function mz(t){var e,n;const r=[...pz,...(e=t._features)!=null?e:[]];let s={_features:r};const i=s._features.reduce((p,m)=>Object.assign(p,m.getDefaultOptions==null?void 0:m.getDefaultOptions(s)),{}),o=p=>s.options.mergeOptions?s.options.mergeOptions(i,p):{...i,...p};let c={...{},...(n=t.initialState)!=null?n:{}};s._features.forEach(p=>{var m;c=(m=p.getInitialState==null?void 0:p.getInitialState(c))!=null?m:c});const d=[];let f=!1;const h={_features:r,options:{...i,...t},initialState:c,_queue:p=>{d.push(p),f||(f=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();f=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{s.setState(s.initialState)},setOptions:p=>{const m=To(p,s.options);s.options=o(m)},getState:()=>s.options.state,setState:p=>{s.options.onStateChange==null||s.options.onStateChange(p)},_getRowId:(p,m,b)=>{var y;return(y=s.options.getRowId==null?void 0:s.options.getRowId(p,m,b))!=null?y:`${b?[b.id,m].join("."):m}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(p,m)=>{let b=(m?s.getPrePaginationRowModel():s.getRowModel()).rowsById[p];if(!b&&(b=s.getCoreRowModel().rowsById[p],!b))throw new Error;return b},_getDefaultColumnDef:He(()=>[s.options.defaultColumn],p=>{var m;return p=(m=p)!=null?m:{},{header:b=>{const y=b.header.column.columnDef;return y.accessorKey?y.accessorKey:y.accessorFn?y.id:null},cell:b=>{var y,w;return(y=(w=b.renderValue())==null||w.toString==null?void 0:w.toString())!=null?y:null},...s._features.reduce((b,y)=>Object.assign(b,y.getDefaultColumnDef==null?void 0:y.getDefaultColumnDef()),{}),...p}},Ve(t,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:He(()=>[s._getColumnDefs()],p=>{const m=function(b,y,w){return w===void 0&&(w=0),b.map(_=>{const E=NB(s,_,w,y),T=_;return E.columns=T.columns?m(T.columns,E,w+1):[],E})};return m(p)},Ve(t,"debugColumns")),getAllFlatColumns:He(()=>[s.getAllColumns()],p=>p.flatMap(m=>m.getFlatColumns()),Ve(t,"debugColumns")),_getAllFlatColumnsById:He(()=>[s.getAllFlatColumns()],p=>p.reduce((m,b)=>(m[b.id]=b,m),{}),Ve(t,"debugColumns")),getAllLeafColumns:He(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(p,m)=>{let b=p.flatMap(y=>y.getLeafColumns());return m(b)},Ve(t,"debugColumns")),getColumn:p=>s._getAllFlatColumnsById()[p]};Object.assign(s,h);for(let p=0;p<s._features.length;p++){const m=s._features[p];m==null||m.createTable==null||m.createTable(s)}return s}function vz(){return t=>He(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const a=[];for(let d=0;d<s.length;d++){const f=jB(t,t._getRowId(s[d],d,o),s[d],d,i,void 0,o?.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,a.push(f),t.options.getSubRows){var c;f.originalSubRows=t.options.getSubRows(s[d],d),(c=f.originalSubRows)!=null&&c.length&&(f.subRows=r(f.originalSubRows,i+1,f))}}return a};return n.rows=r(e),n},Ve(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function yz(){return t=>He(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,s=[],i=r.filter(c=>{var d;return(d=t.getColumn(c.id))==null?void 0:d.getCanSort()}),o={};i.forEach(c=>{const d=t.getColumn(c.id);d&&(o[c.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const a=c=>{const d=c.map(f=>({...f}));return d.sort((f,h)=>{for(let m=0;m<i.length;m+=1){var p;const b=i[m],y=o[b.id],w=y.sortUndefined,_=(p=b?.desc)!=null?p:!1;let E=0;if(w){const T=f.getValue(b.id),k=h.getValue(b.id),A=T===void 0,I=k===void 0;if(A||I){if(w==="first")return A?-1:1;if(w==="last")return A?1:-1;E=A&&I?0:A?w:-w}}if(E===0&&(E=y.sortingFn(f,h,b.id)),E!==0)return _&&(E*=-1),y.invertSorting&&(E*=-1),E}return f.index-h.index}),d.forEach(f=>{var h;s.push(f),(h=f.subRows)!=null&&h.length&&(f.subRows=a(f.subRows))}),d};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},Ve(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function JE(t,e){return t?bz(t)?C.createElement(t,e):t:null}function bz(t){return wz(t)||typeof t=="function"||_z(t)}function wz(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function _z(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Sz(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=C.useState(()=>({current:mz(e)})),[r,s]=C.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...t,state:{...r,...t.state},onStateChange:o=>{s(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}var Ed=t=>t.type==="checkbox",Da=t=>t instanceof Date,Or=t=>t==null;const xD=t=>typeof t=="object";var yn=t=>!Or(t)&&!Array.isArray(t)&&xD(t)&&!Da(t),xz=t=>yn(t)&&t.target?Ed(t.target)?t.target.checked:t.target.value:t,Ez=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Cz=(t,e)=>t.has(Ez(e)),Rz=t=>{const e=t.constructor&&t.constructor.prototype;return yn(e)&&e.hasOwnProperty("isPrototypeOf")},$w=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!($w&&(t instanceof Blob||r))&&(n||yn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!Rz(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=jn(t[s]));else return t;return e}var dp=t=>/^\w*$/.test(t),fn=t=>t===void 0,Bw=t=>Array.isArray(t)?t.filter(Boolean):[],zw=t=>Bw(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(t,e,n)=>{if(!e||!yn(t))return n;const r=(dp(e)?[e]:zw(e)).reduce((s,i)=>Or(s)?s:s[i],t);return fn(r)||r===t?fn(t[e])?n:t[e]:r},ni=t=>typeof t=="boolean",Ht=(t,e,n)=>{let r=-1;const s=dp(e)?[e]:zw(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let c=n;if(r!==o){const d=t[a];c=yn(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=c,t=t[a]}};const eC={BLUR:"blur",FOCUS_OUT:"focusout"},As={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ri={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Tz=ie.createContext(null);Tz.displayName="HookFormContext";var Az=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==As.all&&(e._proxyFormState[o]=!r||As.all),t[o]}});return s};const kz=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;var zr=t=>typeof t=="string",Dz=(t,e,n,r,s)=>zr(t)?(r&&e.watch.add(t),Oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Oe(n,i))):(r&&(e.watchAll=!0),n),yb=t=>Or(t)||!xD(t);function Co(t,e,n=new WeakSet){if(yb(t)||yb(e))return t===e;if(Da(t)&&Da(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Da(o)&&Da(a)||yn(o)&&yn(a)||Array.isArray(o)&&Array.isArray(a)?!Co(o,a,n):o!==a)return!1}}return!0}var Oz=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Au=t=>Array.isArray(t)?t:[t],tC=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function ED(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&yn(s)&&i){const o=ED(s,i);yn(o)&&(n[r]=o)}else t[r]&&(n[r]=i)}return n}var Ar=t=>yn(t)&&!Object.keys(t).length,Hw=t=>t.type==="file",ks=t=>typeof t=="function",mg=t=>{if(!$w)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},CD=t=>t.type==="select-multiple",Vw=t=>t.type==="radio",Iz=t=>Vw(t)||Ed(t),Gv=t=>mg(t)&&t.isConnected;function Mz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=fn(t)?r++:t[e[r++]];return t}function Nz(t){for(const e in t)if(t.hasOwnProperty(e)&&!fn(t[e]))return!1;return!0}function mn(t,e){const n=Array.isArray(e)?e:dp(e)?[e]:zw(e),r=n.length===1?t:Mz(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(yn(r)&&Ar(r)||Array.isArray(r)&&Nz(r))&&mn(t,n.slice(0,-1)),t}var Pz=t=>{for(const e in t)if(ks(t[e]))return!0;return!1};function RD(t){return Array.isArray(t)||yn(t)&&!Pz(t)}function bb(t,e={}){for(const n in t)RD(t[n])?(e[n]=Array.isArray(t[n])?[]:{},bb(t[n],e[n])):fn(t[n])||(e[n]=!0);return e}function Ul(t,e,n){n||(n=bb(e));for(const r in t)RD(t[r])?fn(e)||yb(n[r])?n[r]=bb(t[r],Array.isArray(t[r])?[]:{}):Ul(t[r],Or(e)?{}:e[r],n[r]):n[r]=!Co(t[r],e[r]);return n}const nC={value:!1,isValid:!1},rC={value:!0,isValid:!0};var TD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!fn(t[0].attributes.value)?fn(t[0].value)||t[0].value===""?rC:{value:t[0].value,isValid:!0}:rC:nC}return nC},AD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>fn(t)?t:e?t===""?NaN:t&&+t:n&&zr(t)?new Date(t):r?r(t):t;const sC={isValid:!1,value:null};var kD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,sC):sC;function iC(t){const e=t.ref;return Hw(e)?e.files:Vw(e)?kD(t.refs).value:CD(e)?[...e.selectedOptions].map(({value:n})=>n):Ed(e)?TD(t.refs).value:AD(fn(e.value)?t.ref.value:e.value,t)}var jz=(t,e,n,r)=>{const s={};for(const i of t){const o=Oe(e,i);o&&Ht(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},vg=t=>t instanceof RegExp,gu=t=>fn(t)?t:vg(t)?t.source:yn(t)?vg(t.value)?t.value.source:t.value:t,oC=t=>({isOnSubmit:!t||t===As.onSubmit,isOnBlur:t===As.onBlur,isOnChange:t===As.onChange,isOnAll:t===As.all,isOnTouch:t===As.onTouched});const aC="AsyncFunction";var Fz=t=>!!t&&!!t.validate&&!!(ks(t.validate)&&t.validate.constructor.name===aC||yn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===aC)),Lz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),lC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ku=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Oe(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ku(a,e))break}else if(yn(a)&&ku(a,e))break}}};function cC(t,e,n){const r=Oe(t,n);if(r||dp(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=Oe(e,i),a=Oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var Uz=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Ar(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||As.all))},$z=(t,e,n)=>!t||!e||t===e||Au(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Bz=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,zz=(t,e)=>!Bw(Oe(t,e)).length&&mn(t,e),Hz=(t,e,n)=>{const r=Au(Oe(t,n));return Ht(r,"root",e[n]),Ht(t,n,r),t};function uC(t,e,n="validate"){if(zr(t)||Array.isArray(t)&&t.every(zr)||ni(t)&&!t)return{type:n,message:zr(t)?t:"",ref:e}}var Tl=t=>yn(t)&&!vg(t)?t:{value:t,message:""},dC=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:c,maxLength:d,minLength:f,min:h,max:p,pattern:m,validate:b,name:y,valueAsNumber:w,mount:_}=t._f,E=Oe(n,y);if(!_||e.has(y))return{};const T=a?a[0]:o,k=G=>{s&&T.reportValidity&&(T.setCustomValidity(ni(G)?"":G||""),T.reportValidity())},A={},I=Vw(o),M=Ed(o),D=I||M,P=(w||Hw(o))&&fn(o.value)&&fn(E)||mg(o)&&o.value===""||E===""||Array.isArray(E)&&!E.length,j=Oz.bind(null,y,r,A),z=(G,Q,oe,ce=Ri.maxLength,ee=Ri.minLength)=>{const re=G?Q:oe;A[y]={type:G?ce:ee,message:re,ref:o,...j(G?ce:ee,re)}};if(i?!Array.isArray(E)||!E.length:c&&(!D&&(P||Or(E))||ni(E)&&!E||M&&!TD(a).isValid||I&&!kD(a).isValid)){const{value:G,message:Q}=zr(c)?{value:!!c,message:c}:Tl(c);if(G&&(A[y]={type:Ri.required,message:Q,ref:T,...j(Ri.required,Q)},!r))return k(Q),A}if(!P&&(!Or(h)||!Or(p))){let G,Q;const oe=Tl(p),ce=Tl(h);if(!Or(E)&&!isNaN(E)){const ee=o.valueAsNumber||E&&+E;Or(oe.value)||(G=ee>oe.value),Or(ce.value)||(Q=ee<ce.value)}else{const ee=o.valueAsDate||new Date(E),re=Z=>new Date(new Date().toDateString()+" "+Z),$=o.type=="time",B=o.type=="week";zr(oe.value)&&E&&(G=$?re(E)>re(oe.value):B?E>oe.value:ee>new Date(oe.value)),zr(ce.value)&&E&&(Q=$?re(E)<re(ce.value):B?E<ce.value:ee<new Date(ce.value))}if((G||Q)&&(z(!!G,oe.message,ce.message,Ri.max,Ri.min),!r))return k(A[y].message),A}if((d||f)&&!P&&(zr(E)||i&&Array.isArray(E))){const G=Tl(d),Q=Tl(f),oe=!Or(G.value)&&E.length>+G.value,ce=!Or(Q.value)&&E.length<+Q.value;if((oe||ce)&&(z(oe,G.message,Q.message),!r))return k(A[y].message),A}if(m&&!P&&zr(E)){const{value:G,message:Q}=Tl(m);if(vg(G)&&!E.match(G)&&(A[y]={type:Ri.pattern,message:Q,ref:o,...j(Ri.pattern,Q)},!r))return k(Q),A}if(b){if(ks(b)){const G=await b(E,n),Q=uC(G,T);if(Q&&(A[y]={...Q,...j(Ri.validate,Q.message)},!r))return k(Q.message),A}else if(yn(b)){let G={};for(const Q in b){if(!Ar(G)&&!r)break;const oe=uC(await b[Q](E,n),T,Q);oe&&(G={...oe,...j(Q,oe.message)},k(oe.message),r&&(A[y]=G))}if(!Ar(G)&&(A[y]={ref:T,...G},!r))return A}}return k(!0),A};const Vz={mode:As.onSubmit,reValidateMode:As.onChange,shouldFocusError:!0};function Wz(t={}){let e={...Vz,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ks(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=yn(e.defaultValues)||yn(e.values)?jn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:jn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const p={array:tC(),state:tC()},m=e.criteriaMode===As.all,b=N=>W=>{clearTimeout(d),d=setTimeout(N,W)},y=async N=>{if(!e.disabled&&(f.isValid||h.isValid||N)){const W=e.resolver?Ar((await M()).errors):await P(r,!0);W!==n.isValid&&p.state.next({isValid:W})}},w=(N,W)=>{!e.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((N||Array.from(a.mount)).forEach(K=>{K&&(W?Ht(n.validatingFields,K,W):mn(n.validatingFields,K))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ar(n.validatingFields)}))},_=(N,W=[],K,q,se=!0,ae=!0)=>{if(q&&K&&!e.disabled){if(o.action=!0,ae&&Array.isArray(Oe(r,N))){const pe=K(Oe(r,N),q.argA,q.argB);se&&Ht(r,N,pe)}if(ae&&Array.isArray(Oe(n.errors,N))){const pe=K(Oe(n.errors,N),q.argA,q.argB);se&&Ht(n.errors,N,pe),zz(n.errors,N)}if((f.touchedFields||h.touchedFields)&&ae&&Array.isArray(Oe(n.touchedFields,N))){const pe=K(Oe(n.touchedFields,N),q.argA,q.argB);se&&Ht(n.touchedFields,N,pe)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Ul(s,i)),p.state.next({name:N,isDirty:z(N,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ht(i,N,W)},E=(N,W)=>{Ht(n.errors,N,W),p.state.next({errors:n.errors})},T=N=>{n.errors=N,p.state.next({errors:n.errors,isValid:!1})},k=(N,W,K,q)=>{const se=Oe(r,N);if(se){const ae=Oe(i,N,fn(K)?Oe(s,N):K);fn(ae)||q&&q.defaultChecked||W?Ht(i,N,W?ae:iC(se._f)):oe(N,ae),o.mount&&y()}},A=(N,W,K,q,se)=>{let ae=!1,pe=!1;const ve={name:N};if(!e.disabled){if(!K||q){(f.isDirty||h.isDirty)&&(pe=n.isDirty,n.isDirty=ve.isDirty=z(),ae=pe!==ve.isDirty);const be=Co(Oe(s,N),W);pe=!!Oe(n.dirtyFields,N),be?mn(n.dirtyFields,N):Ht(n.dirtyFields,N,!0),ve.dirtyFields=n.dirtyFields,ae=ae||(f.dirtyFields||h.dirtyFields)&&pe!==!be}if(K){const be=Oe(n.touchedFields,N);be||(Ht(n.touchedFields,N,K),ve.touchedFields=n.touchedFields,ae=ae||(f.touchedFields||h.touchedFields)&&be!==K)}ae&&se&&p.state.next(ve)}return ae?ve:{}},I=(N,W,K,q)=>{const se=Oe(n.errors,N),ae=(f.isValid||h.isValid)&&ni(W)&&n.isValid!==W;if(e.delayError&&K?(c=b(()=>E(N,K)),c(e.delayError)):(clearTimeout(d),c=null,K?Ht(n.errors,N,K):mn(n.errors,N)),(K?!Co(se,K):se)||!Ar(q)||ae){const pe={...q,...ae&&ni(W)?{isValid:W}:{},errors:n.errors,name:N};n={...n,...pe},p.state.next(pe)}},M=async N=>{w(N,!0);const W=await e.resolver(i,e.context,jz(N||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(N),W},D=async N=>{const{errors:W}=await M(N);if(N)for(const K of N){const q=Oe(W,K);q?Ht(n.errors,K,q):mn(n.errors,K)}else n.errors=W;return W},P=async(N,W,K={valid:!0})=>{for(const q in N){const se=N[q];if(se){const{_f:ae,...pe}=se;if(ae){const ve=a.array.has(ae.name),be=se._f&&Fz(se._f);be&&f.validatingFields&&w([ae.name],!0);const Ne=await dC(se,a.disabled,i,m,e.shouldUseNativeValidation&&!W,ve);if(be&&f.validatingFields&&w([ae.name]),Ne[ae.name]&&(K.valid=!1,W))break;!W&&(Oe(Ne,ae.name)?ve?Hz(n.errors,Ne,ae.name):Ht(n.errors,ae.name,Ne[ae.name]):mn(n.errors,ae.name))}!Ar(pe)&&await P(pe,W,K)}}return K.valid},j=()=>{for(const N of a.unMount){const W=Oe(r,N);W&&(W._f.refs?W._f.refs.every(K=>!Gv(K)):!Gv(W._f.ref))&&ge(N)}a.unMount=new Set},z=(N,W)=>!e.disabled&&(N&&W&&Ht(i,N,W),!Co(Z(),s)),G=(N,W,K)=>Dz(N,a,{...o.mount?i:fn(W)?s:zr(N)?{[N]:W}:W},K,W),Q=N=>Bw(Oe(o.mount?i:s,N,e.shouldUnregister?Oe(s,N,[]):[])),oe=(N,W,K={})=>{const q=Oe(r,N);let se=W;if(q){const ae=q._f;ae&&(!ae.disabled&&Ht(i,N,AD(W,ae)),se=mg(ae.ref)&&Or(W)?"":W,CD(ae.ref)?[...ae.ref.options].forEach(pe=>pe.selected=se.includes(pe.value)):ae.refs?Ed(ae.ref)?ae.refs.forEach(pe=>{(!pe.defaultChecked||!pe.disabled)&&(Array.isArray(se)?pe.checked=!!se.find(ve=>ve===pe.value):pe.checked=se===pe.value||!!se)}):ae.refs.forEach(pe=>pe.checked=pe.value===se):Hw(ae.ref)?ae.ref.value="":(ae.ref.value=se,ae.ref.type||p.state.next({name:N,values:jn(i)})))}(K.shouldDirty||K.shouldTouch)&&A(N,se,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&B(N)},ce=(N,W,K)=>{for(const q in W){if(!W.hasOwnProperty(q))return;const se=W[q],ae=N+"."+q,pe=Oe(r,ae);(a.array.has(N)||yn(se)||pe&&!pe._f)&&!Da(se)?ce(ae,se,K):oe(ae,se,K)}},ee=(N,W,K={})=>{const q=Oe(r,N),se=a.array.has(N),ae=jn(W);Ht(i,N,ae),se?(p.array.next({name:N,values:jn(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&K.shouldDirty&&p.state.next({name:N,dirtyFields:Ul(s,i),isDirty:z(N,ae)})):q&&!q._f&&!Or(ae)?ce(N,ae,K):oe(N,ae,K),lC(N,a)&&p.state.next({...n,name:N}),p.state.next({name:o.mount?N:void 0,values:jn(i)})},re=async N=>{o.mount=!0;const W=N.target;let K=W.name,q=!0;const se=Oe(r,K),ae=be=>{q=Number.isNaN(be)||Da(be)&&isNaN(be.getTime())||Co(be,Oe(i,K,be))},pe=oC(e.mode),ve=oC(e.reValidateMode);if(se){let be,Ne;const Ke=W.type?iC(se._f):xz(N),ze=N.type===eC.BLUR||N.type===eC.FOCUS_OUT,at=!Lz(se._f)&&!e.resolver&&!Oe(n.errors,K)&&!se._f.deps||Bz(ze,Oe(n.touchedFields,K),n.isSubmitted,ve,pe),ct=lC(K,a,ze);Ht(i,K,Ke),ze?(!W||!W.readOnly)&&(se._f.onBlur&&se._f.onBlur(N),c&&c(0)):se._f.onChange&&se._f.onChange(N);const Gn=A(K,Ke,ze),Et=!Ar(Gn)||ct;if(!ze&&p.state.next({name:K,type:N.type,values:jn(i)}),at)return(f.isValid||h.isValid)&&(e.mode==="onBlur"?ze&&y():ze||y()),Et&&p.state.next({name:K,...ct?{}:Gn});if(!ze&&ct&&p.state.next({...n}),e.resolver){const{errors:rt}=await M([K]);if(ae(Ke),q){const Gt=cC(n.errors,r,K),Qe=cC(rt,r,Gt.name||K);be=Qe.error,K=Qe.name,Ne=Ar(rt)}}else w([K],!0),be=(await dC(se,a.disabled,i,m,e.shouldUseNativeValidation))[K],w([K]),ae(Ke),q&&(be?Ne=!1:(f.isValid||h.isValid)&&(Ne=await P(r,!0)));q&&(se._f.deps&&(!Array.isArray(se._f.deps)||se._f.deps.length>0)&&B(se._f.deps),I(K,Ne,be,Gn))}},$=(N,W)=>{if(Oe(n.errors,W)&&N.focus)return N.focus(),1},B=async(N,W={})=>{let K,q;const se=Au(N);if(e.resolver){const ae=await D(fn(N)?N:se);K=Ar(ae),q=N?!se.some(pe=>Oe(ae,pe)):K}else N?(q=(await Promise.all(se.map(async ae=>{const pe=Oe(r,ae);return await P(pe&&pe._f?{[ae]:pe}:pe)}))).every(Boolean),!(!q&&!n.isValid)&&y()):q=K=await P(r);return p.state.next({...!zr(N)||(f.isValid||h.isValid)&&K!==n.isValid?{}:{name:N},...e.resolver||!N?{isValid:K}:{},errors:n.errors}),W.shouldFocus&&!q&&ku(r,$,N?se:a.mount),q},Z=(N,W)=>{let K={...o.mount?i:s};return W&&(K=ED(W.dirtyFields?n.dirtyFields:n.touchedFields,K)),fn(N)?K:zr(N)?Oe(K,N):N.map(q=>Oe(K,q))},U=(N,W)=>({invalid:!!Oe((W||n).errors,N),isDirty:!!Oe((W||n).dirtyFields,N),error:Oe((W||n).errors,N),isValidating:!!Oe(n.validatingFields,N),isTouched:!!Oe((W||n).touchedFields,N)}),J=N=>{N&&Au(N).forEach(W=>mn(n.errors,W)),p.state.next({errors:N?n.errors:{}})},le=(N,W,K)=>{const q=(Oe(r,N,{_f:{}})._f||{}).ref,se=Oe(n.errors,N)||{},{ref:ae,message:pe,type:ve,...be}=se;Ht(n.errors,N,{...be,...W,ref:q}),p.state.next({name:N,errors:n.errors,isValid:!1}),K&&K.shouldFocus&&q&&q.focus&&q.focus()},ue=(N,W)=>ks(N)?p.state.subscribe({next:K=>"values"in K&&N(G(void 0,W),K)}):G(N,W,!0),Se=N=>p.state.subscribe({next:W=>{$z(N.name,W.name,N.exact)&&Uz(W,N.formState||f,kt,N.reRenderRoot)&&N.callback({values:{...i},...n,...W,defaultValues:s})}}).unsubscribe,_e=N=>(o.mount=!0,h={...h,...N.formState},Se({...N,formState:h})),ge=(N,W={})=>{for(const K of N?Au(N):a.mount)a.mount.delete(K),a.array.delete(K),W.keepValue||(mn(r,K),mn(i,K)),!W.keepError&&mn(n.errors,K),!W.keepDirty&&mn(n.dirtyFields,K),!W.keepTouched&&mn(n.touchedFields,K),!W.keepIsValidating&&mn(n.validatingFields,K),!e.shouldUnregister&&!W.keepDefaultValue&&mn(s,K);p.state.next({values:jn(i)}),p.state.next({...n,...W.keepDirty?{isDirty:z()}:{}}),!W.keepIsValid&&y()},fe=({disabled:N,name:W})=>{(ni(N)&&o.mount||N||a.disabled.has(W))&&(N?a.disabled.add(W):a.disabled.delete(W))},Pe=(N,W={})=>{let K=Oe(r,N);const q=ni(W.disabled)||ni(e.disabled);return Ht(r,N,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:N}},name:N,mount:!0,...W}}),a.mount.add(N),K?fe({disabled:ni(W.disabled)?W.disabled:e.disabled,name:N}):k(N,!0,W.value),{...q?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:gu(W.min),max:gu(W.max),minLength:gu(W.minLength),maxLength:gu(W.maxLength),pattern:gu(W.pattern)}:{},name:N,onChange:re,onBlur:re,ref:se=>{if(se){Pe(N,W),K=Oe(r,N);const ae=fn(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,pe=Iz(ae),ve=K._f.refs||[];if(pe?ve.find(be=>be===ae):ae===K._f.ref)return;Ht(r,N,{_f:{...K._f,...pe?{refs:[...ve.filter(Gv),ae,...Array.isArray(Oe(s,N))?[{}]:[]],ref:{type:ae.type,name:N}}:{ref:ae}}}),k(N,!1,void 0,ae)}else K=Oe(r,N,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(Cz(a.array,N)&&o.action)&&a.unMount.add(N)}}},Be=()=>e.shouldFocusError&&ku(r,$,a.mount),xt=N=>{ni(N)&&(p.state.next({disabled:N}),ku(r,(W,K)=>{const q=Oe(r,K);q&&(W.disabled=q._f.disabled||N,Array.isArray(q._f.refs)&&q._f.refs.forEach(se=>{se.disabled=q._f.disabled||N}))},0,!1))},wt=(N,W)=>async K=>{let q;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let se=jn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:pe}=await M();n.errors=ae,se=jn(pe)}else await P(r);if(a.disabled.size)for(const ae of a.disabled)mn(se,ae);if(mn(n.errors,"root"),Ar(n.errors)){p.state.next({errors:{}});try{await N(se,K)}catch(ae){q=ae}}else W&&await W({...n.errors},K),Be(),setTimeout(Be);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ar(n.errors)&&!q,submitCount:n.submitCount+1,errors:n.errors}),q)throw q},an=(N,W={})=>{Oe(r,N)&&(fn(W.defaultValue)?ee(N,jn(Oe(s,N))):(ee(N,W.defaultValue),Ht(s,N,jn(W.defaultValue))),W.keepTouched||mn(n.touchedFields,N),W.keepDirty||(mn(n.dirtyFields,N),n.isDirty=W.defaultValue?z(N,jn(Oe(s,N))):z()),W.keepError||(mn(n.errors,N),f.isValid&&y()),p.state.next({...n}))},Ce=(N,W={})=>{const K=N?jn(N):s,q=jn(K),se=Ar(N),ae=se?s:q;if(W.keepDefaultValues||(s=K),!W.keepValues){if(W.keepDirtyValues){const pe=new Set([...a.mount,...Object.keys(Ul(s,i))]);for(const ve of Array.from(pe))Oe(n.dirtyFields,ve)?Ht(ae,ve,Oe(i,ve)):ee(ve,Oe(ae,ve))}else{if($w&&fn(N))for(const pe of a.mount){const ve=Oe(r,pe);if(ve&&ve._f){const be=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(mg(be)){const Ne=be.closest("form");if(Ne){Ne.reset();break}}}}if(W.keepFieldsRef)for(const pe of a.mount)ee(pe,Oe(ae,pe));else r={}}i=e.shouldUnregister?W.keepDefaultValues?jn(s):{}:jn(ae),p.array.next({values:{...ae}}),p.state.next({values:{...ae}})}a={mount:W.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:se?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!Co(N,s)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:se?{}:W.keepDirtyValues?W.keepDefaultValues&&i?Ul(s,i):n.dirtyFields:W.keepDefaultValues&&N?Ul(s,N):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ge=(N,W)=>Ce(ks(N)?N(i):N,W),nt=(N,W={})=>{const K=Oe(r,N),q=K&&K._f;if(q){const se=q.refs?q.refs[0]:q.ref;se.focus&&(se.focus(),W.shouldSelect&&ks(se.select)&&se.select())}},kt=N=>{n={...n,...N}},Ze={control:{register:Pe,unregister:ge,getFieldState:U,handleSubmit:wt,setError:le,_subscribe:Se,_runSchema:M,_focusError:Be,_getWatch:G,_getDirty:z,_setValid:y,_setFieldArray:_,_setDisabledField:fe,_setErrors:T,_getFieldArray:Q,_reset:Ce,_resetDefaultValues:()=>ks(e.defaultValues)&&e.defaultValues().then(N=>{Ge(N,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:xt,_subjects:p,_proxyFormState:f,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(N){o=N},get _defaultValues(){return s},get _names(){return a},set _names(N){a=N},get _formState(){return n},get _options(){return e},set _options(N){e={...e,...N}}},subscribe:_e,trigger:B,register:Pe,handleSubmit:wt,watch:ue,setValue:ee,getValues:Z,reset:Ge,resetField:an,clearErrors:J,unregister:ge,setError:le,setFocus:nt,getFieldState:U};return{...Ze,formControl:Ze}}function qz(t={}){const e=ie.useRef(void 0),n=ie.useRef(void 0),[r,s]=ie.useState({isDirty:!1,isValidating:!1,isLoading:ks(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ks(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!ks(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=Wz(t);e.current={...a,formState:r}}const i=e.current.control;return i._options=t,kz(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),ie.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ie.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ie.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ie.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ie.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ie.useEffect(()=>{t.values&&!Co(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),ie.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Az(r,i),e.current}const fC=t=>{let e;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=e=t(r,s,a);return a},Gz=(t=>t?fC(t):fC),Kz=t=>t;function Yz(t,e=Kz){const n=ie.useSyncExternalStore(t.subscribe,ie.useCallback(()=>e(t.getState()),[t,e]),ie.useCallback(()=>e(t.getInitialState()),[t,e]));return ie.useDebugValue(n),n}const hC=t=>{const e=Gz(t),n=r=>Yz(e,r);return Object.assign(n,e),n},li=(t=>t?hC(t):hC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),gC=t=>{const e=Xz(t);return e.charAt(0).toUpperCase()+e.slice(1)},DD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Zz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>C.createElement("svg",{ref:c,...Jz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DD("lucide",s),...!i&&!Zz(a)&&{"aria-hidden":"true"},...a},[...o.map(([d,f])=>C.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(eH,{ref:i,iconNode:e,className:DD(`lucide-${Qz(gC(t))}`,`lucide-${t}`,r),...s}));return n.displayName=gC(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nH=Hs("calendar",tH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sH=Hs("chevron-right",rH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oH=Hs("clock",iH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lH=Hs("file-text",aH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],uH=Hs("house",cH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fH=Hs("loader-circle",dH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gH=Hs("log-out",hH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],mH=Hs("menu",pH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],yH=Hs("rotate-cw",vH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OD=Hs("settings",bH);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_H=Hs("user",wH);function yc(t,e=[]){let n=[];function r(i,o){const a=C.createContext(o),c=n.length;n=[...n,o];const d=h=>{const{scope:p,children:m,...b}=h,y=p?.[t]?.[c]||a,w=C.useMemo(()=>b,Object.values(b));return S.jsx(y.Provider,{value:w,children:m})};d.displayName=i+"Provider";function f(h,p){const m=p?.[t]?.[c]||a,b=C.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const c=a?.[t]||i;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,SH(s,...e)]}function SH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...a,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ci(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}var js=globalThis?.document?C.useLayoutEffect:()=>{},xH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zn=xH.reduce((t,e)=>{const n=Yu(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ID(t,e){t&&Ds.flushSync(()=>t.dispatchEvent(e))}var Kv={exports:{}},Yv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function EH(){if(pC)return Yv;pC=1;var t=sp();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(h,p){var m=p(),b=r({inst:{value:m,getSnapshot:p}}),y=b[0].inst,w=b[1];return i(function(){y.value=m,y.getSnapshot=p,c(y)&&w({inst:y})},[h,m,p]),s(function(){return c(y)&&w({inst:y}),h(function(){c(y)&&w({inst:y})})},[h]),o(m),m}function c(h){var p=h.getSnapshot;h=h.value;try{var m=p();return!n(h,m)}catch{return!0}}function d(h,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return Yv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Yv}var mC;function CH(){return mC||(mC=1,Kv.exports=EH()),Kv.exports}var RH=CH();function TH(){return RH.useSyncExternalStore(AH,()=>!0,()=>!1)}function AH(){return()=>{}}var Ww="Avatar",[kH]=yc(Ww),[DH,MD]=kH(Ww),ND=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=C.useState("idle");return S.jsx(DH,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:S.jsx(zn.span,{...r,ref:e})})});ND.displayName=Ww;var PD="AvatarImage",jD=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=MD(PD,n),a=OH(r,i),c=ci(d=>{s(d),o.onImageLoadingStatusChange(d)});return js(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?S.jsx(zn.img,{...i,ref:e,src:r}):null});jD.displayName=PD;var FD="AvatarFallback",LD=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=MD(FD,n),[o,a]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?S.jsx(zn.span,{...s,ref:e}):null});LD.displayName=FD;function vC(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function OH(t,{referrerPolicy:e,crossOrigin:n}){const r=TH(),s=C.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=C.useState(()=>vC(i,t));return js(()=>{a(vC(i,t))},[i,t]),js(()=>{const c=h=>()=>{a(h)};if(!i)return;const d=c("loaded"),f=c("error");return i.addEventListener("load",d),i.addEventListener("error",f),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,n,e]),o}var IH=ND,MH=jD,NH=LD;function ft(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}var PH=vk[" useInsertionEffect ".trim().toString()]||js;function UD({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=jH({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const f=C.useRef(t!==void 0);C.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const d=C.useCallback(f=>{if(a){const h=FH(f)?f(t):f;h!==t&&o.current?.(h)}else i(f)},[a,t,i,o]);return[c,d]}function jH({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return PH(()=>{i.current=e},[e]),C.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,r,i]}function FH(t){return typeof t=="function"}function $D(t){const e=t+"CollectionProvider",[n,r]=yc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:_}=y,E=ie.useRef(null),T=ie.useRef(new Map).current;return S.jsx(s,{scope:w,itemMap:T,collectionRef:E,children:_})};o.displayName=e;const a=t+"CollectionSlot",c=Yu(a),d=ie.forwardRef((y,w)=>{const{scope:_,children:E}=y,T=i(a,_),k=Pr(w,T.collectionRef);return S.jsx(c,{ref:k,children:E})});d.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",p=Yu(f),m=ie.forwardRef((y,w)=>{const{scope:_,children:E,...T}=y,k=ie.useRef(null),A=Pr(w,k),I=i(f,_);return ie.useEffect(()=>(I.itemMap.set(k,{ref:k,...T}),()=>void I.itemMap.delete(k))),S.jsx(p,{[h]:"",ref:A,children:E})});m.displayName=f;function b(y){const w=i(t+"CollectionConsumer",y);return ie.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((I,M)=>T.indexOf(I.ref.current)-T.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},b,r]}var LH=C.createContext(void 0);function BD(t){const e=C.useContext(LH);return t||e||"ltr"}function UH(t,e=globalThis?.document){const n=ci(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $H="DismissableLayer",wb="dismissableLayer.update",BH="dismissableLayer.pointerDownOutside",zH="dismissableLayer.focusOutside",yC,zD=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HD=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=C.useContext(zD),[f,h]=C.useState(null),p=f?.ownerDocument??globalThis?.document,[,m]=C.useState({}),b=Pr(e,M=>h(M)),y=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(w),E=f?y.indexOf(f):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,k=E>=_,A=WH(M=>{const D=M.target,P=[...d.branches].some(j=>j.contains(D));!k||P||(s?.(M),o?.(M),M.defaultPrevented||a?.())},p),I=qH(M=>{const D=M.target;[...d.branches].some(j=>j.contains(D))||(i?.(M),o?.(M),M.defaultPrevented||a?.())},p);return UH(M=>{E===d.layers.size-1&&(r?.(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},p),C.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(yC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),bC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=yC)}},[f,p,n,d]),C.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),bC())},[f,d]),C.useEffect(()=>{const M=()=>m({});return document.addEventListener(wb,M),()=>document.removeEventListener(wb,M)},[]),S.jsx(zn.div,{...c,ref:b,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:ft(t.onFocusCapture,I.onFocusCapture),onBlurCapture:ft(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:ft(t.onPointerDownCapture,A.onPointerDownCapture)})});HD.displayName=$H;var HH="DismissableLayerBranch",VH=C.forwardRef((t,e)=>{const n=C.useContext(zD),r=C.useRef(null),s=Pr(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),S.jsx(zn.div,{...t,ref:s})});VH.displayName=HH;function WH(t,e=globalThis?.document){const n=ci(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){VD(BH,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qH(t,e=globalThis?.document){const n=ci(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&VD(zH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bC(){const t=new CustomEvent(wb);document.dispatchEvent(t)}function VD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ID(s,i):s.dispatchEvent(i)}var Qv=0;function GH(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wC()),document.body.insertAdjacentElement("beforeend",t[1]??wC()),Qv++,()=>{Qv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qv--}},[])}function wC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xv="focusScope.autoFocusOnMount",Zv="focusScope.autoFocusOnUnmount",_C={bubbles:!1,cancelable:!0},KH="FocusScope",WD=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=C.useState(null),d=ci(s),f=ci(i),h=C.useRef(null),p=Pr(e,y=>c(y)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let y=function(T){if(m.paused||!a)return;const k=T.target;a.contains(k)?h.current=k:wo(h.current,{select:!0})},w=function(T){if(m.paused||!a)return;const k=T.relatedTarget;k!==null&&(a.contains(k)||wo(h.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const A of T)A.removedNodes.length>0&&wo(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const E=new MutationObserver(_);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),E.disconnect()}}},[r,a,m.paused]),C.useEffect(()=>{if(a){xC.add(m);const y=document.activeElement;if(!a.contains(y)){const _=new CustomEvent(Xv,_C);a.addEventListener(Xv,d),a.dispatchEvent(_),_.defaultPrevented||(YH(eV(qD(a)),{select:!0}),document.activeElement===y&&wo(a))}return()=>{a.removeEventListener(Xv,d),setTimeout(()=>{const _=new CustomEvent(Zv,_C);a.addEventListener(Zv,f),a.dispatchEvent(_),_.defaultPrevented||wo(y??document.body,{select:!0}),a.removeEventListener(Zv,f),xC.remove(m)},0)}}},[a,d,f,m]);const b=C.useCallback(y=>{if(!n&&!r||m.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(w&&_){const E=y.currentTarget,[T,k]=QH(E);T&&k?!y.shiftKey&&_===k?(y.preventDefault(),n&&wo(T,{select:!0})):y.shiftKey&&_===T&&(y.preventDefault(),n&&wo(k,{select:!0})):_===E&&y.preventDefault()}},[n,r,m.paused]);return S.jsx(zn.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});WD.displayName=KH;function YH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wo(r,{select:e}),document.activeElement!==n)return}function QH(t){const e=qD(t),n=SC(e,t),r=SC(e.reverse(),t);return[n,r]}function qD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function SC(t,e){for(const n of t)if(!XH(n,{upTo:e}))return n}function XH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZH(t){return t instanceof HTMLInputElement&&"select"in t}function wo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ZH(t)&&e&&t.select()}}var xC=JH();function JH(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=EC(t,e),t.unshift(e)},remove(e){t=EC(t,e),t[0]?.resume()}}}function EC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function eV(t){return t.filter(e=>e.tagName!=="A")}var tV=vk[" useId ".trim().toString()]||(()=>{}),nV=0;function _b(t){const[e,n]=C.useState(tV());return js(()=>{n(r=>r??String(nV++))},[t]),t||(e?`radix-${e}`:"")}const rV=["top","right","bottom","left"],Uo=Math.min,Br=Math.max,yg=Math.round,ih=Math.floor,ai=t=>({x:t,y:t}),sV={left:"right",right:"left",bottom:"top",top:"bottom"},iV={start:"end",end:"start"};function Sb(t,e,n){return Br(t,Uo(e,n))}function Vi(t,e){return typeof t=="function"?t(e):t}function Wi(t){return t.split("-")[0]}function bc(t){return t.split("-")[1]}function qw(t){return t==="x"?"y":"x"}function Gw(t){return t==="y"?"height":"width"}const oV=new Set(["top","bottom"]);function ii(t){return oV.has(Wi(t))?"y":"x"}function Kw(t){return qw(ii(t))}function aV(t,e,n){n===void 0&&(n=!1);const r=bc(t),s=Kw(t),i=Gw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=bg(o)),[o,bg(o)]}function lV(t){const e=bg(t);return[xb(t),e,xb(e)]}function xb(t){return t.replace(/start|end/g,e=>iV[e])}const CC=["left","right"],RC=["right","left"],cV=["top","bottom"],uV=["bottom","top"];function dV(t,e,n){switch(t){case"top":case"bottom":return n?e?RC:CC:e?CC:RC;case"left":case"right":return e?cV:uV;default:return[]}}function fV(t,e,n,r){const s=bc(t);let i=dV(Wi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(xb)))),i}function bg(t){return t.replace(/left|right|bottom|top/g,e=>sV[e])}function hV(t){return{top:0,right:0,bottom:0,left:0,...t}}function GD(t){return typeof t!="number"?hV(t):{top:t,right:t,bottom:t,left:t}}function wg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function TC(t,e,n){let{reference:r,floating:s}=t;const i=ii(e),o=Kw(e),a=Gw(o),c=Wi(e),d=i==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:f,y:r.y-s.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(bc(e)){case"start":m[o]-=p*(n&&d?-1:1);break;case"end":m[o]+=p*(n&&d?-1:1);break}return m}const gV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=TC(d,r,c),p=r,m={},b=0;for(let y=0;y<a.length;y++){const{name:w,fn:_}=a[y],{x:E,y:T,data:k,reset:A}=await _({x:f,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});f=E??f,h=T??h,m={...m,[w]:{...m[w],...k}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(d=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:f,y:h}=TC(d,p,c)),y=-1)}return{x:f,y:h,placement:p,strategy:s,middlewareData:m}};async function Qu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Vi(e,t),b=GD(m),w=a[p?h==="floating"?"reference":"floating":h],_=wg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:c})),E=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},A=wg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:c}):E);return{top:(_.top-A.top+b.top)/k.y,bottom:(A.bottom-_.bottom+b.bottom)/k.y,left:(_.left-A.left+b.left)/k.x,right:(A.right-_.right+b.right)/k.x}}const pV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:f=0}=Vi(t,e)||{};if(d==null)return{};const h=GD(f),p={x:n,y:r},m=Kw(s),b=Gw(m),y=await o.getDimensions(d),w=m==="y",_=w?"top":"left",E=w?"bottom":"right",T=w?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[m]-p[m]-i.floating[b],A=p[m]-i.reference[m],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=I?I[T]:0;(!M||!await(o.isElement==null?void 0:o.isElement(I)))&&(M=a.floating[T]||i.floating[b]);const D=k/2-A/2,P=M/2-y[b]/2-1,j=Uo(h[_],P),z=Uo(h[E],P),G=j,Q=M-y[b]-z,oe=M/2-y[b]/2+D,ce=Sb(G,oe,Q),ee=!c.arrow&&bc(s)!=null&&oe!==ce&&i.reference[b]/2-(oe<G?j:z)-y[b]/2<0,re=ee?oe<G?oe-G:oe-Q:0;return{[m]:p[m]+re,data:{[m]:ce,centerOffset:oe-ce-re,...ee&&{alignmentOffset:re}},reset:ee}}}),mV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...w}=Vi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Wi(s),E=ii(a),T=Wi(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),A=p||(T||!y?[bg(a)]:lV(a)),I=b!=="none";!p&&I&&A.push(...fV(a,y,b,k));const M=[a,...A],D=await Qu(e,w),P=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&P.push(D[_]),h){const oe=aV(s,o,k);P.push(D[oe[0]],D[oe[1]])}if(j=[...j,{placement:s,overflows:P}],!P.every(oe=>oe<=0)){var z,G;const oe=(((z=i.flip)==null?void 0:z.index)||0)+1,ce=M[oe];if(ce&&(!(h==="alignment"?E!==ii(ce):!1)||j.every($=>ii($.placement)===E?$.overflows[0]>0:!0)))return{data:{index:oe,overflows:j},reset:{placement:ce}};let ee=(G=j.filter(re=>re.overflows[0]<=0).sort((re,$)=>re.overflows[1]-$.overflows[1])[0])==null?void 0:G.placement;if(!ee)switch(m){case"bestFit":{var Q;const re=(Q=j.filter($=>{if(I){const B=ii($.placement);return B===E||B==="y"}return!0}).map($=>[$.placement,$.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort(($,B)=>$[1]-B[1])[0])==null?void 0:Q[0];re&&(ee=re);break}case"initialPlacement":ee=a;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function AC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kC(t){return rV.some(e=>t[e]>=0)}const vV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Vi(t,e);switch(r){case"referenceHidden":{const i=await Qu(e,{...s,elementContext:"reference"}),o=AC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kC(o)}}}case"escaped":{const i=await Qu(e,{...s,altBoundary:!0}),o=AC(i,n.floating);return{data:{escapedOffsets:o,escaped:kC(o)}}}default:return{}}}}},KD=new Set(["left","top"]);async function yV(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Wi(n),a=bc(n),c=ii(n)==="y",d=KD.has(o)?-1:1,f=i&&c?-1:1,h=Vi(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),c?{x:m*f,y:p*d}:{x:p*d,y:m*f}}const bV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await yV(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},wV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:_,y:E}=w;return{x:_,y:E}}},...c}=Vi(t,e),d={x:n,y:r},f=await Qu(e,c),h=ii(Wi(s)),p=qw(h);let m=d[p],b=d[h];if(i){const w=p==="y"?"top":"left",_=p==="y"?"bottom":"right",E=m+f[w],T=m-f[_];m=Sb(E,m,T)}if(o){const w=h==="y"?"top":"left",_=h==="y"?"bottom":"right",E=b+f[w],T=b-f[_];b=Sb(E,b,T)}const y=a.fn({...e,[p]:m,[h]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[h]:o}}}}}},_V=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=Vi(t,e),f={x:n,y:r},h=ii(s),p=qw(h);let m=f[p],b=f[h];const y=Vi(a,e),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const T=p==="y"?"height":"width",k=i.reference[p]-i.floating[T]+w.mainAxis,A=i.reference[p]+i.reference[T]-w.mainAxis;m<k?m=k:m>A&&(m=A)}if(d){var _,E;const T=p==="y"?"width":"height",k=KD.has(Wi(s)),A=i.reference[h]-i.floating[T]+(k&&((_=o.offset)==null?void 0:_[h])||0)+(k?0:w.crossAxis),I=i.reference[h]+i.reference[T]+(k?0:((E=o.offset)==null?void 0:E[h])||0)-(k?w.crossAxis:0);b<A?b=A:b>I&&(b=I)}return{[p]:m,[h]:b}}}},SV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=Vi(t,e),f=await Qu(e,d),h=Wi(s),p=bc(s),m=ii(s)==="y",{width:b,height:y}=i.floating;let w,_;h==="top"||h==="bottom"?(w=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,w=p==="end"?"top":"bottom");const E=y-f.top-f.bottom,T=b-f.left-f.right,k=Uo(y-f[w],E),A=Uo(b-f[_],T),I=!e.middlewareData.shift;let M=k,D=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=E),I&&!p){const j=Br(f.left,0),z=Br(f.right,0),G=Br(f.top,0),Q=Br(f.bottom,0);m?D=b-2*(j!==0||z!==0?j+z:Br(f.left,f.right)):M=y-2*(G!==0||Q!==0?G+Q:Br(f.top,f.bottom))}await c({...e,availableWidth:D,availableHeight:M});const P=await o.getDimensions(a.floating);return b!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function fp(){return typeof window<"u"}function wc(t){return YD(t)?(t.nodeName||"").toLowerCase():"#document"}function Wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hi(t){var e;return(e=(YD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YD(t){return fp()?t instanceof Node||t instanceof Wr(t).Node:!1}function Fs(t){return fp()?t instanceof Element||t instanceof Wr(t).Element:!1}function ui(t){return fp()?t instanceof HTMLElement||t instanceof Wr(t).HTMLElement:!1}function DC(t){return!fp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wr(t).ShadowRoot}const xV=new Set(["inline","contents"]);function Cd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ls(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!xV.has(s)}const EV=new Set(["table","td","th"]);function CV(t){return EV.has(wc(t))}const RV=[":popover-open",":modal"];function hp(t){return RV.some(e=>{try{return t.matches(e)}catch{return!1}})}const TV=["transform","translate","scale","rotate","perspective"],AV=["transform","translate","scale","rotate","perspective","filter"],kV=["paint","layout","strict","content"];function Yw(t){const e=Qw(),n=Fs(t)?Ls(t):t;return TV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||AV.some(r=>(n.willChange||"").includes(r))||kV.some(r=>(n.contain||"").includes(r))}function DV(t){let e=$o(t);for(;ui(e)&&!nc(e);){if(Yw(e))return e;if(hp(e))return null;e=$o(e)}return null}function Qw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OV=new Set(["html","body","#document"]);function nc(t){return OV.has(wc(t))}function Ls(t){return Wr(t).getComputedStyle(t)}function gp(t){return Fs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $o(t){if(wc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DC(t)&&t.host||hi(t);return DC(e)?e.host:e}function QD(t){const e=$o(t);return nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ui(e)&&Cd(e)?e:QD(e)}function Xu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=QD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Wr(s);if(i){const a=Eb(o);return e.concat(o,o.visualViewport||[],Cd(s)?s:[],a&&n?Xu(a):[])}return e.concat(s,Xu(s,[],n))}function Eb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function XD(t){const e=Ls(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ui(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=yg(n)!==i||yg(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Xw(t){return Fs(t)?t:t.contextElement}function Gl(t){const e=Xw(t);if(!ui(e))return ai(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=XD(e);let o=(i?yg(n.width):n.width)/r,a=(i?yg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const IV=ai(0);function ZD(t){const e=Wr(t);return!Qw()||!e.visualViewport?IV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function MV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wr(t)?!1:e}function Ba(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Xw(t);let o=ai(1);e&&(r?Fs(r)&&(o=Gl(r)):o=Gl(t));const a=MV(i,n,r)?ZD(i):ai(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const p=Wr(i),m=r&&Fs(r)?Wr(r):r;let b=p,y=Eb(b);for(;y&&r&&m!==b;){const w=Gl(y),_=y.getBoundingClientRect(),E=Ls(y),T=_.left+(y.clientLeft+parseFloat(E.paddingLeft))*w.x,k=_.top+(y.clientTop+parseFloat(E.paddingTop))*w.y;c*=w.x,d*=w.y,f*=w.x,h*=w.y,c+=T,d+=k,b=Wr(y),y=Eb(b)}}return wg({width:f,height:h,x:c,y:d})}function pp(t,e){const n=gp(t).scrollLeft;return e?e.left+n:Ba(hi(t)).left+n}function JD(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-pp(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function NV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=hi(r),a=e?hp(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=ai(1);const f=ai(0),h=ui(r);if((h||!h&&!i)&&((wc(r)!=="body"||Cd(o))&&(c=gp(r)),ui(r))){const m=Ba(r);d=Gl(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const p=o&&!h&&!i?JD(o,c):ai(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+p.x,y:n.y*d.y-c.scrollTop*d.y+f.y+p.y}}function PV(t){return Array.from(t.getClientRects())}function jV(t){const e=hi(t),n=gp(t),r=t.ownerDocument.body,s=Br(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Br(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+pp(t);const a=-n.scrollTop;return Ls(r).direction==="rtl"&&(o+=Br(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const OC=25;function FV(t,e){const n=Wr(t),r=hi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const f=Qw();(!f||f&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const d=pp(r);if(d<=0){const f=r.ownerDocument,h=f.body,p=getComputedStyle(h),m=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(r.clientWidth-h.clientWidth-m);b<=OC&&(i-=b)}else d<=OC&&(i+=d);return{width:i,height:o,x:a,y:c}}const LV=new Set(["absolute","fixed"]);function UV(t,e){const n=Ba(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ui(t)?Gl(t):ai(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function IC(t,e,n){let r;if(e==="viewport")r=FV(t,n);else if(e==="document")r=jV(hi(t));else if(Fs(e))r=UV(e,n);else{const s=ZD(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return wg(r)}function eO(t,e){const n=$o(t);return n===e||!Fs(n)||nc(n)?!1:Ls(n).position==="fixed"||eO(n,e)}function $V(t,e){const n=e.get(t);if(n)return n;let r=Xu(t,[],!1).filter(a=>Fs(a)&&wc(a)!=="body"),s=null;const i=Ls(t).position==="fixed";let o=i?$o(t):t;for(;Fs(o)&&!nc(o);){const a=Ls(o),c=Yw(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&LV.has(s.position)||Cd(o)&&!c&&eO(t,o))?r=r.filter(f=>f!==o):s=a,o=$o(o)}return e.set(t,r),r}function BV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?hp(e)?[]:$V(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,f)=>{const h=IC(e,f,s);return d.top=Br(h.top,d.top),d.right=Uo(h.right,d.right),d.bottom=Uo(h.bottom,d.bottom),d.left=Br(h.left,d.left),d},IC(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zV(t){const{width:e,height:n}=XD(t);return{width:e,height:n}}function HV(t,e,n){const r=ui(e),s=hi(e),i=n==="fixed",o=Ba(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=ai(0);function d(){c.x=pp(s)}if(r||!r&&!i)if((wc(e)!=="body"||Cd(s))&&(a=gp(e)),r){const m=Ba(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&d();i&&!r&&s&&d();const f=s&&!r&&!i?JD(s,a):ai(0),h=o.left+a.scrollLeft-c.x-f.x,p=o.top+a.scrollTop-c.y-f.y;return{x:h,y:p,width:o.width,height:o.height}}function Jv(t){return Ls(t).position==="static"}function MC(t,e){if(!ui(t)||Ls(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hi(t)===n&&(n=n.ownerDocument.body),n}function tO(t,e){const n=Wr(t);if(hp(t))return n;if(!ui(t)){let s=$o(t);for(;s&&!nc(s);){if(Fs(s)&&!Jv(s))return s;s=$o(s)}return n}let r=MC(t,e);for(;r&&CV(r)&&Jv(r);)r=MC(r,e);return r&&nc(r)&&Jv(r)&&!Yw(r)?n:r||DV(t)||n}const VV=async function(t){const e=this.getOffsetParent||tO,n=this.getDimensions,r=await n(t.floating);return{reference:HV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WV(t){return Ls(t).direction==="rtl"}const qV={convertOffsetParentRelativeRectToViewportRelativeRect:NV,getDocumentElement:hi,getClippingRect:BV,getOffsetParent:tO,getElementRects:VV,getClientRects:PV,getDimensions:zV,getScale:Gl,isElement:Fs,isRTL:WV};function nO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function GV(t,e){let n=null,r;const s=hi(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:f,top:h,width:p,height:m}=d;if(a||e(),!p||!m)return;const b=ih(h),y=ih(s.clientWidth-(f+p)),w=ih(s.clientHeight-(h+m)),_=ih(f),T={rootMargin:-b+"px "+-y+"px "+-w+"px "+-_+"px",threshold:Br(0,Uo(1,c))||1};let k=!0;function A(I){const M=I[0].intersectionRatio;if(M!==c){if(!k)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!nO(d,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(A,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,T)}n.observe(t)}return o(!0),i}function KV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Xw(t),f=s||i?[...d?Xu(d):[],...Xu(e)]:[];f.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=d&&a?GV(d,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[E]=_;E&&E.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),d&&!c&&m.observe(d),m.observe(e));let b,y=c?Ba(t):null;c&&w();function w(){const _=Ba(t);y&&!nO(y,_)&&n(),y=_,b=requestAnimationFrame(w)}return n(),()=>{var _;f.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),h?.(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const YV=bV,QV=wV,XV=mV,ZV=SV,JV=vV,NC=pV,eW=_V,tW=(t,e,n)=>{const r=new Map,s={platform:qV,...n},i={...s.platform,_c:r};return gV(t,e,{...s,platform:i})};var nW=typeof document<"u",rW=function(){},Qh=nW?C.useLayoutEffect:rW;function _g(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_g(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_g(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function rO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function PC(t,e){const n=rO(t);return Math.round(e*n)/n}function ey(t){const e=C.useRef(t);return Qh(()=>{e.current=t}),e}function sW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[f,h]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=C.useState(r);_g(p,r)||m(r);const[b,y]=C.useState(null),[w,_]=C.useState(null),E=C.useCallback($=>{$!==I.current&&(I.current=$,y($))},[]),T=C.useCallback($=>{$!==M.current&&(M.current=$,_($))},[]),k=i||b,A=o||w,I=C.useRef(null),M=C.useRef(null),D=C.useRef(f),P=c!=null,j=ey(c),z=ey(s),G=ey(d),Q=C.useCallback(()=>{if(!I.current||!M.current)return;const $={placement:e,strategy:n,middleware:p};z.current&&($.platform=z.current),tW(I.current,M.current,$).then(B=>{const Z={...B,isPositioned:G.current!==!1};oe.current&&!_g(D.current,Z)&&(D.current=Z,Ds.flushSync(()=>{h(Z)}))})},[p,e,n,z,G]);Qh(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[d]);const oe=C.useRef(!1);Qh(()=>(oe.current=!0,()=>{oe.current=!1}),[]),Qh(()=>{if(k&&(I.current=k),A&&(M.current=A),k&&A){if(j.current)return j.current(k,A,Q);Q()}},[k,A,Q,j,P]);const ce=C.useMemo(()=>({reference:I,floating:M,setReference:E,setFloating:T}),[E,T]),ee=C.useMemo(()=>({reference:k,floating:A}),[k,A]),re=C.useMemo(()=>{const $={position:n,left:0,top:0};if(!ee.floating)return $;const B=PC(ee.floating,f.x),Z=PC(ee.floating,f.y);return a?{...$,transform:"translate("+B+"px, "+Z+"px)",...rO(ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,a,ee.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:Q,refs:ce,elements:ee,floatingStyles:re}),[f,Q,ce,ee,re])}const iW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?NC({element:r.current,padding:s}).fn(n):{}:r?NC({element:r,padding:s}).fn(n):{}}}},oW=(t,e)=>({...YV(t),options:[t,e]}),aW=(t,e)=>({...QV(t),options:[t,e]}),lW=(t,e)=>({...eW(t),options:[t,e]}),cW=(t,e)=>({...XV(t),options:[t,e]}),uW=(t,e)=>({...ZV(t),options:[t,e]}),dW=(t,e)=>({...JV(t),options:[t,e]}),fW=(t,e)=>({...iW(t),options:[t,e]});var hW="Arrow",sO=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return S.jsx(zn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});sO.displayName=hW;var gW=sO;function pW(t){const[e,n]=C.useState(void 0);return js(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Zw="Popper",[iO,oO]=yc(Zw),[mW,aO]=iO(Zw),lO=t=>{const{__scopePopper:e,children:n}=t,[r,s]=C.useState(null);return S.jsx(mW,{scope:e,anchor:r,onAnchorChange:s,children:n})};lO.displayName=Zw;var cO="PopperAnchor",uO=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=aO(cO,n),o=C.useRef(null),a=Pr(e,o),c=C.useRef(null);return C.useEffect(()=>{const d=c.current;c.current=r?.current||o.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:S.jsx(zn.div,{...s,ref:a})});uO.displayName=cO;var Jw="PopperContent",[vW,yW]=iO(Jw),dO=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:b,...y}=t,w=aO(Jw,n),[_,E]=C.useState(null),T=Pr(e,ge=>E(ge)),[k,A]=C.useState(null),I=pW(k),M=I?.width??0,D=I?.height??0,P=r+(i!=="center"?"-"+i:""),j=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(d)?d:[d],G=z.length>0,Q={padding:j,boundary:z.filter(wW),altBoundary:G},{refs:oe,floatingStyles:ce,placement:ee,isPositioned:re,middlewareData:$}=sW({strategy:"fixed",placement:P,whileElementsMounted:(...ge)=>KV(...ge,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[oW({mainAxis:s+D,alignmentAxis:o}),c&&aW({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?lW():void 0,...Q}),c&&cW({...Q}),uW({...Q,apply:({elements:ge,rects:fe,availableWidth:Pe,availableHeight:Be})=>{const{width:xt,height:wt}=fe.reference,an=ge.floating.style;an.setProperty("--radix-popper-available-width",`${Pe}px`),an.setProperty("--radix-popper-available-height",`${Be}px`),an.setProperty("--radix-popper-anchor-width",`${xt}px`),an.setProperty("--radix-popper-anchor-height",`${wt}px`)}}),k&&fW({element:k,padding:a}),_W({arrowWidth:M,arrowHeight:D}),p&&dW({strategy:"referenceHidden",...Q})]}),[B,Z]=gO(ee),U=ci(b);js(()=>{re&&U?.()},[re,U]);const J=$.arrow?.x,le=$.arrow?.y,ue=$.arrow?.centerOffset!==0,[Se,_e]=C.useState();return js(()=>{_&&_e(window.getComputedStyle(_).zIndex)},[_]),S.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:re?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(vW,{scope:n,placedSide:B,onArrowChange:A,arrowX:J,arrowY:le,shouldHideArrow:ue,children:S.jsx(zn.div,{"data-side":B,"data-align":Z,...y,ref:T,style:{...y.style,animation:re?void 0:"none"}})})})});dO.displayName=Jw;var fO="PopperArrow",bW={top:"bottom",right:"left",bottom:"top",left:"right"},hO=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=yW(fO,r),o=bW[i.placedSide];return S.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:S.jsx(gW,{...s,ref:n,style:{...s.style,display:"block"}})})});hO.displayName=fO;function wW(t){return t!==null}var _W=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,o=s.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=gO(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(s.arrow?.x??0)+a/2,m=(s.arrow?.y??0)+c/2;let b="",y="";return d==="bottom"?(b=o?h:`${p}px`,y=`${-c}px`):d==="top"?(b=o?h:`${p}px`,y=`${r.floating.height+c}px`):d==="right"?(b=`${-c}px`,y=o?h:`${m}px`):d==="left"&&(b=`${r.floating.width+c}px`,y=o?h:`${m}px`),{data:{x:b,y}}}});function gO(t){const[e,n="center"]=t.split("-");return[e,n]}var SW=lO,xW=uO,EW=dO,CW=hO,RW="Portal",pO=C.forwardRef((t,e)=>{const{container:n,...r}=t,[s,i]=C.useState(!1);js(()=>i(!0),[]);const o=n||s&&globalThis?.document?.body;return o?Pk.createPortal(S.jsx(zn.div,{...r,ref:e}),o):null});pO.displayName=RW;function TW(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Rd=t=>{const{present:e,children:n}=t,r=AW(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=Pr(r.ref,kW(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};Rd.displayName="Presence";function AW(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),o=t?"mounted":"unmounted",[a,c]=TW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=oh(r.current);i.current=a==="mounted"?d:"none"},[a]),js(()=>{const d=r.current,f=s.current;if(f!==t){const p=i.current,m=oh(d);t?c("MOUNT"):m==="none"||d?.display==="none"?c("UNMOUNT"):c(f&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),js(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,h=m=>{const y=oh(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&y&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=m=>{m.target===e&&(i.current=oh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function oh(t){return t?.animationName||"none"}function kW(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ty="rovingFocusGroup.onEntryFocus",DW={bubbles:!1,cancelable:!0},Td="RovingFocusGroup",[Cb,mO,OW]=$D(Td),[IW,vO]=yc(Td,[OW]),[MW,NW]=IW(Td),yO=C.forwardRef((t,e)=>S.jsx(Cb.Provider,{scope:t.__scopeRovingFocusGroup,children:S.jsx(Cb.Slot,{scope:t.__scopeRovingFocusGroup,children:S.jsx(PW,{...t,ref:e})})}));yO.displayName=Td;var PW=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=t,p=C.useRef(null),m=Pr(e,p),b=BD(i),[y,w]=UD({prop:o,defaultProp:a??null,onChange:c,caller:Td}),[_,E]=C.useState(!1),T=ci(d),k=mO(n),A=C.useRef(!1),[I,M]=C.useState(0);return C.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(ty,T),()=>D.removeEventListener(ty,T)},[T]),S.jsx(MW,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:y,onItemFocus:C.useCallback(D=>w(D),[w]),onItemShiftTab:C.useCallback(()=>E(!0),[]),onFocusableItemAdd:C.useCallback(()=>M(D=>D+1),[]),onFocusableItemRemove:C.useCallback(()=>M(D=>D-1),[]),children:S.jsx(zn.div,{tabIndex:_||I===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:ft(t.onMouseDown,()=>{A.current=!0}),onFocus:ft(t.onFocus,D=>{const P=!A.current;if(D.target===D.currentTarget&&P&&!_){const j=new CustomEvent(ty,DW);if(D.currentTarget.dispatchEvent(j),!j.defaultPrevented){const z=k().filter(ee=>ee.focusable),G=z.find(ee=>ee.active),Q=z.find(ee=>ee.id===y),ce=[G,Q,...z].filter(Boolean).map(ee=>ee.ref.current);_O(ce,f)}}A.current=!1}),onBlur:ft(t.onBlur,()=>E(!1))})})}),bO="RovingFocusGroupItem",wO=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=_b(),d=i||c,f=NW(bO,n),h=f.currentTabStopId===d,p=mO(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:y}=f;return C.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),S.jsx(Cb.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:S.jsx(zn.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:ft(t.onMouseDown,w=>{r?f.onItemFocus(d):w.preventDefault()}),onFocus:ft(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:ft(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const _=LW(w,f.orientation,f.dir);if(_!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let T=p().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")T.reverse();else if(_==="prev"||_==="next"){_==="prev"&&T.reverse();const k=T.indexOf(w.currentTarget);T=f.loop?UW(T,k+1):T.slice(k+1)}setTimeout(()=>_O(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});wO.displayName=bO;var jW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function LW(t,e,n){const r=FW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return jW[r]}function _O(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function UW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $W=yO,BW=wO,zW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Al=new WeakMap,ah=new WeakMap,lh={},ny=0,SO=function(t){return t&&(t.host||SO(t.parentNode))},HW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=SO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},VW=function(t,e,n,r){var s=HW(e,Array.isArray(t)?t:[t]);lh[n]||(lh[n]=new WeakMap);var i=lh[n],o=[],a=new Set,c=new Set(s),d=function(h){!h||a.has(h)||(a.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))f(p);else try{var m=p.getAttribute(r),b=m!==null&&m!=="false",y=(Al.get(p)||0)+1,w=(i.get(p)||0)+1;Al.set(p,y),i.set(p,w),o.push(p),y===1&&b&&ah.set(p,!0),w===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return f(e),a.clear(),ny++,function(){o.forEach(function(h){var p=Al.get(h)-1,m=i.get(h)-1;Al.set(h,p),i.set(h,m),p||(ah.has(h)||h.removeAttribute(r),ah.delete(h)),m||h.removeAttribute(n)}),ny--,ny||(Al=new WeakMap,Al=new WeakMap,ah=new WeakMap,lh={})}},WW=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=zW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),VW(r,s,n,"aria-hidden")):function(){return null}},Rb=function(t,e){return Rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Rb(t,e)};function xO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var us=function(){return us=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},us.apply(this,arguments)};function qo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function EO(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function CO(t,e){return function(n,r){e(n,r,t)}}function RO(t,e,n,r,s,i){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!e&&t?r.static?t:t.prototype:null,f=e||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),h,p=!1,m=n.length-1;m>=0;m--){var b={};for(var y in r)b[y]=y==="access"?{}:r[y];for(var y in r.access)b.access[y]=r.access[y];b.addInitializer=function(_){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(_||null))};var w=(0,n[m])(a==="accessor"?{get:f.get,set:f.set}:f[c],b);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=o(w.get))&&(f.get=h),(h=o(w.set))&&(f.set=h),(h=o(w.init))&&s.unshift(h)}else(h=o(w))&&(a==="field"?s.unshift(h):f[c]=h)}d&&Object.defineProperty(d,r.name,f),p=!0}function TO(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function AO(t){return typeof t=="symbol"?t:"".concat(t)}function kO(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function DO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ie(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?i(f.value):s(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})}function OO(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(f){return c([d,f])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(f){d=[6,f],s=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var mp=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function IO(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&mp(e,t,n)}function Sg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function e0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function MO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(e0(arguments[e]));return t}function NO(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function t0(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function rc(t){return this instanceof rc?(this.v=t,this):new rc(t)}function PO(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(b){return Promise.resolve(b).then(m,h)}}function a(m,b){r[m]&&(s[m]=function(y){return new Promise(function(w,_){i.push([m,y,w,_])>1||c(m,y)})},b&&(s[m]=b(s[m])))}function c(m,b){try{d(r[m](b))}catch(y){p(i[0][3],y)}}function d(m){m.value instanceof rc?Promise.resolve(m.value.v).then(f,h):p(i[0][2],m)}function f(m){c("next",m)}function h(m){c("throw",m)}function p(m,b){m(b),i.shift(),i.length&&c(i[0][0],i[0][1])}}function jO(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:rc(t[s](o)),done:!1}:i?i(o):o}:i}}function FO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Sg=="function"?Sg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},o)}}function LO(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var qW=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Tb=function(t){return Tb=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Tb(t)};function UO(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Tb(t),r=0;r<n.length;r++)n[r]!=="default"&&mp(e,t,n[r]);return qW(e,t),e}function $O(t){return t&&t.__esModule?t:{default:t}}function BO(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function zO(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function HO(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function VO(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var GW=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function WO(t){function e(i){t.error=t.hasError?new GW(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function qO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const KW={__extends:xO,__assign:us,__rest:qo,__decorate:EO,__param:CO,__esDecorate:RO,__runInitializers:TO,__propKey:AO,__setFunctionName:kO,__metadata:DO,__awaiter:Ie,__generator:OO,__createBinding:mp,__exportStar:IO,__values:Sg,__read:e0,__spread:MO,__spreadArrays:NO,__spreadArray:t0,__await:rc,__asyncGenerator:PO,__asyncDelegator:jO,__asyncValues:FO,__makeTemplateObject:LO,__importStar:UO,__importDefault:$O,__classPrivateFieldGet:BO,__classPrivateFieldSet:zO,__classPrivateFieldIn:HO,__addDisposableResource:VO,__disposeResources:WO,__rewriteRelativeImportExtension:qO},YW=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:VO,get __assign(){return us},__asyncDelegator:jO,__asyncGenerator:PO,__asyncValues:FO,__await:rc,__awaiter:Ie,__classPrivateFieldGet:BO,__classPrivateFieldIn:HO,__classPrivateFieldSet:zO,__createBinding:mp,__decorate:EO,__disposeResources:WO,__esDecorate:RO,__exportStar:IO,__extends:xO,__generator:OO,__importDefault:$O,__importStar:UO,__makeTemplateObject:LO,__metadata:DO,__param:CO,__propKey:AO,__read:e0,__rest:qo,__rewriteRelativeImportExtension:qO,__runInitializers:TO,__setFunctionName:kO,__spread:MO,__spreadArray:t0,__spreadArrays:NO,__values:Sg,default:KW},Symbol.toStringTag,{value:"Module"}));var Xh="right-scroll-bar-position",Zh="width-before-scroll-bar",QW="with-scroll-bars-hidden",XW="--removed-body-scroll-bar-size";function ry(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZW(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var JW=typeof window<"u"?C.useLayoutEffect:C.useEffect,jC=new WeakMap;function e5(t,e){var n=ZW(null,function(r){return t.forEach(function(s){return ry(s,r)})});return JW(function(){var r=jC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ry(a,null)}),i.forEach(function(a){s.has(a)||ry(a,o)})}jC.set(n,t)},[t]),n}function t5(t){return t}function n5(t,e){e===void 0&&(e=t5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return s}function r5(t){t===void 0&&(t={});var e=n5(null);return e.options=us({async:!0,ssr:!1},t),e}var GO=function(t){var e=t.sideCar,n=qo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,us({},n))};GO.isSideCarExport=!0;function s5(t,e){return t.useMedium(e),GO}var KO=r5(),sy=function(){},vp=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:sy,onWheelCapture:sy,onTouchMoveCapture:sy}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,m=t.noRelative,b=t.noIsolation,y=t.inert,w=t.allowPinchZoom,_=t.as,E=_===void 0?"div":_,T=t.gapMode,k=qo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,I=e5([n,e]),M=us(us({},k),s);return C.createElement(C.Fragment,null,f&&C.createElement(A,{sideCar:KO,removeScrollBar:d,shards:h,noRelative:m,noIsolation:b,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:T}),o?C.cloneElement(C.Children.only(a),us(us({},M),{ref:I})):C.createElement(E,us({},M,{className:c,ref:I}),a))});vp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vp.classNames={fullWidth:Zh,zeroRight:Xh};var i5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=i5();return e&&t.setAttribute("nonce",e),t}function a5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function l5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var c5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=o5())&&(a5(e,n),l5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},u5=function(){var t=c5();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},YO=function(){var t=u5(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},d5={left:0,top:0,right:0,gap:0},iy=function(t){return parseInt(t||"",10)||0},f5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[iy(n),iy(r),iy(s)]},h5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return d5;var e=f5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},g5=YO(),Kl="data-scroll-locked",p5=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(QW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Kl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xh," .").concat(Xh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zh," .").concat(Zh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Kl,`] {
    `).concat(XW,": ").concat(a,`px;
  }
`)},FC=function(){var t=parseInt(document.body.getAttribute(Kl)||"0",10);return isFinite(t)?t:0},m5=function(){C.useEffect(function(){return document.body.setAttribute(Kl,(FC()+1).toString()),function(){var t=FC()-1;t<=0?document.body.removeAttribute(Kl):document.body.setAttribute(Kl,t.toString())}},[])},v5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;m5();var i=C.useMemo(function(){return h5(s)},[s]);return C.createElement(g5,{styles:p5(i,!e,s,n?"":"!important")})},Ab=!1;if(typeof window<"u")try{var ch=Object.defineProperty({},"passive",{get:function(){return Ab=!0,!0}});window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{Ab=!1}var kl=Ab?{passive:!1}:!1,y5=function(t){return t.tagName==="TEXTAREA"},QO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!y5(t)&&n[e]==="visible")},b5=function(t){return QO(t,"overflowY")},w5=function(t){return QO(t,"overflowX")},LC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=XO(t,r);if(s){var i=ZO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},S5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},XO=function(t,e){return t==="v"?b5(e):w5(e)},ZO=function(t,e){return t==="v"?_5(e):S5(e)},x5=function(t,e){return t==="h"&&e==="rtl"?-1:1},E5=function(t,e,n,r,s){var i=x5(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,f=o>0,h=0,p=0;do{if(!a)break;var m=ZO(t,a),b=m[0],y=m[1],w=m[2],_=y-w-i*b;(b||_)&&XO(t,a)&&(h+=_,p+=b);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(d=!0),d},uh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},UC=function(t){return[t.deltaX,t.deltaY]},$C=function(t){return t&&"current"in t?t.current:t},C5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},R5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},T5=0,Dl=[];function A5(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),s=C.useState(T5++)[0],i=C.useState(YO)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=t0([t.lockRef.current],(t.shards||[]).map($C),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=C.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var _=uh(y),E=n.current,T="deltaX"in y?y.deltaX:E[0]-_[0],k="deltaY"in y?y.deltaY:E[1]-_[1],A,I=y.target,M=Math.abs(T)>Math.abs(k)?"h":"v";if("touches"in y&&M==="h"&&I.type==="range")return!1;var D=LC(M,I);if(!D)return!0;if(D?A=M:(A=M==="v"?"h":"v",D=LC(M,I)),!D)return!1;if(!r.current&&"changedTouches"in y&&(T||k)&&(r.current=A),!A)return!0;var P=r.current||A;return E5(P,w,y,P==="h"?T:k)},[]),c=C.useCallback(function(y){var w=y;if(!(!Dl.length||Dl[Dl.length-1]!==i)){var _="deltaY"in w?UC(w):uh(w),E=e.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&C5(A.delta,_)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var T=(o.current.shards||[]).map($C).filter(Boolean).filter(function(A){return A.contains(w.target)}),k=T.length>0?a(w,T[0]):!o.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),d=C.useCallback(function(y,w,_,E){var T={name:y,delta:w,target:_,should:E,shadowParent:k5(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(k){return k!==T})},1)},[]),f=C.useCallback(function(y){n.current=uh(y),r.current=void 0},[]),h=C.useCallback(function(y){d(y.type,UC(y),y.target,a(y,t.lockRef.current))},[]),p=C.useCallback(function(y){d(y.type,uh(y),y.target,a(y,t.lockRef.current))},[]);C.useEffect(function(){return Dl.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,kl),document.addEventListener("touchmove",c,kl),document.addEventListener("touchstart",f,kl),function(){Dl=Dl.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,kl),document.removeEventListener("touchmove",c,kl),document.removeEventListener("touchstart",f,kl)}},[]);var m=t.removeScrollBar,b=t.inert;return C.createElement(C.Fragment,null,b?C.createElement(i,{styles:R5(s)}):null,m?C.createElement(v5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function k5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const D5=s5(KO,A5);var JO=C.forwardRef(function(t,e){return C.createElement(vp,us({},t,{ref:e,sideCar:D5}))});JO.classNames=vp.classNames;var kb=["Enter"," "],O5=["ArrowDown","PageUp","Home"],eI=["ArrowUp","PageDown","End"],I5=[...O5,...eI],M5={ltr:[...kb,"ArrowRight"],rtl:[...kb,"ArrowLeft"]},N5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ad="Menu",[Zu,P5,j5]=$D(Ad),[Wa,tI]=yc(Ad,[j5,oO,vO]),yp=oO(),nI=vO(),[F5,qa]=Wa(Ad),[L5,kd]=Wa(Ad),rI=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=yp(e),[c,d]=C.useState(null),f=C.useRef(!1),h=ci(i),p=BD(s);return C.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),S.jsx(SW,{...a,children:S.jsx(F5,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:d,children:S.jsx(L5,{scope:e,onClose:C.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:p,modal:o,children:r})})})};rI.displayName=Ad;var U5="MenuAnchor",n0=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=yp(n);return S.jsx(xW,{...s,...r,ref:e})});n0.displayName=U5;var r0="MenuPortal",[$5,sI]=Wa(r0,{forceMount:void 0}),iI=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=qa(r0,e);return S.jsx($5,{scope:e,forceMount:n,children:S.jsx(Rd,{present:n||i.open,children:S.jsx(pO,{asChild:!0,container:s,children:r})})})};iI.displayName=r0;var fs="MenuContent",[B5,s0]=Wa(fs),oI=C.forwardRef((t,e)=>{const n=sI(fs,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=qa(fs,t.__scopeMenu),o=kd(fs,t.__scopeMenu);return S.jsx(Zu.Provider,{scope:t.__scopeMenu,children:S.jsx(Rd,{present:r||i.open,children:S.jsx(Zu.Slot,{scope:t.__scopeMenu,children:o.modal?S.jsx(z5,{...s,ref:e}):S.jsx(H5,{...s,ref:e})})})})}),z5=C.forwardRef((t,e)=>{const n=qa(fs,t.__scopeMenu),r=C.useRef(null),s=Pr(e,r);return C.useEffect(()=>{const i=r.current;if(i)return WW(i)},[]),S.jsx(i0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ft(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),H5=C.forwardRef((t,e)=>{const n=qa(fs,t.__scopeMenu);return S.jsx(i0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),V5=Yu("MenuContent.ScrollLock"),i0=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:b,...y}=t,w=qa(fs,n),_=kd(fs,n),E=yp(n),T=nI(n),k=P5(n),[A,I]=C.useState(null),M=C.useRef(null),D=Pr(e,M,w.onContentChange),P=C.useRef(0),j=C.useRef(""),z=C.useRef(0),G=C.useRef(null),Q=C.useRef("right"),oe=C.useRef(0),ce=b?JO:C.Fragment,ee=b?{as:V5,allowPinchZoom:!0}:void 0,re=B=>{const Z=j.current+B,U=k().filter(ge=>!ge.disabled),J=document.activeElement,le=U.find(ge=>ge.ref.current===J)?.textValue,ue=U.map(ge=>ge.textValue),Se=n3(ue,Z,le),_e=U.find(ge=>ge.textValue===Se)?.ref.current;(function ge(fe){j.current=fe,window.clearTimeout(P.current),fe!==""&&(P.current=window.setTimeout(()=>ge(""),1e3))})(Z),_e&&setTimeout(()=>_e.focus())};C.useEffect(()=>()=>window.clearTimeout(P.current),[]),GH();const $=C.useCallback(B=>Q.current===G.current?.side&&s3(B,G.current?.area),[]);return S.jsx(B5,{scope:n,searchRef:j,onItemEnter:C.useCallback(B=>{$(B)&&B.preventDefault()},[$]),onItemLeave:C.useCallback(B=>{$(B)||(M.current?.focus(),I(null))},[$]),onTriggerLeave:C.useCallback(B=>{$(B)&&B.preventDefault()},[$]),pointerGraceTimerRef:z,onPointerGraceIntentChange:C.useCallback(B=>{G.current=B},[]),children:S.jsx(ce,{...ee,children:S.jsx(WD,{asChild:!0,trapped:s,onMountAutoFocus:ft(i,B=>{B.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:S.jsx(HD,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:S.jsx($W,{asChild:!0,...T,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:I,onEntryFocus:ft(c,B=>{_.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:S.jsx(EW,{role:"menu","aria-orientation":"vertical","data-state":SI(w.open),"data-radix-menu-content":"",dir:_.dir,...E,...y,ref:D,style:{outline:"none",...y.style},onKeyDown:ft(y.onKeyDown,B=>{const U=B.target.closest("[data-radix-menu-content]")===B.currentTarget,J=B.ctrlKey||B.altKey||B.metaKey,le=B.key.length===1;U&&(B.key==="Tab"&&B.preventDefault(),!J&&le&&re(B.key));const ue=M.current;if(B.target!==ue||!I5.includes(B.key))return;B.preventDefault();const _e=k().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);eI.includes(B.key)&&_e.reverse(),e3(_e)}),onBlur:ft(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(P.current),j.current="")}),onPointerMove:ft(t.onPointerMove,Ju(B=>{const Z=B.target,U=oe.current!==B.clientX;if(B.currentTarget.contains(Z)&&U){const J=B.clientX>oe.current?"right":"left";Q.current=J,oe.current=B.clientX}}))})})})})})})});oI.displayName=fs;var W5="MenuGroup",o0=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return S.jsx(zn.div,{role:"group",...r,ref:e})});o0.displayName=W5;var q5="MenuLabel",aI=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return S.jsx(zn.div,{...r,ref:e})});aI.displayName=q5;var xg="MenuItem",BC="menu.itemSelect",bp=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=C.useRef(null),o=kd(xg,t.__scopeMenu),a=s0(xg,t.__scopeMenu),c=Pr(e,i),d=C.useRef(!1),f=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(BC,{bubbles:!0,cancelable:!0});h.addEventListener(BC,m=>r?.(m),{once:!0}),ID(h,p),p.defaultPrevented?d.current=!1:o.onClose()}};return S.jsx(lI,{...s,ref:c,disabled:n,onClick:ft(t.onClick,f),onPointerDown:h=>{t.onPointerDown?.(h),d.current=!0},onPointerUp:ft(t.onPointerUp,h=>{d.current||h.currentTarget?.click()}),onKeyDown:ft(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||kb.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});bp.displayName=xg;var lI=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=s0(xg,n),a=nI(n),c=C.useRef(null),d=Pr(e,c),[f,h]=C.useState(!1),[p,m]=C.useState("");return C.useEffect(()=>{const b=c.current;b&&m((b.textContent??"").trim())},[i.children]),S.jsx(Zu.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:S.jsx(BW,{asChild:!0,...a,focusable:!r,children:S.jsx(zn.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ft(t.onPointerMove,Ju(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ft(t.onPointerLeave,Ju(b=>o.onItemLeave(b))),onFocus:ft(t.onFocus,()=>h(!0)),onBlur:ft(t.onBlur,()=>h(!1))})})})}),G5="MenuCheckboxItem",cI=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return S.jsx(gI,{scope:t.__scopeMenu,checked:n,children:S.jsx(bp,{role:"menuitemcheckbox","aria-checked":Eg(n)?"mixed":n,...s,ref:e,"data-state":l0(n),onSelect:ft(s.onSelect,()=>r?.(Eg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});cI.displayName=G5;var uI="MenuRadioGroup",[K5,Y5]=Wa(uI,{value:void 0,onValueChange:()=>{}}),dI=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=ci(r);return S.jsx(K5,{scope:t.__scopeMenu,value:n,onValueChange:i,children:S.jsx(o0,{...s,ref:e})})});dI.displayName=uI;var fI="MenuRadioItem",hI=C.forwardRef((t,e)=>{const{value:n,...r}=t,s=Y5(fI,t.__scopeMenu),i=n===s.value;return S.jsx(gI,{scope:t.__scopeMenu,checked:i,children:S.jsx(bp,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":l0(i),onSelect:ft(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});hI.displayName=fI;var a0="MenuItemIndicator",[gI,Q5]=Wa(a0,{checked:!1}),pI=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Q5(a0,n);return S.jsx(Rd,{present:r||Eg(i.checked)||i.checked===!0,children:S.jsx(zn.span,{...s,ref:e,"data-state":l0(i.checked)})})});pI.displayName=a0;var X5="MenuSeparator",mI=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return S.jsx(zn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});mI.displayName=X5;var Z5="MenuArrow",vI=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=yp(n);return S.jsx(CW,{...s,...r,ref:e})});vI.displayName=Z5;var J5="MenuSub",[Fie,yI]=Wa(J5),_u="MenuSubTrigger",bI=C.forwardRef((t,e)=>{const n=qa(_u,t.__scopeMenu),r=kd(_u,t.__scopeMenu),s=yI(_u,t.__scopeMenu),i=s0(_u,t.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},f=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),c(null)}},[a,c]),S.jsx(n0,{asChild:!0,...d,children:S.jsx(lI,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":SI(n.open),...t,ref:lp(e,s.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ft(t.onPointerMove,Ju(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ft(t.onPointerLeave,Ju(h=>{f();const p=n.content?.getBoundingClientRect();if(p){const m=n.content?.dataset.side,b=m==="right",y=b?-5:5,w=p[b?"left":"right"],_=p[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:w,y:p.top},{x:_,y:p.top},{x:_,y:p.bottom},{x:w,y:p.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ft(t.onKeyDown,h=>{const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||M5[r.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});bI.displayName=_u;var wI="MenuSubContent",_I=C.forwardRef((t,e)=>{const n=sI(fs,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=qa(fs,t.__scopeMenu),o=kd(fs,t.__scopeMenu),a=yI(wI,t.__scopeMenu),c=C.useRef(null),d=Pr(e,c);return S.jsx(Zu.Provider,{scope:t.__scopeMenu,children:S.jsx(Rd,{present:r||i.open,children:S.jsx(Zu.Slot,{scope:t.__scopeMenu,children:S.jsx(i0,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&c.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ft(t.onFocusOutside,f=>{f.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ft(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:ft(t.onKeyDown,f=>{const h=f.currentTarget.contains(f.target),p=N5[o.dir].includes(f.key);h&&p&&(i.onOpenChange(!1),a.trigger?.focus(),f.preventDefault())})})})})})});_I.displayName=wI;function SI(t){return t?"open":"closed"}function Eg(t){return t==="indeterminate"}function l0(t){return Eg(t)?"indeterminate":t?"checked":"unchecked"}function e3(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function t3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function n3(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=t3(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function r3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],d=a.x,f=a.y,h=c.x,p=c.y;f>r!=p>r&&n<(h-d)*(r-f)/(p-f)+d&&(s=!s)}return s}function s3(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return r3(n,e)}function Ju(t){return e=>e.pointerType==="mouse"?t(e):void 0}var i3=rI,o3=n0,a3=iI,l3=oI,c3=o0,u3=aI,d3=bp,f3=cI,h3=dI,g3=hI,p3=pI,m3=mI,v3=vI,y3=bI,b3=_I,wp="DropdownMenu",[w3]=yc(wp,[tI]),gr=tI(),[_3,xI]=w3(wp),EI=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=gr(e),d=C.useRef(null),[f,h]=UD({prop:s,defaultProp:i??!1,onChange:o,caller:wp});return S.jsx(_3,{scope:e,triggerId:_b(),triggerRef:d,contentId:_b(),open:f,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(p=>!p),[h]),modal:a,children:S.jsx(i3,{...c,open:f,onOpenChange:h,dir:r,modal:a,children:n})})};EI.displayName=wp;var CI="DropdownMenuTrigger",RI=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=xI(CI,n),o=gr(n);return S.jsx(o3,{asChild:!0,...o,children:S.jsx(zn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:lp(e,i.triggerRef),onPointerDown:ft(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ft(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});RI.displayName=CI;var S3="DropdownMenuPortal",TI=t=>{const{__scopeDropdownMenu:e,...n}=t,r=gr(e);return S.jsx(a3,{...r,...n})};TI.displayName=S3;var AI="DropdownMenuContent",kI=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xI(AI,n),i=gr(n),o=C.useRef(!1);return S.jsx(l3,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ft(t.onCloseAutoFocus,a=>{o.current||s.triggerRef.current?.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ft(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kI.displayName=AI;var x3="DropdownMenuGroup",E3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(c3,{...s,...r,ref:e})});E3.displayName=x3;var C3="DropdownMenuLabel",DI=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(u3,{...s,...r,ref:e})});DI.displayName=C3;var R3="DropdownMenuItem",OI=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(d3,{...s,...r,ref:e})});OI.displayName=R3;var T3="DropdownMenuCheckboxItem",A3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(f3,{...s,...r,ref:e})});A3.displayName=T3;var k3="DropdownMenuRadioGroup",D3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(h3,{...s,...r,ref:e})});D3.displayName=k3;var O3="DropdownMenuRadioItem",I3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(g3,{...s,...r,ref:e})});I3.displayName=O3;var M3="DropdownMenuItemIndicator",N3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(p3,{...s,...r,ref:e})});N3.displayName=M3;var P3="DropdownMenuSeparator",II=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(m3,{...s,...r,ref:e})});II.displayName=P3;var j3="DropdownMenuArrow",F3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(v3,{...s,...r,ref:e})});F3.displayName=j3;var L3="DropdownMenuSubTrigger",U3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(y3,{...s,...r,ref:e})});U3.displayName=L3;var $3="DropdownMenuSubContent",B3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gr(n);return S.jsx(b3,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B3.displayName=$3;var z3=EI,H3=RI,V3=TI,W3=kI,q3=DI,G3=OI,K3=II;const Y3="modulepreload",Q3=function(t){return"/scheduler_demo/"+t},zC={},Us=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=c(n.map(d=>{if(d=Q3(d),d in zC)return;zC[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Y3,f||(p.as="script"),p.crossOrigin="",p.href=d,a&&p.setAttribute("nonce",a),document.head.appendChild(p),f)return new Promise((m,b)=>{p.addEventListener("load",m),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},X3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>Ga);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class c0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class HC extends c0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class VC extends c0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class WC extends c0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Db;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Db||(Db={}));class Z3{constructor(e,{headers:n={},customFetch:r,region:s=Db.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=X3(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ie(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:a,signal:c}=r;let d={},{region:f}=r;f||(f=this.region);const h=new URL(`${this.url}/${n}`);f&&f!=="any"&&(d["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let p;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(d["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(d["Content-Type"]="application/json",p=JSON.stringify(a)):p=a;const m=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:p,signal:c}).catch(_=>{throw _.name==="AbortError"?_:new HC(_)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new VC(m);if(!m.ok)throw new WC(m);let y=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield m.json():y==="application/octet-stream"||y==="application/pdf"?w=yield m.blob():y==="text/event-stream"?w=m:y==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new HC(i)}:{data:null,error:i,response:i instanceof WC||i instanceof VC?i.context:void 0}}})}}var Jn={};const _c=mk(YW);var dh={},fh={},hh={},gh={},ph={},J3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sc=J3();const e4=sc.fetch,MI=sc.fetch.bind(sc),NI=sc.Headers,t4=sc.Request,n4=sc.Response,Ga=Object.freeze(Object.defineProperty({__proto__:null,Headers:NI,Request:t4,Response:n4,default:MI,fetch:e4},Symbol.toStringTag,{value:"Module"})),r4=mk(Ga);var mh={},qC;function PI(){if(qC)return mh;qC=1,Object.defineProperty(mh,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return mh.default=t,mh}var GC;function jI(){if(GC)return ph;GC=1,Object.defineProperty(ph,"__esModule",{value:!0});const t=_c,e=t.__importDefault(r4),n=t.__importDefault(PI());class r{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,h,p,m;let b=null,y=null,w=null,_=d.status,E=d.statusText;if(d.ok){if(this.method!=="HEAD"){const I=await d.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?y=I:y=JSON.parse(I))}const k=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),A=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");k&&A&&A.length>1&&(w=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(b={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,_=406,E="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const k=await d.text();try{b=JSON.parse(k),Array.isArray(b)&&d.status===404&&(y=[],b=null,_=200,E="OK")}catch{d.status===404&&k===""?(_=204,E="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((m=b?.details)===null||m===void 0)&&m.includes("0 rows"))&&(b=null,_=200,E="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:y,count:w,status:_,statusText:E}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,h,p;return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:`${(h=d?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=d?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return ph.default=r,ph}var KC;function FI(){if(KC)return gh;KC=1,Object.defineProperty(gh,"__esModule",{value:!0});const e=_c.__importDefault(jI());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,d=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:d="text"}={}){var f;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return gh.default=n,gh}var YC;function u0(){if(YC)return hh;YC=1,Object.defineProperty(hh,"__esModule",{value:!0});const e=_c.__importDefault(FI());class n extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${d}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return hh.default=n,hh}var QC;function LI(){if(QC)return fh;QC=1,Object.defineProperty(fh,"__esModule",{value:!0});const e=_c.__importDefault(u0());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},c=o?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",f),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(h.length>0){const p=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return fh.default=n,fh}var XC;function s4(){if(XC)return dh;XC=1,Object.defineProperty(dh,"__esModule",{value:!0});const t=_c,e=t.__importDefault(LI()),n=t.__importDefault(u0());class r{constructor(i,{headers:o={},schema:a,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:c=!1,count:d}={}){var f;let h;const p=new URL(`${this.url}/rpc/${i}`);let m;a||c?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{p.searchParams.append(y,w)})):(h="POST",m=o);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new n.default({method:h,url:p,headers:b,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return dh.default=r,dh}var ZC;function i4(){if(ZC)return Jn;ZC=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.PostgrestError=Jn.PostgrestBuilder=Jn.PostgrestTransformBuilder=Jn.PostgrestFilterBuilder=Jn.PostgrestQueryBuilder=Jn.PostgrestClient=void 0;const t=_c,e=t.__importDefault(s4());Jn.PostgrestClient=e.default;const n=t.__importDefault(LI());Jn.PostgrestQueryBuilder=n.default;const r=t.__importDefault(u0());Jn.PostgrestFilterBuilder=r.default;const s=t.__importDefault(FI());Jn.PostgrestTransformBuilder=s.default;const i=t.__importDefault(jI());Jn.PostgrestBuilder=i.default;const o=t.__importDefault(PI());return Jn.PostgrestError=o.default,Jn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Jn}var o4=i4();const a4=bd(o4),{PostgrestClient:l4,PostgrestQueryBuilder:Lie,PostgrestFilterBuilder:Uie,PostgrestTransformBuilder:$ie,PostgrestBuilder:Bie,PostgrestError:zie}=a4;class c4{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const u4="2.76.1",d4=`realtime-js/${u4}`,f4="1.0.0",Ob=1e4,h4=1e3,g4=100;var Du;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Du||(Du={}));var Cn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Cn||(Cn={}));var Rs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Rs||(Rs={}));var Ib;(function(t){t.websocket="websocket"})(Ib||(Ib={}));var Ca;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ca||(Ca={}));class p4{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:d}}}class UI{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pt||(Pt={}));const JC=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=m4(o,t,e,s),i),{}):{}},m4=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s?.type,o=n[t];return i&&!r.includes(i)?$I(i,o):Mb(o)},$I=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return w4(e,n)}switch(t){case Pt.bool:return v4(e);case Pt.float4:case Pt.float8:case Pt.int2:case Pt.int4:case Pt.int8:case Pt.numeric:case Pt.oid:return y4(e);case Pt.json:case Pt.jsonb:return b4(e);case Pt.timestamp:return _4(e);case Pt.abstime:case Pt.date:case Pt.daterange:case Pt.int4range:case Pt.int8range:case Pt.money:case Pt.reltime:case Pt.text:case Pt.time:case Pt.timestamptz:case Pt.timetz:case Pt.tsrange:case Pt.tstzrange:return Mb(e);default:return Mb(e)}},Mb=t=>t,v4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},y4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},b4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},w4=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>$I(e,a))}return t},_4=t=>typeof t=="string"?t.replace(" ","T"):t,BI=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class oy{constructor(e,n,r={},s=Ob){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var eR;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(eR||(eR={}));class Ou{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ou.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ou.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ou.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(d,f)=>{o[d]||(c[d]=f)}),this.map(o,(d,f)=>{const h=i[d];if(h){const p=f.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),b=f.filter(w=>m.indexOf(w.presence_ref)<0),y=h.filter(w=>p.indexOf(w.presence_ref)<0);b.length>0&&(a[d]=b),y.length>0&&(c[d]=y)}else a[d]=f}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var d;const f=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(c),f.length>0){const h=e[a].map(m=>m.presence_ref),p=f.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...p)}r(a,f,c)}),this.map(o,(a,c)=>{let d=e[a];if(!d)return;const f=c.map(h=>h.presence_ref);d=d.filter(h=>f.indexOf(h.presence_ref)<0),e[a]=d,s(a,d,c),d.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tR;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tR||(tR={}));var Iu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Iu||(Iu={}));var Ii;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ii||(Ii={}));class d0{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new oy(this,Rs.join,this.params,this.timeout),this.rejoinTimer=new UI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rs.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ou(this),this.broadcastEndpointURL=BI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Cn.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,d=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Iu.PRESENCE]&&this.bindings[Iu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e?.(Ii.CHANNEL_ERROR,m)),this._onClose(()=>e?.(Ii.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){e?.(Ii.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(b=y?.length)!==null&&b!==void 0?b:0,_=[];for(let E=0;E<w;E++){const T=y[E],{filter:{event:k,schema:A,table:I,filter:M}}=T,D=m&&m[E];if(D&&D.event===k&&D.schema===A&&D.table===I&&D.filter===M)_.push(Object.assign(Object.assign({},T),{id:D.id}));else{this.unsubscribe(),this.state=Cn.errored,e?.(Ii.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Ii.SUBSCRIBED);return}}).receive("error",m=>{this.state=Cn.errored,e?.(Ii.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ii.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Cn.joined&&e===Iu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const d=await a.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Cn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new oy(this,Rs.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oy(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>g4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:d,join:f}=Rs;if(r&&[a,c,d,f].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,y,w;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(y=m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var b,y,w,_,E,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const k=m.id,A=(b=m.filter)===null||b===void 0?void 0:b.event;return k&&((y=n.ids)===null||y===void 0?void 0:y.includes(k))&&(A==="*"||A?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const k=(E=(_=m?.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return k==="*"||k===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:y,table:w,commit_timestamp:_,type:E,errors:T}=b;p=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:_,eventType:E,new:{},old:{},errors:T}),this._getPayloadRecords(b))}m.callback(p,r)})}_isClosed(){return this.state===Cn.closed}_isJoined(){return this.state===Cn.joined}_isJoining(){return this.state===Cn.joining}_isLeaving(){return this.state===Cn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&d0.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Rs.close,{},e)}_onError(e){this._on(Rs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=JC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=JC(e.columns,e.old_record)),n}}const ay=()=>{},vh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S4=[1e3,2e3,5e3,1e4],x4=1e4,E4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C4{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ob,this.transport=null,this.heartbeatIntervalMs=vh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ay,this.ref=0,this.reconnectTimer=null,this.logger=ay,this.conn=null,this.sendBuffer=[],this.serializer=new p4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Us(async()=>{const{default:a}=await Promise.resolve().then(()=>Ga);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ib.websocket}`,this.httpEndpoint=BI(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=c4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:f4}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Du.connecting:return Ca.Connecting;case Du.open:return Ca.Open;case Du.closing:return Ca.Closing;default:return Ca.Closed}}isConnected(){return this.connectionState()===Ca.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new d0(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(h4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${a}`.trim(),i),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Rs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([E4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:d4};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Rs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new UI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,c,d,f;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Ob,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:vh.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:ay,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(h=>S4[h-1]||x4),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((h,p)=>p(JSON.stringify(h))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class f0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Xt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class R4 extends f0{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nb extends f0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const h0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>Ga);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},T4=()=>Ie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Us(()=>Promise.resolve().then(()=>Ga),void 0)).Response:Response}),Pb=t=>{if(Array.isArray(t))return t.map(n=>Pb(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Pb(r)}),e},A4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ly=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),k4=(t,e,n)=>Ie(void 0,void 0,void 0,function*(){const r=yield T4();t instanceof r&&!n?.noResolveJson?t.json().then(s=>{const i=t.status||500,o=s?.statusCode||i+"";e(new R4(ly(s),i,o))}).catch(s=>{e(new Nb(ly(s),s))}):e(new Nb(ly(t),t))}),D4=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!r?s:(A4(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(r)):s.body=r,e?.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Dd(t,e,n,r,s,i){return Ie(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,D4(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>k4(c,a,r))})})}function ed(t,e,n,r){return Ie(this,void 0,void 0,function*(){return Dd(t,"GET",e,n,r)})}function Cs(t,e,n,r,s){return Ie(this,void 0,void 0,function*(){return Dd(t,"POST",e,r,s,n)})}function jb(t,e,n,r,s){return Ie(this,void 0,void 0,function*(){return Dd(t,"PUT",e,r,s,n)})}function O4(t,e,n,r){return Ie(this,void 0,void 0,function*(){return Dd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function g0(t,e,n,r,s){return Ie(this,void 0,void 0,function*(){return Dd(t,"DELETE",e,r,s,n)})}class I4{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xt(e))return{data:null,error:e};throw e}})}}var zI;class M4{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[zI]="BlobDownloadBuilder",this.promise=null}asStream(){return new I4(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xt(e))return{data:null,error:e};throw e}})}}zI=Symbol.toStringTag;const N4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class P4{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=h0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Ie(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},nR),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s?.headers&&(a=Object.assign(Object.assign({},a),s.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),h=yield(e=="PUT"?jb:Cs)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:nR.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const h=yield jb(this.fetch,a.toString(),c,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Ie(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const i=yield Cs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new f0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ie(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Cs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ie(this,void 0,void 0,function*(){try{const s=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),c=()=>ed(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new M4(c,this.shouldThrowOnError)}info(e){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ed(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Pb(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}exists(e){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield O4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r)&&r instanceof Nb){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${d}`)}}}remove(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield g0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ie(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},N4),n),{prefix:e||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ie(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Cs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const HI="2.76.1",VI={"X-Client-Info":`storage-js/${HI}`};class j4{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},VI),n),this.fetch=h0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ie(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}createBucket(e){return Ie(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield jb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield g0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}}class F4{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},VI),n),this.fetch=h0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}listBuckets(e){return Ie(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,i=yield ed(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield g0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}}const p0={"X-Client-Info":`storage-js/${HI}`,"Content-Type":"application/json"};class WI extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class cy extends WI{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class L4 extends WI{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var rR;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(rR||(rR={}));const m0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>Ga);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},U4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sR=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$4=(t,e,n)=>Ie(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||s+"";e(new cy(sR(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new cy(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new cy(a,s,o))}}else e(new L4(sR(t),t))}),B4=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return r?(U4(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function z4(t,e,n,r,s,i){return Ie(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,B4(e,r,s,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>$4(c,a,r))})})}function Vr(t,e,n,r,s){return Ie(this,void 0,void 0,function*(){return z4(t,"POST",e,r,s,n)})}class H4{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},p0),n),this.fetch=m0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ie(this,void 0,void 0,function*(){try{return{data:(yield Vr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listIndexes(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Ie(this,void 0,void 0,function*(){try{return{data:(yield Vr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class V4{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},p0),n),this.fetch=m0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ie(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}getVectors(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listVectors(e){return Ie(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Vr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}queryVectors(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Ie(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class W4{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},p0),n),this.fetch=m0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ie(this,void 0,void 0,function*(){try{return{data:(yield Vr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}getBucket(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listBuckets(){return Ie(this,arguments,void 0,function*(e={}){try{return{data:yield Vr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ie(this,void 0,void 0,function*(){try{return{data:(yield Vr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class q4 extends W4{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new G4(this.url,this.headers,e,this.fetch)}}class G4 extends H4{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ie(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ie(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ie(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ie(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new K4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class K4 extends V4{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ie(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ie(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ie(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ie(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ie(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Y4 extends j4{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new P4(this.url,this.headers,e,this.fetch)}get vectors(){return new q4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new F4(this.url+"/iceberg",this.headers,this.fetch)}}const Q4="2.76.1";let Su="";typeof Deno<"u"?Su="deno":typeof document<"u"?Su="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Su="react-native":Su="node";const X4={"X-Client-Info":`supabase-js-${Su}/${Q4}`},Z4={headers:X4},J4={schema:"public"},eq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tq={},nq=t=>{let e;return t?e=t:typeof fetch>"u"?e=MI:e=fetch,(...n)=>e(...n)},rq=()=>typeof Headers>"u"?NI:Headers,sq=(t,e,n)=>{const r=nq(n),s=rq();return async(i,o)=>{var a;const c=(a=await e())!==null&&a!==void 0?a:t;let d=new s(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:d}))}};function iq(t){return t.endsWith("/")?t:t+"/"}function oq(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:c,auth:d,realtime:f,global:h}=e,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function aq(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iq(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qI="2.76.1",$l=30*1e3,Fb=3,uy=Fb*$l,lq="http://localhost:9999",cq="supabase.auth.token",uq={"X-Client-Info":`gotrue-js/${qI}`},Lb="X-Supabase-Api-Version",GI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fq=600*1e3;class td extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hq extends td{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function gq(t){return Ue(t)&&t.name==="AuthApiError"}class Ra extends td{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Go extends td{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class _o extends Go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pq(t){return Ue(t)&&t.name==="AuthSessionMissingError"}class Ol extends Go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yh extends Go{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bh extends Go{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mq(t){return Ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class iR extends Go{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ub extends Go{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function dy(t){return Ue(t)&&t.name==="AuthRetryableFetchError"}class oR extends Go{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class $b extends Go{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aR=` 	
\r=`.split(""),vq=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<aR.length;e+=1)t[aR[e].charCodeAt(0)]=-2;for(let e=0;e<Cg.length;e+=1)t[Cg[e].charCodeAt(0)]=e;return t})();function lR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Cg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Cg[r]),e.queuedBits-=6}}function KI(t,e,n){const r=vq[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cR(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{wq(o,r,n)};for(let o=0;o<t.length;o+=1)KI(t.charCodeAt(o),s,i);return e.join("")}function yq(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bq(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}yq(r,e)}}function wq(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Yl(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)KI(t.charCodeAt(s),n,r);return new Uint8Array(e)}function _q(t){const e=[];return bq(t,n=>e.push(n)),new Uint8Array(e)}function Oa(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>lR(s,n,r)),lR(null,n,r),e.join("")}function Sq(t){return Math.round(Date.now()/1e3)+t}function xq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $r=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},YI=()=>{if(!$r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function Eq(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const QI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>Ga);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Cq=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bl=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ga=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yo=async(t,e)=>{await t.removeItem(e)};class _p{constructor(){this.promise=new _p.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_p.promiseConstructor=Promise;function fy(t){const e=t.split(".");if(e.length!==3)throw new $b("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!dq.test(e[r]))throw new $b("JWT not in base64url format");return{header:JSON.parse(cR(e[0])),payload:JSON.parse(cR(e[1])),signature:Yl(e[2]),raw:{header:e[0],payload:e[1]}}}async function Rq(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Tq(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Aq(t){return("0"+t.toString(16)).substr(-2)}function kq(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Aq).join("")}async function Dq(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Oq(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Dq(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Il(t,e,n=!1){const r=kq();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Bl(t,`${e}-code-verifier`,s);const i=await Oq(r);return[i,r===i?"plain":"s256"]}const Iq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mq(t){const e=t.headers.get(Lb);if(!e||!e.match(Iq))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Nq(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Pq(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ml(t){if(!jq.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hy(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uR(t){return JSON.parse(JSON.stringify(t))}const wa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fq=[502,503,504];async function dR(t){var e;if(!Cq(t))throw new Ub(wa(t),0);if(Fq.includes(t.status))throw new Ub(wa(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ra(wa(i),i)}let r;const s=Mq(t);if(s&&s.getTime()>=GI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new oR(wa(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new _o}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new oR(wa(n),t.status,n.weak_password.reasons);throw new hq(wa(n),t.status||500,r)}const Lq=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ye(t,e,n,r){var s;const i=Object.assign({},r?.headers);i[Lb]||(i[Lb]=GI["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Uq(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function Uq(t,e,n,r,s,i){const o=Lq(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Ub(wa(c),0)}if(a.ok||await dR(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await dR(c)}}function Es(t){var e;let n=null;zq(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Sq(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function fR(t){const e=Es(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ro(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $q(t){return{data:t,error:null}}function Bq(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=qo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function hR(t){return t}function zq(t){return t.access_token&&t.refresh_token&&t.expires_in}const gy=["global","local","others"];class Hq{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=QI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=gy[0]){if(gy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gy.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ro})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=qo(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Bq,redirectTo:n?.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ro})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:hR});if(f.error)throw f.error;const h=await f.json(),p=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=y}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Ml(e);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ro})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ml(e);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ro})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ml(e);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ro})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ml(e.userId);try{const{data:n,error:r}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ml(e.userId),Ml(e.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:hR});if(f.error)throw f.error;const h=await f.json(),p=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=y}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ue(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function gR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Nl={debug:!!(globalThis&&YI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XI extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Vq extends XI{}async function Wq(t,e,n){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Vq(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function qq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ZI(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Gq(t){return parseInt(t,16)}function Kq(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Yq(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:c,resources:d,scheme:f,uri:h,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=ZI(t.address),b=f?`${f}://${r}`:r,y=t.statement?`${t.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${m}

${y}`;let _=`URI: ${h}
Version: ${p}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),c&&(_+=`
Request ID: ${c}`),d){let E=`
Resources:`;for(const T of d){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);E+=`
- ${T}`}_+=E}return`${w}
${_}`}class vn extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Rg extends vn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Qq({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new vn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new vn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new vn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new vn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new vn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new vn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new vn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(JI(o)){if(i.rp.id!==o)return new vn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new vn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new vn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Xq({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new vn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(JI(r)){if(n.rpId!==r)return new vn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new vn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Zq{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Jq=new Zq;function eG(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=qo(t,["challenge","user","excludeCredentials"]),i=Yl(e).buffer,o=Object.assign(Object.assign({},n),{id:Yl(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Yl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function tG(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=qo(t,["challenge","allowCredentials"]),s=Yl(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Yl(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function nG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Oa(new Uint8Array(t.response.attestationObject)),clientDataJSON:Oa(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Oa(new Uint8Array(s.authenticatorData)),clientDataJSON:Oa(new Uint8Array(s.clientDataJSON)),signature:Oa(new Uint8Array(s.signature)),userHandle:s.userHandle?Oa(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function JI(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function pR(){var t,e;return!!($r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function sG(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rg("Browser returned unexpected credential type",e)}:{data:null,error:new Rg("Empty credential response",e)}}catch(e){return{data:null,error:Qq({error:e,options:t})}}}async function iG(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rg("Browser returned unexpected credential type",e)}:{data:null,error:new Rg("Empty credential response",e)}}catch(e){return{data:null,error:Xq({error:e,options:t})}}}const oG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},aG={userVerification:"preferred",hints:["security-key"]};function Tg(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=Tg(a,o):r[i]=Tg(o)}else r[i]=o}return r}function lG(t,e){return Tg(oG,t,e||{})}function cG(t,e){return Tg(aG,t,e||{})}class uG{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const c=s??Jq.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=lG(o.webauthn.credential_options.publicKey,i?.create),{data:f,error:h}=await sG({publicKey:d,signal:c});return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=cG(o.webauthn.credential_options.publicKey,i?.request),{data:f,error:h}=await iG(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new Ra("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new td("rpId is required for WebAuthn authentication")};try{if(!pR())return{data:null,error:new Ra("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new Ra("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new td("rpId is required for WebAuthn registration")};try{if(!pR())return{data:null,error:new Ra("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:a};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new Ra("Unexpected error in register",o)}}}}qq();const dG={url:lq,storageKey:cq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mR(t,e,n){return await n()}const Pl={};class nd{get jwks(){var e,n;return(n=(e=Pl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Pl[this.storageKey]=Object.assign(Object.assign({},Pl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Pl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pl[this.storageKey]=Object.assign(Object.assign({},Pl[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nd.nextInstanceID,nd.nextInstanceID+=1,this.instanceID>0&&$r()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dG),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Hq({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=QI(s.fetch),this.lock=s.lock||mR,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:$r()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Wq:this.lock=mR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uG(this)},this.persistSession?(s.storage?this.storage=s.storage:YI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gR(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=gR(this.memoryStorage)),$r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qI}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Eq(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),$r()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),mq(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?{error:n}:{error:new Ra("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Es}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:f,password:h,options:p}=e;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Il(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:h,data:(n=p?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:b},xform:Es})}else if("phone"in e){const{phone:f,password:h,options:p}=e;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=p?.data)!==null&&r!==void 0?r:{},channel:(s=p?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Es})}else throw new yh("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:fR})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:fR})}else throw new yh("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ol}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,c,d,f,h,p;let m,b;if("message"in e)m=e.message,b=e.signature;else{const{chain:y,wallet:w,statement:_,options:E}=e;let T;if($r())if(typeof w=="object")T=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")T=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=w}const k=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),A=await T.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=ZI(A[0]);let M=(r=E?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const P=await T.request({method:"eth_chainId"});M=Gq(P)}const D={domain:k.host,address:I,statement:_,uri:k.href,version:"1",chainId:M,nonce:(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.resources};m=Yq(D),b=await T.request({method:"personal_sign",params:[Kq(m),I]})}try{const{data:y,error:w}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Es});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ol}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(Ue(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var n,r,s,i,o,a,c,d,f,h,p,m;let b,y;if("message"in e)b=e.message,y=e.signature;else{const{chain:w,wallet:_,statement:E,options:T}=e;let k;if($r())if(typeof _=="object")k=_;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))k=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=_}const A=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const I=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),E?{statement:E}:null));let M;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")M=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)M=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)b=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),y=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${A.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=T?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((a=T?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((h=(f=T?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...T.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const I=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=I}}try{const{data:w,error:_}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Oa(y)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Es});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ol}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(Ue(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await ga(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Es});if(await yo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ol}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Es}),{data:c,error:d}=a;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ol}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Il(this.storage,this.storageKey));const{error:h}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c?.data)!==null&&n!==void 0?n:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:c}=e,{data:d,error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c?.data)!==null&&s!==void 0?s:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new yh("You must provide either an email or phone number.")}catch(a){if(Ue(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Es});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Il(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:$q})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new _o;const{error:s}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new yh("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<uy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ga(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=hy()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,f)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ro}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _o}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ro})})}catch(n){if(Ue(n))return pq(n)&&(await this._removeSession(),await yo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _o;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Il(this.storage,this.storageKey));const{data:d,error:f}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Ro});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _o;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=fy(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new _o;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!$r())throw new bh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iR("No code detected.");const{data:E,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:d}=e;if(!i||!a||!o||!d)throw new bh("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let p=f+h;c&&(p=parseInt(c));const m=p-f;m*1e3<=$l&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const b=p-h;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,f);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const _={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(Ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ga(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(gq(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await yo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=xq(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Il(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,d,f;const{data:h,error:p}=i;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return $r()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Ue(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:c,access_token:d,nonce:f}=e,h=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:c,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Es}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Ol}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:m})}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Tq(async s=>(s>0&&await Rq(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Es})),(s,i)=>{const o=200*Math.pow(2,s);return i&&dy(i)&&Date.now()+o-r<$l})}catch(r){if(this._debug(n,"error",r),Ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),$r()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ga(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ga(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Bl(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o?.user)!==null&&e!==void 0?e:hy()}else if(s&&!s.user&&!s.user){const o=await ga(this.storage,this.storageKey+"-user");o&&o?.user?(s.user=o.user,await yo(this.storage,this.storageKey+"-user"),await Bl(this.storage,this.storageKey,s)):s.user=hy()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<uy;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${uy}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),dy(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&o?.user?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new _o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _p;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new _o;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Ue(i)){const o={data:null,error:i};return dy(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Bl(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=uR(s);await Bl(this.storage,this.storageKey,i)}else{const s=uR(n);await Bl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await yo(this.storage,this.storageKey),await yo(this.storage,this.storageKey+"-code-verifier"),await yo(this.storage,this.storageKey+"-user"),this.userStorage&&await yo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$r()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$l);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/$l);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$l}ms, refresh threshold is ${Fb} ticks`),s<=Fb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof XI)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$r()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Il(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((s=c?.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?nG(e.webauthn.credential_response):rG(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:eG(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:tG(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n?.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fy(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+fq>s)return r;const{data:i,error:o}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=fy(r);n?.allowExpired||Nq(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const f=Pq(s.alg),h=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,o,_q(`${a}.${c}`)))throw new $b("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}nd.nextInstanceID=0;const fG=nd;class hG extends fG{constructor(e){super(e)}}class gG{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=aq(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:J4,realtime:tq,auth:Object.assign(Object.assign({},eq),{storageKey:c}),global:Z4},f=oq(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=sq(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new l4(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Y4(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Z3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:c,debug:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hG({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new C4(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pG=(t,e,n)=>new gG(t,e,n);function mG(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mG()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function vG(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Bb=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Bb(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Bb(r)(n)}}}},yG=(t,e)=>(n,r,s)=>{let i={storage:vG(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...e},o=!1;const a=new Set,c=new Set;let d=i.storage;if(!d)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const f=()=>{const y=i.partialize({...r()});return d.setItem(i.name,{state:y,version:i.version})},h=s.setState;s.setState=(y,w)=>(h(y,w),f());const p=t((...y)=>(n(...y),f()),r,s);s.getInitialState=()=>p;let m;const b=()=>{var y,w;if(!d)return;o=!1,a.forEach(E=>{var T;return E((T=r())!=null?T:p)});const _=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(y=r())!=null?y:p))||void 0;return Bb(d.getItem.bind(d))(i.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==i.version){if(i.migrate){const T=i.migrate(E.state,E.version);return T instanceof Promise?T.then(k=>[!0,k]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var T;const[k,A]=E;if(m=i.merge(A,(T=r())!=null?T:p),n(m,!0),k)return f()}).then(()=>{_?.(m,void 0),m=r(),o=!0,c.forEach(E=>E(m))}).catch(E=>{_?.(void 0,E)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||b(),m||p},eM=yG;var bG=t=>{if(!t||Array.isArray(t)&&t.length===0)return;let e;if(Array.isArray(t)){const n=t.filter(r=>r&&r.trim().length>0);if(n.length===0)return;n.length===1?e=n[0]:e=`There are ${n.length} validation errors:

• ${n.join(`
• `)}`}else e=t;Sd.error(e,{duration:1e4,position:"top-right",style:{maxWidth:"400px",whiteSpace:"pre-line"}})},Ka=t=>{Sd.success(t)},Ao=t=>{Sd.error(t)},xu=t=>{Sd.warning(t)},wG=(t,e)=>Sd(t,e),tM={DISPLAY:"dd/MM/yyyy"},_G=(t,e=tM.DISPLAY)=>{if(!t)return"";try{const n=typeof t=="string"?hB(t):t;return cD(n)?kn(n,e):""}catch(n){return console.warn("Date formatting error:",n),""}},Hie=t=>_G(t,tM.DISPLAY);function pr(...t){return s$(Kk(t))}var vR=t=>confirm(t),SG=(t,e)=>{if(!(!t||!e))return e.indexOf(".")===-1?t[e]:e.split(".").reduce((n,r)=>n&&n[r]!==void 0?n[r]:void 0,t)},yR=()=>`ID_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Ta=(t,e={})=>{let n="An unexpected error occurred";if(t.response)switch(t.response.status){case 400:n="Invalid request data";break;case 401:n="Authentication required";break;case 403:n="Access denied";break;case 404:n="Resource not found";break;case 500:case 502:case 503:n="Server error occurred";break;default:n="Network error occurred"}else t.request?n="Network connection failed":t.message&&(n=t.message);return new Error(n)},xG=DB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Po({className:t,variant:e,size:n,asChild:r=!1,...s}){const i=r?bU:"button";return S.jsx(i,{"data-slot":"button",className:pr(xG({variant:e,size:n,className:t})),...s})}var Ln=C.forwardRef(({className:t,type:e,...n},r)=>S.jsx("input",{type:e,"data-slot":"input",className:pr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),ref:r,...n}));Ln.displayName="Input";var rr=C.forwardRef(({className:t,...e},n)=>S.jsx("label",{ref:n,"data-slot":"label",className:pr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));rr.displayName="Label";function ts({className:t,...e}){return S.jsx("div",{"data-slot":"card",className:pr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",t),...e})}function ns({className:t,...e}){return S.jsx("div",{"data-slot":"card-header",className:pr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function rs({className:t,...e}){return S.jsx("div",{"data-slot":"card-title",className:pr("leading-none font-semibold",t),...e})}function ss({className:t,...e}){return S.jsx("div",{"data-slot":"card-content",className:pr("px-6",t),...e})}var nM=C.createContext(null);function py(t){const e=document.documentElement,n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=t==="dark"||t==="system"&&n;e.classList.toggle("dark",r)}var EG=({defaultTheme:t="system",children:e})=>{const[n,r]=C.useState(t);C.useEffect(()=>{const o=localStorage.getItem("theme")||t;r(o),py(o);const a=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{(localStorage.getItem("theme")||"system")==="system"&&py("system")};return a.addEventListener?.("change",c),()=>a.removeEventListener?.("change",c)},[t]);const s=o=>{localStorage.setItem("theme",o),r(o),py(o)},i=C.useMemo(()=>({theme:n,setTheme:s}),[n]);return S.jsx(nM.Provider,{value:i,children:e})},CG=()=>{const t=C.useContext(nM);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},rM=({className:t})=>{const{theme:e,setTheme:n}=CG();return S.jsx("div",{className:"inline-flex gap-2 items-center",children:S.jsxs("select",{"aria-label":"Theme",value:e,onChange:r=>n(r.target.value),className:pr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","w-36",t),children:[S.jsx("option",{value:"light",children:"Light"}),S.jsx("option",{value:"dark",children:"Dark"}),S.jsx("option",{value:"system",children:"System"})]})})},RG=({children:t,className:e,...n})=>S.jsx("table",{className:`w-full border-collapse border border-gray-200 table-auto ${e||""}`,...n,children:t}),TG=({children:t})=>S.jsx("thead",{className:"bg-gray-50",children:t}),AG=({children:t})=>S.jsx("tbody",{className:"divide-y divide-gray-200",children:t}),my=({children:t,onClick:e,className:n})=>S.jsx("tr",{onClick:e,className:`${e?"cursor-pointer hover:bg-gray-50":""} ${n||""}`,children:t}),kG=({children:t})=>S.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200 min-w-0",children:t}),bR=({children:t,colSpan:e,className:n})=>S.jsx("td",{colSpan:e,className:`px-4 py-3 text-sm text-gray-900 border-b border-gray-200 min-w-0 max-w-xs ${n||""}`,children:S.jsx("div",{className:"truncate",title:typeof t=="string"?t:"",children:t})}),bo=({children:t,variant:e="default",size:n="default",onClick:r,disabled:s,className:i})=>{const o="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",a={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},c={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"};return S.jsx("button",{onClick:r,disabled:s,className:`${o} ${a[e]||a.default} ${c[n]||c.default} ${i||""}`,children:t})};function v0({data:t,columns:e,onEditRow:n,onDeleteRow:r,onRowClick:s,enableFiltering:i=!1,filterableColumns:o=[],stickyColumns:a=[],onBulkDelete:c,onBulkExport:d,initialPageSize:f=PE.PAGE_SIZE,pageSizeOptions:h=[...PE.PAGE_SIZE_OPTIONS],enableGlobalSearch:p=!0,enableColumnVisibility:m=!1,enableRowSelection:b=!1}){const[y,w]=C.useState({}),[_,E]=C.useState(0),[T,k]=C.useState(f),[A,I]=C.useState(new Set),[M,D]=C.useState(""),[P,j]=C.useState([]),z=C.useMemo(()=>{const re=b?{id:"select",header:({table:B})=>{const Z=B.getRowModel().rows.map(J=>J.original),U=Z.length>0&&Z.every(J=>A.has(J.id));return S.jsx("div",{className:"w-8",children:S.jsx("input",{type:"checkbox","aria-label":"Select all",checked:U,onChange:J=>{const le=new Set(A);J.target.checked?Z.forEach(ue=>le.add(ue.id)):Z.forEach(ue=>le.delete(ue.id)),I(le)},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})},cell:({row:B})=>S.jsx("div",{className:"flex w-8",children:S.jsx("input",{type:"checkbox","aria-label":"Select row",checked:A.has(B.original.id),onChange:Z=>{const U=new Set(A);Z.target.checked?U.add(B.original.id):U.delete(B.original.id),I(U)},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})}:null,$=n||r?{id:"actions",header:"Actions",cell:({row:B})=>S.jsxs("div",{className:"flex gap-2",children:[n&&S.jsx(bo,{variant:"outline",size:"sm",onClick:()=>n(B.original),children:"Edit"}),r&&S.jsx(bo,{variant:"destructive",size:"sm",onClick:()=>{vR("Are you sure you want to delete this item?")&&r(B.original)},children:"Delete"})]})}:null;return[re,...e,$].filter(Boolean)},[e,n,r,b,A]),G=C.useMemo(()=>{let re=t;return i&&Object.keys(y).length>0&&(re=re.filter($=>Object.entries(y).every(([B,Z])=>{if(!Z)return!0;const U=SG($,B);return String(U).toLowerCase().includes(Z.toLowerCase())}))),p&&M&&(re=re.filter($=>Object.values($).some(B=>String(B).toLowerCase().includes(M.toLowerCase())))),re},[t,y,M,i,p]),Q=C.useMemo(()=>{const re=_*T,$=re+T;return G.slice(re,$)},[G,_,T]),oe=Math.ceil(G.length/T),ce=Sz({data:Q,columns:z,state:{sorting:P},onSortingChange:j,getCoreRowModel:vz(),getSortedRowModel:yz()}),ee=()=>{w({}),D(""),E(0)};return S.jsxs("div",{className:"w-full space-y-4",children:[p&&S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"flex-1",children:S.jsx("input",{type:"text",placeholder:"Search all columns...",value:M,onChange:re=>{D(re.target.value),E(0)},className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})}),M&&S.jsx(bo,{variant:"outline",onClick:ee,children:"Clear Search"})]}),S.jsx("div",{className:"rounded-md border border-gray-200 overflow-hidden shadow-sm",children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs(RG,{className:"min-w-full",children:[S.jsx(TG,{children:ce.getHeaderGroups().map(re=>S.jsx(my,{children:re.headers.map($=>S.jsx(kG,{children:$.isPlaceholder?null:S.jsxs("div",{className:$.column.getCanSort()?"cursor-pointer select-none flex items-center gap-2":"",onClick:$.column.getToggleSortingHandler(),children:[JE($.column.columnDef.header,$.getContext()),{asc:" 🔼",desc:" 🔽"}[$.column.getIsSorted()]??null]})},$.id))},re.id))}),S.jsx(AG,{children:ce.getRowModel().rows.length?ce.getRowModel().rows.map(re=>S.jsx(my,{onClick:()=>s&&s(re.original),className:s?"cursor-pointer hover:bg-muted/50":"",children:re.getVisibleCells().map($=>S.jsx(bR,{children:JE($.column.columnDef.cell,$.getContext())},$.id))},re.id)):S.jsx(my,{children:S.jsx(bR,{colSpan:z.length,className:"h-24 text-center",children:"No results found."})})})]})})}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",_*T+1," to ",Math.min((_+1)*T,G.length)," of ",G.length," results"]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(bo,{variant:"outline",size:"sm",onClick:()=>E(Math.max(0,_-1)),disabled:_===0,children:"Previous"}),S.jsxs("span",{className:"text-sm",children:["Page ",_+1," of ",oe]}),S.jsx(bo,{variant:"outline",size:"sm",onClick:()=>E(Math.min(oe-1,_+1)),disabled:_>=oe-1,children:"Next"})]})]}),A.size>0&&(c||d)&&S.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-md",children:[S.jsxs("span",{className:"text-sm text-muted-foreground",children:[A.size," items selected"]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(bo,{variant:"outline",size:"sm",onClick:()=>I(new Set),children:"Clear Selection"}),d&&S.jsx(bo,{variant:"outline",size:"sm",onClick:()=>d(Array.from(A)),children:"Export Selected"}),c&&S.jsx(bo,{variant:"destructive",size:"sm",onClick:()=>{vR(`Delete ${A.size} selected items?`)&&(c(Array.from(A)),I(new Set))},children:"Delete Selected"})]})]})]})}var DG=class extends ie.Component{constructor(t){super(t),this.handleRetry=()=>{const e=this.props.maxRetries||3;this.state.retryCount<e&&this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:this.state.retryCount+1})},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0})},this.handleReportIssue=()=>{const e=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${e}&body=${n}`)},this.state={hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorId:yR()}}componentDidCatch(t,e){this.setState({errorInfo:e,errorId:this.state.errorId||yR()}),this.props.onError&&this.props.onError(t,e)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,{retry:this.handleRetry,reset:this.handleReset,retryCount:this.state.retryCount,maxRetries:this.props.maxRetries||3}):S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:S.jsxs("div",{className:"max-w-md w-full bg-card shadow-lg rounded-lg p-6 border",children:[S.jsxs("div",{className:"flex items-center mb-4",children:[S.jsx("div",{className:"flex-shrink-0",children:S.jsx("div",{className:"h-8 w-8 text-destructive text-2xl",children:"🚨"})}),S.jsx("div",{className:"ml-3",children:S.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Something went wrong"})})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("p",{className:"text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),this.state.errorId&&S.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error ID: ",S.jsx("code",{className:"bg-muted px-1 rounded",children:this.state.errorId})]})]}),S.jsxs("div",{className:"flex space-x-3 mb-4",children:[this.state.retryCount<(this.props.maxRetries||3)&&S.jsxs("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Try Again (",this.state.retryCount+1,"/",(this.props.maxRetries||3)+1,")"]}),S.jsx("button",{onClick:this.handleReset,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Reset"})]}),S.jsx("button",{onClick:this.handleReportIssue,className:"w-full bg-gray-100 text-gray-900 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 border border-gray-300",children:"📧 Report Issue"}),!1]})}):this.props.children}},vy=t=>console.error(t),OG=t=>console.warn(t),IG=t=>console.info(t),gi=(t={})=>{const{logErrors:e=!0,showUserMessages:n=!0,maxRetries:r=3,retryDelay:s=1e3,onError:i=null,onRetry:o=null,onFallback:a=null}=t,[c,d]=C.useState([]),[f,h]=C.useState(!1),p=C.useRef(0),m=C.useCallback(async(M,D="",P={})=>{const j={id:`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,message:M.message||"An unexpected error occurred",type:M.type||Zf.SERVER_ERROR,severity:M.severity||"medium",context:D,timestamp:new Date().toISOString(),userMessage:M.userMessage||M.message||"An unexpected error occurred"};if(d(z=>[...z,j]),e&&console.error(`[${D}] Error:`,M),n){const z=j.userMessage;switch(j.severity){case"low":OG(z);break;case"medium":vy(z);break;case"high":case"critical":vy(z);break;default:vy(z)}}return i&&await i(j,D),j},[e,n,i]),b=C.useCallback(async(M,D={})=>{const{context:P="",fallbackMessage:j="Operation failed",retry:z=!1,maxRetries:G=r}=D;try{return z?await y(M,G):await M()}catch(Q){throw await m(Q,P,{fallbackMessage:j})}},[r,m]),y=C.useCallback(async(M,D)=>{let P;for(let j=1;j<=D;j++)try{h(j>1),p.current=j-1;const z=await M();return h(!1),p.current=0,z}catch(z){if(P=z,j<D){const G=s*Math.pow(2,j-1);o&&await o(z,j,G),n&&IG(`Retrying... (${j}/${D})`),await new Promise(Q=>setTimeout(Q,G))}}throw h(!1),p.current=0,P},[s,o,n]),w=C.useCallback((M,D={})=>{const P={message:M,type:Zf.VALIDATION_ERROR,severity:"medium",details:D,userMessage:M};return m(P,"validation")},[m]),_=C.useCallback((M="Network connection failed")=>{const D={message:M,type:Zf.NETWORK_ERROR,severity:"high",userMessage:M};return m(D,"network")},[m]),E=C.useCallback((M="Authentication failed")=>{const D={message:M,type:Zf.AUTHENTICATION_ERROR,severity:"high",userMessage:M};return m(D,"authentication")},[m]),T=C.useCallback(()=>{d([])},[]),k=C.useCallback(M=>{d(D=>D.filter(P=>P.id!==M))},[]),A=C.useCallback(M=>c.filter(D=>D.type===M),[c]),I=C.useCallback(()=>c.some(M=>M.severity==="critical"),[c]);return{handleError:m,handleAsync:b,handleValidationError:w,handleNetworkError:_,handleAuthError:E,clearErrors:T,clearError:k,getErrorsByType:A,hasCriticalErrors:I,errors:c,isRetrying:f,retryCount:p.current,retryOperation:y}},sM=li(t=>({isOpen:!0,toggle:()=>t(e=>({isOpen:!e.isOpen})),open:()=>t({isOpen:!0}),close:()=>t({isOpen:!1})})),MG=t=>({all:[t],lists:()=>[t,"list"],list:e=>[t,"list",e],details:()=>[t,"detail"],detail:e=>[t,"detail",e],search:(e,n)=>[t,"search",e,n],count:e=>[t,"count",e],paginated:e=>[t,"paginated",e]});function NG(t){const e=t.getTableName(),n=MG(e);return{useList:(E,T)=>cs({queryKey:n.list(E?.filters),queryFn:()=>t.getAll(E),staleTime:300*1e3,...T}),usePaginatedList:(E,T)=>cs({queryKey:n.paginated(E),queryFn:()=>t.getPaginated(E),staleTime:300*1e3,keepPreviousData:!0,...T}),useDetail:(E,T,k)=>cs({queryKey:n.detail(E),queryFn:()=>t.getById(E,T),enabled:!!E,staleTime:300*1e3,...k}),useSearch:(E,T,k,A)=>cs({queryKey:n.search(E,T),queryFn:()=>t.search(E,T,k),enabled:E.length>0,staleTime:120*1e3,...A}),useCount:(E,T)=>cs({queryKey:n.count(E),queryFn:()=>t.count(E),staleTime:300*1e3,...T}),useCreate:E=>{const T=Vt();return nr({mutationFn:k=>t.create(k),onSuccess:(k,A)=>{T.invalidateQueries({queryKey:n.lists()}),T.invalidateQueries({queryKey:n.count()}),T.setQueryData(n.detail(k.id),k),E?.onSuccess?.(k,A,void 0)},...E})},useCreateMany:E=>{const T=Vt();return nr({mutationFn:k=>t.createMany(k),onSuccess:(k,A)=>{T.invalidateQueries({queryKey:n.lists()}),T.invalidateQueries({queryKey:n.count()}),k.forEach(I=>{T.setQueryData(n.detail(I.id),I)}),E?.onSuccess?.(k,A,void 0)},...E})},useUpdate:E=>{const T=Vt();return nr({mutationFn:({id:k,data:A})=>t.update(k,A),onSuccess:(k,A)=>{T.setQueryData(n.detail(A.id),k),T.invalidateQueries({queryKey:n.lists()}),E?.onSuccess?.(k,A,void 0)},...E})},useUpdateMany:E=>{const T=Vt();return nr({mutationFn:k=>t.updateMany(k),onSuccess:(k,A)=>{k.forEach((I,M)=>{T.setQueryData(n.detail(A[M].id),I)}),T.invalidateQueries({queryKey:n.lists()}),E?.onSuccess?.(k,A,void 0)},...E})},useUpsert:E=>{const T=Vt();return nr({mutationFn:({data:k,onConflict:A})=>t.upsert(k,A),onSuccess:(k,A)=>{T.setQueryData(n.detail(k.id),k),T.invalidateQueries({queryKey:n.lists()}),T.invalidateQueries({queryKey:n.count()}),E?.onSuccess?.(k,A,void 0)},...E})},useDelete:E=>{const T=Vt();return nr({mutationFn:k=>t.delete(k),onSuccess:(k,A)=>{T.removeQueries({queryKey:n.detail(A)}),T.invalidateQueries({queryKey:n.lists()}),T.invalidateQueries({queryKey:n.count()}),E?.onSuccess?.(k,A,void 0)},...E})},useBulkDelete:E=>{const T=Vt();return nr({mutationFn:k=>t.bulkDelete(k),onSuccess:(k,A)=>{A.forEach(I=>{T.removeQueries({queryKey:n.detail(I)})}),T.invalidateQueries({queryKey:n.lists()}),T.invalidateQueries({queryKey:n.count()}),E?.onSuccess?.(k,A,void 0)},...E})},useOptimisticUpdate:()=>{const E=Vt();return{optimisticUpdate:(A,I)=>{E.setQueryData(n.detail(A),I)},rollbackOptimisticUpdate:A=>{E.invalidateQueries({queryKey:n.detail(A)})}}},useInvalidateAll:()=>{const E=Vt();return{invalidateAll:()=>{E.invalidateQueries({queryKey:n.all})},invalidateLists:()=>{E.invalidateQueries({queryKey:n.lists()})},invalidateDetail:I=>{E.invalidateQueries({queryKey:n.detail(I)})}}},usePrefetch:()=>{const E=Vt();return{prefetchList:A=>E.prefetchQuery({queryKey:n.list(A?.filters),queryFn:()=>t.getAll(A),staleTime:300*1e3}),prefetchDetail:(A,I)=>E.prefetchQuery({queryKey:n.detail(A),queryFn:()=>t.getById(A,I),staleTime:300*1e3})}},queryKeys:n}}function Vie(t){return NG(t)}function PG({config:t,initialData:e={},onSubmit:n,onSuccess:r,isEditMode:s=!1,isLoading:i=!1,customActions:o=null,customFieldRenderers:a={},className:c="p-1 bg-card rounded-lg shadow-sm border"}){const{handleAsync:d}=gi("GenericForm"),f=C.useMemo(()=>{const D={};return t.sections.forEach(P=>{P.fields.forEach(j=>{j.name in e?D[j.name]=e[j.name]:j.defaultValue!==void 0?D[j.name]=j.defaultValue:D[j.name]=""})}),D},[t,e]),{register:h,handleSubmit:p,formState:{isSubmitting:m,errors:b},watch:y,setValue:w,getValues:_,reset:E,clearErrors:T}=qz({defaultValues:f,mode:"onChange"}),k=async D=>{await d(async()=>{await n(D),r&&r(),E(f)},{context:s?t.editContext:t.addContext,fallbackMessage:s?t.editErrorMessage:t.addErrorMessage})},A=D=>{const P=y(D.name);if(D.conditional&&!D.conditional(P,y,_))return null;if(a[D.type])return a[D.type](D,{watch:y,setValue:w,getValues:_,register:h,isSubmitting:m,fieldValue:P});const j={id:D.name,placeholder:D.placeholder,disabled:D.disabled||m,className:D.className||"",...h(D.name,D.validation||{})};switch(D.type){case"select":return S.jsxs("div",{children:[S.jsxs("select",{...h(D.name,D.validation),disabled:D.disabled||m,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${b[D.name]?"border-red-500":"border-input"}`,children:[S.jsx("option",{value:"",children:D.placeholder||`Seleziona ${D.label.toLowerCase()}`}),D.options?.map(z=>S.jsx("option",{value:z.value,children:z.label},z.value))]}),b[D.name]&&S.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"textarea":return S.jsxs("div",{children:[S.jsx("textarea",{...j,rows:D.rows||3,className:`w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent ${D.className||""} ${b[D.name]?"border-destructive":""}`}),b[D.name]&&S.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"checkbox":return S.jsx("div",{className:"flex flex-wrap gap-2",children:D.options?.map(z=>S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("input",{type:"checkbox",id:`${D.name}_${z.value}`,value:z.value,checked:P?.includes(z.value)||!1,onChange:G=>{const Q=_(D.name)||[];G.target.checked?w(D.name,[...Q,z.value].sort(),{shouldValidate:!0}):w(D.name,Q.filter(oe=>oe!==z.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),S.jsx(rr,{htmlFor:`${D.name}_${z.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:z.label})]},z.value))});case"datetime-local":return S.jsxs("div",{children:[S.jsx(Ln,{type:"datetime-local",...j,className:`${j.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&S.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"date":return S.jsxs("div",{children:[S.jsx(Ln,{type:"date",...j,className:`${j.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&S.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"time":return S.jsxs("div",{children:[S.jsx(Ln,{type:"time",...j,className:`${j.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&S.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"number":return S.jsxs("div",{children:[S.jsx(Ln,{type:"number",...j,className:`${j.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&S.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"text":default:return S.jsxs("div",{children:[S.jsx(Ln,{type:"text",...j,className:`${j.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&S.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]})}},I=D=>{const P=D.fields.filter(j=>!j.conditional||j.conditional(y(j.name),y,_));return P.length===0?null:S.jsxs("div",{className:"space-y-4",children:[S.jsx("h2",{className:"text-lg font-semibold text-foreground",children:D.title}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(j=>S.jsxs("div",{className:"space-y-2",children:[S.jsxs(rr,{htmlFor:j.name,className:"text-sm font-medium text-foreground",children:[j.label," ",j.required&&S.jsx("span",{className:"text-destructive",children:"*"})]}),A(j),j.helpText&&S.jsx("p",{className:"text-xs text-muted-foreground",children:j.helpText})]},j.name))})]},D.title)},M=D=>a[D]?a[D]():null;return S.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm p-6",children:S.jsxs("form",{onSubmit:p(k),noValidate:!0,className:"space-y-6",children:[t.sections.map(I),t.customFields&&Object.keys(t.customFields).map(D=>S.jsx("div",{children:M(D)},D)),o&&S.jsx("div",{className:"space-y-4",children:o}),S.jsx("div",{className:"flex justify-end pt-6 border-t border-border",children:S.jsx(Po,{type:"submit",disabled:i||m,children:i||m?s?t.editLoadingText:t.addLoadingText:s?t.editButtonText:t.addButtonText})})]})})}var Sp=PG;function jG({className:t,...e}){return S.jsx(IH,{"data-slot":"avatar",className:pr("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function FG({className:t,...e}){return S.jsx(MH,{"data-slot":"avatar-image",className:pr("aspect-square size-full",t),...e})}function LG({className:t,...e}){return S.jsx(NH,{"data-slot":"avatar-fallback",className:pr("bg-primary text-primary-foreground flex size-full items-center justify-center rounded-full font-medium",t),...e})}function UG({...t}){return S.jsx(z3,{"data-slot":"dropdown-menu",...t})}function $G({...t}){return S.jsx(H3,{"data-slot":"dropdown-menu-trigger",...t})}function BG({className:t,sideOffset:e=4,...n}){return S.jsx(V3,{children:S.jsx(W3,{"data-slot":"dropdown-menu-content",sideOffset:e,className:pr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function y0({className:t,inset:e,variant:n="default",...r}){return S.jsx(G3,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:pr("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function zG({className:t,inset:e,...n}){return S.jsx(q3,{"data-slot":"dropdown-menu-label","data-inset":e,className:pr("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function wR({className:t,...e}){return S.jsx(K3,{"data-slot":"dropdown-menu-separator",className:pr("bg-border -mx-1 my-1 h-px",t),...e})}ie.createContext(void 0);var iM=ie.createContext(void 0),oM=()=>ie.useContext(iM),HG=({onRefresh:t,loading:e=!1})=>{const n=()=>{t?t():window.location.reload()};return S.jsx(Po,{onClick:n,variant:"ghost",size:"icon",className:"hidden sm:inline-flex",children:e?S.jsx(fH,{className:"animate-spin"}):S.jsx(yH,{})})};function VG({children:t,user:e,onLogout:n}){const[r,s]=C.useState(!1),i=C.useCallback(()=>{s(c=>!c)},[]),o=C.useCallback(()=>{s(!1)},[]),a=()=>{n&&n(),s(!1)};return S.jsx(iM.Provider,{value:{onClose:o},children:S.jsxs(UG,{open:r,onOpenChange:i,children:[S.jsx($G,{asChild:!0,children:S.jsx(Po,{variant:"ghost",className:"relative h-8 w-8 ml-2 rounded-full",children:S.jsxs(jG,{className:"h-8 w-8",children:[S.jsx(FG,{src:e?.avatar,role:"presentation"}),S.jsx(LG,{children:e?.name?.charAt(0)||"U"})]})})}),S.jsxs(BG,{className:"w-56",align:"end",forceMount:!0,children:[S.jsx(zG,{className:"font-normal",children:S.jsxs("div",{className:"flex flex-col space-y-1",children:[S.jsx("p",{className:"text-sm font-medium leading-none",children:e?.name||"User"}),e?.email&&S.jsx("p",{className:"text-xs text-muted-foreground",children:e.email})]})}),S.jsx(wR,{}),t,C.Children.count(t)>0&&S.jsx(wR,{}),S.jsxs(y0,{onClick:a,className:"cursor-pointer",children:[S.jsx(gH,{}),"Log out"]})]})]})})}var WG=()=>{const{onClose:t}=oM()??{};return S.jsx(y0,{asChild:!0,onClick:t,children:S.jsxs(sn,{to:"/sales",className:"flex items-center gap-2",children:[S.jsx(_H,{})," Users"]})})},qG=()=>{const{onClose:t}=oM()??{};return S.jsx(y0,{asChild:!0,onClick:t,children:S.jsxs(sn,{to:"/settings",className:"flex items-center gap-2",children:[S.jsx(OD,{}),"My info"]})})},GG=({title:t,darkModeLogo:e,lightModeLogo:n,user:r,onLogout:s,onRefresh:i,onToggleSidebar:o,loading:a=!1})=>S.jsx("nav",{className:"flex-grow",children:S.jsx("header",{className:"bg-secondary",children:S.jsx("div",{className:"px-4",children:S.jsxs("div",{className:"flex justify-between items-center flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[o&&S.jsx("button",{onClick:o,className:"p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-inset focus:ring-ring",children:S.jsx(mH,{className:"h-5 w-5"})}),S.jsxs(sn,{to:"/",className:"flex items-center gap-2 text-secondary-foreground no-underline",children:[e&&S.jsx("img",{className:"[.light_&]:hidden h-6",src:e,alt:t}),n&&S.jsx("img",{className:"[.dark_&]:hidden h-6",src:n,alt:t}),S.jsx("h1",{className:"text-xl font-semibold",children:t})]})]}),S.jsxs("div",{className:"flex items-center",children:[S.jsx(rM,{}),S.jsx(HG,{onRefresh:i,loading:a}),S.jsxs(VG,{user:r,onLogout:s,children:[S.jsx(qG,{}),S.jsx(WG,{})]})]})]})})})}),we={VALIDATION_ERROR:"VALIDATION_ERROR",REQUIRED_FIELD_ERROR:"REQUIRED_FIELD_ERROR",INVALID_FORMAT_ERROR:"INVALID_FORMAT_ERROR",INVALID_RANGE_ERROR:"INVALID_RANGE_ERROR",INVALID_TYPE_ERROR:"INVALID_TYPE_ERROR",NOT_FOUND:"NOT_FOUND",DUPLICATE_ERROR:"DUPLICATE_ERROR",CONFLICT_ERROR:"CONFLICT_ERROR",OUT_OF_SYNC_ERROR:"OUT_OF_SYNC_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",INSUFFICIENT_STOCK_ERROR:"INSUFFICIENT_STOCK_ERROR",CAPACITY_EXCEEDED_ERROR:"CAPACITY_EXCEEDED_ERROR",INVALID_OPERATION_ERROR:"INVALID_OPERATION_ERROR",WORKFLOW_ERROR:"WORKFLOW_ERROR",SERVER_ERROR:"SERVER_ERROR",DATABASE_ERROR:"DATABASE_ERROR",NETWORK_ERROR:"NETWORK_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",CONNECTION_ERROR:"CONNECTION_ERROR",EXTERNAL_SERVICE_ERROR:"EXTERNAL_SERVICE_ERROR",API_ERROR:"API_ERROR",INTEGRATION_ERROR:"INTEGRATION_ERROR",CONFIGURATION_ERROR:"CONFIGURATION_ERROR",ENVIRONMENT_ERROR:"ENVIRONMENT_ERROR",RESOURCE_EXHAUSTED_ERROR:"RESOURCE_EXHAUSTED_ERROR",QUOTA_EXCEEDED_ERROR:"QUOTA_EXCEEDED_ERROR",STORAGE_ERROR:"STORAGE_ERROR",USER_INPUT_ERROR:"USER_INPUT_ERROR",UI_ERROR:"UI_ERROR",NAVIGATION_ERROR:"NAVIGATION_ERROR",RECOVERY_ERROR:"RECOVERY_ERROR",RETRY_ERROR:"RETRY_ERROR",FALLBACK_ERROR:"FALLBACK_ERROR"},zb=class extends Error{constructor(t,e=we.SERVER_ERROR,n=500,r=null,s="",i={}){super(t),this.name="ServiceError",this.type=e,this.statusCode=n,this.originalError=r,this.context=s,this.timestamp=new Date().toISOString(),this.id=i.id||this.generateErrorId(),this.severity=i.severity||this.getDefaultSeverity(e),this.retryable=i.retryable!==void 0?i.retryable:this.isRetryable(e),this.userMessage=i.userMessage||this.getDefaultUserMessage(e,t),this.details=i.details||{},this.metadata=i.metadata||{},r?.stack&&(this.stack=r.stack)}generateErrorId(){return`err_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getDefaultSeverity(t){return{[we.VALIDATION_ERROR]:"low",[we.REQUIRED_FIELD_ERROR]:"low",[we.INVALID_FORMAT_ERROR]:"low",[we.INVALID_RANGE_ERROR]:"low",[we.INVALID_TYPE_ERROR]:"low",[we.USER_INPUT_ERROR]:"low",[we.UI_ERROR]:"low",[we.NAVIGATION_ERROR]:"low",[we.NOT_FOUND]:"medium",[we.DUPLICATE_ERROR]:"medium",[we.CONFLICT_ERROR]:"medium",[we.BUSINESS_LOGIC_ERROR]:"medium",[we.INSUFFICIENT_STOCK_ERROR]:"medium",[we.CAPACITY_EXCEEDED_ERROR]:"medium",[we.INVALID_OPERATION_ERROR]:"medium",[we.WORKFLOW_ERROR]:"medium",[we.PERMISSION_ERROR]:"high",[we.AUTHENTICATION_ERROR]:"high",[we.AUTHORIZATION_ERROR]:"high",[we.RATE_LIMIT_ERROR]:"high",[we.CONFIGURATION_ERROR]:"high",[we.ENVIRONMENT_ERROR]:"high",[we.SERVER_ERROR]:"critical",[we.DATABASE_ERROR]:"critical",[we.NETWORK_ERROR]:"critical",[we.CONNECTION_ERROR]:"critical",[we.EXTERNAL_SERVICE_ERROR]:"critical",[we.API_ERROR]:"critical",[we.INTEGRATION_ERROR]:"critical",[we.RESOURCE_EXHAUSTED_ERROR]:"critical",[we.QUOTA_EXCEEDED_ERROR]:"critical",[we.STORAGE_ERROR]:"critical"}[t]||"medium"}isRetryable(t){return[we.NETWORK_ERROR,we.CONNECTION_ERROR,we.TIMEOUT_ERROR,we.SERVER_ERROR,we.EXTERNAL_SERVICE_ERROR,we.API_ERROR,we.RATE_LIMIT_ERROR].includes(t)}getDefaultUserMessage(t,e){return{[we.VALIDATION_ERROR]:"Please check your input and try again.",[we.REQUIRED_FIELD_ERROR]:"Please fill in all required fields.",[we.INVALID_FORMAT_ERROR]:"Please check the format of your input.",[we.INVALID_RANGE_ERROR]:"Please enter a value within the allowed range.",[we.INVALID_TYPE_ERROR]:"Please enter the correct type of data.",[we.NOT_FOUND]:"The requested item was not found.",[we.DUPLICATE_ERROR]:"This item already exists.",[we.CONFLICT_ERROR]:"There was a conflict with your request.",[we.PERMISSION_ERROR]:"You do not have permission to perform this action.",[we.AUTHENTICATION_ERROR]:"Please log in to continue.",[we.AUTHORIZATION_ERROR]:"You are not authorized to perform this action.",[we.BUSINESS_LOGIC_ERROR]:"This operation cannot be completed due to business rules.",[we.INSUFFICIENT_STOCK_ERROR]:"Insufficient stock available.",[we.CAPACITY_EXCEEDED_ERROR]:"Capacity limit exceeded.",[we.INVALID_OPERATION_ERROR]:"This operation is not allowed.",[we.SERVER_ERROR]:"A server error occurred. Please try again later.",[we.DATABASE_ERROR]:"A database error occurred. Please try again later.",[we.NETWORK_ERROR]:"Network connection failed. Please check your connection.",[we.CONNECTION_ERROR]:"Connection failed. Please try again.",[we.TIMEOUT_ERROR]:"The operation timed out. Please try again.",[we.EXTERNAL_SERVICE_ERROR]:"External service is temporarily unavailable.",[we.API_ERROR]:"API request failed. Please try again later.",[we.CONFIGURATION_ERROR]:"System configuration error. Please contact support.",[we.ENVIRONMENT_ERROR]:"Environment configuration error. Please contact support.",[we.RESOURCE_EXHAUSTED_ERROR]:"System resources are exhausted. Please try again later.",[we.QUOTA_EXCEEDED_ERROR]:"Quota exceeded. Please try again later.",[we.STORAGE_ERROR]:"Storage error occurred. Please try again later.",[we.USER_INPUT_ERROR]:"Please check your input and try again.",[we.UI_ERROR]:"A user interface error occurred.",[we.NAVIGATION_ERROR]:"Navigation error occurred.",[we.RECOVERY_ERROR]:"Error recovery failed.",[we.RETRY_ERROR]:"Retry operation failed.",[we.FALLBACK_ERROR]:"Fallback operation failed."}[t]||"An unexpected error occurred. Please try again."}toUserFriendly(){return{message:this.userMessage,type:this.type,severity:this.severity,retryable:this.retryable,timestamp:this.timestamp}}},KG=t=>{if(!t)return{type:we.SERVER_ERROR,message:"Unknown error occurred"};switch(t.code){case"23505":return{type:we.DUPLICATE_ERROR,message:"A record with this information already exists",details:{constraint:t.constraint,table:t.table}};case"23503":return{type:we.CONFLICT_ERROR,message:"Cannot perform this action due to related records",details:{constraint:t.constraint,table:t.table}};case"23502":return{type:we.REQUIRED_FIELD_ERROR,message:"Required fields are missing",details:{column:t.column,table:t.table}};case"23514":return{type:we.VALIDATION_ERROR,message:"Data validation failed",details:{constraint:t.constraint,table:t.table}};case"42P01":return{type:we.DATABASE_ERROR,message:"Database table not found",details:{table:t.table}};case"42703":return{type:we.DATABASE_ERROR,message:"Database column not found",details:{column:t.column,table:t.table}};case"PGRST301":case"PGRST302":return{type:we.AUTHENTICATION_ERROR,message:"Authentication expired. Please log in again."};case"PGRST001":return{type:we.AUTHORIZATION_ERROR,message:"You do not have permission to perform this action."};case"PGRST116":return{type:we.NOT_FOUND,message:"Record not found"};default:return t.message?.includes("JWT")?{type:we.AUTHENTICATION_ERROR,message:"Authentication error. Please refresh the page"}:t.message?.includes("network")?{type:we.NETWORK_ERROR,message:"Network connection failed"}:t.message?.includes("timeout")?{type:we.TIMEOUT_ERROR,message:"Request timed out"}:{type:we.SERVER_ERROR,message:t.message||"An unexpected error occurred"}}},er=async(t,e="unknown")=>{try{return await t()}catch(n){if(n instanceof zb)throw n;const r=KG(n);throw new zb(r.message,r.type,500,n,e,{details:r.details})}},Wie=class{constructor(t,e){this.realtimeChannels=new Map,this.client=t,this.tableName=e}async init(){return er(async()=>{const{error:t}=await this.client.from(this.tableName).select("count").limit(1);if(t)throw t;return!0},`${this.tableName}.init`)}async getAll(t={}){return er(async()=>{let e=this.client.from(this.tableName).select(t.select||"*").order(t.orderBy||"created_at",{ascending:t.ascending!==!1});if(t.filters&&Object.entries(t.filters).forEach(([s,i])=>{i!=null&&i!==""&&(Array.isArray(i)?e=e.in(s,i):typeof i=="string"&&i.includes("%")?e=e.like(s,i):e=e.eq(s,i))}),t.dateRange){const{startDate:s,endDate:i,dateField:o="created_at"}=t.dateRange;s&&(e=e.gte(o,`${s}T00:00:00.000Z`)),i&&(e=e.lte(o,`${i}T23:59:59.999Z`))}t.limit&&(e=e.limit(t.limit)),t.offset&&(e=e.range(t.offset,t.offset+(t.limit||10)-1));const{data:n,error:r}=await e;if(r)throw r;return n||[]},`${this.tableName}.getAll`)}async getPaginated(t={}){const e=t.page||1,n=t.perPage||10,r=(e-1)*n,[s,i]=await Promise.all([this.count(t.filters),this.getAll({...t,limit:n,offset:r})]);return{data:i,total:s,page:e,perPage:n,totalPages:Math.ceil(s/n)}}async getById(t,e="*"){return er(async()=>{const{data:n,error:r}=await this.client.from(this.tableName).select(e).eq("id",t).single();if(r)throw r;return n},`${this.tableName}.getById`)}async getByField(t,e,n={}){return er(async()=>{let r=this.client.from(this.tableName).select(n.select||"*").eq(t,e);n.orderBy&&(r=r.order(n.orderBy,{ascending:n.ascending!==!1})),n.limit&&(r=r.limit(n.limit));const{data:s,error:i}=await r;if(i)throw i;return s||[]},`${this.tableName}.getByField`)}async create(t){return er(async()=>{const{data:e,error:n}=await this.client.from(this.tableName).insert(t).select().single();if(n)throw n;return e},`${this.tableName}.create`)}async createMany(t){return er(async()=>{const{data:e,error:n}=await this.client.from(this.tableName).insert(t).select();if(n)throw n;return e||[]},`${this.tableName}.createMany`)}async update(t,e){return er(async()=>{const{data:n,error:r}=await this.client.from(this.tableName).update(e).eq("id",t).select().single();if(r)throw r;return n},`${this.tableName}.update`)}async updateMany(t){return er(async()=>{const e=t.map(({id:n,data:r})=>this.update(n,r));return Promise.all(e)},`${this.tableName}.updateMany`)}async upsert(t,e){return er(async()=>{let n=this.client.from(this.tableName).upsert(t).select().single();e&&(n=n.onConflict(e));const{data:r,error:s}=await n;if(s)throw s;return r},`${this.tableName}.upsert`)}async delete(t){return er(async()=>{const{error:e}=await this.client.from(this.tableName).delete().eq("id",t);if(e)throw e},`${this.tableName}.delete`)}async bulkDelete(t){return er(async()=>{const{error:e}=await this.client.from(this.tableName).delete().in("id",t);if(e)throw e},`${this.tableName}.bulkDelete`)}async count(t){return er(async()=>{let e=this.client.from(this.tableName).select("*",{count:"exact",head:!0});t&&Object.entries(t).forEach(([s,i])=>{i!=null&&i!==""&&(Array.isArray(i)?e=e.in(s,i):e=e.eq(s,i))});const{count:n,error:r}=await e;if(r)throw r;return n||0},`${this.tableName}.count`)}async exists(t){return er(async()=>{const{data:e,error:n}=await this.client.from(this.tableName).select("id").eq("id",t).single();if(n&&n.code!=="PGRST116")throw n;return!!e},`${this.tableName}.exists`)}async search(t,e=["name"],n={}){return er(async()=>{let r=this.client.from(this.tableName).select(n.select||"*");if(e.length===1)r=r.ilike(e[0],`%${t}%`);else{const o=e.map(a=>`${a}.ilike.%${t}%`).join(",");r=r.or(o)}n.filters&&Object.entries(n.filters).forEach(([o,a])=>{a!=null&&a!==""&&(r=r.eq(o,a))}),r=r.order(n.orderBy||"created_at",{ascending:n.ascending!==!1}),n.limit&&(r=r.limit(n.limit));const{data:s,error:i}=await r;if(i)throw i;return s||[]},`${this.tableName}.search`)}async getByDateRange(t,e,n="created_at",r={}){return this.getAll({...r,dateRange:{startDate:t,endDate:e,dateField:n}})}async executeRpc(t,e){return er(async()=>{const{data:n,error:r}=await this.client.rpc(t,e);if(r)throw r;return n},`${this.tableName}.executeRpc`)}setupRealtimeSubscription(t,e={},n){const r=n||`${this.tableName}_realtime_${Date.now()}`;let s=this.client.channel(r).on("postgres_changes",{event:e.event||"*",schema:e.schema||"public",table:this.tableName,filter:e.filter},t).subscribe();return this.realtimeChannels.set(r,s),s}removeRealtimeSubscription(t){const e=this.realtimeChannels.get(t);e&&(this.client.removeChannel(e),this.realtimeChannels.delete(t))}removeAllRealtimeSubscriptions(){this.realtimeChannels.forEach((t,e)=>{this.client.removeChannel(t)}),this.realtimeChannels.clear()}async bulkOperation(t){return er(async()=>{const e=[];for(const n of t){let r;switch(n.type){case"insert":r=await this.create(n.data);break;case"update":r=await this.update(n.id,n.data);break;case"delete":await this.delete(n.id),r={deleted:!0,id:n.id};break;case"upsert":r=await this.upsert(n.data);break;default:throw new zb(`Unknown operation type: ${n.type}`,we.INVALID_OPERATION_ERROR)}e.push(r)}return e},`${this.tableName}.bulkOperation`)}getTableName(){return this.tableName}getClient(){return this.client}},YG=t=>{const e={auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}};return pG(t.url,t.anonKey,{...e,...t.options})},QG=()=>YG({url:"https://wufsjkzyjxgvualcaftn.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1ZnNqa3p5anhndnVhbGNhZnRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0NzAyNzAsImV4cCI6MjA3NzA0NjI3MH0.cq8pGstXbA3OzgPbkJNRrQT39ROA4t9N3czLSIWpjUs"}),XG=(t,e="")=>t.code==="23505"?"This record already exists":t.code==="23503"?"Cannot perform this operation due to related records":t.code==="PGRST116"?"No records found":t.message?.includes("JWT")?"Authentication error. Please refresh the page":t.message||"An unexpected error occurred",yy=null,ZG=()=>(yy||(yy=QG()),yy),aM=C.createContext(null),JG=({children:t,supabaseClient:e,onAuthStateChange:n})=>{const[r,s]=C.useState(null),[i,o]=C.useState(null),[a,c]=C.useState(!0),[d,f]=C.useState(null);C.useEffect(()=>{(async()=>{try{const{data:{session:E},error:T}=await e.auth.getSession();T?f("Failed to initialize authentication"):(o(E),s(E?.user??null),n?.(E?.user??null,E))}catch{f("Authentication initialization failed")}finally{c(!1)}})();const{data:{subscription:_}}=e.auth.onAuthStateChange(async(E,T)=>{o(T),s(T?.user??null),f(null),n?.(T?.user??null,T),E==="SIGNED_OUT"&&c(!1)});return()=>_.unsubscribe()},[e,n]);const y={user:r,session:i,loading:a,error:d,signIn:async(w,_)=>{try{f(null);const{error:E}=await e.auth.signInWithPassword({email:w,password:_});return E?(f(E.message),{error:E.message}):{}}catch{const T="Sign in failed";return f(T),{error:T}}},signUp:async(w,_,E)=>{try{f(null);const{error:T}=await e.auth.signUp({email:w,password:_,options:{data:E}});return T?(f(T.message),{error:T.message}):{}}catch{const k="Sign up failed";return f(k),{error:k}}},signOut:async()=>{try{f(null),await e.auth.signOut()}catch{f("Sign out failed")}},resetPassword:async w=>{try{f(null);const{error:_}=await e.auth.resetPasswordForEmail(w);return _?(f(_.message),{error:_.message}):{}}catch{const E="Password reset failed";return f(E),{error:E}}}};return S.jsx(aM.Provider,{value:y,children:t})},e6=()=>{const t=C.useContext(aM);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},t6=t=>e=>({getEntities:()=>e().entities,getEntityById:n=>e().entities.find(r=>r.id===n),getEntitiesByField:(n,r)=>e().entities.filter(s=>s[n]===r),getEntitiesCount:()=>e().entities.length,getLoadingState:()=>e().loading,getErrorState:()=>e().error,isInitialized:()=>e().initialized}),n6=t=>(e,n)=>({setEntities:r=>e({entities:r}),addEntity:r=>{const s=n();e({entities:[r,...s.entities]})},updateEntity:(r,s)=>{const o=n().entities.map(a=>a.id===r?{...a,...s}:a);e({entities:o})},removeEntity:r=>{const i=n().entities.filter(o=>o.id!==r);e({entities:i})},setLoading:r=>e({loading:r}),setError:r=>e({error:r}),setInitialized:r=>e({initialized:r}),reset:()=>e({entities:[],loading:!1,error:null,initialized:!1}),cleanupDuplicates:()=>{const r=n(),s=[],i=new Set;r.entities.forEach(o=>{i.has(o.id)||(i.add(o.id),s.push(o))}),e({entities:s})},sortEntitiesByDate:(r=!1)=>{const i=[...n().entities].sort((o,a)=>{const c=new Date(o.created_at||0),d=new Date(a.created_at||0);return r?c.getTime()-d.getTime():d.getTime()-c.getTime()});e({entities:i})},sortEntitiesByField:(r,s=!0)=>{const o=[...n().entities].sort((a,c)=>{const d=a[r],f=c[r];return d<f?s?-1:1:d>f?s?1:-1:0});e({entities:o})},filterEntitiesByDateRange:(r,s,i="created_at")=>{const o=n(),a=new Date(r),c=new Date(s);return o.entities.filter(d=>{const f=new Date(d[i]);return f>=a&&f<=c})}});function b0(t,e,n,r){const s={entities:[],loading:!1,error:null,initialized:!1},i=(o,a)=>({...s,...t6()(a),...n6()(o,a),...e?e(o,a):{},...n?n(a):{}});return r?li()(eM(i,{name:`${t}-store`,...r})):li()(i)}function r6(t,e){const n={loading:!1,loadingStates:{},error:null,errors:{},modals:{},forms:{},filters:{},notifications:[],sidebarOpen:!1,theme:"system",initialized:!1},r=(s,i)=>({...n,setLoading:o=>s({loading:o}),setLoadingState:(o,a)=>{const c=i();s({loadingStates:{...c.loadingStates,[o]:a}})},getLoadingState:o=>{const a=i();return o?a.loadingStates[o]||!1:a.loading},setError:o=>s({error:o}),setErrorState:(o,a)=>{const c=i();s({errors:{...c.errors,[o]:a}})},getErrorState:o=>{const a=i();return o?a.errors[o]||null:a.error},clearErrors:()=>s({error:null,errors:{}}),openModal:o=>{const a=i();s({modals:{...a.modals,[o]:!0}})},closeModal:o=>{const a=i();s({modals:{...a.modals,[o]:!1}})},toggleModal:o=>{const a=i(),c=a.modals[o]||!1;s({modals:{...a.modals,[o]:!c}})},isModalOpen:o=>i().modals[o]||!1,closeAllModals:()=>s({modals:{}}),setFormData:(o,a)=>{const c=i();s({forms:{...c.forms,[o]:a}})},getFormData:o=>i().forms[o],clearFormData:o=>{const a=i(),{[o]:c,...d}=a.forms;s({forms:d})},clearAllForms:()=>s({forms:{}}),setFilter:(o,a)=>{const c=i();s({filters:{...c.filters,[o]:a}})},getFilter:o=>i().filters[o],clearFilter:o=>{const a=i(),{[o]:c,...d}=a.filters;s({filters:d})},clearAllFilters:()=>s({filters:{}}),addNotification:o=>{const a=i(),c={...o,id:`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};s({notifications:[...a.notifications,c]})},removeNotification:o=>{const a=i();s({notifications:a.notifications.filter(c=>c.id!==o)})},clearNotifications:()=>s({notifications:[]}),setSidebarOpen:o=>s({sidebarOpen:o}),toggleSidebar:()=>{const o=i();s({sidebarOpen:!o.sidebarOpen})},setTheme:o=>s({theme:o}),setInitialized:o=>s({initialized:o}),reset:()=>s(n),...t?t(s,i):{}});return e?li()(eM(r,{name:"ui-store",...e})):li()(r)}const rn=ZG(),xn=XG,s6=({children:t})=>S.jsx(JG,{supabaseClient:rn,children:t}),Ya=e6;function i6(){const{user:t}=Ya(),e=Ki(),{isOpen:n}=sM(),[r,s]=C.useState({backlog:e.pathname.startsWith("/backlog"),machinery:e.pathname.startsWith("/machinery"),phases:e.pathname.startsWith("/phases"),scheduler:e.pathname.startsWith("/scheduler")}),i=a=>{s(c=>({...c,[a]:!c[a]}))},o=[{href:"/",label:"Dashboard",icon:uH},{section:"backlog",label:"Backlog",icon:lH,subLinks:[{href:"/backlog",label:"Lista Backlog"},{href:"/backlog/add",label:"Nuovo Backlog"}]},{section:"machinery",label:"Macchinari",icon:OD,subLinks:[{href:"/machinery",label:"Lista Macchinari"},{href:"/machinery/add",label:"Nuovo Macchinario"}]},{section:"phases",label:"Fasi",icon:oH,subLinks:[{href:"/phases",label:"Lista Fasi"},{href:"/phases/add",label:"Nuova Fase"}]},{href:"/scheduler",label:"Scheduler",icon:nH}];return t?n?S.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[S.jsx("div",{className:"p-4 border-b border-border",children:S.jsx(sn,{to:"/",className:"flex items-center justify-center",children:S.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),S.jsxs("div",{className:"flex-1 p-4",children:[S.jsx("h2",{className:"text-xl font-semibold text-secondary-foreground mb-6",children:"Navigation"}),S.jsx("nav",{className:"space-y-2",children:o.map(a=>{if(a.section){const c=r[a.section],d=a.subLinks.some(h=>e.pathname===h.href),f=a.icon;return S.jsxs("div",{children:[S.jsxs("button",{onClick:()=>i(a.section),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx(f,{className:"h-5 w-5"}),S.jsx("span",{className:"text-sm font-medium",children:a.label})]}),S.jsx(sH,{className:`h-4 w-4 transform transition-transform ${c?"rotate-90":""}`})]}),c&&S.jsx("div",{className:"ml-6 mt-2 space-y-1",children:a.subLinks.map(h=>{const p=e.pathname===h.href;return S.jsx(sn,{to:h.href,className:`block px-3 py-2 rounded-lg text-sm font-medium transition-colors ${p?"bg-primary/5 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent/50"}`,children:h.label},h.href)})})]},a.section)}else{const c=e.pathname===a.href,d=a.icon;return S.jsxs(sn,{to:a.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${c?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[S.jsx(d,{className:"h-5 w-5"}),S.jsx("span",{className:"text-sm font-medium",children:a.label})]},a.href)}})})]})]}):S.jsx("div",{className:"w-16 bg-secondary shadow-sm border-r border-border min-h-screen",children:S.jsx("div",{className:"flex flex-col items-center py-4 space-y-4",children:o.map(a=>{const c=a.icon,d=e.pathname===a.href;return S.jsx(sn,{to:a.href||"#",className:`p-3 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,title:a.label,children:S.jsx(c,{className:"h-6 w-6"})},a.href||a.section)})})}):S.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col",children:[S.jsx("div",{className:"p-4 border-b border-border",children:S.jsx(sn,{to:"/login",className:"flex items-center justify-center",children:S.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),S.jsxs("div",{className:"flex-1 p-4",children:[S.jsx("h3",{className:"text-xs font-semibold text-secondary-foreground uppercase tracking-wider mb-4",children:"NAVIGATION"}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(sn,{to:"/login",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:S.jsx("span",{className:"font-medium",children:"Accedi"})}),S.jsx(sn,{to:"/signup",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:S.jsx("span",{className:"font-medium",children:"Registrati"})})]})]})]})}function o6(){const{user:t,signOut:e}=Ya(),{toggle:n}=sM();return S.jsx(GG,{title:"Scheduler Demo",user:{name:t?.email?.split("@")[0]||"User",email:t?.email,avatar:t?.avatar_url},onLogout:()=>e(),onRefresh:()=>window.location.reload(),onToggleSidebar:n,rightContent:S.jsx(rM,{})})}const xp=b0("machines",(t,e)=>({getMachinesByWorkCenter:n=>{const r=e();return n==="BOTH"?r.entities:r.entities.filter(s=>s.work_center===n)},getAvailableMachines:()=>e().entities.filter(r=>r.status==="available"),getMachineById:n=>e().entities.find(s=>s.id===n),updateMachineStatus:(n,r)=>{const i=e().entities.map(o=>o.id===n?{...o,status:r,updated_at:new Date().toISOString()}:o);t({entities:i})},getMachineStats:()=>{const n=e(),r={total:n.entities.length,byStatus:{},byWorkCenter:{}};return n.entities.forEach(s=>{r.byStatus[s.status]=(r.byStatus[s.status]||0)+1,r.byWorkCenter[s.work_center]=(r.byWorkCenter[s.work_center]||0)+1}),r}}),t=>({}),{partialize:t=>({entities:t.entities,initialized:t.initialized})}),rd=b0("orders",(t,e)=>({getScheduledOrders:()=>e().entities.filter(r=>r.status==="SCHEDULED"),getUnscheduledOrders:()=>e().entities.filter(r=>r.status!=="SCHEDULED"&&r.duration>0&&r.cost>0),getOrdersByWorkCenter:n=>{const r=e();return n==="BOTH"?r.entities:r.entities.filter(s=>s.work_center===n)},getOrderById:n=>e().entities.find(s=>s.id===n),scheduleOrder:(n,r)=>{const i=e().entities.map(o=>o.id===n?{...o,...r,status:"SCHEDULED",updated_at:new Date().toISOString()}:o);t({entities:i})},unscheduleOrder:n=>{const s=e().entities.map(i=>i.id===n?{...i,status:"NOT SCHEDULED",scheduled_start_time:null,scheduled_end_time:null,machine_id:null,updated_at:new Date().toISOString()}:i);t({entities:s})},bulkScheduleOrders:n=>{const s=e().entities.map(i=>{const o=n.find(a=>a.id===i.id);return o?{...i,...o.data,status:"SCHEDULED",updated_at:new Date().toISOString()}:i});t({entities:s})},getOrderStats:()=>{const n=e(),r={total:n.entities.length,scheduled:0,unscheduled:0,byWorkCenter:{}};return n.entities.forEach(s=>{s.status==="SCHEDULED"?r.scheduled++:r.unscheduled++,r.byWorkCenter[s.work_center]=(r.byWorkCenter[s.work_center]||0)+1}),r}}),t=>({}),{partialize:t=>({entities:t.entities,initialized:t.initialized})}),lM=b0("phases",(t,e)=>({getPhasesByWorkCenter:n=>e().entities.filter(s=>s.work_center===n),getPhaseById:n=>e().entities.find(s=>s.id===n),searchPhases:n=>{const r=e();if(!n)return r.entities;const s=n.toLowerCase();return r.entities.filter(i=>i.phase_name?.toLowerCase().includes(s)||i.description?.toLowerCase().includes(s))},updatePhaseDetails:(n,r)=>{const i=e().entities.map(o=>o.id===n?{...o,...r,updated_at:new Date().toISOString()}:o);t({entities:i})},getPhaseStats:()=>{const n=e(),r={total:n.entities.length,byWorkCenter:{}};return n.entities.forEach(s=>{r.byWorkCenter[s.work_center]=(r.byWorkCenter[s.work_center]||0)+1}),r}}),t=>({}),{partialize:t=>({entities:t.entities,initialized:t.initialized})}),Bn=r6((t,e)=>({selectedWorkCenter:"BOTH",isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,taskId:null},conflictDialog:{isOpen:!1,conflictingTasks:[],newTask:null},setSelectedWorkCenter:n=>t({selectedWorkCenter:n}),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>{const r=e();t({schedulingLoading:{...r.schedulingLoading,...n}})},setConflictDialog:n=>{const r=e();t({conflictDialog:{...r.conflictDialog,...n}})},openConflictDialog:(n,r)=>{t({conflictDialog:{isOpen:!0,conflictingTasks:n,newTask:r}})},closeConflictDialog:()=>{t({conflictDialog:{isOpen:!1,conflictingTasks:[],newTask:null}})},showSchedulerAlert:(n,r="info",s=5e3)=>{const i=e(),o={type:r,message:n,timestamp:Date.now()};i.addNotification(o),s>0&&setTimeout(()=>{i.removeNotification(o.id)},s)},showConfirmDialog:(n,r,s,i="info")=>{const o=e();o.setFormData("confirmDialog",{isOpen:!0,title:n,message:r,onConfirm:s,type:i}),o.openModal("confirmDialog")},closeConfirmDialog:()=>{const n=e();n.clearFormData("confirmDialog"),n.closeModal("confirmDialog")},getInitializationState:()=>e().initialized,getLoadingState:n=>{const r=e();return n?r.loadingStates[n]||!1:r.loading}}),{partialize:t=>({selectedWorkCenter:t.selectedWorkCenter,theme:t.theme,sidebarOpen:t.sidebarOpen,filters:t.filters})}),Ko=()=>{const t=xp(),e=rd(),n=lM(),r=Bn();return{getState:()=>({machines:t.entities,odpOrders:e.entities,phases:n.entities,isLoading:r.loading,isInitialized:r.initialized}),init:async()=>{try{r.setLoading(!0),r.setInitialized(!0),r.setLoading(!1),r.showSchedulerAlert("Application initialized successfully with modern architecture","success")}catch(s){throw r.setLoading(!1),r.showSchedulerAlert("Failed to initialize application","error"),s}},refreshData:()=>{console.warn("refreshData is deprecated. Use React Query invalidation instead.")},reset:()=>{t.reset(),e.reset(),n.reset(),r.reset()},cleanup:()=>{console.log("Cleanup handled by modern architecture")}}},a6={APP:{FIRST_DAY_OF_WEEK:1}},l6=Object.prototype.toString;function c6(t,e){return l6.call(t)===`[object ${e}]`}function cM(t){return c6(t,"Object")}function w0(t){return!!(t&&t.then&&typeof t.then=="function")}function u6(t){return typeof t=="number"&&t!==t}function wh(t){return t&&t.Math==Math?t:void 0}const qn=typeof globalThis=="object"&&wh(globalThis)||typeof window=="object"&&wh(window)||typeof self=="object"&&wh(self)||typeof global=="object"&&wh(global)||(function(){return this})()||{};function uM(t,e,n){const r=n||qn,s=r.__SENTRY__=r.__SENTRY__||{};return s[t]||(s[t]=e())}const dM=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,d6="Sentry Logger ",_R=["debug","info","warn","error","log","assert","trace"],SR={};function fM(t){if(!("console"in qn))return t();const e=qn.console,n={},r=Object.keys(SR);r.forEach(s=>{const i=SR[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}function f6(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return dM?_R.forEach(n=>{e[n]=(...r)=>{t&&fM(()=>{qn.console[n](`${d6}[${n}]:`,...r)})}}):_R.forEach(n=>{e[n]=()=>{}}),e}const en=f6();function Os(t){return Hb(t,new Map)}function Hb(t,e){if(h6(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.keys(t))typeof t[s]<"u"&&(r[s]=Hb(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(Hb(s,e))}),r}return t}function h6(t){if(!cM(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const by="<anonymous>";function g6(t){try{return!t||typeof t!="function"?by:t.name||by}catch{return by}}const Jh={},xR={};function hM(t,e){Jh[t]=Jh[t]||[],Jh[t].push(e)}function gM(t,e){xR[t]||(e(),xR[t]=!0)}function pM(t,e){const n=t&&Jh[t];if(n)for(const r of n)try{r(e)}catch(s){dM&&en.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${g6(r)}
Error:`,s)}}function Nr(){const t=qn,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function p6(t){return Array.isArray(t)?t:[t]}let _h=null;function m6(t){const e="error";hM(e,t),gM(e,v6)}function v6(){_h=qn.onerror,qn.onerror=function(t,e,n,r,s){return pM("error",{column:r,error:s,line:n,msg:t,url:e}),_h&&!_h.__SENTRY_LOADER__?_h.apply(this,arguments):!1},qn.onerror.__SENTRY_INSTRUMENTED__=!0}let Sh=null;function y6(t){const e="unhandledrejection";hM(e,t),gM(e,b6)}function b6(){Sh=qn.onunhandledrejection,qn.onunhandledrejection=function(t){return pM("unhandledrejection",t),Sh&&!Sh.__SENTRY_LOADER__?Sh.apply(this,arguments):!0},qn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function w6(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function _6(){return!w6()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ia(t,e){return t.require(e)}function S6(t){let e;try{e=Ia(module,t)}catch{}try{const{cwd:n}=Ia(module,"process");e=Ia(module,`${n()}/node_modules/${t}`)}catch{}return e}var Mi;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(Mi||(Mi={}));class xo{constructor(e){xo.prototype.__init.call(this),xo.prototype.__init2.call(this),xo.prototype.__init3.call(this),xo.prototype.__init4.call(this),this._state=Mi.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new xo((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new xo((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,e&&e()},o=>{i=!0,s=o,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=e=>{this._setResult(Mi.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Mi.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===Mi.PENDING){if(w0(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Mi.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Mi.RESOLVED&&n[1](this._value),this._state===Mi.REJECTED&&n[2](this._value),n[0]=!0)})}}}const mM=1e3;function _0(){return Date.now()/mM}function x6(){const{performance:t}=qn;if(!t||!t.now)return _0;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/mM}const Ep=x6();(()=>{const{performance:t}=qn;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=s<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):e,d=c<e;return i||d?s<=c?t.timeOrigin:o:r})();function E6(t=Nr(),e=Nr().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}const $n=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,vM="production";function C6(){return uM("globalEventProcessors",()=>[])}function Vb(t,e,n,r=0){return new xo((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o({...e},n);$n&&o.id&&a===null&&en.log(`Event processor "${o.id}" dropped event`),w0(a)?a.then(c=>Vb(t,c,n,r+1).then(s)).then(null,i):Vb(t,a,n,r+1).then(s).then(null,i)}})}function R6(t){const e=Ep(),n={sid:Nr(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>A6(n)};return t&&Cp(n,t),n}function Cp(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Ep(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Nr()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function T6(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Cp(t,n)}function A6(t){return Os({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const k6=0,yM=1;function S0(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=Bo(t);return Os({data:r,op:s,parent_span_id:i,span_id:e,status:o,tags:a,trace_id:n,origin:c})}function bM(t){const{traceId:e,spanId:n}=t.spanContext(),r=_M(t);return E6(e,n,r)}function wM(t){return typeof t=="number"?ER(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?ER(t.getTime()):Ep()}function ER(t){return t>9999999999?t/1e3:t}function Bo(t){return D6(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function D6(t){return typeof t.getSpanJSON=="function"}function _M(t){const{traceFlags:e}=t.spanContext();return!!(e&yM)}function SM(){return Rp().getClient()}function O6(){return Rp().getScope()}function Ag(t){return t.transaction}function I6(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=Os({environment:r.environment||vM,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function Wb(t){const e=SM();if(!e)return{};const n=I6(Bo(t).trace_id||"",e,O6()),r=Ag(t);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=Bo(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(_M(r)),e.emit&&e.emit("createDsc",n),n}function M6(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;N6(t,e),r&&F6(t,r),L6(t,n),P6(t,s),j6(t,i)}function N6(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e,c=Os(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const d=Os(r);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});const f=Os(s);f&&Object.keys(f).length&&(t.user={...f,...t.user});const h=Os(i);h&&Object.keys(h).length&&(t.contexts={...h,...t.contexts}),o&&(t.level=o),a&&(t.transaction=a)}function P6(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function j6(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function F6(t,e){t.contexts={trace:S0(e),...t.contexts};const n=Ag(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:Wb(e),...t.sdkProcessingMetadata};const r=Bo(n).description;r&&(t.tags={transaction:r,...t.tags})}}function L6(t,e){t.fingerprint=t.fingerprint?p6(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const U6=100;class Ql{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=CR()}static clone(e){return e?e.clone():new Ql}clone(){const e=new Ql;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Cp(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof Ql){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(cM(n)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=CR(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:U6;if(r<=0)return this;const s={timestamp:_0(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:d,_propagationContext:f,_sdkProcessingMetadata:h,_transactionName:p,_span:m}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:d,propagationContext:f,sdkProcessingMetadata:h,transactionName:p,span:m}}applyToEvent(e,n={},r=[]){M6(e,this.getScopeData());const s=[...r,...C6(),...this._eventProcessors];return Vb(s,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:Nr();if(!this._client)return en.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:Nr();if(!this._client)return en.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:Nr();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(en.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function CR(){return{traceId:Nr(),spanId:Nr().substring(16)}}const $6="7.120.4",xM=parseFloat($6),B6=100;class EM{constructor(e,n,r,s=xM){this._version=s;let i;n?i=n:(i=new Ql,i.setClient(e));let o;r?o=r:(o=new Ql,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(s){throw this.popScope(),s}return w0(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:Nr(),s=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureMessage(e,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:Nr(),i=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s}),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:Nr();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=B6}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:_0(),...e},d=i?fM(()=>i(c,n)):c;d!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",d,n),r.addBreadcrumb(d,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=RR(this);try{e(this)}finally{RR(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return $n&&en.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return $n&&!r&&(this.getClient()?en.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):en.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&T6(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=vM}=r&&r.getOptions()||{},{userAgent:o}=qn.navigator||{},a=R6({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&Cp(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const s=Sc().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);$n&&en.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Sc(){return qn.__SENTRY__=qn.__SENTRY__||{extensions:{},hub:void 0},qn}function RR(t){const e=Sc(),n=qb(e);return CM(e,t),n}function Rp(){const t=Sc();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return z6(t)}function z6(t=Sc()){return(!H6(t)||qb(t).isOlderThan(xM))&&CM(t,new EM),qb(t)}function H6(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function qb(t){return uM("hub",()=>new EM,t)}function CM(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function V6(t){return(t||Rp()).getScope().getTransaction()}let TR=!1;function W6(){TR||(TR=!0,m6(Gb),y6(Gb))}function Gb(){const t=V6();if(t){const e="internal_error";$n&&en.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Gb.tag="sentry_tracingErrorCallback";var AR;(function(t){t.Ok="ok";const n="deadline_exceeded";t.DeadlineExceeded=n;const r="unauthenticated";t.Unauthenticated=r;const s="permission_denied";t.PermissionDenied=s;const i="not_found";t.NotFound=i;const o="resource_exhausted";t.ResourceExhausted=o;const a="invalid_argument";t.InvalidArgument=a;const c="unimplemented";t.Unimplemented=c;const d="unavailable";t.Unavailable=d;const f="internal_error";t.InternalError=f;const h="unknown_error";t.UnknownError=h;const p="cancelled";t.Cancelled=p;const m="already_exists";t.AlreadyExists=m;const b="failed_precondition";t.FailedPrecondition=b;const y="aborted";t.Aborted=y;const w="out_of_range";t.OutOfRange=w;const _="data_loss";t.DataLoss=_})(AR||(AR={}));function q6(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function G6(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=q6(e);n!=="unknown_error"&&t.setStatus(n)}function K6(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=SM(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const Y6="_sentryScope",Q6="_sentryIsolationScope";function X6(t){return{scope:t[Y6],isolationScope:t[Q6]}}const wy="sentry.source",Hl="sentry.sample_rate",xh="sentry.op",Eh="sentry.origin",Z6="profile_id";class J6{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class x0{constructor(e={}){this._traceId=e.traceId||Nr(),this._spanId=e.spanId||Nr().substring(16),this._startTime=e.startTimestamp||Ep(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Eh]:e.origin||"manual",[xh]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[xh]}set op(e){this.setAttribute(xh,e)}get origin(){return this._attributes[Eh]}set origin(e){this.setAttribute(Eh,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?yM:k6}}startChild(e){const n=new x0({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=Ag(this);if(n.transaction=r,$n&&r){const s=e&&e.op||"< unknown op >",i=Bo(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;en.log(a),this._logMessage=a}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return G6(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=Ag(this);if($n&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&en.log(r.replace("Starting","Finishing"))}this._endTime=wM(e)}toTraceparent(){return bM(this)}toContext(){return Os({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return S0(this)}getSpanJSON(){return Os({data:this._getData(),description:this._name,op:this._attributes[xh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Eh],_metrics_summary:void 0,profile_id:this._attributes[Z6],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,r=Object.keys(e).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?{...e,...n}:r?e:n}}class e8 extends x0{constructor(e,n){super(e),this._contexts={},this._hub=n||Rp(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[wy]&&{source:this._attributes[wy]},...this._attributes[Hl]&&{sampleRate:this._attributes[Hl]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(wy,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new J6(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,r=""){this._measurements[e]={value:n,unit:r}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=wM(e),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const e=super.toContext();return Os({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Wb(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||($n&&en.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){$n&&en.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(f=>f!==this&&Bo(f).timestamp):[];if(this._trimEnd&&r.length>0){const f=r.map(h=>Bo(h).timestamp).filter(Boolean);this._endTime=f.reduce((h,p)=>h>p?h:p)}const{scope:s,isolationScope:i}=X6(this),{metadata:o}=this,{source:a}=o,c={contexts:{...this._contexts,trace:S0(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:s,capturedSpanIsolationScope:i,...Os({dynamicSamplingContext:Wb(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&($n&&en.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),$n&&en.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}function t8(t,e,n){if(!K6(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(Hl,Number(t.sampled)),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setAttribute(Hl,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate<"u"?(r=e.tracesSampleRate,t.setAttribute(Hl,Number(r))):(r=1,t.setAttribute(Hl,r)),n8(r)?r?(t.sampled=Math.random()<r,t.sampled?($n&&en.log(`[Tracing] starting ${t.op} transaction - ${Bo(t).description}`),t):($n&&en.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):($n&&en.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):($n&&en.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function n8(t){return u6(t)||!(typeof t=="number"||typeof t=="boolean")?($n&&en.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?($n&&en.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function r8(){const e=this.getScope().getSpan();return e?{"sentry-trace":bM(e)}:{}}function s8(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=t.instrumenter||"sentry";s!==i&&($n&&en.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),t.sampled=!1);let o=new e8(t,this);return o=t8(o,r,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function i8(){const t=Sc();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=s8),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=r8),W6())}function o8(){const t=Sc();if(!t.__SENTRY__)return;const e={mongodb(){const r=Ia(module,"./node/integrations/mongo");return new r.Mongo},mongoose(){const r=Ia(module,"./node/integrations/mongo");return new r.Mongo},mysql(){const r=Ia(module,"./node/integrations/mysql");return new r.Mysql},pg(){const r=Ia(module,"./node/integrations/postgres");return new r.Postgres}},n=Object.keys(e).filter(r=>!!S6(r)).map(r=>{try{return e[r]()}catch{return}}).filter(r=>r);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function a8(){i8(),_6()&&o8()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&a8();const Je={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"},kR={[Je.VALIDATION_ERROR]:"I dati inseriti non sono validi. Controlla i campi evidenziati.",[Je.NETWORK_ERROR]:"Errore di connessione. Verifica la tua connessione internet.",[Je.AUTHENTICATION_ERROR]:"Sessione scaduta. Effettua nuovamente l'accesso.",[Je.AUTHORIZATION_ERROR]:"Non hai i permessi per eseguire questa operazione.",[Je.NOT_FOUND_ERROR]:"La risorsa richiesta non è stata trovata.",[Je.SERVER_ERROR]:"Errore del server. Riprova più tardi.",[Je.BUSINESS_LOGIC_ERROR]:"Operazione non consentita dalle regole di business.",[Je.UNKNOWN_ERROR]:"Si è verificato un errore imprevisto."};class pt extends Error{constructor(e,n=Je.UNKNOWN_ERROR,r=500,s={}){super(e),this.name="AppError",this.type=n,this.statusCode=r,this.context=s,this.timestamp=new Date().toISOString(),this.userMessage=kR[n]||kR[Je.UNKNOWN_ERROR]}toJSON(){return{message:this.message,type:this.type,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage}}}class l8{async init(){try{const{error:e}=await rn.from("machines").select("count").limit(1);if(e)throw new pt(`API initialization failed: ${e.message}`,Je.SERVER_ERROR,500,e,"API.init");return!0}catch(e){throw e instanceof pt?e:new pt(`API initialization failed: ${e.message}`,Je.SERVER_ERROR,500,e,"API.init")}}async getMachines(){try{const{data:e,error:n}=await rn.from("machines").select("*").order("machine_name");if(n)throw n;return e||[]}catch(e){throw new pt(`Failed to get machines: ${e.message}`,Je.SERVER_ERROR,500,e,"API.getMachines")}}async addMachine(e){try{const{data:n,error:r}=await rn.from("machines").insert([e]).select().single();if(r)throw r;return n}catch(n){throw new pt(`Failed to add machine: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.addMachine")}}async updateMachine(e,n){try{const{data:r,error:s}=await rn.from("machines").update(n).eq("id",e).select().single();if(s)throw s;return r}catch(r){throw new pt(`Failed to update machine: ${xn(r)}`,Je.SERVER_ERROR,500,r,"API.updateMachine")}}async removeMachine(e){try{const{error:n}=await rn.from("machines").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new pt(`Failed to remove machine: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.removeMachine")}}async getOdpOrders(){try{const{data:e,error:n}=await rn.from("odp_orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){throw new pt(`Failed to fetch ODP orders: ${xn(e)}`,Je.SERVER_ERROR,500,e,"API.getOdpOrders")}}async getOdpOrder(e){try{const{data:n,error:r}=await rn.from("odp_orders").select("*").eq("id",e).single();if(r)throw r;return n}catch(n){throw new pt(`Failed to fetch ODP order: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.getOdpOrder")}}async addOdpOrder(e){try{const{data:n,error:r}=await rn.from("odp_orders").insert([e]).select().single();if(r)throw r;return n}catch(n){throw new pt(`Failed to add ODP order: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.addOdpOrder")}}async updateOdpOrder(e,n){try{const{data:r,error:s}=await rn.from("odp_orders").update(n).eq("id",e).select().single();if(s)throw s;return r}catch(r){throw new pt(`Failed to update ODP order: ${xn(r)}`,Je.SERVER_ERROR,500,r,"API.updateOdpOrder")}}async removeOdpOrder(e){try{const{error:n}=await rn.from("odp_orders").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new pt(`Failed to remove ODP order: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.removeOdpOrder")}}async getPhases(){try{const{data:e,error:n}=await rn.from("phases").select("*").order("name");if(n)throw n;return e||[]}catch(e){throw new pt(`Failed to fetch phases: ${xn(e)}`,Je.SERVER_ERROR,500,e,"API.getPhases")}}async addPhase(e){try{const{data:n,error:r}=await rn.from("phases").insert([e]).select().single();if(r)throw r;return n}catch(n){throw new pt(`Failed to add phase: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.addPhase")}}async updatePhase(e,n){try{const{data:r,error:s}=await rn.from("phases").update(n).eq("id",e).select().single();if(s)throw s;return r}catch(r){throw new pt(`Failed to update phase: ${xn(r)}`,Je.SERVER_ERROR,500,r,"API.updatePhase")}}async removePhase(e){try{const{error:n}=await rn.from("phases").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new pt(`Failed to remove phase: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.removePhase")}}async getMachineAvailabilityForDateRange(e,n,r){try{const{data:s,error:i}=await rn.from("machine_availability").select("*").eq("machine_id",e).gte("date",n).lte("date",r).order("date");if(i)throw i;return s||[]}catch(s){throw new pt(`Failed to fetch machine availability for date range: ${xn(s)}`,Je.SERVER_ERROR,500,s,"API.getMachineAvailabilityForDateRange")}}async getMachineAvailabilityForDate(e,n){try{const{data:r,error:s}=await rn.from("machine_availability").select("*").eq("machine_id",e).eq("date",n).maybeSingle();if(s)throw s;return r||null}catch(r){throw new pt(`Failed to fetch machine availability: ${xn(r)}`,Je.SERVER_ERROR,500,r,"API.getMachineAvailabilityForDate")}}async getMachineAvailability(e,n){try{return(await this.getMachineAvailabilityForDate(e,n))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(e,n,r){try{const{data:s,error:i}=await rn.from("machine_availability").upsert([{machine_id:e,date:n,unavailable_hours:r}],{onConflict:"machine_id,date"}).select().single();if(i)throw i;return s}catch(s){throw new pt(`Failed to set machine availability: ${xn(s)}`,Je.SERVER_ERROR,500,s,"API.setMachineAvailability")}}async getMachineAvailabilityForDateAllMachines(e){try{const{data:n,error:r}=await rn.from("machine_availability").select("*").eq("date",e);if(r)throw r;return n||[]}catch(n){throw new pt(`Failed to fetch machine availability for all machines: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.getMachineAvailabilityForDateAllMachines")}}async getEventsByDate(e){try{const{data:n,error:r}=await rn.from("machine_availability").select("*").eq("date",e);if(r)throw r;return n||[]}catch(n){throw new pt(`Failed to fetch events by date: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.getEventsByDate")}}async setUnavailableHoursForRange(e,n,r,s,i){try{const o=parseInt(s.split(":")[0]),a=parseInt(i.split(":")[0]),c=[];for(let m=o;m<a;m++)c.push(m.toString());const d=new Date(n),f=new Date(r);let h=new Date(d);const p=[];for(;h<=f;){const m=kn(h,"yyyy-MM-dd"),y=(await this.getMachineAvailabilityForDate(e,m))?.unavailable_hours||[],w=[...new Set([...y,...c])].sort((E,T)=>parseInt(E)-parseInt(T)),_=await this.setMachineAvailability(e,m,w);p.push(_),h=xd(h,1)}return p}catch(o){throw new pt(`Failed to set unavailable hours for range: ${xn(o)}`,Je.SERVER_ERROR,500,o,"API.setUnavailableHoursForRange")}}async bulkUpsertMachineAvailability(e){try{const{error:n}=await rn.from("machine_availability").upsert(e,{onConflict:"machine_id,date"});if(n)throw n;return{success:!0}}catch(n){throw new pt(`Failed to bulk set machine availability: ${xn(n)}`,Je.SERVER_ERROR,500,n,"API.bulkUpsertMachineAvailability")}}setupRealtimeSubscriptions(e,n,r){return rn.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},e).on("postgres_changes",{event:"*",schema:"public",table:"machines"},n).on("postgres_changes",{event:"*",schema:"public",table:"phases"},r).subscribe(i=>{})}cleanupRealtimeSubscriptions(e){if(e)try{e.unsubscribe()}catch{}}}const St=new l8,Kb=Object.freeze(Object.defineProperty({__proto__:null,apiService:St},Symbol.toStringTag,{value:"Module"})),dr=li((t,e)=>({odpOrders:[],getOdpOrders:()=>e().odpOrders,getOrderById:n=>e().odpOrders.find(r=>r.id===n),getScheduledOrders:()=>e().odpOrders.filter(n=>n.status==="SCHEDULED"),getUnscheduledOrders:()=>e().odpOrders.filter(n=>n.status==="NOT SCHEDULED"),getOdpOrdersByWorkCenter:n=>n==="BOTH"?e().odpOrders:e().odpOrders.filter(r=>r.work_center===n),setOdpOrders:n=>t({odpOrders:n||[]}),cleanupDuplicateOrders:()=>{const n=e(),r=[],s=new Set;n.odpOrders.forEach(i=>{s.has(i.id)||(s.add(i.id),r.push(i))}),t({odpOrders:r})},reset:()=>t({odpOrders:[]})})),Mu=li((t,e)=>({machines:[],getMachines:()=>e().machines,getMachineById:n=>e().machines.find(r=>r.id===n),getMachinesByWorkCenter:n=>n==="BOTH"?e().machines:e().machines.filter(r=>r.work_center===n),setMachines:n=>t({machines:n||[]}),cleanupDuplicateMachines:()=>{const n=e(),r=[],s=new Set;n.machines.forEach(i=>{s.has(i.id)||(s.add(i.id),r.push(i))}),t({machines:r})},reset:()=>t({machines:[]})})),$t={MACHINE:{DEPARTMENT:"STAMPA",WORK_CENTER:"ZANICA",MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:["T1"],STATUS:"ACTIVE"},PHASE:{DEPARTMENT:"STAMPA",NUMERO_PERSONE:1,WORK_CENTER:"ZANICA",V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:3,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},c8={MAX_TASK_SEGMENTS:50},Ch={MINUTES_PER_HOUR:60,MILLISECONDS_PER_MINUTE:60*1e3},oi=li((t,e)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:localStorage.getItem("selectedWorkCenter")||mt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},getLoadingState:()=>e().isLoading,getInitializationState:()=>e().isInitialized,getSelectedWorkCenter:()=>e().selectedWorkCenter,getEditMode:()=>e().isEditMode,getConfirmDialog:()=>e().confirmDialog,getConflictDialog:()=>e().conflictDialog,getSchedulingLoading:()=>e().schedulingLoading,getDragPreview:()=>e().dragPreview,setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),setSelectedWorkCenter:n=>{localStorage.setItem("selectedWorkCenter",n),t({selectedWorkCenter:n})},toggleEditMode:()=>t(n=>({isEditMode:!n.isEditMode})),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>t({schedulingLoading:n}),startSchedulingOperation:(n,r=null)=>t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:r}}),stopSchedulingOperation:()=>t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}}),showConfirmDialog:(n,r,s,i="danger")=>t({confirmDialog:{isOpen:!0,title:n,message:r,onConfirm:s,type:i}}),hideConfirmDialog:()=>t({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),showConflictDialog:n=>t({conflictDialog:{isOpen:!0,details:n}}),hideConflictDialog:()=>t({conflictDialog:{isOpen:!1,details:null}}),setDragPreview:n=>t({dragPreview:n}),clearDragPreview:()=>t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}}),showAlert:(n,r="info")=>{wG(n,r)},reset:()=>t({isLoading:!1,isInitialized:!1,selectedWorkCenter:mt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})}));class u8{constructor(e,n){this.get=e,this.set=n}setSplitTaskInfo=(e,n)=>{this.set(r=>({splitTasksInfo:{...r.splitTasksInfo,[e]:n}}))};getSplitTaskInfo=e=>{const n=this.get().splitTasksInfo[e];if(n&&n.segments)return n;const{getOrderById:r}=dr.getState(),s=r(e);if(s&&s.description&&s.status==="SCHEDULED")try{const i=JSON.parse(s.description);if(i.segments&&Array.isArray(i.segments))return setTimeout(()=>{this.setSplitTaskInfo(e,i)},0),i}catch{}return null};clearSplitTaskInfo=e=>{this.set(n=>{const r={...n.splitTasksInfo};return delete r[e],{splitTasksInfo:r}})};updateTaskWithSplitInfo=async(e,n,r=null,s=null,i=null)=>{const{apiService:o}=await Us(async()=>{const{apiService:a}=await Promise.resolve().then(()=>Kb);return{apiService:a}},void 0);if(n){this.setSplitTaskInfo(e,n);const c={description:JSON.stringify(n),status:"SCHEDULED"};if(r&&(c.scheduled_start_time=r.toISOString()),s&&(c.scheduled_end_time=s.toISOString()),i&&(c.scheduled_machine_id=i),!(c.scheduled_start_time&&c.scheduled_end_time&&c.scheduled_machine_id))if(!c.scheduled_start_time&&!c.scheduled_end_time&&!c.scheduled_machine_id)delete c.scheduled_start_time,delete c.scheduled_end_time,delete c.scheduled_machine_id,c.status="NOT SCHEDULED";else{const{getOrderById:f}=dr.getState(),h=f(e);h&&(c.scheduled_start_time||(c.scheduled_start_time=h.scheduled_start_time),c.scheduled_end_time||(c.scheduled_end_time=h.scheduled_end_time),c.scheduled_machine_id||(c.scheduled_machine_id=h.scheduled_machine_id))}const d=await o.updateOdpOrder(e,c);this.updateSplitTaskInfo(e,d)}else{this.clearSplitTaskInfo(e);const a=await o.updateOdpOrder(e,{description:""});this.updateSplitTaskInfo(e,a)}};updateSplitTaskInfo=(e,n)=>{if(this.clearSplitTaskInfo(e),n.description&&n.status==="SCHEDULED")try{const r=JSON.parse(n.description);r.segments&&Array.isArray(r.segments)?this.validateSegments(r.segments.map(i=>({start:new Date(i.start),end:new Date(i.end),duration:i.duration}))).isValid?this.setSplitTaskInfo(e,r):this.clearSplitTaskInfo(e):this.clearSplitTaskInfo(e)}catch{this.clearSplitTaskInfo(e)}else this.clearSplitTaskInfo(e)};restoreSplitTaskInfo=()=>{const{getOdpOrders:e}=dr.getState(),n=e(),r={};let s=0;n.forEach(i=>{if(i.description&&i.status==="SCHEDULED")try{const o=JSON.parse(i.description);o.segments&&Array.isArray(o.segments)&&(r[i.id]=o,s++)}catch{}}),this.set({splitTasksInfo:r})};validateSegments=e=>{if(!Array.isArray(e)||e.length===0)return{isValid:!1,error:"Segments must be a non-empty array"};for(let n=0;n<e.length;n++){const r=e[n];if(!r.start||!r.end||r.duration===void 0)return{isValid:!1,error:`Segment ${n} missing required properties (start, end, duration)`};const s=new Date(r.start),i=new Date(r.end);if(isNaN(s.getTime())||isNaN(i.getTime()))return{isValid:!1,error:`Segment ${n} has invalid date values`};if(i<=s)return{isValid:!1,error:`Segment ${n} end time must be after start time`};if(r.duration<=0)return{isValid:!1,error:`Segment ${n} duration must be positive`};if(n>0){const o=e[n-1],a=new Date(o.end);if(s<a)return{isValid:!1,error:`Segment ${n} overlaps with previous segment`}}}return{isValid:!0}};createSegmentInfo=(e,n)=>{const r=this.validateSegments(e);if(!r.isValid)throw new Error(`Invalid segments: ${r.error}`);return{totalSegments:e.length,segments:e.map(s=>({start:s.start.toISOString(),end:s.end.toISOString(),duration:s.duration})),originalDuration:n,wasSplit:e.length>1}};getTaskOccupiedSegments=e=>{const n=this.getSplitTaskInfo(e.id);if(n&&n.segments)return n.segments.map(r=>({start:new Date(r.start),end:new Date(r.end),duration:r.duration}));if(e.description)try{const r=JSON.parse(e.description);if(r.segments&&Array.isArray(r.segments))return r.segments.map(s=>({start:new Date(s.start),end:new Date(s.end),duration:s.duration}))}catch{}if(e.scheduled_start_time){const r=new Date(e.scheduled_start_time),s=e.time_remaining||e.duration||1,i=new Date(r.getTime()+s*60*60*1e3);return[{start:r,end:i,duration:s}]}return[]};doTimeRangesOverlap=(e,n,r,s)=>e<s&&n>r;checkTaskOverlap=(e,n,r)=>{const s=this.getTaskOccupiedSegments(r);for(const i of s)if(this.doTimeRangesOverlap(e,n,i.start,i.end))return{hasOverlap:!0,conflictingSegment:i,existingTask:r};return{hasOverlap:!1}};checkMachineOverlaps=(e,n,r,s=null,i=[])=>{const{getOdpOrders:o}=dr.getState(),a=[s,...i].filter(f=>f),d=o().filter(f=>f.scheduled_machine_id===r&&f.status==="SCHEDULED"&&!a.includes(f.id)&&f.scheduled_start_time&&f.scheduled_end_time&&f.scheduled_machine_id).sort((f,h)=>{const p=this.getTaskOccupiedSegments(f),m=this.getTaskOccupiedSegments(h),b=p.length>0?p[0].start:new Date(f.scheduled_start_time),y=m.length>0?m[0].start:new Date(h.scheduled_start_time);return b.getTime()-y.getTime()});for(const f of d){const h=this.checkTaskOverlap(e,n,f);if(h.hasOverlap)return{hasOverlap:!0,conflictingTask:f,conflictingSegment:h.conflictingSegment}}return{hasOverlap:!1}};migrateExistingTasksToSegmentFormat=async()=>{const{getOdpOrders:e}=dr.getState(),n=e();for(const r of n)if(r.status==="SCHEDULED"&&r.scheduled_start_time){const s=this.getSplitTaskInfo(r.id);if(s&&s.segments)continue;if(r.description)try{const f=JSON.parse(r.description);if(f.segments&&Array.isArray(f.segments)){this.setSplitTaskInfo(r.id,f);continue}}catch{}const i=new Date(r.scheduled_start_time),o=r.time_remaining||r.duration||1,a=new Date(i.getTime()+o*60*60*1e3),c=[{start:i,end:a,duration:o}],d=this.createSegmentInfo(c,o);await this.updateTaskWithSplitInfo(r.id,d)}};verifyAllTasksHaveSegmentInfo=()=>{const{getOdpOrders:e}=dr.getState(),r=e().filter(i=>i.status==="SCHEDULED"),s=[];for(const i of r){const o=this.getSplitTaskInfo(i.id);(!o||!o.segments)&&s.push({id:i.id,odp_number:i.odp_number,description:i.description})}return{totalScheduledTasks:r.length,tasksWithSegments:r.length-s.length,tasksWithoutSegments:s}}}class d8{constructor(e,n,r,s){this.get=e,this.set=n,this.splitTaskManager=r,this.machineAvailabilityManager=s}createAbsoluteDate=(e,n,r,s=0,i=0)=>new Date(Date.UTC(e,n-1,r,s,i,0,0));splitTaskAcrossAvailableSlots=(e,n,r,s)=>{try{const i=[];let o=new Date(e),a=n,c=!0;for(;c;){c=!1;for(const d of s)if(o>=d.start&&o<d.end){o=new Date(d.end),c=!0;break}}for(;a>0;){let d=null,f=null,h=null;for(const p of s){const m=new Date(p.start),b=new Date(p.end);m>=o&&(!d||m<f)&&(d=p,f=m,h=b)}if(d){const p=(f.getTime()-o.getTime())/36e5;if(p>0){const b=Math.min(p,a),y=new Date(o.getTime()+b*60*60*1e3);i.push({start:new Date(o),end:y,duration:b}),a-=b}o=new Date(h);let m=!0;for(;m;){m=!1;for(const b of s)if(o>=b.start&&o<b.end){o=new Date(b.end),m=!0;break}}}else{const p=new Date(o.getTime()+a*60*60*1e3);i.push({start:new Date(o),end:p,duration:a}),a=0}if(i.length>c8.MAX_TASK_SEGMENTS){console.warn("Task splitting exceeded maximum segments limit");break}}return i}catch(i){return console.error("Error in splitTaskAcrossAvailableSlots:",i),[]}};splitTaskAcrossAvailableSlotsBackward=(e,n,r,s)=>{try{const i=[];let o=new Date(e),a=n,c=!0;for(;c;){c=!1;for(const f of s)if(o>f.start&&o<=f.end){o=new Date(f.start),c=!0;break}}for(;a>0;){let f=null,h=null,p=null;for(const E of s){const T=new Date(E.start),k=new Date(E.end);k<=o&&(!f||k>p)&&(f=E,h=T,p=k)}let m;f?m=new Date(p):m=new Date(o.getTime()-a*60*60*1e3);let b=!0;for(;b;){b=!1;for(const E of s)if(m<E.end&&m>=E.start){m=new Date(E.end),b=!0;break}}const y=(o.getTime()-m.getTime())/(1e3*60*60);if(y<=0){o=f?new Date(h):new Date(o.getTime()-3600*1e3);continue}const w=Math.min(y,a),_=new Date(o.getTime()-w*60*60*1e3);i.push({start:_,end:new Date(o),duration:w}),a-=w,o=new Date(_)}return i.reverse()}catch(i){return console.error("Error in splitTaskAcrossAvailableSlotsBackward:",i),[]}};collectUnavailableSlots=(e,n,r)=>{const s=[],i=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),o=this.createAbsoluteDate(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()),a=new Date(o);a.setUTCDate(a.getUTCDate()+7);let c=new Date(i);for(;c<=a;){const d=kn(c,"yyyy-MM-dd"),f=this.get().machineAvailability[d];if(f&&Array.isArray(f)){const h=f.find(p=>p.machine_id===r);if(h&&h.unavailable_hours&&Array.isArray(h.unavailable_hours)){const[p,m,b]=d.split("-").map(Number);for(const y of h.unavailable_hours){const w=this.createAbsoluteDate(p,m,b,parseInt(y),0),_=new Date(w.getTime()+3600*1e3);s.push({start:w,end:_,hour:parseInt(y),date:d})}}}c.setUTCDate(c.getUTCDate()+1)}return s.sort((d,f)=>d.start.getTime()-f.start.getTime())};loadMachineAvailabilityForExtendedRange=async(e,n,r)=>{const s=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),i=new Date(e.getTime()+n*60*60*1e3),o=this.createAbsoluteDate(i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate()),a=new Date(o);a.setUTCDate(a.getUTCDate()+7);let c=new Date(s);for(;c<=a;){const d=kn(c,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),c.setUTCDate(c.getUTCDate()+1)}return a};loadMachineAvailabilityForBackwardRange=async(e,n,r)=>{const s=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),i=new Date(e.getTime()-n*60*60*1e3),o=this.createAbsoluteDate(i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate()),a=new Date(o);a.setUTCDate(a.getUTCDate()-7);let c=new Date(a);for(;c<=s;){const d=kn(c,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),c.setUTCDate(c.getUTCDate()+1)}return{taskStartDateWithBuffer:a,taskEndDate:s}};checkSegmentsForOverlaps=(e,n,r,s=[])=>{[r,...s].filter(i=>i);for(const i of e){const o=this.splitTaskManager.checkMachineOverlaps(i.start,i.end,n,r,s);if(o.hasOverlap)return{hasOverlap:!0,conflictingSegment:i,conflictingTask:o.conflictingTask,conflictingExistingSegment:o.conflictingSegment}}return{hasOverlap:!1}};scheduleTaskWithSplitting=async(e,n,r,s,i=[])=>{const o=await this.loadMachineAvailabilityForExtendedRange(n,r,s),a=this.collectUnavailableSlots(n,o,s),c=new Date(n.getTime()+r*60*60*1e3);if(a.some(f=>n<f.end&&c>f.start)){const f=this.splitTaskAcrossAvailableSlots(n,r,s,a);if(f.length>0){const h=this.checkSegmentsForOverlaps(f,s,e,i);if(h.hasOverlap)return{conflict:!0,conflictingTask:h.conflictingTask,conflictingSegment:h.conflictingExistingSegment,proposedSegments:f};const p=f[0],m=f[f.length-1];if(!p?.start||!m?.end)return console.error("Invalid segments returned from splitTaskAcrossAvailableSlots:",f),null;const b=this.splitTaskManager.createSegmentInfo(f,r);return await this.splitTaskManager.updateTaskWithSplitInfo(e,b,p.start,m.end,s),{startTime:p.start,endTime:m.end,wasSplit:!0,segments:f,originalDuration:r}}}else{const f=[{start:n,end:c,duration:r}],h=this.checkSegmentsForOverlaps(f,s,e,i);if(h.hasOverlap)return{conflict:!0,conflictingTask:h.conflictingTask,conflictingSegment:h.conflictingExistingSegment,proposedSegments:f};const p=this.splitTaskManager.createSegmentInfo(f,r);return await this.splitTaskManager.updateTaskWithSplitInfo(e,p,n,c,s),{startTime:n,endTime:c,wasSplit:!1,segments:f,originalDuration:r}}return null};scheduleTaskEndingAtWithSplitting=async(e,n,r,s,i=[])=>{const{taskStartDateWithBuffer:o,taskEndDate:a}=await this.loadMachineAvailabilityForBackwardRange(n,r,s),c=this.collectUnavailableSlots(o,a,s),d=this.splitTaskAcrossAvailableSlotsBackward(n,r,s,c);if(d.length===0)return null;const f=this.checkSegmentsForOverlaps(d,s,e,i);if(f.hasOverlap)return{conflict:!0,conflictingTask:f.conflictingTask,conflictingSegment:f.conflictingExistingSegment,proposedSegments:d};const h=this.splitTaskManager.createSegmentInfo(d,r),p=d[0],m=d[d.length-1];return!p?.start||!m?.end?(console.error("Invalid segments returned from splitTaskAcrossAvailableSlotsBackward:",d),null):(await this.splitTaskManager.updateTaskWithSplitInfo(e,h,p.start,m.end,s),{startTime:p.start,endTime:m.end,wasSplit:d.length>1,segments:d,originalDuration:r})};handleTaskDurationShrinking=async(e,n,r,s={})=>{try{console.log("🔄 DURATION SHRINKING: Starting cascading rescheduling for task",e),console.log("📊 DURATION SHRINKING: New duration:",n,"hours");const{getOrderById:i,getOdpOrders:o}=dr.getState(),{getMachineById:a}=Mu.getState(),c=i(e),d=a(r),f=o();if(!c||!d)return{success:!1,error:"Task or machine not found"};if(!c.scheduled_start_time||!c.scheduled_end_time)return{success:!1,error:"Task is not scheduled"};const h=new Date(c.scheduled_start_time),p=c.duration,m=new Date(h.getTime()+p*60*60*1e3);console.log("📅 DURATION SHRINKING: Original end time (pre-shrinking):",m.toISOString()),console.log("📅 DURATION SHRINKING: Original duration:",p,"New duration:",n);const b=this.findCascadingChain(e,m,r,f);console.log("🔄 DURATION SHRINKING: Found cascading chain of",b.length,"tasks to reschedule"),console.log("📋 DURATION SHRINKING: Chain tasks:",b.map(D=>D.odp_number));const y=c.quantity_completed/c.quantity||0,w=n*(1-y);console.log("📊 DURATION SHRINKING: Calculated time_remaining:",w,"from new duration:",n,"and progress:",y),console.log("📊 DURATION SHRINKING: Progress calculation:",c.quantity_completed,"/",c.quantity,"=",y),console.log("🔄 DURATION SHRINKING: Rescheduling original task with new time_remaining");const _=await this.scheduleTaskWithSplitting(e,h,w,r,[]);if(!_)return console.error("❌ DURATION SHRINKING: Failed to reschedule original task"),{success:!1,error:"Failed to reschedule original task. Not enough space available.",rescheduledTasks:[]};if(_.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling original task"),{success:!1,error:"Conflict detected while rescheduling original task. Consider using conflict resolution.",rescheduledTasks:[]};await this.splitTaskManager.updateTaskWithSplitInfo(e,_.segments?{segments:_.segments,totalSegments:_.segments.length,originalDuration:_.originalDuration||w,wasSplit:_.wasSplit||!1}:null,_.startTime,_.endTime,r);const E={duration:n,time_remaining:w,...s};console.log("💾 DURATION SHRINKING: Final update data:",E),await St.updateOdpOrder(e,E);const T=[{id:e,odp_number:c.odp_number,new_start_time:_.startTime.toISOString(),new_end_time:_.endTime.toISOString(),was_split:_.wasSplit}];let k=new Date(_.endTime);const A=k.getUTCMinutes(),I=Math.ceil(A/15)*15;I===60?k.setUTCHours(k.getUTCHours()+1,0,0,0):k.setUTCMinutes(I,0,0);for(const D of b){console.log("🔄 DURATION SHRINKING: Rescheduling task",D.odp_number,"to start at",k.toISOString());const P=await this.scheduleTaskWithSplitting(D.id,k,D.time_remaining||D.duration||1,r,[e]);if(!P)return console.error("❌ DURATION SHRINKING: Failed to reschedule task",D.odp_number),{success:!1,error:`Failed to reschedule task ${D.odp_number}. Not enough space available.`,rescheduledTasks:T};if(P.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling task",D.odp_number),{success:!1,error:`Conflict detected while rescheduling task ${D.odp_number}. Consider using conflict resolution.`,rescheduledTasks:T};await this.splitTaskManager.updateTaskWithSplitInfo(D.id,P.segments?{segments:P.segments,totalSegments:P.segments.length,originalDuration:P.originalDuration||D.time_remaining||D.duration||1,wasSplit:P.wasSplit||!1}:null,P.startTime,P.endTime,r),T.push({id:D.id,odp_number:D.odp_number,new_start_time:P.startTime.toISOString(),new_end_time:P.endTime.toISOString(),was_split:P.wasSplit}),k=new Date(P.endTime);const j=k.getUTCMinutes(),z=Math.ceil(j/15)*15;z===60?k.setUTCHours(k.getUTCHours()+1,0,0,0):k.setUTCMinutes(z,0,0)}console.log("✅ DURATION SHRINKING: Successfully rescheduled",T.length,"tasks");const M=i(e);return{success:!0,message:`Successfully rescheduled ${T.length} tasks due to duration reduction`,rescheduledTasks:T,updatedTask:M}}catch(i){return console.error("❌ DURATION SHRINKING ERROR:",i),{success:!1,error:i.message||"Unknown error during duration shrinking",rescheduledTasks:[]}}};findCascadingChain=(e,n,r,s)=>{const i=[],o=new Set,a=s.filter(f=>f.scheduled_machine_id===r&&f.status==="SCHEDULED"&&f.id!==e&&f.scheduled_start_time).sort((f,h)=>new Date(f.scheduled_start_time)-new Date(h.scheduled_start_time)),c=a.filter(f=>{const p=(new Date(f.scheduled_start_time).getTime()-n.getTime())/(1e3*60);return p>=0&&p<=15});console.log("🔍 DURATION SHRINKING: Initial candidates within 15 minutes:",c.map(f=>f.odp_number));const d=f=>{for(const h of a){if(o.has(h.id))continue;const p=new Date(h.scheduled_start_time),m=(p.getTime()-f.getTime())/(1e3*60);if(m>=0&&m<=15){o.add(h.id),i.push(h);const b=h.time_remaining||h.duration||1,y=new Date(p.getTime()+b*60*60*1e3);console.log("🔗 DURATION SHRINKING: Added to chain:",h.odp_number,"ends at",y.toISOString()),d(y)}}};return d(n),console.log("📋 DURATION SHRINKING: Complete chain found:",i.map(f=>f.odp_number)),i}}class f8{constructor(e,n,r,s){this.get=e,this.set=n,this.schedulingLogic=r,this.splitTaskManager=s}getTaskDurationMinutes=e=>Math.round((e.time_remaining||e.duration||1)*Ch.MINUTES_PER_HOUR);getTaskEndTime=e=>{const n=new Date(e.scheduled_start_time),r=this.getTaskDurationMinutes(e);return new Date(n.getTime()+r*Ch.MILLISECONDS_PER_MINUTE)};addMinutesToDate=(e,n)=>new Date(e.getTime()+n*Ch.MILLISECONDS_PER_MINUTE);roundUpToNext15MinSlot=e=>{const n=e.getUTCMinutes(),r=e.getUTCHours(),s=Math.ceil(n/15)*15,i=new Date(e);return s===Ch.MINUTES_PER_HOUR?i.setUTCHours(r+1,0,0,0):i.setUTCMinutes(s,0,0),i};scheduleTaskWithSplittingForShunt=async(e,n,r)=>await this.scheduleTaskWithSplittingForShuntExcluding(e,n,r,[e.id]);scheduleTaskWithSplittingForShuntExcluding=async(e,n,r,s,i=3)=>{const o=this.getTaskDurationMinutes(e)/60,a=s.filter(d=>d!==e.id),c=await this.schedulingLogic.scheduleTaskWithSplitting(e.id,n,o,r.id,a);return c&&!c.conflict?{startTime:c.startTime,endTime:c.endTime,wasSplit:c.wasSplit}:c&&c.conflict?(console.log(`🔄 CASCADING SHUNT: Task ${e.odp_number} conflicts with ${c.conflictingTask?.odp_number}, attempting cascading resolution`),i>0?await this.handleCascadingConflict(e,n,r,s,c,i-1):(console.warn(`⚠️ CASCADING SHUNT: Max depth reached for task ${e.odp_number}, returning conflict info`),{conflict:!0,conflictingTask:c.conflictingTask,conflictingSegment:c.conflictingSegment,proposedSegments:c.proposedSegments})):c?{startTime:n,endTime:this.addMinutesToDate(n,this.getTaskDurationMinutes(e)),wasSplit:!1}:null};handleCascadingConflict=async(e,n,r,s,i,o)=>{const a=i.conflictingTask,c=i.conflictingSegment;console.log(`🔄 CASCADING SHUNT: Attempting to shunt conflicting task ${a?.odp_number} to resolve conflict with ${e.odp_number}`);const d=new Date(n.getTime()+this.getTaskDurationMinutes(e)*60*1e3),f=this.roundUpToNext15MinSlot(d),h=[...s,a.id];try{const p=await this.scheduleTaskWithSplittingForShuntExcluding(a,f,r,h,o);if(p&&!p.conflict){console.log(`✅ CASCADING SHUNT: Successfully shunted conflicting task ${a.odp_number}`),await this.updateTaskSchedule(a.id,p.startTime,p.endTime);const m=await this.scheduleTaskWithSplittingForShuntExcluding(e,n,r,h,o);return m&&!m.conflict?(console.log(`✅ CASCADING SHUNT: Successfully scheduled original task ${e.odp_number} after resolving conflicts`),m):(console.warn(`⚠️ CASCADING SHUNT: Original task ${e.odp_number} still conflicts after shunting conflicting task`),m||{conflict:!0,conflictingTask:a,conflictingSegment:c,proposedSegments:i.proposedSegments})}else return console.warn(`⚠️ CASCADING SHUNT: Could not shunt conflicting task ${a?.odp_number}`),p||{conflict:!0,conflictingTask:a,conflictingSegment:c,proposedSegments:i.proposedSegments}}catch(p){return console.error("❌ CASCADING SHUNT: Error during cascading conflict resolution:",p),{conflict:!0,conflictingTask:a,conflictingSegment:c,proposedSegments:i.proposedSegments}}};updateTaskSchedule=async(e,n,r)=>{try{const{updateOrder:s}=dr.getState();await s(e,{scheduled_start_time:n.toISOString(),scheduled_end_time:r.toISOString()})}catch(s){console.error(`❌ CASCADING SHUNT: Failed to update task ${e} schedule:`,s)}};checkShuntingOverlaps=(e,n,r,s=[])=>{const i=r.filter(o=>o.scheduled_machine_id===n&&o.status==="SCHEDULED"&&!s.includes(o.id));for(const o of e)for(const a of i){const c=this.splitTaskManager.checkTaskOverlap(o.start,o.end,a);if(c.hasOverlap)return{hasOverlap:!0,conflictingTask:a,conflictingSegment:c.conflictingSegment,newTaskSegment:o}}return{hasOverlap:!1}};resolveConflictByShunting=async(e,n,r,s)=>{try{const{conflictingTask:i,proposedStartTime:o,machine:a}=e,c=new Date(o),d=r.filter(A=>A.scheduled_machine_id===a.id&&A.status==="SCHEDULED"&&A.id!==s.id).sort((A,I)=>{const M=this.splitTaskManager.getTaskOccupiedSegments(A),D=this.splitTaskManager.getTaskOccupiedSegments(I),P=M.length>0?M[0].start:new Date(A.scheduled_start_time),j=D.length>0?D[0].start:new Date(I.scheduled_start_time);return P-j}),f=d.findIndex(A=>A.id===i.id);if(f===-1)throw new pt("Conflicting task not found",Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const h=this.getTaskDurationMinutes(s),p=[];let m=!1;if(n==="right")for(let A=f;A<d.length&&!m;A++){const I=d[A];if(p.push(I),A<d.length-1){const M=d[A+1],D=this.splitTaskManager.getTaskOccupiedSegments(I),P=this.splitTaskManager.getTaskOccupiedSegments(M);if(D.length>0&&P.length>0){const j=Math.max(...D.map(Q=>Q.end.getTime())),z=Math.min(...P.map(Q=>Q.start.getTime()));Math.floor((z-j)/(60*1e3))>=h&&(m=!0)}}else m=!0}else for(let A=f;A>=0&&!m;A--){const I=d[A];if(p.unshift(I),A>0){const M=d[A-1],D=this.splitTaskManager.getTaskOccupiedSegments(M),P=this.splitTaskManager.getTaskOccupiedSegments(I);if(D.length>0&&P.length>0){const j=Math.max(...D.map(Q=>Q.end.getTime())),z=Math.min(...P.map(Q=>Q.start.getTime()));Math.floor((z-j)/(60*1e3))>=h&&(m=!0)}}else{const M=this.splitTaskManager.getTaskOccupiedSegments(I);if(M.length>0){const D=Math.min(...M.map(z=>z.start.getTime())),P=new Date(D);if(P.setUTCHours(6,0,0,0),Math.floor((D-P.getTime())/(60*1e3))>=h)m=!0;else{const z=new Date(D),G=new Date(z);G.setUTCHours(6,0,0,0),z.getTime()>G.getTime()&&(m=!0)}}}}const b=new Set,y=new Set;for(const A of p)b.add(A.id),y.add(A.id);y.add(s.id);let w=0;const _=10;for(;w<_;){w++;let A=!1;const I=Array.from(b);for(const M of I){const D=d.find(Q=>Q.id===M)||s;if(!D)continue;let P;if(n==="right"){const Q=new Date(c.getTime()+h*60*1e3);if(P=this.roundUpToNext15MinSlot(Q),D.id!==s.id){const oe=Array.from(b).indexOf(M);if(oe>0){const ce=Array.from(b)[oe-1],ee=d.find(B=>B.id===ce)||s,re=this.getTaskDurationMinutes(ee),$=new Date(P.getTime()+re*60*1e3);P=this.roundUpToNext15MinSlot($)}}}else{const Q=c,oe=this.getTaskDurationMinutes(D);P=this.roundUpToNext15MinSlot(this.addMinutesToDate(Q,-oe))}const j=this.getTaskDurationMinutes(D)/60,z=this.schedulingLogic.collectUnavailableSlots(P,new Date(P.getTime()+j*60*60*1e3),a.id);if(z.some(Q=>P<Q.end&&new Date(P.getTime()+j*60*60*1e3)>Q.start)){const Q=this.schedulingLogic.splitTaskAcrossAvailableSlots(P,j,a.id,z);for(const oe of Q)for(const ce of d)!y.has(ce.id)&&ce.id!==D.id&&this.splitTaskManager.checkTaskOverlap(oe.start,oe.end,ce).hasOverlap&&(y.add(ce.id),b.add(ce.id),A=!0)}else{const Q=new Date(P.getTime()+j*60*60*1e3);for(const oe of d)!y.has(oe.id)&&oe.id!==D.id&&this.splitTaskManager.checkTaskOverlap(P,Q,oe).hasOverlap&&(y.add(oe.id),b.add(oe.id),A=!0)}}if(!A)break}if(w>=_)throw console.error(`🚨 SHUNTING ERROR: Maximum iterations (${_}) reached, possible infinite loop`),new pt("Too many conflicts detected during shunting",Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const E=d.filter(A=>b.has(A.id));if(p.length=0,p.push(...E),!m&&p.length===d.length){const A=this.getTaskDurationMinutes(s),I=p.length,M=a.machine_name||"Unknown Machine";console.warn(`⚠️ SHUNTING WARNING: No gap found for ${A} minutes on machine ${M}`),console.warn(`⚠️ All ${I} tasks on machine would need to be moved`),console.warn("⚠️ Attempting to schedule at earliest possible time...");const D=d[0],P=this.splitTaskManager.getTaskOccupiedSegments(D);if(P.length>0){const j=Math.min(...P.map(G=>G.start.getTime())),z=new Date(j);if(z.setUTCHours(6,0,0,0),z.getTime()<j)m=!0;else throw console.error(`❌ SHUNTING FAILED: No space even at 6 AM on machine ${M}`),console.error("❌ Consider: 1) Moving to different machine, 2) Reducing task duration, 3) Scheduling on different day"),new pt(`Non c'è spazio sufficiente per spostare i lavori. Il task ${s.odp_number} (${A} minuti) richiederebbe di spostare tutti i ${I} lavori sulla macchina ${M}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}else throw new pt(`Non c'è spazio sufficiente per spostare i lavori. Il task ${s.odp_number} (${A} minuti) richiederebbe di spostare tutti i ${I} lavori sulla macchina ${M}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}const T=[];let k=null;if(n==="right"){const A=new Date(c),I=[...Array.from(y)];if(k=await this.scheduleTaskWithSplittingForShuntExcluding(s,A,a,I),k&&k.conflict)return console.warn(`⚠️ CASCADING SHUNT: Dragged task ${s.odp_number} still has conflicts after cascading resolution`),{error:`Impossibile programmare il task ${s.odp_number} alla posizione richiesta. Conflitti non risolvibili automaticamente.`,conflict:k.conflict,conflictingTask:k.conflictingTask,conflictingSegment:k.conflictingSegment};let M=k.endTime?this.roundUpToNext15MinSlot(k.endTime):new Date;for(const D of p){const P=[...Array.from(y)],j=await this.scheduleTaskWithSplittingForShuntExcluding(D,M,a,P);if(!j)throw console.error(`❌ Failed to schedule task ${D.odp_number} at ${M.toISOString()}`),new pt(`Impossibile programmare il task ${D.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(j&&j.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${D.odp_number} still has conflicts after cascading resolution`);continue}T.push({id:D.id,scheduled_start_time:j.startTime?.toISOString(),scheduled_end_time:j.endTime?.toISOString()}),j.endTime&&(M=this.roundUpToNext15MinSlot(j.endTime))}}else{const A=new Date(c);let I=this.roundUpToNext15MinSlot(this.addMinutesToDate(A,-1));for(let M=p.length-1;M>=0;M--){const D=p[M],P=[...Array.from(y)],j=await this.schedulingLogic.scheduleTaskEndingAtWithSplitting(D.id,I,this.getTaskDurationMinutes(D)/60,a.id,P);if(!j)throw console.error(`❌ Failed to schedule task ${D.odp_number} ending at ${I.toISOString()}`),new pt(`Impossibile programmare il task ${D.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(j&&j.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${D.odp_number} still has conflicts after cascading resolution (LEFT direction)`);continue}T.push({id:D.id,scheduled_start_time:j.startTime?.toISOString(),scheduled_end_time:j.endTime?.toISOString()}),j.startTime&&(I=this.roundUpToNext15MinSlot(this.addMinutesToDate(j.startTime,-1)))}}if(!k){const A=new Date(c),I=[...Array.from(y)];k=await this.scheduleTaskWithSplittingForShuntExcluding(s,A,a,I)}if(!k)throw console.error(`❌ Failed to schedule dragged task ${s.odp_number} at ${proposedStart.toISOString()}`),new pt(`Impossibile programmare il task ${s.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");T.push({id:s.id,scheduled_machine_id:a.id,scheduled_start_time:k.startTime?.toISOString(),scheduled_end_time:k.endTime?.toISOString(),status:"SCHEDULED"});for(const A of T)await St.updateOdpOrder(A.id,A);return oi.getState().hideConflictDialog(),oi.getState().showAlert("Lavori riprogrammati con successo","success"),{success:!0}}catch(i){return console.error("❌ SHUNTING ERROR:",i),{error:(i instanceof pt?i:new pt(i.message||"Errore durante la riprogrammazione",Je.BUSINESS_LOGIC_ERROR,400,i,"ConflictResolution.resolveConflictByShunting")).message}}}}class h8{constructor(e,n){this.get=e,this.set=n,this.updateLocks=new Map}getLockKey=(e,n)=>`${e}-${n}`;acquireLock=async(e,n)=>{const r=this.getLockKey(e,n);this.updateLocks.has(r)&&await this.updateLocks.get(r);let s;const i=new Promise(o=>{s=o});return this.updateLocks.set(r,i),s};releaseLock=(e,n)=>{const r=this.getLockKey(e,n);this.updateLocks.delete(r)};loadMachineAvailabilityForDate=async e=>{const{machineAvailability:n}=this.get();if(!n[e]?._loading&&!(n[e]&&n[e].length>=0)){this.set(r=>({machineAvailability:{...r.machineAvailability,[e]:{_loading:!0}}}));try{const r=await St.getMachineAvailabilityForDateAllMachines(e);this.set(s=>({machineAvailability:{...s.machineAvailability,[e]:r||[]}}))}catch(r){throw this.set(s=>{const i={...s.machineAvailability};return i[e]&&delete i[e]._loading,{machineAvailability:i}}),r}}};loadMachineAvailabilityForDateRange=async(e,n,r)=>{const s=n instanceof Date?kn(n,"yyyy-MM-dd"):n,i=r instanceof Date?kn(r,"yyyy-MM-dd"):r;try{const o=await St.getMachineAvailabilityForDateRange(e,s,i);return this.set(a=>{const c={...a.machineAvailability};return Array.isArray(o)&&o.forEach(d=>{if(d.date&&d.unavailable_hours){const f=d.date;c[f]||(c[f]=[]);const h=c[f].find(p=>p.machine_id===e);h?h.unavailable_hours=d.unavailable_hours:c[f].push({machine_id:e,date:f,unavailable_hours:d.unavailable_hours})}}),{machineAvailability:c}}),o}catch(o){throw o}};getMachineAvailability=async(e,n)=>{try{const r=this.get().machineAvailability[n];if(r&&Array.isArray(r)){const i=r.find(o=>o.machine_id===e);if(i)return i.unavailable_hours||[]}const s=await St.getMachineAvailabilityForDate(e,n);if(s){const i=(s.unavailable_hours||[]).map(o=>o.toString());return this.set(o=>{const a={...o.machineAvailability};a[n]||(a[n]=[]);const c=a[n].find(d=>d.machine_id===e);return c?c.unavailable_hours=i:a[n].push({machine_id:e,date:n,unavailable_hours:i}),{machineAvailability:a}}),i}return[]}catch{return[]}};loadMachineAvailabilityForMachine=async(e,n,r)=>{const s={};try{try{await St.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let i=new Date(n);for(;i<=r;){const o=kn(i,"yyyy-MM-dd");this.get().machineAvailability[o]||await this.loadMachineAvailabilityForDate(o);const c=this.get().machineAvailability[o];if(Array.isArray(c)){const d=c.find(f=>f.machine_id===e);d&&(s[o]=d.unavailable_hours||[])}i=xd(i,1)}return s}catch{return{}}};isTimeSlotUnavailable=async(e,n,r)=>(await this.getMachineAvailability(e,n)).includes(r.toString());setMachineAvailability=async(e,n,r)=>{const s=await this.acquireLock(e,n);try{const{getOdpOrders:i}=dr.getState(),o=i().filter(p=>p.scheduled_machine_id===e&&p.status==="SCHEDULED"&&p.scheduled_start_time&&p.scheduled_end_time),[a,c,d]=n.split("-").map(Number),f=new Date(Date.UTC(a,c-1,d)),h=new Date(f.getTime()+1440*60*1e3);for(const p of o){const m=new Date(p.scheduled_start_time),b=new Date(p.scheduled_end_time);if(m<h&&b>f)for(const y of r){const w=new Date(f.getTime()+parseInt(y)*60*60*1e3),_=new Date(w.getTime()+3600*1e3);if(w<b&&_>m)throw new pt(`Cannot set machine unavailable during scheduled task: ${p.odp_number}`,Je.BUSINESS_LOGIC_ERROR,400,null,"MachineAvailabilityManager.setMachineUnavailability")}}return await St.setMachineAvailability(e,n,r),this.set(p=>{const m={...p.machineAvailability};m[n]||(m[n]=[]);const b=m[n].find(y=>y.machine_id===e);return b?b.unavailable_hours=r:m[n].push({machine_id:e,date:n,unavailable_hours:r}),{machineAvailability:m}}),oi.getState().showAlert(`Machine availability updated successfully for ${n}`,"success"),!0}catch(i){const o=Ta(i,"Machine Availability");throw oi.getState().showAlert(o.message,"error"),o}finally{s(),this.releaseLock(e,n)}};toggleMachineHourAvailability=async(e,n,r)=>{const s=await this.acquireLock(e,n);try{const i=await this.getMachineAvailability(e,n),o=r.toString();let a;return i.includes(o)?a=i.filter(c=>c!==o):a=[...i,o].sort((c,d)=>parseInt(c)-parseInt(d)),await St.setMachineAvailability(e,n,a),this.set(c=>{const d={...c.machineAvailability};d[n]||(d[n]=[]);const f=d[n].find(h=>h.machine_id===e);return f?f.unavailable_hours=a:d[n].push({machine_id:e,date:n,unavailable_hours:a}),{machineAvailability:d}}),oi.getState().showAlert(`Time slot ${o}:00 updated successfully`,"success"),!0}catch(i){const o=Ta(i,"Machine Availability");throw oi.getState().showAlert(o.message,"error"),o}finally{s(),this.releaseLock(e,n)}};setMachineUnavailability=async(e,n,r,s,i)=>{try{const o=await St.setUnavailableHoursForRange(e,n,r,s,i),a=new Date(n),c=new Date(r),d=await this.loadMachineAvailabilityForDateRange(e,a,c);return d&&Array.isArray(d)&&this.set(f=>{const h={...f.machineAvailability};return d.forEach(p=>{if(p.date&&p.unavailable_hours){const m=kn(new Date(p.date),"yyyy-MM-dd");h[m]||(h[m]=[]);const b=h[m].find(y=>y.machine_id===e);b?b.unavailable_hours=p.unavailable_hours:h[m].push({machine_id:e,date:m,unavailable_hours:p.unavailable_hours})}}),{machineAvailability:h}}),o}catch(o){throw o}};isMachineAvailabilityAccessible=async()=>{try{return await St.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}};getMachineAvailabilityStatus=async()=>{try{const e=await this.isMachineAvailabilityAccessible();return{accessible:e,message:e?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(e){return{accessible:!1,message:`Error checking table: ${e.message}`}}};initializeEmptyMachineAvailability=()=>{const{machineAvailability:e}=this.get(),n={...e};this.set({machineAvailability:n})}}const Od=li((t,e)=>{const n=new u8(e,t),r=new h8(e,t),s=new d8(e,t,n,r),i=new f8(e,t,s,n);return{machineAvailability:{},shuntPreview:null,splitTasksInfo:{},getMachineAvailabilityState:()=>e().machineAvailability,getSplitTaskInfo:o=>n.getSplitTaskInfo(o),setMachineAvailabilityState:o=>t({machineAvailability:o}),setShuntPreview:o=>t({shuntPreview:o}),clearShuntPreview:()=>t({shuntPreview:null}),setSplitTaskInfo:n.setSplitTaskInfo,clearSplitTaskInfo:n.clearSplitTaskInfo,updateSplitTaskInfo:n.updateSplitTaskInfo,restoreSplitTaskInfo:n.restoreSplitTaskInfo,updateTaskWithSplitInfo:n.updateTaskWithSplitInfo,getTaskOccupiedSegments:n.getTaskOccupiedSegments,checkTaskOverlap:n.checkTaskOverlap,checkMachineOverlaps:n.checkMachineOverlaps,migrateExistingTasksToSegmentFormat:n.migrateExistingTasksToSegmentFormat,verifyAllTasksHaveSegmentInfo:n.verifyAllTasksHaveSegmentInfo,createAbsoluteDate:s.createAbsoluteDate,splitTaskAcrossAvailableSlots:s.splitTaskAcrossAvailableSlots,collectUnavailableSlots:s.collectUnavailableSlots,scheduleTaskWithSplitting:s.scheduleTaskWithSplitting,findAdjacentTasksChain:s.findAdjacentTasksChain,handleTaskDurationShrinking:s.handleTaskDurationShrinking,scheduleTaskFromSlot:async(o,a,c,d,f,h=null,p=null)=>{const{startSchedulingOperation:m,stopSchedulingOperation:b}=oi.getState();try{m("schedule",o);const{getOrderById:y,getOdpOrders:w}=dr.getState(),{getMachineById:_}=Mu.getState(),E=y(o),T=_(a.id),k=w();if(!E||!T)return{error:"Task or machine not found"};const A=c.getUTCFullYear(),I=c.getUTCMonth()+1,M=c.getUTCDate(),D=s.createAbsoluteDate(A,I,M,d,f),P=h||E.time_remaining||E.duration||1;console.log("🎯 SCHEDULER: Using duration:",P,"overrideDuration:",h);const j={machine:a.id,start_time:D.toISOString(),end_time:zE(D,P).toISOString()};console.log("🎯 SCHEDULER: Calling scheduleTask with:",{taskId:o,scheduleData:j,overrideDuration:h});const z=await e().scheduleTask(o,j,k,h,p);return console.log("🎯 SCHEDULER: scheduleTask result:",z),z}catch(y){return{error:Ta(y,"SchedulerStore.scheduleTaskFromSlot").message}}finally{b()}},rescheduleTaskToSlot:async(o,a,c,d,f,h=null)=>{const{startSchedulingOperation:p,stopSchedulingOperation:m}=oi.getState();try{p("reschedule",o);const{getOrderById:b,getOdpOrders:y}=dr.getState(),{getMachineById:w}=Mu.getState(),_=b(o),E=w(a.id),T=y();if(!_||!E)return{error:"Event or machine not found"};const k=c.getUTCFullYear(),A=c.getUTCMonth()+1,I=c.getUTCDate(),M=s.createAbsoluteDate(k,A,I,d,f),D=_.time_remaining||_.duration||1,P={machine:a.id,start_time:M.toISOString(),end_time:zE(M,D).toISOString()};return await e().scheduleTask(o,P,T,null,h)}catch(b){return{error:Ta(b,"SchedulerStore.rescheduleTaskToSlot").message}}finally{m()}},scheduleTask:async(o,a,c=null,d=null,f=null)=>{try{console.log("🎯 SCHEDULER: scheduleTask called with:",{taskId:o,eventData:a,overrideDuration:d});const{getOrderById:h,getOdpOrders:p}=dr.getState(),{getMachineById:m}=Mu.getState(),b=h(o),y=m(a.machine),w=c||p();if(console.log("🎯 SCHEDULER: Task found:",b?.odp_number,"Machine found:",y?.name),b&&y&&b.work_center&&y.work_center&&b.work_center!==y.work_center)return{error:`Work center mismatch: task requires '${b.work_center}' but machine is '${y.work_center}'`};const _=new Date(a.start_time),E=d||b.time_remaining||b.duration||1;console.log("🎯 SCHEDULER: scheduleTask using duration:",E,"overrideDuration:",d),console.log("🎯 SCHEDULER: Calling scheduleTaskWithSplitting with:",{taskId:o,newStart:_.toISOString(),timeRemainingHours:E,machineId:a.machine});const T=await s.scheduleTaskWithSplitting(o,_,E,a.machine);if(console.log("🎯 SCHEDULER: scheduleTaskWithSplitting result:",T),!T)return{error:"No available time slots found for this task"};if(T.conflict)return{conflict:!0,conflictingTask:T.conflictingTask,draggedTask:b,proposedStartTime:a.start_time,proposedEndTime:a.end_time,machine:y,conflictingSegment:T.conflictingSegment,proposedSegments:T.proposedSegments,tasks:w};a.start_time=T.startTime.toISOString(),a.end_time=T.endTime.toISOString();const k={scheduled_machine_id:a.machine,scheduled_start_time:a.start_time,scheduled_end_time:a.end_time,status:"SCHEDULED"};if(T.segments){const M={segments:T.segments,totalSegments:T.segments.length,originalDuration:T.originalDuration||b.time_remaining||b.duration||1,wasSplit:T.wasSplit||!1};k.description=JSON.stringify(M)}const{apiService:A}=await Us(async()=>{const{apiService:M}=await Promise.resolve().then(()=>Kb);return{apiService:M}},void 0),I=await A.updateOdpOrder(o,k);if(T.segments){const M={segments:T.segments,totalSegments:T.segments.length,originalDuration:T.originalDuration||b.time_remaining||b.duration||1,wasSplit:T.wasSplit||!1};n.setSplitTaskInfo(o,M)}return f&&(f.invalidateQueries({queryKey:["orders"]}),f.invalidateQueries({queryKey:["orders",o]})),{success:!0,updatedTask:I,schedulingResult:T}}catch(h){return{error:Ta(h,"SchedulerStore.scheduleTask").message}}},unscheduleTask:async(o,a=null)=>{const{startSchedulingOperation:c,stopSchedulingOperation:d}=oi.getState();try{c("unschedule",o),n.clearSplitTaskInfo(o);const f={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,status:"NOT SCHEDULED",description:""},{apiService:h}=await Us(async()=>{const{apiService:p}=await Promise.resolve().then(()=>Kb);return{apiService:p}},void 0);return await h.updateOdpOrder(o,f),a&&(a.invalidateQueries({queryKey:["orders"]}),a.invalidateQueries({queryKey:["orders",o]})),{success:!0}}catch(f){return{error:Ta(f,"SchedulerStore.unscheduleTask").message}}finally{d()}},loadMachineAvailabilityForDate:r.loadMachineAvailabilityForDate,loadMachineAvailabilityForDateRange:r.loadMachineAvailabilityForDateRange,getMachineAvailability:r.getMachineAvailability,loadMachineAvailabilityForMachine:r.loadMachineAvailabilityForMachine,isTimeSlotUnavailable:r.isTimeSlotUnavailable,setMachineAvailability:r.setMachineAvailability,toggleMachineHourAvailability:r.toggleMachineHourAvailability,setMachineUnavailability:r.setMachineUnavailability,isMachineAvailabilityAccessible:r.isMachineAvailabilityAccessible,getMachineAvailabilityStatus:r.getMachineAvailabilityStatus,initializeEmptyMachineAvailability:r.initializeEmptyMachineAvailability,resolveConflictByShunting:async(o,a,c=null)=>{const{startSchedulingOperation:d,stopSchedulingOperation:f}=oi.getState();try{d("shunt",o.draggedTask?.id);const{getOdpOrders:h}=dr.getState(),p=h(),m=await i.resolveConflictByShunting(o,a,p,o.draggedTask);if(m&&!m.error&&c){console.log("🔄 SHUNTING: Invalidating React Query cache to refresh UI");const b=[c.invalidateQueries({queryKey:["orders"]}),c.invalidateQueries({queryKey:["machines"]})];o.draggedTask?.id&&b.push(c.invalidateQueries({queryKey:["orders",o.draggedTask.id]})),await Promise.all(b)}return m}catch(h){return console.error("❌ SHUNTING ERROR in scheduler store:",h),{error:h.message||"Errore durante lo spostamento del task"}}finally{f()}},validateSlotAvailability:async(o,a,c,d)=>{try{const f=kn(a,"yyyy-MM-dd");if(await e().isTimeSlotUnavailable(o.id,f,c))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:p}=dr.getState(),m=new Date(a);m.setUTCHours(c,d,0,0);const b=new Date(m.getTime()+3600*1e3),y=p().filter(w=>w.scheduled_machine_id===o.id&&w.status==="SCHEDULED"&&w.scheduled_start_time);for(const w of y){const _=new Date(w.scheduled_start_time),E=w.time_remaining||w.duration||1,T=new Date(_.getTime()+E*60*60*1e3);if(m<T&&b>_)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch(f){return{error:Ta(f,"SchedulerStore.validateSlotAvailability").message}}},getEventsByDate:async o=>{try{return await St.getEventsByDate(o)}catch{return[]}},reset:()=>t({machineAvailability:{},shuntPreview:null,splitTasksInfo:{}})}}),RM=()=>{const t=C.useCallback(d=>{if(!d||!d.department)return{isValid:!1,error:"Invalid phase data"};const{department:f}=d;if(f==="STAMPA"){const h=parseFloat(d.v_stampa);if(isNaN(h)||h<=0)return{isValid:!1,error:"Velocità di stampa non valida. Inserisci un valore maggiore di zero."}}else if(f==="CONFEZIONAMENTO"){const h=parseFloat(d.v_conf);if(isNaN(h)||h<=0)return{isValid:!1,error:"Velocità di confezionamento non valida. Inserisci un valore maggiore di zero."}}else return{isValid:!1,error:"Reparto non riconosciuto"};return{isValid:!0}},[]),e=C.useCallback((d,f,h)=>{if(!d||!f||d.department==="STAMPA"&&!h||!t(d).isValid)return null;try{const{department:m}=d;if(m==="STAMPA"){const b=parseFloat(d.v_stampa),y=parseFloat(d.t_setup_stampa)||0,w=parseFloat(d.costo_h_stampa)||0;if(isNaN(b)||b<=0)return null;const E=h*f/1e3/b,T=E+y,k=T*w;return{totals:{duration:T,cost:k},breakdown:{print:{time:E,cost:E*w},setup:{time:y,cost:y*w}}}}else if(m==="CONFEZIONAMENTO"){const b=parseFloat(d.v_conf),y=parseFloat(d.t_setup_conf)||0,w=parseFloat(d.costo_h_conf)||0;if(isNaN(b)||b<=0)return null;const _=f/b,E=y,T=_+E,k=T*w;return{totals:{duration:T,cost:k},breakdown:{package:{time:_,cost:_*w},setup:{time:E,cost:E*w}}}}return null}catch{return null}},[t]),n=C.useCallback(d=>d&&(d.startsWith("P05")||d.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),r=C.useCallback(d=>d&&d.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),s=C.useCallback(d=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[d]||[],[]),i=C.useCallback((d,f)=>{const p={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[d]||"MACH",m=f==="BUSTO_GAROLFO"?"BGF":"ZAN",b=Date.now().toString(36);return`${p}_${m}_${b}`},[]),o=C.useCallback((d,f)=>!(f<0||f>d),[]),a=C.useCallback((d,f)=>!d||d===0?0:Math.round(f*100/d),[]),c=C.useCallback((d,f)=>!d||d===0?0:!f||f===0?d:Math.round(d*(1-f/100)*100)/100,[]);return{calculateProductionMetrics:e,validatePhaseParameters:t,autoDetermineWorkCenter:n,autoDetermineDepartment:r,getValidMachineTypes:s,generateMachineId:i,validateQuantityCompleted:o,calculateCompletionRate:a,calculateTimeRemaining:c}};var _y,DR;function g8(){if(DR)return _y;DR=1;function t(_){this._maxSize=_,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(_){return this._values[_]},t.prototype.set=function(_,E){return this._size>=this._maxSize&&this.clear(),_ in this._values||this._size++,this._values[_]=E};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,a=new t(o),c=new t(o),d=new t(o);_y={Cache:t,split:h,normalizePath:f,setter:function(_){var E=f(_);return c.get(_)||c.set(_,function(k,A){for(var I=0,M=E.length,D=k;I<M-1;){var P=E[I];if(P==="__proto__"||P==="constructor"||P==="prototype")return k;D=D[E[I++]]}D[E[I]]=A})},getter:function(_,E){var T=f(_);return d.get(_)||d.set(_,function(A){for(var I=0,M=T.length;I<M;)if(A!=null||!E)A=A[T[I++]];else return;return A})},join:function(_){return _.reduce(function(E,T){return E+(m(T)||n.test(T)?"["+T+"]":(E?".":"")+T)},"")},forEach:function(_,E,T){p(Array.isArray(_)?_:h(_),E,T)}};function f(_){return a.get(_)||a.set(_,h(_).map(function(E){return E.replace(i,"$2")}))}function h(_){return _.match(e)||[""]}function p(_,E,T){var k=_.length,A,I,M,D;for(I=0;I<k;I++)A=_[I],A&&(w(A)&&(A='"'+A+'"'),D=m(A),M=!D&&/^\d+$/.test(A),E.call(T,A,D,M,I,_))}function m(_){return typeof _=="string"&&_&&["'",'"'].indexOf(_.charAt(0))!==-1}function b(_){return _.match(r)&&!_.match(n)}function y(_){return s.test(_)}function w(_){return!m(_)&&(b(_)||y(_))}return _y}var Na=g8(),Sy,OR;function p8(){if(OR)return Sy;OR=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=f=>f.match(t)||[],n=f=>f[0].toUpperCase()+f.slice(1),r=(f,h)=>e(f).join(h).toLowerCase(),s=f=>e(f).reduce((h,p)=>`${h}${h?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return Sy={words:e,upperFirst:n,camelCase:s,pascalCase:f=>n(s(f)),snakeCase:f=>r(f,"_"),kebabCase:f=>r(f,"-"),sentenceCase:f=>n(r(f," ")),titleCase:f=>e(f).map(n).join(" ")},Sy}var xy=p8(),Rh={exports:{}},IR;function m8(){if(IR)return Rh.exports;IR=1,Rh.exports=function(s){return t(e(s),s)},Rh.exports.array=t;function t(s,i){var o=s.length,a=new Array(o),c={},d=o,f=n(i),h=r(s);for(i.forEach(function(m){if(!h.has(m[0])||!h.has(m[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)c[d]||p(s[d],d,new Set);return a;function p(m,b,y){if(y.has(m)){var w;try{w=", node was:"+JSON.stringify(m)}catch{w=""}throw new Error("Cyclic dependency"+w)}if(!h.has(m))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(m));if(!c[b]){c[b]=!0;var _=f.get(m)||new Set;if(_=Array.from(_),b=_.length){y.add(m);do{var E=_[--b];p(E,h.get(E),y)}while(b);y.delete(m)}a[--o]=m}}}function e(s){for(var i=new Set,o=0,a=s.length;o<a;o++){var c=s[o];i.add(c[0]),i.add(c[1])}return Array.from(i)}function n(s){for(var i=new Map,o=0,a=s.length;o<a;o++){var c=s[o];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function r(s){for(var i=new Map,o=0,a=s.length;o<a;o++)i.set(s[o],o);return i}return Rh.exports}var v8=m8();const y8=bd(v8),b8=Object.prototype.toString,w8=Error.prototype.toString,_8=RegExp.prototype.toString,S8=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",x8=/^Symbol\((.*)\)(.*)$/;function E8(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function MR(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return E8(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return S8.call(t).replace(x8,"Symbol($1)");const r=b8.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+w8.call(t)+"]":r==="RegExp"?_8.call(t):null}function $i(t,e){let n=MR(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=MR(this[r],e);return i!==null?i:s},2)}function TM(t){return t==null?[]:[].concat(t)}let AM,kM,DM,C8=/\$\{\s*(\w+)\s*\}/g;AM=Symbol.toStringTag;class NR{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[AM]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],TM(e).forEach(i=>{if(ur.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}kM=Symbol.hasInstance;DM=Symbol.toStringTag;class ur extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(C8,(s,i)=>$i(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const o=new NR(e,n,r,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[DM]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ur)}static[kM](e){return NR[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ri={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${$i(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${$i(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${$i(n,!0)}\``+s}},Tr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},So={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Yb={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},R8={isValue:"${path} field must be ${value}"},eg={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},tg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},T8={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${$i(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${$i(n,!0)}\``}return ur.formatError(ri.notType,t)}};Object.assign(Object.create(null),{mixed:ri,string:Tr,number:So,date:Yb,object:eg,array:tg,boolean:R8,tuple:T8});const Tp=t=>t&&t.__isYupSchema__;class kg{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,o=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new kg(e,(a,c)=>{var d;let f=o(...a)?s:i;return(d=f?.(c))!=null?d:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!Tp(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const Th={context:"$",value:"."};class Qa{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Th.context,this.isValue=this.key[0]===Th.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Th.context:this.isValue?Th.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Na.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Qa.prototype.__isYupRef=!0;const ji=t=>t==null;function jl(t){function e({value:n,path:r="",options:s,originalValue:i,schema:o},a,c){const{name:d,test:f,params:h,message:p,skipAbsent:m}=t;let{parent:b,context:y,abortEarly:w=o.spec.abortEarly,disableStackTrace:_=o.spec.disableStackTrace}=s;const E={value:n,parent:b,context:y};function T(z={}){const G=OM(Object.assign({value:n,originalValue:i,label:o.spec.label,path:z.path||r,spec:o.spec,disableStackTrace:z.disableStackTrace||_},h,z.params),E),Q=new ur(ur.formatError(z.message||p,G),n,G.path,z.type||d,G.disableStackTrace);return Q.params=G,Q}const k=w?a:c;let A={path:r,parent:b,type:d,from:s.from,createError:T,resolve(z){return IM(z,E)},options:s,originalValue:i,schema:o};const I=z=>{ur.isError(z)?k(z):z?c(null):k(T())},M=z=>{ur.isError(z)?k(z):a(z)};if(m&&ji(n))return I(!0);let P;try{var j;if(P=f.call(A,n,A),typeof((j=P)==null?void 0:j.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(I,M)}}catch(z){M(z);return}I(P)}return e.OPTIONS=t,e}function OM(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=IM(t[n],e);return t}function IM(t,e){return Qa.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function A8(t,e,n,r=n){let s,i,o;return e?(Na.forEach(e,(a,c,d)=>{let f=c?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:s,value:n});let h=t.type==="tuple",p=d?parseInt(f,10):0;if(t.innerType||h){if(h&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[p],t=h?t.spec.types[p]:t.innerType}if(!d){if(!t.fields||!t.fields[f])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=n,n=n&&n[f],t=t.fields[f]}i=f,o=c?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Dg extends Set{describe(){const e=[];for(const n of this.values())e.push(Qa.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Dg(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function Vl(t,e=new Map){if(Tp(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Vl(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,Vl(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Vl(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=Vl(s,e)}else throw Error(`Unable to clone ${t}`);return n}function k8(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,s=!1;for(let i=0;i<t.length;i++){const o=t[i];if(o==="["&&!s){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(o==="]"&&!s){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(o==='"'){s=!s;continue}if(o==="."&&!r&&!s){n&&(e.push(n),n="");continue}n+=o}return n&&e.push(...n.split(".").filter(Boolean)),e}function D8(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:k8(n)}))}function MM(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return D8(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(s=>MM(s,r))}class hs{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Dg,this._blacklist=new Dg,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ri.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Vl(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({},n,{value:e})),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&ji(i))return i;let o=$i(e),a=$i(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this,n),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=n,c=e;a||(c=this._cast(c,Object.assign({assert:!1},n)));let d=[];for(let f of Object.values(this.internalTests))f&&d.push(f);this.runTests({path:i,value:c,originalValue:o,options:n,tests:d},r,f=>{if(f.length)return s(f,c);this.runTests({path:i,value:c,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:o,originalValue:a,path:c,options:d}=e,f=y=>{s||(s=!0,n(y,o))},h=y=>{s||(s=!0,r(y,o))},p=i.length,m=[];if(!p)return h([]);let b={value:o,originalValue:a,path:c,options:d,schema:this};for(let y=0;y<i.length;y++){const w=i[y];w(b,f,function(E){E&&(Array.isArray(E)?m.push(...E):m.push(E)),--p<=0&&h(m)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let d=r[a];const f=Object.assign({},o,{strict:!0,parent:r,value:d,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${s||""}[${c?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(h,p,m)=>this.resolve(f)._validate(d,f,p,m)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,n,(c,d)=>{ur.isError(c)&&(c.value=d),a(c)},(c,d)=>{c.length?a(new ur(c,d,void 0,void 0,i)):o(d)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,o=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(a,c)=>{throw ur.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new ur(a,e,void 0,void 0,o);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(ur.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(ur.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Vl(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=jl({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=jl({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=ri.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ri.notNull){return this.nullability(!1,e)}required(e=ri.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=ri.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=jl(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=TM(e).map(i=>new Qa(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new kg(s,n):kg.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=jl({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=ri.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=jl({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,n=ri.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=jl({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=n.spec;return{meta:s,label:r,optional:i,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((c,d,f)=>f.findIndex(h=>h.OPTIONS.name===c.OPTIONS.name)===d).map(c=>{const d=c.OPTIONS.params&&e?OM(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(s){if(s instanceof ur)return{issues:MM(s)};throw s}}}}}hs.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])hs.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:o}=A8(this,e,n,r.context);return o[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])hs.prototype[t]=hs.prototype.oneOf;for(const t of["not","nope"])hs.prototype[t]=hs.prototype.notOneOf;const O8=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function I8(t){const e=Qb(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Qb(t){var e,n;const r=O8.exec(t);return r?{year:Ti(r[1]),month:Ti(r[2],1)-1,day:Ti(r[3],1),hour:Ti(r[4]),minute:Ti(r[5]),second:Ti(r[6]),millisecond:r[7]?Ti(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ti(r[10]),minuteOffset:Ti(r[11])}:null}function Ti(t,e=0){return Number(t)||e}let M8=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,N8=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,P8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,j8="^\\d{4}-\\d{2}-\\d{2}",F8="\\d{2}:\\d{2}:\\d{2}",L8="(([+-]\\d{2}(:?\\d{2})?)|Z)",U8=new RegExp(`${j8}T${F8}(\\.\\d+)?${L8}$`),$8=t=>ji(t)||t===t.trim(),B8={}.toString();function kr(){return new NM}class NM extends hs{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===B8?e:r})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||ri.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Tr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Tr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Tr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||Tr.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Tr.email){return this.matches(M8,{name:"email",message:e,excludeEmptyString:!0})}url(e=Tr.url){return this.matches(N8,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Tr.uuid){return this.matches(P8,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(U8,{name:"datetime",message:n||Tr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Tr.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=Qb(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Tr.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=Qb(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Tr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:$8})}lowercase(e=Tr.lowercase){return this.transform(n=>ji(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ji(n)||n===n.toLowerCase()})}uppercase(e=Tr.uppercase){return this.transform(n=>ji(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ji(n)||n===n.toUpperCase()})}}kr.prototype=NM.prototype;let z8=t=>t!=+t;function Rn(){return new PM}class PM extends hs{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!z8(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let r=e;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)||r===null?r:parseFloat(r)})})}min(e,n=So.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=So.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=So.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=So.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=So.positive){return this.moreThan(0,e)}negative(e=So.negative){return this.lessThan(0,e)}integer(e=So.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>ji(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>ji(s)?s:Math[e](s))}}Rn.prototype=PM.prototype;let jM=new Date(""),H8=t=>Object.prototype.toString.call(t)==="[object Date]";function Nu(){return new Id}class Id extends hs{constructor(){super({type:"date",check(e){return H8(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=I8(e),isNaN(e)?Id.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Qa.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=Yb.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=Yb.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}Id.INVALID_DATE=jM;Nu.prototype=Id.prototype;Nu.INVALID_DATE=jM;function V8(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let c=Na.split(o)[0];r.add(c),s.has(`${a}-${c}`)||n.push([a,c])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Qa.isRef(a)&&a.isSibling?i(a.path,o):Tp(a)&&"deps"in a&&a.deps.forEach(c=>i(c,o))}return y8.array(Array.from(r),n).reverse()}function PR(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function FM(t){return(e,n)=>PR(t,e)-PR(t,n)}const LM=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function ng(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=ng(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=ng(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(ng)}):"optional"in t?t.optional():t}const W8=(t,e)=>{const n=[...Na.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Na.getter(Na.join(n),!0)(t);return!!(s&&r in s)};let jR=t=>Object.prototype.toString.call(t)==="[object Object]";function FR(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const q8=FM([]);function Yo(t){return new UM(t)}class UM extends hs{constructor(e){super({type:"object",check(n){return jR(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=q8,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(h=>!this._nodes.includes(h))),c={},d=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),f=!1;for(const h of a){let p=i[h],m=h in s,b=s[h];if(p){let y;d.path=(n.path?`${n.path}.`:"")+h,p=p.resolve({value:b,context:n.context,parent:c});let w=p instanceof hs?p.spec:void 0,_=w?.strict;if(w!=null&&w.strip){f=f||h in s;continue}y=!n.__validating||!_?p.cast(b,d):b,y!==void 0&&(c[h]=y)}else m&&!o&&(c[h]=b);(m!==h in c||c[h]!==b)&&(f=!0)}return f?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(c,d)=>{if(!a||!jR(d)){s(c,d);return}o=o||d;let f=[];for(let h of this._nodes){let p=this.fields[h];!p||Qa.isRef(p)||f.push(p.asNestedTest({options:n,key:h,parent:d,parentPath:n.path,originalParent:o}))}this.runTests({tests:f,value:d,originalValue:o,options:n},r,h=>{s(h.sort(this._sortErrors).concat(c),d)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=V8(e,n),r._sortErrors=FM(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return ng(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Na.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return W8(i,e)&&(o=Object.assign({},i),r||delete o[e],o[n]=s(i)),o})}json(){return this.transform(LM)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||eg.exact,test(n){if(n==null)return!0;const r=FR(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=eg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=FR(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=eg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(xy.camelCase)}snakeCase(){return this.transformKeys(xy.snakeCase)}constantCase(){return this.transformKeys(e=>xy.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(n.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=o.describe(a)}return r}}Yo.prototype=UM.prototype;function $M(t){return new BM(t)}class BM extends hs{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const i=r.map((o,a)=>{const c=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`,parent:r,originalValue:o,value:o,index:a}));return c!==o&&(s=!0),c});return s?i:r}_validate(e,n={},r,s){var i;let o=this.innerType,a=(i=n.recursive)!=null?i:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(c,d)=>{var f;if(!a||!o||!this._typeCheck(d)){s(c,d);return}let h=new Array(d.length);for(let m=0;m<d.length;m++){var p;h[m]=o.asNestedTest({options:n,index:m,parent:d,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:d,tests:h,originalValue:(f=n.originalValue)!=null?f:e,options:n},r,m=>s(m.concat(c),d))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(LM)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Tp(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+$i(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=tg.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||tg.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||tg.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,s,i)=>!e(r,s,i):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=n.innerType.describe(i)}return r}}$M.prototype=BM.prototype;const Jt=kr().required("This field is required");Rn().required("This field is required").min(0,"Value must be at least 0");const ei=Rn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Value must be at least 0"),G8=t=>t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0,K8=Yo({machine_name:Jt.min(2,"Machine name must be at least 2 characters").max(100,"Machine name must be at most 100 characters").matches(/^[a-zA-Z0-9\s\-_]+$/,"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"),machine_type:Jt,department:Jt.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:Jt.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),status:Jt.oneOf(["ACTIVE","INACTIVE"],"Invalid status"),min_web_width:ei,max_web_width:ei,min_bag_height:ei,max_bag_height:ei,standard_speed:ei,setup_time_standard:ei,changeover_color:ei,changeover_material:ei,active_shifts:$M().of(kr().oneOf(["T1","T2","T3"]))}).test("web-width-logic","Minimum web width cannot exceed maximum web width",function(t){return t.min_web_width&&t.max_web_width?t.min_web_width<=t.max_web_width:!0}).test("bag-height-logic","Minimum bag height cannot exceed maximum bag height",function(t){return t.min_bag_height&&t.max_bag_height?t.min_bag_height<=t.max_bag_height:!0}),Y8=Yo({name:Jt.min(2,"Phase name must be at least 2 characters").max(100,"Phase name must be at most 100 characters"),department:Jt.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:Jt.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),numero_persone:Rn().required("Number of people is required").min(1,"Number of people must be at least 1"),bag_width:ei,bag_step:ei,v_stampa:Rn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Printing speed must be greater than 0")}),t_setup_stampa:Rn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_stampa:Rn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Hourly cost cannot be negative")}),v_conf:Rn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Packaging speed must be greater than 0")}),t_setup_conf:Rn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_conf:Rn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Hourly cost cannot be negative")})}).test("bag-width-step-logic","Bag width cannot be less than bag step",G8),LR=Yo({odp_number:Jt.min(1,"Il numero ODP è obbligatorio"),article_code:Jt.min(1,"Il codice articolo è obbligatorio"),work_center:Jt.oneOf(["ZANICA","BUSTO_GAROLFO"],"Seleziona un centro di lavoro valido"),nome_cliente:Jt.min(1,"Il nome del cliente è obbligatorio"),quantity:Rn().required("La quantità è obbligatoria").min(0,"La quantità deve essere maggiore o uguale a 0").typeError("La quantità deve essere un numero valido"),delivery_date:Nu().required("La data di consegna è obbligatoria").typeError("Inserisci una data di consegna valida"),customer_order_ref:Jt.min(1,"Il riferimento ordine cliente è obbligatorio"),department:Jt.oneOf(["STAMPA","CONFEZIONAMENTO"],"Seleziona un reparto valido"),status:kr().oneOf(["NOT SCHEDULED","SCHEDULED","IN PROGRESS","COMPLETED","CANCELLED"],"Stato non valido").default("NOT SCHEDULED"),quantity_completed:Rn().min(0,"La quantità completata deve essere maggiore o uguale a 0").default(0),production_lot:kr().nullable(),description:kr().nullable(),bag_height:Rn().nullable().transform(t=>isNaN(t)?null:t).min(0,"L'altezza busta deve essere maggiore o uguale a 0"),bag_width:Rn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La larghezza busta deve essere maggiore o uguale a 0"),bag_step:Rn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il passo busta deve essere maggiore o uguale a 0"),seal_sides:Rn().nullable().transform(t=>isNaN(t)?null:t).oneOf([3,4],"I lati di sigillatura devono essere 3 o 4"),product_type:kr().nullable().oneOf(["CREMA","LIQUIDO","POLVERI"],"Seleziona un tipo di prodotto valido"),internal_customer_code:kr().nullable().test("not-empty-if-provided","Il codice cliente interno non può essere vuoto",function(t){return!t||t.trim().length>0}),external_customer_code:kr().nullable().test("not-empty-if-provided","Il codice cliente esterno non può essere vuoto",function(t){return!t||t.trim().length>0}),fase:kr().nullable(),duration:Rn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La durata deve essere maggiore o uguale a 0"),cost:Rn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il costo deve essere maggiore o uguale a 0"),scheduled_start_time:Nu().nullable(),scheduled_end_time:Nu().nullable(),scheduled_machine_id:kr().nullable(),user_notes:kr().nullable(),asd_notes:kr().nullable(),material_availability_global:Rn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Material availability must be between 0 and 100").max(100,"Material availability must be between 0 and 100")}).test("bag-width-step-logic","La larghezza busta non può essere minore del passo busta",function(t){return t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0}).test("quantity-completed-logic","La quantità completata non può superare la quantità totale",function(t){return t.quantity&&t.quantity_completed!==void 0?t.quantity_completed<=t.quantity:!0}).test("scheduled-time-order","L'ora di fine programmata deve essere dopo l'ora di inizio",function(t){return t.scheduled_start_time&&t.scheduled_end_time?new Date(t.scheduled_end_time)>new Date(t.scheduled_start_time):!0}).test("scheduling-logic","I campi di programmazione devono essere tutti forniti o tutti nulli",function(t){const e=!!t.scheduled_start_time,n=!!t.scheduled_end_time,r=!!t.scheduled_machine_id;return e&&n&&r||!e&&!n&&!r}),Q8=Yo({startDate:Jt,startTime:Jt,endDate:Jt,endTime:Jt}).test("date-logic","End date cannot be before start date",function(t){return t.startDate&&t.endDate?new Date(t.startDate)<=new Date(t.endDate):!0}).test("time-logic","End time must be after start time when dates are the same",function(t){return t.startDate&&t.endDate&&t.startDate===t.endDate&&t.startTime&&t.endTime?t.startTime<t.endTime:!0}),X8=Yo({email:Jt.email("Please enter a valid email address"),password:Jt.min(6,"Password must be at least 6 characters")}),Z8=Yo({email:Jt.email("Please enter a valid email address"),password:Jt.min(6,"Password must be at least 6 characters"),confirmPassword:kr().required("Please confirm your password")}).test("passwords-match","Passwords must match",function(t){return t.password===t.confirmPassword}),J8=Yo({email:Jt.email("Please enter a valid email address")}),eK=(t,e)=>{try{return e.validateSync(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(n){const r={};return n.inner.forEach(s=>{r[s.path]=s.message}),{isValid:!1,errors:r}}},tK={MACHINE:K8,PHASE:Y8,ORDER:LR,BACKLOG:LR,OFF_TIME:Q8,LOGIN:X8,SIGNUP:Z8,FORGOT_PASSWORD:J8},nK=()=>{const t=C.useCallback((p,m)=>{const b=tK[m];if(!b)throw new Error(`Unknown schema type: ${m}`);return eK(p,b)},[]),e=C.useCallback(p=>t(p,"MACHINE"),[t]),n=C.useCallback(p=>t(p,"PHASE"),[t]),r=C.useCallback(p=>t(p,"ORDER"),[t]),s=C.useCallback(p=>t(p,"OFF_TIME"),[t]),i=C.useCallback((p,m)=>t(p,m),[t]),o=C.useCallback((p,m)=>{const b={};return m.some(w=>w.scheduled_machine_id===p)&&(b.general="Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),{isValid:Object.keys(b).length===0,errors:b}},[]),a=C.useCallback(p=>{const m={};return p?(p.quantity_completed>0&&(m.general="Cannot delete order that has started production"),p.scheduled_machine_id&&(m.general="Cannot delete scheduled order. Please unschedule first."),{isValid:Object.keys(m).length===0,errors:m}):(m.general="Order is required",{isValid:!1,errors:m})},[]),c=C.useCallback((p,m,b,y)=>{const w={};return p?m?!b||!y?(w.general="Start and end times are required",{isValid:!1,errors:w}):(m.status!=="ACTIVE"&&(w.general=`Machine ${m.machine_name} is not active`),p.scheduled_machine_id&&p.scheduled_machine_id!==m.id&&(w.general="Order is already scheduled on a different machine"),p.fase||(w.general="Order must have a production phase selected"),(!p.quantity||p.quantity<=0)&&(w.general="Order must have a valid quantity"),(!p.duration||p.duration<=0)&&(w.general="Order must have calculated duration"),{isValid:Object.keys(w).length===0,errors:w}):(w.general="Machine is required",{isValid:!1,errors:w}):(w.general="Order is required",{isValid:!1,errors:w})},[]),d=C.useCallback((p,m)=>{const b={};if(!p)return b.general="Please select a production phase",{isValid:!1,errors:b};m.department&&p.department!==m.department&&(b.general=`Selected phase is for ${p.department} department, but order is for ${m.department}`),m.work_center&&p.work_center!==m.work_center&&(b.general=`Selected phase is for ${p.work_center} work center, but order is for ${m.work_center}`);const y=n(p);return y.isValid||Object.assign(b,y.errors),{isValid:Object.keys(b).length===0,errors:b}},[n]),f=C.useCallback((p,m)=>{if(p.status!=="ACTIVE")return!1;const b=p.active_shifts||[];if(b.length===0)return!1;const y=m.getUTCHours();return b.some(_=>{switch(_){case"T1":return y>=6&&y<14;case"T2":return y>=14&&y<22;case"T3":return y>=22||y<6;default:return!1}})},[]),h=C.useCallback(p=>({name:p?.machine_name||"Unknown Machine",type:p?.machine_type||"Unknown Type",department:p?.department||"Unknown Department",workCenter:p?.work_center||"Unknown Work Center",status:p?.status||"UNKNOWN",isActive:p?.status==="ACTIVE"}),[]);return{validate:t,validateMachine:e,validatePhase:n,validateOrder:r,validateOffTime:s,validateAuth:i,validateMachineDeletion:o,validateOrderDeletion:a,validateOrderScheduling:c,validatePhaseSelection:d,isMachineAvailable:f,getMachineDisplayInfo:h}},rK=(t,e,n=null)=>{const{phases:r}=lM(),[s,i]=C.useState(""),[o,a]=C.useState(!1),[c,d]=C.useState(null),[f,h]=C.useState({}),p=C.useRef(null),m=C.useMemo(()=>!r||r.length===0?[]:t||e?r.filter(k=>(!t||k.department===t)&&(!e||k.work_center===e)).filter(k=>k.name.toLowerCase().includes(s.toLowerCase())):[],[s,t,e,r]);C.useEffect(()=>{if(n&&r&&r.length>0&&!c){const T=r.find(k=>k.id===n);T&&(d(T),i(T.name),h({v_stampa:T.v_stampa||null,t_setup_stampa:T.t_setup_stampa||null,costo_h_stampa:T.costo_h_stampa||null,v_conf:T.v_conf||null,t_setup_conf:T.t_setup_conf||null,costo_h_conf:T.costo_h_conf||null}))}},[n,r,c]),C.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const b=C.useCallback((T,k)=>{const A=k===""?null:parseFloat(k);h(I=>({...I,[T]:A}))},[]),y=C.useCallback((T,k,A)=>{k("fase",T.id),d(T),i(T.name),a(!1),A("fase"),h({v_stampa:T.v_stampa||null,t_setup_stampa:T.t_setup_stampa||null,costo_h_stampa:T.costo_h_stampa||null,v_conf:T.v_conf||null,t_setup_conf:T.t_setup_conf||null,costo_h_conf:T.costo_h_conf||null})},[]),w=C.useCallback(()=>{i(""),d(null),h({})},[]),_=C.useCallback(()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>a(!1),150)},[]);return C.useMemo(()=>({phaseSearch:s,setPhaseSearch:i,isDropdownVisible:o,setIsDropdownVisible:a,selectedPhase:c,setSelectedPhase:d,filteredPhases:m,editablePhaseParams:f,setEditablePhaseParams:h,handlePhaseParamChange:b,handlePhaseSelect:y,resetPhaseData:w,handleBlur:_,blurTimeoutRef:p}),[s,o,c,m,f,h,b,y,w,_])};function sK(t,e){const n=dB(e),r=new Set;if(n===0||n===6){for(let a=0;a<24;a++)r.add(a.toString());return Array.from(r)}for(let a=0;a<24;a++)r.add(a.toString());const{work_center:s,department:i,active_shifts:o=[]}=t;return o.forEach(a=>{if(a==="T3"){r.clear();return}if(a==="T2")for(let c=6;c<22;c++)r.delete(c.toString());if(a==="T1"){if(s===mt.BUSTO_GAROLFO){for(let c=8;c<12;c++)r.delete(c.toString());for(let c=14;c<18;c++)r.delete(c.toString())}else if(s===mt.ZANICA)if(i===Zt.PACKAGING){for(let c=8;c<12;c++)r.delete(c.toString());for(let c=13;c<17;c++)r.delete(c.toString())}else{for(let c=8;c<12;c++)r.delete(c.toString());for(let c=13;c<17;c++)r.delete(c.toString())}}}),Array.from(r).sort((a,c)=>parseInt(a)-parseInt(c))}function iK(t,e){const n=[],r=uD(new Date(e,0,1)),s=f$(new Date(e,11,31));for(const i of t){let o=new Date(r);for(;!fB(o,s);){const a=sK(i,o);a.length>0&&n.push({machine_id:i.id,date:kn(o,"yyyy-MM-dd"),unavailable_hours:a}),o=xd(o,1)}}return n}const ht={machines:["machines"],machine:t=>["machines",t],machinesByWorkCenter:t=>["machines","workCenter",t],orders:["orders"],order:t=>["orders",t],phases:["phases"],phase:t=>["phases",t],machineAvailability:(t,e,n)=>["machineAvailability",t,e,n],machineAvailabilityForDate:(t,e)=>["machineAvailability",t,"date",e],machineAvailabilityForDateAllMachines:t=>["machineAvailability","allMachines",t]},Ap=()=>cs({queryKey:ht.machines,queryFn:()=>St.getMachines(),staleTime:120*1e3}),oK=t=>cs({queryKey:ht.machinesByWorkCenter(t),queryFn:()=>St.getMachines().then(e=>t===mt.BOTH?e:e.filter(n=>n.work_center===t)),staleTime:120*1e3}),aK=()=>{const t=Vt();return nr({mutationFn:async e=>{const n=await St.addMachine(e);try{const r=new Date().getUTCFullYear(),s=iK([n],r);s.length>0&&await St.bulkUpsertMachineAvailability(s),Ka(`Machine "${n?.machine_name||"Unknown"}" added and calendar set successfully`)}catch(r){xu(`Machine added, but failed to set calendar: ${r.message}`)}return n},onSuccess:e=>{t.invalidateQueries({queryKey:ht.machines}),t.invalidateQueries({queryKey:ht.machinesByWorkCenter()}),t.setQueryData(ht.machines,n=>n?[...n,e]:[e])}})},lK=()=>{const t=Vt();return nr({mutationFn:({id:e,updates:n})=>St.updateMachine(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:ht.machines}),t.invalidateQueries({queryKey:ht.machinesByWorkCenter()}),t.setQueryData(ht.machines,r=>r?.map(s=>s.id===n?{...s,...e}:s)),t.setQueryData(ht.machine(n),e),Ka(`Machine "${e?.machine_name||"Unknown"}" updated successfully`)}})},cK=()=>{const t=Vt();return nr({mutationFn:async e=>{const n=await St.getMachines().then(r=>r.find(s=>s.id===e));return await St.removeMachine(e),n},onSuccess:e=>{t.invalidateQueries({queryKey:ht.machines}),t.invalidateQueries({queryKey:ht.machinesByWorkCenter()}),t.setQueryData(ht.machines,n=>n?.filter(r=>r.id!==e.id)),t.removeQueries({queryKey:ht.machine(e.id)}),Ka(`Machine "${e?.machine_name||"Unknown"}" deleted successfully`)}})},kp=()=>cs({queryKey:ht.orders,queryFn:()=>St.getOdpOrders(),staleTime:60*1e3}),uK=t=>cs({queryKey:ht.order(t),queryFn:async()=>{try{return await St.getOdpOrder(t)}catch{const r=(await St.getOdpOrders()).find(s=>s.id===t);if(!r)throw new Error(`Order with id ${t} not found`);return r}},enabled:!!t,staleTime:60*1e3}),dK=()=>{const t=Vt();return nr({mutationFn:e=>St.addOdpOrder(e),onSuccess:e=>{t.invalidateQueries({queryKey:ht.orders}),t.setQueryData(ht.orders,n=>n?[e,...n]:[e])}})},fK=()=>{const t=Vt();return nr({mutationFn:({id:e,updates:n})=>St.updateOdpOrder(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:ht.orders}),t.setQueryData(ht.orders,r=>r?.map(s=>s.id===n?{...s,...e}:s)),t.setQueryData(ht.order(n),e)}})},hK=()=>{const t=Vt();return nr({mutationFn:e=>St.removeOdpOrder(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:ht.orders}),t.setQueryData(ht.orders,r=>r?.filter(s=>s.id!==n)),t.removeQueries({queryKey:ht.order(n)})}})},E0=()=>cs({queryKey:ht.phases,queryFn:()=>St.getPhases(),staleTime:300*1e3}),gK=t=>cs({queryKey:ht.phase(t),queryFn:()=>St.getPhases().then(e=>e.find(n=>n.id===t)),enabled:!!t,staleTime:300*1e3}),pK=()=>{const t=Vt();return nr({mutationFn:e=>St.addPhase(e),onSuccess:e=>{t.invalidateQueries({queryKey:ht.phases}),t.setQueryData(ht.phases,n=>n?[...n,e]:[e])}})},mK=()=>{const t=Vt();return nr({mutationFn:({id:e,updates:n})=>St.updatePhase(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:ht.phases}),t.setQueryData(ht.phases,r=>r?.map(s=>s.id===n?{...s,...e}:s)),t.setQueryData(ht.phase(n),e)}})},vK=()=>{const t=Vt();return nr({mutationFn:e=>St.removePhase(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:ht.phases}),t.setQueryData(ht.phases,r=>r?.filter(s=>s.id!==n)),t.removeQueries({queryKey:ht.phase(n)})}})},qie=t=>cs({queryKey:ht.machineAvailabilityForDateAllMachines(t),queryFn:()=>St.getMachineAvailabilityForDateAllMachines(t),enabled:!!t,staleTime:30*1e3}),yK=li((t,e)=>({phases:[],getPhases:()=>e().phases,getPhaseById:n=>e().phases.find(r=>r.id===n),setPhases:n=>t({phases:n||[]}),cleanupDuplicatePhases:()=>{const n=e(),r=[],s=new Set;n.phases.forEach(i=>{s.has(i.id)||(s.add(i.id),r.push(i))}),t({phases:r})},reset:()=>t({phases:[]})})),bK=()=>{const{data:t,isLoading:e,error:n}=Ap(),{data:r,isLoading:s,error:i}=kp(),{data:o,isLoading:a,error:c}=E0(),{setMachines:d}=Mu(),{setOdpOrders:f}=dr(),{setPhases:h}=yK();return C.useEffect(()=>{t&&!e&&!n&&d(t)},[t,e,n,d]),C.useEffect(()=>{r&&!s&&!i&&f(r)},[r,s,i,f]),C.useEffect(()=>{o&&!a&&!c&&h(o)},[o,a,c,h]),{isLoading:e||s||a,errors:{machines:n,orders:i,phases:c}}};function wK(){const{selectedWorkCenter:t,showConfirmDialog:e}=Bn(),n=fi(),{data:r=[],isLoading:s,error:i}=oK(t),o=cK(),{handleAsync:a}=gi("MachineryListPage");if(i)return S.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle macchine: ",i.message]});const c=C.useMemo(()=>[{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Stato",accessorKey:"status"},{header:"Larghezza Min (mm)",accessorKey:"min_web_width"},{header:"Larghezza Max (mm)",accessorKey:"max_web_width"},{header:"Altezza Min (mm)",accessorKey:"min_bag_height"},{header:"Altezza Max (mm)",accessorKey:"max_bag_height"},{header:"Velocità Std",accessorKey:"standard_speed"},{header:"Setup (h)",accessorKey:"setup_time_standard"},{header:"Cambio Colore (h)",accessorKey:"changeover_color"},{header:"Cambio Materiale (h)",accessorKey:"changeover_material"},{header:"Turni Attivi",accessorKey:"active_shifts",cell:h=>Array.isArray(h.getValue())?h.getValue().join(", "):""},{header:"Calendario",accessorKey:"id",cell:h=>S.jsx(sn,{to:`/machinery/${h.getValue()}/calendar`,className:"inline-flex items-center px-1 py-1 border border-gray-300 rounded shadow-sm text-[10px] font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Visualizza Calendario"})}],[]),d=h=>{n(`/machinery/${h.id}/edit`)},f=async h=>{e("Elimina Macchina",`Sei sicuro di voler eliminare "${h.machine_name}"? Questa azione non può essere annullata.`,async()=>{await a(async()=>{await o.mutateAsync(h.id)},{context:"Delete Machine",fallbackMessage:"Eliminazione macchina fallita"})},"danger")};return s?S.jsx("div",{children:"Caricamento dati macchine..."}):t?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Macchine"}),S.jsx(sn,{to:"/machinery/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Macchina"})]}),S.jsx(v0,{columns:c,data:r,onEditRow:d,onDeleteRow:f,enableGlobalSearch:!1})]}):S.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle macchine."})}const is={validationSchema:"MACHINE",addButtonText:"Aggiungi Macchina",editButtonText:"Aggiorna Macchina",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Machine",editContext:"Update Machine",addErrorMessage:"Aggiunta macchina fallita",editErrorMessage:"Aggiornamento macchina fallita",sections:[{title:"Identificazione",fields:[{name:"department",label:"Department",type:"select",required:!0,options:[{value:Zt.PRINTING,label:Zt.PRINTING},{value:Zt.PACKAGING,label:Zt.PACKAGING}],defaultValue:$t.MACHINE.DEPARTMENT,validation:{required:"Department is required"}},{name:"machine_type",label:"Machine Type",type:"select",required:!0,placeholder:"Seleziona tipo macchina",options:[],conditional:t=>t===Zt.PRINTING||t===Zt.PACKAGING,validation:{required:"Machine type is required"}},{name:"machine_name",label:"Machine Name",type:"text",required:!0,placeholder:"Nome descrittivo",validation:{required:"Machine name is required",minLength:{value:2,message:"Machine name must be at least 2 characters"},maxLength:{value:100,message:"Machine name must be at most 100 characters"},pattern:{value:/^[a-zA-Z0-9\s\-_]+$/,message:"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"}}},{name:"work_center",label:"Work Center",type:"select",required:!0,placeholder:"Seleziona un centro di lavoro",options:[{value:mt.ZANICA,label:mt.ZANICA},{value:mt.BUSTO_GAROLFO,label:mt.BUSTO_GAROLFO}],defaultValue:$t.MACHINE.WORK_CENTER,helpText:"Il centro di lavoro è pre-impostato.",validation:{required:"Work center is required"}}]},{title:"Capacità Tecniche",fields:[{name:"min_web_width",label:"Min Web Width (mm)",type:"number",required:!0,defaultValue:$t.MACHINE.MIN_WEB_WIDTH,validation:{required:"Min web width is required",min:{value:1,message:"Min web width must be at least 1"}}},{name:"max_web_width",label:"Max Web Width (mm)",type:"number",required:!0,defaultValue:$t.MACHINE.MAX_WEB_WIDTH,validation:{required:"Max web width is required",min:{value:1,message:"Max web width must be at least 1"}}},{name:"min_bag_height",label:"Min Bag Height (mm)",type:"number",required:!0,defaultValue:$t.MACHINE.MIN_BAG_HEIGHT,validation:{required:"Min bag height is required",min:{value:1,message:"Min bag height must be at least 1"}}},{name:"max_bag_height",label:"Max Bag Height (mm)",type:"number",required:!0,defaultValue:$t.MACHINE.MAX_BAG_HEIGHT,validation:{required:"Max bag height is required",min:{value:1,message:"Max bag height must be at least 1"}}}]},{title:"Performance",fields:[{name:"standard_speed",label:"Standard Speed",type:"number",required:!0,placeholder:"pz/h o mt/h",validation:{required:"Standard speed is required",min:{value:1,message:"Standard speed must be at least 1"}}},{name:"setup_time_standard",label:"Setup Time Standard (h)",type:"number",required:!0,defaultValue:$t.MACHINE.SETUP_TIME_STANDARD,validation:{required:"Setup time is required",min:{value:0,message:"Setup time must be at least 0"}}},{name:"changeover_color",label:"Changeover Color (h)",type:"number",required:!0,defaultValue:$t.MACHINE.CHANGEOVER_COLOR,conditional:(t,e,n)=>n("department")===Zt.PRINTING,validation:{required:"Changeover color time is required",min:{value:0,message:"Changeover color time must be at least 0"}}},{name:"changeover_material",label:"Material Changeover (h)",type:"number",required:!0,defaultValue:$t.MACHINE.CHANGEOVER_MATERIAL,conditional:(t,e,n)=>n("department")===Zt.PACKAGING,validation:{required:"Changeover material time is required",min:{value:0,message:"Changeover material time must be at least 0"}}}]},{title:"Disponibilità",fields:[{name:"active_shifts",label:"Active Shifts",type:"checkbox",required:!1,defaultValue:$t.MACHINE.ACTIVE_SHIFTS,options:[{value:El.T1,label:El.T1},{value:El.T2,label:El.T2},{value:El.T3,label:El.T3}]},{name:"status",label:"Status",type:"select",required:!0,defaultValue:$t.MACHINE.STATUS,options:[{value:Pi.ACTIVE,label:Pi.ACTIVE},{value:Pi.INACTIVE,label:Pi.INACTIVE}],validation:{required:"Status is required"}}]}]},Xs={validationSchema:"PHASE",addButtonText:"Aggiungi Fase",editButtonText:"Aggiorna Fase",addLoadingText:"Aggiunta Fase...",editLoadingText:"Aggiornamento Fase...",addContext:"Add Phase",editContext:"Update Phase",addErrorMessage:"Aggiunta fase fallita",editErrorMessage:"Aggiornamento fase fallita",sections:[{title:"Informazioni Fase",fields:[{name:"name",label:"Nome Fase",type:"text",required:!0,placeholder:"es. Stampa Alta Velocità"},{name:"department",label:"Tipo Fase",type:"select",required:!0,options:[{value:Zt.PRINTING,label:Zt.PRINTING},{value:Zt.PACKAGING,label:Zt.PACKAGING}],defaultValue:$t.PHASE.DEPARTMENT},{name:"numero_persone",label:"Numero di Persone Richieste",type:"number",required:!0,defaultValue:$t.PHASE.NUMERO_PERSONE},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,options:[{value:mt.ZANICA,label:mt.ZANICA},{value:mt.BUSTO_GAROLFO,label:mt.BUSTO_GAROLFO}],defaultValue:$t.PHASE.WORK_CENTER,helpText:"Il centro di lavoro è impostato in base alla tua selezione di accesso"}]},{title:"Parametri Stampa",fields:[{name:"v_stampa",label:"Velocità Stampa (mt/h)",type:"number",required:!0,defaultValue:$t.PHASE.V_STAMPA,conditional:(t,e,n)=>n("department")===Zt.PRINTING},{name:"t_setup_stampa",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:$t.PHASE.T_SETUP_STAMPA,conditional:(t,e,n)=>n("department")===Zt.PRINTING},{name:"costo_h_stampa",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:$t.PHASE.COSTO_H_STAMPA,conditional:(t,e,n)=>n("department")===Zt.PRINTING}]},{title:"Parametri Confezionamento",fields:[{name:"v_conf",label:"Velocità Confezionamento (pz/h)",type:"number",required:!0,defaultValue:$t.PHASE.V_CONF,conditional:(t,e,n)=>n("department")===Zt.PACKAGING},{name:"t_setup_conf",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:$t.PHASE.T_SETUP_CONF,conditional:(t,e,n)=>n("department")===Zt.PACKAGING},{name:"costo_h_conf",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:$t.PHASE.COSTO_H_CONF,conditional:(t,e,n)=>n("department")===Zt.PACKAGING}]},{title:"Descrizione Fase",fields:[{name:"contenuto_fase",label:"Descrizione Contenuto Fase",type:"textarea",required:!0,placeholder:"Descrivi il contenuto della fase e i requisiti...",rows:3}],gridCols:"grid-cols-1"}]},_K={validationSchema:"ORDER",addButtonText:"Aggiungi al Backlog",editButtonText:"Aggiorna Ordine",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Order",editContext:"Update Order",addErrorMessage:"Aggiunta ordine fallita",editErrorMessage:"Aggiornamento ordine fallito",sections:[{title:"Identificazione",fields:[{name:"odp_number",label:"Numero ODP",type:"text",required:!0,placeholder:"Inserisci numero ODP"},{name:"article_code",label:"Codice Articolo",type:"article_code",required:!0,placeholder:"Inserisci codice articolo"},{name:"production_lot",label:"Codice Articolo Esterno",type:"text",required:!0,placeholder:"Inserisci codice articolo esterno"},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,placeholder:"Seleziona centro di lavoro",options:[{value:mt.ZANICA,label:mt.ZANICA},{value:mt.BUSTO_GAROLFO,label:mt.BUSTO_GAROLFO}],conditional:(t,e,n)=>!0},{name:"nome_cliente",label:"Nome Cliente",type:"text",required:!0,placeholder:"Inserisci nome cliente"}]},{title:"Specifiche Tecniche",fields:[{name:"bag_height",label:"Altezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci altezza busta"},{name:"bag_width",label:"Larghezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci larghezza busta"},{name:"bag_step",label:"Passo Busta (mm)",type:"number",required:!1,placeholder:"Inserisci passo busta"},{name:"seal_sides",label:"Lati Sigillatura",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:"3",label:"3"},{value:"4",label:"4"}],defaultValue:$t.ORDER.SEAL_SIDES},{name:"product_type",label:"Tipo Prodotto",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:xl.CREMA,label:xl.CREMA},{value:xl.LIQUIDO,label:xl.LIQUIDO},{value:xl.POLVERI,label:xl.POLVERI}]},{name:"quantity",label:"Quantità",type:"number",required:!0,placeholder:"Inserisci quantità"},{name:"quantity_completed",label:"Q.tà Completata",type:"number",required:!0,defaultValue:$t.ORDER.QUANTITY_COMPLETED}]},{title:"Dati Commerciali",fields:[{name:"internal_customer_code",label:"Lotto FLEXI",type:"text",required:!0,placeholder:"Inserisci lotto FLEXI"},{name:"external_customer_code",label:"Lotto Cliente",type:"text",required:!0,placeholder:"Inserisci lotto cliente"},{name:"customer_order_ref",label:"Riferimento Cliente",type:"text",required:!0,placeholder:"Inserisci riferimento cliente"},{name:"user_notes",label:"Note Libere",type:"textarea",required:!1,placeholder:"Inserisci note libere per l'ordine...",rows:3},{name:"asd_notes",label:"Note ASD",type:"textarea",required:!1,placeholder:"Inserisci note ASD per l'ordine...",rows:3}],gridCols:"grid-cols-2 md:grid-cols-3"},{title:"Dati Lavorazione & Pianificazione",fields:[{name:"department",label:"Reparto",type:"text",required:!0,readOnly:!0,className:"bg-gray-50"},{name:"phase_search",label:"Cerca Fase di Produzione",type:"phase_search",required:!0},{name:"delivery_date",label:"Data di Consegna",type:"datetime-local",required:!0}]},{title:"Disponibilità Materiali",fields:[{name:"material_availability_global",label:"Disponibilità Materiale Globale (%)",type:"number",required:!1,placeholder:"Inserisci percentuale disponibilità (0-100)",min:0,max:100}]}],customFields:{phase_parameters:{type:"phase_parameters",label:"Parametri Fase Selezionata"},calculation_results:{type:"calculation_results",label:"Risultati Calcolo Produzione"}},customValidation:t=>{const e={};return{isValid:Object.keys(e).length===0,errors:e}}},Ey={validationSchema:"OFF_TIME",addButtonText:"Imposta Non Disponibilità",editButtonText:"Aggiorna Non Disponibilità",addLoadingText:"Impostazione...",editLoadingText:"Aggiornamento...",addContext:"Set Machine Unavailability",editContext:"Update Machine Unavailability",addErrorMessage:"Impostazione indisponibilità macchina fallita",editErrorMessage:"Aggiornamento indisponibilità macchina fallita",sections:[{title:"Periodo di Non Disponibilità",fields:[{name:"startDate",label:"Data Inizio",type:"date",required:!0,defaultValue:""},{name:"startTime",label:"Ora Inizio",type:"time",required:!0,defaultValue:$t.OFF_TIME.START_TIME},{name:"endDate",label:"Data Fine",type:"date",required:!0,defaultValue:""},{name:"endTime",label:"Ora Fine",type:"time",required:!0,defaultValue:$t.OFF_TIME.END_TIME}]}],customValidation:t=>{const e={};if(t.startDate&&t.endDate){const n=new Date(t.startDate);new Date(t.endDate)<n&&(e.endDate=NE.END_DATE_BEFORE_START),t.startDate===t.endDate&&t.startTime&&t.endTime&&t.startTime>=t.endTime&&(e.endTime=NE.END_TIME_BEFORE_START)}return{isValid:Object.keys(e).length===0,errors:e}}};function SK({machineToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Bn(),{getValidMachineTypes:r}=RM(),s=aK(),i=lK(),o=!!t,a=C.useMemo(()=>{const h={...is};return h.sections[0].fields[1].options=[...r("STAMPA").map(p=>({value:p,label:p})),...r("CONFEZIONAMENTO").map(p=>({value:p,label:p}))],h.sections[0].fields[1].placeholder="Seleziona tipo macchina",n!==mt.BOTH&&(h.sections[0].fields[3].disabled=!0,h.sections[0].fields[3].defaultValue=n,h.sections[0].fields[3].helpText="Il centro di lavoro è pre-impostato."),h},[r,n]),c=C.useMemo(()=>({department:t?.department||is.sections[0].fields[0].defaultValue,machine_type:t?.machine_type||"",machine_name:t?.machine_name||"",work_center:t?.work_center||(n===mt.BOTH?is.sections[0].fields[3].defaultValue:n),min_web_width:t?.min_web_width||is.sections[1].fields[0].defaultValue,max_web_width:t?.max_web_width||is.sections[1].fields[1].defaultValue,min_bag_height:t?.min_bag_height||is.sections[1].fields[2].defaultValue,max_bag_height:t?.max_bag_height||is.sections[1].fields[3].defaultValue,standard_speed:t?.standard_speed||"",setup_time_standard:t?.setup_time_standard||is.sections[2].fields[1].defaultValue,changeover_color:t?.changeover_color||is.sections[2].fields[2].defaultValue,changeover_material:t?.changeover_material||is.sections[2].fields[3].defaultValue,active_shifts:t?.active_shifts||is.sections[3].fields[0].defaultValue,status:t?.status||is.sections[3].fields[1].defaultValue}),[n,t]),d=async h=>{o?await i.mutateAsync({id:t.id,updates:h}):await s.mutateAsync(h),e&&e()},f=s.isPending||i.isPending;return S.jsx(Sp,{config:a,initialData:c,onSubmit:d,onSuccess:e,isEditMode:o,isLoading:f})}function xK({title:t,children:e}){return S.jsx("div",{className:"sticky top-0 z-10 bg-background border-b border-border px-2 py-3 mb-2",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("div",{className:"flex items-center",children:t&&S.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:t})}),e]})})}function UR(){const{id:t}=op(),e=fi(),{getMachineById:n}=xp(),{selectedWorkCenter:r}=Bn(),{isLoading:s,isInitialized:i,init:o,cleanup:a}=Ko(),c=!!t,d=c?n(t):null;return C.useEffect(()=>(i||o(),()=>{a()}),[o,i,a]),C.useEffect(()=>{c&&!s&&!d&&e("/machinery",{replace:!0})},[c,s,d,e]),s?S.jsx("div",{children:"Caricamento..."}):c&&!d?S.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Macchina non trovata."}):r?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:c?`Modifica Macchina: ${d?.machine_name}`:"Aggiungi Nuova Macchina"}),c&&S.jsx(sn,{to:`/machinery/${t}/calendar`,className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Visualizza Calendario"})]}),S.jsx(SK,{machineToEdit:d})]}):S.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le macchine."})}function EK({machineId:t,currentDate:e,onSuccess:n}){const{setMachineUnavailability:r}=Od(),{showAlert:s}=Bn(),i=C.useMemo(()=>{const a=new Date,c=xd(a,1);return{startDate:kn(a,"yyyy-MM-dd"),endDate:kn(c,"yyyy-MM-dd"),startTime:Ey.sections[0].fields[1].defaultValue,endTime:Ey.sections[0].fields[3].defaultValue}},[e]),o=async a=>{await r(t,a.startDate,a.endDate,a.startTime,a.endTime),s("Indisponibilità macchina impostata con successo!","success"),n&&n()};return S.jsx(Sp,{config:Ey,initialData:i,onSubmit:o,onSuccess:n,className:"p-1 bg-white rounded-lg shadow-sm border"})}var Dp,$e,zM,HM,ic,Aa,$R,VM,WM,Og={},qM=[],CK=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ko(t,e){for(var n in e)t[n]=e[n];return t}function GM(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,n){var r,s,i,o={};for(i in e)i=="key"?r=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?Dp.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return rg(t,o,r,s,null)}function rg(t,e,n,r,s){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++zM};return s==null&&$e.vnode!=null&&$e.vnode(i),i}function hr(){return{current:null}}function Ot(t){return t.children}function RK(t,e,n,r,s){var i;for(i in n)i==="children"||i==="key"||i in e||Ig(t,i,null,n[i],r);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===e[i]||Ig(t,i,e[i],n[i],r)}function BR(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||CK.test(e)?n:n+"px"}function Ig(t,e,n,r,s){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||BR(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||BR(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?HR:zR,i):t.removeEventListener(e,i?HR:zR,i);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function zR(t){ic=!0;try{return this.l[t.type+!1]($e.event?$e.event(t):t)}finally{ic=!1}}function HR(t){ic=!0;try{return this.l[t.type+!0]($e.event?$e.event(t):t)}finally{ic=!1}}function qr(t,e){this.props=t,this.context=e}function sd(t,e){if(e==null)return t.__?sd(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?sd(t):null}function KM(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return KM(t)}}function TK(t){ic?setTimeout(t):VM(t)}function Xb(t){(!t.__d&&(t.__d=!0)&&Aa.push(t)&&!Mg.__r++||$R!==$e.debounceRendering)&&(($R=$e.debounceRendering)||TK)(Mg)}function Mg(){var t,e,n,r,s,i,o,a;for(Aa.sort(function(c,d){return c.__v.__b-d.__v.__b});t=Aa.shift();)t.__d&&(e=Aa.length,r=void 0,s=void 0,o=(i=(n=t).__v).__e,(a=n.__P)&&(r=[],(s=ko({},i)).__v=i.__v+1,C0(a,i,s,n.__n,a.ownerSVGElement!==void 0,i.__h!=null?[o]:null,r,o??sd(i),i.__h),JM(r,i),i.__e!=o&&KM(i)),Aa.length>e&&Aa.sort(function(c,d){return c.__v.__b-d.__v.__b}));Mg.__r=0}function YM(t,e,n,r,s,i,o,a,c,d){var f,h,p,m,b,y,w,_=r&&r.__k||qM,E=_.length;for(n.__k=[],f=0;f<e.length;f++)if((m=n.__k[f]=(m=e[f])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?rg(null,m,null,null,m):Array.isArray(m)?rg(Ot,{children:m},null,null,null):m.__b>0?rg(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(p=_[f])===null||p&&m.key==p.key&&m.type===p.type)_[f]=void 0;else for(h=0;h<E;h++){if((p=_[h])&&m.key==p.key&&m.type===p.type){_[h]=void 0;break}p=null}C0(t,m,p=p||Og,s,i,o,a,c,d),b=m.__e,(h=m.ref)&&p.ref!=h&&(w||(w=[]),p.ref&&w.push(p.ref,null,m),w.push(h,m.__c||b,m)),b!=null?(y==null&&(y=b),typeof m.type=="function"&&m.__k===p.__k?m.__d=c=QM(m,c,t):c=XM(t,m,p,_,b,c),typeof n.type=="function"&&(n.__d=c)):c&&p.__e==c&&c.parentNode!=t&&(c=sd(p))}for(n.__e=y,f=E;f--;)_[f]!=null&&(typeof n.type=="function"&&_[f].__e!=null&&_[f].__e==n.__d&&(n.__d=ZM(r).nextSibling),tN(_[f],_[f]));if(w)for(f=0;f<w.length;f++)eN(w[f],w[++f],w[++f])}function QM(t,e,n){for(var r,s=t.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=t,e=typeof r.type=="function"?QM(r,e,n):XM(n,r,r,s,r.__e,e));return e}function Ng(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Ng(n,e)}):e.push(t)),e}function XM(t,e,n,r,s,i){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||s!=i||s.parentNode==null)e:if(i==null||i.parentNode!==t)t.appendChild(s),o=null;else{for(a=i,c=0;(a=a.nextSibling)&&c<r.length;c+=1)if(a==s)break e;t.insertBefore(s,i),o=i}return o!==void 0?o:s.nextSibling}function ZM(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=ZM(n)))return r}return null}function C0(t,e,n,r,s,i,o,a,c){var d,f,h,p,m,b,y,w,_,E,T,k,A,I,M,D=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,i=[a]),(d=$e.__b)&&d(e);try{e:if(typeof D=="function"){if(w=e.props,_=(d=D.contextType)&&r[d.__c],E=d?_?_.props.value:d.__:r,n.__c?y=(f=e.__c=n.__c).__=f.__E:("prototype"in D&&D.prototype.render?e.__c=f=new D(w,E):(e.__c=f=new qr(w,E),f.constructor=D,f.render=kK),_&&_.sub(f),f.props=w,f.state||(f.state={}),f.context=E,f.__n=r,h=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),D.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ko({},f.__s)),ko(f.__s,D.getDerivedStateFromProps(w,f.__s))),p=f.props,m=f.state,f.__v=e,h)D.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(D.getDerivedStateFromProps==null&&w!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(w,E),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(w,f.__s,E)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(f.props=w,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(P){P&&(P.__=e)}),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(w,f.__s,E),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,m,b)})}if(f.context=E,f.props=w,f.__P=t,k=$e.__r,A=0,"prototype"in D&&D.prototype.render){for(f.state=f.__s,f.__d=!1,k&&k(e),d=f.render(f.props,f.state,f.context),I=0;I<f._sb.length;I++)f.__h.push(f._sb[I]);f._sb=[]}else do f.__d=!1,k&&k(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++A<25);f.state=f.__s,f.getChildContext!=null&&(r=ko(ko({},r),f.getChildContext())),h||f.getSnapshotBeforeUpdate==null||(b=f.getSnapshotBeforeUpdate(p,m)),M=d!=null&&d.type===Ot&&d.key==null?d.props.children:d,YM(t,Array.isArray(M)?M:[M],e,n,r,s,i,o,a,c),f.base=e.__e,e.__h=null,f.__h.length&&o.push(f),y&&(f.__E=f.__=null),f.__e=!1}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=AK(n.__e,e,n,r,s,i,o,c);(d=$e.diffed)&&d(e)}catch(P){e.__v=null,(c||i!=null)&&(e.__e=a,e.__h=!!c,i[i.indexOf(a)]=null),$e.__e(P,e,n)}}function JM(t,e){$e.__c&&$e.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){$e.__e(r,n.__v)}})}function AK(t,e,n,r,s,i,o,a){var c,d,f,h=n.props,p=e.props,m=e.type,b=0;if(m==="svg"&&(s=!0),i!=null){for(;b<i.length;b++)if((c=i[b])&&"setAttribute"in c==!!m&&(m?c.localName===m:c.nodeType===3)){t=c,i[b]=null;break}}if(t==null){if(m===null)return document.createTextNode(p);t=s?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,p.is&&p),i=null,a=!1}if(m===null)h===p||a&&t.data===p||(t.data=p);else{if(i=i&&Dp.call(t.childNodes),d=(h=n.props||Og).dangerouslySetInnerHTML,f=p.dangerouslySetInnerHTML,!a){if(i!=null)for(h={},b=0;b<t.attributes.length;b++)h[t.attributes[b].name]=t.attributes[b].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(RK(t,p,h,s,a),f)e.__k=[];else if(b=e.props.children,YM(t,Array.isArray(b)?b:[b],e,n,r,s&&m!=="foreignObject",i,o,i?i[0]:n.__k&&sd(n,0),a),i!=null)for(b=i.length;b--;)i[b]!=null&&GM(i[b]);a||("value"in p&&(b=p.value)!==void 0&&(b!==t.value||m==="progress"&&!b||m==="option"&&b!==h.value)&&Ig(t,"value",b,h.value,!1),"checked"in p&&(b=p.checked)!==void 0&&b!==t.checked&&Ig(t,"checked",b,h.checked,!1))}return t}function eN(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){$e.__e(r,n)}}function tN(t,e,n){var r,s;if($e.unmount&&$e.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||eN(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){$e.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&tN(r[s],e,n||typeof t.type!="function");n||t.__e==null||GM(t.__e),t.__=t.__e=t.__d=void 0}function kK(t,e,n){return this.constructor(t,n)}function id(t,e,n){var r,s,i;$e.__&&$e.__(t,e),s=(r=!1)?null:e.__k,i=[],C0(e,t=e.__k=L(Ot,null,[t]),s||Og,Og,e.ownerSVGElement!==void 0,s?null:e.firstChild?Dp.call(e.childNodes):null,i,s?s.__e:e.firstChild,r),JM(i,t)}function DK(t,e){var n={__c:e="__cC"+WM++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,Xb(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Dp=qM.slice,$e={__e:function(t,e,n,r){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},zM=0,HM=function(t){return t!=null&&t.constructor===void 0},ic=!1,qr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ko({},this.state),typeof t=="function"&&(t=t(ko({},n),this.props)),t&&ko(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Xb(this))},qr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Xb(this))},qr.prototype.render=Ot,Aa=[],VM=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Mg.__r=0,WM=0;var si,Cy,VR,nN=[],Ry=[],WR=$e.__b,qR=$e.__r,GR=$e.diffed,KR=$e.__c,YR=$e.unmount;function OK(){for(var t;t=nN.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(sg),t.__H.__h.forEach(Zb),t.__H.__h=[]}catch(e){t.__H.__h=[],$e.__e(e,t.__v)}}$e.__b=function(t){si=null,WR&&WR(t)},$e.__r=function(t){qR&&qR(t);var e=(si=t.__c).__H;e&&(Cy===si?(e.__h=[],si.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Ry,n.__N=n.i=void 0})):(e.__h.forEach(sg),e.__h.forEach(Zb),e.__h=[])),Cy=si},$e.diffed=function(t){GR&&GR(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(nN.push(e)!==1&&VR===$e.requestAnimationFrame||((VR=$e.requestAnimationFrame)||IK)(OK)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Ry&&(n.__=n.__V),n.i=void 0,n.__V=Ry})),Cy=si=null},$e.__c=function(t,e){e.some(function(n){try{n.__h.forEach(sg),n.__h=n.__h.filter(function(r){return!r.__||Zb(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],$e.__e(r,n.__v)}}),KR&&KR(t,e)},$e.unmount=function(t){YR&&YR(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{sg(r)}catch(s){e=s}}),n.__H=void 0,e&&$e.__e(e,n.__v))};var QR=typeof requestAnimationFrame=="function";function IK(t){var e,n=function(){clearTimeout(r),QR&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);QR&&(e=requestAnimationFrame(n))}function sg(t){var e=si,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),si=e}function Zb(t){var e=si;t.__c=t.__(),si=e}function MK(t,e){for(var n in e)t[n]=e[n];return t}function XR(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function ZR(t){this.props=t}(ZR.prototype=new qr).isPureReactComponent=!0,ZR.prototype.shouldComponentUpdate=function(t,e){return XR(this.props,t)||XR(this.state,e)};var JR=$e.__b;$e.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),JR&&JR(t)};var NK=$e.__e;$e.__e=function(t,e,n,r){if(t.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}NK(t,e,n,r)};var eT=$e.unmount;function rN(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=MK({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return rN(r,e,n)})),t}function sN(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return sN(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Ty(){this.__u=0,this.t=null,this.__b=null}function iN(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Ah(){this.u=null,this.o=null}$e.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),eT&&eT(t)},(Ty.prototype=new qr).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=iN(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=sN(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.t.pop();)f.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Ty.prototype.componentWillUnmount=function(){this.t=[]},Ty.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=rN(this.__b,n,r.__O=r.__P)}this.__b=null}var s=e.__a&&L(Ot,null,t.fallback);return s&&(s.__h=null),[L(Ot,null,e.__a?null:t.children),s]};var tT=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function PK(t){return this.getChildContext=function(){return t.context},t.children}function jK(t){var e=this,n=t.i;e.componentWillUnmount=function(){id(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),id(L(PK,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function FK(t,e){var n=L(jK,{__v:t,i:e});return n.containerInfo=e,n}(Ah.prototype=new qr).__a=function(t){var e=this,n=iN(e.__v),r=e.o.get(t);return r[0]++,function(s){var i=function(){e.props.revealOrder?(r.push(s),tT(e,t,r)):s()};n?n(i):i()}},Ah.prototype.render=function(t){this.u=null,this.o=new Map;var e=Ng(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Ah.prototype.componentDidUpdate=Ah.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){tT(t,n,e)})};var LK=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,UK=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$K=typeof document<"u",BK=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};qr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(qr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var nT=$e.event;function zK(){}function HK(){return this.cancelBubble}function VK(){return this.defaultPrevented}$e.event=function(t){return nT&&(t=nT(t)),t.persist=zK,t.isPropagationStopped=HK,t.isDefaultPrevented=VK,t.nativeEvent=t};var rT={configurable:!0,get:function(){return this.class}},sT=$e.vnode;$e.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var i in r={},n){var o=n[i];$K&&i==="children"&&e==="noscript"||i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!BK(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():s&&UK.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Ng(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Ng(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(rT.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",rT))}t.$$typeof=LK,sT&&sT(t)};var iT=$e.__r;$e.__r=function(t){iT&&iT(t),t.__c};const oN=[],Jb=new Map;function Op(t){oN.push(t),Jb.forEach(e=>{lN(e,t)})}function WK(t){t.isConnected&&t.getRootNode&&aN(t.getRootNode())}function aN(t){let e=Jb.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=GK();n&&(e.nonce=n);const r=t===document?document.head:t,s=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,s)}Jb.set(t,e),qK(e)}}function qK(t){for(const e of oN)lN(t,e)}function lN(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((s,i)=>{s=s.trim(),s&&n.insertRule(s+"}",r+i)})}let Ay;function GK(){return Ay===void 0&&(Ay=KK()),Ay}function KK(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&aN(document);var YK=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Op(YK);class R0{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function T0(t){t.parentNode&&t.parentNode.removeChild(t)}function sr(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(QK(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function QK(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function XK(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let s=0;s<n.length;s+=1){let i=n[s].querySelectorAll(e);for(let o=0;o<i.length;o+=1)r.push(i[o])}return r}const ZK=/(top|left|right|bottom|width|height)$/i;function Pu(t,e){for(let n in e)cN(t,n,e[n])}function cN(t,e,n){n==null?t.style[e]="":typeof n=="number"&&ZK.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function uN(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let oT=0;function jo(){return oT+=1,"fc-dom-"+oT}function Ip(t){t.preventDefault()}function JK(t,e){return n=>{let r=sr(n.target,t);r&&e.call(r,n,r)}}function dN(t,e,n,r){let s=JK(n,r);return t.addEventListener(e,s),()=>{t.removeEventListener(e,s)}}function eY(t,e,n,r){let s;return dN(t,"mouseover",e,(i,o)=>{if(o!==s){s=o,n(i,o);let a=c=>{s=null,r(c,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const aT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function tY(t,e){let n=r=>{e(r),aT.forEach(s=>{t.removeEventListener(s,n)})};aT.forEach(r=>{t.addEventListener(r,n)})}function fN(t){return Object.assign({onClick:t},hN(t))}function hN(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let lT=0;function Xa(){return lT+=1,String(lT)}function A0(){document.body.classList.add("fc-not-allowed")}function k0(){document.body.classList.remove("fc-not-allowed")}function nY(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Ip)}function rY(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Ip)}function sY(t){t.addEventListener("contextmenu",Ip)}function iY(t){t.removeEventListener("contextmenu",Ip)}function oY(t){let e=[],n=[],r,s;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)s=n[r],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function aY(t,e,n){let r,s;for(r=0;r<n.length;r+=1)if(s=lY(t,e,n[r]),s)return s;return 0}function lY(t,e,n){return n.func?n.func(t,e):cY(t[n.field],e[n.field])*(n.order||1)}function cY(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Xl(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function ju(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,s,i)=>r.replace("$"+i,s||""),t):n}function uY(t,e){return t-e}function ig(t){return t%1===0}function dY(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const cT=["years","months","days","milliseconds"],fY=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function lt(t,e){return typeof t=="string"?hY(t):typeof t=="object"&&t?uT(t):typeof t=="number"?uT({[e||"milliseconds"]:t}):null}function hY(t){let e=fY.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function uT(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function gY(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function ew(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function pY(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function mY(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function vY(t){return Zl(t)/365}function yY(t){return Zl(t)/30}function Zl(t){return Is(t)/864e5}function Is(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function D0(t,e){let n=null;for(let r=0;r<cT.length;r+=1){let s=cT[r];if(e[s]){let i=t[s]/e[s];if(!ig(i)||n!==null&&n!==i)return null;n=i}else if(t[s])return null}return n}function tw(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function zo(t,e,n){if(t===e)return!0;let r=t.length,s;if(r!==e.length)return!1;for(s=0;s<r;s+=1)if(!(n?n(t[s],e[s]):t[s]===e[s]))return!1;return!0}const bY=["sun","mon","tue","wed","thu","fri","sat"];function dT(t,e){let n=Do(t);return n[2]+=e*7,Mr(n)}function bn(t,e){let n=Do(t);return n[2]+=e,Mr(n)}function Ho(t,e){let n=Do(t);return n[6]+=e,Mr(n)}function wY(t,e){return Qo(t,e)/7}function Qo(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function _Y(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function SY(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function xY(t,e){return(e.valueOf()-t.valueOf())/1e3}function EY(t,e){let n=Mt(t),r=Mt(e);return{years:0,months:0,days:Math.round(Qo(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function CY(t,e){let n=Pg(t,e);return n!==null&&n%7===0?n/7:null}function Pg(t,e){return Oo(t)===Oo(e)?Math.round(Qo(t,e)):null}function Mt(t){return Mr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function RY(t){return Mr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function TY(t){return Mr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function AY(t){return Mr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function kY(t,e,n){let r=t.getUTCFullYear(),s=ky(t,r,e,n);if(s<1)return ky(t,r-1,e,n);let i=ky(t,r+1,e,n);return i>=1?Math.min(s,i):s}function ky(t,e,n,r){let s=Mr([e,0,1+DY(e,n,r)]),i=Mt(t),o=Math.round(Qo(s,i));return Math.floor(o/7)+1}function DY(t,e,n){let r=7+e-n;return-((7+Mr([t,0,r]).getUTCDay()-e)%7)+r-1}function fT(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function hT(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Do(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Mr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function gN(t){return!isNaN(t.valueOf())}function Oo(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function pN(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",O0(e,!0)))),r}function Md(t){return t.toISOString().replace(/T.*$/,"")}function OY(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function IY(t){return Xl(t.getUTCHours(),2)+":"+Xl(t.getUTCMinutes(),2)+":"+Xl(t.getUTCSeconds(),2)}function O0(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=Math.round(r%60);return e?`${n+Xl(s,2)}:${Xl(i,2)}`:`GMT${n}${s}${i?`:${Xl(i,2)}`:""}`}function je(t,e,n){let r,s;return function(...i){if(!r)s=t.apply(this,i);else if(!zo(r,i)){let o=t.apply(this,i);(!e||!e(o,s))&&(s=o)}return r=i,s}}function og(t,e,n){let r,s;return i=>(r?$s(r,i)||(s=t.call(this,i)):s=t.call(this,i),r=i,s)}const Dy={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},jg={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},kh=/\s*([ap])\.?m\.?/i,MY=/,/g,NY=/\s+/g,PY=/\u200e/g,jY=/UTC|GMT/;class FY{constructor(e){let n={},r={},s=9;for(let i in e)i in Dy?(r[i]=e[i],Dy[i]<9&&(s=Math.min(Dy[i],s))):(n[i]=e[i],i in jg&&(s=Math.min(jg[i],s)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=s,this.buildFormattingFunc=je(gT)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,s){let{standardDateProps:i,extendedSettings:o}=this,a=HY(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let c=a;c>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(c=1);let d=this.format(e,r),f=this.format(n,r);if(d===f)return d;let h=VY(i,c),p=gT(h,o,r),m=p(e),b=p(n),y=WY(d,m,f,b),w=o.separator||s||r.defaultSeparator||"";return y?y.before+m+w+b+y.after:d+w+f}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function gT(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?s=>O0(s.timeZoneOffset):r===0&&e.week?s=>zY(n.computeWeekNumber(s.marker),n.weekText,n.weekTextLong,n.locale,e.week):LY(t,e,n)}function LY(t,e,n){t=Object.assign({},t),e=Object.assign({},e),UY(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),s;if(e.omitZeroMinute){let i=Object.assign({},t);delete i.minute,s=new Intl.DateTimeFormat(n.locale.codes,i)}return i=>{let{marker:o}=i,a;s&&!o.getUTCMinutes()?a=s:a=r;let c=a.format(o);return $Y(c,i,t,e,n)}}function UY(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function $Y(t,e,n,r,s){return t=t.replace(PY,""),n.timeZoneName==="short"&&(t=BY(t,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":O0(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(MY,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(kh,"").trim():r.meridiem==="narrow"?t=t.replace(kh,(i,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(kh,(i,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(kh,i=>i.toLocaleLowerCase())),t=t.replace(NY," "),t=t.trim(),t}function BY(t,e){let n=!1;return t=t.replace(jY,()=>(n=!0,e)),n||(t+=` ${e}`),t}function zY(t,e,n,r,s){let i=[];return s==="long"?i.push(n):(s==="short"||s==="narrow")&&i.push(e),(s==="long"||s==="short")&&i.push(" "),i.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&i.reverse(),i.join("")}function HY(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Oo(t)!==Oo(e)?1:0}function VY(t,e){let n={};for(let r in t)(!(r in jg)||jg[r]<=e)&&(n[r]=t[r]);return n}function WY(t,e,n,r){let s=0;for(;s<t.length;){let i=t.indexOf(e,s);if(i===-1)break;let o=t.substr(0,i);s=i+e.length;let a=t.substr(s),c=0;for(;c<n.length;){let d=n.indexOf(r,c);if(d===-1)break;let f=n.substr(0,d);c=d+r.length;let h=n.substr(c);if(o===f&&a===h)return{before:o,after:a}}}return null}function pT(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Fg(t,e,n,r){let s=pT(t,n.calendarSystem),i=e?pT(e,n.calendarSystem):null;return{date:s,start:s,end:i,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class qY{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Fg(e,null,n,r))}formatRange(e,n,r,s){return r.cmdFormatter(this.cmdStr,Fg(e,n,r,s))}}class GY{constructor(e){this.func=e}format(e,n,r){return this.func(Fg(e,null,n,r))}formatRange(e,n,r,s){return this.func(Fg(e,n,r,s))}}function Bt(t){return typeof t=="object"&&t?new FY(t):typeof t=="string"?new qY(t):typeof t=="function"?new GY(t):null}const mT={navLinkDayClick:te,navLinkWeekClick:te,duration:lt,bootstrapFontAwesome:te,buttonIcons:te,customButtons:te,defaultAllDayEventDuration:lt,defaultTimedEventDuration:lt,nextDayThreshold:lt,scrollTime:lt,scrollTimeReset:Boolean,slotMinTime:lt,slotMaxTime:lt,dayPopoverFormat:Bt,slotDuration:lt,snapDuration:lt,headerToolbar:te,footerToolbar:te,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Bt,dayHeaderClassNames:te,dayHeaderContent:te,dayHeaderDidMount:te,dayHeaderWillUnmount:te,dayCellClassNames:te,dayCellContent:te,dayCellDidMount:te,dayCellWillUnmount:te,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:te,weekNumbers:Boolean,weekNumberClassNames:te,weekNumberContent:te,weekNumberDidMount:te,weekNumberWillUnmount:te,editable:Boolean,viewClassNames:te,viewDidMount:te,viewWillUnmount:te,nowIndicator:Boolean,nowIndicatorSnap:te,nowIndicatorClassNames:te,nowIndicatorContent:te,nowIndicatorDidMount:te,nowIndicatorWillUnmount:te,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:te,locale:te,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:te,eventOrder:oY,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:te,contentHeight:te,direction:String,weekNumberFormat:Bt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:te,initialDate:te,now:te,eventDataTransform:te,stickyHeaderDates:te,stickyFooterScrollbar:te,viewHeight:te,defaultAllDay:Boolean,eventSourceFailure:te,eventSourceSuccess:te,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:te,eventConstraint:te,eventAllow:te,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:te,eventContent:te,eventDidMount:te,eventWillUnmount:te,selectConstraint:te,selectOverlap:te,selectAllow:te,droppable:Boolean,unselectCancel:String,slotLabelFormat:te,slotLaneClassNames:te,slotLaneContent:te,slotLaneDidMount:te,slotLaneWillUnmount:te,slotLabelClassNames:te,slotLabelContent:te,slotLabelDidMount:te,slotLabelWillUnmount:te,dayMaxEvents:te,dayMaxEventRows:te,dayMinWidth:Number,slotLabelInterval:lt,allDayText:String,allDayClassNames:te,allDayContent:te,allDayDidMount:te,allDayWillUnmount:te,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Bt,rerenderDelay:Number,moreLinkText:te,moreLinkHint:te,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:te,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:lt,hiddenDays:te,fixedWeekCount:Boolean,validRange:te,visibleRange:te,titleFormat:te,eventInteractive:Boolean,noEventsText:String,viewHint:te,navLinkHint:te,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:te,moreLinkClassNames:te,moreLinkContent:te,moreLinkDidMount:te,moreLinkWillUnmount:te,monthStartFormat:Bt,handleCustomRendering:te,customRenderingMetaMap:te,customRenderingReplaces:Boolean},Fu={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},vT={datesSet:te,eventsSet:te,eventAdd:te,eventChange:te,eventRemove:te,windowResize:te,eventClick:te,eventMouseEnter:te,eventMouseLeave:te,select:te,unselect:te,loading:te,_unmount:te,_beforeprint:te,_afterprint:te,_noEventDrop:te,_noEventResize:te,_resize:te,_scrollRequest:te},yT={buttonText:te,buttonHints:te,views:te,plugins:te,initialEvents:te,events:te,eventSources:te},_a={headerToolbar:Sa,footerToolbar:Sa,buttonText:Sa,buttonHints:Sa,buttonIcons:Sa,dateIncrement:Sa,plugins:Dh,events:Dh,eventSources:Dh,resources:Dh};function Sa(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?$s(t,e):t===e}function Dh(t,e){return Array.isArray(t)&&Array.isArray(e)?zo(t,e):t===e}const KY={type:String,component:te,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:te,usesMinMaxTime:Boolean,classNames:te,content:te,didMount:te,willUnmount:te};function Oy(t){return M0(t,_a)}function I0(t,e){let n={},r={};for(let s in e)s in t&&(n[s]=e[s](t[s]));for(let s in t)s in e||(r[s]=t[s]);return{refined:n,extra:r}}function te(t){return t}const{hasOwnProperty:Lg}=Object.prototype;function M0(t,e){let n={};if(e){for(let r in e)if(e[r]===Sa){let s=[];for(let i=t.length-1;i>=0;i-=1){let o=t[i][r];if(typeof o=="object"&&o)s.unshift(o);else if(o!==void 0){n[r]=o;break}}s.length&&(n[r]=M0(s))}}for(let r=t.length-1;r>=0;r-=1){let s=t[r];for(let i in s)i in n||(n[i]=s[i])}return n}function za(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function qi(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function mN(t){let e={};for(let n of t)e[n]=!0;return e}function N0(t){let e=[];for(let n in t)e.push(t[n]);return e}function $s(t,e){if(t===e)return!0;for(let n in t)if(Lg.call(t,n)&&!(n in e))return!1;for(let n in e)if(Lg.call(e,n)&&t[n]!==e[n])return!1;return!0}const YY=/^on[A-Z]/;function QY(t,e){const n=XY(t,e);for(let r of n)if(!YY.test(r))return!1;return!0}function XY(t,e){let n=[];for(let r in t)Lg.call(t,r)&&(r in e||n.push(r));for(let r in e)Lg.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Iy(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&ZY(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function ZY(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function JY(t,e=0,n,r=1){let s=[];n==null&&(n=Object.keys(t).length);for(let i=e;i<n;i+=r){let o=t[i];o!==void 0&&s.push(o)}return s}let vN={};function e9(t,e){vN[t]=e}function t9(t){return new vN[t]}class n9{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Mr(e)}markerToArray(e){return Do(e)}}e9("gregory",n9);const r9=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function s9(t){let e=r9.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(gN(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class i9{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=t9(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Mr(fT(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Mr(e)),n===null||!gN(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=s9(e);if(n===null)return null;let{marker:r}=n,s=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):s=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Oo(e)===Oo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Oo(e)===Oo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=CY(e,n),r!==null?{unit:"week",value:r}:(r=Pg(e,n),r!==null?{unit:"day",value:r}:(r=_Y(e,n),ig(r)?{unit:"hour",value:r}:(r=SY(e,n),ig(r)?{unit:"minute",value:r}:(r=xY(e,n),ig(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let s;return r.years&&(s=this.diffWholeYears(e,n),s!==null)?s/vY(r):r.months&&(s=this.diffWholeMonths(e,n),s!==null)?s/yY(r):r.days&&(s=Pg(e,n),s!==null)?s/Zl(r):(n.valueOf()-e.valueOf())/Is(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Mt(e):n==="hour"?RY(e):n==="minute"?TY(e):n==="second"?AY(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):kY(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,s={}){return s.isEndExclusive&&(n=Ho(n,-1)),r.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(n)},this,s.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),pN(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Mr(fT(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Mr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-hT(Do(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Do(e)):null}toDate(e,n){return this.timeZone==="local"?hT(Do(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Do(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Nd{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Nd.prototype.classes={};Nd.prototype.iconClasses={};Nd.prototype.baseIconClass="";Nd.prototype.iconOverridePrefix="";function Ug(t){t();let e=$e.debounceRendering,n=[];function r(s){n.push(s)}for($e.debounceRendering=r,id(L(o9,{}),document.createElement("div"));n.length;)n.shift()();$e.debounceRendering=e}class o9 extends qr{render(){return L("div",{})}componentDidMount(){this.setState({})}}function yN(t){let e=DK(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,s=n.apply(this,arguments);if(r){let i=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&i.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{i.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{i.splice(i.indexOf(o),1),a&&a.call(o)}}}return s},e}class a9{constructor(e,n,r,s){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=s,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Yi=yN({});function l9(t,e,n,r,s,i,o,a,c,d,f,h,p,m){return{dateEnv:s,nowManager:i,options:n,pluginHooks:a,emitter:f,dispatch:c,getCurrentData:d,calendarApi:h,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler(b){f.on("_resize",b)},removeResizeHandler(b){f.off("_resize",b)},createScrollResponder(b){return new a9(b,f,lt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:p,unregisterInteractiveComponent:m}}class Za extends qr{shouldComponentUpdate(e,n){return!Iy(this.props,e,this.propEquality)||!Iy(this.state,n,this.stateEquality)}safeSetState(e){Iy(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Za.addPropsEquality=c9;Za.addStateEquality=u9;Za.contextType=Yi;Za.prototype.propEquality={};Za.prototype.stateEquality={};class bt extends Za{}bt.contextType=Yi;function c9(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function u9(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function di(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class P0 extends bt{constructor(){super(...arguments),this.id=Xa(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!nw(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&di(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:s,defaultGenerator:i,renderProps:o}=e,a=bN(e,[],this.handleEl);let c=!1,d,f=[],h;if(s!=null){const p=typeof s=="function"?s(o,L):s;if(p===!0)c=!0;else{const m=p&&typeof p=="object";m&&"html"in p?a.dangerouslySetInnerHTML={__html:p.html}:m&&"domNodes"in p?f=Array.prototype.slice.call(p.domNodes):(m?HM(p):typeof p!="function")?d=p:h=p}}else c=!nw(e.generatorName,r);return c&&i&&(d=i(o)),this.queuedDomNodes=f,this.currentGeneratorMeta=h,L(e.elTag,a,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:s}=this,{handleCustomRendering:i,customRenderingMetaMap:o}=s.options;if(i){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o?.[r.generatorName];a&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(d9)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!zo(e,n)){n.forEach(T0);for(let s of e)r.appendChild(s);this.currentDomNodes=e}}}P0.addPropsEquality({elClasses:zo,elStyle:$s,elAttrs:QY,renderProps:$s});function nw(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function bN(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function d9(t){return!!t}const wN=yN(0);class or extends qr{constructor(){super(...arguments),this.InnerContent=f9.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(di(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=h9(e.classNameGenerator,e.renderProps);if(e.children){const r=bN(e,n,this.handleEl),s=e.children(this.InnerContent,e.renderProps,r);return e.elTag?L(e.elTag,r,s):s}else return L(P0,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}or.contextType=wN;function f9(t,e){const n=t.props;return L(P0,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function h9(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class od extends bt{render(){let{props:e,context:n}=this,{options:r}=n,s={view:n.viewApi};return L(or,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[..._N(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:s,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function _N(t){return[`fc-${t.type}-view`,"fc-view"]}function g9(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function bT(t,e){let n=[],{start:r}=e,s,i;for(t.sort(p9),s=0;s<t.length;s+=1)i=t[s],i.start>r&&n.push({start:r,end:i.start}),i.end>r&&(r=i.end);return r<e.end&&n.push({start:r,end:e.end}),n}function p9(t,e){return t.start.valueOf()-e.start.valueOf()}function Vo(t,e){let{start:n,end:r}=t,s=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(s={start:n,end:r}),s}function m9(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function j0(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Mp(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Bi(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function v9(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function SN(t){let e=Math.floor(Qo(t.start,t.end))||1,n=Mt(t.start),r=bn(n,e);return{start:n,end:r}}function F0(t,e=lt(0)){let n=null,r=null;if(t.end){r=Mt(t.end);let s=t.end.valueOf()-r.valueOf();s&&s>=Is(e)&&(r=bn(r,1))}return t.start&&(n=Mt(t.start),r&&r<=n&&(r=bn(n,1))),{start:n,end:r}}function y9(t){let e=F0(t);return Qo(e.start,e.end)>1}function Wl(t,e,n,r){return r==="year"?lt(n.diffWholeYears(t,e),"year"):r==="month"?lt(n.diffWholeMonths(t,e),"month"):EY(t,e)}class xN{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:s}=this.props,i=s.subtract(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,r)}buildNext(e,n,r){let{dateEnv:s}=this.props,i=s.add(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,r)}build(e,n,r=!0){let{props:s}=this,i,o,a,c,d,f;return i=this.buildValidRange(),i=this.trimHiddenDays(i),r&&(e=v9(e,i)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),c=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),c=this.trimHiddenDays(c),d=c,s.showNonCurrentDates||(d=Vo(d,o.range)),d=this.adjustActiveRange(d),d=Vo(d,i),f=j0(o.range,i),Bi(c,e)||(e=c.start),{currentDate:e,validRange:i,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:d,renderRange:c,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:f,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,s=null,i=null,o=null,a;return r.duration?(s=r.duration,i=r.durationUnit,o=this.buildRangeFromDuration(e,n,s,i)):(a=this.props.dayCount)?(i="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?i=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=this.getFallbackDuration(),i=tw(s).unit,o=this.buildRangeFromDuration(e,n,s,i)),{duration:s,unit:i,range:o}}getFallbackDuration(){return lt({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:s,slotMaxTime:i}=this.props,{start:o,end:a}=e;return r&&(Zl(s)<0&&(o=Mt(o),o=n.add(o,s)),Zl(i)>1&&(a=Mt(a),a=bn(a,-1),a=n.add(a,i))),{start:o,end:a}}buildRangeFromDuration(e,n,r,s){let{dateEnv:i,dateAlignment:o}=this.props,a,c,d;if(!o){let{dateIncrement:h}=this.props;h&&Is(h)<Is(r)?o=tw(h).unit:o=s}Zl(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=Mt(a));function f(){a=i.startOf(e,o),c=i.add(a,r),d={start:a,end:c}}return f(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),f()),d}buildRangeFromDayCount(e,n,r){let{dateEnv:s,dateAlignment:i}=this.props,o=0,a=e,c;i&&(a=s.startOf(a,i)),a=Mt(a),a=this.skipHiddenDays(a,n),c=a;do c=bn(c,1),this.isHiddenDay(c)||(o+=1);while(o<r);return{start:a,end:c}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,s=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,i=this.refineRange(s);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?lt(1,r):e||lt({days:1}))}refineRange(e){if(e){let n=g9(e,this.props.dateEnv);return n&&(n=F0(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(n[s]=e.indexOf(s)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=bn(e,n);return e}}function L0(t,e,n,r){return{instanceId:Xa(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function b9(t,e,n,r){for(let s=0;s<r.length;s+=1){let i=r[s].parse(t,n);if(i){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=i.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:i.duration,typeData:i.typeData,typeId:s}}}return null}function Ha(t,e,n){let{dateEnv:r,pluginHooks:s,options:i}=n,{defs:o,instances:a}=t;a=za(a,c=>!o[c.defId].recurringDef);for(let c in o){let d=o[c];if(d.recurringDef){let{duration:f}=d.recurringDef;f||(f=d.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let h=w9(d,f,e,r,s.recurringTypes);for(let p of h){let m=L0(c,{start:p,end:r.add(p,f)});a[m.instanceId]=m}}}return{defs:o,instances:a}}function w9(t,e,n,r,s){let o=s[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(Mt)),o}const ag={id:String,groupId:String,title:String,url:String,interactive:Boolean},EN={start:te,end:te,date:te,allDay:Boolean},_9=Object.assign(Object.assign(Object.assign({},ag),EN),{extendedProps:te});function CN(t,e,n,r,s=U0(n),i,o){let{refined:a,extra:c}=RN(t,n,s),d=x9(e,n),f=b9(a,d,n.dateEnv,n.pluginHooks.recurringTypes);if(f){let p=rw(a,c,e?e.sourceId:"",f.allDay,!!f.duration,n,i);return p.recurringDef={typeId:f.typeId,typeData:f.typeData,duration:f.duration},{def:p,instance:null}}let h=S9(a,d,n,r);if(h){let p=rw(a,c,e?e.sourceId:"",h.allDay,h.hasEnd,n,i),m=L0(p.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return o&&p.publicId&&o[p.publicId]&&(m.instanceId=o[p.publicId]),{def:p,instance:m}}return null}function RN(t,e,n=U0(e)){return I0(t,n)}function U0(t){return Object.assign(Object.assign(Object.assign({},$g),_9),t.pluginHooks.eventRefiners)}function rw(t,e,n,r,s,i,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Xa(),sourceId:n,allDay:r,hasEnd:s,interactive:t.interactive,ui:Bg(t,i),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let c of i.pluginHooks.eventDefMemberAdders)Object.assign(a,c(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function S9(t,e,n,r){let{allDay:s}=t,i,o=null,a=!1,c,d=null,f=t.start!=null?t.start:t.date;if(i=n.dateEnv.createMarkerMeta(f),i)o=i.marker;else if(!r)return null;return t.end!=null&&(c=n.dateEnv.createMarkerMeta(t.end)),s==null&&(e!=null?s=e:s=(!i||i.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),s&&o&&(o=Mt(o)),c&&(d=c.marker,s&&(d=Mt(d)),o&&d<=o&&(d=null)),d?a=!0:r||(a=n.options.forceEventDuration||!1,d=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:a,range:{start:o,end:d},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function x9(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function ad(t,e,n,r,s,i){let o=Gr(),a=U0(n);for(let c of t){let d=CN(c,e,n,r,a,s,i);d&&sw(d,o)}return o}function sw(t,e=Gr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function $0(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],s=Np(t,i=>E9(r,i));return s.defs[r.defId]=r,s.instances[n.instanceId]=n,s}return Gr()}function E9(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Gr(){return{defs:{},instances:{}}}function B0(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Np(t,e){let n=za(t.defs,e),r=za(t.instances,s=>n[s.defId]);return{defs:n,instances:r}}function C9(t,e){let{defs:n,instances:r}=t,s={},i={};for(let o in n)e.defs[o]||(s[o]=n[o]);for(let o in r)!e.instances[o]&&s[r[o].defId]&&(i[o]=r[o]);return{defs:s,instances:i}}function R9(t,e){return Array.isArray(t)?ad(t,null,e,!0):typeof t=="object"&&t?ad([t],null,e,!0):t!=null?String(t):null}function wT(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const $g={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:te,overlap:te,allow:te,className:wT,classNames:wT,color:String,backgroundColor:String,borderColor:String,textColor:String},T9={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Bg(t,e){let n=R9(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function TN(t){return t.reduce(A9,T9)}function A9(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const k9={id:String,defaultAllDay:Boolean,url:String,format:String,events:te,eventDataTransform:te,success:te,failure:te};function AN(t,e,n=kN(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:s,extra:i}=I0(r,n),o=D9(s,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Xa(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Bg(s,e),extendedProps:i}}return null}function kN(t){return Object.assign(Object.assign(Object.assign({},$g),k9),t.pluginHooks.eventSourceRefiners)}function D9(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let i=n[r].parseMeta(t);if(i)return{sourceDefId:r,meta:i}}return null}function O9(t,e,n,r,s){switch(e.type){case"RECEIVE_EVENTS":return I9(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return M9(t,n[e.sourceId],e.rawEvents,r.activeRange,s);case"ADD_EVENTS":return N9(t,e.eventStore,r?r.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return B0(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Ha(t,r.activeRange,s):t;case"REMOVE_EVENTS":return C9(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return ON(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Np(t,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return Gr();default:return t}}function I9(t,e,n,r,s,i){if(e&&n===e.latestFetchId){let o=ad(DN(s,e,i),e,i);return r&&(o=Ha(o,r,i)),B0(ON(t,e.sourceId),o)}return t}function M9(t,e,n,r,s){const{defIdMap:i,instanceIdMap:o}=j9(t);let a=ad(DN(n,e,s),e,s,!1,i,o);return Ha(a,r,s)}function DN(t,e,n){let r=n.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(t=_T(t,s)),r&&(t=_T(t,r)),t}function _T(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let s=e(r);s?n.push(s):s==null&&n.push(r)}}return n}function N9(t,e,n,r){return n&&(e=Ha(e,n,r)),B0(t,e)}function ST(t,e,n){let{defs:r}=t,s=qi(t.instances,i=>r[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:n.createMarker(e.toDate(i.range.start,i.forcedStartTzo)),end:n.createMarker(e.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:i.forcedEndTzo}));return{defs:r,instances:s}}function ON(t,e){return Np(t,n=>n.sourceId!==e)}function P9(t,e){return{defs:t.defs,instances:za(t.instances,n=>!e[n.instanceId])}}function j9(t){const{defs:e,instances:n}=t,r={},s={};for(let i in e){const o=e[i],{publicId:a}=o;a&&(r[a]=i)}for(let i in n){const o=n[i],a=e[o.defId],{publicId:c}=a;c&&(s[c]=i)}return{defIdMap:r,instanceIdMap:s}}class Pp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){F9(this.handlers,e,n)}off(e,n){L9(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],s=this.options&&this.options[e],i=[].concat(s||[],r);for(let o of i)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function F9(t,e,n){(t[e]||(t[e]=[])).push(n)}function L9(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const U9={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function $9(t,e){return ad(B9(t),null,e)}function B9(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},U9),n)),e}function IN(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},z0(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function z9(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function z0(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,nQ(t,e.dateEnv)),n}function xT(t,e,n){let{dateEnv:r,options:s}=n,i=e;return t?(i=Mt(i),i=r.add(i,s.defaultAllDayEventDuration)):i=r.add(i,s.defaultTimedEventDuration),i}function H0(t,e,n,r){let s=zg(t.defs,e),i=Gr();for(let o in t.defs){let a=t.defs[o];i.defs[o]=H9(a,s[o],n,r)}for(let o in t.instances){let a=t.instances[o],c=i.defs[a.defId];i.instances[o]=V9(a,c,s[a.defId],n,r)}return i}function H9(t,e,n,r){let s=n.standardProps||{};s.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(s.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},t),s),{ui:Object.assign(Object.assign({},t.ui),s.ui)});n.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(i,n,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function V9(t,e,n,r,s){let{dateEnv:i}=s,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,c=Object.assign({},t);return o&&(c.range=SN(c.range)),r.datesDelta&&n.startEditable&&(c.range={start:i.add(c.range.start,r.datesDelta),end:i.add(c.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(c.range={start:i.add(c.range.start,r.startDelta),end:c.range.end}),r.endDelta&&n.durationEditable&&(c.range={start:c.range.start,end:i.add(c.range.end,r.endDelta)}),a&&(c.range={start:c.range.start,end:xT(e.allDay,c.range.start,s)}),e.allDay&&(c.range={start:Mt(c.range.start),end:Mt(c.range.end)}),c.range.end<c.range.start&&(c.range.end=xT(e.allDay,c.range.start,s)),c}class zl{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Wt{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in EN)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=ag[e](n),this.mutate({standardProps:{publicId:n}});else if(e in ag)n=ag[e](n),this.mutate({standardProps:{[e]:n}});else if(e in $g){let r=$g[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,s=r.createMarker(e);if(s&&this._instance){let i=this._instance.range,o=Wl(i.start,s,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,s;if(!(e!=null&&(s=r.createMarker(e),!s))&&this._instance)if(s){let i=Wl(this._instance.range.end,s,r,n.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:s}=this._context,i={allDay:r.allDay},o=s.createMarker(e),a;if(o&&!(n!=null&&(a=s.createMarker(n),!a))&&this._instance){let c=this._instance.range;r.allDay===!0&&(c=SN(c));let d=Wl(c.start,o,s,r.granularity);if(a){let f=Wl(c.end,a,s,r.granularity);gY(d,f)?this.mutate({datesDelta:d,standardProps:i}):this.mutate({startDelta:d,endDelta:f,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:d,standardProps:i})}}moveStart(e){let n=lt(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=lt(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=lt(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:s}=n;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=s),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,s=Bt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,s,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,s,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,s=this._context,{eventStore:i}=s.getCurrentData(),o=$0(i,n.instanceId);o=H0(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let c=new Wt(s,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:o}),s.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:Pa(o,s,n),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,n=MN(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new zl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:s,endStr:i}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),s&&(o.start=s),i&&(o.end=i),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function MN(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Pa(t,e,n){let{defs:r,instances:s}=t,i=[],o=n?n.instanceId:"";for(let a in s){let c=s[a],d=r[c.defId];c.instanceId!==o&&i.push(new Wt(e,d,c))}return i}function iw(t,e,n,r){let s={},i={},o={},a=[],c=[],d=zg(t.defs,e);for(let f in t.defs){let h=t.defs[f];d[h.defId].display==="inverse-background"&&(h.groupId?(s[h.groupId]=[],o[h.groupId]||(o[h.groupId]=h)):i[f]=[])}for(let f in t.instances){let h=t.instances[f],p=t.defs[h.defId],m=d[p.defId],b=h.range,y=!p.allDay&&r?F0(b,r):b,w=Vo(y,n);w&&(m.display==="inverse-background"?p.groupId?s[p.groupId].push(w):i[h.defId].push(w):m.display!=="none"&&(m.display==="background"?a:c).push({def:p,ui:m,instance:h,range:w,isStart:y.start&&y.start.valueOf()===w.start.valueOf(),isEnd:y.end&&y.end.valueOf()===w.end.valueOf()}))}for(let f in s){let h=s[f],p=bT(h,n);for(let m of p){let b=o[f],y=d[b.defId];a.push({def:b,ui:y,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let f in i){let h=i[f],p=bT(h,n);for(let m of p)a.push({def:t.defs[f],ui:d[f],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:a,fg:c}}function W9(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function ET(t,e){t.fcSeg=e}function oc(t){return t.fcSeg||t.parentNode.fcSeg||null}function zg(t,e){return qi(t,n=>NN(n,e))}function NN(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),TN(n)}function V0(t,e){let n=t.map(q9);return n.sort((r,s)=>aY(r,s,e)),n.map(r=>r._seg)}function q9(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,s=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:s,end:i,duration:i-s,allDay:Number(n.allDay),_seg:t})}function G9(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:s,ui:i}=t.eventRange,o=i.startEditable;for(let a of r)o=a(o,s,i,e);return o}function K9(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Y9(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Lu(t,e,n,r,s,i,o){let{dateEnv:a,options:c}=n,{displayEventTime:d,displayEventEnd:f}=c,h=t.eventRange.def,p=t.eventRange.instance;d==null&&(d=r!==!1),f==null&&(f=s!==!1);let m=p.range.start,b=p.range.end,y=i||t.start||t.eventRange.range.start,w=o||t.end||t.eventRange.range.end,_=Mt(m).valueOf()===Mt(y).valueOf(),E=Mt(Ho(b,-1)).valueOf()===Mt(Ho(w,-1)).valueOf();return d&&!h.allDay&&(_||E)?(y=_?m:y,w=E?b:w,f&&h.hasEnd?a.formatRange(y,w,e,{forcedStartTzo:i?null:p.forcedStartTzo,forcedEndTzo:o?null:p.forcedEndTzo}):a.format(y,e,{forcedTzo:i?null:p.forcedStartTzo})):""}function zi(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&Bi(e,r.start)}}function Q9(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function PN(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function W0(t,e){let{def:n,instance:r}=t.eventRange,{url:s}=n;if(s)return{href:s};let{emitter:i,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!i.hasHandlers("eventClick"))),a?hN(c=>{i.trigger("eventClick",{el:c.target,event:new Wt(e,n,r),jsEvent:c,view:e.viewApi})}):{}}const X9={start:te,end:te,allDay:Boolean};function Z9(t,e,n){let r=J9(t,e),{range:s}=r;if(!s.start)return null;if(!s.end){if(n==null)return null;s.end=e.add(s.start,n)}return r}function J9(t,e){let{refined:n,extra:r}=I0(t,X9),s=n.start?e.createMarkerMeta(n.start):null,i=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=s&&s.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:i?i.marker:null},allDay:o},r)}function eQ(t,e){return m9(t.range,e.range)&&t.allDay===e.allDay&&tQ(t,e)}function tQ(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function nQ(t,e){return Object.assign(Object.assign({},FN(t.range,e,t.allDay)),{allDay:t.allDay})}function jN(t,e,n){return Object.assign(Object.assign({},FN(t,e,n)),{timeZone:e.timeZone})}function FN(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function rQ(t,e,n){let r=RN({editable:!1},n),s=rw(r.refined,r.extra,"",t.allDay,!0,n);return{def:s,ui:NN(s,e),instance:L0(s.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function sQ(t,e,n){let r=!1,s=function(a){r||(r=!0,e(a))},i=function(a){r||(r=!0,n(a))},o=t(s,i);o&&typeof o.then=="function"&&o.then(s,i)}class CT extends Error{constructor(e,n){super(e),this.response=n}}function iQ(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(s=>{if(s.ok)return s.json().then(i=>[i,s],()=>{throw new CT("Failure parsing JSON",s)});throw new CT("Request failed",s)})}let My;function LN(){return My==null&&(My=oQ()),My}function oQ(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class aQ extends bt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Ug(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Ug(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,s=r||n.height==="auto"||n.contentHeight==="auto",i=!s&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return LN()||o.push("fc-liquid-hack"),e.children(o,i,s,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let xc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function lQ(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function q0(t){return{[t.component.uid]:t}}const ow={};class Ja extends qr{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:s}=n.options;s==="auto"&&(s=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let i,o;return s?(i=n.dateEnv.startOf(r,e.unit),o=n.dateEnv.add(i,lt(1,e.unit)).valueOf()-r.valueOf()):(i=r,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:i,todayRange:cQ(i)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Ja.contextType=Yi;function cQ(t){let e=Mt(t),n=bn(e,1);return{start:e,end:n}}class uQ{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),s;n=n||"day",s=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),s=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),i,o;for(let a in n)s.push(a);for(i=0;i<s.length;i+=1)if(o=n[s[i]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=lt(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Bt(n))}formatRange(e,n,r){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(n),Bt(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let s=this.getCurrentData(),i=Z9(r,s.dateEnv,lt({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),IN(i,null,s))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),z9(e,n))}addEvent(e,n){if(e instanceof Wt){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:sw({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),s;if(n instanceof zl)s=n.internalEventSource;else if(typeof n=="boolean")n&&([s]=N0(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;s=o.internalEventSource}let i=CN(e,s,r,!1);if(i){let o=new Wt(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:sw(i)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:MN(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:s}=n.eventStore;e=String(e);for(let i in r){let o=r[i];if(o.publicId===e){if(o.recurringDef)return new Wt(n,o,null);for(let a in s){let c=s[a];if(c.defId===o.defId)return new Wt(n,o,c)}}}return null}getEvents(){let e=this.getCurrentData();return Pa(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let s in n)r.push(new zl(e,n[s]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let s in r)if(r[s].publicId===e)return new zl(n,r[s]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof zl)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=AN(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new zl(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=lt(e);n&&this.trigger("_scrollRequest",{time:n})}}function dQ(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function UN(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function fQ(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function hQ(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function gQ(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Ny=Gr();class pQ{constructor(){this.getKeysForEventDefs=je(this._getKeysForEventDefs),this.splitDateSelection=je(this._splitDateSpan),this.splitEventStore=je(this._splitEventStore),this.splitIndividualUi=je(this._splitIndividualUi),this.splitEventDrag=je(this._splitInteraction),this.splitEventResize=je(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),s=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),a=this.splitEventDrag(e.eventDrag),c=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=qi(n,(f,h)=>this.eventUiBuilders[h]||je(mQ));for(let f in n){let h=n[f],p=o[f]||Ny,m=this.eventUiBuilders[f];d[f]={businessHours:h.businessHours||e.businessHours,dateSelection:s[f]||null,eventStore:p,eventUiBases:m(e.eventUiBases[""],h.ui,i[f]),eventSelection:p.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[f]||null,eventResize:c[f]||null}}return d}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let s of r)n[s]=e}return n}_getKeysForEventDefs(e){return qi(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:s}=e,i={};for(let o in r)for(let a of n[o])i[a]||(i[a]=Gr()),i[a].defs[o]=r[o];for(let o in s){let a=s[o];for(let c of n[a.defId])i[c]&&(i[c].instances[o]=a)}return i}_splitIndividualUi(e,n){let r={};for(let s in e)if(s)for(let i of n[s])r[i]||(r[i]={}),r[i][s]=e[s];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),s=this._getKeysForEventDefs(e.mutatedEvents),i=this._splitEventStore(e.mutatedEvents,s),o=a=>{n[a]||(n[a]={affectedEvents:r[a]||Ny,mutatedEvents:i[a]||Ny,isEvent:e.isEvent})};for(let a in r)o(a);for(let a in i)o(a)}return n}}function mQ(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let s={"":TN(r)};return n&&Object.assign(s,n),s}function G0(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Bi(r.activeRange,t))),isOther:!!(r&&!Bi(r.currentRange,t)),isToday:!!(e&&Bi(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function jp(t,e){let n=["fc-day",`fc-day-${bY[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const vQ=Bt({year:"numeric",month:"long",day:"numeric"}),yQ=Bt({week:"long"});function ac(t,e,n="day",r=!0){const{dateEnv:s,options:i,calendarApi:o}=t;let a=s.format(e,n==="week"?yQ:vQ);if(i.navLinks){let c=s.toDate(e);const d=f=>{let h=n==="day"?i.navLinkDayClick:n==="week"?i.navLinkWeekClick:null;typeof h=="function"?h.call(o,s.toDate(e),f):(typeof h=="string"&&(n=h),o.zoomTo(e,n))};return Object.assign({title:ju(i.navLinkHint,[a,c],a),"data-navlink":""},r?fN(d):{onClick:d})}return{"aria-label":a}}let Py=null;function bQ(){return Py===null&&(Py=wQ()),Py}function wQ(){let t=document.createElement("div");Pu(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return T0(t),n}let jy;function _Q(){return jy||(jy=SQ()),jy}function SQ(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=$N(t);return document.body.removeChild(t),e}function $N(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function xQ(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,s=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=$N(t),c=a.y-r-s,d=a.x-i-o,f={borderLeft:r,borderRight:s,borderTop:i,borderBottom:o,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return bQ()&&n.direction==="rtl"?f.scrollbarLeft=c:f.scrollbarRight=c,e&&(f.paddingLeft=parseInt(n.paddingLeft,10)||0,f.paddingRight=parseInt(n.paddingRight,10)||0,f.paddingTop=parseInt(n.paddingTop,10)||0,f.paddingBottom=parseInt(n.paddingBottom,10)||0),f}function EQ(t,e=!1,n){let r=K0(t),s=xQ(t,e),i={left:r.left+s.borderLeft+s.scrollbarLeft,right:r.right-s.borderRight-s.scrollbarRight,top:r.top+s.borderTop,bottom:r.bottom-s.borderBottom-s.scrollbarBottom};return e&&(i.left+=s.paddingLeft,i.right-=s.paddingRight,i.top+=s.paddingTop,i.bottom-=s.paddingBottom),i}function K0(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function CQ(t){let e=BN(t),n=t.getBoundingClientRect();for(let r of e){let s=UN(n,r.getBoundingClientRect());if(s)n=s;else return null}return n}function BN(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class lc{constructor(e,n,r,s){this.els=n;let i=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(i.left),s&&this.buildElVerticals(i.top)}buildElHorizontals(e){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.left-e),r.push(i.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.top-e),r.push(i.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(e>=n[i]&&e<r[i])return i}topToIndex(e){let{tops:n,bottoms:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(e>=n[i]&&e<r[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Oh(this.tops||[],e.tops||[])&&Oh(this.bottoms||[],e.bottoms||[])&&Oh(this.lefts||[],e.lefts||[])&&Oh(this.rights||[],e.rights||[])}}function Oh(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class Y0{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class RQ extends Y0{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class TQ extends Y0{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Vs extends bt{constructor(){super(...arguments),this.uid=Xa()}prepareHits(){}queryHit(e,n,r,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!sr(e,".fc-event-mirror")}isValidDateDownEl(e){return!sr(e,".fc-event:not(.fc-bg-event)")&&!sr(e,".fc-more-link")&&!sr(e,"a[data-navlink]")&&!sr(e,".fc-popover")}}class zN{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},n),{span:Q0(n.span,e.touchingEntry.span)});r.push(s),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let s=e.span,i=n.span;s.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:i.start}},r),s.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:s.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:s}=this;n.lateral===-1?(Fy(s,n.level,n.levelCoord),Fy(r,n.level,[e])):Fy(r[n.level],n.lateral,e),this.stackCnts[ja(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:s,stackCnts:i}=this,o=n.length,a=0,c=-1,d=-1,f=null,h=0;for(let b=0;b<o;b+=1){const y=n[b];if(!s&&y>=a+this.getEntryThickness(e))break;let w=r[b],_,E=lw(w,e.span.start,aw),T=E[0]+E[1];for(;(_=w[T])&&_.span.start<e.span.end;){let k=y+this.getEntryThickness(_);k>a&&(a=k,f=_,c=b,d=T),k===a&&(h=Math.max(h,i[ja(_)]+1)),T+=1}}let p=0;if(f)for(p=c+1;p<o&&n[p]<a;)p+=1;let m=-1;return p<o&&n[p]===a&&(m=lw(r[p],e.span.end,aw)[0]),{touchingLevel:c,touchingLateral:d,touchingEntry:f,stackCnt:h,levelCoord:a,level:p,lateral:m}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,s=[];for(let i=0;i<r;i+=1){let o=e[i],a=n[i];for(let c of o)s.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:a}))}return s}}function aw(t){return t.span.end}function ja(t){return t.index+":"+t.span.start}function AQ(t){let e=[];for(let n of t){let r=[],s={span:n.span,entries:[n]};for(let i of e)Q0(i.span,s.span)?s={entries:i.entries.concat(s.entries),span:kQ(i.span,s.span)}:r.push(i);r.push(s),e=r}return e}function kQ(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function Q0(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function Fy(t,e,n){t.splice(e,0,n)}function lw(t,e,n){let r=0,s=t.length;if(!s||e<n(t[r]))return[0,0];if(e>n(t[s-1]))return[s,0];for(;r<s;){let i=Math.floor(r+(s-r)/2),o=n(t[i]);if(e<o)s=i;else if(e>o)r=i+1;else return[i,1]}return[r,0]}class DQ{constructor(e,n){this.emitter=new Pp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const X0={};function OQ(t,e){return!t||e>10?Bt({weekday:"short"}):e>1?Bt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Bt({weekday:"long"})}const HN="fc-col-header-cell";function VN(t){return t.text}class IQ extends bt{render(){let{dateEnv:e,options:n,theme:r,viewApi:s}=this.context,{props:i}=this,{date:o,dateProfile:a}=i,c=G0(o,i.todayRange,null,a),d=[HN].concat(jp(c,r)),f=e.format(o,i.dayHeaderFormat),h=!c.isDisabled&&i.colCnt>1?ac(this.context,o):{},p=e.toDate(o);e.namedTimeZoneImpl&&(p=Ho(p,36e5));let m=Object.assign(Object.assign(Object.assign({date:p,view:s},i.extraRenderProps),{text:f}),c);return L(or,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":c.isDisabled?void 0:Md(o)},i.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:VN,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},b=>L("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&L(b,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const MQ=Bt({weekday:"long"});class NQ extends bt{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:s,options:i}=this.context,o=bn(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=n.format(o,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:s}),e.extraRenderProps),{text:c});return L(or,{elTag:"th",elClasses:[HN,...jp(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:VN,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},f=>L("div",{className:"fc-scrollgrid-sync-inner"},L(f,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,MQ)}})))}}class WN extends bt{constructor(){super(...arguments),this.createDayHeaderFormatter=je(PQ)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:s,renderIntro:i}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,n.length);return L(Ja,{unit:"day"},(a,c)=>L("tr",{role:"row"},i&&i("day"),n.map(d=>s?L(IQ,{key:d.toISOString(),date:d,dateProfile:r,todayRange:c,colCnt:n.length,dayHeaderFormat:o}):L(NQ,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:o}))))}}function PQ(t,e,n){return t||OQ(e,n)}class qN{constructor(e,n){let r=e.start,{end:s}=e,i=[],o=[],a=-1;for(;r<s;)n.isHiddenDay(r)?i.push(a+.5):(a+=1,i.push(a),o.push(r)),r=bn(r,1);this.dates=o,this.indices=i,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(bn(e.end,-1)),s=Math.max(0,n),i=Math.min(this.cnt-1,r);return s=Math.ceil(s),i=Math.floor(i),s<=i?{firstIndex:s,lastIndex:i,isStart:n===s,isEnd:r===i}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Qo(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class GN{constructor(e,n){let{dates:r}=e,s,i,o;if(n){for(i=r[0].getUTCDay(),s=1;s<r.length&&r[s].getUTCDay()!==i;s+=1);o=Math.ceil(r.length/s)}else o=1,s=r.length;this.rowCnt=o,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let s=0;s<this.colCnt;s+=1)r.push(this.buildCell(n,s));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),s=[];if(r){let{firstIndex:i,lastIndex:o}=r,a=i;for(;a<=o;){let c=Math.floor(a/n),d=Math.min((c+1)*n,o+1);s.push({row:c,firstCol:a%n,lastCol:(d-1)%n,isStart:r.isStart&&a===i,isEnd:r.isEnd&&d-1===o}),a=d}}return s}}class KN{constructor(){this.sliceBusinessHours=je(this._sliceBusinessHours),this.sliceDateSelection=je(this._sliceDateSpan),this.sliceEventStore=je(this._sliceEventStore),this.sliceEventDrag=je(this._sliceInteraction),this.sliceEventResize=je(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,s,...i){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,s,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,s,...i),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...i),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...i),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,s,...i){return this._sliceDateSpan({range:{start:e,end:Ho(e,1)},allDay:!1},n,r,{},s,...i)}_sliceBusinessHours(e,n,r,s,...i){return e?this._sliceEventStore(Ha(e,Ih(n,!!r),s),{},n,r,...i).bg:[]}_sliceEventStore(e,n,r,s,...i){if(e){let o=iw(e,n,Ih(r,!!s),s);return{bg:this.sliceEventRanges(o.bg,i),fg:this.sliceEventRanges(o.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,s,...i){if(!e)return null;let o=iw(e.mutatedEvents,n,Ih(r,!!s),s);return{segs:this.sliceEventRanges(o.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,s,i,...o){if(!e)return[];let a=Ih(n,!!r),c=Vo(e.range,a);if(c){e=Object.assign(Object.assign({},e),{range:c});let d=rQ(e,s,i),f=this.sliceRange(e.range,...o);for(let h of f)h.eventRange=d;return f}return[]}sliceEventRanges(e,n){let r=[];for(let s of e)r.push(...this.sliceEventRange(s,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:bn(r.start,1)});let s=this.sliceRange(r,...n);for(let i of s)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return s}}function Ih(t,e){let n=t.activeRange;return e?n:{start:Ho(n.start,t.slotMinTime.milliseconds),end:Ho(n.end,t.slotMaxTime.milliseconds-864e5)}}function YN(t,e,n){let{instances:r}=t.mutatedEvents;for(let s in r)if(!Mp(e.validRange,r[s].range))return!1;return QN({eventDrag:t},n)}function jQ(t,e,n){return Mp(e.validRange,t.range)?QN({dateSelection:t},n):!1}function QN(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||FQ)(r,e)}function FQ(t,e,n={},r){return!(t.eventDrag&&!LQ(t,e,n,r)||t.dateSelection&&!UQ(t,e,n,r))}function LQ(t,e,n,r){let s=e.getCurrentData(),i=t.eventDrag,o=i.mutatedEvents,a=o.defs,c=o.instances,d=zg(a,i.isEvent?t.eventUiBases:{"":s.selectionConfig});r&&(d=qi(d,r));let f=P9(t.eventStore,i.affectedEvents.instances),h=f.defs,p=f.instances,m=zg(h,t.eventUiBases);for(let b in c){let y=c[b],w=y.range,_=d[y.defId],E=a[y.defId];if(!XN(_.constraints,w,f,t.businessHours,e))return!1;let{eventOverlap:T}=e.options,k=typeof T=="function"?T:null;for(let I in p){let M=p[I];if(j0(w,M.range)&&(m[M.defId].overlap===!1&&i.isEvent||_.overlap===!1||k&&!k(new Wt(e,h[M.defId],M),new Wt(e,E,y))))return!1}let A=s.eventStore;for(let I of _.allows){let M=Object.assign(Object.assign({},n),{range:y.range,allDay:E.allDay}),D=A.defs[E.defId],P=A.instances[b],j;if(D?j=new Wt(e,D,P):j=new Wt(e,E),!I(z0(M,e),j))return!1}}return!0}function UQ(t,e,n,r){let s=t.eventStore,i=s.defs,o=s.instances,a=t.dateSelection,c=a.range,{selectionConfig:d}=e.getCurrentData();if(r&&(d=r(d)),!XN(d.constraints,c,s,t.businessHours,e))return!1;let{selectOverlap:f}=e.options,h=typeof f=="function"?f:null;for(let p in o){let m=o[p];if(j0(c,m.range)&&(d.overlap===!1||h&&!h(new Wt(e,i[m.defId],m),null)))return!1}for(let p of d.allows){let m=Object.assign(Object.assign({},n),a);if(!p(z0(m,e),null))return!1}return!0}function XN(t,e,n,r,s){for(let i of t)if(!BQ($Q(i,e,n,r,s),e))return!1;return!0}function $Q(t,e,n,r,s){return t==="businessHours"?Ly(Ha(r,e,s)):typeof t=="string"?Ly(Np(n,i=>i.groupId===t)):typeof t=="object"&&t?Ly(Ha(t,e,s)):[]}function Ly(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function BQ(t,e){for(let n of t)if(Mp(n,e))return!0;return!1}const Mh=/^(visible|hidden)$/;class ZN extends bt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,di(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,s=n&&r,i=["fc-scroller"];return n&&(r?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),L("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Mh.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Mh.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Mh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Mh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Fi{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:s,currentMap:i}=this,o=!1,a=!1;n!==null?(o=r in i,i[r]=n,s[r]=(s[r]||0)+1,a=!0):(s[r]-=1,s[r]||(delete i[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return JY(this.currentMap,e,n,r)}getAll(){return N0(this.currentMap)}}function zQ(t){let e=XK(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,dY(r));return Math.ceil(n)}function JN(t,e){return t.liquid&&e.liquid}function HQ(t,e){return e.maxHeight!=null||JN(t,e)}function VQ(t,e,n,r){let{expandRows:s}=n;return typeof e.content=="function"?e.content(n):L("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:s?n.clientHeight:""}},n.tableColGroupNode,L(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function WQ(t,e){return zo(t,e,$s)}function qQ(t,e){let n=[];for(let r of t){let s=r.span||1;for(let i=0;i<s;i+=1)n.push(L("col",{style:{width:r.width==="shrink"?GQ(e):r.width||"",minWidth:r.minWidth||""}}))}return L("colgroup",{},...n)}function GQ(t){return t??4}function KQ(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function YQ(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function QQ(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function cw(t){return L("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Hg(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function e1(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Z0 extends bt{constructor(){super(...arguments),this.processCols=je(e=>e,WQ),this.renderMicroColGroup=je(qQ),this.scrollerRefs=new Fi,this.scrollerElRefs=new Fi(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,s=e.sections||[],i=this.processCols(e.cols),o=this.renderMicroColGroup(i,n.shrinkWidth),a=YQ(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let c=s.length,d=0,f,h=[],p=[],m=[];for(;d<c&&(f=s[d]).type==="header";)h.push(this.renderSection(f,o,!0)),d+=1;for(;d<c&&(f=s[d]).type==="body";)p.push(this.renderSection(f,o,!1)),d+=1;for(;d<c&&(f=s[d]).type==="footer";)m.push(this.renderSection(f,o,!0)),d+=1;let b=!LN();const y={role:"rowgroup"};return L("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!b&&h.length)&&L("thead",y,...h),!!(!b&&p.length)&&L("tbody",y,...p),!!(!b&&m.length)&&L("tfoot",y,...m),b&&L("tbody",y,...h,...p,...m))}renderSection(e,n,r){return"outerContent"in e?L(Ot,{key:e.key},e.outerContent):L("tr",{key:e.key,role:"presentation",className:QQ(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,s){if("outerContent"in r)return r.outerContent;let{props:i}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:c}=this.state,d=HQ(i,e),f=JN(i,e),h=i.liquid?o?"scroll":d?"auto":"hidden":"visible",p=e.key,m=VQ(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&a[p]!==void 0?a[p]:null,clientHeight:c[p]!==void 0?c[p]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return L(s?"th":"td",{ref:r.elRef,role:"presentation"},L("div",{className:`fc-scroller-harness${f?" fc-scroller-harness-liquid":""}`},L(ZN,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:h,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:f,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,n){let r=XQ(this.props.sections,n);r&&di(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return KQ(this.props.cols)?zQ(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=_Q(),{scrollerRefs:n,scrollerElRefs:r}=this,s=!1,i={},o={};for(let a in n.currentMap){let c=n.currentMap[a];if(c&&c.needsYScrolling()){s=!0;break}}for(let a of this.props.sections){let c=a.key,d=r.currentMap[c];if(d){let f=d.parentNode;i[c]=Math.floor(f.getBoundingClientRect().width-(s?e.y:0)),o[c]=Math.floor(f.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:i,scrollerClientHeights:o}}}Z0.addStateEquality({scrollerClientWidths:$s,scrollerClientHeights:$s});function XQ(t,e){for(let n of t)if(n.key===e)return n;return null}class Fp extends bt{constructor(){super(...arguments),this.buildPublicEvent=je((e,n,r)=>new Wt(e,n,r)),this.handleEl=e=>{this.el=e,di(this.props.elRef,e),e&&ET(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:s}=e,{eventRange:i}=s,{ui:o}=i,a={event:this.buildPublicEvent(n,i.def,i.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&G9(s,n),isStartResizable:!e.disableResizing&&K9(s,n),isEndResizable:!e.disableResizing&&Y9(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return L(or,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Q9(a),...s.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&ET(this.el,this.props.seg)}}class J0 extends bt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:s}=e,{ui:i}=s.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=Lu(s,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return L(Fp,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:W0(s,n),defaultGenerator:ZQ,timeText:a}),(c,d)=>L(Ot,null,L(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}J0.addPropsEquality({seg:$s});function ZQ(t){return L("div",{className:"fc-event-main-frame"},t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title-container"},L("div",{className:"fc-event-title fc-sticky"},t.event.title||L(Ot,null," "))))}const e_=t=>L(Yi.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return L(or,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),JQ=Bt({day:"numeric"});class t_ extends bt{constructor(){super(...arguments),this.refineRenderProps=og(e7)}render(){let{props:e,context:n}=this,{options:r}=n,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return L(or,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":Md(e.date)}),elClasses:[...jp(s,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:s,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function n_(t){return!!(t.dayCellContent||nw("dayCellContent",t))}function e7(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:s}=t,i=G0(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,s?t.monthStartFormat:JQ):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},i),{isMonthStart:s,dayNumberText:o}),t.extraRenderProps)}class t1 extends bt{render(){let{props:e}=this,{seg:n}=e;return L(Fp,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:t7,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function t7(t){let{title:e}=t.event;return e&&L("div",{className:"fc-event-title"},t.event.title)}function n1(t){return L("div",{className:`fc-${t}`})}const r1=t=>L(Yi.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:s}=t,i=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(s),a=n.format(s,i),c={num:o,text:a,date:s};return L(or,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:c,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:n7,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function n7(t){return t.text}const Uy=10;class r7 extends bt{constructor(){super(...arguments),this.state={titleId:jo()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&di(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=uN(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:s}=this,i=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return FK(L("div",Object.assign({},r.extraAttrs,{id:r.id,className:i.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),L("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},L("span",{className:"fc-popover-title",id:s.titleId},r.title),L("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),L("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:s}=this,i=CQ(n);if(i){let o=s.getBoundingClientRect(),a=r?sr(n,".fc-scrollgrid").getBoundingClientRect().top:i.top,c=e?i.right-o.width:i.left;a=Math.max(a,Uy),c=Math.min(c,document.documentElement.clientWidth-Uy-o.width),c=Math.max(c,Uy);let d=s.offsetParent.getBoundingClientRect();Pu(s,{top:a-d.top,left:c-d.left})}}}class s7 extends Vs{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:s,todayRange:i,dateProfile:o}=r,a=n.format(s,e.dayPopoverFormat);return L(t_,{elRef:this.handleRootEl,date:s,dateProfile:o,todayRange:i},(c,d,f)=>L(r7,{elRef:f.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(f.className||[]),extraAttrs:f,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},n_(e)&&L(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,s){let{rootEl:i,props:o}=this;return e>=0&&e<r&&n>=0&&n<s?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:r,bottom:s},layer:1}:null}}class s1 extends bt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:jo()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&di(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:s}=r.options,i=RT(n).start;function o(a){let{def:c,instance:d,range:f}=a.eventRange;return{event:new Wt(r,c,d),start:r.dateEnv.toDate(f.start),end:r.dateEnv.toDate(f.end),isStart:a.isStart,isEnd:a.isEnd}}typeof s=="function"&&(s=s({date:i,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&r.calendarApi.zoomTo(i,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return L(Yi.Consumer,null,r=>{let{viewApi:s,options:i,calendarApi:o}=r,{moreLinkText:a}=i,{moreCnt:c}=e,d=RT(e),f=typeof a=="function"?a.call(o,c):`+${c} ${a}`,h=ju(i.moreLinkHint,[c],f),p={num:c,shortText:`+${c}`,text:f,view:s};return L(Ot,null,!!e.moreCnt&&L(or,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),fN(this.handleClick)),{title:h,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:p,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||i7,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),n.isPopoverOpen&&L(s7,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=sr(this.linkEl,".fc-view-harness"))}}function i7(t){return t.text}function RT(t){if(t.allDayDate)return{start:t.allDayDate,end:bn(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:i1(e),end:a7(e)}}function i1(t){return t.reduce(o7).eventRange.range.start}function o7(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function a7(t){return t.reduce(l7).eventRange.range.end}function l7(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class c7{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class u7 extends c7{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const d7=[],o1={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},a1=Object.assign(Object.assign({},o1),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function f7(t){let e=t.length>0?t[0].code:"en",n=d7.concat(t),r={en:a1};for(let s of n)r[s.code]=s;return{map:r,defaultCode:e}}function l1(t,e){return typeof t=="object"&&!Array.isArray(t)?c1(t.code,[t.code],t):h7(t,e)}function h7(t,e){let n=[].concat(t||[]),r=g7(n,e)||a1;return c1(t,n,r)}function g7(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let s=r.length;s>0;s-=1){let i=r.slice(0,s).join("-");if(e[i])return e[i]}}return null}function c1(t,e,n){let r=M0([o1,n],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:t,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function pi(t){return{id:Xa(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function p7(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(i){for(let o of i){const a=o.name,c=n[a];c===void 0?(n[a]=o.id,s(o.deps),r=v7(r,o)):c!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&s(t),s(e),r}function m7(){let t=[],e=[],n;return(r,s)=>((!n||!zo(r,t)||!zo(s,e))&&(n=p7(r,s)),t=r,e=s,n)}function v7(t,e){return{premiumReleaseDate:y7(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function y7(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Xo extends Nd{}Xo.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Xo.prototype.baseIconClass="fc-icon";Xo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Xo.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Xo.prototype.iconOverrideOption="buttonIcons";Xo.prototype.iconOverrideCustomButtonOption="icon";Xo.prototype.iconOverridePrefix="fc-icon-";function b7(t,e){let n={},r;for(r in t)uw(r,n,t,e);for(r in e)uw(r,n,t,e);return n}function uw(t,e,n,r){if(e[t])return e[t];let s=w7(t,e,n,r);return s&&(e[t]=s),s}function w7(t,e,n,r){let s=n[t],i=r[t],o=f=>s&&s[f]!==null?s[f]:i&&i[f]!==null?i[f]:null,a=o("component"),c=o("superType"),d=null;if(c){if(c===t)throw new Error("Can't have a custom view type that references itself");d=uw(c,e,n,r)}return!a&&d&&(a=d.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},d?d.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),i?i.rawOptions:{})}:null}function TT(t){return qi(t,_7)}function _7(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=AT(e):n&&!(n.prototype instanceof bt)&&(n=AT(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function AT(t){return e=>L(Yi.Consumer,null,n=>L(or,{elTag:"div",elClasses:_N(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function S7(t,e,n,r){let s=TT(t),i=TT(e.views),o=b7(s,i);return qi(o,a=>x7(a,i,e,n,r))}function x7(t,e,n,r,s){let i=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",c="",d={};if(i&&(o=E7(i),o)){let p=tw(o);a=p.unit,p.value===1&&(c=a,d=e[a]?e[a].rawOptions:{})}let f=p=>{let m=p.buttonText||{},b=t.defaults.buttonTextKey;return b!=null&&m[b]!=null?m[b]:m[t.type]!=null?m[t.type]:m[c]!=null?m[c]:null},h=p=>{let m=p.buttonHints||{},b=t.defaults.buttonTextKey;return b!=null&&m[b]!=null?m[b]:m[t.type]!=null?m[t.type]:m[c]!=null?m[c]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:c,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:f(r)||f(n)||t.overrides.buttonText,buttonTextDefault:f(s)||t.defaults.buttonText||f(Fu)||t.type,buttonTitleOverride:h(r)||h(n)||t.overrides.buttonHint,buttonTitleDefault:h(s)||t.defaults.buttonHint||h(Fu)}}let kT={};function E7(t){let e=JSON.stringify(t),n=kT[e];return n===void 0&&(n=lt(t),kT[e]=n),n}function C7(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function R7(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function T7(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function A7(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function k7(t,e,n,r){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(s=r.buildPrev(t,n),s.isValid)return s;break;case"NEXT":if(s=r.buildNext(t,n),s.isValid)return s;break}return t}function D7(t,e,n){let r=e?e.activeRange:null;return d1({},F7(t,n),r,n)}function O7(t,e,n,r){let s=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return d1(t,e.sources,s,r);case"REMOVE_EVENT_SOURCE":return M7(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?f1(t,s,r):t;case"FETCH_EVENT_SOURCES":return r_(t,e.sourceIds?mN(e.sourceIds):h1(t,r),s,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return j7(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function I7(t,e,n){let r=e?e.activeRange:null;return r_(t,h1(t,n),r,!0,n)}function u1(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function d1(t,e,n,r){let s={};for(let i of e)s[i.sourceId]=i;return n&&(s=f1(s,n,r)),Object.assign(Object.assign({},t),s)}function M7(t,e){return za(t,n=>n.sourceId!==e)}function f1(t,e,n){return r_(t,za(t,r=>N7(r,e,n)),e,!1,n)}function N7(t,e,n){return g1(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function r_(t,e,n,r,s){let i={};for(let o in t){let a=t[o];e[o]?i[o]=P7(a,n,r,s):i[o]=a}return i}function P7(t,e,n,r){let{options:s,calendarApi:i}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=Xa();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},c=>{let{rawEvents:d}=c;s.eventSourceSuccess&&(d=s.eventSourceSuccess.call(i,d,c.response)||d),t.success&&(d=t.success.call(i,d,c.response)||d),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:d})},c=>{let d=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(i,c),d=!0),t.failure&&(t.failure(c),d=!0),d||console.warn(c.message,c),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:c})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function j7(t,e,n,r){let s=t[e];return s&&n===s.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:r})}):t}function h1(t,e){return za(t,n=>g1(n,e))}function F7(t,e){let n=kN(e),r=[].concat(t.eventSources||[]),s=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let i of r){let o=AN(i,e,n);o&&s.push(o)}return s}function g1(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function L7(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function U7(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function $7(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function B7(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function z7(t,e,n,r,s){let i=t.headerToolbar?DT(t.headerToolbar,t,e,n,r,s):null,o=t.footerToolbar?DT(t.footerToolbar,t,e,n,r,s):null;return{header:i,footer:o}}function DT(t,e,n,r,s,i){let o={},a=[],c=!1;for(let d in t){let f=t[d],h=H7(f,e,n,r,s,i);o[d]=h.widgets,a.push(...h.viewsWithButtons),c=c||h.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:c}}function H7(t,e,n,r,s,i){let o=e.direction==="rtl",a=e.customButtons||{},c=n.buttonText||{},d=e.buttonText||{},f=n.buttonHints||{},h=e.buttonHints||{},p=t?t.split(" "):[],m=[],b=!1;return{widgets:p.map(w=>w.split(",").map(_=>{if(_==="title")return b=!0,{buttonName:_};let E,T,k,A,I,M;if(E=a[_])k=D=>{E.click&&E.click.call(D.target,D,D.target)},(A=r.getCustomButtonIconClass(E))||(A=r.getIconClass(_,o))||(I=E.text),M=E.hint||E.text;else if(T=s[_]){m.push(_),k=()=>{i.changeView(_)},(I=T.buttonTextOverride)||(A=r.getIconClass(_,o))||(I=T.buttonTextDefault);let D=T.buttonTextOverride||T.buttonTextDefault;M=ju(T.buttonTitleOverride||T.buttonTitleDefault||e.viewHint,[D,_],D)}else if(i[_])if(k=()=>{i[_]()},(I=c[_])||(A=r.getIconClass(_,o))||(I=d[_]),_==="prevYear"||_==="nextYear"){let D=_==="prevYear"?"prev":"next";M=ju(f[D]||h[D],[d.year||"year","year"],d[_])}else M=D=>ju(f[_]||h[_],[d[D]||D,D],d[_]);return{buttonName:_,buttonClick:k,buttonIcon:A,buttonText:I,buttonHint:M}})),viewsWithButtons:m,hasTitle:b}}class V7{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let W7={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const q7=pi({name:"array-event-source",eventSourceDefs:[W7]});let G7={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,s=t.eventSource.meta;sQ(s.bind(null,jN(t.range,r)),i=>e({rawEvents:i}),n)}};const K7=pi({name:"func-event-source",eventSourceDefs:[G7]}),Y7={method:String,extraParams:te,startParam:String,endParam:String,timeZoneParam:String};let Q7={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,s=Z7(r,t.range,t.context);iQ(r.method,r.url,s).then(([i,o])=>{e({rawEvents:i,response:o})},n)}};const X7=pi({name:"json-event-source",eventSourceRefiners:Y7,eventSourceDefs:[Q7]});function Z7(t,e,n){let{dateEnv:r,options:s}=n,i,o,a,c,d={};return i=t.startParam,i==null&&(i=s.startParam),o=t.endParam,o==null&&(o=s.endParam),a=t.timeZoneParam,a==null&&(a=s.timeZoneParam),typeof t.extraParams=="function"?c=t.extraParams():c=t.extraParams||{},Object.assign(d,c),d[i]=r.formatIso(e.start),d[o]=r.formatIso(e.end),r.timeZone!=="local"&&(d[a]=r.timeZone),d}const J7={daysOfWeek:te,startTime:lt,endTime:lt,duration:lt,startRecur:te,endRecur:te};let eX={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=pY(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Vo(e,{start:t.startRecur,end:t.endRecur});return r?nX(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const tX=pi({name:"simple-recurring-event",recurringTypes:[eX],eventRefiners:J7});function nX(t,e,n,r,s){let i=t?mN(t):null,o=Mt(s.start),a=s.end,c=[];for(e&&(e.milliseconds<0?a=bn(a,1):e.milliseconds>=1e3*60*60*24&&(o=bn(o,-1)));o<a;){let d;(!i||i[o.getUTCDay()])&&(e?d=r.add(o,e):d=o,c.push(r.createMarker(n.toDate(d)))),o=bn(o,1)}return c}const rX=pi({name:"change-handler",optionChangeHandlers:{events(t,e){OT([t],e)},eventSources:OT}});function OT(t,e){let n=N0(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let s of t){let i=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===s){n.splice(o,1),i=!0;break}i||r.push(s)}for(let s of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of r)e.calendarApi.addEventSource(s)}function sX(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},jN(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function iX(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Pa(t,e))}const oX=[q7,K7,X7,tX,rX,pi({name:"misc",isLoadingFuncs:[t=>u1(t.eventSources)],propSetHandlers:{dateProfile:sX,eventStore:iX}})];class aX{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new R0(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function lX(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Bt(e.titleFormat||cX(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function cX(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Pg(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class IT{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const s of this.resetListeners.values())s()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class uX{constructor(e){this.computeCurrentViewData=je(this._computeCurrentViewData),this.organizeRawLocales=je(f7),this.buildLocale=je(l1),this.buildPluginHooks=m7(),this.buildDateEnv=je(dX),this.buildTheme=je(fX),this.parseToolbars=je(z7),this.buildViewSpecs=je(S7),this.buildDateProfileGenerator=og(hX),this.buildViewApi=je(gX),this.buildViewUiProps=og(vX),this.buildEventUiBySource=je(pX,$s),this.buildEventUiBases=je(mX),this.parseContextBusinessHours=og(yX),this.buildTitle=je(lX),this.nowManager=new IT,this.emitter=new Pp,this.actionRunner=new aX(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=p=>{this.actionRunner.request(p)},this.props=e,this.actionRunner.pause(),this.nowManager=new IT;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),s=r.calendarOptions.initialView||r.pluginHooks.initialView,i=this.computeCurrentViewData(s,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let o={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=T7(r.calendarOptions,r.dateEnv,this.nowManager),c=i.dateProfileGenerator.build(a);Bi(c.activeRange,a)||(a=c.currentRange.start);for(let p of r.pluginHooks.contextInit)p(o);let d=D7(r.calendarOptions,c,o),f={dynamicOptionOverrides:n,currentViewType:s,currentDate:a,dateProfile:c,businessHours:this.parseContextBusinessHours(o),eventSources:d,eventUiBases:{},eventStore:Gr(),renderableEventStore:Gr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},h=Object.assign(Object.assign({},o),f);for(let p of r.pluginHooks.reducers)Object.assign(f,p(null,null,h));$y(f,o)&&this.emitter.trigger("loading",!0),this.state=f,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:s}=this,i=A7(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,i,n.calendarApi),a=C7(r.currentViewType,e),c=this.computeCurrentViewData(a,o,n.optionOverrides,i);n.calendarApi.currentDataManager=this,s.setThisContext(n.calendarApi),s.setOptions(c.options);let d={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:f,dateProfile:h}=r;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(h=c.dateProfileGenerator.build(f)),f=R7(f,e),h=k7(h,e,f,c.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Bi(h.currentRange,f))&&(f=h.currentRange.start);let p=O7(r.eventSources,e,h,d),m=O9(r.eventStore,e,p,h,d),y=u1(p)&&!c.options.progressiveEventRendering&&r.renderableEventStore||m,{eventUiSingleBase:w,selectionConfig:_}=this.buildViewUiProps(d),E=this.buildEventUiBySource(p),T=this.buildEventUiBases(y.defs,w,E),k={dynamicOptionOverrides:i,currentViewType:a,currentDate:f,dateProfile:h,eventSources:p,eventStore:m,renderableEventStore:y,selectionConfig:_,eventUiBases:T,businessHours:this.parseContextBusinessHours(d),dateSelection:L7(r.dateSelection,e),eventSelection:U7(r.eventSelection,e),eventDrag:$7(r.eventDrag,e),eventResize:B7(r.eventResize,e)},A=Object.assign(Object.assign({},d),k);for(let D of o.pluginHooks.reducers)Object.assign(k,D(r,e,A));let I=$y(r,d),M=$y(k,d);!I&&M?s.trigger("loading",!0):I&&!M&&s.trigger("loading",!1),this.state=k,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,s=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(n.currentViewType,s,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,i.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),i),n),a=s.pluginHooks.optionChangeHandlers,c=r&&r.calendarOptions,d=s.calendarOptions;if(c&&c!==d){c.timeZone!==d.timeZone&&(n.eventSources=o.eventSources=I7(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=ST(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=ST(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let f in a)(this.optionsForHandling.indexOf(f)!==-1||c[f]!==d[f])&&a[f](d[f],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:i,localeDefaults:o,availableLocaleData:a,extra:c}=this.processRawCalendarOptions(e,n);MT(c);let d=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,i,a,s.defaultRangeSeparator),f=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),h=this.buildTheme(s,i),p=this.parseToolbars(s,this.stableOptionOverrides,h,f,r);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:i,dateEnv:d,viewSpecs:f,theme:h,toolbarConfig:p,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:s}=Oy([Fu,e,n]),i=this.organizeRawLocales(r),o=i.map,a=this.buildLocale(s||i.defaultCode,o).options,c=this.buildPluginHooks(e.plugins||[],oX),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},mT),vT),yT),c.listenerRefiners),c.optionRefiners),f={},h=Oy([Fu,a,e,n]),p={},m=this.currentCalendarOptionsInput,b=this.currentCalendarOptionsRefined,y=!1;for(let w in h)this.optionsForRefining.indexOf(w)===-1&&(h[w]===m[w]||_a[w]&&w in m&&_a[w](m[w],h[w]))?p[w]=b[w]:d[w]?(p[w]=d[w](h[w]),y=!0):f[w]=m[w];return y&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=p,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:i,localeDefaults:a,extra:f}}_computeCurrentViewData(e,n,r,s){let i=n.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(i,n.pluginHooks,n.localeDefaults,r,s);MT(a),this.nowManager.handleInput(n.dateEnv,o.now);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:i,options:o,dateProfileGenerator:c,viewApi:d}}processRawViewOptions(e,n,r,s,i){let o=Oy([Fu,e.optionDefaults,r,s,e.optionOverrides,i]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},mT),vT),yT),KY),n.listenerRefiners),n.optionRefiners),c={},d=this.currentViewOptionsInput,f=this.currentViewOptionsRefined,h=!1,p={};for(let m in o)o[m]===d[m]||_a[m]&&_a[m](o[m],d[m])?c[m]=f[m]:(o[m]===this.currentCalendarOptionsInput[m]||_a[m]&&_a[m](o[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(c[m]=this.currentCalendarOptionsRefined[m]):a[m]?c[m]=a[m](o[m]):p[m]=o[m],h=!0);return h&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}}}function dX(t,e,n,r,s,i,o,a){let c=l1(e||o.defaultCode,o.map);return new i9({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:c,weekNumberCalculation:n,firstDay:r,weekText:s,cmdFormatter:i.cmdFormatter,defaultSeparator:a})}function fX(t,e){let n=e.themeClasses[t.themeSystem]||Xo;return new n(t)}function hX(t){let e=t.dateProfileGeneratorClass||xN;return new e(t)}function gX(t,e,n){return new V7(t,e,n)}function pX(t){return qi(t,e=>e.ui)}function mX(t,e,n){let r={"":e};for(let s in t){let i=t[s];i.sourceId&&n[i.sourceId]&&(r[s]=n[i.sourceId])}return r}function vX(t){let{options:e}=t;return{eventUiSingleBase:Bg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Bg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function $y(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function yX(t){return $9(t.options.businessHours,t)}function MT(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class bX extends bt{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return L("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,s=[],i=!0;for(let o of e){let{buttonName:a,buttonClick:c,buttonText:d,buttonIcon:f,buttonHint:h}=o;if(a==="title")i=!1,s.push(L("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let p=a===n.activeButton,m=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",b=[`fc-${a}-button`,r.getClass("button")];p&&b.push(r.getClass("buttonActive")),s.push(L("button",{type:"button",title:typeof h=="function"?h(n.navUnit):h,disabled:m,"aria-pressed":p,className:b.join(" "),onClick:c},d||(f?L("span",{className:f,role:"img"}):"")))}}if(s.length>1){let o=i&&r.getClass("buttonGroup")||"";return L("div",{className:o},...s)}return s[0]}}class NT extends bt{render(){let{model:e,extraClassName:n}=this.props,r=!1,s,i,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,s=o.left):s=o.start,o.right?(r=!0,i=o.right):i=o.end,L("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",a||[]),this.renderSection("end",i||[]))}renderSection(e,n){let{props:r}=this;return L(bX,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class wX extends bt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,di(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,s=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",o="";return r?n.availableWidth!==null?i=n.availableWidth/r:o=`${1/r*100}%`:i=e.height||"",L("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:i,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class _X extends xc{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:s}=this,{context:i}=s,o=oc(r);if(o&&s.isValidSegDownEl(n.target)){let a=sr(n.target,".fc-event-forced-url"),c=a?a.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:r,event:new Wt(s.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi}),c&&!n.defaultPrevented&&(window.location.href=c)}},this.destroy=dN(e.el,"click",".fc-event",this.handleSegClick)}}class SX extends xc{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{oc(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=eY(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:s}=this,{context:i}=s,o=oc(r);(!n||s.isValidSegDownEl(n.target))&&i.emitter.trigger(e,{el:r,event:new Wt(i,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi})}}class xX extends Za{constructor(){super(...arguments),this.buildViewContext=je(l9),this.buildViewPropTransformers=je(CX),this.buildToolbarProps=je(EX),this.headerRef=hr(),this.footerRef=hr(),this.interactionsStore={},this.state={viewLabelId:jo()},this.registerInteractiveComponent=(e,n)=>{let r=lQ(e,n),o=[_X,SX].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,ow[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete ow[e.uid]},this.resizeRunner=new R0(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,s=!1,i="",o;e.isHeightAuto||e.forPrint?i="":r.height!=null?s=!0:r.contentHeight!=null?i=r.contentHeight:o=Math.max(r.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return L(Yi.Provider,{value:a},L(Ja,{unit:"day"},d=>{let f=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return L(Ot,null,n.header&&L(NT,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},f)),L(wX,{liquid:s,height:i,aspectRatio:o,labeledById:c},this.renderView(e),this.buildAppendContent()),n.footer&&L(NT,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},f)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let s in r)n[s]!==e[s]&&r[s](n[s],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return L(Ot,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of i)Object.assign(s,a.transform(s,e));let o=r.component;return L(o,Object.assign({},s))}}function EX(t,e,n,r,s,i){let o=n.build(s,void 0,!1),a=n.buildPrev(e,r,!1),c=n.buildNext(e,r,!1);return{title:i,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Bi(e.currentRange,s),isPrevEnabled:a.isValid,isNextEnabled:c.isValid}}function CX(t){return t.map(e=>new e)}class RX extends uQ{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Ug(()=>{id(L(aQ,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(s,i,o,a)=>(this.setClassNames(s),this.setHeight(i),L(wN.Provider,{value:this.customContentRenderId},L(xX,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,id(null,this.el),this.setClassNames([]),this.setHeight(""))},WK(e),this.el=e,this.renderRunner=new R0(this.handleRenderRequest),new uX({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Ug(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!zo(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){cN(this.el,"height",e)}}const TX=parseInt(String(ie.version).split(".")[0]),AX=TX<18;class p1 extends C.Component{constructor(){super(...arguments),this.elRef=C.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(ie.createElement(kX,{key:n.id,customRendering:n}));return ie.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new u7;this.handleCustomRendering=e.handle.bind(e),this.calendar=new RX(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ds.flushSync(()=>{})});let n;e.subscribe(r=>{const s=Date.now(),i=!n;(AX||i||this.isUpdating||this.isUnmounting||s-n<100?m1:Ds.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=s,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}p1.act=m1;class kX extends C.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Ds.createPortal(r,e.containerEl)}}function m1(t){t()}class DX extends Vs{constructor(){super(...arguments),this.headerElRef=hr()}renderSimpleLayout(e,n){let{props:r,context:s}=this,i=[],o=Hg(s.options);return e&&i.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),L(od,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},L(Z0,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,n,r,s){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,c=!o.forPrint&&Hg(a.options),d=!o.forPrint&&e1(a.options),f=[];return e&&f.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),f.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&f.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:cw}]}),L(od,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},L(i,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:s}]}],sections:f}))}}function lg(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Nh(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function PT(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const v1=Bt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function y1(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class b1 extends bt{render(){let{props:e}=this;return L(J0,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:v1,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class w1 extends bt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:s}=e,i=r.eventTimeFormat||v1,o=Lu(s,i,n,!0,e.defaultDisplayEventEnd);return L(Fp,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:W0(e.seg,n),defaultGenerator:OX,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function OX(t){return L(Ot,null,L("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title"},t.event.title||L(Ot,null," ")))}class IX extends bt{constructor(){super(...arguments),this.compileSegs=je(MX)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return L(s1,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return L(Ot,null,n.map(i=>{let o=i.eventRange.instance.instanceId;return L("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:s[o]?"hidden":""}},y1(i)?L(w1,Object.assign({seg:i,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},zi(i,e.todayRange))):L(b1,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},zi(i,e.todayRange))))}))}})}}function MX(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const NX=Bt({week:"narrow"});class PX extends Vs{constructor(){super(...arguments),this.rootElRef=hr(),this.state={dayNumberId:jo()},this.handleRootEl=e=>{di(this.rootElRef,e),di(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:s}=this,{options:i,dateEnv:o}=e,{date:a,dateProfile:c}=n;const d=n.showDayNumber&&FX(a,c.currentRange,o);return L(t_,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:jX,date:a,dateProfile:c,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(f,h)=>L("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&L(r1,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:ac(e,a,"week"),date:a,defaultFormat:NX}),!h.isDisabled&&(n.showDayNumber||n_(i)||n.forceDayTop)?L("div",{className:"fc-daygrid-day-top"},L(f,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},ac(e,a)),{id:r.dayNumberId})})):n.showDayNumber?L("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},L("a",{className:"fc-daygrid-day-number"}," ")):void 0,L("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,L("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},L(IX,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:s,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),L("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function jX(t){return t.dayNumberText||L(Ot,null," ")}function FX(t,e,n){const{start:r,end:s}=e,i=Ho(s,-1),o=n.getYear(r),a=n.getMonth(r),c=n.getYear(i),d=n.getMonth(i);return!(o===c&&a===d)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<s.valueOf())}function _1(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function S1(t){return _1(t)+":"+t.lastCol}function LX(t,e,n,r,s,i,o){let a=new BX(_=>{let E=t[_.index].eventRange.instance.instanceId+":"+_.span.start+":"+(_.span.end-1);return s[E]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=i,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let c=[],d=[];for(let _=0;_<t.length;_+=1){let E=t[_],T=S1(E);s[T]!=null?c.push({index:_,span:{start:E.firstCol,end:E.lastCol+1}}):d.push(E)}let f=a.addSegs(c),h=a.toRects(),{singleColPlacements:p,multiColPlacements:m,leftoverMargins:b}=UX(h,t,o),y=[],w=[];for(let _ of d){m[_.firstCol].push({seg:_,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=_.firstCol;E<=_.lastCol;E+=1)p[E].push({seg:Jl(_,E,E+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let _=0;_<o.length;_+=1)y.push(0);for(let _ of f){let E=t[_.index],T=_.span;m[T.start].push({seg:Jl(E,T.start,T.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let k=T.start;k<T.end;k+=1)y[k]+=1,p[k].push({seg:Jl(E,k,k+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let _=0;_<o.length;_+=1)w.push(b[_]);return{singleColPlacements:p,multiColPlacements:m,moreCnts:y,moreMarginTops:w}}function UX(t,e,n){let r=$X(t,n.length),s=[],i=[],o=[];for(let a=0;a<n.length;a+=1){let c=r[a],d=[],f=0,h=0;for(let m of c){let b=e[m.index];d.push({seg:Jl(b,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-f}),f=m.levelCoord+m.thickness}let p=[];f=0,h=0;for(let m of c){let b=e[m.index],y=m.span.end-m.span.start>1,w=m.span.start===a;h+=m.levelCoord-f,f=m.levelCoord+m.thickness,y?(h+=m.thickness,w&&p.push({seg:Jl(b,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):w&&(p.push({seg:Jl(b,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:h}),h=0)}s.push(d),i.push(p),o.push(h)}return{singleColPlacements:s,multiColPlacements:i,leftoverMargins:o}}function $X(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let s=r.span.start;s<r.span.end;s+=1)n[s].push(r);return n}function Jl(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let s=t.eventRange,i=s.range,o=Vo(i,{start:r[e].date,end:bn(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:t.isStart&&o.start.valueOf()===i.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===i.end.valueOf()})}class BX extends zN{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,s=i=>!this.forceHidden[ja(i)];for(let i=0;i<r.length;i+=1)r[i]=r[i].filter(s);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:s,forceHidden:i}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:c}=e;if(this.hiddenConsumes&&o){const d=ja(o);if(!i[d])if(this.allowReslicing){const f=Object.assign(Object.assign({},o),{span:Q0(o.span,n.span)}),h=ja(f);i[h]=!0,s[a][c]=f,r.push(f),this.splitEntry(o,n,r)}else i[d]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class x1 extends Vs{constructor(){super(...arguments),this.cellElRefs=new Fi,this.frameElRefs=new Fi,this.fgElRefs=new Fi,this.segHarnessRefs=new Fi,this.rootElRef=hr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:s}=r,i=e.cells.length,o=Nh(e.businessHourSegs,i),a=Nh(e.bgEventSegs,i),c=Nh(this.getHighlightSegs(),i),d=Nh(this.getMirrorSegs(),i),{singleColPlacements:f,multiColPlacements:h,moreCnts:p,moreMarginTops:m}=LX(V0(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),b=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return L("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((y,w)=>{let _=this.renderFgSegs(w,e.forPrint?f[w]:h[w],e.todayRange,b),E=this.renderFgSegs(w,zX(d[w],h),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return L(PX,{key:y.key,elRef:this.cellElRefs.createRef(y.key),innerElRef:this.frameElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&w===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,moreCnt:p[w],moreMarginTop:m[w],singlePlacements:f[w],fgContentElRef:this.fgElRefs.createRef(y.key),fgContent:L(Ot,null,L(Ot,null,_),L(Ot,null,E)),bgContent:L(Ot,null,this.renderFillSegs(c[w],"highlight"),this.renderFillSegs(o[w],"non-business"),this.renderFillSegs(a[w],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!$s(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,s,i,o,a){let{context:c}=this,{eventSelection:d}=this.props,{framePositions:f}=this.state,h=this.props.cells.length===1,p=i||o||a,m=[];if(f)for(let b of n){let{seg:y}=b,{instanceId:w}=y.eventRange.instance,_=b.isVisible&&!s[w],E=b.isAbsolute,T="",k="";E&&(c.isRtl?(k=0,T=f.lefts[y.lastCol]-f.lefts[y.firstCol]):(T=0,k=f.rights[y.firstCol]-f.rights[y.lastCol])),m.push(L("div",{className:"fc-daygrid-event-harness"+(E?" fc-daygrid-event-harness-abs":""),key:_1(y),ref:p?null:this.segHarnessRefs.createRef(S1(y)),style:{visibility:_?"":"hidden",marginTop:E?"":b.marginTop,top:E?b.absoluteTop:"",left:T,right:k}},y1(y)?L(w1,Object.assign({seg:y,isDragging:i,isSelected:w===d,defaultDisplayEventEnd:h},zi(y,r))):L(b1,Object.assign({seg:y,isDragging:i,isResizing:o,isDateSelecting:a,isSelected:w===d,defaultDisplayEventEnd:h},zi(y,r)))))}return m}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:s}=this.props,{framePositions:i}=this.state,o=[];if(i)for(let a of e){let c=r?{right:0,left:i.lefts[a.lastCol]-i.lefts[a.firstCol]}:{left:0,right:i.rights[a.firstCol]-i.rights[a.lastCol]};o.push(L("div",{key:PN(a.eventRange),className:"fc-daygrid-bg-harness",style:c},n==="bg-event"?L(t1,Object.assign({seg:a},zi(a,s))):n1(n)))}return L(Ot,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:s}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let c=n.cells.map(d=>s.currentMap[d.key]);if(c.length){let d=this.rootElRef.current,f=new lc(d,c,!0,!1);(!r.framePositions||!r.framePositions.similarTo(f))&&this.setState({framePositions:new lc(d,c,!0,!1)})}}const i=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let s=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,s)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}x1.addStateEquality({segHeights:$s});function zX(t,e){if(!t.length)return[];let n=HX(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function HX(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class VX extends Vs{constructor(){super(...arguments),this.splitBusinessHourSegs=je(lg),this.splitBgEventSegs=je(WX),this.splitFgEventSegs=je(lg),this.splitDateSelectionSegs=je(lg),this.splitEventDrag=je(PT),this.splitEventResize=je(PT),this.rowRefs=new Fi}render(){let{props:e,context:n}=this,r=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,r),i=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),c=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r),f=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return L(Ja,{unit:"day"},(h,p)=>L(Ot,null,e.cells.map((m,b)=>L(x1,{ref:this.rowRefs.createRef(b),key:m.length?m[0].date.toISOString():b,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:p,dateProfile:e.dateProfile,cells:m,renderIntro:e.renderRowIntro,businessHourSegs:s[b],eventSelection:e.eventSelection,bgEventSegs:i[b],fgEventSegs:o[b],dateSelectionSegs:a[b],eventDrag:c[b],eventResize:d[b],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:f,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new lc(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new lc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:s}=this,i=r.leftToIndex(e),o=s.topToIndex(n);if(o!=null&&i!=null){let a=this.props.cells[o][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,i),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,i),rect:{left:r.lefts[i],right:r.rights[i],top:s.tops[o],bottom:s.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,s=bn(r,1);return{start:r,end:s}}}function WX(t,e){return lg(t.filter(qX),e)}function qX(t){return t.eventRange.def.allDay}class GX extends Vs{constructor(){super(...arguments),this.elRef=hr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:s}=e,i=r===!0||n===!0;i&&!s&&(i=!1,n=null,r=null);let o=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return L("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,L("tbody",{role:"presentation"},L(VX,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=KX(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),s=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function KX(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${OY(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Md(e.currentDate)}"]`)),n}class YX extends KN{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class E1 extends Vs{constructor(){super(...arguments),this.slicer=new YX,this.tableRef=hr()}render(){let{props:e,context:n}=this;return L(GX,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class QX extends DX{constructor(){super(...arguments),this.buildDayTableModel=je(XX),this.headerRef=hr(),this.tableRef=hr()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,s=this.buildDayTableModel(r.dateProfile,n),i=e.dayHeaders&&L(WN,{ref:this.headerRef,dateProfile:r.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),o=a=>L(E1,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:s,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,o,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,o)}}function XX(t,e){let n=new qN(t.renderRange,e);return new GN(n,/year|month|week/.test(t.currentRangeUnit))}class ZX extends xN{buildRenderRange(e,n,r){let s=super.buildRenderRange(e,n,r),{props:i}=this;return JX({currentRange:s,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function JX(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:s}=n,i;if(t.snapToWeek&&(r=e.startOfWeek(r),i=e.startOfWeek(s),i.valueOf()!==s.valueOf()&&(s=dT(i,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(bn(n.end,-1))),a=Math.ceil(wY(o,s));s=dT(s,6-a)}return{start:r,end:s}}var eZ=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Op(eZ);var tZ=pi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:QX,dateProfileGeneratorClass:ZX},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class nZ extends pQ{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?W9(e)?["timed","allDay"]:["allDay"]:["timed"]}}const rZ=Bt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function C1(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return L(Yi.Consumer,null,n=>{if(!t.isLabeled)return L("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:s,viewApi:i}=n,o=s.slotLabelFormat==null?rZ:Array.isArray(s.slotLabelFormat)?Bt(s.slotLabelFormat[0]):Bt(s.slotLabelFormat),a={level:0,time:t.time,date:r.toDate(t.date),view:i,text:r.format(t.date,o)};return L(or,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:sZ,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},c=>L("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},L(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function sZ(t){return t.text}class iZ extends bt{render(){return this.props.slatMetas.map(e=>L("tr",{key:e.key},L(C1,Object.assign({},e))))}}const oZ=Bt({week:"short"}),aZ=5;class lZ extends Vs{constructor(){super(...arguments),this.allDaySplitter=new nZ,this.headerElRef=hr(),this.rootElRef=hr(),this.scrollerElRef=hr(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:s}=this.props,i=s.renderRange,a=Qo(i.start,i.end)===1?ac(this.context,i.start,"week"):{};return r.weekNumbers&&e==="day"?L(r1,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:oZ},c=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},L(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):L("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},L("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,s={text:n.allDayText,view:r};return L(or,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:s,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:cZ,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},i=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},L(i,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:s,props:i}=this,o=[],a=Hg(s.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!s.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),L(od,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},L(Z0,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,s,i,o,a){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:d,props:f}=this,h=!f.forPrint&&Hg(d.options),p=!f.forPrint&&e1(d.options),m=[];e&&m.push({type:"header",key:"header",isSticky:h,syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>L("tr",{role:"presentation"},this.renderHeadAxis("day",y.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>L("tr",{role:"presentation"},this.renderTableRowAxis(y.rowSyncHeights[0]))},{key:"cols",content:n}]}),m.push({key:"all-day-divider",type:"body",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let b=d.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:y=>L("div",{className:"fc-timegrid-axis-chunk"},L("table",{"aria-hidden":!0,style:{height:y.expandRows?y.clientHeight:""}},y.tableColGroupNode,L("tbody",null,L(iZ,{slatMetas:o}))),L("div",{className:"fc-timegrid-now-indicator-container"},L(Ja,{unit:b?"minute":"day"},w=>{let _=b&&a&&a.safeComputeTop(w);return typeof _=="number"?L(e_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:_},isAxis:!0,date:w}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),p&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:cw},{key:"cols",content:cw}]}),L(od,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},L(c,{liquid:!f.isHeightAuto&&!f.forPrint,forPrint:f.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:i}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=aZ),{dayMaxEvents:e,dayMaxEventRows:n}}}function cZ(t){return t.text}class uZ{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(Bi(n.currentRange,e)){let r=Mt(e),s=e.valueOf()-r.valueOf();if(s>=Is(n.slotMinTime)&&s<Is(n.slotMaxTime))return this.computeTimeTop(lt(s))}return null}computeDateTop(e,n){return n||(n=Mt(e)),this.computeTimeTop(lt(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,s=n.els.length,i=(e.milliseconds-Is(r.slotMinTime))/Is(this.slotDuration),o,a;return i=Math.max(0,i),i=Math.min(s,i),o=Math.floor(i),o=Math.min(o,s-1),a=i-o,n.tops[o]+n.getHeight(o)*a}}class dZ extends bt{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:s}=e;return L("tbody",null,e.slatMetas.map((i,o)=>{let a={time:i.time,date:n.dateEnv.toDate(i.date),view:n.viewApi};return L("tr",{key:i.key,ref:s.createRef(i.key)},e.axis&&L(C1,Object.assign({},i)),L(or,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class fZ extends bt{constructor(){super(...arguments),this.rootElRef=hr(),this.slatElRefs=new Fi}render(){let{props:e,context:n}=this;return L("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},L("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,L(dZ,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new uZ(new lc(this.rootElRef.current,hZ(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function hZ(t,e){return e.map(n=>t[n.key])}function pu(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function jT(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class gZ extends bt{render(){let{props:e}=this;return L(s1,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>T1(e.hiddenSegs,e),defaultGenerator:pZ,forceTimed:!0},n=>L(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function pZ(t){return t.shortText}function mZ(t,e,n){let r=new zN;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let s=r.addSegs(t),i=AQ(s),o=vZ(r);return o=_Z(o,1),{segRects:SZ(o),hiddenGroups:i}}function vZ(t){const{entriesByLevel:e}=t,n=s_((r,s)=>r+":"+s,(r,s)=>{let i=wZ(t,r,s),o=FT(i,n),a=e[r][s];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return FT(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function FT(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:s}=t,i=r,o=[];for(;i<s;)o.push(e(n,i)),i+=1;return o.sort(yZ),[o.map(bZ),o[0][1]]}function yZ(t,e){return e[1]-t[1]}function bZ(t){return t[0]}function wZ(t,e,n){let{levelCoords:r,entriesByLevel:s}=t,i=s[e][n],o=r[e]+i.thickness,a=r.length,c=e;for(;c<a&&r[c]<o;c+=1);for(;c<a;c+=1){let d=s[c],f,h=lw(d,i.span.start,aw),p=h[0]+h[1],m=p;for(;(f=d[m])&&f.span.start<i.span.end;)m+=1;if(p<m)return{level:c,lateralStart:p,lateralEnd:m}}return null}function _Z(t,e){const n=s_((r,s,i)=>ja(r),(r,s,i)=>{let{nextLevelNodes:o,thickness:a}=r,c=a+i,d=a/c,f,h=[];if(!o.length)f=e;else for(let m of o)if(f===void 0){let b=n(m,s,c);f=b[0],h.push(b[1])}else{let b=n(m,f,0);h.push(b[1])}let p=(f-s)*d;return[f-p,Object.assign(Object.assign({},r),{thickness:p,nextLevelNodes:h})]});return t.map(r=>n(r,0,0)[1])}function SZ(t){let e=[];const n=s_((s,i,o)=>ja(s),(s,i,o)=>{let a=Object.assign(Object.assign({},s),{levelCoord:i,stackDepth:o,stackForward:0});return e.push(a),a.stackForward=r(s.nextLevelNodes,i+s.thickness,o+1)+1});function r(s,i,o){let a=0;for(let c of s)a=Math.max(n(c,i,o),a);return a}return r(t,0,0),e}function s_(t,e){const n={};return(...r)=>{let s=t(...r);return s in n?n[s]:n[s]=e(...r)}}function LT(t,e,n=null,r=0){let s=[];if(n)for(let i=0;i<t.length;i+=1){let o=t[i],a=n.computeDateTop(o.start,e),c=Math.max(a+(r||0),n.computeDateTop(o.end,e));s.push({start:Math.round(a),end:Math.round(c)})}return s}function xZ(t,e,n,r){let s=[],i=[];for(let d=0;d<t.length;d+=1){let f=e[d];f?s.push({index:d,thickness:1,span:f}):i.push(t[d])}let{segRects:o,hiddenGroups:a}=mZ(s,n,r),c=[];for(let d of o)c.push({seg:t[d.index],rect:d});for(let d of i)c.push({seg:d,rect:null});return{segPlacements:c,hiddenGroups:a}}const EZ=Bt({hour:"numeric",minute:"2-digit",meridiem:!1});class R1 extends bt{render(){return L(J0,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:EZ}))}}class CZ extends bt{constructor(){super(...arguments),this.sortEventSegs=je(V0)}render(){let{props:e,context:n}=this,{options:r}=n,s=r.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return L(t_,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},c=>L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,o,!1,!1,!1)),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!e.eventDrag,!!e.eventResize,!!s,"mirror")),L("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),n_(r)&&L(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,s,i,o){let{props:a}=this;return a.forPrint?T1(e,a):this.renderPositionedFgSegs(e,n,r,s,i,o)}renderPositionedFgSegs(e,n,r,s,i,o){let{eventMaxStack:a,eventShortHeight:c,eventOrderStrict:d,eventMinHeight:f}=this.context.options,{date:h,slatCoords:p,eventSelection:m,todayRange:b,nowDate:y}=this.props,w=r||s||i,_=LT(e,h,p,f),{segPlacements:E,hiddenGroups:T}=xZ(e,_,d,a);return L(Ot,null,this.renderHiddenGroups(T,e),E.map(k=>{let{seg:A,rect:I}=k,M=A.eventRange.instance.instanceId,D=w||!!(!n[M]&&I),P=By(I&&I.span),j=!w&&I?this.computeSegHStyle(I):{left:0,right:0},z=!!I&&I.stackForward>0,G=!!I&&I.span.end-I.span.start<c;return L("div",{className:"fc-timegrid-event-harness"+(z?" fc-timegrid-event-harness-inset":""),key:o||M,style:Object.assign(Object.assign({visibility:D?"":"hidden"},P),j)},L(R1,Object.assign({seg:A,isDragging:r,isResizing:s,isDateSelecting:i,isSelected:M===m,isShort:G},zi(A,b,y))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:s,todayRange:i,nowDate:o,eventSelection:a,eventDrag:c,eventResize:d}=this.props;return L(Ot,null,e.map(f=>{let h=By(f.span),p=RZ(f.entries,n);return L(gZ,{key:pN(i1(p)),hiddenSegs:p,top:h.top,bottom:h.bottom,extraDateSpan:r,dateProfile:s,todayRange:i,nowDate:o,eventSelection:a,eventDrag:c,eventResize:d})}))}renderFillSegs(e,n){let{props:r,context:s}=this,o=LT(e,r.date,r.slatCoords,s.options.eventMinHeight).map((a,c)=>{let d=e[c];return L("div",{key:PN(d.eventRange),className:"fc-timegrid-bg-harness",style:By(a)},n==="bg-event"?L(t1,Object.assign({seg:d},zi(d,r.todayRange,r.nowDate))):n1(n))});return L(Ot,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((s,i)=>L(e_,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(s.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,s=r.slotEventOverlap,i=e.levelCoord,o=e.levelCoord+e.thickness,a,c;s&&(o=Math.min(1,i+(o-i)*2)),n?(a=1-o,c=i):(a=i,c=1-o);let d={zIndex:e.stackDepth+1,left:a*100+"%",right:c*100+"%"};return s&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=20),d}}function T1(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:s,eventResize:i}){let o=(s?s.affectedInstances:null)||(i?i.affectedInstances:null)||{};return L(Ot,null,t.map(a=>{let c=a.eventRange.instance.instanceId;return L("div",{key:c,style:{visibility:o[c]?"hidden":""}},L(R1,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===r,isShort:!1},zi(a,e,n))))}))}function By(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function RZ(t,e){return t.map(n=>e[n.index])}class TZ extends bt{constructor(){super(...arguments),this.splitFgEventSegs=je(pu),this.splitBgEventSegs=je(pu),this.splitBusinessHourSegs=je(pu),this.splitNowIndicatorSegs=je(pu),this.splitDateSelectionSegs=je(pu),this.splitEventDrag=je(jT),this.splitEventResize=je(jT),this.rootElRef=hr(),this.cellElRefs=new Fi}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,s),o=this.splitBgEventSegs(e.bgEventSegs,s),a=this.splitBusinessHourSegs(e.businessHourSegs,s),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),d=this.splitDateSelectionSegs(e.dateSelectionSegs,s),f=this.splitEventDrag(e.eventDrag,s),h=this.splitEventResize(e.eventResize,s);return L("div",{className:"fc-timegrid-cols",ref:this.rootElRef},L("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,L("tbody",{role:"presentation"},L("tr",{role:"row"},e.axis&&L("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&L(e_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((p,m)=>L(CZ,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:i[m],bgEventSegs:o[m],businessHourSegs:a[m],nowIndicatorSegs:c[m],dateSelectionSegs:d[m],eventDrag:f[m],eventResize:h[m],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new lc(this.rootElRef.current,AZ(this.cellElRefs.currentMap,e.cells),!0,!1))}}function AZ(t,e){return e.map(n=>t[n.key])}class kZ extends Vs{constructor(){super(...arguments),this.processSlotOptions=je(DZ),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let s=r.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),n(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return L("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L(fZ,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),L(TZ,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:s}=this.context,{colCoords:i}=this,{dateProfile:o}=this.props,{slatCoords:a}=this.state,{snapDuration:c,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),f=i.leftToIndex(e),h=a.positions.topToIndex(n);if(f!=null&&h!=null){let p=this.props.cells[f],m=a.positions.tops[h],b=a.positions.getHeight(h),y=(n-m)/b,w=Math.floor(y*d),_=h*d+w,E=this.props.cells[f].date,T=ew(o.slotMinTime,mY(c,_)),k=r.add(E,T),A=r.add(k,c);return{dateProfile:o,dateSpan:Object.assign({range:{start:k,end:A},allDay:!1},p.extraDateSpan),dayEl:i.els[f],rect:{left:i.lefts[f],right:i.rights[f],top:m,bottom:m+b},layer:0}}return null}}function DZ(t,e){let n=e||t,r=D0(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class OZ extends KN{sliceRange(e,n){let r=[];for(let s=0;s<n.length;s+=1){let i=Vo(e,n[s]);i&&r.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:s})}return r}}class IZ extends Vs{constructor(){super(...arguments),this.buildDayRanges=je(MZ),this.slicer=new OZ,this.timeColsRef=hr()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:s}=e,{nowIndicator:i,nextDayThreshold:o}=n.options,a=this.buildDayRanges(s,r,n.dateEnv);return L(Ja,{unit:i?"minute":"day"},(c,d)=>L(kZ,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:c,nowIndicatorSegs:i&&this.slicer.sliceNowDate(c,r,o,n,a),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function MZ(t,e,n){let r=[];for(let s of t.headerDates)r.push({start:n.add(s,e.slotMinTime),end:n.add(s,e.slotMaxTime)});return r}const UT=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function NZ(t,e,n,r,s){let i=new Date(0),o=t,a=lt(0),c=n||PZ(r),d=[];for(;Is(o)<Is(e);){let f=s.add(i,o),h=D0(a,c)!==null;d.push({date:f,time:o,key:f.toISOString(),isoTimeStr:IY(f),isLabeled:h}),o=ew(o,r),a=ew(a,r)}return d}function PZ(t){let e,n,r;for(e=UT.length-1;e>=0;e-=1)if(n=lt(UT[e]),r=D0(n,t),r!==null&&r>1)return n;return t}class jZ extends lZ{constructor(){super(...arguments),this.buildTimeColsModel=je(FZ),this.buildSlatMetas=je(NZ)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:s}=this,{dateProfile:i}=s,o=this.buildTimeColsModel(i,r),a=this.allDaySplitter.splitProps(s),c=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,f=!d,h=d,p=e.dayHeaders&&L(WN,{dates:o.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),m=e.allDaySlot!==!1&&(y=>L(E1,Object.assign({},a.allDay,{dateProfile:i,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:y.tableMinWidth,colGroupNode:y.tableColGroupNode,renderRowIntro:f?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:y.clientWidth,clientHeight:y.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),b=y=>L(IZ,Object.assign({},a.timed,{dayTableModel:o,dateProfile:i,axis:f,slotDuration:e.slotDuration,slatMetas:c,forPrint:s.forPrint,tableColGroupNode:y.tableColGroupNode,tableMinWidth:y.tableMinWidth,clientWidth:y.clientWidth,clientHeight:y.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:y.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return h?this.renderHScrollLayout(p,m,b,o.colCnt,d,c,this.state.slatCoords):this.renderSimpleLayout(p,m,b)}}function FZ(t,e){let n=new qN(t.renderRange,e);return new GN(n,!1)}var LZ='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Op(LZ);const UZ={allDaySlot:Boolean};var $Z=pi({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:UZ,views:{timeGrid:{component:jZ,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class BZ extends bt{constructor(){super(...arguments),this.state={textId:jo()}}render(){let{theme:e,dateEnv:n,options:r,viewApi:s}=this.context,{cellId:i,dayDate:o,todayRange:a}=this.props,{textId:c}=this.state,d=G0(o,a),f=r.listDayFormat?n.format(o,r.listDayFormat):"",h=r.listDaySideFormat?n.format(o,r.listDaySideFormat):"",p=Object.assign({date:n.toDate(o),view:s,textId:c,text:f,sideText:h,navLinkAttrs:ac(this.context,o),sideNavLinkAttrs:ac(this.context,o,"day",!1)},d);return L(or,{elTag:"tr",elClasses:["fc-list-day",...jp(d,e)],elAttrs:{"data-date":Md(o)},renderProps:p,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:zZ,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},m=>L("th",{scope:"colgroup",colSpan:3,id:i,"aria-labelledby":c},L(m,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function zZ(t){return L(Ot,null,t.text&&L("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&L("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const HZ=Bt({hour:"numeric",minute:"2-digit",meridiem:"short"});class VZ extends bt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:s,timeHeaderId:i,eventHeaderId:o,dateHeaderId:a}=e,c=r.eventTimeFormat||HZ;return L(Fp,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",s.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>WZ(s,n),seg:s,timeText:"",disableDragging:!0,disableResizing:!0}),(d,f)=>L(Ot,null,qZ(s,c,n,i,a),L("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},L("span",{className:"fc-list-event-dot",style:{borderColor:f.borderColor||f.backgroundColor}})),L(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${o} ${a}`}})))}}function WZ(t,e){let n=W0(t,e);return L("a",Object.assign({},n),t.eventRange.def.title)}function qZ(t,e,n,r,s){let{options:i}=n;if(i.displayEventTime!==!1){let o=t.eventRange.def,a=t.eventRange.instance,c=!1,d;if(o.allDay?c=!0:y9(t.eventRange.range)?t.isStart?d=Lu(t,e,n,null,null,a.range.start,t.end):t.isEnd?d=Lu(t,e,n,null,null,t.start,a.range.end):c=!0:d=Lu(t,e,n),c){let f={text:n.options.allDayText,view:n.viewApi};return L(or,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${s}`},renderProps:f,generatorName:"allDayContent",customGenerator:i.allDayContent,defaultGenerator:GZ,classNameGenerator:i.allDayClassNames,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount})}return L("td",{className:"fc-list-event-time"},d)}return null}function GZ(t){return t.text}class KZ extends Vs{constructor(){super(...arguments),this.computeDateVars=je(QZ),this.eventStoreToSegs=je(this._eventStoreToSegs),this.state={timeHeaderId:jo(),eventHeaderId:jo(),dateHeaderIdRoot:jo()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:r,dayRanges:s}=this.computeDateVars(e.dateProfile),i=this.eventStoreToSegs(e.eventStore,e.eventUiBases,s);return L(od,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},L(ZN,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},i.length>0?this.renderSegList(i,r):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,r={text:e.noEventsText,view:n};return L(or,{elTag:"div",elClasses:["fc-list-empty"],renderProps:r,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:YZ,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},s=>L(s,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:r,options:s}=this.context,{timeHeaderId:i,eventHeaderId:o,dateHeaderIdRoot:a}=this.state,c=XZ(e);return L(Ja,{unit:"day"},(d,f)=>{let h=[];for(let p=0;p<c.length;p+=1){let m=c[p];if(m){let b=Md(n[p]),y=a+"-"+b;h.push(L(BZ,{key:b,cellId:y,dayDate:n[p],todayRange:f})),m=V0(m,s.eventOrder);for(let w of m)h.push(L(VZ,Object.assign({key:b+":"+w.eventRange.instance.instanceId,seg:w,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:i,eventHeaderId:o,dateHeaderId:y},zi(w,f,d))))}}return L("table",{className:"fc-list-table "+r.getClass("table")},L("thead",null,L("tr",null,L("th",{scope:"col",id:i},s.timeHint),L("th",{scope:"col","aria-hidden":!0}),L("th",{scope:"col",id:o},s.eventHint))),L("tbody",null,h))})}_eventStoreToSegs(e,n,r){return this.eventRangesToSegs(iw(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)}eventRangesToSegs(e,n){let r=[];for(let s of e)r.push(...this.eventRangeToSegs(s,n));return r}eventRangeToSegs(e,n){let{dateEnv:r}=this.context,{nextDayThreshold:s}=this.context.options,i=e.range,o=e.def.allDay,a,c,d,f=[];for(a=0;a<n.length;a+=1)if(c=Vo(i,n[a]),c&&(d={component:this,eventRange:e,start:c.start,end:c.end,isStart:e.isStart&&c.start.valueOf()===i.start.valueOf(),isEnd:e.isEnd&&c.end.valueOf()===i.end.valueOf(),dayIndex:a},f.push(d),!d.isEnd&&!o&&a+1<n.length&&i.end<r.add(n[a+1].start,s))){d.end=i.end,d.isEnd=!0;break}return f}}function YZ(t){return t.text}function QZ(t){let e=Mt(t.renderRange.start),n=t.renderRange.end,r=[],s=[];for(;e<n;)r.push(e),s.push({start:e,end:bn(e,1)}),e=bn(e,1);return{dayDates:r,dayRanges:s}}function XZ(t){let e=[],n,r;for(n=0;n<t.length;n+=1)r=t[n],(e[r.dayIndex]||(e[r.dayIndex]=[])).push(r);return e}var ZZ=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Op(ZZ);const JZ={listDayFormat:$T,listDaySideFormat:$T,noEventsClassNames:te,noEventsContent:te,noEventsDidMount:te,noEventsWillUnmount:te};function $T(t){return t===!1?null:Bt(t)}var eJ=pi({name:"@fullcalendar/list",optionRefiners:JZ,views:{list:{component:KZ,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});X0.touchMouseIgnoreWait=500;let dw=0,Vg=0,fw=!1;class A1{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&tJ(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let s=n.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,nJ()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:r-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new Pp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),rJ()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),sJ()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||sr(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){fw=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?sr(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return dw||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(fw=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,s=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:s}}createEventFromTouch(e,n){let r=e.touches,s,i,o=0,a=0;return r&&r.length?(s=r[0].pageX,i=r[0].pageY):(s=e.pageX,i=e.pageY),n?(this.origPageX=s,this.origPageY=i):(o=s-this.origPageX,a=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:i,deltaX:o,deltaY:a}}}function tJ(t){return t.button===0&&!t.ctrlKey}function nJ(){dw+=1,setTimeout(()=>{dw-=1},X0.touchMouseIgnoreWait)}function rJ(){Vg+=1,Vg===1&&window.addEventListener("touchmove",k1,{passive:!1})}function sJ(){Vg-=1,Vg||window.removeEventListener("touchmove",k1,{passive:!1})}function k1(t){fw&&t.preventDefault()}class iJ{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Pu(r,{left:s.left,top:s.top}),tY(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(T0(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Pu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Pu(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class D1 extends Y0{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class O1 extends D1{constructor(e,n){super(new RQ(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return EQ(this.scrollController.el)}}class oJ extends D1{constructor(e){super(new TQ,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const BT=typeof performance=="function"?performance.now:Date.now;class aJ{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=BT();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,s=n-window.scrollY,i=this.pointerScreenY===null?0:s-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(BT()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:s}=this,i=s-e.distance,o=i*i/(s*s)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,s=null,i=this.scrollCaches||[];for(let o of i){let a=o.clientRect,c=e-a.left,d=a.right-e,f=n-a.top,h=a.bottom-n;c>=0&&d>=0&&f>=0&&h>=0&&(f<=r&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>f)&&(s={scrollCache:o,name:"top",distance:f}),h<=r&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>h)&&(s={scrollCache:o,name:"bottom",distance:h}),c<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>c)&&(s={scrollCache:o,name:"left",distance:c}),d<=r&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>d)&&(s={scrollCache:o,name:"right",distance:d}))}return s}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new oJ(!1):new O1(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Pd extends DQ{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,nY(document.body),sY(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let i=this.minDistance,o,{deltaX:a,deltaY:c}=s;o=a*a+c*c,o>=i*i&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,rY(document.body),iY(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new A1(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new iJ,this.autoScroller=new aJ}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class lJ{constructor(e){this.el=e,this.origRect=K0(e),this.scrollCaches=BN(e).map(n=>new O1(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let s of this.scrollCaches)if(!cJ(s.getEventTarget())&&!dQ(r,s.clientRect))return!1;return!0}}function cJ(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Lp{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):s.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Pp}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,s=e.subjectEl,i;s instanceof HTMLElement&&(i=K0(s),r=fQ(r,i));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&i){let a=UN(i,o.rect);a&&(r=hQ(a))}this.coordAdjust=gQ(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Up(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=qi(this.droppableStore,e=>(e.component.prepareHits(),new lJ(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:s}=this,i=null;for(let o in r){let a=r[o].component,c=s[o];if(c&&c.isWithinClipping(e,n)){let d=c.computeLeft(),f=c.computeTop(),h=e-d,p=n-f,{origRect:m}=c,b=m.right-m.left,y=m.bottom-m.top;if(h>=0&&h<b&&p>=0&&p<y){let w=a.queryHit(h,p,b,y);w&&Mp(w.dateProfile.activeRange,w.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(h+d-window.scrollX,p+f-window.scrollY)))&&(!i||w.layer>i.layer)&&(w.componentId=o,w.context=a.context,w.rect.left+=d,w.rect.right+=d,w.rect.top+=f,w.rect.bottom+=f,i=w)}}}return i}}function Up(t,e){return!t&&!e?!0:!!t!=!!e?!1:eQ(t.dateSpan,e.dateSpan)}function I1(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,uJ(t,e.dateEnv)),n}function uJ(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class dJ extends xc{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:s}=this,i=r.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=r=>{let{component:s}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Up(o,a)){let{context:c}=s,d=Object.assign(Object.assign({},I1(o.dateSpan,c)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",d)}}},this.dragging=new Pd(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Lp(this.dragging,q0(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class fJ extends xc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:c}=this,{options:d}=a.context,f=d.selectable&&a.isValidDateDownEl(o.origEvent.target);c.setIgnoreMove(!f),c.delay=o.isTouch?hJ(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:c}=this.component,d=null,f=!1;if(o){let h=this.hitDragging.initialHit;o.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,o)||(d=gJ(h,o,c.pluginHooks.dateSelectionTransformers)),(!d||!jQ(d,o.dateProfile,c))&&(f=!0,d=null)}d?c.dispatch({type:"SELECT_DATES",selection:d}):a||c.dispatch({type:"UNSELECT_DATES"}),f?A0():k0(),a||(this.dragSelection=d)},this.handlePointerUp=o=>{this.dragSelection&&(IN(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,s=this.dragging=new Pd(e.el);s.touchScrollAllowed=!1,s.minDistance=r.selectMinDistance||0,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Lp(this.dragging,q0(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function hJ(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function gJ(t,e,n){let r=t.dateSpan,s=e.dateSpan,i=[r.range.start,r.range.end,s.range.start,s.range.end];i.sort(uY);let o={};for(let a of n){let c=a(t,e);if(c===!1)return null;c&&Object.assign(o,c)}return o.range={start:i[0],end:i[3]},o.allDay=r.allDay,o}class jd extends xc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:c,dragging:d}=this,{mirror:f}=d,{options:h}=c.context,p=c.context;this.subjectEl=o.subjectEl;let m=this.subjectSeg=oc(o.subjectEl),y=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=$0(p.getCurrentData().eventStore,y),d.minDistance=o.isTouch?0:h.eventDragMinDistance,d.delay=o.isTouch&&y!==c.props.eventSelection?mJ(c):null,h.fixedMirrorParent?f.parentNode=h.fixedMirrorParent:f.parentNode=sr(a,".fc"),f.revertDuration=h.dragRevertDuration;let w=c.isValidSegDownEl(a)&&!sr(a,".fc-event-resizer");d.setIgnoreMove(!w),this.isDragging=w&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,c=this.eventRange,d=c.instance.instanceId;o.isTouch?d!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Wt(a,c.def,c.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let c=this.relevantEvents,d=this.hitDragging.initialHit,f=this.component.context,h=null,p=null,m=null,b=!1,y={affectedEvents:c,mutatedEvents:Gr(),isEvent:!0};if(o){h=o.context;let w=h.options;f===h||w.editable&&w.droppable?(p=pJ(d,o,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(m=H0(c,h.getCurrentData().eventUiBases,p,h),y.mutatedEvents=m,YN(y,o.dateProfile,h)||(b=!0,p=null,m=null,y.mutatedEvents=Gr()))):h=null}this.displayDrag(h,y),b?A0():k0(),a||(f===h&&Up(d,o)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=p,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,c=a.viewApi,{receivingContext:d,validMutation:f}=this,h=this.eventRange.def,p=this.eventRange.instance,m=new Wt(a,h,p),b=this.relevantEvents,y=this.mutatedRelevantEvents,{finalHit:w}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:o.origEvent,view:c}),f){if(d===a){let _=new Wt(a,y.defs[h.defId],p?y.instances[p.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:y});let E={oldEvent:m,event:_,relatedEvents:Pa(y,a,p),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:b})}},T={};for(let k of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(T,k(f,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},E),T),{el:o.subjectEl,delta:f.datesDelta,jsEvent:o.origEvent,view:c})),a.emitter.trigger("eventChange",E)}else if(d){let _={event:m,relatedEvents:Pa(b,a,p),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:b})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},_),{draggedEl:o.subjectEl,view:c})),a.dispatch({type:"REMOVE_EVENTS",eventStore:b}),a.emitter.trigger("eventRemove",_);let E=y.defs[h.defId],T=y.instances[p.instanceId],k=new Wt(d,E,T);d.dispatch({type:"MERGE_EVENTS",eventStore:y});let A={event:k,relatedEvents:Pa(y,d,T),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:y})}};d.emitter.trigger("eventAdd",A),o.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},I1(w.dateSpan,d)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:w.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},A),{draggedEl:o.subjectEl,view:w.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,s=this.dragging=new Pd(e.el);s.pointer.selector=jd.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Lp(this.dragging,ow);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,s=this.receivingContext;s&&s!==e&&(s===r?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Gr(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}jd.SELECTOR=".fc-event-draggable, .fc-event-resizable";function pJ(t,e,n,r){let s=t.dateSpan,i=e.dateSpan,o=s.range.start,a=i.range.start,c={};s.allDay!==i.allDay&&(c.allDay=i.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,i.allDay?o=Mt(n):o=n);let d=Wl(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(c.allDay=!1);let f={datesDelta:d,standardProps:c};for(let h of r)h(f,t,e);return f}function mJ(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class vJ extends xc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:o}=this,a=this.querySegEl(i),c=oc(a),d=this.eventRange=c.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=i=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=$0(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(i);this.draggingSegEl=c,this.draggingSeg=oc(c),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:c,event:new Wt(o,a.def,a.instance),jsEvent:i.origEvent,view:o.viewApi})},this.handleHitUpdate=(i,o,a)=>{let{context:c}=this.component,d=this.relevantEvents,f=this.hitDragging.initialHit,h=this.eventRange.instance,p=null,m=null,b=!1,y={affectedEvents:d,mutatedEvents:Gr(),isEvent:!0};i&&(i.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,i)||(p=yJ(f,i,a.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),p&&(m=H0(d,c.getCurrentData().eventUiBases,p,c),y.mutatedEvents=m,YN(y,i.dateProfile,c)||(b=!0,p=null,m=null,y.mutatedEvents=null)),m?c.dispatch({type:"SET_EVENT_RESIZE",state:y}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),b?A0():k0(),o||(p&&Up(f,i)&&(p=null),this.validMutation=p,this.mutatedRelevantEvents=m)},this.handleDragEnd=i=>{let{context:o}=this.component,a=this.eventRange.def,c=this.eventRange.instance,d=new Wt(o,a,c),f=this.relevantEvents,h=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:i.origEvent,view:o.viewApi}),this.validMutation){let p=new Wt(o,h.defs[a.defId],c?h.instances[c.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:h});let m={oldEvent:d,event:p,relatedEvents:Pa(h,o,c),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:f})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||lt(0),endDelta:this.validMutation.endDelta||lt(0),jsEvent:i.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",m)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Pd(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let s=this.hitDragging=new Lp(this.dragging,q0(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return sr(e.subjectEl,".fc-event")}}function yJ(t,e,n,r){let s=t.context.dateEnv,i=t.dateSpan.range.start,o=e.dateSpan.range.start,a=Wl(i,o,s,t.largeUnit);if(n){if(s.add(r.start,a)<r.end)return{startDelta:a}}else if(s.add(r.end,a)>r.start)return{endDelta:a};return null}class bJ{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let s=this.context.options.unselectCancel,i=uN(r.origEvent);this.matchesCancel=!!sr(i,s),this.matchesEvent=!!sr(i,jd.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:s}=this,{documentPointer:i}=this,o=s.getCurrentData();if(!i.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=s.options.unselectAuto;a&&(!a||!this.matchesCancel)&&s.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new A1(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const wJ={fixedMirrorParent:te},_J={dateClick:te,eventDragStart:te,eventDragStop:te,eventDrop:te,eventResizeStart:te,eventResizeStop:te,eventResize:te,drop:te,eventReceive:te,eventLeave:te};X0.dataAttrPrefix="";var SJ=pi({name:"@fullcalendar/interaction",componentInteractions:[dJ,fJ,jd,vJ],calendarInteractions:[bJ],elementDraggingImpl:Pd,optionRefiners:wJ,listenerRefiners:_J});function xJ({machineId:t,refreshTrigger:e}){const[n,r]=C.useState(!1),[s,i]=C.useState({}),o=ie.useRef(null),{machines:a}=xp(),{odpOrders:c}=rd(),{machineAvailability:d,loadMachineAvailabilityForDateRange:f,toggleMachineHourAvailability:h,getTaskOccupiedSegments:p}=Od(),{showAlert:m}=Bn();gi("FullCalendarGrid");const b=a.find(A=>A.id===t),y=C.useCallback(A=>{try{const I=p(A);return I&&I.length>0?I:A.scheduled_start_time&&A.scheduled_end_time?[{start:new Date(A.scheduled_start_time),end:new Date(A.scheduled_end_time),duration:(new Date(A.scheduled_end_time).getTime()-new Date(A.scheduled_start_time).getTime())/(1e3*60*60)}]:[]}catch(I){return console.warn("Failed to get task segments:",I),[]}},[p]),w=C.useMemo(()=>{if(!b)return[];const A=[];return c.filter(I=>I.status==="SCHEDULED"&&I.scheduled_machine_id===b.id&&I.scheduled_start_time&&I.scheduled_end_time).forEach(I=>{const M=y(I);M.forEach((D,P)=>{const j=M.length>1;A.push({id:`${I.id}-segment-${P}`,title:`${I.odp_number} - ${I.article_code}${j?` (${P+1}/${M.length})`:""}`,start:D.start,end:D.end,backgroundColor:j?"#8b5cf6":"#3b82f6",borderColor:j?"#7c3aed":"#2563eb",textColor:"#ffffff",extendedProps:{taskId:I.id,odpNumber:I.odp_number,articleCode:I.article_code,quantity:I.quantity,status:I.status,segmentIndex:P,totalSegments:M.length,isSplitTask:j}})})}),A},[b,c,y]),_=C.useMemo(()=>{if(!d||!b)return[];const A=[];return Object.entries(d).forEach(([I,M])=>{if(Array.isArray(M)){const D=M.find(P=>P.machine_id===t);D&&D.unavailable_hours&&(Array.isArray(D.unavailable_hours)?D.unavailable_hours:[]).forEach(j=>{const z=parseInt(j);if(z<6||z>=22)return;const G=new Date(I);G.setUTCHours(z,0,0,0);const Q=new Date(G);Q.setUTCHours(z+1,0,0,0),A.push({id:`availability-${I}-${j}`,title:"Unavailable",start:G,end:Q,backgroundColor:"#ef4444",borderColor:"#dc2626",textColor:"#ffffff",display:"background",extendedProps:{type:"availability",date:I,hour:parseInt(j)}})})}}),A},[d,t,b]);C.useEffect(()=>{(async()=>{if(t){r(!0);try{const I=new Date,M=new Date(Date.UTC(I.getUTCFullYear(),I.getUTCMonth(),1)),D=new Date(Date.UTC(I.getUTCFullYear(),I.getUTCMonth()+1,0));await f(t,kn(M,"yyyy-MM-dd"),kn(D,"yyyy-MM-dd"))}catch(I){console.error("Failed to load machine availability data:",I)}finally{r(!1)}}})()},[t,e]);const E=C.useCallback(async A=>{const I=A.date,M=kn(I,"yyyy-MM-dd"),D=I.getUTCHours();if(w.some(z=>{const G=new Date(z.start),Q=new Date(z.end),oe=new Date(I);return oe>=G&&oe<Q})){m("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!b)return;const j=`${M}-${D}`;i(z=>({...z,[j]:!0}));try{await h(b.id,M,D)}catch(z){console.error("Failed to toggle machine hour availability:",z),m("An unexpected error occurred.","error")}finally{i(z=>({...z,[j]:!1}))}},[w,m,b,h]),T=C.useCallback(A=>{const I=A.event,M=I.extendedProps;M.type==="availability"?console.log("Availability event clicked:",M):console.log("Scheduled task clicked:",{odpNumber:M.odpNumber,articleCode:M.articleCode,quantity:M.quantity,start:I.start,end:I.end})},[]),k=C.useMemo(()=>({plugins:[tZ,$Z,eJ,SJ],initialView:"dayGridMonth",initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},height:"auto",locale:"it",timeZone:"UTC",firstDay:a6.APP.FIRST_DAY_OF_WEEK,slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},dayHeaderFormat:{weekday:"short",day:"numeric"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},buttonText:{today:"Oggi",month:"Mese",week:"Settimana",day:"Giorno"},eventClick:T,dateClick:E,events:[...w,..._]}),[T,E,w,_]);return b?n?S.jsx("div",{className:"loading",children:"Loading calendar data..."}):S.jsx("div",{className:"fullcalendar-container",children:S.jsx(p1,{ref:o,...k})}):S.jsx("div",{className:"loading",children:"Loading machine data..."})}function EJ(){const{machineId:t}=op(),[e,n]=C.useState(0),{getMachineById:r}=xp(),{isLoading:s,isInitialized:i}=Bn(),{init:o,cleanup:a}=Ko(),c=r(t);if(C.useEffect(()=>{if(!i){console.log("Initializing main store...");const f=o(),h=new Promise((p,m)=>setTimeout(()=>m(new Error("Initialization timeout")),1e4));Promise.race([f,h]).catch(p=>{console.error("Initialization failed or timed out:",p)})}return()=>{a()}},[o,i,a]),s)return S.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:S.jsxs("div",{className:"text-center py-1 text-gray-500 text-[10px]",children:["Caricamento calendario macchina... (Loading: ",s.toString(),", Initialized: ",i.toString(),")"]})});if(!c)return S.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:S.jsxs("div",{className:"text-center py-1 text-red-600 text-[10px]",children:["Macchina non trovata (ID: ",t,", Initialized: ",i.toString(),")"]})});const d=()=>{n(f=>f+1)};return S.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[S.jsx(xK,{title:"Calendario Disponibilità Macchina"}),S.jsx("div",{className:"mb-1",children:S.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:c.machine_name})}),!1,S.jsx(EK,{machineId:c.id,currentDate:new Date,onSuccess:d}),S.jsx(xJ,{machineId:c.id,refreshTrigger:e})]})}function CJ(){const{data:t=[],isLoading:e,error:n}=E0(),r=vK(),{selectedWorkCenter:s,isInitialized:i,showConfirmDialog:o}=Bn(),{init:a,cleanup:c}=Ko(),d=fi(),f=C.useMemo(()=>s?s===mt.BOTH?t:t.filter(b=>b.work_center===s):[],[t,s]);gi("PhasesListPage"),C.useEffect(()=>(i||a(),()=>{c()}),[a,i,c]);const h=C.useMemo(()=>[{header:"Nome Fase",accessorKey:"name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Numero Persone",accessorKey:"numero_persone"},{header:"V Stampa",accessorKey:"v_stampa"},{header:"T Setup Stampa (h)",accessorKey:"t_setup_stampa"},{header:"Costo H Stampa",accessorKey:"costo_h_stampa"},{header:"V Conf",accessorKey:"v_conf"},{header:"T Setup Conf (h)",accessorKey:"t_setup_conf"},{header:"Costo H Conf",accessorKey:"costo_h_conf"},{header:"Contenuto Fase",accessorKey:"contenuto_fase"}],[]),p=b=>{d(`/phases/${b.id}/edit`)},m=async b=>{o("Elimina Fase",`Sei sicuro di voler eliminare "${b.name}"? Questa azione non può essere annullata.`,async()=>{try{await r.mutateAsync(b.id),Ka(`Fase "${b.name}" eliminata con successo`)}catch(y){Ao(y.message||"Errore durante l'eliminazione della fase")}},"danger")};return e?S.jsx("div",{children:"Caricamento dati fasi..."}):n?S.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle fasi: ",n.message]}):s?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Fasi"}),S.jsx(sn,{to:"/phases/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Fase"})]}),S.jsx(v0,{columns:h,data:f,onEditRow:p,onDeleteRow:m,enableGlobalSearch:!1})]}):S.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle fasi."})}function RJ({phaseToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Bn(),r=pK(),s=mK(),{handleAsync:i}=gi("PhasesForm"),o=!!t,a=C.useMemo(()=>{const f={...Xs};return n!==mt.BOTH&&(f.sections[0].fields[3].disabled=!0,f.sections[0].fields[3].defaultValue=n,f.sections[0].fields[3].helpText="Il centro di lavoro è impostato in base alla tua selezione di accesso"),f},[n]),c=C.useMemo(()=>({name:t?.name||"",department:t?.department||Xs.sections[0].fields[1].defaultValue,numero_persone:t?.numero_persone||Xs.sections[0].fields[2].defaultValue,work_center:t?.work_center||(n===mt.BOTH?Xs.sections[0].fields[3].defaultValue:n),v_stampa:t?.v_stampa||Xs.sections[1].fields[0].defaultValue,t_setup_stampa:t?.t_setup_stampa||Xs.sections[1].fields[1].defaultValue,costo_h_stampa:t?.costo_h_stampa||Xs.sections[1].fields[2].defaultValue,v_conf:t?.v_conf||Xs.sections[2].fields[0].defaultValue,t_setup_conf:t?.t_setup_conf||Xs.sections[2].fields[1].defaultValue,costo_h_conf:t?.costo_h_conf||Xs.sections[2].fields[2].defaultValue,contenuto_fase:t?.contenuto_fase||""}),[n,t]),d=async f=>{await i(async()=>{o?await s.mutateAsync({id:t.id,updates:f}):await r.mutateAsync(f),e&&e(),Ka(o?"Fase aggiornata con successo":"Fase aggiunta con successo")},{context:o?"Update Phase":"Add Phase",fallbackMessage:o?"Aggiornamento fase fallito":"Aggiunta fase fallita"})};return S.jsx(Sp,{config:a,initialData:c,onSubmit:d,onSuccess:e,isEditMode:o})}function zT(){const{id:t}=op(),e=fi(),{selectedWorkCenter:n}=Bn(),{isLoading:r,isInitialized:s,init:i,cleanup:o}=Ko(),a=!!t,{data:c,isLoading:d,error:f}=gK(t);return C.useEffect(()=>(s||i(),()=>{o()}),[i,s,o]),C.useEffect(()=>{a&&!r&&!d&&!c&&!f&&e("/phases",{replace:!0})},[a,r,d,c,f,e]),r||a&&d?S.jsx("div",{children:"Caricamento..."}):a&&f?S.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento della fase: ",f.message]}):a&&!c?S.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Fase non trovata."}):n?S.jsxs("div",{className:"space-y-6",children:[S.jsx("div",{className:"flex items-center justify-between",children:S.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:a?`Modifica Fase: ${c?.name}`:"Aggiungi Nuova Fase"})}),S.jsx(RJ,{phaseToEdit:c})]}):S.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le fasi."})}function TJ(){const{selectedWorkCenter:t,showConfirmDialog:e}=Bn(),n=fi(),{data:r=[],isLoading:s,error:i}=kp(),{data:o=[],isLoading:a}=Ap(),{data:c=[],isLoading:d}=E0(),f=hK(),{handleAsync:h}=gi("BacklogListPage");if(i)return S.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento degli ordini: ",i.message]});const p=C.useMemo(()=>{if(!t)return[];let _=r;return t!==mt.BOTH&&(_=r.filter(E=>E.work_center===t)),_.map(E=>({...E,machine_name:E.scheduled_machine_id?o.find(T=>T.id===E.scheduled_machine_id)?.machine_name||"Macchina non trovata":"Non programmato",phase_name:E.fase?c.find(T=>T.id===E.fase)?.name||"Fase non trovata":"Fase non assegnata",progress:E.progress||0,time_remaining:E.time_remaining||E.duration||0}))},[r,t,o,c]),m=s||a||d,b=C.useMemo(()=>[{header:"Numero ODP",accessorKey:"odp_number",cell:_=>{const E=_.row.original.status,T=_.getValue(),k=E==="SCHEDULED";return S.jsx("span",{className:k?"text-green-600 font-medium":"",children:T})}},{header:"Codice Articolo",accessorKey:"article_code"},{header:"Note ASD",accessorKey:"asd_notes",cell:_=>{const E=_.getValue();return E?S.jsx("div",{className:"max-w-[200px] truncate text-[10px]",title:E,children:E}):"N/A"}},{header:"Nome Cliente",accessorKey:"nome_cliente"},{header:"Quantità",accessorKey:"quantity"},{header:"Quantità Completata",accessorKey:"quantity_completed"},{header:"Altezza Busta (mm)",accessorKey:"bag_height"},{header:"Larghezza Busta (mm)",accessorKey:"bag_width"},{header:"Passo Busta (mm)",accessorKey:"bag_step"},{header:"Lotto Produzione",accessorKey:"production_lot"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Lati Sigillati",accessorKey:"seal_sides"},{header:"Tipo Prodotto",accessorKey:"product_type"},{header:"Data Consegna",accessorKey:"delivery_date",cell:_=>_.getValue()?kn(new Date(_.getValue()),"yyyy-MM-dd"):"Non impostata"},{header:"Inizio Programmato",accessorKey:"scheduled_start_time",cell:_=>_.getValue()?new Date(_.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Fine Programmata",accessorKey:"scheduled_end_time",cell:_=>_.getValue()?new Date(_.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Codice Cliente Interno",accessorKey:"internal_customer_code"},{header:"Codice Cliente Esterno",accessorKey:"external_customer_code"},{header:"Riferimento Ordine Cliente",accessorKey:"customer_order_ref"},{header:"Note Libere",accessorKey:"user_notes"},{header:"Nome Fase",accessorKey:"phase_name"},{header:"Durata (ore)",accessorKey:"duration",cell:_=>{const E=_.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Costo (€)",accessorKey:"cost",cell:_=>{const E=_.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Stato",accessorKey:"status"},{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Progresso (%)",accessorKey:"progress",cell:_=>{const E=_.getValue();return typeof E=="number"?`${E}%`:E}},{header:"Tempo Rimanente (ore)",accessorKey:"time_remaining",cell:_=>{const E=_.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Material ISP (%)",accessorKey:"material_availability_isp",cell:_=>{const E=_.getValue();if(typeof E!="number")return E||"N/A";const T=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return S.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${T} text-black text-[10px] font-medium`,children:E})}},{header:"Material Lotti (%)",accessorKey:"material_availability_lotti",cell:_=>{const E=_.getValue();if(typeof E!="number")return E||"N/A";const T=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return S.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${T} text-black text-[10px] font-medium`,children:E})}},{header:"Material Global (%)",accessorKey:"material_availability_global",cell:_=>{const E=_.getValue();if(typeof E!="number")return E||"N/A";const T=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return S.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${T} text-black text-[10px] font-medium`,children:E})}}],[]);C.useMemo(()=>b.map(_=>_.accessorKey),[b]);const y=_=>{n(`/backlog/${_.id}/edit`)},w=async _=>{e("Elimina Ordine",`Sei sicuro di voler eliminare "${_.odp_number}"? Questa azione non può essere annullata.`,async()=>{await h(async()=>{await f.mutateAsync(_.id)},{context:"Delete Order",fallbackMessage:"Eliminazione ordine fallita"})},"danger")};return m?S.jsx("div",{children:"Caricamento dati backlog..."}):t?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Ordini"}),S.jsx(sn,{to:"/backlog/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Ordine"})]}),S.jsx(v0,{columns:b,data:p,onEditRow:y,onDeleteRow:w,stickyColumns:["odp_number","article_code"],enableGlobalSearch:!1,enableFiltering:!1})]}):S.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati del backlog."})}const AJ=({onSuccess:t,orderToEdit:e})=>{const{selectedWorkCenter:n,showConflictDialog:r}=Bn(),{scheduleTaskFromSlot:s,unscheduleTask:i}=Od(),{calculateProductionMetrics:o,validatePhaseParameters:a,autoDetermineWorkCenter:c,autoDetermineDepartment:d}=RM(),{handleAsync:f}=gi("BacklogForm"),{validateOrder:h}=nK(),p=dK(),m=fK(),b=Vt(),[y,w]=C.useState(null),_=!!e,E=C.useMemo(()=>{const Ce={..._K};if(n!==mt.BOTH){const Ge=Ce.sections[0].fields.find(nt=>nt.name==="work_center");Ge&&(Ge.disabled=!0,Ge.defaultValue=n,Ge.helpText="Centro di lavoro pre-impostato.")}return Ce},[n]),T=C.useMemo(()=>({odp_number:e?.odp_number||"",article_code:e?.article_code||"",work_center:e?.work_center||(n===mt.BOTH?"":n),nome_cliente:e?.nome_cliente||"",delivery_date:e?.delivery_date?new Date(e.delivery_date).toISOString().slice(0,16):"",quantity:e?.quantity||"",customer_order_ref:e?.customer_order_ref||"",department:e?.department||"",quantity_completed:e?.quantity_completed||$t.ORDER.QUANTITY_COMPLETED,production_lot:e?.production_lot||null,bag_height:e?.bag_height||null,bag_width:e?.bag_width||null,bag_step:e?.bag_step||null,seal_sides:e?.seal_sides||null,product_type:e?.product_type||null,internal_customer_code:e?.internal_customer_code||null,external_customer_code:e?.external_customer_code||null,user_notes:e?.user_notes||null,asd_notes:e?.asd_notes||null,material_availability_global:e?.material_availability_global||null,fase:e?.fase||null}),[n,e]),[k,A]=C.useState(T.department),[I,M]=C.useState(T.work_center),[D,P]=C.useState(T.quantity),[j,z]=C.useState(T.bag_step),{phaseSearch:G,setPhaseSearch:Q,isDropdownVisible:oe,setIsDropdownVisible:ce,selectedPhase:ee,setSelectedPhase:re,filteredPhases:$,editablePhaseParams:B,setEditablePhaseParams:Z,handlePhaseParamChange:U,handlePhaseSelect:J,handleBlur:le}=rK(k,I,_?e?.fase:null),ue=C.useCallback(()=>{Q(""),re(null),Z({}),w(null)},[Q,re,Z]),Se=C.useCallback((Ce,Ge)=>{if(Ce){const nt=d(Ce);Ge("department",nt),n===mt.BOTH&&Ge("work_center",c(Ce)),Ge("fase",""),Q(""),re(null),Z({}),w(null)}},[d,c,n,Q,re,Z]),_e=async Ce=>{const Ge=h(Ce);if(!Ge.isValid){const Ze=Object.entries(Ge.errors).map(([N,W])=>`${{odp_number:"Numero ODP",article_code:"Codice Articolo",work_center:"Centro di Lavoro",nome_cliente:"Nome Cliente",quantity:"Quantità",delivery_date:"Data di Consegna",customer_order_ref:"Riferimento Ordine Cliente",department:"Reparto",bag_height:"Altezza Busta",bag_width:"Larghezza Busta",bag_step:"Passo Busta",seal_sides:"Lati Sigillatura",product_type:"Tipo Prodotto",internal_customer_code:"Codice Cliente Interno",external_customer_code:"Codice Cliente Esterno"}[N]||N}: ${W}`);bG(Ze);return}const nt=Ce.fase,kt=ee?.department===Zt.PRINTING;if(nt&&(!kt||Ce.bag_step)&&(!y?.totals||typeof y.totals.duration!="number"||typeof y.totals.cost!="number")){xu("Calcola le metriche di produzione valide prima di procedere.");return}await f(async()=>{const{phase_search:Ze,...N}=Ce,W={...N,fase:N.fase===""?null:N.fase,scheduled_machine_id:N.scheduled_machine_id===""?null:N.scheduled_machine_id,production_lot:N.production_lot===""?null:N.production_lot,internal_customer_code:N.internal_customer_code===""?null:N.internal_customer_code,external_customer_code:N.external_customer_code===""?null:N.external_customer_code,user_notes:N.user_notes===""?null:N.user_notes,asd_notes:N.asd_notes===""?null:N.asd_notes,material_availability_global:N.material_availability_global===""?null:N.material_availability_global,bag_height:N.bag_height===""?null:N.bag_height,bag_width:N.bag_width===""?null:N.bag_width,bag_step:N.bag_step===""?null:N.bag_step,seal_sides:N.seal_sides===""?null:N.seal_sides,product_type:N.product_type===""?null:N.product_type};let K;if(_){const q=y?.totals?.duration||e.duration,se=e.quantity_completed/e.quantity||0,ae=q*(1-se);if(e.scheduled_machine_id&&e.scheduled_start_time){console.log("🔄 EDIT FLOW: Starting rescheduling for task",e.id),console.log("📊 EDIT FLOW: Original duration:",e.duration,"New duration:",q);const pe=e.duration,ve=q-pe;if(Math.abs(ve)<.01){console.log("📊 SCENARIO X: Duration unchanged, skipping rescheduling");const be={...W,duration:q,cost:y?.totals?.cost||null};K=await m.mutateAsync({id:e.id,updates:be})}else if(ve>0){console.log("📈 SCENARIO Y: Duration increased, using standard rescheduling");const be=new Date(e.scheduled_start_time),Ne=be.getUTCHours(),Ke=be.getUTCMinutes(),ze=new Date(Date.UTC(be.getUTCFullYear(),be.getUTCMonth(),be.getUTCDate()));console.log("📅 EDIT FLOW: Start date:",be.toISOString()),console.log("⏰ EDIT FLOW: Hour:",Ne,"Minute:",Ke),console.log("📆 EDIT FLOW: Current date:",ze.toISOString());const at={duration:q};console.log("💾 EDIT FLOW: Updating task with new duration:",at),await m.mutateAsync({id:e.id,updates:at}),await new Promise(st=>setTimeout(st,100));const{getOrderById:ct}=rd.getState(),Gn=ct(e.id);console.log("🔍 EDIT FLOW: Task duration after update:",Gn?.duration),console.log("🔄 EDIT FLOW: Unscheduling task first"),await i(e.id,b),await new Promise(st=>setTimeout(st,100));const Et={id:e.scheduled_machine_id};console.log("🎯 EDIT FLOW: Calling scheduleTaskFromSlot with:",{taskId:e.id,machine:Et,currentDate:ze.toISOString(),hour:Ne,minute:Ke,timeRemaining:ae});const rt=await s(e.id,Et,ze,Ne,Ke,ae,b);if(console.log("📋 EDIT FLOW: scheduleTaskFromSlot result:",rt),rt?.conflict){console.log("⚠️ EDIT FLOW: Conflict detected, showing dialog");const st={...rt,schedulingParams:{taskId:e.id,machine:Et,currentDate:ze,hour:Ne,minute:Ke,newDuration:ae,originalConflict:rt}};r(st);return}else if(rt?.error){console.log("❌ EDIT FLOW: Error:",rt.error),Ao(rt.error);return}else console.log("✅ EDIT FLOW: Scheduling successful");const Gt=rt?.updatedTask;console.log("📋 EDIT FLOW: Updated task from scheduling result:",Gt);const Qe={...W,duration:q,cost:y?.totals?.cost||null,scheduled_start_time:Gt?.scheduled_start_time||be.toISOString(),scheduled_end_time:Gt?.scheduled_end_time||new Date(be.getTime()+q*36e5).toISOString(),description:Gt?.description||e.description};console.log("💾 EDIT FLOW: Final order data to save:",Qe),K=await m.mutateAsync({id:e.id,updates:Qe}),console.log("✅ EDIT FLOW: Final update completed:",K)}else{console.log("📉 SCENARIO Z: Duration decreased, using adjacent task rescheduling");const be=await Pe(e.id,q,ae,W,y?.totals?.cost||null,b,m,s,i,r);if(be?.error){console.log("❌ SCENARIO Z: Error:",be.error),Ao(be.error);return}K=be.updatedOrder,console.log("✅ SCENARIO Z: Duration decrease rescheduling completed:",K)}}else{const pe={...W,duration:q,cost:y?.totals?.cost||null};K=await m.mutateAsync({id:e.id,updates:pe})}}else{const q={...W,duration:y?.totals?.duration||null,cost:y?.totals?.cost||null,status:"NOT SCHEDULED"};K=await p.mutateAsync(q)}t&&t(),ue(),Ka(_?"Ordine aggiornato con successo":"Ordine aggiunto con successo")},{context:_?"Aggiorna Ordine":"Aggiungi Ordine",fallbackMessage:_?"Aggiornamento ordine fallito":"Aggiunta ordine fallita"})},ge=()=>{if(!ee){xu("Seleziona una fase prima di calcolare.");return}if(!D){xu("Inserisci la quantità per calcolare.");return}if(ee.department===Zt.PRINTING&&!j){xu("Inserisci il passo busta per calcolare la stampa.");return}const Ce={...ee,...B},Ge=a(Ce);if(!Ge.isValid){Ao(Ge.error),w(null);return}const nt=ee.department===Zt.PRINTING?j:null,kt=o(Ce,D,nt);if(!kt||typeof kt.totals?.duration!="number"||typeof kt.totals?.cost!="number"){Ao("Errore nel calcolo. Verifica i parametri della fase."),w(null);return}w(kt)},fe=Ce=>B[Ce]??ee[Ce]??"",Pe=async(Ce,Ge,nt,kt,gn,Ze,N,W,K,q,se)=>{try{console.log("📉 SCENARIO Z: Starting duration decrease rescheduling for task",Ce);const{getOrderById:ae,getOdpOrders:pe}=rd.getState(),ve=ae(Ce);if(!ve)return{error:"Task not found"};const be=new Date(ve.scheduled_start_time),Ne=be.getUTCHours(),Ke=be.getUTCMinutes(),ze=new Date(Date.UTC(be.getUTCFullYear(),be.getUTCMonth(),be.getUTCDate())),at={id:ve.scheduled_machine_id};console.log("📅 SCENARIO Z: Current task start:",be.toISOString()),console.log("📅 SCENARIO Z: New time remaining:",nt);const ct=new Date(ve.scheduled_end_time);console.log("📅 SCENARIO Z: Current end time for task A (from DB):",ct.toISOString());const Gn=pe(),Et=[];let rt=ct;for(console.log("🔍 SCENARIO Z: Starting to find chain of adjacent tasks...");;){const Gt=Gn.find(Qe=>{if(Qe.id===Ce||!Qe.scheduled_machine_id||!Qe.scheduled_start_time||Qe.status!=="SCHEDULED"||Qe.scheduled_machine_id!==ve.scheduled_machine_id||Et.some(Hn=>Hn.id===Qe.id))return!1;const st=new Date(Qe.scheduled_start_time),vr=Math.abs(st.getTime()-rt.getTime())/(1e3*60);return console.log("🔍 SCENARIO Z: Checking task",Qe.odp_number,"start:",st.toISOString(),"diff:",vr,"minutes","against end time:",rt.toISOString()),vr<=120});if(Gt)console.log("🔗 SCENARIO Z: Found adjacent task in chain:",Gt.odp_number),Et.push(Gt),rt=new Date(Gt.scheduled_end_time),console.log("📅 SCENARIO Z: Next task end time for chain:",rt.toISOString()),console.log("🔄 SCENARIO Z: Continuing to search for more adjacent tasks...");else{console.log("🛑 SCENARIO Z: No more adjacent tasks found, stopping chain search");break}}if(Et.length>0){console.log("🔗 SCENARIO Z: Found chain of",Et.length,"adjacent tasks:",Et.map(xe=>xe.odp_number)),console.log("🔄 SCENARIO Z: Step 2 - Rescheduling task A");const Gt={duration:Ge};await N.mutateAsync({id:Ce,updates:Gt}),await new Promise(xe=>setTimeout(xe,100)),await K(Ce,Ze),await new Promise(xe=>setTimeout(xe,100));const Qe=await W(Ce,at,ze,Ne,Ke,nt,Ze);if(Qe?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for task A, showing dialog");const xe={...Qe,schedulingParams:{taskId:Ce,machine:at,currentDate:ze,hour:Ne,minute:Ke,newDuration:nt,originalConflict:Qe}};return q(xe),{error:"Conflict detected for task A"}}else if(Qe?.error)return console.log("❌ SCENARIO Z: Error rescheduling task A:",Qe.error),{error:Qe.error};console.log("✅ SCENARIO Z: Task A rescheduled successfully"),console.log("🔄 SCENARIO Z: Step 3 - Rescheduling chain of",Et.length,"tasks");let st=new Date(Qe.schedulingResult.endTime);const vr=[];for(let xe=0;xe<Et.length;xe++){const Xe=Et[xe];console.log(`🔄 SCENARIO Z: Rescheduling chain task ${xe+1}/${Et.length}:`,Xe.odp_number);const it=st.getUTCHours(),dt=st.getUTCMinutes(),tn=new Date(Date.UTC(st.getUTCFullYear(),st.getUTCMonth(),st.getUTCDate()));console.log("📅 SCENARIO Z: Chain task new start time:",st.toISOString()),console.log("⏰ SCENARIO Z: Chain task new hour:",it,"minute:",dt);const _t=Xe.time_remaining||Xe.duration||1;console.log("📊 SCENARIO Z: Chain task time remaining:",_t),await K(Xe.id,Ze),await new Promise(cn=>setTimeout(cn,100));const qe=await W(Xe.id,at,tn,it,dt,_t,Ze);if(qe?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for chain task",Xe.odp_number,", showing dialog");const cn={...qe,schedulingParams:{taskId:Xe.id,machine:at,currentDate:tn,hour:it,minute:dt,newDuration:_t,originalConflict:qe}};return q(cn),{error:`Conflict detected for chain task ${Xe.odp_number}`}}else if(qe?.error)return console.log("❌ SCENARIO Z: Error rescheduling chain task",Xe.odp_number,":",qe.error),{error:`Error rescheduling chain task ${Xe.odp_number}: ${qe.error}`};console.log("✅ SCENARIO Z: Chain task",Xe.odp_number,"rescheduled successfully"),vr.push(qe),st=new Date(qe.schedulingResult.endTime),console.log("📅 SCENARIO Z: Updated end time for next chain task:",st.toISOString())}console.log("✅ SCENARIO Z: All",Et.length,"chain tasks rescheduled successfully");const Hn=Qe?.updatedTask,ut={...kt,duration:Ge,cost:gn,scheduled_start_time:Hn?.scheduled_start_time||be.toISOString(),scheduled_end_time:Hn?.scheduled_end_time||new Date(be.getTime()+Ge*36e5).toISOString(),description:Hn?.description||ve.description},ln=await N.mutateAsync({id:Ce,updates:ut});return console.log("✅ SCENARIO Z: Task A and",Et.length,"chain tasks rescheduled successfully"),{updatedOrder:ln}}else{console.log("📊 SCENARIO Z: No adjacent task found, using standard rescheduling");const Gt={duration:Ge};await N.mutateAsync({id:Ce,updates:Gt}),await new Promise(ut=>setTimeout(ut,100)),await K(Ce,Ze),await new Promise(ut=>setTimeout(ut,100));const Qe=await W(Ce,at,ze,Ne,Ke,nt,Ze);if(Qe?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected, showing dialog");const ut={...Qe,schedulingParams:{taskId:Ce,machine:at,currentDate:ze,hour:Ne,minute:Ke,newDuration:nt,originalConflict:Qe}};return q(ut),{error:"Conflict detected"}}else if(Qe?.error)return console.log("❌ SCENARIO Z: Error:",Qe.error),{error:Qe.error};const st=Qe?.updatedTask,vr={...kt,duration:Ge,cost:gn,scheduled_start_time:st?.scheduled_start_time||be.toISOString(),scheduled_end_time:st?.scheduled_end_time||new Date(be.getTime()+Ge*36e5).toISOString(),description:st?.description||ve.description};return{updatedOrder:await N.mutateAsync({id:Ce,updates:vr})}}}catch(ae){return console.error("❌ SCENARIO Z: Error in handleDurationDecreaseRescheduling:",ae),{error:ae.message||"Error during duration decrease rescheduling"}}},Be=()=>ee?ee.department===Zt.PRINTING?[{name:"v_stampa",label:"Velocità Stampa:",unit:"mt/h"},{name:"t_setup_stampa",label:"Setup Stampa:",unit:"h"},{name:"costo_h_stampa",label:"Costo Stampa:",unit:"€/h"}]:[{name:"v_conf",label:"Velocità Confezionamento:",unit:"pz/h"},{name:"t_setup_conf",label:"Setup Confezionamento:",unit:"h"},{name:"costo_h_conf",label:"Costo Confezionamento:",unit:"€/h"}]:[],xt=C.useMemo(()=>({article_code:(Ce,{watch:Ge,setValue:nt,getValues:kt,register:gn})=>S.jsx(Ln,{type:"text",...gn(Ce.name,{...Ce.validation,onChange:Ze=>{Ce.validation?.onChange&&Ce.validation.onChange(Ze),Se(Ze.target.value,nt)}}),placeholder:Ce.placeholder,disabled:Ce.disabled,className:Ce.className}),phase_search:(Ce,{watch:Ge,setValue:nt,getValues:kt,register:gn})=>{const Ze=Ge("department"),N=Ge("work_center"),W=Ge("quantity"),K=Ge("bag_step");return C.useEffect(()=>{Ze!==k&&A(Ze),N!==I&&M(N),W!==D&&P(W),K!==j&&z(K)},[Ze,N,W,K,k,I,D,j]),S.jsxs("div",{className:"relative",children:[S.jsx(Ln,{type:"text",value:G,onChange:q=>Q(q.target.value),onFocus:()=>ce(!0),onBlur:le,placeholder:"Cerca fase di produzione..."}),S.jsx("input",{type:"hidden",...gn("fase")}),oe&&$.length>0&&S.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:$.map(q=>S.jsxs("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onMouseDown:()=>{J(q,nt,()=>{}),w(null)},children:[S.jsx("div",{className:"text-[10px] font-medium",children:q.name}),S.jsx("div",{className:"text-[10px] text-gray-600",children:q.contenuto_fase})]},q.id))})]})},phase_parameters:()=>ee?S.jsxs("div",{className:"space-y-2",children:[S.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Parametri Fase Selezionata"}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:Be().map(Ce=>S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:Ce.name,children:Ce.label}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(Ln,{type:"number",id:Ce.name,value:fe(Ce.name),onChange:Ge=>U(Ce.name,Ge.target.value)}),S.jsx("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:Ce.unit})]})]},Ce.name))})]}):null,calculation_results:()=>y?.totals?S.jsxs("div",{className:"space-y-2",children:[S.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Risultati Calcolo Produzione"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{children:"Durata Totale (ore):"}),S.jsx("div",{className:"text-[10px] font-semibold text-navy-800",children:y.totals.duration.toFixed(2)})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{children:"Costo Totale (€):"}),S.jsx("div",{className:"text-[10px] font-semibold text-green-600",children:y.totals.cost.toFixed(2)})]})]})]}):null}),[G,Q,oe,ce,$,le,J,ee,fe,U,Be,y,Se]),wt=C.useMemo(()=>S.jsx("div",{className:"flex justify-end space-x-4 pt-6",children:S.jsx(Po,{type:"button",variant:"outline",onClick:ge,disabled:!ee,children:"Calcola"})}),[ee,ge]),an=p.isPending||m.isPending;return S.jsx(Sp,{config:E,initialData:T,onSubmit:_e,onSuccess:t,isEditMode:_,isLoading:an,customActions:wt,customFieldRenderers:xt})};function HT(){const{id:t}=op(),e=fi(),{data:n,isLoading:r,error:s}=uK(t),{selectedWorkCenter:i}=Bn(),{isInitialized:o,init:a,cleanup:c}=Ko(),d=!!t;return C.useEffect(()=>(o||a(),()=>{c()}),[a,o,c]),C.useEffect(()=>{d&&!r&&!n&&s&&e("/backlog",{replace:!0})},[d,r,n,e,s]),r?S.jsx("div",{children:"Caricamento..."}):d&&!n?S.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Ordine non trovato."}):i?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:d?`Modifica Ordine: ${n?.odp_number}`:"Aggiungi Nuovo Ordine"}),d&&S.jsx(Po,{variant:"outline",onClick:()=>e("/scheduler"),children:"← Torna al Programmatore"})]}),S.jsx(AJ,{onSuccess:d?()=>e("/scheduler"):void 0,orderToEdit:n})]}):S.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire gli ordini del backlog."})}const $p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ec(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function i_(t){return"nodeType"in t}function mr(t){var e,n;return t?Ec(t)?t:i_(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function o_(t){const{Document:e}=mr(t);return t instanceof e}function Fd(t){return Ec(t)?!1:t instanceof mr(t).HTMLElement}function M1(t){return t instanceof mr(t).SVGElement}function Cc(t){return t?Ec(t)?t.document:i_(t)?o_(t)?t:Fd(t)||M1(t)?t.ownerDocument:document:document:document}const Gi=$p?C.useLayoutEffect:C.useEffect;function Bp(t){const e=C.useRef(t);return Gi(()=>{e.current=t}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function kJ(){const t=C.useRef(null),e=C.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=C.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ld(t,e){e===void 0&&(e=[t]);const n=C.useRef(t);return Gi(()=>{n.current!==t&&(n.current=t)},e),n}function Ld(t,e){const n=C.useRef();return C.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Wg(t){const e=Bp(t),n=C.useRef(null),r=C.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function qg(t){const e=C.useRef();return C.useEffect(()=>{e.current=t},[t]),e.current}let zy={};function zp(t,e){return C.useMemo(()=>{if(e)return e;const n=zy[t]==null?0:zy[t]+1;return zy[t]=n,t+"-"+n},[t,e])}function N1(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[c,d]of a){const f=i[c];f!=null&&(i[c]=f+t*d)}return i},{...e})}}const ec=N1(1),Gg=N1(-1);function DJ(t){return"clientX"in t&&"clientY"in t}function a_(t){if(!t)return!1;const{KeyboardEvent:e}=mr(t.target);return e&&t instanceof e}function OJ(t){if(!t)return!1;const{TouchEvent:e}=mr(t.target);return e&&t instanceof e}function Kg(t){if(OJ(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return DJ(t)?{x:t.clientX,y:t.clientY}:null}const cd=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[cd.Translate.toString(t),cd.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),VT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function IJ(t){return t.matches(VT)?t:t.querySelector(VT)}const MJ={display:"none"};function NJ(t){let{id:e,value:n}=t;return ie.createElement("div",{id:e,style:MJ},n)}function PJ(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ie.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function jJ(){const[t,e]=C.useState("");return{announce:C.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const P1=C.createContext(null);function FJ(t){const e=C.useContext(P1);C.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function LJ(){const[t]=C.useState(()=>new Set),e=C.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[C.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const UJ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$J={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function BJ(t){let{announcements:e=$J,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=UJ}=t;const{announce:i,announcement:o}=jJ(),a=zp("DndLiveRegion"),[c,d]=C.useState(!1);if(C.useEffect(()=>{d(!0)},[]),FJ(C.useMemo(()=>({onDragStart(h){let{active:p}=h;i(e.onDragStart({active:p}))},onDragMove(h){let{active:p,over:m}=h;e.onDragMove&&i(e.onDragMove({active:p,over:m}))},onDragOver(h){let{active:p,over:m}=h;i(e.onDragOver({active:p,over:m}))},onDragEnd(h){let{active:p,over:m}=h;i(e.onDragEnd({active:p,over:m}))},onDragCancel(h){let{active:p,over:m}=h;i(e.onDragCancel({active:p,over:m}))}}),[i,e])),!c)return null;const f=ie.createElement(ie.Fragment,null,ie.createElement(NJ,{id:r,value:s.draggable}),ie.createElement(PJ,{id:a,announcement:o}));return n?Ds.createPortal(f,n):f}var Tn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Tn||(Tn={}));function Yg(){}function WT(t,e){return C.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function zJ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return C.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Bs=Object.freeze({x:0,y:0});function HJ(t,e){const n=Kg(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function VJ(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function WJ(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function qJ(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const c=e.width*e.height,d=t.width*t.height,f=o*a,h=f/(c+d-f);return Number(h.toFixed(4))}return 0}const GJ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const c=qJ(a,e);c>0&&s.push({id:o,data:{droppableContainer:i,value:c}})}}return s.sort(VJ)};function KJ(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function j1(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Bs}function YJ(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const QJ=YJ(1);function F1(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function XJ(t,e,n){const r=F1(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,c=t.left-o-(1-s)*parseFloat(n),d=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?t.width/s:t.width,h=i?t.height/i:t.height;return{width:f,height:h,top:d,right:c+f,bottom:d+h,left:c}}const ZJ={ignoreTransform:!1};function Ud(t,e){e===void 0&&(e=ZJ);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=mr(t).getComputedStyle(t);d&&(n=XJ(n,d,f))}const{top:r,left:s,width:i,height:o,bottom:a,right:c}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:c}}function qT(t){return Ud(t,{ignoreTransform:!0})}function JJ(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function eee(t,e){return e===void 0&&(e=mr(t).getComputedStyle(t)),e.position==="fixed"}function tee(t,e){e===void 0&&(e=mr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function l_(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(o_(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Fd(s)||M1(s)||n.includes(s))return n;const i=mr(t).getComputedStyle(s);return s!==t&&tee(s,i)&&n.push(s),eee(s,i)?n:r(s.parentNode)}return t?r(t):n}function L1(t){const[e]=l_(t,1);return e??null}function Hy(t){return!$p||!t?null:Ec(t)?t:i_(t)?o_(t)||t===Cc(t).scrollingElement?window:Fd(t)?t:null:null}function U1(t){return Ec(t)?t.scrollX:t.scrollLeft}function $1(t){return Ec(t)?t.scrollY:t.scrollTop}function hw(t){return{x:U1(t),y:$1(t)}}var Fn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Fn||(Fn={}));function B1(t){return!$p||!t?!1:t===document.scrollingElement}function z1(t){const e={x:0,y:0},n=B1(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const nee={x:.2,y:.2};function ree(t,e,n,r,s){let{top:i,left:o,right:a,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=nee);const{isTop:d,isBottom:f,isLeft:h,isRight:p}=z1(t),m={x:0,y:0},b={x:0,y:0},y={height:e.height*s.y,width:e.width*s.x};return!d&&i<=e.top+y.height?(m.y=Fn.Backward,b.y=r*Math.abs((e.top+y.height-i)/y.height)):!f&&c>=e.bottom-y.height&&(m.y=Fn.Forward,b.y=r*Math.abs((e.bottom-y.height-c)/y.height)),!p&&a>=e.right-y.width?(m.x=Fn.Forward,b.x=r*Math.abs((e.right-y.width-a)/y.width)):!h&&o<=e.left+y.width&&(m.x=Fn.Backward,b.x=r*Math.abs((e.left+y.width-o)/y.width)),{direction:m,speed:b}}function see(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function H1(t){return t.reduce((e,n)=>ec(e,hw(n)),Bs)}function iee(t){return t.reduce((e,n)=>e+U1(n),0)}function oee(t){return t.reduce((e,n)=>e+$1(n),0)}function V1(t,e){if(e===void 0&&(e=Ud),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);L1(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const aee=[["x",["left","right"],iee],["y",["top","bottom"],oee]];class c_{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=l_(n),s=H1(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of aee)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=a(r),f=s[i]-d;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Uu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function lee(t){const{EventTarget:e}=mr(t);return t instanceof e?t:Cc(t)}function Vy(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var ls;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ls||(ls={}));function GT(t){t.preventDefault()}function cee(t){t.stopPropagation()}var It;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(It||(It={}));const W1={start:[It.Space,It.Enter],cancel:[It.Esc],end:[It.Space,It.Enter,It.Tab]},uee=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case It.Right:return{...n,x:n.x+25};case It.Left:return{...n,x:n.x-25};case It.Down:return{...n,y:n.y+25};case It.Up:return{...n,y:n.y-25}}};class q1{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Uu(Cc(n)),this.windowListeners=new Uu(mr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ls.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&V1(r),n(Bs)}handleKeyDown(e){if(a_(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=W1,coordinateGetter:o=uee,scrollBehavior:a="smooth"}=s,{code:c}=e;if(i.end.includes(c)){this.handleEnd(e);return}if(i.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=r.current,f=d?{x:d.left,y:d.top}:Bs;this.referenceCoordinates||(this.referenceCoordinates=f);const h=o(e,{active:n,context:r.current,currentCoordinates:f});if(h){const p=Gg(h,f),m={x:0,y:0},{scrollableAncestors:b}=r.current;for(const y of b){const w=e.code,{isTop:_,isRight:E,isLeft:T,isBottom:k,maxScroll:A,minScroll:I}=z1(y),M=see(y),D={x:Math.min(w===It.Right?M.right-M.width/2:M.right,Math.max(w===It.Right?M.left:M.left+M.width/2,h.x)),y:Math.min(w===It.Down?M.bottom-M.height/2:M.bottom,Math.max(w===It.Down?M.top:M.top+M.height/2,h.y))},P=w===It.Right&&!E||w===It.Left&&!T,j=w===It.Down&&!k||w===It.Up&&!_;if(P&&D.x!==h.x){const z=y.scrollLeft+p.x,G=w===It.Right&&z<=A.x||w===It.Left&&z>=I.x;if(G&&!p.y){y.scrollTo({left:z,behavior:a});return}G?m.x=y.scrollLeft-z:m.x=w===It.Right?y.scrollLeft-A.x:y.scrollLeft-I.x,m.x&&y.scrollBy({left:-m.x,behavior:a});break}else if(j&&D.y!==h.y){const z=y.scrollTop+p.y,G=w===It.Down&&z<=A.y||w===It.Up&&z>=I.y;if(G&&!p.x){y.scrollTo({top:z,behavior:a});return}G?m.y=y.scrollTop-z:m.y=w===It.Down?y.scrollTop-A.y:y.scrollTop-I.y,m.y&&y.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(e,ec(Gg(h,this.referenceCoordinates),m))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}q1.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=W1,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function KT(t){return!!(t&&"distance"in t)}function YT(t){return!!(t&&"delay"in t)}class u_{constructor(e,n,r){var s;r===void 0&&(r=lee(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=Cc(o),this.documentListeners=new Uu(this.document),this.listeners=new Uu(r),this.windowListeners=new Uu(mr(o)),this.initialCoordinates=(s=Kg(i))!=null?s:Bs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.DragStart,GT),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),this.windowListeners.add(ls.ContextMenu,GT),this.documentListeners.add(ls.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(YT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(KT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ls.Click,cee,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ls.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const c=(n=Kg(e))!=null?n:Bs,d=Gg(s,c);if(!r&&a){if(KT(a)){if(a.tolerance!=null&&Vy(d,a.tolerance))return this.handleCancel();if(Vy(d,a.distance))return this.handleStart()}if(YT(a)&&Vy(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===It.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const dee={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class d_ extends u_{constructor(e){const{event:n}=e,r=Cc(n.target);super(e,dee,r)}}d_.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const fee={move:{name:"mousemove"},end:{name:"mouseup"}};var gw;(function(t){t[t.RightClick=2]="RightClick"})(gw||(gw={}));class G1 extends u_{constructor(e){super(e,fee,Cc(e.event.target))}}G1.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===gw.RightClick?!1:(r?.({event:n}),!0)}}];const Wy={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class hee extends u_{constructor(e){super(e,Wy)}static setup(){return window.addEventListener(Wy.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Wy.move.name,e)};function e(){}}}hee.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var $u;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})($u||($u={}));var Qg;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qg||(Qg={}));function gee(t){let{acceleration:e,activator:n=$u.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Qg.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:f,delta:h,threshold:p}=t;const m=mee({delta:h,disabled:!i}),[b,y]=kJ(),w=C.useRef({x:0,y:0}),_=C.useRef({x:0,y:0}),E=C.useMemo(()=>{switch(n){case $u.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case $u.DraggableRect:return s}},[n,s,c]),T=C.useRef(null),k=C.useCallback(()=>{const I=T.current;if(!I)return;const M=w.current.x*_.current.x,D=w.current.y*_.current.y;I.scrollBy(M,D)},[]),A=C.useMemo(()=>a===Qg.TreeOrder?[...d].reverse():d,[a,d]);C.useEffect(()=>{if(!i||!d.length||!E){y();return}for(const I of A){if(r?.(I)===!1)continue;const M=d.indexOf(I),D=f[M];if(!D)continue;const{direction:P,speed:j}=ree(I,D,E,e,p);for(const z of["x","y"])m[z][P[z]]||(j[z]=0,P[z]=0);if(j.x>0||j.y>0){y(),T.current=I,b(k,o),w.current=j,_.current=P;return}}w.current={x:0,y:0},_.current={x:0,y:0},y()},[e,k,r,y,i,o,JSON.stringify(E),JSON.stringify(m),b,d,A,f,JSON.stringify(p)])}const pee={x:{[Fn.Backward]:!1,[Fn.Forward]:!1},y:{[Fn.Backward]:!1,[Fn.Forward]:!1}};function mee(t){let{delta:e,disabled:n}=t;const r=qg(e);return Ld(s=>{if(n||!r||!s)return pee;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Fn.Backward]:s.x[Fn.Backward]||i.x===-1,[Fn.Forward]:s.x[Fn.Forward]||i.x===1},y:{[Fn.Backward]:s.y[Fn.Backward]||i.y===-1,[Fn.Forward]:s.y[Fn.Forward]||i.y===1}}},[n,e,r])}function vee(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Ld(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function yee(t,e){return C.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var ud;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(ud||(ud={}));var pw;(function(t){t.Optimized="optimized"})(pw||(pw={}));const QT=new Map;function bee(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=C.useState(null),{frequency:a,measure:c,strategy:d}=s,f=C.useRef(t),h=w(),p=ld(h),m=C.useCallback(function(_){_===void 0&&(_=[]),!p.current&&o(E=>E===null?_:E.concat(_.filter(T=>!E.includes(T))))},[p]),b=C.useRef(null),y=Ld(_=>{if(h&&!n)return QT;if(!_||_===QT||f.current!==t||i!=null){const E=new Map;for(let T of t){if(!T)continue;if(i&&i.length>0&&!i.includes(T.id)&&T.rect.current){E.set(T.id,T.rect.current);continue}const k=T.node.current,A=k?new c_(c(k),k):null;T.rect.current=A,A&&E.set(T.id,A)}return E}return _},[t,i,n,h,c]);return C.useEffect(()=>{f.current=t},[t]),C.useEffect(()=>{h||m()},[n,h]),C.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),C.useEffect(()=>{h||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{m(),b.current=null},a))},[a,h,m,...r]),{droppableRects:y,measureDroppableContainers:m,measuringScheduled:i!=null};function w(){switch(d){case ud.Always:return!1;case ud.BeforeDragging:return n;default:return!n}}}function f_(t,e){return Ld(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function wee(t,e){return f_(t,e)}function _ee(t){let{callback:e,disabled:n}=t;const r=Bp(e),s=C.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return C.useEffect(()=>()=>s?.disconnect(),[s]),s}function Hp(t){let{callback:e,disabled:n}=t;const r=Bp(e),s=C.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return C.useEffect(()=>()=>s?.disconnect(),[s]),s}function See(t){return new c_(Ud(t),t)}function XT(t,e,n){e===void 0&&(e=See);const[r,s]=C.useState(null);function i(){s(c=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=c??n)!=null?d:null}const f=e(t);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const o=_ee({callback(c){if(t)for(const d of c){const{type:f,target:h}=d;if(f==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),a=Hp({callback:i});return Gi(()=>{i(),t?(a?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),o?.disconnect())},[t]),r}function xee(t){const e=f_(t);return j1(t,e)}const ZT=[];function Eee(t){const e=C.useRef(t),n=Ld(r=>t?r&&r!==ZT&&t&&e.current&&t.parentNode===e.current.parentNode?r:l_(t):ZT,[t]);return C.useEffect(()=>{e.current=t},[t]),n}function Cee(t){const[e,n]=C.useState(null),r=C.useRef(t),s=C.useCallback(i=>{const o=Hy(i.target);o&&n(a=>a?(a.set(o,hw(o)),new Map(a)):null)},[]);return C.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(c=>{const d=Hy(c);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,hw(d)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(c=>{const d=Hy(c);d?.removeEventListener("scroll",s)})}},[s,t]),C.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>ec(i,o),Bs):H1(t):Bs,[t,e])}function JT(t,e){e===void 0&&(e=[]);const n=C.useRef(null);return C.useEffect(()=>{n.current=null},e),C.useEffect(()=>{const r=t!==Bs;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Gg(t,n.current):Bs}function Ree(t){C.useEffect(()=>{if(!$p)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function Tee(t,e){return C.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function K1(t){return C.useMemo(()=>t?JJ(t):null,[t])}const eA=[];function Aee(t,e){e===void 0&&(e=Ud);const[n]=t,r=K1(n?mr(n):null),[s,i]=C.useState(eA);function o(){i(()=>t.length?t.map(c=>B1(c)?r:new c_(e(c),c)):eA)}const a=Hp({callback:o});return Gi(()=>{a?.disconnect(),o(),t.forEach(c=>a?.observe(c))},[t]),s}function Y1(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Fd(e)?e:t}function kee(t){let{measure:e}=t;const[n,r]=C.useState(null),s=C.useCallback(d=>{for(const{target:f}of d)if(Fd(f)){r(h=>{const p=e(f);return h?{...h,width:p.width,height:p.height}:p});break}},[e]),i=Hp({callback:s}),o=C.useCallback(d=>{const f=Y1(d);i?.disconnect(),f&&i?.observe(f),r(f?e(f):null)},[e,i]),[a,c]=Wg(o);return C.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const Dee=[{sensor:d_,options:{}},{sensor:q1,options:{}}],Oee={current:{}},cg={draggable:{measure:qT},droppable:{measure:qT,strategy:ud.WhileDragging,frequency:pw.Optimized},dragOverlay:{measure:Ud}};class Bu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const Iee={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Yg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:cg,measureDroppableContainers:Yg,windowRect:null,measuringScheduled:!1},Q1={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Yg,draggableNodes:new Map,over:null,measureDroppableContainers:Yg},$d=C.createContext(Q1),X1=C.createContext(Iee);function Mee(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bu}}}function Nee(t,e){switch(e.type){case Tn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Tn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Tn.DragEnd:case Tn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Tn.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Bu(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Tn.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new Bu(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case Tn.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new Bu(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function Pee(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=C.useContext($d),i=qg(r),o=qg(n?.id);return C.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!a_(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:c,node:d}=a;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[c.current,d.current]){if(!f)continue;const h=IJ(f);if(h){h.focus();break}}})}},[r,e,s,o,i]),null}function Z1(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function jee(t){return C.useMemo(()=>({draggable:{...cg.draggable,...t?.draggable},droppable:{...cg.droppable,...t?.droppable},dragOverlay:{...cg.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Fee(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=C.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Gi(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const f=n(d),h=j1(f,r);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=L1(d);p&&p.scrollBy({top:h.y,left:h.x})}},[e,o,a,r,n])}const Vp=C.createContext({...Bs,scaleX:1,scaleY:1});var Eo;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Eo||(Eo={}));const Lee=C.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:c=!0,children:d,sensors:f=Dee,collisionDetection:h=GJ,measuring:p,modifiers:m,...b}=e;const y=C.useReducer(Nee,void 0,Mee),[w,_]=y,[E,T]=LJ(),[k,A]=C.useState(Eo.Uninitialized),I=k===Eo.Initialized,{draggable:{active:M,nodes:D,translate:P},droppable:{containers:j}}=w,z=M!=null?D.get(M):null,G=C.useRef({initial:null,translated:null}),Q=C.useMemo(()=>{var ut;return M!=null?{id:M,data:(ut=z?.data)!=null?ut:Oee,rect:G}:null},[M,z]),oe=C.useRef(null),[ce,ee]=C.useState(null),[re,$]=C.useState(null),B=ld(b,Object.values(b)),Z=zp("DndDescribedBy",o),U=C.useMemo(()=>j.getEnabled(),[j]),J=jee(p),{droppableRects:le,measureDroppableContainers:ue,measuringScheduled:Se}=bee(U,{dragging:I,dependencies:[P.x,P.y],config:J.droppable}),_e=vee(D,M),ge=C.useMemo(()=>re?Kg(re):null,[re]),fe=Hn(),Pe=wee(_e,J.draggable.measure);Fee({activeNode:M!=null?D.get(M):null,config:fe.layoutShiftCompensation,initialRect:Pe,measure:J.draggable.measure});const Be=XT(_e,J.draggable.measure,Pe),xt=XT(_e?_e.parentElement:null),wt=C.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),an=j.getNodeFor((n=wt.current.over)==null?void 0:n.id),Ce=kee({measure:J.dragOverlay.measure}),Ge=(r=Ce.nodeRef.current)!=null?r:_e,nt=I?(s=Ce.rect)!=null?s:Be:null,kt=!!(Ce.nodeRef.current&&Ce.rect),gn=xee(kt?null:Be),Ze=K1(Ge?mr(Ge):null),N=Eee(I?an??_e:null),W=Aee(N),K=Z1(m,{transform:{x:P.x-gn.x,y:P.y-gn.y,scaleX:1,scaleY:1},activatorEvent:re,active:Q,activeNodeRect:Be,containerNodeRect:xt,draggingNodeRect:nt,over:wt.current.over,overlayNodeRect:Ce.rect,scrollableAncestors:N,scrollableAncestorRects:W,windowRect:Ze}),q=ge?ec(ge,P):null,se=Cee(N),ae=JT(se),pe=JT(se,[Be]),ve=ec(K,ae),be=nt?QJ(nt,K):null,Ne=Q&&be?h({active:Q,collisionRect:be,droppableRects:le,droppableContainers:U,pointerCoordinates:q}):null,Ke=WJ(Ne,"id"),[ze,at]=C.useState(null),ct=kt?K:ec(K,pe),Gn=KJ(ct,(i=ze?.rect)!=null?i:null,Be),Et=C.useRef(null),rt=C.useCallback((ut,ln)=>{let{sensor:xe,options:Xe}=ln;if(oe.current==null)return;const it=D.get(oe.current);if(!it)return;const dt=ut.nativeEvent,tn=new xe({active:oe.current,activeNode:it,event:dt,options:Xe,context:wt,onAbort(qe){if(!D.get(qe))return;const{onDragAbort:Dt}=B.current,Kt={id:qe};Dt?.(Kt),E({type:"onDragAbort",event:Kt})},onPending(qe,cn,Dt,Kt){if(!D.get(qe))return;const{onDragPending:In}=B.current,br={id:qe,constraint:cn,initialCoordinates:Dt,offset:Kt};In?.(br),E({type:"onDragPending",event:br})},onStart(qe){const cn=oe.current;if(cn==null)return;const Dt=D.get(cn);if(!Dt)return;const{onDragStart:Kt}=B.current,yr={activatorEvent:dt,active:{id:cn,data:Dt.data,rect:G}};Ds.unstable_batchedUpdates(()=>{Kt?.(yr),A(Eo.Initializing),_({type:Tn.DragStart,initialCoordinates:qe,active:cn}),E({type:"onDragStart",event:yr}),ee(Et.current),$(dt)})},onMove(qe){_({type:Tn.DragMove,coordinates:qe})},onEnd:_t(Tn.DragEnd),onCancel:_t(Tn.DragCancel)});Et.current=tn;function _t(qe){return async function(){const{active:Dt,collisions:Kt,over:yr,scrollAdjustedTranslate:In}=wt.current;let br=null;if(Dt&&In){const{cancelDrop:mi}=B.current;br={activatorEvent:dt,active:Dt,collisions:Kt,delta:In,over:yr},qe===Tn.DragEnd&&typeof mi=="function"&&await Promise.resolve(mi(br))&&(qe=Tn.DragCancel)}oe.current=null,Ds.unstable_batchedUpdates(()=>{_({type:qe}),A(Eo.Uninitialized),at(null),ee(null),$(null),Et.current=null;const mi=qe===Tn.DragEnd?"onDragEnd":"onDragCancel";if(br){const Tc=B.current[mi];Tc?.(br),E({type:mi,event:br})}})}}},[D]),Gt=C.useCallback((ut,ln)=>(xe,Xe)=>{const it=xe.nativeEvent,dt=D.get(Xe);if(oe.current!==null||!dt||it.dndKit||it.defaultPrevented)return;const tn={active:dt};ut(xe,ln.options,tn)===!0&&(it.dndKit={capturedBy:ln.sensor},oe.current=Xe,rt(xe,ln))},[D,rt]),Qe=yee(f,Gt);Ree(f),Gi(()=>{Be&&k===Eo.Initializing&&A(Eo.Initialized)},[Be,k]),C.useEffect(()=>{const{onDragMove:ut}=B.current,{active:ln,activatorEvent:xe,collisions:Xe,over:it}=wt.current;if(!ln||!xe)return;const dt={active:ln,activatorEvent:xe,collisions:Xe,delta:{x:ve.x,y:ve.y},over:it};Ds.unstable_batchedUpdates(()=>{ut?.(dt),E({type:"onDragMove",event:dt})})},[ve.x,ve.y]),C.useEffect(()=>{const{active:ut,activatorEvent:ln,collisions:xe,droppableContainers:Xe,scrollAdjustedTranslate:it}=wt.current;if(!ut||oe.current==null||!ln||!it)return;const{onDragOver:dt}=B.current,tn=Xe.get(Ke),_t=tn&&tn.rect.current?{id:tn.id,rect:tn.rect.current,data:tn.data,disabled:tn.disabled}:null,qe={active:ut,activatorEvent:ln,collisions:xe,delta:{x:it.x,y:it.y},over:_t};Ds.unstable_batchedUpdates(()=>{at(_t),dt?.(qe),E({type:"onDragOver",event:qe})})},[Ke]),Gi(()=>{wt.current={activatorEvent:re,active:Q,activeNode:_e,collisionRect:be,collisions:Ne,droppableRects:le,draggableNodes:D,draggingNode:Ge,draggingNodeRect:nt,droppableContainers:j,over:ze,scrollableAncestors:N,scrollAdjustedTranslate:ve},G.current={initial:nt,translated:be}},[Q,_e,Ne,be,D,Ge,nt,le,j,ze,N,ve]),gee({...fe,delta:P,draggingRect:be,pointerCoordinates:q,scrollableAncestors:N,scrollableAncestorRects:W});const st=C.useMemo(()=>({active:Q,activeNode:_e,activeNodeRect:Be,activatorEvent:re,collisions:Ne,containerNodeRect:xt,dragOverlay:Ce,draggableNodes:D,droppableContainers:j,droppableRects:le,over:ze,measureDroppableContainers:ue,scrollableAncestors:N,scrollableAncestorRects:W,measuringConfiguration:J,measuringScheduled:Se,windowRect:Ze}),[Q,_e,Be,re,Ne,xt,Ce,D,j,le,ze,ue,N,W,J,Se,Ze]),vr=C.useMemo(()=>({activatorEvent:re,activators:Qe,active:Q,activeNodeRect:Be,ariaDescribedById:{draggable:Z},dispatch:_,draggableNodes:D,over:ze,measureDroppableContainers:ue}),[re,Qe,Q,Be,_,Z,D,ze,ue]);return ie.createElement(P1.Provider,{value:T},ie.createElement($d.Provider,{value:vr},ie.createElement(X1.Provider,{value:st},ie.createElement(Vp.Provider,{value:Gn},d)),ie.createElement(Pee,{disabled:a?.restoreFocus===!1})),ie.createElement(BJ,{...a,hiddenTextDescribedById:Z}));function Hn(){const ut=ce?.autoScrollEnabled===!1,ln=typeof c=="object"?c.enabled===!1:c===!1,xe=I&&!ut&&!ln;return typeof c=="object"?{...c,enabled:xe}:{enabled:xe}}}),Uee=C.createContext(null),tA="button",$ee="Draggable";function Kie(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=zp($ee),{activators:o,activatorEvent:a,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:h,over:p}=C.useContext($d),{role:m=tA,roleDescription:b="draggable",tabIndex:y=0}=s??{},w=c?.id===e,_=C.useContext(w?Vp:Uee),[E,T]=Wg(),[k,A]=Wg(),I=Tee(o,e),M=ld(n);Gi(()=>(h.set(e,{id:e,key:i,node:E,activatorNode:k,data:M}),()=>{const P=h.get(e);P&&P.key===i&&h.delete(e)}),[h,e]);const D=C.useMemo(()=>({role:m,tabIndex:y,"aria-disabled":r,"aria-pressed":w&&m===tA?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[r,m,y,w,b,f.draggable]);return{active:c,activatorEvent:a,activeNodeRect:d,attributes:D,isDragging:w,listeners:r?void 0:I,node:E,over:p,setNodeRef:T,setActivatorNodeRef:A,transform:_}}function Bee(){return C.useContext(X1)}const zee="Droppable",Hee={timeout:25};function Yie(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=zp(zee),{active:o,dispatch:a,over:c,measureDroppableContainers:d}=C.useContext($d),f=C.useRef({disabled:n}),h=C.useRef(!1),p=C.useRef(null),m=C.useRef(null),{disabled:b,updateMeasurementsFor:y,timeout:w}={...Hee,...s},_=ld(y??r),E=C.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{d(Array.isArray(_.current)?_.current:[_.current]),m.current=null},w)},[w]),T=Hp({callback:E,disabled:b||!o}),k=C.useCallback((D,P)=>{T&&(P&&(T.unobserve(P),h.current=!1),D&&T.observe(D))},[T]),[A,I]=Wg(k),M=ld(e);return C.useEffect(()=>{!T||!A.current||(T.disconnect(),h.current=!1,T.observe(A.current))},[A,T]),C.useEffect(()=>(a({type:Tn.RegisterDroppable,element:{id:r,key:i,disabled:n,node:A,rect:p,data:M}}),()=>a({type:Tn.UnregisterDroppable,key:i,id:r})),[r]),C.useEffect(()=>{n!==f.current.disabled&&(a({type:Tn.SetDroppableDisabled,id:r,key:i,disabled:n}),f.current.disabled=n)},[r,i,n,a]),{active:o,rect:p,isOver:c?.id===r,node:A,over:c,setNodeRef:I}}function Vee(t){let{animation:e,children:n}=t;const[r,s]=C.useState(null),[i,o]=C.useState(null),a=qg(n);return!n&&!r&&a&&s(a),Gi(()=>{if(!i)return;const c=r?.key,d=r?.props.id;if(c==null||d==null){s(null);return}Promise.resolve(e(d,i)).then(()=>{s(null)})},[e,r,i]),ie.createElement(ie.Fragment,null,n,r?C.cloneElement(r,{ref:o}):null)}const Wee={x:0,y:0,scaleX:1,scaleY:1};function qee(t){let{children:e}=t;return ie.createElement($d.Provider,{value:Q1},ie.createElement(Vp.Provider,{value:Wee},e))}const Gee={position:"fixed",touchAction:"none"},Kee=t=>a_(t)?"transform 250ms ease":void 0,Yee=C.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:c,transform:d,transition:f=Kee}=t;if(!a)return null;const h=s?d:{...d,scaleX:1,scaleY:1},p={...Gee,width:a.width,height:a.height,top:a.top,left:a.left,transform:cd.Transform.toString(h),transformOrigin:s&&r?HJ(r,a):void 0,transition:typeof f=="function"?f(r):f,...c};return ie.createElement(n,{className:o,style:p,ref:e},i)}),Qee=t=>e=>{let{active:n,dragOverlay:r}=e;const s={},{styles:i,className:o}=t;if(i!=null&&i.active)for(const[a,c]of Object.entries(i.active))c!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(i!=null&&i.dragOverlay)for(const[a,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(a,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(s))n.node.style.setProperty(c,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},Xee=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:cd.Transform.toString(e)},{transform:cd.Transform.toString(n)}]},Zee={duration:250,easing:"ease",keyframes:Xee,sideEffects:Qee({styles:{active:{opacity:"0"}}})};function Jee(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=t;return Bp((i,o)=>{if(e===null)return;const a=n.get(i);if(!a)return;const c=a.node.current;if(!c)return;const d=Y1(o);if(!d)return;const{transform:f}=mr(o).getComputedStyle(o),h=F1(f);if(!h)return;const p=typeof e=="function"?e:ete(e);return V1(c,s.draggable.measure),p({active:{id:i,data:a.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:s.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function ete(t){const{duration:e,easing:n,sideEffects:r,keyframes:s}={...Zee,...t};return i=>{let{active:o,dragOverlay:a,transform:c,...d}=i;if(!e)return;const f={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},p={x:c.x-f.x,y:c.y-f.y,...h},m=s({...d,active:o,dragOverlay:a,transform:{initial:c,final:p}}),[b]=m,y=m[m.length-1];if(JSON.stringify(b)===JSON.stringify(y))return;const w=r?.({active:o,dragOverlay:a,...d}),_=a.node.animate(m,{duration:e,easing:n,fill:"forwards"});return new Promise(E=>{_.onfinish=()=>{w?.(),E()}})}}let nA=0;function tte(t){return C.useMemo(()=>{if(t!=null)return nA++,nA},[t])}const nte=ie.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:c,zIndex:d=999}=t;const{activatorEvent:f,active:h,activeNodeRect:p,containerNodeRect:m,draggableNodes:b,droppableContainers:y,dragOverlay:w,over:_,measuringConfiguration:E,scrollableAncestors:T,scrollableAncestorRects:k,windowRect:A}=Bee(),I=C.useContext(Vp),M=tte(h?.id),D=Z1(o,{activatorEvent:f,active:h,activeNodeRect:p,containerNodeRect:m,draggingNodeRect:w.rect,over:_,overlayNodeRect:w.rect,scrollableAncestors:T,scrollableAncestorRects:k,transform:I,windowRect:A}),P=f_(p),j=Jee({config:r,draggableNodes:b,droppableContainers:y,measuringConfiguration:E}),z=P?w.setRef:void 0;return ie.createElement(qee,null,ie.createElement(Vee,{animation:j},h&&M?ie.createElement(Yee,{key:M,id:h.id,ref:z,as:a,activatorEvent:f,adjustScale:e,className:c,transition:i,rect:P,style:{zIndex:d,...s},transform:D},n):null))});function pa({label:t,options:e,selectedOptions:n,onSelectionChange:r,searchPlaceholder:s,id:i,width:o="200px"}){const[a,c]=C.useState(!1),[d,f]=C.useState(""),h=C.useRef(null);C.useEffect(()=>{const E=T=>{h.current&&!h.current.contains(T.target)&&c(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const p=e.filter(E=>E.toLowerCase().includes(d.toLowerCase())),m=p.length>0&&p.every(E=>n.includes(E)),b=E=>{if(E.preventDefault(),E.stopPropagation(),m){const T=n.filter(k=>!p.includes(k));r(T)}else{const T=[...new Set([...n,...p])];r(T)}},y=(E,T)=>{if(E.preventDefault(),E.stopPropagation(),n.includes(T)){const k=n.filter(A=>A!==T);r(k)}else{const k=[...n.filter(A=>A!==""),T];r(k)}},w=()=>{c(!0)},_=E=>{f(E.target.value)};return S.jsxs("div",{className:"relative",ref:h,style:{width:o},children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs(rr,{htmlFor:i,children:[t,":"]}),S.jsx(Ln,{type:"text",id:i,value:d,onChange:_,onFocus:w,placeholder:s})]}),a&&e.length>0&&S.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:[S.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 ${m?"bg-navy-50 text-navy-800":""}`,onMouseDown:b,children:S.jsx("div",{className:"text-xs font-bold",children:"Tutti"})}),p.map(E=>S.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 ${n.includes(E)?"bg-navy-50 text-navy-800":""}`,onMouseDown:T=>y(T,E),children:S.jsx("div",{className:"text-xs font-normal",children:E})},E))]})]})}const rte=C.lazy(()=>Us(()=>import("./TaskPoolDataTable-B4lIQXr0.js"),[])),ste=C.lazy(()=>Us(()=>import("./GanttChart-Cyeq-JoJ.js"),[])),rA=()=>S.jsx("div",{className:"loading",children:"Caricamento componenti scheduler..."}),ite=({schedulingLoading:t})=>{if(!t.isScheduling&&!t.isRescheduling&&!t.isShunting&&!t.isNavigating)return null;const e=()=>t.isScheduling?"Programmazione lavoro...":t.isRescheduling?"Riprogrammazione lavoro...":t.isShunting?"Risoluzione conflitti...":t.isNavigating?"Navigazione...":"Operazione in corso...";return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[S.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),S.jsx("span",{className:"text-gray-700 font-medium",children:e()})]})})},ote=(t,e)=>{const n=document.querySelector(t);if(!n){Ao("Grafico Gantt non trovato. Assicurati che il grafico sia visibile sullo schermo.");return}const r=Array.from(document.styleSheets);let s="";r.forEach(p=>{try{Array.from(p.cssRules||p.rules||[]).forEach(b=>{s+=b.cssText+`
`})}catch{}});const i=n.cloneNode(!0),o=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Grafico Gantt - ${e}</title>
        <style>
          ${s}
          body { 
            margin: 0; 
            padding: 20px; 
            font-family: Arial, sans-serif;
          }
          .calendar-section {
            width: 100%;
            overflow-x: auto;
          }
        </style>
      </head>
      <body>
        <div style="text-align: center; margin-bottom: 20px; font-size: 12px; font-weight: bold;">
          Grafico Gantt - ${e}
        </div>
        <div class="calendar-section">
          ${i.outerHTML}
        </div>
      </body>
    </html>
  `,a=new Blob([o],{type:"text/html"}),c=window.URL.createObjectURL(a),d=document.createElement("a");d.href=c;const f=new Date().toISOString().split("T")[0],h=new Date().toISOString().split("T")[1].split(".")[0].replace(/:/g,"-");d.download=`grafico-gantt-${f}-${h}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(c)};function ate(){const{data:t=[],isLoading:e,error:n}=kp(),{data:r=[],isLoading:s,error:i}=Ap(),{getOdpOrdersByWorkCenter:o,getScheduledOrders:a}=rd(),{selectedWorkCenter:c,isLoading:d,isInitialized:f,showAlert:h,isEditMode:p,toggleEditMode:m,showConflictDialog:b,schedulingLoading:y,setDragPreview:w,clearDragPreview:_,dragPreview:E}=Bn(),{scheduleTask:T,unscheduleTask:k,scheduleTaskFromSlot:A,rescheduleTaskToSlot:I,validateSlotAvailability:M}=Od(),{init:D,cleanup:P}=Ko(),j=Vt(),z=zJ(WT(d_,{activationConstraint:{distance:0}}),WT(G1,{activationConstraint:{distance:0}})),[G,Q]=C.useState(()=>{const q=new Date;return new Date(Date.UTC(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()))}),[oe,ce]=C.useState(null),ee=e||s||d,[re,$]=C.useState(null),[B,Z]=C.useState(""),[U,J]=C.useState(""),[le,ue]=C.useState(""),Se={workCenter:[],department:[],machineType:[],machineName:[]};function _e(q,se){switch(se.type){case"SET_FILTER":return{...q,[se.payload.filterName]:se.payload.value};case"CLEAR_FILTERS":return Se;default:return q}}const[ge,fe]=C.useReducer(_e,Se);C.useEffect(()=>(f||D(),()=>{P()}),[D,f,P]);const Pe=C.useMemo(()=>c?c==="BOTH"?t:t.filter(q=>q.work_center===c):[],[c,t]),Be=C.useMemo(()=>Pe.filter(se=>se.status==="SCHEDULED"),[Pe,c]),xt=C.useMemo(()=>{if(performance.now(),!r||r.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let q=r;c&&c!==mt.BOTH&&(q=r.filter(ct=>ct.work_center===c));const se=q.filter(ct=>ct.status===Pi.ACTIVE);if(se.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const ae=new Set,pe=new Set,ve=new Set,be=new Set;for(const ct of se)ct.work_center&&ae.add(ct.work_center),ct.department&&pe.add(ct.department),ct.machine_type&&ve.add(ct.machine_type),ct.machine_name&&be.add(ct.machine_name);const Ne=Array.from(ae).sort(),Ke=Array.from(pe).sort(),ze=Array.from(ve).sort(),at=Array.from(be).sort();return performance.now(),{activeMachines:se,workCenters:Ne,departments:Ke,machineTypes:ze,machineNames:at}},[r,c]),wt=C.useMemo(()=>{const{activeMachines:q}=xt;let se=q;return ge.workCenter.length>0&&(se=se.filter(ae=>ge.workCenter.includes(ae.work_center))),ge.department.length>0&&(se=se.filter(ae=>ge.department.includes(ae.department))),ge.machineType.length>0&&(se=se.filter(ae=>ge.machineType.includes(ae.machine_type))),ge.machineName.length>0&&(se=se.filter(ae=>ge.machineName.includes(ae.machine_name))),se},[xt,ge]),an=C.useCallback(async(q,se="Daily")=>{const{startSchedulingOperation:ae,stopSchedulingOperation:pe}=Bn.getState();try{ae("navigate");let ve;Q(be=>{if(q==="today"){const Ne=new Date,Ke=Ne.getUTCFullYear(),ze=Ne.getUTCMonth(),at=Ne.getUTCDate();return ve=new Date(Date.UTC(Ke,ze,at)),ve}else if(q==="prev"){if(se==="Weekly")return ve=$a(kB(be,1),{weekStartsOn:1}),ve;{const Ne=new Date(be);return Ne.setUTCDate(Ne.getUTCDate()-1),ve=Ne,ve}}else if(q==="next"){if(se==="Weekly")return ve=$a(lD(be,1),{weekStartsOn:1}),ve;{const Ne=new Date(be);return Ne.setUTCDate(Ne.getUTCDate()+1),ve=Ne,Ne}}return ve=be,be})}finally{pe()}},[]),Ce=C.useCallback(()=>{const q=new Date,se=q.getUTCFullYear(),ae=q.getUTCMonth(),pe=q.getUTCDate(),ve=new Date(Date.UTC(se,ae,pe));return G.getTime()===ve.getTime()?"Oggi":kn(G,"yyyy-MM-dd")},[G]),Ge=C.useCallback(()=>{fe({type:"CLEAR_FILTERS"})},[]),nt=C.useCallback((q,se,ae)=>{if(!q.trim())return;let pe=Be.find(ve=>ve[se]===q.trim());if(pe||(pe=Be.find(ve=>ve[se]&&ve[se].toLowerCase().includes(q.trim().toLowerCase()))),!pe){h(`Lavoro non trovato per ${ae}: ${q}`,"warning");return}kt(pe,se,ae,q)},[Be,r,h]),kt=C.useCallback((q,se,ae,pe)=>{const ve=r.find(Ne=>Ne.id===q.scheduled_machine_id);if(!ve){h("Macchina non trovata per questo lavoro","error");return}if(fe({type:"SET_FILTER",payload:{filterName:"machineName",value:[ve.machine_name]}}),fe({type:"SET_FILTER",payload:{filterName:"workCenter",value:[ve.work_center]}}),fe({type:"SET_FILTER",payload:{filterName:"department",value:[ve.department]}}),fe({type:"SET_FILTER",payload:{filterName:"machineType",value:[ve.machine_type]}}),q.scheduled_start_time){const Ne=new Date(q.scheduled_start_time),Ke=Ne.getUTCFullYear(),ze=Ne.getUTCMonth(),at=Ne.getUTCDate();Q(new Date(Date.UTC(Ke,ze,at)))}se==="odp_number"?Z(""):se==="article_code"?J(""):se==="nome_cliente"&&ue("");const be=q[se];h(`Lavoro trovato per ${ae} "${be}" su ${ve.machine_name}`,"success")},[r,h,Z,J,ue,Q]),gn=C.useRef(null),Ze=C.useRef(!1),N=C.useCallback(q=>{const se=q.active.data.current;se&&se.type==="task"?ce(se.task):se&&se.type==="event"&&ce(se.event)},[]),W=C.useCallback(q=>{const{over:se}=q;if(se&&se.data.current?.type==="slot"){const{machine:ae,hour:pe,minute:ve,isUnavailable:be,hasScheduledTask:Ne}=se.data.current;if(be||Ne){$(null),_();return}const Ke=`${ae.id}-${pe}-${ve}`;if($(Ke),oe){const ze=oe.time_remaining||oe.duration||1,at=Math.ceil(ze*4),ct=(pe-6)*4+Math.floor(ve/15);w({isActive:!0,startSlot:ct,durationSlots:at,machineId:ae.id})}}else se&&se.data.current?.type==="next-day"?($("next-day-drop-zone"),_()):se&&se.data.current?.type==="previous-day"?($("previous-day-drop-zone"),_()):($(null),_())},[oe,w,_]),K=C.useCallback(async q=>{if(performance.now(),gn.current&&clearTimeout(gn.current),Ze.current)return;ce(null),$(null),_();const{over:se,active:ae}=q;if(!se)return;const pe=ae.data.current,ve=se.data.current;if(!(!pe||!ve)){Ze.current=!0;try{await new Promise(be=>{requestAnimationFrame(async()=>{const Ne=performance.now();if(pe.type==="task"&&ve.type==="slot"){const Ke=pe.task,{machine:ze,hour:at,minute:ct,isUnavailable:Gn,hasScheduledTask:Et}=ve;if(Et)return h("Impossibile pianificare il lavoro su uno slot temporale occupato","error"),be();const rt=await A(Ke.id,ze,G,at,ct,null,j);rt?.error?h(rt.error,"error"):rt?.conflict&&b(rt)}else if(pe.type==="event"&&ve.type==="slot"){const Ke=pe.event,{machine:ze,hour:at,minute:ct,isUnavailable:Gn,hasScheduledTask:Et}=ve;if(Et)return h("Impossibile riprogrammare il lavoro su uno slot temporale occupato","error"),be();const rt=await I(Ke.id,ze,G,at,ct,j);rt?.error?h(rt.error,"error"):rt?.conflict&&b(rt)}else if(pe.type==="event"&&ve.type==="pool"){const Ke=pe.event;k(Ke.id,j)}else(pe.type==="task"||pe.type==="event")&&ve.type==="next-day"?h("Navigazione al giorno successivo completata","success"):(pe.type==="task"||pe.type==="event")&&ve.type==="previous-day"&&h("Navigazione al giorno precedente completata","success");be()})})}catch{h("Si è verificato un errore durante l'operazione di trascinamento","error")}finally{Ze.current=!1}}},[G,A,I,k,h,b]);return ee?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[S.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),S.jsx("span",{className:"text-gray-700 font-medium",children:"Caricamento Scheduler Produzione..."})]})}):n||i?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[S.jsx("div",{className:"text-red-600 mb-4",children:S.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),S.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Errore nel caricamento dei dati"}),S.jsx("p",{className:"text-gray-600 mb-4",children:n?.message||i?.message||"Errore sconosciuto"}),S.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Riprova"})]})}):c?S.jsxs(S.Fragment,{children:[S.jsx(ite,{schedulingLoading:y}),S.jsxs(Lee,{sensors:z,onDragStart:N,onDragOver:W,onDragEnd:K,children:[S.jsxs("div",{className:`content-section ${p?"edit-mode":""}`,children:[S.jsxs("div",{className:"task-pool-section",children:[S.jsxs("div",{className:"task-pool-header",children:[S.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Pool Lavori"}),S.jsx(Po,{variant:p?"destructive":"default",size:"sm",onClick:m,title:p?"Disabilita modalità modifica":"Abilita modalità modifica",children:p?"Disabilita Modalità Modifica":"Abilita Modalità Modifica"})]}),S.jsx(C.Suspense,{fallback:S.jsx(rA,{}),children:S.jsx(rte,{})})]}),S.jsxs("div",{className:"section-controls",children:[S.jsx("div",{className:"task-pool-header",children:S.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Filtri"})}),S.jsxs("div",{className:"filters-grid",children:[S.jsx("div",{className:"filters-actions-left",children:S.jsx(Po,{variant:"secondary",size:"sm",onClick:Ge,title:"Clear all filters",children:"Cancella Filtri"})}),S.jsx(pa,{label:"ODP",options:Be.map(q=>q.odp_number).filter(Boolean),selectedOptions:B?[B]:[],onSelectionChange:q=>{q.length>0?(Z(q[0]),nt(q[0],"odp_number","ODP")):Z("")},searchPlaceholder:"Cerca ODP...",id:"odp_filter",width:"150px"}),S.jsx(pa,{label:"Codice Articolo",options:Be.map(q=>q.article_code).filter(Boolean),selectedOptions:U?[U]:[],onSelectionChange:q=>{q.length>0?(J(q[0]),nt(q[0],"article_code","codice articolo")):J("")},searchPlaceholder:"Cerca Articolo...",id:"article_filter",width:"150px"}),S.jsx(pa,{label:"Nome Cliente",options:Be.map(q=>q.nome_cliente).filter(Boolean),selectedOptions:le?[le]:[],onSelectionChange:q=>{q.length>0?(ue(q[0]),nt(q[0],"nome_cliente","cliente")):ue("")},searchPlaceholder:"Cerca Cliente...",id:"customer_filter",width:"150px"}),S.jsx(pa,{label:"Centro di Lavoro",options:xt.workCenters,selectedOptions:ge.workCenter,onSelectionChange:q=>fe({type:"SET_FILTER",payload:{filterName:"workCenter",value:q}}),searchPlaceholder:"Cerca Centri di Lavoro",id:"work_center_filter",width:"150px"}),S.jsx(pa,{label:"Reparto",options:xt.departments,selectedOptions:ge.department,onSelectionChange:q=>fe({type:"SET_FILTER",payload:{filterName:"department",value:q}}),searchPlaceholder:"Cerca Reparti",id:"department_filter",width:"150px"}),S.jsx(pa,{label:"Tipo Macchina",options:xt.machineTypes,selectedOptions:ge.machineType,onSelectionChange:q=>fe({type:"SET_FILTER",payload:{filterName:"machineType",value:q}}),searchPlaceholder:"Cerca Tipi di Macchina",id:"machine_type_filter",width:"150px"}),S.jsx(pa,{label:"Nome Macchina",options:xt.machineNames,selectedOptions:ge.machineName,onSelectionChange:q=>fe({type:"SET_FILTER",payload:{filterName:"machineName",value:q}}),searchPlaceholder:"Cerca Nomi Macchine",id:"machine_name_filter",width:"150px"}),S.jsx("div",{className:"filters-actions-right",children:S.jsx(Po,{variant:"secondary",size:"sm",onClick:()=>ote(".calendar-section .calendar-grid-container",Ce()),title:"Download exact Gantt chart as HTML file",children:"Scarica HTML"})})]})]}),S.jsxs("div",{className:"calendar-section relative",children:[S.jsx(C.Suspense,{fallback:S.jsx(rA,{}),children:S.jsx(ste,{machines:wt,currentDate:G,dropTargetId:re,dragPreview:E,onNavigateToNextDay:q=>an("next",q),onNavigateToPreviousDay:q=>an("prev",q)})}),(y.isScheduling||y.isRescheduling||y.isShunting||y.isNavigating)&&S.jsx("div",{className:"absolute inset-0 bg-white z-40"})]})]}),S.jsx(nte,{children:oe?S.jsx("div",{style:{background:"#1e293b",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"400",zIndex:9999,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(3deg) scale(1.05)",border:"1px solid #2d3a4b",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",pointerEvents:"none",minHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",whiteSpace:"nowrap"},children:oe.odp_number}):null})]})]}):S.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:S.jsx("div",{className:"text-center py-1 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati dello scheduler."})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Bd(t){return t+.5|0}const Io=(t,e,n)=>Math.max(Math.min(t,n),e);function Eu(t){return Io(Bd(t*2.55),0,255)}function Fo(t){return Io(Bd(t*255),0,255)}function Ni(t){return Io(Bd(t/2.55)/100,0,1)}function sA(t){return Io(Bd(t*100),0,100)}const os={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mw=[..."0123456789ABCDEF"],lte=t=>mw[t&15],cte=t=>mw[(t&240)>>4]+mw[t&15],Ph=t=>(t&240)>>4===(t&15),ute=t=>Ph(t.r)&&Ph(t.g)&&Ph(t.b)&&Ph(t.a);function dte(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&os[t[1]]*17,g:255&os[t[2]]*17,b:255&os[t[3]]*17,a:e===5?os[t[4]]*17:255}:(e===7||e===9)&&(n={r:os[t[1]]<<4|os[t[2]],g:os[t[3]]<<4|os[t[4]],b:os[t[5]]<<4|os[t[6]],a:e===9?os[t[7]]<<4|os[t[8]]:255})),n}const fte=(t,e)=>t<255?e(t):"";function hte(t){var e=ute(t)?lte:cte;return t?"#"+e(t.r)+e(t.g)+e(t.b)+fte(t.a,e):void 0}const gte=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function J1(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function pte(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function mte(t,e,n){const r=J1(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function vte(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function h_(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let c,d,f;return i!==o&&(f=i-o,d=a>.5?f/(2-i-o):f/(i+o),c=vte(n,r,s,f,i),c=c*60+.5),[c|0,d||0,a]}function g_(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Fo)}function p_(t,e,n){return g_(J1,t,e,n)}function yte(t,e,n){return g_(mte,t,e,n)}function bte(t,e,n){return g_(pte,t,e,n)}function eP(t){return(t%360+360)%360}function wte(t){const e=gte.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Eu(+e[5]):Fo(+e[5]));const s=eP(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=yte(s,i,o):e[1]==="hsv"?r=bte(s,i,o):r=p_(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function _te(t,e){var n=h_(t);n[0]=eP(n[0]+e),n=p_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Ste(t){if(!t)return;const e=h_(t),n=e[0],r=sA(e[1]),s=sA(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Ni(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const iA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function xte(){const t={},e=Object.keys(oA),n=Object.keys(iA);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,iA[i]);i=parseInt(oA[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let jh;function Ete(t){jh||(jh=xte(),jh.transparent=[0,0,0,0]);const e=jh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Cte=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Rte(t){const e=Cte.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Eu(o):Io(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Eu(r):Io(r,0,255)),s=255&(e[4]?Eu(s):Io(s,0,255)),i=255&(e[6]?Eu(i):Io(i,0,255)),{r,g:s,b:i,a:n}}}function Tte(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ni(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const qy=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Fl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ate(t,e,n){const r=Fl(Ni(t.r)),s=Fl(Ni(t.g)),i=Fl(Ni(t.b));return{r:Fo(qy(r+n*(Fl(Ni(e.r))-r))),g:Fo(qy(s+n*(Fl(Ni(e.g))-s))),b:Fo(qy(i+n*(Fl(Ni(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Fh(t,e,n){if(t){let r=h_(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=p_(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function tP(t,e){return t&&Object.assign(e||{},t)}function aA(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Fo(t[3]))):(e=tP(t,{r:0,g:0,b:0,a:1}),e.a=Fo(e.a)),e}function kte(t){return t.charAt(0)==="r"?Rte(t):wte(t)}class dd{constructor(e){if(e instanceof dd)return e;const n=typeof e;let r;n==="object"?r=aA(e):n==="string"&&(r=dte(e)||Ete(e)||kte(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=tP(this._rgb);return e&&(e.a=Ni(e.a)),e}set rgb(e){this._rgb=aA(e)}rgbString(){return this._valid?Tte(this._rgb):void 0}hexString(){return this._valid?hte(this._rgb):void 0}hslString(){return this._valid?Ste(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,c=r.a-s.a,d=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;i=1-d,r.r=255&d*r.r+i*s.r+.5,r.g=255&d*r.g+i*s.g+.5,r.b=255&d*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Ate(this._rgb,e._rgb,n)),this}clone(){return new dd(this.rgb)}alpha(e){return this._rgb.a=Fo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Bd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fh(this._rgb,2,e),this}darken(e){return Fh(this._rgb,2,-e),this}saturate(e){return Fh(this._rgb,1,e),this}desaturate(e){return Fh(this._rgb,1,-e),this}rotate(e){return _te(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ai(){}const Dte=(()=>{let t=0;return()=>t++})();function jt(t){return t==null}function Un(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function yt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function gs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Zs(t,e){return gs(t)?t:e}function ot(t,e){return typeof t>"u"?e:t}const Ote=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,nP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ut(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Tt(t,e,n,r){let s,i,o;if(Un(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(yt(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Xg(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Zg(t){if(Un(t))return t.map(Zg);if(yt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Zg(t[n[s]]);return e}return t}function rP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Ite(t,e,n,r){if(!rP(t))return;const s=e[t],i=n[t];yt(s)&&yt(i)?fd(s,i,r):e[t]=Zg(i)}function fd(t,e,n){const r=Un(e)?e:[e],s=r.length;if(!yt(t))return t;n=n||{};const i=n.merger||Ite;let o;for(let a=0;a<s;++a){if(o=r[a],!yt(o))continue;const c=Object.keys(o);for(let d=0,f=c.length;d<f;++d)i(c[d],t,o,n)}return t}function zu(t,e){return fd(t,e,{merger:Mte})}function Mte(t,e,n){if(!rP(t))return;const r=e[t],s=n[t];yt(r)&&yt(s)?zu(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Zg(s))}const lA={"":t=>t,x:t=>t.x,y:t=>t.y};function Nte(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Pte(t){const e=Nte(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function hd(t,e){return(lA[e]||(lA[e]=Pte(e)))(t)}function m_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Jg=t=>typeof t<"u",Wo=t=>typeof t=="function",cA=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function jte(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const At=Math.PI,on=2*At,Fte=on+At,ep=Number.POSITIVE_INFINITY,Lte=At/180,Dn=At/2,ma=At/4,uA=At*2/3,sP=Math.log10,cc=Math.sign;function Hu(t,e,n){return Math.abs(t-e)<n}function dA(t){const e=Math.round(t);t=Hu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(sP(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Ute(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function $te(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function gd(t){return!$te(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Bte(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function zte(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Li(t){return t*(At/180)}function Hte(t){return t*(180/At)}function fA(t){if(!gs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function iP(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*At&&(i+=on),{angle:i,distance:s}}function vw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Vte(t,e){return(t-e+Fte)%on-At}function Ts(t){return(t%on+on)%on}function pd(t,e,n,r){const s=Ts(t),i=Ts(e),o=Ts(n),a=Ts(i-s),c=Ts(o-s),d=Ts(s-i),f=Ts(s-o);return s===i||s===o||r&&i===o||a>c&&d<f}function fr(t,e,n){return Math.max(e,Math.min(n,t))}function Wte(t){return fr(t,-32768,32767)}function ql(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function v_(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Ma=(t,e,n,r)=>v_(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),qte=(t,e,n)=>v_(t,n,r=>t[r][e]>=n);function Gte(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const oP=["push","pop","shift","splice","unshift"];function Kte(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),oP.forEach(n=>{const r="_onData"+m_(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function hA(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(oP.forEach(i=>{delete t[i]}),delete t._chartjs)}function Yte(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const aP=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function lP(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,aP.call(window,()=>{r=!1,t.apply(e,n)}))}}function Qte(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const y_=t=>t==="start"?"left":t==="end"?"right":"center",tr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Xte=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Zte(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,f=o.axis,{min:h,max:p,minDefined:m,maxDefined:b}=o.getUserBounds();if(m){if(s=Math.min(Ma(c,f,h).lo,n?r:Ma(e,f,o.getPixelForValue(h)).lo),d){const y=c.slice(0,s+1).reverse().findIndex(w=>!jt(w[a.axis]));s-=Math.max(0,y)}s=fr(s,0,r-1)}if(b){let y=Math.max(Ma(c,o.axis,p,!0).hi+1,n?0:Ma(e,f,o.getPixelForValue(p),!0).hi+1);if(d){const w=c.slice(y-1).findIndex(_=>!jt(_[a.axis]));y+=Math.max(0,w)}i=fr(y,s,r)-s}else i=r-s}return{start:s,count:i}}function Jte(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Lh=t=>t===0||t===1,gA=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*on/n)),pA=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*on/n)+1,Vu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Dn)+1,easeOutSine:t=>Math.sin(t*Dn),easeInOutSine:t=>-.5*(Math.cos(At*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Lh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Lh(t)?t:gA(t,.075,.3),easeOutElastic:t=>Lh(t)?t:pA(t,.075,.3),easeInOutElastic(t){return Lh(t)?t:t<.5?.5*gA(t*2,.1125,.45):.5+.5*pA(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Vu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Vu.easeInBounce(t*2)*.5:Vu.easeOutBounce(t*2-1)*.5+.5};function b_(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function mA(t){return b_(t)?t:new dd(t)}function Gy(t){return b_(t)?t:new dd(t).saturate(.5).darken(.1).hexString()}const ene=["x","y","borderWidth","radius","tension"],tne=["color","borderColor","backgroundColor"];function nne(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:tne},numbers:{type:"number",properties:ene}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rne(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vA=new Map;function sne(t,e){e=e||{};const n=t+JSON.stringify(e);let r=vA.get(n);return r||(r=new Intl.NumberFormat(t,e),vA.set(n,r)),r}function w_(t,e,n){return sne(e,n).format(t)}const ine={values(t){return Un(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),i=one(t,n)}const o=sP(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),w_(t,r,c)}};function one(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var cP={formatters:ine};function ane(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cP.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Va=Object.create(null),yw=Object.create(null);function Wu(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Ky(t,e,n){return typeof e=="string"?fd(Wu(t,e),n):fd(Wu(t,""),e)}class lne{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Gy(s.backgroundColor),this.hoverBorderColor=(r,s)=>Gy(s.borderColor),this.hoverColor=(r,s)=>Gy(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ky(this,e,n)}get(e){return Wu(this,e)}describe(e,n){return Ky(yw,e,n)}override(e,n){return Ky(Va,e,n)}route(e,n,r,s){const i=Wu(this,e),o=Wu(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],d=o[s];return yt(c)?Object.assign({},d,c):ot(c,d)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var hn=new lne({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nne,rne,ane]);function cne(t){return!t||jt(t.size)||jt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function yA(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function va(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function bA(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function bw(t,e,n,r){uP(t,e,n,r,null)}function uP(t,e,n,r,s){let i,o,a,c,d,f,h,p;const m=e.pointStyle,b=e.rotation,y=e.radius;let w=(b||0)*Lte;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(w),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,y,0,0,on):t.arc(n,r,y,0,on),t.closePath();break;case"triangle":f=s?s/2:y,t.moveTo(n+Math.sin(w)*f,r-Math.cos(w)*y),w+=uA,t.lineTo(n+Math.sin(w)*f,r-Math.cos(w)*y),w+=uA,t.lineTo(n+Math.sin(w)*f,r-Math.cos(w)*y),t.closePath();break;case"rectRounded":d=y*.516,c=y-d,o=Math.cos(w+ma)*c,h=Math.cos(w+ma)*(s?s/2-d:c),a=Math.sin(w+ma)*c,p=Math.sin(w+ma)*(s?s/2-d:c),t.arc(n-h,r-a,d,w-At,w-Dn),t.arc(n+p,r-o,d,w-Dn,w),t.arc(n+h,r+a,d,w,w+Dn),t.arc(n-p,r+o,d,w+Dn,w+At),t.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*y,f=s?s/2:c,t.rect(n-f,r-c,2*f,2*c);break}w+=ma;case"rectRot":h=Math.cos(w)*(s?s/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),t.moveTo(n-h,r-a),t.lineTo(n+p,r-o),t.lineTo(n+h,r+a),t.lineTo(n-p,r+o),t.closePath();break;case"crossRot":w+=ma;case"cross":h=Math.cos(w)*(s?s/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"star":h=Math.cos(w)*(s?s/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o),w+=ma,h=Math.cos(w)*(s?s/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"line":o=s?s/2:Math.cos(w)*y,a=Math.sin(w)*y,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(w)*(s?s/2:y),r+Math.sin(w)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function md(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function __(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function S_(t){t.restore()}function une(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function dne(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function fne(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),jt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function hne(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,f=s.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,f),t.lineTo(a,f),t.stroke()}}function gne(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function vd(t,e,n,r,s,i={}){const o=Un(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=s.string,fne(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&gne(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),jt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,n,r,i.maxWidth)),t.fillText(d,n,r,i.maxWidth),hne(t,n,r,d,i),r+=Number(s.lineHeight);t.restore()}function ww(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*At,At,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,At,Dn,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Dn,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Dn,!0),t.lineTo(n+o.topLeft,r)}const pne=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mne=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vne(t,e){const n=(""+t).match(pne);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const yne=t=>+t||0;function x_(t,e){const n={},r=yt(e),s=r?Object.keys(e):e,i=yt(t)?r?o=>ot(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=yne(i(o));return n}function bne(t){return x_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function qu(t){return x_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ps(t){const e=bne(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ir(t,e){t=t||{},e=e||hn.font;let n=ot(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ot(t.style,e.style);r&&!(""+r).match(mne)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:ot(t.family,e.family),lineHeight:vne(ot(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ot(t.weight,e.weight),string:""};return s.string=cne(s),s}function Uh(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function wne(t,e,n){const{min:r,max:s}=t,i=nP(e,(s-r)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function el(t,e){return Object.assign(Object.create(t),e)}function E_(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=gP("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>E_([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return fP(a,c,()=>Ane(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return _A(a).includes(c)},ownKeys(a){return _A(a)},set(a,c,d){const f=a._storage||(a._storage=s());return a[c]=f[c]=d,delete a._keys,!0}})}function uc(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:dP(t,r),setContext:i=>uc(t,i,n,r),override:i=>uc(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return fP(i,o,()=>Sne(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function dP(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Wo(n)?n:()=>n,isIndexable:Wo(r)?r:()=>r}}const _ne=(t,e)=>t?t+m_(e):e,C_=(t,e)=>yt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function fP(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function Sne(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Wo(a)&&o.isScriptable(e)&&(a=xne(e,a,t,n)),Un(a)&&a.length&&(a=Ene(e,a,t,o.isIndexable)),C_(e,a)&&(a=uc(a,s,i&&i[e],o)),a}function xne(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(i,o||r);return a.delete(t),C_(t,c)&&(c=R_(s._scopes,s,t,c)),c}function Ene(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(yt(e[0])){const c=e,d=s._scopes.filter(f=>f!==c);e=[];for(const f of c){const h=R_(d,s,t,f);e.push(uc(h,i,o&&o[t],a))}}return e}function hP(t,e,n){return Wo(t)?t(e,n):t}const Cne=(t,e)=>t===!0?e:typeof t=="string"?hd(e,t):void 0;function Rne(t,e,n,r,s){for(const i of e){const o=Cne(n,i);if(o){t.add(o);const a=hP(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function R_(t,e,n,r){const s=e._rootScopes,i=hP(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let c=wA(a,o,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=wA(a,o,i,c,r),c===null)?!1:E_(Array.from(a),[""],s,i,()=>Tne(e,n,r))}function wA(t,e,n,r,s){for(;n;)n=Rne(t,e,n,r,s);return n}function Tne(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Un(s)&&yt(n)?n:s||{}}function Ane(t,e,n,r){let s;for(const i of e)if(s=gP(_ne(i,t),n),typeof s<"u")return C_(t,s)?R_(n,r,t,s):s}function gP(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function _A(t){let e=t._keys;return e||(e=t._keys=kne(t._scopes)),e}function kne(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const Dne=Number.EPSILON||1e-14,dc=(t,e)=>e<t.length&&!t[e].skip&&t[e],pP=t=>t==="x"?"y":"x";function One(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=vw(i,s),c=vw(o,i);let d=a/(a+c),f=c/(a+c);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const h=r*d,p=r*f;return{previous:{x:i.x-h*(o.x-s.x),y:i.y-h*(o.y-s.y)},next:{x:i.x+p*(o.x-s.x),y:i.y+p*(o.y-s.y)}}}function Ine(t,e,n){const r=t.length;let s,i,o,a,c,d=dc(t,0);for(let f=0;f<r-1;++f)if(c=d,d=dc(t,f+1),!(!c||!d)){if(Hu(e[f],0,Dne)){n[f]=n[f+1]=0;continue}s=n[f]/e[f],i=n[f+1]/e[f],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[f]=s*o*e[f],n[f+1]=i*o*e[f])}}function Mne(t,e,n="x"){const r=pP(n),s=t.length;let i,o,a,c=dc(t,0);for(let d=0;d<s;++d){if(o=a,a=c,c=dc(t,d+1),!a)continue;const f=a[n],h=a[r];o&&(i=(f-o[n])/3,a[`cp1${n}`]=f-i,a[`cp1${r}`]=h-i*e[d]),c&&(i=(c[n]-f)/3,a[`cp2${n}`]=f+i,a[`cp2${r}`]=h+i*e[d])}}function Nne(t,e="x"){const n=pP(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,c,d=dc(t,0);for(o=0;o<r;++o)if(a=c,c=d,d=dc(t,o+1),!!c){if(d){const f=d[e]-c[e];s[o]=f!==0?(d[n]-c[n])/f:0}i[o]=a?d?cc(s[o-1])!==cc(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Ine(t,s,i),Mne(t,i,e)}function $h(t,e,n){return Math.max(Math.min(t,n),e)}function Pne(t,e){let n,r,s,i,o,a=md(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&md(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=$h(s.cp1x,e.left,e.right),s.cp1y=$h(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=$h(s.cp2x,e.left,e.right),s.cp2y=$h(s.cp2y,e.top,e.bottom)))}function jne(t,e,n,r,s){let i,o,a,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Nne(t,s);else{let d=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],c=One(d,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,d=a}e.capBezierPoints&&Pne(t,n)}function T_(){return typeof window<"u"&&typeof document<"u"}function A_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function tp(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Wp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Fne(t,e){return Wp(t).getPropertyValue(e)}const Lne=["top","right","bottom","left"];function Fa(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=Lne[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Une=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function $ne(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,c;if(Une(s,i,t.target))a=s,c=i;else{const d=e.getBoundingClientRect();a=r.clientX-d.left,c=r.clientY-d.top,o=!0}return{x:a,y:c,box:o}}function xa(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Wp(n),i=s.boxSizing==="border-box",o=Fa(s,"padding"),a=Fa(s,"border","width"),{x:c,y:d,box:f}=$ne(t,n),h=o.left+(f&&a.left),p=o.top+(f&&a.top);let{width:m,height:b}=e;return i&&(m-=o.width+a.width,b-=o.height+a.height),{x:Math.round((c-h)/m*n.width/r),y:Math.round((d-p)/b*n.height/r)}}function Bne(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&A_(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=Wp(i),c=Fa(a,"border","width"),d=Fa(a,"padding");e=o.width-d.width-c.width,n=o.height-d.height-c.height,r=tp(a.maxWidth,i,"clientWidth"),s=tp(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||ep,maxHeight:s||ep}}const Mo=t=>Math.round(t*10)/10;function zne(t,e,n,r){const s=Wp(t),i=Fa(s,"margin"),o=tp(s.maxWidth,t,"clientWidth")||ep,a=tp(s.maxHeight,t,"clientHeight")||ep,c=Bne(t,e,n);let{width:d,height:f}=c;if(s.boxSizing==="content-box"){const p=Fa(s,"border","width"),m=Fa(s,"padding");d-=m.width+p.width,f-=m.height+p.height}return d=Math.max(0,d-i.width),f=Math.max(0,r?d/r:f-i.height),d=Mo(Math.min(d,o,c.maxWidth)),f=Mo(Math.min(f,a,c.maxHeight)),d&&!f&&(f=Mo(d/2)),(e!==void 0||n!==void 0)&&r&&c.height&&f>c.height&&(f=c.height,d=Mo(Math.floor(f*r))),{width:d,height:f}}function SA(t,e,n){const r=e||1,s=Mo(t.height*r),i=Mo(t.width*r);t.height=Mo(t.height),t.width=Mo(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Hne=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};T_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function xA(t,e){const n=Fne(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ea(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Vne(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Wne(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Ea(t,s,n),a=Ea(s,i,n),c=Ea(i,e,n),d=Ea(o,a,n),f=Ea(a,c,n);return Ea(d,f,n)}const qne=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Gne=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function tc(t,e,n){return t?qne(e,n):Gne()}function mP(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function vP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function yP(t){return t==="angle"?{between:pd,compare:Vte,normalize:Ts}:{between:ql,compare:(e,n)=>e-n,normalize:e=>e}}function EA({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function Kne(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=yP(r),c=e.length;let{start:d,end:f,loop:h}=t,p,m;if(h){for(d+=c,f+=c,p=0,m=c;p<m&&o(a(e[d%c][r]),s,i);++p)d--,f--;d%=c,f%=c}return f<d&&(f+=c),{start:d,end:f,loop:h,style:t.style}}function Yne(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:c,normalize:d}=yP(r),{start:f,end:h,loop:p,style:m}=Kne(t,e,n),b=[];let y=!1,w=null,_,E,T;const k=()=>c(s,T,_)&&a(s,T)!==0,A=()=>a(i,_)===0||c(i,T,_),I=()=>y||k(),M=()=>!y||A();for(let D=f,P=f;D<=h;++D)E=e[D%o],!E.skip&&(_=d(E[r]),_!==T&&(y=c(_,s,i),w===null&&I()&&(w=a(_,s)===0?D:P),w!==null&&M()&&(b.push(EA({start:w,end:D,loop:p,count:o,style:m})),w=null),P=D,T=_));return w!==null&&b.push(EA({start:w,end:h,loop:p,count:o,style:m})),b}function Qne(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=Yne(r[s],t.points,e);i.length&&n.push(...i)}return n}function Xne(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function Zne(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],c;for(c=e+1;c<=n;++c){const d=t[c%s];d.skip||d.stop?a.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=o=d.stop?c:null):(o=c,a.skip&&(e=c)),a=d}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function Jne(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=Xne(n,s,i,r);if(r===!0)return CA(t,[{start:o,end:a,loop:i}],n,e);const c=a<o?a+s:a,d=!!t._fullLoop&&o===0&&a===s-1;return CA(t,Zne(n,o,c,d),n,e)}function CA(t,e,n,r){return!r||!r.setContext||!n?e:ere(t,e,n,r)}function ere(t,e,n,r){const s=t._chart.getContext(),i=RA(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,d=[];let f=i,h=e[0].start,p=h;function m(b,y,w,_){const E=a?-1:1;if(b!==y){for(b+=c;n[b%c].skip;)b-=E;for(;n[y%c].skip;)y+=E;b%c!==y%c&&(d.push({start:b%c,end:y%c,loop:w,style:_}),f=_,h=y%c)}}for(const b of e){h=a?h:b.start;let y=n[h%c],w;for(p=h+1;p<=b.end;p++){const _=n[p%c];w=RA(r.setContext(el(s,{type:"segment",p0:y,p1:_,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:o}))),tre(w,f)&&m(h,p-1,b.loop,f),y=_,f=w}h<p-1&&m(h,p-1,b.loop,f)}return d}function RA(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function tre(t,e){if(!e)return!1;const n=[],r=function(s,i){return b_(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Bh(t,e,n){return t.options.clip?t[n]:e[n]}function nre(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Bh(n,e,"left"),right:Bh(n,e,"right"),top:Bh(r,e,"top"),bottom:Bh(r,e,"bottom")}:e}function rre(t,e){const n=e._clip;if(n.disabled)return!1;const r=nre(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class sre{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=aP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ki=new sre;const TA="transparent",ire={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=mA(t||TA),s=r.valid&&mA(e||TA);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class ore{constructor(e,n,r,s){const i=n[r];s=Uh([e.to,s,i,e.from]);const o=Uh([e.from,i,s]);this._active=!0,this._fn=e.fn||ire[e.type||typeof o],this._easing=Vu[e.easing]||Vu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Uh([e.to,n,s,e.from]),this._from=Uh([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let c;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class bP{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!yt(e))return;const n=Object.keys(hn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!yt(i))return;const o={};for(const a of n)o[a]=i[a];(Un(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=lre(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&are(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const f=n[d];let h=i[d];const p=r.get(d);if(h)if(p&&h.active()){h.update(p,f,a);continue}else h.cancel();if(!p||!p.duration){e[d]=f;continue}i[d]=h=new ore(p,e,d,f),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ki.add(this._chart,r),!0}}function are(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function lre(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function AA(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function cre(t,e,n){if(n===!1)return!1;const r=AA(t,n),s=AA(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function ure(t){let e,n,r,s;return yt(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function wP(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function kA(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,c,d;if(e===null)return;let f=!1;for(o=0,a=s.length;o<a;++o){if(c=+s[o],c===n){if(f=!0,r.all)continue;break}d=t.values[c],gs(d)&&(i||e===0||cc(e)===cc(d))&&(e+=d)}return!f&&!r.all?0:e}function dre(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,d,f;for(c=0,d=o.length;c<d;++c)f=o[c],a[c]={[s]:f,[i]:t[f]};return a}function Yy(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function fre(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function hre(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function gre(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function DA(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function OA(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,c=i.axis,d=o.axis,f=fre(i,o,r),h=e.length;let p;for(let m=0;m<h;++m){const b=e[m],{[c]:y,[d]:w}=b,_=b._stacks||(b._stacks={});p=_[d]=gre(s,f,y),p[a]=w,p._top=DA(p,o,!0,r.type),p._bottom=DA(p,o,!1,r.type);const E=p._visualValues||(p._visualValues={});E[a]=w}}function Qy(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function pre(t,e){return el(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function mre(t,e,n){return el(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function mu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Xy=t=>t==="reset"||t==="none",IA=(t,e)=>e?t:Object.assign({},t),vre=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:wP(n,!0),values:null};class k_{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Yy(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&mu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,p,m,b)=>h==="x"?p:h==="r"?b:m,i=n.xAxisID=ot(r.xAxisID,Qy(e,"x")),o=n.yAxisID=ot(r.yAxisID,Qy(e,"y")),a=n.rAxisID=ot(r.rAxisID,Qy(e,"r")),c=n.indexAxis,d=n.iAxisID=s(c,i,o,a),f=n.vAxisID=s(c,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&hA(this._data,this),e._stacked&&mu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(yt(n)){const s=this._cachedMeta;this._data=dre(n,s)}else if(r!==n){if(r){hA(r,this);const s=this._cachedMeta;mu(s),s._parsed=[]}n&&Object.isExtensible(n)&&Kte(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Yy(n.vScale,n),n.stack!==r.stack&&(s=!0,mu(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(OA(this,n._parsed),n._stacked=Yy(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let c=e===0&&n===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],f,h,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{Un(s[e])?p=this.parseArrayData(r,s,e,n):yt(s[e])?p=this.parseObjectData(r,s,e,n):p=this.parsePrimitiveData(r,s,e,n);const m=()=>h[a]===null||d&&h[a]<d[a];for(f=0;f<n;++f)r._parsed[f+e]=h=p[f],c&&(m()&&(c=!1),d=h);r._sorted=c}o&&OA(this,p)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,c=o.axis,d=i.getLabels(),f=i===o,h=new Array(s);let p,m,b;for(p=0,m=s;p<m;++p)b=p+r,h[p]={[a]:f||i.parse(d[b],b),[c]:o.parse(n[b],b)};return h}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let c,d,f,h;for(c=0,d=s;c<d;++c)f=c+r,h=n[f],a[c]={x:i.parse(h[0],f),y:o.parse(h[1],f)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,d=new Array(s);let f,h,p,m;for(f=0,h=s;f<h;++f)p=f+r,m=n[p],d[f]={x:i.parse(hd(m,a),p),y:o.parse(hd(m,c),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:wP(s,!0),values:n._stacks[e.axis]._visualValues};return kA(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=kA(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),c=vre(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:h}=hre(a);let p,m;function b(){m=s[p];const y=m[a.axis];return!gs(m[e.axis])||f>y||h<y}for(p=0;p<o&&!(!b()&&(this.updateRangeFromParsed(d,e,m,c),i));++p);if(i){for(p=o-1;p>=0;--p)if(!b()){this.updateRangeFromParsed(d,e,m,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],gs(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ure(ot(this.options.clip,cre(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||s.length-a,d=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,i,a,c),f=a;f<a+c;++f){const h=s[f];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(f=0;f<o.length;++f)o[f].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=mre(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=pre(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],c=this.enableOptionSharing&&Jg(r);if(a)return IA(a,c);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),f),m=Object.keys(hn.elements[e]),b=()=>this.getContext(r,s,n),y=d.resolveNamedOptions(p,m,b,h);return y.$shared&&(y.$shared=c,i[o]=Object.freeze(IA(y,c))),y}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let c;if(s.options.animation!==!1){const f=this.chart.config,h=f.datasetAnimationScopeKeys(this._type,n),p=f.getOptionScopes(this.getDataset(),h);c=f.createResolver(p,this.getContext(e,r,n))}const d=new bP(s,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Xy(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){Xy(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Xy(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,c,d]of this._syncList)this[a](c,d);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const c=d=>{for(d.length+=n,a=d.length-1;a>=o;a--)d[a]=d[a-n]};for(c(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&mu(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function yre(t,e,n){let r=1,s=1,i=0,o=0;if(e<on){const a=t,c=a+e,d=Math.cos(a),f=Math.sin(a),h=Math.cos(c),p=Math.sin(c),m=(T,k,A)=>pd(T,a,c,!0)?1:Math.max(k,k*n,A,A*n),b=(T,k,A)=>pd(T,a,c,!0)?-1:Math.min(k,k*n,A,A*n),y=m(0,d,h),w=m(Dn,f,p),_=b(At,d,h),E=b(At+Dn,f,p);r=(y-_)/2,s=(w-E)/2,i=-(y+_)/2,o=-(w+E)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class bre extends k_{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,d)=>{const h=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:r,borderRadius:o&&(a||h.borderRadius),index:d}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(yt(r[e])){const{key:c="value"}=this._parsing;i=d=>+hd(r[d],c)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return Li(this.options.rotation-90)}_getCircumference(){return Li(this.options.circumference)}_getRotationExtents(){let e=on,n=-on;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(Ote(this.options.cutout,a),1),d=this._getRingWeight(this.index),{circumference:f,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:b,offsetY:y}=yre(h,f,c),w=(r.width-o)/p,_=(r.height-o)/m,E=Math.max(Math.min(w,_)/2,0),T=nP(this.options.radius,E),k=Math.max(T*c,0),A=(T-k)/this._getVisibleDatasetWeightTotal();this.offsetX=b*T,this.offsetY=y*T,s.total=this.calculateTotal(),this.outerRadius=T-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/on)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,d=o.options.animation,f=(a.left+a.right)/2,h=(a.top+a.bottom)/2,p=i&&d.animateScale,m=p?0:this.innerRadius,b=p?0:this.outerRadius,{sharedOptions:y,includeOptions:w}=this._getSharedOptions(n,s);let _=this._getRotation(),E;for(E=0;E<n;++E)_+=this._circumference(E,i);for(E=n;E<n+r;++E){const T=this._circumference(E,i),k=e[E],A={x:f+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+T,circumference:T,outerRadius:b,innerRadius:m};w&&(A.options=y||this.resolveDataElementOptions(E,k.active?"active":s)),_+=T,this.updateElement(k,E,A,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?on*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=w_(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,a,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=a.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ot(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class wre extends k_{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:c}=Zte(n,s,o);this._drawStart=a,this._drawCount=c,Jte(n)&&(a=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:d},e),this.updateElements(s,a,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,s),p=o.axis,m=a.axis,{spanGaps:b,segment:y}=this.options,w=gd(b)?b:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||i||s==="none",E=n+r,T=e.length;let k=n>0&&this.getParsed(n-1);for(let A=0;A<T;++A){const I=e[A],M=_?I:{};if(A<n||A>=E){M.skip=!0;continue}const D=this.getParsed(A),P=jt(D[m]),j=M[p]=o.getPixelForValue(D[p],A),z=M[m]=i||P?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,D,c):D[m],A);M.skip=isNaN(j)||isNaN(z)||P,M.stop=A>0&&Math.abs(D[p]-k[p])>w,y&&(M.parsed=D,M.raw=d.data[A]),h&&(M.options=f||this.resolveDataElementOptions(A,I.active?"active":s)),_||this.updateElement(I,A,M,s),k=D}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class _re extends bre{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function ya(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class D_{static override(e){Object.assign(D_.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ya()}parse(){return ya()}format(){return ya()}add(){return ya()}diff(){return ya()}startOf(){return ya()}endOf(){return ya()}}var Sre={_date:D_};function xre(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const d=a._reversePixels?qte:Ma;if(r){if(s._sharedOptions){const f=i[0],h=typeof f.getRange=="function"&&f.getRange(e);if(h){const p=d(i,e,n-h),m=d(i,e,n+h);return{lo:p.lo,hi:m.hi}}}}else{const f=d(i,e,n);if(c){const{vScale:h}=s._cachedMeta,{_parsed:p}=t,m=p.slice(0,f.lo+1).reverse().findIndex(y=>!jt(y[h.axis]));f.lo-=Math.max(0,m);const b=p.slice(f.hi).findIndex(y=>!jt(y[h.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:i.length-1}}function qp(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=i.length;a<c;++a){const{index:d,data:f}=i[a],{lo:h,hi:p}=xre(i[a],e,o,s);for(let m=h;m<=p;++m){const b=f[m];b.skip||r(b,d,m)}}}function Ere(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Zy(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||qp(t,n,e,function(a,c,d){!s&&!md(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:c,index:d})},!0),i}function Cre(t,e,n,r){let s=[];function i(o,a,c){const{startAngle:d,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:h}=iP(o,{x:e.x,y:e.y});pd(h,d,f)&&s.push({element:o,datasetIndex:a,index:c})}return qp(t,n,e,i),s}function Rre(t,e,n,r,s,i){let o=[];const a=Ere(n);let c=Number.POSITIVE_INFINITY;function d(f,h,p){const m=f.inRange(e.x,e.y,s);if(r&&!m)return;const b=f.getCenterPoint(s);if(!(!!i||t.isPointInArea(b))&&!m)return;const w=a(e,b);w<c?(o=[{element:f,datasetIndex:h,index:p}],c=w):w===c&&o.push({element:f,datasetIndex:h,index:p})}return qp(t,n,e,d),o}function Jy(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?Cre(t,e,n,s):Rre(t,e,n,r,s,i)}function MA(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return qp(t,n,e,(c,d,f)=>{c[o]&&c[o](e[n],s)&&(i.push({element:c,datasetIndex:d,index:f}),a=a||c.inRange(e.x,e.y,s))}),r&&!a?[]:i}var Tre={modes:{index(t,e,n,r){const s=xa(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Zy(t,s,i,r,o):Jy(t,s,i,!1,r,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const f=a[0].index,h=d.data[f];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:f})}),c):[]},dataset(t,e,n,r){const s=xa(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Zy(t,s,i,r,o):Jy(t,s,i,!1,r,o);if(a.length>0){const c=a[0].datasetIndex,d=t.getDatasetMeta(c).data;a=[];for(let f=0;f<d.length;++f)a.push({element:d[f],datasetIndex:c,index:f})}return a},point(t,e,n,r){const s=xa(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Zy(t,s,i,r,o)},nearest(t,e,n,r){const s=xa(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Jy(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=xa(e,t);return MA(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=xa(e,t);return MA(t,s,"y",n.intersect,r)}}};const _P=["left","top","right","bottom"];function vu(t,e){return t.filter(n=>n.pos===e)}function NA(t,e){return t.filter(n=>_P.indexOf(n.pos)===-1&&n.box.axis===e)}function yu(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function Are(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function kre(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!_P.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Dre(t,e){const n=kre(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:c}=a.box,d=n[a.stack],f=d&&a.stackWeight/d.weight;a.horizontal?(a.width=f?f*r:c&&e.availableWidth,a.height=s):(a.width=r,a.height=f?f*s:c&&e.availableHeight)}return n}function Ore(t){const e=Are(t),n=yu(e.filter(d=>d.box.fullSize),!0),r=yu(vu(e,"left"),!0),s=yu(vu(e,"right")),i=yu(vu(e,"top"),!0),o=yu(vu(e,"bottom")),a=NA(e,"x"),c=NA(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(o).concat(a),chartArea:vu(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(o).concat(a)}}function PA(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function SP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Ire(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!yt(s)){n.size&&(t[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[s]+=n.size}i.getPadding&&SP(o,i.getPadding());const a=Math.max(0,e.outerWidth-PA(o,t,"left","right")),c=Math.max(0,e.outerHeight-PA(o,t,"top","bottom")),d=a!==t.w,f=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:d,other:f}:{same:f,other:d}}function Mre(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Nre(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function Cu(t,e,n,r){const s=[];let i,o,a,c,d,f;for(i=0,o=t.length,d=0;i<o;++i){a=t[i],c=a.box,c.update(a.width||e.w,a.height||e.h,Nre(a.horizontal,e));const{same:h,other:p}=Ire(e,n,a,r);d|=h&&s.length,f=f||p,c.fullSize||s.push(a)}return d&&Cu(s,e,n,r)||f}function zh(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function jA(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const c=a.box,d=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/d.weight||1;if(a.horizontal){const h=e.w*f,p=d.size||c.height;Jg(d.start)&&(o=d.start),c.fullSize?zh(c,s.left,o,n.outerWidth-s.right-s.left,p):zh(c,e.left+d.placed,o,h,p),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*f,p=d.size||c.width;Jg(d.start)&&(i=d.start),c.fullSize?zh(c,i,s.top,p,n.outerHeight-s.bottom-s.top):zh(c,i,e.top+d.placed,p,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var ds={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=ps(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=Ore(t.boxes),c=a.vertical,d=a.horizontal;Tt(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const f=c.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/f,hBoxMaxHeight:o/2}),p=Object.assign({},s);SP(p,ps(r));const m=Object.assign({maxPadding:p,w:i,h:o,x:s.left,y:s.top},s),b=Dre(c.concat(d),h);Cu(a.fullSize,m,h,b),Cu(c,m,h,b),Cu(d,m,h,b)&&Cu(c,m,h,b),Mre(m),jA(a.leftAndTop,m,h,b),m.x+=m.w,m.y+=m.h,jA(a.rightAndBottom,m,h,b),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Tt(a.chartArea,y=>{const w=y.box;Object.assign(w,t.chartArea),w.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class xP{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class Pre extends xP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ug="$chartjs",jre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},FA=t=>t===null||t==="";function Fre(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[ug]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",FA(s)){const i=xA(t,"width");i!==void 0&&(t.width=i)}if(FA(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=xA(t,"height");i!==void 0&&(t.height=i)}return t}const EP=Hne?{passive:!0}:!1;function Lre(t,e,n){t&&t.addEventListener(e,n,EP)}function Ure(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,EP)}function $re(t,e){const n=jre[t.type]||t.type,{x:r,y:s}=xa(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function np(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Bre(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||np(a.addedNodes,r),o=o&&!np(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function zre(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||np(a.removedNodes,r),o=o&&!np(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const yd=new Map;let LA=0;function CP(){const t=window.devicePixelRatio;t!==LA&&(LA=t,yd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Hre(t,e){yd.size||window.addEventListener("resize",CP),yd.set(t,e)}function Vre(t){yd.delete(t),yd.size||window.removeEventListener("resize",CP)}function Wre(t,e,n){const r=t.canvas,s=r&&A_(r);if(!s)return;const i=lP((a,c)=>{const d=s.clientWidth;n(a,c),d<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],d=c.contentRect.width,f=c.contentRect.height;d===0&&f===0||i(d,f)});return o.observe(s),Hre(t,i),o}function eb(t,e,n){n&&n.disconnect(),e==="resize"&&Vre(t)}function qre(t,e,n){const r=t.canvas,s=lP(i=>{t.ctx!==null&&n($re(i,t))},t);return Lre(r,e,s),s}class Gre extends xP{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Fre(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[ug])return!1;const r=n[ug].initial;["height","width"].forEach(i=>{const o=r[i];jt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[ug],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:Bre,detach:zre,resize:Wre}[n]||qre;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:eb,detach:eb,resize:eb}[n]||Ure)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return zne(e,n,r,s)}isAttached(e){const n=e&&A_(e);return!!(n&&n.isConnected)}}function Kre(t){return!T_()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Pre:Gre}let Zo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return gd(this.x)&&gd(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}};function Yre(t,e){const n=t.options.ticks,r=Qre(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?Zre(e):[],o=i.length,a=i[0],c=i[o-1],d=[];if(o>s)return Jre(e,d,i,o/s),d;const f=Xre(i,e,s);if(o>0){let h,p;const m=o>1?Math.round((c-a)/(o-1)):null;for(Hh(e,d,f,jt(m)?0:a-m,a),h=0,p=o-1;h<p;h++)Hh(e,d,f,i[h],i[h+1]);return Hh(e,d,f,c,jt(m)?e.length:c+m),d}return Hh(e,d,f),d}function Qre(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function Xre(t,e,n){const r=ese(t),s=e.length/n;if(!r)return Math.max(s,1);const i=Ute(r);for(let o=0,a=i.length-1;o<a;o++){const c=i[o];if(c>s)return c}return Math.max(s,1)}function Zre(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Jre(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Hh(t,e,n,r,s){const i=ot(r,0),o=Math.min(ot(s,t.length),t.length);let a=0,c,d,f;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),f=i;f<0;)a++,f=Math.round(i+a*n);for(d=Math.max(i,0);d<o;d++)d===f&&(e.push(t[d]),a++,f=Math.round(i+a*n))}function ese(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const tse=t=>t==="left"?"right":t==="right"?"left":t,UA=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,$A=(t,e)=>Math.min(e||t,t);function BA(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function nse(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(s),d;if(!(n&&(r===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(s-1))/2,c+=s<e?d:-d,c<i-a||c>o+a)))return c}function rse(t,e){Tt(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function bu(t){return t.drawTicks?t.tickLength:0}function zA(t,e){if(!t.display)return 0;const n=ir(t.font,e),r=ps(t.padding);return(Un(t.text)?t.text.length:1)*n.lineHeight+r.height}function sse(t,e){return el(t,{scale:e,type:"scale"})}function ise(t,e,n){return el(t,{tick:n,index:e,type:"tick"})}function ose(t,e,n){let r=y_(t);return(n&&e!=="right"||!n&&e==="right")&&(r=tse(r)),r}function ase(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:c}=t,{chartArea:d,scales:f}=c;let h=0,p,m,b;const y=o-s,w=a-i;if(t.isHorizontal()){if(m=tr(r,i,a),yt(n)){const _=Object.keys(n)[0],E=n[_];b=f[_].getPixelForValue(E)+y-e}else n==="center"?b=(d.bottom+d.top)/2+y-e:b=UA(t,n,e);p=a-i}else{if(yt(n)){const _=Object.keys(n)[0],E=n[_];m=f[_].getPixelForValue(E)-w+e}else n==="center"?m=(d.left+d.right)/2-w+e:m=UA(t,n,e);b=tr(r,o,s),h=n==="left"?-Dn:Dn}return{titleX:m,titleY:b,maxWidth:p,rotation:h}}class Rc extends Zo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Zs(e,Number.POSITIVE_INFINITY),n=Zs(n,Number.NEGATIVE_INFINITY),r=Zs(r,Number.POSITIVE_INFINITY),s=Zs(s,Number.NEGATIVE_INFINITY),{min:Zs(e,r),max:Zs(n,s),minDefined:gs(e),maxDefined:gs(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let c=0,d=a.length;c<d;++c)o=a[c].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Zs(n,Zs(r,n)),max:Zs(r,Zs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ut(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wne(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?BA(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Yre(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ut(this.options.afterUpdate,[this])}beforeSetDimensions(){Ut(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ut(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ut(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ut(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Ut(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Ut(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ut(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=$A(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,c,d;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),h=f.widest.width,p=f.highest.height,m=fr(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),h+6>a&&(a=m/(r-(e.offset?.5:1)),c=this.maxHeight-bu(e.grid)-n.padding-zA(e.title,this.chart.options.font),d=Math.sqrt(h*h+p*p),o=Hte(Math.min(Math.asin(fr((f.highest.height+6)/a,-1,1)),Math.asin(fr(c/d,-1,1))-Math.asin(fr(p/d,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ut(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ut(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=zA(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=bu(i)+c):(e.height=this.maxHeight,e.width=bu(i)+c),r.display&&this.ticks.length){const{first:d,last:f,widest:h,highest:p}=this._getLabelSizes(),m=r.padding*2,b=Li(this.labelRotation),y=Math.cos(b),w=Math.sin(b);if(a){const _=r.mirror?0:w*h.width+y*p.height;e.height=Math.min(this.maxHeight,e.height+_+m)}else{const _=r.mirror?0:y*h.width+w*p.height;e.width=Math.min(this.maxWidth,e.width+_+m)}this._calculatePadding(d,f,w,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,c=this.labelRotation!==0,d=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;c?d?(p=s*e.width,m=r*n.height):(p=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,m=n.width/2),this.paddingLeft=Math.max((p-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let f=n.height/2,h=e.height/2;i==="start"?(f=0,h=e.height):i==="end"&&(f=n.height,h=0),this.paddingTop=f+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ut(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)jt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=BA(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],c=Math.floor(n/$A(n,r));let d=0,f=0,h,p,m,b,y,w,_,E,T,k,A;for(h=0;h<n;h+=c){if(b=e[h].label,y=this._resolveTickFontOptions(h),s.font=w=y.string,_=i[w]=i[w]||{data:{},gc:[]},E=y.lineHeight,T=k=0,!jt(b)&&!Un(b))T=yA(s,_.data,_.gc,T,b),k=E;else if(Un(b))for(p=0,m=b.length;p<m;++p)A=b[p],!jt(A)&&!Un(A)&&(T=yA(s,_.data,_.gc,T,A),k+=E);o.push(T),a.push(k),d=Math.max(T,d),f=Math.max(k,f)}rse(i,n);const I=o.indexOf(d),M=a.indexOf(f),D=P=>({width:o[P]||0,height:a[P]||0});return{first:D(0),last:D(n-1),widest:D(I),highest:D(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Wte(this._alignToPixels?va(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=ise(this.getContext(),e,r))}return this.$context||(this.$context=sse(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Li(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*r>a*s?a/r:c/s:c*s<a*r?c/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),p=bu(i),m=[],b=a.setContext(this.getContext()),y=b.display?b.width:0,w=y/2,_=function(ee){return va(r,ee,y)};let E,T,k,A,I,M,D,P,j,z,G,Q;if(o==="top")E=_(this.bottom),M=this.bottom-p,P=E-w,z=_(e.top)+w,Q=e.bottom;else if(o==="bottom")E=_(this.top),z=e.top,Q=_(e.bottom)-w,M=E+w,P=this.top+p;else if(o==="left")E=_(this.right),I=this.right-p,D=E-w,j=_(e.left)+w,G=e.right;else if(o==="right")E=_(this.left),j=e.left,G=_(e.right)-w,I=E+w,D=this.left+p;else if(n==="x"){if(o==="center")E=_((e.top+e.bottom)/2+.5);else if(yt(o)){const ee=Object.keys(o)[0],re=o[ee];E=_(this.chart.scales[ee].getPixelForValue(re))}z=e.top,Q=e.bottom,M=E+w,P=M+p}else if(n==="y"){if(o==="center")E=_((e.left+e.right)/2);else if(yt(o)){const ee=Object.keys(o)[0],re=o[ee];E=_(this.chart.scales[ee].getPixelForValue(re))}I=E-w,D=I-p,j=e.left,G=e.right}const oe=ot(s.ticks.maxTicksLimit,h),ce=Math.max(1,Math.ceil(h/oe));for(T=0;T<h;T+=ce){const ee=this.getContext(T),re=i.setContext(ee),$=a.setContext(ee),B=re.lineWidth,Z=re.color,U=$.dash||[],J=$.dashOffset,le=re.tickWidth,ue=re.tickColor,Se=re.tickBorderDash||[],_e=re.tickBorderDashOffset;k=nse(this,T,c),k!==void 0&&(A=va(r,k,B),d?I=D=j=G=A:M=P=z=Q=A,m.push({tx1:I,ty1:M,tx2:D,ty2:P,x1:j,y1:z,x2:G,y2:Q,width:B,color:Z,borderDash:U,borderDashOffset:J,tickWidth:le,tickColor:ue,tickBorderDash:Se,tickBorderDashOffset:_e}))}return this._ticksLength=h,this._borderValue=E,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:d,padding:f,mirror:h}=i,p=bu(r.grid),m=p+f,b=h?-f:m,y=-Li(this.labelRotation),w=[];let _,E,T,k,A,I,M,D,P,j,z,G,Q="middle";if(s==="top")I=this.bottom-b,M=this._getXAxisLabelAlignment();else if(s==="bottom")I=this.top+b,M=this._getXAxisLabelAlignment();else if(s==="left"){const ce=this._getYAxisLabelAlignment(p);M=ce.textAlign,A=ce.x}else if(s==="right"){const ce=this._getYAxisLabelAlignment(p);M=ce.textAlign,A=ce.x}else if(n==="x"){if(s==="center")I=(e.top+e.bottom)/2+m;else if(yt(s)){const ce=Object.keys(s)[0],ee=s[ce];I=this.chart.scales[ce].getPixelForValue(ee)+m}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")A=(e.left+e.right)/2-m;else if(yt(s)){const ce=Object.keys(s)[0],ee=s[ce];A=this.chart.scales[ce].getPixelForValue(ee)}M=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(c==="start"?Q="top":c==="end"&&(Q="bottom"));const oe=this._getLabelSizes();for(_=0,E=a.length;_<E;++_){T=a[_],k=T.label;const ce=i.setContext(this.getContext(_));D=this.getPixelForTick(_)+i.labelOffset,P=this._resolveTickFontOptions(_),j=P.lineHeight,z=Un(k)?k.length:1;const ee=z/2,re=ce.color,$=ce.textStrokeColor,B=ce.textStrokeWidth;let Z=M;o?(A=D,M==="inner"&&(_===E-1?Z=this.options.reverse?"left":"right":_===0?Z=this.options.reverse?"right":"left":Z="center"),s==="top"?d==="near"||y!==0?G=-z*j+j/2:d==="center"?G=-oe.highest.height/2-ee*j+j:G=-oe.highest.height+j/2:d==="near"||y!==0?G=j/2:d==="center"?G=oe.highest.height/2-ee*j:G=oe.highest.height-z*j,h&&(G*=-1),y!==0&&!ce.showLabelBackdrop&&(A+=j/2*Math.sin(y))):(I=D,G=(1-z)*j/2);let U;if(ce.showLabelBackdrop){const J=ps(ce.backdropPadding),le=oe.heights[_],ue=oe.widths[_];let Se=G-J.top,_e=0-J.left;switch(Q){case"middle":Se-=le/2;break;case"bottom":Se-=le;break}switch(M){case"center":_e-=ue/2;break;case"right":_e-=ue;break;case"inner":_===E-1?_e-=ue:_>0&&(_e-=ue/2);break}U={left:_e,top:Se,width:ue+J.width,height:le+J.height,color:ce.backdropColor}}w.push({label:k,font:P,textOffset:G,options:{rotation:y,color:re,strokeColor:$,strokeWidth:B,textAlign:Z,textBaseline:Q,translation:[A,I],backdrop:U}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Li(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,c=o.widest.width;let d,f;return n==="left"?s?(f=this.right+i,r==="near"?d="left":r==="center"?(d="center",f+=c/2):(d="right",f+=c)):(f=this.right-a,r==="near"?d="right":r==="center"?(d="center",f-=c/2):(d="left",f=this.left)):n==="right"?s?(f=this.left+i,r==="near"?d="right":r==="center"?(d="center",f-=c/2):(d="left",f-=c)):(f=this.left+a,r==="near"?d="left":r==="center"?(d="center",f+=c/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(c,d,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const c=s[i];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,f,h,p;this.isHorizontal()?(d=va(e,this.left,o)-o/2,f=va(e,this.right,a)+a/2,h=p=c):(h=va(e,this.top,o)-o/2,p=va(e,this.bottom,a)+a/2,d=f=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,h),n.lineTo(f,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&__(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,c=o.font,d=o.label,f=o.textOffset;vd(r,d,0,f,c,a)}s&&S_(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=ir(r.font),o=ps(r.padding),a=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||yt(n)?(c+=o.bottom,Un(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:d,titleY:f,maxWidth:h,rotation:p}=ase(this,c,n,a);vd(e,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:p,textAlign:ose(a,n,s),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ot(e.grid&&e.grid.z,-1),s=ot(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Rc.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ir(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vh{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;use(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,lse(e,o,r),this.override&&hn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in hn[s]&&(delete hn[s][r],this.override&&delete Va[r])}}function lse(t,e,n){const r=fd(Object.create(null),[n?hn.get(n):{},hn.get(e),t.defaults]);hn.set(e,r),t.defaultRoutes&&cse(e,t.defaultRoutes),t.descriptors&&hn.describe(e,t.descriptors)}function cse(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");hn.route(i,s,c,a)})}function use(t){return"id"in t&&"defaults"in t}class dse{constructor(){this.controllers=new Vh(k_,"datasets",!0),this.elements=new Vh(Zo,"elements"),this.plugins=new Vh(Object,"plugins"),this.scales=new Vh(Rc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Tt(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=m_(e);Ut(r["before"+s],[],r),n[e](r),Ut(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var ti=new dse;class fse{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],c=[n,s,i.options];if(Ut(a,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=ot(r.options&&r.options.plugins,{}),i=hse(r);return s===!1&&!n?[]:pse(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function hse(t){const e={},n=[],r=Object.keys(ti.plugins.items);for(let i=0;i<r.length;i++)n.push(ti.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function gse(t,e){return!e&&t===!1?null:t===!0?{}:t}function pse(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const c=a.id,d=gse(r[c],s);d!==null&&i.push({plugin:a,options:mse(t.config,{plugin:a,local:n[c]},d,o)})}return i}function mse(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _w(t,e){const n=hn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function vse(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function yse(t,e){return t===e?"_index_":"_value_"}function HA(t){if(t==="x"||t==="y"||t==="r")return t}function bse(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Sw(t,...e){if(HA(t))return t;for(const n of e){const r=n.axis||bse(n.position)||t.length>1&&HA(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function VA(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function wse(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return VA(t,"x",n[0])||VA(t,"y",n[0])}return{}}function _se(t,e){const n=Va[t.type]||{scales:{}},r=e.scales||{},s=_w(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!yt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Sw(o,a,wse(o,t),hn.scales[a.type]),d=yse(c,s),f=n.scales||{};i[o]=zu(Object.create(null),[{axis:c},a,f[c],f[d]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||_w(a,e),f=(Va[a]||{}).scales||{};Object.keys(f).forEach(h=>{const p=vse(h,c),m=o[p+"AxisID"]||p;i[m]=i[m]||Object.create(null),zu(i[m],[{axis:p},r[m],f[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];zu(a,[hn.scales[a.type],hn.scale])}),i}function RP(t){const e=t.options||(t.options={});e.plugins=ot(e.plugins,{}),e.scales=_se(t,e)}function TP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Sse(t){return t=t||{},t.data=TP(t.data),RP(t),t}const WA=new Map,AP=new Set;function Wh(t,e){let n=WA.get(t);return n||(n=e(),WA.set(t,n),AP.add(n)),n}const wu=(t,e,n)=>{const r=hd(e,n);r!==void 0&&t.add(r)};class xse{constructor(e){this._config=Sse(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=TP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Wh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Wh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Wh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Wh(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const c=new Set;n.forEach(f=>{e&&(c.add(e),f.forEach(h=>wu(c,e,h))),f.forEach(h=>wu(c,s,h)),f.forEach(h=>wu(c,Va[i]||{},h)),f.forEach(h=>wu(c,hn,h)),f.forEach(h=>wu(c,yw,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),AP.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Va[n]||{},hn.datasets[n]||{},{type:n},hn,yw]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=qA(this._resolverCache,e,s);let c=o;if(Cse(o,n)){i.$shared=!1,r=Wo(r)?r():r;const d=this.createResolver(e,r,a);c=uc(o,r,d)}for(const d of n)i[d]=c[d];return i}createResolver(e,n,r=[""],s){const{resolver:i}=qA(this._resolverCache,e,r);return yt(n)?uc(i,n,void 0,s):i}}function qA(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:E_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const Ese=t=>yt(t)&&Object.getOwnPropertyNames(t).some(e=>Wo(t[e]));function Cse(t,e){const{isScriptable:n,isIndexable:r}=dP(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Wo(a)||Ese(a))||o&&Un(a))return!0}return!1}var Rse="4.5.1";const Tse=["top","bottom","left","right","chartArea"];function GA(t,e){return t==="top"||t==="bottom"||Tse.indexOf(t)===-1&&e==="x"}function KA(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function YA(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ut(n&&n.onComplete,[t],e)}function Ase(t){const e=t.chart,n=e.options.animation;Ut(n&&n.onProgress,[t],e)}function kP(t){return T_()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const dg={},QA=t=>{const e=kP(t);return Object.values(dg).filter(n=>n.canvas===e).pop()};function kse(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function Dse(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let Gp=class{static defaults=hn;static instances=dg;static overrides=Va;static registry=ti;static version=Rse;static getChart=QA;static register(...e){ti.add(...e),XA()}static unregister(...e){ti.remove(...e),XA()}constructor(e,n){const r=this.config=new xse(n),s=kP(e),i=QA(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Kre(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),c=a&&a.canvas,d=c&&c.height,f=c&&c.width;if(this.id=Dte(),this.ctx=a,this.canvas=c,this.width=f,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fse,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Qte(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],dg[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ki.listen(this,"complete",YA),ki.listen(this,"progress",Ase),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return jt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ti}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():SA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bA(this.canvas,this.ctx),this}stop(){return ki.stop(this),this}resize(e,n){ki.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,SA(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ut(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Tt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],c=Sw(o,a),d=c==="r",f=c==="x";return{options:a,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),Tt(i,o=>{const a=o.options,c=a.id,d=Sw(c,a),f=ot(a.type,o.dtype);(a.position===void 0||GA(a.position,d)!==GA(o.dposition))&&(a.position=o.dposition),s[c]=!0;let h=null;if(c in r&&r[c].type===f)h=r[c];else{const p=ti.getScale(f);h=new p({id:c,type:f,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Tt(s,(o,a)=>{o||delete r[a]}),Tt(r,o=>{ds.configure(this,o,o.options),ds.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(KA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||_w(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=ti.getController(a),{datasetElementType:d,dataElementType:f}=hn.datasets[a];Object.assign(c,{dataElementType:ti.getElement(f),datasetElementType:d&&ti.getElement(d)}),o.controller=new c(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Tt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:h}=this.getDatasetMeta(d),p=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(p),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Tt(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(KA("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Tt(this.scales,e=>{ds.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!cA(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;kse(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!cA(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ds.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Tt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Wo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ki.has(this)?this.attached&&!ki.running(this)&&ki.start(this):(this.draw(),YA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=rre(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&__(n,s),e.controller.draw(),s&&S_(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return md(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=Tre.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=el(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Jg(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ki.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),bA(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete dg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};Tt(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},s=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Tt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Tt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Xg(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,d)=>c.filter(f=>!d.some(h=>f.datasetIndex===h.datasetIndex&&f.index===h.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),c=jte(e),d=Dse(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Ut(i.onHover,[e,a,this],this),c&&Ut(i.onClick,[e,a,this],this));const f=!Xg(a,s);return(f||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=d,f}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}};function XA(){return Tt(Gp.instances,t=>t._plugins.invalidate())}function Ose(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:d,borderJoinStyle:f}=c,h=Math.min(d/o,Ts(r-n));if(t.beginPath(),t.arc(s,i,o-d/2,r+h/2,n-h/2),a>0){const p=Math.min(d/a,Ts(r-n));t.arc(s,i,a+d/2,n-p/2,r+p/2,!0)}else{const p=Math.min(d/2,o*Ts(r-n));if(f==="round")t.arc(s,i,p,n-At/2,r+At/2,!0);else if(f==="bevel"){const m=2*p*p,b=-m*Math.cos(n+At/2)+s,y=-m*Math.sin(n+At/2)+i,w=m*Math.cos(r+At/2)+s,_=m*Math.sin(r+At/2)+i;t.lineTo(b,y),t.lineTo(w,_)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Ise(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:c}=e;let d=s/a;t.beginPath(),t.arc(i,o,a,r-d,n+d),c>s?(d=s/c,t.arc(i,o,c,n+d,r-d,!0)):t.arc(i,o,s,n+Dn,r-Dn),t.closePath(),t.clip()}function Mse(t){return x_(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Nse(t,e,n,r){const s=Mse(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),a=c=>{const d=(n-Math.min(i,c))*r/2;return fr(c,0,Math.min(i,d))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:fr(s.innerStart,0,o),innerEnd:fr(s.innerEnd,0,o)}}function Ll(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function rp(t,e,n,r,s,i){const{x:o,y:a,startAngle:c,pixelMargin:d,innerRadius:f}=e,h=Math.max(e.outerRadius+r+n-d,0),p=f>0?f+r+n+d:0;let m=0;const b=s-c;if(r){const ce=f>0?f-r:0,ee=h>0?h-r:0,re=(ce+ee)/2,$=re!==0?b*re/(re+r):b;m=(b-$)/2}const y=Math.max(.001,b*h-n/At)/h,w=(b-y)/2,_=c+w+m,E=s-w-m,{outerStart:T,outerEnd:k,innerStart:A,innerEnd:I}=Nse(e,p,h,E-_),M=h-T,D=h-k,P=_+T/M,j=E-k/D,z=p+A,G=p+I,Q=_+A/z,oe=E-I/G;if(t.beginPath(),i){const ce=(P+j)/2;if(t.arc(o,a,h,P,ce),t.arc(o,a,h,ce,j),k>0){const B=Ll(D,j,o,a);t.arc(B.x,B.y,k,j,E+Dn)}const ee=Ll(G,E,o,a);if(t.lineTo(ee.x,ee.y),I>0){const B=Ll(G,oe,o,a);t.arc(B.x,B.y,I,E+Dn,oe+Math.PI)}const re=(E-I/p+(_+A/p))/2;if(t.arc(o,a,p,E-I/p,re,!0),t.arc(o,a,p,re,_+A/p,!0),A>0){const B=Ll(z,Q,o,a);t.arc(B.x,B.y,A,Q+Math.PI,_-Dn)}const $=Ll(M,_,o,a);if(t.lineTo($.x,$.y),T>0){const B=Ll(M,P,o,a);t.arc(B.x,B.y,T,_-Dn,P)}}else{t.moveTo(o,a);const ce=Math.cos(P)*h+o,ee=Math.sin(P)*h+a;t.lineTo(ce,ee);const re=Math.cos(j)*h+o,$=Math.sin(j)*h+a;t.lineTo(re,$)}t.closePath()}function Pse(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let c=e.endAngle;if(i){rp(t,e,n,r,c,s);for(let d=0;d<i;++d)t.fill();isNaN(a)||(c=o+(a%on||on))}return rp(t,e,n,r,c,s),t.fill(),c}function jse(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:c}=e,{borderWidth:d,borderJoinStyle:f,borderDash:h,borderDashOffset:p,borderRadius:m}=c,b=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=p,b?(t.lineWidth=d*2,t.lineJoin=f||"round"):(t.lineWidth=d,t.lineJoin=f||"bevel");let y=e.endAngle;if(i){rp(t,e,n,r,y,s);for(let w=0;w<i;++w)t.stroke();isNaN(a)||(y=o+(a%on||on))}b&&Ise(t,e,y),c.selfJoin&&y-o>=At&&m===0&&f!=="miter"&&Ose(t,e,y),i||(rp(t,e,n,r,y,s),t.stroke())}class Fse extends Zo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:i,distance:o}=iP(s,{x:e,y:n}),{startAngle:a,endAngle:c,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,m=ot(h,c-a),b=pd(i,a,c)&&a!==c,y=m>=on||b,w=ql(o,d+p,f+p);return y&&w}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,f=(s+i)/2,h=(o+a+d+c)/2;return{x:n+Math.cos(f)*h,y:r+Math.sin(f)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>on?Math.floor(r/on):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*s,Math.sin(a)*s);const c=1-Math.sin(Math.min(At,r||0)),d=s*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,Pse(e,this,d,i,o),jse(e,this,d,i,o),e.restore()}}function DP(t,e,n=e){t.lineCap=ot(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ot(n.borderDash,e.borderDash)),t.lineDashOffset=ot(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ot(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ot(n.borderWidth,e.borderWidth),t.strokeStyle=ot(n.borderColor,e.borderColor)}function Lse(t,e,n){t.lineTo(n.x,n.y)}function Use(t){return t.stepped?une:t.tension||t.cubicInterpolationMode==="monotone"?dne:Lse}function OP(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,c=Math.max(s,o),d=Math.min(i,a),f=s<o&&i<o||s>a&&i>a;return{count:r,start:c,loop:e.loop,ilen:d<c&&!f?r+d-c:d-c}}function $se(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:c,ilen:d}=OP(s,n,r),f=Use(i);let{move:h=!0,reverse:p}=r||{},m,b,y;for(m=0;m<=d;++m)b=s[(a+(p?d-m:m))%o],!b.skip&&(h?(t.moveTo(b.x,b.y),h=!1):f(t,y,b,p,i.stepped),y=b);return c&&(b=s[(a+(p?d:0))%o],f(t,y,b,p,i.stepped)),!!c}function Bse(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=OP(s,n,r),{move:c=!0,reverse:d}=r||{};let f=0,h=0,p,m,b,y,w,_;const E=k=>(o+(d?a-k:k))%i,T=()=>{y!==w&&(t.lineTo(f,w),t.lineTo(f,y),t.lineTo(f,_))};for(c&&(m=s[E(0)],t.moveTo(m.x,m.y)),p=0;p<=a;++p){if(m=s[E(p)],m.skip)continue;const k=m.x,A=m.y,I=k|0;I===b?(A<y?y=A:A>w&&(w=A),f=(h*f+k)/++h):(T(),t.lineTo(k,A),b=I,h=0,y=w=A),_=A}T()}function xw(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Bse:$se}function zse(t){return t.stepped?Vne:t.tension||t.cubicInterpolationMode==="monotone"?Wne:Ea}function Hse(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),DP(t,e.options),t.stroke(s)}function Vse(t,e,n,r){const{segments:s,options:i}=e,o=xw(e);for(const a of s)DP(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Wse=typeof Path2D=="function";function qse(t,e,n,r){Wse&&!e.options.segment?Hse(t,e,n,r):Vse(t,e,n,r)}class Gse extends Zo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;jne(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Jne(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=Qne(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],c=zse(r);let d,f;for(d=0,f=o.length;d<f;++d){const{start:h,end:p}=o[d],m=i[h],b=i[p];if(m===b){a.push(m);continue}const y=Math.abs((s-m[n])/(b[n]-m[n])),w=c(m,b,y,r.stepped);w[n]=e[n],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,n,r){return xw(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=xw(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),qse(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ZA(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Kse extends Zo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:i,y:o}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return ZA(this,e,"x",n)}inYRange(e,n){return ZA(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!md(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,bw(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const JA=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Yse=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ek extends Zo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ut(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=ir(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=JA(r,i);let d,f;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(o,i,a,c)+10):(f=this.maxHeight,d=this._fitCols(o,s,a,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],f=s+a;let h=e;i.textAlign="left",i.textBaseline="middle";let p=-1,m=-f;return this.legendItems.forEach((b,y)=>{const w=r+n/2+i.measureText(b.text).width;(y===0||d[d.length-1]+w+2*a>o)&&(h+=f,d[d.length-(y>0?0:1)]=0,m+=f,p++),c[y]={left:0,top:m,row:p,width:w,height:s},d[d.length-1]+=w+a}),h}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],f=o-e;let h=a,p=0,m=0,b=0,y=0;return this.legendItems.forEach((w,_)=>{const{itemWidth:E,itemHeight:T}=Qse(r,n,i,w,s);_>0&&m+T+2*a>f&&(h+=p+a,d.push({width:p,height:m}),b+=p+a,y++,p=m=0),c[_]={left:b,top:m,col:y,width:E,height:T},p=Math.max(p,E),m+=T+a}),h+=p,d.push({width:p,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=tc(i,this.left,this.width);if(this.isHorizontal()){let a=0,c=tr(r,this.left+s,this.right-this.lineWidths[a]);for(const d of n)a!==d.row&&(a=d.row,c=tr(r,this.left+s,this.right-this.lineWidths[a])),d.top+=this.top+e+s,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+s}else{let a=0,c=tr(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const d of n)d.col!==a&&(a=d.col,c=tr(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),d.top=c,d.left+=this.left+s,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;__(e,this),this._draw(),S_(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=hn.color,c=tc(e.rtl,this.left,this.width),d=ir(o.font),{padding:f}=o,h=d.size,p=h/2;let m;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:b,boxHeight:y,itemHeight:w}=JA(o,h),_=function(I,M,D){if(isNaN(b)||b<=0||isNaN(y)||y<0)return;s.save();const P=ot(D.lineWidth,1);if(s.fillStyle=ot(D.fillStyle,a),s.lineCap=ot(D.lineCap,"butt"),s.lineDashOffset=ot(D.lineDashOffset,0),s.lineJoin=ot(D.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=ot(D.strokeStyle,a),s.setLineDash(ot(D.lineDash,[])),o.usePointStyle){const j={radius:y*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:P},z=c.xPlus(I,b/2),G=M+p;uP(s,j,z,G,o.pointStyleWidth&&b)}else{const j=M+Math.max((h-y)/2,0),z=c.leftForLtr(I,b),G=qu(D.borderRadius);s.beginPath(),Object.values(G).some(Q=>Q!==0)?ww(s,{x:z,y:j,w:b,h:y,radius:G}):s.rect(z,j,b,y),s.fill(),P!==0&&s.stroke()}s.restore()},E=function(I,M,D){vd(s,D.text,I,M+w/2,d,{strikethrough:D.hidden,textAlign:c.textAlign(D.textAlign)})},T=this.isHorizontal(),k=this._computeTitleHeight();T?m={x:tr(i,this.left+f,this.right-r[0]),y:this.top+f+k,line:0}:m={x:this.left+f,y:tr(i,this.top+k+f,this.bottom-n[0].height),line:0},mP(this.ctx,e.textDirection);const A=w+f;this.legendItems.forEach((I,M)=>{s.strokeStyle=I.fontColor,s.fillStyle=I.fontColor;const D=s.measureText(I.text).width,P=c.textAlign(I.textAlign||(I.textAlign=o.textAlign)),j=b+p+D;let z=m.x,G=m.y;c.setWidth(this.width),T?M>0&&z+j+f>this.right&&(G=m.y+=A,m.line++,z=m.x=tr(i,this.left+f,this.right-r[m.line])):M>0&&G+A>this.bottom&&(z=m.x=z+n[m.line].width+f,m.line++,G=m.y=tr(i,this.top+k+f,this.bottom-n[m.line].height));const Q=c.x(z);if(_(Q,G,I),z=Xte(P,z+b+p,T?z+j:this.right,e.rtl),E(c.x(z),G,I),T)m.x+=j+f;else if(typeof I.text!="string"){const oe=d.lineHeight;m.y+=IP(I,oe)+f}else m.y+=A}),vP(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=ir(n.font),s=ps(n.padding);if(!n.display)return;const i=tc(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=r.size/2,d=s.top+c;let f,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),f=this.top+d,h=tr(e.align,h,this.right-p);else{const b=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);f=d+tr(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const m=tr(a,h,h+p);o.textAlign=i.textAlign(y_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,vd(o,n.text,m,f,r)}_computeTitleHeight(){const e=this.options.title,n=ir(e.font),r=ps(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(ql(e,this.left,this.right)&&ql(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],ql(e,s.left,s.left+s.width)&&ql(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Jse(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=Yse(s,r);s&&!i&&Ut(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Ut(n.onHover,[e,r,this],this)}else r&&Ut(n.onClick,[e,r,this],this)}}function Qse(t,e,n,r,s){const i=Xse(r,t,e,n),o=Zse(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function Xse(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function Zse(t,e,n){let r=t;return typeof e.text!="string"&&(r=IP(e,n)),r}function IP(t,e){const n=t.text?t.text.length:0;return e*n}function Jse(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var eie={id:"legend",_element:ek,start(t,e,n){const r=t.legend=new ek({ctx:t.ctx,options:n,chart:t});ds.configure(t,r,n),ds.addBox(t,r)},stop(t){ds.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ds.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),f=ps(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:o&&(a||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class MP extends Zo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Un(r.text)?r.text.length:1;this._padding=ps(r.padding);const i=s*ir(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let c=0,d,f,h;return this.isHorizontal()?(f=tr(a,r,i),h=n+e,d=i-r):(o.position==="left"?(f=r+e,h=tr(a,s,n),c=At*-.5):(f=i-e,h=tr(a,n,s),c=At*.5),d=s-n),{titleX:f,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=ir(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:d}=this._drawArgs(i);vd(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:d,textAlign:y_(n.align),textBaseline:"middle",translation:[o,a]})}}function tie(t,e){const n=new MP({ctx:t.ctx,options:e,chart:t});ds.configure(t,n,e),ds.addBox(t,n),t.titleBlock=n}var nie={id:"title",_element:MP,start(t,e,n){tie(t,n)},stop(t){const e=t.titleBlock;ds.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ds.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ru={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),f=vw(e,d);f<s&&(s=f,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Js(t,e){return e&&(Un(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Di(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function rie(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function tk(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,c=ir(e.bodyFont),d=ir(e.titleFont),f=ir(e.footerFont),h=i.length,p=s.length,m=r.length,b=ps(e.padding);let y=b.height,w=0,_=r.reduce((k,A)=>k+A.before.length+A.lines.length+A.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),_){const k=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;y+=m*k+(_-m)*c.lineHeight+(_-1)*e.bodySpacing}p&&(y+=e.footerMarginTop+p*f.lineHeight+(p-1)*e.footerSpacing);let E=0;const T=function(k){w=Math.max(w,n.measureText(k).width+E)};return n.save(),n.font=d.string,Tt(t.title,T),n.font=c.string,Tt(t.beforeBody.concat(t.afterBody),T),E=e.displayColors?o+2+e.boxPadding:0,Tt(r,k=>{Tt(k.before,T),Tt(k.lines,T),Tt(k.after,T)}),E=0,n.font=f.string,Tt(t.footer,T),n.restore(),w+=b.width,{width:w,height:y}}function sie(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function iie(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function oie(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:c}}=t;let d="center";return r==="center"?d=s<=(a+c)/2?"left":"right":s<=i/2?d="left":s>=o-i/2&&(d="right"),iie(d,t,e,n)&&(d="center"),d}function nk(t,e,n){const r=n.yAlign||e.yAlign||sie(t,n);return{xAlign:n.xAlign||e.xAlign||oie(t,e,n,r),yAlign:r}}function aie(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function lie(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function rk(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,d=s+i,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:m}=qu(o);let b=aie(e,a);const y=lie(e,c,d);return c==="center"?a==="left"?b+=d:a==="right"&&(b-=d):a==="left"?b-=Math.max(f,p)+s:a==="right"&&(b+=Math.max(h,m)+s),{x:fr(b,0,r.width-e.width),y:fr(y,0,r.height-e.height)}}function qh(t,e,n){const r=ps(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function sk(t){return Js([],Di(t))}function cie(t,e,n){return el(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function ik(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const NP={beforeTitle:Ai,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ai,beforeBody:Ai,beforeLabel:Ai,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return jt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ai,afterBody:Ai,beforeFooter:Ai,footer:Ai,afterFooter:Ai};function Rr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?NP[e].call(n,r):s}class ok extends Zo{static positioners=Ru;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new bP(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=cie(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Rr(r,"beforeTitle",this,e),i=Rr(r,"title",this,e),o=Rr(r,"afterTitle",this,e);let a=[];return a=Js(a,Di(s)),a=Js(a,Di(i)),a=Js(a,Di(o)),a}getBeforeBody(e,n){return sk(Rr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Tt(e,i=>{const o={before:[],lines:[],after:[]},a=ik(r,i);Js(o.before,Di(Rr(a,"beforeLabel",this,i))),Js(o.lines,Rr(a,"label",this,i)),Js(o.after,Di(Rr(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return sk(Rr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Rr(r,"beforeFooter",this,e),i=Rr(r,"footer",this,e),o=Rr(r,"afterFooter",this,e);let a=[];return a=Js(a,Di(s)),a=Js(a,Di(i)),a=Js(a,Di(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],c,d;for(c=0,d=n.length;c<d;++c)a.push(rie(this.chart,n[c]));return e.filter&&(a=a.filter((f,h,p)=>e.filter(f,h,p,r))),e.itemSort&&(a=a.sort((f,h)=>e.itemSort(f,h,r))),Tt(a,f=>{const h=ik(e.callbacks,f);s.push(Rr(h,"labelColor",this,f)),i.push(Rr(h,"labelPointStyle",this,f)),o.push(Rr(h,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=Ru[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=tk(this,r),d=Object.assign({},a,c),f=nk(this.chart,r,d),h=rk(r,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:h}=qu(a),{x:p,y:m}=e,{width:b,height:y}=n;let w,_,E,T,k,A;return i==="center"?(k=m+y/2,s==="left"?(w=p,_=w-o,T=k+o,A=k-o):(w=p+b,_=w+o,T=k-o,A=k+o),E=w):(s==="left"?_=p+Math.max(c,f)+o:s==="right"?_=p+b-Math.max(d,h)-o:_=this.caretX,i==="top"?(T=m,k=T-o,w=_-o,E=_+o):(T=m+y,k=T+o,w=_+o,E=_-o),A=T),{x1:w,x2:_,x3:E,y1:T,y2:k,y3:A}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,c;if(i){const d=tc(r.rtl,this.x,this.width);for(e.x=qh(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",o=ir(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,c=0;c<i;++c)n.fillText(s[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=i,f=ir(i.bodyFont),h=qh(this,"left",i),p=s.x(h),m=c<f.lineHeight?(f.lineHeight-c)/2:0,b=n.y+m;if(i.usePointStyle){const y={radius:Math.min(d,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=s.leftForLtr(p,d)+d/2,_=b+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,bw(e,y,w,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,bw(e,y,w,_)}else{e.lineWidth=yt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=s.leftForLtr(p,d),w=s.leftForLtr(s.xPlus(p,1),d-2),_=qu(o.borderRadius);Object.values(_).some(E=>E!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,ww(e,{x:y,y:b,w:d,h:c,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ww(e,{x:w,y:b+1,w:d-2,h:c-2,radius:_}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,b,d,c),e.strokeRect(y,b,d,c),e.fillStyle=o.backgroundColor,e.fillRect(w,b+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:d,boxPadding:f}=r,h=ir(r.bodyFont);let p=h.lineHeight,m=0;const b=tc(r.rtl,this.x,this.width),y=function(D){n.fillText(D,b.x(e.x+m),e.y+p/2),e.y+=p+i},w=b.textAlign(o);let _,E,T,k,A,I,M;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=qh(this,w,r),n.fillStyle=r.bodyColor,Tt(this.beforeBody,y),m=a&&w!=="right"?o==="center"?d/2+f:d+2+f:0,k=0,I=s.length;k<I;++k){for(_=s[k],E=this.labelTextColors[k],n.fillStyle=E,Tt(_.before,y),T=_.lines,a&&T.length&&(this._drawColorBox(n,e,k,b,r),p=Math.max(h.lineHeight,c)),A=0,M=T.length;A<M;++A)y(T[A]),p=h.lineHeight;Tt(_.after,y)}m=0,p=h.lineHeight,Tt(this.afterBody,y),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const c=tc(r.rtl,this.x,this.width);for(e.x=qh(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",o=ir(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:c}=e,{width:d,height:f}=r,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:b}=qu(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+d-p,c),n.quadraticCurveTo(a+d,c,a+d,c+p),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+d,c+f-b),n.quadraticCurveTo(a+d,c+f,a+d-b,c+f),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+m,c+f),n.quadraticCurveTo(a,c+f,a,c+f-m),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=Ru[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=tk(this,e),c=Object.assign({},o,this._size),d=nk(n,e,c),f=rk(e,c,d,n);(s._to!==f.x||i._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=ps(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),mP(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),vP(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:c})=>{const d=this.chart.getDatasetMeta(a);if(!d)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:d.data[c],index:c}}),i=!Xg(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),c=n||!Xg(o,i)||a;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=Ru[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}var uie={id:"tooltip",_element:ok,positioners:Ru,afterInit(t,e,n){n&&(t.tooltip=new ok({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:NP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const die=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function fie(t,e,n,r){const s=t.indexOf(e);if(s===-1)return die(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const hie=(t,e)=>t===null?null:fr(Math.round(t),0,e);function ak(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class gie extends Rc{static id="category";static defaults={ticks:{callback:ak}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(jt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:fie(r,e,ot(n,e),this._addedLabels),hie(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return ak.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function pie(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:c,count:d,maxTicks:f,maxDigits:h,includeBounds:p}=t,m=i||1,b=f-1,{min:y,max:w}=e,_=!jt(o),E=!jt(a),T=!jt(d),k=(w-y)/(h+1);let A=dA((w-y)/b/m)*m,I,M,D,P;if(A<1e-14&&!_&&!E)return[{value:y},{value:w}];P=Math.ceil(w/A)-Math.floor(y/A),P>b&&(A=dA(P*A/b/m)*m),jt(c)||(I=Math.pow(10,c),A=Math.ceil(A*I)/I),s==="ticks"?(M=Math.floor(y/A)*A,D=Math.ceil(w/A)*A):(M=y,D=w),_&&E&&i&&Bte((a-o)/i,A/1e3)?(P=Math.round(Math.min((a-o)/A,f)),A=(a-o)/P,M=o,D=a):T?(M=_?o:M,D=E?a:D,P=d-1,A=(D-M)/P):(P=(D-M)/A,Hu(P,Math.round(P),A/1e3)?P=Math.round(P):P=Math.ceil(P));const j=Math.max(fA(A),fA(M));I=Math.pow(10,jt(c)?j:c),M=Math.round(M*I)/I,D=Math.round(D*I)/I;let z=0;for(_&&(p&&M!==o?(n.push({value:o}),M<o&&z++,Hu(Math.round((M+z*A)*I)/I,o,lk(o,k,t))&&z++):M<o&&z++);z<P;++z){const G=Math.round((M+z*A)*I)/I;if(E&&G>a)break;n.push({value:G})}return E&&p&&D!==a?n.length&&Hu(n[n.length-1].value,a,lk(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!E||D===a)&&n.push({value:D}),n}function lk(t,e,{horizontal:n,minRotation:r}){const s=Li(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class mie extends Rc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return jt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=c=>s=n?s:c,a=c=>i=r?i:c;if(e){const c=cc(s),d=cc(i);c<0&&d<0?a(0):c>0&&d>0&&o(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);a(i+c),e||o(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=pie(s,i);return e.bounds==="ticks"&&zte(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return w_(e,this.chart.options.locale,this.options.ticks.format)}}class vie extends mie{static id="linear";static defaults={ticks:{callback:cP.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=gs(e)?e:0,this.max=gs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Li(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Kp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ir=Object.keys(Kp);function ck(t,e){return t-e}function uk(t,e){if(jt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),gs(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(gd(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function dk(t,e,n,r){const s=Ir.length;for(let i=Ir.indexOf(t);i<s-1;++i){const o=Kp[Ir[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Ir[i]}return Ir[s-1]}function yie(t,e,n,r,s){for(let i=Ir.length-1;i>=Ir.indexOf(n);i--){const o=Ir[i];if(Kp[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Ir[n?Ir.indexOf(n):0]}function bie(t){for(let e=Ir.indexOf(t)+1,n=Ir.length;e<n;++e)if(Kp[Ir[e]].common)return Ir[e]}function fk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=v_(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function wie(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,c;for(a=i;a<=o;a=+s.add(a,1,r))c=n[a],c>=0&&(e[c].major=!0);return e}function hk(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:wie(t,r,s,n)}class gk extends Rc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new Sre._date(e.adapters.date);s.init(n),zu(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:uk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!a&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=gs(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=gs(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=Gte(s,i,o);return this._unit=n.unit||(r.autoSkip?dk(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):yie(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:bie(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),hk(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=fr(n,0,o),r=fr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||dk(i.minUnit,n,r,this._getLabelCapacity(n)),a=ot(s.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=gd(c)||c===!0,f={};let h=n,p,m;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(p=h,m=0;p<r;p=+e.add(p,a,o),m++)fk(f,p,b);return(p===r||s.bounds==="ticks"||m===1)&&fk(f,p,b),Object.keys(f).sort(ck).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Ut(o,[e,n,r],this);const a=i.time.displayFormats,c=this._unit,d=this._majorUnit,f=c&&a[c],h=d&&a[d],p=r[n],m=d&&h&&p&&p.major;return this._adapter.format(e,s||(m?h:f))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Li(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,hk(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(uk(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Yte(e.sort(ck))}}function Gh(t,e,n){let r=0,s=t.length-1,i,o,a,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Ma(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Ma(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:c}=t[s]);const d=o-i;return d?a+(c-a)*(e-i)/d:a}class Zie extends gk{static id="timeseries";static defaults=gk.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Gh(n,this.min),this._tableRange=Gh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,c,d,f;for(o=0,a=e.length;o<a;++o)d=e[o],d>=n&&d<=r&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)f=s[o+1],c=s[o-1],d=s[o],Math.round((f+c)/2)!==d&&i.push({time:d,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Gh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Gh(this._table,r*this._tableRange+this._minPos,!0)}}const PP="label";function pk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function _ie(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function jP(t,e){t.labels=e}function FP(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:PP;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function Sie(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PP;const n={labels:[],datasets:[]};return jP(n,t.labels),FP(n,t.datasets,e),n}function xie(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:c,plugins:d=[],fallbackContent:f,updateMode:h,...p}=t,m=C.useRef(null),b=C.useRef(null),y=()=>{m.current&&(b.current=new Gp(m.current,{type:o,data:Sie(a,i),options:c&&{...c},plugins:d}),pk(e,b.current))},w=()=>{pk(e,null),b.current&&(b.current.destroy(),b.current=null)};return C.useEffect(()=>{!s&&b.current&&c&&_ie(b.current,c)},[s,c]),C.useEffect(()=>{!s&&b.current&&jP(b.current.config.data,a.labels)},[s,a.labels]),C.useEffect(()=>{!s&&b.current&&a.datasets&&FP(b.current.config.data,a.datasets,i)},[s,a.datasets]),C.useEffect(()=>{b.current&&(s?(w(),setTimeout(y)):b.current.update(h))},[s,c,a.labels,a.datasets,h]),C.useEffect(()=>{b.current&&(w(),setTimeout(y))},[o]),C.useEffect(()=>(y(),()=>w()),[]),ie.createElement("canvas",{ref:m,role:"img",height:n,width:r,...p},f)}const Eie=C.forwardRef(xie);function LP(t,e){return Gp.register(e),C.forwardRef((n,r)=>ie.createElement(Eie,{...n,ref:r,type:t}))}const Cie=LP("line",wre),Rie=LP("pie",_re);Gp.register(gie,vie,Kse,Gse,nie,uie,eie,Fse);function Tie(){const{data:t=[],isLoading:e,error:n}=Ap(),{data:r=[],isLoading:s,error:i}=kp(),{isInitialized:o}=Bn(),{init:a,cleanup:c}=Ko(),d=e||s;C.useEffect(()=>(o||a(),()=>{c()}),[a,o,c]);const f=C.useMemo(()=>{if(d)return{};const b=t.reduce((B,Z)=>{const U=Z.work_center||"Unknown";return B[U]||(B[U]={[Pi.ACTIVE]:0,[Pi.INACTIVE]:0,[Pi.MAINTENANCE]:0}),B[U][Z.status]=(B[U][Z.status]||0)+1,B},{}),y=new Date,w=new Date(y),_=y.getDay(),E=_===0?6:_-1;w.setUTCDate(y.getUTCDate()-E),w.setUTCHours(0,0,0,0);const T=r.filter(B=>B.completion_date?new Date(B.completion_date)>=w:!1).length,k=r.filter(B=>B.status==="IN PROGRESS"||B.status==="SCHEDULED").length,A=r.filter(B=>B.delivery_date?new Date(B.delivery_date)<y&&(B.quantity_completed||0)<(B.quantity||0):!1).length,I=t.filter(B=>B.status===Pi.ACTIVE).length,M={},D=new Date(y);D.setUTCDate(y.getUTCDate()-7);const P=new Date(y);P.setUTCDate(y.getUTCDate()+7),r.forEach(B=>{if(B.scheduled_start_time){const Z=new Date(B.scheduled_start_time);if(Z>=D&&Z<=P){const U=Z.toISOString().split("T")[0];M[U]=(M[U]||0)+1}}});const j=r.filter(B=>B.scheduled_start_time?new Date(B.scheduled_start_time)>=w:!1),z=j.filter(B=>B.cost&&B.cost>0).map(B=>B.cost),G=j.filter(B=>B.duration&&B.duration>0).map(B=>B.duration),Q=z.length>0?z.reduce((B,Z)=>B+Z,0)/z.length:0,oe=G.length>0?G.reduce((B,Z)=>B+Z,0)/G.length:0,ce={},ee={},re=["STAMPA","CONFEZIONAMENTO"],$=["ZANICA","BUSTO_GAROLFO"];return re.forEach(B=>{const Z=B.toLowerCase();ce[Z]={},ee[Z]={},$.forEach(U=>{const J=U==="BUSTO_GAROLFO"?"busto_garolfo":U.toLowerCase(),le=r.filter(fe=>!fe.work_center||!fe.department?!1:fe.work_center===U&&fe.department===B),ue=le.filter(fe=>fe.cost&&fe.cost>0).map(fe=>fe.cost),Se=ue.length>0?ue.reduce((fe,Pe)=>fe+Pe,0)/ue.length:0,_e=le.filter(fe=>fe.duration&&fe.duration>0).map(fe=>fe.duration),ge=_e.length>0?_e.reduce((fe,Pe)=>fe+Pe,0)/_e.length:0;ce[Z][J]=Se,ee[Z][J]=ge})}),{machinesByWorkCenter:b,completedThisWeek:T,tasksInWip:k,delayedTasks:A,activeMachines:I,totalMachines:t.length,totalOrders:r.length,tasksPerDay:M,avgWeeklyCost:Q,avgWeeklyDuration:oe,weeklyOrdersCount:j.length,costMatrix:ce,durationMatrix:ee}},[t,r,d]),h=C.useMemo(()=>{if(!f.tasksPerDay)return null;const b=[],y=new Date;for(let w=-7;w<=7;w++){const _=new Date(y);_.setUTCDate(y.getUTCDate()+w);const E=_.toISOString().split("T")[0];b.push(E)}return{labels:b.map(w=>{const _=new Date(w);return kn(new Date(_),"dd/MM")}),datasets:[{label:"Lavori Iniziati",data:b.map(w=>f.tasksPerDay[w]||0),borderColor:"rgb(37, 99, 235)",backgroundColor:"rgba(37, 99, 235, 0.1)",tension:.4,borderWidth:2,pointBackgroundColor:"rgb(37, 99, 235)",pointBorderColor:"rgb(37, 99, 235)",pointRadius:4,pointHoverRadius:6,fill:!0}]}},[f.tasksPerDay]),p={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{stepSize:1,color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}},x:{grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}}},elements:{point:{hoverBorderWidth:3}}},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0,font:{size:10}}}}};return d?S.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:S.jsx("div",{className:"text-center py-1 text-muted-foreground text-[10px]",children:"Caricamento dashboard..."})}):n||i?S.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:S.jsxs("div",{className:"text-center py-1 text-destructive text-[10px]",children:["Errore nel caricamento dei dati: ",n?.message||i?.message]})}):S.jsxs("div",{className:"space-y-6",children:[S.jsx("div",{className:"flex justify-between items-center",children:S.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard Produzione"})}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[S.jsxs(ts,{className:"p-6",children:[S.jsx(ns,{className:"pb-2",children:S.jsx(rs,{className:"text-sm font-medium text-muted-foreground",children:"Macchine Totali"})}),S.jsxs(ss,{children:[S.jsx("div",{className:"text-3xl font-bold text-foreground",children:f.totalMachines}),S.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Attive: ",f.activeMachines]})]})]}),S.jsxs(ts,{className:"p-6",children:[S.jsx(ns,{className:"pb-2",children:S.jsx(rs,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Totali"})}),S.jsxs(ss,{children:[S.jsx("div",{className:"text-3xl font-bold text-foreground",children:f.totalOrders}),S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Totali nel sistema"})]})]}),S.jsxs(ts,{className:"p-6",children:[S.jsx(ns,{className:"pb-2",children:S.jsx(rs,{className:"text-sm font-medium text-muted-foreground",children:"Completati Questa Settimana"})}),S.jsxs(ss,{children:[S.jsx("div",{className:"text-3xl font-bold text-foreground",children:f.completedThisWeek}),S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lavori completati"})]})]}),S.jsxs(ts,{className:"p-6",children:[S.jsx(ns,{className:"pb-2",children:S.jsx(rs,{className:"text-sm font-medium text-muted-foreground",children:"Lavori in Corso"})}),S.jsxs(ss,{children:[S.jsx("div",{className:"text-3xl font-bold text-foreground",children:f.tasksInWip}),S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In progress/scheduled"})]})]}),S.jsxs(ts,{className:"p-6 border-destructive/20 bg-destructive/5",children:[S.jsx(ns,{className:"pb-2",children:S.jsx(rs,{className:"text-sm font-medium text-destructive",children:"Lavori Ritardati"})}),S.jsxs(ss,{children:[S.jsx("div",{className:"text-3xl font-bold text-destructive",children:f.delayedTasks}),S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Oltre la scadenza"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsxs(ts,{className:"p-6",children:[S.jsx(ns,{className:"pb-2",children:S.jsx(rs,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Settimanali"})}),S.jsxs(ss,{children:[S.jsx("div",{className:"text-3xl font-bold text-foreground",children:f.weeklyOrdersCount}),S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Questa Settimana"})]})]}),S.jsxs(ts,{className:"p-6",children:[S.jsx(ns,{className:"pb-2",children:S.jsx(rs,{className:"text-sm font-medium text-muted-foreground",children:"Costo Medio"})}),S.jsxs(ss,{children:[S.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["€",f.avgWeeklyCost.toFixed(2)]}),S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]}),S.jsxs(ts,{className:"p-6",children:[S.jsx(ns,{className:"pb-2",children:S.jsx(rs,{className:"text-sm font-medium text-muted-foreground",children:"Durata Media"})}),S.jsxs(ss,{children:[S.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[f.avgWeeklyDuration.toFixed(1),"h"]}),S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[S.jsxs(ts,{children:[S.jsx(ns,{children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx(rs,{children:"Lavori Iniziati per Giorno (14 giorni)"}),S.jsx("div",{className:"flex items-center gap-3 text-xs",children:S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"inline-block w-3 h-1 bg-primary"})," Lavori"]})})]})}),S.jsx(ss,{children:S.jsx("div",{className:"h-64",children:h&&S.jsx(Cie,{data:h,options:p,height:256})})})]}),S.jsxs(ts,{children:[S.jsx(ns,{children:S.jsx(rs,{children:"Macchine per Centro di Lavoro e Stato"})}),S.jsx(ss,{children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(f.machinesByWorkCenter||{}).map(([b,y])=>{const w={labels:Object.keys(y).map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()),datasets:[{data:Object.values(y),backgroundColor:["rgba(37, 99, 235, 0.8)","rgba(107, 114, 128, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgba(37, 99, 235, 1)","rgba(107, 114, 128, 1)","rgba(156, 163, 175, 1)"],borderWidth:2}]};return S.jsxs("div",{className:"text-center",children:[S.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:b}),S.jsx("div",{className:"h-32",children:S.jsx(Rie,{data:w,options:m,height:150})}),S.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:Object.entries(y).map(([_,E])=>S.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[S.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:_==="ACTIVE"?"rgba(37, 99, 235, 0.8)":_==="INACTIVE"?"rgba(107, 114, 128, 0.8)":"rgba(156, 163, 175, 0.8)"}}),S.jsxs("span",{children:[_,": ",E]})]},_))})]},b)})})})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[S.jsxs(ts,{children:[S.jsx(ns,{children:S.jsx(rs,{children:"Costo Medio per Centro di Lavoro e Reparto"})}),S.jsx(ss,{children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"border-b border-border",children:[S.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),S.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),S.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{className:"border-b border-border",children:[S.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),S.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",f.costMatrix?.stampa?.zanica?.toFixed(2)||"0.00"]}),S.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",f.costMatrix?.stampa?.busto_garolfo?.toFixed(2)||"0.00"]})]}),S.jsxs("tr",{children:[S.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),S.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",f.costMatrix?.confezionamento?.zanica?.toFixed(2)||"0.00"]}),S.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",f.costMatrix?.confezionamento?.busto_garolfo?.toFixed(2)||"0.00"]})]})]})]})})})]}),S.jsxs(ts,{children:[S.jsx(ns,{children:S.jsx(rs,{children:"Durata Media per Centro di Lavoro e Reparto"})}),S.jsx(ss,{children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"border-b border-border",children:[S.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),S.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),S.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{className:"border-b border-border",children:[S.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),S.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[f.durationMatrix?.stampa?.zanica?.toFixed(1)||"0.0","h"]}),S.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[f.durationMatrix?.stampa?.busto_garolfo?.toFixed(1)||"0.0","h"]})]}),S.jsxs("tr",{children:[S.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),S.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[f.durationMatrix?.confezionamento?.zanica?.toFixed(1)||"0.0","h"]}),S.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[f.durationMatrix?.confezionamento?.busto_garolfo?.toFixed(1)||"0.0","h"]})]})]})]})})})]})]})]})}function Aie(){const[t,e]=C.useState({email:"",password:"",workCenter:""}),[n,r]=C.useState(!1),[s,i]=C.useState({}),{signIn:o,error:a}=Ya(),{setSelectedWorkCenter:c}=Bn(),d=fi(),{handleAsync:f}=gi("LoginPage"),h=y=>{const{name:w,value:_}=y.target;e(E=>({...E,[w]:_})),s[w]&&i(E=>({...E,[w]:""}))},p=()=>{const y={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(y.email="Inserisci un indirizzo email valido"):y.email="Email richiesta",t.password?t.password.length<6&&(y.password="La password deve essere di almeno 6 caratteri"):y.password="Password richiesta",t.workCenter||(y.workCenter="Centro di lavoro richiesto"),i(y),Object.keys(y).length===0},m=async y=>{y.preventDefault(),p()&&(r(!0),await f(async()=>{(await o(t.email,t.password)).success&&(c(t.workCenter),d("/",{replace:!0}))},{context:"Login",fallbackMessage:"Accesso fallito. Riprova.",onFinally:()=>r(!1)}))},b=y=>s[y]?S.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:s[y]}):null;return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"max-w-md w-full space-y-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Bentornato"}),S.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Accedi al tuo account per continuare"})]}),S.jsxs("form",{onSubmit:m,className:"mt-4 space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:"email",children:"Indirizzo Email"}),S.jsx(Ln,{type:"email",id:"email",name:"email",value:t.email,onChange:h,placeholder:"Inserisci la tua email",className:s.email?"border-red-500":"",disabled:n,autoComplete:"email"}),b("email")]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:"password",children:"Password"}),S.jsx(Ln,{type:"password",id:"password",name:"password",value:t.password,onChange:h,placeholder:"Inserisci la tua password",className:s.password?"border-red-500":"",disabled:n,autoComplete:"current-password"}),b("password")]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:"workCenter",children:"Centro di Lavoro *"}),S.jsxs("select",{name:"workCenter",value:t.workCenter,onChange:h,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${s.workCenter?"border-red-500":"border-input"}`,children:[S.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),S.jsx("option",{value:mt.ZANICA,children:mt.ZANICA}),S.jsx("option",{value:mt.BUSTO_GAROLFO,children:mt.BUSTO_GAROLFO}),S.jsx("option",{value:mt.BOTH,children:mt.BOTH})]}),b("workCenter")]}),a&&S.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:S.jsxs("div",{className:"flex",children:[S.jsx("div",{className:"flex-shrink-0",children:S.jsx("span",{className:"text-red-400",children:"●"})}),S.jsx("div",{className:"ml-3",children:S.jsx("p",{className:"text-[10px] text-red-800",children:a})})]})}),S.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Accesso in corso...":"Accedi"})]}),S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx(sn,{to:"/forgot-password",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Password dimenticata?"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("div",{className:"w-full border-t border-gray-300"})}),S.jsx("div",{className:"relative flex justify-center text-[10px]",children:S.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Non hai un account?"})})]}),S.jsx(sn,{to:"/signup",children:S.jsx(Button,{variant:"outline",size:"sm",className:"w-full",children:"Crea Account"})})]}),!1]})})}function kie(){const[t,e]=C.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,r]=C.useState(!1),[s,i]=C.useState({}),{signUp:o,error:a}=Ya(),c=fi(),{handleAsync:d}=gi("SignupPage"),f=b=>{const{name:y,value:w}=b.target;e(_=>({..._,[y]:w})),s[y]&&i(_=>({..._,[y]:""}))},h=()=>{const b={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(b.email="Inserisci un indirizzo email valido"):b.email="Email richiesta",t.password?t.password.length<6&&(b.password="La password deve essere di almeno 6 caratteri"):b.password="Password richiesta",t.confirmPassword?t.password!==t.confirmPassword&&(b.confirmPassword="Le password non coincidono"):b.confirmPassword="Conferma la tua password",t.firstName.trim()||(b.firstName="Nome richiesto"),t.lastName.trim()||(b.lastName="Cognome richiesto"),i(b),Object.keys(b).length===0},p=async b=>{b.preventDefault(),h()&&(r(!0),await d(async()=>{const y={first_name:t.firstName,last_name:t.lastName,full_name:`${t.firstName} ${t.lastName}`};(await o(t.email,t.password,y)).success&&c("/",{replace:!0})},{context:"Signup",fallbackMessage:"Creazione account fallita. Riprova.",onFinally:()=>r(!1)}))},m=b=>s[b]?S.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:s[b]}):null;return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"max-w-md w-full space-y-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Crea Account"}),S.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Registrati per iniziare con il tuo account"})]}),S.jsxs("form",{onSubmit:p,className:"mt-4 space-y-4",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:"firstName",children:"Nome"}),S.jsx(Ln,{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:f,placeholder:"Inserisci il tuo nome",className:s.firstName?"border-red-500":"",disabled:n,autoComplete:"given-name"}),m("firstName")]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:"lastName",children:"Cognome"}),S.jsx(Ln,{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:f,placeholder:"Inserisci il tuo cognome",className:s.lastName?"border-red-500":"",disabled:n,autoComplete:"family-name"}),m("lastName")]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:"email",children:"Indirizzo Email"}),S.jsx(Ln,{type:"email",id:"email",name:"email",value:t.email,onChange:f,placeholder:"Inserisci la tua email",className:s.email?"border-red-500":"",disabled:n,autoComplete:"email"}),m("email")]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:"password",children:"Password"}),S.jsx(Ln,{type:"password",id:"password",name:"password",value:t.password,onChange:f,placeholder:"Crea una password",className:s.password?"border-red-500":"",disabled:n,autoComplete:"new-password"}),m("password")]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:"confirmPassword",children:"Conferma Password"}),S.jsx(Ln,{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:f,placeholder:"Conferma la tua password",className:s.confirmPassword?"border-red-500":"",disabled:n,autoComplete:"new-password"}),m("confirmPassword")]})]}),a&&S.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:S.jsxs("div",{className:"flex",children:[S.jsx("div",{className:"flex-shrink-0",children:S.jsx("span",{className:"text-red-400",children:"●"})}),S.jsx("div",{className:"ml-3",children:S.jsx("p",{className:"text-[10px] text-red-800",children:a})})]})}),S.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Creazione Account...":"Crea Account"})]}),S.jsxs("div",{className:"text-center space-y-4",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("div",{className:"w-full border-t border-gray-300"})}),S.jsx("div",{className:"relative flex justify-center text-[10px]",children:S.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Hai già un account?"})})]}),S.jsx(sn,{to:"/login",children:S.jsx(Button,{variant:"outline",size:"sm",className:"w-full",children:"Accedi"})})]})]})})}function Die(){const[t,e]=C.useState(""),[n,r]=C.useState(!1),[s,i]=C.useState(!1),[o,a]=C.useState(""),{resetPassword:c}=Ya(),{handleAsync:d}=gi("ForgotPasswordPage"),f=async h=>{if(h.preventDefault(),!t.trim()){a("Inserisci il tuo indirizzo email");return}if(!/\S+@\S+\.\S+/.test(t)){a("Inserisci un indirizzo email valido");return}r(!0),a(""),await d(async()=>{const p=await c(t);p.success?i(!0):a(p.error||"Invio email di reset fallito")},{context:"Password Reset",fallbackMessage:"Invio email di reset fallito. Riprova.",onFinally:()=>r(!1)})};return s?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-2 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"max-w-md w-full space-y-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Controlla la Tua Email"}),S.jsxs("p",{className:"mt-2 text-[10px] text-gray-600",children:["Abbiamo inviato un link per il reset della password a ",t]})]}),S.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-1",children:S.jsxs("div",{className:"flex",children:[S.jsx("div",{className:"flex-shrink-0",children:S.jsx("span",{className:"text-green-400 text-[10px]",children:"✅"})}),S.jsx("div",{className:"ml-3",children:S.jsx("p",{className:"text-[10px] text-green-800",children:"Se non vedi l'email, controlla la cartella spam."})})]})}),S.jsx("div",{className:"text-center",children:S.jsx(sn,{to:"/login",children:S.jsx(Button,{size:"sm",className:"w-full",children:"Torna all'Accesso"})})})]})}):S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"max-w-md w-full space-y-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Reset Password"}),S.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Inserisci la tua email per ricevere un link per il reset della password"})]}),S.jsxs("form",{onSubmit:f,className:"mt-4 space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(rr,{htmlFor:"email",children:"Indirizzo Email"}),S.jsx(Ln,{type:"email",id:"email",name:"email",value:t,onChange:h=>e(h.target.value),placeholder:"Inserisci la tua email",disabled:n,autoComplete:"email"})]}),o&&S.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:S.jsxs("div",{className:"flex",children:[S.jsx("div",{className:"flex-shrink-0",children:S.jsx("span",{className:"text-red-400",children:"●"})}),S.jsx("div",{className:"ml-3",children:S.jsx("p",{className:"text-[10px] text-red-800",children:o})})]})}),S.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Invio...":"Invia Link di Reset"})]}),S.jsx("div",{className:"text-center",children:S.jsx(sn,{to:"/login",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Torna all'Accesso"})})]})})}const Oie=()=>{const{user:t,loading:e}=Ya();return e?S.jsx("div",{className:"auth-loading",children:S.jsxs("div",{className:"auth-loading__container",children:[S.jsx("div",{className:"auth-loading__spinner"}),S.jsx("p",{children:"Checking authentication..."})]})}):t?S.jsx(kk,{}):S.jsx(Ak,{to:"/login",replace:!0})},Iie=()=>{const{confirmDialog:t,hideConfirmDialog:e,conflictDialog:n,hideConflictDialog:r,showConflictDialog:s,schedulingLoading:i,selectedWorkCenter:o}=Bn(),{cleanup:a}=Ko(),{resolveConflictByShunting:c,scheduleTaskFromSlot:d}=Od(),{user:f,signOut:h}=Ya(),p=Vt();return bK(),C.useEffect(()=>()=>{a()},[a]),S.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[S.jsx(i6,{}),S.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[S.jsx(o6,{}),S.jsx("main",{className:"flex-1 overflow-auto bg-background min-w-0",children:S.jsx("div",{className:"p-4",children:S.jsx(kk,{})})})]}),S.jsx(yU,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3}),t.isOpen&&(confirm(`${t.title}

${t.message}`)&&t.onConfirm?.(),e(),null),n.isOpen&&(()=>{const m=n.details?`Il lavoro "${n.details.draggedTask?.odp_number}" si sovrappone con "${n.details.conflictingTask?.odp_number}". Vuoi spostarlo a sinistra?`:"Conflitto rilevato. Vuoi spostare il task?",b=confirm(`${m}

OK = Sposta a Sinistra
Annulla = Sposta a Destra`);return b!==null?(async()=>{if(n.details){try{const y=n.details.schedulingParams?n.details.schedulingParams.originalConflict:n.details;console.log("🔄 CONFLICT: Using resolveConflictByShunting",b?"left":"right");const w=await c(y,b?"left":"right",p);w.error?Ao(w.error):Ka("Task spostato con successo")}catch(y){console.error("❌ SHUNTING ERROR:",y),Ao("Errore durante lo spostamento del task")}r()}})():r(),null})()]})};function Mie(){return S.jsx(EG,{children:S.jsx(DG,{children:S.jsxs(IL,{children:[S.jsx(En,{path:"/login",element:S.jsx(Aie,{})}),S.jsx(En,{path:"/signup",element:S.jsx(kie,{})}),S.jsx(En,{path:"/forgot-password",element:S.jsx(Die,{})}),S.jsx(En,{path:"/",element:S.jsx(Oie,{}),children:S.jsxs(En,{element:S.jsx(Iie,{}),children:[S.jsx(En,{index:!0,element:S.jsx(Tie,{})}),S.jsx(En,{path:"machinery",element:S.jsx(wK,{})}),S.jsx(En,{path:"machinery/add",element:S.jsx(UR,{})}),S.jsx(En,{path:"machinery/:id/edit",element:S.jsx(UR,{})}),S.jsx(En,{path:"machinery/:machineId/calendar",element:S.jsx(EJ,{})}),S.jsx(En,{path:"phases",element:S.jsx(CJ,{})}),S.jsx(En,{path:"phases/add",element:S.jsx(zT,{})}),S.jsx(En,{path:"phases/:id/edit",element:S.jsx(zT,{})}),S.jsx(En,{path:"backlog",element:S.jsx(TJ,{})}),S.jsx(En,{path:"backlog/add",element:S.jsx(HT,{})}),S.jsx(En,{path:"backlog/:id/edit",element:S.jsx(HT,{})}),S.jsx(En,{path:"scheduler",element:S.jsx(ate,{})})]})}),S.jsx(En,{path:"*",element:S.jsx(Ak,{to:"/",replace:!0})})]})})})}const Nie=new M2({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),Pie="/scheduler_demo/";$F.createRoot(document.getElementById("root")).render(S.jsx(ie.StrictMode,{children:S.jsx(N2,{client:Nie,children:S.jsx(t2,{basename:Pie,children:S.jsx(s6,{children:S.jsx(Mie,{})})})})}));export{a6 as A,Po as B,v0 as D,ie as R,Wie as S,fi as a,rd as b,Vie as c,Yie as d,gi as e,Kie as f,Hie as g,VE as h,xd as i,S as j,kn as k,Vt as l,qie as m,l$ as n,Od as o,$a as p,C as r,rn as s,On as t,Bn as u};
