function IU(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function bf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ok(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var lb={exports:{}},ld={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function PU(){if(ZA)return ld;ZA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:a,ref:r!==void 0?r:null,props:s}}return ld.Fragment=e,ld.jsx=n,ld.jsxs=n,ld}var JA;function jU(){return JA||(JA=1,lb.exports=PU()),lb.exports}var E=jU(),cb={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function LU(){if(eT)return $e;eT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),p=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function x(F,Z,ee){this.props=F,this.context=Z,this.refs=S,this.updater=ee||b}x.prototype.isReactComponent={},x.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function A(){}A.prototype=x.prototype;function T(F,Z,ee){this.props=F,this.context=Z,this.refs=S,this.updater=ee||b}var M=T.prototype=new A;M.constructor=T,_(M,x.prototype),M.isPureReactComponent=!0;var O=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function P(F,Z,ee){var le=ee.ref;return{$$typeof:t,type:F,key:Z,ref:le!==void 0?le:null,props:ee}}function z(F,Z){return P(F.type,Z,F.props)}function B(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function Q(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ee){return Z[ee]})}var ne=/\/+/g;function ce(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?Q(""+F.key):Z.toString(36)}function me(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(N,N):(F.status="pending",F.then(function(Z){F.status==="pending"&&(F.status="fulfilled",F.value=Z)},function(Z){F.status==="pending"&&(F.status="rejected",F.reason=Z)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function L(F,Z,ee,le,ye){var _e=typeof F;(_e==="undefined"||_e==="boolean")&&(F=null);var pe=!1;if(F===null)pe=!0;else switch(_e){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(F.$$typeof){case t:case e:pe=!0;break;case h:return pe=F._init,L(pe(F._payload),Z,ee,le,ye)}}if(pe)return ye=ye(F),pe=le===""?"."+ce(F,0):le,O(ye)?(ee="",pe!=null&&(ee=pe.replace(ne,"$&/")+"/"),L(ye,Z,ee,"",function(Ge){return Ge})):ye!=null&&(B(ye)&&(ye=z(ye,ee+(ye.key==null||F&&F.key===ye.key?"":(""+ye.key).replace(ne,"$&/")+"/")+pe)),Z.push(ye)),1;pe=0;var Se=le===""?".":le+":";if(O(F))for(var je=0;je<F.length;je++)le=F[je],_e=Se+ce(le,je),pe+=L(le,Z,ee,_e,ye);else if(je=v(F),typeof je=="function")for(F=je.call(F),je=0;!(le=F.next()).done;)le=le.value,_e=Se+ce(le,je++),pe+=L(le,Z,ee,_e,ye);else if(_e==="object"){if(typeof F.then=="function")return L(me(F),Z,ee,le,ye);throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return pe}function q(F,Z,ee){if(F==null)return F;var le=[],ye=0;return L(F,le,"","",function(_e){return Z.call(ee,_e,ye++)}),le}function V(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(ee){(F._status===0||F._status===-1)&&(F._status=1,F._result=ee)},function(ee){(F._status===0||F._status===-1)&&(F._status=2,F._result=ee)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var G=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},he={map:q,forEach:function(F,Z,ee){q(F,function(){Z.apply(this,arguments)},ee)},count:function(F){var Z=0;return q(F,function(){Z++}),Z},toArray:function(F){return q(F,function(Z){return Z})||[]},only:function(F){if(!B(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return $e.Activity=g,$e.Children=he,$e.Component=x,$e.Fragment=n,$e.Profiler=r,$e.PureComponent=T,$e.StrictMode=i,$e.Suspense=u,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,$e.__COMPILER_RUNTIME={__proto__:null,c:function(F){return k.H.useMemoCache(F)}},$e.cache=function(F){return function(){return F.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(F,Z,ee){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var le=_({},F.props),ye=F.key;if(Z!=null)for(_e in Z.key!==void 0&&(ye=""+Z.key),Z)!D.call(Z,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Z.ref===void 0||(le[_e]=Z[_e]);var _e=arguments.length-2;if(_e===1)le.children=ee;else if(1<_e){for(var pe=Array(_e),Se=0;Se<_e;Se++)pe[Se]=arguments[Se+2];le.children=pe}return P(F.type,ye,le)},$e.createContext=function(F){return F={$$typeof:a,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},$e.createElement=function(F,Z,ee){var le,ye={},_e=null;if(Z!=null)for(le in Z.key!==void 0&&(_e=""+Z.key),Z)D.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=Z[le]);var pe=arguments.length-2;if(pe===1)ye.children=ee;else if(1<pe){for(var Se=Array(pe),je=0;je<pe;je++)Se[je]=arguments[je+2];ye.children=Se}if(F&&F.defaultProps)for(le in pe=F.defaultProps,pe)ye[le]===void 0&&(ye[le]=pe[le]);return P(F,_e,ye)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(F){return{$$typeof:l,render:F}},$e.isValidElement=B,$e.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:V}},$e.memo=function(F,Z){return{$$typeof:d,type:F,compare:Z===void 0?null:Z}},$e.startTransition=function(F){var Z=k.T,ee={};k.T=ee;try{var le=F(),ye=k.S;ye!==null&&ye(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(N,G)}catch(_e){G(_e)}finally{Z!==null&&ee.types!==null&&(Z.types=ee.types),k.T=Z}},$e.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},$e.use=function(F){return k.H.use(F)},$e.useActionState=function(F,Z,ee){return k.H.useActionState(F,Z,ee)},$e.useCallback=function(F,Z){return k.H.useCallback(F,Z)},$e.useContext=function(F){return k.H.useContext(F)},$e.useDebugValue=function(){},$e.useDeferredValue=function(F,Z){return k.H.useDeferredValue(F,Z)},$e.useEffect=function(F,Z){return k.H.useEffect(F,Z)},$e.useEffectEvent=function(F){return k.H.useEffectEvent(F)},$e.useId=function(){return k.H.useId()},$e.useImperativeHandle=function(F,Z,ee){return k.H.useImperativeHandle(F,Z,ee)},$e.useInsertionEffect=function(F,Z){return k.H.useInsertionEffect(F,Z)},$e.useLayoutEffect=function(F,Z){return k.H.useLayoutEffect(F,Z)},$e.useMemo=function(F,Z){return k.H.useMemo(F,Z)},$e.useOptimistic=function(F,Z){return k.H.useOptimistic(F,Z)},$e.useReducer=function(F,Z,ee){return k.H.useReducer(F,Z,ee)},$e.useRef=function(F){return k.H.useRef(F)},$e.useState=function(F){return k.H.useState(F)},$e.useSyncExternalStore=function(F,Z,ee){return k.H.useSyncExternalStore(F,Z,ee)},$e.useTransition=function(){return k.H.useTransition()},$e.version="19.2.0",$e}var tT;function lp(){return tT||(tT=1,cb.exports=LU()),cb.exports}var C=lp();const oe=bf(C),lk=IU({__proto__:null,default:oe},[C]);var ub={exports:{}},cd={},db={exports:{}},fb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function FU(){return nT||(nT=1,(function(t){function e(L,q){var V=L.length;L.push(q);e:for(;0<V;){var G=V-1>>>1,he=L[G];if(0<r(he,q))L[G]=q,L[V]=he,V=G;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var q=L[0],V=L.pop();if(V!==q){L[0]=V;e:for(var G=0,he=L.length,F=he>>>1;G<F;){var Z=2*(G+1)-1,ee=L[Z],le=Z+1,ye=L[le];if(0>r(ee,V))le<he&&0>r(ye,ee)?(L[G]=ye,L[le]=V,G=le):(L[G]=ee,L[Z]=V,G=Z);else if(le<he&&0>r(ye,V))L[G]=ye,L[le]=V,G=le;else break e}}return q}function r(L,q){var V=L.sortIndex-q.sortIndex;return V!==0?V:L.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,g=null,p=3,v=!1,b=!1,_=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(L){for(var q=n(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=L)i(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(d)}}function O(L){if(_=!1,M(L),!b)if(n(u)!==null)b=!0,N||(N=!0,Q());else{var q=n(d);q!==null&&me(O,q.startTime-L)}}var N=!1,k=-1,D=5,P=-1;function z(){return S?!0:!(t.unstable_now()-P<D)}function B(){if(S=!1,N){var L=t.unstable_now();P=L;var q=!0;try{e:{b=!1,_&&(_=!1,A(k),k=-1),v=!0;var V=p;try{t:{for(M(L),g=n(u);g!==null&&!(g.expirationTime>L&&z());){var G=g.callback;if(typeof G=="function"){g.callback=null,p=g.priorityLevel;var he=G(g.expirationTime<=L);if(L=t.unstable_now(),typeof he=="function"){g.callback=he,M(L),q=!0;break t}g===n(u)&&i(u),M(L)}else i(u);g=n(u)}if(g!==null)q=!0;else{var F=n(d);F!==null&&me(O,F.startTime-L),q=!1}}break e}finally{g=null,p=V,v=!1}q=void 0}}finally{q?Q():N=!1}}}var Q;if(typeof T=="function")Q=function(){T(B)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ce=ne.port2;ne.port1.onmessage=B,Q=function(){ce.postMessage(null)}}else Q=function(){x(B,0)};function me(L,q){k=x(function(){L(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var V=p;p=q;try{return L()}finally{p=V}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=p;p=L;try{return q()}finally{p=V}},t.unstable_scheduleCallback=function(L,q,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,L){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=V+he,L={id:h++,callback:q,priorityLevel:L,startTime:V,expirationTime:he,sortIndex:-1},V>G?(L.sortIndex=V,e(d,L),n(u)===null&&L===n(d)&&(_?(A(k),k=-1):_=!0,me(O,V-G))):(L.sortIndex=he,e(u,L),b||v||(b=!0,N||(N=!0,Q()))),L},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(L){var q=p;return function(){var V=p;p=q;try{return L.apply(this,arguments)}finally{p=V}}}})(fb)),fb}var iT;function UU(){return iT||(iT=1,db.exports=FU()),db.exports}var hb={exports:{}},ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function zU(){if(rT)return ri;rT=1;var t=lp();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ri.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},ri.flushSync=function(u){var d=a.T,h=i.p;try{if(a.T=null,i.p=2,u)return u()}finally{a.T=d,i.p=h,i.d.f()}},ri.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},ri.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},ri.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:v}):h==="script"&&i.d.X(u,{crossOrigin:g,integrity:p,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ri.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},ri.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin);i.d.L(u,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ri.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},ri.requestFormReset=function(u){i.d.r(u)},ri.unstable_batchedUpdates=function(u,d){return u(d)},ri.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},ri.useFormStatus=function(){return a.H.useHostTransitionStatus()},ri.version="19.2.0",ri}var sT;function ck(){if(sT)return hb.exports;sT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hb.exports=zU(),hb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function HU(){if(aT)return cd;aT=1;var t=UU(),e=lp(),n=ck();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(i(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(i(188));return c!==o?null:o}for(var f=o,m=c;;){var y=f.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){f=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===f)return u(y),o;if(w===m)return u(y),c;w=w.sibling}throw Error(i(188))}if(f.return!==m.return)f=y,m=w;else{for(var R=!1,I=y.child;I;){if(I===f){R=!0,f=y,m=w;break}if(I===m){R=!0,m=y,f=w;break}I=I.sibling}if(!R){for(I=w.child;I;){if(I===f){R=!0,f=w,m=y;break}if(I===m){R=!0,m=w,f=y;break}I=I.sibling}if(!R)throw Error(i(189))}}if(f.alternate!==m)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function Q(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Symbol.for("react.client.reference");function ce(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ne?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case N:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case T:return o.displayName||"Context";case A:return(o._context.displayName||"Context")+".Consumer";case M:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return c=o.displayName||null,c!==null?c:ce(o.type)||"Memo";case D:c=o._payload,o=o._init;try{return ce(o(c))}catch{}}return null}var me=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},G=[],he=-1;function F(o){return{current:o}}function Z(o){0>he||(o.current=G[he],G[he]=null,he--)}function ee(o,c){he++,G[he]=o.current,o.current=c}var le=F(null),ye=F(null),_e=F(null),pe=F(null);function Se(o,c){switch(ee(_e,c),ee(ye,o),ee(le,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?wA(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=wA(c),o=SA(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Z(le),ee(le,o)}function je(){Z(le),Z(ye),Z(_e)}function Ge(o){o.memoizedState!==null&&ee(pe,o);var c=le.current,f=SA(c,o.type);c!==f&&(ee(ye,o),ee(le,f))}function Rt(o){ye.current===o&&(Z(le),Z(ye)),pe.current===o&&(Z(pe),rd._currentValue=V)}var wt,Mn;function xe(o){if(wt===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);wt=c&&c[1]||"",Mn=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wt+o+Mn}var He=!1;function tt(o,c){if(!o||He)return"";He=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ae){var re=ae}Reflect.construct(o,[],ge)}else{try{ge.call()}catch(ae){re=ae}o.call(ge.prototype)}}else{try{throw Error()}catch(ae){re=ae}(ge=o())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),R=w[0],I=w[1];if(R&&I){var H=R.split(`
`),te=I.split(`
`);for(y=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;y<te.length&&!te[y].includes("DetermineComponentFrameRoot");)y++;if(m===H.length||y===te.length)for(m=H.length-1,y=te.length-1;1<=m&&0<=y&&H[m]!==te[y];)y--;for(;1<=m&&0<=y;m--,y--)if(H[m]!==te[y]){if(m!==1||y!==1)do if(m--,y--,0>y||H[m]!==te[y]){var de=`
`+H[m].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=m&&0<=y);break}}}finally{He=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?xe(f):""}function Vt(o,c){switch(o.tag){case 26:case 27:case 5:return xe(o.type);case 16:return xe("Lazy");case 13:return o.child!==c&&c!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return tt(o.type,!1);case 11:return tt(o.type.render,!1);case 1:return tt(o.type,!0);case 31:return xe("Activity");default:return""}}function wn(o){try{var c="",f=null;do c+=Vt(o,f),f=o,o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ye=Object.prototype.hasOwnProperty,j=t.unstable_scheduleCallback,W=t.unstable_cancelCallback,X=t.unstable_shouldYield,K=t.unstable_requestPaint,ie=t.unstable_now,ue=t.unstable_getCurrentPriorityLevel,ve=t.unstable_ImmediatePriority,be=t.unstable_UserBlockingPriority,we=t.unstable_NormalPriority,Me=t.unstable_LowPriority,Ke=t.unstable_IdlePriority,Ve=t.log,ct=t.unstable_setDisableYieldValue,nt=null,Ut=null;function it(o){if(typeof Ve=="function"&&ct(o),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(nt,o)}catch{}}var ze=Math.clz32?Math.clz32:ht,pn=Math.log,Ze=Math.LN2;function ht(o){return o>>>=0,o===0?32:31-(pn(o)/Ze|0)|0}var fi=256,hi=262144,St=4194304;function $t(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ee(o,c,f){var m=o.pendingLanes;if(m===0)return 0;var y=0,w=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var I=m&134217727;return I!==0?(m=I&~w,m!==0?y=$t(m):(R&=I,R!==0?y=$t(R):f||(f=I&~o,f!==0&&(y=$t(f))))):(I=m&~w,I!==0?y=$t(I):R!==0?y=$t(R):f||(f=m&~o,f!==0&&(y=$t(f)))),y===0?0:c!==0&&c!==y&&(c&w)===0&&(w=y&-y,f=c&-c,w>=f||w===32&&(f&4194048)!==0)?c:y}function Be(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ut(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var o=St;return St<<=1,(St&62914560)===0&&(St=4194304),o}function un(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function mt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Qe(o,c,f,m,y,w){var R=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,H=o.expirationTimes,te=o.hiddenUpdates;for(f=R&~f;0<f;){var de=31-ze(f),ge=1<<de;I[de]=0,H[de]=-1;var re=te[de];if(re!==null)for(te[de]=null,de=0;de<re.length;de++){var ae=re[de];ae!==null&&(ae.lane&=-536870913)}f&=~ge}m!==0&&Sn(o,m,0),w!==0&&y===0&&o.tag!==0&&(o.suspendedLanes|=w&~(R&~c))}function Sn(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-ze(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|f&261930}function Wt(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var m=31-ze(f),y=1<<m;y&c|o[m]&c&&(o[m]|=c),f&=~y}}function Jt(o,c){var f=c&-c;return f=(f&42)!==0?1:nr(f),(f&(o.suspendedLanes|c))!==0?0:f}function nr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Qn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ir(){var o=q.p;return o!==0?o:(o=window.event,o===void 0?32:qA(o.type))}function ma(o,c){var f=q.p;try{return q.p=o,c()}finally{q.p=f}}var rr=Math.random().toString(36).slice(2),Xn="__reactFiber$"+rr,Si="__reactProps$"+rr,Dl="__reactContainer$"+rr,Jp="__reactEvents$"+rr,xL="__reactListeners$"+rr,EL="__reactHandles$"+rr,lx="__reactResources$"+rr,bu="__reactMarker$"+rr;function ev(o){delete o[Xn],delete o[Si],delete o[Jp],delete o[xL],delete o[EL]}function Ol(o){var c=o[Xn];if(c)return c;for(var f=o.parentNode;f;){if(c=f[Dl]||f[Xn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=DA(o);o!==null;){if(f=o[Xn])return f;o=DA(o)}return c}o=f,f=o.parentNode}return null}function Ml(o){if(o=o[Xn]||o[Dl]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function _u(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function kl(o){var c=o[lx];return c||(c=o[lx]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Hn(o){o[bu]=!0}var cx=new Set,ux={};function So(o,c){Nl(o,c),Nl(o+"Capture",c)}function Nl(o,c){for(ux[o]=c,o=0;o<c.length;o++)cx.add(c[o])}var CL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dx={},fx={};function AL(o){return Ye.call(fx,o)?!0:Ye.call(dx,o)?!1:CL.test(o)?fx[o]=!0:(dx[o]=!0,!1)}function Hf(o,c,f){if(AL(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function Bf(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function Cs(o,c,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+m)}}function sr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function hx(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function TL(o,c,f){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,w=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return y.call(this)},set:function(R){f=""+R,w.call(this,R)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function tv(o){if(!o._valueTracker){var c=hx(o)?"checked":"value";o._valueTracker=TL(o,c,""+o[c])}}function gx(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),m="";return o&&(m=hx(o)?o.checked?"true":"false":o.value),o=m,o!==f?(c.setValue(o),!0):!1}function Vf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var RL=/[\n"\\]/g;function ar(o){return o.replace(RL,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function nv(o,c,f,m,y,w,R,I){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),c!=null?R==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+sr(c)):o.value!==""+sr(c)&&(o.value=""+sr(c)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),c!=null?iv(o,R,sr(c)):f!=null?iv(o,R,sr(f)):m!=null&&o.removeAttribute("value"),y==null&&w!=null&&(o.defaultChecked=!!w),y!=null&&(o.checked=y&&typeof y!="function"&&typeof y!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+sr(I):o.removeAttribute("name")}function mx(o,c,f,m,y,w,R,I){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),c!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||c!=null)){tv(o);return}f=f!=null?""+sr(f):"",c=c!=null?""+sr(c):f,I||c===o.value||(o.value=c),o.defaultValue=c}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=I?o.checked:!!m,o.defaultChecked=!!m,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),tv(o)}function iv(o,c,f){c==="number"&&Vf(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Il(o,c,f,m){if(o=o.options,c){c={};for(var y=0;y<f.length;y++)c["$"+f[y]]=!0;for(f=0;f<o.length;f++)y=c.hasOwnProperty("$"+o[f].value),o[f].selected!==y&&(o[f].selected=y),y&&m&&(o[f].defaultSelected=!0)}else{for(f=""+sr(f),c=null,y=0;y<o.length;y++){if(o[y].value===f){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}c!==null||o[y].disabled||(c=o[y])}c!==null&&(c.selected=!0)}}function px(o,c,f){if(c!=null&&(c=""+sr(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+sr(f):""}function vx(o,c,f,m){if(c==null){if(m!=null){if(f!=null)throw Error(i(92));if(me(m)){if(1<m.length)throw Error(i(93));m=m[0]}f=m}f==null&&(f=""),c=f}f=sr(c),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m),tv(o)}function Pl(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var DL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yx(o,c,f){var m=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,f):typeof f!="number"||f===0||DL.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function bx(o,c,f){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var y in c)m=c[y],c.hasOwnProperty(y)&&f[y]!==m&&yx(o,y,m)}else for(var w in c)c.hasOwnProperty(w)&&yx(o,w,c[w])}function rv(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ML=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $f(o){return ML.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function As(){}var sv=null;function av(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var jl=null,Ll=null;function _x(o){var c=Ml(o);if(c&&(o=c.stateNode)){var f=o[Si]||null;e:switch(o=c.stateNode,c.type){case"input":if(nv(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ar(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var m=f[c];if(m!==o&&m.form===o.form){var y=m[Si]||null;if(!y)throw Error(i(90));nv(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<f.length;c++)m=f[c],m.form===o.form&&gx(m)}break e;case"textarea":px(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Il(o,!!f.multiple,c,!1)}}}var ov=!1;function wx(o,c,f){if(ov)return o(c,f);ov=!0;try{var m=o(c);return m}finally{if(ov=!1,(jl!==null||Ll!==null)&&(Mh(),jl&&(c=jl,o=Ll,Ll=jl=null,_x(c),o)))for(c=0;c<o.length;c++)_x(o[c])}}function wu(o,c){var f=o.stateNode;if(f===null)return null;var m=f[Si]||null;if(m===null)return null;f=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(i(231,c,typeof f));return f}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lv=!1;if(Ts)try{var Su={};Object.defineProperty(Su,"passive",{get:function(){lv=!0}}),window.addEventListener("test",Su,Su),window.removeEventListener("test",Su,Su)}catch{lv=!1}var pa=null,cv=null,qf=null;function Sx(){if(qf)return qf;var o,c=cv,f=c.length,m,y="value"in pa?pa.value:pa.textContent,w=y.length;for(o=0;o<f&&c[o]===y[o];o++);var R=f-o;for(m=1;m<=R&&c[f-m]===y[w-m];m++);return qf=y.slice(o,1<m?1-m:void 0)}function Gf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Wf(){return!0}function xx(){return!1}function xi(o){function c(f,m,y,w,R){this._reactName=f,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(w):w[I]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Wf:xx,this.isPropagationStopped=xx,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),c}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=xi(xo),xu=g({},xo,{view:0,detail:0}),kL=xi(xu),uv,dv,Eu,Kf=g({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Eu&&(Eu&&o.type==="mousemove"?(uv=o.screenX-Eu.screenX,dv=o.screenY-Eu.screenY):dv=uv=0,Eu=o),uv)},movementY:function(o){return"movementY"in o?o.movementY:dv}}),Ex=xi(Kf),NL=g({},Kf,{dataTransfer:0}),IL=xi(NL),PL=g({},xu,{relatedTarget:0}),fv=xi(PL),jL=g({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),LL=xi(jL),FL=g({},xo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),UL=xi(FL),zL=g({},xo,{data:0}),Cx=xi(zL),HL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $L(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=VL[o])?!!c[o]:!1}function hv(){return $L}var qL=g({},xu,{key:function(o){if(o.key){var c=HL[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Gf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?BL[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hv,charCode:function(o){return o.type==="keypress"?Gf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Gf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),GL=xi(qL),WL=g({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ax=xi(WL),YL=g({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hv}),KL=xi(YL),QL=g({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XL=xi(QL),ZL=g({},Kf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),JL=xi(ZL),eF=g({},xo,{newState:0,oldState:0}),tF=xi(eF),nF=[9,13,27,32],gv=Ts&&"CompositionEvent"in window,Cu=null;Ts&&"documentMode"in document&&(Cu=document.documentMode);var iF=Ts&&"TextEvent"in window&&!Cu,Tx=Ts&&(!gv||Cu&&8<Cu&&11>=Cu),Rx=" ",Dx=!1;function Ox(o,c){switch(o){case"keyup":return nF.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fl=!1;function rF(o,c){switch(o){case"compositionend":return Mx(c);case"keypress":return c.which!==32?null:(Dx=!0,Rx);case"textInput":return o=c.data,o===Rx&&Dx?null:o;default:return null}}function sF(o,c){if(Fl)return o==="compositionend"||!gv&&Ox(o,c)?(o=Sx(),qf=cv=pa=null,Fl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Tx&&c.locale!=="ko"?null:c.data;default:return null}}var aF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kx(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!aF[o.type]:c==="textarea"}function Nx(o,c,f,m){jl?Ll?Ll.push(m):Ll=[m]:jl=m,c=Fh(c,"onChange"),0<c.length&&(f=new Yf("onChange","change",null,f,m),o.push({event:f,listeners:c}))}var Au=null,Tu=null;function oF(o){mA(o,0)}function Qf(o){var c=_u(o);if(gx(c))return o}function Ix(o,c){if(o==="change")return c}var Px=!1;if(Ts){var mv;if(Ts){var pv="oninput"in document;if(!pv){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),pv=typeof jx.oninput=="function"}mv=pv}else mv=!1;Px=mv&&(!document.documentMode||9<document.documentMode)}function Lx(){Au&&(Au.detachEvent("onpropertychange",Fx),Tu=Au=null)}function Fx(o){if(o.propertyName==="value"&&Qf(Tu)){var c=[];Nx(c,Tu,o,av(o)),wx(oF,c)}}function lF(o,c,f){o==="focusin"?(Lx(),Au=c,Tu=f,Au.attachEvent("onpropertychange",Fx)):o==="focusout"&&Lx()}function cF(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Qf(Tu)}function uF(o,c){if(o==="click")return Qf(c)}function dF(o,c){if(o==="input"||o==="change")return Qf(c)}function fF(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var zi=typeof Object.is=="function"?Object.is:fF;function Ru(o,c){if(zi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),m=Object.keys(c);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var y=f[m];if(!Ye.call(c,y)||!zi(o[y],c[y]))return!1}return!0}function Ux(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function zx(o,c){var f=Ux(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=c&&m>=c)return{node:f,offset:c-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ux(f)}}function Hx(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Hx(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Bx(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Vf(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=Vf(o.document)}return c}function vv(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var hF=Ts&&"documentMode"in document&&11>=document.documentMode,Ul=null,yv=null,Du=null,bv=!1;function Vx(o,c,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;bv||Ul==null||Ul!==Vf(m)||(m=Ul,"selectionStart"in m&&vv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Du&&Ru(Du,m)||(Du=m,m=Fh(yv,"onSelect"),0<m.length&&(c=new Yf("onSelect","select",null,c,f),o.push({event:c,listeners:m}),c.target=Ul)))}function Eo(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var zl={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionrun:Eo("Transition","TransitionRun"),transitionstart:Eo("Transition","TransitionStart"),transitioncancel:Eo("Transition","TransitionCancel"),transitionend:Eo("Transition","TransitionEnd")},_v={},$x={};Ts&&($x=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function Co(o){if(_v[o])return _v[o];if(!zl[o])return o;var c=zl[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in $x)return _v[o]=c[f];return o}var qx=Co("animationend"),Gx=Co("animationiteration"),Wx=Co("animationstart"),gF=Co("transitionrun"),mF=Co("transitionstart"),pF=Co("transitioncancel"),Yx=Co("transitionend"),Kx=new Map,wv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wv.push("scrollEnd");function Mr(o,c){Kx.set(o,c),So(c,[o])}var Xf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},or=[],Hl=0,Sv=0;function Zf(){for(var o=Hl,c=Sv=Hl=0;c<o;){var f=or[c];or[c++]=null;var m=or[c];or[c++]=null;var y=or[c];or[c++]=null;var w=or[c];if(or[c++]=null,m!==null&&y!==null){var R=m.pending;R===null?y.next=y:(y.next=R.next,R.next=y),m.pending=y}w!==0&&Qx(f,y,w)}}function Jf(o,c,f,m){or[Hl++]=o,or[Hl++]=c,or[Hl++]=f,or[Hl++]=m,Sv|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function xv(o,c,f,m){return Jf(o,c,f,m),eh(o)}function Ao(o,c){return Jf(o,null,null,c),eh(o)}function Qx(o,c,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var y=!1,w=o.return;w!==null;)w.childLanes|=f,m=w.alternate,m!==null&&(m.childLanes|=f),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(y=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,y&&c!==null&&(y=31-ze(f),o=w.hiddenUpdates,m=o[y],m===null?o[y]=[c]:m.push(c),c.lane=f|536870912),w):null}function eh(o){if(50<Xu)throw Xu=0,ky=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Bl={};function vF(o,c,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(o,c,f,m){return new vF(o,c,f,m)}function Ev(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Rs(o,c){var f=o.alternate;return f===null?(f=Hi(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function Xx(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function th(o,c,f,m,y,w){var R=0;if(m=o,typeof o=="function")Ev(o)&&(R=1);else if(typeof o=="string")R=SU(o,f,le.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=Hi(31,f,c,y),o.elementType=P,o.lanes=w,o;case _:return To(f.children,y,w,c);case S:R=8,y|=24;break;case x:return o=Hi(12,f,c,y|2),o.elementType=x,o.lanes=w,o;case O:return o=Hi(13,f,c,y),o.elementType=O,o.lanes=w,o;case N:return o=Hi(19,f,c,y),o.elementType=N,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:R=10;break e;case A:R=9;break e;case M:R=11;break e;case k:R=14;break e;case D:R=16,m=null;break e}R=29,f=Error(i(130,o===null?"null":typeof o,"")),m=null}return c=Hi(R,f,c,y),c.elementType=o,c.type=m,c.lanes=w,c}function To(o,c,f,m){return o=Hi(7,o,m,c),o.lanes=f,o}function Cv(o,c,f){return o=Hi(6,o,null,c),o.lanes=f,o}function Zx(o){var c=Hi(18,null,null,0);return c.stateNode=o,c}function Av(o,c,f){return c=Hi(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Jx=new WeakMap;function lr(o,c){if(typeof o=="object"&&o!==null){var f=Jx.get(o);return f!==void 0?f:(c={value:o,source:c,stack:wn(c)},Jx.set(o,c),c)}return{value:o,source:c,stack:wn(c)}}var Vl=[],$l=0,nh=null,Ou=0,cr=[],ur=0,va=null,ts=1,ns="";function Ds(o,c){Vl[$l++]=Ou,Vl[$l++]=nh,nh=o,Ou=c}function eE(o,c,f){cr[ur++]=ts,cr[ur++]=ns,cr[ur++]=va,va=o;var m=ts;o=ns;var y=32-ze(m)-1;m&=~(1<<y),f+=1;var w=32-ze(c)+y;if(30<w){var R=y-y%5;w=(m&(1<<R)-1).toString(32),m>>=R,y-=R,ts=1<<32-ze(c)+y|f<<y|m,ns=w+o}else ts=1<<w|f<<y|m,ns=o}function Tv(o){o.return!==null&&(Ds(o,1),eE(o,1,0))}function Rv(o){for(;o===nh;)nh=Vl[--$l],Vl[$l]=null,Ou=Vl[--$l],Vl[$l]=null;for(;o===va;)va=cr[--ur],cr[ur]=null,ns=cr[--ur],cr[ur]=null,ts=cr[--ur],cr[ur]=null}function tE(o,c){cr[ur++]=ts,cr[ur++]=ns,cr[ur++]=va,ts=c.id,ns=c.overflow,va=o}var Zn=null,Yt=null,dt=!1,ya=null,dr=!1,Dv=Error(i(519));function ba(o){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mu(lr(c,o)),Dv}function nE(o){var c=o.stateNode,f=o.type,m=o.memoizedProps;switch(c[Xn]=o,c[Si]=m,f){case"dialog":st("cancel",c),st("close",c);break;case"iframe":case"object":case"embed":st("load",c);break;case"video":case"audio":for(f=0;f<Ju.length;f++)st(Ju[f],c);break;case"source":st("error",c);break;case"img":case"image":case"link":st("error",c),st("load",c);break;case"details":st("toggle",c);break;case"input":st("invalid",c),mx(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":st("invalid",c);break;case"textarea":st("invalid",c),vx(c,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||m.suppressHydrationWarning===!0||bA(c.textContent,f)?(m.popover!=null&&(st("beforetoggle",c),st("toggle",c)),m.onScroll!=null&&st("scroll",c),m.onScrollEnd!=null&&st("scrollend",c),m.onClick!=null&&(c.onclick=As),c=!0):c=!1,c||ba(o,!0)}function iE(o){for(Zn=o.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:Zn=Zn.return}}function ql(o){if(o!==Zn)return!1;if(!dt)return iE(o),dt=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Wy(o.type,o.memoizedProps)),f=!f),f&&Yt&&ba(o),iE(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Yt=RA(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Yt=RA(o)}else c===27?(c=Yt,Na(o.type)?(o=Zy,Zy=null,Yt=o):Yt=c):Yt=Zn?hr(o.stateNode.nextSibling):null;return!0}function Ro(){Yt=Zn=null,dt=!1}function Ov(){var o=ya;return o!==null&&(Ti===null?Ti=o:Ti.push.apply(Ti,o),ya=null),o}function Mu(o){ya===null?ya=[o]:ya.push(o)}var Mv=F(null),Do=null,Os=null;function _a(o,c,f){ee(Mv,c._currentValue),c._currentValue=f}function Ms(o){o._currentValue=Mv.current,Z(Mv)}function kv(o,c,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===f)break;o=o.return}}function Nv(o,c,f,m){var y=o.child;for(y!==null&&(y.return=o);y!==null;){var w=y.dependencies;if(w!==null){var R=y.child;w=w.firstContext;e:for(;w!==null;){var I=w;w=y;for(var H=0;H<c.length;H++)if(I.context===c[H]){w.lanes|=f,I=w.alternate,I!==null&&(I.lanes|=f),kv(w.return,f,o),m||(R=null);break e}w=I.next}}else if(y.tag===18){if(R=y.return,R===null)throw Error(i(341));R.lanes|=f,w=R.alternate,w!==null&&(w.lanes|=f),kv(R,f,o),R=null}else R=y.child;if(R!==null)R.return=y;else for(R=y;R!==null;){if(R===o){R=null;break}if(y=R.sibling,y!==null){y.return=R.return,R=y;break}R=R.return}y=R}}function Gl(o,c,f,m){o=null;for(var y=c,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var R=y.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var I=y.type;zi(y.pendingProps.value,R.value)||(o!==null?o.push(I):o=[I])}}else if(y===pe.current){if(R=y.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(o!==null?o.push(rd):o=[rd])}y=y.return}o!==null&&Nv(c,o,f,m),c.flags|=262144}function ih(o){for(o=o.firstContext;o!==null;){if(!zi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Oo(o){Do=o,Os=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Jn(o){return rE(Do,o)}function rh(o,c){return Do===null&&Oo(o),rE(o,c)}function rE(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Os===null){if(o===null)throw Error(i(308));Os=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Os=Os.next=c;return f}var yF=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},bF=t.unstable_scheduleCallback,_F=t.unstable_NormalPriority,xn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Iv(){return{controller:new yF,data:new Map,refCount:0}}function ku(o){o.refCount--,o.refCount===0&&bF(_F,function(){o.controller.abort()})}var Nu=null,Pv=0,Wl=0,Yl=null;function wF(o,c){if(Nu===null){var f=Nu=[];Pv=0,Wl=Fy(),Yl={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Pv++,c.then(sE,sE),c}function sE(){if(--Pv===0&&Nu!==null){Yl!==null&&(Yl.status="fulfilled");var o=Nu;Nu=null,Wl=0,Yl=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function SF(o,c){var f=[],m={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var y=0;y<f.length;y++)(0,f[y])(c)},function(y){for(m.status="rejected",m.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),m}var aE=L.S;L.S=function(o,c){VC=ie(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&wF(o,c),aE!==null&&aE(o,c)};var Mo=F(null);function jv(){var o=Mo.current;return o!==null?o:zt.pooledCache}function sh(o,c){c===null?ee(Mo,Mo.current):ee(Mo,c.pool)}function oE(){var o=jv();return o===null?null:{parent:xn._currentValue,pool:o}}var Kl=Error(i(460)),Lv=Error(i(474)),ah=Error(i(542)),oh={then:function(){}};function lE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function cE(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(As,As),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,dE(o),o;default:if(typeof c.status=="string")c.then(As,As);else{if(o=zt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var y=c;y.status="fulfilled",y.value=m}},function(m){if(c.status==="pending"){var y=c;y.status="rejected",y.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,dE(o),o}throw No=c,Kl}}function ko(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(No=f,Kl):f}}var No=null;function uE(){if(No===null)throw Error(i(459));var o=No;return No=null,o}function dE(o){if(o===Kl||o===ah)throw Error(i(483))}var Ql=null,Iu=0;function lh(o){var c=Iu;return Iu+=1,Ql===null&&(Ql=[]),cE(Ql,o,c)}function Pu(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function ch(o,c){throw c.$$typeof===p?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function fE(o){function c(Y,$){if(o){var J=Y.deletions;J===null?(Y.deletions=[$],Y.flags|=16):J.push($)}}function f(Y,$){if(!o)return null;for(;$!==null;)c(Y,$),$=$.sibling;return null}function m(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function y(Y,$){return Y=Rs(Y,$),Y.index=0,Y.sibling=null,Y}function w(Y,$,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<$?(Y.flags|=67108866,$):J):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function R(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,$,J,fe){return $===null||$.tag!==6?($=Cv(J,Y.mode,fe),$.return=Y,$):($=y($,J),$.return=Y,$)}function H(Y,$,J,fe){var ke=J.type;return ke===_?de(Y,$,J.props.children,fe,J.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===D&&ko(ke)===$.type)?($=y($,J.props),Pu($,J),$.return=Y,$):($=th(J.type,J.key,J.props,null,Y.mode,fe),Pu($,J),$.return=Y,$)}function te(Y,$,J,fe){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=Av(J,Y.mode,fe),$.return=Y,$):($=y($,J.children||[]),$.return=Y,$)}function de(Y,$,J,fe,ke){return $===null||$.tag!==7?($=To(J,Y.mode,fe,ke),$.return=Y,$):($=y($,J),$.return=Y,$)}function ge(Y,$,J){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Cv(""+$,Y.mode,J),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return J=th($.type,$.key,$.props,null,Y.mode,J),Pu(J,$),J.return=Y,J;case b:return $=Av($,Y.mode,J),$.return=Y,$;case D:return $=ko($),ge(Y,$,J)}if(me($)||Q($))return $=To($,Y.mode,J,null),$.return=Y,$;if(typeof $.then=="function")return ge(Y,lh($),J);if($.$$typeof===T)return ge(Y,rh(Y,$),J);ch(Y,$)}return null}function re(Y,$,J,fe){var ke=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return ke!==null?null:I(Y,$,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return J.key===ke?H(Y,$,J,fe):null;case b:return J.key===ke?te(Y,$,J,fe):null;case D:return J=ko(J),re(Y,$,J,fe)}if(me(J)||Q(J))return ke!==null?null:de(Y,$,J,fe,null);if(typeof J.then=="function")return re(Y,$,lh(J),fe);if(J.$$typeof===T)return re(Y,$,rh(Y,J),fe);ch(Y,J)}return null}function ae(Y,$,J,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Y=Y.get(J)||null,I($,Y,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return Y=Y.get(fe.key===null?J:fe.key)||null,H($,Y,fe,ke);case b:return Y=Y.get(fe.key===null?J:fe.key)||null,te($,Y,fe,ke);case D:return fe=ko(fe),ae(Y,$,J,fe,ke)}if(me(fe)||Q(fe))return Y=Y.get(J)||null,de($,Y,fe,ke,null);if(typeof fe.then=="function")return ae(Y,$,J,lh(fe),ke);if(fe.$$typeof===T)return ae(Y,$,J,rh($,fe),ke);ch($,fe)}return null}function Ce(Y,$,J,fe){for(var ke=null,xt=null,Re=$,Xe=$=0,ot=null;Re!==null&&Xe<J.length;Xe++){Re.index>Xe?(ot=Re,Re=null):ot=Re.sibling;var Et=re(Y,Re,J[Xe],fe);if(Et===null){Re===null&&(Re=ot);break}o&&Re&&Et.alternate===null&&c(Y,Re),$=w(Et,$,Xe),xt===null?ke=Et:xt.sibling=Et,xt=Et,Re=ot}if(Xe===J.length)return f(Y,Re),dt&&Ds(Y,Xe),ke;if(Re===null){for(;Xe<J.length;Xe++)Re=ge(Y,J[Xe],fe),Re!==null&&($=w(Re,$,Xe),xt===null?ke=Re:xt.sibling=Re,xt=Re);return dt&&Ds(Y,Xe),ke}for(Re=m(Re);Xe<J.length;Xe++)ot=ae(Re,Y,Xe,J[Xe],fe),ot!==null&&(o&&ot.alternate!==null&&Re.delete(ot.key===null?Xe:ot.key),$=w(ot,$,Xe),xt===null?ke=ot:xt.sibling=ot,xt=ot);return o&&Re.forEach(function(Fa){return c(Y,Fa)}),dt&&Ds(Y,Xe),ke}function Le(Y,$,J,fe){if(J==null)throw Error(i(151));for(var ke=null,xt=null,Re=$,Xe=$=0,ot=null,Et=J.next();Re!==null&&!Et.done;Xe++,Et=J.next()){Re.index>Xe?(ot=Re,Re=null):ot=Re.sibling;var Fa=re(Y,Re,Et.value,fe);if(Fa===null){Re===null&&(Re=ot);break}o&&Re&&Fa.alternate===null&&c(Y,Re),$=w(Fa,$,Xe),xt===null?ke=Fa:xt.sibling=Fa,xt=Fa,Re=ot}if(Et.done)return f(Y,Re),dt&&Ds(Y,Xe),ke;if(Re===null){for(;!Et.done;Xe++,Et=J.next())Et=ge(Y,Et.value,fe),Et!==null&&($=w(Et,$,Xe),xt===null?ke=Et:xt.sibling=Et,xt=Et);return dt&&Ds(Y,Xe),ke}for(Re=m(Re);!Et.done;Xe++,Et=J.next())Et=ae(Re,Y,Xe,Et.value,fe),Et!==null&&(o&&Et.alternate!==null&&Re.delete(Et.key===null?Xe:Et.key),$=w(Et,$,Xe),xt===null?ke=Et:xt.sibling=Et,xt=Et);return o&&Re.forEach(function(NU){return c(Y,NU)}),dt&&Ds(Y,Xe),ke}function Lt(Y,$,J,fe){if(typeof J=="object"&&J!==null&&J.type===_&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case v:e:{for(var ke=J.key;$!==null;){if($.key===ke){if(ke=J.type,ke===_){if($.tag===7){f(Y,$.sibling),fe=y($,J.props.children),fe.return=Y,Y=fe;break e}}else if($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===D&&ko(ke)===$.type){f(Y,$.sibling),fe=y($,J.props),Pu(fe,J),fe.return=Y,Y=fe;break e}f(Y,$);break}else c(Y,$);$=$.sibling}J.type===_?(fe=To(J.props.children,Y.mode,fe,J.key),fe.return=Y,Y=fe):(fe=th(J.type,J.key,J.props,null,Y.mode,fe),Pu(fe,J),fe.return=Y,Y=fe)}return R(Y);case b:e:{for(ke=J.key;$!==null;){if($.key===ke)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){f(Y,$.sibling),fe=y($,J.children||[]),fe.return=Y,Y=fe;break e}else{f(Y,$);break}else c(Y,$);$=$.sibling}fe=Av(J,Y.mode,fe),fe.return=Y,Y=fe}return R(Y);case D:return J=ko(J),Lt(Y,$,J,fe)}if(me(J))return Ce(Y,$,J,fe);if(Q(J)){if(ke=Q(J),typeof ke!="function")throw Error(i(150));return J=ke.call(J),Le(Y,$,J,fe)}if(typeof J.then=="function")return Lt(Y,$,lh(J),fe);if(J.$$typeof===T)return Lt(Y,$,rh(Y,J),fe);ch(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,$!==null&&$.tag===6?(f(Y,$.sibling),fe=y($,J),fe.return=Y,Y=fe):(f(Y,$),fe=Cv(J,Y.mode,fe),fe.return=Y,Y=fe),R(Y)):f(Y,$)}return function(Y,$,J,fe){try{Iu=0;var ke=Lt(Y,$,J,fe);return Ql=null,ke}catch(Re){if(Re===Kl||Re===ah)throw Re;var xt=Hi(29,Re,null,Y.mode);return xt.lanes=fe,xt.return=Y,xt}finally{}}}var Io=fE(!0),hE=fE(!1),wa=!1;function Fv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uv(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Sa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function xa(o,c,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Tt&2)!==0){var y=m.pending;return y===null?c.next=c:(c.next=y.next,y.next=c),m.pending=c,c=eh(o),Qx(o,null,f),c}return Jf(o,m,c,f),eh(o)}function ju(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Wt(o,f)}}function zv(o,c){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var y=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var R={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?y=w=R:w=w.next=R,f=f.next}while(f!==null);w===null?y=w=c:w=w.next=c}else y=w=c;f={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var Hv=!1;function Lu(){if(Hv){var o=Yl;if(o!==null)throw o}}function Fu(o,c,f,m){Hv=!1;var y=o.updateQueue;wa=!1;var w=y.firstBaseUpdate,R=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var H=I,te=H.next;H.next=null,R===null?w=te:R.next=te,R=H;var de=o.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==R&&(I===null?de.firstBaseUpdate=te:I.next=te,de.lastBaseUpdate=H))}if(w!==null){var ge=y.baseState;R=0,de=te=H=null,I=w;do{var re=I.lane&-536870913,ae=re!==I.lane;if(ae?(at&re)===re:(m&re)===re){re!==0&&re===Wl&&(Hv=!0),de!==null&&(de=de.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ce=o,Le=I;re=c;var Lt=f;switch(Le.tag){case 1:if(Ce=Le.payload,typeof Ce=="function"){ge=Ce.call(Lt,ge,re);break e}ge=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Le.payload,re=typeof Ce=="function"?Ce.call(Lt,ge,re):Ce,re==null)break e;ge=g({},ge,re);break e;case 2:wa=!0}}re=I.callback,re!==null&&(o.flags|=64,ae&&(o.flags|=8192),ae=y.callbacks,ae===null?y.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(te=de=ae,H=ge):de=de.next=ae,R|=re;if(I=I.next,I===null){if(I=y.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);de===null&&(H=ge),y.baseState=H,y.firstBaseUpdate=te,y.lastBaseUpdate=de,w===null&&(y.shared.lanes=0),Ra|=R,o.lanes=R,o.memoizedState=ge}}function gE(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function mE(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)gE(f[o],c)}var Xl=F(null),uh=F(0);function pE(o,c){o=zs,ee(uh,o),ee(Xl,c),zs=o|c.baseLanes}function Bv(){ee(uh,zs),ee(Xl,Xl.current)}function Vv(){zs=uh.current,Z(Xl),Z(uh)}var Bi=F(null),fr=null;function Ea(o){var c=o.alternate;ee(vn,vn.current&1),ee(Bi,o),fr===null&&(c===null||Xl.current!==null||c.memoizedState!==null)&&(fr=o)}function $v(o){ee(vn,vn.current),ee(Bi,o),fr===null&&(fr=o)}function vE(o){o.tag===22?(ee(vn,vn.current),ee(Bi,o),fr===null&&(fr=o)):Ca()}function Ca(){ee(vn,vn.current),ee(Bi,Bi.current)}function Vi(o){Z(Bi),fr===o&&(fr=null),Z(vn)}var vn=F(0);function dh(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Qy(f)||Xy(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ks=0,We=null,Pt=null,En=null,fh=!1,Zl=!1,Po=!1,hh=0,Uu=0,Jl=null,xF=0;function dn(){throw Error(i(321))}function qv(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!zi(o[f],c[f]))return!1;return!0}function Gv(o,c,f,m,y,w){return ks=w,We=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,L.H=o===null||o.memoizedState===null?eC:oy,Po=!1,w=f(m,y),Po=!1,Zl&&(w=bE(c,f,m,y)),yE(o),w}function yE(o){L.H=Bu;var c=Pt!==null&&Pt.next!==null;if(ks=0,En=Pt=We=null,fh=!1,Uu=0,Jl=null,c)throw Error(i(300));o===null||Cn||(o=o.dependencies,o!==null&&ih(o)&&(Cn=!0))}function bE(o,c,f,m){We=o;var y=0;do{if(Zl&&(Jl=null),Uu=0,Zl=!1,25<=y)throw Error(i(301));if(y+=1,En=Pt=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}L.H=tC,w=c(f,m)}while(Zl);return w}function EF(){var o=L.H,c=o.useState()[0];return c=typeof c.then=="function"?zu(c):c,o=o.useState()[0],(Pt!==null?Pt.memoizedState:null)!==o&&(We.flags|=1024),c}function Wv(){var o=hh!==0;return hh=0,o}function Yv(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function Kv(o){if(fh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}fh=!1}ks=0,En=Pt=We=null,Zl=!1,Uu=hh=0,Jl=null}function gi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?We.memoizedState=En=o:En=En.next=o,En}function yn(){if(Pt===null){var o=We.alternate;o=o!==null?o.memoizedState:null}else o=Pt.next;var c=En===null?We.memoizedState:En.next;if(c!==null)En=c,Pt=o;else{if(o===null)throw We.alternate===null?Error(i(467)):Error(i(310));Pt=o,o={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},En===null?We.memoizedState=En=o:En=En.next=o}return En}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(o){var c=Uu;return Uu+=1,Jl===null&&(Jl=[]),o=cE(Jl,o,c),c=We,(En===null?c.memoizedState:En.next)===null&&(c=c.alternate,L.H=c===null||c.memoizedState===null?eC:oy),o}function mh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return zu(o);if(o.$$typeof===T)return Jn(o)}throw Error(i(438,String(o)))}function Qv(o){var c=null,f=We.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var m=We.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(y){return y.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=gh(),We.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),m=0;m<o;m++)f[m]=z;return c.index++,f}function Ns(o,c){return typeof c=="function"?c(o):c}function ph(o){var c=yn();return Xv(c,Pt,o)}function Xv(o,c,f){var m=o.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=f;var y=o.baseQueue,w=m.pending;if(w!==null){if(y!==null){var R=y.next;y.next=w.next,w.next=R}c.baseQueue=y=w,m.pending=null}if(w=o.baseState,y===null)o.memoizedState=w;else{c=y.next;var I=R=null,H=null,te=c,de=!1;do{var ge=te.lane&-536870913;if(ge!==te.lane?(at&ge)===ge:(ks&ge)===ge){var re=te.revertLane;if(re===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ge===Wl&&(de=!0);else if((ks&re)===re){te=te.next,re===Wl&&(de=!0);continue}else ge={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(I=H=ge,R=w):H=H.next=ge,We.lanes|=re,Ra|=re;ge=te.action,Po&&f(w,ge),w=te.hasEagerState?te.eagerState:f(w,ge)}else re={lane:ge,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(I=H=re,R=w):H=H.next=re,We.lanes|=ge,Ra|=ge;te=te.next}while(te!==null&&te!==c);if(H===null?R=w:H.next=I,!zi(w,o.memoizedState)&&(Cn=!0,de&&(f=Yl,f!==null)))throw f;o.memoizedState=w,o.baseState=R,o.baseQueue=H,m.lastRenderedState=w}return y===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Zv(o){var c=yn(),f=c.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=o;var m=f.dispatch,y=f.pending,w=c.memoizedState;if(y!==null){f.pending=null;var R=y=y.next;do w=o(w,R.action),R=R.next;while(R!==y);zi(w,c.memoizedState)||(Cn=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),f.lastRenderedState=w}return[w,m]}function _E(o,c,f){var m=We,y=yn(),w=dt;if(w){if(f===void 0)throw Error(i(407));f=f()}else f=c();var R=!zi((Pt||y).memoizedState,f);if(R&&(y.memoizedState=f,Cn=!0),y=y.queue,ty(xE.bind(null,m,y,o),[o]),y.getSnapshot!==c||R||En!==null&&En.memoizedState.tag&1){if(m.flags|=2048,ec(9,{destroy:void 0},SE.bind(null,m,y,f,c),null),zt===null)throw Error(i(349));w||(ks&127)!==0||wE(m,c,f)}return f}function wE(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=We.updateQueue,c===null?(c=gh(),We.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function SE(o,c,f,m){c.value=f,c.getSnapshot=m,EE(c)&&CE(o)}function xE(o,c,f){return f(function(){EE(c)&&CE(o)})}function EE(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!zi(o,f)}catch{return!0}}function CE(o){var c=Ao(o,2);c!==null&&Ri(c,o,2)}function Jv(o){var c=gi();if(typeof o=="function"){var f=o;if(o=f(),Po){it(!0);try{f()}finally{it(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:o},c}function AE(o,c,f,m){return o.baseState=f,Xv(o,Pt,typeof m=="function"?m:Ns)}function CF(o,c,f,m,y){if(bh(o))throw Error(i(485));if(o=c.action,o!==null){var w={payload:y,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){w.listeners.push(R)}};L.T!==null?f(!0):w.isTransition=!1,m(w),f=c.pending,f===null?(w.next=c.pending=w,TE(c,w)):(w.next=f.next,c.pending=f.next=w)}}function TE(o,c){var f=c.action,m=c.payload,y=o.state;if(c.isTransition){var w=L.T,R={};L.T=R;try{var I=f(y,m),H=L.S;H!==null&&H(R,I),RE(o,c,I)}catch(te){ey(o,c,te)}finally{w!==null&&R.types!==null&&(w.types=R.types),L.T=w}}else try{w=f(y,m),RE(o,c,w)}catch(te){ey(o,c,te)}}function RE(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){DE(o,c,m)},function(m){return ey(o,c,m)}):DE(o,c,f)}function DE(o,c,f){c.status="fulfilled",c.value=f,OE(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,TE(o,f)))}function ey(o,c,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=f,OE(c),c=c.next;while(c!==m)}o.action=null}function OE(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function ME(o,c){return c}function kE(o,c){if(dt){var f=zt.formState;if(f!==null){e:{var m=We;if(dt){if(Yt){t:{for(var y=Yt,w=dr;y.nodeType!==8;){if(!w){y=null;break t}if(y=hr(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Yt=hr(y.nextSibling),m=y.data==="F!";break e}}ba(m)}m=!1}m&&(c=f[0])}}return f=gi(),f.memoizedState=f.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ME,lastRenderedState:c},f.queue=m,f=XE.bind(null,We,m),m.dispatch=f,m=Jv(!1),w=ay.bind(null,We,!1,m.queue),m=gi(),y={state:c,dispatch:null,action:o,pending:null},m.queue=y,f=CF.bind(null,We,y,w,f),y.dispatch=f,m.memoizedState=o,[c,f,!1]}function NE(o){var c=yn();return IE(c,Pt,o)}function IE(o,c,f){if(c=Xv(o,c,ME)[0],o=ph(Ns)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=zu(c)}catch(R){throw R===Kl?ah:R}else m=c;c=yn();var y=c.queue,w=y.dispatch;return f!==c.memoizedState&&(We.flags|=2048,ec(9,{destroy:void 0},AF.bind(null,y,f),null)),[m,w,o]}function AF(o,c){o.action=c}function PE(o){var c=yn(),f=Pt;if(f!==null)return IE(c,f,o);yn(),c=c.memoizedState,f=yn();var m=f.queue.dispatch;return f.memoizedState=o,[c,m,!1]}function ec(o,c,f,m){return o={tag:o,create:f,deps:m,inst:c,next:null},c=We.updateQueue,c===null&&(c=gh(),We.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,c.lastEffect=o),o}function jE(){return yn().memoizedState}function vh(o,c,f,m){var y=gi();We.flags|=o,y.memoizedState=ec(1|c,{destroy:void 0},f,m===void 0?null:m)}function yh(o,c,f,m){var y=yn();m=m===void 0?null:m;var w=y.memoizedState.inst;Pt!==null&&m!==null&&qv(m,Pt.memoizedState.deps)?y.memoizedState=ec(c,w,f,m):(We.flags|=o,y.memoizedState=ec(1|c,w,f,m))}function LE(o,c){vh(8390656,8,o,c)}function ty(o,c){yh(2048,8,o,c)}function TF(o){We.flags|=4;var c=We.updateQueue;if(c===null)c=gh(),We.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function FE(o){var c=yn().memoizedState;return TF({ref:c,nextImpl:o}),function(){if((Tt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function UE(o,c){return yh(4,2,o,c)}function zE(o,c){return yh(4,4,o,c)}function HE(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function BE(o,c,f){f=f!=null?f.concat([o]):null,yh(4,4,HE.bind(null,c,o),f)}function ny(){}function VE(o,c){var f=yn();c=c===void 0?null:c;var m=f.memoizedState;return c!==null&&qv(c,m[1])?m[0]:(f.memoizedState=[o,c],o)}function $E(o,c){var f=yn();c=c===void 0?null:c;var m=f.memoizedState;if(c!==null&&qv(c,m[1]))return m[0];if(m=o(),Po){it(!0);try{o()}finally{it(!1)}}return f.memoizedState=[m,c],m}function iy(o,c,f){return f===void 0||(ks&1073741824)!==0&&(at&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=qC(),We.lanes|=o,Ra|=o,f)}function qE(o,c,f,m){return zi(f,c)?f:Xl.current!==null?(o=iy(o,f,m),zi(o,c)||(Cn=!0),o):(ks&42)===0||(ks&1073741824)!==0&&(at&261930)===0?(Cn=!0,o.memoizedState=f):(o=qC(),We.lanes|=o,Ra|=o,c)}function GE(o,c,f,m,y){var w=q.p;q.p=w!==0&&8>w?w:8;var R=L.T,I={};L.T=I,ay(o,!1,c,f);try{var H=y(),te=L.S;if(te!==null&&te(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var de=SF(H,m);Hu(o,c,de,Gi(o))}else Hu(o,c,m,Gi(o))}catch(ge){Hu(o,c,{then:function(){},status:"rejected",reason:ge},Gi())}finally{q.p=w,R!==null&&I.types!==null&&(R.types=I.types),L.T=R}}function RF(){}function ry(o,c,f,m){if(o.tag!==5)throw Error(i(476));var y=WE(o).queue;GE(o,y,c,V,f===null?RF:function(){return YE(o),f(m)})}function WE(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:V},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function YE(o){var c=WE(o);c.next===null&&(c=o.alternate.memoizedState),Hu(o,c.next.queue,{},Gi())}function sy(){return Jn(rd)}function KE(){return yn().memoizedState}function QE(){return yn().memoizedState}function DF(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=Gi();o=Sa(f);var m=xa(c,o,f);m!==null&&(Ri(m,c,f),ju(m,c,f)),c={cache:Iv()},o.payload=c;return}c=c.return}}function OF(o,c,f){var m=Gi();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},bh(o)?ZE(c,f):(f=xv(o,c,f,m),f!==null&&(Ri(f,o,m),JE(f,c,m)))}function XE(o,c,f){var m=Gi();Hu(o,c,f,m)}function Hu(o,c,f,m){var y={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(bh(o))ZE(c,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var R=c.lastRenderedState,I=w(R,f);if(y.hasEagerState=!0,y.eagerState=I,zi(I,R))return Jf(o,c,y,0),zt===null&&Zf(),!1}catch{}finally{}if(f=xv(o,c,y,m),f!==null)return Ri(f,o,m),JE(f,c,m),!0}return!1}function ay(o,c,f,m){if(m={lane:2,revertLane:Fy(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},bh(o)){if(c)throw Error(i(479))}else c=xv(o,f,m,2),c!==null&&Ri(c,o,2)}function bh(o){var c=o.alternate;return o===We||c!==null&&c===We}function ZE(o,c){Zl=fh=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function JE(o,c,f){if((f&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Wt(o,f)}}var Bu={readContext:Jn,use:mh,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Bu.useEffectEvent=dn;var eC={readContext:Jn,use:mh,useCallback:function(o,c){return gi().memoizedState=[o,c===void 0?null:c],o},useContext:Jn,useEffect:LE,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,vh(4194308,4,HE.bind(null,c,o),f)},useLayoutEffect:function(o,c){return vh(4194308,4,o,c)},useInsertionEffect:function(o,c){vh(4,2,o,c)},useMemo:function(o,c){var f=gi();c=c===void 0?null:c;var m=o();if(Po){it(!0);try{o()}finally{it(!1)}}return f.memoizedState=[m,c],m},useReducer:function(o,c,f){var m=gi();if(f!==void 0){var y=f(c);if(Po){it(!0);try{f(c)}finally{it(!1)}}}else y=c;return m.memoizedState=m.baseState=y,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:y},m.queue=o,o=o.dispatch=OF.bind(null,We,o),[m.memoizedState,o]},useRef:function(o){var c=gi();return o={current:o},c.memoizedState=o},useState:function(o){o=Jv(o);var c=o.queue,f=XE.bind(null,We,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:ny,useDeferredValue:function(o,c){var f=gi();return iy(f,o,c)},useTransition:function(){var o=Jv(!1);return o=GE.bind(null,We,o.queue,!0,!1),gi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var m=We,y=gi();if(dt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=c(),zt===null)throw Error(i(349));(at&127)!==0||wE(m,c,f)}y.memoizedState=f;var w={value:f,getSnapshot:c};return y.queue=w,LE(xE.bind(null,m,w,o),[o]),m.flags|=2048,ec(9,{destroy:void 0},SE.bind(null,m,w,f,c),null),f},useId:function(){var o=gi(),c=zt.identifierPrefix;if(dt){var f=ns,m=ts;f=(m&~(1<<32-ze(m)-1)).toString(32)+f,c="_"+c+"R_"+f,f=hh++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=xF++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:sy,useFormState:kE,useActionState:kE,useOptimistic:function(o){var c=gi();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=ay.bind(null,We,!0,f),f.dispatch=c,[o,c]},useMemoCache:Qv,useCacheRefresh:function(){return gi().memoizedState=DF.bind(null,We)},useEffectEvent:function(o){var c=gi(),f={impl:o};return c.memoizedState=f,function(){if((Tt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},oy={readContext:Jn,use:mh,useCallback:VE,useContext:Jn,useEffect:ty,useImperativeHandle:BE,useInsertionEffect:UE,useLayoutEffect:zE,useMemo:$E,useReducer:ph,useRef:jE,useState:function(){return ph(Ns)},useDebugValue:ny,useDeferredValue:function(o,c){var f=yn();return qE(f,Pt.memoizedState,o,c)},useTransition:function(){var o=ph(Ns)[0],c=yn().memoizedState;return[typeof o=="boolean"?o:zu(o),c]},useSyncExternalStore:_E,useId:KE,useHostTransitionStatus:sy,useFormState:NE,useActionState:NE,useOptimistic:function(o,c){var f=yn();return AE(f,Pt,o,c)},useMemoCache:Qv,useCacheRefresh:QE};oy.useEffectEvent=FE;var tC={readContext:Jn,use:mh,useCallback:VE,useContext:Jn,useEffect:ty,useImperativeHandle:BE,useInsertionEffect:UE,useLayoutEffect:zE,useMemo:$E,useReducer:Zv,useRef:jE,useState:function(){return Zv(Ns)},useDebugValue:ny,useDeferredValue:function(o,c){var f=yn();return Pt===null?iy(f,o,c):qE(f,Pt.memoizedState,o,c)},useTransition:function(){var o=Zv(Ns)[0],c=yn().memoizedState;return[typeof o=="boolean"?o:zu(o),c]},useSyncExternalStore:_E,useId:KE,useHostTransitionStatus:sy,useFormState:PE,useActionState:PE,useOptimistic:function(o,c){var f=yn();return Pt!==null?AE(f,Pt,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Qv,useCacheRefresh:QE};tC.useEffectEvent=FE;function ly(o,c,f,m){c=o.memoizedState,f=f(m,c),f=f==null?c:g({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var cy={enqueueSetState:function(o,c,f){o=o._reactInternals;var m=Gi(),y=Sa(m);y.payload=c,f!=null&&(y.callback=f),c=xa(o,y,m),c!==null&&(Ri(c,o,m),ju(c,o,m))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var m=Gi(),y=Sa(m);y.tag=1,y.payload=c,f!=null&&(y.callback=f),c=xa(o,y,m),c!==null&&(Ri(c,o,m),ju(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Gi(),m=Sa(f);m.tag=2,c!=null&&(m.callback=c),c=xa(o,m,f),c!==null&&(Ri(c,o,f),ju(c,o,f))}};function nC(o,c,f,m,y,w,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,R):c.prototype&&c.prototype.isPureReactComponent?!Ru(f,m)||!Ru(y,w):!0}function iC(o,c,f,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,m),c.state!==o&&cy.enqueueReplaceState(c,c.state,null)}function jo(o,c){var f=c;if("ref"in c){f={};for(var m in c)m!=="ref"&&(f[m]=c[m])}if(o=o.defaultProps){f===c&&(f=g({},f));for(var y in o)f[y]===void 0&&(f[y]=o[y])}return f}function rC(o){Xf(o)}function sC(o){console.error(o)}function aC(o){Xf(o)}function _h(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function oC(o,c,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function uy(o,c,f){return f=Sa(f),f.tag=3,f.payload={element:null},f.callback=function(){_h(o,c)},f}function lC(o){return o=Sa(o),o.tag=3,o}function cC(o,c,f,m){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var w=m.value;o.payload=function(){return y(w)},o.callback=function(){oC(c,f,m)}}var R=f.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){oC(c,f,m),typeof y!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var I=m.stack;this.componentDidCatch(m.value,{componentStack:I!==null?I:""})})}function MF(o,c,f,m,y){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=f.alternate,c!==null&&Gl(c,f,y,!0),f=Bi.current,f!==null){switch(f.tag){case 31:case 13:return fr===null?kh():f.alternate===null&&fn===0&&(fn=3),f.flags&=-257,f.flags|=65536,f.lanes=y,m===oh?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([m]):c.add(m),Py(o,m,y)),!1;case 22:return f.flags|=65536,m===oh?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([m]):f.add(m)),Py(o,m,y)),!1}throw Error(i(435,f.tag))}return Py(o,m,y),kh(),!1}if(dt)return c=Bi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=y,m!==Dv&&(o=Error(i(422),{cause:m}),Mu(lr(o,f)))):(m!==Dv&&(c=Error(i(423),{cause:m}),Mu(lr(c,f))),o=o.current.alternate,o.flags|=65536,y&=-y,o.lanes|=y,m=lr(m,f),y=uy(o.stateNode,m,y),zv(o,y),fn!==4&&(fn=2)),!1;var w=Error(i(520),{cause:m});if(w=lr(w,f),Qu===null?Qu=[w]:Qu.push(w),fn!==4&&(fn=2),c===null)return!0;m=lr(m,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=y&-y,f.lanes|=o,o=uy(f.stateNode,m,o),zv(f,o),!1;case 1:if(c=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Da===null||!Da.has(w))))return f.flags|=65536,y&=-y,f.lanes|=y,y=lC(y),cC(y,o,f,m),zv(f,y),!1}f=f.return}while(f!==null);return!1}var dy=Error(i(461)),Cn=!1;function ei(o,c,f,m){c.child=o===null?hE(c,null,f,m):Io(c,o.child,f,m)}function uC(o,c,f,m,y){f=f.render;var w=c.ref;if("ref"in m){var R={};for(var I in m)I!=="ref"&&(R[I]=m[I])}else R=m;return Oo(c),m=Gv(o,c,f,R,w,y),I=Wv(),o!==null&&!Cn?(Yv(o,c,y),Is(o,c,y)):(dt&&I&&Tv(c),c.flags|=1,ei(o,c,m,y),c.child)}function dC(o,c,f,m,y){if(o===null){var w=f.type;return typeof w=="function"&&!Ev(w)&&w.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=w,fC(o,c,w,m,y)):(o=th(f.type,null,m,c,c.mode,y),o.ref=c.ref,o.return=c,c.child=o)}if(w=o.child,!by(o,y)){var R=w.memoizedProps;if(f=f.compare,f=f!==null?f:Ru,f(R,m)&&o.ref===c.ref)return Is(o,c,y)}return c.flags|=1,o=Rs(w,m),o.ref=c.ref,o.return=c,c.child=o}function fC(o,c,f,m,y){if(o!==null){var w=o.memoizedProps;if(Ru(w,m)&&o.ref===c.ref)if(Cn=!1,c.pendingProps=m=w,by(o,y))(o.flags&131072)!==0&&(Cn=!0);else return c.lanes=o.lanes,Is(o,c,y)}return fy(o,c,f,m,y)}function hC(o,c,f,m){var y=m.children,w=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(w=w!==null?w.baseLanes|f:f,o!==null){for(m=c.child=o.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~w}else m=0,c.child=null;return gC(o,c,w,f,m)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&sh(c,w!==null?w.cachePool:null),w!==null?pE(c,w):Bv(),vE(c);else return m=c.lanes=536870912,gC(o,c,w!==null?w.baseLanes|f:f,f,m)}else w!==null?(sh(c,w.cachePool),pE(c,w),Ca(),c.memoizedState=null):(o!==null&&sh(c,null),Bv(),Ca());return ei(o,c,y,f),c.child}function Vu(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function gC(o,c,f,m,y){var w=jv();return w=w===null?null:{parent:xn._currentValue,pool:w},c.memoizedState={baseLanes:f,cachePool:w},o!==null&&sh(c,null),Bv(),vE(c),o!==null&&Gl(o,c,m,!0),c.childLanes=y,null}function wh(o,c){return c=xh({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function mC(o,c,f){return Io(c,o.child,null,f),o=wh(c,c.pendingProps),o.flags|=2,Vi(c),c.memoizedState=null,o}function kF(o,c,f){var m=c.pendingProps,y=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(dt){if(m.mode==="hidden")return o=wh(c,m),c.lanes=536870912,Vu(null,o);if($v(c),(o=Yt)?(o=TA(o,dr),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:va!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},f=Zx(o),f.return=c,c.child=f,Zn=c,Yt=null)):o=null,o===null)throw ba(c);return c.lanes=536870912,null}return wh(c,m)}var w=o.memoizedState;if(w!==null){var R=w.dehydrated;if($v(c),y)if(c.flags&256)c.flags&=-257,c=mC(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(i(558));else if(Cn||Gl(o,c,f,!1),y=(f&o.childLanes)!==0,Cn||y){if(m=zt,m!==null&&(R=Jt(m,f),R!==0&&R!==w.retryLane))throw w.retryLane=R,Ao(o,R),Ri(m,o,R),dy;kh(),c=mC(o,c,f)}else o=w.treeContext,Yt=hr(R.nextSibling),Zn=c,dt=!0,ya=null,dr=!1,o!==null&&tE(c,o),c=wh(c,m),c.flags|=4096;return c}return o=Rs(o.child,{mode:m.mode,children:m.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Sh(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function fy(o,c,f,m,y){return Oo(c),f=Gv(o,c,f,m,void 0,y),m=Wv(),o!==null&&!Cn?(Yv(o,c,y),Is(o,c,y)):(dt&&m&&Tv(c),c.flags|=1,ei(o,c,f,y),c.child)}function pC(o,c,f,m,y,w){return Oo(c),c.updateQueue=null,f=bE(c,m,f,y),yE(o),m=Wv(),o!==null&&!Cn?(Yv(o,c,w),Is(o,c,w)):(dt&&m&&Tv(c),c.flags|=1,ei(o,c,f,w),c.child)}function vC(o,c,f,m,y){if(Oo(c),c.stateNode===null){var w=Bl,R=f.contextType;typeof R=="object"&&R!==null&&(w=Jn(R)),w=new f(m,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=cy,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=m,w.state=c.memoizedState,w.refs={},Fv(c),R=f.contextType,w.context=typeof R=="object"&&R!==null?Jn(R):Bl,w.state=c.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(ly(c,f,R,m),w.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(R=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),R!==w.state&&cy.enqueueReplaceState(w,w.state,null),Fu(c,m,w,y),Lu(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){w=c.stateNode;var I=c.memoizedProps,H=jo(f,I);w.props=H;var te=w.context,de=f.contextType;R=Bl,typeof de=="object"&&de!==null&&(R=Jn(de));var ge=f.getDerivedStateFromProps;de=typeof ge=="function"||typeof w.getSnapshotBeforeUpdate=="function",I=c.pendingProps!==I,de||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I||te!==R)&&iC(c,w,m,R),wa=!1;var re=c.memoizedState;w.state=re,Fu(c,m,w,y),Lu(),te=c.memoizedState,I||re!==te||wa?(typeof ge=="function"&&(ly(c,f,ge,m),te=c.memoizedState),(H=wa||nC(c,f,H,m,re,te,R))?(de||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=te),w.props=m,w.state=te,w.context=R,m=H):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{w=c.stateNode,Uv(o,c),R=c.memoizedProps,de=jo(f,R),w.props=de,ge=c.pendingProps,re=w.context,te=f.contextType,H=Bl,typeof te=="object"&&te!==null&&(H=Jn(te)),I=f.getDerivedStateFromProps,(te=typeof I=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==ge||re!==H)&&iC(c,w,m,H),wa=!1,re=c.memoizedState,w.state=re,Fu(c,m,w,y),Lu();var ae=c.memoizedState;R!==ge||re!==ae||wa||o!==null&&o.dependencies!==null&&ih(o.dependencies)?(typeof I=="function"&&(ly(c,f,I,m),ae=c.memoizedState),(de=wa||nC(c,f,de,m,re,ae,H)||o!==null&&o.dependencies!==null&&ih(o.dependencies))?(te||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ae,H),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ae,H)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===o.memoizedProps&&re===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&re===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ae),w.props=m,w.state=ae,w.context=H,m=de):(typeof w.componentDidUpdate!="function"||R===o.memoizedProps&&re===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&re===o.memoizedState||(c.flags|=1024),m=!1)}return w=m,Sh(o,c),m=(c.flags&128)!==0,w||m?(w=c.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,o!==null&&m?(c.child=Io(c,o.child,null,y),c.child=Io(c,null,f,y)):ei(o,c,f,y),c.memoizedState=w.state,o=c.child):o=Is(o,c,y),o}function yC(o,c,f,m){return Ro(),c.flags|=256,ei(o,c,f,m),c.child}var hy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gy(o){return{baseLanes:o,cachePool:oE()}}function my(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=qi),o}function bC(o,c,f){var m=c.pendingProps,y=!1,w=(c.flags&128)!==0,R;if((R=w)||(R=o!==null&&o.memoizedState===null?!1:(vn.current&2)!==0),R&&(y=!0,c.flags&=-129),R=(c.flags&32)!==0,c.flags&=-33,o===null){if(dt){if(y?Ea(c):Ca(),(o=Yt)?(o=TA(o,dr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:va!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},f=Zx(o),f.return=c,c.child=f,Zn=c,Yt=null)):o=null,o===null)throw ba(c);return Xy(o)?c.lanes=32:c.lanes=536870912,null}var I=m.children;return m=m.fallback,y?(Ca(),y=c.mode,I=xh({mode:"hidden",children:I},y),m=To(m,y,f,null),I.return=c,m.return=c,I.sibling=m,c.child=I,m=c.child,m.memoizedState=gy(f),m.childLanes=my(o,R,f),c.memoizedState=hy,Vu(null,m)):(Ea(c),py(c,I))}var H=o.memoizedState;if(H!==null&&(I=H.dehydrated,I!==null)){if(w)c.flags&256?(Ea(c),c.flags&=-257,c=vy(o,c,f)):c.memoizedState!==null?(Ca(),c.child=o.child,c.flags|=128,c=null):(Ca(),I=m.fallback,y=c.mode,m=xh({mode:"visible",children:m.children},y),I=To(I,y,f,null),I.flags|=2,m.return=c,I.return=c,m.sibling=I,c.child=m,Io(c,o.child,null,f),m=c.child,m.memoizedState=gy(f),m.childLanes=my(o,R,f),c.memoizedState=hy,c=Vu(null,m));else if(Ea(c),Xy(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var te=R.dgst;R=te,m=Error(i(419)),m.stack="",m.digest=R,Mu({value:m,source:null,stack:null}),c=vy(o,c,f)}else if(Cn||Gl(o,c,f,!1),R=(f&o.childLanes)!==0,Cn||R){if(R=zt,R!==null&&(m=Jt(R,f),m!==0&&m!==H.retryLane))throw H.retryLane=m,Ao(o,m),Ri(R,o,m),dy;Qy(I)||kh(),c=vy(o,c,f)}else Qy(I)?(c.flags|=192,c.child=o.child,c=null):(o=H.treeContext,Yt=hr(I.nextSibling),Zn=c,dt=!0,ya=null,dr=!1,o!==null&&tE(c,o),c=py(c,m.children),c.flags|=4096);return c}return y?(Ca(),I=m.fallback,y=c.mode,H=o.child,te=H.sibling,m=Rs(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,te!==null?I=Rs(te,I):(I=To(I,y,f,null),I.flags|=2),I.return=c,m.return=c,m.sibling=I,c.child=m,Vu(null,m),m=c.child,I=o.child.memoizedState,I===null?I=gy(f):(y=I.cachePool,y!==null?(H=xn._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=oE(),I={baseLanes:I.baseLanes|f,cachePool:y}),m.memoizedState=I,m.childLanes=my(o,R,f),c.memoizedState=hy,Vu(o.child,m)):(Ea(c),f=o.child,o=f.sibling,f=Rs(f,{mode:"visible",children:m.children}),f.return=c,f.sibling=null,o!==null&&(R=c.deletions,R===null?(c.deletions=[o],c.flags|=16):R.push(o)),c.child=f,c.memoizedState=null,f)}function py(o,c){return c=xh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function xh(o,c){return o=Hi(22,o,null,c),o.lanes=0,o}function vy(o,c,f){return Io(c,o.child,null,f),o=py(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function _C(o,c,f){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),kv(o.return,c,f)}function yy(o,c,f,m,y,w){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:y,treeForkCount:w}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=f,R.tailMode=y,R.treeForkCount=w)}function wC(o,c,f){var m=c.pendingProps,y=m.revealOrder,w=m.tail;m=m.children;var R=vn.current,I=(R&2)!==0;if(I?(R=R&1|2,c.flags|=128):R&=1,ee(vn,R),ei(o,c,m,f),m=dt?Ou:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&_C(o,f,c);else if(o.tag===19)_C(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(y){case"forwards":for(f=c.child,y=null;f!==null;)o=f.alternate,o!==null&&dh(o)===null&&(y=f),f=f.sibling;f=y,f===null?(y=c.child,c.child=null):(y=f.sibling,f.sibling=null),yy(c,!1,y,f,w,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,y=c.child,c.child=null;y!==null;){if(o=y.alternate,o!==null&&dh(o)===null){c.child=y;break}o=y.sibling,y.sibling=f,f=y,y=o}yy(c,!0,f,null,w,m);break;case"together":yy(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function Is(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),Ra|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(Gl(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,f=Rs(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Rs(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function by(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&ih(o)))}function NF(o,c,f){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),_a(c,xn,o.memoizedState.cache),Ro();break;case 27:case 5:Ge(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:_a(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,$v(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Ea(c),c.flags|=128,null):(f&c.child.childLanes)!==0?bC(o,c,f):(Ea(c),o=Is(o,c,f),o!==null?o.sibling:null);Ea(c);break;case 19:var y=(o.flags&128)!==0;if(m=(f&c.childLanes)!==0,m||(Gl(o,c,f,!1),m=(f&c.childLanes)!==0),y){if(m)return wC(o,c,f);c.flags|=128}if(y=c.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ee(vn,vn.current),m)break;return null;case 22:return c.lanes=0,hC(o,c,f,c.pendingProps);case 24:_a(c,xn,o.memoizedState.cache)}return Is(o,c,f)}function SC(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)Cn=!0;else{if(!by(o,f)&&(c.flags&128)===0)return Cn=!1,NF(o,c,f);Cn=(o.flags&131072)!==0}else Cn=!1,dt&&(c.flags&1048576)!==0&&eE(c,Ou,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(o=ko(c.elementType),c.type=o,typeof o=="function")Ev(o)?(m=jo(o,m),c.tag=1,c=vC(null,c,o,m,f)):(c.tag=0,c=fy(null,c,o,m,f));else{if(o!=null){var y=o.$$typeof;if(y===M){c.tag=11,c=uC(null,c,o,m,f);break e}else if(y===k){c.tag=14,c=dC(null,c,o,m,f);break e}}throw c=ce(o)||o,Error(i(306,c,""))}}return c;case 0:return fy(o,c,c.type,c.pendingProps,f);case 1:return m=c.type,y=jo(m,c.pendingProps),vC(o,c,m,y,f);case 3:e:{if(Se(c,c.stateNode.containerInfo),o===null)throw Error(i(387));m=c.pendingProps;var w=c.memoizedState;y=w.element,Uv(o,c),Fu(c,m,null,f);var R=c.memoizedState;if(m=R.cache,_a(c,xn,m),m!==w.cache&&Nv(c,[xn],f,!0),Lu(),m=R.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:R.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=yC(o,c,m,f);break e}else if(m!==y){y=lr(Error(i(424)),c),Mu(y),c=yC(o,c,m,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Yt=hr(o.firstChild),Zn=c,dt=!0,ya=null,dr=!0,f=hE(c,null,m,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ro(),m===y){c=Is(o,c,f);break e}ei(o,c,m,f)}c=c.child}return c;case 26:return Sh(o,c),o===null?(f=NA(c.type,null,c.pendingProps,null))?c.memoizedState=f:dt||(f=c.type,o=c.pendingProps,m=Uh(_e.current).createElement(f),m[Xn]=c,m[Si]=o,ti(m,f,o),Hn(m),c.stateNode=m):c.memoizedState=NA(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ge(c),o===null&&dt&&(m=c.stateNode=OA(c.type,c.pendingProps,_e.current),Zn=c,dr=!0,y=Yt,Na(c.type)?(Zy=y,Yt=hr(m.firstChild)):Yt=y),ei(o,c,c.pendingProps.children,f),Sh(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&dt&&((y=m=Yt)&&(m=cU(m,c.type,c.pendingProps,dr),m!==null?(c.stateNode=m,Zn=c,Yt=hr(m.firstChild),dr=!1,y=!0):y=!1),y||ba(c)),Ge(c),y=c.type,w=c.pendingProps,R=o!==null?o.memoizedProps:null,m=w.children,Wy(y,w)?m=null:R!==null&&Wy(y,R)&&(c.flags|=32),c.memoizedState!==null&&(y=Gv(o,c,EF,null,null,f),rd._currentValue=y),Sh(o,c),ei(o,c,m,f),c.child;case 6:return o===null&&dt&&((o=f=Yt)&&(f=uU(f,c.pendingProps,dr),f!==null?(c.stateNode=f,Zn=c,Yt=null,o=!0):o=!1),o||ba(c)),null;case 13:return bC(o,c,f);case 4:return Se(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=Io(c,null,m,f):ei(o,c,m,f),c.child;case 11:return uC(o,c,c.type,c.pendingProps,f);case 7:return ei(o,c,c.pendingProps,f),c.child;case 8:return ei(o,c,c.pendingProps.children,f),c.child;case 12:return ei(o,c,c.pendingProps.children,f),c.child;case 10:return m=c.pendingProps,_a(c,c.type,m.value),ei(o,c,m.children,f),c.child;case 9:return y=c.type._context,m=c.pendingProps.children,Oo(c),y=Jn(y),m=m(y),c.flags|=1,ei(o,c,m,f),c.child;case 14:return dC(o,c,c.type,c.pendingProps,f);case 15:return fC(o,c,c.type,c.pendingProps,f);case 19:return wC(o,c,f);case 31:return kF(o,c,f);case 22:return hC(o,c,f,c.pendingProps);case 24:return Oo(c),m=Jn(xn),o===null?(y=jv(),y===null&&(y=zt,w=Iv(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=f),y=w),c.memoizedState={parent:m,cache:y},Fv(c),_a(c,xn,y)):((o.lanes&f)!==0&&(Uv(o,c),Fu(c,null,null,f),Lu()),y=o.memoizedState,w=c.memoizedState,y.parent!==m?(y={parent:m,cache:m},c.memoizedState=y,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=y),_a(c,xn,m)):(m=w.cache,_a(c,xn,m),m!==y.cache&&Nv(c,[xn],f,!0))),ei(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Ps(o){o.flags|=4}function _y(o,c,f,m,y){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(y&335544128)===y)if(o.stateNode.complete)o.flags|=8192;else if(KC())o.flags|=8192;else throw No=oh,Lv}else o.flags&=-16777217}function xC(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!FA(c))if(KC())o.flags|=8192;else throw No=oh,Lv}function Eh(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?gt():536870912,o.lanes|=c,rc|=c)}function $u(o,c){if(!dt)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Kt(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(c)for(var y=o.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=f,c}function IF(o,c,f){var m=c.pendingProps;switch(Rv(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(c),null;case 1:return Kt(c),null;case 3:return f=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Ms(xn),je(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(ql(c)?Ps(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ov())),Kt(c),null;case 26:var y=c.type,w=c.memoizedState;return o===null?(Ps(c),w!==null?(Kt(c),xC(c,w)):(Kt(c),_y(c,y,null,m,f))):w?w!==o.memoizedState?(Ps(c),Kt(c),xC(c,w)):(Kt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==m&&Ps(c),Kt(c),_y(c,y,o,m,f)),null;case 27:if(Rt(c),f=_e.current,y=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Ps(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Kt(c),null}o=le.current,ql(c)?nE(c):(o=OA(y,m,f),c.stateNode=o,Ps(c))}return Kt(c),null;case 5:if(Rt(c),y=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Ps(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Kt(c),null}if(w=le.current,ql(c))nE(c);else{var R=Uh(_e.current);switch(w){case 1:w=R.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=R.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=R.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?R.createElement("select",{is:m.is}):R.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?R.createElement(y,{is:m.is}):R.createElement(y)}}w[Xn]=c,w[Si]=m;e:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)w.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break e;for(;R.sibling===null;){if(R.return===null||R.return===c)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=w;e:switch(ti(w,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ps(c)}}return Kt(c),_y(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&Ps(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(o=_e.current,ql(c)){if(o=c.stateNode,f=c.memoizedProps,m=null,y=Zn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}o[Xn]=c,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||bA(o.nodeValue,f)),o||ba(c,!0)}else o=Uh(o).createTextNode(m),o[Xn]=c,c.stateNode=o}return Kt(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(m=ql(c),f!==null){if(o===null){if(!m)throw Error(i(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[Xn]=c}else Ro(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kt(c),o=!1}else f=Ov(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Vi(c),c):(Vi(c),null);if((c.flags&128)!==0)throw Error(i(558))}return Kt(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(y=ql(c),m!==null&&m.dehydrated!==null){if(o===null){if(!y)throw Error(i(318));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Xn]=c}else Ro(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kt(c),y=!1}else y=Ov(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=y),y=!0;if(!y)return c.flags&256?(Vi(c),c):(Vi(c),null)}return Vi(c),(c.flags&128)!==0?(c.lanes=f,c):(f=m!==null,o=o!==null&&o.memoizedState!==null,f&&(m=c.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==y&&(m.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),Eh(c,c.updateQueue),Kt(c),null);case 4:return je(),o===null&&By(c.stateNode.containerInfo),Kt(c),null;case 10:return Ms(c.type),Kt(c),null;case 19:if(Z(vn),m=c.memoizedState,m===null)return Kt(c),null;if(y=(c.flags&128)!==0,w=m.rendering,w===null)if(y)$u(m,!1);else{if(fn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(w=dh(o),w!==null){for(c.flags|=128,$u(m,!1),o=w.updateQueue,c.updateQueue=o,Eh(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)Xx(f,o),f=f.sibling;return ee(vn,vn.current&1|2),dt&&Ds(c,m.treeForkCount),c.child}o=o.sibling}m.tail!==null&&ie()>Dh&&(c.flags|=128,y=!0,$u(m,!1),c.lanes=4194304)}else{if(!y)if(o=dh(w),o!==null){if(c.flags|=128,y=!0,o=o.updateQueue,c.updateQueue=o,Eh(c,o),$u(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!dt)return Kt(c),null}else 2*ie()-m.renderingStartTime>Dh&&f!==536870912&&(c.flags|=128,y=!0,$u(m,!1),c.lanes=4194304);m.isBackwards?(w.sibling=c.child,c.child=w):(o=m.last,o!==null?o.sibling=w:c.child=w,m.last=w)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=ie(),o.sibling=null,f=vn.current,ee(vn,y?f&1|2:f&1),dt&&Ds(c,m.treeForkCount),o):(Kt(c),null);case 22:case 23:return Vi(c),Vv(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(f&536870912)!==0&&(c.flags&128)===0&&(Kt(c),c.subtreeFlags&6&&(c.flags|=8192)):Kt(c),f=c.updateQueue,f!==null&&Eh(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048),o!==null&&Z(Mo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Ms(xn),Kt(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function PF(o,c){switch(Rv(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ms(xn),je(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Rt(c),null;case 31:if(c.memoizedState!==null){if(Vi(c),c.alternate===null)throw Error(i(340));Ro()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Vi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Ro()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Z(vn),null;case 4:return je(),null;case 10:return Ms(c.type),null;case 22:case 23:return Vi(c),Vv(),o!==null&&Z(Mo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ms(xn),null;case 25:return null;default:return null}}function EC(o,c){switch(Rv(c),c.tag){case 3:Ms(xn),je();break;case 26:case 27:case 5:Rt(c);break;case 4:je();break;case 31:c.memoizedState!==null&&Vi(c);break;case 13:Vi(c);break;case 19:Z(vn);break;case 10:Ms(c.type);break;case 22:case 23:Vi(c),Vv(),o!==null&&Z(Mo);break;case 24:Ms(xn)}}function qu(o,c){try{var f=c.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&o)===o){m=void 0;var w=f.create,R=f.inst;m=w(),R.destroy=m}f=f.next}while(f!==y)}}catch(I){Mt(c,c.return,I)}}function Aa(o,c,f){try{var m=c.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var w=y.next;m=w;do{if((m.tag&o)===o){var R=m.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,y=c;var H=f,te=I;try{te()}catch(de){Mt(y,H,de)}}}m=m.next}while(m!==w)}}catch(de){Mt(c,c.return,de)}}function CC(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{mE(c,f)}catch(m){Mt(o,o.return,m)}}}function AC(o,c,f){f.props=jo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){Mt(o,c,m)}}function Gu(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof f=="function"?o.refCleanup=f(m):f.current=m}}catch(y){Mt(o,c,y)}}function is(o,c){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(y){Mt(o,c,y)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){Mt(o,c,y)}else f.current=null}function TC(o){var c=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(y){Mt(o,o.return,y)}}function wy(o,c,f){try{var m=o.stateNode;iU(m,o.type,f,c),m[Si]=c}catch(y){Mt(o,o.return,y)}}function RC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Na(o.type)||o.tag===4}function Sy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||RC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Na(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xy(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=As));else if(m!==4&&(m===27&&Na(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(xy(o,c,f),o=o.sibling;o!==null;)xy(o,c,f),o=o.sibling}function Ch(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(m!==4&&(m===27&&Na(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Ch(o,c,f),o=o.sibling;o!==null;)Ch(o,c,f),o=o.sibling}function DC(o){var c=o.stateNode,f=o.memoizedProps;try{for(var m=o.type,y=c.attributes;y.length;)c.removeAttributeNode(y[0]);ti(c,m,f),c[Xn]=o,c[Si]=f}catch(w){Mt(o,o.return,w)}}var js=!1,An=!1,Ey=!1,OC=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function jF(o,c){if(o=o.containerInfo,qy=Gh,o=Bx(o),vv(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var R=0,I=-1,H=-1,te=0,de=0,ge=o,re=null;t:for(;;){for(var ae;ge!==f||y!==0&&ge.nodeType!==3||(I=R+y),ge!==w||m!==0&&ge.nodeType!==3||(H=R+m),ge.nodeType===3&&(R+=ge.nodeValue.length),(ae=ge.firstChild)!==null;)re=ge,ge=ae;for(;;){if(ge===o)break t;if(re===f&&++te===y&&(I=R),re===w&&++de===m&&(H=R),(ae=ge.nextSibling)!==null)break;ge=re,re=ge.parentNode}ge=ae}f=I===-1||H===-1?null:{start:I,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(Gy={focusedElem:o,selectionRange:f},Gh=!1,Bn=c;Bn!==null;)if(c=Bn,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Bn=o;else for(;Bn!==null;){switch(c=Bn,w=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)y=o[f],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,f=c,y=w.memoizedProps,w=w.memoizedState,m=f.stateNode;try{var Ce=jo(f.type,y);o=m.getSnapshotBeforeUpdate(Ce,w),m.__reactInternalSnapshotBeforeUpdate=o}catch(Le){Mt(f,f.return,Le)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)Ky(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Ky(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,Bn=o;break}Bn=c.return}}function MC(o,c,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Fs(o,f),m&4&&qu(5,f);break;case 1:if(Fs(o,f),m&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(R){Mt(f,f.return,R)}else{var y=jo(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(y,c,o.__reactInternalSnapshotBeforeUpdate)}catch(R){Mt(f,f.return,R)}}m&64&&CC(f),m&512&&Gu(f,f.return);break;case 3:if(Fs(o,f),m&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{mE(o,c)}catch(R){Mt(f,f.return,R)}}break;case 27:c===null&&m&4&&DC(f);case 26:case 5:Fs(o,f),c===null&&m&4&&TC(f),m&512&&Gu(f,f.return);break;case 12:Fs(o,f);break;case 31:Fs(o,f),m&4&&IC(o,f);break;case 13:Fs(o,f),m&4&&PC(o,f),m&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=qF.bind(null,f),dU(o,f))));break;case 22:if(m=f.memoizedState!==null||js,!m){c=c!==null&&c.memoizedState!==null||An,y=js;var w=An;js=m,(An=c)&&!w?Us(o,f,(f.subtreeFlags&8772)!==0):Fs(o,f),js=y,An=w}break;case 30:break;default:Fs(o,f)}}function kC(o){var c=o.alternate;c!==null&&(o.alternate=null,kC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ev(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var en=null,Ei=!1;function Ls(o,c,f){for(f=f.child;f!==null;)NC(o,c,f),f=f.sibling}function NC(o,c,f){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(nt,f)}catch{}switch(f.tag){case 26:An||is(f,c),Ls(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:An||is(f,c);var m=en,y=Ei;Na(f.type)&&(en=f.stateNode,Ei=!1),Ls(o,c,f),td(f.stateNode),en=m,Ei=y;break;case 5:An||is(f,c);case 6:if(m=en,y=Ei,en=null,Ls(o,c,f),en=m,Ei=y,en!==null)if(Ei)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(f.stateNode)}catch(w){Mt(f,c,w)}else try{en.removeChild(f.stateNode)}catch(w){Mt(f,c,w)}break;case 18:en!==null&&(Ei?(o=en,CA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),fc(o)):CA(en,f.stateNode));break;case 4:m=en,y=Ei,en=f.stateNode.containerInfo,Ei=!0,Ls(o,c,f),en=m,Ei=y;break;case 0:case 11:case 14:case 15:Aa(2,f,c),An||Aa(4,f,c),Ls(o,c,f);break;case 1:An||(is(f,c),m=f.stateNode,typeof m.componentWillUnmount=="function"&&AC(f,c,m)),Ls(o,c,f);break;case 21:Ls(o,c,f);break;case 22:An=(m=An)||f.memoizedState!==null,Ls(o,c,f),An=m;break;default:Ls(o,c,f)}}function IC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{fc(o)}catch(f){Mt(c,c.return,f)}}}function PC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{fc(o)}catch(f){Mt(c,c.return,f)}}function LF(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new OC),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new OC),c;default:throw Error(i(435,o.tag))}}function Ah(o,c){var f=LF(o);c.forEach(function(m){if(!f.has(m)){f.add(m);var y=GF.bind(null,o,m);m.then(y,y)}})}function Ci(o,c){var f=c.deletions;if(f!==null)for(var m=0;m<f.length;m++){var y=f[m],w=o,R=c,I=R;e:for(;I!==null;){switch(I.tag){case 27:if(Na(I.type)){en=I.stateNode,Ei=!1;break e}break;case 5:en=I.stateNode,Ei=!1;break e;case 3:case 4:en=I.stateNode.containerInfo,Ei=!0;break e}I=I.return}if(en===null)throw Error(i(160));NC(w,R,y),en=null,Ei=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)jC(c,o),c=c.sibling}var kr=null;function jC(o,c){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ci(c,o),Ai(o),m&4&&(Aa(3,o,o.return),qu(3,o),Aa(5,o,o.return));break;case 1:Ci(c,o),Ai(o),m&512&&(An||f===null||is(f,f.return)),m&64&&js&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var y=kr;if(Ci(c,o),Ai(o),m&512&&(An||f===null||is(f,f.return)),m&4){var w=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":w=y.getElementsByTagName("title")[0],(!w||w[bu]||w[Xn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(m),y.head.insertBefore(w,y.querySelector("head > title"))),ti(w,m,f),w[Xn]=o,Hn(w),m=w;break e;case"link":var R=jA("link","href",y).get(m+(f.href||""));if(R){for(var I=0;I<R.length;I++)if(w=R[I],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){R.splice(I,1);break t}}w=y.createElement(m),ti(w,m,f),y.head.appendChild(w);break;case"meta":if(R=jA("meta","content",y).get(m+(f.content||""))){for(I=0;I<R.length;I++)if(w=R[I],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){R.splice(I,1);break t}}w=y.createElement(m),ti(w,m,f),y.head.appendChild(w);break;default:throw Error(i(468,m))}w[Xn]=o,Hn(w),m=w}o.stateNode=m}else LA(y,o.type,o.stateNode);else o.stateNode=PA(y,m,o.memoizedProps);else w!==m?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,m===null?LA(y,o.type,o.stateNode):PA(y,m,o.memoizedProps)):m===null&&o.stateNode!==null&&wy(o,o.memoizedProps,f.memoizedProps)}break;case 27:Ci(c,o),Ai(o),m&512&&(An||f===null||is(f,f.return)),f!==null&&m&4&&wy(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Ci(c,o),Ai(o),m&512&&(An||f===null||is(f,f.return)),o.flags&32){y=o.stateNode;try{Pl(y,"")}catch(Ce){Mt(o,o.return,Ce)}}m&4&&o.stateNode!=null&&(y=o.memoizedProps,wy(o,y,f!==null?f.memoizedProps:y)),m&1024&&(Ey=!0);break;case 6:if(Ci(c,o),Ai(o),m&4){if(o.stateNode===null)throw Error(i(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Ce){Mt(o,o.return,Ce)}}break;case 3:if(Bh=null,y=kr,kr=zh(c.containerInfo),Ci(c,o),kr=y,Ai(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{fc(c.containerInfo)}catch(Ce){Mt(o,o.return,Ce)}Ey&&(Ey=!1,LC(o));break;case 4:m=kr,kr=zh(o.stateNode.containerInfo),Ci(c,o),Ai(o),kr=m;break;case 12:Ci(c,o),Ai(o);break;case 31:Ci(c,o),Ai(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Ah(o,m)));break;case 13:Ci(c,o),Ai(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Rh=ie()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Ah(o,m)));break;case 22:y=o.memoizedState!==null;var H=f!==null&&f.memoizedState!==null,te=js,de=An;if(js=te||y,An=de||H,Ci(c,o),An=de,js=te,Ai(o),m&8192)e:for(c=o.stateNode,c._visibility=y?c._visibility&-2:c._visibility|1,y&&(f===null||H||js||An||Lo(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){H=f=c;try{if(w=H.stateNode,y)R=w.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=H.stateNode;var ge=H.memoizedProps.style,re=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;I.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ce){Mt(H,H.return,Ce)}}}else if(c.tag===6){if(f===null){H=c;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(Ce){Mt(H,H.return,Ce)}}}else if(c.tag===18){if(f===null){H=c;try{var ae=H.stateNode;y?AA(ae,!0):AA(H.stateNode,!1)}catch(Ce){Mt(H,H.return,Ce)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,Ah(o,f))));break;case 19:Ci(c,o),Ai(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Ah(o,m)));break;case 30:break;case 21:break;default:Ci(c,o),Ai(o)}}function Ai(o){var c=o.flags;if(c&2){try{for(var f,m=o.return;m!==null;){if(RC(m)){f=m;break}m=m.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var y=f.stateNode,w=Sy(o);Ch(o,w,y);break;case 5:var R=f.stateNode;f.flags&32&&(Pl(R,""),f.flags&=-33);var I=Sy(o);Ch(o,I,R);break;case 3:case 4:var H=f.stateNode.containerInfo,te=Sy(o);xy(o,te,H);break;default:throw Error(i(161))}}catch(de){Mt(o,o.return,de)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function LC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;LC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Fs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)MC(o,c.alternate,c),c=c.sibling}function Lo(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Aa(4,c,c.return),Lo(c);break;case 1:is(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&AC(c,c.return,f),Lo(c);break;case 27:td(c.stateNode);case 26:case 5:is(c,c.return),Lo(c);break;case 22:c.memoizedState===null&&Lo(c);break;case 30:Lo(c);break;default:Lo(c)}o=o.sibling}}function Us(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,y=o,w=c,R=w.flags;switch(w.tag){case 0:case 11:case 15:Us(y,w,f),qu(4,w);break;case 1:if(Us(y,w,f),m=w,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(te){Mt(m,m.return,te)}if(m=w,y=m.updateQueue,y!==null){var I=m.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)gE(H[y],I)}catch(te){Mt(m,m.return,te)}}f&&R&64&&CC(w),Gu(w,w.return);break;case 27:DC(w);case 26:case 5:Us(y,w,f),f&&m===null&&R&4&&TC(w),Gu(w,w.return);break;case 12:Us(y,w,f);break;case 31:Us(y,w,f),f&&R&4&&IC(y,w);break;case 13:Us(y,w,f),f&&R&4&&PC(y,w);break;case 22:w.memoizedState===null&&Us(y,w,f),Gu(w,w.return);break;case 30:break;default:Us(y,w,f)}c=c.sibling}}function Cy(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&ku(f))}function Ay(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ku(o))}function Nr(o,c,f,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)FC(o,c,f,m),c=c.sibling}function FC(o,c,f,m){var y=c.flags;switch(c.tag){case 0:case 11:case 15:Nr(o,c,f,m),y&2048&&qu(9,c);break;case 1:Nr(o,c,f,m);break;case 3:Nr(o,c,f,m),y&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ku(o)));break;case 12:if(y&2048){Nr(o,c,f,m),o=c.stateNode;try{var w=c.memoizedProps,R=w.id,I=w.onPostCommit;typeof I=="function"&&I(R,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(H){Mt(c,c.return,H)}}else Nr(o,c,f,m);break;case 31:Nr(o,c,f,m);break;case 13:Nr(o,c,f,m);break;case 23:break;case 22:w=c.stateNode,R=c.alternate,c.memoizedState!==null?w._visibility&2?Nr(o,c,f,m):Wu(o,c):w._visibility&2?Nr(o,c,f,m):(w._visibility|=2,tc(o,c,f,m,(c.subtreeFlags&10256)!==0||!1)),y&2048&&Cy(R,c);break;case 24:Nr(o,c,f,m),y&2048&&Ay(c.alternate,c);break;default:Nr(o,c,f,m)}}function tc(o,c,f,m,y){for(y=y&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var w=o,R=c,I=f,H=m,te=R.flags;switch(R.tag){case 0:case 11:case 15:tc(w,R,I,H,y),qu(8,R);break;case 23:break;case 22:var de=R.stateNode;R.memoizedState!==null?de._visibility&2?tc(w,R,I,H,y):Wu(w,R):(de._visibility|=2,tc(w,R,I,H,y)),y&&te&2048&&Cy(R.alternate,R);break;case 24:tc(w,R,I,H,y),y&&te&2048&&Ay(R.alternate,R);break;default:tc(w,R,I,H,y)}c=c.sibling}}function Wu(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,m=c,y=m.flags;switch(m.tag){case 22:Wu(f,m),y&2048&&Cy(m.alternate,m);break;case 24:Wu(f,m),y&2048&&Ay(m.alternate,m);break;default:Wu(f,m)}c=c.sibling}}var Yu=8192;function nc(o,c,f){if(o.subtreeFlags&Yu)for(o=o.child;o!==null;)UC(o,c,f),o=o.sibling}function UC(o,c,f){switch(o.tag){case 26:nc(o,c,f),o.flags&Yu&&o.memoizedState!==null&&xU(f,kr,o.memoizedState,o.memoizedProps);break;case 5:nc(o,c,f);break;case 3:case 4:var m=kr;kr=zh(o.stateNode.containerInfo),nc(o,c,f),kr=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=Yu,Yu=16777216,nc(o,c,f),Yu=m):nc(o,c,f));break;default:nc(o,c,f)}}function zC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Ku(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];Bn=m,BC(m,o)}zC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)HC(o),o=o.sibling}function HC(o){switch(o.tag){case 0:case 11:case 15:Ku(o),o.flags&2048&&Aa(9,o,o.return);break;case 3:Ku(o);break;case 12:Ku(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Th(o)):Ku(o);break;default:Ku(o)}}function Th(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];Bn=m,BC(m,o)}zC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Aa(8,c,c.return),Th(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,Th(c));break;default:Th(c)}o=o.sibling}}function BC(o,c){for(;Bn!==null;){var f=Bn;switch(f.tag){case 0:case 11:case 15:Aa(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:ku(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Bn=m;else e:for(f=o;Bn!==null;){m=Bn;var y=m.sibling,w=m.return;if(kC(m),m===f){Bn=null;break e}if(y!==null){y.return=w,Bn=y;break e}Bn=w}}}var FF={getCacheForType:function(o){var c=Jn(xn),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return Jn(xn).controller.signal}},UF=typeof WeakMap=="function"?WeakMap:Map,Tt=0,zt=null,rt=null,at=0,Ot=0,$i=null,Ta=!1,ic=!1,Ty=!1,zs=0,fn=0,Ra=0,Fo=0,Ry=0,qi=0,rc=0,Qu=null,Ti=null,Dy=!1,Rh=0,VC=0,Dh=1/0,Oh=null,Da=null,kn=0,Oa=null,sc=null,Hs=0,Oy=0,My=null,$C=null,Xu=0,ky=null;function Gi(){return(Tt&2)!==0&&at!==0?at&-at:L.T!==null?Fy():ir()}function qC(){if(qi===0)if((at&536870912)===0||dt){var o=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),qi=o}else qi=536870912;return o=Bi.current,o!==null&&(o.flags|=32),qi}function Ri(o,c,f){(o===zt&&(Ot===2||Ot===9)||o.cancelPendingCommit!==null)&&(ac(o,0),Ma(o,at,qi,!1)),mt(o,f),((Tt&2)===0||o!==zt)&&(o===zt&&((Tt&2)===0&&(Fo|=f),fn===4&&Ma(o,at,qi,!1)),rs(o))}function GC(o,c,f){if((Tt&6)!==0)throw Error(i(327));var m=!f&&(c&127)===0&&(c&o.expiredLanes)===0||Be(o,c),y=m?BF(o,c):Iy(o,c,!0),w=m;do{if(y===0){ic&&!m&&Ma(o,c,0,!1);break}else{if(f=o.current.alternate,w&&!zF(f)){y=Iy(o,c,!1),w=!1;continue}if(y===2){if(w=c,o.errorRecoveryDisabledLanes&w)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){c=R;e:{var I=o;y=Qu;var H=I.current.memoizedState.isDehydrated;if(H&&(ac(I,R).flags|=256),R=Iy(I,R,!1),R!==2){if(Ty&&!H){I.errorRecoveryDisabledLanes|=w,Fo|=w,y=4;break e}w=Ti,Ti=y,w!==null&&(Ti===null?Ti=w:Ti.push.apply(Ti,w))}y=R}if(w=!1,y!==2)continue}}if(y===1){ac(o,0),Ma(o,c,0,!0);break}e:{switch(m=o,w=y,w){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Ma(m,c,qi,!Ta);break e;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(y=Rh+300-ie(),10<y)){if(Ma(m,c,qi,!Ta),Ee(m,0,!0)!==0)break e;Hs=c,m.timeoutHandle=xA(WC.bind(null,m,f,Ti,Oh,Dy,c,qi,Fo,rc,Ta,w,"Throttled",-0,0),y);break e}WC(m,f,Ti,Oh,Dy,c,qi,Fo,rc,Ta,w,null,-0,0)}}break}while(!0);rs(o)}function WC(o,c,f,m,y,w,R,I,H,te,de,ge,re,ae){if(o.timeoutHandle=-1,ge=c.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:As},UC(c,w,ge);var Ce=(w&62914560)===w?Rh-ie():(w&4194048)===w?VC-ie():0;if(Ce=EU(ge,Ce),Ce!==null){Hs=w,o.cancelPendingCommit=Ce(tA.bind(null,o,c,w,f,m,y,R,I,H,de,ge,null,re,ae)),Ma(o,w,R,!te);return}}tA(o,c,w,f,m,y,R,I,H)}function zF(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var y=f[m],w=y.getSnapshot;y=y.value;try{if(!zi(w(),y))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ma(o,c,f,m){c&=~Ry,c&=~Fo,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var y=c;0<y;){var w=31-ze(y),R=1<<w;m[w]=-1,y&=~R}f!==0&&Sn(o,f,c)}function Mh(){return(Tt&6)===0?(Zu(0),!1):!0}function Ny(){if(rt!==null){if(Ot===0)var o=rt.return;else o=rt,Os=Do=null,Kv(o),Ql=null,Iu=0,o=rt;for(;o!==null;)EC(o.alternate,o),o=o.return;rt=null}}function ac(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,aU(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Hs=0,Ny(),zt=o,rt=f=Rs(o.current,null),at=c,Ot=0,$i=null,Ta=!1,ic=Be(o,c),Ty=!1,rc=qi=Ry=Fo=Ra=fn=0,Ti=Qu=null,Dy=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var y=31-ze(m),w=1<<y;c|=o[y],m&=~w}return zs=c,Zf(),f}function YC(o,c){We=null,L.H=Bu,c===Kl||c===ah?(c=uE(),Ot=3):c===Lv?(c=uE(),Ot=4):Ot=c===dy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,$i=c,rt===null&&(fn=1,_h(o,lr(c,o.current)))}function KC(){var o=Bi.current;return o===null?!0:(at&4194048)===at?fr===null:(at&62914560)===at||(at&536870912)!==0?o===fr:!1}function QC(){var o=L.H;return L.H=Bu,o===null?Bu:o}function XC(){var o=L.A;return L.A=FF,o}function kh(){fn=4,Ta||(at&4194048)!==at&&Bi.current!==null||(ic=!0),(Ra&134217727)===0&&(Fo&134217727)===0||zt===null||Ma(zt,at,qi,!1)}function Iy(o,c,f){var m=Tt;Tt|=2;var y=QC(),w=XC();(zt!==o||at!==c)&&(Oh=null,ac(o,c)),c=!1;var R=fn;e:do try{if(Ot!==0&&rt!==null){var I=rt,H=$i;switch(Ot){case 8:Ny(),R=6;break e;case 3:case 2:case 9:case 6:Bi.current===null&&(c=!0);var te=Ot;if(Ot=0,$i=null,oc(o,I,H,te),f&&ic){R=0;break e}break;default:te=Ot,Ot=0,$i=null,oc(o,I,H,te)}}HF(),R=fn;break}catch(de){YC(o,de)}while(!0);return c&&o.shellSuspendCounter++,Os=Do=null,Tt=m,L.H=y,L.A=w,rt===null&&(zt=null,at=0,Zf()),R}function HF(){for(;rt!==null;)ZC(rt)}function BF(o,c){var f=Tt;Tt|=2;var m=QC(),y=XC();zt!==o||at!==c?(Oh=null,Dh=ie()+500,ac(o,c)):ic=Be(o,c);e:do try{if(Ot!==0&&rt!==null){c=rt;var w=$i;t:switch(Ot){case 1:Ot=0,$i=null,oc(o,c,w,1);break;case 2:case 9:if(lE(w)){Ot=0,$i=null,JC(c);break}c=function(){Ot!==2&&Ot!==9||zt!==o||(Ot=7),rs(o)},w.then(c,c);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:lE(w)?(Ot=0,$i=null,JC(c)):(Ot=0,$i=null,oc(o,c,w,7));break;case 5:var R=null;switch(rt.tag){case 26:R=rt.memoizedState;case 5:case 27:var I=rt;if(R?FA(R):I.stateNode.complete){Ot=0,$i=null;var H=I.sibling;if(H!==null)rt=H;else{var te=I.return;te!==null?(rt=te,Nh(te)):rt=null}break t}}Ot=0,$i=null,oc(o,c,w,5);break;case 6:Ot=0,$i=null,oc(o,c,w,6);break;case 8:Ny(),fn=6;break e;default:throw Error(i(462))}}VF();break}catch(de){YC(o,de)}while(!0);return Os=Do=null,L.H=m,L.A=y,Tt=f,rt!==null?0:(zt=null,at=0,Zf(),fn)}function VF(){for(;rt!==null&&!X();)ZC(rt)}function ZC(o){var c=SC(o.alternate,o,zs);o.memoizedProps=o.pendingProps,c===null?Nh(o):rt=c}function JC(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=pC(f,c,c.pendingProps,c.type,void 0,at);break;case 11:c=pC(f,c,c.pendingProps,c.type.render,c.ref,at);break;case 5:Kv(c);default:EC(f,c),c=rt=Xx(c,zs),c=SC(f,c,zs)}o.memoizedProps=o.pendingProps,c===null?Nh(o):rt=c}function oc(o,c,f,m){Os=Do=null,Kv(c),Ql=null,Iu=0;var y=c.return;try{if(MF(o,y,c,f,at)){fn=1,_h(o,lr(f,o.current)),rt=null;return}}catch(w){if(y!==null)throw rt=y,w;fn=1,_h(o,lr(f,o.current)),rt=null;return}c.flags&32768?(dt||m===1?o=!0:ic||(at&536870912)!==0?o=!1:(Ta=o=!0,(m===2||m===9||m===3||m===6)&&(m=Bi.current,m!==null&&m.tag===13&&(m.flags|=16384))),eA(c,o)):Nh(c)}function Nh(o){var c=o;do{if((c.flags&32768)!==0){eA(c,Ta);return}o=c.return;var f=IF(c.alternate,c,zs);if(f!==null){rt=f;return}if(c=c.sibling,c!==null){rt=c;return}rt=c=o}while(c!==null);fn===0&&(fn=5)}function eA(o,c){do{var f=PF(o.alternate,o);if(f!==null){f.flags&=32767,rt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){rt=o;return}rt=o=f}while(o!==null);fn=6,rt=null}function tA(o,c,f,m,y,w,R,I,H){o.cancelPendingCommit=null;do Ih();while(kn!==0);if((Tt&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(w=c.lanes|c.childLanes,w|=Sv,Qe(o,f,w,R,I,H),o===zt&&(rt=zt=null,at=0),sc=c,Oa=o,Hs=f,Oy=w,My=y,$C=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,WF(we,function(){return aA(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=L.T,L.T=null,y=q.p,q.p=2,R=Tt,Tt|=4;try{jF(o,c,f)}finally{Tt=R,q.p=y,L.T=m}}kn=1,nA(),iA(),rA()}}function nA(){if(kn===1){kn=0;var o=Oa,c=sc,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=L.T,L.T=null;var m=q.p;q.p=2;var y=Tt;Tt|=4;try{jC(c,o);var w=Gy,R=Bx(o.containerInfo),I=w.focusedElem,H=w.selectionRange;if(R!==I&&I&&I.ownerDocument&&Hx(I.ownerDocument.documentElement,I)){if(H!==null&&vv(I)){var te=H.start,de=H.end;if(de===void 0&&(de=te),"selectionStart"in I)I.selectionStart=te,I.selectionEnd=Math.min(de,I.value.length);else{var ge=I.ownerDocument||document,re=ge&&ge.defaultView||window;if(re.getSelection){var ae=re.getSelection(),Ce=I.textContent.length,Le=Math.min(H.start,Ce),Lt=H.end===void 0?Le:Math.min(H.end,Ce);!ae.extend&&Le>Lt&&(R=Lt,Lt=Le,Le=R);var Y=zx(I,Le),$=zx(I,Lt);if(Y&&$&&(ae.rangeCount!==1||ae.anchorNode!==Y.node||ae.anchorOffset!==Y.offset||ae.focusNode!==$.node||ae.focusOffset!==$.offset)){var J=ge.createRange();J.setStart(Y.node,Y.offset),ae.removeAllRanges(),Le>Lt?(ae.addRange(J),ae.extend($.node,$.offset)):(J.setEnd($.node,$.offset),ae.addRange(J))}}}}for(ge=[],ae=I;ae=ae.parentNode;)ae.nodeType===1&&ge.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ge.length;I++){var fe=ge[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Gh=!!qy,Gy=qy=null}finally{Tt=y,q.p=m,L.T=f}}o.current=c,kn=2}}function iA(){if(kn===2){kn=0;var o=Oa,c=sc,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=L.T,L.T=null;var m=q.p;q.p=2;var y=Tt;Tt|=4;try{MC(o,c.alternate,c)}finally{Tt=y,q.p=m,L.T=f}}kn=3}}function rA(){if(kn===4||kn===3){kn=0,K();var o=Oa,c=sc,f=Hs,m=$C;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?kn=5:(kn=0,sc=Oa=null,sA(o,o.pendingLanes));var y=o.pendingLanes;if(y===0&&(Da=null),Qn(f),c=c.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(nt,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=L.T,y=q.p,q.p=2,L.T=null;try{for(var w=o.onRecoverableError,R=0;R<m.length;R++){var I=m[R];w(I.value,{componentStack:I.stack})}}finally{L.T=c,q.p=y}}(Hs&3)!==0&&Ih(),rs(o),y=o.pendingLanes,(f&261930)!==0&&(y&42)!==0?o===ky?Xu++:(Xu=0,ky=o):Xu=0,Zu(0)}}function sA(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,ku(c)))}function Ih(){return nA(),iA(),rA(),aA()}function aA(){if(kn!==5)return!1;var o=Oa,c=Oy;Oy=0;var f=Qn(Hs),m=L.T,y=q.p;try{q.p=32>f?32:f,L.T=null,f=My,My=null;var w=Oa,R=Hs;if(kn=0,sc=Oa=null,Hs=0,(Tt&6)!==0)throw Error(i(331));var I=Tt;if(Tt|=4,HC(w.current),FC(w,w.current,R,f),Tt=I,Zu(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(nt,w)}catch{}return!0}finally{q.p=y,L.T=m,sA(o,c)}}function oA(o,c,f){c=lr(f,c),c=uy(o.stateNode,c,2),o=xa(o,c,2),o!==null&&(mt(o,2),rs(o))}function Mt(o,c,f){if(o.tag===3)oA(o,o,f);else for(;c!==null;){if(c.tag===3){oA(c,o,f);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Da===null||!Da.has(m))){o=lr(f,o),f=lC(2),m=xa(c,f,2),m!==null&&(cC(f,m,c,o),mt(m,2),rs(m));break}}c=c.return}}function Py(o,c,f){var m=o.pingCache;if(m===null){m=o.pingCache=new UF;var y=new Set;m.set(c,y)}else y=m.get(c),y===void 0&&(y=new Set,m.set(c,y));y.has(f)||(Ty=!0,y.add(f),o=$F.bind(null,o,c,f),c.then(o,o))}function $F(o,c,f){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,zt===o&&(at&f)===f&&(fn===4||fn===3&&(at&62914560)===at&&300>ie()-Rh?(Tt&2)===0&&ac(o,0):Ry|=f,rc===at&&(rc=0)),rs(o)}function lA(o,c){c===0&&(c=gt()),o=Ao(o,c),o!==null&&(mt(o,c),rs(o))}function qF(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),lA(o,f)}function GF(o,c){var f=0;switch(o.tag){case 31:case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(f=y.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),lA(o,f)}function WF(o,c){return j(o,c)}var Ph=null,lc=null,jy=!1,jh=!1,Ly=!1,ka=0;function rs(o){o!==lc&&o.next===null&&(lc===null?Ph=lc=o:lc=lc.next=o),jh=!0,jy||(jy=!0,KF())}function Zu(o,c){if(!Ly&&jh){Ly=!0;do for(var f=!1,m=Ph;m!==null;){if(o!==0){var y=m.pendingLanes;if(y===0)var w=0;else{var R=m.suspendedLanes,I=m.pingedLanes;w=(1<<31-ze(42|o)+1)-1,w&=y&~(R&~I),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,fA(m,w))}else w=at,w=Ee(m,m===zt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Be(m,w)||(f=!0,fA(m,w));m=m.next}while(f);Ly=!1}}function YF(){cA()}function cA(){jh=jy=!1;var o=0;ka!==0&&sU()&&(o=ka);for(var c=ie(),f=null,m=Ph;m!==null;){var y=m.next,w=uA(m,c);w===0?(m.next=null,f===null?Ph=y:f.next=y,y===null&&(lc=f)):(f=m,(o!==0||(w&3)!==0)&&(jh=!0)),m=y}kn!==0&&kn!==5||Zu(o),ka!==0&&(ka=0)}function uA(o,c){for(var f=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var R=31-ze(w),I=1<<R,H=y[R];H===-1?((I&f)===0||(I&m)!==0)&&(y[R]=ut(I,c)):H<=c&&(o.expiredLanes|=I),w&=~I}if(c=zt,f=at,f=Ee(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,f===0||o===c&&(Ot===2||Ot===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&W(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Be(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(m!==null&&W(m),Qn(f)){case 2:case 8:f=be;break;case 32:f=we;break;case 268435456:f=Ke;break;default:f=we}return m=dA.bind(null,o),f=j(f,m),o.callbackPriority=c,o.callbackNode=f,c}return m!==null&&m!==null&&W(m),o.callbackPriority=2,o.callbackNode=null,2}function dA(o,c){if(kn!==0&&kn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Ih()&&o.callbackNode!==f)return null;var m=at;return m=Ee(o,o===zt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(GC(o,m,c),uA(o,ie()),o.callbackNode!=null&&o.callbackNode===f?dA.bind(null,o):null)}function fA(o,c){if(Ih())return null;GC(o,c,!0)}function KF(){oU(function(){(Tt&6)!==0?j(ve,YF):cA()})}function Fy(){if(ka===0){var o=Wl;o===0&&(o=fi,fi<<=1,(fi&261888)===0&&(fi=256)),ka=o}return ka}function hA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:$f(""+o)}function gA(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function QF(o,c,f,m,y){if(c==="submit"&&f&&f.stateNode===y){var w=hA((y[Si]||null).action),R=m.submitter;R&&(c=(c=R[Si]||null)?hA(c.formAction):R.getAttribute("formAction"),c!==null&&(w=c,R=null));var I=new Yf("action","action",null,m,y);o.push({event:I,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ka!==0){var H=R?gA(y,R):new FormData(y);ry(f,{pending:!0,data:H,method:y.method,action:w},null,H)}}else typeof w=="function"&&(I.preventDefault(),H=R?gA(y,R):new FormData(y),ry(f,{pending:!0,data:H,method:y.method,action:w},w,H))},currentTarget:y}]})}}for(var Uy=0;Uy<wv.length;Uy++){var zy=wv[Uy],XF=zy.toLowerCase(),ZF=zy[0].toUpperCase()+zy.slice(1);Mr(XF,"on"+ZF)}Mr(qx,"onAnimationEnd"),Mr(Gx,"onAnimationIteration"),Mr(Wx,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(gF,"onTransitionRun"),Mr(mF,"onTransitionStart"),Mr(pF,"onTransitionCancel"),Mr(Yx,"onTransitionEnd"),Nl("onMouseEnter",["mouseout","mouseover"]),Nl("onMouseLeave",["mouseout","mouseover"]),Nl("onPointerEnter",["pointerout","pointerover"]),Nl("onPointerLeave",["pointerout","pointerover"]),So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),So("onBeforeInput",["compositionend","keypress","textInput","paste"]),So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function mA(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],y=m.event;m=m.listeners;e:{var w=void 0;if(c)for(var R=m.length-1;0<=R;R--){var I=m[R],H=I.instance,te=I.currentTarget;if(I=I.listener,H!==w&&y.isPropagationStopped())break e;w=I,y.currentTarget=te;try{w(y)}catch(de){Xf(de)}y.currentTarget=null,w=H}else for(R=0;R<m.length;R++){if(I=m[R],H=I.instance,te=I.currentTarget,I=I.listener,H!==w&&y.isPropagationStopped())break e;w=I,y.currentTarget=te;try{w(y)}catch(de){Xf(de)}y.currentTarget=null,w=H}}}}function st(o,c){var f=c[Jp];f===void 0&&(f=c[Jp]=new Set);var m=o+"__bubble";f.has(m)||(pA(c,o,2,!1),f.add(m))}function Hy(o,c,f){var m=0;c&&(m|=4),pA(f,o,m,c)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function By(o){if(!o[Lh]){o[Lh]=!0,cx.forEach(function(f){f!=="selectionchange"&&(JF.has(f)||Hy(f,!1,o),Hy(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Lh]||(c[Lh]=!0,Hy("selectionchange",!1,c))}}function pA(o,c,f,m){switch(qA(c)){case 2:var y=TU;break;case 8:y=RU;break;default:y=ib}f=y.bind(null,c,f,o),y=void 0,!lv||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(c,f,{capture:!0,passive:y}):o.addEventListener(c,f,!0):y!==void 0?o.addEventListener(c,f,{passive:y}):o.addEventListener(c,f,!1)}function Vy(o,c,f,m,y){var w=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var I=m.stateNode.containerInfo;if(I===y)break;if(R===4)for(R=m.return;R!==null;){var H=R.tag;if((H===3||H===4)&&R.stateNode.containerInfo===y)return;R=R.return}for(;I!==null;){if(R=Ol(I),R===null)return;if(H=R.tag,H===5||H===6||H===26||H===27){m=w=R;continue e}I=I.parentNode}}m=m.return}wx(function(){var te=w,de=av(f),ge=[];e:{var re=Kx.get(o);if(re!==void 0){var ae=Yf,Ce=o;switch(o){case"keypress":if(Gf(f)===0)break e;case"keydown":case"keyup":ae=GL;break;case"focusin":Ce="focus",ae=fv;break;case"focusout":Ce="blur",ae=fv;break;case"beforeblur":case"afterblur":ae=fv;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=IL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=KL;break;case qx:case Gx:case Wx:ae=LL;break;case Yx:ae=XL;break;case"scroll":case"scrollend":ae=kL;break;case"wheel":ae=JL;break;case"copy":case"cut":case"paste":ae=UL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ax;break;case"toggle":case"beforetoggle":ae=tF}var Le=(c&4)!==0,Lt=!Le&&(o==="scroll"||o==="scrollend"),Y=Le?re!==null?re+"Capture":null:re;Le=[];for(var $=te,J;$!==null;){var fe=$;if(J=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||J===null||Y===null||(fe=wu($,Y),fe!=null&&Le.push(ed($,fe,J))),Lt)break;$=$.return}0<Le.length&&(re=new ae(re,Ce,null,f,de),ge.push({event:re,listeners:Le}))}}if((c&7)===0){e:{if(re=o==="mouseover"||o==="pointerover",ae=o==="mouseout"||o==="pointerout",re&&f!==sv&&(Ce=f.relatedTarget||f.fromElement)&&(Ol(Ce)||Ce[Dl]))break e;if((ae||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(Ce=f.relatedTarget||f.toElement,ae=te,Ce=Ce?Ol(Ce):null,Ce!==null&&(Lt=s(Ce),Le=Ce.tag,Ce!==Lt||Le!==5&&Le!==27&&Le!==6)&&(Ce=null)):(ae=null,Ce=te),ae!==Ce)){if(Le=Ex,fe="onMouseLeave",Y="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(Le=Ax,fe="onPointerLeave",Y="onPointerEnter",$="pointer"),Lt=ae==null?re:_u(ae),J=Ce==null?re:_u(Ce),re=new Le(fe,$+"leave",ae,f,de),re.target=Lt,re.relatedTarget=J,fe=null,Ol(de)===te&&(Le=new Le(Y,$+"enter",Ce,f,de),Le.target=J,Le.relatedTarget=Lt,fe=Le),Lt=fe,ae&&Ce)t:{for(Le=eU,Y=ae,$=Ce,J=0,fe=Y;fe;fe=Le(fe))J++;fe=0;for(var ke=$;ke;ke=Le(ke))fe++;for(;0<J-fe;)Y=Le(Y),J--;for(;0<fe-J;)$=Le($),fe--;for(;J--;){if(Y===$||$!==null&&Y===$.alternate){Le=Y;break t}Y=Le(Y),$=Le($)}Le=null}else Le=null;ae!==null&&vA(ge,re,ae,Le,!1),Ce!==null&&Lt!==null&&vA(ge,Lt,Ce,Le,!0)}}e:{if(re=te?_u(te):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var xt=Ix;else if(kx(re))if(Px)xt=dF;else{xt=cF;var Re=lF}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&rv(te.elementType)&&(xt=Ix):xt=uF;if(xt&&(xt=xt(o,te))){Nx(ge,xt,f,de);break e}Re&&Re(o,re,te),o==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&iv(re,"number",re.value)}switch(Re=te?_u(te):window,o){case"focusin":(kx(Re)||Re.contentEditable==="true")&&(Ul=Re,yv=te,Du=null);break;case"focusout":Du=yv=Ul=null;break;case"mousedown":bv=!0;break;case"contextmenu":case"mouseup":case"dragend":bv=!1,Vx(ge,f,de);break;case"selectionchange":if(hF)break;case"keydown":case"keyup":Vx(ge,f,de)}var Xe;if(gv)e:{switch(o){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Fl?Ox(o,f)&&(ot="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(ot="onCompositionStart");ot&&(Tx&&f.locale!=="ko"&&(Fl||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Fl&&(Xe=Sx()):(pa=de,cv="value"in pa?pa.value:pa.textContent,Fl=!0)),Re=Fh(te,ot),0<Re.length&&(ot=new Cx(ot,o,null,f,de),ge.push({event:ot,listeners:Re}),Xe?ot.data=Xe:(Xe=Mx(f),Xe!==null&&(ot.data=Xe)))),(Xe=iF?rF(o,f):sF(o,f))&&(ot=Fh(te,"onBeforeInput"),0<ot.length&&(Re=new Cx("onBeforeInput","beforeinput",null,f,de),ge.push({event:Re,listeners:ot}),Re.data=Xe)),QF(ge,o,te,f,de)}mA(ge,c)})}function ed(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Fh(o,c){for(var f=c+"Capture",m=[];o!==null;){var y=o,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=wu(o,f),y!=null&&m.unshift(ed(o,y,w)),y=wu(o,c),y!=null&&m.push(ed(o,y,w))),o.tag===3)return m;o=o.return}return[]}function eU(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function vA(o,c,f,m,y){for(var w=c._reactName,R=[];f!==null&&f!==m;){var I=f,H=I.alternate,te=I.stateNode;if(I=I.tag,H!==null&&H===m)break;I!==5&&I!==26&&I!==27||te===null||(H=te,y?(te=wu(f,w),te!=null&&R.unshift(ed(f,te,H))):y||(te=wu(f,w),te!=null&&R.push(ed(f,te,H)))),f=f.return}R.length!==0&&o.push({event:c,listeners:R})}var tU=/\r\n?/g,nU=/\u0000|\uFFFD/g;function yA(o){return(typeof o=="string"?o:""+o).replace(tU,`
`).replace(nU,"")}function bA(o,c){return c=yA(c),yA(o)===c}function jt(o,c,f,m,y,w){switch(f){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Pl(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Pl(o,""+m);break;case"className":Bf(o,"class",m);break;case"tabIndex":Bf(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Bf(o,f,m);break;case"style":bx(o,m,w);break;case"data":if(c!=="object"){Bf(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=$f(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(c!=="input"&&jt(o,c,"name",y.name,y,null),jt(o,c,"formEncType",y.formEncType,y,null),jt(o,c,"formMethod",y.formMethod,y,null),jt(o,c,"formTarget",y.formTarget,y,null)):(jt(o,c,"encType",y.encType,y,null),jt(o,c,"method",y.method,y,null),jt(o,c,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=$f(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=As);break;case"onScroll":m!=null&&st("scroll",o);break;case"onScrollEnd":m!=null&&st("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(y.children!=null)throw Error(i(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=$f(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":st("beforetoggle",o),st("toggle",o),Hf(o,"popover",m);break;case"xlinkActuate":Cs(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Cs(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Cs(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Cs(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Cs(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Cs(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Cs(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Cs(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Cs(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Hf(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=OL.get(f)||f,Hf(o,f,m))}}function $y(o,c,f,m,y,w){switch(f){case"style":bx(o,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(y.children!=null)throw Error(i(60));o.innerHTML=f}}break;case"children":typeof m=="string"?Pl(o,m):(typeof m=="number"||typeof m=="bigint")&&Pl(o,""+m);break;case"onScroll":m!=null&&st("scroll",o);break;case"onScrollEnd":m!=null&&st("scrollend",o);break;case"onClick":m!=null&&(o.onclick=As);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ux.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),c=f.slice(2,y?f.length-7:void 0),w=o[Si]||null,w=w!=null?w[f]:null,typeof w=="function"&&o.removeEventListener(c,w,y),typeof m=="function")){typeof w!="function"&&w!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,m,y);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):Hf(o,f,m)}}}function ti(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",o),st("load",o);var m=!1,y=!1,w;for(w in f)if(f.hasOwnProperty(w)){var R=f[w];if(R!=null)switch(w){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:jt(o,c,w,R,f,null)}}y&&jt(o,c,"srcSet",f.srcSet,f,null),m&&jt(o,c,"src",f.src,f,null);return;case"input":st("invalid",o);var I=w=R=y=null,H=null,te=null;for(m in f)if(f.hasOwnProperty(m)){var de=f[m];if(de!=null)switch(m){case"name":y=de;break;case"type":R=de;break;case"checked":H=de;break;case"defaultChecked":te=de;break;case"value":w=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,c));break;default:jt(o,c,m,de,f,null)}}mx(o,w,I,H,te,R,y,!1);return;case"select":st("invalid",o),m=R=w=null;for(y in f)if(f.hasOwnProperty(y)&&(I=f[y],I!=null))switch(y){case"value":w=I;break;case"defaultValue":R=I;break;case"multiple":m=I;default:jt(o,c,y,I,f,null)}c=w,f=R,o.multiple=!!m,c!=null?Il(o,!!m,c,!1):f!=null&&Il(o,!!m,f,!0);return;case"textarea":st("invalid",o),w=y=m=null;for(R in f)if(f.hasOwnProperty(R)&&(I=f[R],I!=null))switch(R){case"value":m=I;break;case"defaultValue":y=I;break;case"children":w=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:jt(o,c,R,I,f,null)}vx(o,m,y,w);return;case"option":for(H in f)if(f.hasOwnProperty(H)&&(m=f[H],m!=null))switch(H){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:jt(o,c,H,m,f,null)}return;case"dialog":st("beforetoggle",o),st("toggle",o),st("cancel",o),st("close",o);break;case"iframe":case"object":st("load",o);break;case"video":case"audio":for(m=0;m<Ju.length;m++)st(Ju[m],o);break;case"image":st("error",o),st("load",o);break;case"details":st("toggle",o);break;case"embed":case"source":case"link":st("error",o),st("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in f)if(f.hasOwnProperty(te)&&(m=f[te],m!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:jt(o,c,te,m,f,null)}return;default:if(rv(c)){for(de in f)f.hasOwnProperty(de)&&(m=f[de],m!==void 0&&$y(o,c,de,m,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(m=f[I],m!=null&&jt(o,c,I,m,f,null))}function iU(o,c,f,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,R=null,I=null,H=null,te=null,de=null;for(ae in f){var ge=f[ae];if(f.hasOwnProperty(ae)&&ge!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":H=ge;default:m.hasOwnProperty(ae)||jt(o,c,ae,null,m,ge)}}for(var re in m){var ae=m[re];if(ge=f[re],m.hasOwnProperty(re)&&(ae!=null||ge!=null))switch(re){case"type":w=ae;break;case"name":y=ae;break;case"checked":te=ae;break;case"defaultChecked":de=ae;break;case"value":R=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,c));break;default:ae!==ge&&jt(o,c,re,ae,m,ge)}}nv(o,R,I,H,te,de,w,y);return;case"select":ae=R=I=re=null;for(w in f)if(H=f[w],f.hasOwnProperty(w)&&H!=null)switch(w){case"value":break;case"multiple":ae=H;default:m.hasOwnProperty(w)||jt(o,c,w,null,m,H)}for(y in m)if(w=m[y],H=f[y],m.hasOwnProperty(y)&&(w!=null||H!=null))switch(y){case"value":re=w;break;case"defaultValue":I=w;break;case"multiple":R=w;default:w!==H&&jt(o,c,y,w,m,H)}c=I,f=R,m=ae,re!=null?Il(o,!!f,re,!1):!!m!=!!f&&(c!=null?Il(o,!!f,c,!0):Il(o,!!f,f?[]:"",!1));return;case"textarea":ae=re=null;for(I in f)if(y=f[I],f.hasOwnProperty(I)&&y!=null&&!m.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:jt(o,c,I,null,m,y)}for(R in m)if(y=m[R],w=f[R],m.hasOwnProperty(R)&&(y!=null||w!=null))switch(R){case"value":re=y;break;case"defaultValue":ae=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==w&&jt(o,c,R,y,m,w)}px(o,re,ae);return;case"option":for(var Ce in f)if(re=f[Ce],f.hasOwnProperty(Ce)&&re!=null&&!m.hasOwnProperty(Ce))switch(Ce){case"selected":o.selected=!1;break;default:jt(o,c,Ce,null,m,re)}for(H in m)if(re=m[H],ae=f[H],m.hasOwnProperty(H)&&re!==ae&&(re!=null||ae!=null))switch(H){case"selected":o.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:jt(o,c,H,re,m,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in f)re=f[Le],f.hasOwnProperty(Le)&&re!=null&&!m.hasOwnProperty(Le)&&jt(o,c,Le,null,m,re);for(te in m)if(re=m[te],ae=f[te],m.hasOwnProperty(te)&&re!==ae&&(re!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,c));break;default:jt(o,c,te,re,m,ae)}return;default:if(rv(c)){for(var Lt in f)re=f[Lt],f.hasOwnProperty(Lt)&&re!==void 0&&!m.hasOwnProperty(Lt)&&$y(o,c,Lt,void 0,m,re);for(de in m)re=m[de],ae=f[de],!m.hasOwnProperty(de)||re===ae||re===void 0&&ae===void 0||$y(o,c,de,re,m,ae);return}}for(var Y in f)re=f[Y],f.hasOwnProperty(Y)&&re!=null&&!m.hasOwnProperty(Y)&&jt(o,c,Y,null,m,re);for(ge in m)re=m[ge],ae=f[ge],!m.hasOwnProperty(ge)||re===ae||re==null&&ae==null||jt(o,c,ge,re,m,ae)}function _A(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rU(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var y=f[m],w=y.transferSize,R=y.initiatorType,I=y.duration;if(w&&I&&_A(R)){for(R=0,I=y.responseEnd,m+=1;m<f.length;m++){var H=f[m],te=H.startTime;if(te>I)break;var de=H.transferSize,ge=H.initiatorType;de&&_A(ge)&&(H=H.responseEnd,R+=de*(H<I?1:(I-te)/(H-te)))}if(--m,c+=8*(w+R)/(y.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var qy=null,Gy=null;function Uh(o){return o.nodeType===9?o:o.ownerDocument}function wA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SA(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Wy(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Yy=null;function sU(){var o=window.event;return o&&o.type==="popstate"?o===Yy?!1:(Yy=o,!0):(Yy=null,!1)}var xA=typeof setTimeout=="function"?setTimeout:void 0,aU=typeof clearTimeout=="function"?clearTimeout:void 0,EA=typeof Promise=="function"?Promise:void 0,oU=typeof queueMicrotask=="function"?queueMicrotask:typeof EA<"u"?function(o){return EA.resolve(null).then(o).catch(lU)}:xA;function lU(o){setTimeout(function(){throw o})}function Na(o){return o==="head"}function CA(o,c){var f=c,m=0;do{var y=f.nextSibling;if(o.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"||f==="/&"){if(m===0){o.removeChild(y),fc(c);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")td(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,td(f);for(var w=f.firstChild;w;){var R=w.nextSibling,I=w.nodeName;w[bu]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=R}}else f==="body"&&td(o.ownerDocument.body);f=y}while(f);fc(c)}function AA(o,c){var f=o;o=0;do{var m=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=m}while(f)}function Ky(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Ky(f),ev(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function cU(o,c,f,m){for(;o.nodeType===1;){var y=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[bu])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==y.rel||o.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||o.getAttribute("title")!==(y.title==null?null:y.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(y.src==null?null:y.src)||o.getAttribute("type")!==(y.type==null?null:y.type)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=hr(o.nextSibling),o===null)break}return null}function uU(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=hr(o.nextSibling),o===null))return null;return o}function TA(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=hr(o.nextSibling),o===null))return null;return o}function Qy(o){return o.data==="$?"||o.data==="$~"}function Xy(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function dU(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var m=function(){c(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function hr(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Zy=null;function RA(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return hr(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function DA(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function OA(o,c,f){switch(c=Uh(f),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function td(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ev(o)}var gr=new Map,MA=new Set;function zh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Bs=q.d;q.d={f:fU,r:hU,D:gU,C:mU,L:pU,m:vU,X:bU,S:yU,M:_U};function fU(){var o=Bs.f(),c=Mh();return o||c}function hU(o){var c=Ml(o);c!==null&&c.tag===5&&c.type==="form"?YE(c):Bs.r(o)}var cc=typeof document>"u"?null:document;function kA(o,c,f){var m=cc;if(m&&typeof c=="string"&&c){var y=ar(c);y='link[rel="'+o+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),MA.has(y)||(MA.add(y),o={rel:o,crossOrigin:f,href:c},m.querySelector(y)===null&&(c=m.createElement("link"),ti(c,"link",o),Hn(c),m.head.appendChild(c)))}}function gU(o){Bs.D(o),kA("dns-prefetch",o,null)}function mU(o,c){Bs.C(o,c),kA("preconnect",o,c)}function pU(o,c,f){Bs.L(o,c,f);var m=cc;if(m&&o&&c){var y='link[rel="preload"][as="'+ar(c)+'"]';c==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+ar(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+ar(f.imageSizes)+'"]')):y+='[href="'+ar(o)+'"]';var w=y;switch(c){case"style":w=uc(o);break;case"script":w=dc(o)}gr.has(w)||(o=g({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),gr.set(w,o),m.querySelector(y)!==null||c==="style"&&m.querySelector(nd(w))||c==="script"&&m.querySelector(id(w))||(c=m.createElement("link"),ti(c,"link",o),Hn(c),m.head.appendChild(c)))}}function vU(o,c){Bs.m(o,c);var f=cc;if(f&&o){var m=c&&typeof c.as=="string"?c.as:"script",y='link[rel="modulepreload"][as="'+ar(m)+'"][href="'+ar(o)+'"]',w=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=dc(o)}if(!gr.has(w)&&(o=g({rel:"modulepreload",href:o},c),gr.set(w,o),f.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(id(w)))return}m=f.createElement("link"),ti(m,"link",o),Hn(m),f.head.appendChild(m)}}}function yU(o,c,f){Bs.S(o,c,f);var m=cc;if(m&&o){var y=kl(m).hoistableStyles,w=uc(o);c=c||"default";var R=y.get(w);if(!R){var I={loading:0,preload:null};if(R=m.querySelector(nd(w)))I.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},f),(f=gr.get(w))&&Jy(o,f);var H=R=m.createElement("link");Hn(H),ti(H,"link",o),H._p=new Promise(function(te,de){H.onload=te,H.onerror=de}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Hh(R,c,m)}R={type:"stylesheet",instance:R,count:1,state:I},y.set(w,R)}}}function bU(o,c){Bs.X(o,c);var f=cc;if(f&&o){var m=kl(f).hoistableScripts,y=dc(o),w=m.get(y);w||(w=f.querySelector(id(y)),w||(o=g({src:o,async:!0},c),(c=gr.get(y))&&eb(o,c),w=f.createElement("script"),Hn(w),ti(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function _U(o,c){Bs.M(o,c);var f=cc;if(f&&o){var m=kl(f).hoistableScripts,y=dc(o),w=m.get(y);w||(w=f.querySelector(id(y)),w||(o=g({src:o,async:!0,type:"module"},c),(c=gr.get(y))&&eb(o,c),w=f.createElement("script"),Hn(w),ti(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function NA(o,c,f,m){var y=(y=_e.current)?zh(y):null;if(!y)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=uc(f.href),f=kl(y).hoistableStyles,m=f.get(c),m||(m={type:"style",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=uc(f.href);var w=kl(y).hoistableStyles,R=w.get(o);if(R||(y=y.ownerDocument||y,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,R),(w=y.querySelector(nd(o)))&&!w._p&&(R.instance=w,R.state.loading=5),gr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},gr.set(o,f),w||wU(y,o,f,R.state))),c&&m===null)throw Error(i(528,""));return R}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=dc(f),f=kl(y).hoistableScripts,m=f.get(c),m||(m={type:"script",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function uc(o){return'href="'+ar(o)+'"'}function nd(o){return'link[rel="stylesheet"]['+o+"]"}function IA(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function wU(o,c,f,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),ti(c,"link",f),Hn(c),o.head.appendChild(c))}function dc(o){return'[src="'+ar(o)+'"]'}function id(o){return"script[async]"+o}function PA(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+ar(f.href)+'"]');if(m)return c.instance=m,Hn(m),m;var y=g({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Hn(m),ti(m,"style",y),Hh(m,f.precedence,o),c.instance=m;case"stylesheet":y=uc(f.href);var w=o.querySelector(nd(y));if(w)return c.state.loading|=4,c.instance=w,Hn(w),w;m=IA(f),(y=gr.get(y))&&Jy(m,y),w=(o.ownerDocument||o).createElement("link"),Hn(w);var R=w;return R._p=new Promise(function(I,H){R.onload=I,R.onerror=H}),ti(w,"link",m),c.state.loading|=4,Hh(w,f.precedence,o),c.instance=w;case"script":return w=dc(f.src),(y=o.querySelector(id(w)))?(c.instance=y,Hn(y),y):(m=f,(y=gr.get(w))&&(m=g({},f),eb(m,y)),o=o.ownerDocument||o,y=o.createElement("script"),Hn(y),ti(y,"link",m),o.head.appendChild(y),c.instance=y);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,Hh(m,f.precedence,o));return c.instance}function Hh(o,c,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,w=y,R=0;R<m.length;R++){var I=m[R];if(I.dataset.precedence===c)w=I;else if(w!==y)break}w?w.parentNode.insertBefore(o,w.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function Jy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function eb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Bh=null;function jA(o,c,f){if(Bh===null){var m=new Map,y=Bh=new Map;y.set(f,m)}else y=Bh,m=y.get(f),m||(m=new Map,y.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),y=0;y<f.length;y++){var w=f[y];if(!(w[bu]||w[Xn]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var R=w.getAttribute(c)||"";R=o+R;var I=m.get(R);I?I.push(w):m.set(R,[w])}}return m}function LA(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function SU(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function FA(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function xU(o,c,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var y=uc(m.href),w=c.querySelector(nd(y));if(w){c=w._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Vh.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=w,Hn(w);return}w=c.ownerDocument||c,m=IA(m),(y=gr.get(y))&&Jy(m,y),w=w.createElement("link"),Hn(w);var R=w;R._p=new Promise(function(I,H){R.onload=I,R.onerror=H}),ti(w,"link",m),f.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Vh.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var tb=0;function EU(o,c){return o.stylesheets&&o.count===0&&qh(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var m=setTimeout(function(){if(o.stylesheets&&qh(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+c);0<o.imgBytes&&tb===0&&(tb=62500*rU());var y=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&qh(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>tb?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function Vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var $h=null;function qh(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,$h=new Map,c.forEach(CU,o),$h=null,Vh.call(o))}function CU(o,c){if(!(c.state.loading&4)){var f=$h.get(o);if(f)var m=f.get(null);else{f=new Map,$h.set(o,f);for(var y=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var R=y[w];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(f.set(R.dataset.precedence,R),m=R)}m&&f.set(null,m)}y=c.instance,R=y.getAttribute("data-precedence"),w=f.get(R)||m,w===m&&f.set(null,y),f.set(R,y),this.count++,m=Vh.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),w?w.parentNode.insertBefore(y,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(y,o.firstChild)),c.state.loading|=4}}var rd={$$typeof:T,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function AU(o,c,f,m,y,w,R,I,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=un(0),this.hiddenUpdates=un(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function UA(o,c,f,m,y,w,R,I,H,te,de,ge){return o=new AU(o,c,f,R,H,te,de,ge,I),c=1,w===!0&&(c|=24),w=Hi(3,null,null,c),o.current=w,w.stateNode=o,c=Iv(),c.refCount++,o.pooledCache=c,c.refCount++,w.memoizedState={element:m,isDehydrated:f,cache:c},Fv(w),o}function zA(o){return o?(o=Bl,o):Bl}function HA(o,c,f,m,y,w){y=zA(y),m.context===null?m.context=y:m.pendingContext=y,m=Sa(c),m.payload={element:f},w=w===void 0?null:w,w!==null&&(m.callback=w),f=xa(o,m,c),f!==null&&(Ri(f,o,c),ju(f,o,c))}function BA(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function nb(o,c){BA(o,c),(o=o.alternate)&&BA(o,c)}function VA(o){if(o.tag===13||o.tag===31){var c=Ao(o,67108864);c!==null&&Ri(c,o,67108864),nb(o,67108864)}}function $A(o){if(o.tag===13||o.tag===31){var c=Gi();c=nr(c);var f=Ao(o,c);f!==null&&Ri(f,o,c),nb(o,c)}}var Gh=!0;function TU(o,c,f,m){var y=L.T;L.T=null;var w=q.p;try{q.p=2,ib(o,c,f,m)}finally{q.p=w,L.T=y}}function RU(o,c,f,m){var y=L.T;L.T=null;var w=q.p;try{q.p=8,ib(o,c,f,m)}finally{q.p=w,L.T=y}}function ib(o,c,f,m){if(Gh){var y=rb(m);if(y===null)Vy(o,c,m,Wh,f),GA(o,m);else if(OU(y,o,c,f,m))m.stopPropagation();else if(GA(o,m),c&4&&-1<DU.indexOf(o)){for(;y!==null;){var w=Ml(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var R=$t(w.pendingLanes);if(R!==0){var I=w;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var H=1<<31-ze(R);I.entanglements[1]|=H,R&=~H}rs(w),(Tt&6)===0&&(Dh=ie()+500,Zu(0))}}break;case 31:case 13:I=Ao(w,2),I!==null&&Ri(I,w,2),Mh(),nb(w,2)}if(w=rb(m),w===null&&Vy(o,c,m,Wh,f),w===y)break;y=w}y!==null&&m.stopPropagation()}else Vy(o,c,m,null,f)}}function rb(o){return o=av(o),sb(o)}var Wh=null;function sb(o){if(Wh=null,o=Ol(o),o!==null){var c=s(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=a(c),o!==null)return o;o=null}else if(f===31){if(o=l(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Wh=o,null}function qA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ve:return 2;case be:return 8;case we:case Me:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var ab=!1,Ia=null,Pa=null,ja=null,sd=new Map,ad=new Map,La=[],DU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GA(o,c){switch(o){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":sd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ad.delete(c.pointerId)}}function od(o,c,f,m,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:c,domEventName:f,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},c!==null&&(c=Ml(c),c!==null&&VA(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,y!==null&&c.indexOf(y)===-1&&c.push(y),o)}function OU(o,c,f,m,y){switch(c){case"focusin":return Ia=od(Ia,o,c,f,m,y),!0;case"dragenter":return Pa=od(Pa,o,c,f,m,y),!0;case"mouseover":return ja=od(ja,o,c,f,m,y),!0;case"pointerover":var w=y.pointerId;return sd.set(w,od(sd.get(w)||null,o,c,f,m,y)),!0;case"gotpointercapture":return w=y.pointerId,ad.set(w,od(ad.get(w)||null,o,c,f,m,y)),!0}return!1}function WA(o){var c=Ol(o.target);if(c!==null){var f=s(c);if(f!==null){if(c=f.tag,c===13){if(c=a(f),c!==null){o.blockedOn=c,ma(o.priority,function(){$A(f)});return}}else if(c===31){if(c=l(f),c!==null){o.blockedOn=c,ma(o.priority,function(){$A(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Yh(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=rb(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);sv=m,f.target.dispatchEvent(m),sv=null}else return c=Ml(f),c!==null&&VA(c),o.blockedOn=f,!1;c.shift()}return!0}function YA(o,c,f){Yh(o)&&f.delete(c)}function MU(){ab=!1,Ia!==null&&Yh(Ia)&&(Ia=null),Pa!==null&&Yh(Pa)&&(Pa=null),ja!==null&&Yh(ja)&&(ja=null),sd.forEach(YA),ad.forEach(YA)}function Kh(o,c){o.blockedOn===c&&(o.blockedOn=null,ab||(ab=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MU)))}var Qh=null;function KA(o){Qh!==o&&(Qh=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qh===o&&(Qh=null);for(var c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],y=o[c+2];if(typeof m!="function"){if(sb(m||f)===null)continue;break}var w=Ml(f);w!==null&&(o.splice(c,3),c-=3,ry(w,{pending:!0,data:y,method:f.method,action:m},m,y))}}))}function fc(o){function c(H){return Kh(H,o)}Ia!==null&&Kh(Ia,o),Pa!==null&&Kh(Pa,o),ja!==null&&Kh(ja,o),sd.forEach(c),ad.forEach(c);for(var f=0;f<La.length;f++){var m=La[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<La.length&&(f=La[0],f.blockedOn===null);)WA(f),f.blockedOn===null&&La.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var y=f[m],w=f[m+1],R=y[Si]||null;if(typeof w=="function")R||KA(f);else if(R){var I=null;if(w&&w.hasAttribute("formAction")){if(y=w,R=w[Si]||null)I=R.formAction;else if(sb(y)!==null)continue}else I=R.action;typeof I=="function"?f[m+1]=I:(f.splice(m,3),m-=3),KA(f)}}}function QA(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(R){return y=R})},focusReset:"manual",scroll:"manual"})}function c(){y!==null&&(y(),y=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),y!==null&&(y(),y=null)}}}function ob(o){this._internalRoot=o}Xh.prototype.render=ob.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var f=c.current,m=Gi();HA(f,m,o,c,null,null)},Xh.prototype.unmount=ob.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;HA(o.current,2,null,o,null,null),Mh(),c[Dl]=null}};function Xh(o){this._internalRoot=o}Xh.prototype.unstable_scheduleHydration=function(o){if(o){var c=ir();o={blockedOn:null,target:o,priority:c};for(var f=0;f<La.length&&c!==0&&c<La[f].priority;f++);La.splice(f,0,o),f===0&&WA(o)}};var XA=e.version;if(XA!=="19.2.0")throw Error(i(527,XA,"19.2.0"));q.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=d(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var kU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{nt=Zh.inject(kU),Ut=Zh}catch{}}return cd.createRoot=function(o,c){if(!r(o))throw Error(i(299));var f=!1,m="",y=rC,w=sC,R=aC;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),c=UA(o,1,!1,null,null,f,m,null,y,w,R,QA),o[Dl]=c.current,By(o),new ob(c)},cd.hydrateRoot=function(o,c,f){if(!r(o))throw Error(i(299));var m=!1,y="",w=rC,R=sC,I=aC,H=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.formState!==void 0&&(H=f.formState)),c=UA(o,1,!0,c,f??null,m,y,H,w,R,I,QA),c.context=zA(null),f=c.current,m=Gi(),m=nr(m),y=Sa(m),y.callback=null,xa(f,y,m),f=m,c.current.lanes=f,mt(c,f),rs(c),o[Dl]=c.current,By(o),new Xh(c)},cd.version="19.2.0",cd}var oT;function BU(){if(oT)return ub.exports;oT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ub.exports=HU(),ub.exports}var VU=BU();const $U=bf(VU);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lT="popstate";function qU(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return P0("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Wd(r)}return WU(e,n,null,t)}function rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GU(){return Math.random().toString(36).substring(2,10)}function cT(t,e){return{usr:t.state,key:t.key,idx:e}}function P0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ru(e):e,state:n,key:e&&e.key||i||GU()}}function Wd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ru(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function WU(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function g(){l="POP";let S=h(),x=S==null?null:S-d;d=S,u&&u({action:l,location:_.location,delta:x})}function p(S,x){l="PUSH";let A=P0(_.location,S,x);d=h()+1;let T=cT(A,d),M=_.createHref(A);try{a.pushState(T,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(M)}s&&u&&u({action:l,location:_.location,delta:1})}function v(S,x){l="REPLACE";let A=P0(_.location,S,x);d=h();let T=cT(A,d),M=_.createHref(A);a.replaceState(T,"",M),s&&u&&u({action:l,location:_.location,delta:0})}function b(S){return YU(S)}let _={get action(){return l},get location(){return t(r,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(lT,g),u=S,()=>{r.removeEventListener(lT,g),u=null}},createHref(S){return e(r,S)},createURL:b,encodeLocation(S){let x=b(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:v,go(S){return a.go(S)}};return _}function YU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rn(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Wd(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function uk(t,e,n="/"){return KU(t,e,n,!1)}function KU(t,e,n,i){let r=typeof e=="string"?ru(e):e,s=oa(r.pathname||"/",n);if(s==null)return null;let a=dk(t);QU(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=oz(s);l=sz(a[u],d,i)}return l}function dk(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&u)return;rn(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let g=ia([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(rn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),dk(a.children,e,p,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:iz(g,a.index),routesMeta:p})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of fk(a.path))s(a,l,!0,u)}),e}function fk(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=fk(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function QU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rz(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var XU=/^:[\w-]+$/,ZU=3,JU=2,ez=1,tz=10,nz=-2,uT=t=>t==="*";function iz(t,e){let n=t.split("/"),i=n.length;return n.some(uT)&&(i+=nz),e&&(i+=JU),n.filter(r=>!uT(r)).reduce((r,s)=>r+(XU.test(s)?ZU:s===""?ez:tz),i)}function rz(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function sz(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],d=l===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",g=pm({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!g&&d&&n&&!i[i.length-1].route.index&&(g=pm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:ia([s,g.pathname]),pathnameBase:dz(ia([s,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(s=ia([s,g.pathnameBase]))}return a}function pm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=az(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((d,{paramName:h,isOptional:g},p)=>{if(h==="*"){let b=l[p]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[p];return g&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function az(t,e=!1,n=!0){qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function oz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function oa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function lz(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ru(t):t;return{pathname:n?n.startsWith("/")?n:cz(n,e):e,search:fz(i),hash:hz(r)}}function cz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function gb(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nw(t){let e=uz(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function iw(t,e,n,i=!1){let r;typeof t=="string"?r=ru(t):(r={...t},rn(!r.pathname||!r.pathname.includes("?"),gb("?","pathname","search",r)),rn(!r.pathname||!r.pathname.includes("#"),gb("#","pathname","hash",r)),rn(!r.search||!r.search.includes("#"),gb("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),g-=1;r.pathname=p.join("/")}l=g>=0?e[g]:"/"}let u=lz(r,l),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var ia=t=>t.join("/").replace(/\/\/+/g,"/"),dz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hk=["POST","PUT","PATCH","DELETE"];new Set(hk);var mz=["GET",...hk];new Set(mz);var su=C.createContext(null);su.displayName="DataRouter";var cp=C.createContext(null);cp.displayName="DataRouterState";C.createContext(!1);var gk=C.createContext({isTransitioning:!1});gk.displayName="ViewTransition";var pz=C.createContext(new Map);pz.displayName="Fetchers";var vz=C.createContext(null);vz.displayName="Await";var Zr=C.createContext(null);Zr.displayName="Navigation";var _f=C.createContext(null);_f.displayName="Location";var Or=C.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var rw=C.createContext(null);rw.displayName="RouteError";function yz(t,{relative:e}={}){rn(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(Zr),{hash:r,pathname:s,search:a}=wf(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:ia([n,s])),i.createHref({pathname:l,search:a,hash:r})}function au(){return C.useContext(_f)!=null}function fa(){return rn(au(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(_f).location}var mk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pk(t){C.useContext(Zr).static||C.useLayoutEffect(t)}function ws(){let{isDataRoute:t}=C.useContext(Or);return t?Nz():bz()}function bz(){rn(au(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(su),{basename:e,navigator:n}=C.useContext(Zr),{matches:i}=C.useContext(Or),{pathname:r}=fa(),s=JSON.stringify(nw(i)),a=C.useRef(!1);return pk(()=>{a.current=!0}),C.useCallback((u,d={})=>{if(qr(a.current,mk),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=iw(u,JSON.parse(s),r,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ia([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,r,t])}var _z=C.createContext(null);function wz(t){let e=C.useContext(Or).outlet;return C.useMemo(()=>e&&C.createElement(_z.Provider,{value:t},e),[e,t])}function up(){let{matches:t}=C.useContext(Or),e=t[t.length-1];return e?e.params:{}}function wf(t,{relative:e}={}){let{matches:n}=C.useContext(Or),{pathname:i}=fa(),r=JSON.stringify(nw(n));return C.useMemo(()=>iw(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function Sz(t,e){return vk(t,e)}function vk(t,e,n,i,r){rn(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(Zr),{matches:a}=C.useContext(Or),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let A=g&&g.path||"";yk(d,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=fa(),v;if(e){let A=typeof e=="string"?ru(e):e;rn(h==="/"||A.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=p;let b=v.pathname||"/",_=b;if(h!=="/"){let A=h.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=uk(t,{pathname:_});qr(g||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),qr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Tz(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:ia([h,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:ia([h,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,n,i,r);return e&&x?C.createElement(_f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function xz(){let t=kz(),e=gz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:r},n):null,a)}var Ez=C.createElement(xz,null),Cz=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(Or.Provider,{value:this.props.routeContext},C.createElement(rw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Az({routeContext:t,match:e,children:n}){let i=C.useContext(su);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Or.Provider,{value:t},n)}function Tz(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);rn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:p}=n,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,g)=>{let p,v=!1,b=null,_=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||Ez,l&&(u<0&&g===0?(yk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):u===g&&(v=!0,_=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),x=()=>{let A;return p?A=b:v?A=_:h.route.Component?A=C.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,C.createElement(Az,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?C.createElement(Cz,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:i}):x()},null)}function sw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rz(t){let e=C.useContext(su);return rn(e,sw(t)),e}function Dz(t){let e=C.useContext(cp);return rn(e,sw(t)),e}function Oz(t){let e=C.useContext(Or);return rn(e,sw(t)),e}function aw(t){let e=Oz(t),n=e.matches[e.matches.length-1];return rn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Mz(){return aw("useRouteId")}function kz(){let t=C.useContext(rw),e=Dz("useRouteError"),n=aw("useRouteError");return t!==void 0?t:e.errors?.[n]}function Nz(){let{router:t}=Rz("useNavigate"),e=aw("useNavigate"),n=C.useRef(!1);return pk(()=>{n.current=!0}),C.useCallback(async(r,s={})=>{qr(n.current,mk),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var dT={};function yk(t,e,n){!e&&!dT[t]&&(dT[t]=!0,qr(!1,n))}C.memo(Iz);function Iz({routes:t,future:e,state:n,unstable_onError:i}){return vk(t,void 0,n,i,e)}function bk({to:t,replace:e,state:n,relative:i}){rn(au(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=C.useContext(Zr);qr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(Or),{pathname:a}=fa(),l=ws(),u=iw(t,nw(s),a,i==="path"),d=JSON.stringify(u);return C.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:i})},[l,d,i,e,n]),null}function _k(t){return wz(t.context)}function Pn(t){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pz({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){rn(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof n=="string"&&(n=ru(n));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:p="default"}=n,v=C.useMemo(()=>{let b=oa(u,a);return b==null?null:{location:{pathname:b,search:d,hash:h,state:g,key:p},navigationType:i}},[a,u,d,h,g,p,i]);return qr(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:C.createElement(Zr.Provider,{value:l},C.createElement(_f.Provider,{children:e,value:v}))}function jz({children:t,location:e}){return Sz(j0(t),e)}function j0(t,e=[]){let n=[];return C.Children.forEach(t,(i,r)=>{if(!C.isValidElement(i))return;let s=[...e,r];if(i.type===C.Fragment){n.push.apply(n,j0(i.props.children,s));return}rn(i.type===Pn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=j0(i.props.children,s)),n.push(a)}),n}var Xg="get",Zg="application/x-www-form-urlencoded";function dp(t){return t!=null&&typeof t.tagName=="string"}function Lz(t){return dp(t)&&t.tagName.toLowerCase()==="button"}function Fz(t){return dp(t)&&t.tagName.toLowerCase()==="form"}function Uz(t){return dp(t)&&t.tagName.toLowerCase()==="input"}function zz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hz(t,e){return t.button===0&&(!e||e==="_self")&&!zz(t)}var Jh=null;function Bz(){if(Jh===null)try{new FormData(document.createElement("form"),0),Jh=!1}catch{Jh=!0}return Jh}var Vz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mb(t){return t!=null&&!Vz.has(t)?(qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zg}"`),null):t}function $z(t,e){let n,i,r,s,a;if(Fz(t)){let l=t.getAttribute("action");i=l?oa(l,e):null,n=t.getAttribute("method")||Xg,r=mb(t.getAttribute("enctype"))||Zg,s=new FormData(t)}else if(Lz(t)||Uz(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?oa(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Xg,r=mb(t.getAttribute("formenctype"))||mb(l.getAttribute("enctype"))||Zg,s=new FormData(l,t),!Bz()){let{name:d,type:h,value:g}=t;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,g)}}else{if(dp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xg,i=null,r=Zg,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ow(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qz(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&oa(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Gz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Yz(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await Gz(s,n);return a.links?a.links():[]}return[]}));return Zz(i.flat(1).filter(Wz).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function fT(t,e,n,i,r,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{let h=i.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Kz(t,e,{includeHydrateFallback:n}={}){return Qz(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Qz(t){return[...new Set(t)]}function Xz(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Zz(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(Xz(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function wk(){let t=C.useContext(su);return ow(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Jz(){let t=C.useContext(cp);return ow(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lw=C.createContext(void 0);lw.displayName="FrameworkContext";function Sk(){let t=C.useContext(lw);return ow(t,"You must render this element inside a <HydratedRouter> element"),t}function eH(t,e){let n=C.useContext(lw),[i,r]=C.useState(!1),[s,a]=C.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:g}=e,p=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let _=x=>{x.forEach(A=>{a(A.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),C.useEffect(()=>{if(i){let _=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(_)}}},[i]);let v=()=>{r(!0)},b=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:ud(l,v),onBlur:ud(u,b),onMouseEnter:ud(d,v),onMouseLeave:ud(h,b),onTouchStart:ud(g,v)}]:[!1,p,{}]}function ud(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tH({page:t,...e}){let{router:n}=wk(),i=C.useMemo(()=>uk(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?C.createElement(iH,{page:t,matches:i,...e}):null}function nH(t){let{manifest:e,routeModules:n}=Sk(),[i,r]=C.useState([]);return C.useEffect(()=>{let s=!1;return Yz(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function iH({page:t,matches:e,...n}){let i=fa(),{manifest:r,routeModules:s}=Sk(),{basename:a}=wk(),{loaderData:l,matches:u}=Jz(),d=C.useMemo(()=>fT(t,e,u,r,i,"data"),[t,e,u,r,i]),h=C.useMemo(()=>fT(t,e,u,r,i,"assets"),[t,e,u,r,i]),g=C.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let b=new Set,_=!1;if(e.forEach(x=>{let A=r.routes[x.route.id];!A||!A.hasLoader||(!d.some(T=>T.route.id===x.route.id)&&x.route.id in l&&s[x.route.id]?.shouldRevalidate||A.hasClientLoader?_=!0:b.add(x.route.id))}),b.size===0)return[];let S=qz(t,a,"data");return _&&b.size>0&&S.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[a,l,i,r,d,e,t,s]),p=C.useMemo(()=>Kz(h,r),[h,r]),v=nH(h);return C.createElement(C.Fragment,null,g.map(b=>C.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),p.map(b=>C.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:_})=>C.createElement("link",{key:b,nonce:n.nonce,..._})))}function rH(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xk&&(window.__reactRouterVersion="7.9.4")}catch{}function sH({basename:t,children:e,window:n}){let i=C.useRef();i.current==null&&(i.current=qU({window:n,v5Compat:!0}));let r=i.current,[s,a]=C.useState({action:r.action,location:r.location}),l=C.useCallback(u=>{C.startTransition(()=>a(u))},[a]);return C.useLayoutEffect(()=>r.listen(l),[r,l]),C.createElement(Pz,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var Ek=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:g,...p},v){let{basename:b}=C.useContext(Zr),_=typeof d=="string"&&Ek.test(d),S,x=!1;if(typeof d=="string"&&_&&(S=d,xk))try{let P=new URL(window.location.href),z=d.startsWith("//")?new URL(P.protocol+d):new URL(d),B=oa(z.pathname,b);z.origin===P.origin&&B!=null?d=B+z.search+z.hash:x=!0}catch{qr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=yz(d,{relative:r}),[T,M,O]=eH(i,p),N=cH(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:r,viewTransition:g});function k(P){e&&e(P),P.defaultPrevented||N(P)}let D=C.createElement("a",{...p,...O,href:S||A,onClick:x||s?e:k,ref:rH(v,M),target:u,"data-discover":!_&&n==="render"?"true":void 0});return T&&!_?C.createElement(C.Fragment,null,D,C.createElement(tH,{page:A})):D});gn.displayName="Link";var aH=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...d},h){let g=wf(a,{relative:d.relative}),p=fa(),v=C.useContext(cp),{navigator:b,basename:_}=C.useContext(Zr),S=v!=null&&gH(g)&&l===!0,x=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,A=p.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(A=A.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&_&&(T=oa(T,_)||T);const M=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=A===x||!r&&A.startsWith(x)&&A.charAt(M)==="/",N=T!=null&&(T===x||!r&&T.startsWith(x)&&T.charAt(x.length)==="/"),k={isActive:O,isPending:N,isTransitioning:S},D=O?e:void 0,P;typeof i=="function"?P=i(k):P=[i,O?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(k):s;return C.createElement(gn,{...d,"aria-current":D,className:P,ref:h,style:z,to:a,viewTransition:l},typeof u=="function"?u(k):u)});aH.displayName="NavLink";var oH=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=Xg,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:g,...p},v)=>{let b=fH(),_=hH(l,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&Ek.test(l),A=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,O=M?.getAttribute("formmethod")||a;b(M||T.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:r,state:s,relative:d,preventScrollReset:h,viewTransition:g})};return C.createElement("form",{ref:v,method:S,action:_,onSubmit:i?u:A,...p,"data-discover":!x&&t==="render"?"true":void 0})});oH.displayName="Form";function lH(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ck(t){let e=C.useContext(su);return rn(e,lH(t)),e}function cH(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let l=ws(),u=fa(),d=wf(t,{relative:s});return C.useCallback(h=>{if(Hz(h,e)){h.preventDefault();let g=n!==void 0?n:Wd(u)===Wd(d);l(t,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,l,d,n,i,e,t,r,s,a])}var uH=0,dH=()=>`__${String(++uH)}__`;function fH(){let{router:t}=Ck("useSubmit"),{basename:e}=C.useContext(Zr),n=Mz();return C.useCallback(async(i,r={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=$z(i,e);if(r.navigate===!1){let h=r.fetcherKey||dH();await t.fetch(h,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function hH(t,{relative:e}={}){let{basename:n}=C.useContext(Zr),i=C.useContext(Or);rn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...wf(t||".",{relative:e})},a=fa();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ia([n,s.pathname])),Wd(s)}function gH(t,{relative:e}={}){let n=C.useContext(gk);rn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ck("useViewTransitionState"),r=wf(t,{relative:e});if(!n.isTransitioning)return!1;let s=oa(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=oa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return pm(r.pathname,a)!=null||pm(r.pathname,s)!=null}var Hr=ck();const Ak=bf(Hr);var ou=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mH={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},pH=class{#e=mH;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},tl=new pH;function vH(t){setTimeout(t,0)}var ul=typeof window>"u"||"Deno"in globalThis;function mi(){}function yH(t,e){return typeof t=="function"?t(e):t}function L0(t){return typeof t=="number"&&t>=0&&t!==1/0}function Tk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function io(t,e){return typeof t=="function"?t(e):t}function wr(t,e){return typeof t=="function"?t(e):t}function hT(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:a,stale:l}=t;if(a){if(i){if(e.queryHash!==cw(a,e.options))return!1}else if(!Yd(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||s&&!s(e))}function gT(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(dl(e.options.mutationKey)!==dl(s))return!1}else if(!Yd(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function cw(t,e){return(e?.queryKeyHashFn||dl)(t)}function dl(t){return JSON.stringify(t,(e,n)=>F0(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Yd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Yd(t[n],e[n])):!1}var bH=Object.prototype.hasOwnProperty;function Rk(t,e){if(t===e)return t;const n=mT(t)&&mT(e);if(!n&&!(F0(t)&&F0(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=n?d:s[d],g=t[h],p=e[h];if(g===p){l[h]=g,(n?d<r:bH.call(t,h))&&u++;continue}if(g===null||p===null||typeof g!="object"||typeof p!="object"){l[h]=p;continue}const v=Rk(g,p);l[h]=v,v===g&&u++}return r===a&&u===r?t:l}function vm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function mT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function F0(t){if(!pT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pT(t){return Object.prototype.toString.call(t)==="[object Object]"}function _H(t){return new Promise(e=>{tl.setTimeout(e,t)})}function U0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Rk(t,e):e}function wH(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function SH(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var uw=Symbol();function Dk(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===uw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Ok(t,e){return typeof t=="function"?t(...e):!!t}var xH=class extends ou{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ul&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},dw=new xH;function z0(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var EH=vH;function CH(){let t=[],e=0,n=l=>{l()},i=l=>{l()},r=EH;const s=l=>{e?t.push(l):r(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&r(()=>{i(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{r=l}}}var Un=CH(),AH=class extends ou{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ul&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},ym=new AH;function TH(t){return Math.min(1e3*2**t,3e4)}function Mk(t){return(t??"online")==="online"?ym.isOnline():!0}var H0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function kk(t){let e=!1,n=0,i;const r=z0(),s=()=>r.status!=="pending",a=_=>{if(!s()){const S=new H0(_);p(S),t.onCancel?.(S)}},l=()=>{e=!0},u=()=>{e=!1},d=()=>dw.isFocused()&&(t.networkMode==="always"||ym.isOnline())&&t.canRun(),h=()=>Mk(t.networkMode)&&t.canRun(),g=_=>{s()||(i?.(),r.resolve(_))},p=_=>{s()||(i?.(),r.reject(_))},v=()=>new Promise(_=>{i=S=>{(s()||d())&&_(S)},t.onPause?.()}).then(()=>{i=void 0,s()||t.onContinue?.()}),b=()=>{if(s())return;let _;const S=n===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(x){_=Promise.reject(x)}Promise.resolve(_).then(g).catch(x=>{if(s())return;const A=t.retry??(ul?0:3),T=t.retryDelay??TH,M=typeof T=="function"?T(n,x):T,O=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,x);if(e||!O){p(x);return}n++,t.onFail?.(n,x),_H(M).then(()=>d()?void 0:v()).then(()=>{e?p(x):b()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(i?.(),r),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?b():v().then(b),r)}}var Nk=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),L0(this.gcTime)&&(this.#e=tl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ul?1/0:300*1e3))}clearGcTimeout(){this.#e&&(tl.clearTimeout(this.#e),this.#e=void 0)}},RH=class extends Nk{#e;#t;#n;#r;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=vT(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=vT(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=U0(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(mi).catch(mi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>wr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>io(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Tk(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},r=()=>{const l=Dk(this.options,e),d=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(h),h})();return this.#o=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return i(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=kk({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof H0&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#i.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof H0){if(l.silent)return this.#i.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ik(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const r=t.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Un.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Ik(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var DH=class extends ou{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=z0(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),yT(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return B0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return B0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!vm(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&bT(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),i&&(this.#t!==n||wr(this.options.enabled,this.#t)!==wr(e.enabled,this.#t)||io(this.options.staleTime,this.#t)!==io(e.staleTime,this.#t))&&this.#p();const r=this.#v();i&&(this.#t!==n||wr(this.options.enabled,this.#t)!==wr(e.enabled,this.#t)||r!==this.#l)&&this.#y(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return MH(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(mi)),e}#p(){this.#_();const t=io(this.options.staleTime,this.#t);if(ul||this.#r.isStale||!L0(t))return;const n=Tk(this.#r.dataUpdatedAt,t)+1;this.#c=tl.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(ul||wr(this.options.enabled,this.#t)===!1||!L0(this.#l)||this.#l===0)&&(this.#u=tl.setInterval(()=>{(this.options.refetchIntervalInBackground||dw.isFocused())&&this.#d()},this.#l))}#b(){this.#p(),this.#y(this.#v())}#_(){this.#c&&(tl.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(tl.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,i=this.options,r=this.#r,s=this.#i,a=this.#a,u=t!==n?t.state:this.#n,{state:d}=t;let h={...d},g=!1,p;if(e._optimisticResults){const D=this.hasListeners(),P=!D&&yT(t,e),z=D&&bT(t,n,e,i);(P||z)&&(h={...h,...Ik(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:_}=h;p=h.data;let S=!1;if(e.placeholderData!==void 0&&p===void 0&&_==="pending"){let D;r?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(D=r.data,S=!0):D=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,D!==void 0&&(_="success",p=U0(r?.data,D,e),g=!0)}if(e.select&&p!==void 0&&!S)if(r&&p===s?.data&&e.select===this.#m)p=this.#f;else try{this.#m=e.select,p=e.select(p),p=U0(r?.data,p,e),this.#f=p,this.#s=null}catch(D){this.#s=D}this.#s&&(v=this.#s,p=this.#f,b=Date.now(),_="error");const x=h.fetchStatus==="fetching",A=_==="pending",T=_==="error",M=A&&x,O=p!==void 0,k={status:_,fetchStatus:h.fetchStatus,isPending:A,isSuccess:_==="success",isError:T,isInitialLoading:M,isLoading:M,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!A,isLoadingError:T&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:T&&O,isStale:fw(t,e),refetch:this.refetch,promise:this.#o,isEnabled:wr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=B=>{k.status==="error"?B.reject(k.error):k.data!==void 0&&B.resolve(k.data)},P=()=>{const B=this.#o=k.promise=z0();D(B)},z=this.#o;switch(z.status){case"pending":t.queryHash===n.queryHash&&D(z);break;case"fulfilled":(k.status==="error"||k.data!==z.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==z.reason)&&P();break}}return k}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),vm(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#g.size)return!0;const s=new Set(r??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(a=>{const l=a;return this.#r[l]!==t[l]&&s.has(l)})};this.#x({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(t){Un.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function OH(t,e){return wr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function yT(t,e){return OH(t,e)||t.state.data!==void 0&&B0(t,e,e.refetchOnMount)}function B0(t,e,n){if(wr(e.enabled,t)!==!1&&io(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&fw(t,e)}return!1}function bT(t,e,n,i){return(t!==e||wr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&fw(t,n)}function fw(t,e){return wr(e.enabled,t)!==!1&&t.isStaleByTime(io(e.staleTime,t))}function MH(t,e){return!vm(t.getCurrentResult(),e)}function _T(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},p=Dk(e.options,e.fetchOptions),v=async(b,_,S)=>{if(h)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const A=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return g(N),N})(),T=await p(A),{maxPages:M}=e.options,O=S?SH:wH;return{pages:O(b.pages,T,M),pageParams:O(b.pageParams,_,M)}};if(r&&s.length){const b=r==="backward",_=b?kH:wT,S={pages:s,pageParams:a},x=_(i,S);l=await v(S,x,b)}else{const b=t??s.length;do{const _=u===0?a[0]??i.initialPageParam:wT(i,l);if(u>0&&_==null)break;l=await v(l,_),u++}while(u<b)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function wT(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function kH(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var NH=class extends Nk{#e;#t;#n;#r;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||Pk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=kk({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#i({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",r=!this.#r.canStart();try{if(i)e();else{this.#i({type:"pending",variables:t,isPaused:r}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#i({type:"pending",context:a,variables:t,isPaused:r})}const s=await this.#r.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#i({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#i({type:"error",error:s})}}finally{this.#n.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Un.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function Pk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var IH=class extends ou{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new NH({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=eg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=eg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=eg(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=eg(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Un.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>gT(e,n))}findAll(t={}){return this.getAll().filter(e=>gT(t,e))}notify(t){Un.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Un.batch(()=>Promise.all(t.map(e=>e.continue().catch(mi))))}};function eg(t){return t.options.scope?.id}var PH=class extends ou{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),vm(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&dl(n.mutationKey)!==dl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??Pk();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Un.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,n,i,r),this.#r.onSettled?.(e.data,null,n,i,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,i,r),this.#r.onSettled?.(void 0,e.error,n,i,r))}this.listeners.forEach(n=>{n(this.#t)})})}},jH=class extends ou{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,r=e.queryHash??cw(i,e);let s=this.get(r);return s||(s=new RH({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Un.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>hT(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>hT(t,n)):e}notify(t){Un.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},LH=class{#e;#t;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new jH,this.#t=t.mutationCache||new IH,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=dw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ym.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(io(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(i.queryHash)?.state.data,a=yH(e,s);if(a!==void 0)return this.#e.build(this,i).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Un.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Un.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Un.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Un.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(mi).catch(mi)}invalidateQueries(t,e={}){return Un.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Un.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(mi)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(mi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(io(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mi).catch(mi)}fetchInfiniteQuery(t){return t.behavior=_T(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mi).catch(mi)}ensureInfiniteQueryData(t){return t.behavior=_T(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ym.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(dl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Yd(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(dl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Yd(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===uw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},jk=C.createContext(void 0),Ui=t=>{const e=C.useContext(jk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},FH=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(jk.Provider,{value:t,children:e})),Lk=C.createContext(!1),UH=()=>C.useContext(Lk);Lk.Provider;function zH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var HH=C.createContext(zH()),BH=()=>C.useContext(HH),VH=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},$H=t=>{C.useEffect(()=>{t.clearReset()},[t])},qH=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||Ok(n,[t.error,i])),GH=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},WH=(t,e)=>t.isLoading&&t.isFetching&&!e,YH=(t,e)=>t?.suspense&&e.isPending,ST=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function KH(t,e,n){const i=UH(),r=BH(),s=Ui(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",GH(a),VH(a,r),$H(r);const l=!s.getQueryCache().get(a.queryHash),[u]=C.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!i&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(g=>{const p=h?u.subscribe(Un.batchCalls(g)):mi;return u.updateResult(),p},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),C.useEffect(()=>{u.setOptions(a)},[a,u]),YH(a,d))throw ST(a,u,r);if(qH({result:d,errorResetBoundary:r,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!ul&&WH(d,i)&&(l?ST(a,u,r):s.getQueryCache().get(a.queryHash)?.promise)?.catch(mi).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function vl(t,e){return KH(t,DH)}function ha(t,e){const n=Ui(),[i]=C.useState(()=>new PH(n,t));C.useEffect(()=>{i.setOptions(t)},[i,t]);const r=C.useSyncExternalStore(C.useCallback(a=>i.subscribe(Un.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=C.useCallback((a,l)=>{i.mutate(a,l).catch(mi)},[i]);if(r.error&&Ok(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}function QH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const XH=t=>{switch(t){case"success":return eB;case"info":return nB;case"warning":return tB;case"error":return iB;default:return null}},ZH=Array(12).fill(0),JH=({visible:t,className:e})=>oe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},oe.createElement("div",{className:"sonner-spinner"},ZH.map((n,i)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),eB=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tB=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nB=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iB=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rB=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sB=()=>{const[t,e]=oe.useState(document.hidden);return oe.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let V0=1;class aB{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...r}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:V0++,a=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:i}),{...u,...e,id:s,dismissible:l,title:i}):u):this.addToast({title:i,...r,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,a;const l=r.then(async d=>{if(a=["resolve",d],oe.isValidElement(d))s=!1,this.create({id:i,type:"default",message:d});else if(lB(d)&&!d.ok){s=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof g=="object"&&!oe.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:p,...b})}else if(d instanceof Error){s=!1;const g=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,b=typeof g=="object"&&!oe.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:p,...b})}else if(n.success!==void 0){s=!1;const g=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,b=typeof g=="object"&&!oe.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:p,...b})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,v=typeof h=="object"&&!oe.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:g,...v})}}).finally(()=>{s&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof i!="string"&&typeof i!="number"?{unwrap:u}:Object.assign(i,{unwrap:u})},this.custom=(e,n)=>{const i=n?.id||V0++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ni=new aB,oB=(t,e)=>{const n=e?.id||V0++;return Ni.addToast({title:t,...e,id:n}),n},lB=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",cB=oB,uB=()=>Ni.toasts,dB=()=>Ni.getActiveToasts(),Sf=Object.assign(cB,{success:Ni.success,info:Ni.info,warning:Ni.warning,error:Ni.error,custom:Ni.custom,message:Ni.message,promise:Ni.promise,dismiss:Ni.dismiss,loading:Ni.loading},{getHistory:uB,getToasts:dB});QH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function tg(t){return t.label!==void 0}const fB=3,hB="24px",gB="16px",xT=4e3,mB=356,pB=14,vB=45,yB=200;function ss(...t){return t.filter(Boolean).join(" ")}function bB(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const _B=t=>{var e,n,i,r,s,a,l,u,d;const{invert:h,toast:g,unstyled:p,interacting:v,setHeights:b,visibleToasts:_,heights:S,index:x,toasts:A,expanded:T,removeToast:M,defaultRichColors:O,closeButton:N,style:k,cancelButtonStyle:D,actionButtonStyle:P,className:z="",descriptionClassName:B="",duration:Q,position:ne,gap:ce,expandByDefault:me,classNames:L,icons:q,closeButtonAriaLabel:V="Close toast"}=t,[G,he]=oe.useState(null),[F,Z]=oe.useState(null),[ee,le]=oe.useState(!1),[ye,_e]=oe.useState(!1),[pe,Se]=oe.useState(!1),[je,Ge]=oe.useState(!1),[Rt,wt]=oe.useState(!1),[Mn,xe]=oe.useState(0),[He,tt]=oe.useState(0),Vt=oe.useRef(g.duration||Q||xT),wn=oe.useRef(null),Ye=oe.useRef(null),j=x===0,W=x+1<=_,X=g.type,K=g.dismissible!==!1,ie=g.className||"",ue=g.descriptionClassName||"",ve=oe.useMemo(()=>S.findIndex(Ee=>Ee.toastId===g.id)||0,[S,g.id]),be=oe.useMemo(()=>{var Ee;return(Ee=g.closeButton)!=null?Ee:N},[g.closeButton,N]),we=oe.useMemo(()=>g.duration||Q||xT,[g.duration,Q]),Me=oe.useRef(0),Ke=oe.useRef(0),Ve=oe.useRef(0),ct=oe.useRef(null),[nt,Ut]=ne.split("-"),it=oe.useMemo(()=>S.reduce((Ee,Be,ut)=>ut>=ve?Ee:Ee+Be.height,0),[S,ve]),ze=sB(),pn=g.invert||h,Ze=X==="loading";Ke.current=oe.useMemo(()=>ve*ce+it,[ve,it]),oe.useEffect(()=>{Vt.current=we},[we]),oe.useEffect(()=>{le(!0)},[]),oe.useEffect(()=>{const Ee=Ye.current;if(Ee){const Be=Ee.getBoundingClientRect().height;return tt(Be),b(ut=>[{toastId:g.id,height:Be,position:g.position},...ut]),()=>b(ut=>ut.filter(gt=>gt.toastId!==g.id))}},[b,g.id]),oe.useLayoutEffect(()=>{if(!ee)return;const Ee=Ye.current,Be=Ee.style.height;Ee.style.height="auto";const ut=Ee.getBoundingClientRect().height;Ee.style.height=Be,tt(ut),b(gt=>gt.find(mt=>mt.toastId===g.id)?gt.map(mt=>mt.toastId===g.id?{...mt,height:ut}:mt):[{toastId:g.id,height:ut,position:g.position},...gt])},[ee,g.title,g.description,b,g.id,g.jsx,g.action,g.cancel]);const ht=oe.useCallback(()=>{_e(!0),xe(Ke.current),b(Ee=>Ee.filter(Be=>Be.toastId!==g.id)),setTimeout(()=>{M(g)},yB)},[g,M,b,Ke]);oe.useEffect(()=>{if(g.promise&&X==="loading"||g.duration===1/0||g.type==="loading")return;let Ee;return T||v||ze?(()=>{if(Ve.current<Me.current){const gt=new Date().getTime()-Me.current;Vt.current=Vt.current-gt}Ve.current=new Date().getTime()})():(()=>{Vt.current!==1/0&&(Me.current=new Date().getTime(),Ee=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),ht()},Vt.current))})(),()=>clearTimeout(Ee)},[T,v,g,X,ze,ht]),oe.useEffect(()=>{g.delete&&(ht(),g.onDismiss==null||g.onDismiss.call(g,g))},[ht,g.delete]);function fi(){var Ee;if(q?.loading){var Be;return oe.createElement("div",{className:ss(L?.loader,g==null||(Be=g.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":X==="loading"},q.loading)}return oe.createElement(JH,{className:ss(L?.loader,g==null||(Ee=g.classNames)==null?void 0:Ee.loader),visible:X==="loading"})}const hi=g.icon||q?.[X]||XH(X);var St,$t;return oe.createElement("li",{tabIndex:0,ref:Ye,className:ss(z,ie,L?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,L?.default,L?.[X],g==null||(n=g.classNames)==null?void 0:n[X]),"data-sonner-toast":"","data-rich-colors":(St=g.richColors)!=null?St:O,"data-styled":!(g.jsx||g.unstyled||p),"data-mounted":ee,"data-promise":!!g.promise,"data-swiped":Rt,"data-removed":ye,"data-visible":W,"data-y-position":nt,"data-x-position":Ut,"data-index":x,"data-front":j,"data-swiping":pe,"data-dismissible":K,"data-type":X,"data-invert":pn,"data-swipe-out":je,"data-swipe-direction":F,"data-expanded":!!(T||me&&ee),"data-testid":g.testId,style:{"--index":x,"--toasts-before":x,"--z-index":A.length-x,"--offset":`${ye?Mn:Ke.current}px`,"--initial-height":me?"auto":`${He}px`,...k,...g.style},onDragEnd:()=>{Se(!1),he(null),ct.current=null},onPointerDown:Ee=>{Ee.button!==2&&(Ze||!K||(wn.current=new Date,xe(Ke.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(Se(!0),ct.current={x:Ee.clientX,y:Ee.clientY})))},onPointerUp:()=>{var Ee,Be,ut;if(je||!K)return;ct.current=null;const gt=Number(((Ee=Ye.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),un=Number(((Be=Ye.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mt=new Date().getTime()-((ut=wn.current)==null?void 0:ut.getTime()),Qe=G==="x"?gt:un,Sn=Math.abs(Qe)/mt;if(Math.abs(Qe)>=vB||Sn>.11){xe(Ke.current),g.onDismiss==null||g.onDismiss.call(g,g),Z(G==="x"?gt>0?"right":"left":un>0?"down":"up"),ht(),Ge(!0);return}else{var Wt,Jt;(Wt=Ye.current)==null||Wt.style.setProperty("--swipe-amount-x","0px"),(Jt=Ye.current)==null||Jt.style.setProperty("--swipe-amount-y","0px")}wt(!1),Se(!1),he(null)},onPointerMove:Ee=>{var Be,ut,gt;if(!ct.current||!K||((Be=window.getSelection())==null?void 0:Be.toString().length)>0)return;const mt=Ee.clientY-ct.current.y,Qe=Ee.clientX-ct.current.x;var Sn;const Wt=(Sn=t.swipeDirections)!=null?Sn:bB(ne);!G&&(Math.abs(Qe)>1||Math.abs(mt)>1)&&he(Math.abs(Qe)>Math.abs(mt)?"x":"y");let Jt={x:0,y:0};const nr=Qn=>1/(1.5+Math.abs(Qn)/20);if(G==="y"){if(Wt.includes("top")||Wt.includes("bottom"))if(Wt.includes("top")&&mt<0||Wt.includes("bottom")&&mt>0)Jt.y=mt;else{const Qn=mt*nr(mt);Jt.y=Math.abs(Qn)<Math.abs(mt)?Qn:mt}}else if(G==="x"&&(Wt.includes("left")||Wt.includes("right")))if(Wt.includes("left")&&Qe<0||Wt.includes("right")&&Qe>0)Jt.x=Qe;else{const Qn=Qe*nr(Qe);Jt.x=Math.abs(Qn)<Math.abs(Qe)?Qn:Qe}(Math.abs(Jt.x)>0||Math.abs(Jt.y)>0)&&wt(!0),(ut=Ye.current)==null||ut.style.setProperty("--swipe-amount-x",`${Jt.x}px`),(gt=Ye.current)==null||gt.style.setProperty("--swipe-amount-y",`${Jt.y}px`)}},be&&!g.jsx&&X!=="loading"?oe.createElement("button",{"aria-label":V,"data-disabled":Ze,"data-close-button":!0,onClick:Ze||!K?()=>{}:()=>{ht(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ss(L?.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},($t=q?.close)!=null?$t:rB):null,(X||g.icon||g.promise)&&g.icon!==null&&(q?.[X]!==null||g.icon)?oe.createElement("div",{"data-icon":"",className:ss(L?.icon,g==null||(r=g.classNames)==null?void 0:r.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||fi():null,g.type!=="loading"?hi:null):null,oe.createElement("div",{"data-content":"",className:ss(L?.content,g==null||(s=g.classNames)==null?void 0:s.content)},oe.createElement("div",{"data-title":"",className:ss(L?.title,g==null||(a=g.classNames)==null?void 0:a.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?oe.createElement("div",{"data-description":"",className:ss(B,ue,L?.description,g==null||(l=g.classNames)==null?void 0:l.description)},typeof g.description=="function"?g.description():g.description):null),oe.isValidElement(g.cancel)?g.cancel:g.cancel&&tg(g.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||D,onClick:Ee=>{tg(g.cancel)&&K&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ee),ht())},className:ss(L?.cancelButton,g==null||(u=g.classNames)==null?void 0:u.cancelButton)},g.cancel.label):null,oe.isValidElement(g.action)?g.action:g.action&&tg(g.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||P,onClick:Ee=>{tg(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ee),!Ee.defaultPrevented&&ht())},className:ss(L?.actionButton,g==null||(d=g.classNames)==null?void 0:d.actionButton)},g.action.label):null)};function ET(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wB(t,e){const n={};return[t,e].forEach((i,r)=>{const s=r===1,a=s?"--mobile-offset":"--offset",l=s?gB:hB;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(l)}),n}const SB=oe.forwardRef(function(e,n){const{id:i,invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:h,mobileOffset:g,theme:p="light",richColors:v,duration:b,style:_,visibleToasts:S=fB,toastOptions:x,dir:A=ET(),gap:T=pB,icons:M,containerAriaLabel:O="Notifications"}=e,[N,k]=oe.useState([]),D=oe.useMemo(()=>i?N.filter(ee=>ee.toasterId===i):N.filter(ee=>!ee.toasterId),[N,i]),P=oe.useMemo(()=>Array.from(new Set([s].concat(D.filter(ee=>ee.position).map(ee=>ee.position)))),[D,s]),[z,B]=oe.useState([]),[Q,ne]=oe.useState(!1),[ce,me]=oe.useState(!1),[L,q]=oe.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=oe.useRef(null),G=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),he=oe.useRef(null),F=oe.useRef(!1),Z=oe.useCallback(ee=>{k(le=>{var ye;return(ye=le.find(_e=>_e.id===ee.id))!=null&&ye.delete||Ni.dismiss(ee.id),le.filter(({id:_e})=>_e!==ee.id)})},[]);return oe.useEffect(()=>Ni.subscribe(ee=>{if(ee.dismiss){requestAnimationFrame(()=>{k(le=>le.map(ye=>ye.id===ee.id?{...ye,delete:!0}:ye))});return}setTimeout(()=>{Ak.flushSync(()=>{k(le=>{const ye=le.findIndex(_e=>_e.id===ee.id);return ye!==-1?[...le.slice(0,ye),{...le[ye],...ee},...le.slice(ye+1)]:[ee,...le]})})})}),[N]),oe.useEffect(()=>{if(p!=="system"){q(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:le})=>{q(le?"dark":"light")})}catch{ee.addListener(({matches:ye})=>{try{q(ye?"dark":"light")}catch(_e){console.error(_e)}})}},[p]),oe.useEffect(()=>{N.length<=1&&ne(!1)},[N]),oe.useEffect(()=>{const ee=le=>{var ye;if(a.every(Se=>le[Se]||le.code===Se)){var pe;ne(!0),(pe=V.current)==null||pe.focus()}le.code==="Escape"&&(document.activeElement===V.current||(ye=V.current)!=null&&ye.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[a]),oe.useEffect(()=>{if(V.current)return()=>{he.current&&(he.current.focus({preventScroll:!0}),he.current=null,F.current=!1)}},[V.current]),oe.createElement("section",{ref:n,"aria-label":`${O} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ee,le)=>{var ye;const[_e,pe]=ee.split("-");return D.length?oe.createElement("ol",{key:ee,dir:A==="auto"?ET():A,tabIndex:-1,ref:V,className:d,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":_e,"data-x-position":pe,style:{"--front-toast-height":`${((ye=z[0])==null?void 0:ye.height)||0}px`,"--width":`${mB}px`,"--gap":`${T}px`,..._,...wB(h,g)},onBlur:Se=>{F.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(F.current=!1,he.current&&(he.current.focus({preventScroll:!0}),he.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||F.current||(F.current=!0,he.current=Se.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{ce||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},D.filter(Se=>!Se.position&&le===0||Se.position===ee).map((Se,je)=>{var Ge,Rt;return oe.createElement(_B,{key:Se.id,icons:M,index:je,toast:Se,defaultRichColors:v,duration:(Ge=x?.duration)!=null?Ge:b,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:S,closeButton:(Rt=x?.closeButton)!=null?Rt:u,interacting:ce,position:ee,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:Z,toasts:D.filter(wt=>wt.position==Se.position),heights:z.filter(wt=>wt.position==Se.position),setHeights:B,expandByDefault:l,gap:T,expanded:Q,swipeDirections:e.swipeDirections})})):null}))});var ng={MINUTES_PER_HOUR:60,MILLISECONDS_PER_MINUTE:60*1e3},CT={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},ig={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR"},AT={PAGE_SIZE:10,PAGE_SIZE_OPTIONS:[10,25,50,100]},an={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},_t={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},Js={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},hc={CREMA:"CREMA",LIQUIDO:"LIQUIDO",POLVERI:"POLVERI"},gc={T1:"T1",T2:"T2",T3:"T3"};function TT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fp(...t){return e=>{let n=!1;const i=t.map(r=>{const s=TT(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():TT(t[r],null)}}}}function Fi(...t){return C.useCallback(fp(...t),t)}function Kd(t){const e=EB(t),n=C.forwardRef((i,r)=>{const{children:s,...a}=i,l=C.Children.toArray(s),u=l.find(AB);if(u){const d=u.props.children,h=l.map(g=>g===u?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return E.jsx(e,{...a,ref:r,children:C.isValidElement(d)?C.cloneElement(d,void 0,h):null})}return E.jsx(e,{...a,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var xB=Kd("Slot");function EB(t){const e=C.forwardRef((n,i)=>{const{children:r,...s}=n;if(C.isValidElement(r)){const a=RB(r),l=TB(s,r.props);return r.type!==C.Fragment&&(l.ref=i?fp(i,a):a),C.cloneElement(r,l)}return C.Children.count(r)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var CB=Symbol("radix.slottable");function AB(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===CB}function TB(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const u=s(...l);return r(...l),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function RB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Fk(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Fk(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function hw(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Fk(t))&&(i&&(i+=" "),i+=e);return i}const gw="-",DB=t=>{const e=MB(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:a=>{const l=a.split(gw);return l[0]===""&&l.length!==1&&l.shift(),Uk(l,e)||OB(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&i[a]?[...u,...i[a]]:u}}},Uk=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?Uk(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(gw);return e.validators.find(({validator:a})=>a(s))?.classGroupId},RT=/^\[(.+)\]$/,OB=t=>{if(RT.test(t)){const e=RT.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},MB=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const r in n)$0(n[r],i,r,e);return i},$0=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:DT(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(kB(r)){$0(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,a])=>{$0(a,DT(e,s),n,i)})})},DT=(t,e)=>{let n=t;return e.split(gw).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},kB=t=>t.isThemeGetter,NB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=i.get(s))!==void 0)return r(s,a),a},set(s,a){n.has(s)?n.set(s,a):r(s,a)}}},q0="!",G0=":",IB=G0.length,PB=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=r=>{const s=[];let a=0,l=0,u=0,d;for(let b=0;b<r.length;b++){let _=r[b];if(a===0&&l===0){if(_===G0){s.push(r.slice(u,b)),u=b+IB;continue}if(_==="/"){d=b;continue}}_==="["?a++:_==="]"?a--:_==="("?l++:_===")"&&l--}const h=s.length===0?r:r.substring(u),g=jB(h),p=g!==h,v=d&&d>u?d-u:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};if(e){const r=e+G0,s=i;i=a=>a.startsWith(r)?s(a.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const r=i;i=s=>n({className:s,parseClassName:r})}return i},jB=t=>t.endsWith(q0)?t.substring(0,t.length-1):t.startsWith(q0)?t.substring(1):t,LB=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let s=[];return i.forEach(a=>{a[0]==="["||e[a]?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r}},FB=t=>({cache:NB(t.cacheSize),parseClassName:PB(t),sortModifiers:LB(t),...DB(t)}),UB=/\s+/,zB=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=e,a=[],l=t.trim().split(UB);let u="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:g,modifiers:p,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:_}=n(h);if(g){u=h+(u.length>0?" "+u:u);continue}let S=!!_,x=i(S?b.substring(0,_):b);if(!x){if(!S){u=h+(u.length>0?" "+u:u);continue}if(x=i(b),!x){u=h+(u.length>0?" "+u:u);continue}S=!1}const A=s(p).join(":"),T=v?A+q0:A,M=T+x;if(a.includes(M))continue;a.push(M);const O=r(x,S);for(let N=0;N<O.length;++N){const k=O[N];a.push(T+k)}u=h+(u.length>0?" "+u:u)}return u};function HB(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zk(e))&&(i&&(i+=" "),i+=n);return i}const zk=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=zk(t[i]))&&(n&&(n+=" "),n+=e);return n};function BB(t,...e){let n,i,r,s=a;function a(u){const d=e.reduce((h,g)=>g(h),t());return n=FB(d),i=n.cache.get,r=n.cache.set,s=l,l(u)}function l(u){const d=i(u);if(d)return d;const h=zB(u,n);return r(u,h),h}return function(){return s(HB.apply(null,arguments))}}const Nn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Hk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Bk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VB=/^\d+\/\d+$/,$B=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,WB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mc=t=>VB.test(t),et=t=>!!t&&!Number.isNaN(Number(t)),Ua=t=>!!t&&Number.isInteger(Number(t)),pb=t=>t.endsWith("%")&&et(t.slice(0,-1)),Vs=t=>$B.test(t),KB=()=>!0,QB=t=>qB.test(t)&&!GB.test(t),Vk=()=>!1,XB=t=>WB.test(t),ZB=t=>YB.test(t),JB=t=>!Ae(t)&&!Te(t),eV=t=>lu(t,Gk,Vk),Ae=t=>Hk.test(t),Uo=t=>lu(t,Wk,QB),vb=t=>lu(t,sV,et),OT=t=>lu(t,$k,Vk),tV=t=>lu(t,qk,ZB),rg=t=>lu(t,Yk,XB),Te=t=>Bk.test(t),dd=t=>cu(t,Wk),nV=t=>cu(t,aV),MT=t=>cu(t,$k),iV=t=>cu(t,Gk),rV=t=>cu(t,qk),sg=t=>cu(t,Yk,!0),lu=(t,e,n)=>{const i=Hk.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},cu=(t,e,n=!1)=>{const i=Bk.exec(t);return i?i[1]?e(i[1]):n:!1},$k=t=>t==="position"||t==="percentage",qk=t=>t==="image"||t==="url",Gk=t=>t==="length"||t==="size"||t==="bg-size",Wk=t=>t==="length",sV=t=>t==="number",aV=t=>t==="family-name",Yk=t=>t==="shadow",oV=()=>{const t=Nn("color"),e=Nn("font"),n=Nn("text"),i=Nn("font-weight"),r=Nn("tracking"),s=Nn("leading"),a=Nn("breakpoint"),l=Nn("container"),u=Nn("spacing"),d=Nn("radius"),h=Nn("shadow"),g=Nn("inset-shadow"),p=Nn("text-shadow"),v=Nn("drop-shadow"),b=Nn("blur"),_=Nn("perspective"),S=Nn("aspect"),x=Nn("ease"),A=Nn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...M(),Te,Ae],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],D=()=>[Te,Ae,u],P=()=>[mc,"full","auto",...D()],z=()=>[Ua,"none","subgrid",Te,Ae],B=()=>["auto",{span:["full",Ua,Te,Ae]},Ua,Te,Ae],Q=()=>[Ua,"auto",Te,Ae],ne=()=>["auto","min","max","fr",Te,Ae],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...D()],q=()=>[mc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],V=()=>[t,Te,Ae],G=()=>[...M(),MT,OT,{position:[Te,Ae]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",iV,eV,{size:[Te,Ae]}],Z=()=>[pb,dd,Uo],ee=()=>["","none","full",d,Te,Ae],le=()=>["",et,dd,Uo],ye=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[et,pb,MT,OT],Se=()=>["","none",b,Te,Ae],je=()=>["none",et,Te,Ae],Ge=()=>["none",et,Te,Ae],Rt=()=>[et,Te,Ae],wt=()=>[mc,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[KB],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[JB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",et],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mc,Ae,Te,S]}],container:["container"],columns:[{columns:[et,Ae,Te,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Ua,"auto",Te,Ae]}],basis:[{basis:[mc,"full","auto",l,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,mc,"auto","initial","none",Ae]}],grow:[{grow:["",et,Te,Ae]}],shrink:[{shrink:["",et,Te,Ae]}],order:[{order:[Ua,"first","last","none",Te,Ae]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,dd,Uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Te,vb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pb,Ae]}],"font-family":[{font:[nV,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Te,Ae]}],"line-clamp":[{"line-clamp":[et,"none",Te,vb]}],leading:[{leading:[s,...D()]}],"list-image":[{"list-image":["none",Te,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",Te,Uo]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[et,"auto",Te,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ua,Te,Ae],radial:["",Te,Ae],conic:[Ua,Te,Ae]},rV,tV]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,Te,Ae]}],"outline-w":[{outline:["",et,dd,Uo]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",h,sg,rg]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,sg,rg]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[et,Uo]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",p,sg,rg]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[et,Te,Ae]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[Te,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ae]}],filter:[{filter:["","none",Te,Ae]}],blur:[{blur:Se()}],brightness:[{brightness:[et,Te,Ae]}],contrast:[{contrast:[et,Te,Ae]}],"drop-shadow":[{"drop-shadow":["","none",v,sg,rg]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",et,Te,Ae]}],"hue-rotate":[{"hue-rotate":[et,Te,Ae]}],invert:[{invert:["",et,Te,Ae]}],saturate:[{saturate:[et,Te,Ae]}],sepia:[{sepia:["",et,Te,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ae]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[et,Te,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[et,Te,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,Te,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,Te,Ae]}],"backdrop-invert":[{"backdrop-invert":["",et,Te,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[et,Te,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[et,Te,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",et,Te,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",Te,Ae]}],ease:[{ease:["linear","initial",x,Te,Ae]}],delay:[{delay:[et,Te,Ae]}],animate:[{animate:["none",A,Te,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Te,Ae]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:Rt()}],"skew-x":[{"skew-x":Rt()}],"skew-y":[{"skew-y":Rt()}],transform:[{transform:[Te,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wt()}],"translate-x":[{"translate-x":wt()}],"translate-y":[{"translate-y":wt()}],"translate-z":[{"translate-z":wt()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ae]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[et,dd,Uo,vb]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lV=BB(oV),kT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,NT=hw,cV=(t,e)=>n=>{var i;if(e?.variants==null)return NT(t,n?.class,n?.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(d=>{const h=n?.[d],g=s?.[d];if(h===null)return null;const p=kT(h)||kT(g);return r[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[g,p]=h;return p===void 0||(d[g]=p),d},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,h)=>{let{class:g,className:p,...v}=h;return Object.entries(v).every(b=>{let[_,S]=b;return Array.isArray(S)?S.includes({...s,...l}[_]):{...s,...l}[_]===S})?[...d,g,p]:d},[]);return NT(t,a,u,n?.class,n?.className)};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Qa(t,e){return typeof t=="function"?t(e):t}function tr(t,e){return n=>{e.setState(i=>({...i,[t]:Qa(n,i[t])}))}}function hp(t){return t instanceof Function}function uV(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function dV(t,e){const n=[],i=r=>{r.forEach(s=>{n.push(s);const a=e(s);a!=null&&a.length&&i(a)})};return i(t),n}function Fe(t,e,n){let i=[],r;return s=>{let a;n.key&&n.debug&&(a=Date.now());const l=t(s);if(!(l.length!==i.length||l.some((h,g)=>i[g]!==h)))return r;i=l;let d;if(n.key&&n.debug&&(d=Date.now()),r=e(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-a)*100)/100,g=Math.round((Date.now()-d)*100)/100,p=g/16,v=(b,_)=>{for(b=String(b);b.length<_;)b=" "+b;return b};console.info(`%c⏱ ${v(g,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n?.key)}return r}}function Ue(t,e,n,i){return{debug:()=>{var r;return(r=t?.debugAll)!=null?r:t[e]},key:!1,onChange:i}}function fV(t,e,n,i){const r=()=>{var a;return(a=s.getValue())!=null?a:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:r,getContext:Fe(()=>[t,n,e,s],(a,l,u,d)=>({table:a,column:l,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Ue(t.options,"debugCells"))};return t._features.forEach(a=>{a.createCell==null||a.createCell(s,n,e,t)},{}),s}function hV(t,e,n,i){var r,s;const l={...t._getDefaultColumnDef(),...e},u=l.accessorKey;let d=(r=(s=l.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:u&&(u.includes(".")?h=p=>{let v=p;for(const _ of u.split(".")){var b;v=(b=v)==null?void 0:b[_]}return v}:h=p=>p[l.accessorKey]),!d)throw new Error;let g={id:`${String(d)}`,accessorFn:h,parent:i,depth:n,columnDef:l,columns:[],getFlatColumns:Fe(()=>[!0],()=>{var p;return[g,...(p=g.columns)==null?void 0:p.flatMap(v=>v.getFlatColumns())]},Ue(t.options,"debugColumns")),getLeafColumns:Fe(()=>[t._getOrderColumnsFn()],p=>{var v;if((v=g.columns)!=null&&v.length){let b=g.columns.flatMap(_=>_.getLeafColumns());return p(b)}return[g]},Ue(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(g,t);return g}const si="debugHeaders";function IT(t,e,n){var i;let s={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),a.push(u)};return l(s),a},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(a=>{a.createHeader==null||a.createHeader(s,t)}),s}const gV={createTable:t=>{t.getHeaderGroups=Fe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>{var s,a;const l=(s=i?.map(g=>n.find(p=>p.id===g)).filter(Boolean))!=null?s:[],u=(a=r?.map(g=>n.find(p=>p.id===g)).filter(Boolean))!=null?a:[],d=n.filter(g=>!(i!=null&&i.includes(g.id))&&!(r!=null&&r.includes(g.id)));return ag(e,[...l,...d,...u],t)},Ue(t.options,si)),t.getCenterHeaderGroups=Fe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>(n=n.filter(s=>!(i!=null&&i.includes(s.id))&&!(r!=null&&r.includes(s.id))),ag(e,n,t,"center")),Ue(t.options,si)),t.getLeftHeaderGroups=Fe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var r;const s=(r=i?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return ag(e,s,t,"left")},Ue(t.options,si)),t.getRightHeaderGroups=Fe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var r;const s=(r=i?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return ag(e,s,t,"right")},Ue(t.options,si)),t.getFooterGroups=Fe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ue(t.options,si)),t.getLeftFooterGroups=Fe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ue(t.options,si)),t.getCenterFooterGroups=Fe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ue(t.options,si)),t.getRightFooterGroups=Fe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ue(t.options,si)),t.getFlatHeaders=Fe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ue(t.options,si)),t.getLeftFlatHeaders=Fe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ue(t.options,si)),t.getCenterFlatHeaders=Fe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ue(t.options,si)),t.getRightFlatHeaders=Fe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ue(t.options,si)),t.getCenterLeafHeaders=Fe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ue(t.options,si)),t.getLeftLeafHeaders=Fe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ue(t.options,si)),t.getRightLeafHeaders=Fe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ue(t.options,si)),t.getLeafHeaders=Fe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var r,s,a,l,u,d;return[...(r=(s=e[0])==null?void 0:s.headers)!=null?r:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(u=(d=i[0])==null?void 0:d.headers)!=null?u:[]].map(h=>h.getLeafHeaders()).flat()},Ue(t.options,si))}};function ag(t,e,n,i){var r,s;let a=0;const l=function(p,v){v===void 0&&(v=1),a=Math.max(a,v),p.filter(b=>b.getIsVisible()).forEach(b=>{var _;(_=b.columns)!=null&&_.length&&l(b.columns,v+1)},0)};l(t);let u=[];const d=(p,v)=>{const b={depth:v,id:[i,`${v}`].filter(Boolean).join("_"),headers:[]},_=[];p.forEach(S=>{const x=[..._].reverse()[0],A=S.column.depth===b.depth;let T,M=!1;if(A&&S.column.parent?T=S.column.parent:(T=S.column,M=!0),x&&x?.column===T)x.subHeaders.push(S);else{const O=IT(n,T,{id:[i,v,T.id,S?.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${_.filter(N=>N.column===T).length}`:void 0,depth:v,index:_.length});O.subHeaders.push(S),_.push(O)}b.headers.push(S),S.headerGroup=b}),u.push(b),v>0&&d(_,v-1)},h=e.map((p,v)=>IT(n,p,{depth:a,index:v}));d(h,a-1),u.reverse();const g=p=>p.filter(b=>b.column.getIsVisible()).map(b=>{let _=0,S=0,x=[0];b.subHeaders&&b.subHeaders.length?(x=[],g(b.subHeaders).forEach(T=>{let{colSpan:M,rowSpan:O}=T;_+=M,x.push(O)})):_=1;const A=Math.min(...x);return S=S+A,b.colSpan=_,b.rowSpan=S,{colSpan:_,rowSpan:S}});return g((r=(s=u[0])==null?void 0:s.headers)!=null?r:[]),u}const mV=(t,e,n,i,r,s,a)=>{let l={id:e,index:i,original:n,depth:r,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return l._valuesCache[u]=d.accessorFn(l.original,i),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=d.columnDef.getUniqueValues(l.original,i),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=l.getValue(u))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>dV(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;u.push(h),d=h}return u.reverse()},getAllCells:Fe(()=>[t.getAllLeafColumns()],u=>u.map(d=>fV(t,l,d,d.id)),Ue(t.options,"debugRows")),_getAllCellsByColumnId:Fe(()=>[l.getAllCells()],u=>u.reduce((d,h)=>(d[h.column.id]=h,d),{}),Ue(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createRow==null||d.createRow(l,t)}return l},pV={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Kk=(t,e,n)=>{var i,r;const s=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(s))};Kk.autoRemove=t=>$r(t);const Qk=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};Qk.autoRemove=t=>$r(t);const Xk=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===n?.toLowerCase()};Xk.autoRemove=t=>$r(t);const Zk=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};Zk.autoRemove=t=>$r(t);const Jk=(t,e,n)=>!n.some(i=>{var r;return!((r=t.getValue(e))!=null&&r.includes(i))});Jk.autoRemove=t=>$r(t)||!(t!=null&&t.length);const e1=(t,e,n)=>n.some(i=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(i)});e1.autoRemove=t=>$r(t)||!(t!=null&&t.length);const t1=(t,e,n)=>t.getValue(e)===n;t1.autoRemove=t=>$r(t);const n1=(t,e,n)=>t.getValue(e)==n;n1.autoRemove=t=>$r(t);const mw=(t,e,n)=>{let[i,r]=n;const s=t.getValue(e);return s>=i&&s<=r};mw.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(i)?-1/0:i,a=n===null||Number.isNaN(r)?1/0:r;if(s>a){const l=s;s=a,a=l}return[s,a]};mw.autoRemove=t=>$r(t)||$r(t[0])&&$r(t[1]);const Ks={includesString:Kk,includesStringSensitive:Qk,equalsString:Xk,arrIncludes:Zk,arrIncludesAll:Jk,arrIncludesSome:e1,equals:t1,weakEquals:n1,inNumberRange:mw};function $r(t){return t==null||t===""}const vV={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:tr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);return typeof i=="string"?Ks.includesString:typeof i=="number"?Ks.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?Ks.equals:Array.isArray(i)?Ks.arrIncludes:Ks.weakEquals},t.getFilterFn=()=>{var n,i;return hp(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:Ks[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const r=t.getFilterFn(),s=i?.find(h=>h.id===t.id),a=Qa(n,s?s.value:void 0);if(PT(r,a,t)){var l;return(l=i?.filter(h=>h.id!==t.id))!=null?l:[]}const u={id:t.id,value:a};if(s){var d;return(d=i?.map(h=>h.id===t.id?u:h))!=null?d:[]}return i!=null&&i.length?[...i,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=r=>{var s;return(s=Qa(e,r))==null?void 0:s.filter(a=>{const l=n.find(u=>u.id===a.id);if(l){const u=l.getFilterFn();if(PT(u,a.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function PT(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const yV=(t,e,n)=>n.reduce((i,r)=>{const s=r.getValue(t);return i+(typeof s=="number"?s:0)},0),bV=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}),i},_V=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}),i},wV=(t,e,n)=>{let i,r;return n.forEach(s=>{const a=s.getValue(t);a!=null&&(i===void 0?a>=a&&(i=r=a):(i>a&&(i=a),r<a&&(r=a)))}),[i,r]},SV=(t,e)=>{let n=0,i=0;if(e.forEach(r=>{let s=r.getValue(t);s!=null&&(s=+s)>=s&&(++n,i+=s)}),n)return i/n},xV=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!uV(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((s,a)=>s-a);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},EV=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),CV=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,AV=(t,e)=>e.length,yb={sum:yV,min:bV,max:_V,extent:wV,mean:SV,median:xV,unique:EV,uniqueCount:CV,count:AV},TV={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:tr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);if(typeof i=="number")return yb.sum;if(Object.prototype.toString.call(i)==="[object Date]")return yb.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return hp(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:yb[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function RV(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(s=>!e.includes(s.id));return n==="remove"?i:[...e.map(s=>t.find(a=>a.id===s)).filter(Boolean),...i]}const DV={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:tr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Fe(n=>[Rd(e,n)],n=>n.findIndex(i=>i.id===t.id),Ue(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=Rd(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const r=Rd(e,n);return((i=r[r.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Fe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>r=>{let s=[];if(!(e!=null&&e.length))s=r;else{const a=[...e],l=[...r];for(;l.length&&a.length;){const u=a.shift(),d=l.findIndex(h=>h.id===u);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return RV(s,n,i)},Ue(t.options,"debugTable"))}},bb=()=>({left:[],right:[]}),OV={getInitialState:t=>({columnPinning:bb(),...t}),getDefaultOptions:t=>({onColumnPinningChange:tr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var s,a;if(n==="right"){var l,u;return{left:((l=r?.left)!=null?l:[]).filter(g=>!(i!=null&&i.includes(g))),right:[...((u=r?.right)!=null?u:[]).filter(g=>!(i!=null&&i.includes(g))),...i]}}if(n==="left"){var d,h;return{left:[...((d=r?.left)!=null?d:[]).filter(g=>!(i!=null&&i.includes(g))),...i],right:((h=r?.right)!=null?h:[]).filter(g=>!(i!=null&&i.includes(g)))}}return{left:((s=r?.left)!=null?s:[]).filter(g=>!(i!=null&&i.includes(g))),right:((a=r?.right)!=null?a:[]).filter(g=>!(i!=null&&i.includes(g)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var r,s,a;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((s=(a=e.options.enableColumnPinning)!=null?a:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:i,right:r}=e.getState().columnPinning,s=n.some(l=>i?.includes(l)),a=n.some(l=>r?.includes(l));return s?"left":a?"right":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();return r?(n=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Fe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,r)=>{const s=[...i??[],...r??[]];return n.filter(a=>!s.includes(a.column.id))},Ue(e.options,"debugRows")),t.getLeftVisibleCells=Fe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Ue(e.options,"debugRows")),t.getRightVisibleCells=Fe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Ue(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?bb():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:bb())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var r,s;return!!((r=i.left)!=null&&r.length||(s=i.right)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=Fe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Ue(t.options,"debugColumns")),t.getRightLeafColumns=Fe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Ue(t.options,"debugColumns")),t.getCenterLeafColumns=Fe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const r=[...n??[],...i??[]];return e.filter(s=>!r.includes(s.id))},Ue(t.options,"debugColumns"))}};function MV(t){return t||(typeof document<"u"?document:null)}const og={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},_b=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),kV={getDefaultColumnDef:()=>og,getInitialState:t=>({columnSizing:{},columnSizingInfo:_b(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:tr("columnSizing",t),onColumnSizingInfoChange:tr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,r;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:og.minSize,(i=s??t.columnDef.size)!=null?i:og.size),(r=t.columnDef.maxSize)!=null?r:og.maxSize)},t.getStart=Fe(n=>[n,Rd(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((r,s)=>r+s.getSize(),0),Ue(e.options,"debugColumns")),t.getAfter=Fe(n=>[n,Rd(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((r,s)=>r+s.getSize(),0),Ue(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...r}=n;return r})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var s;n+=(s=r.column.getSize())!=null?s:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),r=i?.getCanResize();return s=>{if(!i||!r||(s.persist==null||s.persist(),wb(s)&&s.touches&&s.touches.length>1))return;const a=t.getSize(),l=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[i.id,i.getSize()]],u=wb(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(x,A)=>{typeof A=="number"&&(e.setColumnSizingInfo(T=>{var M,O;const N=e.options.columnResizeDirection==="rtl"?-1:1,k=(A-((M=T?.startOffset)!=null?M:0))*N,D=Math.max(k/((O=T?.startSize)!=null?O:0),-.999999);return T.columnSizingStart.forEach(P=>{let[z,B]=P;d[z]=Math.round(Math.max(B+B*D,0)*100)/100}),{...T,deltaOffset:k,deltaPercentage:D}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(T=>({...T,...d})))},g=x=>h("move",x),p=x=>{h("end",x),e.setColumnSizingInfo(A=>({...A,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=MV(n),b={moveHandler:x=>g(x.clientX),upHandler:x=>{v?.removeEventListener("mousemove",b.moveHandler),v?.removeEventListener("mouseup",b.upHandler),p(x.clientX)}},_={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),g(x.touches[0].clientX),!1),upHandler:x=>{var A;v?.removeEventListener("touchmove",_.moveHandler),v?.removeEventListener("touchend",_.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),p((A=x.touches[0])==null?void 0:A.clientX)}},S=NV()?{passive:!1}:!1;wb(s)?(v?.addEventListener("touchmove",_.moveHandler,S),v?.addEventListener("touchend",_.upHandler,S)):(v?.addEventListener("mousemove",b.moveHandler,S),v?.addEventListener("mouseup",b.upHandler,S)),e.setColumnSizingInfo(x=>({...x,startOffset:u,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?_b():(n=t.initialState.columnSizingInfo)!=null?n:_b())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let lg=null;function NV(){if(typeof lg=="boolean")return lg;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return lg=t,lg}function wb(t){return t.type==="touchstart"}const IV={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:tr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const r=t.columns;return(n=r.length?r.some(s=>s.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Fe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),Ue(e.options,"debugRows")),t.getVisibleCells=Fe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],Ue(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>Fe(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Ue(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,s)=>({...r,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function Rd(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const PV={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},jV={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:tr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,r,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Ks.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return hp(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:Ks[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},LV={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:tr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var r,s;t.setExpanded(i?{}:(r=(s=t.initialState)==null?void 0:s.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const a=s.split(".");i=Math.max(i,a.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var r;const s=i===!0?!0:!!(i!=null&&i[t.id]);let a={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=i,n=(r=n)!=null?r:!s,!s&&n)return{...a,[t.id]:!0};if(s&&!n){const{[t.id]:l,...u}=a;return u}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i?.[t.id])},t.getCanExpand=()=>{var n,i,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},W0=0,Y0=10,Sb=()=>({pageIndex:W0,pageSize:Y0}),FV={getInitialState:t=>({...t,pagination:{...Sb(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:tr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const r=s=>Qa(i,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=i=>{var r;t.setPagination(i?Sb():(r=t.initialState.pagination)!=null?r:Sb())},t.setPageIndex=i=>{t.setPagination(r=>{let s=Qa(i,r.pageIndex);const a=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...r,pageIndex:s}})},t.resetPageIndex=i=>{var r,s;t.setPageIndex(i?W0:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?r:W0)},t.resetPageSize=i=>{var r,s;t.setPageSize(i?Y0:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?r:Y0)},t.setPageSize=i=>{t.setPagination(r=>{const s=Math.max(1,Qa(i,r.pageSize)),a=r.pageSize*r.pageIndex,l=Math.floor(a/s);return{...r,pageIndex:l,pageSize:s}})},t.setPageCount=i=>t.setPagination(r=>{var s;let a=Qa(i,(s=t.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...r,pageCount:a}}),t.getPageOptions=Fe(()=>[t.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((s,a)=>a)),r},Ue(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:i<r-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},xb=()=>({top:[],bottom:[]}),UV={getInitialState:t=>({rowPinning:xb(),...t}),getDefaultOptions:t=>({onRowPinningChange:tr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,r)=>{const s=i?t.getLeafRows().map(u=>{let{id:d}=u;return d}):[],a=r?t.getParentRows().map(u=>{let{id:d}=u;return d}):[],l=new Set([...a,t.id,...s]);e.setRowPinning(u=>{var d,h;if(n==="bottom"){var g,p;return{top:((g=u?.top)!=null?g:[]).filter(_=>!(l!=null&&l.has(_))),bottom:[...((p=u?.bottom)!=null?p:[]).filter(_=>!(l!=null&&l.has(_))),...Array.from(l)]}}if(n==="top"){var v,b;return{top:[...((v=u?.top)!=null?v:[]).filter(_=>!(l!=null&&l.has(_))),...Array.from(l)],bottom:((b=u?.bottom)!=null?b:[]).filter(_=>!(l!=null&&l.has(_)))}}return{top:((d=u?.top)!=null?d:[]).filter(_=>!(l!=null&&l.has(_))),bottom:((h=u?.bottom)!=null?h:[]).filter(_=>!(l!=null&&l.has(_)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(t):(n=i??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:r}=e.getState().rowPinning,s=n.some(l=>i?.includes(l)),a=n.some(l=>r?.includes(l));return s?"top":a?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();if(!r)return-1;const s=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(i=s?.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?xb():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:xb())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var r,s;return!!((r=i.top)!=null&&r.length||(s=i.bottom)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(a=>{const l=t.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>e.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:i}))},t.getTopRows=Fe(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ue(t.options,"debugRows")),t.getBottomRows=Fe(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ue(t.options,"debugRows")),t.getCenterRows=Fe(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const r=new Set([...n??[],...i??[]]);return e.filter(s=>!r.has(s.id))},Ue(t.options,"debugRows"))}},zV={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:tr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(s=>{s.getCanSelect()&&(i[s.id]=!0)}):r.forEach(s=>{delete i[s.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(s=>{K0(r,s.id,i,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Fe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?Eb(t,n):{rows:[],flatRows:[],rowsById:{}},Ue(t.options,"debugTable")),t.getFilteredSelectedRowModel=Fe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?Eb(t,n):{rows:[],flatRows:[],rowsById:{}},Ue(t.options,"debugTable")),t.getGroupedSelectedRowModel=Fe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?Eb(t,n):{rows:[],flatRows:[],rowsById:{}},Ue(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(r=>!n[r.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const r=t.getIsSelected();e.setRowSelection(s=>{var a;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return s;const l={...s};return K0(l,t.id,n,(a=i?.selectChildren)!=null?a:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return pw(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Q0(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Q0(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var r;n&&t.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},K0=(t,e,n,i,r)=>{var s;const a=r.getRow(e,!0);n?(a.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),a.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>K0(t,l.id,n,i,r))};function Eb(t,e){const n=t.getState().rowSelection,i=[],r={},s=function(a,l){return a.map(u=>{var d;const h=pw(u,n);if(h&&(i.push(u),r[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:s(u.subRows)}),h)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:i,rowsById:r}}function pw(t,e){var n;return(n=e[t.id])!=null?n:!1}function Q0(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let r=!0,s=!1;return t.subRows.forEach(a=>{if(!(s&&!r)&&(a.getCanSelect()&&(pw(a,e)?s=!0:r=!1),a.subRows&&a.subRows.length)){const l=Q0(a,e);l==="all"?s=!0:(l==="some"&&(s=!0),r=!1)}}),r?"all":s?"some":!1}const X0=/([0-9]+)/gm,HV=(t,e,n)=>i1(ao(t.getValue(n)).toLowerCase(),ao(e.getValue(n)).toLowerCase()),BV=(t,e,n)=>i1(ao(t.getValue(n)),ao(e.getValue(n))),VV=(t,e,n)=>vw(ao(t.getValue(n)).toLowerCase(),ao(e.getValue(n)).toLowerCase()),$V=(t,e,n)=>vw(ao(t.getValue(n)),ao(e.getValue(n))),qV=(t,e,n)=>{const i=t.getValue(n),r=e.getValue(n);return i>r?1:i<r?-1:0},GV=(t,e,n)=>vw(t.getValue(n),e.getValue(n));function vw(t,e){return t===e?0:t>e?1:-1}function ao(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function i1(t,e){const n=t.split(X0).filter(Boolean),i=e.split(X0).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),s=i.shift(),a=parseInt(r,10),l=parseInt(s,10),u=[a,l].sort();if(isNaN(u[0])){if(r>s)return 1;if(s>r)return-1;continue}if(isNaN(u[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-i.length}const fd={alphanumeric:HV,alphanumericCaseSensitive:BV,text:VV,textCaseSensitive:$V,datetime:qV,basic:GV},WV={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:tr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const s=r?.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return fd.datetime;if(typeof s=="string"&&(i=!0,s.split(X0).length>1))return fd.alphanumeric}return i?fd.text:fd.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return hp(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:fd[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const r=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(a=>{const l=a?.find(v=>v.id===t.id),u=a?.findIndex(v=>v.id===t.id);let d=[],h,g=s?n:r==="desc";if(a!=null&&a.length&&t.getCanMultiSort()&&i?l?h="toggle":h="add":a!=null&&a.length&&u!==a.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||r||(h="remove")),h==="add"){var p;d=[...a,{id:t.id,desc:g}],d.splice(0,d.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=a.map(v=>v.id===t.id?{...v,desc:g}:v):h==="remove"?d=a.filter(v=>v.id!==t.id):d=[{id:t.id,desc:g}];return d})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,r;const s=t.getFirstSortDir(),a=t.getIsSorted();return a?a!==s&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:a==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},YV=[gV,IV,DV,OV,pV,vV,PV,jV,WV,TV,LV,FV,UV,zV,kV];function KV(t){var e,n;const i=[...YV,...(e=t._features)!=null?e:[]];let r={_features:i};const s=r._features.reduce((p,v)=>Object.assign(p,v.getDefaultOptions==null?void 0:v.getDefaultOptions(r)),{}),a=p=>r.options.mergeOptions?r.options.mergeOptions(s,p):{...s,...p};let u={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(p=>{var v;u=(v=p.getInitialState==null?void 0:p.getInitialState(u))!=null?v:u});const d=[];let h=!1;const g={_features:i,options:{...s,...t},initialState:u,_queue:p=>{d.push(p),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(v=>setTimeout(()=>{throw v})))},reset:()=>{r.setState(r.initialState)},setOptions:p=>{const v=Qa(p,r.options);r.options=a(v)},getState:()=>r.options.state,setState:p=>{r.options.onStateChange==null||r.options.onStateChange(p)},_getRowId:(p,v,b)=>{var _;return(_=r.options.getRowId==null?void 0:r.options.getRowId(p,v,b))!=null?_:`${b?[b.id,v].join("."):v}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(p,v)=>{let b=(v?r.getPrePaginationRowModel():r.getRowModel()).rowsById[p];if(!b&&(b=r.getCoreRowModel().rowsById[p],!b))throw new Error;return b},_getDefaultColumnDef:Fe(()=>[r.options.defaultColumn],p=>{var v;return p=(v=p)!=null?v:{},{header:b=>{const _=b.header.column.columnDef;return _.accessorKey?_.accessorKey:_.accessorFn?_.id:null},cell:b=>{var _,S;return(_=(S=b.renderValue())==null||S.toString==null?void 0:S.toString())!=null?_:null},...r._features.reduce((b,_)=>Object.assign(b,_.getDefaultColumnDef==null?void 0:_.getDefaultColumnDef()),{}),...p}},Ue(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:Fe(()=>[r._getColumnDefs()],p=>{const v=function(b,_,S){return S===void 0&&(S=0),b.map(x=>{const A=hV(r,x,S,_),T=x;return A.columns=T.columns?v(T.columns,A,S+1):[],A})};return v(p)},Ue(t,"debugColumns")),getAllFlatColumns:Fe(()=>[r.getAllColumns()],p=>p.flatMap(v=>v.getFlatColumns()),Ue(t,"debugColumns")),_getAllFlatColumnsById:Fe(()=>[r.getAllFlatColumns()],p=>p.reduce((v,b)=>(v[b.id]=b,v),{}),Ue(t,"debugColumns")),getAllLeafColumns:Fe(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(p,v)=>{let b=p.flatMap(_=>_.getLeafColumns());return v(b)},Ue(t,"debugColumns")),getColumn:p=>r._getAllFlatColumnsById()[p]};Object.assign(r,g);for(let p=0;p<r._features.length;p++){const v=r._features[p];v==null||v.createTable==null||v.createTable(r)}return r}function QV(){return t=>Fe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,s,a){s===void 0&&(s=0);const l=[];for(let d=0;d<r.length;d++){const h=mV(t,t._getRowId(r[d],d,a),r[d],d,s,void 0,a?.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var u;h.originalSubRows=t.options.getSubRows(r[d],d),(u=h.originalSubRows)!=null&&u.length&&(h.subRows=i(h.originalSubRows,s+1,h))}}return l};return n.rows=i(e),n},Ue(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function XV(){return t=>Fe(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const i=t.getState().sorting,r=[],s=i.filter(u=>{var d;return(d=t.getColumn(u.id))==null?void 0:d.getCanSort()}),a={};s.forEach(u=>{const d=t.getColumn(u.id);d&&(a[u.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=u=>{const d=u.map(h=>({...h}));return d.sort((h,g)=>{for(let v=0;v<s.length;v+=1){var p;const b=s[v],_=a[b.id],S=_.sortUndefined,x=(p=b?.desc)!=null?p:!1;let A=0;if(S){const T=h.getValue(b.id),M=g.getValue(b.id),O=T===void 0,N=M===void 0;if(O||N){if(S==="first")return O?-1:1;if(S==="last")return O?1:-1;A=O&&N?0:O?S:-S}}if(A===0&&(A=_.sortingFn(h,g,b.id)),A!==0)return x&&(A*=-1),_.invertSorting&&(A*=-1),A}return h.index-g.index}),d.forEach(h=>{var g;r.push(h),(g=h.subRows)!=null&&g.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:r,rowsById:n.rowsById}},Ue(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function jT(t,e){return t?ZV(t)?C.createElement(t,e):t:null}function ZV(t){return JV(t)||typeof t=="function"||e$(t)}function JV(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function e$(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function t$(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=C.useState(()=>({current:KV(e)})),[i,r]=C.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...i,...t.state},onStateChange:a=>{r(a),t.onStateChange==null||t.onStateChange(a)}})),n.current}var xf=t=>t.type==="checkbox",nl=t=>t instanceof Date,Ii=t=>t==null;const r1=t=>typeof t=="object";var Dn=t=>!Ii(t)&&!Array.isArray(t)&&r1(t)&&!nl(t),n$=t=>Dn(t)&&t.target?xf(t.target)?t.target.checked:t.target.value:t,i$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,r$=(t,e)=>t.has(i$(e)),s$=t=>{const e=t.constructor&&t.constructor.prototype;return Dn(e)&&e.hasOwnProperty("isPrototypeOf")},yw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vn(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(yw&&(t instanceof Blob||i))&&(n||Dn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!s$(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Vn(t[r]));else return t;return e}var gp=t=>/^\w*$/.test(t),bn=t=>t===void 0,bw=t=>Array.isArray(t)?t.filter(Boolean):[],_w=t=>bw(t.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(t,e,n)=>{if(!e||!Dn(t))return n;const i=(gp(e)?[e]:_w(e)).reduce((r,s)=>Ii(r)?r:r[s],t);return bn(i)||i===t?bn(t[e])?n:t[e]:i},ds=t=>typeof t=="boolean",tn=(t,e,n)=>{let i=-1;const r=gp(e)?[e]:_w(e),s=r.length,a=s-1;for(;++i<s;){const l=r[i];let u=n;if(i!==a){const d=t[l];u=Dn(d)||Array.isArray(d)?d:isNaN(+r[i+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const LT={BLUR:"blur",FOCUS_OUT:"focusout"},Fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$s={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},a$=oe.createContext(null);a$.displayName="HookFormContext";var o$=(t,e,n,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(r,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Fr.all&&(e._proxyFormState[a]=!i||Fr.all),t[a]}});return r};const l$=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;var Ki=t=>typeof t=="string",c$=(t,e,n,i,r)=>Ki(t)?(i&&e.watch.add(t),De(n,t,r)):Array.isArray(t)?t.map(s=>(i&&e.watch.add(s),De(n,s))):(i&&(e.watchAll=!0),n),Z0=t=>Ii(t)||!r1(t);function Ya(t,e,n=new WeakSet){if(Z0(t)||Z0(e))return t===e;if(nl(t)&&nl(e))return t.getTime()===e.getTime();const i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of i){const a=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const l=e[s];if(nl(a)&&nl(l)||Dn(a)&&Dn(l)||Array.isArray(a)&&Array.isArray(l)?!Ya(a,l,n):a!==l)return!1}}return!0}var u$=(t,e,n,i,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:r||!0}}:{},Dd=t=>Array.isArray(t)?t:[t],FT=()=>{let t=[];return{get observers(){return t},next:r=>{for(const s of t)s.next&&s.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(s=>s!==r)}}),unsubscribe:()=>{t=[]}}};function s1(t,e){const n={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i],s=e[i];if(r&&Dn(r)&&s){const a=s1(r,s);Dn(a)&&(n[i]=a)}else t[i]&&(n[i]=s)}return n}var Mi=t=>Dn(t)&&!Object.keys(t).length,ww=t=>t.type==="file",Ur=t=>typeof t=="function",bm=t=>{if(!yw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},a1=t=>t.type==="select-multiple",Sw=t=>t.type==="radio",d$=t=>Sw(t)||xf(t),Cb=t=>bm(t)&&t.isConnected;function f$(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=bn(t)?i++:t[e[i++]];return t}function h$(t){for(const e in t)if(t.hasOwnProperty(e)&&!bn(t[e]))return!1;return!0}function Tn(t,e){const n=Array.isArray(e)?e:gp(e)?[e]:_w(e),i=n.length===1?t:f$(t,n),r=n.length-1,s=n[r];return i&&delete i[s],r!==0&&(Dn(i)&&Mi(i)||Array.isArray(i)&&h$(i))&&Tn(t,n.slice(0,-1)),t}var g$=t=>{for(const e in t)if(Ur(t[e]))return!0;return!1};function o1(t){return Array.isArray(t)||Dn(t)&&!g$(t)}function J0(t,e={}){for(const n in t)o1(t[n])?(e[n]=Array.isArray(t[n])?[]:{},J0(t[n],e[n])):bn(t[n])||(e[n]=!0);return e}function Dc(t,e,n){n||(n=J0(e));for(const i in t)o1(t[i])?bn(e)||Z0(n[i])?n[i]=J0(t[i],Array.isArray(t[i])?[]:{}):Dc(t[i],Ii(e)?{}:e[i],n[i]):n[i]=!Ya(t[i],e[i]);return n}const UT={value:!1,isValid:!1},zT={value:!0,isValid:!0};var l1=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!bn(t[0].attributes.value)?bn(t[0].value)||t[0].value===""?zT:{value:t[0].value,isValid:!0}:zT:UT}return UT},c1=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>bn(t)?t:e?t===""?NaN:t&&+t:n&&Ki(t)?new Date(t):i?i(t):t;const HT={isValid:!1,value:null};var u1=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,HT):HT;function BT(t){const e=t.ref;return ww(e)?e.files:Sw(e)?u1(t.refs).value:a1(e)?[...e.selectedOptions].map(({value:n})=>n):xf(e)?l1(t.refs).value:c1(bn(e.value)?t.ref.value:e.value,t)}var m$=(t,e,n,i)=>{const r={};for(const s of t){const a=De(e,s);a&&tn(r,s,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:i}},_m=t=>t instanceof RegExp,hd=t=>bn(t)?t:_m(t)?t.source:Dn(t)?_m(t.value)?t.value.source:t.value:t,VT=t=>({isOnSubmit:!t||t===Fr.onSubmit,isOnBlur:t===Fr.onBlur,isOnChange:t===Fr.onChange,isOnAll:t===Fr.all,isOnTouch:t===Fr.onTouched});const $T="AsyncFunction";var p$=t=>!!t&&!!t.validate&&!!(Ur(t.validate)&&t.validate.constructor.name===$T||Dn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===$T)),v$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),qT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const Od=(t,e,n,i)=>{for(const r of n||Object.keys(t)){const s=De(t,r);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!i)return!0;if(a.ref&&e(a.ref,a.name)&&!i)return!0;if(Od(l,e))break}else if(Dn(l)&&Od(l,e))break}}};function GT(t,e,n){const i=De(t,n);if(i||gp(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const s=r.join("."),a=De(e,s),l=De(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};r.pop()}return{name:n}}var y$=(t,e,n,i)=>{n(t);const{name:r,...s}=t;return Mi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!i||Fr.all))},b$=(t,e,n)=>!t||!e||t===e||Dd(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),_$=(t,e,n,i,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?i.isOnBlur:r.isOnBlur)?!t:(n?i.isOnChange:r.isOnChange)?t:!0,w$=(t,e)=>!bw(De(t,e)).length&&Tn(t,e),S$=(t,e,n)=>{const i=Dd(De(t,n));return tn(i,"root",e[n]),tn(t,n,i),t};function WT(t,e,n="validate"){if(Ki(t)||Array.isArray(t)&&t.every(Ki)||ds(t)&&!t)return{type:n,message:Ki(t)?t:"",ref:e}}var pc=t=>Dn(t)&&!_m(t)?t:{value:t,message:""},YT=async(t,e,n,i,r,s)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:h,min:g,max:p,pattern:v,validate:b,name:_,valueAsNumber:S,mount:x}=t._f,A=De(n,_);if(!x||e.has(_))return{};const T=l?l[0]:a,M=Q=>{r&&T.reportValidity&&(T.setCustomValidity(ds(Q)?"":Q||""),T.reportValidity())},O={},N=Sw(a),k=xf(a),D=N||k,P=(S||ww(a))&&bn(a.value)&&bn(A)||bm(a)&&a.value===""||A===""||Array.isArray(A)&&!A.length,z=u$.bind(null,_,i,O),B=(Q,ne,ce,me=$s.maxLength,L=$s.minLength)=>{const q=Q?ne:ce;O[_]={type:Q?me:L,message:q,ref:a,...z(Q?me:L,q)}};if(s?!Array.isArray(A)||!A.length:u&&(!D&&(P||Ii(A))||ds(A)&&!A||k&&!l1(l).isValid||N&&!u1(l).isValid)){const{value:Q,message:ne}=Ki(u)?{value:!!u,message:u}:pc(u);if(Q&&(O[_]={type:$s.required,message:ne,ref:T,...z($s.required,ne)},!i))return M(ne),O}if(!P&&(!Ii(g)||!Ii(p))){let Q,ne;const ce=pc(p),me=pc(g);if(!Ii(A)&&!isNaN(A)){const L=a.valueAsNumber||A&&+A;Ii(ce.value)||(Q=L>ce.value),Ii(me.value)||(ne=L<me.value)}else{const L=a.valueAsDate||new Date(A),q=he=>new Date(new Date().toDateString()+" "+he),V=a.type=="time",G=a.type=="week";Ki(ce.value)&&A&&(Q=V?q(A)>q(ce.value):G?A>ce.value:L>new Date(ce.value)),Ki(me.value)&&A&&(ne=V?q(A)<q(me.value):G?A<me.value:L<new Date(me.value))}if((Q||ne)&&(B(!!Q,ce.message,me.message,$s.max,$s.min),!i))return M(O[_].message),O}if((d||h)&&!P&&(Ki(A)||s&&Array.isArray(A))){const Q=pc(d),ne=pc(h),ce=!Ii(Q.value)&&A.length>+Q.value,me=!Ii(ne.value)&&A.length<+ne.value;if((ce||me)&&(B(ce,Q.message,ne.message),!i))return M(O[_].message),O}if(v&&!P&&Ki(A)){const{value:Q,message:ne}=pc(v);if(_m(Q)&&!A.match(Q)&&(O[_]={type:$s.pattern,message:ne,ref:a,...z($s.pattern,ne)},!i))return M(ne),O}if(b){if(Ur(b)){const Q=await b(A,n),ne=WT(Q,T);if(ne&&(O[_]={...ne,...z($s.validate,ne.message)},!i))return M(ne.message),O}else if(Dn(b)){let Q={};for(const ne in b){if(!Mi(Q)&&!i)break;const ce=WT(await b[ne](A,n),T,ne);ce&&(Q={...ce,...z(ne,ce.message)},M(ce.message),i&&(O[_]=Q))}if(!Mi(Q)&&(O[_]={ref:T,...Q},!i))return O}}return M(!0),O};const x$={mode:Fr.onSubmit,reValidateMode:Fr.onChange,shouldFocusError:!0};function E$(t={}){let e={...x$,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ur(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=Dn(e.defaultValues)||Dn(e.values)?Vn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Vn(r),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const p={array:FT(),state:FT()},v=e.criteriaMode===Fr.all,b=j=>W=>{clearTimeout(d),d=setTimeout(j,W)},_=async j=>{if(!e.disabled&&(h.isValid||g.isValid||j)){const W=e.resolver?Mi((await k()).errors):await P(i,!0);W!==n.isValid&&p.state.next({isValid:W})}},S=(j,W)=>{!e.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&((j||Array.from(l.mount)).forEach(X=>{X&&(W?tn(n.validatingFields,X,W):Tn(n.validatingFields,X))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Mi(n.validatingFields)}))},x=(j,W=[],X,K,ie=!0,ue=!0)=>{if(K&&X&&!e.disabled){if(a.action=!0,ue&&Array.isArray(De(i,j))){const ve=X(De(i,j),K.argA,K.argB);ie&&tn(i,j,ve)}if(ue&&Array.isArray(De(n.errors,j))){const ve=X(De(n.errors,j),K.argA,K.argB);ie&&tn(n.errors,j,ve),w$(n.errors,j)}if((h.touchedFields||g.touchedFields)&&ue&&Array.isArray(De(n.touchedFields,j))){const ve=X(De(n.touchedFields,j),K.argA,K.argB);ie&&tn(n.touchedFields,j,ve)}(h.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Dc(r,s)),p.state.next({name:j,isDirty:B(j,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else tn(s,j,W)},A=(j,W)=>{tn(n.errors,j,W),p.state.next({errors:n.errors})},T=j=>{n.errors=j,p.state.next({errors:n.errors,isValid:!1})},M=(j,W,X,K)=>{const ie=De(i,j);if(ie){const ue=De(s,j,bn(X)?De(r,j):X);bn(ue)||K&&K.defaultChecked||W?tn(s,j,W?ue:BT(ie._f)):ce(j,ue),a.mount&&_()}},O=(j,W,X,K,ie)=>{let ue=!1,ve=!1;const be={name:j};if(!e.disabled){if(!X||K){(h.isDirty||g.isDirty)&&(ve=n.isDirty,n.isDirty=be.isDirty=B(),ue=ve!==be.isDirty);const we=Ya(De(r,j),W);ve=!!De(n.dirtyFields,j),we?Tn(n.dirtyFields,j):tn(n.dirtyFields,j,!0),be.dirtyFields=n.dirtyFields,ue=ue||(h.dirtyFields||g.dirtyFields)&&ve!==!we}if(X){const we=De(n.touchedFields,j);we||(tn(n.touchedFields,j,X),be.touchedFields=n.touchedFields,ue=ue||(h.touchedFields||g.touchedFields)&&we!==X)}ue&&ie&&p.state.next(be)}return ue?be:{}},N=(j,W,X,K)=>{const ie=De(n.errors,j),ue=(h.isValid||g.isValid)&&ds(W)&&n.isValid!==W;if(e.delayError&&X?(u=b(()=>A(j,X)),u(e.delayError)):(clearTimeout(d),u=null,X?tn(n.errors,j,X):Tn(n.errors,j)),(X?!Ya(ie,X):ie)||!Mi(K)||ue){const ve={...K,...ue&&ds(W)?{isValid:W}:{},errors:n.errors,name:j};n={...n,...ve},p.state.next(ve)}},k=async j=>{S(j,!0);const W=await e.resolver(s,e.context,m$(j||l.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return S(j),W},D=async j=>{const{errors:W}=await k(j);if(j)for(const X of j){const K=De(W,X);K?tn(n.errors,X,K):Tn(n.errors,X)}else n.errors=W;return W},P=async(j,W,X={valid:!0})=>{for(const K in j){const ie=j[K];if(ie){const{_f:ue,...ve}=ie;if(ue){const be=l.array.has(ue.name),we=ie._f&&p$(ie._f);we&&h.validatingFields&&S([ue.name],!0);const Me=await YT(ie,l.disabled,s,v,e.shouldUseNativeValidation&&!W,be);if(we&&h.validatingFields&&S([ue.name]),Me[ue.name]&&(X.valid=!1,W))break;!W&&(De(Me,ue.name)?be?S$(n.errors,Me,ue.name):tn(n.errors,ue.name,Me[ue.name]):Tn(n.errors,ue.name))}!Mi(ve)&&await P(ve,W,X)}}return X.valid},z=()=>{for(const j of l.unMount){const W=De(i,j);W&&(W._f.refs?W._f.refs.every(X=>!Cb(X)):!Cb(W._f.ref))&&pe(j)}l.unMount=new Set},B=(j,W)=>!e.disabled&&(j&&W&&tn(s,j,W),!Ya(he(),r)),Q=(j,W,X)=>c$(j,l,{...a.mount?s:bn(W)?r:Ki(j)?{[j]:W}:W},X,W),ne=j=>bw(De(a.mount?s:r,j,e.shouldUnregister?De(r,j,[]):[])),ce=(j,W,X={})=>{const K=De(i,j);let ie=W;if(K){const ue=K._f;ue&&(!ue.disabled&&tn(s,j,c1(W,ue)),ie=bm(ue.ref)&&Ii(W)?"":W,a1(ue.ref)?[...ue.ref.options].forEach(ve=>ve.selected=ie.includes(ve.value)):ue.refs?xf(ue.ref)?ue.refs.forEach(ve=>{(!ve.defaultChecked||!ve.disabled)&&(Array.isArray(ie)?ve.checked=!!ie.find(be=>be===ve.value):ve.checked=ie===ve.value||!!ie)}):ue.refs.forEach(ve=>ve.checked=ve.value===ie):ww(ue.ref)?ue.ref.value="":(ue.ref.value=ie,ue.ref.type||p.state.next({name:j,values:Vn(s)})))}(X.shouldDirty||X.shouldTouch)&&O(j,ie,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&G(j)},me=(j,W,X)=>{for(const K in W){if(!W.hasOwnProperty(K))return;const ie=W[K],ue=j+"."+K,ve=De(i,ue);(l.array.has(j)||Dn(ie)||ve&&!ve._f)&&!nl(ie)?me(ue,ie,X):ce(ue,ie,X)}},L=(j,W,X={})=>{const K=De(i,j),ie=l.array.has(j),ue=Vn(W);tn(s,j,ue),ie?(p.array.next({name:j,values:Vn(s)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&X.shouldDirty&&p.state.next({name:j,dirtyFields:Dc(r,s),isDirty:B(j,ue)})):K&&!K._f&&!Ii(ue)?me(j,ue,X):ce(j,ue,X),qT(j,l)&&p.state.next({...n,name:j}),p.state.next({name:a.mount?j:void 0,values:Vn(s)})},q=async j=>{a.mount=!0;const W=j.target;let X=W.name,K=!0;const ie=De(i,X),ue=we=>{K=Number.isNaN(we)||nl(we)&&isNaN(we.getTime())||Ya(we,De(s,X,we))},ve=VT(e.mode),be=VT(e.reValidateMode);if(ie){let we,Me;const Ke=W.type?BT(ie._f):n$(j),Ve=j.type===LT.BLUR||j.type===LT.FOCUS_OUT,ct=!v$(ie._f)&&!e.resolver&&!De(n.errors,X)&&!ie._f.deps||_$(Ve,De(n.touchedFields,X),n.isSubmitted,be,ve),nt=qT(X,l,Ve);tn(s,X,Ke),Ve?(!W||!W.readOnly)&&(ie._f.onBlur&&ie._f.onBlur(j),u&&u(0)):ie._f.onChange&&ie._f.onChange(j);const Ut=O(X,Ke,Ve),it=!Mi(Ut)||nt;if(!Ve&&p.state.next({name:X,type:j.type,values:Vn(s)}),ct)return(h.isValid||g.isValid)&&(e.mode==="onBlur"?Ve&&_():Ve||_()),it&&p.state.next({name:X,...nt?{}:Ut});if(!Ve&&nt&&p.state.next({...n}),e.resolver){const{errors:ze}=await k([X]);if(ue(Ke),K){const pn=GT(n.errors,i,X),Ze=GT(ze,i,pn.name||X);we=Ze.error,X=Ze.name,Me=Mi(ze)}}else S([X],!0),we=(await YT(ie,l.disabled,s,v,e.shouldUseNativeValidation))[X],S([X]),ue(Ke),K&&(we?Me=!1:(h.isValid||g.isValid)&&(Me=await P(i,!0)));K&&(ie._f.deps&&(!Array.isArray(ie._f.deps)||ie._f.deps.length>0)&&G(ie._f.deps),N(X,Me,we,Ut))}},V=(j,W)=>{if(De(n.errors,W)&&j.focus)return j.focus(),1},G=async(j,W={})=>{let X,K;const ie=Dd(j);if(e.resolver){const ue=await D(bn(j)?j:ie);X=Mi(ue),K=j?!ie.some(ve=>De(ue,ve)):X}else j?(K=(await Promise.all(ie.map(async ue=>{const ve=De(i,ue);return await P(ve&&ve._f?{[ue]:ve}:ve)}))).every(Boolean),!(!K&&!n.isValid)&&_()):K=X=await P(i);return p.state.next({...!Ki(j)||(h.isValid||g.isValid)&&X!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:X}:{},errors:n.errors}),W.shouldFocus&&!K&&Od(i,V,j?ie:l.mount),K},he=(j,W)=>{let X={...a.mount?s:r};return W&&(X=s1(W.dirtyFields?n.dirtyFields:n.touchedFields,X)),bn(j)?X:Ki(j)?De(X,j):j.map(K=>De(X,K))},F=(j,W)=>({invalid:!!De((W||n).errors,j),isDirty:!!De((W||n).dirtyFields,j),error:De((W||n).errors,j),isValidating:!!De(n.validatingFields,j),isTouched:!!De((W||n).touchedFields,j)}),Z=j=>{j&&Dd(j).forEach(W=>Tn(n.errors,W)),p.state.next({errors:j?n.errors:{}})},ee=(j,W,X)=>{const K=(De(i,j,{_f:{}})._f||{}).ref,ie=De(n.errors,j)||{},{ref:ue,message:ve,type:be,...we}=ie;tn(n.errors,j,{...we,...W,ref:K}),p.state.next({name:j,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&K&&K.focus&&K.focus()},le=(j,W)=>Ur(j)?p.state.subscribe({next:X=>"values"in X&&j(Q(void 0,W),X)}):Q(j,W,!0),ye=j=>p.state.subscribe({next:W=>{b$(j.name,W.name,j.exact)&&y$(W,j.formState||h,Vt,j.reRenderRoot)&&j.callback({values:{...s},...n,...W,defaultValues:r})}}).unsubscribe,_e=j=>(a.mount=!0,g={...g,...j.formState},ye({...j,formState:g})),pe=(j,W={})=>{for(const X of j?Dd(j):l.mount)l.mount.delete(X),l.array.delete(X),W.keepValue||(Tn(i,X),Tn(s,X)),!W.keepError&&Tn(n.errors,X),!W.keepDirty&&Tn(n.dirtyFields,X),!W.keepTouched&&Tn(n.touchedFields,X),!W.keepIsValidating&&Tn(n.validatingFields,X),!e.shouldUnregister&&!W.keepDefaultValue&&Tn(r,X);p.state.next({values:Vn(s)}),p.state.next({...n,...W.keepDirty?{isDirty:B()}:{}}),!W.keepIsValid&&_()},Se=({disabled:j,name:W})=>{(ds(j)&&a.mount||j||l.disabled.has(W))&&(j?l.disabled.add(W):l.disabled.delete(W))},je=(j,W={})=>{let X=De(i,j);const K=ds(W.disabled)||ds(e.disabled);return tn(i,j,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:j}},name:j,mount:!0,...W}}),l.mount.add(j),X?Se({disabled:ds(W.disabled)?W.disabled:e.disabled,name:j}):M(j,!0,W.value),{...K?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:hd(W.min),max:hd(W.max),minLength:hd(W.minLength),maxLength:hd(W.maxLength),pattern:hd(W.pattern)}:{},name:j,onChange:q,onBlur:q,ref:ie=>{if(ie){je(j,W),X=De(i,j);const ue=bn(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,ve=d$(ue),be=X._f.refs||[];if(ve?be.find(we=>we===ue):ue===X._f.ref)return;tn(i,j,{_f:{...X._f,...ve?{refs:[...be.filter(Cb),ue,...Array.isArray(De(r,j))?[{}]:[]],ref:{type:ue.type,name:j}}:{ref:ue}}}),M(j,!1,void 0,ue)}else X=De(i,j,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(r$(l.array,j)&&a.action)&&l.unMount.add(j)}}},Ge=()=>e.shouldFocusError&&Od(i,V,l.mount),Rt=j=>{ds(j)&&(p.state.next({disabled:j}),Od(i,(W,X)=>{const K=De(i,X);K&&(W.disabled=K._f.disabled||j,Array.isArray(K._f.refs)&&K._f.refs.forEach(ie=>{ie.disabled=K._f.disabled||j}))},0,!1))},wt=(j,W)=>async X=>{let K;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ie=Vn(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:ve}=await k();n.errors=ue,ie=Vn(ve)}else await P(i);if(l.disabled.size)for(const ue of l.disabled)Tn(ie,ue);if(Tn(n.errors,"root"),Mi(n.errors)){p.state.next({errors:{}});try{await j(ie,X)}catch(ue){K=ue}}else W&&await W({...n.errors},X),Ge(),setTimeout(Ge);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mi(n.errors)&&!K,submitCount:n.submitCount+1,errors:n.errors}),K)throw K},Mn=(j,W={})=>{De(i,j)&&(bn(W.defaultValue)?L(j,Vn(De(r,j))):(L(j,W.defaultValue),tn(r,j,Vn(W.defaultValue))),W.keepTouched||Tn(n.touchedFields,j),W.keepDirty||(Tn(n.dirtyFields,j),n.isDirty=W.defaultValue?B(j,Vn(De(r,j))):B()),W.keepError||(Tn(n.errors,j),h.isValid&&_()),p.state.next({...n}))},xe=(j,W={})=>{const X=j?Vn(j):r,K=Vn(X),ie=Mi(j),ue=ie?r:K;if(W.keepDefaultValues||(r=X),!W.keepValues){if(W.keepDirtyValues){const ve=new Set([...l.mount,...Object.keys(Dc(r,s))]);for(const be of Array.from(ve))De(n.dirtyFields,be)?tn(ue,be,De(s,be)):L(be,De(ue,be))}else{if(yw&&bn(j))for(const ve of l.mount){const be=De(i,ve);if(be&&be._f){const we=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(bm(we)){const Me=we.closest("form");if(Me){Me.reset();break}}}}if(W.keepFieldsRef)for(const ve of l.mount)L(ve,De(ue,ve));else i={}}s=e.shouldUnregister?W.keepDefaultValues?Vn(r):{}:Vn(ue),p.array.next({values:{...ue}}),p.state.next({values:{...ue}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!W.keepIsValid||!!W.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:ie?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!Ya(j,r)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ie?{}:W.keepDirtyValues?W.keepDefaultValues&&s?Dc(r,s):n.dirtyFields:W.keepDefaultValues&&j?Dc(r,j):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},He=(j,W)=>xe(Ur(j)?j(s):j,W),tt=(j,W={})=>{const X=De(i,j),K=X&&X._f;if(K){const ie=K.refs?K.refs[0]:K.ref;ie.focus&&(ie.focus(),W.shouldSelect&&Ur(ie.select)&&ie.select())}},Vt=j=>{n={...n,...j}},Ye={control:{register:je,unregister:pe,getFieldState:F,handleSubmit:wt,setError:ee,_subscribe:ye,_runSchema:k,_focusError:Ge,_getWatch:Q,_getDirty:B,_setValid:_,_setFieldArray:x,_setDisabledField:Se,_setErrors:T,_getFieldArray:ne,_reset:xe,_resetDefaultValues:()=>Ur(e.defaultValues)&&e.defaultValues().then(j=>{He(j,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Rt,_subjects:p,_proxyFormState:h,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return r},get _names(){return l},set _names(j){l=j},get _formState(){return n},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:_e,trigger:G,register:je,handleSubmit:wt,watch:le,setValue:L,getValues:he,reset:He,resetField:Mn,clearErrors:Z,unregister:pe,setError:ee,setFocus:tt,getFieldState:F};return{...Ye,formControl:Ye}}function C$(t={}){const e=oe.useRef(void 0),n=oe.useRef(void 0),[i,r]=oe.useState({isDirty:!1,isValidating:!1,isLoading:Ur(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ur(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!Ur(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=E$(t);e.current={...l,formState:i}}const s=e.current.control;return s._options=t,l$(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),oe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),oe.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),oe.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),oe.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),oe.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==i.isDirty&&s._subjects.state.next({isDirty:a})}},[s,i.isDirty]),oe.useEffect(()=>{t.values&&!Ya(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,r(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),oe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=o$(i,s),e.current}const KT=t=>{let e;const n=new Set,i=(d,h)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const p=e;e=h??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(v=>v(e,p))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(i,r,l);return l},A$=(t=>t?KT(t):KT),T$=t=>t;function R$(t,e=T$){const n=oe.useSyncExternalStore(t.subscribe,oe.useCallback(()=>e(t.getState()),[t,e]),oe.useCallback(()=>e(t.getInitialState()),[t,e]));return oe.useDebugValue(n),n}const QT=t=>{const e=A$(t),n=i=>R$(e,i);return Object.assign(n,e),n},yl=(t=>t?QT(t):QT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),XT=t=>{const e=O$(t);return e.charAt(0).toUpperCase()+e.slice(1)},d1=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),M$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...l},u)=>C.createElement("svg",{ref:u,...k$,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:d1("lucide",r),...!s&&!M$(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,h])=>C.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=(t,e)=>{const n=C.forwardRef(({className:i,...r},s)=>C.createElement(N$,{ref:s,iconNode:e,className:d1(`lucide-${D$(XT(t))}`,`lucide-${t}`,i),...r}));return n.displayName=XT(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],P$=Jr("calendar",I$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],L$=Jr("chevron-right",j$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U$=Jr("clock",F$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],H$=Jr("file-text",z$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],V$=Jr("house",B$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],q$=Jr("loader-circle",$$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W$=Jr("log-out",G$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],K$=Jr("menu",Y$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],X$=Jr("rotate-cw",Q$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],f1=Jr("settings",Z$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],e3=Jr("user",J$);function uu(t,e=[]){let n=[];function i(s,a){const l=C.createContext(a),u=n.length;n=[...n,a];const d=g=>{const{scope:p,children:v,...b}=g,_=p?.[t]?.[u]||l,S=C.useMemo(()=>b,Object.values(b));return E.jsx(_.Provider,{value:S,children:v})};d.displayName=s+"Provider";function h(g,p){const v=p?.[t]?.[u]||l,b=C.useContext(v);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[d,h]}const r=()=>{const s=n.map(a=>C.createContext(a));return function(l){const u=l?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return r.scopeName=t,[i,t3(r,...e)]}function t3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=i.reduce((l,{useScope:u,scopeName:d})=>{const g=u(s)[`__scope${d}`];return{...l,...g}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function vs(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}var Gr=globalThis?.document?C.useLayoutEffect:()=>{},n3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kn=n3.reduce((t,e)=>{const n=Kd(`Primitive.${e}`),i=C.forwardRef((r,s)=>{const{asChild:a,...l}=r,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function h1(t,e){t&&Hr.flushSync(()=>t.dispatchEvent(e))}var Ab={exports:{}},Tb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function i3(){if(ZT)return Tb;ZT=1;var t=lp();function e(g,p){return g===p&&(g!==0||1/g===1/p)||g!==g&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(g,p){var v=p(),b=i({inst:{value:v,getSnapshot:p}}),_=b[0].inst,S=b[1];return s(function(){_.value=v,_.getSnapshot=p,u(_)&&S({inst:_})},[g,v,p]),r(function(){return u(_)&&S({inst:_}),g(function(){u(_)&&S({inst:_})})},[g]),a(v),v}function u(g){var p=g.getSnapshot;g=g.value;try{var v=p();return!n(g,v)}catch{return!0}}function d(g,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Tb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Tb}var JT;function r3(){return JT||(JT=1,Ab.exports=i3()),Ab.exports}var s3=r3();function a3(){return s3.useSyncExternalStore(o3,()=>!0,()=>!1)}function o3(){return()=>{}}var xw="Avatar",[l3]=uu(xw),[c3,g1]=l3(xw),m1=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...i}=t,[r,s]=C.useState("idle");return E.jsx(c3,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:s,children:E.jsx(Kn.span,{...i,ref:e})})});m1.displayName=xw;var p1="AvatarImage",v1=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:r=()=>{},...s}=t,a=g1(p1,n),l=u3(i,s),u=vs(d=>{r(d),a.onImageLoadingStatusChange(d)});return Gr(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?E.jsx(Kn.img,{...s,ref:e,src:i}):null});v1.displayName=p1;var y1="AvatarFallback",b1=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:i,...r}=t,s=g1(y1,n),[a,l]=C.useState(i===void 0);return C.useEffect(()=>{if(i!==void 0){const u=window.setTimeout(()=>l(!0),i);return()=>window.clearTimeout(u)}},[i]),a&&s.imageLoadingStatus!=="loaded"?E.jsx(Kn.span,{...r,ref:e}):null});b1.displayName=y1;function eR(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function u3(t,{referrerPolicy:e,crossOrigin:n}){const i=a3(),r=C.useRef(null),s=i?(r.current||(r.current=new window.Image),r.current):null,[a,l]=C.useState(()=>eR(s,t));return Gr(()=>{l(eR(s,t))},[s,t]),Gr(()=>{const u=g=>()=>{l(g)};if(!s)return;const d=u("loaded"),h=u("error");return s.addEventListener("load",d),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",d),s.removeEventListener("error",h)}},[s,n,e]),a}var d3=m1,f3=v1,h3=b1;function yt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}var g3=lk[" useInsertionEffect ".trim().toString()]||Gr;function _1({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,a]=m3({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:r;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const g=h.current;g!==l&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,i])}const d=C.useCallback(h=>{if(l){const g=p3(h)?h(t):h;g!==t&&a.current?.(g)}else s(h)},[l,t,s,a]);return[u,d]}function m3({defaultProp:t,onChange:e}){const[n,i]=C.useState(t),r=C.useRef(n),s=C.useRef(e);return g3(()=>{s.current=e},[e]),C.useEffect(()=>{r.current!==n&&(s.current?.(n),r.current=n)},[n,r]),[n,i,s]}function p3(t){return typeof t=="function"}function w1(t){const e=t+"CollectionProvider",[n,i]=uu(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=_=>{const{scope:S,children:x}=_,A=oe.useRef(null),T=oe.useRef(new Map).current;return E.jsx(r,{scope:S,itemMap:T,collectionRef:A,children:x})};a.displayName=e;const l=t+"CollectionSlot",u=Kd(l),d=oe.forwardRef((_,S)=>{const{scope:x,children:A}=_,T=s(l,x),M=Fi(S,T.collectionRef);return E.jsx(u,{ref:M,children:A})});d.displayName=l;const h=t+"CollectionItemSlot",g="data-radix-collection-item",p=Kd(h),v=oe.forwardRef((_,S)=>{const{scope:x,children:A,...T}=_,M=oe.useRef(null),O=Fi(S,M),N=s(h,x);return oe.useEffect(()=>(N.itemMap.set(M,{ref:M,...T}),()=>void N.itemMap.delete(M))),E.jsx(p,{[g]:"",ref:O,children:A})});v.displayName=h;function b(_){const S=s(t+"CollectionConsumer",_);return oe.useCallback(()=>{const A=S.collectionRef.current;if(!A)return[];const T=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((N,k)=>T.indexOf(N.ref.current)-T.indexOf(k.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:d,ItemSlot:v},b,i]}var v3=C.createContext(void 0);function S1(t){const e=C.useContext(v3);return t||e||"ltr"}function y3(t,e=globalThis?.document){const n=vs(t);C.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var b3="DismissableLayer",e_="dismissableLayer.update",_3="dismissableLayer.pointerDownOutside",w3="dismissableLayer.focusOutside",tR,x1=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),E1=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,d=C.useContext(x1),[h,g]=C.useState(null),p=h?.ownerDocument??globalThis?.document,[,v]=C.useState({}),b=Fi(e,k=>g(k)),_=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=_.indexOf(S),A=h?_.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,M=A>=x,O=E3(k=>{const D=k.target,P=[...d.branches].some(z=>z.contains(D));!M||P||(r?.(k),a?.(k),k.defaultPrevented||l?.())},p),N=C3(k=>{const D=k.target;[...d.branches].some(z=>z.contains(D))||(s?.(k),a?.(k),k.defaultPrevented||l?.())},p);return y3(k=>{A===d.layers.size-1&&(i?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),C.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(tR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),nR(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=tR)}},[h,p,n,d]),C.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),nR())},[h,d]),C.useEffect(()=>{const k=()=>v({});return document.addEventListener(e_,k),()=>document.removeEventListener(e_,k)},[]),E.jsx(Kn.div,{...u,ref:b,style:{pointerEvents:T?M?"auto":"none":void 0,...t.style},onFocusCapture:yt(t.onFocusCapture,N.onFocusCapture),onBlurCapture:yt(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:yt(t.onPointerDownCapture,O.onPointerDownCapture)})});E1.displayName=b3;var S3="DismissableLayerBranch",x3=C.forwardRef((t,e)=>{const n=C.useContext(x1),i=C.useRef(null),r=Fi(e,i);return C.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(Kn.div,{...t,ref:r})});x3.displayName=S3;function E3(t,e=globalThis?.document){const n=vs(t),i=C.useRef(!1),r=C.useRef(()=>{});return C.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let u=function(){C1(_3,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=u,e.addEventListener("click",r.current,{once:!0})):u()}else e.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function C3(t,e=globalThis?.document){const n=vs(t),i=C.useRef(!1);return C.useEffect(()=>{const r=s=>{s.target&&!i.current&&C1(w3,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function nR(){const t=new CustomEvent(e_);document.dispatchEvent(t)}function C1(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?h1(r,s):r.dispatchEvent(s)}var Rb=0;function A3(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??iR()),document.body.insertAdjacentElement("beforeend",t[1]??iR()),Rb++,()=>{Rb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rb--}},[])}function iR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Db="focusScope.autoFocusOnMount",Ob="focusScope.autoFocusOnUnmount",rR={bubbles:!1,cancelable:!0},T3="FocusScope",A1=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...a}=t,[l,u]=C.useState(null),d=vs(r),h=vs(s),g=C.useRef(null),p=Fi(e,_=>u(_)),v=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(i){let _=function(T){if(v.paused||!l)return;const M=T.target;l.contains(M)?g.current=M:Va(g.current,{select:!0})},S=function(T){if(v.paused||!l)return;const M=T.relatedTarget;M!==null&&(l.contains(M)||Va(g.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Va(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const A=new MutationObserver(x);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),A.disconnect()}}},[i,l,v.paused]),C.useEffect(()=>{if(l){aR.add(v);const _=document.activeElement;if(!l.contains(_)){const x=new CustomEvent(Db,rR);l.addEventListener(Db,d),l.dispatchEvent(x),x.defaultPrevented||(R3(N3(T1(l)),{select:!0}),document.activeElement===_&&Va(l))}return()=>{l.removeEventListener(Db,d),setTimeout(()=>{const x=new CustomEvent(Ob,rR);l.addEventListener(Ob,h),l.dispatchEvent(x),x.defaultPrevented||Va(_??document.body,{select:!0}),l.removeEventListener(Ob,h),aR.remove(v)},0)}}},[l,d,h,v]);const b=C.useCallback(_=>{if(!n&&!i||v.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,x=document.activeElement;if(S&&x){const A=_.currentTarget,[T,M]=D3(A);T&&M?!_.shiftKey&&x===M?(_.preventDefault(),n&&Va(T,{select:!0})):_.shiftKey&&x===T&&(_.preventDefault(),n&&Va(M,{select:!0})):x===A&&_.preventDefault()}},[n,i,v.paused]);return E.jsx(Kn.div,{tabIndex:-1,...a,ref:p,onKeyDown:b})});A1.displayName=T3;function R3(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Va(i,{select:e}),document.activeElement!==n)return}function D3(t){const e=T1(t),n=sR(e,t),i=sR(e.reverse(),t);return[n,i]}function T1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function sR(t,e){for(const n of t)if(!O3(n,{upTo:e}))return n}function O3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function M3(t){return t instanceof HTMLInputElement&&"select"in t}function Va(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&M3(t)&&e&&t.select()}}var aR=k3();function k3(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=oR(t,e),t.unshift(e)},remove(e){t=oR(t,e),t[0]?.resume()}}}function oR(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function N3(t){return t.filter(e=>e.tagName!=="A")}var I3=lk[" useId ".trim().toString()]||(()=>{}),P3=0;function t_(t){const[e,n]=C.useState(I3());return Gr(()=>{n(i=>i??String(P3++))},[t]),t||(e?`radix-${e}`:"")}const j3=["top","right","bottom","left"],oo=Math.min,Yi=Math.max,wm=Math.round,cg=Math.floor,ps=t=>({x:t,y:t}),L3={left:"right",right:"left",bottom:"top",top:"bottom"},F3={start:"end",end:"start"};function n_(t,e,n){return Yi(t,oo(e,n))}function la(t,e){return typeof t=="function"?t(e):t}function ca(t){return t.split("-")[0]}function du(t){return t.split("-")[1]}function Ew(t){return t==="x"?"y":"x"}function Cw(t){return t==="y"?"height":"width"}const U3=new Set(["top","bottom"]);function gs(t){return U3.has(ca(t))?"y":"x"}function Aw(t){return Ew(gs(t))}function z3(t,e,n){n===void 0&&(n=!1);const i=du(t),r=Aw(t),s=Cw(r);let a=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Sm(a)),[a,Sm(a)]}function H3(t){const e=Sm(t);return[i_(t),e,i_(e)]}function i_(t){return t.replace(/start|end/g,e=>F3[e])}const lR=["left","right"],cR=["right","left"],B3=["top","bottom"],V3=["bottom","top"];function $3(t,e,n){switch(t){case"top":case"bottom":return n?e?cR:lR:e?lR:cR;case"left":case"right":return e?B3:V3;default:return[]}}function q3(t,e,n,i){const r=du(t);let s=$3(ca(t),n==="start",i);return r&&(s=s.map(a=>a+"-"+r),e&&(s=s.concat(s.map(i_)))),s}function Sm(t){return t.replace(/left|right|bottom|top/g,e=>L3[e])}function G3(t){return{top:0,right:0,bottom:0,left:0,...t}}function R1(t){return typeof t!="number"?G3(t):{top:t,right:t,bottom:t,left:t}}function xm(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function uR(t,e,n){let{reference:i,floating:r}=t;const s=gs(e),a=Aw(e),l=Cw(a),u=ca(e),d=s==="y",h=i.x+i.width/2-r.width/2,g=i.y+i.height/2-r.height/2,p=i[l]/2-r[l]/2;let v;switch(u){case"top":v={x:h,y:i.y-r.height};break;case"bottom":v={x:h,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:g};break;case"left":v={x:i.x-r.width,y:g};break;default:v={x:i.x,y:i.y}}switch(du(e)){case"start":v[a]-=p*(n&&d?-1:1);break;case"end":v[a]+=p*(n&&d?-1:1);break}return v}const W3=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:h,y:g}=uR(d,i,u),p=i,v={},b=0;for(let _=0;_<l.length;_++){const{name:S,fn:x}=l[_],{x:A,y:T,data:M,reset:O}=await x({x:h,y:g,initialPlacement:i,placement:p,strategy:r,middlewareData:v,rects:d,platform:a,elements:{reference:t,floating:e}});h=A??h,g=T??g,v={...v,[S]:{...v[S],...M}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(d=O.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):O.rects),{x:h,y:g}=uR(d,p,u)),_=-1)}return{x:h,y:g,placement:p,strategy:r,middlewareData:v}};async function Qd(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:a,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:p=!1,padding:v=0}=la(e,t),b=R1(v),S=l[p?g==="floating"?"reference":"floating":g],x=xm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),A=g==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),M=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},O=xm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:T,strategy:u}):A);return{top:(x.top-O.top+b.top)/M.y,bottom:(O.bottom-x.bottom+b.bottom)/M.y,left:(x.left-O.left+b.left)/M.x,right:(O.right-x.right+b.right)/M.x}}const Y3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:a,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=la(t,e)||{};if(d==null)return{};const g=R1(h),p={x:n,y:i},v=Aw(r),b=Cw(v),_=await a.getDimensions(d),S=v==="y",x=S?"top":"left",A=S?"bottom":"right",T=S?"clientHeight":"clientWidth",M=s.reference[b]+s.reference[v]-p[v]-s.floating[b],O=p[v]-s.reference[v],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let k=N?N[T]:0;(!k||!await(a.isElement==null?void 0:a.isElement(N)))&&(k=l.floating[T]||s.floating[b]);const D=M/2-O/2,P=k/2-_[b]/2-1,z=oo(g[x],P),B=oo(g[A],P),Q=z,ne=k-_[b]-B,ce=k/2-_[b]/2+D,me=n_(Q,ce,ne),L=!u.arrow&&du(r)!=null&&ce!==me&&s.reference[b]/2-(ce<Q?z:B)-_[b]/2<0,q=L?ce<Q?ce-Q:ce-ne:0;return{[v]:p[v]+q,data:{[v]:me,centerOffset:ce-me-q,...L&&{alignmentOffset:q}},reset:L}}}),K3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...S}=la(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=ca(r),A=gs(l),T=ca(l)===l,M=await(u.isRTL==null?void 0:u.isRTL(d.floating)),O=p||(T||!_?[Sm(l)]:H3(l)),N=b!=="none";!p&&N&&O.push(...q3(l,_,b,M));const k=[l,...O],D=await Qd(e,S),P=[];let z=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&P.push(D[x]),g){const ce=z3(r,a,M);P.push(D[ce[0]],D[ce[1]])}if(z=[...z,{placement:r,overflows:P}],!P.every(ce=>ce<=0)){var B,Q;const ce=(((B=s.flip)==null?void 0:B.index)||0)+1,me=k[ce];if(me&&(!(g==="alignment"?A!==gs(me):!1)||z.every(V=>gs(V.placement)===A?V.overflows[0]>0:!0)))return{data:{index:ce,overflows:z},reset:{placement:me}};let L=(Q=z.filter(q=>q.overflows[0]<=0).sort((q,V)=>q.overflows[1]-V.overflows[1])[0])==null?void 0:Q.placement;if(!L)switch(v){case"bestFit":{var ne;const q=(ne=z.filter(V=>{if(N){const G=gs(V.placement);return G===A||G==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(G=>G>0).reduce((G,he)=>G+he,0)]).sort((V,G)=>V[1]-G[1])[0])==null?void 0:ne[0];q&&(L=q);break}case"initialPlacement":L=l;break}if(r!==L)return{reset:{placement:L}}}return{}}}};function dR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function fR(t){return j3.some(e=>t[e]>=0)}const Q3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=la(t,e);switch(i){case"referenceHidden":{const s=await Qd(e,{...r,elementContext:"reference"}),a=dR(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:fR(a)}}}case"escaped":{const s=await Qd(e,{...r,altBoundary:!0}),a=dR(s,n.floating);return{data:{escapedOffsets:a,escaped:fR(a)}}}default:return{}}}}},D1=new Set(["left","top"]);async function X3(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),a=ca(n),l=du(n),u=gs(n)==="y",d=D1.has(a)?-1:1,h=s&&u?-1:1,g=la(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),u?{x:v*h,y:p*d}:{x:p*d,y:v*h}}const Z3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:a,middlewareData:l}=e,u=await X3(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:a}}}}},J3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:S=>{let{x,y:A}=S;return{x,y:A}}},...u}=la(t,e),d={x:n,y:i},h=await Qd(e,u),g=gs(ca(r)),p=Ew(g);let v=d[p],b=d[g];if(s){const S=p==="y"?"top":"left",x=p==="y"?"bottom":"right",A=v+h[S],T=v-h[x];v=n_(A,v,T)}if(a){const S=g==="y"?"top":"left",x=g==="y"?"bottom":"right",A=b+h[S],T=b-h[x];b=n_(A,b,T)}const _=l.fn({...e,[p]:v,[g]:b});return{..._,data:{x:_.x-n,y:_.y-i,enabled:{[p]:s,[g]:a}}}}}},e5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=la(t,e),h={x:n,y:i},g=gs(r),p=Ew(g);let v=h[p],b=h[g];const _=la(l,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const T=p==="y"?"height":"width",M=s.reference[p]-s.floating[T]+S.mainAxis,O=s.reference[p]+s.reference[T]-S.mainAxis;v<M?v=M:v>O&&(v=O)}if(d){var x,A;const T=p==="y"?"width":"height",M=D1.has(ca(r)),O=s.reference[g]-s.floating[T]+(M&&((x=a.offset)==null?void 0:x[g])||0)+(M?0:S.crossAxis),N=s.reference[g]+s.reference[T]+(M?0:((A=a.offset)==null?void 0:A[g])||0)-(M?S.crossAxis:0);b<O?b=O:b>N&&(b=N)}return{[p]:v,[g]:b}}}},t5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:a,elements:l}=e,{apply:u=()=>{},...d}=la(t,e),h=await Qd(e,d),g=ca(r),p=du(r),v=gs(r)==="y",{width:b,height:_}=s.floating;let S,x;g==="top"||g==="bottom"?(S=g,x=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=g,S=p==="end"?"top":"bottom");const A=_-h.top-h.bottom,T=b-h.left-h.right,M=oo(_-h[S],A),O=oo(b-h[x],T),N=!e.middlewareData.shift;let k=M,D=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=T),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(k=A),N&&!p){const z=Yi(h.left,0),B=Yi(h.right,0),Q=Yi(h.top,0),ne=Yi(h.bottom,0);v?D=b-2*(z!==0||B!==0?z+B:Yi(h.left,h.right)):k=_-2*(Q!==0||ne!==0?Q+ne:Yi(h.top,h.bottom))}await u({...e,availableWidth:D,availableHeight:k});const P=await a.getDimensions(l.floating);return b!==P.width||_!==P.height?{reset:{rects:!0}}:{}}}};function mp(){return typeof window<"u"}function fu(t){return O1(t)?(t.nodeName||"").toLowerCase():"#document"}function Zi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ss(t){var e;return(e=(O1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function O1(t){return mp()?t instanceof Node||t instanceof Zi(t).Node:!1}function Wr(t){return mp()?t instanceof Element||t instanceof Zi(t).Element:!1}function ys(t){return mp()?t instanceof HTMLElement||t instanceof Zi(t).HTMLElement:!1}function hR(t){return!mp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zi(t).ShadowRoot}const n5=new Set(["inline","contents"]);function Ef(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Yr(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!n5.has(r)}const i5=new Set(["table","td","th"]);function r5(t){return i5.has(fu(t))}const s5=[":popover-open",":modal"];function pp(t){return s5.some(e=>{try{return t.matches(e)}catch{return!1}})}const a5=["transform","translate","scale","rotate","perspective"],o5=["transform","translate","scale","rotate","perspective","filter"],l5=["paint","layout","strict","content"];function Tw(t){const e=Rw(),n=Wr(t)?Yr(t):t;return a5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||o5.some(i=>(n.willChange||"").includes(i))||l5.some(i=>(n.contain||"").includes(i))}function c5(t){let e=lo(t);for(;ys(e)&&!Yc(e);){if(Tw(e))return e;if(pp(e))return null;e=lo(e)}return null}function Rw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const u5=new Set(["html","body","#document"]);function Yc(t){return u5.has(fu(t))}function Yr(t){return Zi(t).getComputedStyle(t)}function vp(t){return Wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function lo(t){if(fu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hR(t)&&t.host||Ss(t);return hR(e)?e.host:e}function M1(t){const e=lo(t);return Yc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ys(e)&&Ef(e)?e:M1(e)}function Xd(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=M1(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),a=Zi(r);if(s){const l=r_(a);return e.concat(a,a.visualViewport||[],Ef(r)?r:[],l&&n?Xd(l):[])}return e.concat(r,Xd(r,[],n))}function r_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function k1(t){const e=Yr(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ys(t),s=r?t.offsetWidth:n,a=r?t.offsetHeight:i,l=wm(n)!==s||wm(i)!==a;return l&&(n=s,i=a),{width:n,height:i,$:l}}function Dw(t){return Wr(t)?t:t.contextElement}function Fc(t){const e=Dw(t);if(!ys(e))return ps(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=k1(e);let a=(s?wm(n.width):n.width)/i,l=(s?wm(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const d5=ps(0);function N1(t){const e=Zi(t);return!Rw()||!e.visualViewport?d5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function f5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zi(t)?!1:e}function fl(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=Dw(t);let a=ps(1);e&&(i?Wr(i)&&(a=Fc(i)):a=Fc(t));const l=f5(s,n,i)?N1(s):ps(0);let u=(r.left+l.x)/a.x,d=(r.top+l.y)/a.y,h=r.width/a.x,g=r.height/a.y;if(s){const p=Zi(s),v=i&&Wr(i)?Zi(i):i;let b=p,_=r_(b);for(;_&&i&&v!==b;){const S=Fc(_),x=_.getBoundingClientRect(),A=Yr(_),T=x.left+(_.clientLeft+parseFloat(A.paddingLeft))*S.x,M=x.top+(_.clientTop+parseFloat(A.paddingTop))*S.y;u*=S.x,d*=S.y,h*=S.x,g*=S.y,u+=T,d+=M,b=Zi(_),_=r_(b)}}return xm({width:h,height:g,x:u,y:d})}function yp(t,e){const n=vp(t).scrollLeft;return e?e.left+n:fl(Ss(t)).left+n}function I1(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-yp(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function h5(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",a=Ss(i),l=e?pp(e.floating):!1;if(i===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=ps(1);const h=ps(0),g=ys(i);if((g||!g&&!s)&&((fu(i)!=="body"||Ef(a))&&(u=vp(i)),ys(i))){const v=fl(i);d=Fc(i),h.x=v.x+i.clientLeft,h.y=v.y+i.clientTop}const p=a&&!g&&!s?I1(a,u):ps(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-u.scrollTop*d.y+h.y+p.y}}function g5(t){return Array.from(t.getClientRects())}function m5(t){const e=Ss(t),n=vp(t),i=t.ownerDocument.body,r=Yi(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Yi(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+yp(t);const l=-n.scrollTop;return Yr(i).direction==="rtl"&&(a+=Yi(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:l}}const gR=25;function p5(t,e){const n=Zi(t),i=Ss(t),r=n.visualViewport;let s=i.clientWidth,a=i.clientHeight,l=0,u=0;if(r){s=r.width,a=r.height;const h=Rw();(!h||h&&e==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}const d=yp(i);if(d<=0){const h=i.ownerDocument,g=h.body,p=getComputedStyle(g),v=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(i.clientWidth-g.clientWidth-v);b<=gR&&(s-=b)}else d<=gR&&(s+=d);return{width:s,height:a,x:l,y:u}}const v5=new Set(["absolute","fixed"]);function y5(t,e){const n=fl(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=ys(t)?Fc(t):ps(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,u=r*s.x,d=i*s.y;return{width:a,height:l,x:u,y:d}}function mR(t,e,n){let i;if(e==="viewport")i=p5(t,n);else if(e==="document")i=m5(Ss(t));else if(Wr(e))i=y5(e,n);else{const r=N1(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return xm(i)}function P1(t,e){const n=lo(t);return n===e||!Wr(n)||Yc(n)?!1:Yr(n).position==="fixed"||P1(n,e)}function b5(t,e){const n=e.get(t);if(n)return n;let i=Xd(t,[],!1).filter(l=>Wr(l)&&fu(l)!=="body"),r=null;const s=Yr(t).position==="fixed";let a=s?lo(t):t;for(;Wr(a)&&!Yc(a);){const l=Yr(a),u=Tw(a);!u&&l.position==="fixed"&&(r=null),(s?!u&&!r:!u&&l.position==="static"&&!!r&&v5.has(r.position)||Ef(a)&&!u&&P1(t,a))?i=i.filter(h=>h!==a):r=l,a=lo(a)}return e.set(t,i),i}function _5(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const a=[...n==="clippingAncestors"?pp(e)?[]:b5(e,this._c):[].concat(n),i],l=a[0],u=a.reduce((d,h)=>{const g=mR(e,h,r);return d.top=Yi(g.top,d.top),d.right=oo(g.right,d.right),d.bottom=oo(g.bottom,d.bottom),d.left=Yi(g.left,d.left),d},mR(e,l,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function w5(t){const{width:e,height:n}=k1(t);return{width:e,height:n}}function S5(t,e,n){const i=ys(e),r=Ss(e),s=n==="fixed",a=fl(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=ps(0);function d(){u.x=yp(r)}if(i||!i&&!s)if((fu(e)!=="body"||Ef(r))&&(l=vp(e)),i){const v=fl(e,!0,s,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else r&&d();s&&!i&&r&&d();const h=r&&!i&&!s?I1(r,l):ps(0),g=a.left+l.scrollLeft-u.x-h.x,p=a.top+l.scrollTop-u.y-h.y;return{x:g,y:p,width:a.width,height:a.height}}function Mb(t){return Yr(t).position==="static"}function pR(t,e){if(!ys(t)||Yr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ss(t)===n&&(n=n.ownerDocument.body),n}function j1(t,e){const n=Zi(t);if(pp(t))return n;if(!ys(t)){let r=lo(t);for(;r&&!Yc(r);){if(Wr(r)&&!Mb(r))return r;r=lo(r)}return n}let i=pR(t,e);for(;i&&r5(i)&&Mb(i);)i=pR(i,e);return i&&Yc(i)&&Mb(i)&&!Tw(i)?n:i||c5(t)||n}const x5=async function(t){const e=this.getOffsetParent||j1,n=this.getDimensions,i=await n(t.floating);return{reference:S5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function E5(t){return Yr(t).direction==="rtl"}const C5={convertOffsetParentRelativeRectToViewportRelativeRect:h5,getDocumentElement:Ss,getClippingRect:_5,getOffsetParent:j1,getElementRects:x5,getClientRects:g5,getDimensions:w5,getScale:Fc,isElement:Wr,isRTL:E5};function L1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function A5(t,e){let n=null,i;const r=Ss(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:h,top:g,width:p,height:v}=d;if(l||e(),!p||!v)return;const b=cg(g),_=cg(r.clientWidth-(h+p)),S=cg(r.clientHeight-(g+v)),x=cg(h),T={rootMargin:-b+"px "+-_+"px "+-S+"px "+-x+"px",threshold:Yi(0,oo(1,u))||1};let M=!0;function O(N){const k=N[0].intersectionRatio;if(k!==u){if(!M)return a();k?a(!1,k):i=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!L1(d,t.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(O,{...T,root:r.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return a(!0),s}function T5(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=Dw(t),h=r||s?[...d?Xd(d):[],...Xd(e)]:[];h.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const g=d&&l?A5(d,n):null;let p=-1,v=null;a&&(v=new ResizeObserver(x=>{let[A]=x;A&&A.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=v)==null||T.observe(e)})),n()}),d&&!u&&v.observe(d),v.observe(e));let b,_=u?fl(t):null;u&&S();function S(){const x=fl(t);_&&!L1(_,x)&&n(),_=x,b=requestAnimationFrame(S)}return n(),()=>{var x;h.forEach(A=>{r&&A.removeEventListener("scroll",n),s&&A.removeEventListener("resize",n)}),g?.(),(x=v)==null||x.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const R5=Z3,D5=J3,O5=K3,M5=t5,k5=Q3,vR=Y3,N5=e5,I5=(t,e,n)=>{const i=new Map,r={platform:C5,...n},s={...r.platform,_c:i};return W3(t,e,{...r,platform:s})};var P5=typeof document<"u",j5=function(){},Jg=P5?C.useLayoutEffect:j5;function Em(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Em(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!Em(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function F1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yR(t,e){const n=F1(t);return Math.round(e*n)/n}function kb(t){const e=C.useRef(t);return Jg(()=>{e.current=t}),e}function L5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,g]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=C.useState(i);Em(p,i)||v(i);const[b,_]=C.useState(null),[S,x]=C.useState(null),A=C.useCallback(V=>{V!==N.current&&(N.current=V,_(V))},[]),T=C.useCallback(V=>{V!==k.current&&(k.current=V,x(V))},[]),M=s||b,O=a||S,N=C.useRef(null),k=C.useRef(null),D=C.useRef(h),P=u!=null,z=kb(u),B=kb(r),Q=kb(d),ne=C.useCallback(()=>{if(!N.current||!k.current)return;const V={placement:e,strategy:n,middleware:p};B.current&&(V.platform=B.current),I5(N.current,k.current,V).then(G=>{const he={...G,isPositioned:Q.current!==!1};ce.current&&!Em(D.current,he)&&(D.current=he,Hr.flushSync(()=>{g(he)}))})},[p,e,n,B,Q]);Jg(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,g(V=>({...V,isPositioned:!1})))},[d]);const ce=C.useRef(!1);Jg(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Jg(()=>{if(M&&(N.current=M),O&&(k.current=O),M&&O){if(z.current)return z.current(M,O,ne);ne()}},[M,O,ne,z,P]);const me=C.useMemo(()=>({reference:N,floating:k,setReference:A,setFloating:T}),[A,T]),L=C.useMemo(()=>({reference:M,floating:O}),[M,O]),q=C.useMemo(()=>{const V={position:n,left:0,top:0};if(!L.floating)return V;const G=yR(L.floating,h.x),he=yR(L.floating,h.y);return l?{...V,transform:"translate("+G+"px, "+he+"px)",...F1(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:he}},[n,l,L.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:ne,refs:me,elements:L,floatingStyles:q}),[h,ne,me,L,q])}const F5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?vR({element:i.current,padding:r}).fn(n):{}:i?vR({element:i,padding:r}).fn(n):{}}}},U5=(t,e)=>({...R5(t),options:[t,e]}),z5=(t,e)=>({...D5(t),options:[t,e]}),H5=(t,e)=>({...N5(t),options:[t,e]}),B5=(t,e)=>({...O5(t),options:[t,e]}),V5=(t,e)=>({...M5(t),options:[t,e]}),$5=(t,e)=>({...k5(t),options:[t,e]}),q5=(t,e)=>({...F5(t),options:[t,e]});var G5="Arrow",U1=C.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return E.jsx(Kn.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});U1.displayName=G5;var W5=U1;function Y5(t){const[e,n]=C.useState(void 0);return Gr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var Ow="Popper",[z1,H1]=uu(Ow),[K5,B1]=z1(Ow),V1=t=>{const{__scopePopper:e,children:n}=t,[i,r]=C.useState(null);return E.jsx(K5,{scope:e,anchor:i,onAnchorChange:r,children:n})};V1.displayName=Ow;var $1="PopperAnchor",q1=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=B1($1,n),a=C.useRef(null),l=Fi(e,a),u=C.useRef(null);return C.useEffect(()=>{const d=u.current;u.current=i?.current||a.current,d!==u.current&&s.onAnchorChange(u.current)}),i?null:E.jsx(Kn.div,{...r,ref:l})});q1.displayName=$1;var Mw="PopperContent",[Q5,X5]=z1(Mw),G1=C.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:b,..._}=t,S=B1(Mw,n),[x,A]=C.useState(null),T=Fi(e,pe=>A(pe)),[M,O]=C.useState(null),N=Y5(M),k=N?.width??0,D=N?.height??0,P=i+(s!=="center"?"-"+s:""),z=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},B=Array.isArray(d)?d:[d],Q=B.length>0,ne={padding:z,boundary:B.filter(J5),altBoundary:Q},{refs:ce,floatingStyles:me,placement:L,isPositioned:q,middlewareData:V}=L5({strategy:"fixed",placement:P,whileElementsMounted:(...pe)=>T5(...pe,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[U5({mainAxis:r+D,alignmentAxis:a}),u&&z5({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?H5():void 0,...ne}),u&&B5({...ne}),V5({...ne,apply:({elements:pe,rects:Se,availableWidth:je,availableHeight:Ge})=>{const{width:Rt,height:wt}=Se.reference,Mn=pe.floating.style;Mn.setProperty("--radix-popper-available-width",`${je}px`),Mn.setProperty("--radix-popper-available-height",`${Ge}px`),Mn.setProperty("--radix-popper-anchor-width",`${Rt}px`),Mn.setProperty("--radix-popper-anchor-height",`${wt}px`)}}),M&&q5({element:M,padding:l}),e4({arrowWidth:k,arrowHeight:D}),p&&$5({strategy:"referenceHidden",...ne})]}),[G,he]=K1(L),F=vs(b);Gr(()=>{q&&F?.()},[q,F]);const Z=V.arrow?.x,ee=V.arrow?.y,le=V.arrow?.centerOffset!==0,[ye,_e]=C.useState();return Gr(()=>{x&&_e(window.getComputedStyle(x).zIndex)},[x]),E.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:q?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(Q5,{scope:n,placedSide:G,onArrowChange:O,arrowX:Z,arrowY:ee,shouldHideArrow:le,children:E.jsx(Kn.div,{"data-side":G,"data-align":he,..._,ref:T,style:{..._.style,animation:q?void 0:"none"}})})})});G1.displayName=Mw;var W1="PopperArrow",Z5={top:"bottom",right:"left",bottom:"top",left:"right"},Y1=C.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=X5(W1,i),a=Z5[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(W5,{...r,ref:n,style:{...r.style,display:"block"}})})});Y1.displayName=W1;function J5(t){return t!==null}var e4=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:r}=e,a=r.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,h]=K1(n),g={start:"0%",center:"50%",end:"100%"}[h],p=(r.arrow?.x??0)+l/2,v=(r.arrow?.y??0)+u/2;let b="",_="";return d==="bottom"?(b=a?g:`${p}px`,_=`${-u}px`):d==="top"?(b=a?g:`${p}px`,_=`${i.floating.height+u}px`):d==="right"?(b=`${-u}px`,_=a?g:`${v}px`):d==="left"&&(b=`${i.floating.width+u}px`,_=a?g:`${v}px`),{data:{x:b,y:_}}}});function K1(t){const[e,n="center"]=t.split("-");return[e,n]}var t4=V1,n4=q1,i4=G1,r4=Y1,s4="Portal",Q1=C.forwardRef((t,e)=>{const{container:n,...i}=t,[r,s]=C.useState(!1);Gr(()=>s(!0),[]);const a=n||r&&globalThis?.document?.body;return a?Ak.createPortal(E.jsx(Kn.div,{...i,ref:e}),a):null});Q1.displayName=s4;function a4(t,e){return C.useReducer((n,i)=>e[n][i]??n,t)}var Cf=t=>{const{present:e,children:n}=t,i=o4(e),r=typeof n=="function"?n({present:i.isPresent}):C.Children.only(n),s=Fi(i.ref,l4(r));return typeof n=="function"||i.isPresent?C.cloneElement(r,{ref:s}):null};Cf.displayName="Presence";function o4(t){const[e,n]=C.useState(),i=C.useRef(null),r=C.useRef(t),s=C.useRef("none"),a=t?"mounted":"unmounted",[l,u]=a4(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=ug(i.current);s.current=l==="mounted"?d:"none"},[l]),Gr(()=>{const d=i.current,h=r.current;if(h!==t){const p=s.current,v=ug(d);t?u("MOUNT"):v==="none"||d?.display==="none"?u("UNMOUNT"):u(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,u]),Gr(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,g=v=>{const _=ug(i.current).includes(CSS.escape(v.animationName));if(v.target===e&&_&&(u("ANIMATION_END"),!r.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(s.current=ug(i.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function ug(t){return t?.animationName||"none"}function l4(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Nb="rovingFocusGroup.onEntryFocus",c4={bubbles:!1,cancelable:!0},Af="RovingFocusGroup",[s_,X1,u4]=w1(Af),[d4,Z1]=uu(Af,[u4]),[f4,h4]=d4(Af),J1=C.forwardRef((t,e)=>E.jsx(s_.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(s_.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(g4,{...t,ref:e})})}));J1.displayName=Af;var g4=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...g}=t,p=C.useRef(null),v=Fi(e,p),b=S1(s),[_,S]=_1({prop:a,defaultProp:l??null,onChange:u,caller:Af}),[x,A]=C.useState(!1),T=vs(d),M=X1(n),O=C.useRef(!1),[N,k]=C.useState(0);return C.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(Nb,T),()=>D.removeEventListener(Nb,T)},[T]),E.jsx(f4,{scope:n,orientation:i,dir:b,loop:r,currentTabStopId:_,onItemFocus:C.useCallback(D=>S(D),[S]),onItemShiftTab:C.useCallback(()=>A(!0),[]),onFocusableItemAdd:C.useCallback(()=>k(D=>D+1),[]),onFocusableItemRemove:C.useCallback(()=>k(D=>D-1),[]),children:E.jsx(Kn.div,{tabIndex:x||N===0?-1:0,"data-orientation":i,...g,ref:v,style:{outline:"none",...t.style},onMouseDown:yt(t.onMouseDown,()=>{O.current=!0}),onFocus:yt(t.onFocus,D=>{const P=!O.current;if(D.target===D.currentTarget&&P&&!x){const z=new CustomEvent(Nb,c4);if(D.currentTarget.dispatchEvent(z),!z.defaultPrevented){const B=M().filter(L=>L.focusable),Q=B.find(L=>L.active),ne=B.find(L=>L.id===_),me=[Q,ne,...B].filter(Boolean).map(L=>L.ref.current);nN(me,h)}}O.current=!1}),onBlur:yt(t.onBlur,()=>A(!1))})})}),eN="RovingFocusGroupItem",tN=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:s,children:a,...l}=t,u=t_(),d=s||u,h=h4(eN,n),g=h.currentTabStopId===d,p=X1(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:_}=h;return C.useEffect(()=>{if(i)return v(),()=>b()},[i,v,b]),E.jsx(s_.ItemSlot,{scope:n,id:d,focusable:i,active:r,children:E.jsx(Kn.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:yt(t.onMouseDown,S=>{i?h.onItemFocus(d):S.preventDefault()}),onFocus:yt(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:yt(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const x=v4(S,h.orientation,h.dir);if(x!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=p().filter(M=>M.focusable).map(M=>M.ref.current);if(x==="last")T.reverse();else if(x==="prev"||x==="next"){x==="prev"&&T.reverse();const M=T.indexOf(S.currentTarget);T=h.loop?y4(T,M+1):T.slice(M+1)}setTimeout(()=>nN(T))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:_!=null}):a})})});tN.displayName=eN;var m4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function v4(t,e,n){const i=p4(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return m4[i]}function nN(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function y4(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var b4=J1,_4=tN,w4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vc=new WeakMap,dg=new WeakMap,fg={},Ib=0,iN=function(t){return t&&(t.host||iN(t.parentNode))},S4=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=iN(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},x4=function(t,e,n,i){var r=S4(e,Array.isArray(t)?t:[t]);fg[n]||(fg[n]=new WeakMap);var s=fg[n],a=[],l=new Set,u=new Set(r),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};r.forEach(d);var h=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(p){if(l.has(p))h(p);else try{var v=p.getAttribute(i),b=v!==null&&v!=="false",_=(vc.get(p)||0)+1,S=(s.get(p)||0)+1;vc.set(p,_),s.set(p,S),a.push(p),_===1&&b&&dg.set(p,!0),S===1&&p.setAttribute(n,"true"),b||p.setAttribute(i,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return h(e),l.clear(),Ib++,function(){a.forEach(function(g){var p=vc.get(g)-1,v=s.get(g)-1;vc.set(g,p),s.set(g,v),p||(dg.has(g)||g.removeAttribute(i),dg.delete(g)),v||g.removeAttribute(n)}),Ib--,Ib||(vc=new WeakMap,vc=new WeakMap,dg=new WeakMap,fg={})}},E4=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=w4(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),x4(i,r,n,"aria-hidden")):function(){return null}},a_=function(t,e){return a_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},a_(t,e)};function rN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xr=function(){return xr=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xr.apply(this,arguments)};function mo(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function sN(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(s=(r<3?a(s):r>3?a(e,n,s):a(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function aN(t,e){return function(n,i){e(n,i,t)}}function oN(t,e,n,i,r,s){function a(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=i.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!e&&t?i.static?t:t.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),g,p=!1,v=n.length-1;v>=0;v--){var b={};for(var _ in i)b[_]=_==="access"?{}:i[_];for(var _ in i.access)b.access[_]=i.access[_];b.addInitializer=function(x){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(x||null))};var S=(0,n[v])(l==="accessor"?{get:h.get,set:h.set}:h[u],b);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(g=a(S.get))&&(h.get=g),(g=a(S.set))&&(h.set=g),(g=a(S.init))&&r.unshift(g)}else(g=a(S))&&(l==="field"?r.unshift(g):h[u]=g)}d&&Object.defineProperty(d,i.name,h),p=!0}function lN(t,e,n){for(var i=arguments.length>2,r=0;r<e.length;r++)n=i?e[r].call(t,n):e[r].call(t);return i?n:void 0}function cN(t){return typeof t=="symbol"?t:"".concat(t)}function uN(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function dN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Oe(t,e,n,i){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(h){try{d(i.next(h))}catch(g){a(g)}}function u(h){try{d(i.throw(h))}catch(g){a(g)}}function d(h){h.done?s(h.value):r(h.value).then(l,u)}d((i=i.apply(t,e||[])).next())})}function fN(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(h){return u([d,h])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,r&&(s=d[0]&2?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],r=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var bp=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function hN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bp(e,t,n)}function Cm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kw(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,s=[],a;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function gN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kw(arguments[e]));return t}function mN(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,r++)i[r]=s[a];return i}function Nw(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}function Kc(t){return this instanceof Kc?(this.v=t,this):new Kc(t)}function pN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(v){return function(b){return Promise.resolve(b).then(v,g)}}function l(v,b){i[v]&&(r[v]=function(_){return new Promise(function(S,x){s.push([v,_,S,x])>1||u(v,_)})},b&&(r[v]=b(r[v])))}function u(v,b){try{d(i[v](b))}catch(_){p(s[0][3],_)}}function d(v){v.value instanceof Kc?Promise.resolve(v.value.v).then(h,g):p(s[0][2],v)}function h(v){u("next",v)}function g(v){u("throw",v)}function p(v,b){v(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function vN(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,s){e[r]=t[r]?function(a){return(n=!n)?{value:Kc(t[r](a)),done:!1}:s?s(a):a}:s}}function yN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cm=="function"?Cm(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(a){return new Promise(function(l,u){a=t[s](a),r(l,u,a.done,a.value)})}}function r(s,a,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},a)}}function bN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var C4=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},o_=function(t){return o_=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},o_(t)};function _N(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=o_(t),i=0;i<n.length;i++)n[i]!=="default"&&bp(e,t,n[i]);return C4(e,t),e}function wN(t){return t&&t.__esModule?t:{default:t}}function SN(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function xN(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n}function EN(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function CN(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var A4=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function AN(t){function e(s){t.error=t.hasError?new A4(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,i=0;function r(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(r);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(r,function(a){return e(a),r()})}else i|=1}catch(a){e(a)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function TN(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,r,s,a){return i?e?".jsx":".js":r&&(!s||!a)?n:r+s+"."+a.toLowerCase()+"js"}):t}const T4={__extends:rN,__assign:xr,__rest:mo,__decorate:sN,__param:aN,__esDecorate:oN,__runInitializers:lN,__propKey:cN,__setFunctionName:uN,__metadata:dN,__awaiter:Oe,__generator:fN,__createBinding:bp,__exportStar:hN,__values:Cm,__read:kw,__spread:gN,__spreadArrays:mN,__spreadArray:Nw,__await:Kc,__asyncGenerator:pN,__asyncDelegator:vN,__asyncValues:yN,__makeTemplateObject:bN,__importStar:_N,__importDefault:wN,__classPrivateFieldGet:SN,__classPrivateFieldSet:xN,__classPrivateFieldIn:EN,__addDisposableResource:CN,__disposeResources:AN,__rewriteRelativeImportExtension:TN},R4=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:CN,get __assign(){return xr},__asyncDelegator:vN,__asyncGenerator:pN,__asyncValues:yN,__await:Kc,__awaiter:Oe,__classPrivateFieldGet:SN,__classPrivateFieldIn:EN,__classPrivateFieldSet:xN,__createBinding:bp,__decorate:sN,__disposeResources:AN,__esDecorate:oN,__exportStar:hN,__extends:rN,__generator:fN,__importDefault:wN,__importStar:_N,__makeTemplateObject:bN,__metadata:dN,__param:aN,__propKey:cN,__read:kw,__rest:mo,__rewriteRelativeImportExtension:TN,__runInitializers:lN,__setFunctionName:uN,__spread:gN,__spreadArray:Nw,__spreadArrays:mN,__values:Cm,default:T4},Symbol.toStringTag,{value:"Module"}));var em="right-scroll-bar-position",tm="width-before-scroll-bar",D4="with-scroll-bars-hidden",O4="--removed-body-scroll-bar-size";function Pb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function M4(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var k4=typeof window<"u"?C.useLayoutEffect:C.useEffect,bR=new WeakMap;function N4(t,e){var n=M4(null,function(i){return t.forEach(function(r){return Pb(r,i)})});return k4(function(){var i=bR.get(n);if(i){var r=new Set(i),s=new Set(t),a=n.current;r.forEach(function(l){s.has(l)||Pb(l,null)}),s.forEach(function(l){r.has(l)||Pb(l,a)})}bR.set(n,t)},[t]),n}function I4(t){return t}function P4(t,e){e===void 0&&(e=I4);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,i);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(i=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){i=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var u=function(){var h=a;a=[],h.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return r}function j4(t){t===void 0&&(t={});var e=P4(null);return e.options=xr({async:!0,ssr:!1},t),e}var RN=function(t){var e=t.sideCar,n=mo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return C.createElement(i,xr({},n))};RN.isSideCarExport=!0;function L4(t,e){return t.useMedium(e),RN}var DN=j4(),jb=function(){},_p=C.forwardRef(function(t,e){var n=C.useRef(null),i=C.useState({onScrollCapture:jb,onWheelCapture:jb,onTouchMoveCapture:jb}),r=i[0],s=i[1],a=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,g=t.shards,p=t.sideCar,v=t.noRelative,b=t.noIsolation,_=t.inert,S=t.allowPinchZoom,x=t.as,A=x===void 0?"div":x,T=t.gapMode,M=mo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,N=N4([n,e]),k=xr(xr({},M),r);return C.createElement(C.Fragment,null,h&&C.createElement(O,{sideCar:DN,removeScrollBar:d,shards:g,noRelative:v,noIsolation:b,inert:_,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:T}),a?C.cloneElement(C.Children.only(l),xr(xr({},k),{ref:N})):C.createElement(A,xr({},k,{className:u,ref:N}),l))});_p.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_p.classNames={fullWidth:tm,zeroRight:em};var F4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=F4();return e&&t.setAttribute("nonce",e),t}function z4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function H4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=U4())&&(z4(e,n),H4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},V4=function(){var t=B4();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ON=function(){var t=V4(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},$4={left:0,top:0,right:0,gap:0},Lb=function(t){return parseInt(t||"",10)||0},q4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Lb(n),Lb(i),Lb(r)]},G4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $4;var e=q4(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},W4=ON(),Uc="data-scroll-locked",Y4=function(t,e,n,i){var r=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(D4,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Uc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(em,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(tm,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(em," .").concat(em,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(tm," .").concat(tm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Uc,`] {
    `).concat(O4,": ").concat(l,`px;
  }
`)},_R=function(){var t=parseInt(document.body.getAttribute(Uc)||"0",10);return isFinite(t)?t:0},K4=function(){C.useEffect(function(){return document.body.setAttribute(Uc,(_R()+1).toString()),function(){var t=_R()-1;t<=0?document.body.removeAttribute(Uc):document.body.setAttribute(Uc,t.toString())}},[])},Q4=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;K4();var s=C.useMemo(function(){return G4(r)},[r]);return C.createElement(W4,{styles:Y4(s,!e,r,n?"":"!important")})},l_=!1;if(typeof window<"u")try{var hg=Object.defineProperty({},"passive",{get:function(){return l_=!0,!0}});window.addEventListener("test",hg,hg),window.removeEventListener("test",hg,hg)}catch{l_=!1}var yc=l_?{passive:!1}:!1,X4=function(t){return t.tagName==="TEXTAREA"},MN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!X4(t)&&n[e]==="visible")},Z4=function(t){return MN(t,"overflowY")},J4=function(t){return MN(t,"overflowX")},wR=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=kN(t,i);if(r){var s=NN(t,i),a=s[1],l=s[2];if(a>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},eq=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},tq=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},kN=function(t,e){return t==="v"?Z4(e):J4(e)},NN=function(t,e){return t==="v"?eq(e):tq(e)},nq=function(t,e){return t==="h"&&e==="rtl"?-1:1},iq=function(t,e,n,i,r){var s=nq(t,window.getComputedStyle(e).direction),a=s*i,l=n.target,u=e.contains(l),d=!1,h=a>0,g=0,p=0;do{if(!l)break;var v=NN(t,l),b=v[0],_=v[1],S=v[2],x=_-S-s*b;(b||x)&&kN(t,l)&&(g+=x,p+=b);var A=l.parentNode;l=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(g)<1||!h&&Math.abs(p)<1)&&(d=!0),d},gg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},SR=function(t){return[t.deltaX,t.deltaY]},xR=function(t){return t&&"current"in t?t.current:t},rq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},aq=0,bc=[];function oq(t){var e=C.useRef([]),n=C.useRef([0,0]),i=C.useRef(),r=C.useState(aq++)[0],s=C.useState(ON)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var _=Nw([t.lockRef.current],(t.shards||[]).map(xR),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=C.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!a.current.allowPinchZoom;var x=gg(_),A=n.current,T="deltaX"in _?_.deltaX:A[0]-x[0],M="deltaY"in _?_.deltaY:A[1]-x[1],O,N=_.target,k=Math.abs(T)>Math.abs(M)?"h":"v";if("touches"in _&&k==="h"&&N.type==="range")return!1;var D=wR(k,N);if(!D)return!0;if(D?O=k:(O=k==="v"?"h":"v",D=wR(k,N)),!D)return!1;if(!i.current&&"changedTouches"in _&&(T||M)&&(i.current=O),!O)return!0;var P=i.current||O;return iq(P,S,_,P==="h"?T:M)},[]),u=C.useCallback(function(_){var S=_;if(!(!bc.length||bc[bc.length-1]!==s)){var x="deltaY"in S?SR(S):gg(S),A=e.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&rq(O.delta,x)})[0];if(A&&A.should){S.cancelable&&S.preventDefault();return}if(!A){var T=(a.current.shards||[]).map(xR).filter(Boolean).filter(function(O){return O.contains(S.target)}),M=T.length>0?l(S,T[0]):!a.current.noIsolation;M&&S.cancelable&&S.preventDefault()}}},[]),d=C.useCallback(function(_,S,x,A){var T={name:_,delta:S,target:x,should:A,shadowParent:lq(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(M){return M!==T})},1)},[]),h=C.useCallback(function(_){n.current=gg(_),i.current=void 0},[]),g=C.useCallback(function(_){d(_.type,SR(_),_.target,l(_,t.lockRef.current))},[]),p=C.useCallback(function(_){d(_.type,gg(_),_.target,l(_,t.lockRef.current))},[]);C.useEffect(function(){return bc.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:p}),document.addEventListener("wheel",u,yc),document.addEventListener("touchmove",u,yc),document.addEventListener("touchstart",h,yc),function(){bc=bc.filter(function(_){return _!==s}),document.removeEventListener("wheel",u,yc),document.removeEventListener("touchmove",u,yc),document.removeEventListener("touchstart",h,yc)}},[]);var v=t.removeScrollBar,b=t.inert;return C.createElement(C.Fragment,null,b?C.createElement(s,{styles:sq(r)}):null,v?C.createElement(Q4,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function lq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cq=L4(DN,oq);var IN=C.forwardRef(function(t,e){return C.createElement(_p,xr({},t,{ref:e,sideCar:cq}))});IN.classNames=_p.classNames;var c_=["Enter"," "],uq=["ArrowDown","PageUp","Home"],PN=["ArrowUp","PageDown","End"],dq=[...uq,...PN],fq={ltr:[...c_,"ArrowRight"],rtl:[...c_,"ArrowLeft"]},hq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tf="Menu",[Zd,gq,mq]=w1(Tf),[bl,jN]=uu(Tf,[mq,H1,Z1]),wp=H1(),LN=Z1(),[pq,_l]=bl(Tf),[vq,Rf]=bl(Tf),FN=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:r,onOpenChange:s,modal:a=!0}=t,l=wp(e),[u,d]=C.useState(null),h=C.useRef(!1),g=vs(s),p=S1(r);return C.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),E.jsx(t4,{...l,children:E.jsx(pq,{scope:e,open:n,onOpenChange:g,content:u,onContentChange:d,children:E.jsx(vq,{scope:e,onClose:C.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:p,modal:a,children:i})})})};FN.displayName=Tf;var yq="MenuAnchor",Iw=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=wp(n);return E.jsx(n4,{...r,...i,ref:e})});Iw.displayName=yq;var Pw="MenuPortal",[bq,UN]=bl(Pw,{forceMount:void 0}),zN=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:r}=t,s=_l(Pw,e);return E.jsx(bq,{scope:e,forceMount:n,children:E.jsx(Cf,{present:n||s.open,children:E.jsx(Q1,{asChild:!0,container:r,children:i})})})};zN.displayName=Pw;var Ar="MenuContent",[_q,jw]=bl(Ar),HN=C.forwardRef((t,e)=>{const n=UN(Ar,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,s=_l(Ar,t.__scopeMenu),a=Rf(Ar,t.__scopeMenu);return E.jsx(Zd.Provider,{scope:t.__scopeMenu,children:E.jsx(Cf,{present:i||s.open,children:E.jsx(Zd.Slot,{scope:t.__scopeMenu,children:a.modal?E.jsx(wq,{...r,ref:e}):E.jsx(Sq,{...r,ref:e})})})})}),wq=C.forwardRef((t,e)=>{const n=_l(Ar,t.__scopeMenu),i=C.useRef(null),r=Fi(e,i);return C.useEffect(()=>{const s=i.current;if(s)return E4(s)},[]),E.jsx(Lw,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:yt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Sq=C.forwardRef((t,e)=>{const n=_l(Ar,t.__scopeMenu);return E.jsx(Lw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),xq=Kd("MenuContent.ScrollLock"),Lw=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:p,onDismiss:v,disableOutsideScroll:b,..._}=t,S=_l(Ar,n),x=Rf(Ar,n),A=wp(n),T=LN(n),M=gq(n),[O,N]=C.useState(null),k=C.useRef(null),D=Fi(e,k,S.onContentChange),P=C.useRef(0),z=C.useRef(""),B=C.useRef(0),Q=C.useRef(null),ne=C.useRef("right"),ce=C.useRef(0),me=b?IN:C.Fragment,L=b?{as:xq,allowPinchZoom:!0}:void 0,q=G=>{const he=z.current+G,F=M().filter(pe=>!pe.disabled),Z=document.activeElement,ee=F.find(pe=>pe.ref.current===Z)?.textValue,le=F.map(pe=>pe.textValue),ye=Pq(le,he,ee),_e=F.find(pe=>pe.textValue===ye)?.ref.current;(function pe(Se){z.current=Se,window.clearTimeout(P.current),Se!==""&&(P.current=window.setTimeout(()=>pe(""),1e3))})(he),_e&&setTimeout(()=>_e.focus())};C.useEffect(()=>()=>window.clearTimeout(P.current),[]),A3();const V=C.useCallback(G=>ne.current===Q.current?.side&&Lq(G,Q.current?.area),[]);return E.jsx(_q,{scope:n,searchRef:z,onItemEnter:C.useCallback(G=>{V(G)&&G.preventDefault()},[V]),onItemLeave:C.useCallback(G=>{V(G)||(k.current?.focus(),N(null))},[V]),onTriggerLeave:C.useCallback(G=>{V(G)&&G.preventDefault()},[V]),pointerGraceTimerRef:B,onPointerGraceIntentChange:C.useCallback(G=>{Q.current=G},[]),children:E.jsx(me,{...L,children:E.jsx(A1,{asChild:!0,trapped:r,onMountAutoFocus:yt(s,G=>{G.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:E.jsx(E1,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:p,onDismiss:v,children:E.jsx(b4,{asChild:!0,...T,dir:x.dir,orientation:"vertical",loop:i,currentTabStopId:O,onCurrentTabStopIdChange:N,onEntryFocus:yt(u,G=>{x.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(i4,{role:"menu","aria-orientation":"vertical","data-state":iI(S.open),"data-radix-menu-content":"",dir:x.dir,...A,..._,ref:D,style:{outline:"none",..._.style},onKeyDown:yt(_.onKeyDown,G=>{const F=G.target.closest("[data-radix-menu-content]")===G.currentTarget,Z=G.ctrlKey||G.altKey||G.metaKey,ee=G.key.length===1;F&&(G.key==="Tab"&&G.preventDefault(),!Z&&ee&&q(G.key));const le=k.current;if(G.target!==le||!dq.includes(G.key))return;G.preventDefault();const _e=M().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);PN.includes(G.key)&&_e.reverse(),Nq(_e)}),onBlur:yt(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(P.current),z.current="")}),onPointerMove:yt(t.onPointerMove,Jd(G=>{const he=G.target,F=ce.current!==G.clientX;if(G.currentTarget.contains(he)&&F){const Z=G.clientX>ce.current?"right":"left";ne.current=Z,ce.current=G.clientX}}))})})})})})})});HN.displayName=Ar;var Eq="MenuGroup",Fw=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(Kn.div,{role:"group",...i,ref:e})});Fw.displayName=Eq;var Cq="MenuLabel",BN=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(Kn.div,{...i,ref:e})});BN.displayName=Cq;var Am="MenuItem",ER="menu.itemSelect",Sp=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...r}=t,s=C.useRef(null),a=Rf(Am,t.__scopeMenu),l=jw(Am,t.__scopeMenu),u=Fi(e,s),d=C.useRef(!1),h=()=>{const g=s.current;if(!n&&g){const p=new CustomEvent(ER,{bubbles:!0,cancelable:!0});g.addEventListener(ER,v=>i?.(v),{once:!0}),h1(g,p),p.defaultPrevented?d.current=!1:a.onClose()}};return E.jsx(VN,{...r,ref:u,disabled:n,onClick:yt(t.onClick,h),onPointerDown:g=>{t.onPointerDown?.(g),d.current=!0},onPointerUp:yt(t.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:yt(t.onKeyDown,g=>{const p=l.searchRef.current!=="";n||p&&g.key===" "||c_.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Sp.displayName=Am;var VN=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:r,...s}=t,a=jw(Am,n),l=LN(n),u=C.useRef(null),d=Fi(e,u),[h,g]=C.useState(!1),[p,v]=C.useState("");return C.useEffect(()=>{const b=u.current;b&&v((b.textContent??"").trim())},[s.children]),E.jsx(Zd.ItemSlot,{scope:n,disabled:i,textValue:r??p,children:E.jsx(_4,{asChild:!0,...l,focusable:!i,children:E.jsx(Kn.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:d,onPointerMove:yt(t.onPointerMove,Jd(b=>{i?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:yt(t.onPointerLeave,Jd(b=>a.onItemLeave(b))),onFocus:yt(t.onFocus,()=>g(!0)),onBlur:yt(t.onBlur,()=>g(!1))})})})}),Aq="MenuCheckboxItem",$N=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...r}=t;return E.jsx(KN,{scope:t.__scopeMenu,checked:n,children:E.jsx(Sp,{role:"menuitemcheckbox","aria-checked":Tm(n)?"mixed":n,...r,ref:e,"data-state":zw(n),onSelect:yt(r.onSelect,()=>i?.(Tm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$N.displayName=Aq;var qN="MenuRadioGroup",[Tq,Rq]=bl(qN,{value:void 0,onValueChange:()=>{}}),GN=C.forwardRef((t,e)=>{const{value:n,onValueChange:i,...r}=t,s=vs(i);return E.jsx(Tq,{scope:t.__scopeMenu,value:n,onValueChange:s,children:E.jsx(Fw,{...r,ref:e})})});GN.displayName=qN;var WN="MenuRadioItem",YN=C.forwardRef((t,e)=>{const{value:n,...i}=t,r=Rq(WN,t.__scopeMenu),s=n===r.value;return E.jsx(KN,{scope:t.__scopeMenu,checked:s,children:E.jsx(Sp,{role:"menuitemradio","aria-checked":s,...i,ref:e,"data-state":zw(s),onSelect:yt(i.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});YN.displayName=WN;var Uw="MenuItemIndicator",[KN,Dq]=bl(Uw,{checked:!1}),QN=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...r}=t,s=Dq(Uw,n);return E.jsx(Cf,{present:i||Tm(s.checked)||s.checked===!0,children:E.jsx(Kn.span,{...r,ref:e,"data-state":zw(s.checked)})})});QN.displayName=Uw;var Oq="MenuSeparator",XN=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(Kn.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});XN.displayName=Oq;var Mq="MenuArrow",ZN=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=wp(n);return E.jsx(r4,{...r,...i,ref:e})});ZN.displayName=Mq;var kq="MenuSub",[xle,JN]=bl(kq),Sd="MenuSubTrigger",eI=C.forwardRef((t,e)=>{const n=_l(Sd,t.__scopeMenu),i=Rf(Sd,t.__scopeMenu),r=JN(Sd,t.__scopeMenu),s=jw(Sd,t.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},h=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>h,[h]),C.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),u(null)}},[l,u]),E.jsx(Iw,{asChild:!0,...d,children:E.jsx(VN,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":iI(n.open),...t,ref:fp(e,r.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:yt(t.onPointerMove,Jd(g=>{s.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:yt(t.onPointerLeave,Jd(g=>{h();const p=n.content?.getBoundingClientRect();if(p){const v=n.content?.dataset.side,b=v==="right",_=b?-5:5,S=p[b?"left":"right"],x=p[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+_,y:g.clientY},{x:S,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:S,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:yt(t.onKeyDown,g=>{const p=s.searchRef.current!=="";t.disabled||p&&g.key===" "||fq[i.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});eI.displayName=Sd;var tI="MenuSubContent",nI=C.forwardRef((t,e)=>{const n=UN(Ar,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,s=_l(Ar,t.__scopeMenu),a=Rf(Ar,t.__scopeMenu),l=JN(tI,t.__scopeMenu),u=C.useRef(null),d=Fi(e,u);return E.jsx(Zd.Provider,{scope:t.__scopeMenu,children:E.jsx(Cf,{present:i||s.open,children:E.jsx(Zd.Slot,{scope:t.__scopeMenu,children:E.jsx(Lw,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&u.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:yt(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:yt(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:yt(t.onKeyDown,h=>{const g=h.currentTarget.contains(h.target),p=hq[a.dir].includes(h.key);g&&p&&(s.onOpenChange(!1),l.trigger?.focus(),h.preventDefault())})})})})})});nI.displayName=tI;function iI(t){return t?"open":"closed"}function Tm(t){return t==="indeterminate"}function zw(t){return Tm(t)?"indeterminate":t?"checked":"unchecked"}function Nq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Iq(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function Pq(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Iq(t,Math.max(s,0));r.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function jq(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],u=e[a],d=l.x,h=l.y,g=u.x,p=u.y;h>i!=p>i&&n<(g-d)*(i-h)/(p-h)+d&&(r=!r)}return r}function Lq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return jq(n,e)}function Jd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Fq=FN,Uq=Iw,zq=zN,Hq=HN,Bq=Fw,Vq=BN,$q=Sp,qq=$N,Gq=GN,Wq=YN,Yq=QN,Kq=XN,Qq=ZN,Xq=eI,Zq=nI,xp="DropdownMenu",[Jq]=uu(xp,[jN]),bi=jN(),[e6,rI]=Jq(xp),sI=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:r,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,u=bi(e),d=C.useRef(null),[h,g]=_1({prop:r,defaultProp:s??!1,onChange:a,caller:xp});return E.jsx(e6,{scope:e,triggerId:t_(),triggerRef:d,contentId:t_(),open:h,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(p=>!p),[g]),modal:l,children:E.jsx(Fq,{...u,open:h,onOpenChange:g,dir:i,modal:l,children:n})})};sI.displayName=xp;var aI="DropdownMenuTrigger",oI=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...r}=t,s=rI(aI,n),a=bi(n);return E.jsx(Uq,{asChild:!0,...a,children:E.jsx(Kn.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:fp(e,s.triggerRef),onPointerDown:yt(t.onPointerDown,l=>{!i&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:yt(t.onKeyDown,l=>{i||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});oI.displayName=aI;var t6="DropdownMenuPortal",lI=t=>{const{__scopeDropdownMenu:e,...n}=t,i=bi(e);return E.jsx(zq,{...i,...n})};lI.displayName=t6;var cI="DropdownMenuContent",uI=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=rI(cI,n),s=bi(n),a=C.useRef(!1);return E.jsx(Hq,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...i,ref:e,onCloseAutoFocus:yt(t.onCloseAutoFocus,l=>{a.current||r.triggerRef.current?.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:yt(t.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!r.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uI.displayName=cI;var n6="DropdownMenuGroup",i6=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(Bq,{...r,...i,ref:e})});i6.displayName=n6;var r6="DropdownMenuLabel",dI=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(Vq,{...r,...i,ref:e})});dI.displayName=r6;var s6="DropdownMenuItem",fI=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx($q,{...r,...i,ref:e})});fI.displayName=s6;var a6="DropdownMenuCheckboxItem",o6=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(qq,{...r,...i,ref:e})});o6.displayName=a6;var l6="DropdownMenuRadioGroup",c6=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(Gq,{...r,...i,ref:e})});c6.displayName=l6;var u6="DropdownMenuRadioItem",d6=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(Wq,{...r,...i,ref:e})});d6.displayName=u6;var f6="DropdownMenuItemIndicator",h6=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(Yq,{...r,...i,ref:e})});h6.displayName=f6;var g6="DropdownMenuSeparator",hI=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(Kq,{...r,...i,ref:e})});hI.displayName=g6;var m6="DropdownMenuArrow",p6=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(Qq,{...r,...i,ref:e})});p6.displayName=m6;var v6="DropdownMenuSubTrigger",y6=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(Xq,{...r,...i,ref:e})});y6.displayName=v6;var b6="DropdownMenuSubContent",_6=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=bi(n);return E.jsx(Zq,{...r,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_6.displayName=b6;var w6=sI,S6=oI,x6=lI,E6=uI,C6=dI,A6=fI,T6=hI;const R6="modulepreload",D6=function(t){return"/scheduler_demo/"+t},CR={},Kr=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=u(n.map(d=>{if(d=D6(d),d in CR)return;CR[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":R6,h||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((v,b)=>{p.addEventListener("load",v),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},O6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Kr(async()=>{const{default:i}=await Promise.resolve().then(()=>wl);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class Hw extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class AR extends Hw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class TR extends Hw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class RR extends Hw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var u_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(u_||(u_={}));class M6{constructor(e,{headers:n={},customFetch:i,region:r=u_.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=O6(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Oe(this,arguments,void 0,function*(n,i={}){var r;try{const{headers:s,method:a,body:l,signal:u}=i;let d={},{region:h}=i;h||(h=this.region);const g=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let p;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(d["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)):p=l;const v=yield this.fetch(g.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:p,signal:u}).catch(x=>{throw x.name==="AbortError"?x:new AR(x)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new TR(v);if(!v.ok)throw new RR(v);let _=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield v.json():_==="application/octet-stream"||_==="application/pdf"?S=yield v.blob():_==="text/event-stream"?S=v:_==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new AR(s)}:{data:null,error:s,response:s instanceof RR||s instanceof TR?s.context:void 0}}})}}var ai={};const hu=ok(R4);var mg={},pg={},vg={},yg={},bg={},k6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qc=k6();const N6=Qc.fetch,gI=Qc.fetch.bind(Qc),mI=Qc.Headers,I6=Qc.Request,P6=Qc.Response,wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:mI,Request:I6,Response:P6,default:gI,fetch:N6},Symbol.toStringTag,{value:"Module"})),j6=ok(wl);var _g={},DR;function pI(){if(DR)return _g;DR=1,Object.defineProperty(_g,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return _g.default=t,_g}var OR;function vI(){if(OR)return bg;OR=1,Object.defineProperty(bg,"__esModule",{value:!0});const t=hu,e=t.__importDefault(j6),n=t.__importDefault(pI());class i{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,p,v;let b=null,_=null,S=null,x=d.status,A=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_=N:_=JSON.parse(N))}const M=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),O=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");M&&O&&O.length>1&&(S=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,x=406,A="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const M=await d.text();try{b=JSON.parse(M),Array.isArray(b)&&d.status===404&&(_=[],b=null,x=200,A="OK")}catch{d.status===404&&M===""?(x=204,A="No Content"):b={message:M}}if(b&&this.isMaybeSingle&&(!((v=b?.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,x=200,A="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:_,count:S,status:x,statusText:A}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,g,p;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(g=d?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(p=d?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return bg.default=i,bg}var MR;function yI(){if(MR)return yg;MR=1,Object.defineProperty(yg,"__esModule",{value:!0});const e=hu.__importDefault(vI());class n extends e.default{select(r){let s=!1;const a=(r??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${r}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(d,`${s-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const g=[r?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return yg.default=n,yg}var kR;function Bw(){if(kR)return vg;kR=1,Object.defineProperty(vg,"__esModule",{value:!0});const e=hu.__importDefault(yI());class n extends e.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const a=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${a})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(r,`${u}fts${d}.${s}`),this}match(r){return Object.entries(r).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(r,s,a){return this.url.searchParams.append(r,`not.${s}.${a}`),this}or(r,{foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,s,a){return this.url.searchParams.append(r,`${s}.${a}`),this}}return vg.default=n,vg}var NR;function bI(){if(NR)return pg;NR=1,Object.defineProperty(pg,"__esModule",{value:!0});const e=hu.__importDefault(Bw());class n{constructor(r,{headers:s={},schema:a,fetch:l}){this.url=r,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(r,s){const{head:a=!1,count:l}=s??{},u=a?"HEAD":"GET";let d=!1;const h=(r??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:s,defaultToNull:a=!0}={}){var l;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(g.length>0){const p=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:r}={}){var s;const a="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return pg.default=n,pg}var IR;function L6(){if(IR)return mg;IR=1,Object.defineProperty(mg,"__esModule",{value:!0});const t=hu,e=t.__importDefault(bI()),n=t.__importDefault(Bw());class i{constructor(s,{headers:a={},schema:l,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:u=!1,count:d}={}){var h;let g;const p=new URL(`${this.url}/rpc/${s}`);let v;l||u?(g=l?"HEAD":"GET",Object.entries(a).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{p.searchParams.append(_,S)})):(g="POST",v=a);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new n.default({method:g,url:p,headers:b,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return mg.default=i,mg}var PR;function F6(){if(PR)return ai;PR=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.PostgrestError=ai.PostgrestBuilder=ai.PostgrestTransformBuilder=ai.PostgrestFilterBuilder=ai.PostgrestQueryBuilder=ai.PostgrestClient=void 0;const t=hu,e=t.__importDefault(L6());ai.PostgrestClient=e.default;const n=t.__importDefault(bI());ai.PostgrestQueryBuilder=n.default;const i=t.__importDefault(Bw());ai.PostgrestFilterBuilder=i.default;const r=t.__importDefault(yI());ai.PostgrestTransformBuilder=r.default;const s=t.__importDefault(vI());ai.PostgrestBuilder=s.default;const a=t.__importDefault(pI());return ai.PostgrestError=a.default,ai.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:s.default,PostgrestError:a.default},ai}var U6=F6();const z6=bf(U6),{PostgrestClient:H6,PostgrestQueryBuilder:Ele,PostgrestFilterBuilder:Cle,PostgrestTransformBuilder:Ale,PostgrestBuilder:Tle,PostgrestError:Rle}=z6;class B6{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const V6="2.76.1",$6=`realtime-js/${V6}`,q6="1.0.0",d_=1e4,G6=1e3,W6=100;var Md;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Md||(Md={}));var jn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jn||(jn={}));var jr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(jr||(jr={}));var f_;(function(t){t.websocket="websocket"})(f_||(f_={}));var Zo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zo||(Zo={}));class Y6{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=i.decode(e.slice(a,a+r));a=a+r;const u=i.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(i.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class _I{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qt||(qt={}));const jR=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=K6(a,t,e,r),s),{}):{}},K6=(t,e,n,i)=>{const r=e.find(l=>l.name===t),s=r?.type,a=n[t];return s&&!i.includes(s)?wI(s,a):h_(a)},wI=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return J6(e,n)}switch(t){case qt.bool:return Q6(e);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return X6(e);case qt.json:case qt.jsonb:return Z6(e);case qt.timestamp:return eG(e);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return h_(e);default:return h_(e)}},h_=t=>t,Q6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},X6=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Z6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},J6=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>wI(e,l))}return t},eG=t=>typeof t=="string"?t.replace(" ","T"):t,SI=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Fb{constructor(e,n,i={},r=d_){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var LR;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(LR||(LR={}));class kd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kd.syncState(this.state,r,s,a),this.pendingDiffs.forEach(u=>{this.state=kd.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=kd.syncDiff(this.state,r,s,a),l())}),this.onJoin((r,s,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:a})}),this.onLeave((r,s,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const s=this.cloneDeep(e),a=this.transformState(n),l={},u={};return this.map(s,(d,h)=>{a[d]||(u[d]=h)}),this.map(a,(d,h)=>{const g=s[d];if(g){const p=h.map(S=>S.presence_ref),v=g.map(S=>S.presence_ref),b=h.filter(S=>v.indexOf(S.presence_ref)<0),_=g.filter(S=>p.indexOf(S.presence_ref)<0);b.length>0&&(l[d]=b),_.length>0&&(u[d]=_)}else l[d]=h}),this.syncDiff(s,{joins:l,leaves:u},i,r)}static syncDiff(e,n,i,r){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(l,u)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),h.length>0){const g=e[l].map(v=>v.presence_ref),p=h.filter(v=>g.indexOf(v.presence_ref)<0);e[l].unshift(...p)}i(l,h,u)}),this.map(a,(l,u)=>{let d=e[l];if(!d)return;const h=u.map(g=>g.presence_ref);d=d.filter(g=>h.indexOf(g.presence_ref)<0),e[l]=d,r(l,d,u),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FR;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(FR||(FR={}));var Nd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nd||(Nd={}));var Qs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qs||(Qs={}));class Vw{constructor(e,n={config:{}},i){var r,s;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fb(this,jr.join,this.params,this.timeout),this.rejoinTimer=new _I(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new kd(this),this.broadcastEndpointURL=SI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==jn.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,d=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&r!==void 0?r:[],h=!!this.bindings[Nd.PRESENCE]&&this.bindings[Nd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(Qs.CHANNEL_ERROR,v)),this._onClose(()=>e?.(Qs.CLOSED)),this.updateJoinPayload(Object.assign({config:p},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){e?.(Qs.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(b=_?.length)!==null&&b!==void 0?b:0,x=[];for(let A=0;A<S;A++){const T=_[A],{filter:{event:M,schema:O,table:N,filter:k}}=T,D=v&&v[A];if(D&&D.event===M&&D.schema===O&&D.table===N&&D.filter===k)x.push(Object.assign(Object.assign({},T),{id:D.id}));else{this.unsubscribe(),this.state=jn.errored,e?.(Qs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Qs.SUBSCRIBED);return}}).receive("error",v=>{this.state=jn.errored,e?.(Qs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(Qs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===jn.joined&&e===Nd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var r;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new Fb(this,jr.leave,{},e),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jn.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const r=new AbortController,s=setTimeout(()=>r.abort(),i),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(s),a}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Fb(this,e,n,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>W6){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,s;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=jr;if(i&&[l,u,d,h].indexOf(a)>=0&&i!==this._joinRef())return;let p=this._onMessage(a,n,i);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(v=>{var b,_,S;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(_=v.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(v=>v.callback(p,i)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var b,_,S,x,A,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const M=v.id,O=(b=v.filter)===null||b===void 0?void 0:b.event;return M&&((_=n.ids)===null||_===void 0?void 0:_.includes(M))&&(O==="*"||O?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(A=(x=v?.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return M==="*"||M===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:_,table:S,commit_timestamp:x,type:A,errors:T}=b;p=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:x,eventType:A,new:{},old:{},errors:T}),this._getPayloadRecords(b))}v.callback(p,i)})}_isClosed(){return this.state===jn.closed}_isJoined(){return this.state===jn.joined}_isJoining(){return this.state===jn.joining}_isLeaving(){return this.state===jn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),s={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&Vw.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jr.close,{},e)}_onError(e){this._on(jr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=jR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=jR(e.columns,e.old_record)),n}}const Ub=()=>{},wg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tG=[1e3,2e3,5e3,1e4],nG=1e4,iG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rG{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=d_,this.transport=null,this.heartbeatIntervalMs=wg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ub,this.ref=0,this.reconnectTimer=null,this.logger=Ub,this.conn=null,this.sendBuffer=[],this.serializer=new Y6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...a)=>Kr(async()=>{const{default:l}=await Promise.resolve().then(()=>wl);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${f_.websocket}`,this.httpEndpoint=SI(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=B6.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:q6}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Md.connecting:return Zo.Connecting;case Md.open:return Zo.Open;case Md.closing:return Zo.Closing;default:return Zo.Closed}}isConnected(){return this.connectionState()===Zo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(s=>s.topic===i);if(r)return r;{const s=new Vw(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:i,payload:r,ref:s}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${i} (${s})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(G6,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:s,ref:a}=n,l=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${i} ${r} ${l}`.trim(),s),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(r,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([iG],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:$6};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(jr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new _I(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,r,s,a,l,u,d,h;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:d_,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:wg.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Ub,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(g=>tG[g-1]||nG),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((g,p)=>p(JSON.stringify(g))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class $w extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sG extends $w{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class g_ extends $w{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const qw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Kr(async()=>{const{default:i}=await Promise.resolve().then(()=>wl);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},aG=()=>Oe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kr(()=>Promise.resolve().then(()=>wl),void 0)).Response:Response}),m_=t=>{if(Array.isArray(t))return t.map(n=>m_(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[r]=m_(i)}),e},oG=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lG=(t,e,n)=>Oe(void 0,void 0,void 0,function*(){const i=yield aG();t instanceof i&&!n?.noResolveJson?t.json().then(r=>{const s=t.status||500,a=r?.statusCode||s+"";e(new sG(zb(r),s,a))}).catch(r=>{e(new g_(zb(r),r))}):e(new g_(zb(t),t))}),cG=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!i?r:(oG(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Df(t,e,n,i,r,s){return Oe(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,cG(e,i,r,s)).then(u=>{if(!u.ok)throw u;return i?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>lG(u,l,i))})})}function ef(t,e,n,i){return Oe(this,void 0,void 0,function*(){return Df(t,"GET",e,n,i)})}function Pr(t,e,n,i,r){return Oe(this,void 0,void 0,function*(){return Df(t,"POST",e,i,r,n)})}function p_(t,e,n,i,r){return Oe(this,void 0,void 0,function*(){return Df(t,"PUT",e,i,r,n)})}function uG(t,e,n,i){return Oe(this,void 0,void 0,function*(){return Df(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Gw(t,e,n,i,r){return Oe(this,void 0,void 0,function*(){return Df(t,"DELETE",e,i,r,n)})}class dG{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sn(e))return{data:null,error:e};throw e}})}}var xI;class fG{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[xI]="BlobDownloadBuilder",this.promise=null}asStream(){return new dG(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sn(e))return{data:null,error:e};throw e}})}}xI=Symbol.toStringTag;const hG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},UR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gG{constructor(e,n={},i,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=qw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,r){return Oe(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},UR),r);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=i,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),r?.headers&&(l=Object.assign(Object.assign({},l),r.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=yield(e=="PUT"?p_:Pr)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}upload(e,n,i){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return Oe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:UR.upsert},r),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl)):(u=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=yield p_(this.fetch,l.toString(),u,{headers:h});return{data:{path:s,fullPath:g.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(sn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Oe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const s=yield Pr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new $w("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}update(e,n,i){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Oe(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}copy(e,n,i){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return Oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield Pr(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const a=i?.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return Oe(this,void 0,void 0,function*(){try{const r=yield Pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),a=s?`?${s}`:"",l=this._getFinalPath(e),u=()=>ef(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new fG(u,this.shouldThrowOnError)}info(e){return Oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield ef(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:m_(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}exists(e){return Oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield uG(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i)&&i instanceof g_){const r=i.originalError;if([400,404].includes(r?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&r.push(s);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&r.push(u);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${d}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Gw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}list(e,n,i){return Oe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},hG),n),{prefix:e||""});return{data:yield Pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listV2(e,n){return Oe(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Pr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const EI="2.76.1",CI={"X-Client-Info":`storage-js/${EI}`};class mG{constructor(e,n={},i,r){this.shouldThrowOnError=!1;const s=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CI),n),this.fetch=qw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Oe(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sn(e))return{data:null,error:e};throw e}})}getBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}createBucket(e){return Oe(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield p_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Gw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}}class pG{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CI),n),this.fetch=qw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}listBuckets(e){return Oe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),r=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,s=yield ef(this.fetch,r,{headers:this.headers});return{data:Array.isArray(s)?s.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Gw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}}const Ww={"X-Client-Info":`storage-js/${EI}`,"Content-Type":"application/json"};class AI extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Qi(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Hb extends AI{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vG extends AI{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var zR;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(zR||(zR={}));const Yw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Kr(async()=>{const{default:i}=await Promise.resolve().then(()=>wl);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},yG=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},HR=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bG=(t,e,n)=>Oe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const l=a?.statusCode||a?.code||r+"";e(new Hb(HR(a),r,l))}).catch(()=>{const a=r+"",l=s.statusText||`HTTP ${r} error`;e(new Hb(l,r,a))});else{const a=r+"",l=s.statusText||`HTTP ${r} error`;e(new Hb(l,r,a))}}else e(new vG(HR(t),t))}),_G=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return i?(yG(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,Object.assign(Object.assign({},r),n)):r};function wG(t,e,n,i,r,s){return Oe(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,_G(e,i,r,s)).then(u=>{if(!u.ok)throw u;if(i?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>bG(u,l,i))})})}function Xi(t,e,n,i,r){return Oe(this,void 0,void 0,function*(){return wG(t,"POST",e,i,r,n)})}class SG{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ww),n),this.fetch=Yw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Xi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qi(i))return{data:null,error:i};throw i}})}listIndexes(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Xi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qi(i))return{data:null,error:i};throw i}})}}class xG{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ww),n),this.fetch=Yw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Oe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Xi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}getVectors(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}listVectors(e){return Oe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Xi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}queryVectors(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Oe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Xi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}}class EG{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ww),n),this.fetch=Yw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Xi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}getBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}listBuckets(){return Oe(this,arguments,void 0,function*(e={}){try{return{data:yield Xi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Xi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qi(n))return{data:null,error:n};throw n}})}}class CG extends EG{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new AG(this.url,this.headers,e,this.fetch)}}class AG extends SG{constructor(e,n,i,r){super(e,n,r),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Oe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Oe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Oe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Oe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new TG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class TG extends xG{constructor(e,n,i,r,s){super(e,n,s),this.vectorBucketName=i,this.indexName=r}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Oe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Oe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Oe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Oe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Oe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class RG extends mG{constructor(e,n={},i,r){super(e,n,i,r)}from(e){return new gG(this.url,this.headers,e,this.fetch)}get vectors(){return new CG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pG(this.url+"/iceberg",this.headers,this.fetch)}}const DG="2.76.1";let xd="";typeof Deno<"u"?xd="deno":typeof document<"u"?xd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xd="react-native":xd="node";const OG={"X-Client-Info":`supabase-js-${xd}/${DG}`},MG={headers:OG},kG={schema:"public"},NG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IG={},PG=t=>{let e;return t?e=t:typeof fetch>"u"?e=gI:e=fetch,(...n)=>e(...n)},jG=()=>typeof Headers>"u"?mI:Headers,LG=(t,e,n)=>{const i=PG(n),r=jG();return async(s,a)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:t;let d=new r(a?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),i(s,Object.assign(Object.assign({},a),{headers:d}))}};function FG(t){return t.endsWith("/")?t:t+"/"}function UG(t,e){var n,i;const{db:r,auth:s,realtime:a,global:l}=t,{db:u,auth:d,realtime:h,global:g}=e,p={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(i=l?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function zG(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(FG(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TI="2.76.1",Oc=30*1e3,v_=3,Bb=v_*Oc,HG="http://localhost:9999",BG="supabase.auth.token",VG={"X-Client-Info":`gotrue-js/${TI}`},y_="X-Supabase-Api-Version",RI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$G=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qG=600*1e3;class tf extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class GG extends tf{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function WG(t){return Ie(t)&&t.name==="AuthApiError"}class Jo extends tf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class po extends tf{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class $a extends po{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YG(t){return Ie(t)&&t.name==="AuthSessionMissingError"}class _c extends po{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sg extends po{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xg extends po{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KG(t){return Ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class BR extends po{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b_ extends po{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Vb(t){return Ie(t)&&t.name==="AuthRetryableFetchError"}class VR extends po{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class __ extends po{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$R=` 	
\r=`.split(""),QG=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$R.length;e+=1)t[$R[e].charCodeAt(0)]=-2;for(let e=0;e<Rm.length;e+=1)t[Rm[e].charCodeAt(0)]=e;return t})();function qR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Rm[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Rm[i]),e.queuedBits-=6}}function DI(t,e,n){const i=QG[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function GR(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},s=a=>{JG(a,i,n)};for(let a=0;a<t.length;a+=1)DI(t.charCodeAt(a),r,s);return e.join("")}function XG(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ZG(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}XG(i,e)}}function JG(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zc(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)DI(t.charCodeAt(r),n,i);return new Uint8Array(e)}function eW(t){const e=[];return ZG(t,n=>e.push(n)),new Uint8Array(e)}function il(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};return t.forEach(r=>qR(r,n,i)),qR(null,n,i),e.join("")}function tW(t){return Math.round(Date.now()/1e3)+t}function nW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Wi=()=>typeof window<"u"&&typeof document<"u",zo={tested:!1,writable:!1},OI=()=>{if(!Wi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zo.tested)return zo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zo.tested=!0,zo.writable=!0}catch{zo.tested=!0,zo.writable=!1}return zo.writable};function iW(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,s)=>{e[s]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const MI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Kr(async()=>{const{default:i}=await Promise.resolve().then(()=>wl);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},rW=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ho=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},za=async(t,e)=>{await t.removeItem(e)};class Ep{constructor(){this.promise=new Ep.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ep.promiseConstructor=Promise;function $b(t){const e=t.split(".");if(e.length!==3)throw new __("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!$G.test(e[i]))throw new __("JWT not in base64url format");return{header:JSON.parse(GR(e[0])),payload:JSON.parse(GR(e[1])),signature:zc(e[2]),raw:{header:e[0],payload:e[1]}}}async function sW(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function aW(t,e){return new Promise((i,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){i(a);return}}catch(a){if(!e(s,a)){r(a);return}}})()})}function oW(t){return("0"+t.toString(16)).substr(-2)}function lW(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let s=0;s<56;s++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,oW).join("")}async function cW(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}async function uW(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await cW(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wc(t,e,n=!1){const i=lW();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await Mc(t,`${e}-code-verifier`,r);const s=await uW(i);return[s,i===s?"plain":"s256"]}const dW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fW(t){const e=t.headers.get(y_);if(!e||!e.match(dW))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hW(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gW(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sc(t){if(!mW.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qb(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WR(t){return JSON.parse(JSON.stringify(t))}const Go=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pW=[502,503,504];async function YR(t){var e;if(!rW(t))throw new b_(Go(t),0);if(pW.includes(t.status))throw new b_(Go(t),t.status);let n;try{n=await t.json()}catch(s){throw new Jo(Go(s),s)}let i;const r=fW(t);if(r&&r.getTime()>=RI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new VR(Go(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new $a}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new VR(Go(n),t.status,n.weak_password.reasons);throw new GG(Go(n),t.status||500,i)}const vW=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function qe(t,e,n,i){var r;const s=Object.assign({},i?.headers);s[y_]||(s[y_]=RI["2024-01-01"].name),i?.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const a=(r=i?.query)!==null&&r!==void 0?r:{};i?.redirectTo&&(a.redirect_to=i.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await yW(t,e,n+l,{headers:s,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(u):{data:Object.assign({},u),error:null}}async function yW(t,e,n,i,r,s){const a=vW(e,i,r,s);let l;try{l=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new b_(Go(u),0)}if(l.ok||await YR(l),i?.noResolveJson)return l;try{return await l.json()}catch(u){await YR(u)}}function Ir(t){var e;let n=null;wW(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=tW(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function KR(t){const e=Ir(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ka(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bW(t){return{data:t,error:null}}function _W(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s}=t,a=mo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function QR(t){return t}function wW(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gb=["global","local","others"];class SW{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=MI(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Gb[0]){if(Gb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gb.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ka})}catch(i){if(Ie(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=mo(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:_W,redirectTo:n?.redirectTo})}catch(n){if(Ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ka})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:QR});if(h.error)throw h.error;const g=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);d[`${S}Page`]=_}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ie(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Sc(e);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ka})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Sc(e);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ka})}catch(i){if(Ie(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Sc(e);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ka})}catch(i){if(Ie(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Sc(e.userId);try{const{data:n,error:i}=await qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Sc(e.userId),Sc(e.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,r,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:QR});if(h.error)throw h.error;const g=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);d[`${S}Page`]=_}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ie(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}}function XR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const xc={debug:!!(globalThis&&OI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kI extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xW extends kI{}async function EW(t,e,n){xc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),xc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){xc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{xc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw xc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xW(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function CW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function NI(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function AW(t){return parseInt(t,16)}function TW(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function RW(t){var e;const{chainId:n,domain:i,expirationTime:r,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:u,resources:d,scheme:h,uri:g,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=NI(t.address),b=h?`${h}://${i}`:i,_=t.statement?`${t.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${v}

${_}`;let x=`URI: ${g}
Version: ${p}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(r&&(x+=`
Expiration Time: ${r.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),u&&(x+=`
Request ID: ${u}`),d){let A=`
Resources:`;for(const T of d){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);A+=`
- ${T}`}x+=A}return`${S}
${x}`}class Rn extends Error{constructor({message:e,code:n,cause:i,name:r}){var s;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(s=r??(i instanceof Error?i.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Dm extends Rn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function DW({error:t,options:e}){var n,i,r;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(II(a)){if(s.rp.id!==a)return new Rn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function OW({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(II(i)){if(n.rpId!==i)return new Rn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class MW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const kW=new MW;function NW(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,r=mo(t,["challenge","user","excludeCredentials"]),s=zc(e).buffer,a=Object.assign(Object.assign({},n),{id:zc(n.id).buffer}),l=Object.assign(Object.assign({},r),{challenge:s,user:a});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let u=0;u<i.length;u++){const d=i[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:zc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function IW(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=mo(t,["challenge","allowCredentials"]),r=zc(e).buffer,s=Object.assign(Object.assign({},i),{challenge:r});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:zc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function PW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:il(new Uint8Array(t.response.attestationObject)),clientDataJSON:il(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:il(new Uint8Array(r.authenticatorData)),clientDataJSON:il(new Uint8Array(r.clientDataJSON)),signature:il(new Uint8Array(r.signature)),userHandle:r.userHandle?il(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function II(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ZR(){var t,e;return!!(Wi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function LW(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dm("Browser returned unexpected credential type",e)}:{data:null,error:new Dm("Empty credential response",e)}}catch(e){return{data:null,error:DW({error:e,options:t})}}}async function FW(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dm("Browser returned unexpected credential type",e)}:{data:null,error:new Dm("Empty credential response",e)}}catch(e){return{data:null,error:OW({error:e,options:t})}}}const UW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},zW={userVerification:"preferred",hints:["security-key"]};function Om(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of t)if(r)for(const s in r){const a=r[s];if(a!==void 0)if(Array.isArray(a))i[s]=a;else if(n(a))i[s]=a;else if(e(a)){const l=i[s];e(l)?i[s]=Om(l,a):i[s]=Om(a)}else i[s]=a}return i}function HW(t,e){return Om(UW,t,e||{})}function BW(t,e){return Om(zW,t,e||{})}class VW{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:r},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const u=r??kW.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=HW(a.webauthn.credential_options.publicKey,s?.create),{data:h,error:g}=await LW({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const d=BW(a.webauthn.credential_options.publicKey,s?.request),{data:h,error:g}=await FW(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(a){return Ie(a)?{data:null,error:a}:{data:null,error:new Jo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}},s){if(!n)return{data:null,error:new tf("rpId is required for WebAuthn authentication")};try{if(!ZR())return{data:null,error:new Jo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:r},{request:s});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:i,credential_response:u.credential_response}})}catch(a){return Ie(a)?{data:null,error:a}:{data:null,error:new Jo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r},s){if(!n)return{data:null,error:new tf("rpId is required for WebAuthn registration")};try{if(!ZR())return{data:null,error:new Jo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:r},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:i,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Ie(a)?{data:null,error:a}:{data:null,error:new Jo("Unexpected error in register",a)}}}}CW();const $W={url:HG,storageKey:BG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function JR(t,e,n){return await n()}const Ec={};class nf{get jwks(){var e,n;return(n=(e=Ec[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ec[this.storageKey]=Object.assign(Object.assign({},Ec[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ec[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ec[this.storageKey]=Object.assign(Object.assign({},Ec[this.storageKey]),{cachedAt:e})}constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nf.nextInstanceID,nf.nextInstanceID+=1,this.instanceID>0&&Wi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},$W),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new SW({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=MI(r.fetch),this.lock=r.lock||JR,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Wi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=EW:this.lock=JR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new VW(this)},this.persistSession?(r.storage?this.storage=r.storage:OI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=XR(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=XR(this.memoryStorage)),Wi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TI}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=iW(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Wi()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),KG(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ie(n)?{error:n}:{error:new Jo("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const s=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Ir}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Ie(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,r;try{let s;if("email"in e){const{email:h,password:g,options:p}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await wc(this.storage,this.storageKey)),s=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:h,password:g,data:(n=p?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:b},xform:Ir})}else if("phone"in e){const{phone:h,password:g,options:p}=e;s=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(i=p?.data)!==null&&i!==void 0?i:{},channel:(r=p?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ir})}else throw new Sg("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:l}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:KR})}else if("phone"in e){const{phone:s,password:a,options:l}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:KR})}else throw new Sg("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new _c}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,r,s,a,l,u,d,h,g,p;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:_,wallet:S,statement:x,options:A}=e;let T;if(Wi())if(typeof S=="object")T=S;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")T=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const M=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href),O=await T.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=NI(O[0]);let k=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!k){const P=await T.request({method:"eth_chainId"});k=AW(P)}const D={domain:M.host,address:N,statement:x,uri:M.href,version:"1",chainId:k,nonce:(r=A?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(a=(s=A?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=A?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=RW(D),b=await T.request({method:"personal_sign",params:[TW(v),N]})}try{const{data:_,error:S}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ir});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new _c}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Ie(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var n,i,r,s,a,l,u,d,h,g,p,v;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:S,wallet:x,statement:A,options:T}=e;let M;if(Wi())if(typeof x=="object")M=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))M=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=x}const O=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const N=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),A?{statement:A}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)b=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),_=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(r=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((s=T?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((a=T?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((g=(h=T?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...T.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await M.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=N}}try{const{data:S,error:x}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:il(_)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ir});if(x)throw x;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new _c}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:x})}catch(S){if(Ie(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await Ho(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:s,error:a}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ir});if(await za(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new _c}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:a})}catch(s){if(Ie(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:s,nonce:a}=e,l=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ir}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new _c}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,s,a;try{if("email"in e){const{email:l,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await wc(this.storage,this.storageKey));const{error:g}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:h}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Sg("You must provide either an email or phone number.")}catch(l){if(Ie(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,i;try{let r,s;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:a,error:l}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Ir});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await wc(this.storage,this.storageKey)),await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:bW})}catch(s){if(Ie(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new $a;const{error:r}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Ie(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:s}=e,{error:a}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:i,type:r,options:s}=e,{data:a,error:l}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Sg("You must provide either an email or phone number and a type")}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Bb:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const a=await Ho(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=qb()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ka}):await this._useSession(async n=>{var i,r,s;const{data:a,error:l}=n;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $a}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:Ka})})}catch(n){if(Ie(n))return YG(n)&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new $a;const a=r.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await wc(this.storage,this.storageKey));const{data:d,error:h}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Ka});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(Ie(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $a;const n=Date.now()/1e3;let i=n,r=!0,s=null;const{payload:a}=$b(e.access_token);if(a.exp&&(i=a.exp,r=i<=n),r){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ie(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new $a;const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Wi())throw new xg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new BR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new BR("No code detected.");const{data:A,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:d}=e;if(!s||!l||!a||!d)throw new xg("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(l);let p=h+g;u&&(p=parseInt(u));const v=p-h;v*1e3<=Oc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const b=p-g;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,h);const{data:_,error:S}=await this._getUser(s);if(S)throw S;const x={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:g,expires_at:p,refresh_token:a,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(i){if(Ie(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ho(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{error:s};const a=(i=r.session)===null||i===void 0?void 0:i.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(WG(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=nW(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:s},error:a}=n;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await wc(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ie(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:r}=await this._useSession(async s=>{var a,l,u,d,h;const{data:g,error:p}=s;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(r)throw r;return Wi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(Ie(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:r,data:{session:s}}=n;if(r)throw r;const{options:a,provider:l,token:u,access_token:d,nonce:h}=e,g=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ir}),{data:p,error:v}=g;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new _c}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:v})}catch(r){if(Ie(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:a}=n;if(a)throw a;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await aW(async r=>(r>0&&await sW(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ir})),(r,s)=>{const a=200*Math.pow(2,r);return s&&Vb(s)&&Date.now()+a-i<Oc})}catch(i){if(this._debug(n,"error",i),Ie(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Wi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await Ho(this.storage,this.storageKey);if(r&&this.userStorage){let a=await Ho(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:r.user},await Mc(this.userStorage,this.storageKey+"-user",a)),r.user=(e=a?.user)!==null&&e!==void 0?e:qb()}else if(r&&!r.user&&!r.user){const a=await Ho(this.storage,this.storageKey+"-user");a&&a?.user?(r.user=a.user,await za(this.storage,this.storageKey+"-user"),await Mc(this.storage,this.storageKey,r)):r.user=qb()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const s=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bb;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Bb}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),Vb(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(r.access_token);!l&&a?.user?(r.user=a.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new $a;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Ep;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new $a;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(r,"error",s),Ie(s)){const a={data:null,error:s};return Vb(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Mc(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const s=WR(r);await Mc(this.storage,this.storageKey,s)}else{const r=WR(n);await Mc(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await za(this.storage,this.storageKey),await za(this.storage,this.storageKey+"-code-verifier"),await za(this.storage,this.storageKey+"-user"),this.userStorage&&await za(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/Oc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Oc}ms, refresh threshold is ${v_} ticks`),r<=v_&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kI)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,a]=await wc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(l.toString())}if(i?.queryParams){const s=new URLSearchParams(i.queryParams);r.push(s.toString())}return i?.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&u.type==="totp"&&(!((r=u?.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?PW(e.webauthn.credential_response):jW(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const a=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:NW(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:IW(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])r.all.push(s),s.status==="verified"&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=$b(r.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(l=>l.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+qG>r)return i;const{data:s,error:a}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=r,i=s.keys.find(l=>l.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};i=v.session.access_token}const{header:r,payload:s,signature:a,raw:{header:l,payload:u}}=$b(i);n?.allowExpired||hW(s.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:v}=await this.getUser(i);if(v)throw v;return{data:{claims:s,header:r,signature:a},error:null}}const h=gW(r.alg),g=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,a,eW(`${l}.${u}`)))throw new __("Invalid JWT signature");return{data:{claims:s,header:r,signature:a},error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}}}nf.nextInstanceID=0;const qW=nf;class GW extends qW{constructor(e){super(e)}}class WW{constructor(e,n,i){var r,s,a;this.supabaseUrl=e,this.supabaseKey=n;const l=zG(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:kG,realtime:IG,auth:Object.assign(Object.assign({},NG),{storageKey:u}),global:MG},h=UG(i??{},d);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=LG(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new H6(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new RG(this.storageUrl.href,this.headers,this.fetch,i?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new M6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,storageKey:a,flowType:l,lock:u,debug:d},h,g){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GW({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,flowType:l,lock:u,debug:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new rG(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YW=(t,e,n)=>new WW(t,e,n);function KW(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KW()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var QW=t=>{if(!t||Array.isArray(t)&&t.length===0)return;let e;if(Array.isArray(t)){const n=t.filter(i=>i&&i.trim().length>0);if(n.length===0)return;n.length===1?e=n[0]:e=`There are ${n.length} validation errors:

• ${n.join(`
• `)}`}else e=t;Sf.error(e,{duration:1e4,position:"top-right",style:{maxWidth:"400px",whiteSpace:"pre-line"}})},Sl=t=>{Sf.success(t)},Xa=t=>{Sf.error(t)},Ed=t=>{Sf.warning(t)},XW=(t,e)=>Sf(t,e);function _i(...t){return lV(hw(t))}var eD=t=>confirm(t),ZW=(t,e)=>{if(!(!t||!e))return e.indexOf(".")===-1?t[e]:e.split(".").reduce((n,i)=>n&&n[i]!==void 0?n[i]:void 0,t)},tD=()=>`ID_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,JW=async(t,e={})=>{try{return await t()}catch(n){return n instanceof Error?n:new Error(String(n))}},zr=(t,e={})=>{let n="An unexpected error occurred";if(t.response)switch(t.response.status){case 400:n="Invalid request data";break;case 401:n="Authentication required";break;case 403:n="Access denied";break;case 404:n="Resource not found";break;case 500:case 502:case 503:n="Server error occurred";break;default:n="Network error occurred"}else t.request?n="Network connection failed":t.message&&(n=t.message);return new Error(n)},e8=cV("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Cp({className:t,variant:e,size:n,asChild:i=!1,...r}){const s=i?xB:"button";return E.jsx(s,{"data-slot":"button",className:_i(e8({variant:e,size:n,className:t})),...r})}var qn=C.forwardRef(({className:t,type:e,...n},i)=>E.jsx("input",{type:e,"data-slot":"input",className:_i("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),ref:i,...n}));qn.displayName="Input";var li=C.forwardRef(({className:t,...e},n)=>E.jsx("label",{ref:n,"data-slot":"label",className:_i("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));li.displayName="Label";function mr({className:t,...e}){return E.jsx("div",{"data-slot":"card",className:_i("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",t),...e})}function pr({className:t,...e}){return E.jsx("div",{"data-slot":"card-header",className:_i("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function vr({className:t,...e}){return E.jsx("div",{"data-slot":"card-title",className:_i("leading-none font-semibold",t),...e})}function yr({className:t,...e}){return E.jsx("div",{"data-slot":"card-content",className:_i("px-6",t),...e})}var PI=C.createContext(null);function Wb(t){const e=document.documentElement,n=window.matchMedia("(prefers-color-scheme: dark)").matches,i=t==="dark"||t==="system"&&n;e.classList.toggle("dark",i)}var t8=({defaultTheme:t="system",children:e})=>{const[n,i]=C.useState(t);C.useEffect(()=>{const a=localStorage.getItem("theme")||t;i(a),Wb(a);const l=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{(localStorage.getItem("theme")||"system")==="system"&&Wb("system")};return l.addEventListener?.("change",u),()=>l.removeEventListener?.("change",u)},[t]);const r=a=>{localStorage.setItem("theme",a),i(a),Wb(a)},s=C.useMemo(()=>({theme:n,setTheme:r}),[n]);return E.jsx(PI.Provider,{value:s,children:e})},n8=()=>{const t=C.useContext(PI);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},jI=({className:t})=>{const{theme:e,setTheme:n}=n8();return E.jsx("div",{className:"inline-flex gap-2 items-center",children:E.jsxs("select",{"aria-label":"Theme",value:e,onChange:i=>n(i.target.value),className:_i("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","w-36",t),children:[E.jsx("option",{value:"light",children:"Light"}),E.jsx("option",{value:"dark",children:"Dark"}),E.jsx("option",{value:"system",children:"System"})]})})},i8=({children:t,className:e,...n})=>E.jsx("table",{className:`w-full border-collapse border border-gray-200 table-auto ${e||""}`,...n,children:t}),r8=({children:t})=>E.jsx("thead",{className:"bg-gray-50",children:t}),s8=({children:t})=>E.jsx("tbody",{className:"divide-y divide-gray-200",children:t}),Yb=({children:t,onClick:e,className:n})=>E.jsx("tr",{onClick:e,className:`${e?"cursor-pointer hover:bg-gray-50":""} ${n||""}`,children:t}),a8=({children:t})=>E.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200 min-w-0",children:t}),nD=({children:t,colSpan:e,className:n})=>E.jsx("td",{colSpan:e,className:`px-4 py-3 text-sm text-gray-900 border-b border-gray-200 min-w-0 max-w-xs ${n||""}`,children:E.jsx("div",{className:"truncate",title:typeof t=="string"?t:"",children:t})}),Ha=({children:t,variant:e="default",size:n="default",onClick:i,disabled:r,className:s})=>{const a="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",l={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},u={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"};return E.jsx("button",{onClick:i,disabled:r,className:`${a} ${l[e]||l.default} ${u[n]||u.default} ${s||""}`,children:t})};function Kw({data:t,columns:e,onEditRow:n,onDeleteRow:i,onRowClick:r,enableFiltering:s=!1,filterableColumns:a=[],stickyColumns:l=[],onBulkDelete:u,onBulkExport:d,initialPageSize:h=AT.PAGE_SIZE,pageSizeOptions:g=[...AT.PAGE_SIZE_OPTIONS],enableGlobalSearch:p=!0,enableColumnVisibility:v=!1,enableRowSelection:b=!1}){const[_,S]=C.useState({}),[x,A]=C.useState(0),[T,M]=C.useState(h),[O,N]=C.useState(new Set),[k,D]=C.useState(""),[P,z]=C.useState([]),B=C.useMemo(()=>{const q=b?{id:"select",header:({table:G})=>{const he=G.getRowModel().rows.map(Z=>Z.original),F=he.length>0&&he.every(Z=>O.has(Z.id));return E.jsx("div",{className:"w-8",children:E.jsx("input",{type:"checkbox","aria-label":"Select all",checked:F,onChange:Z=>{const ee=new Set(O);Z.target.checked?he.forEach(le=>ee.add(le.id)):he.forEach(le=>ee.delete(le.id)),N(ee)},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})},cell:({row:G})=>E.jsx("div",{className:"flex w-8",children:E.jsx("input",{type:"checkbox","aria-label":"Select row",checked:O.has(G.original.id),onChange:he=>{const F=new Set(O);he.target.checked?F.add(G.original.id):F.delete(G.original.id),N(F)},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})}:null,V=n||i?{id:"actions",header:"Actions",cell:({row:G})=>E.jsxs("div",{className:"flex gap-2",children:[n&&E.jsx(Ha,{variant:"outline",size:"sm",onClick:()=>n(G.original),children:"Edit"}),i&&E.jsx(Ha,{variant:"destructive",size:"sm",onClick:()=>{eD("Are you sure you want to delete this item?")&&i(G.original)},children:"Delete"})]})}:null;return[q,...e,V].filter(Boolean)},[e,n,i,b,O]),Q=C.useMemo(()=>{let q=t;return s&&Object.keys(_).length>0&&(q=q.filter(V=>Object.entries(_).every(([G,he])=>{if(!he)return!0;const F=ZW(V,G);return String(F).toLowerCase().includes(he.toLowerCase())}))),p&&k&&(q=q.filter(V=>Object.values(V).some(G=>String(G).toLowerCase().includes(k.toLowerCase())))),q},[t,_,k,s,p]),ne=C.useMemo(()=>{const q=x*T,V=q+T;return Q.slice(q,V)},[Q,x,T]),ce=Math.ceil(Q.length/T),me=t$({data:ne,columns:B,state:{sorting:P},onSortingChange:z,getCoreRowModel:QV(),getSortedRowModel:XV()}),L=()=>{S({}),D(""),A(0)};return E.jsxs("div",{className:"w-full space-y-4",children:[p&&E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"flex-1",children:E.jsx("input",{type:"text",placeholder:"Search all columns...",value:k,onChange:q=>{D(q.target.value),A(0)},className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})}),k&&E.jsx(Ha,{variant:"outline",onClick:L,children:"Clear Search"})]}),E.jsx("div",{className:"rounded-md border border-gray-200 overflow-hidden shadow-sm",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs(i8,{className:"min-w-full",children:[E.jsx(r8,{children:me.getHeaderGroups().map(q=>E.jsx(Yb,{children:q.headers.map(V=>E.jsx(a8,{children:V.isPlaceholder?null:E.jsxs("div",{className:V.column.getCanSort()?"cursor-pointer select-none flex items-center gap-2":"",onClick:V.column.getToggleSortingHandler(),children:[jT(V.column.columnDef.header,V.getContext()),{asc:" 🔼",desc:" 🔽"}[V.column.getIsSorted()]??null]})},V.id))},q.id))}),E.jsx(s8,{children:me.getRowModel().rows.length?me.getRowModel().rows.map(q=>E.jsx(Yb,{onClick:()=>r&&r(q.original),className:r?"cursor-pointer hover:bg-muted/50":"",children:q.getVisibleCells().map(V=>E.jsx(nD,{children:jT(V.column.columnDef.cell,V.getContext())},V.id))},q.id)):E.jsx(Yb,{children:E.jsx(nD,{colSpan:B.length,className:"h-24 text-center",children:"No results found."})})})]})})}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",x*T+1," to ",Math.min((x+1)*T,Q.length)," of ",Q.length," results"]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Ha,{variant:"outline",size:"sm",onClick:()=>A(Math.max(0,x-1)),disabled:x===0,children:"Previous"}),E.jsxs("span",{className:"text-sm",children:["Page ",x+1," of ",ce]}),E.jsx(Ha,{variant:"outline",size:"sm",onClick:()=>A(Math.min(ce-1,x+1)),disabled:x>=ce-1,children:"Next"})]})]}),O.size>0&&(u||d)&&E.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-md",children:[E.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.size," items selected"]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(Ha,{variant:"outline",size:"sm",onClick:()=>N(new Set),children:"Clear Selection"}),d&&E.jsx(Ha,{variant:"outline",size:"sm",onClick:()=>d(Array.from(O)),children:"Export Selected"}),u&&E.jsx(Ha,{variant:"destructive",size:"sm",onClick:()=>{eD(`Delete ${O.size} selected items?`)&&(u(Array.from(O)),N(new Set))},children:"Delete Selected"})]})]})]})}var o8=class extends oe.Component{constructor(t){super(t),this.handleRetry=()=>{const e=this.props.maxRetries||3;this.state.retryCount<e&&this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:this.state.retryCount+1})},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0})},this.handleReportIssue=()=>{const e=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${e}&body=${n}`)},this.state={hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorId:tD()}}componentDidCatch(t,e){this.setState({errorInfo:e,errorId:this.state.errorId||tD()}),this.props.onError&&this.props.onError(t,e)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,{retry:this.handleRetry,reset:this.handleReset,retryCount:this.state.retryCount,maxRetries:this.props.maxRetries||3}):E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:E.jsxs("div",{className:"max-w-md w-full bg-card shadow-lg rounded-lg p-6 border",children:[E.jsxs("div",{className:"flex items-center mb-4",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("div",{className:"h-8 w-8 text-destructive text-2xl",children:"🚨"})}),E.jsx("div",{className:"ml-3",children:E.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Something went wrong"})})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("p",{className:"text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),this.state.errorId&&E.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error ID: ",E.jsx("code",{className:"bg-muted px-1 rounded",children:this.state.errorId})]})]}),E.jsxs("div",{className:"flex space-x-3 mb-4",children:[this.state.retryCount<(this.props.maxRetries||3)&&E.jsxs("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Try Again (",this.state.retryCount+1,"/",(this.props.maxRetries||3)+1,")"]}),E.jsx("button",{onClick:this.handleReset,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Reset"})]}),E.jsx("button",{onClick:this.handleReportIssue,className:"w-full bg-gray-100 text-gray-900 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 border border-gray-300",children:"📧 Report Issue"}),!1]})}):this.props.children}},Kb=t=>console.error(t),l8=t=>console.warn(t),c8=t=>console.info(t),xs=(t={})=>{const{logErrors:e=!0,showUserMessages:n=!0,maxRetries:i=3,retryDelay:r=1e3,onError:s=null,onRetry:a=null,onFallback:l=null}=t,[u,d]=C.useState([]),[h,g]=C.useState(!1),p=C.useRef(0),v=C.useCallback(async(k,D="",P={})=>{const z={id:`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,message:k.message||"An unexpected error occurred",type:k.type||ig.SERVER_ERROR,severity:k.severity||"medium",context:D,timestamp:new Date().toISOString(),userMessage:k.userMessage||k.message||"An unexpected error occurred"};if(d(B=>[...B,z]),e&&console.error(`[${D}] Error:`,k),n){const B=z.userMessage;switch(z.severity){case"low":l8(B);break;case"medium":Kb(B);break;case"high":case"critical":Kb(B);break;default:Kb(B)}}return s&&await s(z,D),z},[e,n,s]),b=C.useCallback(async(k,D={})=>{const{context:P="",fallbackMessage:z="Operation failed",retry:B=!1,maxRetries:Q=i}=D;try{return B?await _(k,Q):await k()}catch(ne){throw await v(ne,P,{fallbackMessage:z})}},[i,v]),_=C.useCallback(async(k,D)=>{let P;for(let z=1;z<=D;z++)try{g(z>1),p.current=z-1;const B=await k();return g(!1),p.current=0,B}catch(B){if(P=B,z<D){const Q=r*Math.pow(2,z-1);a&&await a(B,z,Q),n&&c8(`Retrying... (${z}/${D})`),await new Promise(ne=>setTimeout(ne,Q))}}throw g(!1),p.current=0,P},[r,a,n]),S=C.useCallback((k,D={})=>{const P={message:k,type:ig.VALIDATION_ERROR,severity:"medium",details:D,userMessage:k};return v(P,"validation")},[v]),x=C.useCallback((k="Network connection failed")=>{const D={message:k,type:ig.NETWORK_ERROR,severity:"high",userMessage:k};return v(D,"network")},[v]),A=C.useCallback((k="Authentication failed")=>{const D={message:k,type:ig.AUTHENTICATION_ERROR,severity:"high",userMessage:k};return v(D,"authentication")},[v]),T=C.useCallback(()=>{d([])},[]),M=C.useCallback(k=>{d(D=>D.filter(P=>P.id!==k))},[]),O=C.useCallback(k=>u.filter(D=>D.type===k),[u]),N=C.useCallback(()=>u.some(k=>k.severity==="critical"),[u]);return{handleError:v,handleAsync:b,handleValidationError:S,handleNetworkError:x,handleAuthError:A,clearErrors:T,clearError:M,getErrorsByType:O,hasCriticalErrors:N,errors:u,isRetrying:h,retryCount:p.current,retryOperation:_}},LI=yl(t=>({isOpen:!0,toggle:()=>t(e=>({isOpen:!e.isOpen})),open:()=>t({isOpen:!0}),close:()=>t({isOpen:!1})}));function u8({config:t,initialData:e={},onSubmit:n,onSuccess:i,isEditMode:r=!1,isLoading:s=!1,customActions:a=null,customFieldRenderers:l={},className:u="p-1 bg-card rounded-lg shadow-sm border"}){const{handleAsync:d}=xs("GenericForm"),h=C.useMemo(()=>{const D={};return t.sections.forEach(P=>{P.fields.forEach(z=>{z.name in e?D[z.name]=e[z.name]:z.defaultValue!==void 0?D[z.name]=z.defaultValue:D[z.name]=""})}),D},[t,e]),{register:g,handleSubmit:p,formState:{isSubmitting:v,errors:b},watch:_,setValue:S,getValues:x,reset:A,clearErrors:T}=C$({defaultValues:h,mode:"onChange"}),M=async D=>{await d(async()=>{await n(D),i&&i(),A(h)},{context:r?t.editContext:t.addContext,fallbackMessage:r?t.editErrorMessage:t.addErrorMessage})},O=D=>{const P=_(D.name);if(D.conditional&&!D.conditional(P,_,x))return null;if(l[D.type])return l[D.type](D,{watch:_,setValue:S,getValues:x,register:g,isSubmitting:v,fieldValue:P});const z={id:D.name,placeholder:D.placeholder,disabled:D.disabled||v,className:D.className||"",...g(D.name,D.validation||{})};switch(D.type){case"select":return E.jsxs("div",{children:[E.jsxs("select",{...g(D.name,D.validation),disabled:D.disabled||v,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${b[D.name]?"border-red-500":"border-input"}`,children:[E.jsx("option",{value:"",children:D.placeholder||`Seleziona ${D.label.toLowerCase()}`}),D.options?.map(B=>E.jsx("option",{value:B.value,children:B.label},B.value))]}),b[D.name]&&E.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"textarea":return E.jsxs("div",{children:[E.jsx("textarea",{...z,rows:D.rows||3,className:`w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent ${D.className||""} ${b[D.name]?"border-destructive":""}`}),b[D.name]&&E.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"checkbox":return E.jsx("div",{className:"flex flex-wrap gap-2",children:D.options?.map(B=>E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("input",{type:"checkbox",id:`${D.name}_${B.value}`,value:B.value,checked:P?.includes(B.value)||!1,onChange:Q=>{const ne=x(D.name)||[];Q.target.checked?S(D.name,[...ne,B.value].sort(),{shouldValidate:!0}):S(D.name,ne.filter(ce=>ce!==B.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),E.jsx(li,{htmlFor:`${D.name}_${B.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:B.label})]},B.value))});case"datetime-local":return E.jsxs("div",{children:[E.jsx(qn,{type:"datetime-local",...z,className:`${z.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&E.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"date":return E.jsxs("div",{children:[E.jsx(qn,{type:"date",...z,className:`${z.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&E.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"time":return E.jsxs("div",{children:[E.jsx(qn,{type:"time",...z,className:`${z.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&E.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"number":return E.jsxs("div",{children:[E.jsx(qn,{type:"number",...z,className:`${z.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&E.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]});case"text":default:return E.jsxs("div",{children:[E.jsx(qn,{type:"text",...z,className:`${z.className} ${b[D.name]?"border-red-500":""}`}),b[D.name]&&E.jsx("p",{className:"text-sm text-destructive mt-1",children:b[D.name].message})]})}},N=D=>{const P=D.fields.filter(z=>!z.conditional||z.conditional(_(z.name),_,x));return P.length===0?null:E.jsxs("div",{className:"space-y-4",children:[E.jsx("h2",{className:"text-lg font-semibold text-foreground",children:D.title}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(z=>E.jsxs("div",{className:"space-y-2",children:[E.jsxs(li,{htmlFor:z.name,className:"text-sm font-medium text-foreground",children:[z.label," ",z.required&&E.jsx("span",{className:"text-destructive",children:"*"})]}),O(z),z.helpText&&E.jsx("p",{className:"text-xs text-muted-foreground",children:z.helpText})]},z.name))})]},D.title)},k=D=>l[D]?l[D]():null;return E.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm p-6",children:E.jsxs("form",{onSubmit:p(M),noValidate:!0,className:"space-y-6",children:[t.sections.map(N),t.customFields&&Object.keys(t.customFields).map(D=>E.jsx("div",{children:k(D)},D)),a&&E.jsx("div",{className:"space-y-4",children:a}),E.jsx("div",{className:"flex justify-end pt-6 border-t border-border",children:E.jsx(Cp,{type:"submit",disabled:s||v,children:s||v?r?t.editLoadingText:t.addLoadingText:r?t.editButtonText:t.addButtonText})})]})})}var Ap=u8;function d8({className:t,...e}){return E.jsx(d3,{"data-slot":"avatar",className:_i("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function f8({className:t,...e}){return E.jsx(f3,{"data-slot":"avatar-image",className:_i("aspect-square size-full",t),...e})}function h8({className:t,...e}){return E.jsx(h3,{"data-slot":"avatar-fallback",className:_i("bg-primary text-primary-foreground flex size-full items-center justify-center rounded-full font-medium",t),...e})}function g8({...t}){return E.jsx(w6,{"data-slot":"dropdown-menu",...t})}function m8({...t}){return E.jsx(S6,{"data-slot":"dropdown-menu-trigger",...t})}function p8({className:t,sideOffset:e=4,...n}){return E.jsx(x6,{children:E.jsx(E6,{"data-slot":"dropdown-menu-content",sideOffset:e,className:_i("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Qw({className:t,inset:e,variant:n="default",...i}){return E.jsx(A6,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:_i("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function v8({className:t,inset:e,...n}){return E.jsx(C6,{"data-slot":"dropdown-menu-label","data-inset":e,className:_i("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function iD({className:t,...e}){return E.jsx(T6,{"data-slot":"dropdown-menu-separator",className:_i("bg-border -mx-1 my-1 h-px",t),...e})}oe.createContext(void 0);var FI=oe.createContext(void 0),UI=()=>oe.useContext(FI),y8=({onRefresh:t,loading:e=!1})=>{const n=()=>{t?t():window.location.reload()};return E.jsx(Cp,{onClick:n,variant:"ghost",size:"icon",className:"hidden sm:inline-flex",children:e?E.jsx(q$,{className:"animate-spin"}):E.jsx(X$,{})})};function b8({children:t,user:e,onLogout:n}){const[i,r]=C.useState(!1),s=C.useCallback(()=>{r(u=>!u)},[]),a=C.useCallback(()=>{r(!1)},[]),l=()=>{n&&n(),r(!1)};return E.jsx(FI.Provider,{value:{onClose:a},children:E.jsxs(g8,{open:i,onOpenChange:s,children:[E.jsx(m8,{asChild:!0,children:E.jsx(Cp,{variant:"ghost",className:"relative h-8 w-8 ml-2 rounded-full",children:E.jsxs(d8,{className:"h-8 w-8",children:[E.jsx(f8,{src:e?.avatar,role:"presentation"}),E.jsx(h8,{children:e?.name?.charAt(0)||"U"})]})})}),E.jsxs(p8,{className:"w-56",align:"end",forceMount:!0,children:[E.jsx(v8,{className:"font-normal",children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("p",{className:"text-sm font-medium leading-none",children:e?.name||"User"}),e?.email&&E.jsx("p",{className:"text-xs text-muted-foreground",children:e.email})]})}),E.jsx(iD,{}),t,C.Children.count(t)>0&&E.jsx(iD,{}),E.jsxs(Qw,{onClick:l,className:"cursor-pointer",children:[E.jsx(W$,{}),"Log out"]})]})]})})}var _8=()=>{const{onClose:t}=UI()??{};return E.jsx(Qw,{asChild:!0,onClick:t,children:E.jsxs(gn,{to:"/sales",className:"flex items-center gap-2",children:[E.jsx(e3,{})," Users"]})})},w8=()=>{const{onClose:t}=UI()??{};return E.jsx(Qw,{asChild:!0,onClick:t,children:E.jsxs(gn,{to:"/settings",className:"flex items-center gap-2",children:[E.jsx(f1,{}),"My info"]})})},S8=({title:t,darkModeLogo:e,lightModeLogo:n,user:i,onLogout:r,onRefresh:s,onToggleSidebar:a,loading:l=!1})=>E.jsx("nav",{className:"flex-grow",children:E.jsx("header",{className:"bg-secondary",children:E.jsx("div",{className:"px-4",children:E.jsxs("div",{className:"flex justify-between items-center flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[a&&E.jsx("button",{onClick:a,className:"p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-inset focus:ring-ring",children:E.jsx(K$,{className:"h-5 w-5"})}),E.jsxs(gn,{to:"/",className:"flex items-center gap-2 text-secondary-foreground no-underline",children:[e&&E.jsx("img",{className:"[.light_&]:hidden h-6",src:e,alt:t}),n&&E.jsx("img",{className:"[.dark_&]:hidden h-6",src:n,alt:t}),E.jsx("h1",{className:"text-xl font-semibold",children:t})]})]}),E.jsxs("div",{className:"flex items-center",children:[E.jsx(jI,{}),E.jsx(y8,{onRefresh:s,loading:l}),E.jsxs(b8,{user:i,onLogout:r,children:[E.jsx(w8,{}),E.jsx(_8,{})]})]})]})})})}),x8=t=>{const e={auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}};return YW(t.url,t.anonKey,{...e,...t.options})},E8=()=>x8({url:"https://wufsjkzyjxgvualcaftn.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1ZnNqa3p5anhndnVhbGNhZnRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0NzAyNzAsImV4cCI6MjA3NzA0NjI3MH0.cq8pGstXbA3OzgPbkJNRrQT39ROA4t9N3czLSIWpjUs"}),C8=(t,e="")=>t.code==="23505"?"This record already exists":t.code==="23503"?"Cannot perform this operation due to related records":t.code==="PGRST116"?"No records found":t.message?.includes("JWT")?"Authentication error. Please refresh the page":t.message||"An unexpected error occurred",Qb=null,A8=()=>(Qb||(Qb=E8()),Qb),zI=C.createContext(null),T8=({children:t,supabaseClient:e,onAuthStateChange:n})=>{const[i,r]=C.useState(null),[s,a]=C.useState(null),[l,u]=C.useState(!0),[d,h]=C.useState(null);C.useEffect(()=>{(async()=>{try{const{data:{session:A},error:T}=await e.auth.getSession();T?h("Failed to initialize authentication"):(a(A),r(A?.user??null),n?.(A?.user??null,A))}catch{h("Authentication initialization failed")}finally{u(!1)}})();const{data:{subscription:x}}=e.auth.onAuthStateChange(async(A,T)=>{a(T),r(T?.user??null),h(null),n?.(T?.user??null,T),A==="SIGNED_OUT"&&u(!1)});return()=>x.unsubscribe()},[e,n]);const _={user:i,session:s,loading:l,error:d,signIn:async(S,x)=>{try{h(null);const{error:A}=await e.auth.signInWithPassword({email:S,password:x});return A?(h(A.message),{error:A.message}):{}}catch{const T="Sign in failed";return h(T),{error:T}}},signUp:async(S,x,A)=>{try{h(null);const{error:T}=await e.auth.signUp({email:S,password:x,options:{data:A}});return T?(h(T.message),{error:T.message}):{}}catch{const M="Sign up failed";return h(M),{error:M}}},signOut:async()=>{try{h(null),await e.auth.signOut()}catch{h("Sign out failed")}},resetPassword:async S=>{try{h(null);const{error:x}=await e.auth.resetPasswordForEmail(S);return x?(h(x.message),{error:x.message}):{}}catch{const A="Password reset failed";return h(A),{error:A}}}};return E.jsx(zI.Provider,{value:_,children:t})},R8=()=>{const t=C.useContext(zI);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const hn=A8(),In=C8,D8=({children:t})=>E.jsx(T8,{supabaseClient:hn,children:t}),xl=R8;function O8(){const{user:t}=xl(),e=fa(),{isOpen:n}=LI(),[i,r]=C.useState({backlog:e.pathname.startsWith("/backlog"),machinery:e.pathname.startsWith("/machinery"),phases:e.pathname.startsWith("/phases"),scheduler:e.pathname.startsWith("/scheduler")}),s=l=>{r(u=>({...u,[l]:!u[l]}))},a=[{href:"/",label:"Dashboard",icon:V$},{section:"backlog",label:"Backlog",icon:H$,subLinks:[{href:"/backlog",label:"Lista Backlog"},{href:"/backlog/add",label:"Nuovo Backlog"}]},{section:"machinery",label:"Macchinari",icon:f1,subLinks:[{href:"/machinery",label:"Lista Macchinari"},{href:"/machinery/add",label:"Nuovo Macchinario"}]},{section:"phases",label:"Fasi",icon:U$,subLinks:[{href:"/phases",label:"Lista Fasi"},{href:"/phases/add",label:"Nuova Fase"}]},{href:"/scheduler",label:"Scheduler",icon:P$}];return t?n?E.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[E.jsx("div",{className:"p-4 border-b border-border",children:E.jsx(gn,{to:"/",className:"flex items-center justify-center",children:E.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),E.jsxs("div",{className:"flex-1 p-4",children:[E.jsx("h2",{className:"text-xl font-semibold text-secondary-foreground mb-6",children:"Navigation"}),E.jsx("nav",{className:"space-y-2",children:a.map(l=>{if(l.section){const u=i[l.section],d=l.subLinks.some(g=>e.pathname===g.href),h=l.icon;return E.jsxs("div",{children:[E.jsxs("button",{onClick:()=>s(l.section),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx(h,{className:"h-5 w-5"}),E.jsx("span",{className:"text-sm font-medium",children:l.label})]}),E.jsx(L$,{className:`h-4 w-4 transform transition-transform ${u?"rotate-90":""}`})]}),u&&E.jsx("div",{className:"ml-6 mt-2 space-y-1",children:l.subLinks.map(g=>{const p=e.pathname===g.href;return E.jsx(gn,{to:g.href,className:`block px-3 py-2 rounded-lg text-sm font-medium transition-colors ${p?"bg-primary/5 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent/50"}`,children:g.label},g.href)})})]},l.section)}else{const u=e.pathname===l.href,d=l.icon;return E.jsxs(gn,{to:l.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${u?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[E.jsx(d,{className:"h-5 w-5"}),E.jsx("span",{className:"text-sm font-medium",children:l.label})]},l.href)}})})]})]}):E.jsx("div",{className:"w-16 bg-secondary shadow-sm border-r border-border min-h-screen",children:E.jsx("div",{className:"flex flex-col items-center py-4 space-y-4",children:a.map(l=>{const u=l.icon,d=e.pathname===l.href;return E.jsx(gn,{to:l.href||"#",className:`p-3 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,title:l.label,children:E.jsx(u,{className:"h-6 w-6"})},l.href||l.section)})})}):E.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col",children:[E.jsx("div",{className:"p-4 border-b border-border",children:E.jsx(gn,{to:"/login",className:"flex items-center justify-center",children:E.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),E.jsxs("div",{className:"flex-1 p-4",children:[E.jsx("h3",{className:"text-xs font-semibold text-secondary-foreground uppercase tracking-wider mb-4",children:"NAVIGATION"}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(gn,{to:"/login",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:E.jsx("span",{className:"font-medium",children:"Accedi"})}),E.jsx(gn,{to:"/signup",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:E.jsx("span",{className:"font-medium",children:"Registrati"})})]})]})]})}function M8(){const{user:t,signOut:e}=xl(),{toggle:n}=LI();return E.jsx(S8,{title:"Scheduler Demo",user:{name:t?.email?.split("@")[0]||"User",email:t?.email,avatar:t?.avatar_url},onLogout:()=>e(),onRefresh:()=>window.location.reload(),onToggleSidebar:n,rightContent:E.jsx(jI,{})})}const Er=yl((t,e)=>({machines:[],getMachines:()=>e().machines,getMachineById:n=>e().machines.find(i=>i.id===n),getMachinesByWorkCenter:n=>n==="BOTH"?e().machines:e().machines.filter(i=>i.work_center===n),setMachines:n=>t({machines:n||[]}),cleanupDuplicateMachines:()=>{const n=e(),i=[],r=new Set;n.machines.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({machines:i})},reset:()=>t({machines:[]})})),on=yl((t,e)=>({odpOrders:[],getOdpOrders:()=>e().odpOrders,getOrderById:n=>e().odpOrders.find(i=>i.id===n),getScheduledOrders:()=>e().odpOrders.filter(n=>n.status==="SCHEDULED"),getUnscheduledOrders:()=>e().odpOrders.filter(n=>n.status==="NOT SCHEDULED"),getOdpOrdersByWorkCenter:n=>n==="BOTH"?e().odpOrders:e().odpOrders.filter(i=>i.work_center===n),setOdpOrders:n=>t({odpOrders:n||[]}),cleanupDuplicateOrders:()=>{const n=e(),i=[],r=new Set;n.odpOrders.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({odpOrders:i})},reset:()=>t({odpOrders:[]})})),Nc=yl((t,e)=>({phases:[],getPhases:()=>e().phases,getPhaseById:n=>e().phases.find(i=>i.id===n),setPhases:n=>t({phases:n||[]}),cleanupDuplicatePhases:()=>{const n=e(),i=[],r=new Set;n.phases.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({phases:i})},reset:()=>t({phases:[]})})),k8={APP:{FIRST_DAY_OF_WEEK:1}},N8=Object.prototype.toString;function I8(t,e){return N8.call(t)===`[object ${e}]`}function HI(t){return I8(t,"Object")}function Xw(t){return!!(t&&t.then&&typeof t.then=="function")}function P8(t){return typeof t=="number"&&t!==t}function Eg(t){return t&&t.Math==Math?t:void 0}const ni=typeof globalThis=="object"&&Eg(globalThis)||typeof window=="object"&&Eg(window)||typeof self=="object"&&Eg(self)||typeof global=="object"&&Eg(global)||(function(){return this})()||{};function BI(t,e,n){const i=n||ni,r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=e())}const VI=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,j8="Sentry Logger ",rD=["debug","info","warn","error","log","assert","trace"],sD={};function $I(t){if(!("console"in ni))return t();const e=ni.console,n={},i=Object.keys(sD);i.forEach(r=>{const s=sD[r];n[r]=e[r],e[r]=s});try{return t()}finally{i.forEach(r=>{e[r]=n[r]})}}function L8(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return VI?rD.forEach(n=>{e[n]=(...i)=>{t&&$I(()=>{ni.console[n](`${j8}[${n}]:`,...i)})}}):rD.forEach(n=>{e[n]=()=>{}}),e}const cn=L8();function Br(t){return w_(t,new Map)}function w_(t,e){if(F8(t)){const n=e.get(t);if(n!==void 0)return n;const i={};e.set(t,i);for(const r of Object.keys(t))typeof t[r]<"u"&&(i[r]=w_(t[r],e));return i}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const i=[];return e.set(t,i),t.forEach(r=>{i.push(w_(r,e))}),i}return t}function F8(t){if(!HI(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const Xb="<anonymous>";function U8(t){try{return!t||typeof t!="function"?Xb:t.name||Xb}catch{return Xb}}const nm={},aD={};function qI(t,e){nm[t]=nm[t]||[],nm[t].push(e)}function GI(t,e){aD[t]||(e(),aD[t]=!0)}function WI(t,e){const n=t&&nm[t];if(n)for(const i of n)try{i(e)}catch(r){VI&&cn.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${U8(i)}
Error:`,r)}}function Li(){const t=ni,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function z8(t){return Array.isArray(t)?t:[t]}let Cg=null;function H8(t){const e="error";qI(e,t),GI(e,B8)}function B8(){Cg=ni.onerror,ni.onerror=function(t,e,n,i,r){return WI("error",{column:i,error:r,line:n,msg:t,url:e}),Cg&&!Cg.__SENTRY_LOADER__?Cg.apply(this,arguments):!1},ni.onerror.__SENTRY_INSTRUMENTED__=!0}let Ag=null;function V8(t){const e="unhandledrejection";qI(e,t),GI(e,$8)}function $8(){Ag=ni.onunhandledrejection,ni.onunhandledrejection=function(t){return WI("unhandledrejection",t),Ag&&!Ag.__SENTRY_LOADER__?Ag.apply(this,arguments):!0},ni.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function q8(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function G8(){return!q8()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function rl(t,e){return t.require(e)}function W8(t){let e;try{e=rl(module,t)}catch{}try{const{cwd:n}=rl(module,"process");e=rl(module,`${n()}/node_modules/${t}`)}catch{}return e}var Xs;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const i=2;t[t.REJECTED=i]="REJECTED"})(Xs||(Xs={}));class Ga{constructor(e){Ga.prototype.__init.call(this),Ga.prototype.__init2.call(this),Ga.prototype.__init3.call(this),Ga.prototype.__init4.call(this),this._state=Xs.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Ga((i,r)=>{this._handlers.push([!1,s=>{if(!e)i(s);else try{i(e(s))}catch(a){r(a)}},s=>{if(!n)r(s);else try{i(n(s))}catch(a){r(a)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Ga((n,i)=>{let r,s;return this.then(a=>{s=!1,r=a,e&&e()},a=>{s=!0,r=a,e&&e()}).then(()=>{if(s){i(r);return}n(r)})})}__init(){this._resolve=e=>{this._setResult(Xs.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Xs.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===Xs.PENDING){if(Xw(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Xs.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Xs.RESOLVED&&n[1](this._value),this._state===Xs.REJECTED&&n[2](this._value),n[0]=!0)})}}}const YI=1e3;function Zw(){return Date.now()/YI}function Y8(){const{performance:t}=ni;if(!t||!t.now)return Zw;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/YI}const Tp=Y8();(()=>{const{performance:t}=ni;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),i=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,s=r<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number"?Math.abs(a+n-i):e,d=u<e;return s||d?r<=u?t.timeOrigin:a:i})();function K8(t=Li(),e=Li().substring(16),n){let i="";return n!==void 0&&(i=n?"-1":"-0"),`${t}-${e}${i}`}const Wn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,KI="production";function Q8(){return BI("globalEventProcessors",()=>[])}function S_(t,e,n,i=0){return new Ga((r,s)=>{const a=t[i];if(e===null||typeof a!="function")r(e);else{const l=a({...e},n);Wn&&a.id&&l===null&&cn.log(`Event processor "${a.id}" dropped event`),Xw(l)?l.then(u=>S_(t,u,n,i+1).then(r)).then(null,s):S_(t,l,n,i+1).then(r).then(null,s)}})}function X8(t){const e=Tp(),n={sid:Li(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>J8(n)};return t&&Rp(n,t),n}function Rp(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Tp(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Li()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Z8(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Rp(t,n)}function J8(t){return Br({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const eY=0,QI=1;function Jw(t){const{spanId:e,traceId:n}=t.spanContext(),{data:i,op:r,parent_span_id:s,status:a,tags:l,origin:u}=co(t);return Br({data:i,op:r,parent_span_id:s,span_id:e,status:a,tags:l,trace_id:n,origin:u})}function XI(t){const{traceId:e,spanId:n}=t.spanContext(),i=JI(t);return K8(e,n,i)}function ZI(t){return typeof t=="number"?oD(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?oD(t.getTime()):Tp()}function oD(t){return t>9999999999?t/1e3:t}function co(t){return tY(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function tY(t){return typeof t.getSpanJSON=="function"}function JI(t){const{traceFlags:e}=t.spanContext();return!!(e&QI)}function eP(){return Dp().getClient()}function nY(){return Dp().getScope()}function Mm(t){return t.transaction}function iY(t,e,n){const i=e.getOptions(),{publicKey:r}=e.getDsn()||{},{segment:s}=n&&n.getUser()||{},a=Br({environment:i.environment||KI,release:i.release,user_segment:s,public_key:r,trace_id:t});return e.emit&&e.emit("createDsc",a),a}function x_(t){const e=eP();if(!e)return{};const n=iY(co(t).trace_id||"",e,nY()),i=Mm(t);if(!i)return n;const r=i&&i._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:s,source:a}=i.metadata;s!=null&&(n.sample_rate=`${s}`);const l=co(i);return a&&a!=="url"&&(n.transaction=l.description),n.sampled=String(JI(i)),e.emit&&e.emit("createDsc",n),n}function rY(t,e){const{fingerprint:n,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=e;sY(t,e),i&&lY(t,i),cY(t,n),aY(t,r),oY(t,s)}function sY(t,e){const{extra:n,tags:i,user:r,contexts:s,level:a,transactionName:l}=e,u=Br(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const d=Br(i);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});const h=Br(r);h&&Object.keys(h).length&&(t.user={...h,...t.user});const g=Br(s);g&&Object.keys(g).length&&(t.contexts={...g,...t.contexts}),a&&(t.level=a),l&&(t.transaction=l)}function aY(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function oY(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function lY(t,e){t.contexts={trace:Jw(e),...t.contexts};const n=Mm(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:x_(e),...t.sdkProcessingMetadata};const i=co(n).description;i&&(t.tags={transaction:i,...t.tags})}}function cY(t,e){t.fingerprint=t.fingerprint?z8(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const uY=100;class Hc{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=lD()}static clone(e){return e?e.clone():new Hc}clone(){const e=new Hc;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Rp(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof Hc){const i=n.getScopeData();this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&Object.keys(i.user).length&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint.length&&(this._fingerprint=i.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),i.propagationContext&&(this._propagationContext=i.propagationContext)}else if(HI(n)){const i=e;this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint&&(this._fingerprint=i.fingerprint),i.requestSession&&(this._requestSession=i.requestSession),i.propagationContext&&(this._propagationContext=i.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=lD(),this}addBreadcrumb(e,n){const i=typeof n=="number"?n:uY;if(i<=0)return this;const r={timestamp:Zw(),...e},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>i?s.slice(-i):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:i,_tags:r,_extra:s,_user:a,_level:l,_fingerprint:u,_eventProcessors:d,_propagationContext:h,_sdkProcessingMetadata:g,_transactionName:p,_span:v}=this;return{breadcrumbs:e,attachments:n,contexts:i,tags:r,extra:s,user:a,level:l,fingerprint:u||[],eventProcessors:d,propagationContext:h,sdkProcessingMetadata:g,transactionName:p,span:v}}applyToEvent(e,n={},i=[]){rY(e,this.getScopeData());const r=[...i,...Q8(),...this._eventProcessors];return S_(r,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const i=n&&n.event_id?n.event_id:Li();if(!this._client)return cn.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...n,event_id:i},this),i}captureMessage(e,n,i){const r=i&&i.event_id?i.event_id:Li();if(!this._client)return cn.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r},this),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Li();return this._client?(this._client.captureEvent(e,{...n,event_id:i},this),i):(cn.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function lD(){return{traceId:Li(),spanId:Li().substring(16)}}const dY="7.120.4",tP=parseFloat(dY),fY=100;class nP{constructor(e,n,i,r=tP){this._version=r;let s;n?s=n:(s=new Hc,s.setClient(e));let a;i?a=i:(a=new Hc,a.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=a}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let i;try{i=e(n)}catch(r){throw this.popScope(),r}return Xw(i)?i.then(r=>(this.popScope(),r),r=>{throw this.popScope(),r}):(this.popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const i=this._lastEventId=n&&n.event_id?n.event_id:Li(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...n,event_id:i}),i}captureMessage(e,n,i){const r=this._lastEventId=i&&i.event_id?i.event_id:Li(),s=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r}),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Li();return e.type||(this._lastEventId=i),this.getScope().captureEvent(e,{...n,event_id:i}),i}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:i,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=fY}=r.getOptions&&r.getOptions()||{};if(a<=0)return;const u={timestamp:Zw(),...e},d=s?$I(()=>s(u,n)):u;d!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",d,n),i.addBreadcrumb(d,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:i}=this.getStackTop();i&&e(n)}run(e){const n=cD(this);try{e(this)}finally{cD(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return Wn&&cn.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const i=this._callExtensionMethod("startTransaction",e,n);return Wn&&!i&&(this.getClient()?cn.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):cn.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,i=n.getSession();i&&Z8(i),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:i}=this.getStackTop(),{release:r,environment:s=KI}=i&&i.getOptions()||{},{userAgent:a}=ni.navigator||{},l=X8({release:r,environment:s,user:n.getUser(),...a&&{userAgent:a},...e}),u=n.getSession&&n.getSession();return u&&u.status==="ok"&&Rp(u,{status:"exited"}),this.endSession(),n.setSession(l),l}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),i=e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}_callExtensionMethod(e,...n){const r=gu().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,n);Wn&&cn.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function gu(){return ni.__SENTRY__=ni.__SENTRY__||{extensions:{},hub:void 0},ni}function cD(t){const e=gu(),n=E_(e);return iP(e,t),n}function Dp(){const t=gu();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return hY(t)}function hY(t=gu()){return(!gY(t)||E_(t).isOlderThan(tP))&&iP(t,new nP),E_(t)}function gY(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function E_(t){return BI("hub",()=>new nP,t)}function iP(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function mY(t){return(t||Dp()).getScope().getTransaction()}let uD=!1;function pY(){uD||(uD=!0,H8(C_),V8(C_))}function C_(){const t=mY();if(t){const e="internal_error";Wn&&cn.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}C_.tag="sentry_tracingErrorCallback";var dD;(function(t){t.Ok="ok";const n="deadline_exceeded";t.DeadlineExceeded=n;const i="unauthenticated";t.Unauthenticated=i;const r="permission_denied";t.PermissionDenied=r;const s="not_found";t.NotFound=s;const a="resource_exhausted";t.ResourceExhausted=a;const l="invalid_argument";t.InvalidArgument=l;const u="unimplemented";t.Unimplemented=u;const d="unavailable";t.Unavailable=d;const h="internal_error";t.InternalError=h;const g="unknown_error";t.UnknownError=g;const p="cancelled";t.Cancelled=p;const v="already_exists";t.AlreadyExists=v;const b="failed_precondition";t.FailedPrecondition=b;const _="aborted";t.Aborted=_;const S="out_of_range";t.OutOfRange=S;const x="data_loss";t.DataLoss=x})(dD||(dD={}));function vY(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function yY(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=vY(e);n!=="unknown_error"&&t.setStatus(n)}function bY(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=eP(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const _Y="_sentryScope",wY="_sentryIsolationScope";function SY(t){return{scope:t[_Y],isolationScope:t[wY]}}const Zb="sentry.source",Ic="sentry.sample_rate",Tg="sentry.op",Rg="sentry.origin",xY="profile_id";class EY{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class eS{constructor(e={}){this._traceId=e.traceId||Li(),this._spanId=e.spanId||Li().substring(16),this._startTime=e.startTimestamp||Tp(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Rg]:e.origin||"manual",[Tg]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[Tg]}set op(e){this.setAttribute(Tg,e)}get origin(){return this._attributes[Rg]}set origin(e){this.setAttribute(Rg,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:i}=this;return{spanId:e,traceId:n,traceFlags:i?QI:eY}}startChild(e){const n=new eS({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const i=Mm(this);if(n.transaction=i,Wn&&i){const r=e&&e.op||"< unknown op >",s=co(n).description||"< unknown name >",a=i.spanContext().spanId,l=`[Tracing] Starting '${r}' span on transaction '${s}' (${a}).`;cn.log(l),this._logMessage=l}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return yY(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=Mm(this);if(Wn&&n&&n.spanContext().spanId!==this._spanId){const i=this._logMessage;i&&cn.log(i.replace("Starting","Finishing"))}this._endTime=ZI(e)}toTraceparent(){return XI(this)}toContext(){return Br({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return Jw(this)}getSpanJSON(){return Br({data:this._getData(),description:this._name,op:this._attributes[Tg],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Rg],_metrics_summary:void 0,profile_id:this._attributes[xY],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,i=Object.keys(e).length>0,r=Object.keys(n).length>0;if(!(!i&&!r))return i&&r?{...e,...n}:i?e:n}}class CY extends eS{constructor(e,n){super(e),this._contexts={},this._hub=n||Dp(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const i=this._metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext={...i})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Zb]&&{source:this._attributes[Zb]},...this._attributes[Ic]&&{sampleRate:this._attributes[Ic]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(Zb,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new EY(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,i=""){this._measurements[e]={value:n,unit:i}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=ZI(e),i=this._finishTransaction(n);if(i)return this._hub.captureEvent(i)}toContext(){const e=super.toContext();return Br({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return x_(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(Wn&&cn.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Wn&&cn.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const i=this.spanRecorder?this.spanRecorder.spans.filter(h=>h!==this&&co(h).timestamp):[];if(this._trimEnd&&i.length>0){const h=i.map(g=>co(g).timestamp).filter(Boolean);this._endTime=h.reduce((g,p)=>g>p?g:p)}const{scope:r,isolationScope:s}=SY(this),{metadata:a}=this,{source:l}=a,u={contexts:{...this._contexts,trace:Jw(this)},spans:i,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:r,capturedSpanIsolationScope:s,...Br({dynamicSamplingContext:x_(this)})},_metrics_summary:void 0,...l&&{transaction_info:{source:l}}};return Object.keys(this._measurements).length>0&&(Wn&&cn.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),u.measurements=this._measurements),Wn&&cn.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),u}}function AY(t,e,n){if(!bY(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(Ic,Number(t.sampled)),t;let i;return typeof e.tracesSampler=="function"?(i=e.tracesSampler(n),t.setAttribute(Ic,Number(i))):n.parentSampled!==void 0?i=n.parentSampled:typeof e.tracesSampleRate<"u"?(i=e.tracesSampleRate,t.setAttribute(Ic,Number(i))):(i=1,t.setAttribute(Ic,i)),TY(i)?i?(t.sampled=Math.random()<i,t.sampled?(Wn&&cn.log(`[Tracing] starting ${t.op} transaction - ${co(t).description}`),t):(Wn&&cn.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):(Wn&&cn.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(Wn&&cn.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function TY(t){return P8(t)||!(typeof t=="number"||typeof t=="boolean")?(Wn&&cn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(Wn&&cn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function RY(){const e=this.getScope().getSpan();return e?{"sentry-trace":XI(e)}:{}}function DY(t,e){const n=this.getClient(),i=n&&n.getOptions()||{},r=i.instrumenter||"sentry",s=t.instrumenter||"sentry";r!==s&&(Wn&&cn.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${r}\` instrumenter.
The transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),t.sampled=!1);let a=new CY(t,this);return a=AY(a,i,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),a.isRecording()&&a.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function OY(){const t=gu();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=DY),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=RY),pY())}function MY(){const t=gu();if(!t.__SENTRY__)return;const e={mongodb(){const i=rl(module,"./node/integrations/mongo");return new i.Mongo},mongoose(){const i=rl(module,"./node/integrations/mongo");return new i.Mongo},mysql(){const i=rl(module,"./node/integrations/mysql");return new i.Mysql},pg(){const i=rl(module,"./node/integrations/postgres");return new i.Postgres}},n=Object.keys(e).filter(i=>!!W8(i)).map(i=>{try{return e[i]()}catch{return}}).filter(i=>i);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function kY(){OY(),G8()&&MY()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&kY();const Je={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"},fD={[Je.VALIDATION_ERROR]:"I dati inseriti non sono validi. Controlla i campi evidenziati.",[Je.NETWORK_ERROR]:"Errore di connessione. Verifica la tua connessione internet.",[Je.AUTHENTICATION_ERROR]:"Sessione scaduta. Effettua nuovamente l'accesso.",[Je.AUTHORIZATION_ERROR]:"Non hai i permessi per eseguire questa operazione.",[Je.NOT_FOUND_ERROR]:"La risorsa richiesta non è stata trovata.",[Je.SERVER_ERROR]:"Errore del server. Riprova più tardi.",[Je.BUSINESS_LOGIC_ERROR]:"Operazione non consentita dalle regole di business.",[Je.UNKNOWN_ERROR]:"Si è verificato un errore imprevisto."};class pt extends Error{constructor(e,n=Je.UNKNOWN_ERROR,i=500,r={}){super(e),this.name="AppError",this.type=n,this.statusCode=i,this.context=r,this.timestamp=new Date().toISOString(),this.userMessage=fD[n]||fD[Je.UNKNOWN_ERROR]}toJSON(){return{message:this.message,type:this.type,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage}}}const rP=6048e5,NY=864e5,IY=36e5,hD=Symbol.for("constructDateFrom");function bs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&hD in t?t[hD](e):t instanceof Date?new t.constructor(e):new Date(e)}function ii(t,e){return bs(e||t,t)}function Of(t,e,n){const i=ii(t,n?.in);return isNaN(e)?bs(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function PY(t,e,n){return bs(t,+ii(t)+e)}function gD(t,e,n){return PY(t,e*IY)}let jY={};function Op(){return jY}function hl(t,e){const n=Op(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=ii(t,e?.in),s=r.getDay(),a=(s<i?7:0)+s-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function km(t,e){return hl(t,{...e,weekStartsOn:1})}function sP(t,e){const n=ii(t,e?.in),i=n.getFullYear(),r=bs(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=km(r),a=bs(n,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);const l=km(a);return n.getTime()>=s.getTime()?i+1:n.getTime()>=l.getTime()?i:i-1}function mD(t){const e=ii(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function LY(t,...e){const n=bs.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function pD(t,e){const n=ii(t,e?.in);return n.setHours(0,0,0,0),n}function FY(t,e,n){const[i,r]=LY(n?.in,t,e),s=pD(i),a=pD(r),l=+s-mD(s),u=+a-mD(a);return Math.round((l-u)/NY)}function UY(t,e){const n=sP(t,e),i=bs(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),km(i)}function aP(t,e,n){return Of(t,e*7,n)}function zY(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function HY(t){return!(!zY(t)&&typeof t!="number"||isNaN(+ii(t)))}function BY(t,e){const n=ii(t,e?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function oP(t,e){const n=ii(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const VY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$Y=(t,e,n)=>{let i;const r=VY[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Jb(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const qY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YY={date:Jb({formats:qY,defaultWidth:"full"}),time:Jb({formats:GY,defaultWidth:"full"}),dateTime:Jb({formats:WY,defaultWidth:"full"})},KY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QY=(t,e,n,i)=>KY[t];function gd(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;r=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const XY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},e9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},t9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},n9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i9=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},r9={ordinalNumber:i9,era:gd({values:XY,defaultWidth:"wide"}),quarter:gd({values:ZY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gd({values:JY,defaultWidth:"wide"}),day:gd({values:e9,defaultWidth:"wide"}),dayPeriod:gd({values:t9,defaultWidth:"wide",formattingValues:n9,defaultFormattingWidth:"wide"})};function md(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const a=s[0],l=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?a9(l,g=>g.test(a)):s9(l,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function s9(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function a9(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function o9(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(r.length);return{value:a,rest:l}}}const l9=/^(\d+)(th|st|nd|rd)?/i,c9=/\d+/i,u9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d9={any:[/^b/i,/^(a|c)/i]},f9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},h9={any:[/1/i,/2/i,/3/i,/4/i]},g9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},m9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},v9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_9={ordinalNumber:o9({matchPattern:l9,parsePattern:c9,valueCallback:t=>parseInt(t,10)}),era:md({matchPatterns:u9,defaultMatchWidth:"wide",parsePatterns:d9,defaultParseWidth:"any"}),quarter:md({matchPatterns:f9,defaultMatchWidth:"wide",parsePatterns:h9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:md({matchPatterns:g9,defaultMatchWidth:"wide",parsePatterns:m9,defaultParseWidth:"any"}),day:md({matchPatterns:p9,defaultMatchWidth:"wide",parsePatterns:v9,defaultParseWidth:"any"}),dayPeriod:md({matchPatterns:y9,defaultMatchWidth:"any",parsePatterns:b9,defaultParseWidth:"any"})},w9={code:"en-US",formatDistance:$Y,formatLong:YY,formatRelative:QY,localize:r9,match:_9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S9(t,e){const n=ii(t,e?.in);return FY(n,oP(n))+1}function x9(t,e){const n=ii(t,e?.in),i=+km(n)-+UY(n);return Math.round(i/rP)+1}function lP(t,e){const n=ii(t,e?.in),i=n.getFullYear(),r=Op(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=bs(e?.in||t,0);a.setFullYear(i+1,0,s),a.setHours(0,0,0,0);const l=hl(a,e),u=bs(e?.in||t,0);u.setFullYear(i,0,s),u.setHours(0,0,0,0);const d=hl(u,e);return+n>=+l?i+1:+n>=+d?i:i-1}function E9(t,e){const n=Op(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=lP(t,e),s=bs(e?.in||t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),hl(s,e)}function C9(t,e){const n=ii(t,e?.in),i=+hl(n,e)-+E9(n,e);return Math.round(i/rP)+1}function kt(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Ba={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return kt(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):kt(n+1,2)},d(t,e){return kt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return kt(t.getHours()%12||12,e.length)},H(t,e){return kt(t.getHours(),e.length)},m(t,e){return kt(t.getMinutes(),e.length)},s(t,e){return kt(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return kt(r,e.length)}},Cc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vD={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Ba.y(t,e)},Y:function(t,e,n,i){const r=lP(t,i),s=r>0?r:1-r;if(e==="YY"){const a=s%100;return kt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):kt(s,e.length)},R:function(t,e){const n=sP(t);return kt(n,e.length)},u:function(t,e){const n=t.getFullYear();return kt(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return kt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return kt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Ba.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return kt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=C9(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):kt(r,e.length)},I:function(t,e,n){const i=x9(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):kt(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ba.d(t,e)},D:function(t,e,n){const i=S9(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):kt(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return kt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return kt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return kt(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=Cc.noon:i===0?r=Cc.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=Cc.evening:i>=12?r=Cc.afternoon:i>=4?r=Cc.morning:r=Cc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Ba.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ba.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):kt(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):kt(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ba.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ba.s(t,e)},S:function(t,e){return Ba.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return bD(i);case"XXXX":case"XX":return Wo(i);case"XXXXX":case"XXX":default:return Wo(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return bD(i);case"xxxx":case"xx":return Wo(i);case"xxxxx":case"xxx":default:return Wo(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yD(i,":");case"OOOO":default:return"GMT"+Wo(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yD(i,":");case"zzzz":default:return"GMT"+Wo(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return kt(i,e.length)},T:function(t,e,n){return kt(+t,e.length)}};function yD(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+kt(s,2)}function bD(t,e){return t%60===0?(t>0?"-":"+")+kt(Math.abs(t)/60,2):Wo(t,e)}function Wo(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=kt(Math.trunc(i/60),2),s=kt(i%60,2);return n+r+e+s}const _D=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},A9=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return _D(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",_D(i,e)).replace("{{time}}",cP(r,e))},T9={p:cP,P:A9},R9=/^D+$/,D9=/^Y+$/,O9=["D","DD","YY","YYYY"];function M9(t){return R9.test(t)}function k9(t){return D9.test(t)}function N9(t,e,n){const i=I9(t,e,n);if(console.warn(i),O9.includes(t))throw new RangeError(i)}function I9(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const P9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L9=/^'([^]*?)'?$/,F9=/''/g,U9=/[a-zA-Z]/;function Yn(t,e,n){const i=Op(),r=i.locale??w9,s=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=ii(t,n?.in);if(!HY(l))throw new RangeError("Invalid time value");let u=e.match(j9).map(h=>{const g=h[0];if(g==="p"||g==="P"){const p=T9[g];return p(h,r.formatLong)}return h}).join("").match(P9).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:z9(h)};if(vD[g])return{isToken:!0,value:h};if(g.match(U9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:r};return u.map(h=>{if(!h.isToken)return h.value;const g=h.value;(k9(g)||M9(g))&&N9(g,e,String(t));const p=vD[g[0]];return p(l,g,r.localize,d)}).join("")}function z9(t){const e=t.match(L9);return e?e[1].replace(F9,"'"):t}function H9(t,e){return ii(t,e?.in).getDay()}function B9(t,e){return+ii(t)>+ii(e)}function V9(t,e,n){return aP(t,-1,n)}class $9{async init(){try{const{error:e}=await hn.from("machines").select("count").limit(1);if(e)throw new pt(`API initialization failed: ${e.message}`,Je.SERVER_ERROR,500,e,"API.init");return!0}catch(e){throw e instanceof pt?e:new pt(`API initialization failed: ${e.message}`,Je.SERVER_ERROR,500,e,"API.init")}}async getMachines(){return JW(async()=>{const{data:e,error:n}=await hn.from("machines").select("*").order("machine_name");if(n)throw n;return e||[]},"getMachines")}async addMachine(e){try{const{data:n,error:i}=await hn.from("machines").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new pt(`Failed to add machine: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.addMachine")}}async updateMachine(e,n){try{const{data:i,error:r}=await hn.from("machines").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new pt(`Failed to update machine: ${In(i)}`,Je.SERVER_ERROR,500,i,"API.updateMachine")}}async removeMachine(e){try{const{error:n}=await hn.from("machines").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new pt(`Failed to remove machine: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.removeMachine")}}async getOdpOrders(){try{const{data:e,error:n}=await hn.from("odp_orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){throw new pt(`Failed to fetch ODP orders: ${In(e)}`,Je.SERVER_ERROR,500,e,"API.getOdpOrders")}}async getOdpOrder(e){try{const{data:n,error:i}=await hn.from("odp_orders").select("*").eq("id",e).single();if(i)throw i;return n}catch(n){throw new pt(`Failed to fetch ODP order: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.getOdpOrder")}}async addOdpOrder(e){try{const{data:n,error:i}=await hn.from("odp_orders").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new pt(`Failed to add ODP order: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.addOdpOrder")}}async updateOdpOrder(e,n){try{const{data:i,error:r}=await hn.from("odp_orders").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new pt(`Failed to update ODP order: ${In(i)}`,Je.SERVER_ERROR,500,i,"API.updateOdpOrder")}}async removeOdpOrder(e){try{const{error:n}=await hn.from("odp_orders").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new pt(`Failed to remove ODP order: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.removeOdpOrder")}}async getPhases(){try{const{data:e,error:n}=await hn.from("phases").select("*").order("name");if(n)throw n;return e||[]}catch(e){throw new pt(`Failed to fetch phases: ${In(e)}`,Je.SERVER_ERROR,500,e,"API.getPhases")}}async addPhase(e){try{const{data:n,error:i}=await hn.from("phases").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new pt(`Failed to add phase: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.addPhase")}}async updatePhase(e,n){try{const{data:i,error:r}=await hn.from("phases").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new pt(`Failed to update phase: ${In(i)}`,Je.SERVER_ERROR,500,i,"API.updatePhase")}}async removePhase(e){try{const{error:n}=await hn.from("phases").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new pt(`Failed to remove phase: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.removePhase")}}async getMachineAvailabilityForDateRange(e,n,i){try{const{data:r,error:s}=await hn.from("machine_availability").select("*").eq("machine_id",e).gte("date",n).lte("date",i).order("date");if(s)throw s;return r||[]}catch(r){throw new pt(`Failed to fetch machine availability for date range: ${In(r)}`,Je.SERVER_ERROR,500,r,"API.getMachineAvailabilityForDateRange")}}async getMachineAvailabilityForDate(e,n){try{const{data:i,error:r}=await hn.from("machine_availability").select("*").eq("machine_id",e).eq("date",n).maybeSingle();if(r)throw r;return i||null}catch(i){throw new pt(`Failed to fetch machine availability: ${In(i)}`,Je.SERVER_ERROR,500,i,"API.getMachineAvailabilityForDate")}}async getMachineAvailability(e,n){try{return(await this.getMachineAvailabilityForDate(e,n))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(e,n,i){try{const{data:r,error:s}=await hn.from("machine_availability").upsert([{machine_id:e,date:n,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(s)throw s;return r}catch(r){throw new pt(`Failed to set machine availability: ${In(r)}`,Je.SERVER_ERROR,500,r,"API.setMachineAvailability")}}async getMachineAvailabilityForDateAllMachines(e){try{const{data:n,error:i}=await hn.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new pt(`Failed to fetch machine availability for all machines: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.getMachineAvailabilityForDateAllMachines")}}async getEventsByDate(e){try{const{data:n,error:i}=await hn.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new pt(`Failed to fetch events by date: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.getEventsByDate")}}async setUnavailableHoursForRange(e,n,i,r,s){try{const a=parseInt(r.split(":")[0]),l=parseInt(s.split(":")[0]),u=[];for(let v=a;v<l;v++)u.push(v.toString());const d=new Date(n),h=new Date(i);let g=new Date(d);const p=[];for(;g<=h;){const v=Yn(g,"yyyy-MM-dd"),_=(await this.getMachineAvailabilityForDate(e,v))?.unavailable_hours||[],S=[...new Set([..._,...u])].sort((A,T)=>parseInt(A)-parseInt(T)),x=await this.setMachineAvailability(e,v,S);p.push(x),g=Of(g,1)}return p}catch(a){throw new pt(`Failed to set unavailable hours for range: ${In(a)}`,Je.SERVER_ERROR,500,a,"API.setUnavailableHoursForRange")}}async bulkUpsertMachineAvailability(e){try{const{error:n}=await hn.from("machine_availability").upsert(e,{onConflict:"machine_id,date"});if(n)throw n;return{success:!0}}catch(n){throw new pt(`Failed to bulk set machine availability: ${In(n)}`,Je.SERVER_ERROR,500,n,"API.bulkUpsertMachineAvailability")}}setupRealtimeSubscriptions(e,n,i){return hn.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},e).on("postgres_changes",{event:"*",schema:"public",table:"machines"},n).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i).subscribe(s=>{})}cleanupRealtimeSubscriptions(e){if(e)try{e.unsubscribe()}catch{}}}const vt=new $9,A_=Object.freeze(Object.defineProperty({__proto__:null,apiService:vt},Symbol.toStringTag,{value:"Module"})),Xt={MACHINE:{DEPARTMENT:"STAMPA",WORK_CENTER:"ZANICA",MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:["T1"],STATUS:"ACTIVE"},PHASE:{DEPARTMENT:"STAMPA",NUMERO_PERSONE:1,WORK_CENTER:"ZANICA",V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:3,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},q9={MAX_TASK_SEGMENTS:50},Dt=yl((t,e)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:localStorage.getItem("selectedWorkCenter")||_t.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},getLoadingState:()=>e().isLoading,getInitializationState:()=>e().isInitialized,getSelectedWorkCenter:()=>e().selectedWorkCenter,getEditMode:()=>e().isEditMode,getConfirmDialog:()=>e().confirmDialog,getConflictDialog:()=>e().conflictDialog,getSchedulingLoading:()=>e().schedulingLoading,getDragPreview:()=>e().dragPreview,setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),setSelectedWorkCenter:n=>{localStorage.setItem("selectedWorkCenter",n),t({selectedWorkCenter:n})},toggleEditMode:()=>t(n=>({isEditMode:!n.isEditMode})),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>t({schedulingLoading:n}),startSchedulingOperation:(n,i=null)=>t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:i}}),stopSchedulingOperation:()=>t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}}),showConfirmDialog:(n,i,r,s="danger")=>t({confirmDialog:{isOpen:!0,title:n,message:i,onConfirm:r,type:s}}),hideConfirmDialog:()=>t({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),showConflictDialog:n=>t({conflictDialog:{isOpen:!0,details:n}}),hideConflictDialog:()=>t({conflictDialog:{isOpen:!1,details:null}}),setDragPreview:n=>t({dragPreview:n}),clearDragPreview:()=>t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}}),showAlert:(n,i="info")=>{XW(n,i)},reset:()=>t({isLoading:!1,isInitialized:!1,selectedWorkCenter:_t.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})}));class G9{constructor(e,n){this.get=e,this.set=n}setSplitTaskInfo=(e,n)=>{this.set(i=>({splitTasksInfo:{...i.splitTasksInfo,[e]:n}}))};getSplitTaskInfo=e=>{const n=this.get().splitTasksInfo[e];if(n&&n.segments)return n;const{getOrderById:i}=on.getState(),r=i(e);if(r&&r.description&&r.status==="SCHEDULED")try{const s=JSON.parse(r.description);if(s.segments&&Array.isArray(s.segments))return setTimeout(()=>{this.setSplitTaskInfo(e,s)},0),s}catch{}return null};clearSplitTaskInfo=e=>{this.set(n=>{const i={...n.splitTasksInfo};return delete i[e],{splitTasksInfo:i}})};updateTaskWithSplitInfo=async(e,n,i=null,r=null,s=null)=>{const{apiService:a}=await Kr(async()=>{const{apiService:l}=await Promise.resolve().then(()=>A_);return{apiService:l}},void 0);if(n){this.setSplitTaskInfo(e,n);const u={description:JSON.stringify(n),status:"SCHEDULED"};if(i&&(u.scheduled_start_time=i.toISOString()),r&&(u.scheduled_end_time=r.toISOString()),s&&(u.scheduled_machine_id=s),!(u.scheduled_start_time&&u.scheduled_end_time&&u.scheduled_machine_id))if(!u.scheduled_start_time&&!u.scheduled_end_time&&!u.scheduled_machine_id)delete u.scheduled_start_time,delete u.scheduled_end_time,delete u.scheduled_machine_id,u.status="NOT SCHEDULED";else{const{getOrderById:h}=on.getState(),g=h(e);g&&(u.scheduled_start_time||(u.scheduled_start_time=g.scheduled_start_time),u.scheduled_end_time||(u.scheduled_end_time=g.scheduled_end_time),u.scheduled_machine_id||(u.scheduled_machine_id=g.scheduled_machine_id))}const d=await a.updateOdpOrder(e,u);this.updateSplitTaskInfo(e,d)}else{this.clearSplitTaskInfo(e);const l=await a.updateOdpOrder(e,{description:""});this.updateSplitTaskInfo(e,l)}};updateSplitTaskInfo=(e,n)=>{if(this.clearSplitTaskInfo(e),n.description&&n.status==="SCHEDULED")try{const i=JSON.parse(n.description);i.segments&&Array.isArray(i.segments)?this.validateSegments(i.segments.map(s=>({start:new Date(s.start),end:new Date(s.end),duration:s.duration}))).isValid?this.setSplitTaskInfo(e,i):this.clearSplitTaskInfo(e):this.clearSplitTaskInfo(e)}catch{this.clearSplitTaskInfo(e)}else this.clearSplitTaskInfo(e)};restoreSplitTaskInfo=()=>{const{getOdpOrders:e}=on.getState(),n=e(),i={};let r=0;n.forEach(s=>{if(s.description&&s.status==="SCHEDULED")try{const a=JSON.parse(s.description);a.segments&&Array.isArray(a.segments)&&(i[s.id]=a,r++)}catch{}}),this.set({splitTasksInfo:i})};validateSegments=e=>{if(!Array.isArray(e)||e.length===0)return{isValid:!1,error:"Segments must be a non-empty array"};for(let n=0;n<e.length;n++){const i=e[n];if(!i.start||!i.end||i.duration===void 0)return{isValid:!1,error:`Segment ${n} missing required properties (start, end, duration)`};const r=new Date(i.start),s=new Date(i.end);if(isNaN(r.getTime())||isNaN(s.getTime()))return{isValid:!1,error:`Segment ${n} has invalid date values`};if(s<=r)return{isValid:!1,error:`Segment ${n} end time must be after start time`};if(i.duration<=0)return{isValid:!1,error:`Segment ${n} duration must be positive`};if(n>0){const a=e[n-1],l=new Date(a.end);if(r<l)return{isValid:!1,error:`Segment ${n} overlaps with previous segment`}}}return{isValid:!0}};createSegmentInfo=(e,n)=>{const i=this.validateSegments(e);if(!i.isValid)throw new Error(`Invalid segments: ${i.error}`);return{totalSegments:e.length,segments:e.map(r=>({start:r.start.toISOString(),end:r.end.toISOString(),duration:r.duration})),originalDuration:n,wasSplit:e.length>1}};getTaskOccupiedSegments=e=>{const n=this.getSplitTaskInfo(e.id);if(n&&n.segments)return n.segments.map(i=>({start:new Date(i.start),end:new Date(i.end),duration:i.duration}));if(e.description)try{const i=JSON.parse(e.description);if(i.segments&&Array.isArray(i.segments))return i.segments.map(r=>({start:new Date(r.start),end:new Date(r.end),duration:r.duration}))}catch{}if(e.scheduled_start_time){const i=new Date(e.scheduled_start_time),r=e.time_remaining||e.duration||1,s=new Date(i.getTime()+r*60*60*1e3);return[{start:i,end:s,duration:r}]}return[]};doTimeRangesOverlap=(e,n,i,r)=>e<r&&n>i;checkTaskOverlap=(e,n,i)=>{const r=this.getTaskOccupiedSegments(i);for(const s of r)if(this.doTimeRangesOverlap(e,n,s.start,s.end))return{hasOverlap:!0,conflictingSegment:s,existingTask:i};return{hasOverlap:!1}};checkMachineOverlaps=(e,n,i,r=null,s=[])=>{const{getOdpOrders:a}=on.getState(),l=[r,...s].filter(h=>h),d=a().filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&!l.includes(h.id)&&h.scheduled_start_time&&h.scheduled_end_time&&h.scheduled_machine_id).sort((h,g)=>{const p=this.getTaskOccupiedSegments(h),v=this.getTaskOccupiedSegments(g),b=p.length>0?p[0].start:new Date(h.scheduled_start_time),_=v.length>0?v[0].start:new Date(g.scheduled_start_time);return b.getTime()-_.getTime()});for(const h of d){const g=this.checkTaskOverlap(e,n,h);if(g.hasOverlap)return{hasOverlap:!0,conflictingTask:h,conflictingSegment:g.conflictingSegment}}return{hasOverlap:!1}};migrateExistingTasksToSegmentFormat=async()=>{const{getOdpOrders:e}=on.getState(),n=e();for(const i of n)if(i.status==="SCHEDULED"&&i.scheduled_start_time){const r=this.getSplitTaskInfo(i.id);if(r&&r.segments)continue;if(i.description)try{const h=JSON.parse(i.description);if(h.segments&&Array.isArray(h.segments)){this.setSplitTaskInfo(i.id,h);continue}}catch{}const s=new Date(i.scheduled_start_time),a=i.time_remaining||i.duration||1,l=new Date(s.getTime()+a*60*60*1e3),u=[{start:s,end:l,duration:a}],d=this.createSegmentInfo(u,a);await this.updateTaskWithSplitInfo(i.id,d)}};verifyAllTasksHaveSegmentInfo=()=>{const{getOdpOrders:e}=on.getState(),i=e().filter(s=>s.status==="SCHEDULED"),r=[];for(const s of i){const a=this.getSplitTaskInfo(s.id);(!a||!a.segments)&&r.push({id:s.id,odp_number:s.odp_number,description:s.description})}return{totalScheduledTasks:i.length,tasksWithSegments:i.length-r.length,tasksWithoutSegments:r}}}class W9{constructor(e,n,i,r){this.get=e,this.set=n,this.splitTaskManager=i,this.machineAvailabilityManager=r}createAbsoluteDate=(e,n,i,r=0,s=0)=>new Date(Date.UTC(e,n-1,i,r,s,0,0));splitTaskAcrossAvailableSlots=(e,n,i,r)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const d of r)if(a>=d.start&&a<d.end){a=new Date(d.end),u=!0;break}}for(;l>0;){let d=null,h=null,g=null;for(const p of r){const v=new Date(p.start),b=new Date(p.end);v>=a&&(!d||v<h)&&(d=p,h=v,g=b)}if(d){const p=(h.getTime()-a.getTime())/36e5;if(p>0){const b=Math.min(p,l),_=new Date(a.getTime()+b*60*60*1e3);s.push({start:new Date(a),end:_,duration:b}),l-=b}a=new Date(g);let v=!0;for(;v;){v=!1;for(const b of r)if(a>=b.start&&a<b.end){a=new Date(b.end),v=!0;break}}}else{const p=new Date(a.getTime()+l*60*60*1e3);s.push({start:new Date(a),end:p,duration:l}),l=0}if(s.length>q9.MAX_TASK_SEGMENTS){console.warn("Task splitting exceeded maximum segments limit");break}}return s}catch(s){return console.error("Error in splitTaskAcrossAvailableSlots:",s),[]}};splitTaskAcrossAvailableSlotsBackward=(e,n,i,r)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const h of r)if(a>h.start&&a<=h.end){a=new Date(h.start),u=!0;break}}for(;l>0;){let h=null,g=null,p=null;for(const A of r){const T=new Date(A.start),M=new Date(A.end);M<=a&&(!h||M>p)&&(h=A,g=T,p=M)}let v;h?v=new Date(p):v=new Date(a.getTime()-l*60*60*1e3);let b=!0;for(;b;){b=!1;for(const A of r)if(v<A.end&&v>=A.start){v=new Date(A.end),b=!0;break}}const _=(a.getTime()-v.getTime())/(1e3*60*60);if(_<=0){a=h?new Date(g):new Date(a.getTime()-3600*1e3);continue}const S=Math.min(_,l),x=new Date(a.getTime()-S*60*60*1e3);s.push({start:x,end:new Date(a),duration:S}),l-=S,a=new Date(x)}return s.reverse()}catch(s){return console.error("Error in splitTaskAcrossAvailableSlotsBackward:",s),[]}};collectUnavailableSlots=(e,n,i)=>{const r=[],s=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),a=this.createAbsoluteDate(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(s);for(;u<=l;){const d=Yn(u,"yyyy-MM-dd"),h=this.get().machineAvailability[d];if(h&&Array.isArray(h)){const g=h.find(p=>p.machine_id===i);if(g&&g.unavailable_hours&&Array.isArray(g.unavailable_hours)){const[p,v,b]=d.split("-").map(Number);for(const _ of g.unavailable_hours){const S=this.createAbsoluteDate(p,v,b,parseInt(_),0),x=new Date(S.getTime()+3600*1e3);r.push({start:S,end:x,hour:parseInt(_),date:d})}}}u.setUTCDate(u.getUTCDate()+1)}return r.sort((d,h)=>d.start.getTime()-h.start.getTime())};loadMachineAvailabilityForExtendedRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()+n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(r);for(;u<=l;){const d=Yn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return l};loadMachineAvailabilityForBackwardRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()-n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()-7);let u=new Date(l);for(;u<=r;){const d=Yn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return{taskStartDateWithBuffer:l,taskEndDate:r}};checkSegmentsForOverlaps=(e,n,i,r=[])=>{[i,...r].filter(s=>s);for(const s of e){const a=this.splitTaskManager.checkMachineOverlaps(s.start,s.end,n,i,r);if(a.hasOverlap)return{hasOverlap:!0,conflictingSegment:s,conflictingTask:a.conflictingTask,conflictingExistingSegment:a.conflictingSegment}}return{hasOverlap:!1}};scheduleTaskWithSplitting=async(e,n,i,r,s=[])=>{const a=await this.loadMachineAvailabilityForExtendedRange(n,i,r),l=this.collectUnavailableSlots(n,a,r),u=new Date(n.getTime()+i*60*60*1e3);if(l.some(h=>n<h.end&&u>h.start)){const h=this.splitTaskAcrossAvailableSlots(n,i,r,l);if(h.length>0){const g=this.checkSegmentsForOverlaps(h,r,e,s);if(g.hasOverlap)return{conflict:!0,conflictingTask:g.conflictingTask,conflictingSegment:g.conflictingExistingSegment,proposedSegments:h};const p=h[0],v=h[h.length-1];if(!p?.start||!v?.end)return console.error("Invalid segments returned from splitTaskAcrossAvailableSlots:",h),null;const b=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,b,p.start,v.end,r),{startTime:p.start,endTime:v.end,wasSplit:!0,segments:h,originalDuration:i}}}else{const h=[{start:n,end:u,duration:i}],g=this.checkSegmentsForOverlaps(h,r,e,s);if(g.hasOverlap)return{conflict:!0,conflictingTask:g.conflictingTask,conflictingSegment:g.conflictingExistingSegment,proposedSegments:h};const p=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,p,n,u,r),{startTime:n,endTime:u,wasSplit:!1,segments:h,originalDuration:i}}return null};scheduleTaskEndingAtWithSplitting=async(e,n,i,r,s=[])=>{const{taskStartDateWithBuffer:a,taskEndDate:l}=await this.loadMachineAvailabilityForBackwardRange(n,i,r),u=this.collectUnavailableSlots(a,l,r),d=this.splitTaskAcrossAvailableSlotsBackward(n,i,r,u);if(d.length===0)return null;const h=this.checkSegmentsForOverlaps(d,r,e,s);if(h.hasOverlap)return{conflict:!0,conflictingTask:h.conflictingTask,conflictingSegment:h.conflictingExistingSegment,proposedSegments:d};const g=this.splitTaskManager.createSegmentInfo(d,i),p=d[0],v=d[d.length-1];return!p?.start||!v?.end?(console.error("Invalid segments returned from splitTaskAcrossAvailableSlotsBackward:",d),null):(await this.splitTaskManager.updateTaskWithSplitInfo(e,g,p.start,v.end,r),{startTime:p.start,endTime:v.end,wasSplit:d.length>1,segments:d,originalDuration:i})};handleTaskDurationShrinking=async(e,n,i,r={})=>{try{console.log("🔄 DURATION SHRINKING: Starting cascading rescheduling for task",e),console.log("📊 DURATION SHRINKING: New duration:",n,"hours");const{getOrderById:s,getOdpOrders:a}=on.getState(),{getMachineById:l}=Er.getState(),u=s(e),d=l(i),h=a();if(!u||!d)return{success:!1,error:"Task or machine not found"};if(!u.scheduled_start_time||!u.scheduled_end_time)return{success:!1,error:"Task is not scheduled"};const g=new Date(u.scheduled_start_time),p=u.duration,v=new Date(g.getTime()+p*60*60*1e3);console.log("📅 DURATION SHRINKING: Original end time (pre-shrinking):",v.toISOString()),console.log("📅 DURATION SHRINKING: Original duration:",p,"New duration:",n);const b=this.findCascadingChain(e,v,i,h);console.log("🔄 DURATION SHRINKING: Found cascading chain of",b.length,"tasks to reschedule"),console.log("📋 DURATION SHRINKING: Chain tasks:",b.map(D=>D.odp_number));const _=u.quantity_completed/u.quantity||0,S=n*(1-_);console.log("📊 DURATION SHRINKING: Calculated time_remaining:",S,"from new duration:",n,"and progress:",_),console.log("📊 DURATION SHRINKING: Progress calculation:",u.quantity_completed,"/",u.quantity,"=",_),console.log("🔄 DURATION SHRINKING: Rescheduling original task with new time_remaining");const x=await this.scheduleTaskWithSplitting(e,g,S,i,[]);if(!x)return console.error("❌ DURATION SHRINKING: Failed to reschedule original task"),{success:!1,error:"Failed to reschedule original task. Not enough space available.",rescheduledTasks:[]};if(x.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling original task"),{success:!1,error:"Conflict detected while rescheduling original task. Consider using conflict resolution.",rescheduledTasks:[]};await this.splitTaskManager.updateTaskWithSplitInfo(e,x.segments?{segments:x.segments,totalSegments:x.segments.length,originalDuration:x.originalDuration||S,wasSplit:x.wasSplit||!1}:null,x.startTime,x.endTime,i);const A={duration:n,time_remaining:S,...r};console.log("💾 DURATION SHRINKING: Final update data:",A),await vt.updateOdpOrder(e,A);const T=[{id:e,odp_number:u.odp_number,new_start_time:x.startTime.toISOString(),new_end_time:x.endTime.toISOString(),was_split:x.wasSplit}];let M=new Date(x.endTime);const O=M.getUTCMinutes(),N=Math.ceil(O/15)*15;N===60?M.setUTCHours(M.getUTCHours()+1,0,0,0):M.setUTCMinutes(N,0,0);for(const D of b){console.log("🔄 DURATION SHRINKING: Rescheduling task",D.odp_number,"to start at",M.toISOString());const P=await this.scheduleTaskWithSplitting(D.id,M,D.time_remaining||D.duration||1,i,[e]);if(!P)return console.error("❌ DURATION SHRINKING: Failed to reschedule task",D.odp_number),{success:!1,error:`Failed to reschedule task ${D.odp_number}. Not enough space available.`,rescheduledTasks:T};if(P.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling task",D.odp_number),{success:!1,error:`Conflict detected while rescheduling task ${D.odp_number}. Consider using conflict resolution.`,rescheduledTasks:T};await this.splitTaskManager.updateTaskWithSplitInfo(D.id,P.segments?{segments:P.segments,totalSegments:P.segments.length,originalDuration:P.originalDuration||D.time_remaining||D.duration||1,wasSplit:P.wasSplit||!1}:null,P.startTime,P.endTime,i),T.push({id:D.id,odp_number:D.odp_number,new_start_time:P.startTime.toISOString(),new_end_time:P.endTime.toISOString(),was_split:P.wasSplit}),M=new Date(P.endTime);const z=M.getUTCMinutes(),B=Math.ceil(z/15)*15;B===60?M.setUTCHours(M.getUTCHours()+1,0,0,0):M.setUTCMinutes(B,0,0)}console.log("✅ DURATION SHRINKING: Successfully rescheduled",T.length,"tasks");const k=s(e);return{success:!0,message:`Successfully rescheduled ${T.length} tasks due to duration reduction`,rescheduledTasks:T,updatedTask:k}}catch(s){return console.error("❌ DURATION SHRINKING ERROR:",s),{success:!1,error:s.message||"Unknown error during duration shrinking",rescheduledTasks:[]}}};findCascadingChain=(e,n,i,r)=>{const s=[],a=new Set,l=r.filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&h.id!==e&&h.scheduled_start_time).sort((h,g)=>new Date(h.scheduled_start_time)-new Date(g.scheduled_start_time)),u=l.filter(h=>{const p=(new Date(h.scheduled_start_time).getTime()-n.getTime())/(1e3*60);return p>=0&&p<=15});console.log("🔍 DURATION SHRINKING: Initial candidates within 15 minutes:",u.map(h=>h.odp_number));const d=h=>{for(const g of l){if(a.has(g.id))continue;const p=new Date(g.scheduled_start_time),v=(p.getTime()-h.getTime())/(1e3*60);if(v>=0&&v<=15){a.add(g.id),s.push(g);const b=g.time_remaining||g.duration||1,_=new Date(p.getTime()+b*60*60*1e3);console.log("🔗 DURATION SHRINKING: Added to chain:",g.odp_number,"ends at",_.toISOString()),d(_)}}};return d(n),console.log("📋 DURATION SHRINKING: Complete chain found:",s.map(h=>h.odp_number)),s}}class Y9{constructor(e,n,i,r){this.get=e,this.set=n,this.schedulingLogic=i,this.splitTaskManager=r}getTaskDurationMinutes=e=>Math.round((e.time_remaining||e.duration||1)*ng.MINUTES_PER_HOUR);getTaskEndTime=e=>{const n=new Date(e.scheduled_start_time),i=this.getTaskDurationMinutes(e);return new Date(n.getTime()+i*ng.MILLISECONDS_PER_MINUTE)};addMinutesToDate=(e,n)=>new Date(e.getTime()+n*ng.MILLISECONDS_PER_MINUTE);roundUpToNext15MinSlot=e=>{const n=e.getUTCMinutes(),i=e.getUTCHours(),r=Math.ceil(n/15)*15,s=new Date(e);return r===ng.MINUTES_PER_HOUR?s.setUTCHours(i+1,0,0,0):s.setUTCMinutes(r,0,0),s};scheduleTaskWithSplittingForShunt=async(e,n,i)=>await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,[e.id]);scheduleTaskWithSplittingForShuntExcluding=async(e,n,i,r,s=3)=>{const a=this.getTaskDurationMinutes(e)/60,l=r.filter(d=>d!==e.id),u=await this.schedulingLogic.scheduleTaskWithSplitting(e.id,n,a,i.id,l);return u&&!u.conflict?{startTime:u.startTime,endTime:u.endTime,wasSplit:u.wasSplit}:u&&u.conflict?(console.log(`🔄 CASCADING SHUNT: Task ${e.odp_number} conflicts with ${u.conflictingTask?.odp_number}, attempting cascading resolution`),s>0?await this.handleCascadingConflict(e,n,i,r,u,s-1):(console.warn(`⚠️ CASCADING SHUNT: Max depth reached for task ${e.odp_number}, returning conflict info`),{conflict:!0,conflictingTask:u.conflictingTask,conflictingSegment:u.conflictingSegment,proposedSegments:u.proposedSegments})):u?{startTime:n,endTime:this.addMinutesToDate(n,this.getTaskDurationMinutes(e)),wasSplit:!1}:null};handleCascadingConflict=async(e,n,i,r,s,a)=>{const l=s.conflictingTask,u=s.conflictingSegment;console.log(`🔄 CASCADING SHUNT: Attempting to shunt conflicting task ${l?.odp_number} to resolve conflict with ${e.odp_number}`);const d=new Date(n.getTime()+this.getTaskDurationMinutes(e)*60*1e3),h=this.roundUpToNext15MinSlot(d),g=[...r,l.id];try{const p=await this.scheduleTaskWithSplittingForShuntExcluding(l,h,i,g,a);if(p&&!p.conflict){console.log(`✅ CASCADING SHUNT: Successfully shunted conflicting task ${l.odp_number}`),await this.updateTaskSchedule(l.id,p.startTime,p.endTime);const v=await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,g,a);return v&&!v.conflict?(console.log(`✅ CASCADING SHUNT: Successfully scheduled original task ${e.odp_number} after resolving conflicts`),v):(console.warn(`⚠️ CASCADING SHUNT: Original task ${e.odp_number} still conflicts after shunting conflicting task`),v||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments})}else return console.warn(`⚠️ CASCADING SHUNT: Could not shunt conflicting task ${l?.odp_number}`),p||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}catch(p){return console.error("❌ CASCADING SHUNT: Error during cascading conflict resolution:",p),{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}};updateTaskSchedule=async(e,n,i)=>{try{const{updateOrder:r}=on.getState();await r(e,{scheduled_start_time:n.toISOString(),scheduled_end_time:i.toISOString()})}catch(r){console.error(`❌ CASCADING SHUNT: Failed to update task ${e} schedule:`,r)}};checkShuntingOverlaps=(e,n,i,r=[])=>{const s=i.filter(a=>a.scheduled_machine_id===n&&a.status==="SCHEDULED"&&!r.includes(a.id));for(const a of e)for(const l of s){const u=this.splitTaskManager.checkTaskOverlap(a.start,a.end,l);if(u.hasOverlap)return{hasOverlap:!0,conflictingTask:l,conflictingSegment:u.conflictingSegment,newTaskSegment:a}}return{hasOverlap:!1}};resolveConflictByShunting=async(e,n,i,r)=>{try{const{conflictingTask:s,proposedStartTime:a,machine:l}=e,u=new Date(a),d=i.filter(O=>O.scheduled_machine_id===l.id&&O.status==="SCHEDULED"&&O.id!==r.id).sort((O,N)=>{const k=this.splitTaskManager.getTaskOccupiedSegments(O),D=this.splitTaskManager.getTaskOccupiedSegments(N),P=k.length>0?k[0].start:new Date(O.scheduled_start_time),z=D.length>0?D[0].start:new Date(N.scheduled_start_time);return P-z}),h=d.findIndex(O=>O.id===s.id);if(h===-1)throw new pt("Conflicting task not found",Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const g=this.getTaskDurationMinutes(r),p=[];let v=!1;if(n==="right")for(let O=h;O<d.length&&!v;O++){const N=d[O];if(p.push(N),O<d.length-1){const k=d[O+1],D=this.splitTaskManager.getTaskOccupiedSegments(N),P=this.splitTaskManager.getTaskOccupiedSegments(k);if(D.length>0&&P.length>0){const z=Math.max(...D.map(ne=>ne.end.getTime())),B=Math.min(...P.map(ne=>ne.start.getTime()));Math.floor((B-z)/(60*1e3))>=g&&(v=!0)}}else v=!0}else for(let O=h;O>=0&&!v;O--){const N=d[O];if(p.unshift(N),O>0){const k=d[O-1],D=this.splitTaskManager.getTaskOccupiedSegments(k),P=this.splitTaskManager.getTaskOccupiedSegments(N);if(D.length>0&&P.length>0){const z=Math.max(...D.map(ne=>ne.end.getTime())),B=Math.min(...P.map(ne=>ne.start.getTime()));Math.floor((B-z)/(60*1e3))>=g&&(v=!0)}}else{const k=this.splitTaskManager.getTaskOccupiedSegments(N);if(k.length>0){const D=Math.min(...k.map(B=>B.start.getTime())),P=new Date(D);if(P.setUTCHours(6,0,0,0),Math.floor((D-P.getTime())/(60*1e3))>=g)v=!0;else{const B=new Date(D),Q=new Date(B);Q.setUTCHours(6,0,0,0),B.getTime()>Q.getTime()&&(v=!0)}}}}const b=new Set,_=new Set;for(const O of p)b.add(O.id),_.add(O.id);_.add(r.id);let S=0;const x=10;for(;S<x;){S++;let O=!1;const N=Array.from(b);for(const k of N){const D=d.find(ne=>ne.id===k)||r;if(!D)continue;let P;if(n==="right"){const ne=new Date(u.getTime()+g*60*1e3);if(P=this.roundUpToNext15MinSlot(ne),D.id!==r.id){const ce=Array.from(b).indexOf(k);if(ce>0){const me=Array.from(b)[ce-1],L=d.find(G=>G.id===me)||r,q=this.getTaskDurationMinutes(L),V=new Date(P.getTime()+q*60*1e3);P=this.roundUpToNext15MinSlot(V)}}}else{const ne=u,ce=this.getTaskDurationMinutes(D);P=this.roundUpToNext15MinSlot(this.addMinutesToDate(ne,-ce))}const z=this.getTaskDurationMinutes(D)/60,B=this.schedulingLogic.collectUnavailableSlots(P,new Date(P.getTime()+z*60*60*1e3),l.id);if(B.some(ne=>P<ne.end&&new Date(P.getTime()+z*60*60*1e3)>ne.start)){const ne=this.schedulingLogic.splitTaskAcrossAvailableSlots(P,z,l.id,B);for(const ce of ne)for(const me of d)!_.has(me.id)&&me.id!==D.id&&this.splitTaskManager.checkTaskOverlap(ce.start,ce.end,me).hasOverlap&&(_.add(me.id),b.add(me.id),O=!0)}else{const ne=new Date(P.getTime()+z*60*60*1e3);for(const ce of d)!_.has(ce.id)&&ce.id!==D.id&&this.splitTaskManager.checkTaskOverlap(P,ne,ce).hasOverlap&&(_.add(ce.id),b.add(ce.id),O=!0)}}if(!O)break}if(S>=x)throw console.error(`🚨 SHUNTING ERROR: Maximum iterations (${x}) reached, possible infinite loop`),new pt("Too many conflicts detected during shunting",Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const A=d.filter(O=>b.has(O.id));if(p.length=0,p.push(...A),!v&&p.length===d.length){const O=this.getTaskDurationMinutes(r),N=p.length,k=l.machine_name||"Unknown Machine";console.warn(`⚠️ SHUNTING WARNING: No gap found for ${O} minutes on machine ${k}`),console.warn(`⚠️ All ${N} tasks on machine would need to be moved`),console.warn("⚠️ Attempting to schedule at earliest possible time...");const D=d[0],P=this.splitTaskManager.getTaskOccupiedSegments(D);if(P.length>0){const z=Math.min(...P.map(Q=>Q.start.getTime())),B=new Date(z);if(B.setUTCHours(6,0,0,0),B.getTime()<z)v=!0;else throw console.error(`❌ SHUNTING FAILED: No space even at 6 AM on machine ${k}`),console.error("❌ Consider: 1) Moving to different machine, 2) Reducing task duration, 3) Scheduling on different day"),new pt(`Non c'è spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${O} minuti) richiederebbe di spostare tutti i ${N} lavori sulla macchina ${k}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}else throw new pt(`Non c'è spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${O} minuti) richiederebbe di spostare tutti i ${N} lavori sulla macchina ${k}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}const T=[];let M=null;if(n==="right"){const O=new Date(u),N=[...Array.from(_)];if(M=await this.scheduleTaskWithSplittingForShuntExcluding(r,O,l,N),M&&M.conflict)return console.warn(`⚠️ CASCADING SHUNT: Dragged task ${r.odp_number} still has conflicts after cascading resolution`),{error:`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Conflitti non risolvibili automaticamente.`,conflict:M.conflict,conflictingTask:M.conflictingTask,conflictingSegment:M.conflictingSegment};let k=M.endTime?this.roundUpToNext15MinSlot(M.endTime):new Date;for(const D of p){const P=[...Array.from(_)],z=await this.scheduleTaskWithSplittingForShuntExcluding(D,k,l,P);if(!z)throw console.error(`❌ Failed to schedule task ${D.odp_number} at ${k.toISOString()}`),new pt(`Impossibile programmare il task ${D.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(z&&z.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${D.odp_number} still has conflicts after cascading resolution`);continue}T.push({id:D.id,scheduled_start_time:z.startTime?.toISOString(),scheduled_end_time:z.endTime?.toISOString()}),z.endTime&&(k=this.roundUpToNext15MinSlot(z.endTime))}}else{const O=new Date(u);let N=this.roundUpToNext15MinSlot(this.addMinutesToDate(O,-1));for(let k=p.length-1;k>=0;k--){const D=p[k],P=[...Array.from(_)],z=await this.schedulingLogic.scheduleTaskEndingAtWithSplitting(D.id,N,this.getTaskDurationMinutes(D)/60,l.id,P);if(!z)throw console.error(`❌ Failed to schedule task ${D.odp_number} ending at ${N.toISOString()}`),new pt(`Impossibile programmare il task ${D.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(z&&z.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${D.odp_number} still has conflicts after cascading resolution (LEFT direction)`);continue}T.push({id:D.id,scheduled_start_time:z.startTime?.toISOString(),scheduled_end_time:z.endTime?.toISOString()}),z.startTime&&(N=this.roundUpToNext15MinSlot(this.addMinutesToDate(z.startTime,-1)))}}if(!M){const O=new Date(u),N=[...Array.from(_)];M=await this.scheduleTaskWithSplittingForShuntExcluding(r,O,l,N)}if(!M)throw console.error(`❌ Failed to schedule dragged task ${r.odp_number} at ${proposedStart.toISOString()}`),new pt(`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,Je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");T.push({id:r.id,scheduled_machine_id:l.id,scheduled_start_time:M.startTime?.toISOString(),scheduled_end_time:M.endTime?.toISOString(),status:"SCHEDULED"});for(const O of T)await vt.updateOdpOrder(O.id,O);return Dt.getState().hideConflictDialog(),Dt.getState().showAlert("Lavori riprogrammati con successo","success"),{success:!0}}catch(s){return console.error("❌ SHUNTING ERROR:",s),{error:(s instanceof pt?s:new pt(s.message||"Errore durante la riprogrammazione",Je.BUSINESS_LOGIC_ERROR,400,s,"ConflictResolution.resolveConflictByShunting")).message}}}}class K9{constructor(e,n){this.get=e,this.set=n,this.updateLocks=new Map}getLockKey=(e,n)=>`${e}-${n}`;acquireLock=async(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.has(i)&&await this.updateLocks.get(i);let r;const s=new Promise(a=>{r=a});return this.updateLocks.set(i,s),r};releaseLock=(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.delete(i)};loadMachineAvailabilityForDate=async e=>{const{machineAvailability:n}=this.get();if(!n[e]?._loading&&!(n[e]&&n[e].length>=0)){this.set(i=>({machineAvailability:{...i.machineAvailability,[e]:{_loading:!0}}}));try{const i=await vt.getMachineAvailabilityForDateAllMachines(e);this.set(r=>({machineAvailability:{...r.machineAvailability,[e]:i||[]}}))}catch(i){throw this.set(r=>{const s={...r.machineAvailability};return s[e]&&delete s[e]._loading,{machineAvailability:s}}),i}}};loadMachineAvailabilityForDateRange=async(e,n,i)=>{const r=n instanceof Date?Yn(n,"yyyy-MM-dd"):n,s=i instanceof Date?Yn(i,"yyyy-MM-dd"):i;try{const a=await vt.getMachineAvailabilityForDateRange(e,r,s);return this.set(l=>{const u={...l.machineAvailability};return Array.isArray(a)&&a.forEach(d=>{if(d.date&&d.unavailable_hours){const h=d.date;u[h]||(u[h]=[]);const g=u[h].find(p=>p.machine_id===e);g?g.unavailable_hours=d.unavailable_hours:u[h].push({machine_id:e,date:h,unavailable_hours:d.unavailable_hours})}}),{machineAvailability:u}}),a}catch(a){throw a}};getMachineAvailability=async(e,n)=>{try{const i=this.get().machineAvailability[n];if(i&&Array.isArray(i)){const s=i.find(a=>a.machine_id===e);if(s)return s.unavailable_hours||[]}const r=await vt.getMachineAvailabilityForDate(e,n);if(r){const s=(r.unavailable_hours||[]).map(a=>a.toString());return this.set(a=>{const l={...a.machineAvailability};l[n]||(l[n]=[]);const u=l[n].find(d=>d.machine_id===e);return u?u.unavailable_hours=s:l[n].push({machine_id:e,date:n,unavailable_hours:s}),{machineAvailability:l}}),s}return[]}catch{return[]}};loadMachineAvailabilityForMachine=async(e,n,i)=>{const r={};try{try{await vt.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let s=new Date(n);for(;s<=i;){const a=Yn(s,"yyyy-MM-dd");this.get().machineAvailability[a]||await this.loadMachineAvailabilityForDate(a);const u=this.get().machineAvailability[a];if(Array.isArray(u)){const d=u.find(h=>h.machine_id===e);d&&(r[a]=d.unavailable_hours||[])}s=Of(s,1)}return r}catch{return{}}};isTimeSlotUnavailable=async(e,n,i)=>(await this.getMachineAvailability(e,n)).includes(i.toString());setMachineAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const{getOdpOrders:s}=on.getState(),a=s().filter(p=>p.scheduled_machine_id===e&&p.status==="SCHEDULED"&&p.scheduled_start_time&&p.scheduled_end_time),[l,u,d]=n.split("-").map(Number),h=new Date(Date.UTC(l,u-1,d)),g=new Date(h.getTime()+1440*60*1e3);for(const p of a){const v=new Date(p.scheduled_start_time),b=new Date(p.scheduled_end_time);if(v<g&&b>h)for(const _ of i){const S=new Date(h.getTime()+parseInt(_)*60*60*1e3),x=new Date(S.getTime()+3600*1e3);if(S<b&&x>v)throw new pt(`Cannot set machine unavailable during scheduled task: ${p.odp_number}`,Je.BUSINESS_LOGIC_ERROR,400,null,"MachineAvailabilityManager.setMachineUnavailability")}}return await vt.setMachineAvailability(e,n,i),this.set(p=>{const v={...p.machineAvailability};v[n]||(v[n]=[]);const b=v[n].find(_=>_.machine_id===e);return b?b.unavailable_hours=i:v[n].push({machine_id:e,date:n,unavailable_hours:i}),{machineAvailability:v}}),Dt.getState().showAlert(`Machine availability updated successfully for ${n}`,"success"),!0}catch(s){const a=zr(s,"Machine Availability");throw Dt.getState().showAlert(a.message,"error"),a}finally{r(),this.releaseLock(e,n)}};toggleMachineHourAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const s=await this.getMachineAvailability(e,n),a=i.toString();let l;return s.includes(a)?l=s.filter(u=>u!==a):l=[...s,a].sort((u,d)=>parseInt(u)-parseInt(d)),await vt.setMachineAvailability(e,n,l),this.set(u=>{const d={...u.machineAvailability};d[n]||(d[n]=[]);const h=d[n].find(g=>g.machine_id===e);return h?h.unavailable_hours=l:d[n].push({machine_id:e,date:n,unavailable_hours:l}),{machineAvailability:d}}),Dt.getState().showAlert(`Time slot ${a}:00 updated successfully`,"success"),!0}catch(s){const a=zr(s,"Machine Availability");throw Dt.getState().showAlert(a.message,"error"),a}finally{r(),this.releaseLock(e,n)}};setMachineUnavailability=async(e,n,i,r,s)=>{try{const a=await vt.setUnavailableHoursForRange(e,n,i,r,s),l=new Date(n),u=new Date(i),d=await this.loadMachineAvailabilityForDateRange(e,l,u);return d&&Array.isArray(d)&&this.set(h=>{const g={...h.machineAvailability};return d.forEach(p=>{if(p.date&&p.unavailable_hours){const v=Yn(new Date(p.date),"yyyy-MM-dd");g[v]||(g[v]=[]);const b=g[v].find(_=>_.machine_id===e);b?b.unavailable_hours=p.unavailable_hours:g[v].push({machine_id:e,date:v,unavailable_hours:p.unavailable_hours})}}),{machineAvailability:g}}),a}catch(a){throw a}};isMachineAvailabilityAccessible=async()=>{try{return await vt.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}};getMachineAvailabilityStatus=async()=>{try{const e=await this.isMachineAvailabilityAccessible();return{accessible:e,message:e?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(e){return{accessible:!1,message:`Error checking table: ${e.message}`}}};initializeEmptyMachineAvailability=()=>{const{machineAvailability:e}=this.get(),n={...e};this.set({machineAvailability:n})}}const ms=yl((t,e)=>{const n=new G9(e,t),i=new K9(e,t),r=new W9(e,t,n,i),s=new Y9(e,t,r,n);return{machineAvailability:{},shuntPreview:null,splitTasksInfo:{},getMachineAvailabilityState:()=>e().machineAvailability,getSplitTaskInfo:a=>n.getSplitTaskInfo(a),setMachineAvailabilityState:a=>t({machineAvailability:a}),setShuntPreview:a=>t({shuntPreview:a}),clearShuntPreview:()=>t({shuntPreview:null}),setSplitTaskInfo:n.setSplitTaskInfo,clearSplitTaskInfo:n.clearSplitTaskInfo,updateSplitTaskInfo:n.updateSplitTaskInfo,restoreSplitTaskInfo:n.restoreSplitTaskInfo,updateTaskWithSplitInfo:n.updateTaskWithSplitInfo,getTaskOccupiedSegments:n.getTaskOccupiedSegments,checkTaskOverlap:n.checkTaskOverlap,checkMachineOverlaps:n.checkMachineOverlaps,migrateExistingTasksToSegmentFormat:n.migrateExistingTasksToSegmentFormat,verifyAllTasksHaveSegmentInfo:n.verifyAllTasksHaveSegmentInfo,createAbsoluteDate:r.createAbsoluteDate,splitTaskAcrossAvailableSlots:r.splitTaskAcrossAvailableSlots,collectUnavailableSlots:r.collectUnavailableSlots,scheduleTaskWithSplitting:r.scheduleTaskWithSplitting,findAdjacentTasksChain:r.findAdjacentTasksChain,handleTaskDurationShrinking:r.handleTaskDurationShrinking,scheduleTaskFromSlot:async(a,l,u,d,h,g=null,p=null)=>{const{startSchedulingOperation:v,stopSchedulingOperation:b}=Dt.getState();try{v("schedule",a);const{getOrderById:_,getOdpOrders:S}=on.getState(),{getMachineById:x}=Er.getState(),A=_(a),T=x(l.id),M=S();if(!A||!T)return{error:"Task or machine not found"};const O=u.getUTCFullYear(),N=u.getUTCMonth()+1,k=u.getUTCDate(),D=r.createAbsoluteDate(O,N,k,d,h),P=g||A.time_remaining||A.duration||1;console.log("🎯 SCHEDULER: Using duration:",P,"overrideDuration:",g);const z={machine:l.id,start_time:D.toISOString(),end_time:gD(D,P).toISOString()};console.log("🎯 SCHEDULER: Calling scheduleTask with:",{taskId:a,scheduleData:z,overrideDuration:g});const B=await e().scheduleTask(a,z,M,g,p);return console.log("🎯 SCHEDULER: scheduleTask result:",B),B}catch(_){return{error:zr(_,"SchedulerStore.scheduleTaskFromSlot").message}}finally{b()}},rescheduleTaskToSlot:async(a,l,u,d,h,g=null)=>{const{startSchedulingOperation:p,stopSchedulingOperation:v}=Dt.getState();try{p("reschedule",a);const{getOrderById:b,getOdpOrders:_}=on.getState(),{getMachineById:S}=Er.getState(),x=b(a),A=S(l.id),T=_();if(!x||!A)return{error:"Event or machine not found"};const M=u.getUTCFullYear(),O=u.getUTCMonth()+1,N=u.getUTCDate(),k=r.createAbsoluteDate(M,O,N,d,h),D=x.time_remaining||x.duration||1,P={machine:l.id,start_time:k.toISOString(),end_time:gD(k,D).toISOString()};return await e().scheduleTask(a,P,T,null,g)}catch(b){return{error:zr(b,"SchedulerStore.rescheduleTaskToSlot").message}}finally{v()}},scheduleTask:async(a,l,u=null,d=null,h=null)=>{try{console.log("🎯 SCHEDULER: scheduleTask called with:",{taskId:a,eventData:l,overrideDuration:d});const{getOrderById:g,getOdpOrders:p}=on.getState(),{getMachineById:v}=Er.getState(),b=g(a),_=v(l.machine),S=u||p();if(console.log("🎯 SCHEDULER: Task found:",b?.odp_number,"Machine found:",_?.name),b&&_&&b.work_center&&_.work_center&&b.work_center!==_.work_center)return{error:`Work center mismatch: task requires '${b.work_center}' but machine is '${_.work_center}'`};const x=new Date(l.start_time),A=d||b.time_remaining||b.duration||1;console.log("🎯 SCHEDULER: scheduleTask using duration:",A,"overrideDuration:",d),console.log("🎯 SCHEDULER: Calling scheduleTaskWithSplitting with:",{taskId:a,newStart:x.toISOString(),timeRemainingHours:A,machineId:l.machine});const T=await r.scheduleTaskWithSplitting(a,x,A,l.machine);if(console.log("🎯 SCHEDULER: scheduleTaskWithSplitting result:",T),!T)return{error:"No available time slots found for this task"};if(T.conflict)return{conflict:!0,conflictingTask:T.conflictingTask,draggedTask:b,proposedStartTime:l.start_time,proposedEndTime:l.end_time,machine:_,conflictingSegment:T.conflictingSegment,proposedSegments:T.proposedSegments,tasks:S};l.start_time=T.startTime.toISOString(),l.end_time=T.endTime.toISOString();const M={scheduled_machine_id:l.machine,scheduled_start_time:l.start_time,scheduled_end_time:l.end_time,status:"SCHEDULED"};if(T.segments){const k={segments:T.segments,totalSegments:T.segments.length,originalDuration:T.originalDuration||b.time_remaining||b.duration||1,wasSplit:T.wasSplit||!1};M.description=JSON.stringify(k)}const{apiService:O}=await Kr(async()=>{const{apiService:k}=await Promise.resolve().then(()=>A_);return{apiService:k}},void 0),N=await O.updateOdpOrder(a,M);if(T.segments){const k={segments:T.segments,totalSegments:T.segments.length,originalDuration:T.originalDuration||b.time_remaining||b.duration||1,wasSplit:T.wasSplit||!1};n.setSplitTaskInfo(a,k)}return h&&(h.invalidateQueries({queryKey:["orders"]}),h.invalidateQueries({queryKey:["orders",a]})),{success:!0,updatedTask:N,schedulingResult:T}}catch(g){return{error:zr(g,"SchedulerStore.scheduleTask").message}}},unscheduleTask:async(a,l=null)=>{const{startSchedulingOperation:u,stopSchedulingOperation:d}=Dt.getState();try{u("unschedule",a),n.clearSplitTaskInfo(a);const h={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,status:"NOT SCHEDULED",description:""},{apiService:g}=await Kr(async()=>{const{apiService:p}=await Promise.resolve().then(()=>A_);return{apiService:p}},void 0);return await g.updateOdpOrder(a,h),l&&(l.invalidateQueries({queryKey:["orders"]}),l.invalidateQueries({queryKey:["orders",a]})),{success:!0}}catch(h){return{error:zr(h,"SchedulerStore.unscheduleTask").message}}finally{d()}},loadMachineAvailabilityForDate:i.loadMachineAvailabilityForDate,loadMachineAvailabilityForDateRange:i.loadMachineAvailabilityForDateRange,getMachineAvailability:i.getMachineAvailability,loadMachineAvailabilityForMachine:i.loadMachineAvailabilityForMachine,isTimeSlotUnavailable:i.isTimeSlotUnavailable,setMachineAvailability:i.setMachineAvailability,toggleMachineHourAvailability:i.toggleMachineHourAvailability,setMachineUnavailability:i.setMachineUnavailability,isMachineAvailabilityAccessible:i.isMachineAvailabilityAccessible,getMachineAvailabilityStatus:i.getMachineAvailabilityStatus,initializeEmptyMachineAvailability:i.initializeEmptyMachineAvailability,resolveConflictByShunting:async(a,l,u=null)=>{const{startSchedulingOperation:d,stopSchedulingOperation:h}=Dt.getState();try{d("shunt",a.draggedTask?.id);const{getOdpOrders:g}=on.getState(),p=g(),v=await s.resolveConflictByShunting(a,l,p,a.draggedTask);if(v&&!v.error&&u){console.log("🔄 SHUNTING: Invalidating React Query cache to refresh UI");const b=[u.invalidateQueries({queryKey:["orders"]}),u.invalidateQueries({queryKey:["machines"]})];a.draggedTask?.id&&b.push(u.invalidateQueries({queryKey:["orders",a.draggedTask.id]})),await Promise.all(b)}return v}catch(g){return console.error("❌ SHUNTING ERROR in scheduler store:",g),{error:g.message||"Errore durante lo spostamento del task"}}finally{h()}},validateSlotAvailability:async(a,l,u,d)=>{try{const h=Yn(l,"yyyy-MM-dd");if(await e().isTimeSlotUnavailable(a.id,h,u))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:p}=on.getState(),v=new Date(l);v.setUTCHours(u,d,0,0);const b=new Date(v.getTime()+3600*1e3),_=p().filter(S=>S.scheduled_machine_id===a.id&&S.status==="SCHEDULED"&&S.scheduled_start_time);for(const S of _){const x=new Date(S.scheduled_start_time),A=S.time_remaining||S.duration||1,T=new Date(x.getTime()+A*60*60*1e3);if(v<T&&b>x)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch(h){return{error:zr(h,"SchedulerStore.validateSlotAvailability").message}}},getEventsByDate:async a=>{try{return await vt.getEventsByDate(a)}catch{return[]}},reset:()=>t({machineAvailability:{},shuntPreview:null,splitTasksInfo:{}})}}),Q9=(t,e)=>{const n=s=>{Z9(s)},i=s=>{J9(s)},r=s=>{e7(s)};return vt.setupRealtimeSubscriptions(n,i,r)},e0=(t,e)=>{const{realtimeChannel:n}=t();n&&(vt.cleanupRealtimeSubscriptions(n),e({realtimeChannel:null}))};let Bc=null;const X9=()=>{typeof window<"u"&&Bc&&(window.removeEventListener("beforeunload",Bc),Bc=null)},Z9=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t,{updateSplitTaskInfo:a}=ms.getState();(i==="INSERT"&&r.status==="SCHEDULED"||i==="UPDATE")&&a(r.id,r),console.log(`Orders ${i.toLowerCase()}:`,r||s)},J9=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t;console.log(`Machines ${i.toLowerCase()}:`,r||s)},e7=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t;console.log(`Phases ${i.toLowerCase()}:`,r||s)},vo=yl((t,e)=>({isInitializing:!1,realtimeChannel:null,init:async()=>{const{getInitializationState:n,setLoading:i,setInitialized:r,showAlert:s}=Dt.getState(),{initializeEmptyMachineAvailability:a}=ms.getState();if(!n()){if(e().isInitializing)return new Promise(l=>{const u=()=>{n()?l():setTimeout(u,100)};u()});t({isInitializing:!0}),i(!0);try{let l=!1,u=0;const d=3;for(;!l&&u<d;)try{await vt.init(),l=!0}catch(h){u++;const g=zr(h,"API Service Initialization");if(u>=d)throw i(!1),r(!1),s("Unable to connect to the server. Please check your internet connection and refresh the page.","error"),new pt("API service initialization failed after multiple attempts","CRITICAL_INIT_ERROR",503,g,"Store Initialization");const p=Math.min(1e3*Math.pow(2,u-1),1e4);await new Promise(v=>setTimeout(v,p)),s(`Connection attempt ${u} failed. Retrying...`,"warning")}try{a();const{restoreSplitTaskInfo:h,migrateExistingTasksToSegmentFormat:g}=ms.getState();h(),await g();const{realtimeChannel:p}=e();if(!p)try{const v=Q9(t,e);v&&(t({realtimeChannel:v}),typeof window<"u"&&!Bc&&(Bc=()=>{e0(e,t)},window.addEventListener("beforeunload",Bc)))}catch(v){const b=zr(v,"Real-time Subscriptions Setup");s("Warning: Real-time updates are not available. Data may not update automatically.","warning")}i(!1),r(!0),t({isInitializing:!1}),s("Application initialized successfully. Data will be loaded via React Query.","success")}catch(h){const g=zr(h,"Data Processing");throw i(!1),r(!1),t({isInitializing:!1}),s("Failed to process application data. Please refresh the page.","error"),g}}catch(l){const u=l instanceof pt?l:zr(l,"Store Initialization");throw i(!1),r(!1),t({isInitializing:!1}),u.code==="CRITICAL_INIT_ERROR"?s("Critical initialization error. Please contact support if the problem persists.","error"):s("Application initialization failed. Please refresh the page or contact support.","error"),u}}},refreshData:()=>{console.warn("refreshData is deprecated. Use React Query invalidation instead.")},debugData:()=>{const{getMachines:n}=Er.getState(),{getOdpOrders:i}=on.getState(),{getPhases:r}=Nc.getState(),s=n().map(u=>u.id);s.filter((u,d)=>s.indexOf(u)!==d);const a=i().map(u=>u.id);a.filter((u,d)=>a.indexOf(u)!==d);const l=r().map(u=>u.id);l.filter((u,d)=>l.indexOf(u)!==d)},cleanupDuplicates:()=>{const{cleanupDuplicateMachines:n}=Er.getState(),{cleanupDuplicateOrders:i}=on.getState(),{cleanupDuplicatePhases:r}=Nc.getState();n(),i(),r()},reset:()=>{e0(e,t);const{reset:n}=Er.getState(),{reset:i}=on.getState(),{reset:r}=Nc.getState(),{reset:s}=ms.getState(),{reset:a}=Dt.getState();n(),i(),r(),s(),a(),t({isInitializing:!1,realtimeChannel:null})},cleanup:()=>{e0(e,t),X9()},getState:()=>{const{getMachines:n}=Er.getState(),{getOdpOrders:i}=on.getState(),{getPhases:r}=Nc.getState(),{getLoadingState:s,getInitializationState:a}=Dt.getState();return{machines:n(),odpOrders:i(),phases:r(),machineAvailability:ms.getState().getMachineAvailabilityState(),isLoading:s(),isInitialized:a()}}})),uP=()=>{const t=C.useCallback(d=>{if(!d||!d.department)return{isValid:!1,error:"Invalid phase data"};const{department:h}=d;if(h==="STAMPA"){const g=parseFloat(d.v_stampa);if(isNaN(g)||g<=0)return{isValid:!1,error:"Velocità di stampa non valida. Inserisci un valore maggiore di zero."}}else if(h==="CONFEZIONAMENTO"){const g=parseFloat(d.v_conf);if(isNaN(g)||g<=0)return{isValid:!1,error:"Velocità di confezionamento non valida. Inserisci un valore maggiore di zero."}}else return{isValid:!1,error:"Reparto non riconosciuto"};return{isValid:!0}},[]),e=C.useCallback((d,h,g)=>{if(!d||!h||d.department==="STAMPA"&&!g||!t(d).isValid)return null;try{const{department:v}=d;if(v==="STAMPA"){const b=parseFloat(d.v_stampa),_=parseFloat(d.t_setup_stampa)||0,S=parseFloat(d.costo_h_stampa)||0;if(isNaN(b)||b<=0)return null;const A=g*h/1e3/b,T=A+_,M=T*S;return{totals:{duration:T,cost:M},breakdown:{print:{time:A,cost:A*S},setup:{time:_,cost:_*S}}}}else if(v==="CONFEZIONAMENTO"){const b=parseFloat(d.v_conf),_=parseFloat(d.t_setup_conf)||0,S=parseFloat(d.costo_h_conf)||0;if(isNaN(b)||b<=0)return null;const x=h/b,A=_,T=x+A,M=T*S;return{totals:{duration:T,cost:M},breakdown:{package:{time:x,cost:x*S},setup:{time:A,cost:A*S}}}}return null}catch{return null}},[t]),n=C.useCallback(d=>d&&(d.startsWith("P05")||d.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),i=C.useCallback(d=>d&&d.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),r=C.useCallback(d=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[d]||[],[]),s=C.useCallback((d,h)=>{const p={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[d]||"MACH",v=h==="BUSTO_GAROLFO"?"BGF":"ZAN",b=Date.now().toString(36);return`${p}_${v}_${b}`},[]),a=C.useCallback((d,h)=>!(h<0||h>d),[]),l=C.useCallback((d,h)=>!d||d===0?0:Math.round(h*100/d),[]),u=C.useCallback((d,h)=>!d||d===0?0:!h||h===0?d:Math.round(d*(1-h/100)*100)/100,[]);return{calculateProductionMetrics:e,validatePhaseParameters:t,autoDetermineWorkCenter:n,autoDetermineDepartment:i,getValidMachineTypes:r,generateMachineId:s,validateQuantityCompleted:a,calculateCompletionRate:l,calculateTimeRemaining:u}};var t0,wD;function t7(){if(wD)return t0;wD=1;function t(x){this._maxSize=x,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(x){return this._values[x]},t.prototype.set=function(x,A){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=A};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),u=new t(a),d=new t(a);t0={Cache:t,split:g,normalizePath:h,setter:function(x){var A=h(x);return u.get(x)||u.set(x,function(M,O){for(var N=0,k=A.length,D=M;N<k-1;){var P=A[N];if(P==="__proto__"||P==="constructor"||P==="prototype")return M;D=D[A[N++]]}D[A[N]]=O})},getter:function(x,A){var T=h(x);return d.get(x)||d.set(x,function(O){for(var N=0,k=T.length;N<k;)if(O!=null||!A)O=O[T[N++]];else return;return O})},join:function(x){return x.reduce(function(A,T){return A+(v(T)||n.test(T)?"["+T+"]":(A?".":"")+T)},"")},forEach:function(x,A,T){p(Array.isArray(x)?x:g(x),A,T)}};function h(x){return l.get(x)||l.set(x,g(x).map(function(A){return A.replace(s,"$2")}))}function g(x){return x.match(e)||[""]}function p(x,A,T){var M=x.length,O,N,k,D;for(N=0;N<M;N++)O=x[N],O&&(S(O)&&(O='"'+O+'"'),D=v(O),k=!D&&/^\d+$/.test(O),A.call(T,O,D,k,N,x))}function v(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function b(x){return x.match(i)&&!x.match(n)}function _(x){return r.test(x)}function S(x){return!v(x)&&(b(x)||_(x))}return t0}var al=t7(),n0,SD;function n7(){if(SD)return n0;SD=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(t)||[],n=h=>h[0].toUpperCase()+h.slice(1),i=(h,g)=>e(h).join(g).toLowerCase(),r=h=>e(h).reduce((g,p)=>`${g}${g?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return n0={words:e,upperFirst:n,camelCase:r,pascalCase:h=>n(r(h)),snakeCase:h=>i(h,"_"),kebabCase:h=>i(h,"-"),sentenceCase:h=>n(i(h," ")),titleCase:h=>e(h).map(n).join(" ")},n0}var i0=n7(),Dg={exports:{}},xD;function i7(){if(xD)return Dg.exports;xD=1,Dg.exports=function(r){return t(e(r),r)},Dg.exports.array=t;function t(r,s){var a=r.length,l=new Array(a),u={},d=a,h=n(s),g=i(r);for(s.forEach(function(v){if(!g.has(v[0])||!g.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)u[d]||p(r[d],d,new Set);return l;function p(v,b,_){if(_.has(v)){var S;try{S=", node was:"+JSON.stringify(v)}catch{S=""}throw new Error("Cyclic dependency"+S)}if(!g.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!u[b]){u[b]=!0;var x=h.get(v)||new Set;if(x=Array.from(x),b=x.length){_.add(v);do{var A=x[--b];p(A,g.get(A),_)}while(b);_.delete(v)}l[--a]=v}}}function e(r){for(var s=new Set,a=0,l=r.length;a<l;a++){var u=r[a];s.add(u[0]),s.add(u[1])}return Array.from(s)}function n(r){for(var s=new Map,a=0,l=r.length;a<l;a++){var u=r[a];s.has(u[0])||s.set(u[0],new Set),s.has(u[1])||s.set(u[1],new Set),s.get(u[0]).add(u[1])}return s}function i(r){for(var s=new Map,a=0,l=r.length;a<l;a++)s.set(r[a],a);return s}return Dg.exports}var r7=i7();const s7=bf(r7),a7=Object.prototype.toString,o7=Error.prototype.toString,l7=RegExp.prototype.toString,c7=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",u7=/^Symbol\((.*)\)(.*)$/;function d7(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function ED(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return d7(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return c7.call(t).replace(u7,"Symbol($1)");const i=a7.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+o7.call(t)+"]":i==="RegExp"?l7.call(t):null}function ra(t,e){let n=ED(t,e);return n!==null?n:JSON.stringify(t,function(i,r){let s=ED(this[i],e);return s!==null?s:r},2)}function dP(t){return t==null?[]:[].concat(t)}let fP,hP,gP,f7=/\$\{\s*(\w+)\s*\}/g;fP=Symbol.toStringTag;class CD{constructor(e,n,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[fP]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=r,this.errors=[],this.inner=[],dP(e).forEach(s=>{if(pi.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}hP=Symbol.hasInstance;gP=Symbol.toStringTag;class pi extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(f7,(r,s)=>ra(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,r,s){const a=new CD(e,n,i,r);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[gP]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,pi)}static[hP](e){return CD[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let fs={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const r=i!=null&&i!==n?` (cast from the value \`${ra(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${ra(n,!0)}\``+r:`${t} must match the configured type. The validated value was: \`${ra(n,!0)}\``+r}},Oi={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},qa={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},T_={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},h7={isValue:"${path} field must be ${value}"},im={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},rm={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},g7={notType:t=>{const{path:e,value:n,spec:i}=t,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${n.length} for value: \`${ra(n,!0)}\``;if(n.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${n.length} for value: \`${ra(n,!0)}\``}return pi.formatError(fs.notType,t)}};Object.assign(Object.create(null),{mixed:fs,string:Oi,number:qa,date:T_,object:im,array:rm,boolean:h7,tuple:g7});const Mp=t=>t&&t.__isYupSchema__;class Nm{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=n,a=typeof i=="function"?i:(...l)=>l.every(u=>u===i);return new Nm(e,(l,u)=>{var d;let h=a(...l)?r:s;return(d=h?.(u))!=null?d:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(s=>s.getValue(n?.value,n?.parent,n?.context)),r=this.fn(i,e,n);if(r===void 0||r===e)return e;if(!Mp(r))throw new TypeError("conditions must return a schema object");return r.resolve(n)}}const Og={context:"$",value:"."};class El{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Og.context,this.isValue=this.key[0]===Og.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Og.context:this.isValue?Og.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&al.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let r=this.isContext?i:this.isValue?e:n;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}El.prototype.__isYupRef=!0;const ea=t=>t==null;function Ac(t){function e({value:n,path:i="",options:r,originalValue:s,schema:a},l,u){const{name:d,test:h,params:g,message:p,skipAbsent:v}=t;let{parent:b,context:_,abortEarly:S=a.spec.abortEarly,disableStackTrace:x=a.spec.disableStackTrace}=r;const A={value:n,parent:b,context:_};function T(B={}){const Q=mP(Object.assign({value:n,originalValue:s,label:a.spec.label,path:B.path||i,spec:a.spec,disableStackTrace:B.disableStackTrace||x},g,B.params),A),ne=new pi(pi.formatError(B.message||p,Q),n,Q.path,B.type||d,Q.disableStackTrace);return ne.params=Q,ne}const M=S?l:u;let O={path:i,parent:b,type:d,from:r.from,createError:T,resolve(B){return pP(B,A)},options:r,originalValue:s,schema:a};const N=B=>{pi.isError(B)?M(B):B?u(null):M(T())},k=B=>{pi.isError(B)?M(B):l(B)};if(v&&ea(n))return N(!0);let P;try{var z;if(P=h.call(O,n,O),typeof((z=P)==null?void 0:z.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${O.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(N,k)}}catch(B){k(B);return}N(P)}return e.OPTIONS=t,e}function mP(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=pP(t[n],e);return t}function pP(t,e){return El.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function m7(t,e,n,i=n){let r,s,a;return e?(al.forEach(e,(l,u,d)=>{let h=u?l.slice(1,l.length-1):l;t=t.resolve({context:i,parent:r,value:n});let g=t.type==="tuple",p=d?parseInt(h,10):0;if(t.innerType||g){if(g&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);r=n,n=n&&n[p],t=g?t.spec.types[p]:t.innerType}if(!d){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);r=n,n=n&&n[h],t=t.fields[h]}s=h,a=u?"["+l+"]":"."+l}),{schema:t,parent:r,parentPath:s}):{parent:r,parentPath:e,schema:t}}class Im extends Set{describe(){const e=[];for(const n of this.values())e.push(El.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new Im(this.values())}merge(e,n){const i=this.clone();return e.forEach(r=>i.add(r)),n.forEach(r=>i.delete(r)),i}}function Pc(t,e=new Map){if(Mp(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=Pc(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,r]of t.entries())n.set(i,Pc(r,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(Pc(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,r]of Object.entries(t))n[i]=Pc(r,e)}else throw Error(`Unable to clone ${t}`);return n}function p7(t){if(!(t!=null&&t.length))return;const e=[];let n="",i=!1,r=!1;for(let s=0;s<t.length;s++){const a=t[s];if(a==="["&&!r){n&&(e.push(...n.split(".").filter(Boolean)),n=""),i=!0;continue}if(a==="]"&&!r){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),i=!1;continue}if(a==='"'){r=!r;continue}if(a==="."&&!i&&!r){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function v7(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(i=>({message:i,path:p7(n)}))}function vP(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return v7(t,e);const i=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(r=>vP(r,i))}class Tr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Im,this._blacklist=new Im,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(fs.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Pc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const r=Object.assign({},n.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((r,s)=>s.resolve(r,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,r,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({},n,{value:e})),r=n.assert==="ignore-optionality",s=i._cast(e,n);if(n.assert!==!1&&!i.isType(s)){if(r&&ea(s))return s;let a=ra(e),l=ra(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return s}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((r,s)=>s.call(this,r,e,this,n),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,r){let{path:s,originalValue:a=e,strict:l=this.spec.strict}=n,u=e;l||(u=this._cast(u,Object.assign({assert:!1},n)));let d=[];for(let h of Object.values(this.internalTests))h&&d.push(h);this.runTests({path:s,value:u,originalValue:a,options:n,tests:d},i,h=>{if(h.length)return r(h,u);this.runTests({path:s,value:u,originalValue:a,options:n,tests:this.tests},i,r)})}runTests(e,n,i){let r=!1,{tests:s,value:a,originalValue:l,path:u,options:d}=e,h=_=>{r||(r=!0,n(_,a))},g=_=>{r||(r=!0,i(_,a))},p=s.length,v=[];if(!p)return g([]);let b={value:a,originalValue:l,path:u,options:d,schema:this};for(let _=0;_<s.length;_++){const S=s[_];S(b,h,function(A){A&&(Array.isArray(A)?v.push(...A):v.push(A)),--p<=0&&g(v)})}}asNestedTest({key:e,index:n,parent:i,parentPath:r,originalParent:s,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let d=i[l];const h=Object.assign({},a,{strict:!0,parent:i,value:d,originalValue:s[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${r||""}[${u?l:`"${l}"`}]`:(r?`${r}.`:"")+e});return(g,p,v)=>this.resolve(h)._validate(d,h,p,v)}validate(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((a,l)=>r._validate(e,n,(u,d)=>{pi.isError(u)&&(u.value=d),l(u)},(u,d)=>{u.length?l(new pi(u,d,void 0,void 0,s)):a(d)}))}validateSync(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s,a=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},n,{sync:!0}),(l,u)=>{throw pi.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new pi(l,e,void 0,void 0,a);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(pi.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(pi.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Pc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=Ac({message:n,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=Ac({message:n,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=fs.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=fs.notNull){return this.nullability(!1,e)}required(e=fs.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=fs.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=Ac(n),s=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===n.name&&(s||a.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),r=dP(e).map(s=>new El(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof n=="function"?new Nm(r,n):Nm.fromOptions(r,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=Ac({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=fs.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=Ac({message:n,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),i}notOneOf(e,n=fs.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=Ac({message:n,name:"notOneOf",test(r){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:s,nullable:a}=n.spec;return{meta:r,label:i,optional:s,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((u,d,h)=>h.findIndex(g=>g.OPTIONS.name===u.OPTIONS.name)===d).map(u=>{const d=u.OPTIONS.params&&e?mP(Object.assign({},u.OPTIONS.params),e):u.OPTIONS.params;return{name:u.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(r){if(r instanceof pi)return{issues:vP(r)};throw r}}}}}Tr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Tr.prototype[`${t}At`]=function(e,n,i={}){const{parent:r,parentPath:s,schema:a}=m7(this,e,n,i.context);return a[t](r&&r[s],Object.assign({},i,{parent:r,path:e}))};for(const t of["equals","is"])Tr.prototype[t]=Tr.prototype.oneOf;for(const t of["not","nope"])Tr.prototype[t]=Tr.prototype.notOneOf;const y7=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function b7(t){const e=R_(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function R_(t){var e,n;const i=y7.exec(t);return i?{year:qs(i[1]),month:qs(i[2],1)-1,day:qs(i[3],1),hour:qs(i[4]),minute:qs(i[5]),second:qs(i[6]),millisecond:i[7]?qs(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:qs(i[10]),minuteOffset:qs(i[11])}:null}function qs(t,e=0){return Number(t)||e}let _7=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,w7=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,S7=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,x7="^\\d{4}-\\d{2}-\\d{2}",E7="\\d{2}:\\d{2}:\\d{2}",C7="(([+-]\\d{2}(:?\\d{2})?)|Z)",A7=new RegExp(`${x7}T${E7}(\\.\\d+)?${C7}$`),T7=t=>ea(t)||t===t.trim(),R7={}.toString();function ki(){return new yP}class yP extends Tr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===R7?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||fs.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Oi.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=Oi.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=Oi.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,r,s;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:s}=n:r=n),this.test({name:s||"matches",message:r||Oi.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&i||a.search(e)!==-1})}email(e=Oi.email){return this.matches(_7,{name:"email",message:e,excludeEmptyString:!0})}url(e=Oi.url){return this.matches(w7,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Oi.uuid){return this.matches(S7,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,r;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:r=void 0}=e:n=e),this.matches(A7,{name:"datetime",message:n||Oi.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Oi.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:s=>{if(!s||i)return!0;const a=R_(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Oi.datetime_precision,params:{precision:r},skipAbsent:!0,test:s=>{if(!s||r==null)return!0;const a=R_(s);return a?a.precision===r:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Oi.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:T7})}lowercase(e=Oi.lowercase){return this.transform(n=>ea(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ea(n)||n===n.toLowerCase()})}uppercase(e=Oi.uppercase){return this.transform(n=>ea(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ea(n)||n===n.toUpperCase()})}}ki.prototype=yP.prototype;let D7=t=>t!=+t;function Ln(){return new bP}class bP extends Tr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!D7(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return this.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=qa.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=qa.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=qa.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=qa.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=qa.positive){return this.moreThan(0,e)}negative(e=qa.negative){return this.lessThan(0,e)}integer(e=qa.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>ea(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(r=>ea(r)?r:Math[e](r))}}Ln.prototype=bP.prototype;let _P=new Date(""),O7=t=>Object.prototype.toString.call(t)==="[object Date]";function Id(){return new Mf}class Mf extends Tr{constructor(){super({type:"date",check(e){return O7(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=b7(e),isNaN(e)?Mf.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(El.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,n=T_.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,n=T_.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}Mf.INVALID_DATE=_P;Id.prototype=Mf.prototype;Id.INVALID_DATE=_P;function M7(t,e=[]){let n=[],i=new Set,r=new Set(e.map(([a,l])=>`${a}-${l}`));function s(a,l){let u=al.split(a)[0];i.add(u),r.has(`${l}-${u}`)||n.push([l,u])}for(const a of Object.keys(t)){let l=t[a];i.add(a),El.isRef(l)&&l.isSibling?s(l.path,a):Mp(l)&&"deps"in l&&l.deps.forEach(u=>s(u,a))}return s7.array(Array.from(i),n).reverse()}function AD(t,e){let n=1/0;return t.some((i,r)=>{var s;if((s=e.path)!=null&&s.includes(i))return n=r,!0}),n}function wP(t){return(e,n)=>AD(t,e)-AD(t,n)}const SP=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function sm(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=sm(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=sm(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(sm)}):"optional"in t?t.optional():t}const k7=(t,e)=>{const n=[...al.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),r=al.getter(al.join(n),!0)(t);return!!(r&&i in r)};let TD=t=>Object.prototype.toString.call(t)==="[object Object]";function RD(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const N7=wP([]);function yo(t){return new xP(t)}class xP extends Tr{constructor(e){super({type:"object",check(n){return TD(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=N7,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let r=super._cast(e,n);if(r===void 0)return this.getDefault(n);if(!this._typeCheck(r))return r;let s=this.fields,a=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(r).filter(g=>!this._nodes.includes(g))),u={},d=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const g of l){let p=s[g],v=g in r,b=r[g];if(p){let _;d.path=(n.path?`${n.path}.`:"")+g,p=p.resolve({value:b,context:n.context,parent:u});let S=p instanceof Tr?p.spec:void 0,x=S?.strict;if(S!=null&&S.strip){h=h||g in r;continue}_=!n.__validating||!x?p.cast(b,d):b,_!==void 0&&(u[g]=_)}else v&&!a&&(u[g]=b);(v!==g in u||u[g]!==b)&&(h=!0)}return h?u:r}_validate(e,n={},i,r){let{from:s=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...s],n.__validating=!0,n.originalValue=a,super._validate(e,n,i,(u,d)=>{if(!l||!TD(d)){r(u,d);return}a=a||d;let h=[];for(let g of this._nodes){let p=this.fields[g];!p||El.isRef(p)||h.push(p.asNestedTest({options:n,key:g,parent:d,parentPath:n.path,originalParent:a}))}this.runTests({tests:h,value:d,originalValue:a,options:n},i,g=>{r(g.sort(this._sortErrors).concat(u),d)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[r,s]of Object.entries(this.fields)){const a=i[r];i[r]=a===void 0?s:a}return n.withMutation(r=>r.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var r;const s=this.fields[i];let a=e;(r=a)!=null&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n[i]=s&&"getDefault"in s?s.getDefault(a):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=M7(e,n),i._sortErrors=wP(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),r=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),r)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return sm(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,r])=>e.includes(i)&&e.includes(r)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let r=al.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return k7(s,e)&&(a=Object.assign({},s),i||delete a[e],a[n]=r(s)),a})}json(){return this.transform(SP)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||im.exact,test(n){if(n==null)return!0;const i=RD(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=im.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(r){if(r==null)return!0;const s=RD(this.schema,r);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=im.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const r of Object.keys(n))i[e(r)]=n[r];return i})}camelCase(){return this.transformKeys(i0.camelCase)}snakeCase(){return this.transformKeys(i0.snakeCase)}constantCase(){return this.transformKeys(e=>i0.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[s,a]of Object.entries(n.fields)){var r;let l=e;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),i.fields[s]=a.describe(l)}return i}}yo.prototype=xP.prototype;function EP(t){return new CP(t)}class CP extends Tr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const i=super._cast(e,n);if(!this._typeCheck(i)||!this.innerType)return i;let r=!1;const s=i.map((a,l)=>{const u=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${l}]`,parent:i,originalValue:a,value:a,index:l}));return u!==a&&(r=!0),u});return r?s:i}_validate(e,n={},i,r){var s;let a=this.innerType,l=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,i,(u,d)=>{var h;if(!l||!a||!this._typeCheck(d)){r(u,d);return}let g=new Array(d.length);for(let v=0;v<d.length;v++){var p;g[v]=a.asNestedTest({options:n,index:v,parent:d,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:d,tests:g,originalValue:(h=n.originalValue)!=null?h:e,options:n},i,v=>r(v.concat(u),d))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(SP)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Mp(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ra(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=rm.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n){return n=n||rm.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n){return n=n||rm.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(i,r,s)=>!e(i,r,s):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);if(n.innerType){var r;let s=e;(r=s)!=null&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),i.innerType=n.innerType.describe(s)}return i}}EP.prototype=CP.prototype;const ln=ki().required("This field is required");Ln().required("This field is required").min(0,"Value must be at least 0");const cs=Ln().nullable().transform(t=>isNaN(t)?null:t).min(0,"Value must be at least 0"),I7=t=>t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0,P7=yo({machine_name:ln.min(2,"Machine name must be at least 2 characters").max(100,"Machine name must be at most 100 characters").matches(/^[a-zA-Z0-9\s\-_]+$/,"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"),machine_type:ln,department:ln.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:ln.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),status:ln.oneOf(["ACTIVE","INACTIVE"],"Invalid status"),min_web_width:cs,max_web_width:cs,min_bag_height:cs,max_bag_height:cs,standard_speed:cs,setup_time_standard:cs,changeover_color:cs,changeover_material:cs,active_shifts:EP().of(ki().oneOf(["T1","T2","T3"]))}).test("web-width-logic","Minimum web width cannot exceed maximum web width",function(t){return t.min_web_width&&t.max_web_width?t.min_web_width<=t.max_web_width:!0}).test("bag-height-logic","Minimum bag height cannot exceed maximum bag height",function(t){return t.min_bag_height&&t.max_bag_height?t.min_bag_height<=t.max_bag_height:!0}),j7=yo({name:ln.min(2,"Phase name must be at least 2 characters").max(100,"Phase name must be at most 100 characters"),department:ln.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:ln.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),numero_persone:Ln().required("Number of people is required").min(1,"Number of people must be at least 1"),bag_width:cs,bag_step:cs,v_stampa:Ln().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Printing speed must be greater than 0")}),t_setup_stampa:Ln().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_stampa:Ln().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Hourly cost cannot be negative")}),v_conf:Ln().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Packaging speed must be greater than 0")}),t_setup_conf:Ln().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_conf:Ln().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Hourly cost cannot be negative")})}).test("bag-width-step-logic","Bag width cannot be less than bag step",I7),DD=yo({odp_number:ln.min(1,"Il numero ODP è obbligatorio"),article_code:ln.min(1,"Il codice articolo è obbligatorio"),work_center:ln.oneOf(["ZANICA","BUSTO_GAROLFO"],"Seleziona un centro di lavoro valido"),nome_cliente:ln.min(1,"Il nome del cliente è obbligatorio"),quantity:Ln().required("La quantità è obbligatoria").min(0,"La quantità deve essere maggiore o uguale a 0").typeError("La quantità deve essere un numero valido"),delivery_date:Id().required("La data di consegna è obbligatoria").typeError("Inserisci una data di consegna valida"),customer_order_ref:ln.min(1,"Il riferimento ordine cliente è obbligatorio"),department:ln.oneOf(["STAMPA","CONFEZIONAMENTO"],"Seleziona un reparto valido"),status:ki().oneOf(["NOT SCHEDULED","SCHEDULED","IN PROGRESS","COMPLETED","CANCELLED"],"Stato non valido").default("NOT SCHEDULED"),quantity_completed:Ln().min(0,"La quantità completata deve essere maggiore o uguale a 0").default(0),production_lot:ki().nullable(),description:ki().nullable(),bag_height:Ln().nullable().transform(t=>isNaN(t)?null:t).min(0,"L'altezza busta deve essere maggiore o uguale a 0"),bag_width:Ln().nullable().transform(t=>isNaN(t)?null:t).min(0,"La larghezza busta deve essere maggiore o uguale a 0"),bag_step:Ln().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il passo busta deve essere maggiore o uguale a 0"),seal_sides:Ln().nullable().transform(t=>isNaN(t)?null:t).oneOf([3,4],"I lati di sigillatura devono essere 3 o 4"),product_type:ki().nullable().oneOf(["CREMA","LIQUIDO","POLVERI"],"Seleziona un tipo di prodotto valido"),internal_customer_code:ki().nullable().test("not-empty-if-provided","Il codice cliente interno non può essere vuoto",function(t){return!t||t.trim().length>0}),external_customer_code:ki().nullable().test("not-empty-if-provided","Il codice cliente esterno non può essere vuoto",function(t){return!t||t.trim().length>0}),fase:ki().nullable(),duration:Ln().nullable().transform(t=>isNaN(t)?null:t).min(0,"La durata deve essere maggiore o uguale a 0"),cost:Ln().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il costo deve essere maggiore o uguale a 0"),scheduled_start_time:Id().nullable(),scheduled_end_time:Id().nullable(),scheduled_machine_id:ki().nullable(),user_notes:ki().nullable(),asd_notes:ki().nullable(),material_availability_global:Ln().nullable().transform(t=>isNaN(t)?null:t).min(0,"Material availability must be between 0 and 100").max(100,"Material availability must be between 0 and 100")}).test("bag-width-step-logic","La larghezza busta non può essere minore del passo busta",function(t){return t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0}).test("quantity-completed-logic","La quantità completata non può superare la quantità totale",function(t){return t.quantity&&t.quantity_completed!==void 0?t.quantity_completed<=t.quantity:!0}).test("scheduled-time-order","L'ora di fine programmata deve essere dopo l'ora di inizio",function(t){return t.scheduled_start_time&&t.scheduled_end_time?new Date(t.scheduled_end_time)>new Date(t.scheduled_start_time):!0}).test("scheduling-logic","I campi di programmazione devono essere tutti forniti o tutti nulli",function(t){const e=!!t.scheduled_start_time,n=!!t.scheduled_end_time,i=!!t.scheduled_machine_id;return e&&n&&i||!e&&!n&&!i}),L7=yo({startDate:ln,startTime:ln,endDate:ln,endTime:ln}).test("date-logic","End date cannot be before start date",function(t){return t.startDate&&t.endDate?new Date(t.startDate)<=new Date(t.endDate):!0}).test("time-logic","End time must be after start time when dates are the same",function(t){return t.startDate&&t.endDate&&t.startDate===t.endDate&&t.startTime&&t.endTime?t.startTime<t.endTime:!0}),F7=yo({email:ln.email("Please enter a valid email address"),password:ln.min(6,"Password must be at least 6 characters")}),U7=yo({email:ln.email("Please enter a valid email address"),password:ln.min(6,"Password must be at least 6 characters"),confirmPassword:ki().required("Please confirm your password")}).test("passwords-match","Passwords must match",function(t){return t.password===t.confirmPassword}),z7=yo({email:ln.email("Please enter a valid email address")}),H7=(t,e)=>{try{return e.validateSync(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(n){const i={};return n.inner.forEach(r=>{i[r.path]=r.message}),{isValid:!1,errors:i}}},B7={MACHINE:P7,PHASE:j7,ORDER:DD,BACKLOG:DD,OFF_TIME:L7,LOGIN:F7,SIGNUP:U7,FORGOT_PASSWORD:z7},V7=()=>{const t=C.useCallback((p,v)=>{const b=B7[v];if(!b)throw new Error(`Unknown schema type: ${v}`);return H7(p,b)},[]),e=C.useCallback(p=>t(p,"MACHINE"),[t]),n=C.useCallback(p=>t(p,"PHASE"),[t]),i=C.useCallback(p=>t(p,"ORDER"),[t]),r=C.useCallback(p=>t(p,"OFF_TIME"),[t]),s=C.useCallback((p,v)=>t(p,v),[t]),a=C.useCallback((p,v)=>{const b={};return v.some(S=>S.scheduled_machine_id===p)&&(b.general="Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),{isValid:Object.keys(b).length===0,errors:b}},[]),l=C.useCallback(p=>{const v={};return p?(p.quantity_completed>0&&(v.general="Cannot delete order that has started production"),p.scheduled_machine_id&&(v.general="Cannot delete scheduled order. Please unschedule first."),{isValid:Object.keys(v).length===0,errors:v}):(v.general="Order is required",{isValid:!1,errors:v})},[]),u=C.useCallback((p,v,b,_)=>{const S={};return p?v?!b||!_?(S.general="Start and end times are required",{isValid:!1,errors:S}):(v.status!=="ACTIVE"&&(S.general=`Machine ${v.machine_name} is not active`),p.scheduled_machine_id&&p.scheduled_machine_id!==v.id&&(S.general="Order is already scheduled on a different machine"),p.fase||(S.general="Order must have a production phase selected"),(!p.quantity||p.quantity<=0)&&(S.general="Order must have a valid quantity"),(!p.duration||p.duration<=0)&&(S.general="Order must have calculated duration"),{isValid:Object.keys(S).length===0,errors:S}):(S.general="Machine is required",{isValid:!1,errors:S}):(S.general="Order is required",{isValid:!1,errors:S})},[]),d=C.useCallback((p,v)=>{const b={};if(!p)return b.general="Please select a production phase",{isValid:!1,errors:b};v.department&&p.department!==v.department&&(b.general=`Selected phase is for ${p.department} department, but order is for ${v.department}`),v.work_center&&p.work_center!==v.work_center&&(b.general=`Selected phase is for ${p.work_center} work center, but order is for ${v.work_center}`);const _=n(p);return _.isValid||Object.assign(b,_.errors),{isValid:Object.keys(b).length===0,errors:b}},[n]),h=C.useCallback((p,v)=>{if(p.status!=="ACTIVE")return!1;const b=p.active_shifts||[];if(b.length===0)return!1;const _=v.getUTCHours();return b.some(x=>{switch(x){case"T1":return _>=6&&_<14;case"T2":return _>=14&&_<22;case"T3":return _>=22||_<6;default:return!1}})},[]),g=C.useCallback(p=>({name:p?.machine_name||"Unknown Machine",type:p?.machine_type||"Unknown Type",department:p?.department||"Unknown Department",workCenter:p?.work_center||"Unknown Work Center",status:p?.status||"UNKNOWN",isActive:p?.status==="ACTIVE"}),[]);return{validate:t,validateMachine:e,validatePhase:n,validateOrder:i,validateOffTime:r,validateAuth:s,validateMachineDeletion:a,validateOrderDeletion:l,validateOrderScheduling:u,validatePhaseSelection:d,isMachineAvailable:h,getMachineDisplayInfo:g}},$7=(t,e,n=null)=>{const{phases:i}=Nc(),[r,s]=C.useState(""),[a,l]=C.useState(!1),[u,d]=C.useState(null),[h,g]=C.useState({}),p=C.useRef(null),v=C.useMemo(()=>!i||i.length===0?[]:t||e?i.filter(M=>(!t||M.department===t)&&(!e||M.work_center===e)).filter(M=>M.name.toLowerCase().includes(r.toLowerCase())):[],[r,t,e,i]);C.useEffect(()=>{if(n&&i&&i.length>0&&!u){const T=i.find(M=>M.id===n);T&&(d(T),s(T.name),g({v_stampa:T.v_stampa||null,t_setup_stampa:T.t_setup_stampa||null,costo_h_stampa:T.costo_h_stampa||null,v_conf:T.v_conf||null,t_setup_conf:T.t_setup_conf||null,costo_h_conf:T.costo_h_conf||null}))}},[n,i,u]),C.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const b=C.useCallback((T,M)=>{const O=M===""?null:parseFloat(M);g(N=>({...N,[T]:O}))},[]),_=C.useCallback((T,M,O)=>{M("fase",T.id),d(T),s(T.name),l(!1),O("fase"),g({v_stampa:T.v_stampa||null,t_setup_stampa:T.t_setup_stampa||null,costo_h_stampa:T.costo_h_stampa||null,v_conf:T.v_conf||null,t_setup_conf:T.t_setup_conf||null,costo_h_conf:T.costo_h_conf||null})},[]),S=C.useCallback(()=>{s(""),d(null),g({})},[]),x=C.useCallback(()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>l(!1),150)},[]);return C.useMemo(()=>({phaseSearch:r,setPhaseSearch:s,isDropdownVisible:a,setIsDropdownVisible:l,selectedPhase:u,setSelectedPhase:d,filteredPhases:v,editablePhaseParams:h,setEditablePhaseParams:g,handlePhaseParamChange:b,handlePhaseSelect:_,resetPhaseData:S,handleBlur:x,blurTimeoutRef:p}),[r,a,u,v,h,g,b,_,S,x])};function q7(t,e){const n=H9(e),i=new Set;if(n===0||n===6){for(let l=0;l<24;l++)i.add(l.toString());return Array.from(i)}for(let l=0;l<24;l++)i.add(l.toString());const{work_center:r,department:s,active_shifts:a=[]}=t;return a.forEach(l=>{if(l==="T3"){i.clear();return}if(l==="T2")for(let u=6;u<22;u++)i.delete(u.toString());if(l==="T1"){if(r===_t.BUSTO_GAROLFO){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=14;u<18;u++)i.delete(u.toString())}else if(r===_t.ZANICA)if(s===an.PACKAGING){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}else{for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}}}),Array.from(i).sort((l,u)=>parseInt(l)-parseInt(u))}function G7(t,e){const n=[],i=oP(new Date(e,0,1)),r=BY(new Date(e,11,31));for(const s of t){let a=new Date(i);for(;!B9(a,r);){const l=q7(s,a);l.length>0&&n.push({machine_id:s.id,date:Yn(a,"yyyy-MM-dd"),unavailable_hours:l}),a=Of(a,1)}}return n}const bt={machines:["machines"],machine:t=>["machines",t],machinesByWorkCenter:t=>["machines","workCenter",t],orders:["orders"],order:t=>["orders",t],phases:["phases"],phase:t=>["phases",t],machineAvailability:(t,e,n)=>["machineAvailability",t,e,n],machineAvailabilityForDate:(t,e)=>["machineAvailability",t,"date",e],machineAvailabilityForDateAllMachines:t=>["machineAvailability","allMachines",t]},kp=()=>vl({queryKey:bt.machines,queryFn:()=>vt.getMachines(),staleTime:120*1e3}),W7=t=>vl({queryKey:bt.machinesByWorkCenter(t),queryFn:()=>vt.getMachines().then(e=>t===_t.BOTH?e:e.filter(n=>n.work_center===t)),staleTime:120*1e3}),Y7=()=>{const t=Ui();return ha({mutationFn:async e=>{const n=await vt.addMachine(e);try{const i=new Date().getUTCFullYear(),r=G7([n],i);r.length>0&&await vt.bulkUpsertMachineAvailability(r),Sl(`Machine "${n?.machine_name||"Unknown"}" added and calendar set successfully`)}catch(i){Ed(`Machine added, but failed to set calendar: ${i.message}`)}return n},onSuccess:e=>{t.invalidateQueries({queryKey:bt.machines}),t.invalidateQueries({queryKey:bt.machinesByWorkCenter()}),t.setQueryData(bt.machines,n=>n?[...n,e]:[e])}})},K7=()=>{const t=Ui();return ha({mutationFn:({id:e,updates:n})=>vt.updateMachine(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:bt.machines}),t.invalidateQueries({queryKey:bt.machinesByWorkCenter()}),t.setQueryData(bt.machines,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(bt.machine(n),e),Sl(`Machine "${e?.machine_name||"Unknown"}" updated successfully`)}})},Q7=()=>{const t=Ui();return ha({mutationFn:async e=>{const n=await vt.getMachines().then(i=>i.find(r=>r.id===e));return await vt.removeMachine(e),n},onSuccess:e=>{t.invalidateQueries({queryKey:bt.machines}),t.invalidateQueries({queryKey:bt.machinesByWorkCenter()}),t.setQueryData(bt.machines,n=>n?.filter(i=>i.id!==e.id)),t.removeQueries({queryKey:bt.machine(e.id)}),Sl(`Machine "${e?.machine_name||"Unknown"}" deleted successfully`)}})},Np=()=>vl({queryKey:bt.orders,queryFn:()=>vt.getOdpOrders(),staleTime:60*1e3}),X7=t=>vl({queryKey:bt.order(t),queryFn:async()=>{try{return await vt.getOdpOrder(t)}catch{const i=(await vt.getOdpOrders()).find(r=>r.id===t);if(!i)throw new Error(`Order with id ${t} not found`);return i}},enabled:!!t,staleTime:60*1e3}),Z7=()=>{const t=Ui();return ha({mutationFn:e=>vt.addOdpOrder(e),onSuccess:e=>{t.invalidateQueries({queryKey:bt.orders}),t.setQueryData(bt.orders,n=>n?[e,...n]:[e])}})},J7=()=>{const t=Ui();return ha({mutationFn:({id:e,updates:n})=>vt.updateOdpOrder(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:bt.orders}),t.setQueryData(bt.orders,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(bt.order(n),e)}})},eK=()=>{const t=Ui();return ha({mutationFn:e=>vt.removeOdpOrder(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:bt.orders}),t.setQueryData(bt.orders,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:bt.order(n)})}})},tS=()=>vl({queryKey:bt.phases,queryFn:()=>vt.getPhases(),staleTime:300*1e3}),tK=t=>vl({queryKey:bt.phase(t),queryFn:()=>vt.getPhases().then(e=>e.find(n=>n.id===t)),enabled:!!t,staleTime:300*1e3}),nK=()=>{const t=Ui();return ha({mutationFn:e=>vt.addPhase(e),onSuccess:e=>{t.invalidateQueries({queryKey:bt.phases}),t.setQueryData(bt.phases,n=>n?[...n,e]:[e])}})},iK=()=>{const t=Ui();return ha({mutationFn:({id:e,updates:n})=>vt.updatePhase(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:bt.phases}),t.setQueryData(bt.phases,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(bt.phase(n),e)}})},rK=()=>{const t=Ui();return ha({mutationFn:e=>vt.removePhase(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:bt.phases}),t.setQueryData(bt.phases,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:bt.phase(n)})}})},Dle=t=>vl({queryKey:bt.machineAvailabilityForDateAllMachines(t),queryFn:()=>vt.getMachineAvailabilityForDateAllMachines(t),enabled:!!t,staleTime:30*1e3}),sK=()=>{const{data:t,isLoading:e,error:n}=kp(),{data:i,isLoading:r,error:s}=Np(),{data:a,isLoading:l,error:u}=tS(),{setMachines:d}=Er(),{setOdpOrders:h}=on(),{setPhases:g}=Nc();return C.useEffect(()=>{t&&!e&&!n&&d(t)},[t,e,n,d]),C.useEffect(()=>{i&&!r&&!s&&h(i)},[i,r,s,h]),C.useEffect(()=>{a&&!l&&!u&&g(a)},[a,l,u,g]),{isLoading:e||r||l,errors:{machines:n,orders:s,phases:u}}};function aK(){const{selectedWorkCenter:t,showConfirmDialog:e}=Dt(),n=ws(),{data:i=[],isLoading:r,error:s}=W7(t),a=Q7(),{handleAsync:l}=xs("MachineryListPage");if(s)return E.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle macchine: ",s.message]});const u=C.useMemo(()=>[{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Stato",accessorKey:"status"},{header:"Larghezza Min (mm)",accessorKey:"min_web_width"},{header:"Larghezza Max (mm)",accessorKey:"max_web_width"},{header:"Altezza Min (mm)",accessorKey:"min_bag_height"},{header:"Altezza Max (mm)",accessorKey:"max_bag_height"},{header:"Velocità Std",accessorKey:"standard_speed"},{header:"Setup (h)",accessorKey:"setup_time_standard"},{header:"Cambio Colore (h)",accessorKey:"changeover_color"},{header:"Cambio Materiale (h)",accessorKey:"changeover_material"},{header:"Turni Attivi",accessorKey:"active_shifts",cell:g=>Array.isArray(g.getValue())?g.getValue().join(", "):""},{header:"Calendario",accessorKey:"id",cell:g=>E.jsx(gn,{to:`/machinery/${g.getValue()}/calendar`,className:"inline-flex items-center px-1 py-1 border border-gray-300 rounded shadow-sm text-[10px] font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Visualizza Calendario"})}],[]),d=g=>{n(`/machinery/${g.id}/edit`)},h=async g=>{e("Elimina Macchina",`Sei sicuro di voler eliminare "${g.machine_name}"? Questa azione non può essere annullata.`,async()=>{await l(async()=>{await a.mutateAsync(g.id)},{context:"Delete Machine",fallbackMessage:"Eliminazione macchina fallita"})},"danger")};return r?E.jsx("div",{children:"Caricamento dati macchine..."}):t?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Macchine"}),E.jsx(gn,{to:"/machinery/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Macchina"})]}),E.jsx(Kw,{columns:u,data:i,onEditRow:d,onDeleteRow:h,enableGlobalSearch:!1})]}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle macchine."})}const br={validationSchema:"MACHINE",addButtonText:"Aggiungi Macchina",editButtonText:"Aggiorna Macchina",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Machine",editContext:"Update Machine",addErrorMessage:"Aggiunta macchina fallita",editErrorMessage:"Aggiornamento macchina fallita",sections:[{title:"Identificazione",fields:[{name:"department",label:"Department",type:"select",required:!0,options:[{value:an.PRINTING,label:an.PRINTING},{value:an.PACKAGING,label:an.PACKAGING}],defaultValue:Xt.MACHINE.DEPARTMENT,validation:{required:"Department is required"}},{name:"machine_type",label:"Machine Type",type:"select",required:!0,placeholder:"Seleziona tipo macchina",options:[],conditional:t=>t===an.PRINTING||t===an.PACKAGING,validation:{required:"Machine type is required"}},{name:"machine_name",label:"Machine Name",type:"text",required:!0,placeholder:"Nome descrittivo",validation:{required:"Machine name is required",minLength:{value:2,message:"Machine name must be at least 2 characters"},maxLength:{value:100,message:"Machine name must be at most 100 characters"},pattern:{value:/^[a-zA-Z0-9\s\-_]+$/,message:"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"}}},{name:"work_center",label:"Work Center",type:"select",required:!0,placeholder:"Seleziona un centro di lavoro",options:[{value:_t.ZANICA,label:_t.ZANICA},{value:_t.BUSTO_GAROLFO,label:_t.BUSTO_GAROLFO}],defaultValue:Xt.MACHINE.WORK_CENTER,helpText:"Il centro di lavoro è pre-impostato.",validation:{required:"Work center is required"}}]},{title:"Capacità Tecniche",fields:[{name:"min_web_width",label:"Min Web Width (mm)",type:"number",required:!0,defaultValue:Xt.MACHINE.MIN_WEB_WIDTH,validation:{required:"Min web width is required",min:{value:1,message:"Min web width must be at least 1"}}},{name:"max_web_width",label:"Max Web Width (mm)",type:"number",required:!0,defaultValue:Xt.MACHINE.MAX_WEB_WIDTH,validation:{required:"Max web width is required",min:{value:1,message:"Max web width must be at least 1"}}},{name:"min_bag_height",label:"Min Bag Height (mm)",type:"number",required:!0,defaultValue:Xt.MACHINE.MIN_BAG_HEIGHT,validation:{required:"Min bag height is required",min:{value:1,message:"Min bag height must be at least 1"}}},{name:"max_bag_height",label:"Max Bag Height (mm)",type:"number",required:!0,defaultValue:Xt.MACHINE.MAX_BAG_HEIGHT,validation:{required:"Max bag height is required",min:{value:1,message:"Max bag height must be at least 1"}}}]},{title:"Performance",fields:[{name:"standard_speed",label:"Standard Speed",type:"number",required:!0,placeholder:"pz/h o mt/h",validation:{required:"Standard speed is required",min:{value:1,message:"Standard speed must be at least 1"}}},{name:"setup_time_standard",label:"Setup Time Standard (h)",type:"number",required:!0,defaultValue:Xt.MACHINE.SETUP_TIME_STANDARD,validation:{required:"Setup time is required",min:{value:0,message:"Setup time must be at least 0"}}},{name:"changeover_color",label:"Changeover Color (h)",type:"number",required:!0,defaultValue:Xt.MACHINE.CHANGEOVER_COLOR,conditional:(t,e,n)=>n("department")===an.PRINTING,validation:{required:"Changeover color time is required",min:{value:0,message:"Changeover color time must be at least 0"}}},{name:"changeover_material",label:"Material Changeover (h)",type:"number",required:!0,defaultValue:Xt.MACHINE.CHANGEOVER_MATERIAL,conditional:(t,e,n)=>n("department")===an.PACKAGING,validation:{required:"Changeover material time is required",min:{value:0,message:"Changeover material time must be at least 0"}}}]},{title:"Disponibilità",fields:[{name:"active_shifts",label:"Active Shifts",type:"checkbox",required:!1,defaultValue:Xt.MACHINE.ACTIVE_SHIFTS,options:[{value:gc.T1,label:gc.T1},{value:gc.T2,label:gc.T2},{value:gc.T3,label:gc.T3}]},{name:"status",label:"Status",type:"select",required:!0,defaultValue:Xt.MACHINE.STATUS,options:[{value:Js.ACTIVE,label:Js.ACTIVE},{value:Js.INACTIVE,label:Js.INACTIVE}],validation:{required:"Status is required"}}]}]},as={validationSchema:"PHASE",addButtonText:"Aggiungi Fase",editButtonText:"Aggiorna Fase",addLoadingText:"Aggiunta Fase...",editLoadingText:"Aggiornamento Fase...",addContext:"Add Phase",editContext:"Update Phase",addErrorMessage:"Aggiunta fase fallita",editErrorMessage:"Aggiornamento fase fallita",sections:[{title:"Informazioni Fase",fields:[{name:"name",label:"Nome Fase",type:"text",required:!0,placeholder:"es. Stampa Alta Velocità"},{name:"department",label:"Tipo Fase",type:"select",required:!0,options:[{value:an.PRINTING,label:an.PRINTING},{value:an.PACKAGING,label:an.PACKAGING}],defaultValue:Xt.PHASE.DEPARTMENT},{name:"numero_persone",label:"Numero di Persone Richieste",type:"number",required:!0,defaultValue:Xt.PHASE.NUMERO_PERSONE},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,options:[{value:_t.ZANICA,label:_t.ZANICA},{value:_t.BUSTO_GAROLFO,label:_t.BUSTO_GAROLFO}],defaultValue:Xt.PHASE.WORK_CENTER,helpText:"Il centro di lavoro è impostato in base alla tua selezione di accesso"}]},{title:"Parametri Stampa",fields:[{name:"v_stampa",label:"Velocità Stampa (mt/h)",type:"number",required:!0,defaultValue:Xt.PHASE.V_STAMPA,conditional:(t,e,n)=>n("department")===an.PRINTING},{name:"t_setup_stampa",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:Xt.PHASE.T_SETUP_STAMPA,conditional:(t,e,n)=>n("department")===an.PRINTING},{name:"costo_h_stampa",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:Xt.PHASE.COSTO_H_STAMPA,conditional:(t,e,n)=>n("department")===an.PRINTING}]},{title:"Parametri Confezionamento",fields:[{name:"v_conf",label:"Velocità Confezionamento (pz/h)",type:"number",required:!0,defaultValue:Xt.PHASE.V_CONF,conditional:(t,e,n)=>n("department")===an.PACKAGING},{name:"t_setup_conf",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:Xt.PHASE.T_SETUP_CONF,conditional:(t,e,n)=>n("department")===an.PACKAGING},{name:"costo_h_conf",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:Xt.PHASE.COSTO_H_CONF,conditional:(t,e,n)=>n("department")===an.PACKAGING}]},{title:"Descrizione Fase",fields:[{name:"contenuto_fase",label:"Descrizione Contenuto Fase",type:"textarea",required:!0,placeholder:"Descrivi il contenuto della fase e i requisiti...",rows:3}],gridCols:"grid-cols-1"}]},oK={validationSchema:"ORDER",addButtonText:"Aggiungi al Backlog",editButtonText:"Aggiorna Ordine",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Order",editContext:"Update Order",addErrorMessage:"Aggiunta ordine fallita",editErrorMessage:"Aggiornamento ordine fallito",sections:[{title:"Identificazione",fields:[{name:"odp_number",label:"Numero ODP",type:"text",required:!0,placeholder:"Inserisci numero ODP"},{name:"article_code",label:"Codice Articolo",type:"article_code",required:!0,placeholder:"Inserisci codice articolo"},{name:"production_lot",label:"Codice Articolo Esterno",type:"text",required:!0,placeholder:"Inserisci codice articolo esterno"},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,placeholder:"Seleziona centro di lavoro",options:[{value:_t.ZANICA,label:_t.ZANICA},{value:_t.BUSTO_GAROLFO,label:_t.BUSTO_GAROLFO}],conditional:(t,e,n)=>!0},{name:"nome_cliente",label:"Nome Cliente",type:"text",required:!0,placeholder:"Inserisci nome cliente"}]},{title:"Specifiche Tecniche",fields:[{name:"bag_height",label:"Altezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci altezza busta"},{name:"bag_width",label:"Larghezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci larghezza busta"},{name:"bag_step",label:"Passo Busta (mm)",type:"number",required:!1,placeholder:"Inserisci passo busta"},{name:"seal_sides",label:"Lati Sigillatura",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:"3",label:"3"},{value:"4",label:"4"}],defaultValue:Xt.ORDER.SEAL_SIDES},{name:"product_type",label:"Tipo Prodotto",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:hc.CREMA,label:hc.CREMA},{value:hc.LIQUIDO,label:hc.LIQUIDO},{value:hc.POLVERI,label:hc.POLVERI}]},{name:"quantity",label:"Quantità",type:"number",required:!0,placeholder:"Inserisci quantità"},{name:"quantity_completed",label:"Q.tà Completata",type:"number",required:!0,defaultValue:Xt.ORDER.QUANTITY_COMPLETED}]},{title:"Dati Commerciali",fields:[{name:"internal_customer_code",label:"Lotto FLEXI",type:"text",required:!0,placeholder:"Inserisci lotto FLEXI"},{name:"external_customer_code",label:"Lotto Cliente",type:"text",required:!0,placeholder:"Inserisci lotto cliente"},{name:"customer_order_ref",label:"Riferimento Cliente",type:"text",required:!0,placeholder:"Inserisci riferimento cliente"},{name:"user_notes",label:"Note Libere",type:"textarea",required:!1,placeholder:"Inserisci note libere per l'ordine...",rows:3},{name:"asd_notes",label:"Note ASD",type:"textarea",required:!1,placeholder:"Inserisci note ASD per l'ordine...",rows:3}],gridCols:"grid-cols-2 md:grid-cols-3"},{title:"Dati Lavorazione & Pianificazione",fields:[{name:"department",label:"Reparto",type:"text",required:!0,readOnly:!0,className:"bg-gray-50"},{name:"phase_search",label:"Cerca Fase di Produzione",type:"phase_search",required:!0},{name:"delivery_date",label:"Data di Consegna",type:"datetime-local",required:!0}]},{title:"Disponibilità Materiali",fields:[{name:"material_availability_global",label:"Disponibilità Materiale Globale (%)",type:"number",required:!1,placeholder:"Inserisci percentuale disponibilità (0-100)",min:0,max:100}]}],customFields:{phase_parameters:{type:"phase_parameters",label:"Parametri Fase Selezionata"},calculation_results:{type:"calculation_results",label:"Risultati Calcolo Produzione"}},customValidation:t=>{const e={};return{isValid:Object.keys(e).length===0,errors:e}}},r0={validationSchema:"OFF_TIME",addButtonText:"Imposta Non Disponibilità",editButtonText:"Aggiorna Non Disponibilità",addLoadingText:"Impostazione...",editLoadingText:"Aggiornamento...",addContext:"Set Machine Unavailability",editContext:"Update Machine Unavailability",addErrorMessage:"Impostazione indisponibilità macchina fallita",editErrorMessage:"Aggiornamento indisponibilità macchina fallita",sections:[{title:"Periodo di Non Disponibilità",fields:[{name:"startDate",label:"Data Inizio",type:"date",required:!0,defaultValue:""},{name:"startTime",label:"Ora Inizio",type:"time",required:!0,defaultValue:Xt.OFF_TIME.START_TIME},{name:"endDate",label:"Data Fine",type:"date",required:!0,defaultValue:""},{name:"endTime",label:"Ora Fine",type:"time",required:!0,defaultValue:Xt.OFF_TIME.END_TIME}]}],customValidation:t=>{const e={};if(t.startDate&&t.endDate){const n=new Date(t.startDate);new Date(t.endDate)<n&&(e.endDate=CT.END_DATE_BEFORE_START),t.startDate===t.endDate&&t.startTime&&t.endTime&&t.startTime>=t.endTime&&(e.endTime=CT.END_TIME_BEFORE_START)}return{isValid:Object.keys(e).length===0,errors:e}}};function lK({machineToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Dt(),{getValidMachineTypes:i}=uP(),r=Y7(),s=K7(),a=!!t,l=C.useMemo(()=>{const g={...br};return g.sections[0].fields[1].options=[...i("STAMPA").map(p=>({value:p,label:p})),...i("CONFEZIONAMENTO").map(p=>({value:p,label:p}))],g.sections[0].fields[1].placeholder="Seleziona tipo macchina",n!==_t.BOTH&&(g.sections[0].fields[3].disabled=!0,g.sections[0].fields[3].defaultValue=n,g.sections[0].fields[3].helpText="Il centro di lavoro è pre-impostato."),g},[i,n]),u=C.useMemo(()=>({department:t?.department||br.sections[0].fields[0].defaultValue,machine_type:t?.machine_type||"",machine_name:t?.machine_name||"",work_center:t?.work_center||(n===_t.BOTH?br.sections[0].fields[3].defaultValue:n),min_web_width:t?.min_web_width||br.sections[1].fields[0].defaultValue,max_web_width:t?.max_web_width||br.sections[1].fields[1].defaultValue,min_bag_height:t?.min_bag_height||br.sections[1].fields[2].defaultValue,max_bag_height:t?.max_bag_height||br.sections[1].fields[3].defaultValue,standard_speed:t?.standard_speed||"",setup_time_standard:t?.setup_time_standard||br.sections[2].fields[1].defaultValue,changeover_color:t?.changeover_color||br.sections[2].fields[2].defaultValue,changeover_material:t?.changeover_material||br.sections[2].fields[3].defaultValue,active_shifts:t?.active_shifts||br.sections[3].fields[0].defaultValue,status:t?.status||br.sections[3].fields[1].defaultValue}),[n,t]),d=async g=>{a?await s.mutateAsync({id:t.id,updates:g}):await r.mutateAsync(g),e&&e()},h=r.isPending||s.isPending;return E.jsx(Ap,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a,isLoading:h})}function cK({title:t,children:e}){return E.jsx("div",{className:"sticky top-0 z-10 bg-background border-b border-border px-2 py-3 mb-2",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("div",{className:"flex items-center",children:t&&E.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:t})}),e]})})}function OD(){const{id:t}=up(),e=ws(),{getMachineById:n}=Er(),{selectedWorkCenter:i}=Dt(),{isLoading:r,isInitialized:s,init:a,cleanup:l}=vo(),u=!!t,d=u?n(t):null;return C.useEffect(()=>(s||a(),()=>{l()}),[a,s,l]),C.useEffect(()=>{u&&!r&&!d&&e("/machinery",{replace:!0})},[u,r,d,e]),r?E.jsx("div",{children:"Caricamento..."}):u&&!d?E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Macchina non trovata."}):i?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:u?`Modifica Macchina: ${d?.machine_name}`:"Aggiungi Nuova Macchina"}),u&&E.jsx(gn,{to:`/machinery/${t}/calendar`,className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Visualizza Calendario"})]}),E.jsx(lK,{machineToEdit:d})]}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le macchine."})}function uK({machineId:t,currentDate:e,onSuccess:n}){const{setMachineUnavailability:i}=ms(),{showAlert:r}=Dt(),s=C.useMemo(()=>{const l=new Date,u=Of(l,1);return{startDate:Yn(l,"yyyy-MM-dd"),endDate:Yn(u,"yyyy-MM-dd"),startTime:r0.sections[0].fields[1].defaultValue,endTime:r0.sections[0].fields[3].defaultValue}},[e]),a=async l=>{await i(t,l.startDate,l.endDate,l.startTime,l.endTime),r("Indisponibilità macchina impostata con successo!","success"),n&&n()};return E.jsx(Ap,{config:r0,initialData:s,onSubmit:a,onSuccess:n,className:"p-1 bg-white rounded-lg shadow-sm border"})}var Ip,Pe,AP,TP,Xc,el,MD,RP,DP,Pm={},OP=[],dK=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Za(t,e){for(var n in e)t[n]=e[n];return t}function MP(t){var e=t.parentNode;e&&e.removeChild(t)}function U(t,e,n){var i,r,s,a={};for(s in e)s=="key"?i=e[s]:s=="ref"?r=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?Ip.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return am(t,a,i,r,null)}function am(t,e,n,i,r){var s={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++AP};return r==null&&Pe.vnode!=null&&Pe.vnode(s),s}function yi(){return{current:null}}function Ft(t){return t.children}function fK(t,e,n,i,r){var s;for(s in n)s==="children"||s==="key"||s in e||jm(t,s,null,n[s],i);for(s in e)r&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||jm(t,s,e[s],n[s],i)}function kD(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||dK.test(e)?n:n+"px"}function jm(t,e,n,i,r){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||kD(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||kD(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?i||t.addEventListener(e,s?ID:ND,s):t.removeEventListener(e,s?ID:ND,s);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function ND(t){Xc=!0;try{return this.l[t.type+!1](Pe.event?Pe.event(t):t)}finally{Xc=!1}}function ID(t){Xc=!0;try{return this.l[t.type+!0](Pe.event?Pe.event(t):t)}finally{Xc=!1}}function Ji(t,e){this.props=t,this.context=e}function rf(t,e){if(e==null)return t.__?rf(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?rf(t):null}function kP(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return kP(t)}}function hK(t){Xc?setTimeout(t):RP(t)}function D_(t){(!t.__d&&(t.__d=!0)&&el.push(t)&&!Lm.__r++||MD!==Pe.debounceRendering)&&((MD=Pe.debounceRendering)||hK)(Lm)}function Lm(){var t,e,n,i,r,s,a,l;for(el.sort(function(u,d){return u.__v.__b-d.__v.__b});t=el.shift();)t.__d&&(e=el.length,i=void 0,r=void 0,a=(s=(n=t).__v).__e,(l=n.__P)&&(i=[],(r=Za({},s)).__v=s.__v+1,nS(l,s,r,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[a]:null,i,a??rf(s),s.__h),LP(i,s),s.__e!=a&&kP(s)),el.length>e&&el.sort(function(u,d){return u.__v.__b-d.__v.__b}));Lm.__r=0}function NP(t,e,n,i,r,s,a,l,u,d){var h,g,p,v,b,_,S,x=i&&i.__k||OP,A=x.length;for(n.__k=[],h=0;h<e.length;h++)if((v=n.__k[h]=(v=e[h])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?am(null,v,null,null,v):Array.isArray(v)?am(Ft,{children:v},null,null,null):v.__b>0?am(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=n,v.__b=n.__b+1,(p=x[h])===null||p&&v.key==p.key&&v.type===p.type)x[h]=void 0;else for(g=0;g<A;g++){if((p=x[g])&&v.key==p.key&&v.type===p.type){x[g]=void 0;break}p=null}nS(t,v,p=p||Pm,r,s,a,l,u,d),b=v.__e,(g=v.ref)&&p.ref!=g&&(S||(S=[]),p.ref&&S.push(p.ref,null,v),S.push(g,v.__c||b,v)),b!=null?(_==null&&(_=b),typeof v.type=="function"&&v.__k===p.__k?v.__d=u=IP(v,u,t):u=PP(t,v,p,x,b,u),typeof n.type=="function"&&(n.__d=u)):u&&p.__e==u&&u.parentNode!=t&&(u=rf(p))}for(n.__e=_,h=A;h--;)x[h]!=null&&(typeof n.type=="function"&&x[h].__e!=null&&x[h].__e==n.__d&&(n.__d=jP(i).nextSibling),UP(x[h],x[h]));if(S)for(h=0;h<S.length;h++)FP(S[h],S[++h],S[++h])}function IP(t,e,n){for(var i,r=t.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=t,e=typeof i.type=="function"?IP(i,e,n):PP(n,i,i,r,i.__e,e));return e}function Fm(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Fm(n,e)}):e.push(t)),e}function PP(t,e,n,i,r,s){var a,l,u;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(r),a=null;else{for(l=s,u=0;(l=l.nextSibling)&&u<i.length;u+=1)if(l==r)break e;t.insertBefore(r,s),a=s}return a!==void 0?a:r.nextSibling}function jP(t){var e,n,i;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(i=jP(n)))return i}return null}function nS(t,e,n,i,r,s,a,l,u){var d,h,g,p,v,b,_,S,x,A,T,M,O,N,k,D=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,s=[l]),(d=Pe.__b)&&d(e);try{e:if(typeof D=="function"){if(S=e.props,x=(d=D.contextType)&&i[d.__c],A=d?x?x.props.value:d.__:i,n.__c?_=(h=e.__c=n.__c).__=h.__E:("prototype"in D&&D.prototype.render?e.__c=h=new D(S,A):(e.__c=h=new Ji(S,A),h.constructor=D,h.render=mK),x&&x.sub(h),h.props=S,h.state||(h.state={}),h.context=A,h.__n=i,g=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),D.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Za({},h.__s)),Za(h.__s,D.getDerivedStateFromProps(S,h.__s))),p=h.props,v=h.state,h.__v=e,g)D.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(D.getDerivedStateFromProps==null&&S!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(S,A),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(S,h.__s,A)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(h.props=S,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(P){P&&(P.__=e)}),T=0;T<h._sb.length;T++)h.__h.push(h._sb[T]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(S,h.__s,A),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,v,b)})}if(h.context=A,h.props=S,h.__P=t,M=Pe.__r,O=0,"prototype"in D&&D.prototype.render){for(h.state=h.__s,h.__d=!1,M&&M(e),d=h.render(h.props,h.state,h.context),N=0;N<h._sb.length;N++)h.__h.push(h._sb[N]);h._sb=[]}else do h.__d=!1,M&&M(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++O<25);h.state=h.__s,h.getChildContext!=null&&(i=Za(Za({},i),h.getChildContext())),g||h.getSnapshotBeforeUpdate==null||(b=h.getSnapshotBeforeUpdate(p,v)),k=d!=null&&d.type===Ft&&d.key==null?d.props.children:d,NP(t,Array.isArray(k)?k:[k],e,n,i,r,s,a,l,u),h.base=e.__e,e.__h=null,h.__h.length&&a.push(h),_&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=gK(n.__e,e,n,i,r,s,a,u);(d=Pe.diffed)&&d(e)}catch(P){e.__v=null,(u||s!=null)&&(e.__e=l,e.__h=!!u,s[s.indexOf(l)]=null),Pe.__e(P,e,n)}}function LP(t,e){Pe.__c&&Pe.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){Pe.__e(i,n.__v)}})}function gK(t,e,n,i,r,s,a,l){var u,d,h,g=n.props,p=e.props,v=e.type,b=0;if(v==="svg"&&(r=!0),s!=null){for(;b<s.length;b++)if((u=s[b])&&"setAttribute"in u==!!v&&(v?u.localName===v:u.nodeType===3)){t=u,s[b]=null;break}}if(t==null){if(v===null)return document.createTextNode(p);t=r?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,p.is&&p),s=null,l=!1}if(v===null)g===p||l&&t.data===p||(t.data=p);else{if(s=s&&Ip.call(t.childNodes),d=(g=n.props||Pm).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!l){if(s!=null)for(g={},b=0;b<t.attributes.length;b++)g[t.attributes[b].name]=t.attributes[b].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(fK(t,p,g,r,l),h)e.__k=[];else if(b=e.props.children,NP(t,Array.isArray(b)?b:[b],e,n,i,r&&v!=="foreignObject",s,a,s?s[0]:n.__k&&rf(n,0),l),s!=null)for(b=s.length;b--;)s[b]!=null&&MP(s[b]);l||("value"in p&&(b=p.value)!==void 0&&(b!==t.value||v==="progress"&&!b||v==="option"&&b!==g.value)&&jm(t,"value",b,g.value,!1),"checked"in p&&(b=p.checked)!==void 0&&b!==t.checked&&jm(t,"checked",b,g.checked,!1))}return t}function FP(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){Pe.__e(i,n)}}function UP(t,e,n){var i,r;if(Pe.unmount&&Pe.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||FP(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){Pe.__e(s,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&UP(i[r],e,n||typeof t.type!="function");n||t.__e==null||MP(t.__e),t.__=t.__e=t.__d=void 0}function mK(t,e,n){return this.constructor(t,n)}function sf(t,e,n){var i,r,s;Pe.__&&Pe.__(t,e),r=(i=!1)?null:e.__k,s=[],nS(e,t=e.__k=U(Ft,null,[t]),r||Pm,Pm,e.ownerSVGElement!==void 0,r?null:e.firstChild?Ip.call(e.childNodes):null,s,r?r.__e:e.firstChild,i),LP(s,t)}function pK(t,e){var n={__c:e="__cC"+DP++,__:t,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&r.some(function(l){l.__e=!0,D_(l)})},this.sub=function(a){r.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){r.splice(r.indexOf(a),1),l&&l.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}Ip=OP.slice,Pe={__e:function(t,e,n,i){for(var r,s,a;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(t)),a=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,i||{}),a=r.__d),a)return r.__E=r}catch(l){t=l}throw t}},AP=0,TP=function(t){return t!=null&&t.constructor===void 0},Xc=!1,Ji.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Za({},this.state),typeof t=="function"&&(t=t(Za({},n),this.props)),t&&Za(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),D_(this))},Ji.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),D_(this))},Ji.prototype.render=Ft,el=[],RP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Lm.__r=0,DP=0;var hs,s0,PD,zP=[],a0=[],jD=Pe.__b,LD=Pe.__r,FD=Pe.diffed,UD=Pe.__c,zD=Pe.unmount;function vK(){for(var t;t=zP.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(om),t.__H.__h.forEach(O_),t.__H.__h=[]}catch(e){t.__H.__h=[],Pe.__e(e,t.__v)}}Pe.__b=function(t){hs=null,jD&&jD(t)},Pe.__r=function(t){LD&&LD(t);var e=(hs=t.__c).__H;e&&(s0===hs?(e.__h=[],hs.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=a0,n.__N=n.i=void 0})):(e.__h.forEach(om),e.__h.forEach(O_),e.__h=[])),s0=hs},Pe.diffed=function(t){FD&&FD(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(zP.push(e)!==1&&PD===Pe.requestAnimationFrame||((PD=Pe.requestAnimationFrame)||yK)(vK)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==a0&&(n.__=n.__V),n.i=void 0,n.__V=a0})),s0=hs=null},Pe.__c=function(t,e){e.some(function(n){try{n.__h.forEach(om),n.__h=n.__h.filter(function(i){return!i.__||O_(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Pe.__e(i,n.__v)}}),UD&&UD(t,e)},Pe.unmount=function(t){zD&&zD(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{om(i)}catch(r){e=r}}),n.__H=void 0,e&&Pe.__e(e,n.__v))};var HD=typeof requestAnimationFrame=="function";function yK(t){var e,n=function(){clearTimeout(i),HD&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);HD&&(e=requestAnimationFrame(n))}function om(t){var e=hs,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),hs=e}function O_(t){var e=hs;t.__c=t.__(),hs=e}function bK(t,e){for(var n in e)t[n]=e[n];return t}function BD(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function VD(t){this.props=t}(VD.prototype=new Ji).isPureReactComponent=!0,VD.prototype.shouldComponentUpdate=function(t,e){return BD(this.props,t)||BD(this.state,e)};var $D=Pe.__b;Pe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),$D&&$D(t)};var _K=Pe.__e;Pe.__e=function(t,e,n,i){if(t.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}_K(t,e,n,i)};var qD=Pe.unmount;function HP(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=bK({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return HP(i,e,n)})),t}function BP(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return BP(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function o0(){this.__u=0,this.t=null,this.__b=null}function VP(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Mg(){this.u=null,this.o=null}Pe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),qD&&qD(t)},(o0.prototype=new Ji).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=VP(i.__v),s=!1,a=function(){s||(s=!0,n.__R=null,r?r(l):l())};n.__R=a;var l=function(){if(!--i.__u){if(i.state.__a){var d=i.state.__a;i.__v.__k[0]=BP(d,d.__c.__P,d.__c.__O)}var h;for(i.setState({__a:i.__b=null});h=i.t.pop();)h.forceUpdate()}},u=e.__h===!0;i.__u++||u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},o0.prototype.componentWillUnmount=function(){this.t=[]},o0.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=HP(this.__b,n,i.__O=i.__P)}this.__b=null}var r=e.__a&&U(Ft,null,t.fallback);return r&&(r.__h=null),[U(Ft,null,e.__a?null:t.children),r]};var GD=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function wK(t){return this.getChildContext=function(){return t.context},t.children}function SK(t){var e=this,n=t.i;e.componentWillUnmount=function(){sf(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),sf(U(wK,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function xK(t,e){var n=U(SK,{__v:t,i:e});return n.containerInfo=e,n}(Mg.prototype=new Ji).__a=function(t){var e=this,n=VP(e.__v),i=e.o.get(t);return i[0]++,function(r){var s=function(){e.props.revealOrder?(i.push(r),GD(e,t,i)):r()};n?n(s):s()}},Mg.prototype.render=function(t){this.u=null,this.o=new Map;var e=Fm(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Mg.prototype.componentDidUpdate=Mg.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){GD(t,n,e)})};var EK=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,CK=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,AK=typeof document<"u",TK=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Ji.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ji.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var WD=Pe.event;function RK(){}function DK(){return this.cancelBubble}function OK(){return this.defaultPrevented}Pe.event=function(t){return WD&&(t=WD(t)),t.persist=RK,t.isPropagationStopped=DK,t.isDefaultPrevented=OK,t.nativeEvent=t};var YD={configurable:!0,get:function(){return this.class}},KD=Pe.vnode;Pe.vnode=function(t){var e=t.type,n=t.props,i=n;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var s in i={},n){var a=n[s];AK&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&a==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&a===!0?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!TK(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&CK.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s]&&(s="oninputCapture")),i[s]=a)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Fm(n.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=Fm(n.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),t.props=i,n.class!=n.className&&(YD.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",YD))}t.$$typeof=EK,KD&&KD(t)};var QD=Pe.__r;Pe.__r=function(t){QD&&QD(t),t.__c};const $P=[],M_=new Map;function Pp(t){$P.push(t),M_.forEach(e=>{GP(e,t)})}function MK(t){t.isConnected&&t.getRootNode&&qP(t.getRootNode())}function qP(t){let e=M_.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=NK();n&&(e.nonce=n);const i=t===document?document.head:t,r=t===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}M_.set(t,e),kK(e)}}function kK(t){for(const e of $P)GP(t,e)}function GP(t,e){const{sheet:n}=t,i=n.cssRules.length;e.split("}").forEach((r,s)=>{r=r.trim(),r&&n.insertRule(r+"}",i+s)})}let l0;function NK(){return l0===void 0&&(l0=IK()),l0}function IK(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&qP(document);var PK=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Pp(PK);class iS{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:i}=this;e in i&&(n?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function rS(t){t.parentNode&&t.parentNode.removeChild(t)}function ci(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(jK(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function jK(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function LK(t,e){let n=t instanceof HTMLElement?[t]:t,i=[];for(let r=0;r<n.length;r+=1){let s=n[r].querySelectorAll(e);for(let a=0;a<s.length;a+=1)i.push(s[a])}return i}const FK=/(top|left|right|bottom|width|height)$/i;function Pd(t,e){for(let n in e)WP(t,n,e[n])}function WP(t,e,n){n==null?t.style[e]="":typeof n=="number"&&FK.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function YP(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let XD=0;function ro(){return XD+=1,"fc-dom-"+XD}function jp(t){t.preventDefault()}function UK(t,e){return n=>{let i=ci(n.target,t);i&&e.call(i,n,i)}}function KP(t,e,n,i){let r=UK(n,i);return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}function zK(t,e,n,i){let r;return KP(t,"mouseover",e,(s,a)=>{if(a!==r){r=a,n(s,a);let l=u=>{r=null,i(u,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}const ZD=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function HK(t,e){let n=i=>{e(i),ZD.forEach(r=>{t.removeEventListener(r,n)})};ZD.forEach(i=>{t.addEventListener(i,n)})}function QP(t){return Object.assign({onClick:t},XP(t))}function XP(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let JD=0;function Cl(){return JD+=1,String(JD)}function sS(){document.body.classList.add("fc-not-allowed")}function aS(){document.body.classList.remove("fc-not-allowed")}function BK(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",jp)}function VK(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",jp)}function $K(t){t.addEventListener("contextmenu",jp)}function qK(t){t.removeEventListener("contextmenu",jp)}function GK(t){let e=[],n=[],i,r;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),i=0;i<n.length;i+=1)r=n[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function WK(t,e,n){let i,r;for(i=0;i<n.length;i+=1)if(r=YK(t,e,n[i]),r)return r;return 0}function YK(t,e,n){return n.func?n.func(t,e):KK(t[n.field],e[n.field])*(n.order||1)}function KK(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Vc(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function jd(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((i,r,s)=>i.replace("$"+s,r||""),t):n}function QK(t,e){return t-e}function lm(t){return t%1===0}function XK(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const eO=["years","months","days","milliseconds"],ZK=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ft(t,e){return typeof t=="string"?JK(t):typeof t=="object"&&t?tO(t):typeof t=="number"?tO({[e||"milliseconds"]:t}):null}function JK(t){let e=ZK.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function tO(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function eQ(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function k_(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function tQ(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function nQ(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function iQ(t){return $c(t)/365}function rQ(t){return $c(t)/30}function $c(t){return Vr(t)/864e5}function Vr(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function oS(t,e){let n=null;for(let i=0;i<eO.length;i+=1){let r=eO[i];if(e[r]){let s=t[r]/e[r];if(!lm(s)||n!==null&&n!==s)return null;n=s}else if(t[r])return null}return n}function N_(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function uo(t,e,n){if(t===e)return!0;let i=t.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(t[r],e[r]):t[r]===e[r]))return!1;return!0}const sQ=["sun","mon","tue","wed","thu","fri","sat"];function nO(t,e){let n=Ja(t);return n[2]+=e*7,ji(n)}function On(t,e){let n=Ja(t);return n[2]+=e,ji(n)}function fo(t,e){let n=Ja(t);return n[6]+=e,ji(n)}function aQ(t,e){return bo(t,e)/7}function bo(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function oQ(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function lQ(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function cQ(t,e){return(e.valueOf()-t.valueOf())/1e3}function uQ(t,e){let n=Bt(t),i=Bt(e);return{years:0,months:0,days:Math.round(bo(n,i)),milliseconds:e.valueOf()-i.valueOf()-(t.valueOf()-n.valueOf())}}function dQ(t,e){let n=Um(t,e);return n!==null&&n%7===0?n/7:null}function Um(t,e){return eo(t)===eo(e)?Math.round(bo(t,e)):null}function Bt(t){return ji([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function fQ(t){return ji([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function hQ(t){return ji([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function gQ(t){return ji([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function mQ(t,e,n){let i=t.getUTCFullYear(),r=c0(t,i,e,n);if(r<1)return c0(t,i-1,e,n);let s=c0(t,i+1,e,n);return s>=1?Math.min(r,s):r}function c0(t,e,n,i){let r=ji([e,0,1+pQ(e,n,i)]),s=Bt(t),a=Math.round(bo(r,s));return Math.floor(a/7)+1}function pQ(t,e,n){let i=7+e-n;return-((7+ji([t,0,i]).getUTCDay()-e)%7)+i-1}function iO(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function rO(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Ja(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function ji(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function ZP(t){return!isNaN(t.valueOf())}function eo(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function JP(t,e,n=!1){let i=t.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",lS(e,!0)))),i}function kf(t){return t.toISOString().replace(/T.*$/,"")}function vQ(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function yQ(t){return Vc(t.getUTCHours(),2)+":"+Vc(t.getUTCMinutes(),2)+":"+Vc(t.getUTCSeconds(),2)}function lS(t,e=!1){let n=t<0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),s=Math.round(i%60);return e?`${n+Vc(r,2)}:${Vc(s,2)}`:`GMT${n}${r}${s?`:${Vc(s,2)}`:""}`}function Ne(t,e,n){let i,r;return function(...s){if(!i)r=t.apply(this,s);else if(!uo(i,s)){let a=t.apply(this,s);(!e||!e(a,r))&&(r=a)}return i=s,r}}function cm(t,e,n){let i,r;return s=>(i?Qr(i,s)||(r=t.call(this,s)):r=t.call(this,s),i=s,r)}const u0={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},zm={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},kg=/\s*([ap])\.?m\.?/i,bQ=/,/g,_Q=/\s+/g,wQ=/\u200e/g,SQ=/UTC|GMT/;class xQ{constructor(e){let n={},i={},r=9;for(let s in e)s in u0?(i[s]=e[s],u0[s]<9&&(r=Math.min(u0[s],r))):(n[s]=e[s],s in zm&&(r=Math.min(zm[s],r)));this.standardDateProps=n,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=Ne(sO)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,i,r){let{standardDateProps:s,extendedSettings:a}=this,l=DQ(e.marker,n.marker,i.calendarSystem);if(!l)return this.format(e,i);let u=l;u>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(u=1);let d=this.format(e,i),h=this.format(n,i);if(d===h)return d;let g=OQ(s,u),p=sO(g,a,i),v=p(e),b=p(n),_=MQ(d,v,h,b),S=a.separator||r||i.defaultSeparator||"";return _?_.before+v+S+b+_.after:d+S+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function sO(t,e,n){let i=Object.keys(t).length;return i===1&&t.timeZoneName==="short"?r=>lS(r.timeZoneOffset):i===0&&e.week?r=>RQ(n.computeWeekNumber(r.marker),n.weekText,n.weekTextLong,n.locale,e.week):EQ(t,e,n)}function EQ(t,e,n){t=Object.assign({},t),e=Object.assign({},e),CQ(t,e),t.timeZone="UTC";let i=new Intl.DateTimeFormat(n.locale.codes,t),r;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,r=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:a}=s,l;r&&!a.getUTCMinutes()?l=r:l=i;let u=l.format(a);return AQ(u,s,t,e,n)}}function CQ(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function AQ(t,e,n,i,r){return t=t.replace(wQ,""),n.timeZoneName==="short"&&(t=TQ(t,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":lS(e.timeZoneOffset))),i.omitCommas&&(t=t.replace(bQ,"").trim()),i.omitZeroMinute&&(t=t.replace(":00","")),i.meridiem===!1?t=t.replace(kg,"").trim():i.meridiem==="narrow"?t=t.replace(kg,(s,a)=>a.toLocaleLowerCase()):i.meridiem==="short"?t=t.replace(kg,(s,a)=>`${a.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(t=t.replace(kg,s=>s.toLocaleLowerCase())),t=t.replace(_Q," "),t=t.trim(),t}function TQ(t,e){let n=!1;return t=t.replace(SQ,()=>(n=!0,e)),n||(t+=` ${e}`),t}function RQ(t,e,n,i,r){let s=[];return r==="long"?s.push(n):(r==="short"||r==="narrow")&&s.push(e),(r==="long"||r==="short")&&s.push(" "),s.push(i.simpleNumberFormat.format(t)),i.options.direction==="rtl"&&s.reverse(),s.join("")}function DQ(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:eo(t)!==eo(e)?1:0}function OQ(t,e){let n={};for(let i in t)(!(i in zm)||zm[i]<=e)&&(n[i]=t[i]);return n}function MQ(t,e,n,i){let r=0;for(;r<t.length;){let s=t.indexOf(e,r);if(s===-1)break;let a=t.substr(0,s);r=s+e.length;let l=t.substr(r),u=0;for(;u<n.length;){let d=n.indexOf(i,u);if(d===-1)break;let h=n.substr(0,d);u=d+i.length;let g=n.substr(u);if(a===h&&l===g)return{before:a,after:l}}}return null}function aO(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Hm(t,e,n,i){let r=aO(t,n.calendarSystem),s=e?aO(e,n.calendarSystem):null;return{date:r,start:r,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}class kQ{constructor(e){this.cmdStr=e}format(e,n,i){return n.cmdFormatter(this.cmdStr,Hm(e,null,n,i))}formatRange(e,n,i,r){return i.cmdFormatter(this.cmdStr,Hm(e,n,i,r))}}class NQ{constructor(e){this.func=e}format(e,n,i){return this.func(Hm(e,null,n,i))}formatRange(e,n,i,r){return this.func(Hm(e,n,i,r))}}function Zt(t){return typeof t=="object"&&t?new xQ(t):typeof t=="string"?new kQ(t):typeof t=="function"?new NQ(t):null}const oO={navLinkDayClick:se,navLinkWeekClick:se,duration:ft,bootstrapFontAwesome:se,buttonIcons:se,customButtons:se,defaultAllDayEventDuration:ft,defaultTimedEventDuration:ft,nextDayThreshold:ft,scrollTime:ft,scrollTimeReset:Boolean,slotMinTime:ft,slotMaxTime:ft,dayPopoverFormat:Zt,slotDuration:ft,snapDuration:ft,headerToolbar:se,footerToolbar:se,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Zt,dayHeaderClassNames:se,dayHeaderContent:se,dayHeaderDidMount:se,dayHeaderWillUnmount:se,dayCellClassNames:se,dayCellContent:se,dayCellDidMount:se,dayCellWillUnmount:se,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:se,weekNumbers:Boolean,weekNumberClassNames:se,weekNumberContent:se,weekNumberDidMount:se,weekNumberWillUnmount:se,editable:Boolean,viewClassNames:se,viewDidMount:se,viewWillUnmount:se,nowIndicator:Boolean,nowIndicatorSnap:se,nowIndicatorClassNames:se,nowIndicatorContent:se,nowIndicatorDidMount:se,nowIndicatorWillUnmount:se,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:se,locale:se,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:se,eventOrder:GK,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:se,contentHeight:se,direction:String,weekNumberFormat:Zt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:se,initialDate:se,now:se,eventDataTransform:se,stickyHeaderDates:se,stickyFooterScrollbar:se,viewHeight:se,defaultAllDay:Boolean,eventSourceFailure:se,eventSourceSuccess:se,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:se,eventConstraint:se,eventAllow:se,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:se,eventContent:se,eventDidMount:se,eventWillUnmount:se,selectConstraint:se,selectOverlap:se,selectAllow:se,droppable:Boolean,unselectCancel:String,slotLabelFormat:se,slotLaneClassNames:se,slotLaneContent:se,slotLaneDidMount:se,slotLaneWillUnmount:se,slotLabelClassNames:se,slotLabelContent:se,slotLabelDidMount:se,slotLabelWillUnmount:se,dayMaxEvents:se,dayMaxEventRows:se,dayMinWidth:Number,slotLabelInterval:ft,allDayText:String,allDayClassNames:se,allDayContent:se,allDayDidMount:se,allDayWillUnmount:se,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Zt,rerenderDelay:Number,moreLinkText:se,moreLinkHint:se,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:se,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ft,hiddenDays:se,fixedWeekCount:Boolean,validRange:se,visibleRange:se,titleFormat:se,eventInteractive:Boolean,noEventsText:String,viewHint:se,navLinkHint:se,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:se,moreLinkClassNames:se,moreLinkContent:se,moreLinkDidMount:se,moreLinkWillUnmount:se,monthStartFormat:Zt,handleCustomRendering:se,customRenderingMetaMap:se,customRenderingReplaces:Boolean},Ld={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},lO={datesSet:se,eventsSet:se,eventAdd:se,eventChange:se,eventRemove:se,windowResize:se,eventClick:se,eventMouseEnter:se,eventMouseLeave:se,select:se,unselect:se,loading:se,_unmount:se,_beforeprint:se,_afterprint:se,_noEventDrop:se,_noEventResize:se,_resize:se,_scrollRequest:se},cO={buttonText:se,buttonHints:se,views:se,plugins:se,initialEvents:se,events:se,eventSources:se},Yo={headerToolbar:Ko,footerToolbar:Ko,buttonText:Ko,buttonHints:Ko,buttonIcons:Ko,dateIncrement:Ko,plugins:Ng,events:Ng,eventSources:Ng,resources:Ng};function Ko(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Qr(t,e):t===e}function Ng(t,e){return Array.isArray(t)&&Array.isArray(e)?uo(t,e):t===e}const IQ={type:String,component:se,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:se,usesMinMaxTime:Boolean,classNames:se,content:se,didMount:se,willUnmount:se};function d0(t){return uS(t,Yo)}function cS(t,e){let n={},i={};for(let r in e)r in t&&(n[r]=e[r](t[r]));for(let r in t)r in e||(i[r]=t[r]);return{refined:n,extra:i}}function se(t){return t}const{hasOwnProperty:Bm}=Object.prototype;function uS(t,e){let n={};if(e){for(let i in e)if(e[i]===Ko){let r=[];for(let s=t.length-1;s>=0;s-=1){let a=t[s][i];if(typeof a=="object"&&a)r.unshift(a);else if(a!==void 0){n[i]=a;break}}r.length&&(n[i]=uS(r))}}for(let i=t.length-1;i>=0;i-=1){let r=t[i];for(let s in r)s in n||(n[s]=r[s])}return n}function gl(t,e){let n={};for(let i in t)e(t[i],i)&&(n[i]=t[i]);return n}function ua(t,e){let n={};for(let i in t)n[i]=e(t[i],i);return n}function ej(t){let e={};for(let n of t)e[n]=!0;return e}function dS(t){let e=[];for(let n in t)e.push(t[n]);return e}function Qr(t,e){if(t===e)return!0;for(let n in t)if(Bm.call(t,n)&&!(n in e))return!1;for(let n in e)if(Bm.call(e,n)&&t[n]!==e[n])return!1;return!0}const PQ=/^on[A-Z]/;function jQ(t,e){const n=LQ(t,e);for(let i of n)if(!PQ.test(i))return!1;return!0}function LQ(t,e){let n=[];for(let i in t)Bm.call(t,i)&&(i in e||n.push(i));for(let i in e)Bm.call(e,i)&&t[i]!==e[i]&&n.push(i);return n}function f0(t,e,n={}){if(t===e)return!0;for(let i in e)if(!(i in t&&FQ(t[i],e[i],n[i])))return!1;for(let i in t)if(!(i in e))return!1;return!0}function FQ(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function UQ(t,e=0,n,i=1){let r=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=i){let a=t[s];a!==void 0&&r.push(a)}return r}let tj={};function zQ(t,e){tj[t]=e}function HQ(t){return new tj[t]}class BQ{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return ji(e)}markerToArray(e){return Ja(e)}}zQ("gregory",BQ);const VQ=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function $Q(t){let e=VQ.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(ZP(n)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class qQ{constructor(e){let n=this.timeZone=e.timeZone,i=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=HQ(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):ji(iO(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=ji(e)),n===null||!ZP(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=$Q(e);if(n===null)return null;let{marker:i}=n,r=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-n.timeZoneOffset*60*1e3):r=n.timeZoneOffset),{marker:i,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n.years,i[1]+=n.months,i[2]+=n.days,i[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]-=n.years,i[1]-=n.months,i[2]-=n.days,i[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n,this.calendarSystem.arrayToMarker(i)}addMonths(e,n){let i=this.calendarSystem.markerToArray(e);return i[1]+=n,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,n){let{calendarSystem:i}=this;return eo(e)===eo(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)&&i.getMarkerMonth(e)===i.getMarkerMonth(n)?i.getMarkerYear(n)-i.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:i}=this;return eo(e)===eo(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)?i.getMarkerMonth(n)-i.getMarkerMonth(e)+(i.getMarkerYear(n)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let i=this.diffWholeYears(e,n);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,n),i!==null?{unit:"month",value:i}:(i=dQ(e,n),i!==null?{unit:"week",value:i}:(i=Um(e,n),i!==null?{unit:"day",value:i}:(i=oQ(e,n),lm(i)?{unit:"hour",value:i}:(i=lQ(e,n),lm(i)?{unit:"minute",value:i}:(i=cQ(e,n),lm(i)?{unit:"second",value:i}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,i){let r;return i.years&&(r=this.diffWholeYears(e,n),r!==null)?r/iQ(i):i.months&&(r=this.diffWholeMonths(e,n),r!==null)?r/rQ(i):i.days&&(r=Um(e,n),r!==null)?r/$c(i):(n.valueOf()-e.valueOf())/Vr(i)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Bt(e):n==="hour"?fQ(e):n==="minute"?hQ(e):n==="second"?gQ(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):mQ(e,this.weekDow,this.weekDoy)}format(e,n,i={}){return n.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,i,r={}){return r.isEndExclusive&&(n=fo(n,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(n)},this,r.defaultSeparator)}formatIso(e,n={}){let i=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?i=n.forcedTzo:i=this.offsetForMarker(e)),JP(e,i,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?ji(iO(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):ji(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-rO(Ja(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ja(e)):null}toDate(e,n){return this.timeZone==="local"?rO(Ja(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ja(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Nf{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,i;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(i in e)n[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let i;return n&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Nf.prototype.classes={};Nf.prototype.iconClasses={};Nf.prototype.baseIconClass="";Nf.prototype.iconOverridePrefix="";function Vm(t){t();let e=Pe.debounceRendering,n=[];function i(r){n.push(r)}for(Pe.debounceRendering=i,sf(U(GQ,{}),document.createElement("div"));n.length;)n.shift()();Pe.debounceRendering=e}class GQ extends Ji{render(){return U("div",{})}componentDidMount(){this.setState({})}}function nj(t){let e=pK(t),n=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=n.apply(this,arguments);if(i){let s=[];this.shouldComponentUpdate=a=>{this.props.value!==a.value&&s.forEach(l=>{l.context=a.value,l.forceUpdate()})},this.sub=a=>{s.push(a);let l=a.componentWillUnmount;a.componentWillUnmount=()=>{s.splice(s.indexOf(a),1),l&&l.call(a)}}}return r},e}class WQ{constructor(e,n,i,r){this.execFunc=e,this.emitter=n,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ga=nj({});function YQ(t,e,n,i,r,s,a,l,u,d,h,g,p,v){return{dateEnv:r,nowManager:s,options:n,pluginHooks:l,emitter:h,dispatch:u,getCurrentData:d,calendarApi:g,viewSpec:t,viewApi:e,dateProfileGenerator:i,theme:a,isRtl:n.direction==="rtl",addResizeHandler(b){h.on("_resize",b)},removeResizeHandler(b){h.off("_resize",b)},createScrollResponder(b){return new WQ(b,h,ft(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:p,unregisterInteractiveComponent:v}}class Al extends Ji{shouldComponentUpdate(e,n){return!f0(this.props,e,this.propEquality)||!f0(this.state,n,this.stateEquality)}safeSetState(e){f0(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Al.addPropsEquality=KQ;Al.addStateEquality=QQ;Al.contextType=ga;Al.prototype.propEquality={};Al.prototype.stateEquality={};class At extends Al{}At.contextType=ga;function KQ(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function QQ(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function _s(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class fS extends At{constructor(){super(...arguments),this.id=Cl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:i}=this.props;(!n.customRenderingReplaces||!I_(i,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&_s(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:i}=n,{customGenerator:r,defaultGenerator:s,renderProps:a}=e,l=ij(e,[],this.handleEl);let u=!1,d,h=[],g;if(r!=null){const p=typeof r=="function"?r(a,U):r;if(p===!0)u=!0;else{const v=p&&typeof p=="object";v&&"html"in p?l.dangerouslySetInnerHTML={__html:p.html}:v&&"domNodes"in p?h=Array.prototype.slice.call(p.domNodes):(v?TP(p):typeof p!="function")?d=p:g=p}}else u=!I_(e.generatorName,i);return u&&s&&(d=s(a)),this.queuedDomNodes=h,this.currentGeneratorMeta=g,U(e.elTag,l,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:i,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:a}=r.options;if(s){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:a?.[i.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},i),{elClasses:(i.elClasses||[]).filter(XQ)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,i=this.base;if(!uo(e,n)){n.forEach(rS);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}fS.addPropsEquality({elClasses:uo,elStyle:Qr,elAttrs:jQ,renderProps:Qr});function I_(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function ij(t,e,n){const i=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(i.className=(t.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),t.elStyle&&(i.style=t.elStyle),i}function XQ(t){return!!t}const rj=nj(0);class di extends Ji{constructor(){super(...arguments),this.InnerContent=ZQ.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(_s(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=JQ(e.classNameGenerator,e.renderProps);if(e.children){const i=ij(e,n,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?U(e.elTag,i,r):r}else return U(fS,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}di.contextType=rj;function ZQ(t,e){const n=t.props;return U(fS,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function JQ(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class af extends At{render(){let{props:e,context:n}=this,{options:i}=n,r={view:n.viewApi};return U(di,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...sj(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>e.children)}}function sj(t){return[`fc-${t.type}-view`,"fc-view"]}function eX(t,e){let n=null,i=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(i=e.createMarker(t.end)),!n&&!i||n&&i&&i<n?null:{start:n,end:i}}function uO(t,e){let n=[],{start:i}=e,r,s;for(t.sort(tX),r=0;r<t.length;r+=1)s=t[r],s.start>i&&n.push({start:i,end:s.start}),s.end>i&&(i=s.end);return i<e.end&&n.push({start:i,end:e.end}),n}function tX(t,e){return t.start.valueOf()-e.start.valueOf()}function ho(t,e){let{start:n,end:i}=t,r=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(n===null||i===null||n<i)&&(r={start:n,end:i}),r}function nX(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function hS(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Lp(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function sa(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function iX(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function aj(t){let e=Math.floor(bo(t.start,t.end))||1,n=Bt(t.start),i=On(n,e);return{start:n,end:i}}function gS(t,e=ft(0)){let n=null,i=null;if(t.end){i=Bt(t.end);let r=t.end.valueOf()-i.valueOf();r&&r>=Vr(e)&&(i=On(i,1))}return t.start&&(n=Bt(t.start),i&&i<=n&&(i=On(n,1))),{start:n,end:i}}function rX(t){let e=gS(t);return bo(e.start,e.end)>1}function jc(t,e,n,i){return i==="year"?ft(n.diffWholeYears(t,e),"year"):i==="month"?ft(n.diffWholeMonths(t,e),"month"):uQ(t,e)}class oj{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,i){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,i)}buildNext(e,n,i){let{dateEnv:r}=this.props,s=r.add(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,i)}build(e,n,i=!0){let{props:r}=this,s,a,l,u,d,h;return s=this.buildValidRange(),s=this.trimHiddenDays(s),i&&(e=iX(e,s)),a=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(a.unit),u=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),u=this.trimHiddenDays(u),d=u,r.showNonCurrentDates||(d=ho(d,a.range)),d=this.adjustActiveRange(d),d=ho(d,s),h=hS(a.range,s),sa(u,e)||(e=u.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:d,renderRange:u,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:h,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:i}=this,r=null,s=null,a=null,l;return i.duration?(r=i.duration,s=i.durationUnit,a=this.buildRangeFromDuration(e,n,r,s)):(l=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,n,l)):(a=this.buildCustomVisibleRange(e))?s=i.dateEnv.greatestWholeUnit(a.start,a.end).unit:(r=this.getFallbackDuration(),s=N_(r).unit,a=this.buildRangeFromDuration(e,n,r,s)),{duration:r,unit:s,range:a}}getFallbackDuration(){return ft({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:s}=this.props,{start:a,end:l}=e;return i&&($c(r)<0&&(a=Bt(a),a=n.add(a,r)),$c(s)>1&&(l=Bt(l),l=On(l,-1),l=n.add(l,s))),{start:a,end:l}}buildRangeFromDuration(e,n,i,r){let{dateEnv:s,dateAlignment:a}=this.props,l,u,d;if(!a){let{dateIncrement:g}=this.props;g&&Vr(g)<Vr(i)?a=N_(g).unit:a=r}$c(i)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=Bt(l));function h(){l=s.startOf(e,a),u=s.add(l,i),d={start:l,end:u}}return h(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),h()),d}buildRangeFromDayCount(e,n,i){let{dateEnv:r,dateAlignment:s}=this.props,a=0,l=e,u;s&&(l=r.startOf(l,s)),l=Bt(l),l=this.skipHiddenDays(l,n),u=l;do u=On(u,1),this.isHiddenDay(u)||(a+=1);while(a<i);return{start:l,end:u}}buildCustomVisibleRange(e){let{props:n}=this,i=n.visibleRangeInput,r=typeof i=="function"?i.call(n.calendarApi,n.dateEnv.toDate(e)):i,s=this.refineRange(r);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,i){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,i;return n||((i=this.props.dateAlignment)?ft(1,i):e||ft({days:1}))}refineRange(e){if(e){let n=eX(e,this.props.dateEnv);return n&&(n=gS(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(n[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:i}=e;return n&&(n=this.skipHiddenDays(n)),i&&(i=this.skipHiddenDays(i,-1,!0)),n==null||i==null||n<i?{start:n,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?n:0)+7)%7];)e=On(e,n);return e}}function mS(t,e,n,i){return{instanceId:Cl(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:i??null}}function sX(t,e,n,i){for(let r=0;r<i.length;r+=1){let s=i[r].parse(t,n);if(s){let{allDay:a}=t;return a==null&&(a=e,a==null&&(a=s.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}function ml(t,e,n){let{dateEnv:i,pluginHooks:r,options:s}=n,{defs:a,instances:l}=t;l=gl(l,u=>!a[u.defId].recurringDef);for(let u in a){let d=a[u];if(d.recurringDef){let{duration:h}=d.recurringDef;h||(h=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let g=aX(d,h,e,i,r.recurringTypes);for(let p of g){let v=mS(u,{start:p,end:i.add(p,h)});l[v.instanceId]=v}}}return{defs:a,instances:l}}function aX(t,e,n,i,r){let a=r[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:i.subtract(n.start,e),end:n.end},i);return t.allDay&&(a=a.map(Bt)),a}const um={id:String,groupId:String,title:String,url:String,interactive:Boolean},lj={start:se,end:se,date:se,allDay:Boolean},oX=Object.assign(Object.assign(Object.assign({},um),lj),{extendedProps:se});function cj(t,e,n,i,r=pS(n),s,a){let{refined:l,extra:u}=uj(t,n,r),d=cX(e,n),h=sX(l,d,n.dateEnv,n.pluginHooks.recurringTypes);if(h){let p=P_(l,u,e?e.sourceId:"",h.allDay,!!h.duration,n,s);return p.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:p,instance:null}}let g=lX(l,d,n,i);if(g){let p=P_(l,u,e?e.sourceId:"",g.allDay,g.hasEnd,n,s),v=mS(p.defId,g.range,g.forcedStartTzo,g.forcedEndTzo);return a&&p.publicId&&a[p.publicId]&&(v.instanceId=a[p.publicId]),{def:p,instance:v}}return null}function uj(t,e,n=pS(e)){return cS(t,n)}function pS(t){return Object.assign(Object.assign(Object.assign({},$m),oX),t.pluginHooks.eventRefiners)}function P_(t,e,n,i,r,s,a){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(a&&t.id?a[t.id]:"")||Cl(),sourceId:n,allDay:i,hasEnd:r,interactive:t.interactive,ui:qm(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let u of s.pluginHooks.eventDefMemberAdders)Object.assign(l,u(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function lX(t,e,n,i){let{allDay:r}=t,s,a=null,l=!1,u,d=null,h=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(h),s)a=s.marker;else if(!i)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),r==null&&(e!=null?r=e:r=(!s||s.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),r&&a&&(a=Bt(a)),u&&(d=u.marker,r&&(d=Bt(d)),a&&d<=a&&(d=null)),d?l=!0:i||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(a,r?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:r,hasEnd:l,range:{start:a,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function cX(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function of(t,e,n,i,r,s){let a=er(),l=pS(n);for(let u of t){let d=cj(u,e,n,i,l,r,s);d&&j_(d,a)}return a}function j_(t,e=er()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function vS(t,e){let n=t.instances[e];if(n){let i=t.defs[n.defId],r=Fp(t,s=>uX(i,s));return r.defs[i.defId]=i,r.instances[n.instanceId]=n,r}return er()}function uX(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function er(){return{defs:{},instances:{}}}function yS(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Fp(t,e){let n=gl(t.defs,e),i=gl(t.instances,r=>n[r.defId]);return{defs:n,instances:i}}function dX(t,e){let{defs:n,instances:i}=t,r={},s={};for(let a in n)e.defs[a]||(r[a]=n[a]);for(let a in i)!e.instances[a]&&r[i[a].defId]&&(s[a]=i[a]);return{defs:r,instances:s}}function fX(t,e){return Array.isArray(t)?of(t,null,e,!0):typeof t=="object"&&t?of([t],null,e,!0):t!=null?String(t):null}function dO(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const $m={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:se,overlap:se,allow:se,className:dO,classNames:dO,color:String,backgroundColor:String,borderColor:String,textColor:String},hX={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function qm(t,e){let n=fX(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function dj(t){return t.reduce(gX,hX)}function gX(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const mX={id:String,defaultAllDay:Boolean,url:String,format:String,events:se,eventDataTransform:se,success:se,failure:se};function fj(t,e,n=hj(e)){let i;if(typeof t=="string"?i={url:t}:typeof t=="function"||Array.isArray(t)?i={events:t}:typeof t=="object"&&t&&(i=t),i){let{refined:r,extra:s}=cS(i,n),a=pX(r,e);if(a)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Cl(),sourceDefId:a.sourceDefId,meta:a.meta,ui:qm(r,e),extendedProps:s}}return null}function hj(t){return Object.assign(Object.assign(Object.assign({},$m),mX),t.pluginHooks.eventSourceRefiners)}function pX(t,e){let n=e.pluginHooks.eventSourceDefs;for(let i=n.length-1;i>=0;i-=1){let s=n[i].parseMeta(t);if(s)return{sourceDefId:i,meta:s}}return null}function vX(t,e,n,i,r){switch(e.type){case"RECEIVE_EVENTS":return yX(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return bX(t,n[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return _X(t,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return yS(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?ml(t,i.activeRange,r):t;case"REMOVE_EVENTS":return dX(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return mj(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Fp(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return er();default:return t}}function yX(t,e,n,i,r,s){if(e&&n===e.latestFetchId){let a=of(gj(r,e,s),e,s);return i&&(a=ml(a,i,s)),yS(mj(t,e.sourceId),a)}return t}function bX(t,e,n,i,r){const{defIdMap:s,instanceIdMap:a}=SX(t);let l=of(gj(n,e,r),e,r,!1,s,a);return ml(l,i,r)}function gj(t,e,n){let i=n.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(t=fO(t,r)),i&&(t=fO(t,i)),t}function fO(t,e){let n;if(!e)n=t;else{n=[];for(let i of t){let r=e(i);r?n.push(r):r==null&&n.push(i)}}return n}function _X(t,e,n,i){return n&&(e=ml(e,n,i)),yS(t,e)}function hO(t,e,n){let{defs:i}=t,r=ua(t.instances,s=>i[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:i,instances:r}}function mj(t,e){return Fp(t,n=>n.sourceId!==e)}function wX(t,e){return{defs:t.defs,instances:gl(t.instances,n=>!e[n.instanceId])}}function SX(t){const{defs:e,instances:n}=t,i={},r={};for(let s in e){const a=e[s],{publicId:l}=a;l&&(i[l]=s)}for(let s in n){const a=n[s],l=e[a.defId],{publicId:u}=l;u&&(r[u]=s)}return{defIdMap:i,instanceIdMap:r}}class Up{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){xX(this.handlers,e,n)}off(e,n){EX(this.handlers,e,n)}trigger(e,...n){let i=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],i);for(let a of s)a.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function xX(t,e,n){(t[e]||(t[e]=[])).push(n)}function EX(t,e,n){n?t[e]&&(t[e]=t[e].filter(i=>i!==n)):delete t[e]}const CX={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function AX(t,e){return of(TX(t),null,e)}function TX(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},CX),n)),e}function pj(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},bS(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function RX(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function bS(t,e){let n={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(n,i(t,e));return Object.assign(n,BX(t,e.dateEnv)),n}function gO(t,e,n){let{dateEnv:i,options:r}=n,s=e;return t?(s=Bt(s),s=i.add(s,r.defaultAllDayEventDuration)):s=i.add(s,r.defaultTimedEventDuration),s}function _S(t,e,n,i){let r=Gm(t.defs,e),s=er();for(let a in t.defs){let l=t.defs[a];s.defs[a]=DX(l,r[a],n,i)}for(let a in t.instances){let l=t.instances[a],u=s.defs[l.defId];s.instances[a]=OX(l,u,r[l.defId],n,i)}return s}function DX(t,e,n,i){let r=n.standardProps||{};r.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),r),{ui:Object.assign(Object.assign({},t.ui),r.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let a of i.pluginHooks.eventDefMutationAppliers)a(s,n,i);return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function OX(t,e,n,i,r){let{dateEnv:s}=r,a=i.standardProps&&i.standardProps.allDay===!0,l=i.standardProps&&i.standardProps.hasEnd===!1,u=Object.assign({},t);return a&&(u.range=aj(u.range)),i.datesDelta&&n.startEditable&&(u.range={start:s.add(u.range.start,i.datesDelta),end:s.add(u.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(u.range={start:s.add(u.range.start,i.startDelta),end:u.range.end}),i.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:s.add(u.range.end,i.endDelta)}),l&&(u.range={start:u.range.start,end:gO(e.allDay,u.range.start,r)}),e.allDay&&(u.range={start:Bt(u.range.start),end:Bt(u.range.end)}),u.range.end<u.range.start&&(u.range.end=gO(e.allDay,u.range.start,r)),u}class kc{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class nn{constructor(e,n,i){this._context=e,this._def=n,this._instance=i||null}setProp(e,n){if(e in lj)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=um[e](n),this.mutate({standardProps:{publicId:n}});else if(e in um)n=um[e](n),this.mutate({standardProps:{[e]:n}});else if(e in $m){let i=$m[e](n);e==="color"?i={backgroundColor:n,borderColor:n}:e==="editable"?i={startEditable:n,durationEditable:n}:i={[e]:n},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let s=this._instance.range,a=jc(s.start,r,i,n.granularity);n.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,n={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let s=jc(this._instance.range.end,r,i,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,i={}){let{dateEnv:r}=this._context,s={allDay:i.allDay},a=r.createMarker(e),l;if(a&&!(n!=null&&(l=r.createMarker(n),!l))&&this._instance){let u=this._instance.range;i.allDay===!0&&(u=aj(u));let d=jc(u.start,a,r,i.granularity);if(l){let h=jc(u.end,l,r,i.granularity);eQ(d,h)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:h,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let n=ft(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=ft(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=ft(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let i={allDay:e},{maintainDuration:r}=n;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:n}=this._context,i=this._instance,r=Zt(e);return this._def.hasEnd?n.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):n.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let i=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),a=vS(s,n.instanceId);a=_S(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let u=new nn(r,i,n);this._def=a.defs[i.defId],this._instance=a.instances[n.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:a}),r.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:ol(a,r,n),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=vj(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new kc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:i}=n,{startStr:r,endStr:s}=this,a={allDay:n.allDay};return n.title&&(a.title=n.title),r&&(a.start=r),s&&(a.end=s),n.publicId&&(a.id=n.publicId),n.groupId&&(a.groupId=n.groupId),n.url&&(a.url=n.url),i.display&&i.display!=="auto"&&(a.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?a.color=i.backgroundColor:(i.backgroundColor&&(a.backgroundColor=i.backgroundColor),i.borderColor&&(a.borderColor=i.borderColor)),i.textColor&&(a.textColor=i.textColor),i.classNames.length&&(a.classNames=i.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,n.extendedProps):a.extendedProps=n.extendedProps),a}toJSON(){return this.toPlainObject()}}function vj(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function ol(t,e,n){let{defs:i,instances:r}=t,s=[],a=n?n.instanceId:"";for(let l in r){let u=r[l],d=i[u.defId];u.instanceId!==a&&s.push(new nn(e,d,u))}return s}function L_(t,e,n,i){let r={},s={},a={},l=[],u=[],d=Gm(t.defs,e);for(let h in t.defs){let g=t.defs[h];d[g.defId].display==="inverse-background"&&(g.groupId?(r[g.groupId]=[],a[g.groupId]||(a[g.groupId]=g)):s[h]=[])}for(let h in t.instances){let g=t.instances[h],p=t.defs[g.defId],v=d[p.defId],b=g.range,_=!p.allDay&&i?gS(b,i):b,S=ho(_,n);S&&(v.display==="inverse-background"?p.groupId?r[p.groupId].push(S):s[g.defId].push(S):v.display!=="none"&&(v.display==="background"?l:u).push({def:p,ui:v,instance:g,range:S,isStart:_.start&&_.start.valueOf()===S.start.valueOf(),isEnd:_.end&&_.end.valueOf()===S.end.valueOf()}))}for(let h in r){let g=r[h],p=uO(g,n);for(let v of p){let b=a[h],_=d[b.defId];l.push({def:b,ui:_,instance:null,range:v,isStart:!1,isEnd:!1})}}for(let h in s){let g=s[h],p=uO(g,n);for(let v of p)l.push({def:t.defs[h],ui:d[h],instance:null,range:v,isStart:!1,isEnd:!1})}return{bg:l,fg:u}}function MX(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function mO(t,e){t.fcSeg=e}function Zc(t){return t.fcSeg||t.parentNode.fcSeg||null}function Gm(t,e){return ua(t,n=>yj(n,e))}function yj(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),dj(n)}function wS(t,e){let n=t.map(kX);return n.sort((i,r)=>WK(i,r,e)),n.map(i=>i._seg)}function kX(t){let{eventRange:e}=t,n=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:r,end:s,duration:s-r,allDay:Number(n.allDay),_seg:t})}function NX(t,e){let{pluginHooks:n}=e,i=n.isDraggableTransformers,{def:r,ui:s}=t.eventRange,a=s.startEditable;for(let l of i)a=l(a,r,s,e);return a}function IX(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function PX(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Fd(t,e,n,i,r,s,a){let{dateEnv:l,options:u}=n,{displayEventTime:d,displayEventEnd:h}=u,g=t.eventRange.def,p=t.eventRange.instance;d==null&&(d=i!==!1),h==null&&(h=r!==!1);let v=p.range.start,b=p.range.end,_=s||t.start||t.eventRange.range.start,S=a||t.end||t.eventRange.range.end,x=Bt(v).valueOf()===Bt(_).valueOf(),A=Bt(fo(b,-1)).valueOf()===Bt(fo(S,-1)).valueOf();return d&&!g.allDay&&(x||A)?(_=x?v:_,S=A?b:S,h&&g.hasEnd?l.formatRange(_,S,e,{forcedStartTzo:s?null:p.forcedStartTzo,forcedEndTzo:a?null:p.forcedEndTzo}):l.format(_,e,{forcedTzo:s?null:p.forcedStartTzo})):""}function aa(t,e,n){let i=t.eventRange.range;return{isPast:i.end<=(n||e.start),isFuture:i.start>=(n||e.end),isToday:e&&sa(e,i.start)}}function jX(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function bj(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function SS(t,e){let{def:n,instance:i}=t.eventRange,{url:r}=n;if(r)return{href:r};let{emitter:s,options:a}=e,{eventInteractive:l}=a;return l==null&&(l=n.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?XP(u=>{s.trigger("eventClick",{el:u.target,event:new nn(e,n,i),jsEvent:u,view:e.viewApi})}):{}}const LX={start:se,end:se,allDay:Boolean};function FX(t,e,n){let i=UX(t,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(n==null)return null;r.end=e.add(r.start,n)}return i}function UX(t,e){let{refined:n,extra:i}=cS(t,LX),r=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:a}=n;return a==null&&(a=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:a},i)}function zX(t,e){return nX(t.range,e.range)&&t.allDay===e.allDay&&HX(t,e)}function HX(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function BX(t,e){return Object.assign(Object.assign({},wj(t.range,e,t.allDay)),{allDay:t.allDay})}function _j(t,e,n){return Object.assign(Object.assign({},wj(t,e,n)),{timeZone:e.timeZone})}function wj(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function VX(t,e,n){let i=uj({editable:!1},n),r=P_(i.refined,i.extra,"",t.allDay,!0,n);return{def:r,ui:yj(r,e),instance:mS(r.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function $X(t,e,n){let i=!1,r=function(l){i||(i=!0,e(l))},s=function(l){i||(i=!0,n(l))},a=t(r,s);a&&typeof a.then=="function"&&a.then(r,s)}class pO extends Error{constructor(e,n){super(e),this.response=n}}function qX(t,e,n){t=t.toUpperCase();const i={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(i.body=new URLSearchParams(n),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new pO("Failure parsing JSON",r)});throw new pO("Request failed",r)})}let h0;function Sj(){return h0==null&&(h0=GX()),h0}function GX(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class WX extends At{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Vm(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Vm(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:i}=this.state,r=i||n.height==="auto"||n.contentHeight==="auto",s=!r&&n.height!=null?n.height:"",a=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return Sj()||a.push("fc-liquid-hack"),e.children(a,s,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let mu=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function YX(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function xS(t){return{[t.component.uid]:t}}const F_={};class Tl extends Ji{constructor(e,n){super(e,n),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,i=n.nowManager.getDateMarker(),{nowIndicatorSnap:r}=n.options;r==="auto"&&(r=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,a;return r?(s=n.dateEnv.startOf(i,e.unit),a=n.dateEnv.add(s,ft(1,e.unit)).valueOf()-i.valueOf()):(s=i,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:KX(s)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Tl.contextType=ga;function KX(t){let e=Bt(t),n=On(e,1);return{start:e,end:n}}class QX{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let i=this.getCurrentData(),r;n=n||"day",r=i.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),s,a;for(let l in n)r.push(l);for(s=0;s<r.length;s+=1)if(a=n[r[s]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),i=ft(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),Zt(n))}formatRange(e,n,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(n),Zt(i),i)}formatIso(e,n){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:n})}select(e,n){let i;n==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:n};let r=this.getCurrentData(),s=FX(i,r.dateEnv,ft({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),pj(s,null,r))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),RX(e,n))}addEvent(e,n){if(e instanceof nn){let a=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:j_({def:a,instance:l})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(n instanceof kc)r=n.internalEventSource;else if(typeof n=="boolean")n&&([r]=dS(i.eventSources));else if(n!=null){let a=this.getEventSourceById(n);if(!a)return console.warn(`Could not find an event source with ID "${n}"`),null;r=a.internalEventSource}let s=cj(e,r,i,!1);if(s){let a=new nn(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:j_(s)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:vj(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:i,instances:r}=n.eventStore;e=String(e);for(let s in i){let a=i[s];if(a.publicId===e){if(a.recurringDef)return new nn(n,a,null);for(let l in r){let u=r[l];if(u.defId===a.defId)return new nn(n,a,u)}}}return null}getEvents(){let e=this.getCurrentData();return ol(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,i=[];for(let r in n)i.push(new kc(e,n[r]));return i}getEventSourceById(e){let n=this.getCurrentData(),i=n.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new kc(n,i[r]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof kc)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=fj(e,n);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new kc(n,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=ft(e);n&&this.trigger("_scrollRequest",{time:n})}}function XX(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function xj(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function ZX(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function JX(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function eZ(t,e){return{left:t.left-e.left,top:t.top-e.top}}const g0=er();class tZ{constructor(){this.getKeysForEventDefs=Ne(this._getKeysForEventDefs),this.splitDateSelection=Ne(this._splitDateSpan),this.splitEventStore=Ne(this._splitEventStore),this.splitIndividualUi=Ne(this._splitIndividualUi),this.splitEventDrag=Ne(this._splitInteraction),this.splitEventResize=Ne(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,i),a=this.splitEventStore(e.eventStore,i),l=this.splitEventDrag(e.eventDrag),u=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=ua(n,(h,g)=>this.eventUiBuilders[g]||Ne(nZ));for(let h in n){let g=n[h],p=a[h]||g0,v=this.eventUiBuilders[h];d[h]={businessHours:g.businessHours||e.businessHours,dateSelection:r[h]||null,eventStore:p,eventUiBases:v(e.eventUiBases[""],g.ui,s[h]),eventSelection:p.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[h]||null,eventResize:u[h]||null}}return d}_splitDateSpan(e){let n={};if(e){let i=this.getKeysForDateSpan(e);for(let r of i)n[r]=e}return n}_getKeysForEventDefs(e){return ua(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:i,instances:r}=e,s={};for(let a in i)for(let l of n[a])s[l]||(s[l]=er()),s[l].defs[a]=i[a];for(let a in r){let l=r[a];for(let u of n[l.defId])s[u]&&(s[u].instances[a]=l)}return s}_splitIndividualUi(e,n){let i={};for(let r in e)if(r)for(let s of n[r])i[s]||(i[s]={}),i[s][r]=e[r];return i}_splitInteraction(e){let n={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,r),a=l=>{n[l]||(n[l]={affectedEvents:i[l]||g0,mutatedEvents:s[l]||g0,isEvent:e.isEvent})};for(let l in i)a(l);for(let l in s)a(l)}return n}}function nZ(t,e,n){let i=[];t&&i.push(t),e&&i.push(e);let r={"":dj(i)};return n&&Object.assign(r,n),r}function ES(t,e,n,i){return{dow:t.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!sa(i.activeRange,t))),isOther:!!(i&&!sa(i.currentRange,t)),isToday:!!(e&&sa(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function zp(t,e){let n=["fc-day",`fc-day-${sQ[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const iZ=Zt({year:"numeric",month:"long",day:"numeric"}),rZ=Zt({week:"long"});function Jc(t,e,n="day",i=!0){const{dateEnv:r,options:s,calendarApi:a}=t;let l=r.format(e,n==="week"?rZ:iZ);if(s.navLinks){let u=r.toDate(e);const d=h=>{let g=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof g=="function"?g.call(a,r.toDate(e),h):(typeof g=="string"&&(n=g),a.zoomTo(e,n))};return Object.assign({title:jd(s.navLinkHint,[l,u],l),"data-navlink":""},i?QP(d):{onClick:d})}return{"aria-label":l}}let m0=null;function sZ(){return m0===null&&(m0=aZ()),m0}function aZ(){let t=document.createElement("div");Pd(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return rS(t),n}let p0;function oZ(){return p0||(p0=lZ()),p0}function lZ(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=Ej(t);return document.body.removeChild(t),e}function Ej(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function cZ(t,e=!1){let n=window.getComputedStyle(t),i=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,l=Ej(t),u=l.y-i-r,d=l.x-s-a,h={borderLeft:i,borderRight:r,borderTop:s,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return sZ()&&n.direction==="rtl"?h.scrollbarLeft=u:h.scrollbarRight=u,e&&(h.paddingLeft=parseInt(n.paddingLeft,10)||0,h.paddingRight=parseInt(n.paddingRight,10)||0,h.paddingTop=parseInt(n.paddingTop,10)||0,h.paddingBottom=parseInt(n.paddingBottom,10)||0),h}function uZ(t,e=!1,n){let i=CS(t),r=cZ(t,e),s={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function CS(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function dZ(t){let e=Cj(t),n=t.getBoundingClientRect();for(let i of e){let r=xj(n,i.getBoundingClientRect());if(r)n=r;else return null}return n}function Cj(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class eu{constructor(e,n,i,r){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.left-e),i.push(s.right-e)}this.lefts=n,this.rights=i}buildElVerticals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.top-e),i.push(s.bottom-e)}this.tops=n,this.bottoms=i}leftToIndex(e){let{lefts:n,rights:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}topToIndex(e){let{tops:n,bottoms:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Ig(this.tops||[],e.tops||[])&&Ig(this.bottoms||[],e.bottoms||[])&&Ig(this.lefts||[],e.lefts||[])&&Ig(this.rights||[],e.rights||[])}}function Ig(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(Math.round(t[i])!==Math.round(e[i]))return!1;return!0}class AS{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class fZ extends AS{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class hZ extends AS{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class es extends At{constructor(){super(...arguments),this.uid=Cl()}prepareHits(){}queryHit(e,n,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ci(e,".fc-event-mirror")}isValidDateDownEl(e){return!ci(e,".fc-event:not(.fc-bg-event)")&&!ci(e,".fc-more-link")&&!ci(e,"a[data-navlink]")&&!ci(e,".fc-popover")}}class Aj{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let i of e)this.insertEntry(i,n);return n}insertEntry(e,n){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},n),{span:TS(n.span,e.touchingEntry.span)});i.push(r),this.splitEntry(n,e.touchingEntry,i)}else i.push(n)}splitEntry(e,n,i){let r=e.span,s=n.span;r.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:s.start}},i),r.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:r.end}},i)}insertEntryAt(e,n){let{entriesByLevel:i,levelCoords:r}=this;n.lateral===-1?(v0(r,n.level,n.levelCoord),v0(i,n.level,[e])):v0(i[n.level],n.lateral,e),this.stackCnts[ll(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:i,strictOrder:r,stackCnts:s}=this,a=n.length,l=0,u=-1,d=-1,h=null,g=0;for(let b=0;b<a;b+=1){const _=n[b];if(!r&&_>=l+this.getEntryThickness(e))break;let S=i[b],x,A=z_(S,e.span.start,U_),T=A[0]+A[1];for(;(x=S[T])&&x.span.start<e.span.end;){let M=_+this.getEntryThickness(x);M>l&&(l=M,h=x,u=b,d=T),M===l&&(g=Math.max(g,s[ll(x)]+1)),T+=1}}let p=0;if(h)for(p=u+1;p<a&&n[p]<l;)p+=1;let v=-1;return p<a&&n[p]===l&&(v=z_(i[p],e.span.end,U_)[0]),{touchingLevel:u,touchingLateral:d,touchingEntry:h,stackCnt:g,levelCoord:l,level:p,lateral:v}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,i=e.length,r=[];for(let s=0;s<i;s+=1){let a=e[s],l=n[s];for(let u of a)r.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:l}))}return r}}function U_(t){return t.span.end}function ll(t){return t.index+":"+t.span.start}function gZ(t){let e=[];for(let n of t){let i=[],r={span:n.span,entries:[n]};for(let s of e)TS(s.span,r.span)?r={entries:s.entries.concat(r.entries),span:mZ(s.span,r.span)}:i.push(s);i.push(r),e=i}return e}function mZ(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function TS(t,e){let n=Math.max(t.start,e.start),i=Math.min(t.end,e.end);return n<i?{start:n,end:i}:null}function v0(t,e,n){t.splice(e,0,n)}function z_(t,e,n){let i=0,r=t.length;if(!r||e<n(t[i]))return[0,0];if(e>n(t[r-1]))return[r,0];for(;i<r;){let s=Math.floor(i+(r-i)/2),a=n(t[s]);if(e<a)r=s;else if(e>a)i=s+1;else return[s,1]}return[i,0]}class pZ{constructor(e,n){this.emitter=new Up}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const RS={};function vZ(t,e){return!t||e>10?Zt({weekday:"short"}):e>1?Zt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Zt({weekday:"long"})}const Tj="fc-col-header-cell";function Rj(t){return t.text}class yZ extends At{render(){let{dateEnv:e,options:n,theme:i,viewApi:r}=this.context,{props:s}=this,{date:a,dateProfile:l}=s,u=ES(a,s.todayRange,null,l),d=[Tj].concat(zp(u,i)),h=e.format(a,s.dayHeaderFormat),g=!u.isDisabled&&s.colCnt>1?Jc(this.context,a):{},p=e.toDate(a);e.namedTimeZoneImpl&&(p=fo(p,36e5));let v=Object.assign(Object.assign(Object.assign({date:p,view:r},s.extraRenderProps),{text:h}),u);return U(di,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":u.isDisabled?void 0:kf(a)},s.extraDataAttrs),renderProps:v,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Rj,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},b=>U("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&U(b,{elTag:"a",elAttrs:g,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const bZ=Zt({weekday:"long"});class _Z extends At{render(){let{props:e}=this,{dateEnv:n,theme:i,viewApi:r,options:s}=this.context,a=On(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=n.format(a,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:a},l),{view:r}),e.extraRenderProps),{text:u});return U(di,{elTag:"th",elClasses:[Tj,...zp(l,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:Rj,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},h=>U("div",{className:"fc-scrollgrid-sync-inner"},U(h,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(a,bZ)}})))}}class Dj extends At{constructor(){super(...arguments),this.createDayHeaderFormatter=Ne(wZ)}render(){let{context:e}=this,{dates:n,dateProfile:i,datesRepDistinctDays:r,renderIntro:s}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,n.length);return U(Tl,{unit:"day"},(l,u)=>U("tr",{role:"row"},s&&s("day"),n.map(d=>r?U(yZ,{key:d.toISOString(),date:d,dateProfile:i,todayRange:u,colCnt:n.length,dayHeaderFormat:a}):U(_Z,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:a}))))}}function wZ(t,e,n){return t||vZ(e,n)}class Oj{constructor(e,n){let i=e.start,{end:r}=e,s=[],a=[],l=-1;for(;i<r;)n.isHiddenDay(i)?s.push(l+.5):(l+=1,s.push(l),a.push(i)),i=On(i,1);this.dates=a,this.indices=s,this.cnt=a.length}sliceRange(e){let n=this.getDateDayIndex(e.start),i=this.getDateDayIndex(On(e.end,-1)),r=Math.max(0,n),s=Math.min(this.cnt-1,i);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:n===r,isEnd:i===s}:null}getDateDayIndex(e){let{indices:n}=this,i=Math.floor(bo(this.dates[0],e));return i<0?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]}}class Mj{constructor(e,n){let{dates:i}=e,r,s,a;if(n){for(s=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==s;r+=1);a=Math.ceil(i.length/r)}else a=1,r=i.length;this.rowCnt=a,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(n,r));e.push(i)}return e}buildCell(e,n){let i=this.daySeries.dates[e*this.colCnt+n];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:s,lastIndex:a}=i,l=s;for(;l<=a;){let u=Math.floor(l/n),d=Math.min((u+1)*n,a+1);r.push({row:u,firstCol:l%n,lastCol:(d-1)%n,isStart:i.isStart&&l===s,isEnd:i.isEnd&&d-1===a}),l=d}}return r}}class kj{constructor(){this.sliceBusinessHours=Ne(this._sliceBusinessHours),this.sliceDateSelection=Ne(this._sliceDateSpan),this.sliceEventStore=Ne(this._sliceEventStore),this.sliceEventDrag=Ne(this._sliceInteraction),this.sliceEventResize=Ne(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,i,r,...s){let{eventUiBases:a}=e,l=this.sliceEventStore(e.eventStore,a,n,i,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,i,a,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,i,r,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,n,i,...s),eventResize:this.sliceEventResize(e.eventResize,a,n,i,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,i,r,...s){return this._sliceDateSpan({range:{start:e,end:fo(e,1)},allDay:!1},n,i,{},r,...s)}_sliceBusinessHours(e,n,i,r,...s){return e?this._sliceEventStore(ml(e,Pg(n,!!i),r),{},n,i,...s).bg:[]}_sliceEventStore(e,n,i,r,...s){if(e){let a=L_(e,n,Pg(i,!!r),r);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,i,r,...s){if(!e)return null;let a=L_(e.mutatedEvents,n,Pg(i,!!r),r);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,i,r,s,...a){if(!e)return[];let l=Pg(n,!!i),u=ho(e.range,l);if(u){e=Object.assign(Object.assign({},e),{range:u});let d=VX(e,r,s),h=this.sliceRange(e.range,...a);for(let g of h)g.eventRange=d;return h}return[]}sliceEventRanges(e,n){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,n));return i}sliceEventRange(e,n){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:On(i.start,1)});let r=this.sliceRange(i,...n);for(let s of r)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return r}}function Pg(t,e){let n=t.activeRange;return e?n:{start:fo(n.start,t.slotMinTime.milliseconds),end:fo(n.end,t.slotMaxTime.milliseconds-864e5)}}function Nj(t,e,n){let{instances:i}=t.mutatedEvents;for(let r in i)if(!Lp(e.validRange,i[r].range))return!1;return Ij({eventDrag:t},n)}function SZ(t,e,n){return Lp(e.validRange,t.range)?Ij({dateSelection:t},n):!1}function Ij(t,e){let n=e.getCurrentData(),i=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||xZ)(i,e)}function xZ(t,e,n={},i){return!(t.eventDrag&&!EZ(t,e,n,i)||t.dateSelection&&!CZ(t,e,n,i))}function EZ(t,e,n,i){let r=e.getCurrentData(),s=t.eventDrag,a=s.mutatedEvents,l=a.defs,u=a.instances,d=Gm(l,s.isEvent?t.eventUiBases:{"":r.selectionConfig});i&&(d=ua(d,i));let h=wX(t.eventStore,s.affectedEvents.instances),g=h.defs,p=h.instances,v=Gm(g,t.eventUiBases);for(let b in u){let _=u[b],S=_.range,x=d[_.defId],A=l[_.defId];if(!Pj(x.constraints,S,h,t.businessHours,e))return!1;let{eventOverlap:T}=e.options,M=typeof T=="function"?T:null;for(let N in p){let k=p[N];if(hS(S,k.range)&&(v[k.defId].overlap===!1&&s.isEvent||x.overlap===!1||M&&!M(new nn(e,g[k.defId],k),new nn(e,A,_))))return!1}let O=r.eventStore;for(let N of x.allows){let k=Object.assign(Object.assign({},n),{range:_.range,allDay:A.allDay}),D=O.defs[A.defId],P=O.instances[b],z;if(D?z=new nn(e,D,P):z=new nn(e,A),!N(bS(k,e),z))return!1}}return!0}function CZ(t,e,n,i){let r=t.eventStore,s=r.defs,a=r.instances,l=t.dateSelection,u=l.range,{selectionConfig:d}=e.getCurrentData();if(i&&(d=i(d)),!Pj(d.constraints,u,r,t.businessHours,e))return!1;let{selectOverlap:h}=e.options,g=typeof h=="function"?h:null;for(let p in a){let v=a[p];if(hS(u,v.range)&&(d.overlap===!1||g&&!g(new nn(e,s[v.defId],v),null)))return!1}for(let p of d.allows){let v=Object.assign(Object.assign({},n),l);if(!p(bS(v,e),null))return!1}return!0}function Pj(t,e,n,i,r){for(let s of t)if(!TZ(AZ(s,e,n,i,r),e))return!1;return!0}function AZ(t,e,n,i,r){return t==="businessHours"?y0(ml(i,e,r)):typeof t=="string"?y0(Fp(n,s=>s.groupId===t)):typeof t=="object"&&t?y0(ml(t,e,r)):[]}function y0(t){let{instances:e}=t,n=[];for(let i in e)n.push(e[i].range);return n}function TZ(t,e){for(let n of t)if(Lp(n,e))return!0;return!1}const jg=/^(visible|hidden)$/;class jj extends At{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,_s(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:i}=e,r=n&&i,s=["fc-scroller"];return n&&(i?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),U("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(jg.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(jg.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return jg.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return jg.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ta{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,i)=>{let{depths:r,currentMap:s}=this,a=!1,l=!1;n!==null?(a=i in s,s[i]=n,r[i]=(r[i]||0)+1,l=!0):(r[i]-=1,r[i]||(delete s[i],delete this.callbackMap[i],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(i)),l&&this.masterCallback(n,String(i)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),n}collect(e,n,i){return UQ(this.currentMap,e,n,i)}getAll(){return dS(this.currentMap)}}function RZ(t){let e=LK(t,".fc-scrollgrid-shrink"),n=0;for(let i of e)n=Math.max(n,XK(i));return Math.ceil(n)}function Lj(t,e){return t.liquid&&e.liquid}function DZ(t,e){return e.maxHeight!=null||Lj(t,e)}function OZ(t,e,n,i){let{expandRows:r}=n;return typeof e.content=="function"?e.content(n):U("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,U(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function MZ(t,e){return uo(t,e,Qr)}function kZ(t,e){let n=[];for(let i of t){let r=i.span||1;for(let s=0;s<r;s+=1)n.push(U("col",{style:{width:i.width==="shrink"?NZ(e):i.width||"",minWidth:i.minWidth||""}}))}return U("colgroup",{},...n)}function NZ(t){return t??4}function IZ(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function PZ(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function jZ(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function H_(t){return U("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Wm(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function Fj(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class DS extends At{constructor(){super(...arguments),this.processCols=Ne(e=>e,MZ),this.renderMicroColGroup=Ne(kZ),this.scrollerRefs=new ta,this.scrollerElRefs=new ta(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:i}=this,r=e.sections||[],s=this.processCols(e.cols),a=this.renderMicroColGroup(s,n.shrinkWidth),l=PZ(e.liquid,i);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let u=r.length,d=0,h,g=[],p=[],v=[];for(;d<u&&(h=r[d]).type==="header";)g.push(this.renderSection(h,a,!0)),d+=1;for(;d<u&&(h=r[d]).type==="body";)p.push(this.renderSection(h,a,!1)),d+=1;for(;d<u&&(h=r[d]).type==="footer";)v.push(this.renderSection(h,a,!0)),d+=1;let b=!Sj();const _={role:"rowgroup"};return U("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!b&&g.length)&&U("thead",_,...g),!!(!b&&p.length)&&U("tbody",_,...p),!!(!b&&v.length)&&U("tfoot",_,...v),b&&U("tbody",_,...g,...p,...v))}renderSection(e,n,i){return"outerContent"in e?U(Ft,{key:e.key},e.outerContent):U("tr",{key:e.key,role:"presentation",className:jZ(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,i))}renderChunkTd(e,n,i,r){if("outerContent"in i)return i.outerContent;let{props:s}=this,{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:u}=this.state,d=DZ(s,e),h=Lj(s,e),g=s.liquid?a?"scroll":d?"auto":"hidden":"visible",p=e.key,v=OZ(e,i,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[p]!==void 0?l[p]:null,clientHeight:u[p]!==void 0?u[p]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return U(r?"th":"td",{ref:i.elRef,role:"presentation"},U("div",{className:`fc-scroller-harness${h?" fc-scroller-harness-liquid":""}`},U(jj,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:g,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:h,liquidIsAbsolute:!0},v)))}_handleScrollerEl(e,n){let i=LZ(this.props.sections,n);i&&_s(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return IZ(this.props.cols)?RZ(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=oZ(),{scrollerRefs:n,scrollerElRefs:i}=this,r=!1,s={},a={};for(let l in n.currentMap){let u=n.currentMap[l];if(u&&u.needsYScrolling()){r=!0;break}}for(let l of this.props.sections){let u=l.key,d=i.currentMap[u];if(d){let h=d.parentNode;s[u]=Math.floor(h.getBoundingClientRect().width-(r?e.y:0)),a[u]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:a}}}DS.addStateEquality({scrollerClientWidths:Qr,scrollerClientHeights:Qr});function LZ(t,e){for(let n of t)if(n.key===e)return n;return null}class Hp extends At{constructor(){super(...arguments),this.buildPublicEvent=Ne((e,n,i)=>new nn(e,n,i)),this.handleEl=e=>{this.el=e,_s(this.props.elRef,e),e&&mO(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{eventRange:s}=r,{ui:a}=s,l={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&NX(r,n),isStartResizable:!e.disableResizing&&IX(r,n),isEndResizable:!e.disableResizing&&PX(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return U(di,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...jX(l),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&mO(this.el,this.props.seg)}}class OS extends At{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{ui:s}=r.eventRange,a=i.eventTimeFormat||e.defaultTimeFormat,l=Fd(r,a,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return U(Hp,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:SS(r,n),defaultGenerator:FZ,timeText:l}),(u,d)=>U(Ft,null,U(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&U("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&U("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}OS.addPropsEquality({seg:Qr});function FZ(t){return U("div",{className:"fc-event-main-frame"},t.timeText&&U("div",{className:"fc-event-time"},t.timeText),U("div",{className:"fc-event-title-container"},U("div",{className:"fc-event-title fc-sticky"},t.event.title||U(Ft,null," "))))}const MS=t=>U(ga.Consumer,null,e=>{let{options:n}=e,i={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return U(di,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:i,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),UZ=Zt({day:"numeric"});class kS extends At{constructor(){super(...arguments),this.refineRenderProps=cm(zZ)}render(){let{props:e,context:n}=this,{options:i}=n,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:i.monthStartFormat});return U(di,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":kf(e.date)}),elClasses:[...zp(r,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},e.children)}}function NS(t){return!!(t.dayCellContent||I_("dayCellContent",t))}function zZ(t){let{date:e,dateEnv:n,dateProfile:i,isMonthStart:r}=t,s=ES(e,t.todayRange,null,i),a=t.showDayNumber?n.format(e,r?t.monthStartFormat:UZ):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:r,dayNumberText:a}),t.extraRenderProps)}class Uj extends At{render(){let{props:e}=this,{seg:n}=e;return U(Hp,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:HZ,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function HZ(t){let{title:e}=t.event;return e&&U("div",{className:"fc-event-title"},t.event.title)}function zj(t){return U("div",{className:`fc-${t}`})}const Hj=t=>U(ga.Consumer,null,e=>{let{dateEnv:n,options:i}=e,{date:r}=t,s=i.weekNumberFormat||t.defaultFormat,a=n.computeWeekNumber(r),l=n.format(r,s),u={num:a,text:l,date:r};return U(di,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:BZ,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},t.children)});function BZ(t){return t.text}const b0=10;class VZ extends At{constructor(){super(...arguments),this.state={titleId:ro()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&_s(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=YP(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:i,state:r}=this,s=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return xK(U("div",Object.assign({},i.extraAttrs,{id:i.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),U("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},U("span",{className:"fc-popover-title",id:r.titleId},i.title),U("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),U("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:i}=this.props,{rootEl:r}=this,s=dZ(n);if(s){let a=r.getBoundingClientRect(),l=i?ci(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,u=e?s.right-a.width:s.left;l=Math.max(l,b0),u=Math.min(u,document.documentElement.clientWidth-b0-a.width),u=Math.max(u,b0);let d=r.offsetParent.getBoundingClientRect();Pd(r,{top:l-d.top,left:u-d.left})}}}class $Z extends es{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:i}=this,{startDate:r,todayRange:s,dateProfile:a}=i,l=n.format(r,e.dayPopoverFormat);return U(kS,{elRef:this.handleRootEl,date:r,dateProfile:a,todayRange:s},(u,d,h)=>U(VZ,{elRef:h.ref,id:i.id,title:l,extraClassNames:["fc-more-popover"].concat(h.className||[]),extraAttrs:h,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},NS(e)&&U(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,n,i,r){let{rootEl:s,props:a}=this;return e>=0&&e<i&&n>=0&&n<r?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class Bj extends At{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:ro()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&_s(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:i}=this,{moreLinkClick:r}=i.options,s=vO(n).start;function a(l){let{def:u,instance:d,range:h}=l.eventRange;return{event:new nn(i,u,d),start:i.dateEnv.toDate(h.start),end:i.dateEnv.toDate(h.end),isStart:l.isStart,isEnd:l.isEnd}}typeof r=="function"&&(r=r({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(a),hiddenSegs:n.hiddenSegs.map(a),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(s,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return U(ga.Consumer,null,i=>{let{viewApi:r,options:s,calendarApi:a}=i,{moreLinkText:l}=s,{moreCnt:u}=e,d=vO(e),h=typeof l=="function"?l.call(a,u):`+${u} ${l}`,g=jd(s.moreLinkHint,[u],h),p={num:u,shortText:`+${u}`,text:h,view:r};return U(Ft,null,!!e.moreCnt&&U(di,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),QP(this.handleClick)),{title:g,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:p,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||qZ,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&U($Z,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ci(this.linkEl,".fc-view-harness"))}}function qZ(t){return t.text}function vO(t){if(t.allDayDate)return{start:t.allDayDate,end:On(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:Vj(e),end:WZ(e)}}function Vj(t){return t.reduce(GZ).eventRange.range.start}function GZ(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function WZ(t){return t.reduce(YZ).eventRange.range.end}function YZ(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class KZ{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class QZ extends KZ{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let i=!1;e.isActive?(n.set(e.id,e),i=!0):n.has(e.id)&&(n.delete(e.id),i=!0),i&&this.set(n)}}const XZ=[],$j={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},qj=Object.assign(Object.assign({},$j),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function ZZ(t){let e=t.length>0?t[0].code:"en",n=XZ.concat(t),i={en:qj};for(let r of n)i[r.code]=r;return{map:i,defaultCode:e}}function Gj(t,e){return typeof t=="object"&&!Array.isArray(t)?Wj(t.code,[t.code],t):JZ(t,e)}function JZ(t,e){let n=[].concat(t||[]),i=eJ(n,e)||qj;return Wj(t,n,i)}function eJ(t,e){for(let n=0;n<t.length;n+=1){let i=t[n].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let s=i.slice(0,r).join("-");if(e[s])return e[s]}}return null}function Wj(t,e,n){let i=uS([$j,n],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:t,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(t),options:i}}function Es(t){return{id:Cl(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function tJ(t,e){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let a of s){const l=a.name,u=n[l];u===void 0?(n[l]=a.id,r(a.deps),i=iJ(i,a)):u!==a.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&r(t),r(e),i}function nJ(){let t=[],e=[],n;return(i,r)=>((!n||!uo(i,t)||!uo(r,e))&&(n=tJ(i,r)),t=i,e=r,n)}function iJ(t,e){return{premiumReleaseDate:rJ(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function rJ(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class _o extends Nf{}_o.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};_o.prototype.baseIconClass="fc-icon";_o.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};_o.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};_o.prototype.iconOverrideOption="buttonIcons";_o.prototype.iconOverrideCustomButtonOption="icon";_o.prototype.iconOverridePrefix="fc-icon-";function sJ(t,e){let n={},i;for(i in t)B_(i,n,t,e);for(i in e)B_(i,n,t,e);return n}function B_(t,e,n,i){if(e[t])return e[t];let r=aJ(t,e,n,i);return r&&(e[t]=r),r}function aJ(t,e,n,i){let r=n[t],s=i[t],a=h=>r&&r[h]!==null?r[h]:s&&s[h]!==null?s[h]:null,l=a("component"),u=a("superType"),d=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");d=B_(u,e,n,i)}return!l&&d&&(l=d.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},d?d.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function yO(t){return ua(t,oJ)}function oJ(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=bO(e):n&&!(n.prototype instanceof At)&&(n=bO(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function bO(t){return e=>U(ga.Consumer,null,n=>U(di,{elTag:"div",elClasses:sj(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function lJ(t,e,n,i){let r=yO(t),s=yO(e.views),a=sJ(r,s);return ua(a,l=>cJ(l,s,e,n,i))}function cJ(t,e,n,i,r){let s=t.overrides.duration||t.defaults.duration||i.duration||n.duration,a=null,l="",u="",d={};if(s&&(a=uJ(s),a)){let p=N_(a);l=p.unit,p.value===1&&(u=l,d=e[l]?e[l].rawOptions:{})}let h=p=>{let v=p.buttonText||{},b=t.defaults.buttonTextKey;return b!=null&&v[b]!=null?v[b]:v[t.type]!=null?v[t.type]:v[u]!=null?v[u]:null},g=p=>{let v=p.buttonHints||{},b=t.defaults.buttonTextKey;return b!=null&&v[b]!=null?v[b]:v[t.type]!=null?v[t.type]:v[u]!=null?v[u]:null};return{type:t.type,component:t.component,duration:a,durationUnit:l,singleUnit:u,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:h(i)||h(n)||t.overrides.buttonText,buttonTextDefault:h(r)||t.defaults.buttonText||h(Ld)||t.type,buttonTitleOverride:g(i)||g(n)||t.overrides.buttonHint,buttonTitleDefault:g(r)||t.defaults.buttonHint||g(Ld)}}let _O={};function uJ(t){let e=JSON.stringify(t),n=_O[e];return n===void 0&&(n=ft(t),_O[e]=n),n}function dJ(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function fJ(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function hJ(t,e,n){let i=t.initialDate;return i!=null?e.createMarker(i):n.getDateMarker()}function gJ(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function mJ(t,e,n,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||n);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(t,n),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(t,n),r.isValid)return r;break}return t}function pJ(t,e,n){let i=e?e.activeRange:null;return Kj({},xJ(t,n),i,n)}function vJ(t,e,n,i){let r=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Kj(t,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return bJ(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Qj(t,r,i):t;case"FETCH_EVENT_SOURCES":return IS(t,e.sourceIds?ej(e.sourceIds):Xj(t,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return SJ(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function yJ(t,e,n){let i=e?e.activeRange:null;return IS(t,Xj(t,n),i,!0,n)}function Yj(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function Kj(t,e,n,i){let r={};for(let s of e)r[s.sourceId]=s;return n&&(r=Qj(r,n,i)),Object.assign(Object.assign({},t),r)}function bJ(t,e){return gl(t,n=>n.sourceId!==e)}function Qj(t,e,n){return IS(t,gl(t,i=>_J(i,e,n)),e,!1,n)}function _J(t,e,n){return Zj(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function IS(t,e,n,i,r){let s={};for(let a in t){let l=t[a];e[a]?s[a]=wJ(l,n,i,r):s[a]=l}return s}function wJ(t,e,n,i){let{options:r,calendarApi:s}=i,a=i.pluginHooks.eventSourceDefs[t.sourceDefId],l=Cl();return a.fetch({eventSource:t,range:e,isRefetch:n,context:i},u=>{let{rawEvents:d}=u;r.eventSourceSuccess&&(d=r.eventSourceSuccess.call(s,d,u.response)||d),t.success&&(d=t.success.call(s,d,u.response)||d),i.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},u=>{let d=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,u),d=!0),t.failure&&(t.failure(u),d=!0),d||console.warn(u.message,u),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:u})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function SJ(t,e,n,i){let r=t[e];return r&&n===r.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):t}function Xj(t,e){return gl(t,n=>Zj(n,e))}function xJ(t,e){let n=hj(e),i=[].concat(t.eventSources||[]),r=[];t.initialEvents&&i.unshift(t.initialEvents),t.events&&i.unshift(t.events);for(let s of i){let a=fj(s,e,n);a&&r.push(a)}return r}function Zj(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function EJ(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function CJ(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function AJ(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function TJ(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function RJ(t,e,n,i,r){let s=t.headerToolbar?wO(t.headerToolbar,t,e,n,i,r):null,a=t.footerToolbar?wO(t.footerToolbar,t,e,n,i,r):null;return{header:s,footer:a}}function wO(t,e,n,i,r,s){let a={},l=[],u=!1;for(let d in t){let h=t[d],g=DJ(h,e,n,i,r,s);a[d]=g.widgets,l.push(...g.viewsWithButtons),u=u||g.hasTitle}return{sectionWidgets:a,viewsWithButtons:l,hasTitle:u}}function DJ(t,e,n,i,r,s){let a=e.direction==="rtl",l=e.customButtons||{},u=n.buttonText||{},d=e.buttonText||{},h=n.buttonHints||{},g=e.buttonHints||{},p=t?t.split(" "):[],v=[],b=!1;return{widgets:p.map(S=>S.split(",").map(x=>{if(x==="title")return b=!0,{buttonName:x};let A,T,M,O,N,k;if(A=l[x])M=D=>{A.click&&A.click.call(D.target,D,D.target)},(O=i.getCustomButtonIconClass(A))||(O=i.getIconClass(x,a))||(N=A.text),k=A.hint||A.text;else if(T=r[x]){v.push(x),M=()=>{s.changeView(x)},(N=T.buttonTextOverride)||(O=i.getIconClass(x,a))||(N=T.buttonTextDefault);let D=T.buttonTextOverride||T.buttonTextDefault;k=jd(T.buttonTitleOverride||T.buttonTitleDefault||e.viewHint,[D,x],D)}else if(s[x])if(M=()=>{s[x]()},(N=u[x])||(O=i.getIconClass(x,a))||(N=d[x]),x==="prevYear"||x==="nextYear"){let D=x==="prevYear"?"prev":"next";k=jd(h[D]||g[D],[d.year||"year","year"],d[x])}else k=D=>jd(h[x]||g[x],[d[D]||D,D],d[x]);return{buttonName:x,buttonClick:M,buttonIcon:O,buttonText:N,buttonHint:k}})),viewsWithButtons:v,hasTitle:b}}class OJ{constructor(e,n,i){this.type=e,this.getCurrentData=n,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let MJ={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const kJ=Es({name:"array-event-source",eventSourceDefs:[MJ]});let NJ={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:i}=t.context,r=t.eventSource.meta;$X(r.bind(null,_j(t.range,i)),s=>e({rawEvents:s}),n)}};const IJ=Es({name:"func-event-source",eventSourceDefs:[NJ]}),PJ={method:String,extraParams:se,startParam:String,endParam:String,timeZoneParam:String};let jJ={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:i}=t.eventSource,r=FJ(i,t.range,t.context);qX(i.method,i.url,r).then(([s,a])=>{e({rawEvents:s,response:a})},n)}};const LJ=Es({name:"json-event-source",eventSourceRefiners:PJ,eventSourceDefs:[jJ]});function FJ(t,e,n){let{dateEnv:i,options:r}=n,s,a,l,u,d={};return s=t.startParam,s==null&&(s=r.startParam),a=t.endParam,a==null&&(a=r.endParam),l=t.timeZoneParam,l==null&&(l=r.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},Object.assign(d,u),d[s]=i.formatIso(e.start),d[a]=i.formatIso(e.end),i.timeZone!=="local"&&(d[l]=i.timeZone),d}const UJ={daysOfWeek:se,startTime:ft,endTime:ft,duration:ft,startRecur:se,endRecur:se};let zJ={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},i;return t.duration&&(i=t.duration),!i&&t.startTime&&t.endTime&&(i=tQ(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:i,typeData:n}}return null},expand(t,e,n){let i=ho(e,{start:t.startRecur,end:t.endRecur});return i?BJ(t.daysOfWeek,t.startTime,t.dateEnv,n,i):[]}};const HJ=Es({name:"simple-recurring-event",recurringTypes:[zJ],eventRefiners:UJ});function BJ(t,e,n,i,r){let s=t?ej(t):null,a=Bt(r.start),l=r.end,u=[];for(e&&(e.milliseconds<0?l=On(l,1):e.milliseconds>=1e3*60*60*24&&(a=On(a,-1)));a<l;){let d;(!s||s[a.getUTCDay()])&&(e?d=i.add(a,e):d=a,u.push(i.createMarker(n.toDate(d)))),a=On(a,1)}return u}const VJ=Es({name:"change-handler",optionChangeHandlers:{events(t,e){SO([t],e)},eventSources:SO}});function SO(t,e){let n=dS(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let i=[];for(let r of t){let s=!1;for(let a=0;a<n.length;a+=1)if(n[a]._raw===r){n.splice(a,1),s=!0;break}s||i.push(r)}for(let r of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function $J(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},_j(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function qJ(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",ol(t,e))}const GJ=[kJ,IJ,LJ,HJ,VJ,Es({name:"misc",isLoadingFuncs:[t=>Yj(t.eventSources)],propSetHandlers:{dateProfile:$J,eventStore:qJ}})];class WJ{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new iS(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],i;for(;i=e.shift();)this.runTask(i),n.push(i);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function YJ(t,e,n){let i;return/^(year|month)$/.test(t.currentRangeUnit)?i=t.currentRange:i=t.activeRange,n.formatRange(i.start,i.end,Zt(e.titleFormat||KJ(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function KJ(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Um(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class xO{constructor(){this.resetListeners=new Set}handleInput(e,n){const i=this.dateEnv;if(e!==i&&(typeof n=="function"?this.nowFn=n:i||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class QJ{constructor(e){this.computeCurrentViewData=Ne(this._computeCurrentViewData),this.organizeRawLocales=Ne(ZZ),this.buildLocale=Ne(Gj),this.buildPluginHooks=nJ(),this.buildDateEnv=Ne(XJ),this.buildTheme=Ne(ZJ),this.parseToolbars=Ne(RJ),this.buildViewSpecs=Ne(lJ),this.buildDateProfileGenerator=cm(JJ),this.buildViewApi=Ne(eee),this.buildViewUiProps=cm(iee),this.buildEventUiBySource=Ne(tee,Qr),this.buildEventUiBases=Ne(nee),this.parseContextBusinessHours=cm(ree),this.buildTitle=Ne(YJ),this.nowManager=new xO,this.emitter=new Up,this.actionRunner=new WJ(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=p=>{this.actionRunner.request(p)},this.props=e,this.actionRunner.pause(),this.nowManager=new xO;let n={},i=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(r,i,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let a={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=hJ(i.calendarOptions,i.dateEnv,this.nowManager),u=s.dateProfileGenerator.build(l);sa(u.activeRange,l)||(l=u.currentRange.start);for(let p of i.pluginHooks.contextInit)p(a);let d=pJ(i.calendarOptions,u,a),h={dynamicOptionOverrides:n,currentViewType:r,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(a),eventSources:d,eventUiBases:{},eventStore:er(),renderableEventStore:er(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},g=Object.assign(Object.assign({},a),h);for(let p of i.pluginHooks.reducers)Object.assign(h,p(null,null,g));_0(h,a)&&this.emitter.trigger("loading",!0),this.state=h,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:i}=this;n===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:i,emitter:r}=this,s=gJ(i.dynamicOptionOverrides,e),a=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),l=dJ(i.currentViewType,e),u=this.computeCurrentViewData(l,a,n.optionOverrides,s);n.calendarApi.currentDataManager=this,r.setThisContext(n.calendarApi),r.setOptions(u.options);let d={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:g}=i;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(g=u.dateProfileGenerator.build(h)),h=fJ(h,e),g=mJ(g,e,h,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!sa(g.currentRange,h))&&(h=g.currentRange.start);let p=vJ(i.eventSources,e,g,d),v=vX(i.eventStore,e,p,g,d),_=Yj(p)&&!u.options.progressiveEventRendering&&i.renderableEventStore||v,{eventUiSingleBase:S,selectionConfig:x}=this.buildViewUiProps(d),A=this.buildEventUiBySource(p),T=this.buildEventUiBases(_.defs,S,A),M={dynamicOptionOverrides:s,currentViewType:l,currentDate:h,dateProfile:g,eventSources:p,eventStore:v,renderableEventStore:_,selectionConfig:x,eventUiBases:T,businessHours:this.parseContextBusinessHours(d),dateSelection:EJ(i.dateSelection,e),eventSelection:CJ(i.eventSelection,e),eventDrag:AJ(i.eventDrag,e),eventResize:TJ(i.eventResize,e)},O=Object.assign(Object.assign({},d),M);for(let D of a.pluginHooks.reducers)Object.assign(M,D(i,e,O));let N=_0(i,d),k=_0(M,d);!N&&k?r.trigger("loading",!0):N&&!k&&r.trigger("loading",!1),this.state=M,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,r,e.optionOverrides,n.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),n),l=r.pluginHooks.optionChangeHandlers,u=i&&i.calendarOptions,d=r.calendarOptions;if(u&&u!==d){u.timeZone!==d.timeZone&&(n.eventSources=a.eventSources=yJ(a.eventSources,n.dateProfile,a),n.eventStore=a.eventStore=hO(a.eventStore,i.dateEnv,a.dateEnv),n.renderableEventStore=a.renderableEventStore=hO(a.renderableEventStore,i.dateEnv,a.dateEnv));for(let h in l)(this.optionsForHandling.indexOf(h)!==-1||u[h]!==d[h])&&l[h](d[h],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,n,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:a,availableLocaleData:l,extra:u}=this.processRawCalendarOptions(e,n);EO(u);let d=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,l,r.defaultRangeSeparator),h=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),g=this.buildTheme(r,s),p=this.parseToolbars(r,this.stableOptionOverrides,g,h,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:d,viewSpecs:h,theme:g,toolbarConfig:p,localeDefaults:a,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:i,locale:r}=d0([Ld,e,n]),s=this.organizeRawLocales(i),a=s.map,l=this.buildLocale(r||s.defaultCode,a).options,u=this.buildPluginHooks(e.plugins||[],GJ),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oO),lO),cO),u.listenerRefiners),u.optionRefiners),h={},g=d0([Ld,l,e,n]),p={},v=this.currentCalendarOptionsInput,b=this.currentCalendarOptionsRefined,_=!1;for(let S in g)this.optionsForRefining.indexOf(S)===-1&&(g[S]===v[S]||Yo[S]&&S in v&&Yo[S](v[S],g[S]))?p[S]=b[S]:d[S]?(p[S]=d[S](g[S]),_=!0):h[S]=v[S];return _&&(this.currentCalendarOptionsInput=g,this.currentCalendarOptionsRefined=p,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:s,localeDefaults:l,extra:h}}_computeCurrentViewData(e,n,i,r){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:l}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,i,r);EO(l),this.nowManager.handleInput(n.dateEnv,a.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:u,viewApi:d}}processRawViewOptions(e,n,i,r,s){let a=d0([Ld,e.optionDefaults,i,r,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oO),lO),cO),IQ),n.listenerRefiners),n.optionRefiners),u={},d=this.currentViewOptionsInput,h=this.currentViewOptionsRefined,g=!1,p={};for(let v in a)a[v]===d[v]||Yo[v]&&Yo[v](a[v],d[v])?u[v]=h[v]:(a[v]===this.currentCalendarOptionsInput[v]||Yo[v]&&Yo[v](a[v],this.currentCalendarOptionsInput[v])?v in this.currentCalendarOptionsRefined&&(u[v]=this.currentCalendarOptionsRefined[v]):l[v]?u[v]=l[v](a[v]):p[v]=a[v],g=!0);return g&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}}}function XJ(t,e,n,i,r,s,a,l){let u=Gj(e||a.defaultCode,a.map);return new qQ({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:i,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function ZJ(t,e){let n=e.themeClasses[t.themeSystem]||_o;return new n(t)}function JJ(t){let e=t.dateProfileGeneratorClass||oj;return new e(t)}function eee(t,e,n){return new OJ(t,e,n)}function tee(t){return ua(t,e=>e.ui)}function nee(t,e,n){let i={"":e};for(let r in t){let s=t[r];s.sourceId&&n[s.sourceId]&&(i[r]=n[s.sourceId])}return i}function iee(t){let{options:e}=t;return{eventUiSingleBase:qm({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:qm({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function _0(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function ree(t){return AX(t.options.businessHours,t)}function EO(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class see extends At{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return U("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:i}=this.context,r=[],s=!0;for(let a of e){let{buttonName:l,buttonClick:u,buttonText:d,buttonIcon:h,buttonHint:g}=a;if(l==="title")s=!1,r.push(U("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let p=l===n.activeButton,v=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",b=[`fc-${l}-button`,i.getClass("button")];p&&b.push(i.getClass("buttonActive")),r.push(U("button",{type:"button",title:typeof g=="function"?g(n.navUnit):g,disabled:v,"aria-pressed":p,className:b.join(" "),onClick:u},d||(h?U("span",{className:h,role:"img"}):"")))}}if(r.length>1){let a=s&&i.getClass("buttonGroup")||"";return U("div",{className:a},...r)}return r[0]}}class CO extends At{render(){let{model:e,extraClassName:n}=this.props,i=!1,r,s,a=e.sectionWidgets,l=a.center;return a.left?(i=!0,r=a.left):r=a.start,a.right?(i=!0,s=a.right):s=a.end,U("div",{className:[n||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:i}=this;return U(see,{key:e,widgetGroups:n,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class aee extends At{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,_s(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",a="";return i?n.availableWidth!==null?s=n.availableWidth/i:a=`${1/i*100}%`:s=e.height||"",U("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class oee extends mu{constructor(e){super(e),this.handleSegClick=(n,i)=>{let{component:r}=this,{context:s}=r,a=Zc(i);if(a&&r.isValidSegDownEl(n.target)){let l=ci(n.target,".fc-event-forced-url"),u=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:i,event:new nn(r.context,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi}),u&&!n.defaultPrevented&&(window.location.href=u)}},this.destroy=KP(e.el,"click",".fc-event",this.handleSegClick)}}class lee extends mu{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,i)=>{Zc(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",n,i))},this.handleSegLeave=(n,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,i))},this.removeHoverListeners=zK(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,i){let{component:r}=this,{context:s}=r,a=Zc(i);(!n||r.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:i,event:new nn(s,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi})}}class cee extends Al{constructor(){super(...arguments),this.buildViewContext=Ne(YQ),this.buildViewPropTransformers=Ne(dee),this.buildToolbarProps=Ne(uee),this.headerRef=yi(),this.footerRef=yi(),this.interactionsStore={},this.state={viewLabelId:ro()},this.registerInteractiveComponent=(e,n)=>{let i=YX(e,n),a=[oee,lee].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(i));this.interactionsStore[e.uid]=a,F_[e.uid]=i},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let i of n)i.destroy();delete this.interactionsStore[e.uid]}delete F_[e.uid]},this.resizeRunner=new iS(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:i}=e,r=!1,s="",a;e.isHeightAuto||e.forPrint?s="":i.height!=null?r=!0:i.contentHeight!=null?s=i.contentHeight:a=Math.max(i.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return U(ga.Provider,{value:l},U(Tl,{unit:"day"},d=>{let h=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return U(Ft,null,n.header&&U(CO,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},h)),U(aee,{liquid:r,height:s,aspectRatio:a,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&U(CO,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},h)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let i in n)n[i](e[i],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:i}=n.pluginHooks;for(let r in i)n[r]!==e[r]&&i[r](n[r],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(i=>i(e));return U(Ft,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of s)Object.assign(r,l.transform(r,e));let a=i.component;return U(a,Object.assign({},r))}}function uee(t,e,n,i,r,s){let a=n.build(r,void 0,!1),l=n.buildPrev(e,i,!1),u=n.buildNext(e,i,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:a.isValid&&!sa(e.currentRange,r),isPrevEnabled:l.isValid,isNextEnabled:u.isValid}}function dee(t){return t.map(e=>new e)}class fee extends QX{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Vm(()=>{sf(U(WX,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,s,a,l)=>(this.setClassNames(r),this.setHeight(s),U(rj.Provider,{value:this.customContentRenderId},U(cee,Object.assign({isHeightAuto:a,forPrint:l},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,sf(null,this.el),this.setClassNames([]),this.setHeight(""))},MK(e),this.el=e,this.renderRunner=new iS(this.handleRenderRequest),new QJ({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Vm(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!uo(e,this.currentClassNames)){let{classList:n}=this.el;for(let i of this.currentClassNames)n.remove(i);for(let i of e)n.add(i);this.currentClassNames=e}}setHeight(e){WP(this.el,"height",e)}}const hee=parseInt(String(oe.version).split(".")[0]),gee=hee<18;class Jj extends C.Component{constructor(){super(...arguments),this.elRef=C.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(oe.createElement(mee,{key:n.id,customRendering:n}));return oe.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new QZ;this.handleCustomRendering=e.handle.bind(e),this.calendar=new fee(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Hr.flushSync(()=>{})});let n;e.subscribe(i=>{const r=Date.now(),s=!n;(gee||s||this.isUpdating||this.isUnmounting||r-n<100?e2:Hr.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{n=r,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}Jj.act=e2;class mee extends C.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,i=typeof n=="function"?n(e.renderProps):n;return Hr.createPortal(i,e.containerEl)}}function e2(t){t()}class pee extends es{constructor(){super(...arguments),this.headerElRef=yi()}renderSimpleLayout(e,n){let{props:i,context:r}=this,s=[],a=Wm(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),U(af,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},U(DS,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,i,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:a,context:l}=this,u=!a.forPrint&&Wm(l.options),d=!a.forPrint&&Fj(l.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:H_}]}),U(af,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},U(s,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:h}))}}function dm(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.row].push(i);return n}function Lg(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.firstCol].push(i);return n}function AO(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}const t2=Zt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function n2(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class i2 extends At{render(){let{props:e}=this;return U(OS,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:t2,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class r2 extends At{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,s=i.eventTimeFormat||t2,a=Fd(r,s,n,!0,e.defaultDisplayEventEnd);return U(Hp,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:SS(e.seg,n),defaultGenerator:vee,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function vee(t){return U(Ft,null,U("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&U("div",{className:"fc-event-time"},t.timeText),U("div",{className:"fc-event-title"},t.event.title||U(Ft,null," ")))}class yee extends At{constructor(){super(...arguments),this.compileSegs=Ne(bee)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return U(Bj,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return U(Ft,null,n.map(s=>{let a=s.eventRange.instance.instanceId;return U("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:r[a]?"hidden":""}},n2(s)?U(r2,Object.assign({seg:s,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},aa(s,e.todayRange))):U(i2,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},aa(s,e.todayRange))))}))}})}}function bee(t){let e=[],n=[];for(let i of t)e.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:e,invisibleSegs:n}}const _ee=Zt({week:"narrow"});class wee extends es{constructor(){super(...arguments),this.rootElRef=yi(),this.state={dayNumberId:ro()},this.handleRootEl=e=>{_s(this.rootElRef,e),_s(this.props.elRef,e)}}render(){let{context:e,props:n,state:i,rootElRef:r}=this,{options:s,dateEnv:a}=e,{date:l,dateProfile:u}=n;const d=n.showDayNumber&&xee(l,u.currentRange,a);return U(kS,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:See,date:l,dateProfile:u,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(h,g)=>U("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&U(Hj,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Jc(e,l,"week"),date:l,defaultFormat:_ee}),!g.isDisabled&&(n.showDayNumber||NS(s)||n.forceDayTop)?U("div",{className:"fc-daygrid-day-top"},U(h,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Jc(e,l)),{id:i.dayNumberId})})):n.showDayNumber?U("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},U("a",{className:"fc-daygrid-day-number"}," ")):void 0,U("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,U("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},U(yee,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:r,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),U("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function See(t){return t.dayNumberText||U(Ft,null," ")}function xee(t,e,n){const{start:i,end:r}=e,s=fo(r,-1),a=n.getYear(i),l=n.getMonth(i),u=n.getYear(s),d=n.getMonth(s);return!(a===u&&l===d)&&(t.valueOf()===i.valueOf()||n.getDay(t)===1&&t.valueOf()<r.valueOf())}function s2(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function a2(t){return s2(t)+":"+t.lastCol}function Eee(t,e,n,i,r,s,a){let l=new Tee(x=>{let A=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return r[A]||1});l.allowReslicing=!0,l.strictOrder=i,e===!0||n===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let u=[],d=[];for(let x=0;x<t.length;x+=1){let A=t[x],T=a2(A);r[T]!=null?u.push({index:x,span:{start:A.firstCol,end:A.lastCol+1}}):d.push(A)}let h=l.addSegs(u),g=l.toRects(),{singleColPlacements:p,multiColPlacements:v,leftoverMargins:b}=Cee(g,t,a),_=[],S=[];for(let x of d){v[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=x.firstCol;A<=x.lastCol;A+=1)p[A].push({seg:qc(x,A,A+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)_.push(0);for(let x of h){let A=t[x.index],T=x.span;v[T.start].push({seg:qc(A,T.start,T.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let M=T.start;M<T.end;M+=1)_[M]+=1,p[M].push({seg:qc(A,M,M+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)S.push(b[x]);return{singleColPlacements:p,multiColPlacements:v,moreCnts:_,moreMarginTops:S}}function Cee(t,e,n){let i=Aee(t,n.length),r=[],s=[],a=[];for(let l=0;l<n.length;l+=1){let u=i[l],d=[],h=0,g=0;for(let v of u){let b=e[v.index];d.push({seg:qc(b,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-h}),h=v.levelCoord+v.thickness}let p=[];h=0,g=0;for(let v of u){let b=e[v.index],_=v.span.end-v.span.start>1,S=v.span.start===l;g+=v.levelCoord-h,h=v.levelCoord+v.thickness,_?(g+=v.thickness,S&&p.push({seg:qc(b,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):S&&(p.push({seg:qc(b,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:g}),g=0)}r.push(d),s.push(p),a.push(g)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:a}}function Aee(t,e){let n=[];for(let i=0;i<e;i+=1)n.push([]);for(let i of t)for(let r=i.span.start;r<i.span.end;r+=1)n[r].push(i);return n}function qc(t,e,n,i){if(t.firstCol===e&&t.lastCol===n-1)return t;let r=t.eventRange,s=r.range,a=ho(s,{start:i[e].date,end:On(i[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:a},isStart:t.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===s.end.valueOf()})}class Tee extends Aj{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:i}=this,r=s=>!this.forceHidden[ll(s)];for(let s=0;s<i.length;s+=1)i[s]=i[s].filter(r);return n}handleInvalidInsertion(e,n,i){const{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:a,touchingLevel:l,touchingLateral:u}=e;if(this.hiddenConsumes&&a){const d=ll(a);if(!s[d])if(this.allowReslicing){const h=Object.assign(Object.assign({},a),{span:TS(a.span,n.span)}),g=ll(h);s[g]=!0,r[l][u]=h,i.push(h),this.splitEntry(a,n,i)}else s[d]=!0,i.push(a)}super.handleInvalidInsertion(e,n,i)}}class o2 extends es{constructor(){super(...arguments),this.cellElRefs=new ta,this.frameElRefs=new ta,this.fgElRefs=new ta,this.segHarnessRefs=new ta,this.rootElRef=yi(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:i}=this,{options:r}=i,s=e.cells.length,a=Lg(e.businessHourSegs,s),l=Lg(e.bgEventSegs,s),u=Lg(this.getHighlightSegs(),s),d=Lg(this.getMirrorSegs(),s),{singleColPlacements:h,multiColPlacements:g,moreCnts:p,moreMarginTops:v}=Eee(wS(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),b=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return U("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((_,S)=>{let x=this.renderFgSegs(S,e.forPrint?h[S]:g[S],e.todayRange,b),A=this.renderFgSegs(S,Ree(d[S],g),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return U(wee,{key:_.key,elRef:this.cellElRefs.createRef(_.key),innerElRef:this.frameElRefs.createRef(_.key),dateProfile:e.dateProfile,date:_.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&S===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:_.extraRenderProps,extraDataAttrs:_.extraDataAttrs,extraClassNames:_.extraClassNames,extraDateSpan:_.extraDateSpan,moreCnt:p[S],moreMarginTop:v[S],singlePlacements:h[S],fgContentElRef:this.fgElRefs.createRef(_.key),fgContent:U(Ft,null,U(Ft,null,x),U(Ft,null,A)),bgContent:U(Ft,null,this.renderFillSegs(u[S],"highlight"),this.renderFillSegs(a[S],"non-business"),this.renderFillSegs(l[S],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let i=this.props;this.updateSizing(!Qr(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,i,r,s,a,l){let{context:u}=this,{eventSelection:d}=this.props,{framePositions:h}=this.state,g=this.props.cells.length===1,p=s||a||l,v=[];if(h)for(let b of n){let{seg:_}=b,{instanceId:S}=_.eventRange.instance,x=b.isVisible&&!r[S],A=b.isAbsolute,T="",M="";A&&(u.isRtl?(M=0,T=h.lefts[_.lastCol]-h.lefts[_.firstCol]):(T=0,M=h.rights[_.firstCol]-h.rights[_.lastCol])),v.push(U("div",{className:"fc-daygrid-event-harness"+(A?" fc-daygrid-event-harness-abs":""),key:s2(_),ref:p?null:this.segHarnessRefs.createRef(a2(_)),style:{visibility:x?"":"hidden",marginTop:A?"":b.marginTop,top:A?b.absoluteTop:"",left:T,right:M}},n2(_)?U(r2,Object.assign({seg:_,isDragging:s,isSelected:S===d,defaultDisplayEventEnd:g},aa(_,i))):U(i2,Object.assign({seg:_,isDragging:s,isResizing:a,isDateSelecting:l,isSelected:S===d,defaultDisplayEventEnd:g},aa(_,i)))))}return v}renderFillSegs(e,n){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,a=[];if(s)for(let l of e){let u=i?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};a.push(U("div",{key:bj(l.eventRange),className:"fc-daygrid-bg-harness",style:u},n==="bg-event"?U(Uj,Object.assign({seg:l},aa(l,r))):zj(n)))}return U(Ft,{},...a)}updateSizing(e){let{props:n,state:i,frameElRefs:r}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let u=n.cells.map(d=>r.currentMap[d.key]);if(u.length){let d=this.rootElRef.current,h=new eu(d,u,!0,!1);(!i.framePositions||!i.framePositions.similarTo(h))&&this.setState({framePositions:new eu(d,u,!0,!1)})}}const s=this.state.segHeights,a=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),a),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);n[i]=Math.max(n[i]||0,r)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}o2.addStateEquality({segHeights:Qr});function Ree(t,e){if(!t.length)return[];let n=Dee(e);return t.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:n[i.eventRange.instance.instanceId],marginTop:0}))}function Dee(t){let e={};for(let n of t)for(let i of n)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class Oee extends es{constructor(){super(...arguments),this.splitBusinessHourSegs=Ne(dm),this.splitBgEventSegs=Ne(Mee),this.splitFgEventSegs=Ne(dm),this.splitDateSelectionSegs=Ne(dm),this.splitEventDrag=Ne(AO),this.splitEventResize=Ne(AO),this.rowRefs=new ta}render(){let{props:e,context:n}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitFgEventSegs(e.fgEventSegs,i),l=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i),h=i>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return U(Tl,{unit:"day"},(g,p)=>U(Ft,null,e.cells.map((v,b)=>U(o2,{ref:this.rowRefs.createRef(b),key:v.length?v[0].date.toISOString():b,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:p,dateProfile:e.dateProfile,cells:v,renderIntro:e.renderRowIntro,businessHourSegs:r[b],eventSelection:e.eventSelection,bgEventSegs:s[b],fgEventSegs:a[b],dateSelectionSegs:l[b],eventDrag:u[b],eventResize:d[b],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new eu(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new eu(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:i,rowPositions:r}=this,s=i.leftToIndex(e),a=r.topToIndex(n);if(a!=null&&s!=null){let l=this.props.cells[a][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(a,s),rect:{left:i.lefts[s],right:i.rights[s],top:r.tops[a],bottom:r.bottoms[a]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let i=this.props.cells[e][n].date,r=On(i,1);return{start:i,end:r}}}function Mee(t,e){return dm(t.filter(kee),e)}function kee(t){return t.eventRange.def.allDay}class Nee extends es{constructor(){super(...arguments),this.elRef=yi(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:i,expandRows:r}=e,s=i===!0||n===!0;s&&!r&&(s=!1,n=null,i=null);let a=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return U("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},U("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,U("tbody",{role:"presentation"},U(Oee,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Iee(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),i=n.closest(".fc-scroller"),r=e.getBoundingClientRect().top-n.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function Iee(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${vQ(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${kf(e.currentDate)}"]`)),n}class Pee extends kj{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class l2 extends es{constructor(){super(...arguments),this.slicer=new Pee,this.tableRef=yi()}render(){let{props:e,context:n}=this;return U(Nee,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class jee extends pee{constructor(){super(...arguments),this.buildDayTableModel=Ne(Lee),this.headerRef=yi(),this.tableRef=yi()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,n),s=e.dayHeaders&&U(Dj,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),a=l=>U(l2,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,a,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,a)}}function Lee(t,e){let n=new Oj(t.renderRange,e);return new Mj(n,/year|month|week/.test(t.currentRangeUnit))}class Fee extends oj{buildRenderRange(e,n,i){let r=super.buildRenderRange(e,n,i),{props:s}=this;return Uee({currentRange:r,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function Uee(t){let{dateEnv:e,currentRange:n}=t,{start:i,end:r}=n,s;if(t.snapToWeek&&(i=e.startOfWeek(i),s=e.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=nO(s,1))),t.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(On(n.end,-1))),l=Math.ceil(aQ(a,r));r=nO(r,6-l)}return{start:i,end:r}}var zee=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Pp(zee);var Hee=Es({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:jee,dateProfileGeneratorClass:Fee},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Bee extends tZ{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?MX(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Vee=Zt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function c2(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return U(ga.Consumer,null,n=>{if(!t.isLabeled)return U("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:i,options:r,viewApi:s}=n,a=r.slotLabelFormat==null?Vee:Array.isArray(r.slotLabelFormat)?Zt(r.slotLabelFormat[0]):Zt(r.slotLabelFormat),l={level:0,time:t.time,date:i.toDate(t.date),view:s,text:i.format(t.date,a)};return U(di,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:$ee,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},u=>U("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},U(u,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function $ee(t){return t.text}class qee extends At{render(){return this.props.slatMetas.map(e=>U("tr",{key:e.key},U(c2,Object.assign({},e))))}}const Gee=Zt({week:"short"}),Wee=5;class Yee extends es{constructor(){super(...arguments),this.allDaySplitter=new Bee,this.headerElRef=yi(),this.rootElRef=yi(),this.scrollerElRef=yi(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,s=r.renderRange,l=bo(s.start,s.end)===1?Jc(this.context,s.start,"week"):{};return i.weekNumbers&&e==="day"?U(Hj,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:Gee},u=>U("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},U(u,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):U("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},U("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:i}=this.context,r={text:n.allDayText,view:i};return U(di,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:Kee,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>U("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},U(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,i){let{context:r,props:s}=this,a=[],l=Wm(r.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(a.push({type:"body",key:"all-day",chunk:{content:n}}),a.push({type:"body",key:"all-day-divider",outerContent:U("tr",{role:"presentation",className:"fc-scrollgrid-section"},U("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),U(af,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},U(DS,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,n,i,r,s,a,l){let u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");let{context:d,props:h}=this,g=!h.forPrint&&Wm(d.options),p=!h.forPrint&&Fj(d.options),v=[];e&&v.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:_=>U("tr",{role:"presentation"},this.renderHeadAxis("day",_.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(v.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:_=>U("tr",{role:"presentation"},this.renderTableRowAxis(_.rowSyncHeights[0]))},{key:"cols",content:n}]}),v.push({key:"all-day-divider",type:"body",outerContent:U("tr",{role:"presentation",className:"fc-scrollgrid-section"},U("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let b=d.options.nowIndicator;return v.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:_=>U("div",{className:"fc-timegrid-axis-chunk"},U("table",{"aria-hidden":!0,style:{height:_.expandRows?_.clientHeight:""}},_.tableColGroupNode,U("tbody",null,U(qee,{slatMetas:a}))),U("div",{className:"fc-timegrid-now-indicator-container"},U(Tl,{unit:b?"minute":"day"},S=>{let x=b&&l&&l.safeComputeTop(S);return typeof x=="number"?U(MS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:S}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),p&&v.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:H_},{key:"cols",content:H_}]}),U(af,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},U(u,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:s}]}],sections:v}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=Wee),{dayMaxEvents:e,dayMaxEventRows:n}}}function Kee(t){return t.text}class Qee{constructor(e,n,i){this.positions=e,this.dateProfile=n,this.slotDuration=i}safeComputeTop(e){let{dateProfile:n}=this;if(sa(n.currentRange,e)){let i=Bt(e),r=e.valueOf()-i.valueOf();if(r>=Vr(n.slotMinTime)&&r<Vr(n.slotMaxTime))return this.computeTimeTop(ft(r))}return null}computeDateTop(e,n){return n||(n=Bt(e)),this.computeTimeTop(ft(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:i}=this,r=n.els.length,s=(e.milliseconds-Vr(i.slotMinTime))/Vr(this.slotDuration),a,l;return s=Math.max(0,s),s=Math.min(r,s),a=Math.floor(s),a=Math.min(a,r-1),l=s-a,n.tops[a]+n.getHeight(a)*l}}class Xee extends At{render(){let{props:e,context:n}=this,{options:i}=n,{slatElRefs:r}=e;return U("tbody",null,e.slatMetas.map((s,a)=>{let l={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return U("tr",{key:s.key,ref:r.createRef(s.key)},e.axis&&U(c2,Object.assign({},s)),U(di,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class Zee extends At{constructor(){super(...arguments),this.rootElRef=yi(),this.slatElRefs=new ta}render(){let{props:e,context:n}=this;return U("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},U("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,U(Xee,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new Qee(new eu(this.rootElRef.current,Jee(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Jee(t,e){return e.map(n=>t[n.key])}function pd(t,e){let n=[],i;for(i=0;i<e;i+=1)n.push([]);if(t)for(i=0;i<t.length;i+=1)n[t[i].col].push(t[i]);return n}function TO(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}class ete extends At{render(){let{props:e}=this;return U(Bj,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>d2(e.hiddenSegs,e),defaultGenerator:tte,forceTimed:!0},n=>U(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function tte(t){return t.shortText}function nte(t,e,n){let i=new Aj;e!=null&&(i.strictOrder=e),n!=null&&(i.maxStackCnt=n);let r=i.addSegs(t),s=gZ(r),a=ite(i);return a=ote(a,1),{segRects:lte(a),hiddenGroups:s}}function ite(t){const{entriesByLevel:e}=t,n=PS((i,r)=>i+":"+r,(i,r)=>{let s=ate(t,i,r),a=RO(s,n),l=e[i][r];return[Object.assign(Object.assign({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return RO(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function RO(t,e){if(!t)return[[],0];let{level:n,lateralStart:i,lateralEnd:r}=t,s=i,a=[];for(;s<r;)a.push(e(n,s)),s+=1;return a.sort(rte),[a.map(ste),a[0][1]]}function rte(t,e){return e[1]-t[1]}function ste(t){return t[0]}function ate(t,e,n){let{levelCoords:i,entriesByLevel:r}=t,s=r[e][n],a=i[e]+s.thickness,l=i.length,u=e;for(;u<l&&i[u]<a;u+=1);for(;u<l;u+=1){let d=r[u],h,g=z_(d,s.span.start,U_),p=g[0]+g[1],v=p;for(;(h=d[v])&&h.span.start<s.span.end;)v+=1;if(p<v)return{level:u,lateralStart:p,lateralEnd:v}}return null}function ote(t,e){const n=PS((i,r,s)=>ll(i),(i,r,s)=>{let{nextLevelNodes:a,thickness:l}=i,u=l+s,d=l/u,h,g=[];if(!a.length)h=e;else for(let v of a)if(h===void 0){let b=n(v,r,u);h=b[0],g.push(b[1])}else{let b=n(v,h,0);g.push(b[1])}let p=(h-r)*d;return[h-p,Object.assign(Object.assign({},i),{thickness:p,nextLevelNodes:g})]});return t.map(i=>n(i,0,0)[1])}function lte(t){let e=[];const n=PS((r,s,a)=>ll(r),(r,s,a)=>{let l=Object.assign(Object.assign({},r),{levelCoord:s,stackDepth:a,stackForward:0});return e.push(l),l.stackForward=i(r.nextLevelNodes,s+r.thickness,a+1)+1});function i(r,s,a){let l=0;for(let u of r)l=Math.max(n(u,s,a),l);return l}return i(t,0,0),e}function PS(t,e){const n={};return(...i)=>{let r=t(...i);return r in n?n[r]:n[r]=e(...i)}}function DO(t,e,n=null,i=0){let r=[];if(n)for(let s=0;s<t.length;s+=1){let a=t[s],l=n.computeDateTop(a.start,e),u=Math.max(l+(i||0),n.computeDateTop(a.end,e));r.push({start:Math.round(l),end:Math.round(u)})}return r}function cte(t,e,n,i){let r=[],s=[];for(let d=0;d<t.length;d+=1){let h=e[d];h?r.push({index:d,thickness:1,span:h}):s.push(t[d])}let{segRects:a,hiddenGroups:l}=nte(r,n,i),u=[];for(let d of a)u.push({seg:t[d.index],rect:d});for(let d of s)u.push({seg:d,rect:null});return{segPlacements:u,hiddenGroups:l}}const ute=Zt({hour:"numeric",minute:"2-digit",meridiem:!1});class u2 extends At{render(){return U(OS,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:ute}))}}class dte extends At{constructor(){super(...arguments),this.sortEventSegs=Ne(wS)}render(){let{props:e,context:n}=this,{options:i}=n,r=i.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return U(kS,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},u=>U("div",{className:"fc-timegrid-col-frame"},U("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),U("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,a,!1,!1,!1)),U("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),U("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),NS(i)&&U(u,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,i,r,s,a){let{props:l}=this;return l.forPrint?d2(e,l):this.renderPositionedFgSegs(e,n,i,r,s,a)}renderPositionedFgSegs(e,n,i,r,s,a){let{eventMaxStack:l,eventShortHeight:u,eventOrderStrict:d,eventMinHeight:h}=this.context.options,{date:g,slatCoords:p,eventSelection:v,todayRange:b,nowDate:_}=this.props,S=i||r||s,x=DO(e,g,p,h),{segPlacements:A,hiddenGroups:T}=cte(e,x,d,l);return U(Ft,null,this.renderHiddenGroups(T,e),A.map(M=>{let{seg:O,rect:N}=M,k=O.eventRange.instance.instanceId,D=S||!!(!n[k]&&N),P=w0(N&&N.span),z=!S&&N?this.computeSegHStyle(N):{left:0,right:0},B=!!N&&N.stackForward>0,Q=!!N&&N.span.end-N.span.start<u;return U("div",{className:"fc-timegrid-event-harness"+(B?" fc-timegrid-event-harness-inset":""),key:a||k,style:Object.assign(Object.assign({visibility:D?"":"hidden"},P),z)},U(u2,Object.assign({seg:O,isDragging:i,isResizing:r,isDateSelecting:s,isSelected:k===v,isShort:Q},aa(O,b,_))))}))}renderHiddenGroups(e,n){let{extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d}=this.props;return U(Ft,null,e.map(h=>{let g=w0(h.span),p=fte(h.entries,n);return U(ete,{key:JP(Vj(p)),hiddenSegs:p,top:g.top,bottom:g.bottom,extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d})}))}renderFillSegs(e,n){let{props:i,context:r}=this,a=DO(e,i.date,i.slatCoords,r.options.eventMinHeight).map((l,u)=>{let d=e[u];return U("div",{key:bj(d.eventRange),className:"fc-timegrid-bg-harness",style:w0(l)},n==="bg-event"?U(Uj,Object.assign({seg:d},aa(d,i.todayRange,i.nowDate))):zj(n))});return U(Ft,null,a)}renderNowIndicator(e){let{slatCoords:n,date:i}=this.props;return n?e.map((r,s)=>U(MS,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:n,options:i}=this.context,r=i.slotEventOverlap,s=e.levelCoord,a=e.levelCoord+e.thickness,l,u;r&&(a=Math.min(1,s+(a-s)*2)),n?(l=1-a,u=s):(l=s,u=1-a);let d={zIndex:e.stackDepth+1,left:l*100+"%",right:u*100+"%"};return r&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=20),d}}function d2(t,{todayRange:e,nowDate:n,eventSelection:i,eventDrag:r,eventResize:s}){let a=(r?r.affectedInstances:null)||(s?s.affectedInstances:null)||{};return U(Ft,null,t.map(l=>{let u=l.eventRange.instance.instanceId;return U("div",{key:u,style:{visibility:a[u]?"hidden":""}},U(u2,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===i,isShort:!1},aa(l,e,n))))}))}function w0(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function fte(t,e){return t.map(n=>e[n.index])}class hte extends At{constructor(){super(...arguments),this.splitFgEventSegs=Ne(pd),this.splitBgEventSegs=Ne(pd),this.splitBusinessHourSegs=Ne(pd),this.splitNowIndicatorSegs=Ne(pd),this.splitDateSelectionSegs=Ne(pd),this.splitEventDrag=Ne(TO),this.splitEventResize=Ne(TO),this.rootElRef=yi(),this.cellElRefs=new ta}render(){let{props:e,context:n}=this,i=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),l=this.splitBusinessHourSegs(e.businessHourSegs,r),u=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),d=this.splitDateSelectionSegs(e.dateSelectionSegs,r),h=this.splitEventDrag(e.eventDrag,r),g=this.splitEventResize(e.eventResize,r);return U("div",{className:"fc-timegrid-cols",ref:this.rootElRef},U("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,U("tbody",{role:"presentation"},U("tr",{role:"row"},e.axis&&U("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},U("div",{className:"fc-timegrid-col-frame"},U("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&U(MS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((p,v)=>U(dte,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:s[v],bgEventSegs:a[v],businessHourSegs:l[v],nowIndicatorSegs:u[v],dateSelectionSegs:d[v],eventDrag:h[v],eventResize:g[v],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new eu(this.rootElRef.current,gte(this.cellElRefs.currentMap,e.cells),!0,!1))}}function gte(t,e){return e.map(n=>t[n.key])}class mte extends es{constructor(){super(...arguments),this.processSlotOptions=Ne(pte),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:i}=this.state;if(n&&i){if(e.time){let r=i.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),n(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return U("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},U(Zee,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),U(hte,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:i,options:r}=this.context,{colCoords:s}=this,{dateProfile:a}=this.props,{slatCoords:l}=this.state,{snapDuration:u,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),h=s.leftToIndex(e),g=l.positions.topToIndex(n);if(h!=null&&g!=null){let p=this.props.cells[h],v=l.positions.tops[g],b=l.positions.getHeight(g),_=(n-v)/b,S=Math.floor(_*d),x=g*d+S,A=this.props.cells[h].date,T=k_(a.slotMinTime,nQ(u,x)),M=i.add(A,T),O=i.add(M,u);return{dateProfile:a,dateSpan:Object.assign({range:{start:M,end:O},allDay:!1},p.extraDateSpan),dayEl:s.els[h],rect:{left:s.lefts[h],right:s.rights[h],top:v,bottom:v+b},layer:0}}return null}}function pte(t,e){let n=e||t,i=oS(t,n);return i===null&&(n=t,i=1),{snapDuration:n,snapsPerSlot:i}}class vte extends kj{sliceRange(e,n){let i=[];for(let r=0;r<n.length;r+=1){let s=ho(e,n[r]);s&&i.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:r})}return i}}class yte extends es{constructor(){super(...arguments),this.buildDayRanges=Ne(bte),this.slicer=new vte,this.timeColsRef=yi()}render(){let{props:e,context:n}=this,{dateProfile:i,dayTableModel:r}=e,{nowIndicator:s,nextDayThreshold:a}=n.options,l=this.buildDayRanges(r,i,n.dateEnv);return U(Tl,{unit:s?"minute":"day"},(u,d)=>U(mte,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:u,nowIndicatorSegs:s&&this.slicer.sliceNowDate(u,i,a,n,l),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function bte(t,e,n){let i=[];for(let r of t.headerDates)i.push({start:n.add(r,e.slotMinTime),end:n.add(r,e.slotMaxTime)});return i}const OO=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function _te(t,e,n,i,r){let s=new Date(0),a=t,l=ft(0),u=n||wte(i),d=[];for(;Vr(a)<Vr(e);){let h=r.add(s,a),g=oS(l,u)!==null;d.push({date:h,time:a,key:h.toISOString(),isoTimeStr:yQ(h),isLabeled:g}),a=k_(a,i),l=k_(l,i)}return d}function wte(t){let e,n,i;for(e=OO.length-1;e>=0;e-=1)if(n=ft(OO[e]),i=oS(n,t),i!==null&&i>1)return n;return t}class Ste extends Yee{constructor(){super(...arguments),this.buildTimeColsModel=Ne(xte),this.buildSlatMetas=Ne(_te)}render(){let{options:e,dateEnv:n,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:s}=r,a=this.buildTimeColsModel(s,i),l=this.allDaySplitter.splitProps(r),u=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,h=!d,g=d,p=e.dayHeaders&&U(Dj,{dates:a.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),v=e.allDaySlot!==!1&&(_=>U(l2,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:_.tableMinWidth,colGroupNode:_.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:_.clientWidth,clientHeight:_.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),b=_=>U(yte,Object.assign({},l.timed,{dayTableModel:a,dateProfile:s,axis:h,slotDuration:e.slotDuration,slatMetas:u,forPrint:r.forPrint,tableColGroupNode:_.tableColGroupNode,tableMinWidth:_.tableMinWidth,clientWidth:_.clientWidth,clientHeight:_.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:_.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(p,v,b,a.colCnt,d,u,this.state.slatCoords):this.renderSimpleLayout(p,v,b)}}function xte(t,e){let n=new Oj(t.renderRange,e);return new Mj(n,!1)}var Ete='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Pp(Ete);const Cte={allDaySlot:Boolean};var Ate=Es({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Cte,views:{timeGrid:{component:Ste,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class Tte extends At{constructor(){super(...arguments),this.state={textId:ro()}}render(){let{theme:e,dateEnv:n,options:i,viewApi:r}=this.context,{cellId:s,dayDate:a,todayRange:l}=this.props,{textId:u}=this.state,d=ES(a,l),h=i.listDayFormat?n.format(a,i.listDayFormat):"",g=i.listDaySideFormat?n.format(a,i.listDaySideFormat):"",p=Object.assign({date:n.toDate(a),view:r,textId:u,text:h,sideText:g,navLinkAttrs:Jc(this.context,a),sideNavLinkAttrs:Jc(this.context,a,"day",!1)},d);return U(di,{elTag:"tr",elClasses:["fc-list-day",...zp(d,e)],elAttrs:{"data-date":kf(a)},renderProps:p,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:Rte,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},v=>U("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":u},U(v,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function Rte(t){return U(Ft,null,t.text&&U("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&U("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const Dte=Zt({hour:"numeric",minute:"2-digit",meridiem:"short"});class Ote extends At{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r,timeHeaderId:s,eventHeaderId:a,dateHeaderId:l}=e,u=i.eventTimeFormat||Dte;return U(Hp,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>Mte(r,n),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(d,h)=>U(Ft,null,kte(r,u,n,s,l),U("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},U("span",{className:"fc-list-event-dot",style:{borderColor:h.borderColor||h.backgroundColor}})),U(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${a} ${l}`}})))}}function Mte(t,e){let n=SS(t,e);return U("a",Object.assign({},n),t.eventRange.def.title)}function kte(t,e,n,i,r){let{options:s}=n;if(s.displayEventTime!==!1){let a=t.eventRange.def,l=t.eventRange.instance,u=!1,d;if(a.allDay?u=!0:rX(t.eventRange.range)?t.isStart?d=Fd(t,e,n,null,null,l.range.start,t.end):t.isEnd?d=Fd(t,e,n,null,null,t.start,l.range.end):u=!0:d=Fd(t,e,n),u){let h={text:n.options.allDayText,view:n.viewApi};return U(di,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:h,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:Nte,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return U("td",{className:"fc-list-event-time"},d)}return null}function Nte(t){return t.text}class Ite extends es{constructor(){super(...arguments),this.computeDateVars=Ne(jte),this.eventStoreToSegs=Ne(this._eventStoreToSegs),this.state={timeHeaderId:ro(),eventHeaderId:ro(),dateHeaderIdRoot:ro()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return U(af,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},U(jj,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,i={text:e.noEventsText,view:n};return U(di,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Pte,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>U(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:i,options:r}=this.context,{timeHeaderId:s,eventHeaderId:a,dateHeaderIdRoot:l}=this.state,u=Lte(e);return U(Tl,{unit:"day"},(d,h)=>{let g=[];for(let p=0;p<u.length;p+=1){let v=u[p];if(v){let b=kf(n[p]),_=l+"-"+b;g.push(U(Tte,{key:b,cellId:_,dayDate:n[p],todayRange:h})),v=wS(v,r.eventOrder);for(let S of v)g.push(U(Ote,Object.assign({key:b+":"+S.eventRange.instance.instanceId,seg:S,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:a,dateHeaderId:_},aa(S,h,d))))}}return U("table",{className:"fc-list-table "+i.getClass("table")},U("thead",null,U("tr",null,U("th",{scope:"col",id:s},r.timeHint),U("th",{scope:"col","aria-hidden":!0}),U("th",{scope:"col",id:a},r.eventHint))),U("tbody",null,g))})}_eventStoreToSegs(e,n,i){return this.eventRangesToSegs(L_(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,n){let i=[];for(let r of e)i.push(...this.eventRangeToSegs(r,n));return i}eventRangeToSegs(e,n){let{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,s=e.range,a=e.def.allDay,l,u,d,h=[];for(l=0;l<n.length;l+=1)if(u=ho(s,n[l]),u&&(d={component:this,eventRange:e,start:u.start,end:u.end,isStart:e.isStart&&u.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&u.end.valueOf()===s.end.valueOf(),dayIndex:l},h.push(d),!d.isEnd&&!a&&l+1<n.length&&s.end<i.add(n[l+1].start,r))){d.end=s.end,d.isEnd=!0;break}return h}}function Pte(t){return t.text}function jte(t){let e=Bt(t.renderRange.start),n=t.renderRange.end,i=[],r=[];for(;e<n;)i.push(e),r.push({start:e,end:On(e,1)}),e=On(e,1);return{dayDates:i,dayRanges:r}}function Lte(t){let e=[],n,i;for(n=0;n<t.length;n+=1)i=t[n],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var Fte=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Pp(Fte);const Ute={listDayFormat:MO,listDaySideFormat:MO,noEventsClassNames:se,noEventsContent:se,noEventsDidMount:se,noEventsWillUnmount:se};function MO(t){return t===!1?null:Zt(t)}var zte=Es({name:"@fullcalendar/list",optionRefiners:Ute,views:{list:{component:Ite,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});RS.touchMouseIgnoreWait=500;let V_=0,Ym=0,$_=!1;class f2{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&Hte(n)&&this.tryStart(n)){let i=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let i=this.createEventFromMouse(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let i=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=n.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let i=this.createEventFromTouch(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=n=>{if(this.isDragging){let i=n.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,Bte()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new Up,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Vte()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),$te()}tryStart(e){let n=this.querySubjectEl(e),i=e.target;return n&&(!this.handleSelector||ci(i,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){$_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ci(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return V_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&($_=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let i=0,r=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,n){let i=e.touches,r,s,a=0,l=0;return i&&i.length?(r=i[0].pageX,s=i[0].pageY):(r=e.pageX,s=e.pageY),n?(this.origPageX=r,this.origPageY=s):(a=r-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:a,deltaY:l}}}function Hte(t){return t.button===0&&!t.ctrlKey}function Bte(){V_+=1,setTimeout(()=>{V_-=1},RS.touchMouseIgnoreWait)}function Vte(){Ym+=1,Ym===1&&window.addEventListener("touchmove",h2,{passive:!1})}function $te(){Ym-=1,Ym||window.removeEventListener("touchmove",h2,{passive:!1})}function h2(t){$_&&t.preventDefault()}class qte{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let i=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,n){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+n+"ms,left "+n+"ms",Pd(i,{left:r.left,top:r.top}),HK(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(rS(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Pd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Pd(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class g2 extends AS{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class m2 extends g2{constructor(e,n){super(new fZ(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return uZ(this.scrollController.el)}}class Gte extends g2{constructor(e){super(new hZ,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const kO=typeof performance=="function"?performance.now:Date.now;class Wte{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=kO();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let i=e-window.scrollX,r=n-window.scrollY,s=this.pointerScreenY===null?0:r-this.pointerScreenY,a=this.pointerScreenX===null?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(kO()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:i}=e,{edgeThreshold:r}=this,s=r-e.distance,a=s*s/(r*r)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":i.setScrollLeft(i.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":i.setScrollTop(i.getScrollTop()+a*l);break}}computeBestEdge(e,n){let{edgeThreshold:i}=this,r=null,s=this.scrollCaches||[];for(let a of s){let l=a.clientRect,u=e-l.left,d=l.right-e,h=n-l.top,g=l.bottom-n;u>=0&&d>=0&&h>=0&&g>=0&&(h<=i&&this.everMovedUp&&a.canScrollUp()&&(!r||r.distance>h)&&(r={scrollCache:a,name:"top",distance:h}),g<=i&&this.everMovedDown&&a.canScrollDown()&&(!r||r.distance>g)&&(r={scrollCache:a,name:"bottom",distance:g}),u<=i&&this.everMovedLeft&&a.canScrollLeft()&&(!r||r.distance>u)&&(r={scrollCache:a,name:"left",distance:u}),d<=i&&this.everMovedRight&&a.canScrollRight()&&(!r||r.distance>d)&&(r={scrollCache:a,name:"right",distance:d}))}return r}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new Gte(!1):new m2(n,!1))}queryScrollEls(e){let n=[];for(let i of this.scrollQuery)typeof i=="object"?n.push(i):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return n}}class If extends pZ{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,BK(document.body),$K(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let s=this.minDistance,a,{deltaX:l,deltaY:u}=r;a=l*l+u*u,a>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,VK(document.body),qK(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new f2(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),n&&(i.selector=n),this.mirror=new qte,this.autoScroller=new Wte}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Yte{constructor(e){this.el=e,this.origRect=CS(e),this.scrollCaches=Cj(e).map(n=>new m2(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let i={left:e,top:n};for(let r of this.scrollCaches)if(!Kte(r.getEventTarget())&&!XX(i,r.clientRect))return!1;return!0}}function Kte(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Bp{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Up}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},i=n,r=e.subjectEl,s;r instanceof HTMLElement&&(s=CS(r),i=ZX(i,s));let a=this.initialHit=this.queryHitForOffset(i.left,i.top);if(a){if(this.useSubjectCenter&&s){let l=xj(s,a.rect);l&&(i=JX(l))}this.coordAdjust=eZ(i,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Vp(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=ua(this.droppableStore,e=>(e.component.prepareHits(),new Yte(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:i,offsetTrackers:r}=this,s=null;for(let a in i){let l=i[a].component,u=r[a];if(u&&u.isWithinClipping(e,n)){let d=u.computeLeft(),h=u.computeTop(),g=e-d,p=n-h,{origRect:v}=u,b=v.right-v.left,_=v.bottom-v.top;if(g>=0&&g<b&&p>=0&&p<_){let S=l.queryHit(g,p,b,_);S&&Lp(S.dateProfile.activeRange,S.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(g+d-window.scrollX,p+h-window.scrollY)))&&(!s||S.layer>s.layer)&&(S.componentId=a,S.context=l.context,S.rect.left+=d,S.rect.right+=d,S.rect.top+=h,S.rect.bottom+=h,s=S)}}}return s}}function Vp(t,e){return!t&&!e?!0:!!t!=!!e?!1:zX(t.dateSpan,e.dateSpan)}function p2(t,e){let n={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(n,i(t,e));return Object.assign(n,Qte(t,e.dateEnv)),n}function Qte(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Xte extends mu{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,s=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:a,finalHit:l}=this.hitDragging;if(a&&l&&Vp(a,l)){let{context:u}=r,d=Object.assign(Object.assign({},p2(a.dateSpan,u)),{dayEl:a.dayEl,jsEvent:i.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",d)}}},this.dragging=new If(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Bp(this.dragging,xS(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Zte extends mu{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:l,dragging:u}=this,{options:d}=l.context,h=d.selectable&&l.isValidDateDownEl(a.origEvent.target);u.setIgnoreMove(!h),u.delay=a.isTouch?Jte(l):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,l)=>{let{context:u}=this.component,d=null,h=!1;if(a){let g=this.hitDragging.initialHit;a.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,a)||(d=ene(g,a,u.pluginHooks.dateSelectionTransformers)),(!d||!SZ(d,a.dateProfile,u))&&(h=!0,d=null)}d?u.dispatch({type:"SELECT_DATES",selection:d}):l||u.dispatch({type:"UNSELECT_DATES"}),h?sS():aS(),l||(this.dragSelection=d)},this.handlePointerUp=a=>{this.dragSelection&&(pj(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:i}=n.context,r=this.dragging=new If(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new Bp(this.dragging,xS(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Jte(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function ene(t,e,n){let i=t.dateSpan,r=e.dateSpan,s=[i.range.start,i.range.end,r.range.start,r.range.end];s.sort(QK);let a={};for(let l of n){let u=l(t,e);if(u===!1)return null;u&&Object.assign(a,u)}return a.range={start:s[0],end:s[3]},a.allDay=i.allDay,a}class Pf extends mu{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:u,dragging:d}=this,{mirror:h}=d,{options:g}=u.context,p=u.context;this.subjectEl=a.subjectEl;let v=this.subjectSeg=Zc(a.subjectEl),_=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=vS(p.getCurrentData().eventStore,_),d.minDistance=a.isTouch?0:g.eventDragMinDistance,d.delay=a.isTouch&&_!==u.props.eventSelection?nne(u):null,g.fixedMirrorParent?h.parentNode=g.fixedMirrorParent:h.parentNode=ci(l,".fc"),h.revertDuration=g.dragRevertDuration;let S=u.isValidSegDownEl(l)&&!ci(l,".fc-event-resizer");d.setIgnoreMove(!S),this.isDragging=S&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,u=this.eventRange,d=u.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new nn(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.component.context,g=null,p=null,v=null,b=!1,_={affectedEvents:u,mutatedEvents:er(),isEvent:!0};if(a){g=a.context;let S=g.options;h===g||S.editable&&S.droppable?(p=tne(d,a,this.eventRange.instance.range.start,g.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(v=_S(u,g.getCurrentData().eventUiBases,p,g),_.mutatedEvents=v,Nj(_,a.dateProfile,g)||(b=!0,p=null,v=null,_.mutatedEvents=er()))):g=null}this.displayDrag(g,_),b?sS():aS(),l||(h===g&&Vp(d,a)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=g,this.validMutation=p,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,u=l.viewApi,{receivingContext:d,validMutation:h}=this,g=this.eventRange.def,p=this.eventRange.instance,v=new nn(l,g,p),b=this.relevantEvents,_=this.mutatedRelevantEvents,{finalHit:S}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:a.origEvent,view:u}),h){if(d===l){let x=new nn(l,_.defs[g.defId],p?_.instances[p.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:_});let A={oldEvent:v,event:x,relatedEvents:ol(_,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}},T={};for(let M of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(T,M(h,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},A),T),{el:a.subjectEl,delta:h.datesDelta,jsEvent:a.origEvent,view:u})),l.emitter.trigger("eventChange",A)}else if(d){let x={event:v,relatedEvents:ol(b,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:a.subjectEl,view:u})),l.dispatch({type:"REMOVE_EVENTS",eventStore:b}),l.emitter.trigger("eventRemove",x);let A=_.defs[g.defId],T=_.instances[p.instanceId],M=new nn(d,A,T);d.dispatch({type:"MERGE_EVENTS",eventStore:_});let O={event:M,relatedEvents:ol(_,d,T),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:_})}};d.emitter.trigger("eventAdd",O),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},p2(S.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:S.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},O),{draggedEl:a.subjectEl,view:S.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:i}=n.context,r=this.dragging=new If(e.el);r.pointer.selector=Pf.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new Bp(this.dragging,F_);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:er(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Pf.SELECTOR=".fc-event-draggable, .fc-event-resizable";function tne(t,e,n,i){let r=t.dateSpan,s=e.dateSpan,a=r.range.start,l=s.range.start,u={};r.allDay!==s.allDay&&(u.allDay=s.allDay,u.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?a=Bt(n):a=n);let d=jc(a,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(u.allDay=!1);let h={datesDelta:d,standardProps:u};for(let g of i)g(h,t,e);return h}function nne(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class ine extends mu{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:a}=this,l=this.querySegEl(s),u=Zc(l),d=this.eventRange=u.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:a}=this.component,l=this.eventRange;this.relevantEvents=vS(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(s);this.draggingSegEl=u,this.draggingSeg=Zc(u),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:u,event:new nn(a,l.def,l.instance),jsEvent:s.origEvent,view:a.viewApi})},this.handleHitUpdate=(s,a,l)=>{let{context:u}=this.component,d=this.relevantEvents,h=this.hitDragging.initialHit,g=this.eventRange.instance,p=null,v=null,b=!1,_={affectedEvents:d,mutatedEvents:er(),isEvent:!0};s&&(s.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,s)||(p=rne(h,s,l.subjectEl.classList.contains("fc-event-resizer-start"),g.range))),p&&(v=_S(d,u.getCurrentData().eventUiBases,p,u),_.mutatedEvents=v,Nj(_,s.dateProfile,u)||(b=!0,p=null,v=null,_.mutatedEvents=null)),v?u.dispatch({type:"SET_EVENT_RESIZE",state:_}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),b?sS():aS(),a||(p&&Vp(h,s)&&(p=null),this.validMutation=p,this.mutatedRelevantEvents=v)},this.handleDragEnd=s=>{let{context:a}=this.component,l=this.eventRange.def,u=this.eventRange.instance,d=new nn(a,l,u),h=this.relevantEvents,g=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:a.viewApi}),this.validMutation){let p=new nn(a,g.defs[l.defId],u?g.instances[u.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:g});let v={oldEvent:d,event:p,relatedEvents:ol(g,a,u),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:h})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||ft(0),endDelta:this.validMutation.endDelta||ft(0),jsEvent:s.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",v)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,i=this.dragging=new If(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;let r=this.hitDragging=new Bp(this.dragging,xS(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ci(e.subjectEl,".fc-event")}}function rne(t,e,n,i){let r=t.context.dateEnv,s=t.dateSpan.range.start,a=e.dateSpan.range.start,l=jc(s,a,r,t.largeUnit);if(n){if(r.add(i.start,l)<i.end)return{startDelta:l}}else if(r.add(i.end,l)>i.start)return{endDelta:l};return null}class sne{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,s=YP(i.origEvent);this.matchesCancel=!!ci(s,r),this.matchesEvent=!!ci(s,Pf.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:s}=this,a=r.getCurrentData();if(!s.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let l=r.options.unselectAuto;l&&(!l||!this.matchesCancel)&&r.calendarApi.unselect(i)}a.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new f2(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const ane={fixedMirrorParent:se},one={dateClick:se,eventDragStart:se,eventDragStop:se,eventDrop:se,eventResizeStart:se,eventResizeStop:se,eventResize:se,drop:se,eventReceive:se,eventLeave:se};RS.dataAttrPrefix="";var lne=Es({name:"@fullcalendar/interaction",componentInteractions:[Xte,Zte,Pf,ine],calendarInteractions:[sne],elementDraggingImpl:If,optionRefiners:ane,listenerRefiners:one});function cne({machineId:t,refreshTrigger:e}){const[n,i]=C.useState(!1),[r,s]=C.useState({}),a=oe.useRef(null),{machines:l}=Er(),{odpOrders:u}=on(),{machineAvailability:d,loadMachineAvailabilityForDateRange:h,toggleMachineHourAvailability:g,getTaskOccupiedSegments:p}=ms(),{showAlert:v}=Dt();xs("FullCalendarGrid");const b=l.find(O=>O.id===t),_=C.useCallback(O=>{try{const N=p(O);return N&&N.length>0?N:O.scheduled_start_time&&O.scheduled_end_time?[{start:new Date(O.scheduled_start_time),end:new Date(O.scheduled_end_time),duration:(new Date(O.scheduled_end_time).getTime()-new Date(O.scheduled_start_time).getTime())/(1e3*60*60)}]:[]}catch(N){return console.warn("Failed to get task segments:",N),[]}},[p]),S=C.useMemo(()=>{if(!b)return[];const O=[];return u.filter(N=>N.status==="SCHEDULED"&&N.scheduled_machine_id===b.id&&N.scheduled_start_time&&N.scheduled_end_time).forEach(N=>{const k=_(N);k.forEach((D,P)=>{const z=k.length>1;O.push({id:`${N.id}-segment-${P}`,title:`${N.odp_number} - ${N.article_code}${z?` (${P+1}/${k.length})`:""}`,start:D.start,end:D.end,backgroundColor:z?"#8b5cf6":"#3b82f6",borderColor:z?"#7c3aed":"#2563eb",textColor:"#ffffff",extendedProps:{taskId:N.id,odpNumber:N.odp_number,articleCode:N.article_code,quantity:N.quantity,status:N.status,segmentIndex:P,totalSegments:k.length,isSplitTask:z}})})}),O},[b,u,_]),x=C.useMemo(()=>{if(!d||!b)return[];const O=[];return Object.entries(d).forEach(([N,k])=>{if(Array.isArray(k)){const D=k.find(P=>P.machine_id===t);D&&D.unavailable_hours&&(Array.isArray(D.unavailable_hours)?D.unavailable_hours:[]).forEach(z=>{const B=parseInt(z);if(B<6||B>=22)return;const Q=new Date(N);Q.setUTCHours(B,0,0,0);const ne=new Date(Q);ne.setUTCHours(B+1,0,0,0),O.push({id:`availability-${N}-${z}`,title:"Unavailable",start:Q,end:ne,backgroundColor:"#ef4444",borderColor:"#dc2626",textColor:"#ffffff",display:"background",extendedProps:{type:"availability",date:N,hour:parseInt(z)}})})}}),O},[d,t,b]);C.useEffect(()=>{(async()=>{if(t){i(!0);try{const N=new Date,k=new Date(Date.UTC(N.getUTCFullYear(),N.getUTCMonth(),1)),D=new Date(Date.UTC(N.getUTCFullYear(),N.getUTCMonth()+1,0));await h(t,Yn(k,"yyyy-MM-dd"),Yn(D,"yyyy-MM-dd"))}catch(N){console.error("Failed to load machine availability data:",N)}finally{i(!1)}}})()},[t,e]);const A=C.useCallback(async O=>{const N=O.date,k=Yn(N,"yyyy-MM-dd"),D=N.getUTCHours();if(S.some(B=>{const Q=new Date(B.start),ne=new Date(B.end),ce=new Date(N);return ce>=Q&&ce<ne})){v("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!b)return;const z=`${k}-${D}`;s(B=>({...B,[z]:!0}));try{await g(b.id,k,D)}catch(B){console.error("Failed to toggle machine hour availability:",B),v("An unexpected error occurred.","error")}finally{s(B=>({...B,[z]:!1}))}},[S,v,b,g]),T=C.useCallback(O=>{const N=O.event,k=N.extendedProps;k.type==="availability"?console.log("Availability event clicked:",k):console.log("Scheduled task clicked:",{odpNumber:k.odpNumber,articleCode:k.articleCode,quantity:k.quantity,start:N.start,end:N.end})},[]),M=C.useMemo(()=>({plugins:[Hee,Ate,zte,lne],initialView:"dayGridMonth",initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},height:"auto",locale:"it",timeZone:"UTC",firstDay:k8.APP.FIRST_DAY_OF_WEEK,slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},dayHeaderFormat:{weekday:"short",day:"numeric"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},buttonText:{today:"Oggi",month:"Mese",week:"Settimana",day:"Giorno"},eventClick:T,dateClick:A,events:[...S,...x]}),[T,A,S,x]);return b?n?E.jsx("div",{className:"loading",children:"Loading calendar data..."}):E.jsx("div",{className:"fullcalendar-container",children:E.jsx(Jj,{ref:a,...M})}):E.jsx("div",{className:"loading",children:"Loading machine data..."})}function une(){const{machineId:t}=up(),[e,n]=C.useState(0),{getMachineById:i}=Er(),{isLoading:r,isInitialized:s}=Dt(),{init:a,cleanup:l}=vo(),u=i(t);if(C.useEffect(()=>{if(!s){console.log("Initializing main store...");const h=a(),g=new Promise((p,v)=>setTimeout(()=>v(new Error("Initialization timeout")),1e4));Promise.race([h,g]).catch(p=>{console.error("Initialization failed or timed out:",p)})}return()=>{l()}},[a,s,l]),r)return E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:E.jsxs("div",{className:"text-center py-1 text-gray-500 text-[10px]",children:["Caricamento calendario macchina... (Loading: ",r.toString(),", Initialized: ",s.toString(),")"]})});if(!u)return E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:E.jsxs("div",{className:"text-center py-1 text-red-600 text-[10px]",children:["Macchina non trovata (ID: ",t,", Initialized: ",s.toString(),")"]})});const d=()=>{n(h=>h+1)};return E.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[E.jsx(cK,{title:"Calendario Disponibilità Macchina"}),E.jsx("div",{className:"mb-1",children:E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:u.machine_name})}),!1,E.jsx(uK,{machineId:u.id,currentDate:new Date,onSuccess:d}),E.jsx(cne,{machineId:u.id,refreshTrigger:e})]})}function dne(){const{data:t=[],isLoading:e,error:n}=tS(),i=rK(),{selectedWorkCenter:r,isInitialized:s,showConfirmDialog:a}=Dt(),{init:l,cleanup:u}=vo(),d=ws(),h=C.useMemo(()=>r?r===_t.BOTH?t:t.filter(b=>b.work_center===r):[],[t,r]);xs("PhasesListPage"),C.useEffect(()=>(s||l(),()=>{u()}),[l,s,u]);const g=C.useMemo(()=>[{header:"Nome Fase",accessorKey:"name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Numero Persone",accessorKey:"numero_persone"},{header:"V Stampa",accessorKey:"v_stampa"},{header:"T Setup Stampa (h)",accessorKey:"t_setup_stampa"},{header:"Costo H Stampa",accessorKey:"costo_h_stampa"},{header:"V Conf",accessorKey:"v_conf"},{header:"T Setup Conf (h)",accessorKey:"t_setup_conf"},{header:"Costo H Conf",accessorKey:"costo_h_conf"},{header:"Contenuto Fase",accessorKey:"contenuto_fase"}],[]),p=b=>{d(`/phases/${b.id}/edit`)},v=async b=>{a("Elimina Fase",`Sei sicuro di voler eliminare "${b.name}"? Questa azione non può essere annullata.`,async()=>{try{await i.mutateAsync(b.id),Sl(`Fase "${b.name}" eliminata con successo`)}catch(_){Xa(_.message||"Errore durante l'eliminazione della fase")}},"danger")};return e?E.jsx("div",{children:"Caricamento dati fasi..."}):n?E.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle fasi: ",n.message]}):r?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Fasi"}),E.jsx(gn,{to:"/phases/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Fase"})]}),E.jsx(Kw,{columns:g,data:h,onEditRow:p,onDeleteRow:v,enableGlobalSearch:!1})]}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle fasi."})}function fne({phaseToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Dt(),i=nK(),r=iK(),{handleAsync:s}=xs("PhasesForm"),a=!!t,l=C.useMemo(()=>{const h={...as};return n!==_t.BOTH&&(h.sections[0].fields[3].disabled=!0,h.sections[0].fields[3].defaultValue=n,h.sections[0].fields[3].helpText="Il centro di lavoro è impostato in base alla tua selezione di accesso"),h},[n]),u=C.useMemo(()=>({name:t?.name||"",department:t?.department||as.sections[0].fields[1].defaultValue,numero_persone:t?.numero_persone||as.sections[0].fields[2].defaultValue,work_center:t?.work_center||(n===_t.BOTH?as.sections[0].fields[3].defaultValue:n),v_stampa:t?.v_stampa||as.sections[1].fields[0].defaultValue,t_setup_stampa:t?.t_setup_stampa||as.sections[1].fields[1].defaultValue,costo_h_stampa:t?.costo_h_stampa||as.sections[1].fields[2].defaultValue,v_conf:t?.v_conf||as.sections[2].fields[0].defaultValue,t_setup_conf:t?.t_setup_conf||as.sections[2].fields[1].defaultValue,costo_h_conf:t?.costo_h_conf||as.sections[2].fields[2].defaultValue,contenuto_fase:t?.contenuto_fase||""}),[n,t]),d=async h=>{await s(async()=>{a?await r.mutateAsync({id:t.id,updates:h}):await i.mutateAsync(h),e&&e(),Sl(a?"Fase aggiornata con successo":"Fase aggiunta con successo")},{context:a?"Update Phase":"Add Phase",fallbackMessage:a?"Aggiornamento fase fallito":"Aggiunta fase fallita"})};return E.jsx(Ap,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a})}function NO(){const{id:t}=up(),e=ws(),{selectedWorkCenter:n}=Dt(),{isLoading:i,isInitialized:r,init:s,cleanup:a}=vo(),l=!!t,{data:u,isLoading:d,error:h}=tK(t);return C.useEffect(()=>(r||s(),()=>{a()}),[s,r,a]),C.useEffect(()=>{l&&!i&&!d&&!u&&!h&&e("/phases",{replace:!0})},[l,i,d,u,h,e]),i||l&&d?E.jsx("div",{children:"Caricamento..."}):l&&h?E.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento della fase: ",h.message]}):l&&!u?E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Fase non trovata."}):n?E.jsxs("div",{className:"space-y-6",children:[E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:l?`Modifica Fase: ${u?.name}`:"Aggiungi Nuova Fase"})}),E.jsx(fne,{phaseToEdit:u})]}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le fasi."})}function hne(){const{selectedWorkCenter:t,showConfirmDialog:e}=Dt(),n=ws(),{data:i=[],isLoading:r,error:s}=Np(),{data:a=[],isLoading:l}=kp(),{data:u=[],isLoading:d}=tS(),h=eK(),{handleAsync:g}=xs("BacklogListPage");if(s)return E.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento degli ordini: ",s.message]});const p=C.useMemo(()=>{if(!t)return[];let x=i;return t!==_t.BOTH&&(x=i.filter(A=>A.work_center===t)),x.map(A=>({...A,machine_name:A.scheduled_machine_id?a.find(T=>T.id===A.scheduled_machine_id)?.machine_name||"Macchina non trovata":"Non programmato",phase_name:A.fase?u.find(T=>T.id===A.fase)?.name||"Fase non trovata":"Fase non assegnata",progress:A.progress||0,time_remaining:A.time_remaining||A.duration||0}))},[i,t,a,u]),v=r||l||d,b=C.useMemo(()=>[{header:"Numero ODP",accessorKey:"odp_number",cell:x=>{const A=x.row.original.status,T=x.getValue(),M=A==="SCHEDULED";return E.jsx("span",{className:M?"text-green-600 font-medium":"",children:T})}},{header:"Codice Articolo",accessorKey:"article_code"},{header:"Note ASD",accessorKey:"asd_notes",cell:x=>{const A=x.getValue();return A?E.jsx("div",{className:"max-w-[200px] truncate text-[10px]",title:A,children:A}):"N/A"}},{header:"Nome Cliente",accessorKey:"nome_cliente"},{header:"Quantità",accessorKey:"quantity"},{header:"Quantità Completata",accessorKey:"quantity_completed"},{header:"Altezza Busta (mm)",accessorKey:"bag_height"},{header:"Larghezza Busta (mm)",accessorKey:"bag_width"},{header:"Passo Busta (mm)",accessorKey:"bag_step"},{header:"Lotto Produzione",accessorKey:"production_lot"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Lati Sigillati",accessorKey:"seal_sides"},{header:"Tipo Prodotto",accessorKey:"product_type"},{header:"Data Consegna",accessorKey:"delivery_date",cell:x=>x.getValue()?Yn(new Date(x.getValue()),"yyyy-MM-dd"):"Non impostata"},{header:"Inizio Programmato",accessorKey:"scheduled_start_time",cell:x=>x.getValue()?new Date(x.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Fine Programmata",accessorKey:"scheduled_end_time",cell:x=>x.getValue()?new Date(x.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Codice Cliente Interno",accessorKey:"internal_customer_code"},{header:"Codice Cliente Esterno",accessorKey:"external_customer_code"},{header:"Riferimento Ordine Cliente",accessorKey:"customer_order_ref"},{header:"Note Libere",accessorKey:"user_notes"},{header:"Nome Fase",accessorKey:"phase_name"},{header:"Durata (ore)",accessorKey:"duration",cell:x=>{const A=x.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Costo (€)",accessorKey:"cost",cell:x=>{const A=x.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Stato",accessorKey:"status"},{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Progresso (%)",accessorKey:"progress",cell:x=>{const A=x.getValue();return typeof A=="number"?`${A}%`:A}},{header:"Tempo Rimanente (ore)",accessorKey:"time_remaining",cell:x=>{const A=x.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Material ISP (%)",accessorKey:"material_availability_isp",cell:x=>{const A=x.getValue();if(typeof A!="number")return A||"N/A";const T=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return E.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${T} text-black text-[10px] font-medium`,children:A})}},{header:"Material Lotti (%)",accessorKey:"material_availability_lotti",cell:x=>{const A=x.getValue();if(typeof A!="number")return A||"N/A";const T=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return E.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${T} text-black text-[10px] font-medium`,children:A})}},{header:"Material Global (%)",accessorKey:"material_availability_global",cell:x=>{const A=x.getValue();if(typeof A!="number")return A||"N/A";const T=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return E.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${T} text-black text-[10px] font-medium`,children:A})}}],[]);C.useMemo(()=>b.map(x=>x.accessorKey),[b]);const _=x=>{n(`/backlog/${x.id}/edit`)},S=async x=>{e("Elimina Ordine",`Sei sicuro di voler eliminare "${x.odp_number}"? Questa azione non può essere annullata.`,async()=>{await g(async()=>{await h.mutateAsync(x.id)},{context:"Delete Order",fallbackMessage:"Eliminazione ordine fallita"})},"danger")};return v?E.jsx("div",{children:"Caricamento dati backlog..."}):t?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Ordini"}),E.jsx(gn,{to:"/backlog/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Ordine"})]}),E.jsx(Kw,{columns:b,data:p,onEditRow:_,onDeleteRow:S,stickyColumns:["odp_number","article_code"],enableGlobalSearch:!1,enableFiltering:!1})]}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati del backlog."})}const gne=({onSuccess:t,orderToEdit:e})=>{const{selectedWorkCenter:n,showConflictDialog:i}=Dt(),{scheduleTaskFromSlot:r,unscheduleTask:s}=ms(),{calculateProductionMetrics:a,validatePhaseParameters:l,autoDetermineWorkCenter:u,autoDetermineDepartment:d}=uP(),{handleAsync:h}=xs("BacklogForm"),{validateOrder:g}=V7(),p=Z7(),v=J7(),b=Ui(),[_,S]=C.useState(null),x=!!e,A=C.useMemo(()=>{const xe={...oK};if(n!==_t.BOTH){const He=xe.sections[0].fields.find(tt=>tt.name==="work_center");He&&(He.disabled=!0,He.defaultValue=n,He.helpText="Centro di lavoro pre-impostato.")}return xe},[n]),T=C.useMemo(()=>({odp_number:e?.odp_number||"",article_code:e?.article_code||"",work_center:e?.work_center||(n===_t.BOTH?"":n),nome_cliente:e?.nome_cliente||"",delivery_date:e?.delivery_date?new Date(e.delivery_date).toISOString().slice(0,16):"",quantity:e?.quantity||"",customer_order_ref:e?.customer_order_ref||"",department:e?.department||"",quantity_completed:e?.quantity_completed||Xt.ORDER.QUANTITY_COMPLETED,production_lot:e?.production_lot||null,bag_height:e?.bag_height||null,bag_width:e?.bag_width||null,bag_step:e?.bag_step||null,seal_sides:e?.seal_sides||null,product_type:e?.product_type||null,internal_customer_code:e?.internal_customer_code||null,external_customer_code:e?.external_customer_code||null,user_notes:e?.user_notes||null,asd_notes:e?.asd_notes||null,material_availability_global:e?.material_availability_global||null,fase:e?.fase||null}),[n,e]),[M,O]=C.useState(T.department),[N,k]=C.useState(T.work_center),[D,P]=C.useState(T.quantity),[z,B]=C.useState(T.bag_step),{phaseSearch:Q,setPhaseSearch:ne,isDropdownVisible:ce,setIsDropdownVisible:me,selectedPhase:L,setSelectedPhase:q,filteredPhases:V,editablePhaseParams:G,setEditablePhaseParams:he,handlePhaseParamChange:F,handlePhaseSelect:Z,handleBlur:ee}=$7(M,N,x?e?.fase:null),le=C.useCallback(()=>{ne(""),q(null),he({}),S(null)},[ne,q,he]),ye=C.useCallback((xe,He)=>{if(xe){const tt=d(xe);He("department",tt),n===_t.BOTH&&He("work_center",u(xe)),He("fase",""),ne(""),q(null),he({}),S(null)}},[d,u,n,ne,q,he]),_e=async xe=>{const He=g(xe);if(!He.isValid){const Ye=Object.entries(He.errors).map(([j,W])=>`${{odp_number:"Numero ODP",article_code:"Codice Articolo",work_center:"Centro di Lavoro",nome_cliente:"Nome Cliente",quantity:"Quantità",delivery_date:"Data di Consegna",customer_order_ref:"Riferimento Ordine Cliente",department:"Reparto",bag_height:"Altezza Busta",bag_width:"Larghezza Busta",bag_step:"Passo Busta",seal_sides:"Lati Sigillatura",product_type:"Tipo Prodotto",internal_customer_code:"Codice Cliente Interno",external_customer_code:"Codice Cliente Esterno"}[j]||j}: ${W}`);QW(Ye);return}const tt=xe.fase,Vt=L?.department===an.PRINTING;if(tt&&(!Vt||xe.bag_step)&&(!_?.totals||typeof _.totals.duration!="number"||typeof _.totals.cost!="number")){Ed("Calcola le metriche di produzione valide prima di procedere.");return}await h(async()=>{const{phase_search:Ye,...j}=xe,W={...j,fase:j.fase===""?null:j.fase,scheduled_machine_id:j.scheduled_machine_id===""?null:j.scheduled_machine_id,production_lot:j.production_lot===""?null:j.production_lot,internal_customer_code:j.internal_customer_code===""?null:j.internal_customer_code,external_customer_code:j.external_customer_code===""?null:j.external_customer_code,user_notes:j.user_notes===""?null:j.user_notes,asd_notes:j.asd_notes===""?null:j.asd_notes,material_availability_global:j.material_availability_global===""?null:j.material_availability_global,bag_height:j.bag_height===""?null:j.bag_height,bag_width:j.bag_width===""?null:j.bag_width,bag_step:j.bag_step===""?null:j.bag_step,seal_sides:j.seal_sides===""?null:j.seal_sides,product_type:j.product_type===""?null:j.product_type};let X;if(x){const K=_?.totals?.duration||e.duration,ie=e.quantity_completed/e.quantity||0,ue=K*(1-ie);if(e.scheduled_machine_id&&e.scheduled_start_time){console.log("🔄 EDIT FLOW: Starting rescheduling for task",e.id),console.log("📊 EDIT FLOW: Original duration:",e.duration,"New duration:",K);const ve=e.duration,be=K-ve;if(Math.abs(be)<.01){console.log("📊 SCENARIO X: Duration unchanged, skipping rescheduling");const we={...W,duration:K,cost:_?.totals?.cost||null};X=await v.mutateAsync({id:e.id,updates:we})}else if(be>0){console.log("📈 SCENARIO Y: Duration increased, using standard rescheduling");const we=new Date(e.scheduled_start_time),Me=we.getUTCHours(),Ke=we.getUTCMinutes(),Ve=new Date(Date.UTC(we.getUTCFullYear(),we.getUTCMonth(),we.getUTCDate()));console.log("📅 EDIT FLOW: Start date:",we.toISOString()),console.log("⏰ EDIT FLOW: Hour:",Me,"Minute:",Ke),console.log("📆 EDIT FLOW: Current date:",Ve.toISOString());const ct={duration:K};console.log("💾 EDIT FLOW: Updating task with new duration:",ct),await v.mutateAsync({id:e.id,updates:ct}),await new Promise(ht=>setTimeout(ht,100));const{getOrderById:nt}=on.getState(),Ut=nt(e.id);console.log("🔍 EDIT FLOW: Task duration after update:",Ut?.duration),console.log("🔄 EDIT FLOW: Unscheduling task first"),await s(e.id,b),await new Promise(ht=>setTimeout(ht,100));const it={id:e.scheduled_machine_id};console.log("🎯 EDIT FLOW: Calling scheduleTaskFromSlot with:",{taskId:e.id,machine:it,currentDate:Ve.toISOString(),hour:Me,minute:Ke,timeRemaining:ue});const ze=await r(e.id,it,Ve,Me,Ke,ue,b);if(console.log("📋 EDIT FLOW: scheduleTaskFromSlot result:",ze),ze?.conflict){console.log("⚠️ EDIT FLOW: Conflict detected, showing dialog");const ht={...ze,schedulingParams:{taskId:e.id,machine:it,currentDate:Ve,hour:Me,minute:Ke,newDuration:ue,originalConflict:ze}};i(ht);return}else if(ze?.error){console.log("❌ EDIT FLOW: Error:",ze.error),Xa(ze.error);return}else console.log("✅ EDIT FLOW: Scheduling successful");const pn=ze?.updatedTask;console.log("📋 EDIT FLOW: Updated task from scheduling result:",pn);const Ze={...W,duration:K,cost:_?.totals?.cost||null,scheduled_start_time:pn?.scheduled_start_time||we.toISOString(),scheduled_end_time:pn?.scheduled_end_time||new Date(we.getTime()+K*36e5).toISOString(),description:pn?.description||e.description};console.log("💾 EDIT FLOW: Final order data to save:",Ze),X=await v.mutateAsync({id:e.id,updates:Ze}),console.log("✅ EDIT FLOW: Final update completed:",X)}else{console.log("📉 SCENARIO Z: Duration decreased, using adjacent task rescheduling");const we=await je(e.id,K,ue,W,_?.totals?.cost||null,b,v,r,s,i);if(we?.error){console.log("❌ SCENARIO Z: Error:",we.error),Xa(we.error);return}X=we.updatedOrder,console.log("✅ SCENARIO Z: Duration decrease rescheduling completed:",X)}}else{const ve={...W,duration:K,cost:_?.totals?.cost||null};X=await v.mutateAsync({id:e.id,updates:ve})}}else{const K={...W,duration:_?.totals?.duration||null,cost:_?.totals?.cost||null,status:"NOT SCHEDULED"};X=await p.mutateAsync(K)}t&&t(),le(),Sl(x?"Ordine aggiornato con successo":"Ordine aggiunto con successo")},{context:x?"Aggiorna Ordine":"Aggiungi Ordine",fallbackMessage:x?"Aggiornamento ordine fallito":"Aggiunta ordine fallita"})},pe=()=>{if(!L){Ed("Seleziona una fase prima di calcolare.");return}if(!D){Ed("Inserisci la quantità per calcolare.");return}if(L.department===an.PRINTING&&!z){Ed("Inserisci il passo busta per calcolare la stampa.");return}const xe={...L,...G},He=l(xe);if(!He.isValid){Xa(He.error),S(null);return}const tt=L.department===an.PRINTING?z:null,Vt=a(xe,D,tt);if(!Vt||typeof Vt.totals?.duration!="number"||typeof Vt.totals?.cost!="number"){Xa("Errore nel calcolo. Verifica i parametri della fase."),S(null);return}S(Vt)},Se=xe=>G[xe]??L[xe]??"",je=async(xe,He,tt,Vt,wn,Ye,j,W,X,K,ie)=>{try{console.log("📉 SCENARIO Z: Starting duration decrease rescheduling for task",xe);const{getOrderById:ue,getOdpOrders:ve}=on.getState(),be=ue(xe);if(!be)return{error:"Task not found"};const we=new Date(be.scheduled_start_time),Me=we.getUTCHours(),Ke=we.getUTCMinutes(),Ve=new Date(Date.UTC(we.getUTCFullYear(),we.getUTCMonth(),we.getUTCDate())),ct={id:be.scheduled_machine_id};console.log("📅 SCENARIO Z: Current task start:",we.toISOString()),console.log("📅 SCENARIO Z: New time remaining:",tt);const nt=new Date(be.scheduled_end_time);console.log("📅 SCENARIO Z: Current end time for task A (from DB):",nt.toISOString());const Ut=ve(),it=[];let ze=nt;for(console.log("🔍 SCENARIO Z: Starting to find chain of adjacent tasks...");;){const pn=Ut.find(Ze=>{if(Ze.id===xe||!Ze.scheduled_machine_id||!Ze.scheduled_start_time||Ze.status!=="SCHEDULED"||Ze.scheduled_machine_id!==be.scheduled_machine_id||it.some(hi=>hi.id===Ze.id))return!1;const ht=new Date(Ze.scheduled_start_time),fi=Math.abs(ht.getTime()-ze.getTime())/(1e3*60);return console.log("🔍 SCENARIO Z: Checking task",Ze.odp_number,"start:",ht.toISOString(),"diff:",fi,"minutes","against end time:",ze.toISOString()),fi<=120});if(pn)console.log("🔗 SCENARIO Z: Found adjacent task in chain:",pn.odp_number),it.push(pn),ze=new Date(pn.scheduled_end_time),console.log("📅 SCENARIO Z: Next task end time for chain:",ze.toISOString()),console.log("🔄 SCENARIO Z: Continuing to search for more adjacent tasks...");else{console.log("🛑 SCENARIO Z: No more adjacent tasks found, stopping chain search");break}}if(it.length>0){console.log("🔗 SCENARIO Z: Found chain of",it.length,"adjacent tasks:",it.map(Ee=>Ee.odp_number)),console.log("🔄 SCENARIO Z: Step 2 - Rescheduling task A");const pn={duration:He};await j.mutateAsync({id:xe,updates:pn}),await new Promise(Ee=>setTimeout(Ee,100)),await X(xe,Ye),await new Promise(Ee=>setTimeout(Ee,100));const Ze=await W(xe,ct,Ve,Me,Ke,tt,Ye);if(Ze?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for task A, showing dialog");const Ee={...Ze,schedulingParams:{taskId:xe,machine:ct,currentDate:Ve,hour:Me,minute:Ke,newDuration:tt,originalConflict:Ze}};return K(Ee),{error:"Conflict detected for task A"}}else if(Ze?.error)return console.log("❌ SCENARIO Z: Error rescheduling task A:",Ze.error),{error:Ze.error};console.log("✅ SCENARIO Z: Task A rescheduled successfully"),console.log("🔄 SCENARIO Z: Step 3 - Rescheduling chain of",it.length,"tasks");let ht=new Date(Ze.schedulingResult.endTime);const fi=[];for(let Ee=0;Ee<it.length;Ee++){const Be=it[Ee];console.log(`🔄 SCENARIO Z: Rescheduling chain task ${Ee+1}/${it.length}:`,Be.odp_number);const ut=ht.getUTCHours(),gt=ht.getUTCMinutes(),un=new Date(Date.UTC(ht.getUTCFullYear(),ht.getUTCMonth(),ht.getUTCDate()));console.log("📅 SCENARIO Z: Chain task new start time:",ht.toISOString()),console.log("⏰ SCENARIO Z: Chain task new hour:",ut,"minute:",gt);const mt=Be.time_remaining||Be.duration||1;console.log("📊 SCENARIO Z: Chain task time remaining:",mt),await X(Be.id,Ye),await new Promise(Sn=>setTimeout(Sn,100));const Qe=await W(Be.id,ct,un,ut,gt,mt,Ye);if(Qe?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for chain task",Be.odp_number,", showing dialog");const Sn={...Qe,schedulingParams:{taskId:Be.id,machine:ct,currentDate:un,hour:ut,minute:gt,newDuration:mt,originalConflict:Qe}};return K(Sn),{error:`Conflict detected for chain task ${Be.odp_number}`}}else if(Qe?.error)return console.log("❌ SCENARIO Z: Error rescheduling chain task",Be.odp_number,":",Qe.error),{error:`Error rescheduling chain task ${Be.odp_number}: ${Qe.error}`};console.log("✅ SCENARIO Z: Chain task",Be.odp_number,"rescheduled successfully"),fi.push(Qe),ht=new Date(Qe.schedulingResult.endTime),console.log("📅 SCENARIO Z: Updated end time for next chain task:",ht.toISOString())}console.log("✅ SCENARIO Z: All",it.length,"chain tasks rescheduled successfully");const hi=Ze?.updatedTask,St={...Vt,duration:He,cost:wn,scheduled_start_time:hi?.scheduled_start_time||we.toISOString(),scheduled_end_time:hi?.scheduled_end_time||new Date(we.getTime()+He*36e5).toISOString(),description:hi?.description||be.description},$t=await j.mutateAsync({id:xe,updates:St});return console.log("✅ SCENARIO Z: Task A and",it.length,"chain tasks rescheduled successfully"),{updatedOrder:$t}}else{console.log("📊 SCENARIO Z: No adjacent task found, using standard rescheduling");const pn={duration:He};await j.mutateAsync({id:xe,updates:pn}),await new Promise(St=>setTimeout(St,100)),await X(xe,Ye),await new Promise(St=>setTimeout(St,100));const Ze=await W(xe,ct,Ve,Me,Ke,tt,Ye);if(Ze?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected, showing dialog");const St={...Ze,schedulingParams:{taskId:xe,machine:ct,currentDate:Ve,hour:Me,minute:Ke,newDuration:tt,originalConflict:Ze}};return K(St),{error:"Conflict detected"}}else if(Ze?.error)return console.log("❌ SCENARIO Z: Error:",Ze.error),{error:Ze.error};const ht=Ze?.updatedTask,fi={...Vt,duration:He,cost:wn,scheduled_start_time:ht?.scheduled_start_time||we.toISOString(),scheduled_end_time:ht?.scheduled_end_time||new Date(we.getTime()+He*36e5).toISOString(),description:ht?.description||be.description};return{updatedOrder:await j.mutateAsync({id:xe,updates:fi})}}}catch(ue){return console.error("❌ SCENARIO Z: Error in handleDurationDecreaseRescheduling:",ue),{error:ue.message||"Error during duration decrease rescheduling"}}},Ge=()=>L?L.department===an.PRINTING?[{name:"v_stampa",label:"Velocità Stampa:",unit:"mt/h"},{name:"t_setup_stampa",label:"Setup Stampa:",unit:"h"},{name:"costo_h_stampa",label:"Costo Stampa:",unit:"€/h"}]:[{name:"v_conf",label:"Velocità Confezionamento:",unit:"pz/h"},{name:"t_setup_conf",label:"Setup Confezionamento:",unit:"h"},{name:"costo_h_conf",label:"Costo Confezionamento:",unit:"€/h"}]:[],Rt=C.useMemo(()=>({article_code:(xe,{watch:He,setValue:tt,getValues:Vt,register:wn})=>E.jsx(qn,{type:"text",...wn(xe.name,{...xe.validation,onChange:Ye=>{xe.validation?.onChange&&xe.validation.onChange(Ye),ye(Ye.target.value,tt)}}),placeholder:xe.placeholder,disabled:xe.disabled,className:xe.className}),phase_search:(xe,{watch:He,setValue:tt,getValues:Vt,register:wn})=>{const Ye=He("department"),j=He("work_center"),W=He("quantity"),X=He("bag_step");return C.useEffect(()=>{Ye!==M&&O(Ye),j!==N&&k(j),W!==D&&P(W),X!==z&&B(X)},[Ye,j,W,X,M,N,D,z]),E.jsxs("div",{className:"relative",children:[E.jsx(qn,{type:"text",value:Q,onChange:K=>ne(K.target.value),onFocus:()=>me(!0),onBlur:ee,placeholder:"Cerca fase di produzione..."}),E.jsx("input",{type:"hidden",...wn("fase")}),ce&&V.length>0&&E.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:V.map(K=>E.jsxs("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onMouseDown:()=>{Z(K,tt,()=>{}),S(null)},children:[E.jsx("div",{className:"text-[10px] font-medium",children:K.name}),E.jsx("div",{className:"text-[10px] text-gray-600",children:K.contenuto_fase})]},K.id))})]})},phase_parameters:()=>L?E.jsxs("div",{className:"space-y-2",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Parametri Fase Selezionata"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:Ge().map(xe=>E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:xe.name,children:xe.label}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(qn,{type:"number",id:xe.name,value:Se(xe.name),onChange:He=>F(xe.name,He.target.value)}),E.jsx("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:xe.unit})]})]},xe.name))})]}):null,calculation_results:()=>_?.totals?E.jsxs("div",{className:"space-y-2",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Risultati Calcolo Produzione"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{children:"Durata Totale (ore):"}),E.jsx("div",{className:"text-[10px] font-semibold text-navy-800",children:_.totals.duration.toFixed(2)})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{children:"Costo Totale (€):"}),E.jsx("div",{className:"text-[10px] font-semibold text-green-600",children:_.totals.cost.toFixed(2)})]})]})]}):null}),[Q,ne,ce,me,V,ee,Z,L,Se,F,Ge,_,ye]),wt=C.useMemo(()=>E.jsx("div",{className:"flex justify-end space-x-4 pt-6",children:E.jsx(Cp,{type:"button",variant:"outline",onClick:pe,disabled:!L,children:"Calcola"})}),[L,pe]),Mn=p.isPending||v.isPending;return E.jsx(Ap,{config:A,initialData:T,onSubmit:_e,onSuccess:t,isEditMode:x,isLoading:Mn,customActions:wt,customFieldRenderers:Rt})},fm=({children:t,onClick:e,variant:n="default",size:i="default",className:r="",disabled:s=!1,type:a="button",...l})=>{const u="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},h={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return E.jsx("button",{type:a,onClick:e,disabled:s,className:hw(u,d[n],h[i],r),...l,children:t})};function IO(){const{id:t}=up(),e=ws(),{data:n,isLoading:i,error:r}=X7(t),{selectedWorkCenter:s}=Dt(),{isLoading:a,isInitialized:l,init:u,cleanup:d}=vo(),h=!!t;return C.useEffect(()=>(l||u(),()=>{d()}),[u,l,d]),C.useEffect(()=>{h&&!i&&!n&&r&&e("/backlog",{replace:!0})},[h,i,n,e,r]),i?E.jsx("div",{children:"Caricamento..."}):h&&!n?E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Ordine non trovato."}):s?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:h?`Modifica Ordine: ${n?.odp_number}`:"Aggiungi Nuovo Ordine"}),h&&E.jsx(fm,{variant:"outline",onClick:()=>e("/scheduler"),children:"← Torna al Programmatore"})]}),E.jsx(gne,{onSuccess:h?()=>e("/scheduler"):void 0,orderToEdit:n})]}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire gli ordini del backlog."})}const $p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pu(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function jS(t){return"nodeType"in t}function wi(t){var e,n;return t?pu(t)?t:jS(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function LS(t){const{Document:e}=wi(t);return t instanceof e}function jf(t){return pu(t)?!1:t instanceof wi(t).HTMLElement}function v2(t){return t instanceof wi(t).SVGElement}function vu(t){return t?pu(t)?t.document:jS(t)?LS(t)?t:jf(t)||v2(t)?t.ownerDocument:document:document:document}const da=$p?C.useLayoutEffect:C.useEffect;function qp(t){const e=C.useRef(t);return da(()=>{e.current=t}),C.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function mne(){const t=C.useRef(null),e=C.useCallback((i,r)=>{t.current=setInterval(i,r)},[]),n=C.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function lf(t,e){e===void 0&&(e=[t]);const n=C.useRef(t);return da(()=>{n.current!==t&&(n.current=t)},e),n}function Lf(t,e){const n=C.useRef();return C.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function Km(t){const e=qp(t),n=C.useRef(null),i=C.useCallback(r=>{r!==n.current&&e?.(r,n.current),n.current=r},[]);return[n,i]}function Qm(t){const e=C.useRef();return C.useEffect(()=>{e.current=t},[t]),e.current}let S0={};function Gp(t,e){return C.useMemo(()=>{if(e)return e;const n=S0[t]==null?0:S0[t]+1;return S0[t]=n,t+"-"+n},[t,e])}function y2(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce((s,a)=>{const l=Object.entries(a);for(const[u,d]of l){const h=s[u];h!=null&&(s[u]=h+t*d)}return s},{...e})}}const Gc=y2(1),Xm=y2(-1);function pne(t){return"clientX"in t&&"clientY"in t}function FS(t){if(!t)return!1;const{KeyboardEvent:e}=wi(t.target);return e&&t instanceof e}function vne(t){if(!t)return!1;const{TouchEvent:e}=wi(t.target);return e&&t instanceof e}function Zm(t){if(vne(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return pne(t)?{x:t.clientX,y:t.clientY}:null}const cf=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[cf.Translate.toString(t),cf.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),PO="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function yne(t){return t.matches(PO)?t:t.querySelector(PO)}const bne={display:"none"};function _ne(t){let{id:e,value:n}=t;return oe.createElement("div",{id:e,style:bne},n)}function wne(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return oe.createElement("div",{id:e,style:r,role:"status","aria-live":i,"aria-atomic":!0},n)}function Sne(){const[t,e]=C.useState("");return{announce:C.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const b2=C.createContext(null);function xne(t){const e=C.useContext(b2);C.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Ene(){const[t]=C.useState(()=>new Set),e=C.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[C.useCallback(i=>{let{type:r,event:s}=i;t.forEach(a=>{var l;return(l=a[r])==null?void 0:l.call(a,s)})},[t]),e]}const Cne={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ane={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Tne(t){let{announcements:e=Ane,container:n,hiddenTextDescribedById:i,screenReaderInstructions:r=Cne}=t;const{announce:s,announcement:a}=Sne(),l=Gp("DndLiveRegion"),[u,d]=C.useState(!1);if(C.useEffect(()=>{d(!0)},[]),xne(C.useMemo(()=>({onDragStart(g){let{active:p}=g;s(e.onDragStart({active:p}))},onDragMove(g){let{active:p,over:v}=g;e.onDragMove&&s(e.onDragMove({active:p,over:v}))},onDragOver(g){let{active:p,over:v}=g;s(e.onDragOver({active:p,over:v}))},onDragEnd(g){let{active:p,over:v}=g;s(e.onDragEnd({active:p,over:v}))},onDragCancel(g){let{active:p,over:v}=g;s(e.onDragCancel({active:p,over:v}))}}),[s,e])),!u)return null;const h=oe.createElement(oe.Fragment,null,oe.createElement(_ne,{id:i,value:r.draggable}),oe.createElement(wne,{id:l,announcement:a}));return n?Hr.createPortal(h,n):h}var Fn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Fn||(Fn={}));function Jm(){}function jO(t,e){return C.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Rne(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return C.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Xr=Object.freeze({x:0,y:0});function Dne(t,e){const n=Zm(t);if(!n)return"0 0";const i={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function One(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function Mne(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function kne(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=r-i,l=s-n;if(i<r&&n<s){const u=e.width*e.height,d=t.width*t.height,h=a*l,g=h/(u+d-h);return Number(g.toFixed(4))}return 0}const Nne=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=[];for(const s of i){const{id:a}=s,l=n.get(a);if(l){const u=kne(l,e);u>0&&r.push({id:a,data:{droppableContainer:s,value:u}})}}return r.sort(One)};function Ine(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function _2(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Xr}function Pne(t){return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const jne=Pne(1);function w2(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Lne(t,e,n){const i=w2(e);if(!i)return t;const{scaleX:r,scaleY:s,x:a,y:l}=i,u=t.left-a-(1-r)*parseFloat(n),d=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=r?t.width/r:t.width,g=s?t.height/s:t.height;return{width:h,height:g,top:d,right:u+h,bottom:d+g,left:u}}const Fne={ignoreTransform:!1};function Ff(t,e){e===void 0&&(e=Fne);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:h}=wi(t).getComputedStyle(t);d&&(n=Lne(n,d,h))}const{top:i,left:r,width:s,height:a,bottom:l,right:u}=n;return{top:i,left:r,width:s,height:a,bottom:l,right:u}}function LO(t){return Ff(t,{ignoreTransform:!0})}function Une(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function zne(t,e){return e===void 0&&(e=wi(t).getComputedStyle(t)),e.position==="fixed"}function Hne(t,e){e===void 0&&(e=wi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const s=e[r];return typeof s=="string"?n.test(s):!1})}function US(t,e){const n=[];function i(r){if(e!=null&&n.length>=e||!r)return n;if(LS(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!jf(r)||v2(r)||n.includes(r))return n;const s=wi(t).getComputedStyle(r);return r!==t&&Hne(r,s)&&n.push(r),zne(r,s)?n:i(r.parentNode)}return t?i(t):n}function S2(t){const[e]=US(t,1);return e??null}function x0(t){return!$p||!t?null:pu(t)?t:jS(t)?LS(t)||t===vu(t).scrollingElement?window:jf(t)?t:null:null}function x2(t){return pu(t)?t.scrollX:t.scrollLeft}function E2(t){return pu(t)?t.scrollY:t.scrollTop}function q_(t){return{x:x2(t),y:E2(t)}}var $n;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})($n||($n={}));function C2(t){return!$p||!t?!1:t===document.scrollingElement}function A2(t){const e={x:0,y:0},n=C2(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},r=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=i.y,l=t.scrollLeft>=i.x;return{isTop:r,isLeft:s,isBottom:a,isRight:l,maxScroll:i,minScroll:e}}const Bne={x:.2,y:.2};function Vne(t,e,n,i,r){let{top:s,left:a,right:l,bottom:u}=n;i===void 0&&(i=10),r===void 0&&(r=Bne);const{isTop:d,isBottom:h,isLeft:g,isRight:p}=A2(t),v={x:0,y:0},b={x:0,y:0},_={height:e.height*r.y,width:e.width*r.x};return!d&&s<=e.top+_.height?(v.y=$n.Backward,b.y=i*Math.abs((e.top+_.height-s)/_.height)):!h&&u>=e.bottom-_.height&&(v.y=$n.Forward,b.y=i*Math.abs((e.bottom-_.height-u)/_.height)),!p&&l>=e.right-_.width?(v.x=$n.Forward,b.x=i*Math.abs((e.right-_.width-l)/_.width)):!g&&a<=e.left+_.width&&(v.x=$n.Backward,b.x=i*Math.abs((e.left+_.width-a)/_.width)),{direction:v,speed:b}}function $ne(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:i,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:r,width:t.clientWidth,height:t.clientHeight}}function T2(t){return t.reduce((e,n)=>Gc(e,q_(n)),Xr)}function qne(t){return t.reduce((e,n)=>e+x2(n),0)}function Gne(t){return t.reduce((e,n)=>e+E2(n),0)}function R2(t,e){if(e===void 0&&(e=Ff),!t)return;const{top:n,left:i,bottom:r,right:s}=e(t);S2(t)&&(r<=0||s<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Wne=[["x",["left","right"],qne],["y",["top","bottom"],Gne]];class zS{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=US(n),r=T2(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of Wne)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=l(i),h=r[s]-d;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ud{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var r;(r=this.target)==null||r.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function Yne(t){const{EventTarget:e}=wi(t);return t instanceof e?t:vu(t)}function E0(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var Sr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Sr||(Sr={}));function FO(t){t.preventDefault()}function Kne(t){t.stopPropagation()}var Ht;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ht||(Ht={}));const D2={start:[Ht.Space,Ht.Enter],cancel:[Ht.Esc],end:[Ht.Space,Ht.Enter,Ht.Tab]},Qne=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ht.Right:return{...n,x:n.x+25};case Ht.Left:return{...n,x:n.x-25};case Ht.Down:return{...n,y:n.y+25};case Ht.Up:return{...n,y:n.y-25}}};class O2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ud(vu(n)),this.windowListeners=new Ud(wi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&R2(i),n(Xr)}handleKeyDown(e){if(FS(e)){const{active:n,context:i,options:r}=this.props,{keyboardCodes:s=D2,coordinateGetter:a=Qne,scrollBehavior:l="smooth"}=r,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=i.current,h=d?{x:d.left,y:d.top}:Xr;this.referenceCoordinates||(this.referenceCoordinates=h);const g=a(e,{active:n,context:i.current,currentCoordinates:h});if(g){const p=Xm(g,h),v={x:0,y:0},{scrollableAncestors:b}=i.current;for(const _ of b){const S=e.code,{isTop:x,isRight:A,isLeft:T,isBottom:M,maxScroll:O,minScroll:N}=A2(_),k=$ne(_),D={x:Math.min(S===Ht.Right?k.right-k.width/2:k.right,Math.max(S===Ht.Right?k.left:k.left+k.width/2,g.x)),y:Math.min(S===Ht.Down?k.bottom-k.height/2:k.bottom,Math.max(S===Ht.Down?k.top:k.top+k.height/2,g.y))},P=S===Ht.Right&&!A||S===Ht.Left&&!T,z=S===Ht.Down&&!M||S===Ht.Up&&!x;if(P&&D.x!==g.x){const B=_.scrollLeft+p.x,Q=S===Ht.Right&&B<=O.x||S===Ht.Left&&B>=N.x;if(Q&&!p.y){_.scrollTo({left:B,behavior:l});return}Q?v.x=_.scrollLeft-B:v.x=S===Ht.Right?_.scrollLeft-O.x:_.scrollLeft-N.x,v.x&&_.scrollBy({left:-v.x,behavior:l});break}else if(z&&D.y!==g.y){const B=_.scrollTop+p.y,Q=S===Ht.Down&&B<=O.y||S===Ht.Up&&B>=N.y;if(Q&&!p.x){_.scrollTo({top:B,behavior:l});return}Q?v.y=_.scrollTop-B:v.y=S===Ht.Down?_.scrollTop-O.y:_.scrollTop-N.y,v.y&&_.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(e,Gc(Xm(g,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}O2.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=D2,onActivation:r}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(i.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),r?.({event:t.nativeEvent}),!0)}return!1}}];function UO(t){return!!(t&&"distance"in t)}function zO(t){return!!(t&&"delay"in t)}class HS{constructor(e,n,i){var r;i===void 0&&(i=Yne(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=vu(a),this.documentListeners=new Ud(this.document),this.listeners=new Ud(i),this.windowListeners=new Ud(wi(a)),this.initialCoordinates=(r=Zm(s))!=null?r:Xr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.DragStart,FO),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),this.windowListeners.add(Sr.ContextMenu,FO),this.documentListeners.add(Sr.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(zO(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(UO(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Sr.Click,Kne,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:r,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!r)return;const u=(n=Zm(e))!=null?n:Xr,d=Xm(r,u);if(!i&&l){if(UO(l)){if(l.tolerance!=null&&E0(d,l.tolerance))return this.handleCancel();if(E0(d,l.distance))return this.handleStart()}if(zO(l)&&E0(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ht.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Xne={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class BS extends HS{constructor(e){const{event:n}=e,i=vu(n.target);super(e,Xne,i)}}BS.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const Zne={move:{name:"mousemove"},end:{name:"mouseup"}};var G_;(function(t){t[t.RightClick=2]="RightClick"})(G_||(G_={}));class M2 extends HS{constructor(e){super(e,Zne,vu(e.event.target))}}M2.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===G_.RightClick?!1:(i?.({event:n}),!0)}}];const C0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Jne extends HS{constructor(e){super(e,C0)}static setup(){return window.addEventListener(C0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(C0.move.name,e)};function e(){}}}Jne.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:r}=n;return r.length>1?!1:(i?.({event:n}),!0)}}];var zd;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(zd||(zd={}));var ep;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(ep||(ep={}));function eie(t){let{acceleration:e,activator:n=zd.Pointer,canScroll:i,draggingRect:r,enabled:s,interval:a=5,order:l=ep.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:h,delta:g,threshold:p}=t;const v=nie({delta:g,disabled:!s}),[b,_]=mne(),S=C.useRef({x:0,y:0}),x=C.useRef({x:0,y:0}),A=C.useMemo(()=>{switch(n){case zd.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case zd.DraggableRect:return r}},[n,r,u]),T=C.useRef(null),M=C.useCallback(()=>{const N=T.current;if(!N)return;const k=S.current.x*x.current.x,D=S.current.y*x.current.y;N.scrollBy(k,D)},[]),O=C.useMemo(()=>l===ep.TreeOrder?[...d].reverse():d,[l,d]);C.useEffect(()=>{if(!s||!d.length||!A){_();return}for(const N of O){if(i?.(N)===!1)continue;const k=d.indexOf(N),D=h[k];if(!D)continue;const{direction:P,speed:z}=Vne(N,D,A,e,p);for(const B of["x","y"])v[B][P[B]]||(z[B]=0,P[B]=0);if(z.x>0||z.y>0){_(),T.current=N,b(M,a),S.current=z,x.current=P;return}}S.current={x:0,y:0},x.current={x:0,y:0},_()},[e,M,i,_,s,a,JSON.stringify(A),JSON.stringify(v),b,d,O,h,JSON.stringify(p)])}const tie={x:{[$n.Backward]:!1,[$n.Forward]:!1},y:{[$n.Backward]:!1,[$n.Forward]:!1}};function nie(t){let{delta:e,disabled:n}=t;const i=Qm(e);return Lf(r=>{if(n||!i||!r)return tie;const s={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[$n.Backward]:r.x[$n.Backward]||s.x===-1,[$n.Forward]:r.x[$n.Forward]||s.x===1},y:{[$n.Backward]:r.y[$n.Backward]||s.y===-1,[$n.Forward]:r.y[$n.Forward]||s.y===1}}},[n,e,i])}function iie(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return Lf(r=>{var s;return e==null?null:(s=i??r)!=null?s:null},[i,e])}function rie(t,e){return C.useMemo(()=>t.reduce((n,i)=>{const{sensor:r}=i,s=r.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,i)}));return[...n,...s]},[]),[t,e])}var uf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(uf||(uf={}));var W_;(function(t){t.Optimized="optimized"})(W_||(W_={}));const HO=new Map;function sie(t,e){let{dragging:n,dependencies:i,config:r}=e;const[s,a]=C.useState(null),{frequency:l,measure:u,strategy:d}=r,h=C.useRef(t),g=S(),p=lf(g),v=C.useCallback(function(x){x===void 0&&(x=[]),!p.current&&a(A=>A===null?x:A.concat(x.filter(T=>!A.includes(T))))},[p]),b=C.useRef(null),_=Lf(x=>{if(g&&!n)return HO;if(!x||x===HO||h.current!==t||s!=null){const A=new Map;for(let T of t){if(!T)continue;if(s&&s.length>0&&!s.includes(T.id)&&T.rect.current){A.set(T.id,T.rect.current);continue}const M=T.node.current,O=M?new zS(u(M),M):null;T.rect.current=O,O&&A.set(T.id,O)}return A}return x},[t,s,n,g,u]);return C.useEffect(()=>{h.current=t},[t]),C.useEffect(()=>{g||v()},[n,g]),C.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),C.useEffect(()=>{g||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{v(),b.current=null},l))},[l,g,v,...i]),{droppableRects:_,measureDroppableContainers:v,measuringScheduled:s!=null};function S(){switch(d){case uf.Always:return!1;case uf.BeforeDragging:return n;default:return!n}}}function VS(t,e){return Lf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function aie(t,e){return VS(t,e)}function oie(t){let{callback:e,disabled:n}=t;const i=qp(e),r=C.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(i)},[i,n]);return C.useEffect(()=>()=>r?.disconnect(),[r]),r}function Wp(t){let{callback:e,disabled:n}=t;const i=qp(e),r=C.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(i)},[n]);return C.useEffect(()=>()=>r?.disconnect(),[r]),r}function lie(t){return new zS(Ff(t),t)}function BO(t,e,n){e===void 0&&(e=lie);const[i,r]=C.useState(null);function s(){r(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const h=e(t);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const a=oie({callback(u){if(t)for(const d of u){const{type:h,target:g}=d;if(h==="childList"&&g instanceof HTMLElement&&g.contains(t)){s();break}}}}),l=Wp({callback:s});return da(()=>{s(),t?(l?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[t]),i}function cie(t){const e=VS(t);return _2(t,e)}const VO=[];function uie(t){const e=C.useRef(t),n=Lf(i=>t?i&&i!==VO&&t&&e.current&&t.parentNode===e.current.parentNode?i:US(t):VO,[t]);return C.useEffect(()=>{e.current=t},[t]),n}function die(t){const[e,n]=C.useState(null),i=C.useRef(t),r=C.useCallback(s=>{const a=x0(s.target);a&&n(l=>l?(l.set(a,q_(a)),new Map(l)):null)},[]);return C.useEffect(()=>{const s=i.current;if(t!==s){a(s);const l=t.map(u=>{const d=x0(u);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,q_(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),i.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(u=>{const d=x0(u);d?.removeEventListener("scroll",r)})}},[r,t]),C.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Gc(s,a),Xr):T2(t):Xr,[t,e])}function $O(t,e){e===void 0&&(e=[]);const n=C.useRef(null);return C.useEffect(()=>{n.current=null},e),C.useEffect(()=>{const i=t!==Xr;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?Xm(t,n.current):Xr}function fie(t){C.useEffect(()=>{if(!$p)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function hie(t,e){return C.useMemo(()=>t.reduce((n,i)=>{let{eventName:r,handler:s}=i;return n[r]=a=>{s(a,e)},n},{}),[t,e])}function k2(t){return C.useMemo(()=>t?Une(t):null,[t])}const qO=[];function gie(t,e){e===void 0&&(e=Ff);const[n]=t,i=k2(n?wi(n):null),[r,s]=C.useState(qO);function a(){s(()=>t.length?t.map(u=>C2(u)?i:new zS(e(u),u)):qO)}const l=Wp({callback:a});return da(()=>{l?.disconnect(),a(),t.forEach(u=>l?.observe(u))},[t]),r}function N2(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return jf(e)?e:t}function mie(t){let{measure:e}=t;const[n,i]=C.useState(null),r=C.useCallback(d=>{for(const{target:h}of d)if(jf(h)){i(g=>{const p=e(h);return g?{...g,width:p.width,height:p.height}:p});break}},[e]),s=Wp({callback:r}),a=C.useCallback(d=>{const h=N2(d);s?.disconnect(),h&&s?.observe(h),i(h?e(h):null)},[e,s]),[l,u]=Km(a);return C.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const pie=[{sensor:BS,options:{}},{sensor:O2,options:{}}],vie={current:{}},hm={draggable:{measure:LO},droppable:{measure:LO,strategy:uf.WhileDragging,frequency:W_.Optimized},dragOverlay:{measure:Ff}};class Hd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const yie={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Jm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:hm,measureDroppableContainers:Jm,windowRect:null,measuringScheduled:!1},I2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Jm,draggableNodes:new Map,over:null,measureDroppableContainers:Jm},Uf=C.createContext(I2),P2=C.createContext(yie);function bie(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hd}}}function _ie(t,e){switch(e.type){case Fn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Fn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Fn.DragEnd:case Fn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fn.RegisterDroppable:{const{element:n}=e,{id:i}=n,r=new Hd(t.droppable.containers);return r.set(i,n),{...t,droppable:{...t.droppable,containers:r}}}case Fn.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=e,s=t.droppable.containers.get(n);if(!s||i!==s.key)return t;const a=new Hd(t.droppable.containers);return a.set(n,{...s,disabled:r}),{...t,droppable:{...t.droppable,containers:a}}}case Fn.UnregisterDroppable:{const{id:n,key:i}=e,r=t.droppable.containers.get(n);if(!r||i!==r.key)return t;const s=new Hd(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function wie(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:r}=C.useContext(Uf),s=Qm(i),a=Qm(n?.id);return C.useEffect(()=>{if(!e&&!i&&s&&a!=null){if(!FS(s)||document.activeElement===s.target)return;const l=r.get(a);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[u.current,d.current]){if(!h)continue;const g=yne(h);if(g){g.focus();break}}})}},[i,e,r,a,s]),null}function j2(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((r,s)=>s({transform:r,...i}),n):n}function Sie(t){return C.useMemo(()=>({draggable:{...hm.draggable,...t?.draggable},droppable:{...hm.droppable,...t?.droppable},dragOverlay:{...hm.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function xie(t){let{activeNode:e,measure:n,initialRect:i,config:r=!0}=t;const s=C.useRef(!1),{x:a,y:l}=typeof r=="boolean"?{x:r,y:r}:r;da(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!i)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const h=n(d),g=_2(h,i);if(a||(g.x=0),l||(g.y=0),s.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const p=S2(d);p&&p.scrollBy({top:g.y,left:g.x})}},[e,a,l,i,n])}const Yp=C.createContext({...Xr,scaleX:1,scaleY:1});var Wa;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Wa||(Wa={}));const Eie=C.memo(function(e){var n,i,r,s;let{id:a,accessibility:l,autoScroll:u=!0,children:d,sensors:h=pie,collisionDetection:g=Nne,measuring:p,modifiers:v,...b}=e;const _=C.useReducer(_ie,void 0,bie),[S,x]=_,[A,T]=Ene(),[M,O]=C.useState(Wa.Uninitialized),N=M===Wa.Initialized,{draggable:{active:k,nodes:D,translate:P},droppable:{containers:z}}=S,B=k!=null?D.get(k):null,Q=C.useRef({initial:null,translated:null}),ne=C.useMemo(()=>{var St;return k!=null?{id:k,data:(St=B?.data)!=null?St:vie,rect:Q}:null},[k,B]),ce=C.useRef(null),[me,L]=C.useState(null),[q,V]=C.useState(null),G=lf(b,Object.values(b)),he=Gp("DndDescribedBy",a),F=C.useMemo(()=>z.getEnabled(),[z]),Z=Sie(p),{droppableRects:ee,measureDroppableContainers:le,measuringScheduled:ye}=sie(F,{dragging:N,dependencies:[P.x,P.y],config:Z.droppable}),_e=iie(D,k),pe=C.useMemo(()=>q?Zm(q):null,[q]),Se=hi(),je=aie(_e,Z.draggable.measure);xie({activeNode:k!=null?D.get(k):null,config:Se.layoutShiftCompensation,initialRect:je,measure:Z.draggable.measure});const Ge=BO(_e,Z.draggable.measure,je),Rt=BO(_e?_e.parentElement:null),wt=C.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:ee,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Mn=z.getNodeFor((n=wt.current.over)==null?void 0:n.id),xe=mie({measure:Z.dragOverlay.measure}),He=(i=xe.nodeRef.current)!=null?i:_e,tt=N?(r=xe.rect)!=null?r:Ge:null,Vt=!!(xe.nodeRef.current&&xe.rect),wn=cie(Vt?null:Ge),Ye=k2(He?wi(He):null),j=uie(N?Mn??_e:null),W=gie(j),X=j2(v,{transform:{x:P.x-wn.x,y:P.y-wn.y,scaleX:1,scaleY:1},activatorEvent:q,active:ne,activeNodeRect:Ge,containerNodeRect:Rt,draggingNodeRect:tt,over:wt.current.over,overlayNodeRect:xe.rect,scrollableAncestors:j,scrollableAncestorRects:W,windowRect:Ye}),K=pe?Gc(pe,P):null,ie=die(j),ue=$O(ie),ve=$O(ie,[Ge]),be=Gc(X,ue),we=tt?jne(tt,X):null,Me=ne&&we?g({active:ne,collisionRect:we,droppableRects:ee,droppableContainers:F,pointerCoordinates:K}):null,Ke=Mne(Me,"id"),[Ve,ct]=C.useState(null),nt=Vt?X:Gc(X,ve),Ut=Ine(nt,(s=Ve?.rect)!=null?s:null,Ge),it=C.useRef(null),ze=C.useCallback((St,$t)=>{let{sensor:Ee,options:Be}=$t;if(ce.current==null)return;const ut=D.get(ce.current);if(!ut)return;const gt=St.nativeEvent,un=new Ee({active:ce.current,activeNode:ut,event:gt,options:Be,context:wt,onAbort(Qe){if(!D.get(Qe))return;const{onDragAbort:Wt}=G.current,Jt={id:Qe};Wt?.(Jt),A({type:"onDragAbort",event:Jt})},onPending(Qe,Sn,Wt,Jt){if(!D.get(Qe))return;const{onDragPending:Qn}=G.current,ir={id:Qe,constraint:Sn,initialCoordinates:Wt,offset:Jt};Qn?.(ir),A({type:"onDragPending",event:ir})},onStart(Qe){const Sn=ce.current;if(Sn==null)return;const Wt=D.get(Sn);if(!Wt)return;const{onDragStart:Jt}=G.current,nr={activatorEvent:gt,active:{id:Sn,data:Wt.data,rect:Q}};Hr.unstable_batchedUpdates(()=>{Jt?.(nr),O(Wa.Initializing),x({type:Fn.DragStart,initialCoordinates:Qe,active:Sn}),A({type:"onDragStart",event:nr}),L(it.current),V(gt)})},onMove(Qe){x({type:Fn.DragMove,coordinates:Qe})},onEnd:mt(Fn.DragEnd),onCancel:mt(Fn.DragCancel)});it.current=un;function mt(Qe){return async function(){const{active:Wt,collisions:Jt,over:nr,scrollAdjustedTranslate:Qn}=wt.current;let ir=null;if(Wt&&Qn){const{cancelDrop:ma}=G.current;ir={activatorEvent:gt,active:Wt,collisions:Jt,delta:Qn,over:nr},Qe===Fn.DragEnd&&typeof ma=="function"&&await Promise.resolve(ma(ir))&&(Qe=Fn.DragCancel)}ce.current=null,Hr.unstable_batchedUpdates(()=>{x({type:Qe}),O(Wa.Uninitialized),ct(null),L(null),V(null),it.current=null;const ma=Qe===Fn.DragEnd?"onDragEnd":"onDragCancel";if(ir){const rr=G.current[ma];rr?.(ir),A({type:ma,event:ir})}})}}},[D]),pn=C.useCallback((St,$t)=>(Ee,Be)=>{const ut=Ee.nativeEvent,gt=D.get(Be);if(ce.current!==null||!gt||ut.dndKit||ut.defaultPrevented)return;const un={active:gt};St(Ee,$t.options,un)===!0&&(ut.dndKit={capturedBy:$t.sensor},ce.current=Be,ze(Ee,$t))},[D,ze]),Ze=rie(h,pn);fie(h),da(()=>{Ge&&M===Wa.Initializing&&O(Wa.Initialized)},[Ge,M]),C.useEffect(()=>{const{onDragMove:St}=G.current,{active:$t,activatorEvent:Ee,collisions:Be,over:ut}=wt.current;if(!$t||!Ee)return;const gt={active:$t,activatorEvent:Ee,collisions:Be,delta:{x:be.x,y:be.y},over:ut};Hr.unstable_batchedUpdates(()=>{St?.(gt),A({type:"onDragMove",event:gt})})},[be.x,be.y]),C.useEffect(()=>{const{active:St,activatorEvent:$t,collisions:Ee,droppableContainers:Be,scrollAdjustedTranslate:ut}=wt.current;if(!St||ce.current==null||!$t||!ut)return;const{onDragOver:gt}=G.current,un=Be.get(Ke),mt=un&&un.rect.current?{id:un.id,rect:un.rect.current,data:un.data,disabled:un.disabled}:null,Qe={active:St,activatorEvent:$t,collisions:Ee,delta:{x:ut.x,y:ut.y},over:mt};Hr.unstable_batchedUpdates(()=>{ct(mt),gt?.(Qe),A({type:"onDragOver",event:Qe})})},[Ke]),da(()=>{wt.current={activatorEvent:q,active:ne,activeNode:_e,collisionRect:we,collisions:Me,droppableRects:ee,draggableNodes:D,draggingNode:He,draggingNodeRect:tt,droppableContainers:z,over:Ve,scrollableAncestors:j,scrollAdjustedTranslate:be},Q.current={initial:tt,translated:we}},[ne,_e,Me,we,D,He,tt,ee,z,Ve,j,be]),eie({...Se,delta:P,draggingRect:we,pointerCoordinates:K,scrollableAncestors:j,scrollableAncestorRects:W});const ht=C.useMemo(()=>({active:ne,activeNode:_e,activeNodeRect:Ge,activatorEvent:q,collisions:Me,containerNodeRect:Rt,dragOverlay:xe,draggableNodes:D,droppableContainers:z,droppableRects:ee,over:Ve,measureDroppableContainers:le,scrollableAncestors:j,scrollableAncestorRects:W,measuringConfiguration:Z,measuringScheduled:ye,windowRect:Ye}),[ne,_e,Ge,q,Me,Rt,xe,D,z,ee,Ve,le,j,W,Z,ye,Ye]),fi=C.useMemo(()=>({activatorEvent:q,activators:Ze,active:ne,activeNodeRect:Ge,ariaDescribedById:{draggable:he},dispatch:x,draggableNodes:D,over:Ve,measureDroppableContainers:le}),[q,Ze,ne,Ge,x,he,D,Ve,le]);return oe.createElement(b2.Provider,{value:T},oe.createElement(Uf.Provider,{value:fi},oe.createElement(P2.Provider,{value:ht},oe.createElement(Yp.Provider,{value:Ut},d)),oe.createElement(wie,{disabled:l?.restoreFocus===!1})),oe.createElement(Tne,{...l,hiddenTextDescribedById:he}));function hi(){const St=me?.autoScrollEnabled===!1,$t=typeof u=="object"?u.enabled===!1:u===!1,Ee=N&&!St&&!$t;return typeof u=="object"?{...u,enabled:Ee}:{enabled:Ee}}}),Cie=C.createContext(null),GO="button",Aie="Draggable";function Mle(t){let{id:e,data:n,disabled:i=!1,attributes:r}=t;const s=Gp(Aie),{activators:a,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:h,draggableNodes:g,over:p}=C.useContext(Uf),{role:v=GO,roleDescription:b="draggable",tabIndex:_=0}=r??{},S=u?.id===e,x=C.useContext(S?Yp:Cie),[A,T]=Km(),[M,O]=Km(),N=hie(a,e),k=lf(n);da(()=>(g.set(e,{id:e,key:s,node:A,activatorNode:M,data:k}),()=>{const P=g.get(e);P&&P.key===s&&g.delete(e)}),[g,e]);const D=C.useMemo(()=>({role:v,tabIndex:_,"aria-disabled":i,"aria-pressed":S&&v===GO?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[i,v,_,S,b,h.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:D,isDragging:S,listeners:i?void 0:N,node:A,over:p,setNodeRef:T,setActivatorNodeRef:O,transform:x}}function Tie(){return C.useContext(P2)}const Rie="Droppable",Die={timeout:25};function kle(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:r}=t;const s=Gp(Rie),{active:a,dispatch:l,over:u,measureDroppableContainers:d}=C.useContext(Uf),h=C.useRef({disabled:n}),g=C.useRef(!1),p=C.useRef(null),v=C.useRef(null),{disabled:b,updateMeasurementsFor:_,timeout:S}={...Die,...r},x=lf(_??i),A=C.useCallback(()=>{if(!g.current){g.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),v.current=null},S)},[S]),T=Wp({callback:A,disabled:b||!a}),M=C.useCallback((D,P)=>{T&&(P&&(T.unobserve(P),g.current=!1),D&&T.observe(D))},[T]),[O,N]=Km(M),k=lf(e);return C.useEffect(()=>{!T||!O.current||(T.disconnect(),g.current=!1,T.observe(O.current))},[O,T]),C.useEffect(()=>(l({type:Fn.RegisterDroppable,element:{id:i,key:s,disabled:n,node:O,rect:p,data:k}}),()=>l({type:Fn.UnregisterDroppable,key:s,id:i})),[i]),C.useEffect(()=>{n!==h.current.disabled&&(l({type:Fn.SetDroppableDisabled,id:i,key:s,disabled:n}),h.current.disabled=n)},[i,s,n,l]),{active:a,rect:p,isOver:u?.id===i,node:O,over:u,setNodeRef:N}}function Oie(t){let{animation:e,children:n}=t;const[i,r]=C.useState(null),[s,a]=C.useState(null),l=Qm(n);return!n&&!i&&l&&r(l),da(()=>{if(!s)return;const u=i?.key,d=i?.props.id;if(u==null||d==null){r(null);return}Promise.resolve(e(d,s)).then(()=>{r(null)})},[e,i,s]),oe.createElement(oe.Fragment,null,n,i?C.cloneElement(i,{ref:a}):null)}const Mie={x:0,y:0,scaleX:1,scaleY:1};function kie(t){let{children:e}=t;return oe.createElement(Uf.Provider,{value:I2},oe.createElement(Yp.Provider,{value:Mie},e))}const Nie={position:"fixed",touchAction:"none"},Iie=t=>FS(t)?"transform 250ms ease":void 0,Pie=C.forwardRef((t,e)=>{let{as:n,activatorEvent:i,adjustScale:r,children:s,className:a,rect:l,style:u,transform:d,transition:h=Iie}=t;if(!l)return null;const g=r?d:{...d,scaleX:1,scaleY:1},p={...Nie,width:l.width,height:l.height,top:l.top,left:l.left,transform:cf.Transform.toString(g),transformOrigin:r&&i?Dne(i,l):void 0,transition:typeof h=="function"?h(i):h,...u};return oe.createElement(n,{className:a,style:p,ref:e},s)}),jie=t=>e=>{let{active:n,dragOverlay:i}=e;const r={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[l,u]of Object.entries(s.active))u!==void 0&&(r[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(s!=null&&s.dragOverlay)for(const[l,u]of Object.entries(s.dragOverlay))u!==void 0&&i.node.style.setProperty(l,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&i.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(r))n.node.style.setProperty(u,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},Lie=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:cf.Transform.toString(e)},{transform:cf.Transform.toString(n)}]},Fie={duration:250,easing:"ease",keyframes:Lie,sideEffects:jie({styles:{active:{opacity:"0"}}})};function Uie(t){let{config:e,draggableNodes:n,droppableContainers:i,measuringConfiguration:r}=t;return qp((s,a)=>{if(e===null)return;const l=n.get(s);if(!l)return;const u=l.node.current;if(!u)return;const d=N2(a);if(!d)return;const{transform:h}=wi(a).getComputedStyle(a),g=w2(h);if(!g)return;const p=typeof e=="function"?e:zie(e);return R2(u,r.draggable.measure),p({active:{id:s,data:l.data,node:u,rect:r.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:r.dragOverlay.measure(d)},droppableContainers:i,measuringConfiguration:r,transform:g})})}function zie(t){const{duration:e,easing:n,sideEffects:i,keyframes:r}={...Fie,...t};return s=>{let{active:a,dragOverlay:l,transform:u,...d}=s;if(!e)return;const h={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},g={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/l.rect.height:1},p={x:u.x-h.x,y:u.y-h.y,...g},v=r({...d,active:a,dragOverlay:l,transform:{initial:u,final:p}}),[b]=v,_=v[v.length-1];if(JSON.stringify(b)===JSON.stringify(_))return;const S=i?.({active:a,dragOverlay:l,...d}),x=l.node.animate(v,{duration:e,easing:n,fill:"forwards"});return new Promise(A=>{x.onfinish=()=>{S?.(),A()}})}}let WO=0;function Hie(t){return C.useMemo(()=>{if(t!=null)return WO++,WO},[t])}const Bie=oe.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:i,style:r,transition:s,modifiers:a,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:h,active:g,activeNodeRect:p,containerNodeRect:v,draggableNodes:b,droppableContainers:_,dragOverlay:S,over:x,measuringConfiguration:A,scrollableAncestors:T,scrollableAncestorRects:M,windowRect:O}=Tie(),N=C.useContext(Yp),k=Hie(g?.id),D=j2(a,{activatorEvent:h,active:g,activeNodeRect:p,containerNodeRect:v,draggingNodeRect:S.rect,over:x,overlayNodeRect:S.rect,scrollableAncestors:T,scrollableAncestorRects:M,transform:N,windowRect:O}),P=VS(p),z=Uie({config:i,draggableNodes:b,droppableContainers:_,measuringConfiguration:A}),B=P?S.setRef:void 0;return oe.createElement(kie,null,oe.createElement(Oie,{animation:z},g&&k?oe.createElement(Pie,{key:k,id:g.id,ref:B,as:l,activatorEvent:h,adjustScale:e,className:u,transition:s,rect:P,style:{zIndex:d,...r},transform:D},n):null))});function Bo({label:t,options:e,selectedOptions:n,onSelectionChange:i,searchPlaceholder:r,id:s,width:a="200px"}){const[l,u]=C.useState(!1),[d,h]=C.useState(""),g=C.useRef(null);C.useEffect(()=>{const A=T=>{g.current&&!g.current.contains(T.target)&&u(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const p=e.filter(A=>A.toLowerCase().includes(d.toLowerCase())),v=p.length>0&&p.every(A=>n.includes(A)),b=A=>{if(A.preventDefault(),A.stopPropagation(),v){const T=n.filter(M=>!p.includes(M));i(T)}else{const T=[...new Set([...n,...p])];i(T)}},_=(A,T)=>{if(A.preventDefault(),A.stopPropagation(),n.includes(T)){const M=n.filter(O=>O!==T);i(M)}else{const M=[...n.filter(O=>O!==""),T];i(M)}},S=()=>{u(!0)},x=A=>{h(A.target.value)};return E.jsxs("div",{className:"relative",ref:g,style:{width:a},children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs(li,{htmlFor:s,children:[t,":"]}),E.jsx(qn,{type:"text",id:s,value:d,onChange:x,onFocus:S,placeholder:r})]}),l&&e.length>0&&E.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:[E.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 ${v?"bg-navy-50 text-navy-800":""}`,onMouseDown:b,children:E.jsx("div",{className:"text-xs font-bold",children:"Tutti"})}),p.map(A=>E.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 ${n.includes(A)?"bg-navy-50 text-navy-800":""}`,onMouseDown:T=>_(T,A),children:E.jsx("div",{className:"text-xs font-normal",children:A})},A))]})]})}const Vie=C.lazy(()=>Kr(()=>import("./TaskPoolDataTable-nZLP9_hM.js"),[])),$ie=C.lazy(()=>Kr(()=>import("./GanttChart-DgJuHpSv.js"),[])),YO=()=>E.jsx("div",{className:"loading",children:"Caricamento componenti scheduler..."}),qie=({schedulingLoading:t})=>{if(!t.isScheduling&&!t.isRescheduling&&!t.isShunting&&!t.isNavigating)return null;const e=()=>t.isScheduling?"Programmazione lavoro...":t.isRescheduling?"Riprogrammazione lavoro...":t.isShunting?"Risoluzione conflitti...":t.isNavigating?"Navigazione...":"Operazione in corso...";return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[E.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),E.jsx("span",{className:"text-gray-700 font-medium",children:e()})]})})},Gie=(t,e)=>{const n=document.querySelector(t);if(!n){Xa("Grafico Gantt non trovato. Assicurati che il grafico sia visibile sullo schermo.");return}const i=Array.from(document.styleSheets);let r="";i.forEach(p=>{try{Array.from(p.cssRules||p.rules||[]).forEach(b=>{r+=b.cssText+`
`})}catch{}});const s=n.cloneNode(!0),a=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Grafico Gantt - ${e}</title>
        <style>
          ${r}
          body { 
            margin: 0; 
            padding: 20px; 
            font-family: Arial, sans-serif;
          }
          .calendar-section {
            width: 100%;
            overflow-x: auto;
          }
        </style>
      </head>
      <body>
        <div style="text-align: center; margin-bottom: 20px; font-size: 12px; font-weight: bold;">
          Grafico Gantt - ${e}
        </div>
        <div class="calendar-section">
          ${s.outerHTML}
        </div>
      </body>
    </html>
  `,l=new Blob([a],{type:"text/html"}),u=window.URL.createObjectURL(l),d=document.createElement("a");d.href=u;const h=new Date().toISOString().split("T")[0],g=new Date().toISOString().split("T")[1].split(".")[0].replace(/:/g,"-");d.download=`grafico-gantt-${h}-${g}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u)};function Wie(){const{data:t=[],isLoading:e,error:n}=Np(),{data:i=[],isLoading:r,error:s}=kp(),{getOdpOrdersByWorkCenter:a,getScheduledOrders:l}=on(),{selectedWorkCenter:u,isLoading:d,isInitialized:h,showAlert:g,isEditMode:p,toggleEditMode:v,showConflictDialog:b,schedulingLoading:_,setDragPreview:S,clearDragPreview:x,dragPreview:A}=Dt(),{scheduleTask:T,unscheduleTask:M,scheduleTaskFromSlot:O,rescheduleTaskToSlot:N,validateSlotAvailability:k}=ms(),{init:D,cleanup:P}=vo(),z=Ui(),B=Rne(jO(BS,{activationConstraint:{distance:0}}),jO(M2,{activationConstraint:{distance:0}})),[Q,ne]=C.useState(()=>{const K=new Date;return new Date(Date.UTC(K.getUTCFullYear(),K.getUTCMonth(),K.getUTCDate()))}),[ce,me]=C.useState(null),L=e||r||d,[q,V]=C.useState(null),[G,he]=C.useState(""),[F,Z]=C.useState(""),[ee,le]=C.useState(""),ye={workCenter:[],department:[],machineType:[],machineName:[]};function _e(K,ie){switch(ie.type){case"SET_FILTER":return{...K,[ie.payload.filterName]:ie.payload.value};case"CLEAR_FILTERS":return ye;default:return K}}const[pe,Se]=C.useReducer(_e,ye);C.useEffect(()=>(h||D(),()=>{P()}),[D,h,P]);const je=C.useMemo(()=>u?u==="BOTH"?t:t.filter(K=>K.work_center===u):[],[u,t]),Ge=C.useMemo(()=>je.filter(ie=>ie.status==="SCHEDULED"),[je,u]),Rt=C.useMemo(()=>{if(performance.now(),!i||i.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let K=i;u&&u!==_t.BOTH&&(K=i.filter(nt=>nt.work_center===u));const ie=K.filter(nt=>nt.status===Js.ACTIVE);if(ie.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const ue=new Set,ve=new Set,be=new Set,we=new Set;for(const nt of ie)nt.work_center&&ue.add(nt.work_center),nt.department&&ve.add(nt.department),nt.machine_type&&be.add(nt.machine_type),nt.machine_name&&we.add(nt.machine_name);const Me=Array.from(ue).sort(),Ke=Array.from(ve).sort(),Ve=Array.from(be).sort(),ct=Array.from(we).sort();return performance.now(),{activeMachines:ie,workCenters:Me,departments:Ke,machineTypes:Ve,machineNames:ct}},[i,u]),wt=C.useMemo(()=>{const{activeMachines:K}=Rt;let ie=K;return pe.workCenter.length>0&&(ie=ie.filter(ue=>pe.workCenter.includes(ue.work_center))),pe.department.length>0&&(ie=ie.filter(ue=>pe.department.includes(ue.department))),pe.machineType.length>0&&(ie=ie.filter(ue=>pe.machineType.includes(ue.machine_type))),pe.machineName.length>0&&(ie=ie.filter(ue=>pe.machineName.includes(ue.machine_name))),ie},[Rt,pe]),Mn=C.useCallback(async(K,ie="Daily")=>{const{startSchedulingOperation:ue,stopSchedulingOperation:ve}=Dt.getState();try{ue("navigate");let be;ne(we=>{if(K==="today"){const Me=new Date,Ke=Me.getUTCFullYear(),Ve=Me.getUTCMonth(),ct=Me.getUTCDate();return be=new Date(Date.UTC(Ke,Ve,ct)),be}else if(K==="prev"){if(ie==="Weekly")return be=hl(V9(we,1),{weekStartsOn:1}),be;{const Me=new Date(we);return Me.setUTCDate(Me.getUTCDate()-1),be=Me,be}}else if(K==="next"){if(ie==="Weekly")return be=hl(aP(we,1),{weekStartsOn:1}),be;{const Me=new Date(we);return Me.setUTCDate(Me.getUTCDate()+1),be=Me,Me}}return be=we,we})}finally{ve()}},[]),xe=C.useCallback(()=>{const K=new Date,ie=K.getUTCFullYear(),ue=K.getUTCMonth(),ve=K.getUTCDate(),be=new Date(Date.UTC(ie,ue,ve));return Q.getTime()===be.getTime()?"Oggi":Yn(Q,"yyyy-MM-dd")},[Q]),He=C.useCallback(()=>{Se({type:"CLEAR_FILTERS"})},[]),tt=C.useCallback((K,ie,ue)=>{if(!K.trim())return;let ve=Ge.find(be=>be[ie]===K.trim());if(ve||(ve=Ge.find(be=>be[ie]&&be[ie].toLowerCase().includes(K.trim().toLowerCase()))),!ve){g(`Lavoro non trovato per ${ue}: ${K}`,"warning");return}Vt(ve,ie,ue,K)},[Ge,i,g]),Vt=C.useCallback((K,ie,ue,ve)=>{const be=i.find(Me=>Me.id===K.scheduled_machine_id);if(!be){g("Macchina non trovata per questo lavoro","error");return}if(Se({type:"SET_FILTER",payload:{filterName:"machineName",value:[be.machine_name]}}),Se({type:"SET_FILTER",payload:{filterName:"workCenter",value:[be.work_center]}}),Se({type:"SET_FILTER",payload:{filterName:"department",value:[be.department]}}),Se({type:"SET_FILTER",payload:{filterName:"machineType",value:[be.machine_type]}}),K.scheduled_start_time){const Me=new Date(K.scheduled_start_time),Ke=Me.getUTCFullYear(),Ve=Me.getUTCMonth(),ct=Me.getUTCDate();ne(new Date(Date.UTC(Ke,Ve,ct)))}ie==="odp_number"?he(""):ie==="article_code"?Z(""):ie==="nome_cliente"&&le("");const we=K[ie];g(`Lavoro trovato per ${ue} "${we}" su ${be.machine_name}`,"success")},[i,g,he,Z,le,ne]),wn=C.useRef(null),Ye=C.useRef(!1),j=C.useCallback(K=>{const ie=K.active.data.current;ie&&ie.type==="task"?me(ie.task):ie&&ie.type==="event"&&me(ie.event)},[]),W=C.useCallback(K=>{const{over:ie}=K;if(ie&&ie.data.current?.type==="slot"){const{machine:ue,hour:ve,minute:be,isUnavailable:we,hasScheduledTask:Me}=ie.data.current;if(we||Me){V(null),x();return}const Ke=`${ue.id}-${ve}-${be}`;if(V(Ke),ce){const Ve=ce.time_remaining||ce.duration||1,ct=Math.ceil(Ve*4),nt=(ve-6)*4+Math.floor(be/15);S({isActive:!0,startSlot:nt,durationSlots:ct,machineId:ue.id})}}else ie&&ie.data.current?.type==="next-day"?(V("next-day-drop-zone"),x()):ie&&ie.data.current?.type==="previous-day"?(V("previous-day-drop-zone"),x()):(V(null),x())},[ce,S,x]),X=C.useCallback(async K=>{if(performance.now(),wn.current&&clearTimeout(wn.current),Ye.current)return;me(null),V(null),x();const{over:ie,active:ue}=K;if(!ie)return;const ve=ue.data.current,be=ie.data.current;if(!(!ve||!be)){Ye.current=!0;try{await new Promise(we=>{requestAnimationFrame(async()=>{const Me=performance.now();if(ve.type==="task"&&be.type==="slot"){const Ke=ve.task,{machine:Ve,hour:ct,minute:nt,isUnavailable:Ut,hasScheduledTask:it}=be;if(it)return g("Impossibile pianificare il lavoro su uno slot temporale occupato","error"),we();const ze=await O(Ke.id,Ve,Q,ct,nt,null,z);ze?.error?g(ze.error,"error"):ze?.conflict&&b(ze)}else if(ve.type==="event"&&be.type==="slot"){const Ke=ve.event,{machine:Ve,hour:ct,minute:nt,isUnavailable:Ut,hasScheduledTask:it}=be;if(it)return g("Impossibile riprogrammare il lavoro su uno slot temporale occupato","error"),we();const ze=await N(Ke.id,Ve,Q,ct,nt,z);ze?.error?g(ze.error,"error"):ze?.conflict&&b(ze)}else if(ve.type==="event"&&be.type==="pool"){const Ke=ve.event;M(Ke.id,z)}else(ve.type==="task"||ve.type==="event")&&be.type==="next-day"?g("Navigazione al giorno successivo completata","success"):(ve.type==="task"||ve.type==="event")&&be.type==="previous-day"&&g("Navigazione al giorno precedente completata","success");we()})})}catch{g("Si è verificato un errore durante l'operazione di trascinamento","error")}finally{Ye.current=!1}}},[Q,O,N,M,g,b]);return L?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[E.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),E.jsx("span",{className:"text-gray-700 font-medium",children:"Caricamento Scheduler Produzione..."})]})}):n||s?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[E.jsx("div",{className:"text-red-600 mb-4",children:E.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),E.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Errore nel caricamento dei dati"}),E.jsx("p",{className:"text-gray-600 mb-4",children:n?.message||s?.message||"Errore sconosciuto"}),E.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Riprova"})]})}):u?E.jsxs(E.Fragment,{children:[E.jsx(qie,{schedulingLoading:_}),E.jsxs(Eie,{sensors:B,onDragStart:j,onDragOver:W,onDragEnd:X,children:[E.jsxs("div",{className:`content-section ${p?"edit-mode":""}`,children:[E.jsxs("div",{className:"task-pool-section",children:[E.jsxs("div",{className:"task-pool-header",children:[E.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Pool Lavori"}),E.jsx(fm,{variant:p?"destructive":"default",size:"sm",onClick:v,title:p?"Disabilita modalità modifica":"Abilita modalità modifica",children:p?"Disabilita Modalità Modifica":"Abilita Modalità Modifica"})]}),E.jsx(C.Suspense,{fallback:E.jsx(YO,{}),children:E.jsx(Vie,{})})]}),E.jsxs("div",{className:"section-controls",children:[E.jsx("div",{className:"task-pool-header",children:E.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Filtri"})}),E.jsxs("div",{className:"filters-grid",children:[E.jsx("div",{className:"filters-actions-left",children:E.jsx(fm,{variant:"secondary",size:"sm",onClick:He,title:"Clear all filters",children:"Cancella Filtri"})}),E.jsx(Bo,{label:"ODP",options:Ge.map(K=>K.odp_number).filter(Boolean),selectedOptions:G?[G]:[],onSelectionChange:K=>{K.length>0?(he(K[0]),tt(K[0],"odp_number","ODP")):he("")},searchPlaceholder:"Cerca ODP...",id:"odp_filter",width:"150px"}),E.jsx(Bo,{label:"Codice Articolo",options:Ge.map(K=>K.article_code).filter(Boolean),selectedOptions:F?[F]:[],onSelectionChange:K=>{K.length>0?(Z(K[0]),tt(K[0],"article_code","codice articolo")):Z("")},searchPlaceholder:"Cerca Articolo...",id:"article_filter",width:"150px"}),E.jsx(Bo,{label:"Nome Cliente",options:Ge.map(K=>K.nome_cliente).filter(Boolean),selectedOptions:ee?[ee]:[],onSelectionChange:K=>{K.length>0?(le(K[0]),tt(K[0],"nome_cliente","cliente")):le("")},searchPlaceholder:"Cerca Cliente...",id:"customer_filter",width:"150px"}),E.jsx(Bo,{label:"Centro di Lavoro",options:Rt.workCenters,selectedOptions:pe.workCenter,onSelectionChange:K=>Se({type:"SET_FILTER",payload:{filterName:"workCenter",value:K}}),searchPlaceholder:"Cerca Centri di Lavoro",id:"work_center_filter",width:"150px"}),E.jsx(Bo,{label:"Reparto",options:Rt.departments,selectedOptions:pe.department,onSelectionChange:K=>Se({type:"SET_FILTER",payload:{filterName:"department",value:K}}),searchPlaceholder:"Cerca Reparti",id:"department_filter",width:"150px"}),E.jsx(Bo,{label:"Tipo Macchina",options:Rt.machineTypes,selectedOptions:pe.machineType,onSelectionChange:K=>Se({type:"SET_FILTER",payload:{filterName:"machineType",value:K}}),searchPlaceholder:"Cerca Tipi di Macchina",id:"machine_type_filter",width:"150px"}),E.jsx(Bo,{label:"Nome Macchina",options:Rt.machineNames,selectedOptions:pe.machineName,onSelectionChange:K=>Se({type:"SET_FILTER",payload:{filterName:"machineName",value:K}}),searchPlaceholder:"Cerca Nomi Macchine",id:"machine_name_filter",width:"150px"}),E.jsx("div",{className:"filters-actions-right",children:E.jsx(fm,{variant:"secondary",size:"sm",onClick:()=>Gie(".calendar-section .calendar-grid-container",xe()),title:"Download exact Gantt chart as HTML file",children:"Scarica HTML"})})]})]}),E.jsxs("div",{className:"calendar-section relative",children:[E.jsx(C.Suspense,{fallback:E.jsx(YO,{}),children:E.jsx($ie,{machines:wt,currentDate:Q,dropTargetId:q,dragPreview:A,onNavigateToNextDay:K=>Mn("next",K),onNavigateToPreviousDay:K=>Mn("prev",K)})}),(_.isScheduling||_.isRescheduling||_.isShunting||_.isNavigating)&&E.jsx("div",{className:"absolute inset-0 bg-white z-40"})]})]}),E.jsx(Bie,{children:ce?E.jsx("div",{style:{background:"#1e293b",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"400",zIndex:9999,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(3deg) scale(1.05)",border:"1px solid #2d3a4b",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",pointerEvents:"none",minHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",whiteSpace:"nowrap"},children:ce.odp_number}):null})]})]}):E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:E.jsx("div",{className:"text-center py-1 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati dello scheduler."})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function zf(t){return t+.5|0}const to=(t,e,n)=>Math.max(Math.min(t,n),e);function Cd(t){return to(zf(t*2.55),0,255)}function so(t){return to(zf(t*255),0,255)}function Zs(t){return to(zf(t/2.55)/100,0,1)}function KO(t){return to(zf(t*100),0,100)}const _r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Y_=[..."0123456789ABCDEF"],Yie=t=>Y_[t&15],Kie=t=>Y_[(t&240)>>4]+Y_[t&15],Fg=t=>(t&240)>>4===(t&15),Qie=t=>Fg(t.r)&&Fg(t.g)&&Fg(t.b)&&Fg(t.a);function Xie(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&_r[t[1]]*17,g:255&_r[t[2]]*17,b:255&_r[t[3]]*17,a:e===5?_r[t[4]]*17:255}:(e===7||e===9)&&(n={r:_r[t[1]]<<4|_r[t[2]],g:_r[t[3]]<<4|_r[t[4]],b:_r[t[5]]<<4|_r[t[6]],a:e===9?_r[t[7]]<<4|_r[t[8]]:255})),n}const Zie=(t,e)=>t<255?e(t):"";function Jie(t){var e=Qie(t)?Yie:Kie;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Zie(t.a,e):void 0}const ere=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function L2(t,e,n){const i=e*Math.min(n,1-n),r=(s,a=(s+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function tre(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function nre(t,e,n){const i=L2(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function ire(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function $S(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),a=Math.min(n,i,r),l=(s+a)/2;let u,d,h;return s!==a&&(h=s-a,d=l>.5?h/(2-s-a):h/(s+a),u=ire(n,i,r,h,s),u=u*60+.5),[u|0,d||0,l]}function qS(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(so)}function GS(t,e,n){return qS(L2,t,e,n)}function rre(t,e,n){return qS(nre,t,e,n)}function sre(t,e,n){return qS(tre,t,e,n)}function F2(t){return(t%360+360)%360}function are(t){const e=ere.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Cd(+e[5]):so(+e[5]));const r=F2(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=rre(r,s,a):e[1]==="hsv"?i=sre(r,s,a):i=GS(r,s,a),{r:i[0],g:i[1],b:i[2],a:n}}function ore(t,e){var n=$S(t);n[0]=F2(n[0]+e),n=GS(n),t.r=n[0],t.g=n[1],t.b=n[2]}function lre(t){if(!t)return;const e=$S(t),n=e[0],i=KO(e[1]),r=KO(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Zs(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const QO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},XO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cre(){const t={},e=Object.keys(XO),n=Object.keys(QO);let i,r,s,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],r=0;r<n.length;r++)s=n[r],l=l.replace(s,QO[s]);s=parseInt(XO[a],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Ug;function ure(t){Ug||(Ug=cre(),Ug.transparent=[0,0,0,0]);const e=Ug[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const dre=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fre(t){const e=dre.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?Cd(a):to(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Cd(i):to(i,0,255)),r=255&(e[4]?Cd(r):to(r,0,255)),s=255&(e[6]?Cd(s):to(s,0,255)),{r:i,g:r,b:s,a:n}}}function hre(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const A0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Tc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function gre(t,e,n){const i=Tc(Zs(t.r)),r=Tc(Zs(t.g)),s=Tc(Zs(t.b));return{r:so(A0(i+n*(Tc(Zs(e.r))-i))),g:so(A0(r+n*(Tc(Zs(e.g))-r))),b:so(A0(s+n*(Tc(Zs(e.b))-s))),a:t.a+n*(e.a-t.a)}}function zg(t,e,n){if(t){let i=$S(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=GS(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function U2(t,e){return t&&Object.assign(e||{},t)}function ZO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=so(t[3]))):(e=U2(t,{r:0,g:0,b:0,a:1}),e.a=so(e.a)),e}function mre(t){return t.charAt(0)==="r"?fre(t):are(t)}class df{constructor(e){if(e instanceof df)return e;const n=typeof e;let i;n==="object"?i=ZO(e):n==="string"&&(i=Xie(e)||ure(e)||mre(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=U2(this._rgb);return e&&(e.a=Zs(e.a)),e}set rgb(e){this._rgb=ZO(e)}rgbString(){return this._valid?hre(this._rgb):void 0}hexString(){return this._valid?Jie(this._rgb):void 0}hslString(){return this._valid?lre(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const a=n===s?.5:n,l=2*a-1,u=i.a-r.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=gre(this._rgb,e._rgb,n)),this}clone(){return new df(this.rgb)}alpha(e){return this._rgb.a=so(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=zf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zg(this._rgb,2,e),this}darken(e){return zg(this._rgb,2,-e),this}saturate(e){return zg(this._rgb,1,e),this}desaturate(e){return zg(this._rgb,1,-e),this}rotate(e){return ore(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Gs(){}const pre=(()=>{let t=0;return()=>t++})();function Gt(t){return t==null}function Gn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ct(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Rr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function os(t,e){return Rr(t)?t:e}function lt(t,e){return typeof t>"u"?e:t}const vre=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,z2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Qt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Nt(t,e,n,i){let r,s,a;if(Gn(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(Ct(t))for(a=Object.keys(t),s=a.length,r=0;r<s;r++)e.call(n,t[a[r]],a[r])}function tp(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function np(t){if(Gn(t))return t.map(np);if(Ct(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=np(t[n[r]]);return e}return t}function H2(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function yre(t,e,n,i){if(!H2(t))return;const r=e[t],s=n[t];Ct(r)&&Ct(s)?ff(r,s,i):e[t]=np(s)}function ff(t,e,n){const i=Gn(e)?e:[e],r=i.length;if(!Ct(t))return t;n=n||{};const s=n.merger||yre;let a;for(let l=0;l<r;++l){if(a=i[l],!Ct(a))continue;const u=Object.keys(a);for(let d=0,h=u.length;d<h;++d)s(u[d],t,a,n)}return t}function Bd(t,e){return ff(t,e,{merger:bre})}function bre(t,e,n){if(!H2(t))return;const i=e[t],r=n[t];Ct(i)&&Ct(r)?Bd(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=np(r))}const JO={"":t=>t,x:t=>t.x,y:t=>t.y};function _re(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function wre(t){const e=_re(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function hf(t,e){return(JO[e]||(JO[e]=wre(e)))(t)}function WS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ip=t=>typeof t<"u",go=t=>typeof t=="function",eM=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Sre(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const It=Math.PI,mn=2*It,xre=mn+It,rp=Number.POSITIVE_INFINITY,Ere=It/180,zn=It/2,Vo=It/4,tM=It*2/3,B2=Math.log10,tu=Math.sign;function Vd(t,e,n){return Math.abs(t-e)<n}function nM(t){const e=Math.round(t);t=Vd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(B2(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Cre(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function Are(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function gf(t){return!Are(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Tre(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Rre(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function na(t){return t*(It/180)}function Dre(t){return t*(180/It)}function iM(t){if(!Rr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function V2(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*It&&(s+=mn),{angle:s,distance:r}}function K_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ore(t,e){return(t-e+xre)%mn-It}function Lr(t){return(t%mn+mn)%mn}function mf(t,e,n,i){const r=Lr(t),s=Lr(e),a=Lr(n),l=Lr(s-r),u=Lr(a-r),d=Lr(r-s),h=Lr(r-a);return r===s||r===a||i&&s===a||l>u&&d<h}function vi(t,e,n){return Math.max(e,Math.min(n,t))}function Mre(t){return vi(t,-32768,32767)}function Lc(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function YS(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const sl=(t,e,n,i)=>YS(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),kre=(t,e,n)=>YS(t,n,i=>t[i][e]>=n);function Nre(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const $2=["push","pop","shift","splice","unshift"];function Ire(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$2.forEach(n=>{const i="_onData"+WS(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),a}})})}function rM(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&($2.forEach(s=>{delete t[s]}),delete t._chartjs)}function Pre(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const q2=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function G2(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,q2.call(window,()=>{i=!1,t.apply(e,n)}))}}function jre(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const KS=t=>t==="start"?"left":t==="end"?"right":"center",oi=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Lre=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function Fre(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:a,vScale:l,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=a.axis,{min:g,max:p,minDefined:v,maxDefined:b}=a.getUserBounds();if(v){if(r=Math.min(sl(u,h,g).lo,n?i:sl(e,h,a.getPixelForValue(g)).lo),d){const _=u.slice(0,r+1).reverse().findIndex(S=>!Gt(S[l.axis]));r-=Math.max(0,_)}r=vi(r,0,i-1)}if(b){let _=Math.max(sl(u,a.axis,p,!0).hi+1,n?0:sl(e,h,a.getPixelForValue(p),!0).hi+1);if(d){const S=u.slice(_-1).findIndex(x=>!Gt(x[l.axis]));_+=Math.max(0,S)}s=vi(_,r,i)-r}else s=i-r}return{start:r,count:s}}function Ure(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Hg=t=>t===0||t===1,sM=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*mn/n)),aM=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*mn/n)+1,$d={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*zn)+1,easeOutSine:t=>Math.sin(t*zn),easeInOutSine:t=>-.5*(Math.cos(It*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Hg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Hg(t)?t:sM(t,.075,.3),easeOutElastic:t=>Hg(t)?t:aM(t,.075,.3),easeInOutElastic(t){return Hg(t)?t:t<.5?.5*sM(t*2,.1125,.45):.5+.5*aM(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-$d.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?$d.easeInBounce(t*2)*.5:$d.easeOutBounce(t*2-1)*.5+.5};function QS(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function oM(t){return QS(t)?t:new df(t)}function T0(t){return QS(t)?t:new df(t).saturate(.5).darken(.1).hexString()}const zre=["x","y","borderWidth","radius","tension"],Hre=["color","borderColor","backgroundColor"];function Bre(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Hre},numbers:{type:"number",properties:zre}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Vre(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const lM=new Map;function $re(t,e){e=e||{};const n=t+JSON.stringify(e);let i=lM.get(n);return i||(i=new Intl.NumberFormat(t,e),lM.set(n,i)),i}function XS(t,e,n){return $re(e,n).format(t)}const qre={values(t){return Gn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=Gre(t,n)}const a=B2(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),XS(t,i,u)}};function Gre(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var W2={formatters:qre};function Wre(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:W2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const pl=Object.create(null),Q_=Object.create(null);function qd(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function R0(t,e,n){return typeof e=="string"?ff(qd(t,e),n):ff(qd(t,""),e)}class Yre{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>T0(r.backgroundColor),this.hoverBorderColor=(i,r)=>T0(r.borderColor),this.hoverColor=(i,r)=>T0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return R0(this,e,n)}get(e){return qd(this,e)}describe(e,n){return R0(Q_,e,n)}override(e,n){return R0(pl,e,n)}route(e,n,i,r){const s=qd(this,e),a=qd(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=a[r];return Ct(u)?Object.assign({},d,u):lt(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var _n=new Yre({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Bre,Vre,Wre]);function Kre(t){return!t||Gt(t.size)||Gt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function cM(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function $o(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function uM(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function X_(t,e,n,i){Y2(t,e,n,i,null)}function Y2(t,e,n,i,r){let s,a,l,u,d,h,g,p;const v=e.pointStyle,b=e.rotation,_=e.radius;let S=(b||0)*Ere;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(S),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),v){default:r?t.ellipse(n,i,r/2,_,0,0,mn):t.arc(n,i,_,0,mn),t.closePath();break;case"triangle":h=r?r/2:_,t.moveTo(n+Math.sin(S)*h,i-Math.cos(S)*_),S+=tM,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*_),S+=tM,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*_),t.closePath();break;case"rectRounded":d=_*.516,u=_-d,a=Math.cos(S+Vo)*u,g=Math.cos(S+Vo)*(r?r/2-d:u),l=Math.sin(S+Vo)*u,p=Math.sin(S+Vo)*(r?r/2-d:u),t.arc(n-g,i-l,d,S-It,S-zn),t.arc(n+p,i-a,d,S-zn,S),t.arc(n+g,i+l,d,S,S+zn),t.arc(n-p,i+a,d,S+zn,S+It),t.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*_,h=r?r/2:u,t.rect(n-h,i-u,2*h,2*u);break}S+=Vo;case"rectRot":g=Math.cos(S)*(r?r/2:_),a=Math.cos(S)*_,l=Math.sin(S)*_,p=Math.sin(S)*(r?r/2:_),t.moveTo(n-g,i-l),t.lineTo(n+p,i-a),t.lineTo(n+g,i+l),t.lineTo(n-p,i+a),t.closePath();break;case"crossRot":S+=Vo;case"cross":g=Math.cos(S)*(r?r/2:_),a=Math.cos(S)*_,l=Math.sin(S)*_,p=Math.sin(S)*(r?r/2:_),t.moveTo(n-g,i-l),t.lineTo(n+g,i+l),t.moveTo(n+p,i-a),t.lineTo(n-p,i+a);break;case"star":g=Math.cos(S)*(r?r/2:_),a=Math.cos(S)*_,l=Math.sin(S)*_,p=Math.sin(S)*(r?r/2:_),t.moveTo(n-g,i-l),t.lineTo(n+g,i+l),t.moveTo(n+p,i-a),t.lineTo(n-p,i+a),S+=Vo,g=Math.cos(S)*(r?r/2:_),a=Math.cos(S)*_,l=Math.sin(S)*_,p=Math.sin(S)*(r?r/2:_),t.moveTo(n-g,i-l),t.lineTo(n+g,i+l),t.moveTo(n+p,i-a),t.lineTo(n-p,i+a);break;case"line":a=r?r/2:Math.cos(S)*_,l=Math.sin(S)*_,t.moveTo(n-a,i-l),t.lineTo(n+a,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(S)*(r?r/2:_),i+Math.sin(S)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function pf(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ZS(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function JS(t){t.restore()}function Qre(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Xre(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Zre(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Gt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Jre(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,h=r.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,h),t.lineTo(l,h),t.stroke()}}function ese(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function vf(t,e,n,i,r,s={}){const a=Gn(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=r.string,Zre(t,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&ese(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Gt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,i,s.maxWidth)),t.fillText(d,n,i,s.maxWidth),Jre(t,n,i,d,s),i+=Number(r.lineHeight);t.restore()}function Z_(t,e){const{x:n,y:i,w:r,h:s,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*It,It,!0),t.lineTo(n,i+s-a.bottomLeft),t.arc(n+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,It,zn,!0),t.lineTo(n+r-a.bottomRight,i+s),t.arc(n+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,zn,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-zn,!0),t.lineTo(n+a.topLeft,i)}const tse=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,nse=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ise(t,e){const n=(""+t).match(tse);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const rse=t=>+t||0;function ex(t,e){const n={},i=Ct(e),r=i?Object.keys(e):e,s=Ct(t)?i?a=>lt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=rse(s(a));return n}function sse(t){return ex(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Gd(t){return ex(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Dr(t){const e=sse(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ui(t,e){t=t||{},e=e||_n.font;let n=lt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=lt(t.style,e.style);i&&!(""+i).match(nse)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:lt(t.family,e.family),lineHeight:ise(lt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:lt(t.weight,e.weight),string:""};return r.string=Kre(r),r}function Bg(t,e,n,i){let r,s,a;for(r=0,s=t.length;r<s;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function ase(t,e,n){const{min:i,max:r}=t,s=z2(e,(r-i)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function Rl(t,e){return Object.assign(Object.create(t),e)}function tx(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=Z2("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>tx([l,...t],e,s,i)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return Q2(l,u,()=>gse(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return fM(l).includes(u)},ownKeys(l){return fM(l)},set(l,u,d){const h=l._storage||(l._storage=r());return l[u]=h[u]=d,delete l._keys,!0}})}function nu(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:K2(t,i),setContext:s=>nu(t,s,n,i),override:s=>nu(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,l){return Q2(s,a,()=>lse(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,l){return t[a]=l,delete s[a],!0}})}function K2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:go(n)?n:()=>n,isIndexable:go(i)?i:()=>i}}const ose=(t,e)=>t?t+WS(e):e,nx=(t,e)=>Ct(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Q2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function lse(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=t;let l=i[e];return go(l)&&a.isScriptable(e)&&(l=cse(e,l,t,n)),Gn(l)&&l.length&&(l=use(e,l,t,a.isIndexable)),nx(e,l)&&(l=nu(l,r,s&&s[e],a)),l}function cse(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,a||i);return l.delete(t),nx(t,u)&&(u=ix(r._scopes,r,t,u)),u}function use(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(Ct(e[0])){const u=e,d=r._scopes.filter(h=>h!==u);e=[];for(const h of u){const g=ix(d,r,t,h);e.push(nu(g,s,a&&a[t],l))}}return e}function X2(t,e,n){return go(t)?t(e,n):t}const dse=(t,e)=>t===!0?e:typeof t=="string"?hf(e,t):void 0;function fse(t,e,n,i,r){for(const s of e){const a=dse(n,s);if(a){t.add(a);const l=X2(a._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function ix(t,e,n,i){const r=e._rootScopes,s=X2(e._fallback,n,i),a=[...t,...r],l=new Set;l.add(i);let u=dM(l,a,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=dM(l,a,s,u,i),u===null)?!1:tx(Array.from(l),[""],r,s,()=>hse(e,n,i))}function dM(t,e,n,i,r){for(;n;)n=fse(t,e,n,i,r);return n}function hse(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Gn(r)&&Ct(n)?n:r||{}}function gse(t,e,n,i){let r;for(const s of e)if(r=Z2(ose(s,t),n),typeof r<"u")return nx(t,r)?ix(n,i,t,r):r}function Z2(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function fM(t){let e=t._keys;return e||(e=t._keys=mse(t._scopes)),e}function mse(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const pse=Number.EPSILON||1e-14,iu=(t,e)=>e<t.length&&!t[e].skip&&t[e],J2=t=>t==="x"?"y":"x";function vse(t,e,n,i){const r=t.skip?e:t,s=e,a=n.skip?e:n,l=K_(s,r),u=K_(a,s);let d=l/(l+u),h=u/(l+u);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const g=i*d,p=i*h;return{previous:{x:s.x-g*(a.x-r.x),y:s.y-g*(a.y-r.y)},next:{x:s.x+p*(a.x-r.x),y:s.y+p*(a.y-r.y)}}}function yse(t,e,n){const i=t.length;let r,s,a,l,u,d=iu(t,0);for(let h=0;h<i-1;++h)if(u=d,d=iu(t,h+1),!(!u||!d)){if(Vd(e[h],0,pse)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),n[h]=r*a*e[h],n[h+1]=s*a*e[h])}}function bse(t,e,n="x"){const i=J2(n),r=t.length;let s,a,l,u=iu(t,0);for(let d=0;d<r;++d){if(a=l,l=u,u=iu(t,d+1),!l)continue;const h=l[n],g=l[i];a&&(s=(h-a[n])/3,l[`cp1${n}`]=h-s,l[`cp1${i}`]=g-s*e[d]),u&&(s=(u[n]-h)/3,l[`cp2${n}`]=h+s,l[`cp2${i}`]=g+s*e[d])}}function _se(t,e="x"){const n=J2(e),i=t.length,r=Array(i).fill(0),s=Array(i);let a,l,u,d=iu(t,0);for(a=0;a<i;++a)if(l=u,u=d,d=iu(t,a+1),!!u){if(d){const h=d[e]-u[e];r[a]=h!==0?(d[n]-u[n])/h:0}s[a]=l?d?tu(r[a-1])!==tu(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}yse(t,r,s),bse(t,s,e)}function Vg(t,e,n){return Math.max(Math.min(t,n),e)}function wse(t,e){let n,i,r,s,a,l=pf(t[0],e);for(n=0,i=t.length;n<i;++n)a=s,s=l,l=n<i-1&&pf(t[n+1],e),s&&(r=t[n],a&&(r.cp1x=Vg(r.cp1x,e.left,e.right),r.cp1y=Vg(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=Vg(r.cp2x,e.left,e.right),r.cp2y=Vg(r.cp2y,e.top,e.bottom)))}function Sse(t,e,n,i,r){let s,a,l,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")_se(t,r);else{let d=i?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)l=t[s],u=vse(d,l,t[Math.min(s+1,a-(i?0:1))%a],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}e.capBezierPoints&&wse(t,n)}function rx(){return typeof window<"u"&&typeof document<"u"}function sx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sp(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Kp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function xse(t,e){return Kp(t).getPropertyValue(e)}const Ese=["top","right","bottom","left"];function cl(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=Ese[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Cse=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Ase(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let a=!1,l,u;if(Cse(r,s,t.target))l=r,u=s;else{const d=e.getBoundingClientRect();l=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function Qo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Kp(n),s=r.boxSizing==="border-box",a=cl(r,"padding"),l=cl(r,"border","width"),{x:u,y:d,box:h}=Ase(t,n),g=a.left+(h&&l.left),p=a.top+(h&&l.top);let{width:v,height:b}=e;return s&&(v-=a.width+l.width,b-=a.height+l.height),{x:Math.round((u-g)/v*n.width/i),y:Math.round((d-p)/b*n.height/i)}}function Tse(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&sx(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),l=Kp(s),u=cl(l,"border","width"),d=cl(l,"padding");e=a.width-d.width-u.width,n=a.height-d.height-u.height,i=sp(l.maxWidth,s,"clientWidth"),r=sp(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||rp,maxHeight:r||rp}}const no=t=>Math.round(t*10)/10;function Rse(t,e,n,i){const r=Kp(t),s=cl(r,"margin"),a=sp(r.maxWidth,t,"clientWidth")||rp,l=sp(r.maxHeight,t,"clientHeight")||rp,u=Tse(t,e,n);let{width:d,height:h}=u;if(r.boxSizing==="content-box"){const p=cl(r,"border","width"),v=cl(r,"padding");d-=v.width+p.width,h-=v.height+p.height}return d=Math.max(0,d-s.width),h=Math.max(0,i?d/i:h-s.height),d=no(Math.min(d,a,u.maxWidth)),h=no(Math.min(h,l,u.maxHeight)),d&&!h&&(h=no(d/2)),(e!==void 0||n!==void 0)&&i&&u.height&&h>u.height&&(h=u.height,d=no(Math.floor(h*i))),{width:d,height:h}}function hM(t,e,n){const i=e||1,r=no(t.height*i),s=no(t.width*i);t.height=no(t.height),t.width=no(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(t.currentDevicePixelRatio=i,a.height=r,a.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Dse=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};rx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function gM(t,e){const n=xse(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Xo(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Ose(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Mse(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Xo(t,r,n),l=Xo(r,s,n),u=Xo(s,e,n),d=Xo(a,l,n),h=Xo(l,u,n);return Xo(d,h,n)}const kse=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Nse=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Wc(t,e,n){return t?kse(e,n):Nse()}function eL(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function tL(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function nL(t){return t==="angle"?{between:mf,compare:Ore,normalize:Lr}:{between:Lc,compare:(e,n)=>e-n,normalize:e=>e}}function mM({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function Ise(t,e,n){const{property:i,start:r,end:s}=n,{between:a,normalize:l}=nL(i),u=e.length;let{start:d,end:h,loop:g}=t,p,v;if(g){for(d+=u,h+=u,p=0,v=u;p<v&&a(l(e[d%u][i]),r,s);++p)d--,h--;d%=u,h%=u}return h<d&&(h+=u),{start:d,end:h,loop:g,style:t.style}}function Pse(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,a=e.length,{compare:l,between:u,normalize:d}=nL(i),{start:h,end:g,loop:p,style:v}=Ise(t,e,n),b=[];let _=!1,S=null,x,A,T;const M=()=>u(r,T,x)&&l(r,T)!==0,O=()=>l(s,x)===0||u(s,T,x),N=()=>_||M(),k=()=>!_||O();for(let D=h,P=h;D<=g;++D)A=e[D%a],!A.skip&&(x=d(A[i]),x!==T&&(_=u(x,r,s),S===null&&N()&&(S=l(x,r)===0?D:P),S!==null&&k()&&(b.push(mM({start:S,end:D,loop:p,count:a,style:v})),S=null),P=D,T=x));return S!==null&&b.push(mM({start:S,end:g,loop:p,count:a,style:v})),b}function jse(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=Pse(i[r],t.points,e);s.length&&n.push(...s)}return n}function Lse(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function Fse(t,e,n,i){const r=t.length,s=[];let a=e,l=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%r];d.skip||d.stop?l.skip||(i=!1,s.push({start:e%r,end:(u-1)%r,loop:i}),e=a=d.stop?u:null):(a=u,l.skip&&(e=u)),l=d}return a!==null&&s.push({start:e%r,end:a%r,loop:i}),s}function Use(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:a,end:l}=Lse(n,r,s,i);if(i===!0)return pM(t,[{start:a,end:l,loop:s}],n,e);const u=l<a?l+r:l,d=!!t._fullLoop&&a===0&&l===r-1;return pM(t,Fse(n,a,u,d),n,e)}function pM(t,e,n,i){return!i||!i.setContext||!n?e:zse(t,e,n,i)}function zse(t,e,n,i){const r=t._chart.getContext(),s=vM(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,u=n.length,d=[];let h=s,g=e[0].start,p=g;function v(b,_,S,x){const A=l?-1:1;if(b!==_){for(b+=u;n[b%u].skip;)b-=A;for(;n[_%u].skip;)_+=A;b%u!==_%u&&(d.push({start:b%u,end:_%u,loop:S,style:x}),h=x,g=_%u)}}for(const b of e){g=l?g:b.start;let _=n[g%u],S;for(p=g+1;p<=b.end;p++){const x=n[p%u];S=vM(i.setContext(Rl(r,{type:"segment",p0:_,p1:x,p0DataIndex:(p-1)%u,p1DataIndex:p%u,datasetIndex:a}))),Hse(S,h)&&v(g,p-1,b.loop,h),_=x,h=S}g<p-1&&v(g,p-1,b.loop,h)}return d}function vM(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Hse(t,e){if(!e)return!1;const n=[],i=function(r,s){return QS(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function $g(t,e,n){return t.options.clip?t[n]:e[n]}function Bse(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:$g(n,e,"left"),right:$g(n,e,"right"),top:$g(i,e,"top"),bottom:$g(i,e,"bottom")}:e}function Vse(t,e){const n=e._clip;if(n.disabled)return!1;const i=Bse(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class $se{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],a=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=q2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,l=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ws=new $se;const yM="transparent",qse={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=oM(t||yM),r=i.valid&&oM(e||yM);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Gse{constructor(e,n,i,r){const s=n[i];r=Bg([e.to,r,s,e.from]);const a=Bg([e.from,s,r]);this._active=!0,this._fn=e.fn||qse[e.type||typeof a],this._easing=$d[e.easing]||$d.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Bg([e.to,n,r,e.from]),this._from=Bg([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let u;if(this._active=s!==l&&(a||n<i),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class iL{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ct(e))return;const n=Object.keys(_n.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Ct(s))return;const a={};for(const l of n)a[l]=s[l];(Gn(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,n){const i=n.options,r=Yse(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&Wse(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[d];let g=s[d];const p=i.get(d);if(g)if(p&&g.active()){g.update(p,h,l);continue}else g.cancel();if(!p||!p.duration){e[d]=h;continue}s[d]=g=new Gse(p,e,d,h),r.push(g)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Ws.add(this._chart,i),!0}}function Wse(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Yse(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function bM(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function Kse(t,e,n){if(n===!1)return!1;const i=bM(t,n),r=bM(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Qse(t){let e,n,i,r;return Ct(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function rL(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function _M(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let a,l,u,d;if(e===null)return;let h=!1;for(a=0,l=r.length;a<l;++a){if(u=+r[a],u===n){if(h=!0,i.all)continue;break}d=t.values[u],Rr(d)&&(s||e===0||tu(e)===tu(d))&&(e+=d)}return!h&&!i.all?0:e}function Xse(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let u,d,h;for(u=0,d=a.length;u<d;++u)h=a[u],l[u]={[r]:h,[s]:t[h]};return l}function D0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Zse(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Jse(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function eae(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function wM(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function SM(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:l}=i,u=s.axis,d=a.axis,h=Zse(s,a,i),g=e.length;let p;for(let v=0;v<g;++v){const b=e[v],{[u]:_,[d]:S}=b,x=b._stacks||(b._stacks={});p=x[d]=eae(r,h,_),p[l]=S,p._top=wM(p,a,!0,i.type),p._bottom=wM(p,a,!1,i.type);const A=p._visualValues||(p._visualValues={});A[l]=S}}function O0(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function tae(t,e){return Rl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function nae(t,e,n){return Rl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function vd(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const M0=t=>t==="reset"||t==="none",xM=(t,e)=>e?t:Object.assign({},t),iae=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:rL(n,!0),values:null};class ax{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=D0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(g,p,v,b)=>g==="x"?p:g==="r"?b:v,s=n.xAxisID=lt(i.xAxisID,O0(e,"x")),a=n.yAxisID=lt(i.yAxisID,O0(e,"y")),l=n.rAxisID=lt(i.rAxisID,O0(e,"r")),u=n.indexAxis,d=n.iAxisID=r(u,s,a,l),h=n.vAxisID=r(u,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&rM(this._data,this),e._stacked&&vd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ct(n)){const r=this._cachedMeta;this._data=Xse(n,r)}else if(i!==n){if(i){rM(i,this);const r=this._cachedMeta;vd(r),r._parsed=[]}n&&Object.isExtensible(n)&&Ire(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=D0(n.vScale,n),n.stack!==i.stack&&(r=!0,vd(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(SM(this,n._parsed),n._stacked=D0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,l=s.axis;let u=e===0&&n===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],h,g,p;if(this._parsing===!1)i._parsed=r,i._sorted=!0,p=r;else{Gn(r[e])?p=this.parseArrayData(i,r,e,n):Ct(r[e])?p=this.parseObjectData(i,r,e,n):p=this.parsePrimitiveData(i,r,e,n);const v=()=>g[l]===null||d&&g[l]<d[l];for(h=0;h<n;++h)i._parsed[h+e]=g=p[h],u&&(v()&&(u=!1),d=g);i._sorted=u}a&&SM(this,p)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),h=s===a,g=new Array(r);let p,v,b;for(p=0,v=r;p<v;++p)b=p+i,g[p]={[l]:h||s.parse(d[b],b),[u]:a.parse(n[b],b)};return g}parseArrayData(e,n,i,r){const{xScale:s,yScale:a}=e,l=new Array(r);let u,d,h,g;for(u=0,d=r;u<d;++u)h=u+i,g=n[h],l[u]={x:s.parse(g[0],h),y:a.parse(g[1],h)};return l}parseObjectData(e,n,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(r);let h,g,p,v;for(h=0,g=r;h<g;++h)p=h+i,v=n[p],d[h]={x:s.parse(hf(v,l),p),y:a.parse(hf(v,u),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,a=n[e.axis],l={keys:rL(r,!0),values:n._stacks[e.axis]._visualValues};return _M(l,a,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let a=s===null?NaN:s;const l=r&&i._stacks[n.axis];r&&l&&(r.values=l,a=_M(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,l=this._getOtherScale(e),u=iae(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:g}=Jse(l);let p,v;function b(){v=r[p];const _=v[l.axis];return!Rr(v[e.axis])||h>_||g<_}for(p=0;p<a&&!(!b()&&(this.updateRangeFromParsed(d,e,v,u),s));++p);if(s){for(p=a-1;p>=0;--p)if(!b()){this.updateRangeFromParsed(d,e,v,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=n.length;r<s;++r)a=n[r][e.axis],Rr(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Qse(lt(this.options.clip,Kse(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,l,u),h=l;h<l+u;++h){const g=r[h];g.hidden||(g.active&&d?a.push(g):g.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=nae(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=tae(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,a=e+"-"+n,l=s[a],u=this.enableOptionSharing&&ip(i);if(l)return xM(l,u);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),h),v=Object.keys(_n.elements[e]),b=()=>this.getContext(i,r,n),_=d.resolveNamedOptions(p,v,b,g);return _.$shared&&(_.$shared=u,s[a]=Object.freeze(xM(_,u))),_}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let u;if(r.options.animation!==!1){const h=this.chart.config,g=h.datasetAnimationScopeKeys(this._type,n),p=h.getOptionScopes(this.getDataset(),g);u=h.createResolver(p,this.getContext(e,i,n))}const d=new iL(r,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||M0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:a}}updateElement(e,n,i,r){M0(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!M0(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const r=i.length,s=n.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,a=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&vd(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function rae(t,e,n){let i=1,r=1,s=0,a=0;if(e<mn){const l=t,u=l+e,d=Math.cos(l),h=Math.sin(l),g=Math.cos(u),p=Math.sin(u),v=(T,M,O)=>mf(T,l,u,!0)?1:Math.max(M,M*n,O,O*n),b=(T,M,O)=>mf(T,l,u,!0)?-1:Math.min(M,M*n,O,O*n),_=v(0,d,g),S=v(zn,h,p),x=b(It,d,g),A=b(It+zn,h,p);i=(_-x)/2,r=(S-A)/2,s=-(_+x)/2,a=-(S+A)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}class sae extends ax{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const g=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:g.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:r,pointStyle:i,borderRadius:a&&(l||g.borderRadius),index:d}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(Ct(i[e])){const{key:u="value"}=this._parsing;s=d=>+hf(i[d],u)}let a,l;for(a=e,l=e+n;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return na(this.options.rotation-90)}_getCircumference(){return na(this.options.circumference)}_getRotationExtents(){let e=mn,n=-mn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(vre(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:g}=this._getRotationExtents(),{ratioX:p,ratioY:v,offsetX:b,offsetY:_}=rae(g,h,u),S=(i.width-a)/p,x=(i.height-a)/v,A=Math.max(Math.min(S,x)/2,0),T=z2(this.options.radius,A),M=Math.max(T*u,0),O=(T-M)/this._getVisibleDatasetWeightTotal();this.offsetX=b*T,this.offsetY=_*T,r.total=this.calculateTotal(),this.outerRadius=T-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/mn)}updateElements(e,n,i,r){const s=r==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,h=(l.left+l.right)/2,g=(l.top+l.bottom)/2,p=s&&d.animateScale,v=p?0:this.innerRadius,b=p?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(n,r);let x=this._getRotation(),A;for(A=0;A<n;++A)x+=this._circumference(A,s);for(A=n;A<n+i;++A){const T=this._circumference(A,s),M=e[A],O={x:h+this.offsetX,y:g+this.offsetY,startAngle:x,endAngle:x+T,circumference:T,outerRadius:b,innerRadius:v};S&&(O.options=_||this.resolveDataElementOptions(A,M.active?"active":r)),x+=T,this.updateElement(M,A,O,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?mn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=XS(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,a,l,u;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)u=l.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(lt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class aae extends ax{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:l,count:u}=Fre(n,r,a);this._drawStart=l,this._drawCount=u,Ure(n)&&(l=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},e),this.updateElements(r,l,u,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:g}=this._getSharedOptions(n,r),p=a.axis,v=l.axis,{spanGaps:b,segment:_}=this.options,S=gf(b)?b:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",A=n+i,T=e.length;let M=n>0&&this.getParsed(n-1);for(let O=0;O<T;++O){const N=e[O],k=x?N:{};if(O<n||O>=A){k.skip=!0;continue}const D=this.getParsed(O),P=Gt(D[v]),z=k[p]=a.getPixelForValue(D[p],O),B=k[v]=s||P?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,D,u):D[v],O);k.skip=isNaN(z)||isNaN(B)||P,k.stop=O>0&&Math.abs(D[p]-M[p])>S,_&&(k.parsed=D,k.raw=d.data[O]),g&&(k.options=h||this.resolveDataElementOptions(O,N.active?"active":r)),x||this.updateElement(N,O,k,r),M=D}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class oae extends sae{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function qo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ox{static override(e){Object.assign(ox.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return qo()}parse(){return qo()}format(){return qo()}add(){return qo()}diff(){return qo()}startOf(){return qo()}endOf(){return qo()}}var lae={_date:ox};function cae(t,e,n,i){const{controller:r,data:s,_sorted:a}=t,l=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const d=l._reversePixels?kre:sl;if(i){if(r._sharedOptions){const h=s[0],g=typeof h.getRange=="function"&&h.getRange(e);if(g){const p=d(s,e,n-g),v=d(s,e,n+g);return{lo:p.lo,hi:v.hi}}}}else{const h=d(s,e,n);if(u){const{vScale:g}=r._cachedMeta,{_parsed:p}=t,v=p.slice(0,h.lo+1).reverse().findIndex(_=>!Gt(_[g.axis]));h.lo-=Math.max(0,v);const b=p.slice(h.hi).findIndex(_=>!Gt(_[g.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:s.length-1}}function Qp(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,u=s.length;l<u;++l){const{index:d,data:h}=s[l],{lo:g,hi:p}=cae(s[l],e,a,r);for(let v=g;v<=p;++v){const b=h[v];b.skip||i(b,d,v)}}}function uae(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function k0(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Qp(t,n,e,function(l,u,d){!r&&!pf(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function dae(t,e,n,i){let r=[];function s(a,l,u){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],i),{angle:g}=V2(a,{x:e.x,y:e.y});mf(g,d,h)&&r.push({element:a,datasetIndex:l,index:u})}return Qp(t,n,e,s),r}function fae(t,e,n,i,r,s){let a=[];const l=uae(n);let u=Number.POSITIVE_INFINITY;function d(h,g,p){const v=h.inRange(e.x,e.y,r);if(i&&!v)return;const b=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(b))&&!v)return;const S=l(e,b);S<u?(a=[{element:h,datasetIndex:g,index:p}],u=S):S===u&&a.push({element:h,datasetIndex:g,index:p})}return Qp(t,n,e,d),a}function N0(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?dae(t,e,n,r):fae(t,e,n,i,r,s)}function EM(t,e,n,i,r){const s=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return Qp(t,n,e,(u,d,h)=>{u[a]&&u[a](e[n],r)&&(s.push({element:u,datasetIndex:d,index:h}),l=l||u.inRange(e.x,e.y,r))}),i&&!l?[]:s}var hae={modes:{index(t,e,n,i){const r=Qo(e,t),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?k0(t,r,s,i,a):N0(t,r,s,!1,i,a),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,g=d.data[h];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:h})}),u):[]},dataset(t,e,n,i){const r=Qo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?k0(t,r,s,i,a):N0(t,r,s,!1,i,a);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:u,index:h})}return l},point(t,e,n,i){const r=Qo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return k0(t,r,s,i,a)},nearest(t,e,n,i){const r=Qo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return N0(t,r,s,n.intersect,i,a)},x(t,e,n,i){const r=Qo(e,t);return EM(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Qo(e,t);return EM(t,r,"y",n.intersect,i)}}};const sL=["left","top","right","bottom"];function yd(t,e){return t.filter(n=>n.pos===e)}function CM(t,e){return t.filter(n=>sL.indexOf(n.pos)===-1&&n.box.axis===e)}function bd(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function gae(t){const e=[];let n,i,r,s,a,l;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:a,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return e}function mae(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!sL.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function pae(t,e){const n=mae(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,l;for(s=0,a=t.length;s<a;++s){l=t[s];const{fullSize:u}=l.box,d=n[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*i:u&&e.availableWidth,l.height=r):(l.width=i,l.height=h?h*r:u&&e.availableHeight)}return n}function vae(t){const e=gae(t),n=bd(e.filter(d=>d.box.fullSize),!0),i=bd(yd(e,"left"),!0),r=bd(yd(e,"right")),s=bd(yd(e,"top"),!0),a=bd(yd(e,"bottom")),l=CM(e,"x"),u=CM(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(a).concat(l),chartArea:yd(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(a).concat(l)}}function AM(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function aL(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function yae(t,e,n,i){const{pos:r,box:s}=n,a=t.maxPadding;if(!Ct(r)){n.size&&(t[r]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?s.height:s.width),n.size=g.size/g.count,t[r]+=n.size}s.getPadding&&aL(a,s.getPadding());const l=Math.max(0,e.outerWidth-AM(a,t,"left","right")),u=Math.max(0,e.outerHeight-AM(a,t,"top","bottom")),d=l!==t.w,h=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:h}:{same:h,other:d}}function bae(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function _ae(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return i(t?["left","right"]:["top","bottom"])}function Ad(t,e,n,i){const r=[];let s,a,l,u,d,h;for(s=0,a=t.length,d=0;s<a;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,_ae(l.horizontal,e));const{same:g,other:p}=yae(e,n,l,i);d|=g&&r.length,h=h||p,u.fullSize||r.push(l)}return d&&Ad(r,e,n,i)||h}function qg(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function TM(t,e,n,i){const r=n.padding;let{x:s,y:a}=e;for(const l of t){const u=l.box,d=i[l.stack]||{placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const g=e.w*h,p=d.size||u.height;ip(d.start)&&(a=d.start),u.fullSize?qg(u,r.left,a,n.outerWidth-r.right-r.left,p):qg(u,e.left+d.placed,a,g,p),d.start=a,d.placed+=g,a=u.bottom}else{const g=e.h*h,p=d.size||u.width;ip(d.start)&&(s=d.start),u.fullSize?qg(u,s,r.top,p,n.outerHeight-r.bottom-r.top):qg(u,s,e.top+d.placed,p,g),d.start=s,d.placed+=g,s=u.right}}e.x=s,e.y=a}var Cr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Dr(t.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(n-r.height,0),l=vae(t.boxes),u=l.vertical,d=l.horizontal;Nt(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const h=u.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/h,hBoxMaxHeight:a/2}),p=Object.assign({},r);aL(p,Dr(i));const v=Object.assign({maxPadding:p,w:s,h:a,x:r.left,y:r.top},r),b=pae(u.concat(d),g);Ad(l.fullSize,v,g,b),Ad(u,v,g,b),Ad(d,v,g,b)&&Ad(u,v,g,b),bae(v),TM(l.leftAndTop,v,g,b),v.x+=v.w,v.y+=v.h,TM(l.rightAndBottom,v,g,b),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Nt(l.chartArea,_=>{const S=_.box;Object.assign(S,t.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class oL{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class wae extends oL{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const gm="$chartjs",Sae={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},RM=t=>t===null||t==="";function xae(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[gm]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",RM(r)){const s=gM(t,"width");s!==void 0&&(t.width=s)}if(RM(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=gM(t,"height");s!==void 0&&(t.height=s)}return t}const lL=Dse?{passive:!0}:!1;function Eae(t,e,n){t&&t.addEventListener(e,n,lL)}function Cae(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,lL)}function Aae(t,e){const n=Sae[t.type]||t.type,{x:i,y:r}=Qo(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ap(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Tae(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||ap(l.addedNodes,i),a=a&&!ap(l.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function Rae(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||ap(l.removedNodes,i),a=a&&!ap(l.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const yf=new Map;let DM=0;function cL(){const t=window.devicePixelRatio;t!==DM&&(DM=t,yf.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Dae(t,e){yf.size||window.addEventListener("resize",cL),yf.set(t,e)}function Oae(t){yf.delete(t),yf.size||window.removeEventListener("resize",cL)}function Mae(t,e,n){const i=t.canvas,r=i&&sx(i);if(!r)return;const s=G2((l,u)=>{const d=r.clientWidth;n(l,u),d<r.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,h=u.contentRect.height;d===0&&h===0||s(d,h)});return a.observe(r),Dae(t,s),a}function I0(t,e,n){n&&n.disconnect(),e==="resize"&&Oae(t)}function kae(t,e,n){const i=t.canvas,r=G2(s=>{t.ctx!==null&&n(Aae(s,t))},t);return Eae(i,e,r),r}class Nae extends oL{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(xae(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[gm])return!1;const i=n[gm].initial;["height","width"].forEach(s=>{const a=i[s];Gt(a)?n.removeAttribute(s):n.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[gm],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:Tae,detach:Rae,resize:Mae}[n]||kae;r[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:I0,detach:I0,resize:I0}[n]||Cae)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return Rse(e,n,i,r)}isAttached(e){const n=e&&sx(e);return!!(n&&n.isConnected)}}function Iae(t){return!rx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?wae:Nae}let wo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return gf(this.x)&&gf(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function Pae(t,e){const n=t.options.ticks,i=jae(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?Fae(e):[],a=s.length,l=s[0],u=s[a-1],d=[];if(a>r)return Uae(e,d,s,a/r),d;const h=Lae(s,e,r);if(a>0){let g,p;const v=a>1?Math.round((u-l)/(a-1)):null;for(Gg(e,d,h,Gt(v)?0:l-v,l),g=0,p=a-1;g<p;g++)Gg(e,d,h,s[g],s[g+1]);return Gg(e,d,h,u,Gt(v)?e.length:u+v),d}return Gg(e,d,h),d}function jae(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function Lae(t,e,n){const i=zae(t),r=e.length/n;if(!i)return Math.max(r,1);const s=Cre(i);for(let a=0,l=s.length-1;a<l;a++){const u=s[a];if(u>r)return u}return Math.max(r,1)}function Fae(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Uae(t,e,n,i){let r=0,s=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===s&&(e.push(t[a]),r++,s=n[r*i])}function Gg(t,e,n,i,r){const s=lt(i,0),a=Math.min(lt(r,t.length),t.length);let l=0,u,d,h;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),h=s;h<0;)l++,h=Math.round(s+l*n);for(d=Math.max(s,0);d<a;d++)d===h&&(e.push(t[d]),l++,h=Math.round(s+l*n))}function zae(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Hae=t=>t==="left"?"right":t==="right"?"left":t,OM=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,MM=(t,e)=>Math.min(e||t,t);function kM(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function Bae(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,a=t._endPixel,l=1e-6;let u=t.getPixelForTick(r),d;if(!(n&&(i===1?d=Math.max(u-s,a-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(r-1))/2,u+=r<e?d:-d,u<s-l||u>a+l)))return u}function Vae(t,e){Nt(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function _d(t){return t.drawTicks?t.tickLength:0}function NM(t,e){if(!t.display)return 0;const n=ui(t.font,e),i=Dr(t.padding);return(Gn(t.text)?t.text.length:1)*n.lineHeight+i.height}function $ae(t,e){return Rl(t,{scale:e,type:"scale"})}function qae(t,e,n){return Rl(t,{tick:n,index:e,type:"tick"})}function Gae(t,e,n){let i=KS(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Hae(i)),i}function Wae(t,e,n,i){const{top:r,left:s,bottom:a,right:l,chart:u}=t,{chartArea:d,scales:h}=u;let g=0,p,v,b;const _=a-r,S=l-s;if(t.isHorizontal()){if(v=oi(i,s,l),Ct(n)){const x=Object.keys(n)[0],A=n[x];b=h[x].getPixelForValue(A)+_-e}else n==="center"?b=(d.bottom+d.top)/2+_-e:b=OM(t,n,e);p=l-s}else{if(Ct(n)){const x=Object.keys(n)[0],A=n[x];v=h[x].getPixelForValue(A)-S+e}else n==="center"?v=(d.left+d.right)/2-S+e:v=OM(t,n,e);b=oi(i,a,r),g=n==="left"?-zn:zn}return{titleX:v,titleY:b,maxWidth:p,rotation:g}}class yu extends wo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=os(e,Number.POSITIVE_INFINITY),n=os(n,Number.NEGATIVE_INFINITY),i=os(i,Number.POSITIVE_INFINITY),r=os(r,Number.NEGATIVE_INFINITY),{min:os(e,i),max:os(n,r),minDefined:Rr(e),maxDefined:Rr(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),s||(i=Math.max(i,a.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:os(n,os(i,n)),max:os(i,os(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ase(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?kM(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Pae(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qt(this.options.afterUpdate,[this])}beforeSetDimensions(){Qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Qt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Qt(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=MM(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let a=r,l,u,d;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),g=h.widest.width,p=h.highest.height,v=vi(this.chart.width-g,0,this.maxWidth);l=e.offset?this.maxWidth/i:v/(i-1),g+6>l&&(l=v/(i-(e.offset?.5:1)),u=this.maxHeight-_d(e.grid)-n.padding-NM(e.title,this.chart.options.font),d=Math.sqrt(g*g+p*p),a=Dre(Math.min(Math.asin(vi((h.highest.height+6)/l,-1,1)),Math.asin(vi(u/d,-1,1))-Math.asin(vi(p/d,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=NM(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=_d(s)+u):(e.height=this.maxHeight,e.width=_d(s)+u),i.display&&this.ticks.length){const{first:d,last:h,widest:g,highest:p}=this._getLabelSizes(),v=i.padding*2,b=na(this.labelRotation),_=Math.cos(b),S=Math.sin(b);if(l){const x=i.mirror?0:S*g.width+_*p.height;e.height=Math.min(this.maxHeight,e.height+x+v)}else{const x=i.mirror?0:_*g.width+S*p.height;e.width=Math.min(this.maxWidth,e.width+x+v)}this._calculatePadding(d,h,S,_)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,v=0;u?d?(p=r*e.width,v=i*n.height):(p=i*e.height,v=r*n.width):s==="start"?v=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,v=n.width/2),this.paddingLeft=Math.max((p-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let h=n.height/2,g=e.height/2;s==="start"?(h=0,g=e.height):s==="end"&&(h=n.height,g=0),this.paddingTop=h+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Gt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=kM(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,a=[],l=[],u=Math.floor(n/MM(n,i));let d=0,h=0,g,p,v,b,_,S,x,A,T,M,O;for(g=0;g<n;g+=u){if(b=e[g].label,_=this._resolveTickFontOptions(g),r.font=S=_.string,x=s[S]=s[S]||{data:{},gc:[]},A=_.lineHeight,T=M=0,!Gt(b)&&!Gn(b))T=cM(r,x.data,x.gc,T,b),M=A;else if(Gn(b))for(p=0,v=b.length;p<v;++p)O=b[p],!Gt(O)&&!Gn(O)&&(T=cM(r,x.data,x.gc,T,O),M+=A);a.push(T),l.push(M),d=Math.max(T,d),h=Math.max(M,h)}Vae(s,n);const N=a.indexOf(d),k=l.indexOf(h),D=P=>({width:a[P]||0,height:l[P]||0});return{first:D(0),last:D(n-1),widest:D(N),highest:D(k),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Mre(this._alignToPixels?$o(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=qae(this.getContext(),e,i))}return this.$context||(this.$context=$ae(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=na(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*i>l*r?l/i:u/r:u*r<l*i?u/i:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:l}=r,u=s.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),p=_d(s),v=[],b=l.setContext(this.getContext()),_=b.display?b.width:0,S=_/2,x=function(L){return $o(i,L,_)};let A,T,M,O,N,k,D,P,z,B,Q,ne;if(a==="top")A=x(this.bottom),k=this.bottom-p,P=A-S,B=x(e.top)+S,ne=e.bottom;else if(a==="bottom")A=x(this.top),B=e.top,ne=x(e.bottom)-S,k=A+S,P=this.top+p;else if(a==="left")A=x(this.right),N=this.right-p,D=A-S,z=x(e.left)+S,Q=e.right;else if(a==="right")A=x(this.left),z=e.left,Q=x(e.right)-S,N=A+S,D=this.left+p;else if(n==="x"){if(a==="center")A=x((e.top+e.bottom)/2+.5);else if(Ct(a)){const L=Object.keys(a)[0],q=a[L];A=x(this.chart.scales[L].getPixelForValue(q))}B=e.top,ne=e.bottom,k=A+S,P=k+p}else if(n==="y"){if(a==="center")A=x((e.left+e.right)/2);else if(Ct(a)){const L=Object.keys(a)[0],q=a[L];A=x(this.chart.scales[L].getPixelForValue(q))}N=A-S,D=N-p,z=e.left,Q=e.right}const ce=lt(r.ticks.maxTicksLimit,g),me=Math.max(1,Math.ceil(g/ce));for(T=0;T<g;T+=me){const L=this.getContext(T),q=s.setContext(L),V=l.setContext(L),G=q.lineWidth,he=q.color,F=V.dash||[],Z=V.dashOffset,ee=q.tickWidth,le=q.tickColor,ye=q.tickBorderDash||[],_e=q.tickBorderDashOffset;M=Bae(this,T,u),M!==void 0&&(O=$o(i,M,G),d?N=D=z=Q=O:k=P=B=ne=O,v.push({tx1:N,ty1:k,tx2:D,ty2:P,x1:z,y1:B,x2:Q,y2:ne,width:G,color:he,borderDash:F,borderDashOffset:Z,tickWidth:ee,tickColor:le,tickBorderDash:ye,tickBorderDashOffset:_e}))}return this._ticksLength=g,this._borderValue=A,v}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:h,mirror:g}=s,p=_d(i.grid),v=p+h,b=g?-h:v,_=-na(this.labelRotation),S=[];let x,A,T,M,O,N,k,D,P,z,B,Q,ne="middle";if(r==="top")N=this.bottom-b,k=this._getXAxisLabelAlignment();else if(r==="bottom")N=this.top+b,k=this._getXAxisLabelAlignment();else if(r==="left"){const me=this._getYAxisLabelAlignment(p);k=me.textAlign,O=me.x}else if(r==="right"){const me=this._getYAxisLabelAlignment(p);k=me.textAlign,O=me.x}else if(n==="x"){if(r==="center")N=(e.top+e.bottom)/2+v;else if(Ct(r)){const me=Object.keys(r)[0],L=r[me];N=this.chart.scales[me].getPixelForValue(L)+v}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")O=(e.left+e.right)/2-v;else if(Ct(r)){const me=Object.keys(r)[0],L=r[me];O=this.chart.scales[me].getPixelForValue(L)}k=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(u==="start"?ne="top":u==="end"&&(ne="bottom"));const ce=this._getLabelSizes();for(x=0,A=l.length;x<A;++x){T=l[x],M=T.label;const me=s.setContext(this.getContext(x));D=this.getPixelForTick(x)+s.labelOffset,P=this._resolveTickFontOptions(x),z=P.lineHeight,B=Gn(M)?M.length:1;const L=B/2,q=me.color,V=me.textStrokeColor,G=me.textStrokeWidth;let he=k;a?(O=D,k==="inner"&&(x===A-1?he=this.options.reverse?"left":"right":x===0?he=this.options.reverse?"right":"left":he="center"),r==="top"?d==="near"||_!==0?Q=-B*z+z/2:d==="center"?Q=-ce.highest.height/2-L*z+z:Q=-ce.highest.height+z/2:d==="near"||_!==0?Q=z/2:d==="center"?Q=ce.highest.height/2-L*z:Q=ce.highest.height-B*z,g&&(Q*=-1),_!==0&&!me.showLabelBackdrop&&(O+=z/2*Math.sin(_))):(N=D,Q=(1-B)*z/2);let F;if(me.showLabelBackdrop){const Z=Dr(me.backdropPadding),ee=ce.heights[x],le=ce.widths[x];let ye=Q-Z.top,_e=0-Z.left;switch(ne){case"middle":ye-=ee/2;break;case"bottom":ye-=ee;break}switch(k){case"center":_e-=le/2;break;case"right":_e-=le;break;case"inner":x===A-1?_e-=le:x>0&&(_e-=le/2);break}F={left:_e,top:ye,width:le+Z.width,height:ee+Z.height,color:me.backdropColor}}S.push({label:M,font:P,textOffset:Q,options:{rotation:_,color:q,strokeColor:V,strokeWidth:G,textAlign:he,textBaseline:ne,translation:[O,N],backdrop:F}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-na(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,u=a.widest.width;let d,h;return n==="left"?r?(h=this.right+s,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h+=u)):(h=this.right-l,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h-=u)):(h=this.left+l,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(u,d,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(s=0,a=r.length;s<a;++s){const u=r[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,h,g,p;this.isHorizontal()?(d=$o(e,this.left,a)-a/2,h=$o(e,this.right,l)+l/2,g=p=u):(g=$o(e,this.top,a)-a/2,p=$o(e,this.bottom,l)+l/2,d=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,g),n.lineTo(h,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&ZS(i,r);const s=this.getLabelItems(e);for(const a of s){const l=a.options,u=a.font,d=a.label,h=a.textOffset;vf(i,d,0,h,u,l)}r&&JS(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=ui(i.font),a=Dr(i.padding),l=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Ct(n)?(u+=a.bottom,Gn(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:h,maxWidth:g,rotation:p}=Wae(this,u,n,l);vf(e,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:p,textAlign:Gae(l,n,r),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=lt(e.grid&&e.grid.z,-1),r=lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==yu.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];l[i]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ui(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Wg{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Qae(n)&&(i=this.register(n));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,Yae(e,a,i),this.override&&_n.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in _n[r]&&(delete _n[r][i],this.override&&delete pl[i])}}function Yae(t,e,n){const i=ff(Object.create(null),[n?_n.get(n):{},_n.get(e),t.defaults]);_n.set(e,i),t.defaultRoutes&&Kae(e,t.defaultRoutes),t.descriptors&&_n.describe(e,t.descriptors)}function Kae(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),a=e[n].split("."),l=a.pop(),u=a.join(".");_n.route(s,r,u,l)})}function Qae(t){return"id"in t&&"defaults"in t}class Xae{constructor(){this.controllers=new Wg(ax,"datasets",!0),this.elements=new Wg(wo,"elements"),this.plugins=new Wg(Object,"plugins"),this.scales=new Wg(yu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Nt(r,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,i){const r=WS(e);Qt(i["before"+r],[],i),n[e](i),Qt(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var us=new Xae;class Zae{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,i,r){r=r||{};for(const s of e){const a=s.plugin,l=a[i],u=[n,r,s.options];if(Qt(l,u,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=lt(i.options&&i.options.plugins,{}),s=Jae(i);return r===!1&&!n?[]:toe(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function Jae(t){const e={},n=[],i=Object.keys(us.plugins.items);for(let s=0;s<i.length;s++)n.push(us.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function eoe(t,e){return!e&&t===!1?null:t===!0?{}:t}function toe(t,{plugins:e,localIds:n},i,r){const s=[],a=t.getContext();for(const l of e){const u=l.id,d=eoe(i[u],r);d!==null&&s.push({plugin:l,options:noe(t.config,{plugin:l,local:n[u]},d,a)})}return s}function noe(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(i,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function J_(t,e){const n=_n.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function ioe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function roe(t,e){return t===e?"_index_":"_value_"}function IM(t){if(t==="x"||t==="y"||t==="r")return t}function soe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ew(t,...e){if(IM(t))return t;for(const n of e){const i=n.axis||soe(n.position)||t.length>1&&IM(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function PM(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function aoe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return PM(t,"x",n[0])||PM(t,"y",n[0])}return{}}function ooe(t,e){const n=pl[t.type]||{scales:{}},i=e.scales||{},r=J_(t.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Ct(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=ew(a,l,aoe(a,t),_n.scales[l.type]),d=roe(u,r),h=n.scales||{};s[a]=Bd(Object.create(null),[{axis:u},l,h[u],h[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||J_(l,e),h=(pl[l]||{}).scales||{};Object.keys(h).forEach(g=>{const p=ioe(g,u),v=a[p+"AxisID"]||p;s[v]=s[v]||Object.create(null),Bd(s[v],[{axis:p},i[v],h[g]])})}),Object.keys(s).forEach(a=>{const l=s[a];Bd(l,[_n.scales[l.type],_n.scale])}),s}function uL(t){const e=t.options||(t.options={});e.plugins=lt(e.plugins,{}),e.scales=ooe(t,e)}function dL(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function loe(t){return t=t||{},t.data=dL(t.data),uL(t),t}const jM=new Map,fL=new Set;function Yg(t,e){let n=jM.get(t);return n||(n=e(),jM.set(t,n),fL.add(n)),n}const wd=(t,e,n)=>{const i=hf(e,n);i!==void 0&&t.add(i)};class coe{constructor(e){this._config=loe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dL(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),uL(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Yg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Yg(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Yg(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Yg(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),l=a.get(n);if(l)return l;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(g=>wd(u,e,g))),h.forEach(g=>wd(u,r,g)),h.forEach(g=>wd(u,pl[s]||{},g)),h.forEach(g=>wd(u,_n,g)),h.forEach(g=>wd(u,Q_,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),fL.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,pl[n]||{},_n.datasets[n]||{},{type:n},_n,Q_]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=LM(this._resolverCache,e,r);let u=a;if(doe(a,n)){s.$shared=!1,i=go(i)?i():i;const d=this.createResolver(e,i,l);u=nu(a,i,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,i=[""],r){const{resolver:s}=LM(this._resolverCache,e,i);return Ct(n)?nu(s,n,void 0,r):s}}function LM(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:tx(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const uoe=t=>Ct(t)&&Object.getOwnPropertyNames(t).some(e=>go(t[e]));function doe(t,e){const{isScriptable:n,isIndexable:i}=K2(t);for(const r of e){const s=n(r),a=i(r),l=(a||s)&&t[r];if(s&&(go(l)||uoe(l))||a&&Gn(l))return!0}return!1}var foe="4.5.1";const hoe=["top","bottom","left","right","chartArea"];function FM(t,e){return t==="top"||t==="bottom"||hoe.indexOf(t)===-1&&e==="x"}function UM(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function zM(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Qt(n&&n.onComplete,[t],e)}function goe(t){const e=t.chart,n=e.options.animation;Qt(n&&n.onProgress,[t],e)}function hL(t){return rx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const mm={},HM=t=>{const e=hL(t);return Object.values(mm).filter(n=>n.canvas===e).pop()};function moe(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const a=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=a)}}}function poe(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Xp=class{static defaults=_n;static instances=mm;static overrides=pl;static registry=us;static version=foe;static getChart=HM;static register(...e){us.add(...e),BM()}static unregister(...e){us.remove(...e),BM()}constructor(e,n){const i=this.config=new coe(n),r=hL(e),s=HM(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Iae(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,h=u&&u.width;if(this.id=pre(),this.ctx=l,this.canvas=u,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zae,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jre(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],mm[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ws.listen(this,"complete",zM),Ws.listen(this,"progress",goe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Gt(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return us}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uM(this.canvas,this.ctx),this}stop(){return Ws.stop(this),this}resize(e,n){Ws.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,hM(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Qt(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Nt(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const l=n[a],u=ew(a,l),d=u==="r",h=u==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Nt(s,a=>{const l=a.options,u=l.id,d=ew(u,l),h=lt(l.type,a.dtype);(l.position===void 0||FM(l.position,d)!==FM(a.dposition))&&(l.position=a.dposition),r[u]=!0;let g=null;if(u in i&&i[u].type===h)g=i[u];else{const p=us.getScale(h);g=new p({id:u,type:h,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(l,e)}),Nt(r,(a,l)=>{a||delete i[l]}),Nt(i,a=>{Cr.configure(this,a,a.options),Cr.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(UM("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||J_(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=us.getController(l),{datasetElementType:d,dataElementType:h}=_n.datasets[l];Object.assign(u,{dataElementType:us.getElement(h),datasetElementType:d&&us.getElement(d)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:g}=this.getDatasetMeta(d),p=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(p),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Nt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(UM("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Nt(this.scales,e=>{Cr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!eM(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const a=i==="_removeElements"?-s:s;moe(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!eM(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cr.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Nt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,go(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ws.has(this)?this.attached&&!Ws.running(this)&&Ws.start(this):(this.draw(),zM({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const a=n[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=Vse(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&ZS(n,r),e.controller.draw(),r&&JS(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return pf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=hae.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Rl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);ip(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ws.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),uM(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete mm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Nt(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},r=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Nt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Nt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,a,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!tp(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(u,d)=>u.filter(h=>!d.some(g=>h.datasetIndex===g.datasetIndex&&h.index===g.index)),a=s(n,e),l=i?e:s(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,a=n,l=this._getActiveElements(e,r,i,a),u=Sre(e),d=poe(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Qt(s.onHover,[e,l,this],this),u&&Qt(s.onClick,[e,l,this],this));const h=!tp(l,r);return(h||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=d,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}};function BM(){return Nt(Xp.instances,t=>t._plugins.invalidate())}function voe(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:a,innerRadius:l,options:u}=e,{borderWidth:d,borderJoinStyle:h}=u,g=Math.min(d/a,Lr(i-n));if(t.beginPath(),t.arc(r,s,a-d/2,i+g/2,n-g/2),l>0){const p=Math.min(d/l,Lr(i-n));t.arc(r,s,l+d/2,n-p/2,i+p/2,!0)}else{const p=Math.min(d/2,a*Lr(i-n));if(h==="round")t.arc(r,s,p,n-It/2,i+It/2,!0);else if(h==="bevel"){const v=2*p*p,b=-v*Math.cos(n+It/2)+r,_=-v*Math.sin(n+It/2)+s,S=v*Math.cos(i+It/2)+r,x=v*Math.sin(i+It/2)+s;t.lineTo(b,_),t.lineTo(S,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function yoe(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:u}=e;let d=r/l;t.beginPath(),t.arc(s,a,l,i-d,n+d),u>r?(d=r/u,t.arc(s,a,u,n+d,i-d,!0)):t.arc(s,a,r,n+zn,i-zn),t.closePath(),t.clip()}function boe(t){return ex(t,["outerStart","outerEnd","innerStart","innerEnd"])}function _oe(t,e,n,i){const r=boe(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,i*e/2),l=u=>{const d=(n-Math.min(s,u))*i/2;return vi(u,0,Math.min(s,d))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:vi(r.innerStart,0,a),innerEnd:vi(r.innerEnd,0,a)}}function Rc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function op(t,e,n,i,r,s){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:h}=e,g=Math.max(e.outerRadius+i+n-d,0),p=h>0?h+i+n+d:0;let v=0;const b=r-u;if(i){const me=h>0?h-i:0,L=g>0?g-i:0,q=(me+L)/2,V=q!==0?b*q/(q+i):b;v=(b-V)/2}const _=Math.max(.001,b*g-n/It)/g,S=(b-_)/2,x=u+S+v,A=r-S-v,{outerStart:T,outerEnd:M,innerStart:O,innerEnd:N}=_oe(e,p,g,A-x),k=g-T,D=g-M,P=x+T/k,z=A-M/D,B=p+O,Q=p+N,ne=x+O/B,ce=A-N/Q;if(t.beginPath(),s){const me=(P+z)/2;if(t.arc(a,l,g,P,me),t.arc(a,l,g,me,z),M>0){const G=Rc(D,z,a,l);t.arc(G.x,G.y,M,z,A+zn)}const L=Rc(Q,A,a,l);if(t.lineTo(L.x,L.y),N>0){const G=Rc(Q,ce,a,l);t.arc(G.x,G.y,N,A+zn,ce+Math.PI)}const q=(A-N/p+(x+O/p))/2;if(t.arc(a,l,p,A-N/p,q,!0),t.arc(a,l,p,q,x+O/p,!0),O>0){const G=Rc(B,ne,a,l);t.arc(G.x,G.y,O,ne+Math.PI,x-zn)}const V=Rc(k,x,a,l);if(t.lineTo(V.x,V.y),T>0){const G=Rc(k,P,a,l);t.arc(G.x,G.y,T,x-zn,P)}}else{t.moveTo(a,l);const me=Math.cos(P)*g+a,L=Math.sin(P)*g+l;t.lineTo(me,L);const q=Math.cos(z)*g+a,V=Math.sin(z)*g+l;t.lineTo(q,V)}t.closePath()}function woe(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:l}=e;let u=e.endAngle;if(s){op(t,e,n,i,u,r);for(let d=0;d<s;++d)t.fill();isNaN(l)||(u=a+(l%mn||mn))}return op(t,e,n,i,u,r),t.fill(),u}function Soe(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:h,borderDash:g,borderDashOffset:p,borderRadius:v}=u,b=u.borderAlign==="inner";if(!d)return;t.setLineDash(g||[]),t.lineDashOffset=p,b?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let _=e.endAngle;if(s){op(t,e,n,i,_,r);for(let S=0;S<s;++S)t.stroke();isNaN(l)||(_=a+(l%mn||mn))}b&&yoe(t,e,_),u.selfJoin&&_-a>=It&&v===0&&h!=="miter"&&voe(t,e,_),s||(op(t,e,n,i,_,r),t.stroke())}class xoe extends wo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=V2(r,{x:e,y:n}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:h,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,v=lt(g,u-l),b=mf(s,l,u)&&l!==u,_=v>=mn||b,S=Lc(a,d+p,h+p);return _&&S}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,h=(r+s)/2,g=(a+l+d+u)/2;return{x:n+Math.cos(h)*g,y:i+Math.sin(h)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>mn?Math.floor(i/mn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*r,Math.sin(l)*r);const u=1-Math.sin(Math.min(It,i||0)),d=r*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,woe(e,this,d,s,a),Soe(e,this,d,s,a),e.restore()}}function gL(t,e,n=e){t.lineCap=lt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(lt(n.borderDash,e.borderDash)),t.lineDashOffset=lt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=lt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=lt(n.borderWidth,e.borderWidth),t.strokeStyle=lt(n.borderColor,e.borderColor)}function Eoe(t,e,n){t.lineTo(n.x,n.y)}function Coe(t){return t.stepped?Qre:t.tension||t.cubicInterpolationMode==="monotone"?Xre:Eoe}function mL(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:a,end:l}=e,u=Math.max(r,a),d=Math.min(s,l),h=r<a&&s<a||r>l&&s>l;return{count:i,start:u,loop:e.loop,ilen:d<u&&!h?i+d-u:d-u}}function Aoe(t,e,n,i){const{points:r,options:s}=e,{count:a,start:l,loop:u,ilen:d}=mL(r,n,i),h=Coe(s);let{move:g=!0,reverse:p}=i||{},v,b,_;for(v=0;v<=d;++v)b=r[(l+(p?d-v:v))%a],!b.skip&&(g?(t.moveTo(b.x,b.y),g=!1):h(t,_,b,p,s.stepped),_=b);return u&&(b=r[(l+(p?d:0))%a],h(t,_,b,p,s.stepped)),!!u}function Toe(t,e,n,i){const r=e.points,{count:s,start:a,ilen:l}=mL(r,n,i),{move:u=!0,reverse:d}=i||{};let h=0,g=0,p,v,b,_,S,x;const A=M=>(a+(d?l-M:M))%s,T=()=>{_!==S&&(t.lineTo(h,S),t.lineTo(h,_),t.lineTo(h,x))};for(u&&(v=r[A(0)],t.moveTo(v.x,v.y)),p=0;p<=l;++p){if(v=r[A(p)],v.skip)continue;const M=v.x,O=v.y,N=M|0;N===b?(O<_?_=O:O>S&&(S=O),h=(g*h+M)/++g):(T(),t.lineTo(M,O),b=N,g=0,_=S=O),x=O}T()}function tw(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Toe:Aoe}function Roe(t){return t.stepped?Ose:t.tension||t.cubicInterpolationMode==="monotone"?Mse:Xo}function Doe(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),gL(t,e.options),t.stroke(r)}function Ooe(t,e,n,i){const{segments:r,options:s}=e,a=tw(e);for(const l of r)gL(t,s,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const Moe=typeof Path2D=="function";function koe(t,e,n,i){Moe&&!e.options.segment?Doe(t,e,n,i):Ooe(t,e,n,i)}class Noe extends wo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Sse(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Use(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,a=jse(this,{property:n,start:r,end:r});if(!a.length)return;const l=[],u=Roe(i);let d,h;for(d=0,h=a.length;d<h;++d){const{start:g,end:p}=a[d],v=s[g],b=s[p];if(v===b){l.push(v);continue}const _=Math.abs((r-v[n])/(b[n]-v[n])),S=u(v,b,_,i.stepped);S[n]=e[n],l.push(S)}return l.length===1?l[0]:l}pathSegment(e,n,i){return tw(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=tw(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const l of r)a&=s(e,this,l,{start:n,end:n+i-1});return!!a}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),koe(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function VM(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Ioe extends wo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return VM(this,e,"x",n)}inYRange(e,n){return VM(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!pf(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,X_(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const $M=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},Poe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class qM extends wo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Qt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=ui(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=$M(i,s);let d,h;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,s,l,u)+10):(h=this.maxHeight,d=this._fitCols(a,r,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],h=r+l;let g=e;s.textAlign="left",s.textBaseline="middle";let p=-1,v=-h;return this.legendItems.forEach((b,_)=>{const S=i+n/2+s.measureText(b.text).width;(_===0||d[d.length-1]+S+2*l>a)&&(g+=h,d[d.length-(_>0?0:1)]=0,v+=h,p++),u[_]={left:0,top:v,row:p,width:S,height:r},d[d.length-1]+=S+l}),g}_fitCols(e,n,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-e;let g=l,p=0,v=0,b=0,_=0;return this.legendItems.forEach((S,x)=>{const{itemWidth:A,itemHeight:T}=joe(i,n,s,S,r);x>0&&v+T+2*l>h&&(g+=p+l,d.push({width:p,height:v}),b+=p+l,_++,p=v=0),u[x]={left:b,top:v,col:_,width:A,height:T},p=Math.max(p,A),v+=T+l}),g+=p,d.push({width:p,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Wc(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=oi(i,this.left+r,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=oi(i,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+e+r,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+r}else{let l=0,u=oi(i,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=oi(i,this.top+e+r,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+r,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ZS(e,this),this._draw(),JS(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,l=_n.color,u=Wc(e.rtl,this.left,this.width),d=ui(a.font),{padding:h}=a,g=d.size,p=g/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:b,boxHeight:_,itemHeight:S}=$M(a,g),x=function(N,k,D){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;r.save();const P=lt(D.lineWidth,1);if(r.fillStyle=lt(D.fillStyle,l),r.lineCap=lt(D.lineCap,"butt"),r.lineDashOffset=lt(D.lineDashOffset,0),r.lineJoin=lt(D.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=lt(D.strokeStyle,l),r.setLineDash(lt(D.lineDash,[])),a.usePointStyle){const z={radius:_*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:P},B=u.xPlus(N,b/2),Q=k+p;Y2(r,z,B,Q,a.pointStyleWidth&&b)}else{const z=k+Math.max((g-_)/2,0),B=u.leftForLtr(N,b),Q=Gd(D.borderRadius);r.beginPath(),Object.values(Q).some(ne=>ne!==0)?Z_(r,{x:B,y:z,w:b,h:_,radius:Q}):r.rect(B,z,b,_),r.fill(),P!==0&&r.stroke()}r.restore()},A=function(N,k,D){vf(r,D.text,N,k+S/2,d,{strikethrough:D.hidden,textAlign:u.textAlign(D.textAlign)})},T=this.isHorizontal(),M=this._computeTitleHeight();T?v={x:oi(s,this.left+h,this.right-i[0]),y:this.top+h+M,line:0}:v={x:this.left+h,y:oi(s,this.top+M+h,this.bottom-n[0].height),line:0},eL(this.ctx,e.textDirection);const O=S+h;this.legendItems.forEach((N,k)=>{r.strokeStyle=N.fontColor,r.fillStyle=N.fontColor;const D=r.measureText(N.text).width,P=u.textAlign(N.textAlign||(N.textAlign=a.textAlign)),z=b+p+D;let B=v.x,Q=v.y;u.setWidth(this.width),T?k>0&&B+z+h>this.right&&(Q=v.y+=O,v.line++,B=v.x=oi(s,this.left+h,this.right-i[v.line])):k>0&&Q+O>this.bottom&&(B=v.x=B+n[v.line].width+h,v.line++,Q=v.y=oi(s,this.top+M+h,this.bottom-n[v.line].height));const ne=u.x(B);if(x(ne,Q,N),B=Lre(P,B+b+p,T?B+z:this.right,e.rtl),A(u.x(B),Q,N),T)v.x+=z+h;else if(typeof N.text!="string"){const ce=d.lineHeight;v.y+=pL(N,ce)+h}else v.y+=O}),tL(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ui(n.font),r=Dr(n.padding);if(!n.display)return;const s=Wc(e.rtl,this.left,this.width),a=this.ctx,l=n.position,u=i.size/2,d=r.top+u;let h,g=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+d,g=oi(e.align,g,this.right-p);else{const b=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);h=d+oi(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const v=oi(l,g,g+p);a.textAlign=s.textAlign(KS(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,vf(a,n.text,v,h,i)}_computeTitleHeight(){const e=this.options.title,n=ui(e.font),i=Dr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Lc(e,this.left,this.right)&&Lc(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Lc(e,r.left,r.left+r.width)&&Lc(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!Uoe(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=Poe(r,i);r&&!s&&Qt(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Qt(n.onHover,[e,i,this],this)}else i&&Qt(n.onClick,[e,i,this],this)}}function joe(t,e,n,i,r){const s=Loe(i,t,e,n),a=Foe(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function Loe(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+i.measureText(r).width}function Foe(t,e,n){let i=t;return typeof e.text!="string"&&(i=pL(e,n)),i}function pL(t,e){const n=t.text?t.text.length:0;return e*n}function Uoe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var zoe={id:"legend",_element:qM,start(t,e,n){const i=t.legend=new qM({ctx:t.ctx,options:n,chart:t});Cr.configure(t,i,n),Cr.addBox(t,i)},stop(t){Cr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Cr.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),h=Dr(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class vL extends wo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Gn(i.text)?i.text.length:1;this._padding=Dr(i.padding);const s=r*ui(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:a}=this,l=a.align;let u=0,d,h,g;return this.isHorizontal()?(h=oi(l,i,s),g=n+e,d=s-i):(a.position==="left"?(h=i+e,g=oi(l,r,n),u=It*-.5):(h=s-e,g=oi(l,n,r),u=It*.5),d=r-n),{titleX:h,titleY:g,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ui(n.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(s);vf(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:KS(n.align),textBaseline:"middle",translation:[a,l]})}}function Hoe(t,e){const n=new vL({ctx:t.ctx,options:e,chart:t});Cr.configure(t,n,e),Cr.addBox(t,n),t.titleBlock=n}var Boe={id:"title",_element:vL,start(t,e,n){Hoe(t,n)},stop(t){const e=t.titleBlock;Cr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Cr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Td={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=t.length;s<a;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),h=K_(e,d);h<r&&(r=h,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function ls(t,e){return e&&(Gn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ys(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Voe(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:t,label:a,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function GM(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:a,boxHeight:l}=e,u=ui(e.bodyFont),d=ui(e.titleFont),h=ui(e.footerFont),g=s.length,p=r.length,v=i.length,b=Dr(e.padding);let _=b.height,S=0,x=i.reduce((M,O)=>M+O.before.length+O.lines.length+O.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,g&&(_+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),x){const M=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;_+=v*M+(x-v)*u.lineHeight+(x-1)*e.bodySpacing}p&&(_+=e.footerMarginTop+p*h.lineHeight+(p-1)*e.footerSpacing);let A=0;const T=function(M){S=Math.max(S,n.measureText(M).width+A)};return n.save(),n.font=d.string,Nt(t.title,T),n.font=u.string,Nt(t.beforeBody.concat(t.afterBody),T),A=e.displayColors?a+2+e.boxPadding:0,Nt(i,M=>{Nt(M.before,T),Nt(M.lines,T),Nt(M.after,T)}),A=0,n.font=h.string,Nt(t.footer,T),n.restore(),S+=b.width,{width:S,height:_}}function $oe(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function qoe(t,e,n,i){const{x:r,width:s}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&r+s+a>e.width||t==="right"&&r-s-a<0)return!0}function Goe(t,e,n,i){const{x:r,width:s}=n,{width:a,chartArea:{left:l,right:u}}=t;let d="center";return i==="center"?d=r<=(l+u)/2?"left":"right":r<=s/2?d="left":r>=a-s/2&&(d="right"),qoe(d,t,e,n)&&(d="center"),d}function WM(t,e,n){const i=n.yAlign||e.yAlign||$oe(t,n);return{xAlign:n.xAlign||e.xAlign||Goe(t,e,n,i),yAlign:i}}function Woe(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function Yoe(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function YM(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=t,{xAlign:l,yAlign:u}=n,d=r+s,{topLeft:h,topRight:g,bottomLeft:p,bottomRight:v}=Gd(a);let b=Woe(e,l);const _=Yoe(e,u,d);return u==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(h,p)+r:l==="right"&&(b+=Math.max(g,v)+r),{x:vi(b,0,i.width-e.width),y:vi(_,0,i.height-e.height)}}function Kg(t,e,n){const i=Dr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function KM(t){return ls([],Ys(t))}function Koe(t,e,n){return Rl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function QM(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const yL={beforeTitle:Gs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Gs,beforeBody:Gs,beforeLabel:Gs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Gt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Gs,afterBody:Gs,beforeFooter:Gs,footer:Gs,afterFooter:Gs};function Di(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?yL[e].call(n,i):r}class XM extends wo{static positioners=Td;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new iL(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Koe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Di(i,"beforeTitle",this,e),s=Di(i,"title",this,e),a=Di(i,"afterTitle",this,e);let l=[];return l=ls(l,Ys(r)),l=ls(l,Ys(s)),l=ls(l,Ys(a)),l}getBeforeBody(e,n){return KM(Di(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Nt(e,s=>{const a={before:[],lines:[],after:[]},l=QM(i,s);ls(a.before,Ys(Di(l,"beforeLabel",this,s))),ls(a.lines,Di(l,"label",this,s)),ls(a.after,Ys(Di(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,n){return KM(Di(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Di(i,"beforeFooter",this,e),s=Di(i,"footer",this,e),a=Di(i,"afterFooter",this,e);let l=[];return l=ls(l,Ys(r)),l=ls(l,Ys(s)),l=ls(l,Ys(a)),l}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],a=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(Voe(this.chart,n[u]));return e.filter&&(l=l.filter((h,g,p)=>e.filter(h,g,p,i))),e.itemSort&&(l=l.sort((h,g)=>e.itemSort(h,g,i))),Nt(l,h=>{const g=QM(e.callbacks,h);r.push(Di(g,"labelColor",this,h)),s.push(Di(g,"labelPointStyle",this,h)),a.push(Di(g,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=Td[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=GM(this,i),d=Object.assign({},l,u),h=WM(this.chart,i,d),g=YM(i,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:g}=Gd(l),{x:p,y:v}=e,{width:b,height:_}=n;let S,x,A,T,M,O;return s==="center"?(M=v+_/2,r==="left"?(S=p,x=S-a,T=M+a,O=M-a):(S=p+b,x=S+a,T=M-a,O=M+a),A=S):(r==="left"?x=p+Math.max(u,h)+a:r==="right"?x=p+b-Math.max(d,g)-a:x=this.caretX,s==="top"?(T=v,M=T-a,S=x-a,A=x+a):(T=v+_,M=T+a,S=x+a,A=x-a),O=T),{x1:S,x2:x,x3:A,y1:T,y2:M,y3:O}}drawTitle(e,n,i){const r=this.title,s=r.length;let a,l,u;if(s){const d=Wc(i.rtl,this.x,this.width);for(e.x=Kg(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=ui(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(r[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,r,s){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=s,h=ui(s.bodyFont),g=Kg(this,"left",s),p=r.x(g),v=u<h.lineHeight?(h.lineHeight-u)/2:0,b=n.y+v;if(s.usePointStyle){const _={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},S=r.leftForLtr(p,d)+d/2,x=b+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,X_(e,_,S,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,X_(e,_,S,x)}else{e.lineWidth=Ct(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const _=r.leftForLtr(p,d),S=r.leftForLtr(r.xPlus(p,1),d-2),x=Gd(a.borderRadius);Object.values(x).some(A=>A!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Z_(e,{x:_,y:b,w:d,h:u,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Z_(e,{x:S,y:b+1,w:d-2,h:u-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(_,b,d,u),e.strokeRect(_,b,d,u),e.fillStyle=a.backgroundColor,e.fillRect(S,b+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:h}=i,g=ui(i.bodyFont);let p=g.lineHeight,v=0;const b=Wc(i.rtl,this.x,this.width),_=function(D){n.fillText(D,b.x(e.x+v),e.y+p/2),e.y+=p+s},S=b.textAlign(a);let x,A,T,M,O,N,k;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=Kg(this,S,i),n.fillStyle=i.bodyColor,Nt(this.beforeBody,_),v=l&&S!=="right"?a==="center"?d/2+h:d+2+h:0,M=0,N=r.length;M<N;++M){for(x=r[M],A=this.labelTextColors[M],n.fillStyle=A,Nt(x.before,_),T=x.lines,l&&T.length&&(this._drawColorBox(n,e,M,b,i),p=Math.max(g.lineHeight,u)),O=0,k=T.length;O<k;++O)_(T[O]),p=g.lineHeight;Nt(x.after,_)}v=0,p=g.lineHeight,Nt(this.afterBody,_),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let a,l;if(s){const u=Wc(i.rtl,this.x,this.width);for(e.x=Kg(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=ui(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:h}=i,{topLeft:g,topRight:p,bottomLeft:v,bottomRight:b}=Gd(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+g,u),a==="top"&&this.drawCaret(e,n,i,r),n.lineTo(l+d-p,u),n.quadraticCurveTo(l+d,u,l+d,u+p),a==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(l+d,u+h-b),n.quadraticCurveTo(l+d,u+h,l+d-b,u+h),a==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(l+v,u+h),n.quadraticCurveTo(l,u+h,l,u+h-v),a==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(l,u+g),n.quadraticCurveTo(l,u,l+g,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=Td[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=GM(this,e),u=Object.assign({},a,this._size),d=WM(n,e,u),h=YM(e,u,d,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Dr(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),eL(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),tL(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!tp(i,r),a=this._positionChanged(r,n);(s||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,i),l=this._positionChanged(a,e),u=n||!tp(a,s)||l;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,a=Td[s.position].call(this,e,n);return a!==!1&&(i!==a.x||r!==a.y)}}var Qoe={id:"tooltip",_element:XM,positioners:Td,afterInit(t,e,n){n&&(t.tooltip=new XM({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Xoe=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Zoe(t,e,n,i){const r=t.indexOf(e);if(r===-1)return Xoe(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const Joe=(t,e)=>t===null?null:vi(Math.round(t),0,e);function ZM(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ele extends yu{static id="category";static defaults={ticks:{callback:ZM}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Gt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Zoe(i,e,lt(n,e),this._addedLabels),Joe(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return ZM.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function tle(t,e){const n=[],{bounds:r,step:s,min:a,max:l,precision:u,count:d,maxTicks:h,maxDigits:g,includeBounds:p}=t,v=s||1,b=h-1,{min:_,max:S}=e,x=!Gt(a),A=!Gt(l),T=!Gt(d),M=(S-_)/(g+1);let O=nM((S-_)/b/v)*v,N,k,D,P;if(O<1e-14&&!x&&!A)return[{value:_},{value:S}];P=Math.ceil(S/O)-Math.floor(_/O),P>b&&(O=nM(P*O/b/v)*v),Gt(u)||(N=Math.pow(10,u),O=Math.ceil(O*N)/N),r==="ticks"?(k=Math.floor(_/O)*O,D=Math.ceil(S/O)*O):(k=_,D=S),x&&A&&s&&Tre((l-a)/s,O/1e3)?(P=Math.round(Math.min((l-a)/O,h)),O=(l-a)/P,k=a,D=l):T?(k=x?a:k,D=A?l:D,P=d-1,O=(D-k)/P):(P=(D-k)/O,Vd(P,Math.round(P),O/1e3)?P=Math.round(P):P=Math.ceil(P));const z=Math.max(iM(O),iM(k));N=Math.pow(10,Gt(u)?z:u),k=Math.round(k*N)/N,D=Math.round(D*N)/N;let B=0;for(x&&(p&&k!==a?(n.push({value:a}),k<a&&B++,Vd(Math.round((k+B*O)*N)/N,a,JM(a,M,t))&&B++):k<a&&B++);B<P;++B){const Q=Math.round((k+B*O)*N)/N;if(A&&Q>l)break;n.push({value:Q})}return A&&p&&D!==l?n.length&&Vd(n[n.length-1].value,l,JM(l,M,t))?n[n.length-1].value=l:n.push({value:l}):(!A||D===l)&&n.push({value:D}),n}function JM(t,e,{horizontal:n,minRotation:i}){const r=na(i),s=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class nle extends yu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Gt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=u=>r=n?r:u,l=u=>s=i?s:u;if(e){const u=tu(r),d=tu(s);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||a(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=tle(r,s);return e.bounds==="ticks"&&Rre(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return XS(e,this.chart.options.locale,this.options.ticks.format)}}class ile extends nle{static id="linear";static defaults={ticks:{callback:W2.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Rr(e)?e:0,this.max=Rr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=na(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Zp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pi=Object.keys(Zp);function ek(t,e){return t-e}function tk(t,e){if(Gt(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Rr(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(gf(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,r)),+a)}function nk(t,e,n,i){const r=Pi.length;for(let s=Pi.indexOf(t);s<r-1;++s){const a=Zp[Pi[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=i)return Pi[s]}return Pi[r-1]}function rle(t,e,n,i,r){for(let s=Pi.length-1;s>=Pi.indexOf(n);s--){const a=Pi[s];if(Zp[a].common&&t._adapter.diff(r,i,a)>=e-1)return a}return Pi[n?Pi.indexOf(n):0]}function sle(t){for(let e=Pi.indexOf(t)+1,n=Pi.length;e<n;++e)if(Zp[Pi[e]].common)return Pi[e]}function ik(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=YS(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function ale(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let l,u;for(l=s;l<=a;l=+r.add(l,1,i))u=n[l],u>=0&&(e[u].major=!0);return e}function rk(t,e,n){const i=[],r={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],r[l]=a,i.push({value:l,major:!1});return s===0||!n?i:ale(t,i,r,n)}class sk extends yu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new lae._date(e.adapters.date);r.init(n),Bd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:tk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Rr(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Rr(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,l=Nre(r,s,a);return this._unit=n.unit||(i.autoSkip?nk(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):rle(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:sle(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),rk(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=vi(n,0,a),i=vi(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||nk(s.minUnit,n,i,this._getLabelCapacity(n)),l=lt(r.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=gf(u)||u===!0,h={};let g=n,p,v;if(d&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,d?"day":a),e.diff(i,n,a)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+a);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(p=g,v=0;p<i;p=+e.add(p,l,a),v++)ik(h,p,b);return(p===i||r.bounds==="ticks"||v===1)&&ik(h,p,b),Object.keys(h).sort(ek).map(_=>+_)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,a=n||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,r){const s=this.options,a=s.ticks.callback;if(a)return Qt(a,[e,n,i],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&l[u],g=d&&l[d],p=i[n],v=d&&g&&p&&p.major;return this._adapter.format(e,r||(v?g:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=na(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,rk(this,[e],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(tk(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Pre(e.sort(ek))}}function Qg(t,e,n){let i=0,r=t.length-1,s,a,l,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=sl(t,"pos",e)),{pos:s,time:l}=t[i],{pos:a,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=sl(t,"time",e)),{time:s,pos:l}=t[i],{time:a,pos:u}=t[r]);const d=a-s;return d?l+(u-l)*(e-s)/d:l}class Ple extends sk{static id="timeseries";static defaults=sk.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Qg(n,this.min),this._tableRange=Qg(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let a,l,u,d,h;for(a=0,l=e.length;a<l;++a)d=e[a],d>=n&&d<=i&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)h=r[a+1],u=r[a-1],d=r[a],Math.round((h+u)/2)!==d&&s.push({time:d,pos:a/(l-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Qg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Qg(this._table,i*this._tableRange+this._minPos,!0)}}const bL="label";function ak(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ole(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function _L(t,e){t.labels=e}function wL(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bL;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(a=>a[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function lle(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bL;const n={labels:[],datasets:[]};return _L(n,t.labels),wL(n,t.datasets,e),n}function cle(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:d=[],fallbackContent:h,updateMode:g,...p}=t,v=C.useRef(null),b=C.useRef(null),_=()=>{v.current&&(b.current=new Xp(v.current,{type:a,data:lle(l,s),options:u&&{...u},plugins:d}),ak(e,b.current))},S=()=>{ak(e,null),b.current&&(b.current.destroy(),b.current=null)};return C.useEffect(()=>{!r&&b.current&&u&&ole(b.current,u)},[r,u]),C.useEffect(()=>{!r&&b.current&&_L(b.current.config.data,l.labels)},[r,l.labels]),C.useEffect(()=>{!r&&b.current&&l.datasets&&wL(b.current.config.data,l.datasets,s)},[r,l.datasets]),C.useEffect(()=>{b.current&&(r?(S(),setTimeout(_)):b.current.update(g))},[r,u,l.labels,l.datasets,g]),C.useEffect(()=>{b.current&&(S(),setTimeout(_))},[a]),C.useEffect(()=>(_(),()=>S()),[]),oe.createElement("canvas",{ref:v,role:"img",height:n,width:i,...p},h)}const ule=C.forwardRef(cle);function SL(t,e){return Xp.register(e),C.forwardRef((n,i)=>oe.createElement(ule,{...n,ref:i,type:t}))}const dle=SL("line",aae),fle=SL("pie",oae);Xp.register(ele,ile,Ioe,Noe,Boe,Qoe,zoe,xoe);function hle(){const{data:t=[],isLoading:e,error:n}=kp(),{data:i=[],isLoading:r,error:s}=Np(),{isInitialized:a}=Dt(),{init:l,cleanup:u}=vo(),d=e||r;C.useEffect(()=>(a||l(),()=>{u()}),[l,a,u]);const h=C.useMemo(()=>{if(d)return{};const b=t.reduce((G,he)=>{const F=he.work_center||"Unknown";return G[F]||(G[F]={[Js.ACTIVE]:0,[Js.INACTIVE]:0,[Js.MAINTENANCE]:0}),G[F][he.status]=(G[F][he.status]||0)+1,G},{}),_=new Date,S=new Date(_),x=_.getDay(),A=x===0?6:x-1;S.setUTCDate(_.getUTCDate()-A),S.setUTCHours(0,0,0,0);const T=i.filter(G=>G.completion_date?new Date(G.completion_date)>=S:!1).length,M=i.filter(G=>G.status==="IN PROGRESS"||G.status==="SCHEDULED").length,O=i.filter(G=>G.delivery_date?new Date(G.delivery_date)<_&&(G.quantity_completed||0)<(G.quantity||0):!1).length,N=t.filter(G=>G.status===Js.ACTIVE).length,k={},D=new Date(_);D.setUTCDate(_.getUTCDate()-7);const P=new Date(_);P.setUTCDate(_.getUTCDate()+7),i.forEach(G=>{if(G.scheduled_start_time){const he=new Date(G.scheduled_start_time);if(he>=D&&he<=P){const F=he.toISOString().split("T")[0];k[F]=(k[F]||0)+1}}});const z=i.filter(G=>G.scheduled_start_time?new Date(G.scheduled_start_time)>=S:!1),B=z.filter(G=>G.cost&&G.cost>0).map(G=>G.cost),Q=z.filter(G=>G.duration&&G.duration>0).map(G=>G.duration),ne=B.length>0?B.reduce((G,he)=>G+he,0)/B.length:0,ce=Q.length>0?Q.reduce((G,he)=>G+he,0)/Q.length:0,me={},L={},q=["STAMPA","CONFEZIONAMENTO"],V=["ZANICA","BUSTO_GAROLFO"];return q.forEach(G=>{const he=G.toLowerCase();me[he]={},L[he]={},V.forEach(F=>{const Z=F==="BUSTO_GAROLFO"?"busto_garolfo":F.toLowerCase(),ee=i.filter(Se=>!Se.work_center||!Se.department?!1:Se.work_center===F&&Se.department===G),le=ee.filter(Se=>Se.cost&&Se.cost>0).map(Se=>Se.cost),ye=le.length>0?le.reduce((Se,je)=>Se+je,0)/le.length:0,_e=ee.filter(Se=>Se.duration&&Se.duration>0).map(Se=>Se.duration),pe=_e.length>0?_e.reduce((Se,je)=>Se+je,0)/_e.length:0;me[he][Z]=ye,L[he][Z]=pe})}),{machinesByWorkCenter:b,completedThisWeek:T,tasksInWip:M,delayedTasks:O,activeMachines:N,totalMachines:t.length,totalOrders:i.length,tasksPerDay:k,avgWeeklyCost:ne,avgWeeklyDuration:ce,weeklyOrdersCount:z.length,costMatrix:me,durationMatrix:L}},[t,i,d]),g=C.useMemo(()=>{if(!h.tasksPerDay)return null;const b=[],_=new Date;for(let S=-7;S<=7;S++){const x=new Date(_);x.setUTCDate(_.getUTCDate()+S);const A=x.toISOString().split("T")[0];b.push(A)}return{labels:b.map(S=>{const x=new Date(S);return Yn(new Date(x),"dd/MM")}),datasets:[{label:"Lavori Iniziati",data:b.map(S=>h.tasksPerDay[S]||0),borderColor:"rgb(37, 99, 235)",backgroundColor:"rgba(37, 99, 235, 0.1)",tension:.4,borderWidth:2,pointBackgroundColor:"rgb(37, 99, 235)",pointBorderColor:"rgb(37, 99, 235)",pointRadius:4,pointHoverRadius:6,fill:!0}]}},[h.tasksPerDay]),p={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{stepSize:1,color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}},x:{grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}}},elements:{point:{hoverBorderWidth:3}}},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0,font:{size:10}}}}};return d?E.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:E.jsx("div",{className:"text-center py-1 text-muted-foreground text-[10px]",children:"Caricamento dashboard..."})}):n||s?E.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:E.jsxs("div",{className:"text-center py-1 text-destructive text-[10px]",children:["Errore nel caricamento dei dati: ",n?.message||s?.message]})}):E.jsxs("div",{className:"space-y-6",children:[E.jsx("div",{className:"flex justify-between items-center",children:E.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard Produzione"})}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[E.jsxs(mr,{className:"p-6",children:[E.jsx(pr,{className:"pb-2",children:E.jsx(vr,{className:"text-sm font-medium text-muted-foreground",children:"Macchine Totali"})}),E.jsxs(yr,{children:[E.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalMachines}),E.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Attive: ",h.activeMachines]})]})]}),E.jsxs(mr,{className:"p-6",children:[E.jsx(pr,{className:"pb-2",children:E.jsx(vr,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Totali"})}),E.jsxs(yr,{children:[E.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalOrders}),E.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Totali nel sistema"})]})]}),E.jsxs(mr,{className:"p-6",children:[E.jsx(pr,{className:"pb-2",children:E.jsx(vr,{className:"text-sm font-medium text-muted-foreground",children:"Completati Questa Settimana"})}),E.jsxs(yr,{children:[E.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.completedThisWeek}),E.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lavori completati"})]})]}),E.jsxs(mr,{className:"p-6",children:[E.jsx(pr,{className:"pb-2",children:E.jsx(vr,{className:"text-sm font-medium text-muted-foreground",children:"Lavori in Corso"})}),E.jsxs(yr,{children:[E.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.tasksInWip}),E.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In progress/scheduled"})]})]}),E.jsxs(mr,{className:"p-6 border-destructive/20 bg-destructive/5",children:[E.jsx(pr,{className:"pb-2",children:E.jsx(vr,{className:"text-sm font-medium text-destructive",children:"Lavori Ritardati"})}),E.jsxs(yr,{children:[E.jsx("div",{className:"text-3xl font-bold text-destructive",children:h.delayedTasks}),E.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Oltre la scadenza"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs(mr,{className:"p-6",children:[E.jsx(pr,{className:"pb-2",children:E.jsx(vr,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Settimanali"})}),E.jsxs(yr,{children:[E.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.weeklyOrdersCount}),E.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Questa Settimana"})]})]}),E.jsxs(mr,{className:"p-6",children:[E.jsx(pr,{className:"pb-2",children:E.jsx(vr,{className:"text-sm font-medium text-muted-foreground",children:"Costo Medio"})}),E.jsxs(yr,{children:[E.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["€",h.avgWeeklyCost.toFixed(2)]}),E.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]}),E.jsxs(mr,{className:"p-6",children:[E.jsx(pr,{className:"pb-2",children:E.jsx(vr,{className:"text-sm font-medium text-muted-foreground",children:"Durata Media"})}),E.jsxs(yr,{children:[E.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[h.avgWeeklyDuration.toFixed(1),"h"]}),E.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs(mr,{children:[E.jsx(pr,{children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx(vr,{children:"Lavori Iniziati per Giorno (14 giorni)"}),E.jsx("div",{className:"flex items-center gap-3 text-xs",children:E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"inline-block w-3 h-1 bg-primary"})," Lavori"]})})]})}),E.jsx(yr,{children:E.jsx("div",{className:"h-64",children:g&&E.jsx(dle,{data:g,options:p,height:256})})})]}),E.jsxs(mr,{children:[E.jsx(pr,{children:E.jsx(vr,{children:"Macchine per Centro di Lavoro e Stato"})}),E.jsx(yr,{children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(h.machinesByWorkCenter||{}).map(([b,_])=>{const S={labels:Object.keys(_).map(x=>x.charAt(0).toUpperCase()+x.slice(1).toLowerCase()),datasets:[{data:Object.values(_),backgroundColor:["rgba(37, 99, 235, 0.8)","rgba(107, 114, 128, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgba(37, 99, 235, 1)","rgba(107, 114, 128, 1)","rgba(156, 163, 175, 1)"],borderWidth:2}]};return E.jsxs("div",{className:"text-center",children:[E.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:b}),E.jsx("div",{className:"h-32",children:E.jsx(fle,{data:S,options:v,height:150})}),E.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:Object.entries(_).map(([x,A])=>E.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[E.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:x==="ACTIVE"?"rgba(37, 99, 235, 0.8)":x==="INACTIVE"?"rgba(107, 114, 128, 0.8)":"rgba(156, 163, 175, 0.8)"}}),E.jsxs("span",{children:[x,": ",A]})]},x))})]},b)})})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs(mr,{children:[E.jsx(pr,{children:E.jsx(vr,{children:"Costo Medio per Centro di Lavoro e Reparto"})}),E.jsx(yr,{children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-border",children:[E.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),E.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),E.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{className:"border-b border-border",children:[E.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),E.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.stampa?.zanica?.toFixed(2)||"0.00"]}),E.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.stampa?.busto_garolfo?.toFixed(2)||"0.00"]})]}),E.jsxs("tr",{children:[E.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),E.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.confezionamento?.zanica?.toFixed(2)||"0.00"]}),E.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.confezionamento?.busto_garolfo?.toFixed(2)||"0.00"]})]})]})]})})})]}),E.jsxs(mr,{children:[E.jsx(pr,{children:E.jsx(vr,{children:"Durata Media per Centro di Lavoro e Reparto"})}),E.jsx(yr,{children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-border",children:[E.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),E.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),E.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{className:"border-b border-border",children:[E.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),E.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.zanica?.toFixed(1)||"0.0","h"]}),E.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.busto_garolfo?.toFixed(1)||"0.0","h"]})]}),E.jsxs("tr",{children:[E.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),E.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.zanica?.toFixed(1)||"0.0","h"]}),E.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.busto_garolfo?.toFixed(1)||"0.0","h"]})]})]})]})})})]})]})]})}function gle(){const[t,e]=C.useState({email:"",password:"",workCenter:""}),[n,i]=C.useState(!1),[r,s]=C.useState({}),{signIn:a,error:l}=xl(),{setSelectedWorkCenter:u}=Dt(),d=ws(),{handleAsync:h}=xs("LoginPage"),g=_=>{const{name:S,value:x}=_.target;e(A=>({...A,[S]:x})),r[S]&&s(A=>({...A,[S]:""}))},p=()=>{const _={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(_.email="Inserisci un indirizzo email valido"):_.email="Email richiesta",t.password?t.password.length<6&&(_.password="La password deve essere di almeno 6 caratteri"):_.password="Password richiesta",t.workCenter||(_.workCenter="Centro di lavoro richiesto"),s(_),Object.keys(_).length===0},v=async _=>{_.preventDefault(),p()&&(i(!0),await h(async()=>{(await a(t.email,t.password)).success&&(u(t.workCenter),d("/",{replace:!0}))},{context:"Login",fallbackMessage:"Accesso fallito. Riprova.",onFinally:()=>i(!1)}))},b=_=>r[_]?E.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:r[_]}):null;return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-4",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Bentornato"}),E.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Accedi al tuo account per continuare"})]}),E.jsxs("form",{onSubmit:v,className:"mt-4 space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:"email",children:"Indirizzo Email"}),E.jsx(qn,{type:"email",id:"email",name:"email",value:t.email,onChange:g,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),b("email")]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:"password",children:"Password"}),E.jsx(qn,{type:"password",id:"password",name:"password",value:t.password,onChange:g,placeholder:"Inserisci la tua password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"current-password"}),b("password")]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:"workCenter",children:"Centro di Lavoro *"}),E.jsxs("select",{name:"workCenter",value:t.workCenter,onChange:g,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${r.workCenter?"border-red-500":"border-input"}`,children:[E.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),E.jsx("option",{value:_t.ZANICA,children:_t.ZANICA}),E.jsx("option",{value:_t.BUSTO_GAROLFO,children:_t.BUSTO_GAROLFO}),E.jsx("option",{value:_t.BOTH,children:_t.BOTH})]}),b("workCenter")]}),l&&E.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:E.jsxs("div",{className:"flex",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("span",{className:"text-red-400",children:"●"})}),E.jsx("div",{className:"ml-3",children:E.jsx("p",{className:"text-[10px] text-red-800",children:l})})]})}),E.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Accesso in corso...":"Accedi"})]}),E.jsxs("div",{className:"text-center space-y-4",children:[E.jsx(gn,{to:"/forgot-password",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Password dimenticata?"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-[10px]",children:E.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Non hai un account?"})})]}),E.jsx(gn,{to:"/signup",children:E.jsx(Button,{variant:"outline",size:"sm",className:"w-full",children:"Crea Account"})})]}),!1]})})}function mle(){const[t,e]=C.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,i]=C.useState(!1),[r,s]=C.useState({}),{signUp:a,error:l}=xl(),u=ws(),{handleAsync:d}=xs("SignupPage"),h=b=>{const{name:_,value:S}=b.target;e(x=>({...x,[_]:S})),r[_]&&s(x=>({...x,[_]:""}))},g=()=>{const b={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(b.email="Inserisci un indirizzo email valido"):b.email="Email richiesta",t.password?t.password.length<6&&(b.password="La password deve essere di almeno 6 caratteri"):b.password="Password richiesta",t.confirmPassword?t.password!==t.confirmPassword&&(b.confirmPassword="Le password non coincidono"):b.confirmPassword="Conferma la tua password",t.firstName.trim()||(b.firstName="Nome richiesto"),t.lastName.trim()||(b.lastName="Cognome richiesto"),s(b),Object.keys(b).length===0},p=async b=>{b.preventDefault(),g()&&(i(!0),await d(async()=>{const _={first_name:t.firstName,last_name:t.lastName,full_name:`${t.firstName} ${t.lastName}`};(await a(t.email,t.password,_)).success&&u("/",{replace:!0})},{context:"Signup",fallbackMessage:"Creazione account fallita. Riprova.",onFinally:()=>i(!1)}))},v=b=>r[b]?E.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:r[b]}):null;return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-4",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Crea Account"}),E.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Registrati per iniziare con il tuo account"})]}),E.jsxs("form",{onSubmit:p,className:"mt-4 space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:"firstName",children:"Nome"}),E.jsx(qn,{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:h,placeholder:"Inserisci il tuo nome",className:r.firstName?"border-red-500":"",disabled:n,autoComplete:"given-name"}),v("firstName")]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:"lastName",children:"Cognome"}),E.jsx(qn,{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:h,placeholder:"Inserisci il tuo cognome",className:r.lastName?"border-red-500":"",disabled:n,autoComplete:"family-name"}),v("lastName")]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:"email",children:"Indirizzo Email"}),E.jsx(qn,{type:"email",id:"email",name:"email",value:t.email,onChange:h,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),v("email")]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:"password",children:"Password"}),E.jsx(qn,{type:"password",id:"password",name:"password",value:t.password,onChange:h,placeholder:"Crea una password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"new-password"}),v("password")]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:"confirmPassword",children:"Conferma Password"}),E.jsx(qn,{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:h,placeholder:"Conferma la tua password",className:r.confirmPassword?"border-red-500":"",disabled:n,autoComplete:"new-password"}),v("confirmPassword")]})]}),l&&E.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:E.jsxs("div",{className:"flex",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("span",{className:"text-red-400",children:"●"})}),E.jsx("div",{className:"ml-3",children:E.jsx("p",{className:"text-[10px] text-red-800",children:l})})]})}),E.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Creazione Account...":"Crea Account"})]}),E.jsxs("div",{className:"text-center space-y-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-[10px]",children:E.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Hai già un account?"})})]}),E.jsx(gn,{to:"/login",children:E.jsx(Button,{variant:"outline",size:"sm",className:"w-full",children:"Accedi"})})]})]})})}function ple(){const[t,e]=C.useState(""),[n,i]=C.useState(!1),[r,s]=C.useState(!1),[a,l]=C.useState(""),{resetPassword:u}=xl(),{handleAsync:d}=xs("ForgotPasswordPage"),h=async g=>{if(g.preventDefault(),!t.trim()){l("Inserisci il tuo indirizzo email");return}if(!/\S+@\S+\.\S+/.test(t)){l("Inserisci un indirizzo email valido");return}i(!0),l(""),await d(async()=>{const p=await u(t);p.success?s(!0):l(p.error||"Invio email di reset fallito")},{context:"Password Reset",fallbackMessage:"Invio email di reset fallito. Riprova.",onFinally:()=>i(!1)})};return r?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-2 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-4",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Controlla la Tua Email"}),E.jsxs("p",{className:"mt-2 text-[10px] text-gray-600",children:["Abbiamo inviato un link per il reset della password a ",t]})]}),E.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-1",children:E.jsxs("div",{className:"flex",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("span",{className:"text-green-400 text-[10px]",children:"✅"})}),E.jsx("div",{className:"ml-3",children:E.jsx("p",{className:"text-[10px] text-green-800",children:"Se non vedi l'email, controlla la cartella spam."})})]})}),E.jsx("div",{className:"text-center",children:E.jsx(gn,{to:"/login",children:E.jsx(Button,{size:"sm",className:"w-full",children:"Torna all'Accesso"})})})]})}):E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-4",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Reset Password"}),E.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Inserisci la tua email per ricevere un link per il reset della password"})]}),E.jsxs("form",{onSubmit:h,className:"mt-4 space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(li,{htmlFor:"email",children:"Indirizzo Email"}),E.jsx(qn,{type:"email",id:"email",name:"email",value:t,onChange:g=>e(g.target.value),placeholder:"Inserisci la tua email",disabled:n,autoComplete:"email"})]}),a&&E.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:E.jsxs("div",{className:"flex",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("span",{className:"text-red-400",children:"●"})}),E.jsx("div",{className:"ml-3",children:E.jsx("p",{className:"text-[10px] text-red-800",children:a})})]})}),E.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Invio...":"Invia Link di Reset"})]}),E.jsx("div",{className:"text-center",children:E.jsx(gn,{to:"/login",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Torna all'Accesso"})})]})})}const vle=()=>{const{user:t,loading:e}=xl();return e?E.jsx("div",{className:"auth-loading",children:E.jsxs("div",{className:"auth-loading__container",children:[E.jsx("div",{className:"auth-loading__spinner"}),E.jsx("p",{children:"Checking authentication..."})]})}):t?E.jsx(_k,{}):E.jsx(bk,{to:"/login",replace:!0})},yle=()=>{const{confirmDialog:t,hideConfirmDialog:e,conflictDialog:n,hideConflictDialog:i,showConflictDialog:r,schedulingLoading:s,selectedWorkCenter:a}=Dt(),{cleanup:l}=vo(),{resolveConflictByShunting:u,scheduleTaskFromSlot:d}=ms(),{user:h,signOut:g}=xl(),p=Ui();return sK(),C.useEffect(()=>()=>{l()},[l]),E.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[E.jsx(O8,{}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[E.jsx(M8,{}),E.jsx("main",{className:"flex-1 overflow-auto bg-background min-w-0",children:E.jsx("div",{className:"p-4",children:E.jsx(_k,{})})})]}),E.jsx(SB,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3}),t.isOpen&&(confirm(`${t.title}

${t.message}`)&&t.onConfirm?.(),e(),null),n.isOpen&&(()=>{const v=n.details?`Il lavoro "${n.details.draggedTask?.odp_number}" si sovrappone con "${n.details.conflictingTask?.odp_number}". Vuoi spostarlo a sinistra?`:"Conflitto rilevato. Vuoi spostare il task?",b=confirm(`${v}

OK = Sposta a Sinistra
Annulla = Sposta a Destra`);return b!==null?(async()=>{if(n.details){try{const _=n.details.schedulingParams?n.details.schedulingParams.originalConflict:n.details;console.log("🔄 CONFLICT: Using resolveConflictByShunting",b?"left":"right");const S=await u(_,b?"left":"right",p);S.error?Xa(S.error):Sl("Task spostato con successo")}catch(_){console.error("❌ SHUNTING ERROR:",_),Xa("Errore durante lo spostamento del task")}i()}})():i(),null})()]})};function ble(){return E.jsx(t8,{children:E.jsx(o8,{children:E.jsxs(jz,{children:[E.jsx(Pn,{path:"/login",element:E.jsx(gle,{})}),E.jsx(Pn,{path:"/signup",element:E.jsx(mle,{})}),E.jsx(Pn,{path:"/forgot-password",element:E.jsx(ple,{})}),E.jsx(Pn,{path:"/",element:E.jsx(vle,{}),children:E.jsxs(Pn,{element:E.jsx(yle,{}),children:[E.jsx(Pn,{index:!0,element:E.jsx(hle,{})}),E.jsx(Pn,{path:"machinery",element:E.jsx(aK,{})}),E.jsx(Pn,{path:"machinery/add",element:E.jsx(OD,{})}),E.jsx(Pn,{path:"machinery/:id/edit",element:E.jsx(OD,{})}),E.jsx(Pn,{path:"machinery/:machineId/calendar",element:E.jsx(une,{})}),E.jsx(Pn,{path:"phases",element:E.jsx(dne,{})}),E.jsx(Pn,{path:"phases/add",element:E.jsx(NO,{})}),E.jsx(Pn,{path:"phases/:id/edit",element:E.jsx(NO,{})}),E.jsx(Pn,{path:"backlog",element:E.jsx(hne,{})}),E.jsx(Pn,{path:"backlog/add",element:E.jsx(IO,{})}),E.jsx(Pn,{path:"backlog/:id/edit",element:E.jsx(IO,{})}),E.jsx(Pn,{path:"scheduler",element:E.jsx(Wie,{})})]})}),E.jsx(Pn,{path:"*",element:E.jsx(bk,{to:"/",replace:!0})})]})})})}const _le=new LH({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),wle="/scheduler_demo/";$U.createRoot(document.getElementById("root")).render(E.jsx(oe.StrictMode,{children:E.jsx(FH,{client:_le,children:E.jsx(sH,{basename:wle,children:E.jsx(D8,{children:E.jsx(ble,{})})})})}));export{k8 as A,Cp as B,Kw as D,oe as R,Dt as a,on as b,kle as c,Np as d,eK as e,xs as f,Mle as g,Yn as h,Of as i,E as j,Ui as k,Dle as l,ms as m,LY as n,hl as o,C as r,pD as s,ii as t,ws as u};
