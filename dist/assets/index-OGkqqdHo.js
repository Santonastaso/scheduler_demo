(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function rl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZD(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var tv={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function B2(){if(uC)return Lu;uC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Lu.Fragment=e,Lu.jsx=n,Lu.jsxs=n,Lu}var dC;function $2(){return dC||(dC=1,tv.exports=B2()),tv.exports}var C=$2(),nv={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function V2(){if(fC)return Ke;fC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function m(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function x(E,I,L){this.props=E,this.context=I,this.refs=S,this.updater=L||b}x.prototype.isReactComponent={},x.prototype.setState=function(E,I){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,I,"setState")},x.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function T(){}T.prototype=x.prototype;function A(E,I,L){this.props=E,this.context=I,this.refs=S,this.updater=L||b}var k=A.prototype=new T;k.constructor=A,_(k,x.prototype),k.isPureReactComponent=!0;var O=Array.isArray;function P(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function B(E,I,L){var z=L.ref;return{$$typeof:t,type:E,key:I,ref:z!==void 0?z:null,props:L}}function V(E,I){return B(E.type,I,E.props)}function W(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function X(E){var I={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(L){return I[L]})}var ce=/\/+/g;function ye(E,I){return typeof E=="object"&&E!==null&&E.key!=null?X(""+E.key):I.toString(36)}function _e(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(P,P):(E.status="pending",E.then(function(I){E.status==="pending"&&(E.status="fulfilled",E.value=I)},function(I){E.status==="pending"&&(E.status="rejected",E.reason=I)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function H(E,I,L,z,G){var ee=typeof E;(ee==="undefined"||ee==="boolean")&&(E=null);var ne=!1;if(E===null)ne=!0;else switch(ee){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(E.$$typeof){case t:case e:ne=!0;break;case h:return ne=E._init,H(ne(E._payload),I,L,z,G)}}if(ne)return G=G(E),ne=z===""?"."+ye(E,0):z,O(G)?(L="",ne!=null&&(L=ne.replace(ce,"$&/")+"/"),H(G,I,L,"",function(qe){return qe})):G!=null&&(W(G)&&(G=V(G,L+(G.key==null||E&&E.key===G.key?"":(""+G.key).replace(ce,"$&/")+"/")+ne)),I.push(G)),1;ne=0;var ge=z===""?".":z+":";if(O(E))for(var Ee=0;Ee<E.length;Ee++)z=E[Ee],ee=ge+ye(z,Ee),ne+=H(z,I,L,ee,G);else if(Ee=m(E),typeof Ee=="function")for(E=Ee.call(E),Ee=0;!(z=E.next()).done;)z=z.value,ee=ge+ye(z,Ee++),ne+=H(z,I,L,ee,G);else if(ee==="object"){if(typeof E.then=="function")return H(_e(E),I,L,z,G);throw I=String(E),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ne}function Z(E,I,L){if(E==null)return E;var z=[],G=0;return H(E,z,"","",function(ee){return I.call(L,ee,G++)}),z}function be(E){if(E._status===-1){var I=E._result;I=I(),I.then(function(L){(E._status===0||E._status===-1)&&(E._status=1,E._result=L)},function(L){(E._status===0||E._status===-1)&&(E._status=2,E._result=L)}),E._status===-1&&(E._status=0,E._result=I)}if(E._status===1)return E._result.default;throw E._result}var J=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},me={map:Z,forEach:function(E,I,L){Z(E,function(){I.apply(this,arguments)},L)},count:function(E){var I=0;return Z(E,function(){I++}),I},toArray:function(E){return Z(E,function(I){return I})||[]},only:function(E){if(!W(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Ke.Activity=p,Ke.Children=me,Ke.Component=x,Ke.Fragment=n,Ke.Profiler=r,Ke.PureComponent=A,Ke.StrictMode=i,Ke.Suspense=u,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(E){return N.H.useMemoCache(E)}},Ke.cache=function(E){return function(){return E.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(E,I,L){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var z=_({},E.props),G=E.key;if(I!=null)for(ee in I.key!==void 0&&(G=""+I.key),I)!M.call(I,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&I.ref===void 0||(z[ee]=I[ee]);var ee=arguments.length-2;if(ee===1)z.children=L;else if(1<ee){for(var ne=Array(ee),ge=0;ge<ee;ge++)ne[ge]=arguments[ge+2];z.children=ne}return B(E.type,G,z)},Ke.createContext=function(E){return E={$$typeof:o,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:s,_context:E},E},Ke.createElement=function(E,I,L){var z,G={},ee=null;if(I!=null)for(z in I.key!==void 0&&(ee=""+I.key),I)M.call(I,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(G[z]=I[z]);var ne=arguments.length-2;if(ne===1)G.children=L;else if(1<ne){for(var ge=Array(ne),Ee=0;Ee<ne;Ee++)ge[Ee]=arguments[Ee+2];G.children=ge}if(E&&E.defaultProps)for(z in ne=E.defaultProps,ne)G[z]===void 0&&(G[z]=ne[z]);return B(E,ee,G)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(E){return{$$typeof:c,render:E}},Ke.isValidElement=W,Ke.lazy=function(E){return{$$typeof:h,_payload:{_status:-1,_result:E},_init:be}},Ke.memo=function(E,I){return{$$typeof:d,type:E,compare:I===void 0?null:I}},Ke.startTransition=function(E){var I=N.T,L={};N.T=L;try{var z=E(),G=N.S;G!==null&&G(L,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(P,J)}catch(ee){J(ee)}finally{I!==null&&L.types!==null&&(I.types=L.types),N.T=I}},Ke.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ke.use=function(E){return N.H.use(E)},Ke.useActionState=function(E,I,L){return N.H.useActionState(E,I,L)},Ke.useCallback=function(E,I){return N.H.useCallback(E,I)},Ke.useContext=function(E){return N.H.useContext(E)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(E,I){return N.H.useDeferredValue(E,I)},Ke.useEffect=function(E,I){return N.H.useEffect(E,I)},Ke.useEffectEvent=function(E){return N.H.useEffectEvent(E)},Ke.useId=function(){return N.H.useId()},Ke.useImperativeHandle=function(E,I,L){return N.H.useImperativeHandle(E,I,L)},Ke.useInsertionEffect=function(E,I){return N.H.useInsertionEffect(E,I)},Ke.useLayoutEffect=function(E,I){return N.H.useLayoutEffect(E,I)},Ke.useMemo=function(E,I){return N.H.useMemo(E,I)},Ke.useOptimistic=function(E,I){return N.H.useOptimistic(E,I)},Ke.useReducer=function(E,I,L){return N.H.useReducer(E,I,L)},Ke.useRef=function(E){return N.H.useRef(E)},Ke.useState=function(E){return N.H.useState(E)},Ke.useSyncExternalStore=function(E,I,L){return N.H.useSyncExternalStore(E,I,L)},Ke.useTransition=function(){return N.H.useTransition()},Ke.version="19.2.0",Ke}var hC;function k0(){return hC||(hC=1,nv.exports=V2()),nv.exports}var D=k0();const de=rl(D);var iv={exports:{}},Uu={},rv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function q2(){return gC||(gC=1,(function(t){function e(H,Z){var be=H.length;H.push(Z);e:for(;0<be;){var J=be-1>>>1,me=H[J];if(0<r(me,Z))H[J]=Z,H[be]=me,be=J;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Z=H[0],be=H.pop();if(be!==Z){H[0]=be;e:for(var J=0,me=H.length,E=me>>>1;J<E;){var I=2*(J+1)-1,L=H[I],z=I+1,G=H[z];if(0>r(L,be))z<me&&0>r(G,L)?(H[J]=G,H[z]=be,J=z):(H[J]=L,H[I]=be,J=I);else if(z<me&&0>r(G,be))H[J]=G,H[z]=be,J=z;else break e}}return Z}function r(H,Z){var be=H.sortIndex-Z.sortIndex;return be!==0?be:H.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],d=[],h=1,p=null,y=3,m=!1,b=!1,_=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(H){for(var Z=n(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=H)i(d),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(d)}}function O(H){if(_=!1,k(H),!b)if(n(u)!==null)b=!0,P||(P=!0,X());else{var Z=n(d);Z!==null&&_e(O,Z.startTime-H)}}var P=!1,N=-1,M=5,B=-1;function V(){return S?!0:!(t.unstable_now()-B<M)}function W(){if(S=!1,P){var H=t.unstable_now();B=H;var Z=!0;try{e:{b=!1,_&&(_=!1,T(N),N=-1),m=!0;var be=y;try{t:{for(k(H),p=n(u);p!==null&&!(p.expirationTime>H&&V());){var J=p.callback;if(typeof J=="function"){p.callback=null,y=p.priorityLevel;var me=J(p.expirationTime<=H);if(H=t.unstable_now(),typeof me=="function"){p.callback=me,k(H),Z=!0;break t}p===n(u)&&i(u),k(H)}else i(u);p=n(u)}if(p!==null)Z=!0;else{var E=n(d);E!==null&&_e(O,E.startTime-H),Z=!1}}break e}finally{p=null,y=be,m=!1}Z=void 0}}finally{Z?X():P=!1}}}var X;if(typeof A=="function")X=function(){A(W)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ye=ce.port2;ce.port1.onmessage=W,X=function(){ye.postMessage(null)}}else X=function(){x(W,0)};function _e(H,Z){N=x(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var be=y;y=Z;try{return H()}finally{y=be}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var be=y;y=H;try{return Z()}finally{y=be}},t.unstable_scheduleCallback=function(H,Z,be){var J=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?J+be:J):be=J,H){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=be+me,H={id:h++,callback:Z,priorityLevel:H,startTime:be,expirationTime:me,sortIndex:-1},be>J?(H.sortIndex=be,e(d,H),n(u)===null&&H===n(d)&&(_?(T(N),N=-1):_=!0,_e(O,be-J))):(H.sortIndex=me,e(u,H),b||m||(b=!0,P||(P=!0,X()))),H},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(H){var Z=y;return function(){var be=y;y=Z;try{return H.apply(this,arguments)}finally{y=be}}}})(sv)),sv}var pC;function G2(){return pC||(pC=1,rv.exports=q2()),rv.exports}var av={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function W2(){if(mC)return oi;mC=1;var t=k0();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,oi.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},oi.flushSync=function(u){var d=o.T,h=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=d,i.p=h,i.d.f()}},oi.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},oi.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},oi.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:m}):h==="script"&&i.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},oi.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},oi.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin);i.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},oi.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=c(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},oi.requestFormReset=function(u){i.d.r(u)},oi.unstable_batchedUpdates=function(u,d){return u(d)},oi.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},oi.useFormStatus=function(){return o.H.useHostTransitionStatus()},oi.version="19.2.0",oi}var yC;function JD(){if(yC)return av.exports;yC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),av.exports=W2(),av.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function Y2(){if(vC)return Uu;vC=1;var t=G2(),e=k0(),n=JD();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function d(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var f=a,g=l;;){var v=f.return;if(v===null)break;var w=v.alternate;if(w===null){if(g=v.return,g!==null){f=g;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===f)return u(v),a;if(w===g)return u(v),l;w=w.sibling}throw Error(i(188))}if(f.return!==g.return)f=v,g=w;else{for(var R=!1,j=v.child;j;){if(j===f){R=!0,f=v,g=w;break}if(j===g){R=!0,g=v,f=w;break}j=j.sibling}if(!R){for(j=w.child;j;){if(j===f){R=!0,f=w,g=v;break}if(j===g){R=!0,g=w,f=v;break}j=j.sibling}if(!R)throw Error(i(189))}}if(f.alternate!==g)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var ce=Symbol.for("react.client.reference");function ye(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ce?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList";case B:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case A:return a.displayName||"Context";case T:return(a._context.displayName||"Context")+".Consumer";case k:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return l=a.displayName||null,l!==null?l:ye(a.type)||"Memo";case M:l=a._payload,a=a._init;try{return ye(a(l))}catch{}}return null}var _e=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},J=[],me=-1;function E(a){return{current:a}}function I(a){0>me||(a.current=J[me],J[me]=null,me--)}function L(a,l){me++,J[me]=a.current,a.current=l}var z=E(null),G=E(null),ee=E(null),ne=E(null);function ge(a,l){switch(L(ee,l),L(G,a),L(z,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?NE(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=NE(l),a=IE(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}I(z),L(z,a)}function Ee(){I(z),I(G),I(ee)}function qe(a){a.memoizedState!==null&&L(ne,a);var l=z.current,f=IE(l,a.type);l!==f&&(L(G,a),L(z,f))}function Nt(a){G.current===a&&(I(z),I(G)),ne.current===a&&(I(ne),Nu._currentValue=be)}var It,Xn;function Te(a){if(It===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);It=l&&l[1]||"",Xn=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+a+Xn}var Ge=!1;function at(a,l){if(!a||Ge)return"";Ge=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(le){var ae=le}Reflect.construct(a,[],pe)}else{try{pe.call()}catch(le){ae=le}a.call(pe.prototype)}}else{try{throw Error()}catch(le){ae=le}(pe=a())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),R=w[0],j=w[1];if(R&&j){var $=R.split(`
`),re=j.split(`
`);for(v=g=0;g<$.length&&!$[g].includes("DetermineComponentFrameRoot");)g++;for(;v<re.length&&!re[v].includes("DetermineComponentFrameRoot");)v++;if(g===$.length||v===re.length)for(g=$.length-1,v=re.length-1;1<=g&&0<=v&&$[g]!==re[v];)v--;for(;1<=g&&0<=v;g--,v--)if($[g]!==re[v]){if(g!==1||v!==1)do if(g--,v--,0>v||$[g]!==re[v]){var fe=`
`+$[g].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=g&&0<=v);break}}}finally{Ge=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?Te(f):""}function Ft(a,l){switch(a.tag){case 26:case 27:case 5:return Te(a.type);case 16:return Te("Lazy");case 13:return a.child!==l&&l!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return at(a.type,!1);case 11:return at(a.type.render,!1);case 1:return at(a.type,!0);case 31:return Te("Activity");default:return""}}function sn(a){try{var l="",f=null;do l+=Ft(a,f),f=a,a=a.return;while(a);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var et=Object.prototype.hasOwnProperty,U=t.unstable_scheduleCallback,Y=t.unstable_cancelCallback,te=t.unstable_shouldYield,Q=t.unstable_requestPaint,se=t.unstable_now,ue=t.unstable_getCurrentPriorityLevel,ve=t.unstable_ImmediatePriority,we=t.unstable_UserBlockingPriority,Se=t.unstable_NormalPriority,Ne=t.unstable_LowPriority,We=t.unstable_IdlePriority,Ye=t.log,lt=t.unstable_setDisableYieldValue,it=null,St=null;function ot(a){if(typeof Ye=="function"&&lt(a),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(it,a)}catch{}}var Le=Math.clz32?Math.clz32:ct,un=Math.log,tt=Math.LN2;function ct(a){return a>>>=0,a===0?32:31-(un(a)/tt|0)|0}var Hn=256,Zn=262144,ht=4194304;function yt(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ae(a,l,f){var g=a.pendingLanes;if(g===0)return 0;var v=0,w=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var j=g&134217727;return j!==0?(g=j&~w,g!==0?v=yt(g):(R&=j,R!==0?v=yt(R):f||(f=j&~a,f!==0&&(v=yt(f))))):(j=g&~w,j!==0?v=yt(j):R!==0?v=yt(R):f||(f=g&~a,f!==0&&(v=yt(f)))),v===0?0:l!==0&&l!==v&&(l&w)===0&&(w=v&-v,f=l&-l,w>=f||w===32&&(f&4194048)!==0)?l:v}function xe(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function De(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ie(){var a=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),a}function xt(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function Qe(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Be(a,l,f,g,v,w){var R=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var j=a.entanglements,$=a.expirationTimes,re=a.hiddenUpdates;for(f=R&~f;0<f;){var fe=31-Le(f),pe=1<<fe;j[fe]=0,$[fe]=-1;var ae=re[fe];if(ae!==null)for(re[fe]=null,fe=0;fe<ae.length;fe++){var le=ae[fe];le!==null&&(le.lane&=-536870913)}f&=~pe}g!==0&&Ht(a,g,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(R&~l))}function Ht(a,l,f){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-Le(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|f&261930}function ut(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var g=31-Le(f),v=1<<g;v&l|a[g]&l&&(a[g]|=l),f&=~v}}function Tt(a,l){var f=l&-l;return f=(f&42)!==0?1:nr(f),(f&(a.suspendedLanes|l))!==0?0:f}function nr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Jn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ir(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:iC(a.type))}function sa(a,l){var f=Z.p;try{return Z.p=a,l()}finally{Z.p=f}}var rr=Math.random().toString(36).slice(2),ei="__reactFiber$"+rr,xi="__reactProps$"+rr,gl="__reactContainer$"+rr,Gp="__reactEvents$"+rr,kI="__reactListeners$"+rr,MI="__reactHandles$"+rr,_w="__reactResources$"+rr,Yc="__reactMarker$"+rr;function Wp(a){delete a[ei],delete a[xi],delete a[Gp],delete a[kI],delete a[MI]}function pl(a){var l=a[ei];if(l)return l;for(var f=a.parentNode;f;){if(l=f[gl]||f[ei]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=HE(a);a!==null;){if(f=a[ei])return f;a=HE(a)}return l}a=f,f=a.parentNode}return null}function ml(a){if(a=a[ei]||a[gl]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Qc(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function yl(a){var l=a[_w];return l||(l=a[_w]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Bn(a){a[Yc]=!0}var ww=new Set,Sw={};function co(a,l){vl(a,l),vl(a+"Capture",l)}function vl(a,l){for(Sw[a]=l,a=0;a<l.length;a++)ww.add(l[a])}var NI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xw={},Ew={};function II(a){return et.call(Ew,a)?!0:et.call(xw,a)?!1:NI.test(a)?Ew[a]=!0:(xw[a]=!0,!1)}function af(a,l,f){if(II(l))if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+f)}}function of(a,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+f)}}function ys(a,l,f,g){if(g===null)a.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(l,f,""+g)}}function sr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Cw(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function jI(a,l,f){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,w=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(R){f=""+R,w.call(this,R)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Yp(a){if(!a._valueTracker){var l=Cw(a)?"checked":"value";a._valueTracker=jI(a,l,""+a[l])}}function Tw(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return a&&(g=Cw(a)?a.checked?"true":"false":a.value),a=g,a!==f?(l.setValue(a),!0):!1}function lf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var PI=/[\n"\\]/g;function ar(a){return a.replace(PI,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Qp(a,l,f,g,v,w,R,j){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),l!=null?R==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+sr(l)):a.value!==""+sr(l)&&(a.value=""+sr(l)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),l!=null?Kp(a,R,sr(l)):f!=null?Kp(a,R,sr(f)):g!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+sr(j):a.removeAttribute("name")}function Aw(a,l,f,g,v,w,R,j){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){Yp(a);return}f=f!=null?""+sr(f):"",l=l!=null?""+sr(l):f,j||l===a.value||(a.value=l),a.defaultValue=l}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=j?a.checked:!!g,a.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R),Yp(a)}function Kp(a,l,f){l==="number"&&lf(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function bl(a,l,f,g){if(a=a.options,l){l={};for(var v=0;v<f.length;v++)l["$"+f[v]]=!0;for(f=0;f<a.length;f++)v=l.hasOwnProperty("$"+a[f].value),a[f].selected!==v&&(a[f].selected=v),v&&g&&(a[f].defaultSelected=!0)}else{for(f=""+sr(f),l=null,v=0;v<a.length;v++){if(a[v].value===f){a[v].selected=!0,g&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function Rw(a,l,f){if(l!=null&&(l=""+sr(l),l!==a.value&&(a.value=l),f==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=f!=null?""+sr(f):""}function Dw(a,l,f,g){if(l==null){if(g!=null){if(f!=null)throw Error(i(92));if(_e(g)){if(1<g.length)throw Error(i(93));g=g[0]}f=g}f==null&&(f=""),l=f}f=sr(l),a.defaultValue=f,g=a.textContent,g===f&&g!==""&&g!==null&&(a.value=g),Yp(a)}function _l(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var LI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ow(a,l,f){var g=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,f):typeof f!="number"||f===0||LI.has(l)?l==="float"?a.cssFloat=f:a[l]=(""+f).trim():a[l]=f+"px"}function kw(a,l,f){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var v in l)g=l[v],l.hasOwnProperty(v)&&f[v]!==g&&Ow(a,v,g)}else for(var w in l)l.hasOwnProperty(w)&&Ow(a,w,l[w])}function Xp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cf(a){return zI.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function vs(){}var Zp=null;function Jp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wl=null,Sl=null;function Mw(a){var l=ml(a);if(l&&(a=l.stateNode)){var f=a[xi]||null;e:switch(a=l.stateNode,l.type){case"input":if(Qp(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ar(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==a&&g.form===a.form){var v=g[xi]||null;if(!v)throw Error(i(90));Qp(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<f.length;l++)g=f[l],g.form===a.form&&Tw(g)}break e;case"textarea":Rw(a,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&bl(a,!!f.multiple,l,!1)}}}var em=!1;function Nw(a,l,f){if(em)return a(l,f);em=!0;try{var g=a(l);return g}finally{if(em=!1,(wl!==null||Sl!==null)&&(Kf(),wl&&(l=wl,a=Sl,Sl=wl=null,Mw(l),a)))for(l=0;l<a.length;l++)Mw(a[l])}}function Kc(a,l){var f=a.stateNode;if(f===null)return null;var g=f[xi]||null;if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(i(231,l,typeof f));return f}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tm=!1;if(bs)try{var Xc={};Object.defineProperty(Xc,"passive",{get:function(){tm=!0}}),window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{tm=!1}var aa=null,nm=null,uf=null;function Iw(){if(uf)return uf;var a,l=nm,f=l.length,g,v="value"in aa?aa.value:aa.textContent,w=v.length;for(a=0;a<f&&l[a]===v[a];a++);var R=f-a;for(g=1;g<=R&&l[f-g]===v[w-g];g++);return uf=v.slice(a,1<g?1-g:void 0)}function df(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ff(){return!0}function jw(){return!1}function Ei(a){function l(f,g,v,w,R){this._reactName=f,this._targetInst=v,this.type=g,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(f=a[j],this[j]=f?f(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ff:jw,this.isPropagationStopped=jw,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ff)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ff)},persist:function(){},isPersistent:ff}),l}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=Ei(uo),Zc=p({},uo,{view:0,detail:0}),FI=Ei(Zc),im,rm,Jc,gf=p({},Zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Jc&&(Jc&&a.type==="mousemove"?(im=a.screenX-Jc.screenX,rm=a.screenY-Jc.screenY):rm=im=0,Jc=a),im)},movementY:function(a){return"movementY"in a?a.movementY:rm}}),Pw=Ei(gf),HI=p({},gf,{dataTransfer:0}),BI=Ei(HI),$I=p({},Zc,{relatedTarget:0}),sm=Ei($I),VI=p({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),qI=Ei(VI),GI=p({},uo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),WI=Ei(GI),YI=p({},uo,{data:0}),Lw=Ei(YI),QI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZI(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=XI[a])?!!l[a]:!1}function am(){return ZI}var JI=p({},Zc,{key:function(a){if(a.key){var l=QI[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=df(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?KI[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(a){return a.type==="keypress"?df(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?df(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ej=Ei(JI),tj=p({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uw=Ei(tj),nj=p({},Zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),ij=Ei(nj),rj=p({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),sj=Ei(rj),aj=p({},gf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),oj=Ei(aj),lj=p({},uo,{newState:0,oldState:0}),cj=Ei(lj),uj=[9,13,27,32],om=bs&&"CompositionEvent"in window,eu=null;bs&&"documentMode"in document&&(eu=document.documentMode);var dj=bs&&"TextEvent"in window&&!eu,zw=bs&&(!om||eu&&8<eu&&11>=eu),Fw=" ",Hw=!1;function Bw(a,l){switch(a){case"keyup":return uj.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $w(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xl=!1;function fj(a,l){switch(a){case"compositionend":return $w(l);case"keypress":return l.which!==32?null:(Hw=!0,Fw);case"textInput":return a=l.data,a===Fw&&Hw?null:a;default:return null}}function hj(a,l){if(xl)return a==="compositionend"||!om&&Bw(a,l)?(a=Iw(),uf=nm=aa=null,xl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return zw&&l.locale!=="ko"?null:l.data;default:return null}}var gj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vw(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!gj[a.type]:l==="textarea"}function qw(a,l,f,g){wl?Sl?Sl.push(g):Sl=[g]:wl=g,l=ih(l,"onChange"),0<l.length&&(f=new hf("onChange","change",null,f,g),a.push({event:f,listeners:l}))}var tu=null,nu=null;function pj(a){AE(a,0)}function pf(a){var l=Qc(a);if(Tw(l))return a}function Gw(a,l){if(a==="change")return l}var Ww=!1;if(bs){var lm;if(bs){var cm="oninput"in document;if(!cm){var Yw=document.createElement("div");Yw.setAttribute("oninput","return;"),cm=typeof Yw.oninput=="function"}lm=cm}else lm=!1;Ww=lm&&(!document.documentMode||9<document.documentMode)}function Qw(){tu&&(tu.detachEvent("onpropertychange",Kw),nu=tu=null)}function Kw(a){if(a.propertyName==="value"&&pf(nu)){var l=[];qw(l,nu,a,Jp(a)),Nw(pj,l)}}function mj(a,l,f){a==="focusin"?(Qw(),tu=l,nu=f,tu.attachEvent("onpropertychange",Kw)):a==="focusout"&&Qw()}function yj(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return pf(nu)}function vj(a,l){if(a==="click")return pf(l)}function bj(a,l){if(a==="input"||a==="change")return pf(l)}function _j(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Bi=typeof Object.is=="function"?Object.is:_j;function iu(a,l){if(Bi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!et.call(l,v)||!Bi(a[v],l[v]))return!1}return!0}function Xw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Zw(a,l){var f=Xw(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=l&&g>=l)return{node:f,offset:l-a};a=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Xw(f)}}function Jw(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Jw(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function eS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=lf(a.document);l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=lf(a.document)}return l}function um(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var wj=bs&&"documentMode"in document&&11>=document.documentMode,El=null,dm=null,ru=null,fm=!1;function tS(a,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;fm||El==null||El!==lf(g)||(g=El,"selectionStart"in g&&um(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ru&&iu(ru,g)||(ru=g,g=ih(dm,"onSelect"),0<g.length&&(l=new hf("onSelect","select",null,l,f),a.push({event:l,listeners:g}),l.target=El)))}function fo(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var Cl={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},hm={},nS={};bs&&(nS=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function ho(a){if(hm[a])return hm[a];if(!Cl[a])return a;var l=Cl[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in nS)return hm[a]=l[f];return a}var iS=ho("animationend"),rS=ho("animationiteration"),sS=ho("animationstart"),Sj=ho("transitionrun"),xj=ho("transitionstart"),Ej=ho("transitioncancel"),aS=ho("transitionend"),oS=new Map,gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gm.push("scrollEnd");function Or(a,l){oS.set(a,l),co(l,[a])}var mf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},or=[],Tl=0,pm=0;function yf(){for(var a=Tl,l=pm=Tl=0;l<a;){var f=or[l];or[l++]=null;var g=or[l];or[l++]=null;var v=or[l];or[l++]=null;var w=or[l];if(or[l++]=null,g!==null&&v!==null){var R=g.pending;R===null?v.next=v:(v.next=R.next,R.next=v),g.pending=v}w!==0&&lS(f,v,w)}}function vf(a,l,f,g){or[Tl++]=a,or[Tl++]=l,or[Tl++]=f,or[Tl++]=g,pm|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function mm(a,l,f,g){return vf(a,l,f,g),bf(a)}function go(a,l){return vf(a,null,null,l),bf(a)}function lS(a,l,f){a.lanes|=f;var g=a.alternate;g!==null&&(g.lanes|=f);for(var v=!1,w=a.return;w!==null;)w.childLanes|=f,g=w.alternate,g!==null&&(g.childLanes|=f),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&l!==null&&(v=31-Le(f),a=w.hiddenUpdates,g=a[v],g===null?a[v]=[l]:g.push(l),l.lane=f|536870912),w):null}function bf(a){if(50<Tu)throw Tu=0,Cy=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Al={};function Cj(a,l,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(a,l,f,g){return new Cj(a,l,f,g)}function ym(a){return a=a.prototype,!(!a||!a.isReactComponent)}function _s(a,l){var f=a.alternate;return f===null?(f=$i(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function cS(a,l){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,l=f.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function _f(a,l,f,g,v,w){var R=0;if(g=a,typeof a=="function")ym(a)&&(R=1);else if(typeof a=="string")R=O2(a,f,z.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case B:return a=$i(31,f,l,v),a.elementType=B,a.lanes=w,a;case _:return po(f.children,v,w,l);case S:R=8,v|=24;break;case x:return a=$i(12,f,l,v|2),a.elementType=x,a.lanes=w,a;case O:return a=$i(13,f,l,v),a.elementType=O,a.lanes=w,a;case P:return a=$i(19,f,l,v),a.elementType=P,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:R=10;break e;case T:R=9;break e;case k:R=11;break e;case N:R=14;break e;case M:R=16,g=null;break e}R=29,f=Error(i(130,a===null?"null":typeof a,"")),g=null}return l=$i(R,f,l,v),l.elementType=a,l.type=g,l.lanes=w,l}function po(a,l,f,g){return a=$i(7,a,g,l),a.lanes=f,a}function vm(a,l,f){return a=$i(6,a,null,l),a.lanes=f,a}function uS(a){var l=$i(18,null,null,0);return l.stateNode=a,l}function bm(a,l,f){return l=$i(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var dS=new WeakMap;function lr(a,l){if(typeof a=="object"&&a!==null){var f=dS.get(a);return f!==void 0?f:(l={value:a,source:l,stack:sn(l)},dS.set(a,l),l)}return{value:a,source:l,stack:sn(l)}}var Rl=[],Dl=0,wf=null,su=0,cr=[],ur=0,oa=null,Xr=1,Zr="";function ws(a,l){Rl[Dl++]=su,Rl[Dl++]=wf,wf=a,su=l}function fS(a,l,f){cr[ur++]=Xr,cr[ur++]=Zr,cr[ur++]=oa,oa=a;var g=Xr;a=Zr;var v=32-Le(g)-1;g&=~(1<<v),f+=1;var w=32-Le(l)+v;if(30<w){var R=v-v%5;w=(g&(1<<R)-1).toString(32),g>>=R,v-=R,Xr=1<<32-Le(l)+v|f<<v|g,Zr=w+a}else Xr=1<<w|f<<v|g,Zr=a}function _m(a){a.return!==null&&(ws(a,1),fS(a,1,0))}function wm(a){for(;a===wf;)wf=Rl[--Dl],Rl[Dl]=null,su=Rl[--Dl],Rl[Dl]=null;for(;a===oa;)oa=cr[--ur],cr[ur]=null,Zr=cr[--ur],cr[ur]=null,Xr=cr[--ur],cr[ur]=null}function hS(a,l){cr[ur++]=Xr,cr[ur++]=Zr,cr[ur++]=oa,Xr=l.id,Zr=l.overflow,oa=a}var ti=null,Xt=null,vt=!1,la=null,dr=!1,Sm=Error(i(519));function ca(a){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(lr(l,a)),Sm}function gS(a){var l=a.stateNode,f=a.type,g=a.memoizedProps;switch(l[ei]=a,l[xi]=g,f){case"dialog":ft("cancel",l),ft("close",l);break;case"iframe":case"object":case"embed":ft("load",l);break;case"video":case"audio":for(f=0;f<Ru.length;f++)ft(Ru[f],l);break;case"source":ft("error",l);break;case"img":case"image":case"link":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"input":ft("invalid",l),Aw(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ft("invalid",l);break;case"textarea":ft("invalid",l),Dw(l,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||g.suppressHydrationWarning===!0||kE(l.textContent,f)?(g.popover!=null&&(ft("beforetoggle",l),ft("toggle",l)),g.onScroll!=null&&ft("scroll",l),g.onScrollEnd!=null&&ft("scrollend",l),g.onClick!=null&&(l.onclick=vs),l=!0):l=!1,l||ca(a,!0)}function pS(a){for(ti=a.return;ti;)switch(ti.tag){case 5:case 31:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:ti=ti.return}}function Ol(a){if(a!==ti)return!1;if(!vt)return pS(a),vt=!0,!1;var l=a.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||Fy(a.type,a.memoizedProps)),f=!f),f&&Xt&&ca(a),pS(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Xt=FE(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Xt=FE(a)}else l===27?(l=Xt,xa(a.type)?(a=qy,qy=null,Xt=a):Xt=l):Xt=ti?hr(a.stateNode.nextSibling):null;return!0}function mo(){Xt=ti=null,vt=!1}function xm(){var a=la;return a!==null&&(Ri===null?Ri=a:Ri.push.apply(Ri,a),la=null),a}function au(a){la===null?la=[a]:la.push(a)}var Em=E(null),yo=null,Ss=null;function ua(a,l,f){L(Em,l._currentValue),l._currentValue=f}function xs(a){a._currentValue=Em.current,I(Em)}function Cm(a,l,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===f)break;a=a.return}}function Tm(a,l,f,g){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var R=v.child;w=w.firstContext;e:for(;w!==null;){var j=w;w=v;for(var $=0;$<l.length;$++)if(j.context===l[$]){w.lanes|=f,j=w.alternate,j!==null&&(j.lanes|=f),Cm(w.return,f,a),g||(R=null);break e}w=j.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(i(341));R.lanes|=f,w=R.alternate,w!==null&&(w.lanes|=f),Cm(R,f,a),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===a){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function kl(a,l,f,g){a=null;for(var v=l,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var j=v.type;Bi(v.pendingProps.value,R.value)||(a!==null?a.push(j):a=[j])}}else if(v===ne.current){if(R=v.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Nu):a=[Nu])}v=v.return}a!==null&&Tm(l,a,f,g),l.flags|=262144}function Sf(a){for(a=a.firstContext;a!==null;){if(!Bi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function vo(a){yo=a,Ss=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ni(a){return mS(yo,a)}function xf(a,l){return yo===null&&vo(a),mS(a,l)}function mS(a,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Ss===null){if(a===null)throw Error(i(308));Ss=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Ss=Ss.next=l;return f}var Tj=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(f,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(f){return f()})}},Aj=t.unstable_scheduleCallback,Rj=t.unstable_NormalPriority,En={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new Tj,data:new Map,refCount:0}}function ou(a){a.refCount--,a.refCount===0&&Aj(Rj,function(){a.controller.abort()})}var lu=null,Rm=0,Ml=0,Nl=null;function Dj(a,l){if(lu===null){var f=lu=[];Rm=0,Ml=ky(),Nl={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Rm++,l.then(yS,yS),l}function yS(){if(--Rm===0&&lu!==null){Nl!==null&&(Nl.status="fulfilled");var a=lu;lu=null,Ml=0,Nl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Oj(a,l){var f=[],g={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var v=0;v<f.length;v++)(0,f[v])(l)},function(v){for(g.status="rejected",g.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),g}var vS=H.S;H.S=function(a,l){tE=se(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Dj(a,l),vS!==null&&vS(a,l)};var bo=E(null);function Dm(){var a=bo.current;return a!==null?a:Gt.pooledCache}function Ef(a,l){l===null?L(bo,bo.current):L(bo,l.pool)}function bS(){var a=Dm();return a===null?null:{parent:En._currentValue,pool:a}}var Il=Error(i(460)),Om=Error(i(474)),Cf=Error(i(542)),Tf={then:function(){}};function _S(a){return a=a.status,a==="fulfilled"||a==="rejected"}function wS(a,l,f){switch(f=a[f],f===void 0?a.push(l):f!==l&&(l.then(vs,vs),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,xS(a),a;default:if(typeof l.status=="string")l.then(vs,vs);else{if(a=Gt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=g}},function(g){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,xS(a),a}throw wo=l,Il}}function _o(a){try{var l=a._init;return l(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(wo=f,Il):f}}var wo=null;function SS(){if(wo===null)throw Error(i(459));var a=wo;return wo=null,a}function xS(a){if(a===Il||a===Cf)throw Error(i(483))}var jl=null,cu=0;function Af(a){var l=cu;return cu+=1,jl===null&&(jl=[]),wS(jl,a,l)}function uu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Rf(a,l){throw l.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function ES(a){function l(K,q){if(a){var ie=K.deletions;ie===null?(K.deletions=[q],K.flags|=16):ie.push(q)}}function f(K,q){if(!a)return null;for(;q!==null;)l(K,q),q=q.sibling;return null}function g(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function v(K,q){return K=_s(K,q),K.index=0,K.sibling=null,K}function w(K,q,ie){return K.index=ie,a?(ie=K.alternate,ie!==null?(ie=ie.index,ie<q?(K.flags|=67108866,q):ie):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function R(K){return a&&K.alternate===null&&(K.flags|=67108866),K}function j(K,q,ie,he){return q===null||q.tag!==6?(q=vm(ie,K.mode,he),q.return=K,q):(q=v(q,ie),q.return=K,q)}function $(K,q,ie,he){var Pe=ie.type;return Pe===_?fe(K,q,ie.props.children,he,ie.key):q!==null&&(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&_o(Pe)===q.type)?(q=v(q,ie.props),uu(q,ie),q.return=K,q):(q=_f(ie.type,ie.key,ie.props,null,K.mode,he),uu(q,ie),q.return=K,q)}function re(K,q,ie,he){return q===null||q.tag!==4||q.stateNode.containerInfo!==ie.containerInfo||q.stateNode.implementation!==ie.implementation?(q=bm(ie,K.mode,he),q.return=K,q):(q=v(q,ie.children||[]),q.return=K,q)}function fe(K,q,ie,he,Pe){return q===null||q.tag!==7?(q=po(ie,K.mode,he,Pe),q.return=K,q):(q=v(q,ie),q.return=K,q)}function pe(K,q,ie){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=vm(""+q,K.mode,ie),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case m:return ie=_f(q.type,q.key,q.props,null,K.mode,ie),uu(ie,q),ie.return=K,ie;case b:return q=bm(q,K.mode,ie),q.return=K,q;case M:return q=_o(q),pe(K,q,ie)}if(_e(q)||X(q))return q=po(q,K.mode,ie,null),q.return=K,q;if(typeof q.then=="function")return pe(K,Af(q),ie);if(q.$$typeof===A)return pe(K,xf(K,q),ie);Rf(K,q)}return null}function ae(K,q,ie,he){var Pe=q!==null?q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Pe!==null?null:j(K,q,""+ie,he);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case m:return ie.key===Pe?$(K,q,ie,he):null;case b:return ie.key===Pe?re(K,q,ie,he):null;case M:return ie=_o(ie),ae(K,q,ie,he)}if(_e(ie)||X(ie))return Pe!==null?null:fe(K,q,ie,he,null);if(typeof ie.then=="function")return ae(K,q,Af(ie),he);if(ie.$$typeof===A)return ae(K,q,xf(K,ie),he);Rf(K,ie)}return null}function le(K,q,ie,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return K=K.get(ie)||null,j(q,K,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case m:return K=K.get(he.key===null?ie:he.key)||null,$(q,K,he,Pe);case b:return K=K.get(he.key===null?ie:he.key)||null,re(q,K,he,Pe);case M:return he=_o(he),le(K,q,ie,he,Pe)}if(_e(he)||X(he))return K=K.get(ie)||null,fe(q,K,he,Pe,null);if(typeof he.then=="function")return le(K,q,ie,Af(he),Pe);if(he.$$typeof===A)return le(K,q,ie,xf(q,he),Pe);Rf(q,he)}return null}function Re(K,q,ie,he){for(var Pe=null,At=null,Oe=q,rt=q=0,pt=null;Oe!==null&&rt<ie.length;rt++){Oe.index>rt?(pt=Oe,Oe=null):pt=Oe.sibling;var Rt=ae(K,Oe,ie[rt],he);if(Rt===null){Oe===null&&(Oe=pt);break}a&&Oe&&Rt.alternate===null&&l(K,Oe),q=w(Rt,q,rt),At===null?Pe=Rt:At.sibling=Rt,At=Rt,Oe=pt}if(rt===ie.length)return f(K,Oe),vt&&ws(K,rt),Pe;if(Oe===null){for(;rt<ie.length;rt++)Oe=pe(K,ie[rt],he),Oe!==null&&(q=w(Oe,q,rt),At===null?Pe=Oe:At.sibling=Oe,At=Oe);return vt&&ws(K,rt),Pe}for(Oe=g(Oe);rt<ie.length;rt++)pt=le(Oe,K,rt,ie[rt],he),pt!==null&&(a&&pt.alternate!==null&&Oe.delete(pt.key===null?rt:pt.key),q=w(pt,q,rt),At===null?Pe=pt:At.sibling=pt,At=pt);return a&&Oe.forEach(function(Ra){return l(K,Ra)}),vt&&ws(K,rt),Pe}function He(K,q,ie,he){if(ie==null)throw Error(i(151));for(var Pe=null,At=null,Oe=q,rt=q=0,pt=null,Rt=ie.next();Oe!==null&&!Rt.done;rt++,Rt=ie.next()){Oe.index>rt?(pt=Oe,Oe=null):pt=Oe.sibling;var Ra=ae(K,Oe,Rt.value,he);if(Ra===null){Oe===null&&(Oe=pt);break}a&&Oe&&Ra.alternate===null&&l(K,Oe),q=w(Ra,q,rt),At===null?Pe=Ra:At.sibling=Ra,At=Ra,Oe=pt}if(Rt.done)return f(K,Oe),vt&&ws(K,rt),Pe;if(Oe===null){for(;!Rt.done;rt++,Rt=ie.next())Rt=pe(K,Rt.value,he),Rt!==null&&(q=w(Rt,q,rt),At===null?Pe=Rt:At.sibling=Rt,At=Rt);return vt&&ws(K,rt),Pe}for(Oe=g(Oe);!Rt.done;rt++,Rt=ie.next())Rt=le(Oe,K,rt,Rt.value,he),Rt!==null&&(a&&Rt.alternate!==null&&Oe.delete(Rt.key===null?rt:Rt.key),q=w(Rt,q,rt),At===null?Pe=Rt:At.sibling=Rt,At=Rt);return a&&Oe.forEach(function(H2){return l(K,H2)}),vt&&ws(K,rt),Pe}function Vt(K,q,ie,he){if(typeof ie=="object"&&ie!==null&&ie.type===_&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case m:e:{for(var Pe=ie.key;q!==null;){if(q.key===Pe){if(Pe=ie.type,Pe===_){if(q.tag===7){f(K,q.sibling),he=v(q,ie.props.children),he.return=K,K=he;break e}}else if(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&_o(Pe)===q.type){f(K,q.sibling),he=v(q,ie.props),uu(he,ie),he.return=K,K=he;break e}f(K,q);break}else l(K,q);q=q.sibling}ie.type===_?(he=po(ie.props.children,K.mode,he,ie.key),he.return=K,K=he):(he=_f(ie.type,ie.key,ie.props,null,K.mode,he),uu(he,ie),he.return=K,K=he)}return R(K);case b:e:{for(Pe=ie.key;q!==null;){if(q.key===Pe)if(q.tag===4&&q.stateNode.containerInfo===ie.containerInfo&&q.stateNode.implementation===ie.implementation){f(K,q.sibling),he=v(q,ie.children||[]),he.return=K,K=he;break e}else{f(K,q);break}else l(K,q);q=q.sibling}he=bm(ie,K.mode,he),he.return=K,K=he}return R(K);case M:return ie=_o(ie),Vt(K,q,ie,he)}if(_e(ie))return Re(K,q,ie,he);if(X(ie)){if(Pe=X(ie),typeof Pe!="function")throw Error(i(150));return ie=Pe.call(ie),He(K,q,ie,he)}if(typeof ie.then=="function")return Vt(K,q,Af(ie),he);if(ie.$$typeof===A)return Vt(K,q,xf(K,ie),he);Rf(K,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,q!==null&&q.tag===6?(f(K,q.sibling),he=v(q,ie),he.return=K,K=he):(f(K,q),he=vm(ie,K.mode,he),he.return=K,K=he),R(K)):f(K,q)}return function(K,q,ie,he){try{cu=0;var Pe=Vt(K,q,ie,he);return jl=null,Pe}catch(Oe){if(Oe===Il||Oe===Cf)throw Oe;var At=$i(29,Oe,null,K.mode);return At.lanes=he,At.return=K,At}finally{}}}var So=ES(!0),CS=ES(!1),da=!1;function km(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function fa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ha(a,l,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(kt&2)!==0){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,l=bf(a),lS(a,null,f),l}return vf(a,g,l,f),bf(a)}function du(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,ut(a,f)}}function Nm(a,l){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var v=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var R={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?v=w=R:w=w.next=R,f=f.next}while(f!==null);w===null?v=w=l:w=w.next=l}else v=w=l;f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}var Im=!1;function fu(){if(Im){var a=Nl;if(a!==null)throw a}}function hu(a,l,f,g){Im=!1;var v=a.updateQueue;da=!1;var w=v.firstBaseUpdate,R=v.lastBaseUpdate,j=v.shared.pending;if(j!==null){v.shared.pending=null;var $=j,re=$.next;$.next=null,R===null?w=re:R.next=re,R=$;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,j=fe.lastBaseUpdate,j!==R&&(j===null?fe.firstBaseUpdate=re:j.next=re,fe.lastBaseUpdate=$))}if(w!==null){var pe=v.baseState;R=0,fe=re=$=null,j=w;do{var ae=j.lane&-536870913,le=ae!==j.lane;if(le?(gt&ae)===ae:(g&ae)===ae){ae!==0&&ae===Ml&&(Im=!0),fe!==null&&(fe=fe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Re=a,He=j;ae=l;var Vt=f;switch(He.tag){case 1:if(Re=He.payload,typeof Re=="function"){pe=Re.call(Vt,pe,ae);break e}pe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=He.payload,ae=typeof Re=="function"?Re.call(Vt,pe,ae):Re,ae==null)break e;pe=p({},pe,ae);break e;case 2:da=!0}}ae=j.callback,ae!==null&&(a.flags|=64,le&&(a.flags|=8192),le=v.callbacks,le===null?v.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:j.tag,payload:j.payload,callback:j.callback,next:null},fe===null?(re=fe=le,$=pe):fe=fe.next=le,R|=ae;if(j=j.next,j===null){if(j=v.shared.pending,j===null)break;le=j,j=le.next,le.next=null,v.lastBaseUpdate=le,v.shared.pending=null}}while(!0);fe===null&&($=pe),v.baseState=$,v.firstBaseUpdate=re,v.lastBaseUpdate=fe,w===null&&(v.shared.lanes=0),va|=R,a.lanes=R,a.memoizedState=pe}}function TS(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function AS(a,l){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)TS(f[a],l)}var Pl=E(null),Df=E(0);function RS(a,l){a=Ms,L(Df,a),L(Pl,l),Ms=a|l.baseLanes}function jm(){L(Df,Ms),L(Pl,Pl.current)}function Pm(){Ms=Df.current,I(Pl),I(Df)}var Vi=E(null),fr=null;function ga(a){var l=a.alternate;L(bn,bn.current&1),L(Vi,a),fr===null&&(l===null||Pl.current!==null||l.memoizedState!==null)&&(fr=a)}function Lm(a){L(bn,bn.current),L(Vi,a),fr===null&&(fr=a)}function DS(a){a.tag===22?(L(bn,bn.current),L(Vi,a),fr===null&&(fr=a)):pa()}function pa(){L(bn,bn.current),L(Vi,Vi.current)}function qi(a){I(Vi),fr===a&&(fr=null),I(bn)}var bn=E(0);function Of(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||$y(f)||Vy(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Es=0,nt=null,Bt=null,Cn=null,kf=!1,Ll=!1,xo=!1,Mf=0,gu=0,Ul=null,kj=0;function pn(){throw Error(i(321))}function Um(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!Bi(a[f],l[f]))return!1;return!0}function zm(a,l,f,g,v,w){return Es=w,nt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=a===null||a.memoizedState===null?fx:ey,xo=!1,w=f(g,v),xo=!1,Ll&&(w=kS(l,f,g,v)),OS(a),w}function OS(a){H.H=yu;var l=Bt!==null&&Bt.next!==null;if(Es=0,Cn=Bt=nt=null,kf=!1,gu=0,Ul=null,l)throw Error(i(300));a===null||Tn||(a=a.dependencies,a!==null&&Sf(a)&&(Tn=!0))}function kS(a,l,f,g){nt=a;var v=0;do{if(Ll&&(Ul=null),gu=0,Ll=!1,25<=v)throw Error(i(301));if(v+=1,Cn=Bt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}H.H=hx,w=l(f,g)}while(Ll);return w}function Mj(){var a=H.H,l=a.useState()[0];return l=typeof l.then=="function"?pu(l):l,a=a.useState()[0],(Bt!==null?Bt.memoizedState:null)!==a&&(nt.flags|=1024),l}function Fm(){var a=Mf!==0;return Mf=0,a}function Hm(a,l,f){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~f}function Bm(a){if(kf){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}kf=!1}Es=0,Cn=Bt=nt=null,Ll=!1,gu=Mf=0,Ul=null}function mi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?nt.memoizedState=Cn=a:Cn=Cn.next=a,Cn}function _n(){if(Bt===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=Bt.next;var l=Cn===null?nt.memoizedState:Cn.next;if(l!==null)Cn=l,Bt=a;else{if(a===null)throw nt.alternate===null?Error(i(467)):Error(i(310));Bt=a,a={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Cn===null?nt.memoizedState=Cn=a:Cn=Cn.next=a}return Cn}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(a){var l=gu;return gu+=1,Ul===null&&(Ul=[]),a=wS(Ul,a,l),l=nt,(Cn===null?l.memoizedState:Cn.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?fx:ey),a}function If(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return pu(a);if(a.$$typeof===A)return ni(a)}throw Error(i(438,String(a)))}function $m(a){var l=null,f=nt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var g=nt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Nf(),nt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(a),g=0;g<a;g++)f[g]=V;return l.index++,f}function Cs(a,l){return typeof l=="function"?l(a):l}function jf(a){var l=_n();return Vm(l,Bt,a)}function Vm(a,l,f){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=f;var v=a.baseQueue,w=g.pending;if(w!==null){if(v!==null){var R=v.next;v.next=w.next,w.next=R}l.baseQueue=v=w,g.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{l=v.next;var j=R=null,$=null,re=l,fe=!1;do{var pe=re.lane&-536870913;if(pe!==re.lane?(gt&pe)===pe:(Es&pe)===pe){var ae=re.revertLane;if(ae===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),pe===Ml&&(fe=!0);else if((Es&ae)===ae){re=re.next,ae===Ml&&(fe=!0);continue}else pe={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(j=$=pe,R=w):$=$.next=pe,nt.lanes|=ae,va|=ae;pe=re.action,xo&&f(w,pe),w=re.hasEagerState?re.eagerState:f(w,pe)}else ae={lane:pe,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(j=$=ae,R=w):$=$.next=ae,nt.lanes|=pe,va|=pe;re=re.next}while(re!==null&&re!==l);if($===null?R=w:$.next=j,!Bi(w,a.memoizedState)&&(Tn=!0,fe&&(f=Nl,f!==null)))throw f;a.memoizedState=w,a.baseState=R,a.baseQueue=$,g.lastRenderedState=w}return v===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function qm(a){var l=_n(),f=l.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=a;var g=f.dispatch,v=f.pending,w=l.memoizedState;if(v!==null){f.pending=null;var R=v=v.next;do w=a(w,R.action),R=R.next;while(R!==v);Bi(w,l.memoizedState)||(Tn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),f.lastRenderedState=w}return[w,g]}function MS(a,l,f){var g=nt,v=_n(),w=vt;if(w){if(f===void 0)throw Error(i(407));f=f()}else f=l();var R=!Bi((Bt||v).memoizedState,f);if(R&&(v.memoizedState=f,Tn=!0),v=v.queue,Ym(jS.bind(null,g,v,a),[a]),v.getSnapshot!==l||R||Cn!==null&&Cn.memoizedState.tag&1){if(g.flags|=2048,zl(9,{destroy:void 0},IS.bind(null,g,v,f,l),null),Gt===null)throw Error(i(349));w||(Es&127)!==0||NS(g,l,f)}return f}function NS(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=nt.updateQueue,l===null?(l=Nf(),nt.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function IS(a,l,f,g){l.value=f,l.getSnapshot=g,PS(l)&&LS(a)}function jS(a,l,f){return f(function(){PS(l)&&LS(a)})}function PS(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!Bi(a,f)}catch{return!0}}function LS(a){var l=go(a,2);l!==null&&Di(l,a,2)}function Gm(a){var l=mi();if(typeof a=="function"){var f=a;if(a=f(),xo){ot(!0);try{f()}finally{ot(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:a},l}function US(a,l,f,g){return a.baseState=f,Vm(a,Bt,typeof g=="function"?g:Cs)}function Nj(a,l,f,g,v){if(Uf(a))throw Error(i(485));if(a=l.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){w.listeners.push(R)}};H.T!==null?f(!0):w.isTransition=!1,g(w),f=l.pending,f===null?(w.next=l.pending=w,zS(l,w)):(w.next=f.next,l.pending=f.next=w)}}function zS(a,l){var f=l.action,g=l.payload,v=a.state;if(l.isTransition){var w=H.T,R={};H.T=R;try{var j=f(v,g),$=H.S;$!==null&&$(R,j),FS(a,l,j)}catch(re){Wm(a,l,re)}finally{w!==null&&R.types!==null&&(w.types=R.types),H.T=w}}else try{w=f(v,g),FS(a,l,w)}catch(re){Wm(a,l,re)}}function FS(a,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){HS(a,l,g)},function(g){return Wm(a,l,g)}):HS(a,l,f)}function HS(a,l,f){l.status="fulfilled",l.value=f,BS(l),a.state=f,l=a.pending,l!==null&&(f=l.next,f===l?a.pending=null:(f=f.next,l.next=f,zS(a,f)))}function Wm(a,l,f){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=f,BS(l),l=l.next;while(l!==g)}a.action=null}function BS(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function $S(a,l){return l}function VS(a,l){if(vt){var f=Gt.formState;if(f!==null){e:{var g=nt;if(vt){if(Xt){t:{for(var v=Xt,w=dr;v.nodeType!==8;){if(!w){v=null;break t}if(v=hr(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Xt=hr(v.nextSibling),g=v.data==="F!";break e}}ca(g)}g=!1}g&&(l=f[0])}}return f=mi(),f.memoizedState=f.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$S,lastRenderedState:l},f.queue=g,f=cx.bind(null,nt,g),g.dispatch=f,g=Gm(!1),w=Jm.bind(null,nt,!1,g.queue),g=mi(),v={state:l,dispatch:null,action:a,pending:null},g.queue=v,f=Nj.bind(null,nt,v,w,f),v.dispatch=f,g.memoizedState=a,[l,f,!1]}function qS(a){var l=_n();return GS(l,Bt,a)}function GS(a,l,f){if(l=Vm(a,l,$S)[0],a=jf(Cs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=pu(l)}catch(R){throw R===Il?Cf:R}else g=l;l=_n();var v=l.queue,w=v.dispatch;return f!==l.memoizedState&&(nt.flags|=2048,zl(9,{destroy:void 0},Ij.bind(null,v,f),null)),[g,w,a]}function Ij(a,l){a.action=l}function WS(a){var l=_n(),f=Bt;if(f!==null)return GS(l,f,a);_n(),l=l.memoizedState,f=_n();var g=f.queue.dispatch;return f.memoizedState=a,[l,g,!1]}function zl(a,l,f,g){return a={tag:a,create:f,deps:g,inst:l,next:null},l=nt.updateQueue,l===null&&(l=Nf(),nt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,l.lastEffect=a),a}function YS(){return _n().memoizedState}function Pf(a,l,f,g){var v=mi();nt.flags|=a,v.memoizedState=zl(1|l,{destroy:void 0},f,g===void 0?null:g)}function Lf(a,l,f,g){var v=_n();g=g===void 0?null:g;var w=v.memoizedState.inst;Bt!==null&&g!==null&&Um(g,Bt.memoizedState.deps)?v.memoizedState=zl(l,w,f,g):(nt.flags|=a,v.memoizedState=zl(1|l,w,f,g))}function QS(a,l){Pf(8390656,8,a,l)}function Ym(a,l){Lf(2048,8,a,l)}function jj(a){nt.flags|=4;var l=nt.updateQueue;if(l===null)l=Nf(),nt.updateQueue=l,l.events=[a];else{var f=l.events;f===null?l.events=[a]:f.push(a)}}function KS(a){var l=_n().memoizedState;return jj({ref:l,nextImpl:a}),function(){if((kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function XS(a,l){return Lf(4,2,a,l)}function ZS(a,l){return Lf(4,4,a,l)}function JS(a,l){if(typeof l=="function"){a=a();var f=l(a);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function ex(a,l,f){f=f!=null?f.concat([a]):null,Lf(4,4,JS.bind(null,l,a),f)}function Qm(){}function tx(a,l){var f=_n();l=l===void 0?null:l;var g=f.memoizedState;return l!==null&&Um(l,g[1])?g[0]:(f.memoizedState=[a,l],a)}function nx(a,l){var f=_n();l=l===void 0?null:l;var g=f.memoizedState;if(l!==null&&Um(l,g[1]))return g[0];if(g=a(),xo){ot(!0);try{a()}finally{ot(!1)}}return f.memoizedState=[g,l],g}function Km(a,l,f){return f===void 0||(Es&1073741824)!==0&&(gt&261930)===0?a.memoizedState=l:(a.memoizedState=f,a=iE(),nt.lanes|=a,va|=a,f)}function ix(a,l,f,g){return Bi(f,l)?f:Pl.current!==null?(a=Km(a,f,g),Bi(a,l)||(Tn=!0),a):(Es&42)===0||(Es&1073741824)!==0&&(gt&261930)===0?(Tn=!0,a.memoizedState=f):(a=iE(),nt.lanes|=a,va|=a,l)}function rx(a,l,f,g,v){var w=Z.p;Z.p=w!==0&&8>w?w:8;var R=H.T,j={};H.T=j,Jm(a,!1,l,f);try{var $=v(),re=H.S;if(re!==null&&re(j,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var fe=Oj($,g);mu(a,l,fe,Yi(a))}else mu(a,l,g,Yi(a))}catch(pe){mu(a,l,{then:function(){},status:"rejected",reason:pe},Yi())}finally{Z.p=w,R!==null&&j.types!==null&&(R.types=j.types),H.T=R}}function Pj(){}function Xm(a,l,f,g){if(a.tag!==5)throw Error(i(476));var v=sx(a).queue;rx(a,v,l,be,f===null?Pj:function(){return ax(a),f(g)})}function sx(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:be},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:f},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function ax(a){var l=sx(a);l.next===null&&(l=a.alternate.memoizedState),mu(a,l.next.queue,{},Yi())}function Zm(){return ni(Nu)}function ox(){return _n().memoizedState}function lx(){return _n().memoizedState}function Lj(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var f=Yi();a=fa(f);var g=ha(l,a,f);g!==null&&(Di(g,l,f),du(g,l,f)),l={cache:Am()},a.payload=l;return}l=l.return}}function Uj(a,l,f){var g=Yi();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Uf(a)?ux(l,f):(f=mm(a,l,f,g),f!==null&&(Di(f,a,g),dx(f,l,g)))}function cx(a,l,f){var g=Yi();mu(a,l,f,g)}function mu(a,l,f,g){var v={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Uf(a))ux(l,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var R=l.lastRenderedState,j=w(R,f);if(v.hasEagerState=!0,v.eagerState=j,Bi(j,R))return vf(a,l,v,0),Gt===null&&yf(),!1}catch{}finally{}if(f=mm(a,l,v,g),f!==null)return Di(f,a,g),dx(f,l,g),!0}return!1}function Jm(a,l,f,g){if(g={lane:2,revertLane:ky(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Uf(a)){if(l)throw Error(i(479))}else l=mm(a,f,g,2),l!==null&&Di(l,a,2)}function Uf(a){var l=a.alternate;return a===nt||l!==null&&l===nt}function ux(a,l){Ll=kf=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function dx(a,l,f){if((f&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,ut(a,f)}}var yu={readContext:ni,use:If,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn};yu.useEffectEvent=pn;var fx={readContext:ni,use:If,useCallback:function(a,l){return mi().memoizedState=[a,l===void 0?null:l],a},useContext:ni,useEffect:QS,useImperativeHandle:function(a,l,f){f=f!=null?f.concat([a]):null,Pf(4194308,4,JS.bind(null,l,a),f)},useLayoutEffect:function(a,l){return Pf(4194308,4,a,l)},useInsertionEffect:function(a,l){Pf(4,2,a,l)},useMemo:function(a,l){var f=mi();l=l===void 0?null:l;var g=a();if(xo){ot(!0);try{a()}finally{ot(!1)}}return f.memoizedState=[g,l],g},useReducer:function(a,l,f){var g=mi();if(f!==void 0){var v=f(l);if(xo){ot(!0);try{f(l)}finally{ot(!1)}}}else v=l;return g.memoizedState=g.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},g.queue=a,a=a.dispatch=Uj.bind(null,nt,a),[g.memoizedState,a]},useRef:function(a){var l=mi();return a={current:a},l.memoizedState=a},useState:function(a){a=Gm(a);var l=a.queue,f=cx.bind(null,nt,l);return l.dispatch=f,[a.memoizedState,f]},useDebugValue:Qm,useDeferredValue:function(a,l){var f=mi();return Km(f,a,l)},useTransition:function(){var a=Gm(!1);return a=rx.bind(null,nt,a.queue,!0,!1),mi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,f){var g=nt,v=mi();if(vt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=l(),Gt===null)throw Error(i(349));(gt&127)!==0||NS(g,l,f)}v.memoizedState=f;var w={value:f,getSnapshot:l};return v.queue=w,QS(jS.bind(null,g,w,a),[a]),g.flags|=2048,zl(9,{destroy:void 0},IS.bind(null,g,w,f,l),null),f},useId:function(){var a=mi(),l=Gt.identifierPrefix;if(vt){var f=Zr,g=Xr;f=(g&~(1<<32-Le(g)-1)).toString(32)+f,l="_"+l+"R_"+f,f=Mf++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=kj++,l="_"+l+"r_"+f.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Zm,useFormState:VS,useActionState:VS,useOptimistic:function(a){var l=mi();l.memoizedState=l.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Jm.bind(null,nt,!0,f),f.dispatch=l,[a,l]},useMemoCache:$m,useCacheRefresh:function(){return mi().memoizedState=Lj.bind(null,nt)},useEffectEvent:function(a){var l=mi(),f={impl:a};return l.memoizedState=f,function(){if((kt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},ey={readContext:ni,use:If,useCallback:tx,useContext:ni,useEffect:Ym,useImperativeHandle:ex,useInsertionEffect:XS,useLayoutEffect:ZS,useMemo:nx,useReducer:jf,useRef:YS,useState:function(){return jf(Cs)},useDebugValue:Qm,useDeferredValue:function(a,l){var f=_n();return ix(f,Bt.memoizedState,a,l)},useTransition:function(){var a=jf(Cs)[0],l=_n().memoizedState;return[typeof a=="boolean"?a:pu(a),l]},useSyncExternalStore:MS,useId:ox,useHostTransitionStatus:Zm,useFormState:qS,useActionState:qS,useOptimistic:function(a,l){var f=_n();return US(f,Bt,a,l)},useMemoCache:$m,useCacheRefresh:lx};ey.useEffectEvent=KS;var hx={readContext:ni,use:If,useCallback:tx,useContext:ni,useEffect:Ym,useImperativeHandle:ex,useInsertionEffect:XS,useLayoutEffect:ZS,useMemo:nx,useReducer:qm,useRef:YS,useState:function(){return qm(Cs)},useDebugValue:Qm,useDeferredValue:function(a,l){var f=_n();return Bt===null?Km(f,a,l):ix(f,Bt.memoizedState,a,l)},useTransition:function(){var a=qm(Cs)[0],l=_n().memoizedState;return[typeof a=="boolean"?a:pu(a),l]},useSyncExternalStore:MS,useId:ox,useHostTransitionStatus:Zm,useFormState:WS,useActionState:WS,useOptimistic:function(a,l){var f=_n();return Bt!==null?US(f,Bt,a,l):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:$m,useCacheRefresh:lx};hx.useEffectEvent=KS;function ty(a,l,f,g){l=a.memoizedState,f=f(g,l),f=f==null?l:p({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var ny={enqueueSetState:function(a,l,f){a=a._reactInternals;var g=Yi(),v=fa(g);v.payload=l,f!=null&&(v.callback=f),l=ha(a,v,g),l!==null&&(Di(l,a,g),du(l,a,g))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var g=Yi(),v=fa(g);v.tag=1,v.payload=l,f!=null&&(v.callback=f),l=ha(a,v,g),l!==null&&(Di(l,a,g),du(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=Yi(),g=fa(f);g.tag=2,l!=null&&(g.callback=l),l=ha(a,g,f),l!==null&&(Di(l,a,f),du(l,a,f))}};function gx(a,l,f,g,v,w,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,w,R):l.prototype&&l.prototype.isPureReactComponent?!iu(f,g)||!iu(v,w):!0}function px(a,l,f,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==a&&ny.enqueueReplaceState(l,l.state,null)}function Eo(a,l){var f=l;if("ref"in l){f={};for(var g in l)g!=="ref"&&(f[g]=l[g])}if(a=a.defaultProps){f===l&&(f=p({},f));for(var v in a)f[v]===void 0&&(f[v]=a[v])}return f}function mx(a){mf(a)}function yx(a){console.error(a)}function vx(a){mf(a)}function zf(a,l){try{var f=a.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function bx(a,l,f){try{var g=a.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function iy(a,l,f){return f=fa(f),f.tag=3,f.payload={element:null},f.callback=function(){zf(a,l)},f}function _x(a){return a=fa(a),a.tag=3,a}function wx(a,l,f,g){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var w=g.value;a.payload=function(){return v(w)},a.callback=function(){bx(l,f,g)}}var R=f.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){bx(l,f,g),typeof v!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var j=g.stack;this.componentDidCatch(g.value,{componentStack:j!==null?j:""})})}function zj(a,l,f,g,v){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=f.alternate,l!==null&&kl(l,f,v,!0),f=Vi.current,f!==null){switch(f.tag){case 31:case 13:return fr===null?Xf():f.alternate===null&&mn===0&&(mn=3),f.flags&=-257,f.flags|=65536,f.lanes=v,g===Tf?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([g]):l.add(g),Ry(a,g,v)),!1;case 22:return f.flags|=65536,g===Tf?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([g]):f.add(g)),Ry(a,g,v)),!1}throw Error(i(435,f.tag))}return Ry(a,g,v),Xf(),!1}if(vt)return l=Vi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,g!==Sm&&(a=Error(i(422),{cause:g}),au(lr(a,f)))):(g!==Sm&&(l=Error(i(423),{cause:g}),au(lr(l,f))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,g=lr(g,f),v=iy(a.stateNode,g,v),Nm(a,v),mn!==4&&(mn=2)),!1;var w=Error(i(520),{cause:g});if(w=lr(w,f),Cu===null?Cu=[w]:Cu.push(w),mn!==4&&(mn=2),l===null)return!0;g=lr(g,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,a=v&-v,f.lanes|=a,a=iy(f.stateNode,g,a),Nm(f,a),!1;case 1:if(l=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ba===null||!ba.has(w))))return f.flags|=65536,v&=-v,f.lanes|=v,v=_x(v),wx(v,a,f,g),Nm(f,v),!1}f=f.return}while(f!==null);return!1}var ry=Error(i(461)),Tn=!1;function ii(a,l,f,g){l.child=a===null?CS(l,null,f,g):So(l,a.child,f,g)}function Sx(a,l,f,g,v){f=f.render;var w=l.ref;if("ref"in g){var R={};for(var j in g)j!=="ref"&&(R[j]=g[j])}else R=g;return vo(l),g=zm(a,l,f,R,w,v),j=Fm(),a!==null&&!Tn?(Hm(a,l,v),Ts(a,l,v)):(vt&&j&&_m(l),l.flags|=1,ii(a,l,g,v),l.child)}function xx(a,l,f,g,v){if(a===null){var w=f.type;return typeof w=="function"&&!ym(w)&&w.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=w,Ex(a,l,w,g,v)):(a=_f(f.type,null,g,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!fy(a,v)){var R=w.memoizedProps;if(f=f.compare,f=f!==null?f:iu,f(R,g)&&a.ref===l.ref)return Ts(a,l,v)}return l.flags|=1,a=_s(w,g),a.ref=l.ref,a.return=l,l.child=a}function Ex(a,l,f,g,v){if(a!==null){var w=a.memoizedProps;if(iu(w,g)&&a.ref===l.ref)if(Tn=!1,l.pendingProps=g=w,fy(a,v))(a.flags&131072)!==0&&(Tn=!0);else return l.lanes=a.lanes,Ts(a,l,v)}return sy(a,l,f,g,v)}function Cx(a,l,f,g){var v=g.children,w=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|f:f,a!==null){for(g=l.child=a.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~w}else g=0,l.child=null;return Tx(a,l,w,f,g)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ef(l,w!==null?w.cachePool:null),w!==null?RS(l,w):jm(),DS(l);else return g=l.lanes=536870912,Tx(a,l,w!==null?w.baseLanes|f:f,f,g)}else w!==null?(Ef(l,w.cachePool),RS(l,w),pa(),l.memoizedState=null):(a!==null&&Ef(l,null),jm(),pa());return ii(a,l,v,f),l.child}function vu(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Tx(a,l,f,g,v){var w=Dm();return w=w===null?null:{parent:En._currentValue,pool:w},l.memoizedState={baseLanes:f,cachePool:w},a!==null&&Ef(l,null),jm(),DS(l),a!==null&&kl(a,l,g,!0),l.childLanes=v,null}function Ff(a,l){return l=Bf({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function Ax(a,l,f){return So(l,a.child,null,f),a=Ff(l,l.pendingProps),a.flags|=2,qi(l),l.memoizedState=null,a}function Fj(a,l,f){var g=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(vt){if(g.mode==="hidden")return a=Ff(l,g),l.lanes=536870912,vu(null,a);if(Lm(l),(a=Xt)?(a=zE(a,dr),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:oa!==null?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},f=uS(a),f.return=l,l.child=f,ti=l,Xt=null)):a=null,a===null)throw ca(l);return l.lanes=536870912,null}return Ff(l,g)}var w=a.memoizedState;if(w!==null){var R=w.dehydrated;if(Lm(l),v)if(l.flags&256)l.flags&=-257,l=Ax(a,l,f);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(i(558));else if(Tn||kl(a,l,f,!1),v=(f&a.childLanes)!==0,Tn||v){if(g=Gt,g!==null&&(R=Tt(g,f),R!==0&&R!==w.retryLane))throw w.retryLane=R,go(a,R),Di(g,a,R),ry;Xf(),l=Ax(a,l,f)}else a=w.treeContext,Xt=hr(R.nextSibling),ti=l,vt=!0,la=null,dr=!1,a!==null&&hS(l,a),l=Ff(l,g),l.flags|=4096;return l}return a=_s(a.child,{mode:g.mode,children:g.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Hf(a,l){var f=l.ref;if(f===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(a===null||a.ref!==f)&&(l.flags|=4194816)}}function sy(a,l,f,g,v){return vo(l),f=zm(a,l,f,g,void 0,v),g=Fm(),a!==null&&!Tn?(Hm(a,l,v),Ts(a,l,v)):(vt&&g&&_m(l),l.flags|=1,ii(a,l,f,v),l.child)}function Rx(a,l,f,g,v,w){return vo(l),l.updateQueue=null,f=kS(l,g,f,v),OS(a),g=Fm(),a!==null&&!Tn?(Hm(a,l,w),Ts(a,l,w)):(vt&&g&&_m(l),l.flags|=1,ii(a,l,f,w),l.child)}function Dx(a,l,f,g,v){if(vo(l),l.stateNode===null){var w=Al,R=f.contextType;typeof R=="object"&&R!==null&&(w=ni(R)),w=new f(g,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ny,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=g,w.state=l.memoizedState,w.refs={},km(l),R=f.contextType,w.context=typeof R=="object"&&R!==null?ni(R):Al,w.state=l.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(ty(l,f,R,g),w.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(R=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),R!==w.state&&ny.enqueueReplaceState(w,w.state,null),hu(l,g,w,v),fu(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){w=l.stateNode;var j=l.memoizedProps,$=Eo(f,j);w.props=$;var re=w.context,fe=f.contextType;R=Al,typeof fe=="object"&&fe!==null&&(R=ni(fe));var pe=f.getDerivedStateFromProps;fe=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",j=l.pendingProps!==j,fe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j||re!==R)&&px(l,w,g,R),da=!1;var ae=l.memoizedState;w.state=ae,hu(l,g,w,v),fu(),re=l.memoizedState,j||ae!==re||da?(typeof pe=="function"&&(ty(l,f,pe,g),re=l.memoizedState),($=da||gx(l,f,$,g,ae,re,R))?(fe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=re),w.props=g,w.state=re,w.context=R,g=$):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{w=l.stateNode,Mm(a,l),R=l.memoizedProps,fe=Eo(f,R),w.props=fe,pe=l.pendingProps,ae=w.context,re=f.contextType,$=Al,typeof re=="object"&&re!==null&&($=ni(re)),j=f.getDerivedStateFromProps,(re=typeof j=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==pe||ae!==$)&&px(l,w,g,$),da=!1,ae=l.memoizedState,w.state=ae,hu(l,g,w,v),fu();var le=l.memoizedState;R!==pe||ae!==le||da||a!==null&&a.dependencies!==null&&Sf(a.dependencies)?(typeof j=="function"&&(ty(l,f,j,g),le=l.memoizedState),(fe=da||gx(l,f,fe,g,ae,le,$)||a!==null&&a.dependencies!==null&&Sf(a.dependencies))?(re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,le,$),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,le,$)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===a.memoizedProps&&ae===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&ae===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=le),w.props=g,w.state=le,w.context=$,g=fe):(typeof w.componentDidUpdate!="function"||R===a.memoizedProps&&ae===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&ae===a.memoizedState||(l.flags|=1024),g=!1)}return w=g,Hf(a,l),g=(l.flags&128)!==0,w||g?(w=l.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&g?(l.child=So(l,a.child,null,v),l.child=So(l,null,f,v)):ii(a,l,f,v),l.memoizedState=w.state,a=l.child):a=Ts(a,l,v),a}function Ox(a,l,f,g){return mo(),l.flags|=256,ii(a,l,f,g),l.child}var ay={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oy(a){return{baseLanes:a,cachePool:bS()}}function ly(a,l,f){return a=a!==null?a.childLanes&~f:0,l&&(a|=Wi),a}function kx(a,l,f){var g=l.pendingProps,v=!1,w=(l.flags&128)!==0,R;if((R=w)||(R=a!==null&&a.memoizedState===null?!1:(bn.current&2)!==0),R&&(v=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,a===null){if(vt){if(v?ga(l):pa(),(a=Xt)?(a=zE(a,dr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:oa!==null?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},f=uS(a),f.return=l,l.child=f,ti=l,Xt=null)):a=null,a===null)throw ca(l);return Vy(a)?l.lanes=32:l.lanes=536870912,null}var j=g.children;return g=g.fallback,v?(pa(),v=l.mode,j=Bf({mode:"hidden",children:j},v),g=po(g,v,f,null),j.return=l,g.return=l,j.sibling=g,l.child=j,g=l.child,g.memoizedState=oy(f),g.childLanes=ly(a,R,f),l.memoizedState=ay,vu(null,g)):(ga(l),cy(l,j))}var $=a.memoizedState;if($!==null&&(j=$.dehydrated,j!==null)){if(w)l.flags&256?(ga(l),l.flags&=-257,l=uy(a,l,f)):l.memoizedState!==null?(pa(),l.child=a.child,l.flags|=128,l=null):(pa(),j=g.fallback,v=l.mode,g=Bf({mode:"visible",children:g.children},v),j=po(j,v,f,null),j.flags|=2,g.return=l,j.return=l,g.sibling=j,l.child=g,So(l,a.child,null,f),g=l.child,g.memoizedState=oy(f),g.childLanes=ly(a,R,f),l.memoizedState=ay,l=vu(null,g));else if(ga(l),Vy(j)){if(R=j.nextSibling&&j.nextSibling.dataset,R)var re=R.dgst;R=re,g=Error(i(419)),g.stack="",g.digest=R,au({value:g,source:null,stack:null}),l=uy(a,l,f)}else if(Tn||kl(a,l,f,!1),R=(f&a.childLanes)!==0,Tn||R){if(R=Gt,R!==null&&(g=Tt(R,f),g!==0&&g!==$.retryLane))throw $.retryLane=g,go(a,g),Di(R,a,g),ry;$y(j)||Xf(),l=uy(a,l,f)}else $y(j)?(l.flags|=192,l.child=a.child,l=null):(a=$.treeContext,Xt=hr(j.nextSibling),ti=l,vt=!0,la=null,dr=!1,a!==null&&hS(l,a),l=cy(l,g.children),l.flags|=4096);return l}return v?(pa(),j=g.fallback,v=l.mode,$=a.child,re=$.sibling,g=_s($,{mode:"hidden",children:g.children}),g.subtreeFlags=$.subtreeFlags&65011712,re!==null?j=_s(re,j):(j=po(j,v,f,null),j.flags|=2),j.return=l,g.return=l,g.sibling=j,l.child=g,vu(null,g),g=l.child,j=a.child.memoizedState,j===null?j=oy(f):(v=j.cachePool,v!==null?($=En._currentValue,v=v.parent!==$?{parent:$,pool:$}:v):v=bS(),j={baseLanes:j.baseLanes|f,cachePool:v}),g.memoizedState=j,g.childLanes=ly(a,R,f),l.memoizedState=ay,vu(a.child,g)):(ga(l),f=a.child,a=f.sibling,f=_s(f,{mode:"visible",children:g.children}),f.return=l,f.sibling=null,a!==null&&(R=l.deletions,R===null?(l.deletions=[a],l.flags|=16):R.push(a)),l.child=f,l.memoizedState=null,f)}function cy(a,l){return l=Bf({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Bf(a,l){return a=$i(22,a,null,l),a.lanes=0,a}function uy(a,l,f){return So(l,a.child,null,f),a=cy(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Mx(a,l,f){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Cm(a.return,l,f)}function dy(a,l,f,g,v,w){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v,treeForkCount:w}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=f,R.tailMode=v,R.treeForkCount=w)}function Nx(a,l,f){var g=l.pendingProps,v=g.revealOrder,w=g.tail;g=g.children;var R=bn.current,j=(R&2)!==0;if(j?(R=R&1|2,l.flags|=128):R&=1,L(bn,R),ii(a,l,g,f),g=vt?su:0,!j&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Mx(a,f,l);else if(a.tag===19)Mx(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(f=l.child,v=null;f!==null;)a=f.alternate,a!==null&&Of(a)===null&&(v=f),f=f.sibling;f=v,f===null?(v=l.child,l.child=null):(v=f.sibling,f.sibling=null),dy(l,!1,v,f,w,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&Of(a)===null){l.child=v;break}a=v.sibling,v.sibling=f,f=v,v=a}dy(l,!0,f,null,w,g);break;case"together":dy(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function Ts(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),va|=l.lanes,(f&l.childLanes)===0)if(a!==null){if(kl(a,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,f=_s(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=_s(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function fy(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Sf(a)))}function Hj(a,l,f){switch(l.tag){case 3:ge(l,l.stateNode.containerInfo),ua(l,En,a.memoizedState.cache),mo();break;case 27:case 5:qe(l);break;case 4:ge(l,l.stateNode.containerInfo);break;case 10:ua(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Lm(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(ga(l),l.flags|=128,null):(f&l.child.childLanes)!==0?kx(a,l,f):(ga(l),a=Ts(a,l,f),a!==null?a.sibling:null);ga(l);break;case 19:var v=(a.flags&128)!==0;if(g=(f&l.childLanes)!==0,g||(kl(a,l,f,!1),g=(f&l.childLanes)!==0),v){if(g)return Nx(a,l,f);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),L(bn,bn.current),g)break;return null;case 22:return l.lanes=0,Cx(a,l,f,l.pendingProps);case 24:ua(l,En,a.memoizedState.cache)}return Ts(a,l,f)}function Ix(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps)Tn=!0;else{if(!fy(a,f)&&(l.flags&128)===0)return Tn=!1,Hj(a,l,f);Tn=(a.flags&131072)!==0}else Tn=!1,vt&&(l.flags&1048576)!==0&&fS(l,su,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(a=_o(l.elementType),l.type=a,typeof a=="function")ym(a)?(g=Eo(a,g),l.tag=1,l=Dx(null,l,a,g,f)):(l.tag=0,l=sy(null,l,a,g,f));else{if(a!=null){var v=a.$$typeof;if(v===k){l.tag=11,l=Sx(null,l,a,g,f);break e}else if(v===N){l.tag=14,l=xx(null,l,a,g,f);break e}}throw l=ye(a)||a,Error(i(306,l,""))}}return l;case 0:return sy(a,l,l.type,l.pendingProps,f);case 1:return g=l.type,v=Eo(g,l.pendingProps),Dx(a,l,g,v,f);case 3:e:{if(ge(l,l.stateNode.containerInfo),a===null)throw Error(i(387));g=l.pendingProps;var w=l.memoizedState;v=w.element,Mm(a,l),hu(l,g,null,f);var R=l.memoizedState;if(g=R.cache,ua(l,En,g),g!==w.cache&&Tm(l,[En],f,!0),fu(),g=R.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=Ox(a,l,g,f);break e}else if(g!==v){v=lr(Error(i(424)),l),au(v),l=Ox(a,l,g,f);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Xt=hr(a.firstChild),ti=l,vt=!0,la=null,dr=!0,f=CS(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(mo(),g===v){l=Ts(a,l,f);break e}ii(a,l,g,f)}l=l.child}return l;case 26:return Hf(a,l),a===null?(f=qE(l.type,null,l.pendingProps,null))?l.memoizedState=f:vt||(f=l.type,a=l.pendingProps,g=rh(ee.current).createElement(f),g[ei]=l,g[xi]=a,ri(g,f,a),Bn(g),l.stateNode=g):l.memoizedState=qE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return qe(l),a===null&&vt&&(g=l.stateNode=BE(l.type,l.pendingProps,ee.current),ti=l,dr=!0,v=Xt,xa(l.type)?(qy=v,Xt=hr(g.firstChild)):Xt=v),ii(a,l,l.pendingProps.children,f),Hf(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&vt&&((v=g=Xt)&&(g=y2(g,l.type,l.pendingProps,dr),g!==null?(l.stateNode=g,ti=l,Xt=hr(g.firstChild),dr=!1,v=!0):v=!1),v||ca(l)),qe(l),v=l.type,w=l.pendingProps,R=a!==null?a.memoizedProps:null,g=w.children,Fy(v,w)?g=null:R!==null&&Fy(v,R)&&(l.flags|=32),l.memoizedState!==null&&(v=zm(a,l,Mj,null,null,f),Nu._currentValue=v),Hf(a,l),ii(a,l,g,f),l.child;case 6:return a===null&&vt&&((a=f=Xt)&&(f=v2(f,l.pendingProps,dr),f!==null?(l.stateNode=f,ti=l,Xt=null,a=!0):a=!1),a||ca(l)),null;case 13:return kx(a,l,f);case 4:return ge(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=So(l,null,g,f):ii(a,l,g,f),l.child;case 11:return Sx(a,l,l.type,l.pendingProps,f);case 7:return ii(a,l,l.pendingProps,f),l.child;case 8:return ii(a,l,l.pendingProps.children,f),l.child;case 12:return ii(a,l,l.pendingProps.children,f),l.child;case 10:return g=l.pendingProps,ua(l,l.type,g.value),ii(a,l,g.children,f),l.child;case 9:return v=l.type._context,g=l.pendingProps.children,vo(l),v=ni(v),g=g(v),l.flags|=1,ii(a,l,g,f),l.child;case 14:return xx(a,l,l.type,l.pendingProps,f);case 15:return Ex(a,l,l.type,l.pendingProps,f);case 19:return Nx(a,l,f);case 31:return Fj(a,l,f);case 22:return Cx(a,l,f,l.pendingProps);case 24:return vo(l),g=ni(En),a===null?(v=Dm(),v===null&&(v=Gt,w=Am(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=f),v=w),l.memoizedState={parent:g,cache:v},km(l),ua(l,En,v)):((a.lanes&f)!==0&&(Mm(a,l),hu(l,null,null,f),fu()),v=a.memoizedState,w=l.memoizedState,v.parent!==g?(v={parent:g,cache:g},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),ua(l,En,g)):(g=w.cache,ua(l,En,g),g!==v.cache&&Tm(l,[En],f,!0))),ii(a,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function As(a){a.flags|=4}function hy(a,l,f,g,v){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(oE())a.flags|=8192;else throw wo=Tf,Om}else a.flags&=-16777217}function jx(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!KE(l))if(oE())a.flags|=8192;else throw wo=Tf,Om}function $f(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Ie():536870912,a.lanes|=l,$l|=l)}function bu(a,l){if(!vt)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Zt(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(l)for(var v=a.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=f,l}function Bj(a,l,f){var g=l.pendingProps;switch(wm(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(l),null;case 1:return Zt(l),null;case 3:return f=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),xs(En),Ee(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(Ol(l)?As(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,xm())),Zt(l),null;case 26:var v=l.type,w=l.memoizedState;return a===null?(As(l),w!==null?(Zt(l),jx(l,w)):(Zt(l),hy(l,v,null,g,f))):w?w!==a.memoizedState?(As(l),Zt(l),jx(l,w)):(Zt(l),l.flags&=-16777217):(a=a.memoizedProps,a!==g&&As(l),Zt(l),hy(l,v,a,g,f)),null;case 27:if(Nt(l),f=ee.current,v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&As(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return Zt(l),null}a=z.current,Ol(l)?gS(l):(a=BE(v,g,f),l.stateNode=a,As(l))}return Zt(l),null;case 5:if(Nt(l),v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&As(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return Zt(l),null}if(w=z.current,Ol(l))gS(l);else{var R=rh(ee.current);switch(w){case 1:w=R.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=R.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=R.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof g.is=="string"?R.createElement("select",{is:g.is}):R.createElement("select"),g.multiple?w.multiple=!0:g.size&&(w.size=g.size);break;default:w=typeof g.is=="string"?R.createElement(v,{is:g.is}):R.createElement(v)}}w[ei]=l,w[xi]=g;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)w.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=w;e:switch(ri(w,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&As(l)}}return Zt(l),hy(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,f),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&As(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(i(166));if(a=ee.current,Ol(l)){if(a=l.stateNode,f=l.memoizedProps,g=null,v=ti,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}a[ei]=l,a=!!(a.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||kE(a.nodeValue,f)),a||ca(l,!0)}else a=rh(a).createTextNode(g),a[ei]=l,l.stateNode=a}return Zt(l),null;case 31:if(f=l.memoizedState,a===null||a.memoizedState!==null){if(g=Ol(l),f!==null){if(a===null){if(!g)throw Error(i(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[ei]=l}else mo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zt(l),a=!1}else f=xm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return l.flags&256?(qi(l),l):(qi(l),null);if((l.flags&128)!==0)throw Error(i(558))}return Zt(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Ol(l),g!==null&&g.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[ei]=l}else mo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zt(l),v=!1}else v=xm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(qi(l),l):(qi(l),null)}return qi(l),(l.flags&128)!==0?(l.lanes=f,l):(f=g!==null,a=a!==null&&a.memoizedState!==null,f&&(g=l.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),w=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==v&&(g.flags|=2048)),f!==a&&f&&(l.child.flags|=8192),$f(l,l.updateQueue),Zt(l),null);case 4:return Ee(),a===null&&jy(l.stateNode.containerInfo),Zt(l),null;case 10:return xs(l.type),Zt(l),null;case 19:if(I(bn),g=l.memoizedState,g===null)return Zt(l),null;if(v=(l.flags&128)!==0,w=g.rendering,w===null)if(v)bu(g,!1);else{if(mn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=Of(a),w!==null){for(l.flags|=128,bu(g,!1),a=w.updateQueue,l.updateQueue=a,$f(l,a),l.subtreeFlags=0,a=f,f=l.child;f!==null;)cS(f,a),f=f.sibling;return L(bn,bn.current&1|2),vt&&ws(l,g.treeForkCount),l.child}a=a.sibling}g.tail!==null&&se()>Yf&&(l.flags|=128,v=!0,bu(g,!1),l.lanes=4194304)}else{if(!v)if(a=Of(w),a!==null){if(l.flags|=128,v=!0,a=a.updateQueue,l.updateQueue=a,$f(l,a),bu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!vt)return Zt(l),null}else 2*se()-g.renderingStartTime>Yf&&f!==536870912&&(l.flags|=128,v=!0,bu(g,!1),l.lanes=4194304);g.isBackwards?(w.sibling=l.child,l.child=w):(a=g.last,a!==null?a.sibling=w:l.child=w,g.last=w)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=se(),a.sibling=null,f=bn.current,L(bn,v?f&1|2:f&1),vt&&ws(l,g.treeForkCount),a):(Zt(l),null);case 22:case 23:return qi(l),Pm(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(f&536870912)!==0&&(l.flags&128)===0&&(Zt(l),l.subtreeFlags&6&&(l.flags|=8192)):Zt(l),f=l.updateQueue,f!==null&&$f(l,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048),a!==null&&I(bo),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),xs(En),Zt(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function $j(a,l){switch(wm(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return xs(En),Ee(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Nt(l),null;case 31:if(l.memoizedState!==null){if(qi(l),l.alternate===null)throw Error(i(340));mo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(qi(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));mo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return I(bn),null;case 4:return Ee(),null;case 10:return xs(l.type),null;case 22:case 23:return qi(l),Pm(),a!==null&&I(bo),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return xs(En),null;case 25:return null;default:return null}}function Px(a,l){switch(wm(l),l.tag){case 3:xs(En),Ee();break;case 26:case 27:case 5:Nt(l);break;case 4:Ee();break;case 31:l.memoizedState!==null&&qi(l);break;case 13:qi(l);break;case 19:I(bn);break;case 10:xs(l.type);break;case 22:case 23:qi(l),Pm(),a!==null&&I(bo);break;case 24:xs(En)}}function _u(a,l){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&a)===a){g=void 0;var w=f.create,R=f.inst;g=w(),R.destroy=g}f=f.next}while(f!==v)}}catch(j){Pt(l,l.return,j)}}function ma(a,l,f){try{var g=l.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var w=v.next;g=w;do{if((g.tag&a)===a){var R=g.inst,j=R.destroy;if(j!==void 0){R.destroy=void 0,v=l;var $=f,re=j;try{re()}catch(fe){Pt(v,$,fe)}}}g=g.next}while(g!==w)}}catch(fe){Pt(l,l.return,fe)}}function Lx(a){var l=a.updateQueue;if(l!==null){var f=a.stateNode;try{AS(l,f)}catch(g){Pt(a,a.return,g)}}}function Ux(a,l,f){f.props=Eo(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(g){Pt(a,l,g)}}function wu(a,l){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof f=="function"?a.refCleanup=f(g):f.current=g}}catch(v){Pt(a,l,v)}}function Jr(a,l){var f=a.ref,g=a.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(v){Pt(a,l,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){Pt(a,l,v)}else f.current=null}function zx(a){var l=a.type,f=a.memoizedProps,g=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(v){Pt(a,a.return,v)}}function gy(a,l,f){try{var g=a.stateNode;d2(g,a.type,f,l),g[xi]=l}catch(v){Pt(a,a.return,v)}}function Fx(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&xa(a.type)||a.tag===4}function py(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Fx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&xa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function my(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(a),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=vs));else if(g!==4&&(g===27&&xa(a.type)&&(f=a.stateNode,l=null),a=a.child,a!==null))for(my(a,l,f),a=a.sibling;a!==null;)my(a,l,f),a=a.sibling}function Vf(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(g!==4&&(g===27&&xa(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(Vf(a,l,f),a=a.sibling;a!==null;)Vf(a,l,f),a=a.sibling}function Hx(a){var l=a.stateNode,f=a.memoizedProps;try{for(var g=a.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);ri(l,g,f),l[ei]=a,l[xi]=f}catch(w){Pt(a,a.return,w)}}var Rs=!1,An=!1,yy=!1,Bx=typeof WeakSet=="function"?WeakSet:Set,$n=null;function Vj(a,l){if(a=a.containerInfo,Uy=dh,a=eS(a),um(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var v=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var R=0,j=-1,$=-1,re=0,fe=0,pe=a,ae=null;t:for(;;){for(var le;pe!==f||v!==0&&pe.nodeType!==3||(j=R+v),pe!==w||g!==0&&pe.nodeType!==3||($=R+g),pe.nodeType===3&&(R+=pe.nodeValue.length),(le=pe.firstChild)!==null;)ae=pe,pe=le;for(;;){if(pe===a)break t;if(ae===f&&++re===v&&(j=R),ae===w&&++fe===g&&($=R),(le=pe.nextSibling)!==null)break;pe=ae,ae=pe.parentNode}pe=le}f=j===-1||$===-1?null:{start:j,end:$}}else f=null}f=f||{start:0,end:0}}else f=null;for(zy={focusedElem:a,selectionRange:f},dh=!1,$n=l;$n!==null;)if(l=$n,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,$n=a;else for(;$n!==null;){switch(l=$n,w=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)v=a[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,f=l,v=w.memoizedProps,w=w.memoizedState,g=f.stateNode;try{var Re=Eo(f.type,v);a=g.getSnapshotBeforeUpdate(Re,w),g.__reactInternalSnapshotBeforeUpdate=a}catch(He){Pt(f,f.return,He)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,f=a.nodeType,f===9)By(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":By(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,$n=a;break}$n=l.return}}function $x(a,l,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Os(a,f),g&4&&_u(5,f);break;case 1:if(Os(a,f),g&4)if(a=f.stateNode,l===null)try{a.componentDidMount()}catch(R){Pt(f,f.return,R)}else{var v=Eo(f.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(v,l,a.__reactInternalSnapshotBeforeUpdate)}catch(R){Pt(f,f.return,R)}}g&64&&Lx(f),g&512&&wu(f,f.return);break;case 3:if(Os(a,f),g&64&&(a=f.updateQueue,a!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{AS(a,l)}catch(R){Pt(f,f.return,R)}}break;case 27:l===null&&g&4&&Hx(f);case 26:case 5:Os(a,f),l===null&&g&4&&zx(f),g&512&&wu(f,f.return);break;case 12:Os(a,f);break;case 31:Os(a,f),g&4&&Gx(a,f);break;case 13:Os(a,f),g&4&&Wx(a,f),g&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=Jj.bind(null,f),b2(a,f))));break;case 22:if(g=f.memoizedState!==null||Rs,!g){l=l!==null&&l.memoizedState!==null||An,v=Rs;var w=An;Rs=g,(An=l)&&!w?ks(a,f,(f.subtreeFlags&8772)!==0):Os(a,f),Rs=v,An=w}break;case 30:break;default:Os(a,f)}}function Vx(a){var l=a.alternate;l!==null&&(a.alternate=null,Vx(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Wp(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var an=null,Ci=!1;function Ds(a,l,f){for(f=f.child;f!==null;)qx(a,l,f),f=f.sibling}function qx(a,l,f){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(it,f)}catch{}switch(f.tag){case 26:An||Jr(f,l),Ds(a,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:An||Jr(f,l);var g=an,v=Ci;xa(f.type)&&(an=f.stateNode,Ci=!1),Ds(a,l,f),Ou(f.stateNode),an=g,Ci=v;break;case 5:An||Jr(f,l);case 6:if(g=an,v=Ci,an=null,Ds(a,l,f),an=g,Ci=v,an!==null)if(Ci)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(f.stateNode)}catch(w){Pt(f,l,w)}else try{an.removeChild(f.stateNode)}catch(w){Pt(f,l,w)}break;case 18:an!==null&&(Ci?(a=an,LE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),Xl(a)):LE(an,f.stateNode));break;case 4:g=an,v=Ci,an=f.stateNode.containerInfo,Ci=!0,Ds(a,l,f),an=g,Ci=v;break;case 0:case 11:case 14:case 15:ma(2,f,l),An||ma(4,f,l),Ds(a,l,f);break;case 1:An||(Jr(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"&&Ux(f,l,g)),Ds(a,l,f);break;case 21:Ds(a,l,f);break;case 22:An=(g=An)||f.memoizedState!==null,Ds(a,l,f),An=g;break;default:Ds(a,l,f)}}function Gx(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Xl(a)}catch(f){Pt(l,l.return,f)}}}function Wx(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Xl(a)}catch(f){Pt(l,l.return,f)}}function qj(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Bx),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Bx),l;default:throw Error(i(435,a.tag))}}function qf(a,l){var f=qj(a);l.forEach(function(g){if(!f.has(g)){f.add(g);var v=e2.bind(null,a,g);g.then(v,v)}})}function Ti(a,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g],w=a,R=l,j=R;e:for(;j!==null;){switch(j.tag){case 27:if(xa(j.type)){an=j.stateNode,Ci=!1;break e}break;case 5:an=j.stateNode,Ci=!1;break e;case 3:case 4:an=j.stateNode.containerInfo,Ci=!0;break e}j=j.return}if(an===null)throw Error(i(160));qx(w,R,v),an=null,Ci=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Yx(l,a),l=l.sibling}var kr=null;function Yx(a,l){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ti(l,a),Ai(a),g&4&&(ma(3,a,a.return),_u(3,a),ma(5,a,a.return));break;case 1:Ti(l,a),Ai(a),g&512&&(An||f===null||Jr(f,f.return)),g&64&&Rs&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var v=kr;if(Ti(l,a),Ai(a),g&512&&(An||f===null||Jr(f,f.return)),g&4){var w=f!==null?f.memoizedState:null;if(g=a.memoizedState,f===null)if(g===null)if(a.stateNode===null){e:{g=a.type,f=a.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Yc]||w[ei]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(g),v.head.insertBefore(w,v.querySelector("head > title"))),ri(w,g,f),w[ei]=a,Bn(w),g=w;break e;case"link":var R=YE("link","href",v).get(g+(f.href||""));if(R){for(var j=0;j<R.length;j++)if(w=R[j],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){R.splice(j,1);break t}}w=v.createElement(g),ri(w,g,f),v.head.appendChild(w);break;case"meta":if(R=YE("meta","content",v).get(g+(f.content||""))){for(j=0;j<R.length;j++)if(w=R[j],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){R.splice(j,1);break t}}w=v.createElement(g),ri(w,g,f),v.head.appendChild(w);break;default:throw Error(i(468,g))}w[ei]=a,Bn(w),g=w}a.stateNode=g}else QE(v,a.type,a.stateNode);else a.stateNode=WE(v,g,a.memoizedProps);else w!==g?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,g===null?QE(v,a.type,a.stateNode):WE(v,g,a.memoizedProps)):g===null&&a.stateNode!==null&&gy(a,a.memoizedProps,f.memoizedProps)}break;case 27:Ti(l,a),Ai(a),g&512&&(An||f===null||Jr(f,f.return)),f!==null&&g&4&&gy(a,a.memoizedProps,f.memoizedProps);break;case 5:if(Ti(l,a),Ai(a),g&512&&(An||f===null||Jr(f,f.return)),a.flags&32){v=a.stateNode;try{_l(v,"")}catch(Re){Pt(a,a.return,Re)}}g&4&&a.stateNode!=null&&(v=a.memoizedProps,gy(a,v,f!==null?f.memoizedProps:v)),g&1024&&(yy=!0);break;case 6:if(Ti(l,a),Ai(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,f=a.stateNode;try{f.nodeValue=g}catch(Re){Pt(a,a.return,Re)}}break;case 3:if(oh=null,v=kr,kr=sh(l.containerInfo),Ti(l,a),kr=v,Ai(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Xl(l.containerInfo)}catch(Re){Pt(a,a.return,Re)}yy&&(yy=!1,Qx(a));break;case 4:g=kr,kr=sh(a.stateNode.containerInfo),Ti(l,a),Ai(a),kr=g;break;case 12:Ti(l,a),Ai(a);break;case 31:Ti(l,a),Ai(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,qf(a,g)));break;case 13:Ti(l,a),Ai(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Wf=se()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,qf(a,g)));break;case 22:v=a.memoizedState!==null;var $=f!==null&&f.memoizedState!==null,re=Rs,fe=An;if(Rs=re||v,An=fe||$,Ti(l,a),An=fe,Rs=re,Ai(a),g&8192)e:for(l=a.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(f===null||$||Rs||An||Co(a)),f=null,l=a;;){if(l.tag===5||l.tag===26){if(f===null){$=f=l;try{if(w=$.stateNode,v)R=w.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{j=$.stateNode;var pe=$.memoizedProps.style,ae=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;j.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Re){Pt($,$.return,Re)}}}else if(l.tag===6){if(f===null){$=l;try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(Re){Pt($,$.return,Re)}}}else if(l.tag===18){if(f===null){$=l;try{var le=$.stateNode;v?UE(le,!0):UE($.stateNode,!1)}catch(Re){Pt($,$.return,Re)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,qf(a,f))));break;case 19:Ti(l,a),Ai(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,qf(a,g)));break;case 30:break;case 21:break;default:Ti(l,a),Ai(a)}}function Ai(a){var l=a.flags;if(l&2){try{for(var f,g=a.return;g!==null;){if(Fx(g)){f=g;break}g=g.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var v=f.stateNode,w=py(a);Vf(a,w,v);break;case 5:var R=f.stateNode;f.flags&32&&(_l(R,""),f.flags&=-33);var j=py(a);Vf(a,j,R);break;case 3:case 4:var $=f.stateNode.containerInfo,re=py(a);my(a,re,$);break;default:throw Error(i(161))}}catch(fe){Pt(a,a.return,fe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Qx(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Qx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Os(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)$x(a,l.alternate,l),l=l.sibling}function Co(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:ma(4,l,l.return),Co(l);break;case 1:Jr(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&Ux(l,l.return,f),Co(l);break;case 27:Ou(l.stateNode);case 26:case 5:Jr(l,l.return),Co(l);break;case 22:l.memoizedState===null&&Co(l);break;case 30:Co(l);break;default:Co(l)}a=a.sibling}}function ks(a,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,v=a,w=l,R=w.flags;switch(w.tag){case 0:case 11:case 15:ks(v,w,f),_u(4,w);break;case 1:if(ks(v,w,f),g=w,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(re){Pt(g,g.return,re)}if(g=w,v=g.updateQueue,v!==null){var j=g.stateNode;try{var $=v.shared.hiddenCallbacks;if($!==null)for(v.shared.hiddenCallbacks=null,v=0;v<$.length;v++)TS($[v],j)}catch(re){Pt(g,g.return,re)}}f&&R&64&&Lx(w),wu(w,w.return);break;case 27:Hx(w);case 26:case 5:ks(v,w,f),f&&g===null&&R&4&&zx(w),wu(w,w.return);break;case 12:ks(v,w,f);break;case 31:ks(v,w,f),f&&R&4&&Gx(v,w);break;case 13:ks(v,w,f),f&&R&4&&Wx(v,w);break;case 22:w.memoizedState===null&&ks(v,w,f),wu(w,w.return);break;case 30:break;default:ks(v,w,f)}l=l.sibling}}function vy(a,l){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&ou(f))}function by(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ou(a))}function Mr(a,l,f,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Kx(a,l,f,g),l=l.sibling}function Kx(a,l,f,g){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Mr(a,l,f,g),v&2048&&_u(9,l);break;case 1:Mr(a,l,f,g);break;case 3:Mr(a,l,f,g),v&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ou(a)));break;case 12:if(v&2048){Mr(a,l,f,g),a=l.stateNode;try{var w=l.memoizedProps,R=w.id,j=w.onPostCommit;typeof j=="function"&&j(R,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){Pt(l,l.return,$)}}else Mr(a,l,f,g);break;case 31:Mr(a,l,f,g);break;case 13:Mr(a,l,f,g);break;case 23:break;case 22:w=l.stateNode,R=l.alternate,l.memoizedState!==null?w._visibility&2?Mr(a,l,f,g):Su(a,l):w._visibility&2?Mr(a,l,f,g):(w._visibility|=2,Fl(a,l,f,g,(l.subtreeFlags&10256)!==0||!1)),v&2048&&vy(R,l);break;case 24:Mr(a,l,f,g),v&2048&&by(l.alternate,l);break;default:Mr(a,l,f,g)}}function Fl(a,l,f,g,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=a,R=l,j=f,$=g,re=R.flags;switch(R.tag){case 0:case 11:case 15:Fl(w,R,j,$,v),_u(8,R);break;case 23:break;case 22:var fe=R.stateNode;R.memoizedState!==null?fe._visibility&2?Fl(w,R,j,$,v):Su(w,R):(fe._visibility|=2,Fl(w,R,j,$,v)),v&&re&2048&&vy(R.alternate,R);break;case 24:Fl(w,R,j,$,v),v&&re&2048&&by(R.alternate,R);break;default:Fl(w,R,j,$,v)}l=l.sibling}}function Su(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=a,g=l,v=g.flags;switch(g.tag){case 22:Su(f,g),v&2048&&vy(g.alternate,g);break;case 24:Su(f,g),v&2048&&by(g.alternate,g);break;default:Su(f,g)}l=l.sibling}}var xu=8192;function Hl(a,l,f){if(a.subtreeFlags&xu)for(a=a.child;a!==null;)Xx(a,l,f),a=a.sibling}function Xx(a,l,f){switch(a.tag){case 26:Hl(a,l,f),a.flags&xu&&a.memoizedState!==null&&k2(f,kr,a.memoizedState,a.memoizedProps);break;case 5:Hl(a,l,f);break;case 3:case 4:var g=kr;kr=sh(a.stateNode.containerInfo),Hl(a,l,f),kr=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=xu,xu=16777216,Hl(a,l,f),xu=g):Hl(a,l,f));break;default:Hl(a,l,f)}}function Zx(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Eu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];$n=g,eE(g,a)}Zx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jx(a),a=a.sibling}function Jx(a){switch(a.tag){case 0:case 11:case 15:Eu(a),a.flags&2048&&ma(9,a,a.return);break;case 3:Eu(a);break;case 12:Eu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Gf(a)):Eu(a);break;default:Eu(a)}}function Gf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];$n=g,eE(g,a)}Zx(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:ma(8,l,l.return),Gf(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Gf(l));break;default:Gf(l)}a=a.sibling}}function eE(a,l){for(;$n!==null;){var f=$n;switch(f.tag){case 0:case 11:case 15:ma(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ou(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,$n=g;else e:for(f=a;$n!==null;){g=$n;var v=g.sibling,w=g.return;if(Vx(g),g===f){$n=null;break e}if(v!==null){v.return=w,$n=v;break e}$n=w}}}var Gj={getCacheForType:function(a){var l=ni(En),f=l.data.get(a);return f===void 0&&(f=a(),l.data.set(a,f)),f},cacheSignal:function(){return ni(En).controller.signal}},Wj=typeof WeakMap=="function"?WeakMap:Map,kt=0,Gt=null,dt=null,gt=0,jt=0,Gi=null,ya=!1,Bl=!1,_y=!1,Ms=0,mn=0,va=0,To=0,wy=0,Wi=0,$l=0,Cu=null,Ri=null,Sy=!1,Wf=0,tE=0,Yf=1/0,Qf=null,ba=null,Mn=0,_a=null,Vl=null,Ns=0,xy=0,Ey=null,nE=null,Tu=0,Cy=null;function Yi(){return(kt&2)!==0&&gt!==0?gt&-gt:H.T!==null?ky():ir()}function iE(){if(Wi===0)if((gt&536870912)===0||vt){var a=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),Wi=a}else Wi=536870912;return a=Vi.current,a!==null&&(a.flags|=32),Wi}function Di(a,l,f){(a===Gt&&(jt===2||jt===9)||a.cancelPendingCommit!==null)&&(ql(a,0),wa(a,gt,Wi,!1)),Qe(a,f),((kt&2)===0||a!==Gt)&&(a===Gt&&((kt&2)===0&&(To|=f),mn===4&&wa(a,gt,Wi,!1)),es(a))}function rE(a,l,f){if((kt&6)!==0)throw Error(i(327));var g=!f&&(l&127)===0&&(l&a.expiredLanes)===0||xe(a,l),v=g?Kj(a,l):Ay(a,l,!0),w=g;do{if(v===0){Bl&&!g&&wa(a,l,0,!1);break}else{if(f=a.current.alternate,w&&!Yj(f)){v=Ay(a,l,!1),w=!1;continue}if(v===2){if(w=l,a.errorRecoveryDisabledLanes&w)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var j=a;v=Cu;var $=j.current.memoizedState.isDehydrated;if($&&(ql(j,R).flags|=256),R=Ay(j,R,!1),R!==2){if(_y&&!$){j.errorRecoveryDisabledLanes|=w,To|=w,v=4;break e}w=Ri,Ri=v,w!==null&&(Ri===null?Ri=w:Ri.push.apply(Ri,w))}v=R}if(w=!1,v!==2)continue}}if(v===1){ql(a,0),wa(a,l,0,!0);break}e:{switch(g=a,w=v,w){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:wa(g,l,Wi,!ya);break e;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(v=Wf+300-se(),10<v)){if(wa(g,l,Wi,!ya),Ae(g,0,!0)!==0)break e;Ns=l,g.timeoutHandle=jE(sE.bind(null,g,f,Ri,Qf,Sy,l,Wi,To,$l,ya,w,"Throttled",-0,0),v);break e}sE(g,f,Ri,Qf,Sy,l,Wi,To,$l,ya,w,null,-0,0)}}break}while(!0);es(a)}function sE(a,l,f,g,v,w,R,j,$,re,fe,pe,ae,le){if(a.timeoutHandle=-1,pe=l.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vs},Xx(l,w,pe);var Re=(w&62914560)===w?Wf-se():(w&4194048)===w?tE-se():0;if(Re=M2(pe,Re),Re!==null){Ns=w,a.cancelPendingCommit=Re(hE.bind(null,a,l,w,f,g,v,R,j,$,fe,pe,null,ae,le)),wa(a,w,R,!re);return}}hE(a,l,w,f,g,v,R,j,$)}function Yj(a){for(var l=a;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var v=f[g],w=v.getSnapshot;v=v.value;try{if(!Bi(w(),v))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function wa(a,l,f,g){l&=~wy,l&=~To,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var v=l;0<v;){var w=31-Le(v),R=1<<w;g[w]=-1,v&=~R}f!==0&&Ht(a,f,l)}function Kf(){return(kt&6)===0?(Au(0),!1):!0}function Ty(){if(dt!==null){if(jt===0)var a=dt.return;else a=dt,Ss=yo=null,Bm(a),jl=null,cu=0,a=dt;for(;a!==null;)Px(a.alternate,a),a=a.return;dt=null}}function ql(a,l){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,g2(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Ns=0,Ty(),Gt=a,dt=f=_s(a.current,null),gt=l,jt=0,Gi=null,ya=!1,Bl=xe(a,l),_y=!1,$l=Wi=wy=To=va=mn=0,Ri=Cu=null,Sy=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var v=31-Le(g),w=1<<v;l|=a[v],g&=~w}return Ms=l,yf(),f}function aE(a,l){nt=null,H.H=yu,l===Il||l===Cf?(l=SS(),jt=3):l===Om?(l=SS(),jt=4):jt=l===ry?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Gi=l,dt===null&&(mn=1,zf(a,lr(l,a.current)))}function oE(){var a=Vi.current;return a===null?!0:(gt&4194048)===gt?fr===null:(gt&62914560)===gt||(gt&536870912)!==0?a===fr:!1}function lE(){var a=H.H;return H.H=yu,a===null?yu:a}function cE(){var a=H.A;return H.A=Gj,a}function Xf(){mn=4,ya||(gt&4194048)!==gt&&Vi.current!==null||(Bl=!0),(va&134217727)===0&&(To&134217727)===0||Gt===null||wa(Gt,gt,Wi,!1)}function Ay(a,l,f){var g=kt;kt|=2;var v=lE(),w=cE();(Gt!==a||gt!==l)&&(Qf=null,ql(a,l)),l=!1;var R=mn;e:do try{if(jt!==0&&dt!==null){var j=dt,$=Gi;switch(jt){case 8:Ty(),R=6;break e;case 3:case 2:case 9:case 6:Vi.current===null&&(l=!0);var re=jt;if(jt=0,Gi=null,Gl(a,j,$,re),f&&Bl){R=0;break e}break;default:re=jt,jt=0,Gi=null,Gl(a,j,$,re)}}Qj(),R=mn;break}catch(fe){aE(a,fe)}while(!0);return l&&a.shellSuspendCounter++,Ss=yo=null,kt=g,H.H=v,H.A=w,dt===null&&(Gt=null,gt=0,yf()),R}function Qj(){for(;dt!==null;)uE(dt)}function Kj(a,l){var f=kt;kt|=2;var g=lE(),v=cE();Gt!==a||gt!==l?(Qf=null,Yf=se()+500,ql(a,l)):Bl=xe(a,l);e:do try{if(jt!==0&&dt!==null){l=dt;var w=Gi;t:switch(jt){case 1:jt=0,Gi=null,Gl(a,l,w,1);break;case 2:case 9:if(_S(w)){jt=0,Gi=null,dE(l);break}l=function(){jt!==2&&jt!==9||Gt!==a||(jt=7),es(a)},w.then(l,l);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:_S(w)?(jt=0,Gi=null,dE(l)):(jt=0,Gi=null,Gl(a,l,w,7));break;case 5:var R=null;switch(dt.tag){case 26:R=dt.memoizedState;case 5:case 27:var j=dt;if(R?KE(R):j.stateNode.complete){jt=0,Gi=null;var $=j.sibling;if($!==null)dt=$;else{var re=j.return;re!==null?(dt=re,Zf(re)):dt=null}break t}}jt=0,Gi=null,Gl(a,l,w,5);break;case 6:jt=0,Gi=null,Gl(a,l,w,6);break;case 8:Ty(),mn=6;break e;default:throw Error(i(462))}}Xj();break}catch(fe){aE(a,fe)}while(!0);return Ss=yo=null,H.H=g,H.A=v,kt=f,dt!==null?0:(Gt=null,gt=0,yf(),mn)}function Xj(){for(;dt!==null&&!te();)uE(dt)}function uE(a){var l=Ix(a.alternate,a,Ms);a.memoizedProps=a.pendingProps,l===null?Zf(a):dt=l}function dE(a){var l=a,f=l.alternate;switch(l.tag){case 15:case 0:l=Rx(f,l,l.pendingProps,l.type,void 0,gt);break;case 11:l=Rx(f,l,l.pendingProps,l.type.render,l.ref,gt);break;case 5:Bm(l);default:Px(f,l),l=dt=cS(l,Ms),l=Ix(f,l,Ms)}a.memoizedProps=a.pendingProps,l===null?Zf(a):dt=l}function Gl(a,l,f,g){Ss=yo=null,Bm(l),jl=null,cu=0;var v=l.return;try{if(zj(a,v,l,f,gt)){mn=1,zf(a,lr(f,a.current)),dt=null;return}}catch(w){if(v!==null)throw dt=v,w;mn=1,zf(a,lr(f,a.current)),dt=null;return}l.flags&32768?(vt||g===1?a=!0:Bl||(gt&536870912)!==0?a=!1:(ya=a=!0,(g===2||g===9||g===3||g===6)&&(g=Vi.current,g!==null&&g.tag===13&&(g.flags|=16384))),fE(l,a)):Zf(l)}function Zf(a){var l=a;do{if((l.flags&32768)!==0){fE(l,ya);return}a=l.return;var f=Bj(l.alternate,l,Ms);if(f!==null){dt=f;return}if(l=l.sibling,l!==null){dt=l;return}dt=l=a}while(l!==null);mn===0&&(mn=5)}function fE(a,l){do{var f=$j(a.alternate,a);if(f!==null){f.flags&=32767,dt=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(a=a.sibling,a!==null)){dt=a;return}dt=a=f}while(a!==null);mn=6,dt=null}function hE(a,l,f,g,v,w,R,j,$){a.cancelPendingCommit=null;do Jf();while(Mn!==0);if((kt&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(w=l.lanes|l.childLanes,w|=pm,Be(a,f,w,R,j,$),a===Gt&&(dt=Gt=null,gt=0),Vl=l,_a=a,Ns=f,xy=w,Ey=v,nE=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,t2(Se,function(){return vE(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=H.T,H.T=null,v=Z.p,Z.p=2,R=kt,kt|=4;try{Vj(a,l,f)}finally{kt=R,Z.p=v,H.T=g}}Mn=1,gE(),pE(),mE()}}function gE(){if(Mn===1){Mn=0;var a=_a,l=Vl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=H.T,H.T=null;var g=Z.p;Z.p=2;var v=kt;kt|=4;try{Yx(l,a);var w=zy,R=eS(a.containerInfo),j=w.focusedElem,$=w.selectionRange;if(R!==j&&j&&j.ownerDocument&&Jw(j.ownerDocument.documentElement,j)){if($!==null&&um(j)){var re=$.start,fe=$.end;if(fe===void 0&&(fe=re),"selectionStart"in j)j.selectionStart=re,j.selectionEnd=Math.min(fe,j.value.length);else{var pe=j.ownerDocument||document,ae=pe&&pe.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Re=j.textContent.length,He=Math.min($.start,Re),Vt=$.end===void 0?He:Math.min($.end,Re);!le.extend&&He>Vt&&(R=Vt,Vt=He,He=R);var K=Zw(j,He),q=Zw(j,Vt);if(K&&q&&(le.rangeCount!==1||le.anchorNode!==K.node||le.anchorOffset!==K.offset||le.focusNode!==q.node||le.focusOffset!==q.offset)){var ie=pe.createRange();ie.setStart(K.node,K.offset),le.removeAllRanges(),He>Vt?(le.addRange(ie),le.extend(q.node,q.offset)):(ie.setEnd(q.node,q.offset),le.addRange(ie))}}}}for(pe=[],le=j;le=le.parentNode;)le.nodeType===1&&pe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<pe.length;j++){var he=pe[j];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}dh=!!Uy,zy=Uy=null}finally{kt=v,Z.p=g,H.T=f}}a.current=l,Mn=2}}function pE(){if(Mn===2){Mn=0;var a=_a,l=Vl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=H.T,H.T=null;var g=Z.p;Z.p=2;var v=kt;kt|=4;try{$x(a,l.alternate,l)}finally{kt=v,Z.p=g,H.T=f}}Mn=3}}function mE(){if(Mn===4||Mn===3){Mn=0,Q();var a=_a,l=Vl,f=Ns,g=nE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Mn=5:(Mn=0,Vl=_a=null,yE(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(ba=null),Jn(f),l=l.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(it,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=H.T,v=Z.p,Z.p=2,H.T=null;try{for(var w=a.onRecoverableError,R=0;R<g.length;R++){var j=g[R];w(j.value,{componentStack:j.stack})}}finally{H.T=l,Z.p=v}}(Ns&3)!==0&&Jf(),es(a),v=a.pendingLanes,(f&261930)!==0&&(v&42)!==0?a===Cy?Tu++:(Tu=0,Cy=a):Tu=0,Au(0)}}function yE(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,ou(l)))}function Jf(){return gE(),pE(),mE(),vE()}function vE(){if(Mn!==5)return!1;var a=_a,l=xy;xy=0;var f=Jn(Ns),g=H.T,v=Z.p;try{Z.p=32>f?32:f,H.T=null,f=Ey,Ey=null;var w=_a,R=Ns;if(Mn=0,Vl=_a=null,Ns=0,(kt&6)!==0)throw Error(i(331));var j=kt;if(kt|=4,Jx(w.current),Kx(w,w.current,R,f),kt=j,Au(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(it,w)}catch{}return!0}finally{Z.p=v,H.T=g,yE(a,l)}}function bE(a,l,f){l=lr(f,l),l=iy(a.stateNode,l,2),a=ha(a,l,2),a!==null&&(Qe(a,2),es(a))}function Pt(a,l,f){if(a.tag===3)bE(a,a,f);else for(;l!==null;){if(l.tag===3){bE(l,a,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ba===null||!ba.has(g))){a=lr(f,a),f=_x(2),g=ha(l,f,2),g!==null&&(wx(f,g,l,a),Qe(g,2),es(g));break}}l=l.return}}function Ry(a,l,f){var g=a.pingCache;if(g===null){g=a.pingCache=new Wj;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(f)||(_y=!0,v.add(f),a=Zj.bind(null,a,l,f),l.then(a,a))}function Zj(a,l,f){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,Gt===a&&(gt&f)===f&&(mn===4||mn===3&&(gt&62914560)===gt&&300>se()-Wf?(kt&2)===0&&ql(a,0):wy|=f,$l===gt&&($l=0)),es(a)}function _E(a,l){l===0&&(l=Ie()),a=go(a,l),a!==null&&(Qe(a,l),es(a))}function Jj(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),_E(a,f)}function e2(a,l){var f=0;switch(a.tag){case 31:case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(l),_E(a,f)}function t2(a,l){return U(a,l)}var eh=null,Wl=null,Dy=!1,th=!1,Oy=!1,Sa=0;function es(a){a!==Wl&&a.next===null&&(Wl===null?eh=Wl=a:Wl=Wl.next=a),th=!0,Dy||(Dy=!0,i2())}function Au(a,l){if(!Oy&&th){Oy=!0;do for(var f=!1,g=eh;g!==null;){if(a!==0){var v=g.pendingLanes;if(v===0)var w=0;else{var R=g.suspendedLanes,j=g.pingedLanes;w=(1<<31-Le(42|a)+1)-1,w&=v&~(R&~j),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,EE(g,w))}else w=gt,w=Ae(g,g===Gt?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||xe(g,w)||(f=!0,EE(g,w));g=g.next}while(f);Oy=!1}}function n2(){wE()}function wE(){th=Dy=!1;var a=0;Sa!==0&&h2()&&(a=Sa);for(var l=se(),f=null,g=eh;g!==null;){var v=g.next,w=SE(g,l);w===0?(g.next=null,f===null?eh=v:f.next=v,v===null&&(Wl=f)):(f=g,(a!==0||(w&3)!==0)&&(th=!0)),g=v}Mn!==0&&Mn!==5||Au(a),Sa!==0&&(Sa=0)}function SE(a,l){for(var f=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var R=31-Le(w),j=1<<R,$=v[R];$===-1?((j&f)===0||(j&g)!==0)&&(v[R]=De(j,l)):$<=l&&(a.expiredLanes|=j),w&=~j}if(l=Gt,f=gt,f=Ae(a,a===l?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,f===0||a===l&&(jt===2||jt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Y(g),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||xe(a,f)){if(l=f&-f,l===a.callbackPriority)return l;switch(g!==null&&Y(g),Jn(f)){case 2:case 8:f=we;break;case 32:f=Se;break;case 268435456:f=We;break;default:f=Se}return g=xE.bind(null,a),f=U(f,g),a.callbackPriority=l,a.callbackNode=f,l}return g!==null&&g!==null&&Y(g),a.callbackPriority=2,a.callbackNode=null,2}function xE(a,l){if(Mn!==0&&Mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Jf()&&a.callbackNode!==f)return null;var g=gt;return g=Ae(a,a===Gt?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(rE(a,g,l),SE(a,se()),a.callbackNode!=null&&a.callbackNode===f?xE.bind(null,a):null)}function EE(a,l){if(Jf())return null;rE(a,l,!0)}function i2(){p2(function(){(kt&6)!==0?U(ve,n2):wE()})}function ky(){if(Sa===0){var a=Ml;a===0&&(a=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),Sa=a}return Sa}function CE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:cf(""+a)}function TE(a,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,a.id&&f.setAttribute("form",a.id),l.parentNode.insertBefore(f,l),a=new FormData(a),f.parentNode.removeChild(f),a}function r2(a,l,f,g,v){if(l==="submit"&&f&&f.stateNode===v){var w=CE((v[xi]||null).action),R=g.submitter;R&&(l=(l=R[xi]||null)?CE(l.formAction):R.getAttribute("formAction"),l!==null&&(w=l,R=null));var j=new hf("action","action",null,g,v);a.push({event:j,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Sa!==0){var $=R?TE(v,R):new FormData(v);Xm(f,{pending:!0,data:$,method:v.method,action:w},null,$)}}else typeof w=="function"&&(j.preventDefault(),$=R?TE(v,R):new FormData(v),Xm(f,{pending:!0,data:$,method:v.method,action:w},w,$))},currentTarget:v}]})}}for(var My=0;My<gm.length;My++){var Ny=gm[My],s2=Ny.toLowerCase(),a2=Ny[0].toUpperCase()+Ny.slice(1);Or(s2,"on"+a2)}Or(iS,"onAnimationEnd"),Or(rS,"onAnimationIteration"),Or(sS,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Sj,"onTransitionRun"),Or(xj,"onTransitionStart"),Or(Ej,"onTransitionCancel"),Or(aS,"onTransitionEnd"),vl("onMouseEnter",["mouseout","mouseover"]),vl("onMouseLeave",["mouseout","mouseover"]),vl("onPointerEnter",["pointerout","pointerover"]),vl("onPointerLeave",["pointerout","pointerover"]),co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),co("onBeforeInput",["compositionend","keypress","textInput","paste"]),co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function AE(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],v=g.event;g=g.listeners;e:{var w=void 0;if(l)for(var R=g.length-1;0<=R;R--){var j=g[R],$=j.instance,re=j.currentTarget;if(j=j.listener,$!==w&&v.isPropagationStopped())break e;w=j,v.currentTarget=re;try{w(v)}catch(fe){mf(fe)}v.currentTarget=null,w=$}else for(R=0;R<g.length;R++){if(j=g[R],$=j.instance,re=j.currentTarget,j=j.listener,$!==w&&v.isPropagationStopped())break e;w=j,v.currentTarget=re;try{w(v)}catch(fe){mf(fe)}v.currentTarget=null,w=$}}}}function ft(a,l){var f=l[Gp];f===void 0&&(f=l[Gp]=new Set);var g=a+"__bubble";f.has(g)||(RE(l,a,2,!1),f.add(g))}function Iy(a,l,f){var g=0;l&&(g|=4),RE(f,a,g,l)}var nh="_reactListening"+Math.random().toString(36).slice(2);function jy(a){if(!a[nh]){a[nh]=!0,ww.forEach(function(f){f!=="selectionchange"&&(o2.has(f)||Iy(f,!1,a),Iy(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[nh]||(l[nh]=!0,Iy("selectionchange",!1,l))}}function RE(a,l,f,g){switch(iC(l)){case 2:var v=j2;break;case 8:v=P2;break;default:v=Ky}f=v.bind(null,l,f,a),v=void 0,!tm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),g?v!==void 0?a.addEventListener(l,f,{capture:!0,passive:v}):a.addEventListener(l,f,!0):v!==void 0?a.addEventListener(l,f,{passive:v}):a.addEventListener(l,f,!1)}function Py(a,l,f,g,v){var w=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var j=g.stateNode.containerInfo;if(j===v)break;if(R===4)for(R=g.return;R!==null;){var $=R.tag;if(($===3||$===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;j!==null;){if(R=pl(j),R===null)return;if($=R.tag,$===5||$===6||$===26||$===27){g=w=R;continue e}j=j.parentNode}}g=g.return}Nw(function(){var re=w,fe=Jp(f),pe=[];e:{var ae=oS.get(a);if(ae!==void 0){var le=hf,Re=a;switch(a){case"keypress":if(df(f)===0)break e;case"keydown":case"keyup":le=ej;break;case"focusin":Re="focus",le=sm;break;case"focusout":Re="blur",le=sm;break;case"beforeblur":case"afterblur":le=sm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=BI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=ij;break;case iS:case rS:case sS:le=qI;break;case aS:le=sj;break;case"scroll":case"scrollend":le=FI;break;case"wheel":le=oj;break;case"copy":case"cut":case"paste":le=WI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Uw;break;case"toggle":case"beforetoggle":le=cj}var He=(l&4)!==0,Vt=!He&&(a==="scroll"||a==="scrollend"),K=He?ae!==null?ae+"Capture":null:ae;He=[];for(var q=re,ie;q!==null;){var he=q;if(ie=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ie===null||K===null||(he=Kc(q,K),he!=null&&He.push(Du(q,he,ie))),Vt)break;q=q.return}0<He.length&&(ae=new le(ae,Re,null,f,fe),pe.push({event:ae,listeners:He}))}}if((l&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",le=a==="mouseout"||a==="pointerout",ae&&f!==Zp&&(Re=f.relatedTarget||f.fromElement)&&(pl(Re)||Re[gl]))break e;if((le||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Re=f.relatedTarget||f.toElement,le=re,Re=Re?pl(Re):null,Re!==null&&(Vt=s(Re),He=Re.tag,Re!==Vt||He!==5&&He!==27&&He!==6)&&(Re=null)):(le=null,Re=re),le!==Re)){if(He=Pw,he="onMouseLeave",K="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(He=Uw,he="onPointerLeave",K="onPointerEnter",q="pointer"),Vt=le==null?ae:Qc(le),ie=Re==null?ae:Qc(Re),ae=new He(he,q+"leave",le,f,fe),ae.target=Vt,ae.relatedTarget=ie,he=null,pl(fe)===re&&(He=new He(K,q+"enter",Re,f,fe),He.target=ie,He.relatedTarget=Vt,he=He),Vt=he,le&&Re)t:{for(He=l2,K=le,q=Re,ie=0,he=K;he;he=He(he))ie++;he=0;for(var Pe=q;Pe;Pe=He(Pe))he++;for(;0<ie-he;)K=He(K),ie--;for(;0<he-ie;)q=He(q),he--;for(;ie--;){if(K===q||q!==null&&K===q.alternate){He=K;break t}K=He(K),q=He(q)}He=null}else He=null;le!==null&&DE(pe,ae,le,He,!1),Re!==null&&Vt!==null&&DE(pe,Vt,Re,He,!0)}}e:{if(ae=re?Qc(re):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var At=Gw;else if(Vw(ae))if(Ww)At=bj;else{At=yj;var Oe=mj}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?re&&Xp(re.elementType)&&(At=Gw):At=vj;if(At&&(At=At(a,re))){qw(pe,At,f,fe);break e}Oe&&Oe(a,ae,re),a==="focusout"&&re&&ae.type==="number"&&re.memoizedProps.value!=null&&Kp(ae,"number",ae.value)}switch(Oe=re?Qc(re):window,a){case"focusin":(Vw(Oe)||Oe.contentEditable==="true")&&(El=Oe,dm=re,ru=null);break;case"focusout":ru=dm=El=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,tS(pe,f,fe);break;case"selectionchange":if(wj)break;case"keydown":case"keyup":tS(pe,f,fe)}var rt;if(om)e:{switch(a){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else xl?Bw(a,f)&&(pt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(pt="onCompositionStart");pt&&(zw&&f.locale!=="ko"&&(xl||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&xl&&(rt=Iw()):(aa=fe,nm="value"in aa?aa.value:aa.textContent,xl=!0)),Oe=ih(re,pt),0<Oe.length&&(pt=new Lw(pt,a,null,f,fe),pe.push({event:pt,listeners:Oe}),rt?pt.data=rt:(rt=$w(f),rt!==null&&(pt.data=rt)))),(rt=dj?fj(a,f):hj(a,f))&&(pt=ih(re,"onBeforeInput"),0<pt.length&&(Oe=new Lw("onBeforeInput","beforeinput",null,f,fe),pe.push({event:Oe,listeners:pt}),Oe.data=rt)),r2(pe,a,re,f,fe)}AE(pe,l)})}function Du(a,l,f){return{instance:a,listener:l,currentTarget:f}}function ih(a,l){for(var f=l+"Capture",g=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Kc(a,f),v!=null&&g.unshift(Du(a,v,w)),v=Kc(a,l),v!=null&&g.push(Du(a,v,w))),a.tag===3)return g;a=a.return}return[]}function l2(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function DE(a,l,f,g,v){for(var w=l._reactName,R=[];f!==null&&f!==g;){var j=f,$=j.alternate,re=j.stateNode;if(j=j.tag,$!==null&&$===g)break;j!==5&&j!==26&&j!==27||re===null||($=re,v?(re=Kc(f,w),re!=null&&R.unshift(Du(f,re,$))):v||(re=Kc(f,w),re!=null&&R.push(Du(f,re,$)))),f=f.return}R.length!==0&&a.push({event:l,listeners:R})}var c2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function OE(a){return(typeof a=="string"?a:""+a).replace(c2,`
`).replace(u2,"")}function kE(a,l){return l=OE(l),OE(a)===l}function $t(a,l,f,g,v,w){switch(f){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||_l(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&_l(a,""+g);break;case"className":of(a,"class",g);break;case"tabIndex":of(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":of(a,f,g);break;case"style":kw(a,g,w);break;case"data":if(l!=="object"){of(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||f!=="href")){a.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(f);break}g=cf(""+g),a.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(l!=="input"&&$t(a,l,"name",v.name,v,null),$t(a,l,"formEncType",v.formEncType,v,null),$t(a,l,"formMethod",v.formMethod,v,null),$t(a,l,"formTarget",v.formTarget,v,null)):($t(a,l,"encType",v.encType,v,null),$t(a,l,"method",v.method,v,null),$t(a,l,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(f);break}g=cf(""+g),a.setAttribute(f,g);break;case"onClick":g!=null&&(a.onclick=vs);break;case"onScroll":g!=null&&ft("scroll",a);break;case"onScrollEnd":g!=null&&ft("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=f}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}f=cf(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,""+g):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":g===!0?a.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,g):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(f,g):a.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(f):a.setAttribute(f,g);break;case"popover":ft("beforetoggle",a),ft("toggle",a),af(a,"popover",g);break;case"xlinkActuate":ys(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ys(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ys(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ys(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ys(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ys(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ys(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ys(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ys(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":af(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=UI.get(f)||f,af(a,f,g))}}function Ly(a,l,f,g,v,w){switch(f){case"style":kw(a,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=f}}break;case"children":typeof g=="string"?_l(a,g):(typeof g=="number"||typeof g=="bigint")&&_l(a,""+g);break;case"onScroll":g!=null&&ft("scroll",a);break;case"onScrollEnd":g!=null&&ft("scrollend",a);break;case"onClick":g!=null&&(a.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sw.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),l=f.slice(2,v?f.length-7:void 0),w=a[xi]||null,w=w!=null?w[f]:null,typeof w=="function"&&a.removeEventListener(l,w,v),typeof g=="function")){typeof w!="function"&&w!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(l,g,v);break e}f in a?a[f]=g:g===!0?a.setAttribute(f,""):af(a,f,g)}}}function ri(a,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",a),ft("load",a);var g=!1,v=!1,w;for(w in f)if(f.hasOwnProperty(w)){var R=f[w];if(R!=null)switch(w){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:$t(a,l,w,R,f,null)}}v&&$t(a,l,"srcSet",f.srcSet,f,null),g&&$t(a,l,"src",f.src,f,null);return;case"input":ft("invalid",a);var j=w=R=v=null,$=null,re=null;for(g in f)if(f.hasOwnProperty(g)){var fe=f[g];if(fe!=null)switch(g){case"name":v=fe;break;case"type":R=fe;break;case"checked":$=fe;break;case"defaultChecked":re=fe;break;case"value":w=fe;break;case"defaultValue":j=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,l));break;default:$t(a,l,g,fe,f,null)}}Aw(a,w,j,$,re,R,v,!1);return;case"select":ft("invalid",a),g=R=w=null;for(v in f)if(f.hasOwnProperty(v)&&(j=f[v],j!=null))switch(v){case"value":w=j;break;case"defaultValue":R=j;break;case"multiple":g=j;default:$t(a,l,v,j,f,null)}l=w,f=R,a.multiple=!!g,l!=null?bl(a,!!g,l,!1):f!=null&&bl(a,!!g,f,!0);return;case"textarea":ft("invalid",a),w=v=g=null;for(R in f)if(f.hasOwnProperty(R)&&(j=f[R],j!=null))switch(R){case"value":g=j;break;case"defaultValue":v=j;break;case"children":w=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:$t(a,l,R,j,f,null)}Dw(a,g,v,w);return;case"option":for($ in f)if(f.hasOwnProperty($)&&(g=f[$],g!=null))switch($){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:$t(a,l,$,g,f,null)}return;case"dialog":ft("beforetoggle",a),ft("toggle",a),ft("cancel",a),ft("close",a);break;case"iframe":case"object":ft("load",a);break;case"video":case"audio":for(g=0;g<Ru.length;g++)ft(Ru[g],a);break;case"image":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"embed":case"source":case"link":ft("error",a),ft("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in f)if(f.hasOwnProperty(re)&&(g=f[re],g!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:$t(a,l,re,g,f,null)}return;default:if(Xp(l)){for(fe in f)f.hasOwnProperty(fe)&&(g=f[fe],g!==void 0&&Ly(a,l,fe,g,f,void 0));return}}for(j in f)f.hasOwnProperty(j)&&(g=f[j],g!=null&&$t(a,l,j,g,f,null))}function d2(a,l,f,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,R=null,j=null,$=null,re=null,fe=null;for(le in f){var pe=f[le];if(f.hasOwnProperty(le)&&pe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":$=pe;default:g.hasOwnProperty(le)||$t(a,l,le,null,g,pe)}}for(var ae in g){var le=g[ae];if(pe=f[ae],g.hasOwnProperty(ae)&&(le!=null||pe!=null))switch(ae){case"type":w=le;break;case"name":v=le;break;case"checked":re=le;break;case"defaultChecked":fe=le;break;case"value":R=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,l));break;default:le!==pe&&$t(a,l,ae,le,g,pe)}}Qp(a,R,j,$,re,fe,w,v);return;case"select":le=R=j=ae=null;for(w in f)if($=f[w],f.hasOwnProperty(w)&&$!=null)switch(w){case"value":break;case"multiple":le=$;default:g.hasOwnProperty(w)||$t(a,l,w,null,g,$)}for(v in g)if(w=g[v],$=f[v],g.hasOwnProperty(v)&&(w!=null||$!=null))switch(v){case"value":ae=w;break;case"defaultValue":j=w;break;case"multiple":R=w;default:w!==$&&$t(a,l,v,w,g,$)}l=j,f=R,g=le,ae!=null?bl(a,!!f,ae,!1):!!g!=!!f&&(l!=null?bl(a,!!f,l,!0):bl(a,!!f,f?[]:"",!1));return;case"textarea":le=ae=null;for(j in f)if(v=f[j],f.hasOwnProperty(j)&&v!=null&&!g.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:$t(a,l,j,null,g,v)}for(R in g)if(v=g[R],w=f[R],g.hasOwnProperty(R)&&(v!=null||w!=null))switch(R){case"value":ae=v;break;case"defaultValue":le=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==w&&$t(a,l,R,v,g,w)}Rw(a,ae,le);return;case"option":for(var Re in f)if(ae=f[Re],f.hasOwnProperty(Re)&&ae!=null&&!g.hasOwnProperty(Re))switch(Re){case"selected":a.selected=!1;break;default:$t(a,l,Re,null,g,ae)}for($ in g)if(ae=g[$],le=f[$],g.hasOwnProperty($)&&ae!==le&&(ae!=null||le!=null))switch($){case"selected":a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:$t(a,l,$,ae,g,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in f)ae=f[He],f.hasOwnProperty(He)&&ae!=null&&!g.hasOwnProperty(He)&&$t(a,l,He,null,g,ae);for(re in g)if(ae=g[re],le=f[re],g.hasOwnProperty(re)&&ae!==le&&(ae!=null||le!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,l));break;default:$t(a,l,re,ae,g,le)}return;default:if(Xp(l)){for(var Vt in f)ae=f[Vt],f.hasOwnProperty(Vt)&&ae!==void 0&&!g.hasOwnProperty(Vt)&&Ly(a,l,Vt,void 0,g,ae);for(fe in g)ae=g[fe],le=f[fe],!g.hasOwnProperty(fe)||ae===le||ae===void 0&&le===void 0||Ly(a,l,fe,ae,g,le);return}}for(var K in f)ae=f[K],f.hasOwnProperty(K)&&ae!=null&&!g.hasOwnProperty(K)&&$t(a,l,K,null,g,ae);for(pe in g)ae=g[pe],le=f[pe],!g.hasOwnProperty(pe)||ae===le||ae==null&&le==null||$t(a,l,pe,ae,g,le)}function ME(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f2(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var v=f[g],w=v.transferSize,R=v.initiatorType,j=v.duration;if(w&&j&&ME(R)){for(R=0,j=v.responseEnd,g+=1;g<f.length;g++){var $=f[g],re=$.startTime;if(re>j)break;var fe=$.transferSize,pe=$.initiatorType;fe&&ME(pe)&&($=$.responseEnd,R+=fe*($<j?1:(j-re)/($-re)))}if(--g,l+=8*(w+R)/(v.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Uy=null,zy=null;function rh(a){return a.nodeType===9?a:a.ownerDocument}function NE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IE(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Fy(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Hy=null;function h2(){var a=window.event;return a&&a.type==="popstate"?a===Hy?!1:(Hy=a,!0):(Hy=null,!1)}var jE=typeof setTimeout=="function"?setTimeout:void 0,g2=typeof clearTimeout=="function"?clearTimeout:void 0,PE=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof PE<"u"?function(a){return PE.resolve(null).then(a).catch(m2)}:jE;function m2(a){setTimeout(function(){throw a})}function xa(a){return a==="head"}function LE(a,l){var f=l,g=0;do{var v=f.nextSibling;if(a.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(g===0){a.removeChild(v),Xl(l);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")Ou(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,Ou(f);for(var w=f.firstChild;w;){var R=w.nextSibling,j=w.nodeName;w[Yc]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=R}}else f==="body"&&Ou(a.ownerDocument.body);f=v}while(f);Xl(l)}function UE(a,l){var f=a;a=0;do{var g=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=g}while(f)}function By(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":By(f),Wp(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function y2(a,l,f,g){for(;a.nodeType===1;){var v=f;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Yc])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=hr(a.nextSibling),a===null)break}return null}function v2(a,l,f){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=hr(a.nextSibling),a===null))return null;return a}function zE(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=hr(a.nextSibling),a===null))return null;return a}function $y(a){return a.data==="$?"||a.data==="$~"}function Vy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function b2(a,l){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||f.readyState!=="loading")l();else{var g=function(){l(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function hr(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var qy=null;function FE(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(l===0)return hr(a.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}a=a.nextSibling}return null}function HE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return a;l--}else f!=="/$"&&f!=="/&"||l++}a=a.previousSibling}return null}function BE(a,l,f){switch(l=rh(f),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Ou(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Wp(a)}var gr=new Map,$E=new Set;function sh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Is=Z.d;Z.d={f:_2,r:w2,D:S2,C:x2,L:E2,m:C2,X:A2,S:T2,M:R2};function _2(){var a=Is.f(),l=Kf();return a||l}function w2(a){var l=ml(a);l!==null&&l.tag===5&&l.type==="form"?ax(l):Is.r(a)}var Yl=typeof document>"u"?null:document;function VE(a,l,f){var g=Yl;if(g&&typeof l=="string"&&l){var v=ar(l);v='link[rel="'+a+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),$E.has(v)||($E.add(v),a={rel:a,crossOrigin:f,href:l},g.querySelector(v)===null&&(l=g.createElement("link"),ri(l,"link",a),Bn(l),g.head.appendChild(l)))}}function S2(a){Is.D(a),VE("dns-prefetch",a,null)}function x2(a,l){Is.C(a,l),VE("preconnect",a,l)}function E2(a,l,f){Is.L(a,l,f);var g=Yl;if(g&&a&&l){var v='link[rel="preload"][as="'+ar(l)+'"]';l==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+ar(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+ar(f.imageSizes)+'"]')):v+='[href="'+ar(a)+'"]';var w=v;switch(l){case"style":w=Ql(a);break;case"script":w=Kl(a)}gr.has(w)||(a=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:a,as:l},f),gr.set(w,a),g.querySelector(v)!==null||l==="style"&&g.querySelector(ku(w))||l==="script"&&g.querySelector(Mu(w))||(l=g.createElement("link"),ri(l,"link",a),Bn(l),g.head.appendChild(l)))}}function C2(a,l){Is.m(a,l);var f=Yl;if(f&&a){var g=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+ar(g)+'"][href="'+ar(a)+'"]',w=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Kl(a)}if(!gr.has(w)&&(a=p({rel:"modulepreload",href:a},l),gr.set(w,a),f.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Mu(w)))return}g=f.createElement("link"),ri(g,"link",a),Bn(g),f.head.appendChild(g)}}}function T2(a,l,f){Is.S(a,l,f);var g=Yl;if(g&&a){var v=yl(g).hoistableStyles,w=Ql(a);l=l||"default";var R=v.get(w);if(!R){var j={loading:0,preload:null};if(R=g.querySelector(ku(w)))j.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},f),(f=gr.get(w))&&Gy(a,f);var $=R=g.createElement("link");Bn($),ri($,"link",a),$._p=new Promise(function(re,fe){$.onload=re,$.onerror=fe}),$.addEventListener("load",function(){j.loading|=1}),$.addEventListener("error",function(){j.loading|=2}),j.loading|=4,ah(R,l,g)}R={type:"stylesheet",instance:R,count:1,state:j},v.set(w,R)}}}function A2(a,l){Is.X(a,l);var f=Yl;if(f&&a){var g=yl(f).hoistableScripts,v=Kl(a),w=g.get(v);w||(w=f.querySelector(Mu(v)),w||(a=p({src:a,async:!0},l),(l=gr.get(v))&&Wy(a,l),w=f.createElement("script"),Bn(w),ri(w,"link",a),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(v,w))}}function R2(a,l){Is.M(a,l);var f=Yl;if(f&&a){var g=yl(f).hoistableScripts,v=Kl(a),w=g.get(v);w||(w=f.querySelector(Mu(v)),w||(a=p({src:a,async:!0,type:"module"},l),(l=gr.get(v))&&Wy(a,l),w=f.createElement("script"),Bn(w),ri(w,"link",a),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(v,w))}}function qE(a,l,f,g){var v=(v=ee.current)?sh(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Ql(f.href),f=yl(v).hoistableStyles,g=f.get(l),g||(g={type:"style",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=Ql(f.href);var w=yl(v).hoistableStyles,R=w.get(a);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,R),(w=v.querySelector(ku(a)))&&!w._p&&(R.instance=w,R.state.loading=5),gr.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},gr.set(a,f),w||D2(v,a,f,R.state))),l&&g===null)throw Error(i(528,""));return R}if(l&&g!==null)throw Error(i(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Kl(f),f=yl(v).hoistableScripts,g=f.get(l),g||(g={type:"script",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Ql(a){return'href="'+ar(a)+'"'}function ku(a){return'link[rel="stylesheet"]['+a+"]"}function GE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function D2(a,l,f,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),ri(l,"link",f),Bn(l),a.head.appendChild(l))}function Kl(a){return'[src="'+ar(a)+'"]'}function Mu(a){return"script[async]"+a}function WE(a,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+ar(f.href)+'"]');if(g)return l.instance=g,Bn(g),g;var v=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Bn(g),ri(g,"style",v),ah(g,f.precedence,a),l.instance=g;case"stylesheet":v=Ql(f.href);var w=a.querySelector(ku(v));if(w)return l.state.loading|=4,l.instance=w,Bn(w),w;g=GE(f),(v=gr.get(v))&&Gy(g,v),w=(a.ownerDocument||a).createElement("link"),Bn(w);var R=w;return R._p=new Promise(function(j,$){R.onload=j,R.onerror=$}),ri(w,"link",g),l.state.loading|=4,ah(w,f.precedence,a),l.instance=w;case"script":return w=Kl(f.src),(v=a.querySelector(Mu(w)))?(l.instance=v,Bn(v),v):(g=f,(v=gr.get(w))&&(g=p({},f),Wy(g,v)),a=a.ownerDocument||a,v=a.createElement("script"),Bn(v),ri(v,"link",g),a.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,ah(g,f.precedence,a));return l.instance}function ah(a,l,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,w=v,R=0;R<g.length;R++){var j=g[R];if(j.dataset.precedence===l)w=j;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(a,l.firstChild))}function Gy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Wy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var oh=null;function YE(a,l,f){if(oh===null){var g=new Map,v=oh=new Map;v.set(f,g)}else v=oh,g=v.get(f),g||(g=new Map,v.set(f,g));if(g.has(a))return g;for(g.set(a,null),f=f.getElementsByTagName(a),v=0;v<f.length;v++){var w=f[v];if(!(w[Yc]||w[ei]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var R=w.getAttribute(l)||"";R=a+R;var j=g.get(R);j?j.push(w):g.set(R,[w])}}return g}function QE(a,l,f){a=a.ownerDocument||a,a.head.insertBefore(f,l==="title"?a.querySelector("head > title"):null)}function O2(a,l,f){if(f===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function KE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function k2(a,l,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=Ql(g.href),w=l.querySelector(ku(v));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=lh.bind(a),l.then(a,a)),f.state.loading|=4,f.instance=w,Bn(w);return}w=l.ownerDocument||l,g=GE(g),(v=gr.get(v))&&Gy(g,v),w=w.createElement("link"),Bn(w);var R=w;R._p=new Promise(function(j,$){R.onload=j,R.onerror=$}),ri(w,"link",g),f.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=lh.bind(a),l.addEventListener("load",f),l.addEventListener("error",f))}}var Yy=0;function M2(a,l){return a.stylesheets&&a.count===0&&uh(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var g=setTimeout(function(){if(a.stylesheets&&uh(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+l);0<a.imgBytes&&Yy===0&&(Yy=62500*f2());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&uh(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Yy?50:800)+l);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ch=null;function uh(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ch=new Map,l.forEach(N2,a),ch=null,lh.call(a))}function N2(a,l){if(!(l.state.loading&4)){var f=ch.get(a);if(f)var g=f.get(null);else{f=new Map,ch.set(a,f);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var R=v[w];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(f.set(R.dataset.precedence,R),g=R)}g&&f.set(null,g)}v=l.instance,R=v.getAttribute("data-precedence"),w=f.get(R)||g,w===g&&f.set(null,v),f.set(R,v),this.count++,g=lh.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),l.state.loading|=4}}var Nu={$$typeof:A,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function I2(a,l,f,g,v,w,R,j,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.hiddenUpdates=xt(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function XE(a,l,f,g,v,w,R,j,$,re,fe,pe){return a=new I2(a,l,f,R,$,re,fe,pe,j),l=1,w===!0&&(l|=24),w=$i(3,null,null,l),a.current=w,w.stateNode=a,l=Am(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:g,isDehydrated:f,cache:l},km(w),a}function ZE(a){return a?(a=Al,a):Al}function JE(a,l,f,g,v,w){v=ZE(v),g.context===null?g.context=v:g.pendingContext=v,g=fa(l),g.payload={element:f},w=w===void 0?null:w,w!==null&&(g.callback=w),f=ha(a,g,l),f!==null&&(Di(f,a,l),du(f,a,l))}function eC(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function Qy(a,l){eC(a,l),(a=a.alternate)&&eC(a,l)}function tC(a){if(a.tag===13||a.tag===31){var l=go(a,67108864);l!==null&&Di(l,a,67108864),Qy(a,67108864)}}function nC(a){if(a.tag===13||a.tag===31){var l=Yi();l=nr(l);var f=go(a,l);f!==null&&Di(f,a,l),Qy(a,l)}}var dh=!0;function j2(a,l,f,g){var v=H.T;H.T=null;var w=Z.p;try{Z.p=2,Ky(a,l,f,g)}finally{Z.p=w,H.T=v}}function P2(a,l,f,g){var v=H.T;H.T=null;var w=Z.p;try{Z.p=8,Ky(a,l,f,g)}finally{Z.p=w,H.T=v}}function Ky(a,l,f,g){if(dh){var v=Xy(g);if(v===null)Py(a,l,g,fh,f),rC(a,g);else if(U2(v,a,l,f,g))g.stopPropagation();else if(rC(a,g),l&4&&-1<L2.indexOf(a)){for(;v!==null;){var w=ml(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var R=yt(w.pendingLanes);if(R!==0){var j=w;for(j.pendingLanes|=2,j.entangledLanes|=2;R;){var $=1<<31-Le(R);j.entanglements[1]|=$,R&=~$}es(w),(kt&6)===0&&(Yf=se()+500,Au(0))}}break;case 31:case 13:j=go(w,2),j!==null&&Di(j,w,2),Kf(),Qy(w,2)}if(w=Xy(g),w===null&&Py(a,l,g,fh,f),w===v)break;v=w}v!==null&&g.stopPropagation()}else Py(a,l,g,null,f)}}function Xy(a){return a=Jp(a),Zy(a)}var fh=null;function Zy(a){if(fh=null,a=pl(a),a!==null){var l=s(a);if(l===null)a=null;else{var f=l.tag;if(f===13){if(a=o(l),a!==null)return a;a=null}else if(f===31){if(a=c(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return fh=a,null}function iC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ve:return 2;case we:return 8;case Se:case Ne:return 32;case We:return 268435456;default:return 32}default:return 32}}var Jy=!1,Ea=null,Ca=null,Ta=null,Iu=new Map,ju=new Map,Aa=[],L2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rC(a,l){switch(a){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Iu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(l.pointerId)}}function Pu(a,l,f,g,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:w,targetContainers:[v]},l!==null&&(l=ml(l),l!==null&&tC(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function U2(a,l,f,g,v){switch(l){case"focusin":return Ea=Pu(Ea,a,l,f,g,v),!0;case"dragenter":return Ca=Pu(Ca,a,l,f,g,v),!0;case"mouseover":return Ta=Pu(Ta,a,l,f,g,v),!0;case"pointerover":var w=v.pointerId;return Iu.set(w,Pu(Iu.get(w)||null,a,l,f,g,v)),!0;case"gotpointercapture":return w=v.pointerId,ju.set(w,Pu(ju.get(w)||null,a,l,f,g,v)),!0}return!1}function sC(a){var l=pl(a.target);if(l!==null){var f=s(l);if(f!==null){if(l=f.tag,l===13){if(l=o(f),l!==null){a.blockedOn=l,sa(a.priority,function(){nC(f)});return}}else if(l===31){if(l=c(f),l!==null){a.blockedOn=l,sa(a.priority,function(){nC(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function hh(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=Xy(a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);Zp=g,f.target.dispatchEvent(g),Zp=null}else return l=ml(f),l!==null&&tC(l),a.blockedOn=f,!1;l.shift()}return!0}function aC(a,l,f){hh(a)&&f.delete(l)}function z2(){Jy=!1,Ea!==null&&hh(Ea)&&(Ea=null),Ca!==null&&hh(Ca)&&(Ca=null),Ta!==null&&hh(Ta)&&(Ta=null),Iu.forEach(aC),ju.forEach(aC)}function gh(a,l){a.blockedOn===l&&(a.blockedOn=null,Jy||(Jy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z2)))}var ph=null;function oC(a){ph!==a&&(ph=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ph===a&&(ph=null);for(var l=0;l<a.length;l+=3){var f=a[l],g=a[l+1],v=a[l+2];if(typeof g!="function"){if(Zy(g||f)===null)continue;break}var w=ml(f);w!==null&&(a.splice(l,3),l-=3,Xm(w,{pending:!0,data:v,method:f.method,action:g},g,v))}}))}function Xl(a){function l($){return gh($,a)}Ea!==null&&gh(Ea,a),Ca!==null&&gh(Ca,a),Ta!==null&&gh(Ta,a),Iu.forEach(l),ju.forEach(l);for(var f=0;f<Aa.length;f++){var g=Aa[f];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Aa.length&&(f=Aa[0],f.blockedOn===null);)sC(f),f.blockedOn===null&&Aa.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var v=f[g],w=f[g+1],R=v[xi]||null;if(typeof w=="function")R||oC(f);else if(R){var j=null;if(w&&w.hasAttribute("formAction")){if(v=w,R=w[xi]||null)j=R.formAction;else if(Zy(v)!==null)continue}else j=R.action;typeof j=="function"?f[g+1]=j:(f.splice(g,3),g-=3),oC(f)}}}function lC(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(R){return v=R})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function ev(a){this._internalRoot=a}mh.prototype.render=ev.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var f=l.current,g=Yi();JE(f,g,a,l,null,null)},mh.prototype.unmount=ev.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;JE(a.current,2,null,a,null,null),Kf(),l[gl]=null}};function mh(a){this._internalRoot=a}mh.prototype.unstable_scheduleHydration=function(a){if(a){var l=ir();a={blockedOn:null,target:a,priority:l};for(var f=0;f<Aa.length&&l!==0&&l<Aa[f].priority;f++);Aa.splice(f,0,a),f===0&&sC(a)}};var cC=e.version;if(cC!=="19.2.0")throw Error(i(527,cC,"19.2.0"));Z.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var F2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{it=yh.inject(F2),St=yh}catch{}}return Uu.createRoot=function(a,l){if(!r(a))throw Error(i(299));var f=!1,g="",v=mx,w=yx,R=vx;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=XE(a,1,!1,null,null,f,g,null,v,w,R,lC),a[gl]=l.current,jy(a),new ev(l)},Uu.hydrateRoot=function(a,l,f){if(!r(a))throw Error(i(299));var g=!1,v="",w=mx,R=yx,j=vx,$=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(j=f.onRecoverableError),f.formState!==void 0&&($=f.formState)),l=XE(a,1,!0,l,f??null,g,v,$,w,R,j,lC),l.context=ZE(null),f=l.current,g=Yi(),g=nr(g),v=fa(g),v.callback=null,ha(f,v,g),f=g,l.current.lanes=f,Qe(l,f),es(l),a[gl]=l.current,jy(a),new mh(l)},Uu.version="19.2.0",Uu}var bC;function Q2(){if(bC)return iv.exports;bC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iv.exports=Y2(),iv.exports}var K2=Q2();const X2=rl(K2);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _C="popstate";function Z2(t={}){function e(i,r){let{pathname:s,search:o,hash:c}=i.location;return yb("",{pathname:s,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Ed(r)}return eP(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J2(){return Math.random().toString(36).substring(2,10)}function wC(t,e){return{usr:t.state,key:t.key,idx:e}}function yb(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pc(e):e,state:n,key:e&&e.key||i||J2()}}function Ed({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function eP(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,c="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){c="POP";let S=h(),x=S==null?null:S-d;d=S,u&&u({action:c,location:_.location,delta:x})}function y(S,x){c="PUSH";let T=yb(_.location,S,x);d=h()+1;let A=wC(T,d),k=_.createHref(T);try{o.pushState(A,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(k)}s&&u&&u({action:c,location:_.location,delta:1})}function m(S,x){c="REPLACE";let T=yb(_.location,S,x);d=h();let A=wC(T,d),k=_.createHref(T);o.replaceState(A,"",k),s&&u&&u({action:c,location:_.location,delta:0})}function b(S){return tP(S)}let _={get action(){return c},get location(){return t(r,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(_C,p),u=S,()=>{r.removeEventListener(_C,p),u=null}},createHref(S){return e(r,S)},createURL:b,encodeLocation(S){let x=b(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:m,go(S){return o.go(S)}};return _}function tP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ed(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function eO(t,e,n="/"){return nP(t,e,n,!1)}function nP(t,e,n,i){let r=typeof e=="string"?Pc(e):e,s=Js(r.pathname||"/",n);if(s==null)return null;let o=tO(t);iP(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=gP(s);c=fP(o[u],d,i)}return c}function tO(t,e=[],n=[],i="",r=!1){let s=(o,c,u=r,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&u)return;cn(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let p=Qs([i,h.relativePath]),y=n.concat(h);o.children&&o.children.length>0&&(cn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),tO(o.children,e,y,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:uP(p,o.index),routesMeta:y})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let u of nO(o.path))s(o,c,!0,u)}),e}function nO(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=nO(i.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function iP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dP(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var rP=/^:[\w-]+$/,sP=3,aP=2,oP=1,lP=10,cP=-2,SC=t=>t==="*";function uP(t,e){let n=t.split("/"),i=n.length;return n.some(SC)&&(i+=cP),e&&(i+=aP),n.filter(r=>!SC(r)).reduce((r,s)=>r+(rP.test(s)?sP:s===""?oP:lP),i)}function dP(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function fP(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",o=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=xg({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),y=u.route;if(!p&&d&&n&&!i[i.length-1].route.index&&(p=xg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Qs([s,p.pathname]),pathnameBase:vP(Qs([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Qs([s,p.pathnameBase]))}return o}function xg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=hP(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((d,{paramName:h,isOptional:p},y)=>{if(h==="*"){let b=c[y]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const m=c[y];return p&&!m?d[h]=void 0:d[h]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function hP(t,e=!1,n=!0){Vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function gP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function pP(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Pc(t):t;return{pathname:n?n.startsWith("/")?n:mP(n,e):e,search:bP(i),hash:_P(r)}}function mP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ov(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M0(t){let e=yP(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function N0(t,e,n,i=!1){let r;typeof t=="string"?r=Pc(t):(r={...t},cn(!r.pathname||!r.pathname.includes("?"),ov("?","pathname","search",r)),cn(!r.pathname||!r.pathname.includes("#"),ov("#","pathname","hash",r)),cn(!r.search||!r.search.includes("#"),ov("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!i&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}c=p>=0?e[p]:"/"}let u=pP(r,c),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Qs=t=>t.join("/").replace(/\/\/+/g,"/"),vP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_P=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var iO=["POST","PUT","PATCH","DELETE"];new Set(iO);var SP=["GET",...iO];new Set(SP);var Lc=D.createContext(null);Lc.displayName="DataRouter";var fp=D.createContext(null);fp.displayName="DataRouterState";D.createContext(!1);var rO=D.createContext({isTransitioning:!1});rO.displayName="ViewTransition";var xP=D.createContext(new Map);xP.displayName="Fetchers";var EP=D.createContext(null);EP.displayName="Await";var Yr=D.createContext(null);Yr.displayName="Navigation";var Vd=D.createContext(null);Vd.displayName="Location";var Dr=D.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var I0=D.createContext(null);I0.displayName="RouteError";function CP(t,{relative:e}={}){cn(Uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=D.useContext(Yr),{hash:r,pathname:s,search:o}=qd(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Qs([n,s])),i.createHref({pathname:c,search:o,hash:r})}function Uc(){return D.useContext(Vd)!=null}function na(){return cn(Uc(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Vd).location}var sO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aO(t){D.useContext(Yr).static||D.useLayoutEffect(t)}function gs(){let{isDataRoute:t}=D.useContext(Dr);return t?FP():TP()}function TP(){cn(Uc(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Lc),{basename:e,navigator:n}=D.useContext(Yr),{matches:i}=D.useContext(Dr),{pathname:r}=na(),s=JSON.stringify(M0(i)),o=D.useRef(!1);return aO(()=>{o.current=!0}),D.useCallback((u,d={})=>{if(Vr(o.current,sO),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=N0(u,JSON.parse(s),r,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,r,t])}var AP=D.createContext(null);function RP(t){let e=D.useContext(Dr).outlet;return D.useMemo(()=>e&&D.createElement(AP.Provider,{value:t},e),[e,t])}function hp(){let{matches:t}=D.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function qd(t,{relative:e}={}){let{matches:n}=D.useContext(Dr),{pathname:i}=na(),r=JSON.stringify(M0(n));return D.useMemo(()=>N0(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function DP(t,e){return oO(t,e)}function oO(t,e,n,i,r){cn(Uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=D.useContext(Yr),{matches:o}=D.useContext(Dr),c=o[o.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let T=p&&p.path||"";lO(d,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=na(),m;if(e){let T=typeof e=="string"?Pc(e):e;cn(h==="/"||T.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),m=T}else m=y;let b=m.pathname||"/",_=b;if(h!=="/"){let T=h.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=eO(t,{pathname:_});Vr(p||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Vr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=IP(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Qs([h,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Qs([h,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),o,n,i,r);return e&&x?D.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function OP(){let t=zP(),e=wP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:r},n):null,o)}var kP=D.createElement(OP,null),MP=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(Dr.Provider,{value:this.props.routeContext},D.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NP({routeContext:t,match:e,children:n}){let i=D.useContext(Lc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Dr.Provider,{value:t},n)}function IP(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);cn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:y}=n,m=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||m){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let y,m=!1,b=null,_=null;n&&(y=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||kP,c&&(u<0&&p===0?(lO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,_=null):u===p&&(m=!0,_=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,p+1)),x=()=>{let T;return y?T=b:m?T=_:h.route.Component?T=D.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,D.createElement(NP,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?D.createElement(MP,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:i}):x()},null)}function j0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jP(t){let e=D.useContext(Lc);return cn(e,j0(t)),e}function PP(t){let e=D.useContext(fp);return cn(e,j0(t)),e}function LP(t){let e=D.useContext(Dr);return cn(e,j0(t)),e}function P0(t){let e=LP(t),n=e.matches[e.matches.length-1];return cn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UP(){return P0("useRouteId")}function zP(){let t=D.useContext(I0),e=PP("useRouteError"),n=P0("useRouteError");return t!==void 0?t:e.errors?.[n]}function FP(){let{router:t}=jP("useNavigate"),e=P0("useNavigate"),n=D.useRef(!1);return aO(()=>{n.current=!0}),D.useCallback(async(r,s={})=>{Vr(n.current,sO),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var xC={};function lO(t,e,n){!e&&!xC[t]&&(xC[t]=!0,Vr(!1,n))}D.memo(HP);function HP({routes:t,future:e,state:n,unstable_onError:i}){return oO(t,void 0,n,i,e)}function cO({to:t,replace:e,state:n,relative:i}){cn(Uc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=D.useContext(Yr);Vr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=D.useContext(Dr),{pathname:o}=na(),c=gs(),u=N0(t,M0(s),o,i==="path"),d=JSON.stringify(u);return D.useEffect(()=>{c(JSON.parse(d),{replace:e,state:n,relative:i})},[c,d,i,e,n]),null}function uO(t){return RP(t.context)}function In(t){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BP({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){cn(!Uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=Pc(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:y="default"}=n,m=D.useMemo(()=>{let b=Js(u,o);return b==null?null:{location:{pathname:b,search:d,hash:h,state:p,key:y},navigationType:i}},[o,u,d,h,p,y,i]);return Vr(m!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:D.createElement(Yr.Provider,{value:c},D.createElement(Vd.Provider,{children:e,value:m}))}function $P({children:t,location:e}){return DP(vb(t),e)}function vb(t,e=[]){let n=[];return D.Children.forEach(t,(i,r)=>{if(!D.isValidElement(i))return;let s=[...e,r];if(i.type===D.Fragment){n.push.apply(n,vb(i.props.children,s));return}cn(i.type===In,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=vb(i.props.children,s)),n.push(o)}),n}var lg="get",cg="application/x-www-form-urlencoded";function gp(t){return t!=null&&typeof t.tagName=="string"}function VP(t){return gp(t)&&t.tagName.toLowerCase()==="button"}function qP(t){return gp(t)&&t.tagName.toLowerCase()==="form"}function GP(t){return gp(t)&&t.tagName.toLowerCase()==="input"}function WP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YP(t,e){return t.button===0&&(!e||e==="_self")&&!WP(t)}var vh=null;function QP(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var KP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lv(t){return t!=null&&!KP.has(t)?(Vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cg}"`),null):t}function XP(t,e){let n,i,r,s,o;if(qP(t)){let c=t.getAttribute("action");i=c?Js(c,e):null,n=t.getAttribute("method")||lg,r=lv(t.getAttribute("enctype"))||cg,s=new FormData(t)}else if(VP(t)||GP(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(i=u?Js(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||lg,r=lv(t.getAttribute("formenctype"))||lv(c.getAttribute("enctype"))||cg,s=new FormData(c,t),!QP()){let{name:d,type:h,value:p}=t;if(h==="image"){let y=d?`${d}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else d&&s.append(d,p)}}else{if(gp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lg,i=null,r=cg,o=t}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function L0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZP(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Js(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function JP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function tL(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await JP(s,n);return o.links?o.links():[]}return[]}));return sL(i.flat(1).filter(eL).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function EC(t,e,n,i,r,s){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,c=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>o(u,d)||c(u,d)):s==="data"?e.filter((u,d)=>{let h=i.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function nL(t,e,{includeHydrateFallback:n}={}){return iL(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function iL(t){return[...new Set(t)]}function rL(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function sL(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(rL(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function dO(){let t=D.useContext(Lc);return L0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function aL(){let t=D.useContext(fp);return L0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var U0=D.createContext(void 0);U0.displayName="FrameworkContext";function fO(){let t=D.useContext(U0);return L0(t,"You must render this element inside a <HydratedRouter> element"),t}function oL(t,e){let n=D.useContext(U0),[i,r]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=e,y=D.useRef(null);D.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let _=x=>{x.forEach(T=>{o(T.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),D.useEffect(()=>{if(i){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[i]);let m=()=>{r(!0)},b=()=>{r(!1),o(!1)};return n?t!=="intent"?[s,y,{}]:[s,y,{onFocus:zu(c,m),onBlur:zu(u,b),onMouseEnter:zu(d,m),onMouseLeave:zu(h,b),onTouchStart:zu(p,m)}]:[!1,y,{}]}function zu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function lL({page:t,...e}){let{router:n}=dO(),i=D.useMemo(()=>eO(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?D.createElement(uL,{page:t,matches:i,...e}):null}function cL(t){let{manifest:e,routeModules:n}=fO(),[i,r]=D.useState([]);return D.useEffect(()=>{let s=!1;return tL(t,e,n).then(o=>{s||r(o)}),()=>{s=!0}},[t,e,n]),i}function uL({page:t,matches:e,...n}){let i=na(),{manifest:r,routeModules:s}=fO(),{basename:o}=dO(),{loaderData:c,matches:u}=aL(),d=D.useMemo(()=>EC(t,e,u,r,i,"data"),[t,e,u,r,i]),h=D.useMemo(()=>EC(t,e,u,r,i,"assets"),[t,e,u,r,i]),p=D.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let b=new Set,_=!1;if(e.forEach(x=>{let T=r.routes[x.route.id];!T||!T.hasLoader||(!d.some(A=>A.route.id===x.route.id)&&x.route.id in c&&s[x.route.id]?.shouldRevalidate||T.hasClientLoader?_=!0:b.add(x.route.id))}),b.size===0)return[];let S=ZP(t,o,"data");return _&&b.size>0&&S.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[o,c,i,r,d,e,t,s]),y=D.useMemo(()=>nL(h,r),[h,r]),m=cL(h);return D.createElement(D.Fragment,null,p.map(b=>D.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>D.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),m.map(({key:b,link:_})=>D.createElement("link",{key:b,nonce:n.nonce,..._})))}function dL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hO&&(window.__reactRouterVersion="7.9.4")}catch{}function fL({basename:t,children:e,window:n}){let i=D.useRef();i.current==null&&(i.current=Z2({window:n,v5Compat:!0}));let r=i.current,[s,o]=D.useState({action:r.action,location:r.location}),c=D.useCallback(u=>{D.startTransition(()=>o(u))},[o]);return D.useLayoutEffect(()=>r.listen(c),[r,c]),D.createElement(BP,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var gO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ln=D.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:c,target:u,to:d,preventScrollReset:h,viewTransition:p,...y},m){let{basename:b}=D.useContext(Yr),_=typeof d=="string"&&gO.test(d),S,x=!1;if(typeof d=="string"&&_&&(S=d,hO))try{let B=new URL(window.location.href),V=d.startsWith("//")?new URL(B.protocol+d):new URL(d),W=Js(V.pathname,b);V.origin===B.origin&&W!=null?d=W+V.search+V.hash:x=!0}catch{Vr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=CP(d,{relative:r}),[A,k,O]=oL(i,y),P=mL(d,{replace:o,state:c,target:u,preventScrollReset:h,relative:r,viewTransition:p});function N(B){e&&e(B),B.defaultPrevented||P(B)}let M=D.createElement("a",{...y,...O,href:S||T,onClick:x||s?e:N,ref:dL(m,k),target:u,"data-discover":!_&&n==="render"?"true":void 0});return A&&!_?D.createElement(D.Fragment,null,M,D.createElement(lL,{page:T})):M});Ln.displayName="Link";var hL=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:c,children:u,...d},h){let p=qd(o,{relative:d.relative}),y=na(),m=D.useContext(fp),{navigator:b,basename:_}=D.useContext(Yr),S=m!=null&&wL(p)&&c===!0,x=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,T=y.pathname,A=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(T=T.toLowerCase(),A=A?A.toLowerCase():null,x=x.toLowerCase()),A&&_&&(A=Js(A,_)||A);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=T===x||!r&&T.startsWith(x)&&T.charAt(k)==="/",P=A!=null&&(A===x||!r&&A.startsWith(x)&&A.charAt(x.length)==="/"),N={isActive:O,isPending:P,isTransitioning:S},M=O?e:void 0,B;typeof i=="function"?B=i(N):B=[i,O?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(N):s;return D.createElement(Ln,{...d,"aria-current":M,className:B,ref:h,style:V,to:o,viewTransition:c},typeof u=="function"?u(N):u)});hL.displayName="NavLink";var gL=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:o=lg,action:c,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...y},m)=>{let b=bL(),_=_L(c,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",x=typeof c=="string"&&gO.test(c),T=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let k=A.nativeEvent.submitter,O=k?.getAttribute("formmethod")||o;b(k||A.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:r,state:s,relative:d,preventScrollReset:h,viewTransition:p})};return D.createElement("form",{ref:m,method:S,action:_,onSubmit:i?u:T,...y,"data-discover":!x&&t==="render"?"true":void 0})});gL.displayName="Form";function pL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pO(t){let e=D.useContext(Lc);return cn(e,pL(t)),e}function mL(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let c=gs(),u=na(),d=qd(t,{relative:s});return D.useCallback(h=>{if(YP(h,e)){h.preventDefault();let p=n!==void 0?n:Ed(u)===Ed(d);c(t,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[u,c,d,n,i,e,t,r,s,o])}var yL=0,vL=()=>`__${String(++yL)}__`;function bL(){let{router:t}=pO("useSubmit"),{basename:e}=D.useContext(Yr),n=UP();return D.useCallback(async(i,r={})=>{let{action:s,method:o,encType:c,formData:u,body:d}=XP(i,e);if(r.navigate===!1){let h=r.fetcherKey||vL();await t.fetch(h,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function _L(t,{relative:e}={}){let{basename:n}=D.useContext(Yr),i=D.useContext(Dr);cn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...qd(t||".",{relative:e})},o=na();if(t==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let h=c.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Qs([n,s.pathname])),Ed(s)}function wL(t,{relative:e}={}){let n=D.useContext(rO);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pO("useViewTransitionState"),r=qd(t,{relative:e});if(!n.isTransitioning)return!1;let s=Js(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Js(n.nextLocation.pathname,i)||n.nextLocation.pathname;return xg(r.pathname,o)!=null||xg(r.pathname,s)!=null}var qs=JD();const SL=rl(qs);var zc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xL={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},EL=class{#e=xL;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},$o=new EL;function CL(t){setTimeout(t,0)}var Zo=typeof window>"u"||"Deno"in globalThis;function yi(){}function TL(t,e){return typeof t=="function"?t(e):t}function bb(t){return typeof t=="number"&&t>=0&&t!==1/0}function mO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qa(t,e){return typeof t=="function"?t(e):t}function wr(t,e){return typeof t=="function"?t(e):t}function CC(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:c}=t;if(o){if(i){if(e.queryHash!==z0(o,e.options))return!1}else if(!Cd(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||s&&!s(e))}function TC(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Jo(e.options.mutationKey)!==Jo(s))return!1}else if(!Cd(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function z0(t,e){return(e?.queryKeyHashFn||Jo)(t)}function Jo(t){return JSON.stringify(t,(e,n)=>_b(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Cd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Cd(t[n],e[n])):!1}var AL=Object.prototype.hasOwnProperty;function yO(t,e){if(t===e)return t;const n=AC(t)&&AC(e);if(!n&&!(_b(t)&&_b(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,c=n?new Array(o):{};let u=0;for(let d=0;d<o;d++){const h=n?d:s[d],p=t[h],y=e[h];if(p===y){c[h]=p,(n?d<r:AL.call(t,h))&&u++;continue}if(p===null||y===null||typeof p!="object"||typeof y!="object"){c[h]=y;continue}const m=yO(p,y);c[h]=m,m===p&&u++}return r===o&&u===r?t:c}function Eg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function AC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _b(t){if(!RC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!RC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function RC(t){return Object.prototype.toString.call(t)==="[object Object]"}function RL(t){return new Promise(e=>{$o.setTimeout(e,t)})}function wb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yO(t,e):e}function DL(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function OL(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var F0=Symbol();function vO(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===F0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function bO(t,e){return typeof t=="function"?t(...e):!!t}var kL=class extends zc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Zo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},H0=new kL;function Sb(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var ML=CL;function NL(){let t=[],e=0,n=c=>{c()},i=c=>{c()},r=ML;const s=c=>{e?t.push(c):r(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&r(()=>{i(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||o()}return u},batchCalls:c=>(...u)=>{s(()=>{c(...u)})},schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{r=c}}}var zn=NL(),IL=class extends zc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Zo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Cg=new IL;function jL(t){return Math.min(1e3*2**t,3e4)}function _O(t){return(t??"online")==="online"?Cg.isOnline():!0}var xb=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function wO(t){let e=!1,n=0,i;const r=Sb(),s=()=>r.status!=="pending",o=_=>{if(!s()){const S=new xb(_);y(S),t.onCancel?.(S)}},c=()=>{e=!0},u=()=>{e=!1},d=()=>H0.isFocused()&&(t.networkMode==="always"||Cg.isOnline())&&t.canRun(),h=()=>_O(t.networkMode)&&t.canRun(),p=_=>{s()||(i?.(),r.resolve(_))},y=_=>{s()||(i?.(),r.reject(_))},m=()=>new Promise(_=>{i=S=>{(s()||d())&&_(S)},t.onPause?.()}).then(()=>{i=void 0,s()||t.onContinue?.()}),b=()=>{if(s())return;let _;const S=n===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(x){_=Promise.reject(x)}Promise.resolve(_).then(p).catch(x=>{if(s())return;const T=t.retry??(Zo?0:3),A=t.retryDelay??jL,k=typeof A=="function"?A(n,x):A,O=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,x);if(e||!O){y(x);return}n++,t.onFail?.(n,x),RL(k).then(()=>d()?void 0:m()).then(()=>{e?y(x):b()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(i?.(),r),cancelRetry:c,continueRetry:u,canStart:h,start:()=>(h()?b():m().then(b),r)}}var SO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bb(this.gcTime)&&(this.#e=$o.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zo?1/0:300*1e3))}clearGcTimeout(){this.#e&&($o.clearTimeout(this.#e),this.#e=void 0)}},PL=class extends SO{#e;#t;#n;#r;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=DC(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=DC(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=wb(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(yi).catch(yi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>wr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===F0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!mO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},r=()=>{const c=vO(this.options,e),d=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(h),h})();return this.#o=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return i(c),c})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=wO({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:c=>{c instanceof xb&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,u)=>{this.#s({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof xb){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#s({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xO(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const r=t.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function xO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_O(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function DC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var LL=class extends zc{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=Sb(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#p;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),OC(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Eb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Eb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!Eg(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&kC(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),i&&(this.#t!==n||wr(this.options.enabled,this.#t)!==wr(e.enabled,this.#t)||qa(this.options.staleTime,this.#t)!==qa(e.staleTime,this.#t))&&this.#m();const r=this.#y();i&&(this.#t!==n||wr(this.options.enabled,this.#t)!==wr(e.enabled,this.#t)||r!==this.#l)&&this.#v(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return zL(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(yi)),e}#m(){this.#_();const t=qa(this.options.staleTime,this.#t);if(Zo||this.#r.isStale||!bb(t))return;const n=mO(this.#r.dataUpdatedAt,t)+1;this.#c=$o.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#l=t,!(Zo||wr(this.options.enabled,this.#t)===!1||!bb(this.#l)||this.#l===0)&&(this.#u=$o.setInterval(()=>{(this.options.refetchIntervalInBackground||H0.isFocused())&&this.#d()},this.#l))}#b(){this.#m(),this.#v(this.#y())}#_(){this.#c&&($o.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&($o.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,i=this.options,r=this.#r,s=this.#i,o=this.#a,u=t!==n?t.state:this.#n,{state:d}=t;let h={...d},p=!1,y;if(e._optimisticResults){const M=this.hasListeners(),B=!M&&OC(t,e),V=M&&kC(t,n,e,i);(B||V)&&(h={...h,...xO(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:b,status:_}=h;y=h.data;let S=!1;if(e.placeholderData!==void 0&&y===void 0&&_==="pending"){let M;r?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(M=r.data,S=!0):M=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,M!==void 0&&(_="success",y=wb(r?.data,M,e),p=!0)}if(e.select&&y!==void 0&&!S)if(r&&y===s?.data&&e.select===this.#p)y=this.#f;else try{this.#p=e.select,y=e.select(y),y=wb(r?.data,y,e),this.#f=y,this.#s=null}catch(M){this.#s=M}this.#s&&(m=this.#s,y=this.#f,b=Date.now(),_="error");const x=h.fetchStatus==="fetching",T=_==="pending",A=_==="error",k=T&&x,O=y!==void 0,N={status:_,fetchStatus:h.fetchStatus,isPending:T,isSuccess:_==="success",isError:A,isInitialLoading:k,isLoading:k,data:y,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!T,isLoadingError:A&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&O,isStale:B0(t,e),refetch:this.refetch,promise:this.#o,isEnabled:wr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=W=>{N.status==="error"?W.reject(N.error):N.data!==void 0&&W.resolve(N.data)},B=()=>{const W=this.#o=N.promise=Sb();M(W)},V=this.#o;switch(V.status){case"pending":t.queryHash===n.queryHash&&M(V);break;case"fulfilled":(N.status==="error"||N.data!==V.value)&&B();break;case"rejected":(N.status!=="error"||N.error!==V.reason)&&B();break}}return N}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Eg(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#g.size)return!0;const s=new Set(r??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const c=o;return this.#r[c]!==t[c]&&s.has(c)})};this.#x({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(t){zn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function UL(t,e){return wr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function OC(t,e){return UL(t,e)||t.state.data!==void 0&&Eb(t,e,e.refetchOnMount)}function Eb(t,e,n){if(wr(e.enabled,t)!==!1&&qa(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&B0(t,e)}return!1}function kC(t,e,n,i){return(t!==e||wr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&B0(t,n)}function B0(t,e){return wr(e.enabled,t)!==!1&&t.isStaleByTime(qa(e.staleTime,t))}function zL(t,e){return!Eg(t.getCurrentResult(),e)}function MC(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},y=vO(e.options,e.fetchOptions),m=async(b,_,S)=>{if(h)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const T=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return p(P),P})(),A=await y(T),{maxPages:k}=e.options,O=S?OL:DL;return{pages:O(b.pages,A,k),pageParams:O(b.pageParams,_,k)}};if(r&&s.length){const b=r==="backward",_=b?FL:NC,S={pages:s,pageParams:o},x=_(i,S);c=await m(S,x,b)}else{const b=t??s.length;do{const _=u===0?o[0]??i.initialPageParam:NC(i,c);if(u>0&&_==null)break;c=await m(c,_),u++}while(u<b)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function NC(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function FL(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var HL=class extends SO{#e;#t;#n;#r;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||EO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=wO({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#i({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",r=!this.#r.canStart();try{if(i)e();else{this.#i({type:"pending",variables:t,isPaused:r}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#i({type:"pending",context:o,variables:t,isPaused:r})}const s=await this.#r.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#i({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#i({type:"error",error:s})}}finally{this.#n.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),zn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function EO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var BL=class extends zc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new HL({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=bh(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=bh(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=bh(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=bh(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>TC(e,n))}findAll(t={}){return this.getAll().filter(e=>TC(t,e))}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return zn.batch(()=>Promise.all(t.map(e=>e.continue().catch(yi))))}};function bh(t){return t.options.scope?.id}var $L=class extends zc{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Eg(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Jo(n.mutationKey)!==Jo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??EO();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){zn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,n,i,r),this.#r.onSettled?.(e.data,null,n,i,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,i,r),this.#r.onSettled?.(void 0,e.error,n,i,r))}this.listeners.forEach(n=>{n(this.#t)})})}},VL=class extends zc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,r=e.queryHash??z0(i,e);let s=this.get(r);return s||(s=new PL({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>CC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>CC(t,n)):e}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qL=class{#e;#t;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new VL,this.#t=t.mutationCache||new BL,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=H0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Cg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(qa(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(i.queryHash)?.state.data,o=TL(e,s);if(o!==void 0)return this.#e.build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return zn.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return zn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=zn.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(yi).catch(yi)}invalidateQueries(t,e={}){return zn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=zn.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(yi)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(yi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(qa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yi).catch(yi)}fetchInfiniteQuery(t){return t.behavior=MC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yi).catch(yi)}ensureInfiniteQueryData(t){return t.behavior=MC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Jo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Cd(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Jo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Cd(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=z0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===F0&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},CO=D.createContext(void 0),Hi=t=>{const e=D.useContext(CO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},GL=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(CO.Provider,{value:t,children:e})),TO=D.createContext(!1),WL=()=>D.useContext(TO);TO.Provider;function YL(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var QL=D.createContext(YL()),KL=()=>D.useContext(QL),XL=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},ZL=t=>{D.useEffect(()=>{t.clearReset()},[t])},JL=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||bO(n,[t.error,i])),eU=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},tU=(t,e)=>t.isLoading&&t.isFetching&&!e,nU=(t,e)=>t?.suspense&&e.isPending,IC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function iU(t,e,n){const i=WL(),r=KL(),s=Hi(),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",eU(o),XL(o,r),ZL(r);const c=!s.getQueryCache().get(o.queryHash),[u]=D.useState(()=>new e(s,o)),d=u.getOptimisticResult(o),h=!i&&t.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(p=>{const y=h?u.subscribe(zn.batchCalls(p)):yi;return u.updateResult(),y},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),D.useEffect(()=>{u.setOptions(o)},[o,u]),nU(o,d))throw IC(o,u,r);if(JL({result:d,errorResetBoundary:r,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Zo&&tU(d,i)&&(c?IC(o,u,r):s.getQueryCache().get(o.queryHash)?.promise)?.catch(yi).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function sl(t,e){return iU(t,LL)}function ia(t,e){const n=Hi(),[i]=D.useState(()=>new $L(n,t));D.useEffect(()=>{i.setOptions(t)},[i,t]);const r=D.useSyncExternalStore(D.useCallback(o=>i.subscribe(zn.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=D.useCallback((o,c)=>{i.mutate(o,c).catch(yi)},[i]);if(r.error&&bO(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}function rU(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const sU=t=>{switch(t){case"success":return lU;case"info":return uU;case"warning":return cU;case"error":return dU;default:return null}},aU=Array(12).fill(0),oU=({visible:t,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},de.createElement("div",{className:"sonner-spinner"},aU.map((n,i)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),lU=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cU=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uU=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dU=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fU=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hU=()=>{const[t,e]=de.useState(document.hidden);return de.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Cb=1;class gU{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...r}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Cb++,o=this.toasts.find(u=>u.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:i}),{...u,...e,id:s,dismissible:c,title:i}):u):this.addToast({title:i,...r,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,o;const c=r.then(async d=>{if(o=["resolve",d],de.isValidElement(d))s=!1,this.create({id:i,type:"default",message:d});else if(mU(d)&&!d.ok){s=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof p=="object"&&!de.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:y,...b})}else if(d instanceof Error){s=!1;const p=typeof n.error=="function"?await n.error(d):n.error,y=typeof n.description=="function"?await n.description(d):n.description,b=typeof p=="object"&&!de.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:y,...b})}else if(n.success!==void 0){s=!1;const p=typeof n.success=="function"?await n.success(d):n.success,y=typeof n.description=="function"?await n.description(d):n.description,b=typeof p=="object"&&!de.isValidElement(p)?p:{message:p};this.create({id:i,type:"success",description:y,...b})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,m=typeof h=="object"&&!de.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:p,...m})}}).finally(()=>{s&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>c.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof i!="string"&&typeof i!="number"?{unwrap:u}:Object.assign(i,{unwrap:u})},this.custom=(e,n)=>{const i=n?.id||Cb++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ii=new gU,pU=(t,e)=>{const n=e?.id||Cb++;return Ii.addToast({title:t,...e,id:n}),n},mU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yU=pU,vU=()=>Ii.toasts,bU=()=>Ii.getActiveToasts();Object.assign(yU,{success:Ii.success,info:Ii.info,warning:Ii.warning,error:Ii.error,custom:Ii.custom,message:Ii.message,promise:Ii.promise,dismiss:Ii.dismiss,loading:Ii.loading},{getHistory:vU,getToasts:bU});rU("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function _h(t){return t.label!==void 0}const _U=3,wU="24px",SU="16px",jC=4e3,xU=356,EU=14,CU=45,TU=200;function ts(...t){return t.filter(Boolean).join(" ")}function AU(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const RU=t=>{var e,n,i,r,s,o,c,u,d;const{invert:h,toast:p,unstyled:y,interacting:m,setHeights:b,visibleToasts:_,heights:S,index:x,toasts:T,expanded:A,removeToast:k,defaultRichColors:O,closeButton:P,style:N,cancelButtonStyle:M,actionButtonStyle:B,className:V="",descriptionClassName:W="",duration:X,position:ce,gap:ye,expandByDefault:_e,classNames:H,icons:Z,closeButtonAriaLabel:be="Close toast"}=t,[J,me]=de.useState(null),[E,I]=de.useState(null),[L,z]=de.useState(!1),[G,ee]=de.useState(!1),[ne,ge]=de.useState(!1),[Ee,qe]=de.useState(!1),[Nt,It]=de.useState(!1),[Xn,Te]=de.useState(0),[Ge,at]=de.useState(0),Ft=de.useRef(p.duration||X||jC),sn=de.useRef(null),et=de.useRef(null),U=x===0,Y=x+1<=_,te=p.type,Q=p.dismissible!==!1,se=p.className||"",ue=p.descriptionClassName||"",ve=de.useMemo(()=>S.findIndex(Ae=>Ae.toastId===p.id)||0,[S,p.id]),we=de.useMemo(()=>{var Ae;return(Ae=p.closeButton)!=null?Ae:P},[p.closeButton,P]),Se=de.useMemo(()=>p.duration||X||jC,[p.duration,X]),Ne=de.useRef(0),We=de.useRef(0),Ye=de.useRef(0),lt=de.useRef(null),[it,St]=ce.split("-"),ot=de.useMemo(()=>S.reduce((Ae,xe,De)=>De>=ve?Ae:Ae+xe.height,0),[S,ve]),Le=hU(),un=p.invert||h,tt=te==="loading";We.current=de.useMemo(()=>ve*ye+ot,[ve,ot]),de.useEffect(()=>{Ft.current=Se},[Se]),de.useEffect(()=>{z(!0)},[]),de.useEffect(()=>{const Ae=et.current;if(Ae){const xe=Ae.getBoundingClientRect().height;return at(xe),b(De=>[{toastId:p.id,height:xe,position:p.position},...De]),()=>b(De=>De.filter(Ie=>Ie.toastId!==p.id))}},[b,p.id]),de.useLayoutEffect(()=>{if(!L)return;const Ae=et.current,xe=Ae.style.height;Ae.style.height="auto";const De=Ae.getBoundingClientRect().height;Ae.style.height=xe,at(De),b(Ie=>Ie.find(Qe=>Qe.toastId===p.id)?Ie.map(Qe=>Qe.toastId===p.id?{...Qe,height:De}:Qe):[{toastId:p.id,height:De,position:p.position},...Ie])},[L,p.title,p.description,b,p.id,p.jsx,p.action,p.cancel]);const ct=de.useCallback(()=>{ee(!0),Te(We.current),b(Ae=>Ae.filter(xe=>xe.toastId!==p.id)),setTimeout(()=>{k(p)},TU)},[p,k,b,We]);de.useEffect(()=>{if(p.promise&&te==="loading"||p.duration===1/0||p.type==="loading")return;let Ae;return A||m||Le?(()=>{if(Ye.current<Ne.current){const Ie=new Date().getTime()-Ne.current;Ft.current=Ft.current-Ie}Ye.current=new Date().getTime()})():(()=>{Ft.current!==1/0&&(Ne.current=new Date().getTime(),Ae=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),ct()},Ft.current))})(),()=>clearTimeout(Ae)},[A,m,p,te,Le,ct]),de.useEffect(()=>{p.delete&&(ct(),p.onDismiss==null||p.onDismiss.call(p,p))},[ct,p.delete]);function Hn(){var Ae;if(Z?.loading){var xe;return de.createElement("div",{className:ts(H?.loader,p==null||(xe=p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":te==="loading"},Z.loading)}return de.createElement(oU,{className:ts(H?.loader,p==null||(Ae=p.classNames)==null?void 0:Ae.loader),visible:te==="loading"})}const Zn=p.icon||Z?.[te]||sU(te);var ht,yt;return de.createElement("li",{tabIndex:0,ref:et,className:ts(V,se,H?.toast,p==null||(e=p.classNames)==null?void 0:e.toast,H?.default,H?.[te],p==null||(n=p.classNames)==null?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":(ht=p.richColors)!=null?ht:O,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":L,"data-promise":!!p.promise,"data-swiped":Nt,"data-removed":G,"data-visible":Y,"data-y-position":it,"data-x-position":St,"data-index":x,"data-front":U,"data-swiping":ne,"data-dismissible":Q,"data-type":te,"data-invert":un,"data-swipe-out":Ee,"data-swipe-direction":E,"data-expanded":!!(A||_e&&L),"data-testid":p.testId,style:{"--index":x,"--toasts-before":x,"--z-index":T.length-x,"--offset":`${G?Xn:We.current}px`,"--initial-height":_e?"auto":`${Ge}px`,...N,...p.style},onDragEnd:()=>{ge(!1),me(null),lt.current=null},onPointerDown:Ae=>{Ae.button!==2&&(tt||!Q||(sn.current=new Date,Te(We.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ge(!0),lt.current={x:Ae.clientX,y:Ae.clientY})))},onPointerUp:()=>{var Ae,xe,De;if(Ee||!Q)return;lt.current=null;const Ie=Number(((Ae=et.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xt=Number(((xe=et.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qe=new Date().getTime()-((De=sn.current)==null?void 0:De.getTime()),Be=J==="x"?Ie:xt,Ht=Math.abs(Be)/Qe;if(Math.abs(Be)>=CU||Ht>.11){Te(We.current),p.onDismiss==null||p.onDismiss.call(p,p),I(J==="x"?Ie>0?"right":"left":xt>0?"down":"up"),ct(),qe(!0);return}else{var ut,Tt;(ut=et.current)==null||ut.style.setProperty("--swipe-amount-x","0px"),(Tt=et.current)==null||Tt.style.setProperty("--swipe-amount-y","0px")}It(!1),ge(!1),me(null)},onPointerMove:Ae=>{var xe,De,Ie;if(!lt.current||!Q||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;const Qe=Ae.clientY-lt.current.y,Be=Ae.clientX-lt.current.x;var Ht;const ut=(Ht=t.swipeDirections)!=null?Ht:AU(ce);!J&&(Math.abs(Be)>1||Math.abs(Qe)>1)&&me(Math.abs(Be)>Math.abs(Qe)?"x":"y");let Tt={x:0,y:0};const nr=Jn=>1/(1.5+Math.abs(Jn)/20);if(J==="y"){if(ut.includes("top")||ut.includes("bottom"))if(ut.includes("top")&&Qe<0||ut.includes("bottom")&&Qe>0)Tt.y=Qe;else{const Jn=Qe*nr(Qe);Tt.y=Math.abs(Jn)<Math.abs(Qe)?Jn:Qe}}else if(J==="x"&&(ut.includes("left")||ut.includes("right")))if(ut.includes("left")&&Be<0||ut.includes("right")&&Be>0)Tt.x=Be;else{const Jn=Be*nr(Be);Tt.x=Math.abs(Jn)<Math.abs(Be)?Jn:Be}(Math.abs(Tt.x)>0||Math.abs(Tt.y)>0)&&It(!0),(De=et.current)==null||De.style.setProperty("--swipe-amount-x",`${Tt.x}px`),(Ie=et.current)==null||Ie.style.setProperty("--swipe-amount-y",`${Tt.y}px`)}},we&&!p.jsx&&te!=="loading"?de.createElement("button",{"aria-label":be,"data-disabled":tt,"data-close-button":!0,onClick:tt||!Q?()=>{}:()=>{ct(),p.onDismiss==null||p.onDismiss.call(p,p)},className:ts(H?.closeButton,p==null||(i=p.classNames)==null?void 0:i.closeButton)},(yt=Z?.close)!=null?yt:fU):null,(te||p.icon||p.promise)&&p.icon!==null&&(Z?.[te]!==null||p.icon)?de.createElement("div",{"data-icon":"",className:ts(H?.icon,p==null||(r=p.classNames)==null?void 0:r.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Hn():null,p.type!=="loading"?Zn:null):null,de.createElement("div",{"data-content":"",className:ts(H?.content,p==null||(s=p.classNames)==null?void 0:s.content)},de.createElement("div",{"data-title":"",className:ts(H?.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?de.createElement("div",{"data-description":"",className:ts(W,ue,H?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),de.isValidElement(p.cancel)?p.cancel:p.cancel&&_h(p.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||M,onClick:Ae=>{_h(p.cancel)&&Q&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Ae),ct())},className:ts(H?.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,de.isValidElement(p.action)?p.action:p.action&&_h(p.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||B,onClick:Ae=>{_h(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Ae),!Ae.defaultPrevented&&ct())},className:ts(H?.actionButton,p==null||(d=p.classNames)==null?void 0:d.actionButton)},p.action.label):null)};function PC(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function DU(t,e){const n={};return[t,e].forEach((i,r)=>{const s=r===1,o=s?"--mobile-offset":"--offset",c=s?SU:wU;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?n[`${o}-${d}`]=c:n[`${o}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(c)}),n}const OU=de.forwardRef(function(e,n){const{id:i,invert:r,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:u,className:d,offset:h,mobileOffset:p,theme:y="light",richColors:m,duration:b,style:_,visibleToasts:S=_U,toastOptions:x,dir:T=PC(),gap:A=EU,icons:k,containerAriaLabel:O="Notifications"}=e,[P,N]=de.useState([]),M=de.useMemo(()=>i?P.filter(L=>L.toasterId===i):P.filter(L=>!L.toasterId),[P,i]),B=de.useMemo(()=>Array.from(new Set([s].concat(M.filter(L=>L.position).map(L=>L.position)))),[M,s]),[V,W]=de.useState([]),[X,ce]=de.useState(!1),[ye,_e]=de.useState(!1),[H,Z]=de.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),be=de.useRef(null),J=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),me=de.useRef(null),E=de.useRef(!1),I=de.useCallback(L=>{N(z=>{var G;return(G=z.find(ee=>ee.id===L.id))!=null&&G.delete||Ii.dismiss(L.id),z.filter(({id:ee})=>ee!==L.id)})},[]);return de.useEffect(()=>Ii.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{N(z=>z.map(G=>G.id===L.id?{...G,delete:!0}:G))});return}setTimeout(()=>{SL.flushSync(()=>{N(z=>{const G=z.findIndex(ee=>ee.id===L.id);return G!==-1?[...z.slice(0,G),{...z[G],...L},...z.slice(G+1)]:[L,...z]})})})}),[P]),de.useEffect(()=>{if(y!=="system"){Z(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:z})=>{Z(z?"dark":"light")})}catch{L.addListener(({matches:G})=>{try{Z(G?"dark":"light")}catch(ee){console.error(ee)}})}},[y]),de.useEffect(()=>{P.length<=1&&ce(!1)},[P]),de.useEffect(()=>{const L=z=>{var G;if(o.every(ge=>z[ge]||z.code===ge)){var ne;ce(!0),(ne=be.current)==null||ne.focus()}z.code==="Escape"&&(document.activeElement===be.current||(G=be.current)!=null&&G.contains(document.activeElement))&&ce(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[o]),de.useEffect(()=>{if(be.current)return()=>{me.current&&(me.current.focus({preventScroll:!0}),me.current=null,E.current=!1)}},[be.current]),de.createElement("section",{ref:n,"aria-label":`${O} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((L,z)=>{var G;const[ee,ne]=L.split("-");return M.length?de.createElement("ol",{key:L,dir:T==="auto"?PC():T,tabIndex:-1,ref:be,className:d,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":ee,"data-x-position":ne,style:{"--front-toast-height":`${((G=V[0])==null?void 0:G.height)||0}px`,"--width":`${xU}px`,"--gap":`${A}px`,..._,...DU(h,p)},onBlur:ge=>{E.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(E.current=!1,me.current&&(me.current.focus({preventScroll:!0}),me.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||E.current||(E.current=!0,me.current=ge.relatedTarget)},onMouseEnter:()=>ce(!0),onMouseMove:()=>ce(!0),onMouseLeave:()=>{ye||ce(!1)},onDragEnd:()=>ce(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||_e(!0)},onPointerUp:()=>_e(!1)},M.filter(ge=>!ge.position&&z===0||ge.position===L).map((ge,Ee)=>{var qe,Nt;return de.createElement(RU,{key:ge.id,icons:k,index:Ee,toast:ge,defaultRichColors:m,duration:(qe=x?.duration)!=null?qe:b,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:S,closeButton:(Nt=x?.closeButton)!=null?Nt:u,interacting:ye,position:L,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:I,toasts:M.filter(It=>It.position==ge.position),heights:V.filter(It=>It.position==ge.position),setHeights:W,expandByDefault:c,gap:A,expanded:X,swipeDirections:e.swipeDirections})})):null}))});var cv={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function kU(){if(LC)return Xe;LC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function m(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function x(E,I,L){this.props=E,this.context=I,this.refs=S,this.updater=L||b}x.prototype.isReactComponent={},x.prototype.setState=function(E,I){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,I,"setState")},x.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function T(){}T.prototype=x.prototype;function A(E,I,L){this.props=E,this.context=I,this.refs=S,this.updater=L||b}var k=A.prototype=new T;k.constructor=A,_(k,x.prototype),k.isPureReactComponent=!0;var O=Array.isArray;function P(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function B(E,I,L){var z=L.ref;return{$$typeof:t,type:E,key:I,ref:z!==void 0?z:null,props:L}}function V(E,I){return B(E.type,I,E.props)}function W(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function X(E){var I={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(L){return I[L]})}var ce=/\/+/g;function ye(E,I){return typeof E=="object"&&E!==null&&E.key!=null?X(""+E.key):I.toString(36)}function _e(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(P,P):(E.status="pending",E.then(function(I){E.status==="pending"&&(E.status="fulfilled",E.value=I)},function(I){E.status==="pending"&&(E.status="rejected",E.reason=I)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function H(E,I,L,z,G){var ee=typeof E;(ee==="undefined"||ee==="boolean")&&(E=null);var ne=!1;if(E===null)ne=!0;else switch(ee){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(E.$$typeof){case t:case e:ne=!0;break;case h:return ne=E._init,H(ne(E._payload),I,L,z,G)}}if(ne)return G=G(E),ne=z===""?"."+ye(E,0):z,O(G)?(L="",ne!=null&&(L=ne.replace(ce,"$&/")+"/"),H(G,I,L,"",function(qe){return qe})):G!=null&&(W(G)&&(G=V(G,L+(G.key==null||E&&E.key===G.key?"":(""+G.key).replace(ce,"$&/")+"/")+ne)),I.push(G)),1;ne=0;var ge=z===""?".":z+":";if(O(E))for(var Ee=0;Ee<E.length;Ee++)z=E[Ee],ee=ge+ye(z,Ee),ne+=H(z,I,L,ee,G);else if(Ee=m(E),typeof Ee=="function")for(E=Ee.call(E),Ee=0;!(z=E.next()).done;)z=z.value,ee=ge+ye(z,Ee++),ne+=H(z,I,L,ee,G);else if(ee==="object"){if(typeof E.then=="function")return H(_e(E),I,L,z,G);throw I=String(E),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ne}function Z(E,I,L){if(E==null)return E;var z=[],G=0;return H(E,z,"","",function(ee){return I.call(L,ee,G++)}),z}function be(E){if(E._status===-1){var I=E._result;I=I(),I.then(function(L){(E._status===0||E._status===-1)&&(E._status=1,E._result=L)},function(L){(E._status===0||E._status===-1)&&(E._status=2,E._result=L)}),E._status===-1&&(E._status=0,E._result=I)}if(E._status===1)return E._result.default;throw E._result}var J=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},me={map:Z,forEach:function(E,I,L){Z(E,function(){I.apply(this,arguments)},L)},count:function(E){var I=0;return Z(E,function(){I++}),I},toArray:function(E){return Z(E,function(I){return I})||[]},only:function(E){if(!W(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Xe.Activity=p,Xe.Children=me,Xe.Component=x,Xe.Fragment=n,Xe.Profiler=r,Xe.PureComponent=A,Xe.StrictMode=i,Xe.Suspense=u,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return N.H.useMemoCache(E)}},Xe.cache=function(E){return function(){return E.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(E,I,L){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var z=_({},E.props),G=E.key;if(I!=null)for(ee in I.key!==void 0&&(G=""+I.key),I)!M.call(I,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&I.ref===void 0||(z[ee]=I[ee]);var ee=arguments.length-2;if(ee===1)z.children=L;else if(1<ee){for(var ne=Array(ee),ge=0;ge<ee;ge++)ne[ge]=arguments[ge+2];z.children=ne}return B(E.type,G,z)},Xe.createContext=function(E){return E={$$typeof:o,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:s,_context:E},E},Xe.createElement=function(E,I,L){var z,G={},ee=null;if(I!=null)for(z in I.key!==void 0&&(ee=""+I.key),I)M.call(I,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(G[z]=I[z]);var ne=arguments.length-2;if(ne===1)G.children=L;else if(1<ne){for(var ge=Array(ne),Ee=0;Ee<ne;Ee++)ge[Ee]=arguments[Ee+2];G.children=ge}if(E&&E.defaultProps)for(z in ne=E.defaultProps,ne)G[z]===void 0&&(G[z]=ne[z]);return B(E,ee,G)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(E){return{$$typeof:c,render:E}},Xe.isValidElement=W,Xe.lazy=function(E){return{$$typeof:h,_payload:{_status:-1,_result:E},_init:be}},Xe.memo=function(E,I){return{$$typeof:d,type:E,compare:I===void 0?null:I}},Xe.startTransition=function(E){var I=N.T,L={};N.T=L;try{var z=E(),G=N.S;G!==null&&G(L,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(P,J)}catch(ee){J(ee)}finally{I!==null&&L.types!==null&&(I.types=L.types),N.T=I}},Xe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Xe.use=function(E){return N.H.use(E)},Xe.useActionState=function(E,I,L){return N.H.useActionState(E,I,L)},Xe.useCallback=function(E,I){return N.H.useCallback(E,I)},Xe.useContext=function(E){return N.H.useContext(E)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(E,I){return N.H.useDeferredValue(E,I)},Xe.useEffect=function(E,I){return N.H.useEffect(E,I)},Xe.useEffectEvent=function(E){return N.H.useEffectEvent(E)},Xe.useId=function(){return N.H.useId()},Xe.useImperativeHandle=function(E,I,L){return N.H.useImperativeHandle(E,I,L)},Xe.useInsertionEffect=function(E,I){return N.H.useInsertionEffect(E,I)},Xe.useLayoutEffect=function(E,I){return N.H.useLayoutEffect(E,I)},Xe.useMemo=function(E,I){return N.H.useMemo(E,I)},Xe.useOptimistic=function(E,I){return N.H.useOptimistic(E,I)},Xe.useReducer=function(E,I,L){return N.H.useReducer(E,I,L)},Xe.useRef=function(E){return N.H.useRef(E)},Xe.useState=function(E){return N.H.useState(E)},Xe.useSyncExternalStore=function(E,I,L){return N.H.useSyncExternalStore(E,I,L)},Xe.useTransition=function(){return N.H.useTransition()},Xe.version="19.2.0",Xe}var UC;function AO(){return UC||(UC=1,cv.exports=kU()),cv.exports}var xr=AO();const Ce=rl(xr);var uv={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function MU(){if(zC)return Fu;zC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Fu.Fragment=e,Fu.jsx=n,Fu.jsxs=n,Fu}var FC;function NU(){return FC||(FC=1,uv.exports=MU()),uv.exports}var IU=NU(),RO=xr.createContext(null),jU=({children:t,supabaseClient:e,onAuthStateChange:n})=>{const[i,r]=xr.useState(null),[s,o]=xr.useState(null),[c,u]=xr.useState(!0),[d,h]=xr.useState(null);xr.useEffect(()=>{(async()=>{try{const{data:{session:T},error:A}=await e.auth.getSession();A?h("Failed to initialize authentication"):(o(T),r(T?.user??null),n?.(T?.user??null,T))}catch{h("Authentication initialization failed")}finally{u(!1)}})();const{data:{subscription:x}}=e.auth.onAuthStateChange(async(T,A)=>{o(A),r(A?.user??null),h(null),n?.(A?.user??null,A),T==="SIGNED_OUT"&&u(!1)});return()=>x.unsubscribe()},[e,n]);const _={user:i,session:s,loading:c,error:d,signIn:async(S,x)=>{try{h(null);const{error:T}=await e.auth.signInWithPassword({email:S,password:x});return T?(h(T.message),{error:T.message}):{}}catch{const A="Sign in failed";return h(A),{error:A}}},signUp:async(S,x,T)=>{try{h(null);const{error:A}=await e.auth.signUp({email:S,password:x,options:{data:T}});return A?(h(A.message),{error:A.message}):{}}catch{const k="Sign up failed";return h(k),{error:k}}},signOut:async()=>{try{h(null),await e.auth.signOut()}catch{h("Sign out failed")}},resetPassword:async S=>{try{h(null);const{error:x}=await e.auth.resetPasswordForEmail(S);return x?(h(x.message),{error:x.message}):{}}catch{const T="Password reset failed";return h(T),{error:T}}}};return IU.jsx(RO.Provider,{value:_,children:t})},PU=()=>{const t=xr.useContext(RO);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Tb=function(t,e){return Tb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},Tb(t,e)};function DO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Tg=function(){return Tg=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tg.apply(this,arguments)};function Fc(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function OO(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function kO(t,e){return function(n,i){e(n,i,t)}}function MO(t,e,n,i,r,s){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var c=i.kind,u=c==="getter"?"get":c==="setter"?"set":"value",d=!e&&t?i.static?t:t.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),p,y=!1,m=n.length-1;m>=0;m--){var b={};for(var _ in i)b[_]=_==="access"?{}:i[_];for(var _ in i.access)b.access[_]=i.access[_];b.addInitializer=function(x){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(x||null))};var S=(0,n[m])(c==="accessor"?{get:h.get,set:h.set}:h[u],b);if(c==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=o(S.get))&&(h.get=p),(p=o(S.set))&&(h.set=p),(p=o(S.init))&&r.unshift(p)}else(p=o(S))&&(c==="field"?r.unshift(p):h[u]=p)}d&&Object.defineProperty(d,i.name,h),y=!0}function NO(t,e,n){for(var i=arguments.length>2,r=0;r<e.length;r++)n=i?e[r].call(t,n):e[r].call(t);return i?n:void 0}function IO(t){return typeof t=="symbol"?t:"".concat(t)}function jO(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function PO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Me(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(h){try{d(i.next(h))}catch(p){o(p)}}function u(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((i=i.apply(t,e||[])).next())})}function LO(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(h){return u([d,h])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(i=1,r&&(s=d[0]&2?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],r=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var pp=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function UO(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&pp(e,t,n)}function Ag(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function zO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($0(arguments[e]));return t}function FO(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,r++)i[r]=s[o];return i}function HO(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}function Ac(t){return this instanceof Ac?(this.v=t,this):new Ac(t)}function BO(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(m){return function(b){return Promise.resolve(b).then(m,p)}}function c(m,b){i[m]&&(r[m]=function(_){return new Promise(function(S,x){s.push([m,_,S,x])>1||u(m,_)})},b&&(r[m]=b(r[m])))}function u(m,b){try{d(i[m](b))}catch(_){y(s[0][3],_)}}function d(m){m.value instanceof Ac?Promise.resolve(m.value.v).then(h,p):y(s[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,b){m(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function $O(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,s){e[r]=t[r]?function(o){return(n=!n)?{value:Ac(t[r](o)),done:!1}:s?s(o):o}:s}}function VO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ag=="function"?Ag(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),r(c,u,o.done,o.value)})}}function r(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}function qO(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var LU=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Ab=function(t){return Ab=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},Ab(t)};function GO(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Ab(t),i=0;i<n.length;i++)n[i]!=="default"&&pp(e,t,n[i]);return LU(e,t),e}function WO(t){return t&&t.__esModule?t:{default:t}}function YO(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function QO(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n}function KO(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function XO(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var UU=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function ZO(t){function e(s){t.error=t.hasError?new UU(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,i=0;function r(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(r);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(r,function(o){return e(o),r()})}else i|=1}catch(o){e(o)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function JO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,r,s,o){return i?e?".jsx":".js":r&&(!s||!o)?n:r+s+"."+o.toLowerCase()+"js"}):t}const zU={__extends:DO,__assign:Tg,__rest:Fc,__decorate:OO,__param:kO,__esDecorate:MO,__runInitializers:NO,__propKey:IO,__setFunctionName:jO,__metadata:PO,__awaiter:Me,__generator:LO,__createBinding:pp,__exportStar:UO,__values:Ag,__read:$0,__spread:zO,__spreadArrays:FO,__spreadArray:HO,__await:Ac,__asyncGenerator:BO,__asyncDelegator:$O,__asyncValues:VO,__makeTemplateObject:qO,__importStar:GO,__importDefault:WO,__classPrivateFieldGet:YO,__classPrivateFieldSet:QO,__classPrivateFieldIn:KO,__addDisposableResource:XO,__disposeResources:ZO,__rewriteRelativeImportExtension:JO},FU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:XO,get __assign(){return Tg},__asyncDelegator:$O,__asyncGenerator:BO,__asyncValues:VO,__await:Ac,__awaiter:Me,__classPrivateFieldGet:YO,__classPrivateFieldIn:KO,__classPrivateFieldSet:QO,__createBinding:pp,__decorate:OO,__disposeResources:ZO,__esDecorate:MO,__exportStar:UO,__extends:DO,__generator:LO,__importDefault:WO,__importStar:GO,__makeTemplateObject:qO,__metadata:PO,__param:kO,__propKey:IO,__read:$0,__rest:Fc,__rewriteRelativeImportExtension:JO,__runInitializers:NO,__setFunctionName:jO,__spread:zO,__spreadArray:HO,__spreadArrays:FO,__values:Ag,default:zU},Symbol.toStringTag,{value:"Module"})),HU="modulepreload",BU=function(t){return"/scheduler_demo/"+t},HC={},qr=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=u(n.map(d=>{if(d=BU(d),d in HC)return;HC[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":HU,h||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((m,b)=>{y.addEventListener("load",m),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},$U=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:i}=await Promise.resolve().then(()=>al);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class V0 extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class BC extends V0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $C extends V0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class VC extends V0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Rb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Rb||(Rb={}));class VU{constructor(e,{headers:n={},customFetch:i,region:r=Rb.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=$U(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Me(this,arguments,void 0,function*(n,i={}){var r;try{const{headers:s,method:o,body:c,signal:u}=i;let d={},{region:h}=i;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let y;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(d["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(d["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;const m=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:y,signal:u}).catch(x=>{throw x.name==="AbortError"?x:new BC(x)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new $C(m);if(!m.ok)throw new VC(m);let _=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield m.json():_==="application/octet-stream"||_==="application/pdf"?S=yield m.blob():_==="text/event-stream"?S=m:_==="multipart/form-data"?S=yield m.formData():S=yield m.text(),{data:S,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new BC(s)}:{data:null,error:s,response:s instanceof VC||s instanceof $C?s.context:void 0}}})}}var li={};const Hc=ZD(FU);var wh={},Sh={},xh={},Eh={},Ch={},qU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rc=qU();const GU=Rc.fetch,e1=Rc.fetch.bind(Rc),t1=Rc.Headers,WU=Rc.Request,YU=Rc.Response,al=Object.freeze(Object.defineProperty({__proto__:null,Headers:t1,Request:WU,Response:YU,default:e1,fetch:GU},Symbol.toStringTag,{value:"Module"})),QU=ZD(al);var Th={},qC;function n1(){if(qC)return Th;qC=1,Object.defineProperty(Th,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Th.default=t,Th}var GC;function i1(){if(GC)return Ch;GC=1,Object.defineProperty(Ch,"__esModule",{value:!0});const t=Hc,e=t.__importDefault(QU),n=t.__importDefault(n1());class i{constructor(s){var o,c;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(c=s.isMaybeSingle)!==null&&c!==void 0?c:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,y,m;let b=null,_=null,S=null,x=d.status,T=d.statusText;if(d.ok){if(this.method!=="HEAD"){const P=await d.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_=P:_=JSON.parse(P))}const k=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),O=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");k&&O&&O.length>1&&(S=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,x=406,T="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const k=await d.text();try{b=JSON.parse(k),Array.isArray(b)&&d.status===404&&(_=[],b=null,x=200,T="OK")}catch{d.status===404&&k===""?(x=204,T="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((m=b?.details)===null||m===void 0)&&m.includes("0 rows"))&&(b=null,x=200,T="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:_,count:S,status:x,statusText:T}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,p,y;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(p=d?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=d?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return Ch.default=i,Ch}var WC;function r1(){if(WC)return Eh;WC=1,Object.defineProperty(Eh,"__esModule",{value:!0});const e=Hc.__importDefault(i1());class n extends e.default{select(r){let s=!1;const o=(r??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:s=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${r}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${r}`),this}range(r,s,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(d,`${s-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:s=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:d="text"}={}){var h;const p=[r?"analyze":null,s?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Eh.default=n,Eh}var YC;function q0(){if(YC)return xh;YC=1,Object.defineProperty(xh,"__esModule",{value:!0});const e=Hc.__importDefault(r1());class n extends e.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${u}fts${d}.${s}`),this}match(r){return Object.entries(r).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(r,s,o){return this.url.searchParams.append(r,`not.${s}.${o}`),this}or(r,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${r})`),this}filter(r,s,o){return this.url.searchParams.append(r,`${s}.${o}`),this}}return xh.default=n,xh}var QC;function s1(){if(QC)return Sh;QC=1,Object.defineProperty(Sh,"__esModule",{value:!0});const e=Hc.__importDefault(q0());class n{constructor(r,{headers:s={},schema:o,fetch:c}){this.url=r,this.headers=new Headers(s),this.schema=o,this.fetch=c}select(r,s){const{head:o=!1,count:c}=s??{},u=o?"HEAD":"GET";let d=!1;const h=(r??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:s,defaultToNull:o=!0}={}){var c;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(r,{onConflict:s,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((y,m)=>y.concat(Object.keys(m)),[]);if(p.length>0){const y=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:s}={}){var o;const c="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:r}={}){var s;const o="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Sh.default=n,Sh}var KC;function KU(){if(KC)return wh;KC=1,Object.defineProperty(wh,"__esModule",{value:!0});const t=Hc,e=t.__importDefault(s1()),n=t.__importDefault(q0());class i{constructor(s,{headers:o={},schema:c,fetch:u}={}){this.url=s,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:c=!1,get:u=!1,count:d}={}){var h;let p;const y=new URL(`${this.url}/rpc/${s}`);let m;c||u?(p=c?"HEAD":"GET",Object.entries(o).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{y.searchParams.append(_,S)})):(p="POST",m=o);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new n.default({method:p,url:y,headers:b,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return wh.default=i,wh}var XC;function XU(){if(XC)return li;XC=1,Object.defineProperty(li,"__esModule",{value:!0}),li.PostgrestError=li.PostgrestBuilder=li.PostgrestTransformBuilder=li.PostgrestFilterBuilder=li.PostgrestQueryBuilder=li.PostgrestClient=void 0;const t=Hc,e=t.__importDefault(KU());li.PostgrestClient=e.default;const n=t.__importDefault(s1());li.PostgrestQueryBuilder=n.default;const i=t.__importDefault(q0());li.PostgrestFilterBuilder=i.default;const r=t.__importDefault(r1());li.PostgrestTransformBuilder=r.default;const s=t.__importDefault(i1());li.PostgrestBuilder=s.default;const o=t.__importDefault(n1());return li.PostgrestError=o.default,li.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:s.default,PostgrestError:o.default},li}var ZU=XU();const JU=rl(ZU),{PostgrestClient:ez,PostgrestQueryBuilder:Aee,PostgrestFilterBuilder:Ree,PostgrestTransformBuilder:Dee,PostgrestBuilder:Oee,PostgrestError:kee}=JU;class tz{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const nz="2.76.1",iz=`realtime-js/${nz}`,rz="1.0.0",Db=1e4,sz=1e3,az=100;var sd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(sd||(sd={}));var jn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jn||(jn={}));var Pr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pr||(Pr={}));var Ob;(function(t){t.websocket="websocket"})(Ob||(Ob={}));var Fo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fo||(Fo={}));class oz{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=i.decode(e.slice(o,o+r));o=o+r;const u=i.decode(e.slice(o,o+s));o=o+s;const d=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:u,payload:d}}}class a1{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qt||(Qt={}));const ZC=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=lz(o,t,e,r),s),{}):{}},lz=(t,e,n,i)=>{const r=e.find(c=>c.name===t),s=r?.type,o=n[t];return s&&!i.includes(s)?o1(s,o):kb(o)},o1=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return fz(e,n)}switch(t){case Qt.bool:return cz(e);case Qt.float4:case Qt.float8:case Qt.int2:case Qt.int4:case Qt.int8:case Qt.numeric:case Qt.oid:return uz(e);case Qt.json:case Qt.jsonb:return dz(e);case Qt.timestamp:return hz(e);case Qt.abstime:case Qt.date:case Qt.daterange:case Qt.int4range:case Qt.int8range:case Qt.money:case Qt.reltime:case Qt.text:case Qt.time:case Qt.timestamptz:case Qt.timetz:case Qt.tsrange:case Qt.tstzrange:return kb(e);default:return kb(e)}},kb=t=>t,cz=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},uz=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dz=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fz=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(c=>o1(e,c))}return t},hz=t=>typeof t=="string"?t.replace(" ","T"):t,l1=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class dv{constructor(e,n,i={},r=Db){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var JC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(JC||(JC={}));class ad{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ad.syncState(this.state,r,s,o),this.pendingDiffs.forEach(u=>{this.state=ad.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ad.syncDiff(this.state,r,s,o),c())}),this.onJoin((r,s,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:o})}),this.onLeave((r,s,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const s=this.cloneDeep(e),o=this.transformState(n),c={},u={};return this.map(s,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=s[d];if(p){const y=h.map(S=>S.presence_ref),m=p.map(S=>S.presence_ref),b=h.filter(S=>m.indexOf(S.presence_ref)<0),_=p.filter(S=>y.indexOf(S.presence_ref)<0);b.length>0&&(c[d]=b),_.length>0&&(u[d]=_)}else c[d]=h}),this.syncDiff(s,{joins:c,leaves:u},i,r)}static syncDiff(e,n,i,r){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(c,u)=>{var d;const h=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(u),h.length>0){const p=e[c].map(m=>m.presence_ref),y=h.filter(m=>p.indexOf(m.presence_ref)<0);e[c].unshift(...y)}i(c,h,u)}),this.map(o,(c,u)=>{let d=e[c];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[c]=d,r(c,d,u),d.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(eT||(eT={}));var od;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(od||(od={}));var Hs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Hs||(Hs={}));class G0{constructor(e,n={config:{}},i){var r,s;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dv(this,Pr.join,this.params,this.timeout),this.rejoinTimer=new a1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pr.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new ad(this),this.broadcastEndpointURL=l1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==jn.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,d=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(m=>m.filter))!==null&&r!==void 0?r:[],h=!!this.bindings[od.PRESENCE]&&this.bindings[od.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},y={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>e?.(Hs.CHANNEL_ERROR,m)),this._onClose(()=>e?.(Hs.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){e?.(Hs.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(b=_?.length)!==null&&b!==void 0?b:0,x=[];for(let T=0;T<S;T++){const A=_[T],{filter:{event:k,schema:O,table:P,filter:N}}=A,M=m&&m[T];if(M&&M.event===k&&M.schema===O&&M.table===P&&M.filter===N)x.push(Object.assign(Object.assign({},A),{id:M.id}));else{this.unsubscribe(),this.state=jn.errored,e?.(Hs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Hs.SUBSCRIBED);return}}).receive("error",m=>{this.state=jn.errored,e?.(Hs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e?.(Hs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===jn.joined&&e===od.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var r;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const d=await c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,c,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new dv(this,Pr.leave,{},e),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jn.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const r=new AbortController,s=setTimeout(()=>r.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(s),o}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new dv(this,e,n,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>az){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,s;const o=e.toLocaleLowerCase(),{close:c,error:u,leave:d,join:h}=Pr;if(i&&[c,u,d,h].indexOf(o)>=0&&i!==this._joinRef())return;let y=this._onMessage(o,n,i);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var b,_,S;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(_=m.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(m=>m.callback(y,i)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var b,_,S,x,T,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const k=m.id,O=(b=m.filter)===null||b===void 0?void 0:b.event;return k&&((_=n.ids)===null||_===void 0?void 0:_.includes(k))&&(O==="*"||O?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const k=(T=(x=m?.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return k==="*"||k===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:_,table:S,commit_timestamp:x,type:T,errors:A}=b;y=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:x,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(b))}m.callback(y,i)})}_isClosed(){return this.state===jn.closed}_isJoined(){return this.state===jn.joined}_isJoining(){return this.state===jn.joining}_isLeaving(){return this.state===jn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),s={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&G0.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pr.close,{},e)}_onError(e){this._on(Pr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ZC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ZC(e.columns,e.old_record)),n}}const fv=()=>{},Ah={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gz=[1e3,2e3,5e3,1e4],pz=1e4,mz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yz{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Db,this.transport=null,this.heartbeatIntervalMs=Ah.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fv,this.ref=0,this.reconnectTimer=null,this.logger=fv,this.conn=null,this.sendBuffer=[],this.serializer=new oz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...o)=>qr(async()=>{const{default:c}=await Promise.resolve().then(()=>al);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ob.websocket}`,this.httpEndpoint=l1(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tz.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rz}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case sd.connecting:return Fo.Connecting;case sd.open:return Fo.Open;case sd.closing:return Fo.Closing;default:return Fo.Closed}}isConnected(){return this.connectionState()===Fo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(s=>s.topic===i);if(r)return r;{const s=new G0(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:i,payload:r,ref:s}=e,o=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${i} (${s})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(sz,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ah.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:s,ref:o}=n,c=o?`(${o})`:"",u=s.status||"";this.log("receive",`${u} ${i} ${r} ${c}`.trim(),s),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(r,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([mz],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:iz};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(Pr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new a1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ah.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,r,s,o,c,u,d,h;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Db,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:Ah.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:fv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(p=>gz[p-1]||pz),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((p,y)=>y(JSON.stringify(p))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class W0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class vz extends W0{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mb extends W0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Y0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:i}=await Promise.resolve().then(()=>al);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},bz=()=>Me(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qr(()=>Promise.resolve().then(()=>al),void 0)).Response:Response}),Nb=t=>{if(Array.isArray(t))return t.map(n=>Nb(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[r]=Nb(i)}),e},_z=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wz=(t,e,n)=>Me(void 0,void 0,void 0,function*(){const i=yield bz();t instanceof i&&!n?.noResolveJson?t.json().then(r=>{const s=t.status||500,o=r?.statusCode||s+"";e(new vz(hv(r),s,o))}).catch(r=>{e(new Mb(hv(r),r))}):e(new Mb(hv(t),t))}),Sz=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!i?r:(_z(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Gd(t,e,n,i,r,s){return Me(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,Sz(e,i,r,s)).then(u=>{if(!u.ok)throw u;return i?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>wz(u,c,i))})})}function Td(t,e,n,i){return Me(this,void 0,void 0,function*(){return Gd(t,"GET",e,n,i)})}function jr(t,e,n,i,r){return Me(this,void 0,void 0,function*(){return Gd(t,"POST",e,i,r,n)})}function Ib(t,e,n,i,r){return Me(this,void 0,void 0,function*(){return Gd(t,"PUT",e,i,r,n)})}function xz(t,e,n,i){return Me(this,void 0,void 0,function*(){return Gd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Q0(t,e,n,i,r){return Me(this,void 0,void 0,function*(){return Gd(t,"DELETE",e,i,r,n)})}class Ez{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dn(e))return{data:null,error:e};throw e}})}}var c1;class Cz{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[c1]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ez(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dn(e))return{data:null,error:e};throw e}})}}c1=Symbol.toStringTag;const Tz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Az{constructor(e,n={},i,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=Y0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,r){return Me(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},tT),r);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=i,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),r?.headers&&(c=Object.assign(Object.assign({},c),r.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(e=="PUT"?Ib:jr)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dn(s))return{data:null,error:s};throw s}})}upload(e,n,i){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return Me(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:tT.upsert},r),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl)):(u=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield Ib(this.fetch,c.toString(),u,{headers:h});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(dn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Me(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const s=yield jr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),o=new URL(this.url+s.url),c=o.searchParams.get("token");if(!c)throw new W0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dn(i))return{data:null,error:i};throw i}})}update(e,n,i){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Me(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}copy(e,n,i){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return Me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield jr(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return Me(this,void 0,void 0,function*(){try{const r=yield jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"",c=this._getFinalPath(e),u=()=>Td(this.fetch,`${this.url}/${r}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new Cz(u,this.shouldThrowOnError)}info(e){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Td(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Nb(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dn(i))return{data:null,error:i};throw i}})}exists(e){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield xz(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dn(i)&&i instanceof Mb){const r=i.originalError;if([400,404].includes(r?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&r.push(s);const c=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&r.push(u);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${d}`)}}}remove(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Q0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}list(e,n,i){return Me(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Tz),n),{prefix:e||""});return{data:yield jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}listV2(e,n){return Me(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield jr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const u1="2.76.1",d1={"X-Client-Info":`storage-js/${u1}`};class Rz{constructor(e,n={},i,r){this.shouldThrowOnError=!1;const s=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},d1),n),this.fetch=Y0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Me(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dn(e))return{data:null,error:e};throw e}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}createBucket(e){return Me(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Ib(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Q0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}}class Dz{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},d1),n),this.fetch=Y0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}listBuckets(e){return Me(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),r=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,s=yield Td(this.fetch,r,{headers:this.headers});return{data:Array.isArray(s)?s.filter(c=>c.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Q0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}}const K0={"X-Client-Info":`storage-js/${u1}`,"Content-Type":"application/json"};class f1 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ki(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class gv extends f1{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Oz extends f1{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var nT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(nT||(nT={}));const X0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:i}=await Promise.resolve().then(()=>al);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},kz=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},iT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mz=(t,e,n)=>Me(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const c=o?.statusCode||o?.code||r+"";e(new gv(iT(o),r,c))}).catch(()=>{const o=r+"",c=s.statusText||`HTTP ${r} error`;e(new gv(c,r,o))});else{const o=r+"",c=s.statusText||`HTTP ${r} error`;e(new gv(c,r,o))}}else e(new Oz(iT(t),t))}),Nz=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return i?(kz(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,Object.assign(Object.assign({},r),n)):r};function Iz(t,e,n,i,r,s){return Me(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,Nz(e,i,r,s)).then(u=>{if(!u.ok)throw u;if(i?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>Mz(u,c,i))})})}function Xi(t,e,n,i,r){return Me(this,void 0,void 0,function*(){return Iz(t,"POST",e,i,r,n)})}class jz{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K0),n),this.fetch=X0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Xi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ki(i))return{data:null,error:i};throw i}})}listIndexes(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Me(this,void 0,void 0,function*(){try{return{data:(yield Xi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ki(i))return{data:null,error:i};throw i}})}}class Pz{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K0),n),this.fetch=X0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Xi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}getVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}listVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Xi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}queryVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Xi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}}class Lz{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K0),n),this.fetch=X0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Xi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}listBuckets(){return Me(this,arguments,void 0,function*(e={}){try{return{data:yield Xi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Xi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}}class Uz extends Lz{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new zz(this.url,this.headers,e,this.fetch)}}class zz extends jz{constructor(e,n,i,r){super(e,n,r),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Me(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Me(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Me(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Me(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Fz(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Fz extends Pz{constructor(e,n,i,r,s){super(e,n,s),this.vectorBucketName=i,this.indexName=r}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Me(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Me(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Me(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Me(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Me(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Hz extends Rz{constructor(e,n={},i,r){super(e,n,i,r)}from(e){return new Az(this.url,this.headers,e,this.fetch)}get vectors(){return new Uz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Dz(this.url+"/iceberg",this.headers,this.fetch)}}const Bz="2.76.1";let ed="";typeof Deno<"u"?ed="deno":typeof document<"u"?ed="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ed="react-native":ed="node";const $z={"X-Client-Info":`supabase-js-${ed}/${Bz}`},Vz={headers:$z},qz={schema:"public"},Gz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wz={},Yz=t=>{let e;return t?e=t:typeof fetch>"u"?e=e1:e=fetch,(...n)=>e(...n)},Qz=()=>typeof Headers>"u"?t1:Headers,Kz=(t,e,n)=>{const i=Yz(n),r=Qz();return async(s,o)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let d=new r(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),i(s,Object.assign(Object.assign({},o),{headers:d}))}};function Xz(t){return t.endsWith("/")?t:t+"/"}function Zz(t,e){var n,i;const{db:r,auth:s,realtime:o,global:c}=t,{db:u,auth:d,realtime:h,global:p}=e,y={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function Jz(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Xz(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const h1="2.76.1",cc=30*1e3,jb=3,pv=jb*cc,eF="http://localhost:9999",tF="supabase.auth.token",nF={"X-Client-Info":`gotrue-js/${h1}`},Pb="X-Supabase-Api-Version",g1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rF=600*1e3;class Ad extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function ze(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sF extends Ad{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function aF(t){return ze(t)&&t.name==="AuthApiError"}class Ho extends Ad{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class to extends Ad{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class Na extends to{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oF(t){return ze(t)&&t.name==="AuthSessionMissingError"}class Zl extends to{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rh extends to{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dh extends to{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lF(t){return ze(t)&&t.name==="AuthImplicitGrantRedirectError"}class rT extends to{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lb extends to{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function mv(t){return ze(t)&&t.name==="AuthRetryableFetchError"}class sT extends to{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Ub extends to{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aT=` 	
\r=`.split(""),cF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<aT.length;e+=1)t[aT[e].charCodeAt(0)]=-2;for(let e=0;e<Rg.length;e+=1)t[Rg[e].charCodeAt(0)]=e;return t})();function oT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Rg[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Rg[i]),e.queuedBits-=6}}function p1(t,e,n){const i=cF[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function lT(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},s=o=>{fF(o,i,n)};for(let o=0;o<t.length;o+=1)p1(t.charCodeAt(o),r,s);return e.join("")}function uF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function dF(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}uF(i,e)}}function fF(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function vc(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)p1(t.charCodeAt(r),n,i);return new Uint8Array(e)}function hF(t){const e=[];return dF(t,n=>e.push(n)),new Uint8Array(e)}function Vo(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};return t.forEach(r=>oT(r,n,i)),oT(null,n,i),e.join("")}function gF(t){return Math.round(Date.now()/1e3)+t}function pF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qi=()=>typeof window<"u"&&typeof document<"u",Ao={tested:!1,writable:!1},m1=()=>{if(!Qi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ao.tested)return Ao.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ao.tested=!0,Ao.writable=!0}catch{Ao.tested=!0,Ao.writable=!1}return Ao.writable};function mF(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,s)=>{e[s]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const y1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:i}=await Promise.resolve().then(()=>al);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},yF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ro=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Da=async(t,e)=>{await t.removeItem(e)};class mp{constructor(){this.promise=new mp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}mp.promiseConstructor=Promise;function yv(t){const e=t.split(".");if(e.length!==3)throw new Ub("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!iF.test(e[i]))throw new Ub("JWT not in base64url format");return{header:JSON.parse(lT(e[0])),payload:JSON.parse(lT(e[1])),signature:vc(e[2]),raw:{header:e[0],payload:e[1]}}}async function vF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bF(t,e){return new Promise((i,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){i(o);return}}catch(o){if(!e(s,o)){r(o);return}}})()})}function _F(t){return("0"+t.toString(16)).substr(-2)}function wF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let s=0;s<56;s++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,_F).join("")}async function SF(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}async function xF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await SF(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jl(t,e,n=!1){const i=wF();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await uc(t,`${e}-code-verifier`,r);const s=await xF(i);return[s,i===s?"plain":"s256"]}const EF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CF(t){const e=t.headers.get(Pb);if(!e||!e.match(EF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function TF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ec(t){if(!RF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vv(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cT(t){return JSON.parse(JSON.stringify(t))}const No=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DF=[502,503,504];async function uT(t){var e;if(!yF(t))throw new Lb(No(t),0);if(DF.includes(t.status))throw new Lb(No(t),t.status);let n;try{n=await t.json()}catch(s){throw new Ho(No(s),s)}let i;const r=CF(t);if(r&&r.getTime()>=g1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new sT(No(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Na}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new sT(No(n),t.status,n.weak_password.reasons);throw new sF(No(n),t.status||500,i)}const OF=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Je(t,e,n,i){var r;const s=Object.assign({},i?.headers);s[Pb]||(s[Pb]=g1["2024-01-01"].name),i?.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const o=(r=i?.query)!==null&&r!==void 0?r:{};i?.redirectTo&&(o.redirect_to=i.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await kF(t,e,n+c,{headers:s,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(u):{data:Object.assign({},u),error:null}}async function kF(t,e,n,i,r,s){const o=OF(e,i,r,s);let c;try{c=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new Lb(No(u),0)}if(c.ok||await uT(c),i?.noResolveJson)return c;try{return await c.json()}catch(u){await uT(u)}}function Ir(t){var e;let n=null;IF(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=gF(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function dT(t){const e=Ir(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function La(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function MF(t){return{data:t,error:null}}function NF(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s}=t,o=Fc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function fT(t){return t}function IF(t){return t.access_token&&t.refresh_token&&t.expires_in}const bv=["global","local","others"];class jF{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=y1(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=bv[0]){if(bv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bv.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:La})}catch(i){if(ze(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Fc(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:NF,redirectTo:n?.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:La})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,s,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:fT});if(h.error)throw h.error;const p=await h.json(),y=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(u=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);d[`${S}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ze(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){ec(e);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:La})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ec(e);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:La})}catch(i){if(ze(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){ec(e);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:La})}catch(i){if(ze(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ec(e.userId);try{const{data:n,error:i}=await Je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ec(e.userId),ec(e.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,r,s,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:fT});if(h.error)throw h.error;const p=await h.json(),y=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(u=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);d[`${S}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ze(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function hT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const tc={debug:!!(globalThis&&m1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class PF extends v1{}async function LF(t,e,n){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),tc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function UF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function b1(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function zF(t){return parseInt(t,16)}function FF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function HF(t){var e;const{chainId:n,domain:i,expirationTime:r,issuedAt:s=new Date,nonce:o,notBefore:c,requestId:u,resources:d,scheme:h,uri:p,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=b1(t.address),b=h?`${h}://${i}`:i,_=t.statement?`${t.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${m}

${_}`;let x=`URI: ${p}
Version: ${y}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(r&&(x+=`
Expiration Time: ${r.toISOString()}`),c&&(x+=`
Not Before: ${c.toISOString()}`),u&&(x+=`
Request ID: ${u}`),d){let T=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);T+=`
- ${A}`}x+=T}return`${S}
${x}`}class Dn extends Error{constructor({message:e,code:n,cause:i,name:r}){var s;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(s=r??(i instanceof Error?i.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Dg extends Dn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function BF({error:t,options:e}){var n,i,r;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Dn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Dn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Dn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Dn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Dn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Dn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Dn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(_1(o)){if(s.rp.id!==o)return new Dn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Dn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Dn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $F({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Dn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(_1(i)){if(n.rpId!==i)return new Dn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Dn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class VF{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const qF=new VF;function GF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,r=Fc(t,["challenge","user","excludeCredentials"]),s=vc(e).buffer,o=Object.assign(Object.assign({},n),{id:vc(n.id).buffer}),c=Object.assign(Object.assign({},r),{challenge:s,user:o});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let u=0;u<i.length;u++){const d=i[u];c.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:vc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function WF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Fc(t,["challenge","allowCredentials"]),r=vc(e).buffer,s=Object.assign(Object.assign({},i),{challenge:r});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},c),{id:vc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function YF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Vo(new Uint8Array(t.response.attestationObject)),clientDataJSON:Vo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function QF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Vo(new Uint8Array(r.authenticatorData)),clientDataJSON:Vo(new Uint8Array(r.clientDataJSON)),signature:Vo(new Uint8Array(r.signature)),userHandle:r.userHandle?Vo(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _1(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function gT(){var t,e;return!!(Qi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function KF(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dg("Browser returned unexpected credential type",e)}:{data:null,error:new Dg("Empty credential response",e)}}catch(e){return{data:null,error:BF({error:e,options:t})}}}async function XF(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dg("Browser returned unexpected credential type",e)}:{data:null,error:new Dg("Empty credential response",e)}}catch(e){return{data:null,error:$F({error:e,options:t})}}}const ZF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},JF={userVerification:"preferred",hints:["security-key"]};function Og(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of t)if(r)for(const s in r){const o=r[s];if(o!==void 0)if(Array.isArray(o))i[s]=o;else if(n(o))i[s]=o;else if(e(o)){const c=i[s];e(c)?i[s]=Og(c,o):i[s]=Og(o)}else i[s]=o}return i}function eH(t,e){return Og(ZF,t,e||{})}function tH(t,e){return Og(JF,t,e||{})}class nH{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:r},s){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:c};const u=r??qF.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=eH(o.webauthn.credential_options.publicKey,s?.create),{data:h,error:p}=await KF({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=tH(o.webauthn.credential_options.publicKey,s?.request),{data:h,error:p}=await XF(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ho("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}},s){if(!n)return{data:null,error:new Ad("rpId is required for WebAuthn authentication")};try{if(!gT())return{data:null,error:new Ho("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:r},{request:s});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:i,credential_response:u.credential_response}})}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ho("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r},s){if(!n)return{data:null,error:new Ad("rpId is required for WebAuthn registration")};try{if(!gT())return{data:null,error:new Ho("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:c};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:r},{create:s});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:i,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ho("Unexpected error in register",o)}}}}UF();const iH={url:eF,storageKey:tF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pT(t,e,n){return await n()}const nc={};class Rd{get jwks(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{cachedAt:e})}constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rd.nextInstanceID,Rd.nextInstanceID+=1,this.instanceID>0&&Qi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},iH),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new jF({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=y1(r.fetch),this.lock=r.lock||pT,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Qi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=LF:this.lock=pT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nH(this)},this.persistSession?(r.storage?this.storage=r.storage:m1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hT(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=hT(this.memoryStorage)),Qi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${h1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=mF(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Qi()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lF(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:c}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?{error:n}:{error:new Ho("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const s=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Ir}),{data:o,error:c}=s;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(ze(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,r;try{let s;if("email"in e){const{email:h,password:p,options:y}=e;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Jl(this.storage,this.storageKey)),s=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:h,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:m,code_challenge_method:b},xform:Ir})}else if("phone"in e){const{phone:h,password:p,options:y}=e;s=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(i=y?.data)!==null&&i!==void 0?i:{},channel:(r=y?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Ir})}else throw new Rh("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(ze(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:c}=e;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:dT})}else if("phone"in e){const{phone:s,password:o,options:c}=e;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:dT})}else throw new Rh("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Zl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,r,s,o,c,u,d,h,p,y;let m,b;if("message"in e)m=e.message,b=e.signature;else{const{chain:_,wallet:S,statement:x,options:T}=e;let A;if(Qi())if(typeof S=="object")A=S;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")A=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const k=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),O=await A.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=b1(O[0]);let N=(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!N){const B=await A.request({method:"eth_chainId"});N=zF(B)}const M={domain:k.host,address:P,statement:x,uri:k.href,version:"1",chainId:N,nonce:(r=T?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=T?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=HF(M),b=await A.request({method:"personal_sign",params:[FF(m),P]})}try{const{data:_,error:S}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ir});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Zl}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(ze(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var n,i,r,s,o,c,u,d,h,p,y,m;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:S,wallet:x,statement:T,options:A}=e;let k;if(Qi())if(typeof x=="object")k=x;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))k=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const O=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const P=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),T?{statement:T}:null));let N;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")N=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)N=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(r=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const P=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:S,error:x}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Vo(_)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ir});if(x)throw x;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Zl}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:x})}catch(S){if(ze(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await Ro(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:s,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ir});if(await Da(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Zl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:o})}catch(s){if(ze(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:s,nonce:o}=e,c=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ir}),{data:u,error:d}=c;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Zl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,s,o;try{if("email"in e){const{email:c,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Jl(this.storage,this.storageKey));const{error:p}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:c,options:u}=e,{data:d,error:h}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Rh("You must provide either an email or phone number.")}catch(c){if(ze(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,i;try{let r,s;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:c}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Ir});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Jl(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:MF})}catch(s){if(ze(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Na;const{error:r}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:s}=e,{error:o}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:r,options:s}=e,{data:o,error:c}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:c}}throw new Rh("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ro(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<pv:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const o=await Ro(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=vv()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:La}):await this._useSession(async n=>{var i,r,s;const{data:o,error:c}=n;if(c)throw c;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Na}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:La})})}catch(n){if(ze(n))return oF(n)&&(await this._removeSession(),await Da(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new Na;const o=r.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await Jl(this.storage,this.storageKey));const{data:d,error:h}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:La});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(ze(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Na;const n=Date.now()/1e3;let i=n,r=!0,s=null;const{payload:o}=yv(e.access_token);if(o.exp&&(i=o.exp,r=i<=n),r){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:o,error:c}=n;if(c)throw c;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Na;const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qi())throw new Dh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rT("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:c,expires_at:u,token_type:d}=e;if(!s||!c||!o||!d)throw new Dh("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(c);let y=h+p;u&&(y=parseInt(u));const m=y-h;m*1e3<=cc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const b=y-p;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,h);const{data:_,error:S}=await this._getUser(s);if(S)throw S;const x={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:p,expires_at:y,refresh_token:o,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(i){if(ze(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ro(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{error:s};const o=(i=r.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(aF(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Da(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=pF(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:s},error:o}=n;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await Jl(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ze(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:r}=await this._useSession(async s=>{var o,c,u,d,h;const{data:p,error:y}=s;if(y)throw y;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(r)throw r;return Qi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(ze(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:r,data:{session:s}}=n;if(r)throw r;const{options:o,provider:c,token:u,access_token:d,nonce:h}=e,p=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ir}),{data:y,error:m}=p;return m?{data:{user:null,session:null},error:m}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Zl}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:m})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await bF(async r=>(r>0&&await vF(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ir})),(r,s)=>{const o=200*Math.pow(2,r);return s&&mv(s)&&Date.now()+o-i<cc})}catch(i){if(this._debug(n,"error",i),ze(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Qi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await Ro(this.storage,this.storageKey);if(r&&this.userStorage){let o=await Ro(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await uc(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o?.user)!==null&&e!==void 0?e:vv()}else if(r&&!r.user&&!r.user){const o=await Ro(this.storage,this.storageKey+"-user");o&&o?.user?(r.user=o.user,await Da(this.storage,this.storageKey+"-user"),await uc(this.storage,this.storageKey,r)):r.user=vv()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const s=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<pv;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${pv}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),mv(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(r.access_token);!c&&o?.user?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Na;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new mp;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Na;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(r,"error",s),ze(s)){const o={data:null,error:s};return mv(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await uc(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const s=cT(r);await uc(this.storage,this.storageKey,s)}else{const r=cT(n);await uc(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Da(this.storage,this.storageKey),await Da(this.storage,this.storageKey+"-code-verifier"),await Da(this.storage,this.storageKey+"-user"),this.userStorage&&await Da(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/cc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${cc}ms, refresh threshold is ${jb} ticks`),r<=jb&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof v1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,o]=await Jl(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(c.toString())}if(i?.queryParams){const s=new URLSearchParams(i.queryParams);r.push(s.toString())}return i?.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await Je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&u.type==="totp"&&(!((r=u?.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?YF(e.webauthn.credential_response):QF(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await Je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const o=await Je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:GF(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:WF(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])r.all.push(s),s.status==="verified"&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yv(r.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+rF>r)return i;const{data:s,error:o}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=r,i=s.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};i=m.session.access_token}const{header:r,payload:s,signature:o,raw:{header:c,payload:u}}=yv(i);n?.allowExpired||TF(s.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:m}=await this.getUser(i);if(m)throw m;return{data:{claims:s,header:r,signature:o},error:null}}const h=AF(r.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,hF(`${c}.${u}`)))throw new Ub("Invalid JWT signature");return{data:{claims:s,header:r,signature:o},error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}}}Rd.nextInstanceID=0;const rH=Rd;class sH extends rH{constructor(e){super(e)}}class aH{constructor(e,n,i){var r,s,o;this.supabaseUrl=e,this.supabaseKey=n;const c=Jz(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:qz,realtime:Wz,auth:Object.assign(Object.assign({},Gz),{storageKey:u}),global:Vz},h=Zz(i??{},d);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Kz(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ez(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Hz(this.storageUrl.href,this.headers,this.fetch,i?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new VU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,storageKey:o,flowType:c,lock:u,debug:d},h,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sH({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,flowType:c,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new yz(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oH=(t,e,n)=>new aH(t,e,n);function lH(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}lH()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var cH=t=>{const e={auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}};return oH(t.url,t.anonKey,{...e,...t.options})},uH=(t,e="")=>t.code==="23505"?"This record already exists":t.code==="23503"?"Cannot perform this operation due to related records":t.code==="PGRST116"?"No records found":t.message?.includes("JWT")?"Authentication error. Please refresh the page":t.message||"An unexpected error occurred",_v={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function dH(){if(mT)return ci;mT=1;var t=AO();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ci.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},ci.flushSync=function(u){var d=o.T,h=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=d,i.p=h,i.d.f()}},ci.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},ci.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},ci.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:m}):h==="script"&&i.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ci.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},ci.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin);i.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ci.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=c(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},ci.requestFormReset=function(u){i.d.r(u)},ci.unstable_batchedUpdates=function(u,d){return u(d)},ci.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},ci.useFormStatus=function(){return o.H.useHostTransitionStatus()},ci.version="19.2.0",ci}var yT;function fH(){if(yT)return _v.exports;yT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_v.exports=dH(),_v.exports}var hH=fH();const gH=rl(hH);var pH=t=>{switch(t){case"success":return vH;case"info":return _H;case"warning":return bH;case"error":return wH;default:return null}},mH=Array(12).fill(0),yH=({visible:t,className:e})=>Ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ce.createElement("div",{className:"sonner-spinner"},mH.map((n,i)=>Ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),vH=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bH=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_H=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wH=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SH=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xH=()=>{let[t,e]=Ce.useState(document.hidden);return Ce.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},zb=1,EH=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...i}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:zb++,s=this.toasts.find(c=>c.id===r),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(c=>c.id===r?(this.publish({...c,...t,id:r,title:n}),{...c,...t,id:r,dismissible:o,title:n}):c):this.addToast({title:n,...i,dismissible:o,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),r=n!==void 0,s,o=i.then(async u=>{if(s=["resolve",u],Ce.isValidElement(u))r=!1,this.create({id:n,type:"default",message:u});else if(TH(u)&&!u.ok){r=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:n,type:"error",message:d,description:h})}else if(e.success!==void 0){r=!1;let d=typeof e.success=="function"?await e.success(u):e.success,h=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async u=>{if(s=["reject",u],e.error!==void 0){r=!1;let d=typeof e.error=="function"?await e.error(u):e.error,h=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var u;r&&(this.dismiss(n),n=void 0),(u=e.finally)==null||u.call(e)}),c=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,e)=>{let n=e?.id||zb++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ji=new EH,CH=(t,e)=>{let n=e?.id||zb++;return ji.addToast({title:t,...e,id:n}),n},TH=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",AH=CH,RH=()=>ji.toasts,DH=()=>ji.getActiveToasts(),ol=Object.assign(AH,{success:ji.success,info:ji.info,warning:ji.warning,error:ji.error,custom:ji.custom,message:ji.message,promise:ji.promise,dismiss:ji.dismiss,loading:ji.loading},{getHistory:RH,getToasts:DH});function OH(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}OH(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Oh(t){return t.label!==void 0}var kH=3,MH="32px",NH="16px",vT=4e3,IH=356,jH=14,PH=20,LH=200;function Nr(...t){return t.filter(Boolean).join(" ")}function UH(t){let[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}var zH=t=>{var e,n,i,r,s,o,c,u,d,h,p;let{invert:y,toast:m,unstyled:b,interacting:_,setHeights:S,visibleToasts:x,heights:T,index:A,toasts:k,expanded:O,removeToast:P,defaultRichColors:N,closeButton:M,style:B,cancelButtonStyle:V,actionButtonStyle:W,className:X="",descriptionClassName:ce="",duration:ye,position:_e,gap:H,loadingIcon:Z,expandByDefault:be,classNames:J,icons:me,closeButtonAriaLabel:E="Close toast",pauseWhenPageIsHidden:I}=t,[L,z]=Ce.useState(null),[G,ee]=Ce.useState(null),[ne,ge]=Ce.useState(!1),[Ee,qe]=Ce.useState(!1),[Nt,It]=Ce.useState(!1),[Xn,Te]=Ce.useState(!1),[Ge,at]=Ce.useState(!1),[Ft,sn]=Ce.useState(0),[et,U]=Ce.useState(0),Y=Ce.useRef(m.duration||ye||vT),te=Ce.useRef(null),Q=Ce.useRef(null),se=A===0,ue=A+1<=x,ve=m.type,we=m.dismissible!==!1,Se=m.className||"",Ne=m.descriptionClassName||"",We=Ce.useMemo(()=>T.findIndex(xe=>xe.toastId===m.id)||0,[T,m.id]),Ye=Ce.useMemo(()=>{var xe;return(xe=m.closeButton)!=null?xe:M},[m.closeButton,M]),lt=Ce.useMemo(()=>m.duration||ye||vT,[m.duration,ye]),it=Ce.useRef(0),St=Ce.useRef(0),ot=Ce.useRef(0),Le=Ce.useRef(null),[un,tt]=_e.split("-"),ct=Ce.useMemo(()=>T.reduce((xe,De,Ie)=>Ie>=We?xe:xe+De.height,0),[T,We]),Hn=xH(),Zn=m.invert||y,ht=ve==="loading";St.current=Ce.useMemo(()=>We*H+ct,[We,ct]),Ce.useEffect(()=>{Y.current=lt},[lt]),Ce.useEffect(()=>{ge(!0)},[]),Ce.useEffect(()=>{let xe=Q.current;if(xe){let De=xe.getBoundingClientRect().height;return U(De),S(Ie=>[{toastId:m.id,height:De,position:m.position},...Ie]),()=>S(Ie=>Ie.filter(xt=>xt.toastId!==m.id))}},[S,m.id]),Ce.useLayoutEffect(()=>{if(!ne)return;let xe=Q.current,De=xe.style.height;xe.style.height="auto";let Ie=xe.getBoundingClientRect().height;xe.style.height=De,U(Ie),S(xt=>xt.find(Qe=>Qe.toastId===m.id)?xt.map(Qe=>Qe.toastId===m.id?{...Qe,height:Ie}:Qe):[{toastId:m.id,height:Ie,position:m.position},...xt])},[ne,m.title,m.description,S,m.id]);let yt=Ce.useCallback(()=>{qe(!0),sn(St.current),S(xe=>xe.filter(De=>De.toastId!==m.id)),setTimeout(()=>{P(m)},LH)},[m,P,S,St]);Ce.useEffect(()=>{if(m.promise&&ve==="loading"||m.duration===1/0||m.type==="loading")return;let xe;return O||_||I&&Hn?(()=>{if(ot.current<it.current){let De=new Date().getTime()-it.current;Y.current=Y.current-De}ot.current=new Date().getTime()})():Y.current!==1/0&&(it.current=new Date().getTime(),xe=setTimeout(()=>{var De;(De=m.onAutoClose)==null||De.call(m,m),yt()},Y.current)),()=>clearTimeout(xe)},[O,_,m,ve,I,Hn,yt]),Ce.useEffect(()=>{m.delete&&yt()},[yt,m.delete]);function Ae(){var xe,De,Ie;return me!=null&&me.loading?Ce.createElement("div",{className:Nr(J?.loader,(xe=m?.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":ve==="loading"},me.loading):Z?Ce.createElement("div",{className:Nr(J?.loader,(De=m?.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":ve==="loading"},Z):Ce.createElement(yH,{className:Nr(J?.loader,(Ie=m?.classNames)==null?void 0:Ie.loader),visible:ve==="loading"})}return Ce.createElement("li",{tabIndex:0,ref:Q,className:Nr(X,Se,J?.toast,(e=m?.classNames)==null?void 0:e.toast,J?.default,J?.[ve],(n=m?.classNames)==null?void 0:n[ve]),"data-sonner-toast":"","data-rich-colors":(i=m.richColors)!=null?i:N,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":ne,"data-promise":!!m.promise,"data-swiped":Ge,"data-removed":Ee,"data-visible":ue,"data-y-position":un,"data-x-position":tt,"data-index":A,"data-front":se,"data-swiping":Nt,"data-dismissible":we,"data-type":ve,"data-invert":Zn,"data-swipe-out":Xn,"data-swipe-direction":G,"data-expanded":!!(O||be&&ne),style:{"--index":A,"--toasts-before":A,"--z-index":k.length-A,"--offset":`${Ee?Ft:St.current}px`,"--initial-height":be?"auto":`${et}px`,...B,...m.style},onDragEnd:()=>{It(!1),z(null),Le.current=null},onPointerDown:xe=>{ht||!we||(te.current=new Date,sn(St.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(It(!0),Le.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,De,Ie,xt;if(Xn||!we)return;Le.current=null;let Qe=Number(((xe=Q.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Be=Number(((De=Q.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ht=new Date().getTime()-((Ie=te.current)==null?void 0:Ie.getTime()),ut=L==="x"?Qe:Be,Tt=Math.abs(ut)/Ht;if(Math.abs(ut)>=PH||Tt>.11){sn(St.current),(xt=m.onDismiss)==null||xt.call(m,m),ee(L==="x"?Qe>0?"right":"left":Be>0?"down":"up"),yt(),Te(!0),at(!1);return}It(!1),z(null)},onPointerMove:xe=>{var De,Ie,xt,Qe;if(!Le.current||!we||((De=window.getSelection())==null?void 0:De.toString().length)>0)return;let Be=xe.clientY-Le.current.y,Ht=xe.clientX-Le.current.x,ut=(Ie=t.swipeDirections)!=null?Ie:UH(_e);!L&&(Math.abs(Ht)>1||Math.abs(Be)>1)&&z(Math.abs(Ht)>Math.abs(Be)?"x":"y");let Tt={x:0,y:0};L==="y"?(ut.includes("top")||ut.includes("bottom"))&&(ut.includes("top")&&Be<0||ut.includes("bottom")&&Be>0)&&(Tt.y=Be):L==="x"&&(ut.includes("left")||ut.includes("right"))&&(ut.includes("left")&&Ht<0||ut.includes("right")&&Ht>0)&&(Tt.x=Ht),(Math.abs(Tt.x)>0||Math.abs(Tt.y)>0)&&at(!0),(xt=Q.current)==null||xt.style.setProperty("--swipe-amount-x",`${Tt.x}px`),(Qe=Q.current)==null||Qe.style.setProperty("--swipe-amount-y",`${Tt.y}px`)}},Ye&&!m.jsx?Ce.createElement("button",{"aria-label":E,"data-disabled":ht,"data-close-button":!0,onClick:ht||!we?()=>{}:()=>{var xe;yt(),(xe=m.onDismiss)==null||xe.call(m,m)},className:Nr(J?.closeButton,(r=m?.classNames)==null?void 0:r.closeButton)},(s=me?.close)!=null?s:SH):null,m.jsx||xr.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Ce.createElement(Ce.Fragment,null,ve||m.icon||m.promise?Ce.createElement("div",{"data-icon":"",className:Nr(J?.icon,(o=m?.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ae():null,m.type!=="loading"?m.icon||me?.[ve]||pH(ve):null):null,Ce.createElement("div",{"data-content":"",className:Nr(J?.content,(c=m?.classNames)==null?void 0:c.content)},Ce.createElement("div",{"data-title":"",className:Nr(J?.title,(u=m?.classNames)==null?void 0:u.title)},typeof m.title=="function"?m.title():m.title),m.description?Ce.createElement("div",{"data-description":"",className:Nr(ce,Ne,J?.description,(d=m?.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),xr.isValidElement(m.cancel)?m.cancel:m.cancel&&Oh(m.cancel)?Ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||V,onClick:xe=>{var De,Ie;Oh(m.cancel)&&we&&((Ie=(De=m.cancel).onClick)==null||Ie.call(De,xe),yt())},className:Nr(J?.cancelButton,(h=m?.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,xr.isValidElement(m.action)?m.action:m.action&&Oh(m.action)?Ce.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||W,onClick:xe=>{var De,Ie;Oh(m.action)&&((Ie=(De=m.action).onClick)==null||Ie.call(De,xe),!xe.defaultPrevented&&yt())},className:Nr(J?.actionButton,(p=m?.classNames)==null?void 0:p.actionButton)},m.action.label):null))};function bT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function FH(t,e){let n={};return[t,e].forEach((i,r)=>{let s=r===1,o=s?"--mobile-offset":"--offset",c=s?NH:MH;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?n[`${o}-${d}`]=c:n[`${o}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(c)}),n}xr.forwardRef(function(t,e){let{invert:n,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:c,offset:u,mobileOffset:d,theme:h="light",richColors:p,duration:y,style:m,visibleToasts:b=kH,toastOptions:_,dir:S=bT(),gap:x=jH,loadingIcon:T,icons:A,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:O}=t,[P,N]=Ce.useState([]),M=Ce.useMemo(()=>Array.from(new Set([i].concat(P.filter(I=>I.position).map(I=>I.position)))),[P,i]),[B,V]=Ce.useState([]),[W,X]=Ce.useState(!1),[ce,ye]=Ce.useState(!1),[_e,H]=Ce.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=Ce.useRef(null),be=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=Ce.useRef(null),me=Ce.useRef(!1),E=Ce.useCallback(I=>{N(L=>{var z;return(z=L.find(G=>G.id===I.id))!=null&&z.delete||ji.dismiss(I.id),L.filter(({id:G})=>G!==I.id)})},[]);return Ce.useEffect(()=>ji.subscribe(I=>{if(I.dismiss){N(L=>L.map(z=>z.id===I.id?{...z,delete:!0}:z));return}setTimeout(()=>{gH.flushSync(()=>{N(L=>{let z=L.findIndex(G=>G.id===I.id);return z!==-1?[...L.slice(0,z),{...L[z],...I},...L.slice(z+1)]:[I,...L]})})})}),[]),Ce.useEffect(()=>{if(h!=="system"){H(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:L})=>{H(L?"dark":"light")})}catch{I.addListener(({matches:z})=>{try{H(z?"dark":"light")}catch(G){console.error(G)}})}},[h]),Ce.useEffect(()=>{P.length<=1&&X(!1)},[P]),Ce.useEffect(()=>{let I=L=>{var z,G;r.every(ee=>L[ee]||L.code===ee)&&(X(!0),(z=Z.current)==null||z.focus()),L.code==="Escape"&&(document.activeElement===Z.current||(G=Z.current)!=null&&G.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),Ce.useEffect(()=>{if(Z.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,me.current=!1)}},[Z.current]),Ce.createElement("section",{ref:e,"aria-label":`${k} ${be}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((I,L)=>{var z;let[G,ee]=I.split("-");return P.length?Ce.createElement("ol",{key:I,dir:S==="auto"?bT():S,tabIndex:-1,ref:Z,className:c,"data-sonner-toaster":!0,"data-theme":_e,"data-y-position":G,"data-lifted":W&&P.length>1&&!s,"data-x-position":ee,style:{"--front-toast-height":`${((z=B[0])==null?void 0:z.height)||0}px`,"--width":`${IH}px`,"--gap":`${x}px`,...m,...FH(u,d)},onBlur:ne=>{me.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(me.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||me.current||(me.current=!0,J.current=ne.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{ce||X(!1)},onDragEnd:()=>X(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||ye(!0)},onPointerUp:()=>ye(!1)},P.filter(ne=>!ne.position&&L===0||ne.position===I).map((ne,ge)=>{var Ee,qe;return Ce.createElement(zH,{key:ne.id,icons:A,index:ge,toast:ne,defaultRichColors:p,duration:(Ee=_?.duration)!=null?Ee:y,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:n,visibleToasts:b,closeButton:(qe=_?.closeButton)!=null?qe:o,interacting:ce,position:I,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,removeToast:E,toasts:P.filter(Nt=>Nt.position==ne.position),heights:B.filter(Nt=>Nt.position==ne.position),setHeights:V,expandByDefault:s,gap:x,loadingIcon:T,expanded:W,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});var HH=t=>{if(!t||Array.isArray(t)&&t.length===0)return;let e;if(Array.isArray(t)){const n=t.filter(i=>i&&i.trim().length>0);if(n.length===0)return;n.length===1?e=n[0]:e=`There are ${n.length} validation errors:

• ${n.join(`
• `)}`}else e=t;ol.error(e,{duration:1e4,position:"top-right",style:{maxWidth:"400px",whiteSpace:"pre-line"}})},Ya=t=>{ol.success(t)},Fr=t=>{ol.error(t)},td=t=>{ol.warning(t)},BH=ol;ol.dismiss;ol.dismiss;const $H="https://wufsjkzyjxgvualcaftn.supabase.co",VH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1ZnNqa3p5anhndnVhbGNhZnRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0NzAyNzAsImV4cCI6MjA3NzA0NjI3MH0.cq8pGstXbA3OzgPbkJNRrQT39ROA4t9N3czLSIWpjUs",yn=cH({url:$H,anonKey:VH}),Nn=uH,qH=({children:t})=>C.jsx(jU,{supabaseClient:yn,children:t}),ll=PU,_T=t=>{let e;const n=new Set,i=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const y=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(m=>m(e,y))}},r=()=>e,c={setState:i,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(i,r,c);return c},GH=(t=>t?_T(t):_T),WH=t=>t;function YH(t,e=WH){const n=de.useSyncExternalStore(t.subscribe,de.useCallback(()=>e(t.getState()),[t,e]),de.useCallback(()=>e(t.getInitialState()),[t,e]));return de.useDebugValue(n),n}const wT=t=>{const e=GH(t),n=i=>YH(e,i);return Object.assign(n,e),n},no=(t=>t?wT(t):wT),w1=no(t=>({isOpen:!0,toggle:()=>t(e=>({isOpen:!e.isOpen})),open:()=>t({isOpen:!0}),close:()=>t({isOpen:!1})}));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),ST=t=>{const e=KH(t);return e.charAt(0).toUpperCase()+e.slice(1)},S1=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),XH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...c},u)=>D.createElement("svg",{ref:u,...ZH,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:S1("lucide",r),...!s&&!XH(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,h])=>D.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=(t,e)=>{const n=D.forwardRef(({className:i,...r},s)=>D.createElement(JH,{ref:s,iconNode:e,className:S1(`lucide-${QH(ST(t))}`,`lucide-${t}`,i),...r}));return n.displayName=ST(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tB=io("calendar",eB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iB=io("chevron-right",nB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sB=io("clock",rB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oB=io("file-text",aB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],cB=io("house",lB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dB=io("log-out",uB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],hB=io("menu",fB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pB=io("settings",gB);function mB(){const{user:t}=ll(),e=na(),{isOpen:n}=w1(),[i,r]=D.useState({backlog:e.pathname.startsWith("/backlog"),machinery:e.pathname.startsWith("/machinery"),phases:e.pathname.startsWith("/phases"),scheduler:e.pathname.startsWith("/scheduler")}),s=c=>{r(u=>({...u,[c]:!u[c]}))},o=[{href:"/",label:"Dashboard",icon:cB},{section:"backlog",label:"Backlog",icon:oB,subLinks:[{href:"/backlog",label:"Lista Backlog"},{href:"/backlog/add",label:"Nuovo Backlog"}]},{section:"machinery",label:"Macchinari",icon:pB,subLinks:[{href:"/machinery",label:"Lista Macchinari"},{href:"/machinery/add",label:"Nuovo Macchinario"}]},{section:"phases",label:"Fasi",icon:sB,subLinks:[{href:"/phases",label:"Lista Fasi"},{href:"/phases/add",label:"Nuova Fase"}]},{href:"/scheduler",label:"Scheduler",icon:tB}];return t?n?C.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[C.jsx("div",{className:"p-4 border-b border-border",children:C.jsx(Ln,{to:"/",className:"flex items-center justify-center",children:C.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),C.jsxs("div",{className:"flex-1 p-4",children:[C.jsx("h2",{className:"text-xl font-semibold text-secondary-foreground mb-6",children:"Navigation"}),C.jsx("nav",{className:"space-y-2",children:o.map(c=>{if(c.section){const u=i[c.section],d=c.subLinks.some(p=>e.pathname===p.href),h=c.icon;return C.jsxs("div",{children:[C.jsxs("button",{onClick:()=>s(c.section),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx(h,{className:"h-5 w-5"}),C.jsx("span",{className:"text-sm font-medium",children:c.label})]}),C.jsx(iB,{className:`h-4 w-4 transform transition-transform ${u?"rotate-90":""}`})]}),u&&C.jsx("div",{className:"ml-6 mt-2 space-y-1",children:c.subLinks.map(p=>{const y=e.pathname===p.href;return C.jsx(Ln,{to:p.href,className:`block px-3 py-2 rounded-lg text-sm font-medium transition-colors ${y?"bg-primary/5 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent/50"}`,children:p.label},p.href)})})]},c.section)}else{const u=e.pathname===c.href,d=c.icon;return C.jsxs(Ln,{to:c.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${u?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[C.jsx(d,{className:"h-5 w-5"}),C.jsx("span",{className:"text-sm font-medium",children:c.label})]},c.href)}})})]})]}):C.jsx("div",{className:"w-16 bg-secondary shadow-sm border-r border-border min-h-screen",children:C.jsx("div",{className:"flex flex-col items-center py-4 space-y-4",children:o.map(c=>{const u=c.icon,d=e.pathname===c.href;return C.jsx(Ln,{to:c.href||"#",className:`p-3 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,title:c.label,children:C.jsx(u,{className:"h-6 w-6"})},c.href||c.section)})})}):C.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col",children:[C.jsx("div",{className:"p-4 border-b border-border",children:C.jsx(Ln,{to:"/login",className:"flex items-center justify-center",children:C.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),C.jsxs("div",{className:"flex-1 p-4",children:[C.jsx("h3",{className:"text-xs font-semibold text-secondary-foreground uppercase tracking-wider mb-4",children:"NAVIGATION"}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(Ln,{to:"/login",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:C.jsx("span",{className:"font-medium",children:"Accedi"})}),C.jsx(Ln,{to:"/signup",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:C.jsx("span",{className:"font-medium",children:"Registrati"})})]})]})]})}var wv={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function yB(){if(xT)return Ze;xT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function m(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function x(E,I,L){this.props=E,this.context=I,this.refs=S,this.updater=L||b}x.prototype.isReactComponent={},x.prototype.setState=function(E,I){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,I,"setState")},x.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function T(){}T.prototype=x.prototype;function A(E,I,L){this.props=E,this.context=I,this.refs=S,this.updater=L||b}var k=A.prototype=new T;k.constructor=A,_(k,x.prototype),k.isPureReactComponent=!0;var O=Array.isArray;function P(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function B(E,I,L){var z=L.ref;return{$$typeof:t,type:E,key:I,ref:z!==void 0?z:null,props:L}}function V(E,I){return B(E.type,I,E.props)}function W(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function X(E){var I={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(L){return I[L]})}var ce=/\/+/g;function ye(E,I){return typeof E=="object"&&E!==null&&E.key!=null?X(""+E.key):I.toString(36)}function _e(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(P,P):(E.status="pending",E.then(function(I){E.status==="pending"&&(E.status="fulfilled",E.value=I)},function(I){E.status==="pending"&&(E.status="rejected",E.reason=I)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function H(E,I,L,z,G){var ee=typeof E;(ee==="undefined"||ee==="boolean")&&(E=null);var ne=!1;if(E===null)ne=!0;else switch(ee){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(E.$$typeof){case t:case e:ne=!0;break;case h:return ne=E._init,H(ne(E._payload),I,L,z,G)}}if(ne)return G=G(E),ne=z===""?"."+ye(E,0):z,O(G)?(L="",ne!=null&&(L=ne.replace(ce,"$&/")+"/"),H(G,I,L,"",function(qe){return qe})):G!=null&&(W(G)&&(G=V(G,L+(G.key==null||E&&E.key===G.key?"":(""+G.key).replace(ce,"$&/")+"/")+ne)),I.push(G)),1;ne=0;var ge=z===""?".":z+":";if(O(E))for(var Ee=0;Ee<E.length;Ee++)z=E[Ee],ee=ge+ye(z,Ee),ne+=H(z,I,L,ee,G);else if(Ee=m(E),typeof Ee=="function")for(E=Ee.call(E),Ee=0;!(z=E.next()).done;)z=z.value,ee=ge+ye(z,Ee++),ne+=H(z,I,L,ee,G);else if(ee==="object"){if(typeof E.then=="function")return H(_e(E),I,L,z,G);throw I=String(E),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ne}function Z(E,I,L){if(E==null)return E;var z=[],G=0;return H(E,z,"","",function(ee){return I.call(L,ee,G++)}),z}function be(E){if(E._status===-1){var I=E._result;I=I(),I.then(function(L){(E._status===0||E._status===-1)&&(E._status=1,E._result=L)},function(L){(E._status===0||E._status===-1)&&(E._status=2,E._result=L)}),E._status===-1&&(E._status=0,E._result=I)}if(E._status===1)return E._result.default;throw E._result}var J=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},me={map:Z,forEach:function(E,I,L){Z(E,function(){I.apply(this,arguments)},L)},count:function(E){var I=0;return Z(E,function(){I++}),I},toArray:function(E){return Z(E,function(I){return I})||[]},only:function(E){if(!W(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Ze.Activity=p,Ze.Children=me,Ze.Component=x,Ze.Fragment=n,Ze.Profiler=r,Ze.PureComponent=A,Ze.StrictMode=i,Ze.Suspense=u,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(E){return N.H.useMemoCache(E)}},Ze.cache=function(E){return function(){return E.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(E,I,L){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var z=_({},E.props),G=E.key;if(I!=null)for(ee in I.key!==void 0&&(G=""+I.key),I)!M.call(I,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&I.ref===void 0||(z[ee]=I[ee]);var ee=arguments.length-2;if(ee===1)z.children=L;else if(1<ee){for(var ne=Array(ee),ge=0;ge<ee;ge++)ne[ge]=arguments[ge+2];z.children=ne}return B(E.type,G,z)},Ze.createContext=function(E){return E={$$typeof:o,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:s,_context:E},E},Ze.createElement=function(E,I,L){var z,G={},ee=null;if(I!=null)for(z in I.key!==void 0&&(ee=""+I.key),I)M.call(I,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(G[z]=I[z]);var ne=arguments.length-2;if(ne===1)G.children=L;else if(1<ne){for(var ge=Array(ne),Ee=0;Ee<ne;Ee++)ge[Ee]=arguments[Ee+2];G.children=ge}if(E&&E.defaultProps)for(z in ne=E.defaultProps,ne)G[z]===void 0&&(G[z]=ne[z]);return B(E,ee,G)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(E){return{$$typeof:c,render:E}},Ze.isValidElement=W,Ze.lazy=function(E){return{$$typeof:h,_payload:{_status:-1,_result:E},_init:be}},Ze.memo=function(E,I){return{$$typeof:d,type:E,compare:I===void 0?null:I}},Ze.startTransition=function(E){var I=N.T,L={};N.T=L;try{var z=E(),G=N.S;G!==null&&G(L,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(P,J)}catch(ee){J(ee)}finally{I!==null&&L.types!==null&&(I.types=L.types),N.T=I}},Ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ze.use=function(E){return N.H.use(E)},Ze.useActionState=function(E,I,L){return N.H.useActionState(E,I,L)},Ze.useCallback=function(E,I){return N.H.useCallback(E,I)},Ze.useContext=function(E){return N.H.useContext(E)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(E,I){return N.H.useDeferredValue(E,I)},Ze.useEffect=function(E,I){return N.H.useEffect(E,I)},Ze.useEffectEvent=function(E){return N.H.useEffectEvent(E)},Ze.useId=function(){return N.H.useId()},Ze.useImperativeHandle=function(E,I,L){return N.H.useImperativeHandle(E,I,L)},Ze.useInsertionEffect=function(E,I){return N.H.useInsertionEffect(E,I)},Ze.useLayoutEffect=function(E,I){return N.H.useLayoutEffect(E,I)},Ze.useMemo=function(E,I){return N.H.useMemo(E,I)},Ze.useOptimistic=function(E,I){return N.H.useOptimistic(E,I)},Ze.useReducer=function(E,I,L){return N.H.useReducer(E,I,L)},Ze.useRef=function(E){return N.H.useRef(E)},Ze.useState=function(E){return N.H.useState(E)},Ze.useSyncExternalStore=function(E,I,L){return N.H.useSyncExternalStore(E,I,L)},Ze.useTransition=function(){return N.H.useTransition()},Ze.version="19.2.0",Ze}var ET;function vB(){return ET||(ET=1,wv.exports=yB()),wv.exports}var Sn=vB();function CT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bB(...t){return e=>{let n=!1;const i=t.map(r=>{const s=CT(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():CT(t[r],null)}}}}var Sv={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function _B(){if(TT)return Hu;TT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Hu.Fragment=e,Hu.jsx=n,Hu.jsxs=n,Hu}var AT;function wB(){return AT||(AT=1,Sv.exports=_B()),Sv.exports}var Gn=wB();function SB(t){const e=EB(t),n=Sn.forwardRef((i,r)=>{const{children:s,...o}=i,c=Sn.Children.toArray(s),u=c.find(TB);if(u){const d=u.props.children,h=c.map(p=>p===u?Sn.Children.count(d)>1?Sn.Children.only(null):Sn.isValidElement(d)?d.props.children:null:p);return Gn.jsx(e,{...o,ref:r,children:Sn.isValidElement(d)?Sn.cloneElement(d,void 0,h):null})}return Gn.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var xB=SB("Slot");function EB(t){const e=Sn.forwardRef((n,i)=>{const{children:r,...s}=n;if(Sn.isValidElement(r)){const o=RB(r),c=AB(s,r.props);return r.type!==Sn.Fragment&&(c.ref=i?bB(i,o):o),Sn.cloneElement(r,c)}return Sn.Children.count(r)>1?Sn.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var CB=Symbol("radix.slottable");function TB(t){return Sn.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===CB}function AB(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...c)=>{const u=s(...c);return r(...c),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function RB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function x1(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=x1(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function E1(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=x1(t))&&(i&&(i+=" "),i+=e);return i}const Z0="-",DB=t=>{const e=kB(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{const c=o.split(Z0);return c[0]===""&&c.length!==1&&c.shift(),C1(c,e)||OB(o)},getConflictingClassGroupIds:(o,c)=>{const u=n[o]||[];return c&&i[o]?[...u,...i[o]]:u}}},C1=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?C1(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(Z0);return e.validators.find(({validator:o})=>o(s))?.classGroupId},RT=/^\[(.+)\]$/,OB=t=>{if(RT.test(t)){const e=RT.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},kB=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return NB(Object.entries(t.classGroups),n).forEach(([s,o])=>{Fb(o,i,s,e)}),i},Fb=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:DT(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(MB(r)){Fb(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{Fb(o,DT(e,s),n,i)})})},DT=(t,e)=>{let n=t;return e.split(Z0).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},MB=t=>t.isThemeGetter,NB=(t,e)=>e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,c])=>[e+o,c])):s);return[n,r]}):t,IB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},T1="!",jB=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],s=e.length,o=c=>{const u=[];let d=0,h=0,p;for(let S=0;S<c.length;S++){let x=c[S];if(d===0){if(x===r&&(i||c.slice(S,S+s)===e)){u.push(c.slice(h,S)),h=S+s;continue}if(x==="/"){p=S;continue}}x==="["?d++:x==="]"&&d--}const y=u.length===0?c:c.substring(h),m=y.startsWith(T1),b=m?y.substring(1):y,_=p&&p>h?p-h:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:_}};return n?c=>n({className:c,parseClassName:o}):o},PB=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},LB=t=>({cache:IB(t.cacheSize),parseClassName:jB(t),...DB(t)}),UB=/\s+/,zB=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=t.trim().split(UB);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}=n(d);let b=!!m,_=i(b?y.substring(0,m):y);if(!_){if(!b){c=d+(c.length>0?" "+c:c);continue}if(_=i(y),!_){c=d+(c.length>0?" "+c:c);continue}b=!1}const S=PB(h).join(":"),x=p?S+T1:S,T=x+_;if(s.includes(T))continue;s.push(T);const A=r(_,b);for(let k=0;k<A.length;++k){const O=A[k];s.push(x+O)}c=d+(c.length>0?" "+c:c)}return c};function FB(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=A1(e))&&(i&&(i+=" "),i+=n);return i}const A1=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=A1(t[i]))&&(n&&(n+=" "),n+=e);return n};function HB(t,...e){let n,i,r,s=o;function o(u){const d=e.reduce((h,p)=>p(h),t());return n=LB(d),i=n.cache.get,r=n.cache.set,s=c,c(u)}function c(u){const d=i(u);if(d)return d;const h=zB(u,n);return r(u,h),h}return function(){return s(FB.apply(null,arguments))}}const Jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},R1=/^\[(?:([a-z-]+):)?(.+)\]$/i,BB=/^\d+\/\d+$/,$B=new Set(["px","full","screen"]),VB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,js=t=>bc(t)||$B.has(t)||BB.test(t),Oa=t=>Bc(t,"length",n$),bc=t=>!!t&&!Number.isNaN(Number(t)),xv=t=>Bc(t,"number",bc),Bu=t=>!!t&&Number.isInteger(Number(t)),QB=t=>t.endsWith("%")&&bc(t.slice(0,-1)),st=t=>R1.test(t),ka=t=>VB.test(t),KB=new Set(["length","size","percentage"]),XB=t=>Bc(t,KB,D1),ZB=t=>Bc(t,"position",D1),JB=new Set(["image","url"]),e$=t=>Bc(t,JB,r$),t$=t=>Bc(t,"",i$),$u=()=>!0,Bc=(t,e,n)=>{const i=R1.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},n$=t=>qB.test(t)&&!GB.test(t),D1=()=>!1,i$=t=>WB.test(t),r$=t=>YB.test(t),s$=()=>{const t=Jt("colors"),e=Jt("spacing"),n=Jt("blur"),i=Jt("brightness"),r=Jt("borderColor"),s=Jt("borderRadius"),o=Jt("borderSpacing"),c=Jt("borderWidth"),u=Jt("contrast"),d=Jt("grayscale"),h=Jt("hueRotate"),p=Jt("invert"),y=Jt("gap"),m=Jt("gradientColorStops"),b=Jt("gradientColorStopPositions"),_=Jt("inset"),S=Jt("margin"),x=Jt("opacity"),T=Jt("padding"),A=Jt("saturate"),k=Jt("scale"),O=Jt("sepia"),P=Jt("skew"),N=Jt("space"),M=Jt("translate"),B=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",st,e],X=()=>[st,e],ce=()=>["",js,Oa],ye=()=>["auto",bc,st],_e=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",st],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[bc,st];return{cacheSize:500,separator:":",theme:{colors:[$u],spacing:[js,Oa],blur:["none","",ka,st],brightness:E(),borderColor:[t],borderRadius:["none","","full",ka,st],borderSpacing:X(),borderWidth:ce(),contrast:E(),grayscale:J(),hueRotate:E(),invert:J(),gap:X(),gradientColorStops:[t],gradientColorStopPositions:[QB,Oa],inset:W(),margin:W(),opacity:E(),padding:X(),saturate:E(),scale:E(),sepia:J(),skew:E(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[ka]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._e(),st]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bu,st]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Bu,st]}],"grid-cols":[{"grid-cols":[$u]}],"col-start-end":[{col:["auto",{span:["full",Bu,st]},st]}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":[$u]}],"row-start-end":[{row:["auto",{span:[Bu,st]},st]}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...be()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...be(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...be(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",st,e]}],"min-w":[{"min-w":[st,e,"min","max","fit"]}],"max-w":[{"max-w":[st,e,"none","full","min","max","fit","prose",{screen:[ka]},ka]}],h:[{h:[st,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[st,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[st,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[st,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ka,Oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xv]}],"font-family":[{font:[$u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",bc,xv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",js,st]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",js,Oa]}],"underline-offset":[{"underline-offset":["auto",js,st]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._e(),ZB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},e$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:H()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[js,st]}],"outline-w":[{outline:[js,Oa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[js,Oa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ka,t$]}],"shadow-color":[{shadow:[$u]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ka,st]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[A]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Bu,st]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[js,Oa,xv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},a$=HB(s$),OT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kT=E1,o$=(t,e)=>n=>{var i;if(e?.variants==null)return kT(t,n?.class,n?.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(d=>{const h=n?.[d],p=s?.[d];if(h===null)return null;const y=OT(h)||OT(p);return r[d][y]}),c=n&&Object.entries(n).reduce((d,h)=>{let[p,y]=h;return y===void 0||(d[p]=y),d},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,h)=>{let{class:p,className:y,...m}=h;return Object.entries(m).every(b=>{let[_,S]=b;return Array.isArray(S)?S.includes({...s,...c}[_]):{...s,...c}[_]===S})?[...d,p,y]:d},[]);return kT(t,o,u,n?.class,n?.className)};function Qr(...t){return a$(E1(t))}var l$=o$("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function bi({className:t,variant:e,size:n,asChild:i=!1,...r}){const s=i?xB:"button";return Gn.jsx(s,{"data-slot":"button",className:Qr(l$({variant:e,size:n,className:t})),...r})}var Wn=Sn.forwardRef(({className:t,type:e,...n},i)=>Gn.jsx("input",{type:e,"data-slot":"input",className:Qr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),ref:i,...n}));Wn.displayName="Input";var fi=Sn.forwardRef(({className:t,...e},n)=>Gn.jsx("label",{ref:n,"data-slot":"label",className:Qr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));fi.displayName="Label";function pr({className:t,...e}){return Gn.jsx("div",{"data-slot":"card",className:Qr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",t),...e})}function mr({className:t,...e}){return Gn.jsx("div",{"data-slot":"card-header",className:Qr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function yr({className:t,...e}){return Gn.jsx("div",{"data-slot":"card-title",className:Qr("leading-none font-semibold",t),...e})}function vr({className:t,...e}){return Gn.jsx("div",{"data-slot":"card-content",className:Qr("px-6",t),...e})}function MT({className:t,...e}){return Gn.jsx("tr",{"data-slot":"table-row",className:Qr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e})}function c$({className:t,...e}){return Gn.jsx("th",{"data-slot":"table-head",className:Qr("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function u$({className:t,...e}){return Gn.jsx("td",{"data-slot":"table-cell",className:Qr("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}var O1=Sn.createContext(null);function Ev(t){const e=document.documentElement,n=window.matchMedia("(prefers-color-scheme: dark)").matches,i=t==="dark"||t==="system"&&n;e.classList.toggle("dark",i)}var d$=({defaultTheme:t="system",children:e})=>{const[n,i]=Sn.useState(t);Sn.useEffect(()=>{const o=localStorage.getItem("theme")||t;i(o),Ev(o);const c=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{(localStorage.getItem("theme")||"system")==="system"&&Ev("system")};return c.addEventListener?.("change",u),()=>c.removeEventListener?.("change",u)},[t]);const r=o=>{localStorage.setItem("theme",o),i(o),Ev(o)},s=Sn.useMemo(()=>({theme:n,setTheme:r}),[n]);return Gn.jsx(O1.Provider,{value:s,children:e})},f$=()=>{const t=Sn.useContext(O1);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},h$=({className:t})=>{const{theme:e,setTheme:n}=f$();return Gn.jsx("div",{className:"inline-flex gap-2 items-center",children:Gn.jsxs("select",{"aria-label":"Theme",value:e,onChange:i=>n(i.target.value),className:Qr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","w-36",t),children:[Gn.jsx("option",{value:"light",children:"Light"}),Gn.jsx("option",{value:"dark",children:"Dark"}),Gn.jsx("option",{value:"system",children:"System"})]})})};function g$(){const{user:t,signOut:e}=ll(),{toggle:n}=w1();return C.jsx("header",{className:"bg-secondary shadow-sm border-b border-border",children:C.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[C.jsx("div",{className:"flex items-center",children:C.jsx("button",{onClick:n,className:"p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-inset focus:ring-ring",children:C.jsx(hB,{className:"h-6 w-6"})})}),C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx(h$,{}),C.jsx("span",{className:"text-sm text-muted-foreground",children:t?.email?.split("@")[0]||"User"}),C.jsxs(bi,{variant:"outline",size:"sm",onClick:()=>e(),className:"flex items-center gap-2",children:[C.jsx(dB,{className:"h-4 w-4"}),"Logout"]})]})]})})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function za(t,e){return typeof t=="function"?t(e):t}function tr(t,e){return n=>{e.setState(i=>({...i,[t]:za(n,i[t])}))}}function yp(t){return t instanceof Function}function p$(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function m$(t,e){const n=[],i=r=>{r.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&i(o)})};return i(t),n}function $e(t,e,n){let i=[],r;return s=>{let o;n.key&&n.debug&&(o=Date.now());const c=t(s);if(!(c.length!==i.length||c.some((h,p)=>i[p]!==h)))return r;i=c;let d;if(n.key&&n.debug&&(d=Date.now()),r=e(...c),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-o)*100)/100,p=Math.round((Date.now()-d)*100)/100,y=p/16,m=(b,_)=>{for(b=String(b);b.length<_;)b=" "+b;return b};console.info(`%c⏱ ${m(p,5)} /${m(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n?.key)}return r}}function Ve(t,e,n,i){return{debug:()=>{var r;return(r=t?.debugAll)!=null?r:t[e]},key:!1,onChange:i}}function y$(t,e,n,i){const r=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:r,getContext:$e(()=>[t,n,e,s],(o,c,u,d)=>({table:o,column:c,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Ve(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,n,e,t)},{}),s}function v$(t,e,n,i){var r,s;const c={...t._getDefaultColumnDef(),...e},u=c.accessorKey;let d=(r=(s=c.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?r:typeof c.header=="string"?c.header:void 0,h;if(c.accessorFn?h=c.accessorFn:u&&(u.includes(".")?h=y=>{let m=y;for(const _ of u.split(".")){var b;m=(b=m)==null?void 0:b[_]}return m}:h=y=>y[c.accessorKey]),!d)throw new Error;let p={id:`${String(d)}`,accessorFn:h,parent:i,depth:n,columnDef:c,columns:[],getFlatColumns:$e(()=>[!0],()=>{var y;return[p,...(y=p.columns)==null?void 0:y.flatMap(m=>m.getFlatColumns())]},Ve(t.options,"debugColumns")),getLeafColumns:$e(()=>[t._getOrderColumnsFn()],y=>{var m;if((m=p.columns)!=null&&m.length){let b=p.columns.flatMap(_=>_.getLeafColumns());return y(b)}return[p]},Ve(t.options,"debugColumns"))};for(const y of t._features)y.createColumn==null||y.createColumn(p,t);return p}const ui="debugHeaders";function NT(t,e,n){var i;let s={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],c=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(c),o.push(u)};return c(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const b$={createTable:t=>{t.getHeaderGroups=$e(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>{var s,o;const c=(s=i?.map(p=>n.find(y=>y.id===p)).filter(Boolean))!=null?s:[],u=(o=r?.map(p=>n.find(y=>y.id===p)).filter(Boolean))!=null?o:[],d=n.filter(p=>!(i!=null&&i.includes(p.id))&&!(r!=null&&r.includes(p.id)));return kh(e,[...c,...d,...u],t)},Ve(t.options,ui)),t.getCenterHeaderGroups=$e(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>(n=n.filter(s=>!(i!=null&&i.includes(s.id))&&!(r!=null&&r.includes(s.id))),kh(e,n,t,"center")),Ve(t.options,ui)),t.getLeftHeaderGroups=$e(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var r;const s=(r=i?.map(o=>n.find(c=>c.id===o)).filter(Boolean))!=null?r:[];return kh(e,s,t,"left")},Ve(t.options,ui)),t.getRightHeaderGroups=$e(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var r;const s=(r=i?.map(o=>n.find(c=>c.id===o)).filter(Boolean))!=null?r:[];return kh(e,s,t,"right")},Ve(t.options,ui)),t.getFooterGroups=$e(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ve(t.options,ui)),t.getLeftFooterGroups=$e(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ve(t.options,ui)),t.getCenterFooterGroups=$e(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ve(t.options,ui)),t.getRightFooterGroups=$e(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ve(t.options,ui)),t.getFlatHeaders=$e(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ve(t.options,ui)),t.getLeftFlatHeaders=$e(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ve(t.options,ui)),t.getCenterFlatHeaders=$e(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ve(t.options,ui)),t.getRightFlatHeaders=$e(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ve(t.options,ui)),t.getCenterLeafHeaders=$e(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ve(t.options,ui)),t.getLeftLeafHeaders=$e(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ve(t.options,ui)),t.getRightLeafHeaders=$e(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ve(t.options,ui)),t.getLeafHeaders=$e(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var r,s,o,c,u,d;return[...(r=(s=e[0])==null?void 0:s.headers)!=null?r:[],...(o=(c=n[0])==null?void 0:c.headers)!=null?o:[],...(u=(d=i[0])==null?void 0:d.headers)!=null?u:[]].map(h=>h.getLeafHeaders()).flat()},Ve(t.options,ui))}};function kh(t,e,n,i){var r,s;let o=0;const c=function(y,m){m===void 0&&(m=1),o=Math.max(o,m),y.filter(b=>b.getIsVisible()).forEach(b=>{var _;(_=b.columns)!=null&&_.length&&c(b.columns,m+1)},0)};c(t);let u=[];const d=(y,m)=>{const b={depth:m,id:[i,`${m}`].filter(Boolean).join("_"),headers:[]},_=[];y.forEach(S=>{const x=[..._].reverse()[0],T=S.column.depth===b.depth;let A,k=!1;if(T&&S.column.parent?A=S.column.parent:(A=S.column,k=!0),x&&x?.column===A)x.subHeaders.push(S);else{const O=NT(n,A,{id:[i,m,A.id,S?.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${_.filter(P=>P.column===A).length}`:void 0,depth:m,index:_.length});O.subHeaders.push(S),_.push(O)}b.headers.push(S),S.headerGroup=b}),u.push(b),m>0&&d(_,m-1)},h=e.map((y,m)=>NT(n,y,{depth:o,index:m}));d(h,o-1),u.reverse();const p=y=>y.filter(b=>b.column.getIsVisible()).map(b=>{let _=0,S=0,x=[0];b.subHeaders&&b.subHeaders.length?(x=[],p(b.subHeaders).forEach(A=>{let{colSpan:k,rowSpan:O}=A;_+=k,x.push(O)})):_=1;const T=Math.min(...x);return S=S+T,b.colSpan=_,b.rowSpan=S,{colSpan:_,rowSpan:S}});return p((r=(s=u[0])==null?void 0:s.headers)!=null?r:[]),u}const _$=(t,e,n,i,r,s,o)=>{let c={id:e,index:i,original:n,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(c._valuesCache.hasOwnProperty(u))return c._valuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return c._valuesCache[u]=d.accessorFn(c.original,i),c._valuesCache[u]},getUniqueValues:u=>{if(c._uniqueValuesCache.hasOwnProperty(u))return c._uniqueValuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(c._uniqueValuesCache[u]=d.columnDef.getUniqueValues(c.original,i),c._uniqueValuesCache[u]):(c._uniqueValuesCache[u]=[c.getValue(u)],c._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=c.getValue(u))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>m$(c.subRows,u=>u.subRows),getParentRow:()=>c.parentId?t.getRow(c.parentId,!0):void 0,getParentRows:()=>{let u=[],d=c;for(;;){const h=d.getParentRow();if(!h)break;u.push(h),d=h}return u.reverse()},getAllCells:$e(()=>[t.getAllLeafColumns()],u=>u.map(d=>y$(t,c,d,d.id)),Ve(t.options,"debugRows")),_getAllCellsByColumnId:$e(()=>[c.getAllCells()],u=>u.reduce((d,h)=>(d[h.column.id]=h,d),{}),Ve(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createRow==null||d.createRow(c,t)}return c},w$={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},k1=(t,e,n)=>{var i,r;const s=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(s))};k1.autoRemove=t=>$r(t);const M1=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};M1.autoRemove=t=>$r(t);const N1=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===n?.toLowerCase()};N1.autoRemove=t=>$r(t);const I1=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};I1.autoRemove=t=>$r(t);const j1=(t,e,n)=>!n.some(i=>{var r;return!((r=t.getValue(e))!=null&&r.includes(i))});j1.autoRemove=t=>$r(t)||!(t!=null&&t.length);const P1=(t,e,n)=>n.some(i=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(i)});P1.autoRemove=t=>$r(t)||!(t!=null&&t.length);const L1=(t,e,n)=>t.getValue(e)===n;L1.autoRemove=t=>$r(t);const U1=(t,e,n)=>t.getValue(e)==n;U1.autoRemove=t=>$r(t);const J0=(t,e,n)=>{let[i,r]=n;const s=t.getValue(e);return s>=i&&s<=r};J0.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(i)?-1/0:i,o=n===null||Number.isNaN(r)?1/0:r;if(s>o){const c=s;s=o,o=c}return[s,o]};J0.autoRemove=t=>$r(t)||$r(t[0])&&$r(t[1]);const Bs={includesString:k1,includesStringSensitive:M1,equalsString:N1,arrIncludes:I1,arrIncludesAll:j1,arrIncludesSome:P1,equals:L1,weakEquals:U1,inNumberRange:J0};function $r(t){return t==null||t===""}const S$={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:tr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);return typeof i=="string"?Bs.includesString:typeof i=="number"?Bs.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?Bs.equals:Array.isArray(i)?Bs.arrIncludes:Bs.weakEquals},t.getFilterFn=()=>{var n,i;return yp(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:Bs[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const r=t.getFilterFn(),s=i?.find(h=>h.id===t.id),o=za(n,s?s.value:void 0);if(IT(r,o,t)){var c;return(c=i?.filter(h=>h.id!==t.id))!=null?c:[]}const u={id:t.id,value:o};if(s){var d;return(d=i?.map(h=>h.id===t.id?u:h))!=null?d:[]}return i!=null&&i.length?[...i,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=r=>{var s;return(s=za(e,r))==null?void 0:s.filter(o=>{const c=n.find(u=>u.id===o.id);if(c){const u=c.getFilterFn();if(IT(u,o.value,c))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function IT(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const x$=(t,e,n)=>n.reduce((i,r)=>{const s=r.getValue(t);return i+(typeof s=="number"?s:0)},0),E$=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}),i},C$=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}),i},T$=(t,e,n)=>{let i,r;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(i===void 0?o>=o&&(i=r=o):(i>o&&(i=o),r<o&&(r=o)))}),[i,r]},A$=(t,e)=>{let n=0,i=0;if(e.forEach(r=>{let s=r.getValue(t);s!=null&&(s=+s)>=s&&(++n,i+=s)}),n)return i/n},R$=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!p$(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((s,o)=>s-o);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},D$=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),O$=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,k$=(t,e)=>e.length,Cv={sum:x$,min:E$,max:C$,extent:T$,mean:A$,median:R$,unique:D$,uniqueCount:O$,count:k$},M$={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:tr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);if(typeof i=="number")return Cv.sum;if(Object.prototype.toString.call(i)==="[object Date]")return Cv.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return yp(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:Cv[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function N$(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(s=>!e.includes(s.id));return n==="remove"?i:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...i]}const I$={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:tr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=$e(n=>[ld(e,n)],n=>n.findIndex(i=>i.id===t.id),Ve(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=ld(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const r=ld(e,n);return((i=r[r.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=$e(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>r=>{let s=[];if(!(e!=null&&e.length))s=r;else{const o=[...e],c=[...r];for(;c.length&&o.length;){const u=o.shift(),d=c.findIndex(h=>h.id===u);d>-1&&s.push(c.splice(d,1)[0])}s=[...s,...c]}return N$(s,n,i)},Ve(t.options,"debugTable"))}},Tv=()=>({left:[],right:[]}),j$={getInitialState:t=>({columnPinning:Tv(),...t}),getDefaultOptions:t=>({onColumnPinningChange:tr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var s,o;if(n==="right"){var c,u;return{left:((c=r?.left)!=null?c:[]).filter(p=>!(i!=null&&i.includes(p))),right:[...((u=r?.right)!=null?u:[]).filter(p=>!(i!=null&&i.includes(p))),...i]}}if(n==="left"){var d,h;return{left:[...((d=r?.left)!=null?d:[]).filter(p=>!(i!=null&&i.includes(p))),...i],right:((h=r?.right)!=null?h:[]).filter(p=>!(i!=null&&i.includes(p)))}}return{left:((s=r?.left)!=null?s:[]).filter(p=>!(i!=null&&i.includes(p))),right:((o=r?.right)!=null?o:[]).filter(p=>!(i!=null&&i.includes(p)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var r,s,o;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(c=>c.id),{left:i,right:r}=e.getState().columnPinning,s=n.some(c=>i?.includes(c)),o=n.some(c=>r?.includes(c));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();return r?(n=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=$e(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,r)=>{const s=[...i??[],...r??[]];return n.filter(o=>!s.includes(o.column.id))},Ve(e.options,"debugRows")),t.getLeftVisibleCells=$e(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Ve(e.options,"debugRows")),t.getRightVisibleCells=$e(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Ve(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?Tv():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:Tv())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var r,s;return!!((r=i.left)!=null&&r.length||(s=i.right)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=$e(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Ve(t.options,"debugColumns")),t.getRightLeafColumns=$e(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Ve(t.options,"debugColumns")),t.getCenterLeafColumns=$e(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const r=[...n??[],...i??[]];return e.filter(s=>!r.includes(s.id))},Ve(t.options,"debugColumns"))}};function P$(t){return t||(typeof document<"u"?document:null)}const Mh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Av=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),L$={getDefaultColumnDef:()=>Mh,getInitialState:t=>({columnSizing:{},columnSizingInfo:Av(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:tr("columnSizing",t),onColumnSizingInfoChange:tr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,r;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Mh.minSize,(i=s??t.columnDef.size)!=null?i:Mh.size),(r=t.columnDef.maxSize)!=null?r:Mh.maxSize)},t.getStart=$e(n=>[n,ld(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((r,s)=>r+s.getSize(),0),Ve(e.options,"debugColumns")),t.getAfter=$e(n=>[n,ld(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((r,s)=>r+s.getSize(),0),Ve(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...r}=n;return r})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var s;n+=(s=r.column.getSize())!=null?s:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),r=i?.getCanResize();return s=>{if(!i||!r||(s.persist==null||s.persist(),Rv(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),c=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[i.id,i.getSize()]],u=Rv(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(x,T)=>{typeof T=="number"&&(e.setColumnSizingInfo(A=>{var k,O;const P=e.options.columnResizeDirection==="rtl"?-1:1,N=(T-((k=A?.startOffset)!=null?k:0))*P,M=Math.max(N/((O=A?.startSize)!=null?O:0),-.999999);return A.columnSizingStart.forEach(B=>{let[V,W]=B;d[V]=Math.round(Math.max(W+W*M,0)*100)/100}),{...A,deltaOffset:N,deltaPercentage:M}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(A=>({...A,...d})))},p=x=>h("move",x),y=x=>{h("end",x),e.setColumnSizingInfo(T=>({...T,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=P$(n),b={moveHandler:x=>p(x.clientX),upHandler:x=>{m?.removeEventListener("mousemove",b.moveHandler),m?.removeEventListener("mouseup",b.upHandler),y(x.clientX)}},_={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),p(x.touches[0].clientX),!1),upHandler:x=>{var T;m?.removeEventListener("touchmove",_.moveHandler),m?.removeEventListener("touchend",_.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),y((T=x.touches[0])==null?void 0:T.clientX)}},S=U$()?{passive:!1}:!1;Rv(s)?(m?.addEventListener("touchmove",_.moveHandler,S),m?.addEventListener("touchend",_.upHandler,S)):(m?.addEventListener("mousemove",b.moveHandler,S),m?.addEventListener("mouseup",b.upHandler,S)),e.setColumnSizingInfo(x=>({...x,startOffset:u,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?Av():(n=t.initialState.columnSizingInfo)!=null?n:Av())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let Nh=null;function U$(){if(typeof Nh=="boolean")return Nh;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Nh=t,Nh}function Rv(t){return t.type==="touchstart"}const z$={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:tr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const r=t.columns;return(n=r.length?r.some(s=>s.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=$e(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),Ve(e.options,"debugRows")),t.getVisibleCells=$e(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],Ve(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>$e(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Ve(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,s)=>({...r,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function ld(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const F$={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},H$={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:tr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,r,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Bs.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return yp(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:Bs[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},B$={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:tr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var r,s;t.setExpanded(i?{}:(r=(s=t.initialState)==null?void 0:s.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");i=Math.max(i,o.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var r;const s=i===!0?!0:!!(i!=null&&i[t.id]);let o={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(c=>{o[c]=!0}):o=i,n=(r=n)!=null?r:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:c,...u}=o;return u}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i?.[t.id])},t.getCanExpand=()=>{var n,i,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Hb=0,Bb=10,Dv=()=>({pageIndex:Hb,pageSize:Bb}),$$={getInitialState:t=>({...t,pagination:{...Dv(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:tr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const r=s=>za(i,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=i=>{var r;t.setPagination(i?Dv():(r=t.initialState.pagination)!=null?r:Dv())},t.setPageIndex=i=>{t.setPagination(r=>{let s=za(i,r.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...r,pageIndex:s}})},t.resetPageIndex=i=>{var r,s;t.setPageIndex(i?Hb:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?r:Hb)},t.resetPageSize=i=>{var r,s;t.setPageSize(i?Bb:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?r:Bb)},t.setPageSize=i=>{t.setPagination(r=>{const s=Math.max(1,za(i,r.pageSize)),o=r.pageSize*r.pageIndex,c=Math.floor(o/s);return{...r,pageIndex:c,pageSize:s}})},t.setPageCount=i=>t.setPagination(r=>{var s;let o=za(i,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),t.getPageOptions=$e(()=>[t.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((s,o)=>o)),r},Ve(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:i<r-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},Ov=()=>({top:[],bottom:[]}),V$={getInitialState:t=>({rowPinning:Ov(),...t}),getDefaultOptions:t=>({onRowPinningChange:tr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,r)=>{const s=i?t.getLeafRows().map(u=>{let{id:d}=u;return d}):[],o=r?t.getParentRows().map(u=>{let{id:d}=u;return d}):[],c=new Set([...o,t.id,...s]);e.setRowPinning(u=>{var d,h;if(n==="bottom"){var p,y;return{top:((p=u?.top)!=null?p:[]).filter(_=>!(c!=null&&c.has(_))),bottom:[...((y=u?.bottom)!=null?y:[]).filter(_=>!(c!=null&&c.has(_))),...Array.from(c)]}}if(n==="top"){var m,b;return{top:[...((m=u?.top)!=null?m:[]).filter(_=>!(c!=null&&c.has(_))),...Array.from(c)],bottom:((b=u?.bottom)!=null?b:[]).filter(_=>!(c!=null&&c.has(_)))}}return{top:((d=u?.top)!=null?d:[]).filter(_=>!(c!=null&&c.has(_))),bottom:((h=u?.bottom)!=null?h:[]).filter(_=>!(c!=null&&c.has(_)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(t):(n=i??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:r}=e.getState().rowPinning,s=n.some(c=>i?.includes(c)),o=n.some(c=>r?.includes(c));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();if(!r)return-1;const s=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:c}=o;return c});return(i=s?.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?Ov():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:Ov())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var r,s;return!!((r=i.top)!=null&&r.length||(s=i.bottom)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(o=>{const c=t.getRow(o,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(o=>e.find(c=>c.id===o))).filter(Boolean).map(o=>({...o,position:i}))},t.getTopRows=$e(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ve(t.options,"debugRows")),t.getBottomRows=$e(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ve(t.options,"debugRows")),t.getCenterRows=$e(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const r=new Set([...n??[],...i??[]]);return e.filter(s=>!r.has(s.id))},Ve(t.options,"debugRows"))}},q$={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:tr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(s=>{s.getCanSelect()&&(i[s.id]=!0)}):r.forEach(s=>{delete i[s.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(s=>{$b(r,s.id,i,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=$e(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?kv(t,n):{rows:[],flatRows:[],rowsById:{}},Ve(t.options,"debugTable")),t.getFilteredSelectedRowModel=$e(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?kv(t,n):{rows:[],flatRows:[],rowsById:{}},Ve(t.options,"debugTable")),t.getGroupedSelectedRowModel=$e(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?kv(t,n):{rows:[],flatRows:[],rowsById:{}},Ve(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(r=>!n[r.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const r=t.getIsSelected();e.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return s;const c={...s};return $b(c,t.id,n,(o=i?.selectChildren)!=null?o:!0,e),c})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return e_(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Vb(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Vb(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var r;n&&t.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},$b=(t,e,n,i,r)=>{var s;const o=r.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(c=>delete t[c]),o.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(c=>$b(t,c.id,n,i,r))};function kv(t,e){const n=t.getState().rowSelection,i=[],r={},s=function(o,c){return o.map(u=>{var d;const h=e_(u,n);if(h&&(i.push(u),r[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:s(u.subRows)}),h)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:i,rowsById:r}}function e_(t,e){var n;return(n=e[t.id])!=null?n:!1}function Vb(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let r=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!r)&&(o.getCanSelect()&&(e_(o,e)?s=!0:r=!1),o.subRows&&o.subRows.length)){const c=Vb(o,e);c==="all"?s=!0:(c==="some"&&(s=!0),r=!1)}}),r?"all":s?"some":!1}const qb=/([0-9]+)/gm,G$=(t,e,n)=>z1(Qa(t.getValue(n)).toLowerCase(),Qa(e.getValue(n)).toLowerCase()),W$=(t,e,n)=>z1(Qa(t.getValue(n)),Qa(e.getValue(n))),Y$=(t,e,n)=>t_(Qa(t.getValue(n)).toLowerCase(),Qa(e.getValue(n)).toLowerCase()),Q$=(t,e,n)=>t_(Qa(t.getValue(n)),Qa(e.getValue(n))),K$=(t,e,n)=>{const i=t.getValue(n),r=e.getValue(n);return i>r?1:i<r?-1:0},X$=(t,e,n)=>t_(t.getValue(n),e.getValue(n));function t_(t,e){return t===e?0:t>e?1:-1}function Qa(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function z1(t,e){const n=t.split(qb).filter(Boolean),i=e.split(qb).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),s=i.shift(),o=parseInt(r,10),c=parseInt(s,10),u=[o,c].sort();if(isNaN(u[0])){if(r>s)return 1;if(s>r)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>c)return 1;if(c>o)return-1}return n.length-i.length}const Vu={alphanumeric:G$,alphanumericCaseSensitive:W$,text:Y$,textCaseSensitive:Q$,datetime:K$,basic:X$},Z$={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:tr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const s=r?.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return Vu.datetime;if(typeof s=="string"&&(i=!0,s.split(qb).length>1))return Vu.alphanumeric}return i?Vu.text:Vu.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return yp(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:Vu[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const r=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const c=o?.find(m=>m.id===t.id),u=o?.findIndex(m=>m.id===t.id);let d=[],h,p=s?n:r==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&i?c?h="toggle":h="add":o!=null&&o.length&&u!==o.length-1?h="replace":c?h="toggle":h="replace",h==="toggle"&&(s||r||(h="remove")),h==="add"){var y;d=[...o,{id:t.id,desc:p}],d.splice(0,d.length-((y=e.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=o.map(m=>m.id===t.id?{...m,desc:p}:m):h==="remove"?d=o.filter(m=>m.id!==t.id):d=[{id:t.id,desc:p}];return d})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,r;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},J$=[b$,z$,I$,j$,w$,S$,F$,H$,Z$,M$,B$,$$,V$,q$,L$];function eV(t){var e,n;const i=[...J$,...(e=t._features)!=null?e:[]];let r={_features:i};const s=r._features.reduce((y,m)=>Object.assign(y,m.getDefaultOptions==null?void 0:m.getDefaultOptions(r)),{}),o=y=>r.options.mergeOptions?r.options.mergeOptions(s,y):{...s,...y};let u={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(y=>{var m;u=(m=y.getInitialState==null?void 0:y.getInitialState(u))!=null?m:u});const d=[];let h=!1;const p={_features:i,options:{...s,...t},initialState:u,_queue:y=>{d.push(y),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{r.setState(r.initialState)},setOptions:y=>{const m=za(y,r.options);r.options=o(m)},getState:()=>r.options.state,setState:y=>{r.options.onStateChange==null||r.options.onStateChange(y)},_getRowId:(y,m,b)=>{var _;return(_=r.options.getRowId==null?void 0:r.options.getRowId(y,m,b))!=null?_:`${b?[b.id,m].join("."):m}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(y,m)=>{let b=(m?r.getPrePaginationRowModel():r.getRowModel()).rowsById[y];if(!b&&(b=r.getCoreRowModel().rowsById[y],!b))throw new Error;return b},_getDefaultColumnDef:$e(()=>[r.options.defaultColumn],y=>{var m;return y=(m=y)!=null?m:{},{header:b=>{const _=b.header.column.columnDef;return _.accessorKey?_.accessorKey:_.accessorFn?_.id:null},cell:b=>{var _,S;return(_=(S=b.renderValue())==null||S.toString==null?void 0:S.toString())!=null?_:null},...r._features.reduce((b,_)=>Object.assign(b,_.getDefaultColumnDef==null?void 0:_.getDefaultColumnDef()),{}),...y}},Ve(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:$e(()=>[r._getColumnDefs()],y=>{const m=function(b,_,S){return S===void 0&&(S=0),b.map(x=>{const T=v$(r,x,S,_),A=x;return T.columns=A.columns?m(A.columns,T,S+1):[],T})};return m(y)},Ve(t,"debugColumns")),getAllFlatColumns:$e(()=>[r.getAllColumns()],y=>y.flatMap(m=>m.getFlatColumns()),Ve(t,"debugColumns")),_getAllFlatColumnsById:$e(()=>[r.getAllFlatColumns()],y=>y.reduce((m,b)=>(m[b.id]=b,m),{}),Ve(t,"debugColumns")),getAllLeafColumns:$e(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(y,m)=>{let b=y.flatMap(_=>_.getLeafColumns());return m(b)},Ve(t,"debugColumns")),getColumn:y=>r._getAllFlatColumnsById()[y]};Object.assign(r,p);for(let y=0;y<r._features.length;y++){const m=r._features[y];m==null||m.createTable==null||m.createTable(r)}return r}function tV(){return t=>$e(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,s,o){s===void 0&&(s=0);const c=[];for(let d=0;d<r.length;d++){const h=_$(t,t._getRowId(r[d],d,o),r[d],d,s,void 0,o?.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,c.push(h),t.options.getSubRows){var u;h.originalSubRows=t.options.getSubRows(r[d],d),(u=h.originalSubRows)!=null&&u.length&&(h.subRows=i(h.originalSubRows,s+1,h))}}return c};return n.rows=i(e),n},Ve(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function nV(){return t=>$e(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const i=t.getState().sorting,r=[],s=i.filter(u=>{var d;return(d=t.getColumn(u.id))==null?void 0:d.getCanSort()}),o={};s.forEach(u=>{const d=t.getColumn(u.id);d&&(o[u.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const c=u=>{const d=u.map(h=>({...h}));return d.sort((h,p)=>{for(let m=0;m<s.length;m+=1){var y;const b=s[m],_=o[b.id],S=_.sortUndefined,x=(y=b?.desc)!=null?y:!1;let T=0;if(S){const A=h.getValue(b.id),k=p.getValue(b.id),O=A===void 0,P=k===void 0;if(O||P){if(S==="first")return O?-1:1;if(S==="last")return O?1:-1;T=O&&P?0:O?S:-S}}if(T===0&&(T=_.sortingFn(h,p,b.id)),T!==0)return x&&(T*=-1),_.invertSorting&&(T*=-1),T}return h.index-p.index}),d.forEach(h=>{var p;r.push(h),(p=h.subRows)!=null&&p.length&&(h.subRows=c(h.subRows))}),d};return{rows:c(n.rows),flatRows:r,rowsById:n.rowsById}},Ve(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function jT(t,e){return t?iV(t)?D.createElement(t,e):t:null}function iV(t){return rV(t)||typeof t=="function"||sV(t)}function rV(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function sV(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function aV(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=D.useState(()=>({current:eV(e)})),[i,r]=D.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...i,...t.state},onStateChange:o=>{r(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}const oV=({column:t,options:e,onFilterChange:n,isOpen:i,onToggle:r,activeFilter:s})=>{const[o,c]=D.useState(""),[u,d]=D.useState({top:0,left:0}),[h,p]=D.useState(new Set),[y,m]=D.useState(!0),b=D.useRef(null),_=D.useMemo(()=>o?e.filter(P=>P&&P.toLowerCase().includes(o.toLowerCase())):e,[e,o,t]);D.useEffect(()=>{i&&(s&&Array.isArray(s)?(p(new Set(s)),m(s.length===e.length)):s?(p(new Set([s])),m(!1)):(p(new Set(e)),m(!0)))},[i,s,e]);const S=O=>{const P=new Set(h);P.has(O)?P.delete(O):P.add(O),p(P),m(P.size===_.length)},x=()=>{y?(p(new Set),m(!1)):(p(new Set(_)),m(!0))},T=()=>{p(new Set),m(!1)},A=()=>{const O=Array.from(h);n(t,O.length===0?"":O),c(""),r()},k=()=>{c(""),r()};return D.useEffect(()=>{const O=P=>{b.current&&!b.current.contains(P.target)&&k()};return i&&document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[i]),D.useEffect(()=>{i||(c(""),p(new Set),m(!0))},[i]),D.useEffect(()=>{if(i&&b.current){const O=b.current.querySelector("button");if(O){const P=O.getBoundingClientRect(),N=window.innerWidth,M=192;let B=0;P.left+M>N&&(B=-M+P.width),d({top:P.height+5,left:B})}}},[i]),C.jsxs("div",{className:"relative",ref:b,children:[C.jsx("button",{onClick:r,className:`inline-flex items-center justify-center w-4 h-4 transition-colors ${s?"text-blue-600 hover:text-blue-700":"text-gray-500 hover:text-gray-700"}`,title:s?`Filtro attivo: ${s}`:"Filtra",children:C.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:C.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})})}),i&&C.jsxs("div",{className:"absolute bg-white border border-gray-300 rounded-md shadow-lg z-[99999] w-48",style:{top:u.top,left:u.left},onClick:O=>O.stopPropagation(),children:[C.jsxs("div",{className:"p-2",children:[C.jsxs("div",{className:"flex items-center justify-between mb-1",children:[C.jsx("button",{onClick:x,className:"text-blue-600 text-xs font-medium hover:underline",children:y?"Select all":`Select all ${_.length}`}),C.jsx("button",{onClick:T,className:"text-blue-600 text-xs font-medium hover:underline",children:"Clear"})]}),C.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["Displaying ",_.length]}),C.jsxs("div",{className:"relative mb-1",children:[C.jsx("input",{type:"text",placeholder:"Search values...",value:o,onChange:O=>c(O.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),C.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:C.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor",className:"text-gray-400",children:C.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})]}),C.jsxs("div",{className:"h-16 overflow-y-auto border border-gray-200 rounded",children:[_.map((O,P)=>C.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-50 cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:h.has(O),onChange:()=>S(O),className:"mr-2 h-3 w-3 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),C.jsx("span",{className:"text-xs truncate flex-1",children:O||"(Blanks)"})]},`${O}-${P}`)),_.length===0&&o&&C.jsx("div",{className:"px-2 py-2 text-xs text-gray-500 text-center",children:"No results found"})]})]}),C.jsxs("div",{className:"border-t border-gray-200 p-2 flex justify-end space-x-1",children:[C.jsx("button",{onClick:k,className:"px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded",children:"Cancel"}),C.jsx("button",{onClick:A,className:"px-2 py-1 text-xs bg-blue-600 text-white hover:bg-blue-700 rounded",children:"OK"})]})]})]})};function n_({data:t,columns:e,onEditRow:n,onDeleteRow:i,onRowClick:r,enableFiltering:s=!1,filterableColumns:o=[],stickyColumns:c=[],onBulkDelete:u=null,onBulkExport:d=null,initialPageSize:h=10,pageSizeOptions:p=[10,25,50],enableGlobalSearch:y=!0,enableColumnVisibility:m=!1}){const[b,_]=D.useState({}),[S,x]=D.useState(null),[T,A]=D.useState(0),[k,O]=D.useState(h),[P,N]=D.useState(new Set),[M,B]=D.useState(""),V=(L,z)=>{if(!(!L||!z))return z.indexOf(".")===-1?L[z]:z.split(".").reduce((G,ee)=>G&&G[ee]!==void 0?G[ee]:void 0,L)},W=D.useMemo(()=>!s||Object.keys(b).length===0?t:t.filter(L=>Object.entries(b).every(([z,G])=>{if(!G)return!0;const ee=V(L,z);return ee?Array.isArray(G)?G.includes(ee):ee.toString().toLowerCase().includes(G.toLowerCase()):!1})),[t,b,s]),X=D.useMemo(()=>{if(!s)return{};const L={};return o.forEach(z=>{L[z]=[...new Set(t.map(G=>V(G,z)).filter(Boolean))].sort()}),L},[t,o,s]),ce=(L,z)=>{_(G=>({...G,[L]:z}))},ye=L=>{x(S===L?null:L)},_e=D.useMemo(()=>{if(W&&W.length>0){const L=W.map(ne=>ne.id);L.filter((ne,ge)=>L.indexOf(ne)!==ge).length>0;const G=new Set,ee=[];W.forEach((ne,ge)=>{G.has(ne.id)?ee.push({id:ne.id,index:ge,item:ne}):G.add(ne.id)})}if(y&&M.trim().length>0){const L=M.toLowerCase(),z=(e||[]).map(ee=>ee.accessorKey).filter(Boolean);return W.filter(ee=>z.some(ne=>{const ge=V(ee,ne);return ge!=null&&String(ge).toLowerCase().includes(L)}))}return W},[W,y,M,e]),H=D.useMemo(()=>{const L=G=>{n&&n(G.original)},z=n||i?{id:"actions",header:"Azioni",cell:({row:G})=>C.jsxs("div",{className:"flex flex-row gap-1 items-center justify-start",children:[n&&C.jsx(bi,{size:"xs",variant:"outline",onClick:()=>L(G),children:"Modifica"}),i&&C.jsx(bi,{size:"xs",variant:"destructive",onClick:()=>i(G.original),children:"Elimina"})]})}:null;return z?[...e,z]:e},[e,n,i]),Z=(L,z)=>{if(!c.includes(L))return 0;let G=0;for(let ee=0;ee<z;ee++){const ne=H[ee]?.id||H[ee]?.accessorKey;c.includes(ne)&&(ne==="odp_number"?G+=71:ne==="article_code"?G+=80:G+=100)}return G},be=aV({data:_e,columns:H,getCoreRowModel:tV(),getSortedRowModel:nV()}),J=be.getRowModel().rows,me=Math.max(1,Math.ceil(J.length/k)),E=Math.min(T,me-1),I=J.slice(E*k,(E+1)*k);return C.jsxs("div",{className:"bg-card rounded-lg border border-border shadow-sm overflow-hidden h-full flex flex-col",children:[y&&C.jsx("div",{className:"flex items-center justify-between p-2 border-b",children:C.jsx("input",{type:"text",value:M,onChange:L=>{B(L.target.value),A(0)},placeholder:"Cerca...",className:"border border-input rounded px-2 py-1 text-sm w-64 text-foreground placeholder-muted-foreground"})}),C.jsx("div",{className:"flex-1 overflow-auto",children:C.jsxs("table",{className:"w-full caption-bottom text-sm relative",children:[C.jsx("thead",{className:"sticky top-0 z-20 bg-muted/50 border-b border-border",children:be.getHeaderGroups().map(L=>C.jsx(MT,{children:L.headers.map((z,G)=>{const ee=`${L.id}_${z.id}_${G}`,ne=z.column.id,ge=s&&o.includes(ne),Ee=c.includes(ne);return C.jsx(c$,{onClick:z.column.getToggleSortingHandler(),className:Ee?"sticky top-0 z-30 bg-muted/50 shadow-sm":"",style:Ee?{left:`${Z(ne,G)}px`}:{},children:C.jsxs("div",{className:"flex items-center gap-2",children:[jT(z.column.columnDef.header,z.getContext()),{asc:" 🔼",desc:" 🔽"}[z.column.getIsSorted()]??null,ge&&C.jsx(oV,{column:ne,options:X[ne]||[],onFilterChange:ce,isOpen:S===ne,onToggle:()=>ye(ne),activeFilter:b[ne]})]})},ee)})},L.id))}),C.jsx("tbody",{children:I.map(L=>{const z=L.original.id||L.id;return C.jsx(MT,{className:r?"cursor-pointer hover:bg-muted/50":"",onClick:r?()=>r(L.original):void 0,children:L.getVisibleCells().map((G,ee)=>{const ne=`${z}_${G.column.id}_${ee}`,ge=G.column.id,Ee=c.includes(ge);return C.jsx(u$,{className:Ee?"sticky z-10 shadow-sm":"",style:Ee?{left:`${Z(ge,ee)}px`}:{},onClick:qe=>{ge==="actions"&&qe.stopPropagation()},children:jT(G.column.columnDef.cell,G.getContext())},ne)})},z)})})]})}),C.jsxs("div",{className:"flex items-center justify-between p-2 border-t",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-sm text-muted-foreground",children:"Righe per pagina"}),C.jsx("select",{className:"border border-input rounded px-2 py-1 text-sm text-foreground",value:k,onChange:L=>{O(Number(L.target.value)),A(0)},children:p.map(L=>C.jsx("option",{value:L,children:L},L))})]}),C.jsx("div",{className:"text-sm text-muted-foreground",children:J.length===0?"0–0 di 0":`${E*k+1}–${Math.min((E+1)*k,J.length)} di ${J.length}`}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(bi,{size:"sm",variant:"outline",onClick:()=>A(0),disabled:E===0,children:"«"}),C.jsx(bi,{size:"sm",variant:"outline",onClick:()=>A(Math.max(0,E-1)),disabled:E===0,children:"Prev"}),C.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pagina ",E+1," / ",me]}),C.jsx(bi,{size:"sm",variant:"outline",onClick:()=>A(Math.min(me-1,E+1)),disabled:E>=me-1,children:"Next"}),C.jsx(bi,{size:"sm",variant:"outline",onClick:()=>A(me-1),disabled:E>=me-1,children:"»"})]})]})]})}const Er=no((t,e)=>({machines:[],getMachines:()=>e().machines,getMachineById:n=>e().machines.find(i=>i.id===n),getMachinesByWorkCenter:n=>n==="BOTH"?e().machines:e().machines.filter(i=>i.work_center===n),setMachines:n=>t({machines:n||[]}),cleanupDuplicateMachines:()=>{const n=e(),i=[],r=new Set;n.machines.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({machines:i})},reset:()=>t({machines:[]})})),fn=no((t,e)=>({odpOrders:[],getOdpOrders:()=>e().odpOrders,getOrderById:n=>e().odpOrders.find(i=>i.id===n),getScheduledOrders:()=>e().odpOrders.filter(n=>n.status==="SCHEDULED"),getUnscheduledOrders:()=>e().odpOrders.filter(n=>n.status==="NOT SCHEDULED"),getOdpOrdersByWorkCenter:n=>n==="BOTH"?e().odpOrders:e().odpOrders.filter(i=>i.work_center===n),setOdpOrders:n=>t({odpOrders:n||[]}),cleanupDuplicateOrders:()=>{const n=e(),i=[],r=new Set;n.odpOrders.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({odpOrders:i})},reset:()=>t({odpOrders:[]})})),hc=no((t,e)=>({phases:[],getPhases:()=>e().phases,getPhaseById:n=>e().phases.find(i=>i.id===n),setPhases:n=>t({phases:n||[]}),cleanupDuplicatePhases:()=>{const n=e(),i=[],r=new Set;n.phases.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({phases:i})},reset:()=>t({phases:[]})})),lV={APP:{FIRST_DAY_OF_WEEK:1}},cV=Object.prototype.toString;function uV(t,e){return cV.call(t)===`[object ${e}]`}function F1(t){return uV(t,"Object")}function i_(t){return!!(t&&t.then&&typeof t.then=="function")}function dV(t){return typeof t=="number"&&t!==t}function Ih(t){return t&&t.Math==Math?t:void 0}const si=typeof globalThis=="object"&&Ih(globalThis)||typeof window=="object"&&Ih(window)||typeof self=="object"&&Ih(self)||typeof global=="object"&&Ih(global)||(function(){return this})()||{};function H1(t,e,n){const i=n||si,r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=e())}const B1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,fV="Sentry Logger ",PT=["debug","info","warn","error","log","assert","trace"],LT={};function $1(t){if(!("console"in si))return t();const e=si.console,n={},i=Object.keys(LT);i.forEach(r=>{const s=LT[r];n[r]=e[r],e[r]=s});try{return t()}finally{i.forEach(r=>{e[r]=n[r]})}}function hV(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return B1?PT.forEach(n=>{e[n]=(...i)=>{t&&$1(()=>{si.console[n](`${fV}[${n}]:`,...i)})}}):PT.forEach(n=>{e[n]=()=>{}}),e}const gn=hV();function Hr(t){return Gb(t,new Map)}function Gb(t,e){if(gV(t)){const n=e.get(t);if(n!==void 0)return n;const i={};e.set(t,i);for(const r of Object.keys(t))typeof t[r]<"u"&&(i[r]=Gb(t[r],e));return i}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const i=[];return e.set(t,i),t.forEach(r=>{i.push(Gb(r,e))}),i}return t}function gV(t){if(!F1(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const Mv="<anonymous>";function pV(t){try{return!t||typeof t!="function"?Mv:t.name||Mv}catch{return Mv}}const ug={},UT={};function V1(t,e){ug[t]=ug[t]||[],ug[t].push(e)}function q1(t,e){UT[t]||(e(),UT[t]=!0)}function G1(t,e){const n=t&&ug[t];if(n)for(const i of n)try{i(e)}catch(r){B1&&gn.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${pV(i)}
Error:`,r)}}function Fi(){const t=si,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function mV(t){return Array.isArray(t)?t:[t]}let jh=null;function yV(t){const e="error";V1(e,t),q1(e,vV)}function vV(){jh=si.onerror,si.onerror=function(t,e,n,i,r){return G1("error",{column:i,error:r,line:n,msg:t,url:e}),jh&&!jh.__SENTRY_LOADER__?jh.apply(this,arguments):!1},si.onerror.__SENTRY_INSTRUMENTED__=!0}let Ph=null;function bV(t){const e="unhandledrejection";V1(e,t),q1(e,_V)}function _V(){Ph=si.onunhandledrejection,si.onunhandledrejection=function(t){return G1("unhandledrejection",t),Ph&&!Ph.__SENTRY_LOADER__?Ph.apply(this,arguments):!0},si.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function wV(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function SV(){return!wV()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function qo(t,e){return t.require(e)}function xV(t){let e;try{e=qo(module,t)}catch{}try{const{cwd:n}=qo(module,"process");e=qo(module,`${n()}/node_modules/${t}`)}catch{}return e}var $s;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const i=2;t[t.REJECTED=i]="REJECTED"})($s||($s={}));class ja{constructor(e){ja.prototype.__init.call(this),ja.prototype.__init2.call(this),ja.prototype.__init3.call(this),ja.prototype.__init4.call(this),this._state=$s.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new ja((i,r)=>{this._handlers.push([!1,s=>{if(!e)i(s);else try{i(e(s))}catch(o){r(o)}},s=>{if(!n)r(s);else try{i(n(s))}catch(o){r(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new ja((n,i)=>{let r,s;return this.then(o=>{s=!1,r=o,e&&e()},o=>{s=!0,r=o,e&&e()}).then(()=>{if(s){i(r);return}n(r)})})}__init(){this._resolve=e=>{this._setResult($s.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult($s.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===$s.PENDING){if(i_(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===$s.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===$s.RESOLVED&&n[1](this._value),this._state===$s.REJECTED&&n[2](this._value),n[0]=!0)})}}}const W1=1e3;function r_(){return Date.now()/W1}function EV(){const{performance:t}=si;if(!t||!t.now)return r_;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/W1}const vp=EV();(()=>{const{performance:t}=si;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),i=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,s=r<e,o=t.timing&&t.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-i):e,d=u<e;return s||d?r<=u?t.timeOrigin:o:i})();function CV(t=Fi(),e=Fi().substring(16),n){let i="";return n!==void 0&&(i=n?"-1":"-0"),`${t}-${e}${i}`}const Qn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Y1="production";function TV(){return H1("globalEventProcessors",()=>[])}function Wb(t,e,n,i=0){return new ja((r,s)=>{const o=t[i];if(e===null||typeof o!="function")r(e);else{const c=o({...e},n);Qn&&o.id&&c===null&&gn.log(`Event processor "${o.id}" dropped event`),i_(c)?c.then(u=>Wb(t,u,n,i+1).then(r)).then(null,s):Wb(t,c,n,i+1).then(r).then(null,s)}})}function AV(t){const e=vp(),n={sid:Fi(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>DV(n)};return t&&bp(n,t),n}function bp(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||vp(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Fi()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function RV(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),bp(t,n)}function DV(t){return Hr({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const OV=0,Q1=1;function s_(t){const{spanId:e,traceId:n}=t.spanContext(),{data:i,op:r,parent_span_id:s,status:o,tags:c,origin:u}=Ka(t);return Hr({data:i,op:r,parent_span_id:s,span_id:e,status:o,tags:c,trace_id:n,origin:u})}function K1(t){const{traceId:e,spanId:n}=t.spanContext(),i=Z1(t);return CV(e,n,i)}function X1(t){return typeof t=="number"?zT(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?zT(t.getTime()):vp()}function zT(t){return t>9999999999?t/1e3:t}function Ka(t){return kV(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function kV(t){return typeof t.getSpanJSON=="function"}function Z1(t){const{traceFlags:e}=t.spanContext();return!!(e&Q1)}function J1(){return _p().getClient()}function MV(){return _p().getScope()}function kg(t){return t.transaction}function NV(t,e,n){const i=e.getOptions(),{publicKey:r}=e.getDsn()||{},{segment:s}=n&&n.getUser()||{},o=Hr({environment:i.environment||Y1,release:i.release,user_segment:s,public_key:r,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function Yb(t){const e=J1();if(!e)return{};const n=NV(Ka(t).trace_id||"",e,MV()),i=kg(t);if(!i)return n;const r=i&&i._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:s,source:o}=i.metadata;s!=null&&(n.sample_rate=`${s}`);const c=Ka(i);return o&&o!=="url"&&(n.transaction=c.description),n.sampled=String(Z1(i)),e.emit&&e.emit("createDsc",n),n}function IV(t,e){const{fingerprint:n,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=e;jV(t,e),i&&UV(t,i),zV(t,n),PV(t,r),LV(t,s)}function jV(t,e){const{extra:n,tags:i,user:r,contexts:s,level:o,transactionName:c}=e,u=Hr(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const d=Hr(i);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});const h=Hr(r);h&&Object.keys(h).length&&(t.user={...h,...t.user});const p=Hr(s);p&&Object.keys(p).length&&(t.contexts={...p,...t.contexts}),o&&(t.level=o),c&&(t.transaction=c)}function PV(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function LV(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function UV(t,e){t.contexts={trace:s_(e),...t.contexts};const n=kg(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:Yb(e),...t.sdkProcessingMetadata};const i=Ka(n).description;i&&(t.tags={transaction:i,...t.tags})}}function zV(t,e){t.fingerprint=t.fingerprint?mV(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const FV=100;class _c{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=FT()}static clone(e){return e?e.clone():new _c}clone(){const e=new _c;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&bp(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof _c){const i=n.getScopeData();this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&Object.keys(i.user).length&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint.length&&(this._fingerprint=i.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),i.propagationContext&&(this._propagationContext=i.propagationContext)}else if(F1(n)){const i=e;this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint&&(this._fingerprint=i.fingerprint),i.requestSession&&(this._requestSession=i.requestSession),i.propagationContext&&(this._propagationContext=i.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=FT(),this}addBreadcrumb(e,n){const i=typeof n=="number"?n:FV;if(i<=0)return this;const r={timestamp:r_(),...e},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>i?s.slice(-i):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:i,_tags:r,_extra:s,_user:o,_level:c,_fingerprint:u,_eventProcessors:d,_propagationContext:h,_sdkProcessingMetadata:p,_transactionName:y,_span:m}=this;return{breadcrumbs:e,attachments:n,contexts:i,tags:r,extra:s,user:o,level:c,fingerprint:u||[],eventProcessors:d,propagationContext:h,sdkProcessingMetadata:p,transactionName:y,span:m}}applyToEvent(e,n={},i=[]){IV(e,this.getScopeData());const r=[...i,...TV(),...this._eventProcessors];return Wb(r,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const i=n&&n.event_id?n.event_id:Fi();if(!this._client)return gn.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...n,event_id:i},this),i}captureMessage(e,n,i){const r=i&&i.event_id?i.event_id:Fi();if(!this._client)return gn.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r},this),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Fi();return this._client?(this._client.captureEvent(e,{...n,event_id:i},this),i):(gn.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function FT(){return{traceId:Fi(),spanId:Fi().substring(16)}}const HV="7.120.4",ek=parseFloat(HV),BV=100;class tk{constructor(e,n,i,r=ek){this._version=r;let s;n?s=n:(s=new _c,s.setClient(e));let o;i?o=i:(o=new _c,o.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let i;try{i=e(n)}catch(r){throw this.popScope(),r}return i_(i)?i.then(r=>(this.popScope(),r),r=>{throw this.popScope(),r}):(this.popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const i=this._lastEventId=n&&n.event_id?n.event_id:Fi(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...n,event_id:i}),i}captureMessage(e,n,i){const r=this._lastEventId=i&&i.event_id?i.event_id:Fi(),s=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r}),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Fi();return e.type||(this._lastEventId=i),this.getScope().captureEvent(e,{...n,event_id:i}),i}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:i,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=BV}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const u={timestamp:r_(),...e},d=s?$1(()=>s(u,n)):u;d!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",d,n),i.addBreadcrumb(d,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:i}=this.getStackTop();i&&e(n)}run(e){const n=HT(this);try{e(this)}finally{HT(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return Qn&&gn.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const i=this._callExtensionMethod("startTransaction",e,n);return Qn&&!i&&(this.getClient()?gn.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):gn.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,i=n.getSession();i&&RV(i),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:i}=this.getStackTop(),{release:r,environment:s=Y1}=i&&i.getOptions()||{},{userAgent:o}=si.navigator||{},c=AV({release:r,environment:s,user:n.getUser(),...o&&{userAgent:o},...e}),u=n.getSession&&n.getSession();return u&&u.status==="ok"&&bp(u,{status:"exited"}),this.endSession(),n.setSession(c),c}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),i=e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}_callExtensionMethod(e,...n){const r=$c().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,n);Qn&&gn.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function $c(){return si.__SENTRY__=si.__SENTRY__||{extensions:{},hub:void 0},si}function HT(t){const e=$c(),n=Qb(e);return nk(e,t),n}function _p(){const t=$c();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return $V(t)}function $V(t=$c()){return(!VV(t)||Qb(t).isOlderThan(ek))&&nk(t,new tk),Qb(t)}function VV(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Qb(t){return H1("hub",()=>new tk,t)}function nk(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function qV(t){return(t||_p()).getScope().getTransaction()}let BT=!1;function GV(){BT||(BT=!0,yV(Kb),bV(Kb))}function Kb(){const t=qV();if(t){const e="internal_error";Qn&&gn.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Kb.tag="sentry_tracingErrorCallback";var $T;(function(t){t.Ok="ok";const n="deadline_exceeded";t.DeadlineExceeded=n;const i="unauthenticated";t.Unauthenticated=i;const r="permission_denied";t.PermissionDenied=r;const s="not_found";t.NotFound=s;const o="resource_exhausted";t.ResourceExhausted=o;const c="invalid_argument";t.InvalidArgument=c;const u="unimplemented";t.Unimplemented=u;const d="unavailable";t.Unavailable=d;const h="internal_error";t.InternalError=h;const p="unknown_error";t.UnknownError=p;const y="cancelled";t.Cancelled=y;const m="already_exists";t.AlreadyExists=m;const b="failed_precondition";t.FailedPrecondition=b;const _="aborted";t.Aborted=_;const S="out_of_range";t.OutOfRange=S;const x="data_loss";t.DataLoss=x})($T||($T={}));function WV(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function YV(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=WV(e);n!=="unknown_error"&&t.setStatus(n)}function QV(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=J1(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const KV="_sentryScope",XV="_sentryIsolationScope";function ZV(t){return{scope:t[KV],isolationScope:t[XV]}}const Nv="sentry.source",gc="sentry.sample_rate",Lh="sentry.op",Uh="sentry.origin",JV="profile_id";class e5{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class a_{constructor(e={}){this._traceId=e.traceId||Fi(),this._spanId=e.spanId||Fi().substring(16),this._startTime=e.startTimestamp||vp(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Uh]:e.origin||"manual",[Lh]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[Lh]}set op(e){this.setAttribute(Lh,e)}get origin(){return this._attributes[Uh]}set origin(e){this.setAttribute(Uh,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:i}=this;return{spanId:e,traceId:n,traceFlags:i?Q1:OV}}startChild(e){const n=new a_({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const i=kg(this);if(n.transaction=i,Qn&&i){const r=e&&e.op||"< unknown op >",s=Ka(n).description||"< unknown name >",o=i.spanContext().spanId,c=`[Tracing] Starting '${r}' span on transaction '${s}' (${o}).`;gn.log(c),this._logMessage=c}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return YV(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=kg(this);if(Qn&&n&&n.spanContext().spanId!==this._spanId){const i=this._logMessage;i&&gn.log(i.replace("Starting","Finishing"))}this._endTime=X1(e)}toTraceparent(){return K1(this)}toContext(){return Hr({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return s_(this)}getSpanJSON(){return Hr({data:this._getData(),description:this._name,op:this._attributes[Lh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Uh],_metrics_summary:void 0,profile_id:this._attributes[JV],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,i=Object.keys(e).length>0,r=Object.keys(n).length>0;if(!(!i&&!r))return i&&r?{...e,...n}:i?e:n}}class t5 extends a_{constructor(e,n){super(e),this._contexts={},this._hub=n||_p(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const i=this._metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext={...i})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Nv]&&{source:this._attributes[Nv]},...this._attributes[gc]&&{sampleRate:this._attributes[gc]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(Nv,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new e5(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,i=""){this._measurements[e]={value:n,unit:i}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=X1(e),i=this._finishTransaction(n);if(i)return this._hub.captureEvent(i)}toContext(){const e=super.toContext();return Hr({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Yb(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(Qn&&gn.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Qn&&gn.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const i=this.spanRecorder?this.spanRecorder.spans.filter(h=>h!==this&&Ka(h).timestamp):[];if(this._trimEnd&&i.length>0){const h=i.map(p=>Ka(p).timestamp).filter(Boolean);this._endTime=h.reduce((p,y)=>p>y?p:y)}const{scope:r,isolationScope:s}=ZV(this),{metadata:o}=this,{source:c}=o,u={contexts:{...this._contexts,trace:s_(this)},spans:i,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:r,capturedSpanIsolationScope:s,...Hr({dynamicSamplingContext:Yb(this)})},_metrics_summary:void 0,...c&&{transaction_info:{source:c}}};return Object.keys(this._measurements).length>0&&(Qn&&gn.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),u.measurements=this._measurements),Qn&&gn.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),u}}function n5(t,e,n){if(!QV(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(gc,Number(t.sampled)),t;let i;return typeof e.tracesSampler=="function"?(i=e.tracesSampler(n),t.setAttribute(gc,Number(i))):n.parentSampled!==void 0?i=n.parentSampled:typeof e.tracesSampleRate<"u"?(i=e.tracesSampleRate,t.setAttribute(gc,Number(i))):(i=1,t.setAttribute(gc,i)),i5(i)?i?(t.sampled=Math.random()<i,t.sampled?(Qn&&gn.log(`[Tracing] starting ${t.op} transaction - ${Ka(t).description}`),t):(Qn&&gn.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):(Qn&&gn.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(Qn&&gn.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function i5(t){return dV(t)||!(typeof t=="number"||typeof t=="boolean")?(Qn&&gn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(Qn&&gn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function r5(){const e=this.getScope().getSpan();return e?{"sentry-trace":K1(e)}:{}}function s5(t,e){const n=this.getClient(),i=n&&n.getOptions()||{},r=i.instrumenter||"sentry",s=t.instrumenter||"sentry";r!==s&&(Qn&&gn.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${r}\` instrumenter.
The transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),t.sampled=!1);let o=new t5(t,this);return o=n5(o,i,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),o.isRecording()&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function a5(){const t=$c();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=s5),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=r5),GV())}function o5(){const t=$c();if(!t.__SENTRY__)return;const e={mongodb(){const i=qo(module,"./node/integrations/mongo");return new i.Mongo},mongoose(){const i=qo(module,"./node/integrations/mongo");return new i.Mongo},mysql(){const i=qo(module,"./node/integrations/mysql");return new i.Mysql},pg(){const i=qo(module,"./node/integrations/postgres");return new i.Postgres}},n=Object.keys(e).filter(i=>!!xV(i)).map(i=>{try{return e[i]()}catch{return}}).filter(i=>i);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function l5(){a5(),SV()&&o5()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&l5();const c5=()=>{{console.log("Sentry not initialized: VITE_SENTRY_DSN not provided");return}},o_=(t,e={})=>{{console.warn("Sentry not configured, error not reported:",t);return}},ik=(t,e="user",n="info",i={})=>{},je={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"},Mg={[je.VALIDATION_ERROR]:"I dati inseriti non sono validi. Controlla i campi evidenziati.",[je.NETWORK_ERROR]:"Errore di connessione. Verifica la tua connessione internet.",[je.AUTHENTICATION_ERROR]:"Sessione scaduta. Effettua nuovamente l'accesso.",[je.AUTHORIZATION_ERROR]:"Non hai i permessi per eseguire questa operazione.",[je.NOT_FOUND_ERROR]:"La risorsa richiesta non è stata trovata.",[je.SERVER_ERROR]:"Errore del server. Riprova più tardi.",[je.BUSINESS_LOGIC_ERROR]:"Operazione non consentita dalle regole di business.",[je.UNKNOWN_ERROR]:"Si è verificato un errore imprevisto."};class bt extends Error{constructor(e,n=je.UNKNOWN_ERROR,i=500,r={}){super(e),this.name="AppError",this.type=n,this.statusCode=i,this.context=r,this.timestamp=new Date().toISOString(),this.userMessage=Mg[n]||Mg[je.UNKNOWN_ERROR]}toJSON(){return{message:this.message,type:this.type,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage}}}const Li=(t,e={})=>{ik("API Error occurred","api","error",{error:t.message}),o_(t,{...e});let n=je.UNKNOWN_ERROR,i=Mg[je.UNKNOWN_ERROR];if(t.response)switch(t.response.status){case 400:n=je.VALIDATION_ERROR;break;case 401:n=je.AUTHENTICATION_ERROR;break;case 403:n=je.AUTHORIZATION_ERROR;break;case 404:n=je.NOT_FOUND_ERROR;break;case 500:case 502:case 503:n=je.SERVER_ERROR;break;default:n=je.NETWORK_ERROR}else t.request&&(n=je.NETWORK_ERROR);return i=Mg[n],Fr(i),new bt(t.message,n,t.response?.status,e)},Xb=async(t,e={})=>{try{return await t()}catch(n){return Li(n,e)}},VT=async(t,e=3,n=1e3)=>{let i;for(let r=0;r<e;r++)try{return await t()}catch(s){i=s,r<e-1&&(ik(`Retry attempt ${r+1}`,"retry","info",{error:s.message}),await new Promise(o=>setTimeout(o,n*Math.pow(2,r))))}throw o_(i,{}),i},rk=6048e5,u5=864e5,d5=36e5,qT=Symbol.for("constructDateFrom");function fs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&qT in t?t[qT](e):t instanceof Date?new t.constructor(e):new Date(e)}function ai(t,e){return fs(e||t,t)}function Wd(t,e,n){const i=ai(t,n?.in);return isNaN(e)?fs(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function f5(t,e,n){return fs(t,+ai(t)+e)}function GT(t,e,n){return f5(t,e*d5)}let h5={};function wp(){return h5}function el(t,e){const n=wp(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=ai(t,e?.in),s=r.getDay(),o=(s<i?7:0)+s-i;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Ng(t,e){return el(t,{...e,weekStartsOn:1})}function sk(t,e){const n=ai(t,e?.in),i=n.getFullYear(),r=fs(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=Ng(r),o=fs(n,0);o.setFullYear(i,0,4),o.setHours(0,0,0,0);const c=Ng(o);return n.getTime()>=s.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function WT(t){const e=ai(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function g5(t,...e){const n=fs.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function YT(t,e){const n=ai(t,e?.in);return n.setHours(0,0,0,0),n}function p5(t,e,n){const[i,r]=g5(n?.in,t,e),s=YT(i),o=YT(r),c=+s-WT(s),u=+o-WT(o);return Math.round((c-u)/u5)}function m5(t,e){const n=sk(t,e),i=fs(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Ng(i)}function ak(t,e,n){return Wd(t,e*7,n)}function y5(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function v5(t){return!(!y5(t)&&typeof t!="number"||isNaN(+ai(t)))}function b5(t,e){const n=ai(t,e?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function ok(t,e){const n=ai(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const _5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},w5=(t,e,n)=>{let i;const r=_5[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Iv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const S5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C5={date:Iv({formats:S5,defaultWidth:"full"}),time:Iv({formats:x5,defaultWidth:"full"}),dateTime:Iv({formats:E5,defaultWidth:"full"})},T5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},A5=(t,e,n,i)=>T5[t];function qu(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):o;r=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;r=t.values[c]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const R5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},D5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},k5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},I5=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},j5={ordinalNumber:I5,era:qu({values:R5,defaultWidth:"wide"}),quarter:qu({values:D5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qu({values:O5,defaultWidth:"wide"}),day:qu({values:k5,defaultWidth:"wide"}),dayPeriod:qu({values:M5,defaultWidth:"wide",formattingValues:N5,defaultFormattingWidth:"wide"})};function Gu(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],c=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?L5(c,p=>p.test(o)):P5(c,p=>p.test(o));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function P5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function L5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function U5(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const c=e.slice(r.length);return{value:o,rest:c}}}const z5=/^(\d+)(th|st|nd|rd)?/i,F5=/\d+/i,H5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B5={any:[/^b/i,/^(a|c)/i]},$5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V5={any:[/1/i,/2/i,/3/i,/4/i]},q5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},G5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Y5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},K5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X5={ordinalNumber:U5({matchPattern:z5,parsePattern:F5,valueCallback:t=>parseInt(t,10)}),era:Gu({matchPatterns:H5,defaultMatchWidth:"wide",parsePatterns:B5,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:$5,defaultMatchWidth:"wide",parsePatterns:V5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gu({matchPatterns:q5,defaultMatchWidth:"wide",parsePatterns:G5,defaultParseWidth:"any"}),day:Gu({matchPatterns:W5,defaultMatchWidth:"wide",parsePatterns:Y5,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:Q5,defaultMatchWidth:"any",parsePatterns:K5,defaultParseWidth:"any"})},Z5={code:"en-US",formatDistance:w5,formatLong:C5,formatRelative:A5,localize:j5,match:X5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function J5(t,e){const n=ai(t,e?.in);return p5(n,ok(n))+1}function e3(t,e){const n=ai(t,e?.in),i=+Ng(n)-+m5(n);return Math.round(i/rk)+1}function lk(t,e){const n=ai(t,e?.in),i=n.getFullYear(),r=wp(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=fs(e?.in||t,0);o.setFullYear(i+1,0,s),o.setHours(0,0,0,0);const c=el(o,e),u=fs(e?.in||t,0);u.setFullYear(i,0,s),u.setHours(0,0,0,0);const d=el(u,e);return+n>=+c?i+1:+n>=+d?i:i-1}function t3(t,e){const n=wp(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=lk(t,e),s=fs(e?.in||t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),el(s,e)}function n3(t,e){const n=ai(t,e?.in),i=+el(n,e)-+t3(n,e);return Math.round(i/rk)+1}function Lt(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Ma={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Lt(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Lt(n+1,2)},d(t,e){return Lt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Lt(t.getHours()%12||12,e.length)},H(t,e){return Lt(t.getHours(),e.length)},m(t,e){return Lt(t.getMinutes(),e.length)},s(t,e){return Lt(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return Lt(r,e.length)}},ic={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QT={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Ma.y(t,e)},Y:function(t,e,n,i){const r=lk(t,i),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return Lt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Lt(s,e.length)},R:function(t,e){const n=sk(t);return Lt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Lt(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Lt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Lt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Ma.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Lt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=n3(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Lt(r,e.length)},I:function(t,e,n){const i=e3(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Lt(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ma.d(t,e)},D:function(t,e,n){const i=J5(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Lt(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Lt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Lt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Lt(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=ic.noon:i===0?r=ic.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=ic.evening:i>=12?r=ic.afternoon:i>=4?r=ic.morning:r=ic.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Ma.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ma.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Lt(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Lt(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ma.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ma.s(t,e)},S:function(t,e){return Ma.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return XT(i);case"XXXX":case"XX":return Io(i);case"XXXXX":case"XXX":default:return Io(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return XT(i);case"xxxx":case"xx":return Io(i);case"xxxxx":case"xxx":default:return Io(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+KT(i,":");case"OOOO":default:return"GMT"+Io(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+KT(i,":");case"zzzz":default:return"GMT"+Io(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return Lt(i,e.length)},T:function(t,e,n){return Lt(+t,e.length)}};function KT(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+Lt(s,2)}function XT(t,e){return t%60===0?(t>0?"-":"+")+Lt(Math.abs(t)/60,2):Io(t,e)}function Io(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Lt(Math.trunc(i/60),2),s=Lt(i%60,2);return n+r+e+s}const ZT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ck=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},i3=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return ZT(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",ZT(i,e)).replace("{{time}}",ck(r,e))},r3={p:ck,P:i3},s3=/^D+$/,a3=/^Y+$/,o3=["D","DD","YY","YYYY"];function l3(t){return s3.test(t)}function c3(t){return a3.test(t)}function u3(t,e,n){const i=d3(t,e,n);if(console.warn(i),o3.includes(t))throw new RangeError(i)}function d3(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g3=/^'([^]*?)'?$/,p3=/''/g,m3=/[a-zA-Z]/;function Kn(t,e,n){const i=wp(),r=i.locale??Z5,s=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=ai(t,n?.in);if(!v5(c))throw new RangeError("Invalid time value");let u=e.match(h3).map(h=>{const p=h[0];if(p==="p"||p==="P"){const y=r3[p];return y(h,r.formatLong)}return h}).join("").match(f3).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const p=h[0];if(p==="'")return{isToken:!1,value:y3(h)};if(QT[p])return{isToken:!0,value:h};if(p.match(m3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(u=r.localize.preprocessor(c,u));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return u.map(h=>{if(!h.isToken)return h.value;const p=h.value;(c3(p)||l3(p))&&u3(p,e,String(t));const y=QT[p[0]];return y(c,p,r.localize,d)}).join("")}function y3(t){const e=t.match(g3);return e?e[1].replace(p3,"'"):t}function v3(t,e){return ai(t,e?.in).getDay()}function b3(t,e){return+ai(t)>+ai(e)}function _3(t,e,n){return ak(t,-1,n)}class w3{async init(){try{const{error:e}=await yn.from("machines").select("count").limit(1);if(e)throw new bt(`API initialization failed: ${e.message}`,je.SERVER_ERROR,500,e,"API.init");return!0}catch(e){throw e instanceof bt?e:new bt(`API initialization failed: ${e.message}`,je.SERVER_ERROR,500,e,"API.init")}}async getMachines(){return Xb(async()=>{const{data:e,error:n}=await yn.from("machines").select("*").order("machine_name");if(n)throw n;return e||[]},"getMachines")}async addMachine(e){try{const{data:n,error:i}=await yn.from("machines").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new bt(`Failed to add machine: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.addMachine")}}async updateMachine(e,n){try{const{data:i,error:r}=await yn.from("machines").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new bt(`Failed to update machine: ${Nn(i)}`,je.SERVER_ERROR,500,i,"API.updateMachine")}}async removeMachine(e){try{const{error:n}=await yn.from("machines").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new bt(`Failed to remove machine: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.removeMachine")}}async getOdpOrders(){try{const{data:e,error:n}=await yn.from("odp_orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){throw new bt(`Failed to fetch ODP orders: ${Nn(e)}`,je.SERVER_ERROR,500,e,"API.getOdpOrders")}}async getOdpOrder(e){try{const{data:n,error:i}=await yn.from("odp_orders").select("*").eq("id",e).single();if(i)throw i;return n}catch(n){throw new bt(`Failed to fetch ODP order: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.getOdpOrder")}}async addOdpOrder(e){try{const{data:n,error:i}=await yn.from("odp_orders").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new bt(`Failed to add ODP order: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.addOdpOrder")}}async updateOdpOrder(e,n){try{const{data:i,error:r}=await yn.from("odp_orders").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new bt(`Failed to update ODP order: ${Nn(i)}`,je.SERVER_ERROR,500,i,"API.updateOdpOrder")}}async removeOdpOrder(e){try{const{error:n}=await yn.from("odp_orders").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new bt(`Failed to remove ODP order: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.removeOdpOrder")}}async getPhases(){try{const{data:e,error:n}=await yn.from("phases").select("*").order("name");if(n)throw n;return e||[]}catch(e){throw new bt(`Failed to fetch phases: ${Nn(e)}`,je.SERVER_ERROR,500,e,"API.getPhases")}}async addPhase(e){try{const{data:n,error:i}=await yn.from("phases").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new bt(`Failed to add phase: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.addPhase")}}async updatePhase(e,n){try{const{data:i,error:r}=await yn.from("phases").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new bt(`Failed to update phase: ${Nn(i)}`,je.SERVER_ERROR,500,i,"API.updatePhase")}}async removePhase(e){try{const{error:n}=await yn.from("phases").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new bt(`Failed to remove phase: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.removePhase")}}async getMachineAvailabilityForDateRange(e,n,i){try{const{data:r,error:s}=await yn.from("machine_availability").select("*").eq("machine_id",e).gte("date",n).lte("date",i).order("date");if(s)throw s;return r||[]}catch(r){throw new bt(`Failed to fetch machine availability for date range: ${Nn(r)}`,je.SERVER_ERROR,500,r,"API.getMachineAvailabilityForDateRange")}}async getMachineAvailabilityForDate(e,n){try{const{data:i,error:r}=await yn.from("machine_availability").select("*").eq("machine_id",e).eq("date",n).maybeSingle();if(r)throw r;return i||null}catch(i){throw new bt(`Failed to fetch machine availability: ${Nn(i)}`,je.SERVER_ERROR,500,i,"API.getMachineAvailabilityForDate")}}async getMachineAvailability(e,n){try{return(await this.getMachineAvailabilityForDate(e,n))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(e,n,i){try{const{data:r,error:s}=await yn.from("machine_availability").upsert([{machine_id:e,date:n,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(s)throw s;return r}catch(r){throw new bt(`Failed to set machine availability: ${Nn(r)}`,je.SERVER_ERROR,500,r,"API.setMachineAvailability")}}async getMachineAvailabilityForDateAllMachines(e){try{const{data:n,error:i}=await yn.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new bt(`Failed to fetch machine availability for all machines: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.getMachineAvailabilityForDateAllMachines")}}async getEventsByDate(e){try{const{data:n,error:i}=await yn.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new bt(`Failed to fetch events by date: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.getEventsByDate")}}async setUnavailableHoursForRange(e,n,i,r,s){try{const o=parseInt(r.split(":")[0]),c=parseInt(s.split(":")[0]),u=[];for(let m=o;m<c;m++)u.push(m.toString());const d=new Date(n),h=new Date(i);let p=new Date(d);const y=[];for(;p<=h;){const m=Kn(p,"yyyy-MM-dd"),_=(await this.getMachineAvailabilityForDate(e,m))?.unavailable_hours||[],S=[...new Set([..._,...u])].sort((T,A)=>parseInt(T)-parseInt(A)),x=await this.setMachineAvailability(e,m,S);y.push(x),p=Wd(p,1)}return y}catch(o){throw new bt(`Failed to set unavailable hours for range: ${Nn(o)}`,je.SERVER_ERROR,500,o,"API.setUnavailableHoursForRange")}}async bulkUpsertMachineAvailability(e){try{const{error:n}=await yn.from("machine_availability").upsert(e,{onConflict:"machine_id,date"});if(n)throw n;return{success:!0}}catch(n){throw new bt(`Failed to bulk set machine availability: ${Nn(n)}`,je.SERVER_ERROR,500,n,"API.bulkUpsertMachineAvailability")}}setupRealtimeSubscriptions(e,n,i){return yn.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},e).on("postgres_changes",{event:"*",schema:"public",table:"machines"},n).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i).subscribe(s=>{})}cleanupRealtimeSubscriptions(e){if(e)try{e.unsubscribe()}catch{}}}const Et=new w3,Zb=Object.freeze(Object.defineProperty({__proto__:null,apiService:Et},Symbol.toStringTag,{value:"Module"})),nn={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},wt={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},us={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},rc={CREMA:"CREMA",LIQUIDO:"LIQUIDO",POLVERI:"POLVERI"},jo={T1:"T1",T2:"T2",T3:"T3"},S3={THREE:3},JT={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},tn={MACHINE:{DEPARTMENT:nn.PRINTING,WORK_CENTER:wt.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[jo.T1],STATUS:us.ACTIVE},PHASE:{DEPARTMENT:nn.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:wt.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:S3.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},x3={MAX_TASK_SEGMENTS:50},zh={MINUTES_PER_HOUR:60,MILLISECONDS_PER_MINUTE:60*1e3},Mt=no((t,e)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:localStorage.getItem("selectedWorkCenter")||wt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},getLoadingState:()=>e().isLoading,getInitializationState:()=>e().isInitialized,getSelectedWorkCenter:()=>e().selectedWorkCenter,getEditMode:()=>e().isEditMode,getConfirmDialog:()=>e().confirmDialog,getConflictDialog:()=>e().conflictDialog,getSchedulingLoading:()=>e().schedulingLoading,getDragPreview:()=>e().dragPreview,setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),setSelectedWorkCenter:n=>{localStorage.setItem("selectedWorkCenter",n),t({selectedWorkCenter:n})},toggleEditMode:()=>t(n=>({isEditMode:!n.isEditMode})),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>t({schedulingLoading:n}),startSchedulingOperation:(n,i=null)=>t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:i}}),stopSchedulingOperation:()=>t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}}),showConfirmDialog:(n,i,r,s="danger")=>t({confirmDialog:{isOpen:!0,title:n,message:i,onConfirm:r,type:s}}),hideConfirmDialog:()=>t({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),showConflictDialog:n=>t({conflictDialog:{isOpen:!0,details:n}}),hideConflictDialog:()=>t({conflictDialog:{isOpen:!1,details:null}}),setDragPreview:n=>t({dragPreview:n}),clearDragPreview:()=>t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}}),showAlert:(n,i="info")=>{BH(n,i)},reset:()=>t({isLoading:!1,isInitialized:!1,selectedWorkCenter:wt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})}));class E3{constructor(e,n){this.get=e,this.set=n}setSplitTaskInfo=(e,n)=>{this.set(i=>({splitTasksInfo:{...i.splitTasksInfo,[e]:n}}))};getSplitTaskInfo=e=>{const n=this.get().splitTasksInfo[e];if(n&&n.segments)return n;const{getOrderById:i}=fn.getState(),r=i(e);if(r&&r.description&&r.status==="SCHEDULED")try{const s=JSON.parse(r.description);if(s.segments&&Array.isArray(s.segments))return setTimeout(()=>{this.setSplitTaskInfo(e,s)},0),s}catch{}return null};clearSplitTaskInfo=e=>{this.set(n=>{const i={...n.splitTasksInfo};return delete i[e],{splitTasksInfo:i}})};updateTaskWithSplitInfo=async(e,n,i=null,r=null,s=null)=>{const{apiService:o}=await qr(async()=>{const{apiService:c}=await Promise.resolve().then(()=>Zb);return{apiService:c}},void 0);if(n){this.setSplitTaskInfo(e,n);const u={description:JSON.stringify(n),status:"SCHEDULED"};if(i&&(u.scheduled_start_time=i.toISOString()),r&&(u.scheduled_end_time=r.toISOString()),s&&(u.scheduled_machine_id=s),!(u.scheduled_start_time&&u.scheduled_end_time&&u.scheduled_machine_id))if(!u.scheduled_start_time&&!u.scheduled_end_time&&!u.scheduled_machine_id)delete u.scheduled_start_time,delete u.scheduled_end_time,delete u.scheduled_machine_id,u.status="NOT SCHEDULED";else{const{getOrderById:h}=fn.getState(),p=h(e);p&&(u.scheduled_start_time||(u.scheduled_start_time=p.scheduled_start_time),u.scheduled_end_time||(u.scheduled_end_time=p.scheduled_end_time),u.scheduled_machine_id||(u.scheduled_machine_id=p.scheduled_machine_id))}const d=await o.updateOdpOrder(e,u);this.updateSplitTaskInfo(e,d)}else{this.clearSplitTaskInfo(e);const c=await o.updateOdpOrder(e,{description:""});this.updateSplitTaskInfo(e,c)}};updateSplitTaskInfo=(e,n)=>{if(this.clearSplitTaskInfo(e),n.description&&n.status==="SCHEDULED")try{const i=JSON.parse(n.description);i.segments&&Array.isArray(i.segments)?this.validateSegments(i.segments.map(s=>({start:new Date(s.start),end:new Date(s.end),duration:s.duration}))).isValid?this.setSplitTaskInfo(e,i):this.clearSplitTaskInfo(e):this.clearSplitTaskInfo(e)}catch{this.clearSplitTaskInfo(e)}else this.clearSplitTaskInfo(e)};restoreSplitTaskInfo=()=>{const{getOdpOrders:e}=fn.getState(),n=e(),i={};let r=0;n.forEach(s=>{if(s.description&&s.status==="SCHEDULED")try{const o=JSON.parse(s.description);o.segments&&Array.isArray(o.segments)&&(i[s.id]=o,r++)}catch{}}),this.set({splitTasksInfo:i})};validateSegments=e=>{if(!Array.isArray(e)||e.length===0)return{isValid:!1,error:"Segments must be a non-empty array"};for(let n=0;n<e.length;n++){const i=e[n];if(!i.start||!i.end||i.duration===void 0)return{isValid:!1,error:`Segment ${n} missing required properties (start, end, duration)`};const r=new Date(i.start),s=new Date(i.end);if(isNaN(r.getTime())||isNaN(s.getTime()))return{isValid:!1,error:`Segment ${n} has invalid date values`};if(s<=r)return{isValid:!1,error:`Segment ${n} end time must be after start time`};if(i.duration<=0)return{isValid:!1,error:`Segment ${n} duration must be positive`};if(n>0){const o=e[n-1],c=new Date(o.end);if(r<c)return{isValid:!1,error:`Segment ${n} overlaps with previous segment`}}}return{isValid:!0}};createSegmentInfo=(e,n)=>{const i=this.validateSegments(e);if(!i.isValid)throw new Error(`Invalid segments: ${i.error}`);return{totalSegments:e.length,segments:e.map(r=>({start:r.start.toISOString(),end:r.end.toISOString(),duration:r.duration})),originalDuration:n,wasSplit:e.length>1}};getTaskOccupiedSegments=e=>{const n=this.getSplitTaskInfo(e.id);if(n&&n.segments)return n.segments.map(i=>({start:new Date(i.start),end:new Date(i.end),duration:i.duration}));if(e.description)try{const i=JSON.parse(e.description);if(i.segments&&Array.isArray(i.segments))return i.segments.map(r=>({start:new Date(r.start),end:new Date(r.end),duration:r.duration}))}catch{}if(e.scheduled_start_time){const i=new Date(e.scheduled_start_time),r=e.time_remaining||e.duration||1,s=new Date(i.getTime()+r*60*60*1e3);return[{start:i,end:s,duration:r}]}return[]};doTimeRangesOverlap=(e,n,i,r)=>e<r&&n>i;checkTaskOverlap=(e,n,i)=>{const r=this.getTaskOccupiedSegments(i);for(const s of r)if(this.doTimeRangesOverlap(e,n,s.start,s.end))return{hasOverlap:!0,conflictingSegment:s,existingTask:i};return{hasOverlap:!1}};checkMachineOverlaps=(e,n,i,r=null,s=[])=>{const{getOdpOrders:o}=fn.getState(),c=[r,...s].filter(h=>h),d=o().filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&!c.includes(h.id)&&h.scheduled_start_time&&h.scheduled_end_time&&h.scheduled_machine_id).sort((h,p)=>{const y=this.getTaskOccupiedSegments(h),m=this.getTaskOccupiedSegments(p),b=y.length>0?y[0].start:new Date(h.scheduled_start_time),_=m.length>0?m[0].start:new Date(p.scheduled_start_time);return b.getTime()-_.getTime()});for(const h of d){const p=this.checkTaskOverlap(e,n,h);if(p.hasOverlap)return{hasOverlap:!0,conflictingTask:h,conflictingSegment:p.conflictingSegment}}return{hasOverlap:!1}};migrateExistingTasksToSegmentFormat=async()=>{const{getOdpOrders:e}=fn.getState(),n=e();for(const i of n)if(i.status==="SCHEDULED"&&i.scheduled_start_time){const r=this.getSplitTaskInfo(i.id);if(r&&r.segments)continue;if(i.description)try{const h=JSON.parse(i.description);if(h.segments&&Array.isArray(h.segments)){this.setSplitTaskInfo(i.id,h);continue}}catch{}const s=new Date(i.scheduled_start_time),o=i.time_remaining||i.duration||1,c=new Date(s.getTime()+o*60*60*1e3),u=[{start:s,end:c,duration:o}],d=this.createSegmentInfo(u,o);await this.updateTaskWithSplitInfo(i.id,d)}};verifyAllTasksHaveSegmentInfo=()=>{const{getOdpOrders:e}=fn.getState(),i=e().filter(s=>s.status==="SCHEDULED"),r=[];for(const s of i){const o=this.getSplitTaskInfo(s.id);(!o||!o.segments)&&r.push({id:s.id,odp_number:s.odp_number,description:s.description})}return{totalScheduledTasks:i.length,tasksWithSegments:i.length-r.length,tasksWithoutSegments:r}}}class C3{constructor(e,n,i,r){this.get=e,this.set=n,this.splitTaskManager=i,this.machineAvailabilityManager=r}createAbsoluteDate=(e,n,i,r=0,s=0)=>new Date(Date.UTC(e,n-1,i,r,s,0,0));splitTaskAcrossAvailableSlots=(e,n,i,r)=>{try{const s=[];let o=new Date(e),c=n,u=!0;for(;u;){u=!1;for(const d of r)if(o>=d.start&&o<d.end){o=new Date(d.end),u=!0;break}}for(;c>0;){let d=null,h=null,p=null;for(const y of r){const m=new Date(y.start),b=new Date(y.end);m>=o&&(!d||m<h)&&(d=y,h=m,p=b)}if(d){const y=(h.getTime()-o.getTime())/36e5;if(y>0){const b=Math.min(y,c),_=new Date(o.getTime()+b*60*60*1e3);s.push({start:new Date(o),end:_,duration:b}),c-=b}o=new Date(p);let m=!0;for(;m;){m=!1;for(const b of r)if(o>=b.start&&o<b.end){o=new Date(b.end),m=!0;break}}}else{const y=new Date(o.getTime()+c*60*60*1e3);s.push({start:new Date(o),end:y,duration:c}),c=0}if(s.length>x3.MAX_TASK_SEGMENTS){console.warn("Task splitting exceeded maximum segments limit");break}}return s}catch(s){return console.error("Error in splitTaskAcrossAvailableSlots:",s),[]}};splitTaskAcrossAvailableSlotsBackward=(e,n,i,r)=>{try{const s=[];let o=new Date(e),c=n,u=!0;for(;u;){u=!1;for(const h of r)if(o>h.start&&o<=h.end){o=new Date(h.start),u=!0;break}}for(;c>0;){let h=null,p=null,y=null;for(const T of r){const A=new Date(T.start),k=new Date(T.end);k<=o&&(!h||k>y)&&(h=T,p=A,y=k)}let m;h?m=new Date(y):m=new Date(o.getTime()-c*60*60*1e3);let b=!0;for(;b;){b=!1;for(const T of r)if(m<T.end&&m>=T.start){m=new Date(T.end),b=!0;break}}const _=(o.getTime()-m.getTime())/(1e3*60*60);if(_<=0){o=h?new Date(p):new Date(o.getTime()-3600*1e3);continue}const S=Math.min(_,c),x=new Date(o.getTime()-S*60*60*1e3);s.push({start:x,end:new Date(o),duration:S}),c-=S,o=new Date(x)}return s.reverse()}catch(s){return console.error("Error in splitTaskAcrossAvailableSlotsBackward:",s),[]}};collectUnavailableSlots=(e,n,i)=>{const r=[],s=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),o=this.createAbsoluteDate(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()),c=new Date(o);c.setUTCDate(c.getUTCDate()+7);let u=new Date(s);for(;u<=c;){const d=Kn(u,"yyyy-MM-dd"),h=this.get().machineAvailability[d];if(h&&Array.isArray(h)){const p=h.find(y=>y.machine_id===i);if(p&&p.unavailable_hours&&Array.isArray(p.unavailable_hours)){const[y,m,b]=d.split("-").map(Number);for(const _ of p.unavailable_hours){const S=this.createAbsoluteDate(y,m,b,parseInt(_),0),x=new Date(S.getTime()+3600*1e3);r.push({start:S,end:x,hour:parseInt(_),date:d})}}}u.setUTCDate(u.getUTCDate()+1)}return r.sort((d,h)=>d.start.getTime()-h.start.getTime())};loadMachineAvailabilityForExtendedRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()+n*60*60*1e3),o=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),c=new Date(o);c.setUTCDate(c.getUTCDate()+7);let u=new Date(r);for(;u<=c;){const d=Kn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return c};loadMachineAvailabilityForBackwardRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()-n*60*60*1e3),o=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),c=new Date(o);c.setUTCDate(c.getUTCDate()-7);let u=new Date(c);for(;u<=r;){const d=Kn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return{taskStartDateWithBuffer:c,taskEndDate:r}};checkSegmentsForOverlaps=(e,n,i,r=[])=>{[i,...r].filter(s=>s);for(const s of e){const o=this.splitTaskManager.checkMachineOverlaps(s.start,s.end,n,i,r);if(o.hasOverlap)return{hasOverlap:!0,conflictingSegment:s,conflictingTask:o.conflictingTask,conflictingExistingSegment:o.conflictingSegment}}return{hasOverlap:!1}};scheduleTaskWithSplitting=async(e,n,i,r,s=[])=>{const o=await this.loadMachineAvailabilityForExtendedRange(n,i,r),c=this.collectUnavailableSlots(n,o,r),u=new Date(n.getTime()+i*60*60*1e3);if(c.some(h=>n<h.end&&u>h.start)){const h=this.splitTaskAcrossAvailableSlots(n,i,r,c);if(h.length>0){const p=this.checkSegmentsForOverlaps(h,r,e,s);if(p.hasOverlap)return{conflict:!0,conflictingTask:p.conflictingTask,conflictingSegment:p.conflictingExistingSegment,proposedSegments:h};const y=h[0],m=h[h.length-1];if(!y?.start||!m?.end)return console.error("Invalid segments returned from splitTaskAcrossAvailableSlots:",h),null;const b=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,b,y.start,m.end,r),{startTime:y.start,endTime:m.end,wasSplit:!0,segments:h,originalDuration:i}}}else{const h=[{start:n,end:u,duration:i}],p=this.checkSegmentsForOverlaps(h,r,e,s);if(p.hasOverlap)return{conflict:!0,conflictingTask:p.conflictingTask,conflictingSegment:p.conflictingExistingSegment,proposedSegments:h};const y=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,y,n,u,r),{startTime:n,endTime:u,wasSplit:!1,segments:h,originalDuration:i}}return null};scheduleTaskEndingAtWithSplitting=async(e,n,i,r,s=[])=>{const{taskStartDateWithBuffer:o,taskEndDate:c}=await this.loadMachineAvailabilityForBackwardRange(n,i,r),u=this.collectUnavailableSlots(o,c,r),d=this.splitTaskAcrossAvailableSlotsBackward(n,i,r,u);if(d.length===0)return null;const h=this.checkSegmentsForOverlaps(d,r,e,s);if(h.hasOverlap)return{conflict:!0,conflictingTask:h.conflictingTask,conflictingSegment:h.conflictingExistingSegment,proposedSegments:d};const p=this.splitTaskManager.createSegmentInfo(d,i),y=d[0],m=d[d.length-1];return!y?.start||!m?.end?(console.error("Invalid segments returned from splitTaskAcrossAvailableSlotsBackward:",d),null):(await this.splitTaskManager.updateTaskWithSplitInfo(e,p,y.start,m.end,r),{startTime:y.start,endTime:m.end,wasSplit:d.length>1,segments:d,originalDuration:i})};handleTaskDurationShrinking=async(e,n,i,r={})=>{try{console.log("🔄 DURATION SHRINKING: Starting cascading rescheduling for task",e),console.log("📊 DURATION SHRINKING: New duration:",n,"hours");const{getOrderById:s,getOdpOrders:o}=fn.getState(),{getMachineById:c}=Er.getState(),u=s(e),d=c(i),h=o();if(!u||!d)return{success:!1,error:"Task or machine not found"};if(!u.scheduled_start_time||!u.scheduled_end_time)return{success:!1,error:"Task is not scheduled"};const p=new Date(u.scheduled_start_time),y=u.duration,m=new Date(p.getTime()+y*60*60*1e3);console.log("📅 DURATION SHRINKING: Original end time (pre-shrinking):",m.toISOString()),console.log("📅 DURATION SHRINKING: Original duration:",y,"New duration:",n);const b=this.findCascadingChain(e,m,i,h);console.log("🔄 DURATION SHRINKING: Found cascading chain of",b.length,"tasks to reschedule"),console.log("📋 DURATION SHRINKING: Chain tasks:",b.map(M=>M.odp_number));const _=u.quantity_completed/u.quantity||0,S=n*(1-_);console.log("📊 DURATION SHRINKING: Calculated time_remaining:",S,"from new duration:",n,"and progress:",_),console.log("📊 DURATION SHRINKING: Progress calculation:",u.quantity_completed,"/",u.quantity,"=",_),console.log("🔄 DURATION SHRINKING: Rescheduling original task with new time_remaining");const x=await this.scheduleTaskWithSplitting(e,p,S,i,[]);if(!x)return console.error("❌ DURATION SHRINKING: Failed to reschedule original task"),{success:!1,error:"Failed to reschedule original task. Not enough space available.",rescheduledTasks:[]};if(x.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling original task"),{success:!1,error:"Conflict detected while rescheduling original task. Consider using conflict resolution.",rescheduledTasks:[]};await this.splitTaskManager.updateTaskWithSplitInfo(e,x.segments?{segments:x.segments,totalSegments:x.segments.length,originalDuration:x.originalDuration||S,wasSplit:x.wasSplit||!1}:null,x.startTime,x.endTime,i);const T={duration:n,time_remaining:S,...r};console.log("💾 DURATION SHRINKING: Final update data:",T),await Et.updateOdpOrder(e,T);const A=[{id:e,odp_number:u.odp_number,new_start_time:x.startTime.toISOString(),new_end_time:x.endTime.toISOString(),was_split:x.wasSplit}];let k=new Date(x.endTime);const O=k.getUTCMinutes(),P=Math.ceil(O/15)*15;P===60?k.setUTCHours(k.getUTCHours()+1,0,0,0):k.setUTCMinutes(P,0,0);for(const M of b){console.log("🔄 DURATION SHRINKING: Rescheduling task",M.odp_number,"to start at",k.toISOString());const B=await this.scheduleTaskWithSplitting(M.id,k,M.time_remaining||M.duration||1,i,[e]);if(!B)return console.error("❌ DURATION SHRINKING: Failed to reschedule task",M.odp_number),{success:!1,error:`Failed to reschedule task ${M.odp_number}. Not enough space available.`,rescheduledTasks:A};if(B.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling task",M.odp_number),{success:!1,error:`Conflict detected while rescheduling task ${M.odp_number}. Consider using conflict resolution.`,rescheduledTasks:A};await this.splitTaskManager.updateTaskWithSplitInfo(M.id,B.segments?{segments:B.segments,totalSegments:B.segments.length,originalDuration:B.originalDuration||M.time_remaining||M.duration||1,wasSplit:B.wasSplit||!1}:null,B.startTime,B.endTime,i),A.push({id:M.id,odp_number:M.odp_number,new_start_time:B.startTime.toISOString(),new_end_time:B.endTime.toISOString(),was_split:B.wasSplit}),k=new Date(B.endTime);const V=k.getUTCMinutes(),W=Math.ceil(V/15)*15;W===60?k.setUTCHours(k.getUTCHours()+1,0,0,0):k.setUTCMinutes(W,0,0)}console.log("✅ DURATION SHRINKING: Successfully rescheduled",A.length,"tasks");const N=s(e);return{success:!0,message:`Successfully rescheduled ${A.length} tasks due to duration reduction`,rescheduledTasks:A,updatedTask:N}}catch(s){return console.error("❌ DURATION SHRINKING ERROR:",s),{success:!1,error:s.message||"Unknown error during duration shrinking",rescheduledTasks:[]}}};findCascadingChain=(e,n,i,r)=>{const s=[],o=new Set,c=r.filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&h.id!==e&&h.scheduled_start_time).sort((h,p)=>new Date(h.scheduled_start_time)-new Date(p.scheduled_start_time)),u=c.filter(h=>{const y=(new Date(h.scheduled_start_time).getTime()-n.getTime())/(1e3*60);return y>=0&&y<=15});console.log("🔍 DURATION SHRINKING: Initial candidates within 15 minutes:",u.map(h=>h.odp_number));const d=h=>{for(const p of c){if(o.has(p.id))continue;const y=new Date(p.scheduled_start_time),m=(y.getTime()-h.getTime())/(1e3*60);if(m>=0&&m<=15){o.add(p.id),s.push(p);const b=p.time_remaining||p.duration||1,_=new Date(y.getTime()+b*60*60*1e3);console.log("🔗 DURATION SHRINKING: Added to chain:",p.odp_number,"ends at",_.toISOString()),d(_)}}};return d(n),console.log("📋 DURATION SHRINKING: Complete chain found:",s.map(h=>h.odp_number)),s}}class T3{constructor(e,n,i,r){this.get=e,this.set=n,this.schedulingLogic=i,this.splitTaskManager=r}getTaskDurationMinutes=e=>Math.round((e.time_remaining||e.duration||1)*zh.MINUTES_PER_HOUR);getTaskEndTime=e=>{const n=new Date(e.scheduled_start_time),i=this.getTaskDurationMinutes(e);return new Date(n.getTime()+i*zh.MILLISECONDS_PER_MINUTE)};addMinutesToDate=(e,n)=>new Date(e.getTime()+n*zh.MILLISECONDS_PER_MINUTE);roundUpToNext15MinSlot=e=>{const n=e.getUTCMinutes(),i=e.getUTCHours(),r=Math.ceil(n/15)*15,s=new Date(e);return r===zh.MINUTES_PER_HOUR?s.setUTCHours(i+1,0,0,0):s.setUTCMinutes(r,0,0),s};scheduleTaskWithSplittingForShunt=async(e,n,i)=>await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,[e.id]);scheduleTaskWithSplittingForShuntExcluding=async(e,n,i,r,s=3)=>{const o=this.getTaskDurationMinutes(e)/60,c=r.filter(d=>d!==e.id),u=await this.schedulingLogic.scheduleTaskWithSplitting(e.id,n,o,i.id,c);return u&&!u.conflict?{startTime:u.startTime,endTime:u.endTime,wasSplit:u.wasSplit}:u&&u.conflict?(console.log(`🔄 CASCADING SHUNT: Task ${e.odp_number} conflicts with ${u.conflictingTask?.odp_number}, attempting cascading resolution`),s>0?await this.handleCascadingConflict(e,n,i,r,u,s-1):(console.warn(`⚠️ CASCADING SHUNT: Max depth reached for task ${e.odp_number}, returning conflict info`),{conflict:!0,conflictingTask:u.conflictingTask,conflictingSegment:u.conflictingSegment,proposedSegments:u.proposedSegments})):u?{startTime:n,endTime:this.addMinutesToDate(n,this.getTaskDurationMinutes(e)),wasSplit:!1}:null};handleCascadingConflict=async(e,n,i,r,s,o)=>{const c=s.conflictingTask,u=s.conflictingSegment;console.log(`🔄 CASCADING SHUNT: Attempting to shunt conflicting task ${c?.odp_number} to resolve conflict with ${e.odp_number}`);const d=new Date(n.getTime()+this.getTaskDurationMinutes(e)*60*1e3),h=this.roundUpToNext15MinSlot(d),p=[...r,c.id];try{const y=await this.scheduleTaskWithSplittingForShuntExcluding(c,h,i,p,o);if(y&&!y.conflict){console.log(`✅ CASCADING SHUNT: Successfully shunted conflicting task ${c.odp_number}`),await this.updateTaskSchedule(c.id,y.startTime,y.endTime);const m=await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,p,o);return m&&!m.conflict?(console.log(`✅ CASCADING SHUNT: Successfully scheduled original task ${e.odp_number} after resolving conflicts`),m):(console.warn(`⚠️ CASCADING SHUNT: Original task ${e.odp_number} still conflicts after shunting conflicting task`),m||{conflict:!0,conflictingTask:c,conflictingSegment:u,proposedSegments:s.proposedSegments})}else return console.warn(`⚠️ CASCADING SHUNT: Could not shunt conflicting task ${c?.odp_number}`),y||{conflict:!0,conflictingTask:c,conflictingSegment:u,proposedSegments:s.proposedSegments}}catch(y){return console.error("❌ CASCADING SHUNT: Error during cascading conflict resolution:",y),{conflict:!0,conflictingTask:c,conflictingSegment:u,proposedSegments:s.proposedSegments}}};updateTaskSchedule=async(e,n,i)=>{try{const{updateOrder:r}=fn.getState();await r(e,{scheduled_start_time:n.toISOString(),scheduled_end_time:i.toISOString()})}catch(r){console.error(`❌ CASCADING SHUNT: Failed to update task ${e} schedule:`,r)}};checkShuntingOverlaps=(e,n,i,r=[])=>{const s=i.filter(o=>o.scheduled_machine_id===n&&o.status==="SCHEDULED"&&!r.includes(o.id));for(const o of e)for(const c of s){const u=this.splitTaskManager.checkTaskOverlap(o.start,o.end,c);if(u.hasOverlap)return{hasOverlap:!0,conflictingTask:c,conflictingSegment:u.conflictingSegment,newTaskSegment:o}}return{hasOverlap:!1}};resolveConflictByShunting=async(e,n,i,r)=>{try{const{conflictingTask:s,proposedStartTime:o,machine:c}=e,u=new Date(o),d=i.filter(O=>O.scheduled_machine_id===c.id&&O.status==="SCHEDULED"&&O.id!==r.id).sort((O,P)=>{const N=this.splitTaskManager.getTaskOccupiedSegments(O),M=this.splitTaskManager.getTaskOccupiedSegments(P),B=N.length>0?N[0].start:new Date(O.scheduled_start_time),V=M.length>0?M[0].start:new Date(P.scheduled_start_time);return B-V}),h=d.findIndex(O=>O.id===s.id);if(h===-1)throw new bt("Conflicting task not found",je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const p=this.getTaskDurationMinutes(r),y=[];let m=!1;if(n==="right")for(let O=h;O<d.length&&!m;O++){const P=d[O];if(y.push(P),O<d.length-1){const N=d[O+1],M=this.splitTaskManager.getTaskOccupiedSegments(P),B=this.splitTaskManager.getTaskOccupiedSegments(N);if(M.length>0&&B.length>0){const V=Math.max(...M.map(ce=>ce.end.getTime())),W=Math.min(...B.map(ce=>ce.start.getTime()));Math.floor((W-V)/(60*1e3))>=p&&(m=!0)}}else m=!0}else for(let O=h;O>=0&&!m;O--){const P=d[O];if(y.unshift(P),O>0){const N=d[O-1],M=this.splitTaskManager.getTaskOccupiedSegments(N),B=this.splitTaskManager.getTaskOccupiedSegments(P);if(M.length>0&&B.length>0){const V=Math.max(...M.map(ce=>ce.end.getTime())),W=Math.min(...B.map(ce=>ce.start.getTime()));Math.floor((W-V)/(60*1e3))>=p&&(m=!0)}}else{const N=this.splitTaskManager.getTaskOccupiedSegments(P);if(N.length>0){const M=Math.min(...N.map(W=>W.start.getTime())),B=new Date(M);if(B.setUTCHours(6,0,0,0),Math.floor((M-B.getTime())/(60*1e3))>=p)m=!0;else{const W=new Date(M),X=new Date(W);X.setUTCHours(6,0,0,0),W.getTime()>X.getTime()&&(m=!0)}}}}const b=new Set,_=new Set;for(const O of y)b.add(O.id),_.add(O.id);_.add(r.id);let S=0;const x=10;for(;S<x;){S++;let O=!1;const P=Array.from(b);for(const N of P){const M=d.find(ce=>ce.id===N)||r;if(!M)continue;let B;if(n==="right"){const ce=new Date(u.getTime()+p*60*1e3);if(B=this.roundUpToNext15MinSlot(ce),M.id!==r.id){const ye=Array.from(b).indexOf(N);if(ye>0){const _e=Array.from(b)[ye-1],H=d.find(J=>J.id===_e)||r,Z=this.getTaskDurationMinutes(H),be=new Date(B.getTime()+Z*60*1e3);B=this.roundUpToNext15MinSlot(be)}}}else{const ce=u,ye=this.getTaskDurationMinutes(M);B=this.roundUpToNext15MinSlot(this.addMinutesToDate(ce,-ye))}const V=this.getTaskDurationMinutes(M)/60,W=this.schedulingLogic.collectUnavailableSlots(B,new Date(B.getTime()+V*60*60*1e3),c.id);if(W.some(ce=>B<ce.end&&new Date(B.getTime()+V*60*60*1e3)>ce.start)){const ce=this.schedulingLogic.splitTaskAcrossAvailableSlots(B,V,c.id,W);for(const ye of ce)for(const _e of d)!_.has(_e.id)&&_e.id!==M.id&&this.splitTaskManager.checkTaskOverlap(ye.start,ye.end,_e).hasOverlap&&(_.add(_e.id),b.add(_e.id),O=!0)}else{const ce=new Date(B.getTime()+V*60*60*1e3);for(const ye of d)!_.has(ye.id)&&ye.id!==M.id&&this.splitTaskManager.checkTaskOverlap(B,ce,ye).hasOverlap&&(_.add(ye.id),b.add(ye.id),O=!0)}}if(!O)break}if(S>=x)throw console.error(`🚨 SHUNTING ERROR: Maximum iterations (${x}) reached, possible infinite loop`),new bt("Too many conflicts detected during shunting",je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const T=d.filter(O=>b.has(O.id));if(y.length=0,y.push(...T),!m&&y.length===d.length){const O=this.getTaskDurationMinutes(r),P=y.length,N=c.machine_name||"Unknown Machine";console.warn(`⚠️ SHUNTING WARNING: No gap found for ${O} minutes on machine ${N}`),console.warn(`⚠️ All ${P} tasks on machine would need to be moved`),console.warn("⚠️ Attempting to schedule at earliest possible time...");const M=d[0],B=this.splitTaskManager.getTaskOccupiedSegments(M);if(B.length>0){const V=Math.min(...B.map(X=>X.start.getTime())),W=new Date(V);if(W.setUTCHours(6,0,0,0),W.getTime()<V)m=!0;else throw console.error(`❌ SHUNTING FAILED: No space even at 6 AM on machine ${N}`),console.error("❌ Consider: 1) Moving to different machine, 2) Reducing task duration, 3) Scheduling on different day"),new bt(`Non c'è spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${O} minuti) richiederebbe di spostare tutti i ${P} lavori sulla macchina ${N}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}else throw new bt(`Non c'è spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${O} minuti) richiederebbe di spostare tutti i ${P} lavori sulla macchina ${N}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}const A=[];let k=null;if(n==="right"){const O=new Date(u),P=[...Array.from(_)];if(k=await this.scheduleTaskWithSplittingForShuntExcluding(r,O,c,P),k&&k.conflict)return console.warn(`⚠️ CASCADING SHUNT: Dragged task ${r.odp_number} still has conflicts after cascading resolution`),{error:`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Conflitti non risolvibili automaticamente.`,conflict:k.conflict,conflictingTask:k.conflictingTask,conflictingSegment:k.conflictingSegment};let N=k.endTime?this.roundUpToNext15MinSlot(k.endTime):new Date;for(const M of y){const B=[...Array.from(_)],V=await this.scheduleTaskWithSplittingForShuntExcluding(M,N,c,B);if(!V)throw console.error(`❌ Failed to schedule task ${M.odp_number} at ${N.toISOString()}`),new bt(`Impossibile programmare il task ${M.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(V&&V.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${M.odp_number} still has conflicts after cascading resolution`);continue}A.push({id:M.id,scheduled_start_time:V.startTime?.toISOString(),scheduled_end_time:V.endTime?.toISOString()}),V.endTime&&(N=this.roundUpToNext15MinSlot(V.endTime))}}else{const O=new Date(u);let P=this.roundUpToNext15MinSlot(this.addMinutesToDate(O,-1));for(let N=y.length-1;N>=0;N--){const M=y[N],B=[...Array.from(_)],V=await this.schedulingLogic.scheduleTaskEndingAtWithSplitting(M.id,P,this.getTaskDurationMinutes(M)/60,c.id,B);if(!V)throw console.error(`❌ Failed to schedule task ${M.odp_number} ending at ${P.toISOString()}`),new bt(`Impossibile programmare il task ${M.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(V&&V.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${M.odp_number} still has conflicts after cascading resolution (LEFT direction)`);continue}A.push({id:M.id,scheduled_start_time:V.startTime?.toISOString(),scheduled_end_time:V.endTime?.toISOString()}),V.startTime&&(P=this.roundUpToNext15MinSlot(this.addMinutesToDate(V.startTime,-1)))}}if(!k){const O=new Date(u),P=[...Array.from(_)];k=await this.scheduleTaskWithSplittingForShuntExcluding(r,O,c,P)}if(!k)throw console.error(`❌ Failed to schedule dragged task ${r.odp_number} at ${proposedStart.toISOString()}`),new bt(`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,je.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");A.push({id:r.id,scheduled_machine_id:c.id,scheduled_start_time:k.startTime?.toISOString(),scheduled_end_time:k.endTime?.toISOString(),status:"SCHEDULED"});for(const O of A)await Et.updateOdpOrder(O.id,O);return Mt.getState().hideConflictDialog(),Mt.getState().showAlert("Lavori riprogrammati con successo","success"),{success:!0}}catch(s){return console.error("❌ SHUNTING ERROR:",s),{error:(s instanceof bt?s:new bt(s.message||"Errore durante la riprogrammazione",je.BUSINESS_LOGIC_ERROR,400,s,"ConflictResolution.resolveConflictByShunting")).message}}}}class A3{constructor(e,n){this.get=e,this.set=n,this.updateLocks=new Map}getLockKey=(e,n)=>`${e}-${n}`;acquireLock=async(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.has(i)&&await this.updateLocks.get(i);let r;const s=new Promise(o=>{r=o});return this.updateLocks.set(i,s),r};releaseLock=(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.delete(i)};loadMachineAvailabilityForDate=async e=>{const{machineAvailability:n}=this.get();if(!n[e]?._loading&&!(n[e]&&n[e].length>=0)){this.set(i=>({machineAvailability:{...i.machineAvailability,[e]:{_loading:!0}}}));try{const i=await Et.getMachineAvailabilityForDateAllMachines(e);this.set(r=>({machineAvailability:{...r.machineAvailability,[e]:i||[]}}))}catch(i){throw this.set(r=>{const s={...r.machineAvailability};return s[e]&&delete s[e]._loading,{machineAvailability:s}}),i}}};loadMachineAvailabilityForDateRange=async(e,n,i)=>{const r=n instanceof Date?Kn(n,"yyyy-MM-dd"):n,s=i instanceof Date?Kn(i,"yyyy-MM-dd"):i;try{const o=await Et.getMachineAvailabilityForDateRange(e,r,s);return this.set(c=>{const u={...c.machineAvailability};return Array.isArray(o)&&o.forEach(d=>{if(d.date&&d.unavailable_hours){const h=d.date;u[h]||(u[h]=[]);const p=u[h].find(y=>y.machine_id===e);p?p.unavailable_hours=d.unavailable_hours:u[h].push({machine_id:e,date:h,unavailable_hours:d.unavailable_hours})}}),{machineAvailability:u}}),o}catch(o){throw o}};getMachineAvailability=async(e,n)=>{try{const i=this.get().machineAvailability[n];if(i&&Array.isArray(i)){const s=i.find(o=>o.machine_id===e);if(s)return s.unavailable_hours||[]}const r=await Et.getMachineAvailabilityForDate(e,n);if(r){const s=(r.unavailable_hours||[]).map(o=>o.toString());return this.set(o=>{const c={...o.machineAvailability};c[n]||(c[n]=[]);const u=c[n].find(d=>d.machine_id===e);return u?u.unavailable_hours=s:c[n].push({machine_id:e,date:n,unavailable_hours:s}),{machineAvailability:c}}),s}return[]}catch{return[]}};loadMachineAvailabilityForMachine=async(e,n,i)=>{const r={};try{try{await Et.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let s=new Date(n);for(;s<=i;){const o=Kn(s,"yyyy-MM-dd");this.get().machineAvailability[o]||await this.loadMachineAvailabilityForDate(o);const u=this.get().machineAvailability[o];if(Array.isArray(u)){const d=u.find(h=>h.machine_id===e);d&&(r[o]=d.unavailable_hours||[])}s=Wd(s,1)}return r}catch{return{}}};isTimeSlotUnavailable=async(e,n,i)=>(await this.getMachineAvailability(e,n)).includes(i.toString());setMachineAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const{getOdpOrders:s}=fn.getState(),o=s().filter(y=>y.scheduled_machine_id===e&&y.status==="SCHEDULED"&&y.scheduled_start_time&&y.scheduled_end_time),[c,u,d]=n.split("-").map(Number),h=new Date(Date.UTC(c,u-1,d)),p=new Date(h.getTime()+1440*60*1e3);for(const y of o){const m=new Date(y.scheduled_start_time),b=new Date(y.scheduled_end_time);if(m<p&&b>h)for(const _ of i){const S=new Date(h.getTime()+parseInt(_)*60*60*1e3),x=new Date(S.getTime()+3600*1e3);if(S<b&&x>m)throw new bt(`Cannot set machine unavailable during scheduled task: ${y.odp_number}`,je.BUSINESS_LOGIC_ERROR,400,null,"MachineAvailabilityManager.setMachineUnavailability")}}return await Et.setMachineAvailability(e,n,i),this.set(y=>{const m={...y.machineAvailability};m[n]||(m[n]=[]);const b=m[n].find(_=>_.machine_id===e);return b?b.unavailable_hours=i:m[n].push({machine_id:e,date:n,unavailable_hours:i}),{machineAvailability:m}}),Mt.getState().showAlert(`Machine availability updated successfully for ${n}`,"success"),!0}catch(s){const o=Li(s,"Machine Availability");throw Mt.getState().showAlert(o.message,"error"),o}finally{r(),this.releaseLock(e,n)}};toggleMachineHourAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const s=await this.getMachineAvailability(e,n),o=i.toString();let c;return s.includes(o)?c=s.filter(u=>u!==o):c=[...s,o].sort((u,d)=>parseInt(u)-parseInt(d)),await Et.setMachineAvailability(e,n,c),this.set(u=>{const d={...u.machineAvailability};d[n]||(d[n]=[]);const h=d[n].find(p=>p.machine_id===e);return h?h.unavailable_hours=c:d[n].push({machine_id:e,date:n,unavailable_hours:c}),{machineAvailability:d}}),Mt.getState().showAlert(`Time slot ${o}:00 updated successfully`,"success"),!0}catch(s){const o=Li(s,"Machine Availability");throw Mt.getState().showAlert(o.message,"error"),o}finally{r(),this.releaseLock(e,n)}};setMachineUnavailability=async(e,n,i,r,s)=>{try{const o=await Et.setUnavailableHoursForRange(e,n,i,r,s),c=new Date(n),u=new Date(i),d=await this.loadMachineAvailabilityForDateRange(e,c,u);return d&&Array.isArray(d)&&this.set(h=>{const p={...h.machineAvailability};return d.forEach(y=>{if(y.date&&y.unavailable_hours){const m=Kn(new Date(y.date),"yyyy-MM-dd");p[m]||(p[m]=[]);const b=p[m].find(_=>_.machine_id===e);b?b.unavailable_hours=y.unavailable_hours:p[m].push({machine_id:e,date:m,unavailable_hours:y.unavailable_hours})}}),{machineAvailability:p}}),o}catch(o){throw o}};isMachineAvailabilityAccessible=async()=>{try{return await Et.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}};getMachineAvailabilityStatus=async()=>{try{const e=await this.isMachineAvailabilityAccessible();return{accessible:e,message:e?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(e){return{accessible:!1,message:`Error checking table: ${e.message}`}}};initializeEmptyMachineAvailability=()=>{const{machineAvailability:e}=this.get(),n={...e};this.set({machineAvailability:n})}}const ds=no((t,e)=>{const n=new E3(e,t),i=new A3(e,t),r=new C3(e,t,n,i),s=new T3(e,t,r,n);return{machineAvailability:{},shuntPreview:null,splitTasksInfo:{},getMachineAvailabilityState:()=>e().machineAvailability,getSplitTaskInfo:o=>n.getSplitTaskInfo(o),setMachineAvailabilityState:o=>t({machineAvailability:o}),setShuntPreview:o=>t({shuntPreview:o}),clearShuntPreview:()=>t({shuntPreview:null}),setSplitTaskInfo:n.setSplitTaskInfo,clearSplitTaskInfo:n.clearSplitTaskInfo,updateSplitTaskInfo:n.updateSplitTaskInfo,restoreSplitTaskInfo:n.restoreSplitTaskInfo,updateTaskWithSplitInfo:n.updateTaskWithSplitInfo,getTaskOccupiedSegments:n.getTaskOccupiedSegments,checkTaskOverlap:n.checkTaskOverlap,checkMachineOverlaps:n.checkMachineOverlaps,migrateExistingTasksToSegmentFormat:n.migrateExistingTasksToSegmentFormat,verifyAllTasksHaveSegmentInfo:n.verifyAllTasksHaveSegmentInfo,createAbsoluteDate:r.createAbsoluteDate,splitTaskAcrossAvailableSlots:r.splitTaskAcrossAvailableSlots,collectUnavailableSlots:r.collectUnavailableSlots,scheduleTaskWithSplitting:r.scheduleTaskWithSplitting,findAdjacentTasksChain:r.findAdjacentTasksChain,handleTaskDurationShrinking:r.handleTaskDurationShrinking,scheduleTaskFromSlot:async(o,c,u,d,h,p=null,y=null)=>{const{startSchedulingOperation:m,stopSchedulingOperation:b}=Mt.getState();try{m("schedule",o);const{getOrderById:_,getOdpOrders:S}=fn.getState(),{getMachineById:x}=Er.getState(),T=_(o),A=x(c.id),k=S();if(!T||!A)return{error:"Task or machine not found"};const O=u.getUTCFullYear(),P=u.getUTCMonth()+1,N=u.getUTCDate(),M=r.createAbsoluteDate(O,P,N,d,h),B=p||T.time_remaining||T.duration||1;console.log("🎯 SCHEDULER: Using duration:",B,"overrideDuration:",p);const V={machine:c.id,start_time:M.toISOString(),end_time:GT(M,B).toISOString()};console.log("🎯 SCHEDULER: Calling scheduleTask with:",{taskId:o,scheduleData:V,overrideDuration:p});const W=await e().scheduleTask(o,V,k,p,y);return console.log("🎯 SCHEDULER: scheduleTask result:",W),W}catch(_){return{error:Li(_,"SchedulerStore.scheduleTaskFromSlot").message}}finally{b()}},rescheduleTaskToSlot:async(o,c,u,d,h,p=null)=>{const{startSchedulingOperation:y,stopSchedulingOperation:m}=Mt.getState();try{y("reschedule",o);const{getOrderById:b,getOdpOrders:_}=fn.getState(),{getMachineById:S}=Er.getState(),x=b(o),T=S(c.id),A=_();if(!x||!T)return{error:"Event or machine not found"};const k=u.getUTCFullYear(),O=u.getUTCMonth()+1,P=u.getUTCDate(),N=r.createAbsoluteDate(k,O,P,d,h),M=x.time_remaining||x.duration||1,B={machine:c.id,start_time:N.toISOString(),end_time:GT(N,M).toISOString()};return await e().scheduleTask(o,B,A,null,p)}catch(b){return{error:Li(b,"SchedulerStore.rescheduleTaskToSlot").message}}finally{m()}},scheduleTask:async(o,c,u=null,d=null,h=null)=>{try{console.log("🎯 SCHEDULER: scheduleTask called with:",{taskId:o,eventData:c,overrideDuration:d});const{getOrderById:p,getOdpOrders:y}=fn.getState(),{getMachineById:m}=Er.getState(),b=p(o),_=m(c.machine),S=u||y();if(console.log("🎯 SCHEDULER: Task found:",b?.odp_number,"Machine found:",_?.name),b&&_&&b.work_center&&_.work_center&&b.work_center!==_.work_center)return{error:`Work center mismatch: task requires '${b.work_center}' but machine is '${_.work_center}'`};const x=new Date(c.start_time),T=d||b.time_remaining||b.duration||1;console.log("🎯 SCHEDULER: scheduleTask using duration:",T,"overrideDuration:",d),console.log("🎯 SCHEDULER: Calling scheduleTaskWithSplitting with:",{taskId:o,newStart:x.toISOString(),timeRemainingHours:T,machineId:c.machine});const A=await r.scheduleTaskWithSplitting(o,x,T,c.machine);if(console.log("🎯 SCHEDULER: scheduleTaskWithSplitting result:",A),!A)return{error:"No available time slots found for this task"};if(A.conflict)return{conflict:!0,conflictingTask:A.conflictingTask,draggedTask:b,proposedStartTime:c.start_time,proposedEndTime:c.end_time,machine:_,conflictingSegment:A.conflictingSegment,proposedSegments:A.proposedSegments,tasks:S};c.start_time=A.startTime.toISOString(),c.end_time=A.endTime.toISOString();const k={scheduled_machine_id:c.machine,scheduled_start_time:c.start_time,scheduled_end_time:c.end_time,status:"SCHEDULED"};if(A.segments){const N={segments:A.segments,totalSegments:A.segments.length,originalDuration:A.originalDuration||b.time_remaining||b.duration||1,wasSplit:A.wasSplit||!1};k.description=JSON.stringify(N)}const{apiService:O}=await qr(async()=>{const{apiService:N}=await Promise.resolve().then(()=>Zb);return{apiService:N}},void 0),P=await O.updateOdpOrder(o,k);if(A.segments){const N={segments:A.segments,totalSegments:A.segments.length,originalDuration:A.originalDuration||b.time_remaining||b.duration||1,wasSplit:A.wasSplit||!1};n.setSplitTaskInfo(o,N)}return h&&(h.invalidateQueries({queryKey:["orders"]}),h.invalidateQueries({queryKey:["orders",o]})),{success:!0,updatedTask:P,schedulingResult:A}}catch(p){return{error:Li(p,"SchedulerStore.scheduleTask").message}}},unscheduleTask:async(o,c=null)=>{const{startSchedulingOperation:u,stopSchedulingOperation:d}=Mt.getState();try{u("unschedule",o),n.clearSplitTaskInfo(o);const h={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,status:"NOT SCHEDULED",description:""},{apiService:p}=await qr(async()=>{const{apiService:y}=await Promise.resolve().then(()=>Zb);return{apiService:y}},void 0);return await p.updateOdpOrder(o,h),c&&(c.invalidateQueries({queryKey:["orders"]}),c.invalidateQueries({queryKey:["orders",o]})),{success:!0}}catch(h){return{error:Li(h,"SchedulerStore.unscheduleTask").message}}finally{d()}},loadMachineAvailabilityForDate:i.loadMachineAvailabilityForDate,loadMachineAvailabilityForDateRange:i.loadMachineAvailabilityForDateRange,getMachineAvailability:i.getMachineAvailability,loadMachineAvailabilityForMachine:i.loadMachineAvailabilityForMachine,isTimeSlotUnavailable:i.isTimeSlotUnavailable,setMachineAvailability:i.setMachineAvailability,toggleMachineHourAvailability:i.toggleMachineHourAvailability,setMachineUnavailability:i.setMachineUnavailability,isMachineAvailabilityAccessible:i.isMachineAvailabilityAccessible,getMachineAvailabilityStatus:i.getMachineAvailabilityStatus,initializeEmptyMachineAvailability:i.initializeEmptyMachineAvailability,resolveConflictByShunting:async(o,c,u=null)=>{const{startSchedulingOperation:d,stopSchedulingOperation:h}=Mt.getState();try{d("shunt",o.draggedTask?.id);const{getOdpOrders:p}=fn.getState(),y=p(),m=await s.resolveConflictByShunting(o,c,y,o.draggedTask);if(m&&!m.error&&u){console.log("🔄 SHUNTING: Invalidating React Query cache to refresh UI");const b=[u.invalidateQueries({queryKey:["orders"]}),u.invalidateQueries({queryKey:["machines"]})];o.draggedTask?.id&&b.push(u.invalidateQueries({queryKey:["orders",o.draggedTask.id]})),await Promise.all(b)}return m}catch(p){return console.error("❌ SHUNTING ERROR in scheduler store:",p),{error:p.message||"Errore durante lo spostamento del task"}}finally{h()}},validateSlotAvailability:async(o,c,u,d)=>{try{const h=Kn(c,"yyyy-MM-dd");if(await e().isTimeSlotUnavailable(o.id,h,u))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:y}=fn.getState(),m=new Date(c);m.setUTCHours(u,d,0,0);const b=new Date(m.getTime()+3600*1e3),_=y().filter(S=>S.scheduled_machine_id===o.id&&S.status==="SCHEDULED"&&S.scheduled_start_time);for(const S of _){const x=new Date(S.scheduled_start_time),T=S.time_remaining||S.duration||1,A=new Date(x.getTime()+T*60*60*1e3);if(m<A&&b>x)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch(h){return{error:Li(h,"SchedulerStore.validateSlotAvailability").message}}},getEventsByDate:async o=>{try{return await Et.getEventsByDate(o)}catch{return[]}},reset:()=>t({machineAvailability:{},shuntPreview:null,splitTasksInfo:{}})}}),R3=(t,e)=>{const n=s=>{O3(s)},i=s=>{k3(s)},r=s=>{M3(s)};return Et.setupRealtimeSubscriptions(n,i,r)},jv=(t,e)=>{const{realtimeChannel:n}=t();n&&(Et.cleanupRealtimeSubscriptions(n),e({realtimeChannel:null}))};let wc=null;const D3=()=>{typeof window<"u"&&wc&&(window.removeEventListener("beforeunload",wc),wc=null)},O3=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t,{updateSplitTaskInfo:o}=ds.getState();(i==="INSERT"&&r.status==="SCHEDULED"||i==="UPDATE")&&o(r.id,r),console.log(`Orders ${i.toLowerCase()}:`,r||s)},k3=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t;console.log(`Machines ${i.toLowerCase()}:`,r||s)},M3=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t;console.log(`Phases ${i.toLowerCase()}:`,r||s)},ro=no((t,e)=>({isInitializing:!1,realtimeChannel:null,init:async()=>{const{getInitializationState:n,setLoading:i,setInitialized:r,showAlert:s}=Mt.getState(),{initializeEmptyMachineAvailability:o}=ds.getState();if(!n()){if(e().isInitializing)return new Promise(c=>{const u=()=>{n()?c():setTimeout(u,100)};u()});t({isInitializing:!0}),i(!0);try{let c=!1,u=0;const d=3;for(;!c&&u<d;)try{await Et.init(),c=!0}catch(h){u++;const p=Li(h,"API Service Initialization");if(u>=d)throw i(!1),r(!1),s("Unable to connect to the server. Please check your internet connection and refresh the page.","error"),new bt("API service initialization failed after multiple attempts","CRITICAL_INIT_ERROR",503,p,"Store Initialization");const y=Math.min(1e3*Math.pow(2,u-1),1e4);await new Promise(m=>setTimeout(m,y)),s(`Connection attempt ${u} failed. Retrying...`,"warning")}try{o();const{restoreSplitTaskInfo:h,migrateExistingTasksToSegmentFormat:p}=ds.getState();h(),await p();const{realtimeChannel:y}=e();if(!y)try{const m=R3(t,e);m&&(t({realtimeChannel:m}),typeof window<"u"&&!wc&&(wc=()=>{jv(e,t)},window.addEventListener("beforeunload",wc)))}catch(m){const b=Li(m,"Real-time Subscriptions Setup");s("Warning: Real-time updates are not available. Data may not update automatically.","warning")}i(!1),r(!0),t({isInitializing:!1}),s("Application initialized successfully. Data will be loaded via React Query.","success")}catch(h){const p=Li(h,"Data Processing");throw i(!1),r(!1),t({isInitializing:!1}),s("Failed to process application data. Please refresh the page.","error"),p}}catch(c){const u=c instanceof bt?c:Li(c,"Store Initialization");throw i(!1),r(!1),t({isInitializing:!1}),u.code==="CRITICAL_INIT_ERROR"?s("Critical initialization error. Please contact support if the problem persists.","error"):s("Application initialization failed. Please refresh the page or contact support.","error"),u}}},refreshData:()=>{console.warn("refreshData is deprecated. Use React Query invalidation instead.")},debugData:()=>{const{getMachines:n}=Er.getState(),{getOdpOrders:i}=fn.getState(),{getPhases:r}=hc.getState(),s=n().map(u=>u.id);s.filter((u,d)=>s.indexOf(u)!==d);const o=i().map(u=>u.id);o.filter((u,d)=>o.indexOf(u)!==d);const c=r().map(u=>u.id);c.filter((u,d)=>c.indexOf(u)!==d)},cleanupDuplicates:()=>{const{cleanupDuplicateMachines:n}=Er.getState(),{cleanupDuplicateOrders:i}=fn.getState(),{cleanupDuplicatePhases:r}=hc.getState();n(),i(),r()},reset:()=>{jv(e,t);const{reset:n}=Er.getState(),{reset:i}=fn.getState(),{reset:r}=hc.getState(),{reset:s}=ds.getState(),{reset:o}=Mt.getState();n(),i(),r(),s(),o(),t({isInitializing:!1,realtimeChannel:null})},cleanup:()=>{jv(e,t),D3()},getState:()=>{const{getMachines:n}=Er.getState(),{getOdpOrders:i}=fn.getState(),{getPhases:r}=hc.getState(),{getLoadingState:s,getInitializationState:o}=Mt.getState();return{machines:n(),odpOrders:i(),phases:r(),machineAvailability:ds.getState().getMachineAvailabilityState(),isLoading:s(),isInitialized:o()}}})),uk=()=>{const t=D.useCallback(d=>{if(!d||!d.department)return{isValid:!1,error:"Invalid phase data"};const{department:h}=d;if(h==="STAMPA"){const p=parseFloat(d.v_stampa);if(isNaN(p)||p<=0)return{isValid:!1,error:"Velocità di stampa non valida. Inserisci un valore maggiore di zero."}}else if(h==="CONFEZIONAMENTO"){const p=parseFloat(d.v_conf);if(isNaN(p)||p<=0)return{isValid:!1,error:"Velocità di confezionamento non valida. Inserisci un valore maggiore di zero."}}else return{isValid:!1,error:"Reparto non riconosciuto"};return{isValid:!0}},[]),e=D.useCallback((d,h,p)=>{if(!d||!h||d.department==="STAMPA"&&!p||!t(d).isValid)return null;try{const{department:m}=d;if(m==="STAMPA"){const b=parseFloat(d.v_stampa),_=parseFloat(d.t_setup_stampa)||0,S=parseFloat(d.costo_h_stampa)||0;if(isNaN(b)||b<=0)return null;const T=p*h/1e3/b,A=T+_,k=A*S;return{totals:{duration:A,cost:k},breakdown:{print:{time:T,cost:T*S},setup:{time:_,cost:_*S}}}}else if(m==="CONFEZIONAMENTO"){const b=parseFloat(d.v_conf),_=parseFloat(d.t_setup_conf)||0,S=parseFloat(d.costo_h_conf)||0;if(isNaN(b)||b<=0)return null;const x=h/b,T=_,A=x+T,k=A*S;return{totals:{duration:A,cost:k},breakdown:{package:{time:x,cost:x*S},setup:{time:T,cost:T*S}}}}return null}catch{return null}},[t]),n=D.useCallback(d=>d&&(d.startsWith("P05")||d.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),i=D.useCallback(d=>d&&d.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),r=D.useCallback(d=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[d]||[],[]),s=D.useCallback((d,h)=>{const y={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[d]||"MACH",m=h==="BUSTO_GAROLFO"?"BGF":"ZAN",b=Date.now().toString(36);return`${y}_${m}_${b}`},[]),o=D.useCallback((d,h)=>!(h<0||h>d),[]),c=D.useCallback((d,h)=>!d||d===0?0:Math.round(h*100/d),[]),u=D.useCallback((d,h)=>!d||d===0?0:!h||h===0?d:Math.round(d*(1-h/100)*100)/100,[]);return{calculateProductionMetrics:e,validatePhaseParameters:t,autoDetermineWorkCenter:n,autoDetermineDepartment:i,getValidMachineTypes:r,generateMachineId:s,validateQuantityCompleted:o,calculateCompletionRate:c,calculateTimeRemaining:u}};var Pv,eA;function N3(){if(eA)return Pv;eA=1;function t(x){this._maxSize=x,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(x){return this._values[x]},t.prototype.set=function(x,T){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=T};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,c=new t(o),u=new t(o),d=new t(o);Pv={Cache:t,split:p,normalizePath:h,setter:function(x){var T=h(x);return u.get(x)||u.set(x,function(k,O){for(var P=0,N=T.length,M=k;P<N-1;){var B=T[P];if(B==="__proto__"||B==="constructor"||B==="prototype")return k;M=M[T[P++]]}M[T[P]]=O})},getter:function(x,T){var A=h(x);return d.get(x)||d.set(x,function(O){for(var P=0,N=A.length;P<N;)if(O!=null||!T)O=O[A[P++]];else return;return O})},join:function(x){return x.reduce(function(T,A){return T+(m(A)||n.test(A)?"["+A+"]":(T?".":"")+A)},"")},forEach:function(x,T,A){y(Array.isArray(x)?x:p(x),T,A)}};function h(x){return c.get(x)||c.set(x,p(x).map(function(T){return T.replace(s,"$2")}))}function p(x){return x.match(e)||[""]}function y(x,T,A){var k=x.length,O,P,N,M;for(P=0;P<k;P++)O=x[P],O&&(S(O)&&(O='"'+O+'"'),M=m(O),N=!M&&/^\d+$/.test(O),T.call(A,O,M,N,P,x))}function m(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function b(x){return x.match(i)&&!x.match(n)}function _(x){return r.test(x)}function S(x){return!m(x)&&(b(x)||_(x))}return Pv}var Yo=N3(),Lv,tA;function I3(){if(tA)return Lv;tA=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(t)||[],n=h=>h[0].toUpperCase()+h.slice(1),i=(h,p)=>e(h).join(p).toLowerCase(),r=h=>e(h).reduce((p,y)=>`${p}${p?y[0].toUpperCase()+y.slice(1).toLowerCase():y.toLowerCase()}`,"");return Lv={words:e,upperFirst:n,camelCase:r,pascalCase:h=>n(r(h)),snakeCase:h=>i(h,"_"),kebabCase:h=>i(h,"-"),sentenceCase:h=>n(i(h," ")),titleCase:h=>e(h).map(n).join(" ")},Lv}var Uv=I3(),Fh={exports:{}},nA;function j3(){if(nA)return Fh.exports;nA=1,Fh.exports=function(r){return t(e(r),r)},Fh.exports.array=t;function t(r,s){var o=r.length,c=new Array(o),u={},d=o,h=n(s),p=i(r);for(s.forEach(function(m){if(!p.has(m[0])||!p.has(m[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)u[d]||y(r[d],d,new Set);return c;function y(m,b,_){if(_.has(m)){var S;try{S=", node was:"+JSON.stringify(m)}catch{S=""}throw new Error("Cyclic dependency"+S)}if(!p.has(m))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(m));if(!u[b]){u[b]=!0;var x=h.get(m)||new Set;if(x=Array.from(x),b=x.length){_.add(m);do{var T=x[--b];y(T,p.get(T),_)}while(b);_.delete(m)}c[--o]=m}}}function e(r){for(var s=new Set,o=0,c=r.length;o<c;o++){var u=r[o];s.add(u[0]),s.add(u[1])}return Array.from(s)}function n(r){for(var s=new Map,o=0,c=r.length;o<c;o++){var u=r[o];s.has(u[0])||s.set(u[0],new Set),s.has(u[1])||s.set(u[1],new Set),s.get(u[0]).add(u[1])}return s}function i(r){for(var s=new Map,o=0,c=r.length;o<c;o++)s.set(r[o],o);return s}return Fh.exports}var P3=j3();const L3=rl(P3),U3=Object.prototype.toString,z3=Error.prototype.toString,F3=RegExp.prototype.toString,H3=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",B3=/^Symbol\((.*)\)(.*)$/;function $3(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function iA(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return $3(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return H3.call(t).replace(B3,"Symbol($1)");const i=U3.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+z3.call(t)+"]":i==="RegExp"?F3.call(t):null}function Ks(t,e){let n=iA(t,e);return n!==null?n:JSON.stringify(t,function(i,r){let s=iA(this[i],e);return s!==null?s:r},2)}function dk(t){return t==null?[]:[].concat(t)}let fk,hk,gk,V3=/\$\{\s*(\w+)\s*\}/g;fk=Symbol.toStringTag;class rA{constructor(e,n,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[fk]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=r,this.errors=[],this.inner=[],dk(e).forEach(s=>{if(vi.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}hk=Symbol.hasInstance;gk=Symbol.toStringTag;class vi extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(V3,(r,s)=>Ks(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,r,s){const o=new rA(e,n,i,r);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[gk]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,vi)}static[hk](e){return rA[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let os={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const r=i!=null&&i!==n?` (cast from the value \`${Ks(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ks(n,!0)}\``+r:`${t} must match the configured type. The validated value was: \`${Ks(n,!0)}\``+r}},ki={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ia={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Jb={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},q3={isValue:"${path} field must be ${value}"},dg={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},fg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},G3={notType:t=>{const{path:e,value:n,spec:i}=t,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${n.length} for value: \`${Ks(n,!0)}\``;if(n.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${n.length} for value: \`${Ks(n,!0)}\``}return vi.formatError(os.notType,t)}};Object.assign(Object.create(null),{mixed:os,string:ki,number:Ia,date:Jb,object:dg,array:fg,boolean:q3,tuple:G3});const Sp=t=>t&&t.__isYupSchema__;class Ig{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=n,o=typeof i=="function"?i:(...c)=>c.every(u=>u===i);return new Ig(e,(c,u)=>{var d;let h=o(...c)?r:s;return(d=h?.(u))!=null?d:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(s=>s.getValue(n?.value,n?.parent,n?.context)),r=this.fn(i,e,n);if(r===void 0||r===e)return e;if(!Sp(r))throw new TypeError("conditions must return a schema object");return r.resolve(n)}}const Hh={context:"$",value:"."};class cl{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Hh.context,this.isValue=this.key[0]===Hh.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Hh.context:this.isValue?Hh.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Yo.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let r=this.isContext?i:this.isValue?e:n;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}cl.prototype.__isYupRef=!0;const Gs=t=>t==null;function sc(t){function e({value:n,path:i="",options:r,originalValue:s,schema:o},c,u){const{name:d,test:h,params:p,message:y,skipAbsent:m}=t;let{parent:b,context:_,abortEarly:S=o.spec.abortEarly,disableStackTrace:x=o.spec.disableStackTrace}=r;const T={value:n,parent:b,context:_};function A(W={}){const X=pk(Object.assign({value:n,originalValue:s,label:o.spec.label,path:W.path||i,spec:o.spec,disableStackTrace:W.disableStackTrace||x},p,W.params),T),ce=new vi(vi.formatError(W.message||y,X),n,X.path,W.type||d,X.disableStackTrace);return ce.params=X,ce}const k=S?c:u;let O={path:i,parent:b,type:d,from:r.from,createError:A,resolve(W){return mk(W,T)},options:r,originalValue:s,schema:o};const P=W=>{vi.isError(W)?k(W):W?u(null):k(A())},N=W=>{vi.isError(W)?k(W):c(W)};if(m&&Gs(n))return P(!0);let B;try{var V;if(B=h.call(O,n,O),typeof((V=B)==null?void 0:V.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${O.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(B).then(P,N)}}catch(W){N(W);return}P(B)}return e.OPTIONS=t,e}function pk(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=mk(t[n],e);return t}function mk(t,e){return cl.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function W3(t,e,n,i=n){let r,s,o;return e?(Yo.forEach(e,(c,u,d)=>{let h=u?c.slice(1,c.length-1):c;t=t.resolve({context:i,parent:r,value:n});let p=t.type==="tuple",y=d?parseInt(h,10):0;if(t.innerType||p){if(p&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&y>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${e}. because there is no value at that index. `);r=n,n=n&&n[y],t=p?t.spec.types[y]:t.innerType}if(!d){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);r=n,n=n&&n[h],t=t.fields[h]}s=h,o=u?"["+c+"]":"."+c}),{schema:t,parent:r,parentPath:s}):{parent:r,parentPath:e,schema:t}}class jg extends Set{describe(){const e=[];for(const n of this.values())e.push(cl.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new jg(this.values())}merge(e,n){const i=this.clone();return e.forEach(r=>i.add(r)),n.forEach(r=>i.delete(r)),i}}function pc(t,e=new Map){if(Sp(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=pc(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,r]of t.entries())n.set(i,pc(r,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(pc(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,r]of Object.entries(t))n[i]=pc(r,e)}else throw Error(`Unable to clone ${t}`);return n}function Y3(t){if(!(t!=null&&t.length))return;const e=[];let n="",i=!1,r=!1;for(let s=0;s<t.length;s++){const o=t[s];if(o==="["&&!r){n&&(e.push(...n.split(".").filter(Boolean)),n=""),i=!0;continue}if(o==="]"&&!r){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),i=!1;continue}if(o==='"'){r=!r;continue}if(o==="."&&!i&&!r){n&&(e.push(n),n="");continue}n+=o}return n&&e.push(...n.split(".").filter(Boolean)),e}function Q3(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(i=>({message:i,path:Y3(n)}))}function yk(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return Q3(t,e);const i=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(r=>yk(r,i))}class Tr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new jg,this._blacklist=new jg,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(os.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=pc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const r=Object.assign({},n.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((r,s)=>s.resolve(r,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,r,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({},n,{value:e})),r=n.assert==="ignore-optionality",s=i._cast(e,n);if(n.assert!==!1&&!i.isType(s)){if(r&&Gs(s))return s;let o=Ks(e),c=Ks(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${o} 
`+(c!==o?`result of cast: ${c}`:""))}return s}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((r,s)=>s.call(this,r,e,this,n),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,r){let{path:s,originalValue:o=e,strict:c=this.spec.strict}=n,u=e;c||(u=this._cast(u,Object.assign({assert:!1},n)));let d=[];for(let h of Object.values(this.internalTests))h&&d.push(h);this.runTests({path:s,value:u,originalValue:o,options:n,tests:d},i,h=>{if(h.length)return r(h,u);this.runTests({path:s,value:u,originalValue:o,options:n,tests:this.tests},i,r)})}runTests(e,n,i){let r=!1,{tests:s,value:o,originalValue:c,path:u,options:d}=e,h=_=>{r||(r=!0,n(_,o))},p=_=>{r||(r=!0,i(_,o))},y=s.length,m=[];if(!y)return p([]);let b={value:o,originalValue:c,path:u,options:d,schema:this};for(let _=0;_<s.length;_++){const S=s[_];S(b,h,function(T){T&&(Array.isArray(T)?m.push(...T):m.push(T)),--y<=0&&p(m)})}}asNestedTest({key:e,index:n,parent:i,parentPath:r,originalParent:s,options:o}){const c=e??n;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof c=="number";let d=i[c];const h=Object.assign({},o,{strict:!0,parent:i,value:d,originalValue:s[c],key:void 0,[u?"index":"key"]:c,path:u||c.includes(".")?`${r||""}[${u?c:`"${c}"`}]`:(r?`${r}.`:"")+e});return(p,y,m)=>this.resolve(h)._validate(d,h,y,m)}validate(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((o,c)=>r._validate(e,n,(u,d)=>{vi.isError(u)&&(u.value=d),c(u)},(u,d)=>{u.length?c(new vi(u,d,void 0,void 0,s)):o(d)}))}validateSync(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s,o=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},n,{sync:!0}),(c,u)=>{throw vi.isError(c)&&(c.value=u),c},(c,u)=>{if(c.length)throw new vi(c,e,void 0,void 0,o);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(vi.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(vi.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):pc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=sc({message:n,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=sc({message:n,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=os.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=os.notNull){return this.nullability(!1,e)}required(e=os.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=os.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=sc(n),s=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),r=dk(e).map(s=>new cl(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof n=="function"?new Ig(r,n):Ig.fromOptions(r,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=sc({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=os.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=sc({message:n,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),i}notOneOf(e,n=os.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=sc({message:n,name:"notOneOf",test(r){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:s,nullable:o}=n.spec;return{meta:r,label:i,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((u,d,h)=>h.findIndex(p=>p.OPTIONS.name===u.OPTIONS.name)===d).map(u=>{const d=u.OPTIONS.params&&e?pk(Object.assign({},u.OPTIONS.params),e):u.OPTIONS.params;return{name:u.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(r){if(r instanceof vi)return{issues:yk(r)};throw r}}}}}Tr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Tr.prototype[`${t}At`]=function(e,n,i={}){const{parent:r,parentPath:s,schema:o}=W3(this,e,n,i.context);return o[t](r&&r[s],Object.assign({},i,{parent:r,path:e}))};for(const t of["equals","is"])Tr.prototype[t]=Tr.prototype.oneOf;for(const t of["not","nope"])Tr.prototype[t]=Tr.prototype.notOneOf;const K3=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function X3(t){const e=e0(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function e0(t){var e,n;const i=K3.exec(t);return i?{year:Ps(i[1]),month:Ps(i[2],1)-1,day:Ps(i[3],1),hour:Ps(i[4]),minute:Ps(i[5]),second:Ps(i[6]),millisecond:i[7]?Ps(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Ps(i[10]),minuteOffset:Ps(i[11])}:null}function Ps(t,e=0){return Number(t)||e}let Z3=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,J3=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,e4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,t4="^\\d{4}-\\d{2}-\\d{2}",n4="\\d{2}:\\d{2}:\\d{2}",i4="(([+-]\\d{2}(:?\\d{2})?)|Z)",r4=new RegExp(`${t4}T${n4}(\\.\\d+)?${i4}$`),s4=t=>Gs(t)||t===t.trim(),a4={}.toString();function Mi(){return new vk}class vk extends Tr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===a4?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||os.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=ki.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=ki.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=ki.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,r,s;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:s}=n:r=n),this.test({name:s||"matches",message:r||ki.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&i||o.search(e)!==-1})}email(e=ki.email){return this.matches(Z3,{name:"email",message:e,excludeEmptyString:!0})}url(e=ki.url){return this.matches(J3,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ki.uuid){return this.matches(e4,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,r;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:r=void 0}=e:n=e),this.matches(r4,{name:"datetime",message:n||ki.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||ki.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:s=>{if(!s||i)return!0;const o=e0(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||ki.datetime_precision,params:{precision:r},skipAbsent:!0,test:s=>{if(!s||r==null)return!0;const o=e0(s);return o?o.precision===r:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ki.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:s4})}lowercase(e=ki.lowercase){return this.transform(n=>Gs(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Gs(n)||n===n.toLowerCase()})}uppercase(e=ki.uppercase){return this.transform(n=>Gs(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Gs(n)||n===n.toUpperCase()})}}Mi.prototype=vk.prototype;let o4=t=>t!=+t;function Pn(){return new bk}class bk extends Tr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!o4(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return this.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=Ia.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=Ia.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=Ia.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=Ia.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=Ia.positive){return this.moreThan(0,e)}negative(e=Ia.negative){return this.lessThan(0,e)}integer(e=Ia.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Gs(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(r=>Gs(r)?r:Math[e](r))}}Pn.prototype=bk.prototype;let _k=new Date(""),l4=t=>Object.prototype.toString.call(t)==="[object Date]";function cd(){return new Yd}class Yd extends Tr{constructor(){super({type:"date",check(e){return l4(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=X3(e),isNaN(e)?Yd.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(cl.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,n=Jb.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,n=Jb.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}Yd.INVALID_DATE=_k;cd.prototype=Yd.prototype;cd.INVALID_DATE=_k;function c4(t,e=[]){let n=[],i=new Set,r=new Set(e.map(([o,c])=>`${o}-${c}`));function s(o,c){let u=Yo.split(o)[0];i.add(u),r.has(`${c}-${u}`)||n.push([c,u])}for(const o of Object.keys(t)){let c=t[o];i.add(o),cl.isRef(c)&&c.isSibling?s(c.path,o):Sp(c)&&"deps"in c&&c.deps.forEach(u=>s(u,o))}return L3.array(Array.from(i),n).reverse()}function sA(t,e){let n=1/0;return t.some((i,r)=>{var s;if((s=e.path)!=null&&s.includes(i))return n=r,!0}),n}function wk(t){return(e,n)=>sA(t,e)-sA(t,n)}const Sk=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function hg(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=hg(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=hg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(hg)}):"optional"in t?t.optional():t}const u4=(t,e)=>{const n=[...Yo.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),r=Yo.getter(Yo.join(n),!0)(t);return!!(r&&i in r)};let aA=t=>Object.prototype.toString.call(t)==="[object Object]";function oA(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const d4=wk([]);function so(t){return new xk(t)}class xk extends Tr{constructor(e){super({type:"object",check(n){return aA(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=d4,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let r=super._cast(e,n);if(r===void 0)return this.getDefault(n);if(!this._typeCheck(r))return r;let s=this.fields,o=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(r).filter(p=>!this._nodes.includes(p))),u={},d=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const p of c){let y=s[p],m=p in r,b=r[p];if(y){let _;d.path=(n.path?`${n.path}.`:"")+p,y=y.resolve({value:b,context:n.context,parent:u});let S=y instanceof Tr?y.spec:void 0,x=S?.strict;if(S!=null&&S.strip){h=h||p in r;continue}_=!n.__validating||!x?y.cast(b,d):b,_!==void 0&&(u[p]=_)}else m&&!o&&(u[p]=b);(m!==p in u||u[p]!==b)&&(h=!0)}return h?u:r}_validate(e,n={},i,r){let{from:s=[],originalValue:o=e,recursive:c=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,i,(u,d)=>{if(!c||!aA(d)){r(u,d);return}o=o||d;let h=[];for(let p of this._nodes){let y=this.fields[p];!y||cl.isRef(y)||h.push(y.asNestedTest({options:n,key:p,parent:d,parentPath:n.path,originalParent:o}))}this.runTests({tests:h,value:d,originalValue:o,options:n},i,p=>{r(p.sort(this._sortErrors).concat(u),d)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[r,s]of Object.entries(this.fields)){const o=i[r];i[r]=o===void 0?s:o}return n.withMutation(r=>r.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var r;const s=this.fields[i];let o=e;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n[i]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=c4(e,n),i._sortErrors=wk(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),r=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),r)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return hg(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,r])=>e.includes(i)&&e.includes(r)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let r=Yo.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return u4(s,e)&&(o=Object.assign({},s),i||delete o[e],o[n]=r(s)),o})}json(){return this.transform(Sk)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||dg.exact,test(n){if(n==null)return!0;const i=oA(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=dg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(r){if(r==null)return!0;const s=oA(this.schema,r);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=dg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const r of Object.keys(n))i[e(r)]=n[r];return i})}camelCase(){return this.transformKeys(Uv.camelCase)}snakeCase(){return this.transformKeys(Uv.snakeCase)}constantCase(){return this.transformKeys(e=>Uv.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[s,o]of Object.entries(n.fields)){var r;let c=e;(r=c)!=null&&r.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[s]})),i.fields[s]=o.describe(c)}return i}}so.prototype=xk.prototype;function Ek(t){return new Ck(t)}class Ck extends Tr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const i=super._cast(e,n);if(!this._typeCheck(i)||!this.innerType)return i;let r=!1;const s=i.map((o,c)=>{const u=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${c}]`,parent:i,originalValue:o,value:o,index:c}));return u!==o&&(r=!0),u});return r?s:i}_validate(e,n={},i,r){var s;let o=this.innerType,c=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,i,(u,d)=>{var h;if(!c||!o||!this._typeCheck(d)){r(u,d);return}let p=new Array(d.length);for(let m=0;m<d.length;m++){var y;p[m]=o.asNestedTest({options:n,index:m,parent:d,parentPath:n.path,originalParent:(y=n.originalValue)!=null?y:e})}this.runTests({value:d,tests:p,originalValue:(h=n.originalValue)!=null?h:e,options:n},i,m=>r(m.concat(u),d))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(Sk)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Sp(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ks(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=fg.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n){return n=n||fg.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n){return n=n||fg.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(i,r,s)=>!e(i,r,s):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);if(n.innerType){var r;let s=e;(r=s)!=null&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),i.innerType=n.innerType.describe(s)}return i}}Ek.prototype=Ck.prototype;const hn=Mi().required("This field is required");Pn().required("This field is required").min(0,"Value must be at least 0");const ss=Pn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Value must be at least 0"),f4=t=>t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0,h4=so({machine_name:hn.min(2,"Machine name must be at least 2 characters").max(100,"Machine name must be at most 100 characters").matches(/^[a-zA-Z0-9\s\-_]+$/,"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"),machine_type:hn,department:hn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:hn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),status:hn.oneOf(["ACTIVE","INACTIVE"],"Invalid status"),min_web_width:ss,max_web_width:ss,min_bag_height:ss,max_bag_height:ss,standard_speed:ss,setup_time_standard:ss,changeover_color:ss,changeover_material:ss,active_shifts:Ek().of(Mi().oneOf(["T1","T2","T3"]))}).test("web-width-logic","Minimum web width cannot exceed maximum web width",function(t){return t.min_web_width&&t.max_web_width?t.min_web_width<=t.max_web_width:!0}).test("bag-height-logic","Minimum bag height cannot exceed maximum bag height",function(t){return t.min_bag_height&&t.max_bag_height?t.min_bag_height<=t.max_bag_height:!0}),g4=so({name:hn.min(2,"Phase name must be at least 2 characters").max(100,"Phase name must be at most 100 characters"),department:hn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:hn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),numero_persone:Pn().required("Number of people is required").min(1,"Number of people must be at least 1"),bag_width:ss,bag_step:ss,v_stampa:Pn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Printing speed must be greater than 0")}),t_setup_stampa:Pn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_stampa:Pn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Hourly cost cannot be negative")}),v_conf:Pn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Packaging speed must be greater than 0")}),t_setup_conf:Pn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_conf:Pn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Hourly cost cannot be negative")})}).test("bag-width-step-logic","Bag width cannot be less than bag step",f4),lA=so({odp_number:hn.min(1,"Il numero ODP è obbligatorio"),article_code:hn.min(1,"Il codice articolo è obbligatorio"),work_center:hn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Seleziona un centro di lavoro valido"),nome_cliente:hn.min(1,"Il nome del cliente è obbligatorio"),quantity:Pn().required("La quantità è obbligatoria").min(0,"La quantità deve essere maggiore o uguale a 0").typeError("La quantità deve essere un numero valido"),delivery_date:cd().required("La data di consegna è obbligatoria").typeError("Inserisci una data di consegna valida"),customer_order_ref:hn.min(1,"Il riferimento ordine cliente è obbligatorio"),department:hn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Seleziona un reparto valido"),status:Mi().oneOf(["NOT SCHEDULED","SCHEDULED","IN PROGRESS","COMPLETED","CANCELLED"],"Stato non valido").default("NOT SCHEDULED"),quantity_completed:Pn().min(0,"La quantità completata deve essere maggiore o uguale a 0").default(0),production_lot:Mi().nullable(),description:Mi().nullable(),bag_height:Pn().nullable().transform(t=>isNaN(t)?null:t).min(0,"L'altezza busta deve essere maggiore o uguale a 0"),bag_width:Pn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La larghezza busta deve essere maggiore o uguale a 0"),bag_step:Pn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il passo busta deve essere maggiore o uguale a 0"),seal_sides:Pn().nullable().transform(t=>isNaN(t)?null:t).oneOf([3,4],"I lati di sigillatura devono essere 3 o 4"),product_type:Mi().nullable().oneOf(["CREMA","LIQUIDO","POLVERI"],"Seleziona un tipo di prodotto valido"),internal_customer_code:Mi().nullable().test("not-empty-if-provided","Il codice cliente interno non può essere vuoto",function(t){return!t||t.trim().length>0}),external_customer_code:Mi().nullable().test("not-empty-if-provided","Il codice cliente esterno non può essere vuoto",function(t){return!t||t.trim().length>0}),fase:Mi().nullable(),duration:Pn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La durata deve essere maggiore o uguale a 0"),cost:Pn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il costo deve essere maggiore o uguale a 0"),scheduled_start_time:cd().nullable(),scheduled_end_time:cd().nullable(),scheduled_machine_id:Mi().nullable(),user_notes:Mi().nullable(),asd_notes:Mi().nullable(),material_availability_global:Pn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Material availability must be between 0 and 100").max(100,"Material availability must be between 0 and 100")}).test("bag-width-step-logic","La larghezza busta non può essere minore del passo busta",function(t){return t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0}).test("quantity-completed-logic","La quantità completata non può superare la quantità totale",function(t){return t.quantity&&t.quantity_completed!==void 0?t.quantity_completed<=t.quantity:!0}).test("scheduled-time-order","L'ora di fine programmata deve essere dopo l'ora di inizio",function(t){return t.scheduled_start_time&&t.scheduled_end_time?new Date(t.scheduled_end_time)>new Date(t.scheduled_start_time):!0}).test("scheduling-logic","I campi di programmazione devono essere tutti forniti o tutti nulli",function(t){const e=!!t.scheduled_start_time,n=!!t.scheduled_end_time,i=!!t.scheduled_machine_id;return e&&n&&i||!e&&!n&&!i}),p4=so({startDate:hn,startTime:hn,endDate:hn,endTime:hn}).test("date-logic","End date cannot be before start date",function(t){return t.startDate&&t.endDate?new Date(t.startDate)<=new Date(t.endDate):!0}).test("time-logic","End time must be after start time when dates are the same",function(t){return t.startDate&&t.endDate&&t.startDate===t.endDate&&t.startTime&&t.endTime?t.startTime<t.endTime:!0}),m4=so({email:hn.email("Please enter a valid email address"),password:hn.min(6,"Password must be at least 6 characters")}),y4=so({email:hn.email("Please enter a valid email address"),password:hn.min(6,"Password must be at least 6 characters"),confirmPassword:Mi().required("Please confirm your password")}).test("passwords-match","Passwords must match",function(t){return t.password===t.confirmPassword}),v4=so({email:hn.email("Please enter a valid email address")}),b4=(t,e)=>{try{return e.validateSync(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(n){const i={};return n.inner.forEach(r=>{i[r.path]=r.message}),{isValid:!1,errors:i}}},_4={MACHINE:h4,PHASE:g4,ORDER:lA,BACKLOG:lA,OFF_TIME:p4,LOGIN:m4,SIGNUP:y4,FORGOT_PASSWORD:v4},Tk=()=>{const t=D.useCallback((y,m)=>{const b=_4[m];if(!b)throw new Error(`Unknown schema type: ${m}`);return b4(y,b)},[]),e=D.useCallback(y=>t(y,"MACHINE"),[t]),n=D.useCallback(y=>t(y,"PHASE"),[t]),i=D.useCallback(y=>t(y,"ORDER"),[t]),r=D.useCallback(y=>t(y,"OFF_TIME"),[t]),s=D.useCallback((y,m)=>t(y,m),[t]),o=D.useCallback((y,m)=>{const b={};return m.some(S=>S.scheduled_machine_id===y)&&(b.general="Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),{isValid:Object.keys(b).length===0,errors:b}},[]),c=D.useCallback(y=>{const m={};return y?(y.quantity_completed>0&&(m.general="Cannot delete order that has started production"),y.scheduled_machine_id&&(m.general="Cannot delete scheduled order. Please unschedule first."),{isValid:Object.keys(m).length===0,errors:m}):(m.general="Order is required",{isValid:!1,errors:m})},[]),u=D.useCallback((y,m,b,_)=>{const S={};return y?m?!b||!_?(S.general="Start and end times are required",{isValid:!1,errors:S}):(m.status!=="ACTIVE"&&(S.general=`Machine ${m.machine_name} is not active`),y.scheduled_machine_id&&y.scheduled_machine_id!==m.id&&(S.general="Order is already scheduled on a different machine"),y.fase||(S.general="Order must have a production phase selected"),(!y.quantity||y.quantity<=0)&&(S.general="Order must have a valid quantity"),(!y.duration||y.duration<=0)&&(S.general="Order must have calculated duration"),{isValid:Object.keys(S).length===0,errors:S}):(S.general="Machine is required",{isValid:!1,errors:S}):(S.general="Order is required",{isValid:!1,errors:S})},[]),d=D.useCallback((y,m)=>{const b={};if(!y)return b.general="Please select a production phase",{isValid:!1,errors:b};m.department&&y.department!==m.department&&(b.general=`Selected phase is for ${y.department} department, but order is for ${m.department}`),m.work_center&&y.work_center!==m.work_center&&(b.general=`Selected phase is for ${y.work_center} work center, but order is for ${m.work_center}`);const _=n(y);return _.isValid||Object.assign(b,_.errors),{isValid:Object.keys(b).length===0,errors:b}},[n]),h=D.useCallback((y,m)=>{if(y.status!=="ACTIVE")return!1;const b=y.active_shifts||[];if(b.length===0)return!1;const _=m.getUTCHours();return b.some(x=>{switch(x){case"T1":return _>=6&&_<14;case"T2":return _>=14&&_<22;case"T3":return _>=22||_<6;default:return!1}})},[]),p=D.useCallback(y=>({name:y?.machine_name||"Unknown Machine",type:y?.machine_type||"Unknown Type",department:y?.department||"Unknown Department",workCenter:y?.work_center||"Unknown Work Center",status:y?.status||"UNKNOWN",isActive:y?.status==="ACTIVE"}),[]);return{validate:t,validateMachine:e,validatePhase:n,validateOrder:i,validateOffTime:r,validateAuth:s,validateMachineDeletion:o,validateOrderDeletion:c,validateOrderScheduling:u,validatePhaseSelection:d,isMachineAvailable:h,getMachineDisplayInfo:p}},ps=(t="")=>{const{showAlert:e,showConfirmDialog:n}=Mt(),i=D.useCallback((y,m={})=>{const{showUserAlert:b=!0,alertType:_="error",logError:S=!0,context:x=t,fallbackMessage:T="An unexpected error occurred"}=m,A=Li(y,x);if(b){const k=A.userMessage||T;e(k,_)}return A},[t,e]),r=D.useCallback(async(y,m={})=>{const{showUserAlert:b=!0,alertType:_="error",context:S=t,fallbackMessage:x="Operation failed",retry:T=!1,maxRetries:A=3}=m;try{return T?await VT(y,A):await y()}catch(k){throw i(k,{showUserAlert:b,alertType:_,context:S,fallbackMessage:x})}},[t,i]),s=D.useCallback((y,m)=>{const b=i(y,{showUserAlert:!1});b.code===je.VALIDATION_ERROR?b.fieldErrors?Object.entries(b.fieldErrors).forEach(([_,S])=>{m(_,{type:"server",message:S})}):m("root",{type:"server",message:b.userMessage}):m("root",{type:"server",message:b.userMessage})},[i]),o=D.useCallback((y,m,b)=>{const _=i(y,{context:`${m} ${b}`,fallbackMessage:`Failed to ${m} ${b}`});return _.code===je.VALIDATION_ERROR?e(`Please check the ${b} information and try again.`,"error"):_.code===je.NOT_FOUND_ERROR?e(`${b} not found. It may have been deleted.`,"error"):_.code===je.AUTHORIZATION_ERROR&&e(`You don't have permission to ${m} ${b}.`,"error"),_},[i,e]),c=D.useCallback((y,m)=>{const b=i(y,{context:"Network Operation",fallbackMessage:"Network error occurred"});return b.code===je.NETWORK_ERROR&&m&&n("Network Error","Your connection seems to be unstable. Would you like to retry?",m,"warning"),b},[i,n]),u=D.useCallback(y=>{const m=i(y,{context:"Authentication",fallbackMessage:"Authentication error occurred"});return m.code===je.AUTHENTICATION_ERROR&&e("Please log in again to continue.","warning"),m},[i,e]),d=D.useCallback((y,m="")=>Xb(y,m||t),[t]),h=D.useCallback(y=>Li(y,t).severity||"medium",[t]),p=D.useMemo(()=>je,[]);return{handleError:i,handleAsync:r,handleFormError:s,handleCrudError:o,handleNetworkError:c,handleAuthError:u,createSafeAsync:d,getErrorSeverity:h,errorTypes:p,withRetry:VT,safeAsync:Xb}},w4=(t,e,n=null)=>{const{phases:i}=hc(),[r,s]=D.useState(""),[o,c]=D.useState(!1),[u,d]=D.useState(null),[h,p]=D.useState({}),y=D.useRef(null),m=D.useMemo(()=>!i||i.length===0?[]:t||e?i.filter(k=>(!t||k.department===t)&&(!e||k.work_center===e)).filter(k=>k.name.toLowerCase().includes(r.toLowerCase())):[],[r,t,e,i]);D.useEffect(()=>{if(n&&i&&i.length>0&&!u){const A=i.find(k=>k.id===n);A&&(d(A),s(A.name),p({v_stampa:A.v_stampa||null,t_setup_stampa:A.t_setup_stampa||null,costo_h_stampa:A.costo_h_stampa||null,v_conf:A.v_conf||null,t_setup_conf:A.t_setup_conf||null,costo_h_conf:A.costo_h_conf||null}))}},[n,i,u]),D.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);const b=D.useCallback((A,k)=>{const O=k===""?null:parseFloat(k);p(P=>({...P,[A]:O}))},[]),_=D.useCallback((A,k,O)=>{k("fase",A.id),d(A),s(A.name),c(!1),O("fase"),p({v_stampa:A.v_stampa||null,t_setup_stampa:A.t_setup_stampa||null,costo_h_stampa:A.costo_h_stampa||null,v_conf:A.v_conf||null,t_setup_conf:A.t_setup_conf||null,costo_h_conf:A.costo_h_conf||null})},[]),S=D.useCallback(()=>{s(""),d(null),p({})},[]),x=D.useCallback(()=>{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>c(!1),150)},[]);return D.useMemo(()=>({phaseSearch:r,setPhaseSearch:s,isDropdownVisible:o,setIsDropdownVisible:c,selectedPhase:u,setSelectedPhase:d,filteredPhases:m,editablePhaseParams:h,setEditablePhaseParams:p,handlePhaseParamChange:b,handlePhaseSelect:_,resetPhaseData:S,handleBlur:x,blurTimeoutRef:y}),[r,o,u,m,h,p,b,_,S,x])};function S4(t,e){const n=v3(e),i=new Set;if(n===0||n===6){for(let c=0;c<24;c++)i.add(c.toString());return Array.from(i)}for(let c=0;c<24;c++)i.add(c.toString());const{work_center:r,department:s,active_shifts:o=[]}=t;return o.forEach(c=>{if(c==="T3"){i.clear();return}if(c==="T2")for(let u=6;u<22;u++)i.delete(u.toString());if(c==="T1"){if(r===wt.BUSTO_GAROLFO){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=14;u<18;u++)i.delete(u.toString())}else if(r===wt.ZANICA)if(s===nn.PACKAGING){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}else{for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}}}),Array.from(i).sort((c,u)=>parseInt(c)-parseInt(u))}function x4(t,e){const n=[],i=ok(new Date(e,0,1)),r=b5(new Date(e,11,31));for(const s of t){let o=new Date(i);for(;!b3(o,r);){const c=S4(s,o);c.length>0&&n.push({machine_id:s.id,date:Kn(o,"yyyy-MM-dd"),unavailable_hours:c}),o=Wd(o,1)}}return n}const Ct={machines:["machines"],machine:t=>["machines",t],machinesByWorkCenter:t=>["machines","workCenter",t],orders:["orders"],order:t=>["orders",t],phases:["phases"],phase:t=>["phases",t],machineAvailability:(t,e,n)=>["machineAvailability",t,e,n],machineAvailabilityForDate:(t,e)=>["machineAvailability",t,"date",e],machineAvailabilityForDateAllMachines:t=>["machineAvailability","allMachines",t]},xp=()=>sl({queryKey:Ct.machines,queryFn:()=>Et.getMachines(),staleTime:120*1e3}),E4=t=>sl({queryKey:Ct.machinesByWorkCenter(t),queryFn:()=>Et.getMachines().then(e=>t===wt.BOTH?e:e.filter(n=>n.work_center===t)),staleTime:120*1e3}),C4=()=>{const t=Hi();return ia({mutationFn:async e=>{const n=await Et.addMachine(e);try{const i=new Date().getUTCFullYear(),r=x4([n],i);r.length>0&&await Et.bulkUpsertMachineAvailability(r),Ya(`Machine "${n?.machine_name||"Unknown"}" added and calendar set successfully`)}catch(i){td(`Machine added, but failed to set calendar: ${i.message}`)}return n},onSuccess:e=>{t.invalidateQueries({queryKey:Ct.machines}),t.invalidateQueries({queryKey:Ct.machinesByWorkCenter()}),t.setQueryData(Ct.machines,n=>n?[...n,e]:[e])}})},T4=()=>{const t=Hi();return ia({mutationFn:({id:e,updates:n})=>Et.updateMachine(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:Ct.machines}),t.invalidateQueries({queryKey:Ct.machinesByWorkCenter()}),t.setQueryData(Ct.machines,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(Ct.machine(n),e),Ya(`Machine "${e?.machine_name||"Unknown"}" updated successfully`)}})},A4=()=>{const t=Hi();return ia({mutationFn:async e=>{const n=await Et.getMachines().then(i=>i.find(r=>r.id===e));return await Et.removeMachine(e),n},onSuccess:e=>{t.invalidateQueries({queryKey:Ct.machines}),t.invalidateQueries({queryKey:Ct.machinesByWorkCenter()}),t.setQueryData(Ct.machines,n=>n?.filter(i=>i.id!==e.id)),t.removeQueries({queryKey:Ct.machine(e.id)}),Ya(`Machine "${e?.machine_name||"Unknown"}" deleted successfully`)}})},Ep=()=>sl({queryKey:Ct.orders,queryFn:()=>Et.getOdpOrders(),staleTime:60*1e3}),R4=t=>sl({queryKey:Ct.order(t),queryFn:async()=>{try{return await Et.getOdpOrder(t)}catch{const i=(await Et.getOdpOrders()).find(r=>r.id===t);if(!i)throw new Error(`Order with id ${t} not found`);return i}},enabled:!!t,staleTime:60*1e3}),D4=()=>{const t=Hi();return ia({mutationFn:e=>Et.addOdpOrder(e),onSuccess:e=>{t.invalidateQueries({queryKey:Ct.orders}),t.setQueryData(Ct.orders,n=>n?[e,...n]:[e])}})},O4=()=>{const t=Hi();return ia({mutationFn:({id:e,updates:n})=>Et.updateOdpOrder(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:Ct.orders}),t.setQueryData(Ct.orders,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(Ct.order(n),e)}})},k4=()=>{const t=Hi();return ia({mutationFn:e=>Et.removeOdpOrder(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:Ct.orders}),t.setQueryData(Ct.orders,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:Ct.order(n)})}})},l_=()=>sl({queryKey:Ct.phases,queryFn:()=>Et.getPhases(),staleTime:300*1e3}),M4=t=>sl({queryKey:Ct.phase(t),queryFn:()=>Et.getPhases().then(e=>e.find(n=>n.id===t)),enabled:!!t,staleTime:300*1e3}),N4=()=>{const t=Hi();return ia({mutationFn:e=>Et.addPhase(e),onSuccess:e=>{t.invalidateQueries({queryKey:Ct.phases}),t.setQueryData(Ct.phases,n=>n?[...n,e]:[e])}})},I4=()=>{const t=Hi();return ia({mutationFn:({id:e,updates:n})=>Et.updatePhase(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:Ct.phases}),t.setQueryData(Ct.phases,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(Ct.phase(n),e)}})},j4=()=>{const t=Hi();return ia({mutationFn:e=>Et.removePhase(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:Ct.phases}),t.setQueryData(Ct.phases,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:Ct.phase(n)})}})},Mee=t=>sl({queryKey:Ct.machineAvailabilityForDateAllMachines(t),queryFn:()=>Et.getMachineAvailabilityForDateAllMachines(t),enabled:!!t,staleTime:30*1e3}),P4=()=>{const{data:t,isLoading:e,error:n}=xp(),{data:i,isLoading:r,error:s}=Ep(),{data:o,isLoading:c,error:u}=l_(),{setMachines:d}=Er(),{setOdpOrders:h}=fn(),{setPhases:p}=hc();return D.useEffect(()=>{t&&!e&&!n&&d(t)},[t,e,n,d]),D.useEffect(()=>{i&&!r&&!s&&h(i)},[i,r,s,h]),D.useEffect(()=>{o&&!c&&!u&&p(o)},[o,c,u,p]),{isLoading:e||r||c,errors:{machines:n,orders:s,phases:u}}};function L4(t,e){let n;try{n=t()}catch{return}return{getItem:r=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),c=(s=n.getItem(r))!=null?s:null;return c instanceof Promise?c.then(o):o(c)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const t0=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return t0(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return t0(i)(n)}}}},U4=(t,e)=>(n,i,r)=>{let s={storage:L4(()=>localStorage),partialize:_=>_,version:0,merge:(_,S)=>({...S,..._}),...e},o=!1;const c=new Set,u=new Set;let d=s.storage;if(!d)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},i,r);const h=()=>{const _=s.partialize({...i()});return d.setItem(s.name,{state:_,version:s.version})},p=r.setState;r.setState=(_,S)=>(p(_,S),h());const y=t((..._)=>(n(..._),h()),i,r);r.getInitialState=()=>y;let m;const b=()=>{var _,S;if(!d)return;o=!1,c.forEach(T=>{var A;return T((A=i())!=null?A:y)});const x=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(_=i())!=null?_:y))||void 0;return t0(d.getItem.bind(d))(s.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==s.version){if(s.migrate){const A=s.migrate(T.state,T.version);return A instanceof Promise?A.then(k=>[!0,k]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var A;const[k,O]=T;if(m=s.merge(O,(A=i())!=null?A:y),n(m,!0),k)return h()}).then(()=>{x?.(m,void 0),m=i(),o=!0,u.forEach(T=>T(m))}).catch(T=>{x?.(void 0,T)})};return r.persist={setOptions:_=>{s={...s,..._},_.storage&&(d=_.storage)},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:_=>(c.add(_),()=>{c.delete(_)}),onFinishHydration:_=>(u.add(_),()=>{u.delete(_)})},s.skipHydration||b(),m||y},z4=U4;no(z4(t=>({theme:"system",setTheme:e=>t({theme:e}),toggleTheme:()=>t(e=>({theme:e.theme==="light"?"dark":"light"}))}),{name:"theme-storage"}));function F4(){const{selectedWorkCenter:t,showConfirmDialog:e}=Mt(),n=gs(),{data:i=[],isLoading:r,error:s}=E4(t),o=A4(),{handleAsync:c}=ps("MachineryListPage");if(s)return C.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle macchine: ",s.message]});const u=D.useMemo(()=>[{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Stato",accessorKey:"status"},{header:"Larghezza Min (mm)",accessorKey:"min_web_width"},{header:"Larghezza Max (mm)",accessorKey:"max_web_width"},{header:"Altezza Min (mm)",accessorKey:"min_bag_height"},{header:"Altezza Max (mm)",accessorKey:"max_bag_height"},{header:"Velocità Std",accessorKey:"standard_speed"},{header:"Setup (h)",accessorKey:"setup_time_standard"},{header:"Cambio Colore (h)",accessorKey:"changeover_color"},{header:"Cambio Materiale (h)",accessorKey:"changeover_material"},{header:"Turni Attivi",accessorKey:"active_shifts",cell:p=>Array.isArray(p.getValue())?p.getValue().join(", "):""},{header:"Calendario",accessorKey:"id",cell:p=>C.jsx(Ln,{to:`/machinery/${p.getValue()}/calendar`,className:"inline-flex items-center px-1 py-1 border border-gray-300 rounded shadow-sm text-[10px] font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Visualizza Calendario"})}],[]),d=p=>{n(`/machinery/${p.id}/edit`)},h=async p=>{e("Elimina Macchina",`Sei sicuro di voler eliminare "${p.machine_name}"? Questa azione non può essere annullata.`,async()=>{await c(async()=>{await o.mutateAsync(p.id)},{context:"Delete Machine",fallbackMessage:"Eliminazione macchina fallita"})},"danger")};return r?C.jsx("div",{children:"Caricamento dati macchine..."}):t?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Macchine"}),C.jsx(Ln,{to:"/machinery/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Macchina"})]}),C.jsx(n_,{columns:u,data:i,onEditRow:d,onDeleteRow:h})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle macchine."})}var Qd=t=>t.type==="checkbox",Go=t=>t instanceof Date,Pi=t=>t==null;const Ak=t=>typeof t=="object";var On=t=>!Pi(t)&&!Array.isArray(t)&&Ak(t)&&!Go(t),H4=t=>On(t)&&t.target?Qd(t.target)?t.target.checked:t.target.value:t,B4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,$4=(t,e)=>t.has(B4(e)),V4=t=>{const e=t.constructor&&t.constructor.prototype;return On(e)&&e.hasOwnProperty("isPrototypeOf")},c_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vn(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(c_&&(t instanceof Blob||i))&&(n||On(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!V4(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Vn(t[r]));else return t;return e}var Cp=t=>/^\w*$/.test(t),wn=t=>t===void 0,u_=t=>Array.isArray(t)?t.filter(Boolean):[],d_=t=>u_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(t,e,n)=>{if(!e||!On(t))return n;const i=(Cp(e)?[e]:d_(e)).reduce((r,s)=>Pi(r)?r:r[s],t);return wn(i)||i===t?wn(t[e])?n:t[e]:i},ls=t=>typeof t=="boolean",on=(t,e,n)=>{let i=-1;const r=Cp(e)?[e]:d_(e),s=r.length,o=s-1;for(;++i<s;){const c=r[i];let u=n;if(i!==o){const d=t[c];u=On(d)||Array.isArray(d)?d:isNaN(+r[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const cA={BLUR:"blur",FOCUS_OUT:"focusout"},Ur={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},q4=de.createContext(null);q4.displayName="HookFormContext";var G4=(t,e,n,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(r,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ur.all&&(e._proxyFormState[o]=!i||Ur.all),t[o]}});return r};const W4=typeof window<"u"?de.useLayoutEffect:de.useEffect;var Zi=t=>typeof t=="string",Y4=(t,e,n,i,r)=>Zi(t)?(i&&e.watch.add(t),ke(n,t,r)):Array.isArray(t)?t.map(s=>(i&&e.watch.add(s),ke(n,s))):(i&&(e.watchAll=!0),n),n0=t=>Pi(t)||!Ak(t);function Ua(t,e,n=new WeakSet){if(n0(t)||n0(e))return t===e;if(Go(t)&&Go(e))return t.getTime()===e.getTime();const i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of i){const o=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const c=e[s];if(Go(o)&&Go(c)||On(o)&&On(c)||Array.isArray(o)&&Array.isArray(c)?!Ua(o,c,n):o!==c)return!1}}return!0}var Q4=(t,e,n,i,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:r||!0}}:{},ud=t=>Array.isArray(t)?t:[t],uA=()=>{let t=[];return{get observers(){return t},next:r=>{for(const s of t)s.next&&s.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(s=>s!==r)}}),unsubscribe:()=>{t=[]}}};function Rk(t,e){const n={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i],s=e[i];if(r&&On(r)&&s){const o=Rk(r,s);On(o)&&(n[i]=o)}else t[i]&&(n[i]=s)}return n}var Ni=t=>On(t)&&!Object.keys(t).length,f_=t=>t.type==="file",zr=t=>typeof t=="function",Pg=t=>{if(!c_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Dk=t=>t.type==="select-multiple",h_=t=>t.type==="radio",K4=t=>h_(t)||Qd(t),zv=t=>Pg(t)&&t.isConnected;function X4(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=wn(t)?i++:t[e[i++]];return t}function Z4(t){for(const e in t)if(t.hasOwnProperty(e)&&!wn(t[e]))return!1;return!0}function Rn(t,e){const n=Array.isArray(e)?e:Cp(e)?[e]:d_(e),i=n.length===1?t:X4(t,n),r=n.length-1,s=n[r];return i&&delete i[s],r!==0&&(On(i)&&Ni(i)||Array.isArray(i)&&Z4(i))&&Rn(t,n.slice(0,-1)),t}var J4=t=>{for(const e in t)if(zr(t[e]))return!0;return!1};function Ok(t){return Array.isArray(t)||On(t)&&!J4(t)}function i0(t,e={}){for(const n in t)Ok(t[n])?(e[n]=Array.isArray(t[n])?[]:{},i0(t[n],e[n])):wn(t[n])||(e[n]=!0);return e}function dc(t,e,n){n||(n=i0(e));for(const i in t)Ok(t[i])?wn(e)||n0(n[i])?n[i]=i0(t[i],Array.isArray(t[i])?[]:{}):dc(t[i],Pi(e)?{}:e[i],n[i]):n[i]=!Ua(t[i],e[i]);return n}const dA={value:!1,isValid:!1},fA={value:!0,isValid:!0};var kk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wn(t[0].attributes.value)?wn(t[0].value)||t[0].value===""?fA:{value:t[0].value,isValid:!0}:fA:dA}return dA},Mk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>wn(t)?t:e?t===""?NaN:t&&+t:n&&Zi(t)?new Date(t):i?i(t):t;const hA={isValid:!1,value:null};var Nk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,hA):hA;function gA(t){const e=t.ref;return f_(e)?e.files:h_(e)?Nk(t.refs).value:Dk(e)?[...e.selectedOptions].map(({value:n})=>n):Qd(e)?kk(t.refs).value:Mk(wn(e.value)?t.ref.value:e.value,t)}var e6=(t,e,n,i)=>{const r={};for(const s of t){const o=ke(e,s);o&&on(r,s,o._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:i}},Lg=t=>t instanceof RegExp,Wu=t=>wn(t)?t:Lg(t)?t.source:On(t)?Lg(t.value)?t.value.source:t.value:t,pA=t=>({isOnSubmit:!t||t===Ur.onSubmit,isOnBlur:t===Ur.onBlur,isOnChange:t===Ur.onChange,isOnAll:t===Ur.all,isOnTouch:t===Ur.onTouched});const mA="AsyncFunction";var t6=t=>!!t&&!!t.validate&&!!(zr(t.validate)&&t.validate.constructor.name===mA||On(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===mA)),n6=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),yA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const dd=(t,e,n,i)=>{for(const r of n||Object.keys(t)){const s=ke(t,r);if(s){const{_f:o,...c}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!i)return!0;if(o.ref&&e(o.ref,o.name)&&!i)return!0;if(dd(c,e))break}else if(On(c)&&dd(c,e))break}}};function vA(t,e,n){const i=ke(t,n);if(i||Cp(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const s=r.join("."),o=ke(e,s),c=ke(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(c&&c.type)return{name:s,error:c};if(c&&c.root&&c.root.type)return{name:`${s}.root`,error:c.root};r.pop()}return{name:n}}var i6=(t,e,n,i)=>{n(t);const{name:r,...s}=t;return Ni(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!i||Ur.all))},r6=(t,e,n)=>!t||!e||t===e||ud(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),s6=(t,e,n,i,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?i.isOnBlur:r.isOnBlur)?!t:(n?i.isOnChange:r.isOnChange)?t:!0,a6=(t,e)=>!u_(ke(t,e)).length&&Rn(t,e),o6=(t,e,n)=>{const i=ud(ke(t,n));return on(i,"root",e[n]),on(t,n,i),t};function bA(t,e,n="validate"){if(Zi(t)||Array.isArray(t)&&t.every(Zi)||ls(t)&&!t)return{type:n,message:Zi(t)?t:"",ref:e}}var ac=t=>On(t)&&!Lg(t)?t:{value:t,message:""},_A=async(t,e,n,i,r,s)=>{const{ref:o,refs:c,required:u,maxLength:d,minLength:h,min:p,max:y,pattern:m,validate:b,name:_,valueAsNumber:S,mount:x}=t._f,T=ke(n,_);if(!x||e.has(_))return{};const A=c?c[0]:o,k=X=>{r&&A.reportValidity&&(A.setCustomValidity(ls(X)?"":X||""),A.reportValidity())},O={},P=h_(o),N=Qd(o),M=P||N,B=(S||f_(o))&&wn(o.value)&&wn(T)||Pg(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,V=Q4.bind(null,_,i,O),W=(X,ce,ye,_e=Ls.maxLength,H=Ls.minLength)=>{const Z=X?ce:ye;O[_]={type:X?_e:H,message:Z,ref:o,...V(X?_e:H,Z)}};if(s?!Array.isArray(T)||!T.length:u&&(!M&&(B||Pi(T))||ls(T)&&!T||N&&!kk(c).isValid||P&&!Nk(c).isValid)){const{value:X,message:ce}=Zi(u)?{value:!!u,message:u}:ac(u);if(X&&(O[_]={type:Ls.required,message:ce,ref:A,...V(Ls.required,ce)},!i))return k(ce),O}if(!B&&(!Pi(p)||!Pi(y))){let X,ce;const ye=ac(y),_e=ac(p);if(!Pi(T)&&!isNaN(T)){const H=o.valueAsNumber||T&&+T;Pi(ye.value)||(X=H>ye.value),Pi(_e.value)||(ce=H<_e.value)}else{const H=o.valueAsDate||new Date(T),Z=me=>new Date(new Date().toDateString()+" "+me),be=o.type=="time",J=o.type=="week";Zi(ye.value)&&T&&(X=be?Z(T)>Z(ye.value):J?T>ye.value:H>new Date(ye.value)),Zi(_e.value)&&T&&(ce=be?Z(T)<Z(_e.value):J?T<_e.value:H<new Date(_e.value))}if((X||ce)&&(W(!!X,ye.message,_e.message,Ls.max,Ls.min),!i))return k(O[_].message),O}if((d||h)&&!B&&(Zi(T)||s&&Array.isArray(T))){const X=ac(d),ce=ac(h),ye=!Pi(X.value)&&T.length>+X.value,_e=!Pi(ce.value)&&T.length<+ce.value;if((ye||_e)&&(W(ye,X.message,ce.message),!i))return k(O[_].message),O}if(m&&!B&&Zi(T)){const{value:X,message:ce}=ac(m);if(Lg(X)&&!T.match(X)&&(O[_]={type:Ls.pattern,message:ce,ref:o,...V(Ls.pattern,ce)},!i))return k(ce),O}if(b){if(zr(b)){const X=await b(T,n),ce=bA(X,A);if(ce&&(O[_]={...ce,...V(Ls.validate,ce.message)},!i))return k(ce.message),O}else if(On(b)){let X={};for(const ce in b){if(!Ni(X)&&!i)break;const ye=bA(await b[ce](T,n),A,ce);ye&&(X={...ye,...V(ce,ye.message)},k(ye.message),i&&(O[_]=X))}if(!Ni(X)&&(O[_]={ref:A,...X},!i))return O}}return k(!0),O};const l6={mode:Ur.onSubmit,reValidateMode:Ur.onChange,shouldFocusError:!0};function c6(t={}){let e={...l6,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:zr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=On(e.defaultValues)||On(e.values)?Vn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Vn(r),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const y={array:uA(),state:uA()},m=e.criteriaMode===Ur.all,b=U=>Y=>{clearTimeout(d),d=setTimeout(U,Y)},_=async U=>{if(!e.disabled&&(h.isValid||p.isValid||U)){const Y=e.resolver?Ni((await N()).errors):await B(i,!0);Y!==n.isValid&&y.state.next({isValid:Y})}},S=(U,Y)=>{!e.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((U||Array.from(c.mount)).forEach(te=>{te&&(Y?on(n.validatingFields,te,Y):Rn(n.validatingFields,te))}),y.state.next({validatingFields:n.validatingFields,isValidating:!Ni(n.validatingFields)}))},x=(U,Y=[],te,Q,se=!0,ue=!0)=>{if(Q&&te&&!e.disabled){if(o.action=!0,ue&&Array.isArray(ke(i,U))){const ve=te(ke(i,U),Q.argA,Q.argB);se&&on(i,U,ve)}if(ue&&Array.isArray(ke(n.errors,U))){const ve=te(ke(n.errors,U),Q.argA,Q.argB);se&&on(n.errors,U,ve),a6(n.errors,U)}if((h.touchedFields||p.touchedFields)&&ue&&Array.isArray(ke(n.touchedFields,U))){const ve=te(ke(n.touchedFields,U),Q.argA,Q.argB);se&&on(n.touchedFields,U,ve)}(h.dirtyFields||p.dirtyFields)&&(n.dirtyFields=dc(r,s)),y.state.next({name:U,isDirty:W(U,Y),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else on(s,U,Y)},T=(U,Y)=>{on(n.errors,U,Y),y.state.next({errors:n.errors})},A=U=>{n.errors=U,y.state.next({errors:n.errors,isValid:!1})},k=(U,Y,te,Q)=>{const se=ke(i,U);if(se){const ue=ke(s,U,wn(te)?ke(r,U):te);wn(ue)||Q&&Q.defaultChecked||Y?on(s,U,Y?ue:gA(se._f)):ye(U,ue),o.mount&&_()}},O=(U,Y,te,Q,se)=>{let ue=!1,ve=!1;const we={name:U};if(!e.disabled){if(!te||Q){(h.isDirty||p.isDirty)&&(ve=n.isDirty,n.isDirty=we.isDirty=W(),ue=ve!==we.isDirty);const Se=Ua(ke(r,U),Y);ve=!!ke(n.dirtyFields,U),Se?Rn(n.dirtyFields,U):on(n.dirtyFields,U,!0),we.dirtyFields=n.dirtyFields,ue=ue||(h.dirtyFields||p.dirtyFields)&&ve!==!Se}if(te){const Se=ke(n.touchedFields,U);Se||(on(n.touchedFields,U,te),we.touchedFields=n.touchedFields,ue=ue||(h.touchedFields||p.touchedFields)&&Se!==te)}ue&&se&&y.state.next(we)}return ue?we:{}},P=(U,Y,te,Q)=>{const se=ke(n.errors,U),ue=(h.isValid||p.isValid)&&ls(Y)&&n.isValid!==Y;if(e.delayError&&te?(u=b(()=>T(U,te)),u(e.delayError)):(clearTimeout(d),u=null,te?on(n.errors,U,te):Rn(n.errors,U)),(te?!Ua(se,te):se)||!Ni(Q)||ue){const ve={...Q,...ue&&ls(Y)?{isValid:Y}:{},errors:n.errors,name:U};n={...n,...ve},y.state.next(ve)}},N=async U=>{S(U,!0);const Y=await e.resolver(s,e.context,e6(U||c.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return S(U),Y},M=async U=>{const{errors:Y}=await N(U);if(U)for(const te of U){const Q=ke(Y,te);Q?on(n.errors,te,Q):Rn(n.errors,te)}else n.errors=Y;return Y},B=async(U,Y,te={valid:!0})=>{for(const Q in U){const se=U[Q];if(se){const{_f:ue,...ve}=se;if(ue){const we=c.array.has(ue.name),Se=se._f&&t6(se._f);Se&&h.validatingFields&&S([ue.name],!0);const Ne=await _A(se,c.disabled,s,m,e.shouldUseNativeValidation&&!Y,we);if(Se&&h.validatingFields&&S([ue.name]),Ne[ue.name]&&(te.valid=!1,Y))break;!Y&&(ke(Ne,ue.name)?we?o6(n.errors,Ne,ue.name):on(n.errors,ue.name,Ne[ue.name]):Rn(n.errors,ue.name))}!Ni(ve)&&await B(ve,Y,te)}}return te.valid},V=()=>{for(const U of c.unMount){const Y=ke(i,U);Y&&(Y._f.refs?Y._f.refs.every(te=>!zv(te)):!zv(Y._f.ref))&&ne(U)}c.unMount=new Set},W=(U,Y)=>!e.disabled&&(U&&Y&&on(s,U,Y),!Ua(me(),r)),X=(U,Y,te)=>Y4(U,c,{...o.mount?s:wn(Y)?r:Zi(U)?{[U]:Y}:Y},te,Y),ce=U=>u_(ke(o.mount?s:r,U,e.shouldUnregister?ke(r,U,[]):[])),ye=(U,Y,te={})=>{const Q=ke(i,U);let se=Y;if(Q){const ue=Q._f;ue&&(!ue.disabled&&on(s,U,Mk(Y,ue)),se=Pg(ue.ref)&&Pi(Y)?"":Y,Dk(ue.ref)?[...ue.ref.options].forEach(ve=>ve.selected=se.includes(ve.value)):ue.refs?Qd(ue.ref)?ue.refs.forEach(ve=>{(!ve.defaultChecked||!ve.disabled)&&(Array.isArray(se)?ve.checked=!!se.find(we=>we===ve.value):ve.checked=se===ve.value||!!se)}):ue.refs.forEach(ve=>ve.checked=ve.value===se):f_(ue.ref)?ue.ref.value="":(ue.ref.value=se,ue.ref.type||y.state.next({name:U,values:Vn(s)})))}(te.shouldDirty||te.shouldTouch)&&O(U,se,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&J(U)},_e=(U,Y,te)=>{for(const Q in Y){if(!Y.hasOwnProperty(Q))return;const se=Y[Q],ue=U+"."+Q,ve=ke(i,ue);(c.array.has(U)||On(se)||ve&&!ve._f)&&!Go(se)?_e(ue,se,te):ye(ue,se,te)}},H=(U,Y,te={})=>{const Q=ke(i,U),se=c.array.has(U),ue=Vn(Y);on(s,U,ue),se?(y.array.next({name:U,values:Vn(s)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&te.shouldDirty&&y.state.next({name:U,dirtyFields:dc(r,s),isDirty:W(U,ue)})):Q&&!Q._f&&!Pi(ue)?_e(U,ue,te):ye(U,ue,te),yA(U,c)&&y.state.next({...n,name:U}),y.state.next({name:o.mount?U:void 0,values:Vn(s)})},Z=async U=>{o.mount=!0;const Y=U.target;let te=Y.name,Q=!0;const se=ke(i,te),ue=Se=>{Q=Number.isNaN(Se)||Go(Se)&&isNaN(Se.getTime())||Ua(Se,ke(s,te,Se))},ve=pA(e.mode),we=pA(e.reValidateMode);if(se){let Se,Ne;const We=Y.type?gA(se._f):H4(U),Ye=U.type===cA.BLUR||U.type===cA.FOCUS_OUT,lt=!n6(se._f)&&!e.resolver&&!ke(n.errors,te)&&!se._f.deps||s6(Ye,ke(n.touchedFields,te),n.isSubmitted,we,ve),it=yA(te,c,Ye);on(s,te,We),Ye?(!Y||!Y.readOnly)&&(se._f.onBlur&&se._f.onBlur(U),u&&u(0)):se._f.onChange&&se._f.onChange(U);const St=O(te,We,Ye),ot=!Ni(St)||it;if(!Ye&&y.state.next({name:te,type:U.type,values:Vn(s)}),lt)return(h.isValid||p.isValid)&&(e.mode==="onBlur"?Ye&&_():Ye||_()),ot&&y.state.next({name:te,...it?{}:St});if(!Ye&&it&&y.state.next({...n}),e.resolver){const{errors:Le}=await N([te]);if(ue(We),Q){const un=vA(n.errors,i,te),tt=vA(Le,i,un.name||te);Se=tt.error,te=tt.name,Ne=Ni(Le)}}else S([te],!0),Se=(await _A(se,c.disabled,s,m,e.shouldUseNativeValidation))[te],S([te]),ue(We),Q&&(Se?Ne=!1:(h.isValid||p.isValid)&&(Ne=await B(i,!0)));Q&&(se._f.deps&&(!Array.isArray(se._f.deps)||se._f.deps.length>0)&&J(se._f.deps),P(te,Ne,Se,St))}},be=(U,Y)=>{if(ke(n.errors,Y)&&U.focus)return U.focus(),1},J=async(U,Y={})=>{let te,Q;const se=ud(U);if(e.resolver){const ue=await M(wn(U)?U:se);te=Ni(ue),Q=U?!se.some(ve=>ke(ue,ve)):te}else U?(Q=(await Promise.all(se.map(async ue=>{const ve=ke(i,ue);return await B(ve&&ve._f?{[ue]:ve}:ve)}))).every(Boolean),!(!Q&&!n.isValid)&&_()):Q=te=await B(i);return y.state.next({...!Zi(U)||(h.isValid||p.isValid)&&te!==n.isValid?{}:{name:U},...e.resolver||!U?{isValid:te}:{},errors:n.errors}),Y.shouldFocus&&!Q&&dd(i,be,U?se:c.mount),Q},me=(U,Y)=>{let te={...o.mount?s:r};return Y&&(te=Rk(Y.dirtyFields?n.dirtyFields:n.touchedFields,te)),wn(U)?te:Zi(U)?ke(te,U):U.map(Q=>ke(te,Q))},E=(U,Y)=>({invalid:!!ke((Y||n).errors,U),isDirty:!!ke((Y||n).dirtyFields,U),error:ke((Y||n).errors,U),isValidating:!!ke(n.validatingFields,U),isTouched:!!ke((Y||n).touchedFields,U)}),I=U=>{U&&ud(U).forEach(Y=>Rn(n.errors,Y)),y.state.next({errors:U?n.errors:{}})},L=(U,Y,te)=>{const Q=(ke(i,U,{_f:{}})._f||{}).ref,se=ke(n.errors,U)||{},{ref:ue,message:ve,type:we,...Se}=se;on(n.errors,U,{...Se,...Y,ref:Q}),y.state.next({name:U,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&Q&&Q.focus&&Q.focus()},z=(U,Y)=>zr(U)?y.state.subscribe({next:te=>"values"in te&&U(X(void 0,Y),te)}):X(U,Y,!0),G=U=>y.state.subscribe({next:Y=>{r6(U.name,Y.name,U.exact)&&i6(Y,U.formState||h,Ft,U.reRenderRoot)&&U.callback({values:{...s},...n,...Y,defaultValues:r})}}).unsubscribe,ee=U=>(o.mount=!0,p={...p,...U.formState},G({...U,formState:p})),ne=(U,Y={})=>{for(const te of U?ud(U):c.mount)c.mount.delete(te),c.array.delete(te),Y.keepValue||(Rn(i,te),Rn(s,te)),!Y.keepError&&Rn(n.errors,te),!Y.keepDirty&&Rn(n.dirtyFields,te),!Y.keepTouched&&Rn(n.touchedFields,te),!Y.keepIsValidating&&Rn(n.validatingFields,te),!e.shouldUnregister&&!Y.keepDefaultValue&&Rn(r,te);y.state.next({values:Vn(s)}),y.state.next({...n,...Y.keepDirty?{isDirty:W()}:{}}),!Y.keepIsValid&&_()},ge=({disabled:U,name:Y})=>{(ls(U)&&o.mount||U||c.disabled.has(Y))&&(U?c.disabled.add(Y):c.disabled.delete(Y))},Ee=(U,Y={})=>{let te=ke(i,U);const Q=ls(Y.disabled)||ls(e.disabled);return on(i,U,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:U}},name:U,mount:!0,...Y}}),c.mount.add(U),te?ge({disabled:ls(Y.disabled)?Y.disabled:e.disabled,name:U}):k(U,!0,Y.value),{...Q?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:Wu(Y.min),max:Wu(Y.max),minLength:Wu(Y.minLength),maxLength:Wu(Y.maxLength),pattern:Wu(Y.pattern)}:{},name:U,onChange:Z,onBlur:Z,ref:se=>{if(se){Ee(U,Y),te=ke(i,U);const ue=wn(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,ve=K4(ue),we=te._f.refs||[];if(ve?we.find(Se=>Se===ue):ue===te._f.ref)return;on(i,U,{_f:{...te._f,...ve?{refs:[...we.filter(zv),ue,...Array.isArray(ke(r,U))?[{}]:[]],ref:{type:ue.type,name:U}}:{ref:ue}}}),k(U,!1,void 0,ue)}else te=ke(i,U,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!($4(c.array,U)&&o.action)&&c.unMount.add(U)}}},qe=()=>e.shouldFocusError&&dd(i,be,c.mount),Nt=U=>{ls(U)&&(y.state.next({disabled:U}),dd(i,(Y,te)=>{const Q=ke(i,te);Q&&(Y.disabled=Q._f.disabled||U,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(se=>{se.disabled=Q._f.disabled||U}))},0,!1))},It=(U,Y)=>async te=>{let Q;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let se=Vn(s);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:ve}=await N();n.errors=ue,se=Vn(ve)}else await B(i);if(c.disabled.size)for(const ue of c.disabled)Rn(se,ue);if(Rn(n.errors,"root"),Ni(n.errors)){y.state.next({errors:{}});try{await U(se,te)}catch(ue){Q=ue}}else Y&&await Y({...n.errors},te),qe(),setTimeout(qe);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ni(n.errors)&&!Q,submitCount:n.submitCount+1,errors:n.errors}),Q)throw Q},Xn=(U,Y={})=>{ke(i,U)&&(wn(Y.defaultValue)?H(U,Vn(ke(r,U))):(H(U,Y.defaultValue),on(r,U,Vn(Y.defaultValue))),Y.keepTouched||Rn(n.touchedFields,U),Y.keepDirty||(Rn(n.dirtyFields,U),n.isDirty=Y.defaultValue?W(U,Vn(ke(r,U))):W()),Y.keepError||(Rn(n.errors,U),h.isValid&&_()),y.state.next({...n}))},Te=(U,Y={})=>{const te=U?Vn(U):r,Q=Vn(te),se=Ni(U),ue=se?r:Q;if(Y.keepDefaultValues||(r=te),!Y.keepValues){if(Y.keepDirtyValues){const ve=new Set([...c.mount,...Object.keys(dc(r,s))]);for(const we of Array.from(ve))ke(n.dirtyFields,we)?on(ue,we,ke(s,we)):H(we,ke(ue,we))}else{if(c_&&wn(U))for(const ve of c.mount){const we=ke(i,ve);if(we&&we._f){const Se=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(Pg(Se)){const Ne=Se.closest("form");if(Ne){Ne.reset();break}}}}if(Y.keepFieldsRef)for(const ve of c.mount)H(ve,ke(ue,ve));else i={}}s=e.shouldUnregister?Y.keepDefaultValues?Vn(r):{}:Vn(ue),y.array.next({values:{...ue}}),y.state.next({values:{...ue}})}c={mount:Y.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,o.watch=!!e.shouldUnregister,y.state.next({submitCount:Y.keepSubmitCount?n.submitCount:0,isDirty:se?!1:Y.keepDirty?n.isDirty:!!(Y.keepDefaultValues&&!Ua(U,r)),isSubmitted:Y.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:se?{}:Y.keepDirtyValues?Y.keepDefaultValues&&s?dc(r,s):n.dirtyFields:Y.keepDefaultValues&&U?dc(r,U):Y.keepDirty?n.dirtyFields:{},touchedFields:Y.keepTouched?n.touchedFields:{},errors:Y.keepErrors?n.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},Ge=(U,Y)=>Te(zr(U)?U(s):U,Y),at=(U,Y={})=>{const te=ke(i,U),Q=te&&te._f;if(Q){const se=Q.refs?Q.refs[0]:Q.ref;se.focus&&(se.focus(),Y.shouldSelect&&zr(se.select)&&se.select())}},Ft=U=>{n={...n,...U}},et={control:{register:Ee,unregister:ne,getFieldState:E,handleSubmit:It,setError:L,_subscribe:G,_runSchema:N,_focusError:qe,_getWatch:X,_getDirty:W,_setValid:_,_setFieldArray:x,_setDisabledField:ge,_setErrors:A,_getFieldArray:ce,_reset:Te,_resetDefaultValues:()=>zr(e.defaultValues)&&e.defaultValues().then(U=>{Ge(U,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Nt,_subjects:y,_proxyFormState:h,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(U){o=U},get _defaultValues(){return r},get _names(){return c},set _names(U){c=U},get _formState(){return n},get _options(){return e},set _options(U){e={...e,...U}}},subscribe:ee,trigger:J,register:Ee,handleSubmit:It,watch:z,setValue:H,getValues:me,reset:Ge,resetField:Xn,clearErrors:I,unregister:ne,setError:L,setFocus:at,getFieldState:E};return{...et,formControl:et}}function u6(t={}){const e=de.useRef(void 0),n=de.useRef(void 0),[i,r]=de.useState({isDirty:!1,isValidating:!1,isLoading:zr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:zr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!zr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...c}=c6(t);e.current={...c,formState:i}}const s=e.current.control;return s._options=t,W4(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r(c=>({...c,isReady:!0})),s._formState.isReady=!0,o},[s]),de.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),de.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),de.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),de.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),de.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==i.isDirty&&s._subjects.state.next({isDirty:o})}},[s,i.isDirty]),de.useEffect(()=>{t.values&&!Ua(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,r(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),de.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=G4(i,s),e.current}function Tp({config:t,initialData:e={},onSubmit:n,onSuccess:i,isEditMode:r=!1,isLoading:s=!1,customActions:o=null,customFieldRenderers:c={},className:u="p-1 bg-card rounded-lg shadow-sm border"}){const{handleAsync:d}=ps("GenericForm");Tk();const h=D.useMemo(()=>{const M={};return t.sections.forEach(B=>{B.fields.forEach(V=>{V.name in e?M[V.name]=e[V.name]:V.defaultValue!==void 0?M[V.name]=V.defaultValue:M[V.name]=""})}),M},[t,e]),{register:p,handleSubmit:y,formState:{isSubmitting:m,errors:b},watch:_,setValue:S,getValues:x,reset:T,clearErrors:A}=u6({defaultValues:h,mode:"onChange"}),k=async M=>{await d(async()=>{await n(M),i&&i(),T(h)},{context:r?t.editContext:t.addContext,fallbackMessage:r?t.editErrorMessage:t.addErrorMessage})},O=M=>{const B=_(M.name);if(M.conditional&&!M.conditional(B,_,x))return null;if(c[M.type])return c[M.type](M,{watch:_,setValue:S,getValues:x,register:p,isSubmitting:m,fieldValue:B});const V={id:M.name,placeholder:M.placeholder,disabled:M.disabled||m,className:M.className||"",...p(M.name,M.validation||{})};switch(M.type){case"select":return C.jsxs("div",{children:[C.jsxs("select",{...p(M.name,M.validation),disabled:M.disabled||m,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${b[M.name]?"border-red-500":"border-input"}`,children:[C.jsx("option",{value:"",children:M.placeholder||`Seleziona ${M.label.toLowerCase()}`}),M.options?.map(W=>C.jsx("option",{value:W.value,children:W.label},W.value))]}),b[M.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:b[M.name].message})]});case"textarea":return C.jsxs("div",{children:[C.jsx("textarea",{...V,rows:M.rows||3,className:`w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent ${M.className||""} ${b[M.name]?"border-destructive":""}`}),b[M.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:b[M.name].message})]});case"checkbox":return C.jsx("div",{className:"flex flex-wrap gap-2",children:M.options?.map(W=>C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("input",{type:"checkbox",id:`${M.name}_${W.value}`,value:W.value,checked:B?.includes(W.value)||!1,onChange:X=>{const ce=x(M.name)||[];X.target.checked?S(M.name,[...ce,W.value].sort(),{shouldValidate:!0}):S(M.name,ce.filter(ye=>ye!==W.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),C.jsx(fi,{htmlFor:`${M.name}_${W.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:W.label})]},W.value))});case"datetime-local":return C.jsxs("div",{children:[C.jsx(Wn,{type:"datetime-local",...V,className:`${V.className} ${b[M.name]?"border-red-500":""}`}),b[M.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:b[M.name].message})]});case"date":return C.jsxs("div",{children:[C.jsx(Wn,{type:"date",...V,className:`${V.className} ${b[M.name]?"border-red-500":""}`}),b[M.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:b[M.name].message})]});case"time":return C.jsxs("div",{children:[C.jsx(Wn,{type:"time",...V,className:`${V.className} ${b[M.name]?"border-red-500":""}`}),b[M.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:b[M.name].message})]});case"number":return C.jsxs("div",{children:[C.jsx(Wn,{type:"number",...V,className:`${V.className} ${b[M.name]?"border-red-500":""}`}),b[M.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:b[M.name].message})]});case"text":default:return C.jsxs("div",{children:[C.jsx(Wn,{type:"text",...V,className:`${V.className} ${b[M.name]?"border-red-500":""}`}),b[M.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:b[M.name].message})]})}},P=M=>{const B=M.fields.filter(V=>!V.conditional||V.conditional(_(V.name),_,x));return B.length===0?null:C.jsxs("div",{className:"space-y-4",children:[C.jsx("h2",{className:"text-lg font-semibold text-foreground",children:M.title}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(V=>C.jsxs("div",{className:"space-y-2",children:[C.jsxs(fi,{htmlFor:V.name,className:"text-sm font-medium text-foreground",children:[V.label," ",V.required&&C.jsx("span",{className:"text-destructive",children:"*"})]}),O(V),V.helpText&&C.jsx("p",{className:"text-xs text-muted-foreground",children:V.helpText})]},V.name))})]},M.title)},N=M=>c[M]?c[M]():null;return C.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm p-6",children:C.jsxs("form",{onSubmit:y(k),noValidate:!0,className:"space-y-6",children:[t.sections.map(P),t.customFields&&Object.keys(t.customFields).map(M=>C.jsx("div",{children:N(M)},M)),o&&C.jsx("div",{className:"space-y-4",children:o}),C.jsx("div",{className:"flex justify-end pt-6 border-t border-border",children:C.jsx(bi,{type:"submit",disabled:s||m,children:s||m?r?t.editLoadingText:t.addLoadingText:r?t.editButtonText:t.addButtonText})})]})})}const br={validationSchema:"MACHINE",addButtonText:"Aggiungi Macchina",editButtonText:"Aggiorna Macchina",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Machine",editContext:"Update Machine",addErrorMessage:"Aggiunta macchina fallita",editErrorMessage:"Aggiornamento macchina fallita",sections:[{title:"Identificazione",fields:[{name:"department",label:"Department",type:"select",required:!0,options:[{value:nn.PRINTING,label:nn.PRINTING},{value:nn.PACKAGING,label:nn.PACKAGING}],defaultValue:tn.MACHINE.DEPARTMENT,validation:{required:"Department is required"}},{name:"machine_type",label:"Machine Type",type:"select",required:!0,placeholder:"Seleziona tipo macchina",options:[],conditional:t=>t===nn.PRINTING||t===nn.PACKAGING,validation:{required:"Machine type is required"}},{name:"machine_name",label:"Machine Name",type:"text",required:!0,placeholder:"Nome descrittivo",validation:{required:"Machine name is required",minLength:{value:2,message:"Machine name must be at least 2 characters"},maxLength:{value:100,message:"Machine name must be at most 100 characters"},pattern:{value:/^[a-zA-Z0-9\s\-_]+$/,message:"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"}}},{name:"work_center",label:"Work Center",type:"select",required:!0,placeholder:"Seleziona un centro di lavoro",options:[{value:wt.ZANICA,label:wt.ZANICA},{value:wt.BUSTO_GAROLFO,label:wt.BUSTO_GAROLFO}],defaultValue:tn.MACHINE.WORK_CENTER,helpText:"Il centro di lavoro è pre-impostato.",validation:{required:"Work center is required"}}]},{title:"Capacità Tecniche",fields:[{name:"min_web_width",label:"Min Web Width (mm)",type:"number",required:!0,defaultValue:tn.MACHINE.MIN_WEB_WIDTH,validation:{required:"Min web width is required",min:{value:1,message:"Min web width must be at least 1"}}},{name:"max_web_width",label:"Max Web Width (mm)",type:"number",required:!0,defaultValue:tn.MACHINE.MAX_WEB_WIDTH,validation:{required:"Max web width is required",min:{value:1,message:"Max web width must be at least 1"}}},{name:"min_bag_height",label:"Min Bag Height (mm)",type:"number",required:!0,defaultValue:tn.MACHINE.MIN_BAG_HEIGHT,validation:{required:"Min bag height is required",min:{value:1,message:"Min bag height must be at least 1"}}},{name:"max_bag_height",label:"Max Bag Height (mm)",type:"number",required:!0,defaultValue:tn.MACHINE.MAX_BAG_HEIGHT,validation:{required:"Max bag height is required",min:{value:1,message:"Max bag height must be at least 1"}}}]},{title:"Performance",fields:[{name:"standard_speed",label:"Standard Speed",type:"number",required:!0,placeholder:"pz/h o mt/h",validation:{required:"Standard speed is required",min:{value:1,message:"Standard speed must be at least 1"}}},{name:"setup_time_standard",label:"Setup Time Standard (h)",type:"number",required:!0,defaultValue:tn.MACHINE.SETUP_TIME_STANDARD,validation:{required:"Setup time is required",min:{value:0,message:"Setup time must be at least 0"}}},{name:"changeover_color",label:"Changeover Color (h)",type:"number",required:!0,defaultValue:tn.MACHINE.CHANGEOVER_COLOR,conditional:(t,e,n)=>n("department")===nn.PRINTING,validation:{required:"Changeover color time is required",min:{value:0,message:"Changeover color time must be at least 0"}}},{name:"changeover_material",label:"Material Changeover (h)",type:"number",required:!0,defaultValue:tn.MACHINE.CHANGEOVER_MATERIAL,conditional:(t,e,n)=>n("department")===nn.PACKAGING,validation:{required:"Changeover material time is required",min:{value:0,message:"Changeover material time must be at least 0"}}}]},{title:"Disponibilità",fields:[{name:"active_shifts",label:"Active Shifts",type:"checkbox",required:!1,defaultValue:tn.MACHINE.ACTIVE_SHIFTS,options:[{value:jo.T1,label:jo.T1},{value:jo.T2,label:jo.T2},{value:jo.T3,label:jo.T3}]},{name:"status",label:"Status",type:"select",required:!0,defaultValue:tn.MACHINE.STATUS,options:[{value:us.ACTIVE,label:us.ACTIVE},{value:us.INACTIVE,label:us.INACTIVE}],validation:{required:"Status is required"}}]}]},ns={validationSchema:"PHASE",addButtonText:"Aggiungi Fase",editButtonText:"Aggiorna Fase",addLoadingText:"Aggiunta Fase...",editLoadingText:"Aggiornamento Fase...",addContext:"Add Phase",editContext:"Update Phase",addErrorMessage:"Aggiunta fase fallita",editErrorMessage:"Aggiornamento fase fallita",sections:[{title:"Informazioni Fase",fields:[{name:"name",label:"Nome Fase",type:"text",required:!0,placeholder:"es. Stampa Alta Velocità"},{name:"department",label:"Tipo Fase",type:"select",required:!0,options:[{value:nn.PRINTING,label:nn.PRINTING},{value:nn.PACKAGING,label:nn.PACKAGING}],defaultValue:tn.PHASE.DEPARTMENT},{name:"numero_persone",label:"Numero di Persone Richieste",type:"number",required:!0,defaultValue:tn.PHASE.NUMERO_PERSONE},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,options:[{value:wt.ZANICA,label:wt.ZANICA},{value:wt.BUSTO_GAROLFO,label:wt.BUSTO_GAROLFO}],defaultValue:tn.PHASE.WORK_CENTER,helpText:"Il centro di lavoro è impostato in base alla tua selezione di accesso"}]},{title:"Parametri Stampa",fields:[{name:"v_stampa",label:"Velocità Stampa (mt/h)",type:"number",required:!0,defaultValue:tn.PHASE.V_STAMPA,conditional:(t,e,n)=>n("department")===nn.PRINTING},{name:"t_setup_stampa",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:tn.PHASE.T_SETUP_STAMPA,conditional:(t,e,n)=>n("department")===nn.PRINTING},{name:"costo_h_stampa",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:tn.PHASE.COSTO_H_STAMPA,conditional:(t,e,n)=>n("department")===nn.PRINTING}]},{title:"Parametri Confezionamento",fields:[{name:"v_conf",label:"Velocità Confezionamento (pz/h)",type:"number",required:!0,defaultValue:tn.PHASE.V_CONF,conditional:(t,e,n)=>n("department")===nn.PACKAGING},{name:"t_setup_conf",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:tn.PHASE.T_SETUP_CONF,conditional:(t,e,n)=>n("department")===nn.PACKAGING},{name:"costo_h_conf",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:tn.PHASE.COSTO_H_CONF,conditional:(t,e,n)=>n("department")===nn.PACKAGING}]},{title:"Descrizione Fase",fields:[{name:"contenuto_fase",label:"Descrizione Contenuto Fase",type:"textarea",required:!0,placeholder:"Descrivi il contenuto della fase e i requisiti...",rows:3}],gridCols:"grid-cols-1"}]},d6={validationSchema:"ORDER",addButtonText:"Aggiungi al Backlog",editButtonText:"Aggiorna Ordine",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Order",editContext:"Update Order",addErrorMessage:"Aggiunta ordine fallita",editErrorMessage:"Aggiornamento ordine fallito",sections:[{title:"Identificazione",fields:[{name:"odp_number",label:"Numero ODP",type:"text",required:!0,placeholder:"Inserisci numero ODP"},{name:"article_code",label:"Codice Articolo",type:"article_code",required:!0,placeholder:"Inserisci codice articolo"},{name:"production_lot",label:"Codice Articolo Esterno",type:"text",required:!0,placeholder:"Inserisci codice articolo esterno"},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,placeholder:"Seleziona centro di lavoro",options:[{value:wt.ZANICA,label:wt.ZANICA},{value:wt.BUSTO_GAROLFO,label:wt.BUSTO_GAROLFO}],conditional:(t,e,n)=>!0},{name:"nome_cliente",label:"Nome Cliente",type:"text",required:!0,placeholder:"Inserisci nome cliente"}]},{title:"Specifiche Tecniche",fields:[{name:"bag_height",label:"Altezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci altezza busta"},{name:"bag_width",label:"Larghezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci larghezza busta"},{name:"bag_step",label:"Passo Busta (mm)",type:"number",required:!1,placeholder:"Inserisci passo busta"},{name:"seal_sides",label:"Lati Sigillatura",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:"3",label:"3"},{value:"4",label:"4"}],defaultValue:tn.ORDER.SEAL_SIDES},{name:"product_type",label:"Tipo Prodotto",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:rc.CREMA,label:rc.CREMA},{value:rc.LIQUIDO,label:rc.LIQUIDO},{value:rc.POLVERI,label:rc.POLVERI}]},{name:"quantity",label:"Quantità",type:"number",required:!0,placeholder:"Inserisci quantità"},{name:"quantity_completed",label:"Q.tà Completata",type:"number",required:!0,defaultValue:tn.ORDER.QUANTITY_COMPLETED}]},{title:"Dati Commerciali",fields:[{name:"internal_customer_code",label:"Lotto FLEXI",type:"text",required:!0,placeholder:"Inserisci lotto FLEXI"},{name:"external_customer_code",label:"Lotto Cliente",type:"text",required:!0,placeholder:"Inserisci lotto cliente"},{name:"customer_order_ref",label:"Riferimento Cliente",type:"text",required:!0,placeholder:"Inserisci riferimento cliente"},{name:"user_notes",label:"Note Libere",type:"textarea",required:!1,placeholder:"Inserisci note libere per l'ordine...",rows:3},{name:"asd_notes",label:"Note ASD",type:"textarea",required:!1,placeholder:"Inserisci note ASD per l'ordine...",rows:3}],gridCols:"grid-cols-2 md:grid-cols-3"},{title:"Dati Lavorazione & Pianificazione",fields:[{name:"department",label:"Reparto",type:"text",required:!0,readOnly:!0,className:"bg-gray-50"},{name:"phase_search",label:"Cerca Fase di Produzione",type:"phase_search",required:!0},{name:"delivery_date",label:"Data di Consegna",type:"datetime-local",required:!0}]},{title:"Disponibilità Materiali",fields:[{name:"material_availability_global",label:"Disponibilità Materiale Globale (%)",type:"number",required:!1,placeholder:"Inserisci percentuale disponibilità (0-100)",min:0,max:100}]}],customFields:{phase_parameters:{type:"phase_parameters",label:"Parametri Fase Selezionata"},calculation_results:{type:"calculation_results",label:"Risultati Calcolo Produzione"}},customValidation:t=>{const e={};return{isValid:Object.keys(e).length===0,errors:e}}},Fv={validationSchema:"OFF_TIME",addButtonText:"Imposta Non Disponibilità",editButtonText:"Aggiorna Non Disponibilità",addLoadingText:"Impostazione...",editLoadingText:"Aggiornamento...",addContext:"Set Machine Unavailability",editContext:"Update Machine Unavailability",addErrorMessage:"Impostazione indisponibilità macchina fallita",editErrorMessage:"Aggiornamento indisponibilità macchina fallita",sections:[{title:"Periodo di Non Disponibilità",fields:[{name:"startDate",label:"Data Inizio",type:"date",required:!0,defaultValue:""},{name:"startTime",label:"Ora Inizio",type:"time",required:!0,defaultValue:tn.OFF_TIME.START_TIME},{name:"endDate",label:"Data Fine",type:"date",required:!0,defaultValue:""},{name:"endTime",label:"Ora Fine",type:"time",required:!0,defaultValue:tn.OFF_TIME.END_TIME}]}],customValidation:t=>{const e={};if(t.startDate&&t.endDate){const n=new Date(t.startDate);new Date(t.endDate)<n&&(e.endDate=JT.END_DATE_BEFORE_START),t.startDate===t.endDate&&t.startTime&&t.endTime&&t.startTime>=t.endTime&&(e.endTime=JT.END_TIME_BEFORE_START)}return{isValid:Object.keys(e).length===0,errors:e}}};function f6({machineToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Mt(),{getValidMachineTypes:i}=uk(),r=C4(),s=T4(),o=!!t,c=D.useMemo(()=>{const p={...br};return p.sections[0].fields[1].options=[...i("STAMPA").map(y=>({value:y,label:y})),...i("CONFEZIONAMENTO").map(y=>({value:y,label:y}))],p.sections[0].fields[1].placeholder="Seleziona tipo macchina",n!==wt.BOTH&&(p.sections[0].fields[3].disabled=!0,p.sections[0].fields[3].defaultValue=n,p.sections[0].fields[3].helpText="Il centro di lavoro è pre-impostato."),p},[i,n]),u=D.useMemo(()=>({department:t?.department||br.sections[0].fields[0].defaultValue,machine_type:t?.machine_type||"",machine_name:t?.machine_name||"",work_center:t?.work_center||(n===wt.BOTH?br.sections[0].fields[3].defaultValue:n),min_web_width:t?.min_web_width||br.sections[1].fields[0].defaultValue,max_web_width:t?.max_web_width||br.sections[1].fields[1].defaultValue,min_bag_height:t?.min_bag_height||br.sections[1].fields[2].defaultValue,max_bag_height:t?.max_bag_height||br.sections[1].fields[3].defaultValue,standard_speed:t?.standard_speed||"",setup_time_standard:t?.setup_time_standard||br.sections[2].fields[1].defaultValue,changeover_color:t?.changeover_color||br.sections[2].fields[2].defaultValue,changeover_material:t?.changeover_material||br.sections[2].fields[3].defaultValue,active_shifts:t?.active_shifts||br.sections[3].fields[0].defaultValue,status:t?.status||br.sections[3].fields[1].defaultValue}),[n,t]),d=async p=>{o?await s.mutateAsync({id:t.id,updates:p}):await r.mutateAsync(p),e&&e()},h=r.isPending||s.isPending;return C.jsx(Tp,{config:c,initialData:u,onSubmit:d,onSuccess:e,isEditMode:o,isLoading:h})}function h6({title:t,children:e}){return C.jsx("div",{className:"sticky top-0 z-10 bg-background border-b border-border px-2 py-3 mb-2",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("div",{className:"flex items-center",children:t&&C.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:t})}),e]})})}function wA(){const{id:t}=hp(),e=gs(),{getMachineById:n}=Er(),{selectedWorkCenter:i}=Mt(),{isLoading:r,isInitialized:s,init:o,cleanup:c}=ro(),u=!!t,d=u?n(t):null;return D.useEffect(()=>(s||o(),()=>{c()}),[o,s,c]),D.useEffect(()=>{u&&!r&&!d&&e("/machinery",{replace:!0})},[u,r,d,e]),r?C.jsx("div",{children:"Caricamento..."}):u&&!d?C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Macchina non trovata."}):i?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:u?`Modifica Macchina: ${d?.machine_name}`:"Aggiungi Nuova Macchina"}),u&&C.jsx(Ln,{to:`/machinery/${t}/calendar`,className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Visualizza Calendario"})]}),C.jsx(f6,{machineToEdit:d})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le macchine."})}function g6({machineId:t,currentDate:e,onSuccess:n}){const{setMachineUnavailability:i}=ds(),{showAlert:r}=Mt(),s=D.useMemo(()=>{const c=new Date,u=Wd(c,1);return{startDate:Kn(c,"yyyy-MM-dd"),endDate:Kn(u,"yyyy-MM-dd"),startTime:Fv.sections[0].fields[1].defaultValue,endTime:Fv.sections[0].fields[3].defaultValue}},[e]),o=async c=>{await i(t,c.startDate,c.endDate,c.startTime,c.endTime),r("Indisponibilità macchina impostata con successo!","success"),n&&n()};return C.jsx(Tp,{config:Fv,initialData:s,onSubmit:o,onSuccess:n,className:"p-1 bg-white rounded-lg shadow-sm border"})}var Ap,Fe,Ik,jk,Dc,Bo,SA,Pk,Lk,Ug={},Uk=[],p6=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Fa(t,e){for(var n in e)t[n]=e[n];return t}function zk(t){var e=t.parentNode;e&&e.removeChild(t)}function F(t,e,n){var i,r,s,o={};for(s in e)s=="key"?i=e[s]:s=="ref"?r=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Ap.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return gg(t,o,i,r,null)}function gg(t,e,n,i,r){var s={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++Ik};return r==null&&Fe.vnode!=null&&Fe.vnode(s),s}function wi(){return{current:null}}function qt(t){return t.children}function m6(t,e,n,i,r){var s;for(s in n)s==="children"||s==="key"||s in e||zg(t,s,null,n[s],i);for(s in e)r&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||zg(t,s,e[s],n[s],i)}function xA(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||p6.test(e)?n:n+"px"}function zg(t,e,n,i,r){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||xA(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||xA(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?i||t.addEventListener(e,s?CA:EA,s):t.removeEventListener(e,s?CA:EA,s);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function EA(t){Dc=!0;try{return this.l[t.type+!1](Fe.event?Fe.event(t):t)}finally{Dc=!1}}function CA(t){Dc=!0;try{return this.l[t.type+!0](Fe.event?Fe.event(t):t)}finally{Dc=!1}}function Ji(t,e){this.props=t,this.context=e}function Dd(t,e){if(e==null)return t.__?Dd(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Dd(t):null}function Fk(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Fk(t)}}function y6(t){Dc?setTimeout(t):Pk(t)}function r0(t){(!t.__d&&(t.__d=!0)&&Bo.push(t)&&!Fg.__r++||SA!==Fe.debounceRendering)&&((SA=Fe.debounceRendering)||y6)(Fg)}function Fg(){var t,e,n,i,r,s,o,c;for(Bo.sort(function(u,d){return u.__v.__b-d.__v.__b});t=Bo.shift();)t.__d&&(e=Bo.length,i=void 0,r=void 0,o=(s=(n=t).__v).__e,(c=n.__P)&&(i=[],(r=Fa({},s)).__v=s.__v+1,g_(c,s,r,n.__n,c.ownerSVGElement!==void 0,s.__h!=null?[o]:null,i,o??Dd(s),s.__h),qk(i,s),s.__e!=o&&Fk(s)),Bo.length>e&&Bo.sort(function(u,d){return u.__v.__b-d.__v.__b}));Fg.__r=0}function Hk(t,e,n,i,r,s,o,c,u,d){var h,p,y,m,b,_,S,x=i&&i.__k||Uk,T=x.length;for(n.__k=[],h=0;h<e.length;h++)if((m=n.__k[h]=(m=e[h])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?gg(null,m,null,null,m):Array.isArray(m)?gg(qt,{children:m},null,null,null):m.__b>0?gg(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(y=x[h])===null||y&&m.key==y.key&&m.type===y.type)x[h]=void 0;else for(p=0;p<T;p++){if((y=x[p])&&m.key==y.key&&m.type===y.type){x[p]=void 0;break}y=null}g_(t,m,y=y||Ug,r,s,o,c,u,d),b=m.__e,(p=m.ref)&&y.ref!=p&&(S||(S=[]),y.ref&&S.push(y.ref,null,m),S.push(p,m.__c||b,m)),b!=null?(_==null&&(_=b),typeof m.type=="function"&&m.__k===y.__k?m.__d=u=Bk(m,u,t):u=$k(t,m,y,x,b,u),typeof n.type=="function"&&(n.__d=u)):u&&y.__e==u&&u.parentNode!=t&&(u=Dd(y))}for(n.__e=_,h=T;h--;)x[h]!=null&&(typeof n.type=="function"&&x[h].__e!=null&&x[h].__e==n.__d&&(n.__d=Vk(i).nextSibling),Wk(x[h],x[h]));if(S)for(h=0;h<S.length;h++)Gk(S[h],S[++h],S[++h])}function Bk(t,e,n){for(var i,r=t.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=t,e=typeof i.type=="function"?Bk(i,e,n):$k(n,i,i,r,i.__e,e));return e}function Hg(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Hg(n,e)}):e.push(t)),e}function $k(t,e,n,i,r,s){var o,c,u;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(r),o=null;else{for(c=s,u=0;(c=c.nextSibling)&&u<i.length;u+=1)if(c==r)break e;t.insertBefore(r,s),o=s}return o!==void 0?o:r.nextSibling}function Vk(t){var e,n,i;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(i=Vk(n)))return i}return null}function g_(t,e,n,i,r,s,o,c,u){var d,h,p,y,m,b,_,S,x,T,A,k,O,P,N,M=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,c=e.__e=n.__e,e.__h=null,s=[c]),(d=Fe.__b)&&d(e);try{e:if(typeof M=="function"){if(S=e.props,x=(d=M.contextType)&&i[d.__c],T=d?x?x.props.value:d.__:i,n.__c?_=(h=e.__c=n.__c).__=h.__E:("prototype"in M&&M.prototype.render?e.__c=h=new M(S,T):(e.__c=h=new Ji(S,T),h.constructor=M,h.render=b6),x&&x.sub(h),h.props=S,h.state||(h.state={}),h.context=T,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),M.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Fa({},h.__s)),Fa(h.__s,M.getDerivedStateFromProps(S,h.__s))),y=h.props,m=h.state,h.__v=e,p)M.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(M.getDerivedStateFromProps==null&&S!==y&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(S,T),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(S,h.__s,T)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(h.props=S,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(B){B&&(B.__=e)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(S,h.__s,T),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(y,m,b)})}if(h.context=T,h.props=S,h.__P=t,k=Fe.__r,O=0,"prototype"in M&&M.prototype.render){for(h.state=h.__s,h.__d=!1,k&&k(e),d=h.render(h.props,h.state,h.context),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[]}else do h.__d=!1,k&&k(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++O<25);h.state=h.__s,h.getChildContext!=null&&(i=Fa(Fa({},i),h.getChildContext())),p||h.getSnapshotBeforeUpdate==null||(b=h.getSnapshotBeforeUpdate(y,m)),N=d!=null&&d.type===qt&&d.key==null?d.props.children:d,Hk(t,Array.isArray(N)?N:[N],e,n,i,r,s,o,c,u),h.base=e.__e,e.__h=null,h.__h.length&&o.push(h),_&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=v6(n.__e,e,n,i,r,s,o,u);(d=Fe.diffed)&&d(e)}catch(B){e.__v=null,(u||s!=null)&&(e.__e=c,e.__h=!!u,s[s.indexOf(c)]=null),Fe.__e(B,e,n)}}function qk(t,e){Fe.__c&&Fe.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){Fe.__e(i,n.__v)}})}function v6(t,e,n,i,r,s,o,c){var u,d,h,p=n.props,y=e.props,m=e.type,b=0;if(m==="svg"&&(r=!0),s!=null){for(;b<s.length;b++)if((u=s[b])&&"setAttribute"in u==!!m&&(m?u.localName===m:u.nodeType===3)){t=u,s[b]=null;break}}if(t==null){if(m===null)return document.createTextNode(y);t=r?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,y.is&&y),s=null,c=!1}if(m===null)p===y||c&&t.data===y||(t.data=y);else{if(s=s&&Ap.call(t.childNodes),d=(p=n.props||Ug).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!c){if(s!=null)for(p={},b=0;b<t.attributes.length;b++)p[t.attributes[b].name]=t.attributes[b].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(m6(t,y,p,r,c),h)e.__k=[];else if(b=e.props.children,Hk(t,Array.isArray(b)?b:[b],e,n,i,r&&m!=="foreignObject",s,o,s?s[0]:n.__k&&Dd(n,0),c),s!=null)for(b=s.length;b--;)s[b]!=null&&zk(s[b]);c||("value"in y&&(b=y.value)!==void 0&&(b!==t.value||m==="progress"&&!b||m==="option"&&b!==p.value)&&zg(t,"value",b,p.value,!1),"checked"in y&&(b=y.checked)!==void 0&&b!==t.checked&&zg(t,"checked",b,p.checked,!1))}return t}function Gk(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){Fe.__e(i,n)}}function Wk(t,e,n){var i,r;if(Fe.unmount&&Fe.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||Gk(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){Fe.__e(s,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&Wk(i[r],e,n||typeof t.type!="function");n||t.__e==null||zk(t.__e),t.__=t.__e=t.__d=void 0}function b6(t,e,n){return this.constructor(t,n)}function Od(t,e,n){var i,r,s;Fe.__&&Fe.__(t,e),r=(i=!1)?null:e.__k,s=[],g_(e,t=e.__k=F(qt,null,[t]),r||Ug,Ug,e.ownerSVGElement!==void 0,r?null:e.firstChild?Ap.call(e.childNodes):null,s,r?r.__e:e.firstChild,i),qk(s,t)}function _6(t,e){var n={__c:e="__cC"+Lk++,__:t,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(function(c){c.__e=!0,r0(c)})},this.sub=function(o){r.push(o);var c=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),c&&c.call(o)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}Ap=Uk.slice,Fe={__e:function(t,e,n,i){for(var r,s,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(t)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,i||{}),o=r.__d),o)return r.__E=r}catch(c){t=c}throw t}},Ik=0,jk=function(t){return t!=null&&t.constructor===void 0},Dc=!1,Ji.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Fa({},this.state),typeof t=="function"&&(t=t(Fa({},n),this.props)),t&&Fa(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),r0(this))},Ji.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),r0(this))},Ji.prototype.render=qt,Bo=[],Pk=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fg.__r=0,Lk=0;var cs,Hv,TA,Yk=[],Bv=[],AA=Fe.__b,RA=Fe.__r,DA=Fe.diffed,OA=Fe.__c,kA=Fe.unmount;function w6(){for(var t;t=Yk.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(pg),t.__H.__h.forEach(s0),t.__H.__h=[]}catch(e){t.__H.__h=[],Fe.__e(e,t.__v)}}Fe.__b=function(t){cs=null,AA&&AA(t)},Fe.__r=function(t){RA&&RA(t);var e=(cs=t.__c).__H;e&&(Hv===cs?(e.__h=[],cs.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Bv,n.__N=n.i=void 0})):(e.__h.forEach(pg),e.__h.forEach(s0),e.__h=[])),Hv=cs},Fe.diffed=function(t){DA&&DA(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Yk.push(e)!==1&&TA===Fe.requestAnimationFrame||((TA=Fe.requestAnimationFrame)||S6)(w6)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Bv&&(n.__=n.__V),n.i=void 0,n.__V=Bv})),Hv=cs=null},Fe.__c=function(t,e){e.some(function(n){try{n.__h.forEach(pg),n.__h=n.__h.filter(function(i){return!i.__||s0(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Fe.__e(i,n.__v)}}),OA&&OA(t,e)},Fe.unmount=function(t){kA&&kA(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{pg(i)}catch(r){e=r}}),n.__H=void 0,e&&Fe.__e(e,n.__v))};var MA=typeof requestAnimationFrame=="function";function S6(t){var e,n=function(){clearTimeout(i),MA&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);MA&&(e=requestAnimationFrame(n))}function pg(t){var e=cs,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),cs=e}function s0(t){var e=cs;t.__c=t.__(),cs=e}function x6(t,e){for(var n in e)t[n]=e[n];return t}function NA(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function IA(t){this.props=t}(IA.prototype=new Ji).isPureReactComponent=!0,IA.prototype.shouldComponentUpdate=function(t,e){return NA(this.props,t)||NA(this.state,e)};var jA=Fe.__b;Fe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),jA&&jA(t)};var E6=Fe.__e;Fe.__e=function(t,e,n,i){if(t.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}E6(t,e,n,i)};var PA=Fe.unmount;function Qk(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=x6({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return Qk(i,e,n)})),t}function Kk(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return Kk(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function $v(){this.__u=0,this.t=null,this.__b=null}function Xk(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Bh(){this.u=null,this.o=null}Fe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),PA&&PA(t)},($v.prototype=new Ji).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=Xk(i.__v),s=!1,o=function(){s||(s=!0,n.__R=null,r?r(c):c())};n.__R=o;var c=function(){if(!--i.__u){if(i.state.__a){var d=i.state.__a;i.__v.__k[0]=Kk(d,d.__c.__P,d.__c.__O)}var h;for(i.setState({__a:i.__b=null});h=i.t.pop();)h.forceUpdate()}},u=e.__h===!0;i.__u++||u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(o,o)},$v.prototype.componentWillUnmount=function(){this.t=[]},$v.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Qk(this.__b,n,i.__O=i.__P)}this.__b=null}var r=e.__a&&F(qt,null,t.fallback);return r&&(r.__h=null),[F(qt,null,e.__a?null:t.children),r]};var LA=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function C6(t){return this.getChildContext=function(){return t.context},t.children}function T6(t){var e=this,n=t.i;e.componentWillUnmount=function(){Od(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Od(F(C6,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function A6(t,e){var n=F(T6,{__v:t,i:e});return n.containerInfo=e,n}(Bh.prototype=new Ji).__a=function(t){var e=this,n=Xk(e.__v),i=e.o.get(t);return i[0]++,function(r){var s=function(){e.props.revealOrder?(i.push(r),LA(e,t,i)):r()};n?n(s):s()}},Bh.prototype.render=function(t){this.u=null,this.o=new Map;var e=Hg(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Bh.prototype.componentDidUpdate=Bh.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){LA(t,n,e)})};var R6=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,D6=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,O6=typeof document<"u",k6=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Ji.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ji.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var UA=Fe.event;function M6(){}function N6(){return this.cancelBubble}function I6(){return this.defaultPrevented}Fe.event=function(t){return UA&&(t=UA(t)),t.persist=M6,t.isPropagationStopped=N6,t.isDefaultPrevented=I6,t.nativeEvent=t};var zA={configurable:!0,get:function(){return this.class}},FA=Fe.vnode;Fe.vnode=function(t){var e=t.type,n=t.props,i=n;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var s in i={},n){var o=n[s];O6&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!k6(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&D6.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s]&&(s="oninputCapture")),i[s]=o)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Hg(n.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=Hg(n.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),t.props=i,n.class!=n.className&&(zA.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",zA))}t.$$typeof=R6,FA&&FA(t)};var HA=Fe.__r;Fe.__r=function(t){HA&&HA(t),t.__c};const Zk=[],a0=new Map;function Rp(t){Zk.push(t),a0.forEach(e=>{eM(e,t)})}function j6(t){t.isConnected&&t.getRootNode&&Jk(t.getRootNode())}function Jk(t){let e=a0.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=L6();n&&(e.nonce=n);const i=t===document?document.head:t,r=t===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}a0.set(t,e),P6(e)}}function P6(t){for(const e of Zk)eM(t,e)}function eM(t,e){const{sheet:n}=t,i=n.cssRules.length;e.split("}").forEach((r,s)=>{r=r.trim(),r&&n.insertRule(r+"}",i+s)})}let Vv;function L6(){return Vv===void 0&&(Vv=U6()),Vv}function U6(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Jk(document);var z6=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Rp(z6);class p_{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:i}=this;e in i&&(n?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function m_(t){t.parentNode&&t.parentNode.removeChild(t)}function hi(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(F6(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function F6(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function H6(t,e){let n=t instanceof HTMLElement?[t]:t,i=[];for(let r=0;r<n.length;r+=1){let s=n[r].querySelectorAll(e);for(let o=0;o<s.length;o+=1)i.push(s[o])}return i}const B6=/(top|left|right|bottom|width|height)$/i;function fd(t,e){for(let n in e)tM(t,n,e[n])}function tM(t,e,n){n==null?t.style[e]="":typeof n=="number"&&B6.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function nM(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let BA=0;function Ga(){return BA+=1,"fc-dom-"+BA}function Dp(t){t.preventDefault()}function $6(t,e){return n=>{let i=hi(n.target,t);i&&e.call(i,n,i)}}function iM(t,e,n,i){let r=$6(n,i);return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}function V6(t,e,n,i){let r;return iM(t,"mouseover",e,(s,o)=>{if(o!==r){r=o,n(s,o);let c=u=>{r=null,i(u,o),o.removeEventListener("mouseleave",c)};o.addEventListener("mouseleave",c)}})}const $A=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function q6(t,e){let n=i=>{e(i),$A.forEach(r=>{t.removeEventListener(r,n)})};$A.forEach(i=>{t.addEventListener(i,n)})}function rM(t){return Object.assign({onClick:t},sM(t))}function sM(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let VA=0;function ul(){return VA+=1,String(VA)}function y_(){document.body.classList.add("fc-not-allowed")}function v_(){document.body.classList.remove("fc-not-allowed")}function G6(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Dp)}function W6(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Dp)}function Y6(t){t.addEventListener("contextmenu",Dp)}function Q6(t){t.removeEventListener("contextmenu",Dp)}function K6(t){let e=[],n=[],i,r;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),i=0;i<n.length;i+=1)r=n[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function X6(t,e,n){let i,r;for(i=0;i<n.length;i+=1)if(r=Z6(t,e,n[i]),r)return r;return 0}function Z6(t,e,n){return n.func?n.func(t,e):J6(t[n.field],e[n.field])*(n.order||1)}function J6(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Sc(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function hd(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((i,r,s)=>i.replace("$"+s,r||""),t):n}function eq(t,e){return t-e}function mg(t){return t%1===0}function tq(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const qA=["years","months","days","milliseconds"],nq=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function _t(t,e){return typeof t=="string"?iq(t):typeof t=="object"&&t?GA(t):typeof t=="number"?GA({[e||"milliseconds"]:t}):null}function iq(t){let e=nq.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function GA(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function rq(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function o0(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function sq(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function aq(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function oq(t){return xc(t)/365}function lq(t){return xc(t)/30}function xc(t){return Br(t)/864e5}function Br(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function b_(t,e){let n=null;for(let i=0;i<qA.length;i+=1){let r=qA[i];if(e[r]){let s=t[r]/e[r];if(!mg(s)||n!==null&&n!==s)return null;n=s}else if(t[r])return null}return n}function l0(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Xa(t,e,n){if(t===e)return!0;let i=t.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(t[r],e[r]):t[r]===e[r]))return!1;return!0}const cq=["sun","mon","tue","wed","thu","fri","sat"];function WA(t,e){let n=Ha(t);return n[2]+=e*7,zi(n)}function kn(t,e){let n=Ha(t);return n[2]+=e,zi(n)}function Za(t,e){let n=Ha(t);return n[6]+=e,zi(n)}function uq(t,e){return ao(t,e)/7}function ao(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function dq(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function fq(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function hq(t,e){return(e.valueOf()-t.valueOf())/1e3}function gq(t,e){let n=Yt(t),i=Yt(e);return{years:0,months:0,days:Math.round(ao(n,i)),milliseconds:e.valueOf()-i.valueOf()-(t.valueOf()-n.valueOf())}}function pq(t,e){let n=Bg(t,e);return n!==null&&n%7===0?n/7:null}function Bg(t,e){return Ba(t)===Ba(e)?Math.round(ao(t,e)):null}function Yt(t){return zi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function mq(t){return zi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function yq(t){return zi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function vq(t){return zi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function bq(t,e,n){let i=t.getUTCFullYear(),r=qv(t,i,e,n);if(r<1)return qv(t,i-1,e,n);let s=qv(t,i+1,e,n);return s>=1?Math.min(r,s):r}function qv(t,e,n,i){let r=zi([e,0,1+_q(e,n,i)]),s=Yt(t),o=Math.round(ao(r,s));return Math.floor(o/7)+1}function _q(t,e,n){let i=7+e-n;return-((7+zi([t,0,i]).getUTCDay()-e)%7)+i-1}function YA(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function QA(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Ha(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function zi(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function aM(t){return!isNaN(t.valueOf())}function Ba(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function oM(t,e,n=!1){let i=t.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",__(e,!0)))),i}function Kd(t){return t.toISOString().replace(/T.*$/,"")}function wq(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Sq(t){return Sc(t.getUTCHours(),2)+":"+Sc(t.getUTCMinutes(),2)+":"+Sc(t.getUTCSeconds(),2)}function __(t,e=!1){let n=t<0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),s=Math.round(i%60);return e?`${n+Sc(r,2)}:${Sc(s,2)}`:`GMT${n}${r}${s?`:${Sc(s,2)}`:""}`}function Ue(t,e,n){let i,r;return function(...s){if(!i)r=t.apply(this,s);else if(!Xa(i,s)){let o=t.apply(this,s);(!e||!e(o,r))&&(r=o)}return i=s,r}}function yg(t,e,n){let i,r;return s=>(i?Gr(i,s)||(r=t.call(this,s)):r=t.call(this,s),i=s,r)}const Gv={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},$g={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},$h=/\s*([ap])\.?m\.?/i,xq=/,/g,Eq=/\s+/g,Cq=/\u200e/g,Tq=/UTC|GMT/;class Aq{constructor(e){let n={},i={},r=9;for(let s in e)s in Gv?(i[s]=e[s],Gv[s]<9&&(r=Math.min(Gv[s],r))):(n[s]=e[s],s in $g&&(r=Math.min($g[s],r)));this.standardDateProps=n,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=Ue(KA)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,i,r){let{standardDateProps:s,extendedSettings:o}=this,c=Nq(e.marker,n.marker,i.calendarSystem);if(!c)return this.format(e,i);let u=c;u>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(u=1);let d=this.format(e,i),h=this.format(n,i);if(d===h)return d;let p=Iq(s,u),y=KA(p,o,i),m=y(e),b=y(n),_=jq(d,m,h,b),S=o.separator||r||i.defaultSeparator||"";return _?_.before+m+S+b+_.after:d+S+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function KA(t,e,n){let i=Object.keys(t).length;return i===1&&t.timeZoneName==="short"?r=>__(r.timeZoneOffset):i===0&&e.week?r=>Mq(n.computeWeekNumber(r.marker),n.weekText,n.weekTextLong,n.locale,e.week):Rq(t,e,n)}function Rq(t,e,n){t=Object.assign({},t),e=Object.assign({},e),Dq(t,e),t.timeZone="UTC";let i=new Intl.DateTimeFormat(n.locale.codes,t),r;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,r=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,c;r&&!o.getUTCMinutes()?c=r:c=i;let u=c.format(o);return Oq(u,s,t,e,n)}}function Dq(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Oq(t,e,n,i,r){return t=t.replace(Cq,""),n.timeZoneName==="short"&&(t=kq(t,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":__(e.timeZoneOffset))),i.omitCommas&&(t=t.replace(xq,"").trim()),i.omitZeroMinute&&(t=t.replace(":00","")),i.meridiem===!1?t=t.replace($h,"").trim():i.meridiem==="narrow"?t=t.replace($h,(s,o)=>o.toLocaleLowerCase()):i.meridiem==="short"?t=t.replace($h,(s,o)=>`${o.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(t=t.replace($h,s=>s.toLocaleLowerCase())),t=t.replace(Eq," "),t=t.trim(),t}function kq(t,e){let n=!1;return t=t.replace(Tq,()=>(n=!0,e)),n||(t+=` ${e}`),t}function Mq(t,e,n,i,r){let s=[];return r==="long"?s.push(n):(r==="short"||r==="narrow")&&s.push(e),(r==="long"||r==="short")&&s.push(" "),s.push(i.simpleNumberFormat.format(t)),i.options.direction==="rtl"&&s.reverse(),s.join("")}function Nq(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Ba(t)!==Ba(e)?1:0}function Iq(t,e){let n={};for(let i in t)(!(i in $g)||$g[i]<=e)&&(n[i]=t[i]);return n}function jq(t,e,n,i){let r=0;for(;r<t.length;){let s=t.indexOf(e,r);if(s===-1)break;let o=t.substr(0,s);r=s+e.length;let c=t.substr(r),u=0;for(;u<n.length;){let d=n.indexOf(i,u);if(d===-1)break;let h=n.substr(0,d);u=d+i.length;let p=n.substr(u);if(o===h&&c===p)return{before:o,after:c}}}return null}function XA(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Vg(t,e,n,i){let r=XA(t,n.calendarSystem),s=e?XA(e,n.calendarSystem):null;return{date:r,start:r,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}class Pq{constructor(e){this.cmdStr=e}format(e,n,i){return n.cmdFormatter(this.cmdStr,Vg(e,null,n,i))}formatRange(e,n,i,r){return i.cmdFormatter(this.cmdStr,Vg(e,n,i,r))}}class Lq{constructor(e){this.func=e}format(e,n,i){return this.func(Vg(e,null,n,i))}formatRange(e,n,i,r){return this.func(Vg(e,n,i,r))}}function rn(t){return typeof t=="object"&&t?new Aq(t):typeof t=="string"?new Pq(t):typeof t=="function"?new Lq(t):null}const ZA={navLinkDayClick:oe,navLinkWeekClick:oe,duration:_t,bootstrapFontAwesome:oe,buttonIcons:oe,customButtons:oe,defaultAllDayEventDuration:_t,defaultTimedEventDuration:_t,nextDayThreshold:_t,scrollTime:_t,scrollTimeReset:Boolean,slotMinTime:_t,slotMaxTime:_t,dayPopoverFormat:rn,slotDuration:_t,snapDuration:_t,headerToolbar:oe,footerToolbar:oe,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:rn,dayHeaderClassNames:oe,dayHeaderContent:oe,dayHeaderDidMount:oe,dayHeaderWillUnmount:oe,dayCellClassNames:oe,dayCellContent:oe,dayCellDidMount:oe,dayCellWillUnmount:oe,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:oe,weekNumbers:Boolean,weekNumberClassNames:oe,weekNumberContent:oe,weekNumberDidMount:oe,weekNumberWillUnmount:oe,editable:Boolean,viewClassNames:oe,viewDidMount:oe,viewWillUnmount:oe,nowIndicator:Boolean,nowIndicatorSnap:oe,nowIndicatorClassNames:oe,nowIndicatorContent:oe,nowIndicatorDidMount:oe,nowIndicatorWillUnmount:oe,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:oe,locale:oe,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:oe,eventOrder:K6,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:oe,contentHeight:oe,direction:String,weekNumberFormat:rn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:oe,initialDate:oe,now:oe,eventDataTransform:oe,stickyHeaderDates:oe,stickyFooterScrollbar:oe,viewHeight:oe,defaultAllDay:Boolean,eventSourceFailure:oe,eventSourceSuccess:oe,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:oe,eventConstraint:oe,eventAllow:oe,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:oe,eventContent:oe,eventDidMount:oe,eventWillUnmount:oe,selectConstraint:oe,selectOverlap:oe,selectAllow:oe,droppable:Boolean,unselectCancel:String,slotLabelFormat:oe,slotLaneClassNames:oe,slotLaneContent:oe,slotLaneDidMount:oe,slotLaneWillUnmount:oe,slotLabelClassNames:oe,slotLabelContent:oe,slotLabelDidMount:oe,slotLabelWillUnmount:oe,dayMaxEvents:oe,dayMaxEventRows:oe,dayMinWidth:Number,slotLabelInterval:_t,allDayText:String,allDayClassNames:oe,allDayContent:oe,allDayDidMount:oe,allDayWillUnmount:oe,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:rn,rerenderDelay:Number,moreLinkText:oe,moreLinkHint:oe,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:oe,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:_t,hiddenDays:oe,fixedWeekCount:Boolean,validRange:oe,visibleRange:oe,titleFormat:oe,eventInteractive:Boolean,noEventsText:String,viewHint:oe,navLinkHint:oe,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:oe,moreLinkClassNames:oe,moreLinkContent:oe,moreLinkDidMount:oe,moreLinkWillUnmount:oe,monthStartFormat:rn,handleCustomRendering:oe,customRenderingMetaMap:oe,customRenderingReplaces:Boolean},gd={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},JA={datesSet:oe,eventsSet:oe,eventAdd:oe,eventChange:oe,eventRemove:oe,windowResize:oe,eventClick:oe,eventMouseEnter:oe,eventMouseLeave:oe,select:oe,unselect:oe,loading:oe,_unmount:oe,_beforeprint:oe,_afterprint:oe,_noEventDrop:oe,_noEventResize:oe,_resize:oe,_scrollRequest:oe},eR={buttonText:oe,buttonHints:oe,views:oe,plugins:oe,initialEvents:oe,events:oe,eventSources:oe},Po={headerToolbar:Lo,footerToolbar:Lo,buttonText:Lo,buttonHints:Lo,buttonIcons:Lo,dateIncrement:Lo,plugins:Vh,events:Vh,eventSources:Vh,resources:Vh};function Lo(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Gr(t,e):t===e}function Vh(t,e){return Array.isArray(t)&&Array.isArray(e)?Xa(t,e):t===e}const Uq={type:String,component:oe,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:oe,usesMinMaxTime:Boolean,classNames:oe,content:oe,didMount:oe,willUnmount:oe};function Wv(t){return S_(t,Po)}function w_(t,e){let n={},i={};for(let r in e)r in t&&(n[r]=e[r](t[r]));for(let r in t)r in e||(i[r]=t[r]);return{refined:n,extra:i}}function oe(t){return t}const{hasOwnProperty:qg}=Object.prototype;function S_(t,e){let n={};if(e){for(let i in e)if(e[i]===Lo){let r=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][i];if(typeof o=="object"&&o)r.unshift(o);else if(o!==void 0){n[i]=o;break}}r.length&&(n[i]=S_(r))}}for(let i=t.length-1;i>=0;i-=1){let r=t[i];for(let s in r)s in n||(n[s]=r[s])}return n}function tl(t,e){let n={};for(let i in t)e(t[i],i)&&(n[i]=t[i]);return n}function ea(t,e){let n={};for(let i in t)n[i]=e(t[i],i);return n}function lM(t){let e={};for(let n of t)e[n]=!0;return e}function x_(t){let e=[];for(let n in t)e.push(t[n]);return e}function Gr(t,e){if(t===e)return!0;for(let n in t)if(qg.call(t,n)&&!(n in e))return!1;for(let n in e)if(qg.call(e,n)&&t[n]!==e[n])return!1;return!0}const zq=/^on[A-Z]/;function Fq(t,e){const n=Hq(t,e);for(let i of n)if(!zq.test(i))return!1;return!0}function Hq(t,e){let n=[];for(let i in t)qg.call(t,i)&&(i in e||n.push(i));for(let i in e)qg.call(e,i)&&t[i]!==e[i]&&n.push(i);return n}function Yv(t,e,n={}){if(t===e)return!0;for(let i in e)if(!(i in t&&Bq(t[i],e[i],n[i])))return!1;for(let i in t)if(!(i in e))return!1;return!0}function Bq(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function $q(t,e=0,n,i=1){let r=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=i){let o=t[s];o!==void 0&&r.push(o)}return r}let cM={};function Vq(t,e){cM[t]=e}function qq(t){return new cM[t]}class Gq{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return zi(e)}markerToArray(e){return Ha(e)}}Vq("gregory",Gq);const Wq=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Yq(t){let e=Wq.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(aM(n)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class Qq{constructor(e){let n=this.timeZone=e.timeZone,i=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=qq(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):zi(YA(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=zi(e)),n===null||!aM(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=Yq(e);if(n===null)return null;let{marker:i}=n,r=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-n.timeZoneOffset*60*1e3):r=n.timeZoneOffset),{marker:i,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n.years,i[1]+=n.months,i[2]+=n.days,i[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]-=n.years,i[1]-=n.months,i[2]-=n.days,i[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n,this.calendarSystem.arrayToMarker(i)}addMonths(e,n){let i=this.calendarSystem.markerToArray(e);return i[1]+=n,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,n){let{calendarSystem:i}=this;return Ba(e)===Ba(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)&&i.getMarkerMonth(e)===i.getMarkerMonth(n)?i.getMarkerYear(n)-i.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:i}=this;return Ba(e)===Ba(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)?i.getMarkerMonth(n)-i.getMarkerMonth(e)+(i.getMarkerYear(n)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let i=this.diffWholeYears(e,n);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,n),i!==null?{unit:"month",value:i}:(i=pq(e,n),i!==null?{unit:"week",value:i}:(i=Bg(e,n),i!==null?{unit:"day",value:i}:(i=dq(e,n),mg(i)?{unit:"hour",value:i}:(i=fq(e,n),mg(i)?{unit:"minute",value:i}:(i=hq(e,n),mg(i)?{unit:"second",value:i}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,i){let r;return i.years&&(r=this.diffWholeYears(e,n),r!==null)?r/oq(i):i.months&&(r=this.diffWholeMonths(e,n),r!==null)?r/lq(i):i.days&&(r=Bg(e,n),r!==null)?r/xc(i):(n.valueOf()-e.valueOf())/Br(i)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Yt(e):n==="hour"?mq(e):n==="minute"?yq(e):n==="second"?vq(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):bq(e,this.weekDow,this.weekDoy)}format(e,n,i={}){return n.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,i,r={}){return r.isEndExclusive&&(n=Za(n,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(n)},this,r.defaultSeparator)}formatIso(e,n={}){let i=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?i=n.forcedTzo:i=this.offsetForMarker(e)),oM(e,i,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?zi(YA(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):zi(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-QA(Ha(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ha(e)):null}toDate(e,n){return this.timeZone==="local"?QA(Ha(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ha(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Xd{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,i;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(i in e)n[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let i;return n&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Xd.prototype.classes={};Xd.prototype.iconClasses={};Xd.prototype.baseIconClass="";Xd.prototype.iconOverridePrefix="";function Gg(t){t();let e=Fe.debounceRendering,n=[];function i(r){n.push(r)}for(Fe.debounceRendering=i,Od(F(Kq,{}),document.createElement("div"));n.length;)n.shift()();Fe.debounceRendering=e}class Kq extends Ji{render(){return F("div",{})}componentDidMount(){this.setState({})}}function uM(t){let e=_6(t),n=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=n.apply(this,arguments);if(i){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(c=>{c.context=o.value,c.forceUpdate()})},this.sub=o=>{s.push(o);let c=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),c&&c.call(o)}}}return r},e}class Xq{constructor(e,n,i,r){this.execFunc=e,this.emitter=n,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ra=uM({});function Zq(t,e,n,i,r,s,o,c,u,d,h,p,y,m){return{dateEnv:r,nowManager:s,options:n,pluginHooks:c,emitter:h,dispatch:u,getCurrentData:d,calendarApi:p,viewSpec:t,viewApi:e,dateProfileGenerator:i,theme:o,isRtl:n.direction==="rtl",addResizeHandler(b){h.on("_resize",b)},removeResizeHandler(b){h.off("_resize",b)},createScrollResponder(b){return new Xq(b,h,_t(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:y,unregisterInteractiveComponent:m}}class dl extends Ji{shouldComponentUpdate(e,n){return!Yv(this.props,e,this.propEquality)||!Yv(this.state,n,this.stateEquality)}safeSetState(e){Yv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}dl.addPropsEquality=Jq;dl.addStateEquality=eG;dl.contextType=ra;dl.prototype.propEquality={};dl.prototype.stateEquality={};class Ot extends dl{}Ot.contextType=ra;function Jq(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function eG(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function hs(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class E_ extends Ot{constructor(){super(...arguments),this.id=ul(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:i}=this.props;(!n.customRenderingReplaces||!c0(i,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&hs(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:i}=n,{customGenerator:r,defaultGenerator:s,renderProps:o}=e,c=dM(e,[],this.handleEl);let u=!1,d,h=[],p;if(r!=null){const y=typeof r=="function"?r(o,F):r;if(y===!0)u=!0;else{const m=y&&typeof y=="object";m&&"html"in y?c.dangerouslySetInnerHTML={__html:y.html}:m&&"domNodes"in y?h=Array.prototype.slice.call(y.domNodes):(m?jk(y):typeof y!="function")?d=y:p=y}}else u=!c0(e.generatorName,i);return u&&s&&(d=s(o)),this.queuedDomNodes=h,this.currentGeneratorMeta=p,F(e.elTag,c,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:i,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=r.options;if(s){const c=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o?.[i.generatorName];c&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:c},i),{elClasses:(i.elClasses||[]).filter(tG)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,i=this.base;if(!Xa(e,n)){n.forEach(m_);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}E_.addPropsEquality({elClasses:Xa,elStyle:Gr,elAttrs:Fq,renderProps:Gr});function c0(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function dM(t,e,n){const i=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(i.className=(t.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),t.elStyle&&(i.style=t.elStyle),i}function tG(t){return!!t}const fM=uM(0);class pi extends Ji{constructor(){super(...arguments),this.InnerContent=nG.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(hs(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=iG(e.classNameGenerator,e.renderProps);if(e.children){const i=dM(e,n,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?F(e.elTag,i,r):r}else return F(E_,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}pi.contextType=fM;function nG(t,e){const n=t.props;return F(E_,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function iG(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class kd extends Ot{render(){let{props:e,context:n}=this,{options:i}=n,r={view:n.viewApi};return F(pi,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...hM(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>e.children)}}function hM(t){return[`fc-${t.type}-view`,"fc-view"]}function rG(t,e){let n=null,i=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(i=e.createMarker(t.end)),!n&&!i||n&&i&&i<n?null:{start:n,end:i}}function tR(t,e){let n=[],{start:i}=e,r,s;for(t.sort(sG),r=0;r<t.length;r+=1)s=t[r],s.start>i&&n.push({start:i,end:s.start}),s.end>i&&(i=s.end);return i<e.end&&n.push({start:i,end:e.end}),n}function sG(t,e){return t.start.valueOf()-e.start.valueOf()}function Ja(t,e){let{start:n,end:i}=t,r=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(n===null||i===null||n<i)&&(r={start:n,end:i}),r}function aG(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function C_(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Op(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Xs(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function oG(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function gM(t){let e=Math.floor(ao(t.start,t.end))||1,n=Yt(t.start),i=kn(n,e);return{start:n,end:i}}function T_(t,e=_t(0)){let n=null,i=null;if(t.end){i=Yt(t.end);let r=t.end.valueOf()-i.valueOf();r&&r>=Br(e)&&(i=kn(i,1))}return t.start&&(n=Yt(t.start),i&&i<=n&&(i=kn(n,1))),{start:n,end:i}}function lG(t){let e=T_(t);return ao(e.start,e.end)>1}function mc(t,e,n,i){return i==="year"?_t(n.diffWholeYears(t,e),"year"):i==="month"?_t(n.diffWholeMonths(t,e),"month"):gq(t,e)}class pM{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,i){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,i)}buildNext(e,n,i){let{dateEnv:r}=this.props,s=r.add(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,i)}build(e,n,i=!0){let{props:r}=this,s,o,c,u,d,h;return s=this.buildValidRange(),s=this.trimHiddenDays(s),i&&(e=oG(e,s)),o=this.buildCurrentRangeInfo(e,n),c=/^(year|month|week|day)$/.test(o.unit),u=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,c),u=this.trimHiddenDays(u),d=u,r.showNonCurrentDates||(d=Ja(d,o.range)),d=this.adjustActiveRange(d),d=Ja(d,s),h=C_(o.range,s),Xs(u,e)||(e=u.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:c,activeRange:d,renderRange:u,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:h,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:i}=this,r=null,s=null,o=null,c;return i.duration?(r=i.duration,s=i.durationUnit,o=this.buildRangeFromDuration(e,n,r,s)):(c=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,c)):(o=this.buildCustomVisibleRange(e))?s=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(r=this.getFallbackDuration(),s=l0(r).unit,o=this.buildRangeFromDuration(e,n,r,s)),{duration:r,unit:s,range:o}}getFallbackDuration(){return _t({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:s}=this.props,{start:o,end:c}=e;return i&&(xc(r)<0&&(o=Yt(o),o=n.add(o,r)),xc(s)>1&&(c=Yt(c),c=kn(c,-1),c=n.add(c,s))),{start:o,end:c}}buildRangeFromDuration(e,n,i,r){let{dateEnv:s,dateAlignment:o}=this.props,c,u,d;if(!o){let{dateIncrement:p}=this.props;p&&Br(p)<Br(i)?o=l0(p).unit:o=r}xc(i)<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,n),c=Yt(c));function h(){c=s.startOf(e,o),u=s.add(c,i),d={start:c,end:u}}return h(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),h()),d}buildRangeFromDayCount(e,n,i){let{dateEnv:r,dateAlignment:s}=this.props,o=0,c=e,u;s&&(c=r.startOf(c,s)),c=Yt(c),c=this.skipHiddenDays(c,n),u=c;do u=kn(u,1),this.isHiddenDay(u)||(o+=1);while(o<i);return{start:c,end:u}}buildCustomVisibleRange(e){let{props:n}=this,i=n.visibleRangeInput,r=typeof i=="function"?i.call(n.calendarApi,n.dateEnv.toDate(e)):i,s=this.refineRange(r);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,i){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,i;return n||((i=this.props.dateAlignment)?_t(1,i):e||_t({days:1}))}refineRange(e){if(e){let n=rG(e,this.props.dateEnv);return n&&(n=T_(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(n[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:i}=e;return n&&(n=this.skipHiddenDays(n)),i&&(i=this.skipHiddenDays(i,-1,!0)),n==null||i==null||n<i?{start:n,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?n:0)+7)%7];)e=kn(e,n);return e}}function A_(t,e,n,i){return{instanceId:ul(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:i??null}}function cG(t,e,n,i){for(let r=0;r<i.length;r+=1){let s=i[r].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}function nl(t,e,n){let{dateEnv:i,pluginHooks:r,options:s}=n,{defs:o,instances:c}=t;c=tl(c,u=>!o[u.defId].recurringDef);for(let u in o){let d=o[u];if(d.recurringDef){let{duration:h}=d.recurringDef;h||(h=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let p=uG(d,h,e,i,r.recurringTypes);for(let y of p){let m=A_(u,{start:y,end:i.add(y,h)});c[m.instanceId]=m}}}return{defs:o,instances:c}}function uG(t,e,n,i,r){let o=r[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:i.subtract(n.start,e),end:n.end},i);return t.allDay&&(o=o.map(Yt)),o}const vg={id:String,groupId:String,title:String,url:String,interactive:Boolean},mM={start:oe,end:oe,date:oe,allDay:Boolean},dG=Object.assign(Object.assign(Object.assign({},vg),mM),{extendedProps:oe});function yM(t,e,n,i,r=R_(n),s,o){let{refined:c,extra:u}=vM(t,n,r),d=hG(e,n),h=cG(c,d,n.dateEnv,n.pluginHooks.recurringTypes);if(h){let y=u0(c,u,e?e.sourceId:"",h.allDay,!!h.duration,n,s);return y.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:y,instance:null}}let p=fG(c,d,n,i);if(p){let y=u0(c,u,e?e.sourceId:"",p.allDay,p.hasEnd,n,s),m=A_(y.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return o&&y.publicId&&o[y.publicId]&&(m.instanceId=o[y.publicId]),{def:y,instance:m}}return null}function vM(t,e,n=R_(e)){return w_(t,n)}function R_(t){return Object.assign(Object.assign(Object.assign({},Wg),dG),t.pluginHooks.eventRefiners)}function u0(t,e,n,i,r,s,o){let c={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||ul(),sourceId:n,allDay:i,hasEnd:r,interactive:t.interactive,ui:Yg(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let u of s.pluginHooks.eventDefMemberAdders)Object.assign(c,u(t));return Object.freeze(c.ui.classNames),Object.freeze(c.extendedProps),c}function fG(t,e,n,i){let{allDay:r}=t,s,o=null,c=!1,u,d=null,h=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(h),s)o=s.marker;else if(!i)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),r==null&&(e!=null?r=e:r=(!s||s.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),r&&o&&(o=Yt(o)),u&&(d=u.marker,r&&(d=Yt(d)),o&&d<=o&&(d=null)),d?c=!0:i||(c=n.options.forceEventDuration||!1,d=n.dateEnv.add(o,r?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:r,hasEnd:c,range:{start:o,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function hG(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Md(t,e,n,i,r,s){let o=er(),c=R_(n);for(let u of t){let d=yM(u,e,n,i,c,r,s);d&&d0(d,o)}return o}function d0(t,e=er()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function D_(t,e){let n=t.instances[e];if(n){let i=t.defs[n.defId],r=kp(t,s=>gG(i,s));return r.defs[i.defId]=i,r.instances[n.instanceId]=n,r}return er()}function gG(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function er(){return{defs:{},instances:{}}}function O_(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function kp(t,e){let n=tl(t.defs,e),i=tl(t.instances,r=>n[r.defId]);return{defs:n,instances:i}}function pG(t,e){let{defs:n,instances:i}=t,r={},s={};for(let o in n)e.defs[o]||(r[o]=n[o]);for(let o in i)!e.instances[o]&&r[i[o].defId]&&(s[o]=i[o]);return{defs:r,instances:s}}function mG(t,e){return Array.isArray(t)?Md(t,null,e,!0):typeof t=="object"&&t?Md([t],null,e,!0):t!=null?String(t):null}function nR(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Wg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:oe,overlap:oe,allow:oe,className:nR,classNames:nR,color:String,backgroundColor:String,borderColor:String,textColor:String},yG={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Yg(t,e){let n=mG(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function bM(t){return t.reduce(vG,yG)}function vG(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const bG={id:String,defaultAllDay:Boolean,url:String,format:String,events:oe,eventDataTransform:oe,success:oe,failure:oe};function _M(t,e,n=wM(e)){let i;if(typeof t=="string"?i={url:t}:typeof t=="function"||Array.isArray(t)?i={events:t}:typeof t=="object"&&t&&(i=t),i){let{refined:r,extra:s}=w_(i,n),o=_G(r,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:ul(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Yg(r,e),extendedProps:s}}return null}function wM(t){return Object.assign(Object.assign(Object.assign({},Wg),bG),t.pluginHooks.eventSourceRefiners)}function _G(t,e){let n=e.pluginHooks.eventSourceDefs;for(let i=n.length-1;i>=0;i-=1){let s=n[i].parseMeta(t);if(s)return{sourceDefId:i,meta:s}}return null}function wG(t,e,n,i,r){switch(e.type){case"RECEIVE_EVENTS":return SG(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return xG(t,n[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return EG(t,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return O_(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?nl(t,i.activeRange,r):t;case"REMOVE_EVENTS":return pG(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return xM(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return kp(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return er();default:return t}}function SG(t,e,n,i,r,s){if(e&&n===e.latestFetchId){let o=Md(SM(r,e,s),e,s);return i&&(o=nl(o,i,s)),O_(xM(t,e.sourceId),o)}return t}function xG(t,e,n,i,r){const{defIdMap:s,instanceIdMap:o}=TG(t);let c=Md(SM(n,e,r),e,r,!1,s,o);return nl(c,i,r)}function SM(t,e,n){let i=n.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(t=iR(t,r)),i&&(t=iR(t,i)),t}function iR(t,e){let n;if(!e)n=t;else{n=[];for(let i of t){let r=e(i);r?n.push(r):r==null&&n.push(i)}}return n}function EG(t,e,n,i){return n&&(e=nl(e,n,i)),O_(t,e)}function rR(t,e,n){let{defs:i}=t,r=ea(t.instances,s=>i[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:i,instances:r}}function xM(t,e){return kp(t,n=>n.sourceId!==e)}function CG(t,e){return{defs:t.defs,instances:tl(t.instances,n=>!e[n.instanceId])}}function TG(t){const{defs:e,instances:n}=t,i={},r={};for(let s in e){const o=e[s],{publicId:c}=o;c&&(i[c]=s)}for(let s in n){const o=n[s],c=e[o.defId],{publicId:u}=c;u&&(r[u]=s)}return{defIdMap:i,instanceIdMap:r}}class Mp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){AG(this.handlers,e,n)}off(e,n){RG(this.handlers,e,n)}trigger(e,...n){let i=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],i);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function AG(t,e,n){(t[e]||(t[e]=[])).push(n)}function RG(t,e,n){n?t[e]&&(t[e]=t[e].filter(i=>i!==n)):delete t[e]}const DG={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function OG(t,e){return Md(kG(t),null,e)}function kG(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},DG),n)),e}function EM(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},k_(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function MG(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function k_(t,e){let n={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(n,i(t,e));return Object.assign(n,GG(t,e.dateEnv)),n}function sR(t,e,n){let{dateEnv:i,options:r}=n,s=e;return t?(s=Yt(s),s=i.add(s,r.defaultAllDayEventDuration)):s=i.add(s,r.defaultTimedEventDuration),s}function M_(t,e,n,i){let r=Qg(t.defs,e),s=er();for(let o in t.defs){let c=t.defs[o];s.defs[o]=NG(c,r[o],n,i)}for(let o in t.instances){let c=t.instances[o],u=s.defs[c.defId];s.instances[o]=IG(c,u,r[c.defId],n,i)}return s}function NG(t,e,n,i){let r=n.standardProps||{};r.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),r),{ui:Object.assign(Object.assign({},t.ui),r.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of i.pluginHooks.eventDefMutationAppliers)o(s,n,i);return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function IG(t,e,n,i,r){let{dateEnv:s}=r,o=i.standardProps&&i.standardProps.allDay===!0,c=i.standardProps&&i.standardProps.hasEnd===!1,u=Object.assign({},t);return o&&(u.range=gM(u.range)),i.datesDelta&&n.startEditable&&(u.range={start:s.add(u.range.start,i.datesDelta),end:s.add(u.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(u.range={start:s.add(u.range.start,i.startDelta),end:u.range.end}),i.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:s.add(u.range.end,i.endDelta)}),c&&(u.range={start:u.range.start,end:sR(e.allDay,u.range.start,r)}),e.allDay&&(u.range={start:Yt(u.range.start),end:Yt(u.range.end)}),u.range.end<u.range.start&&(u.range.end=sR(e.allDay,u.range.start,r)),u}class fc{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ln{constructor(e,n,i){this._context=e,this._def=n,this._instance=i||null}setProp(e,n){if(e in mM)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=vg[e](n),this.mutate({standardProps:{publicId:n}});else if(e in vg)n=vg[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Wg){let i=Wg[e](n);e==="color"?i={backgroundColor:n,borderColor:n}:e==="editable"?i={startEditable:n,durationEditable:n}:i={[e]:n},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let s=this._instance.range,o=mc(s.start,r,i,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let s=mc(this._instance.range.end,r,i,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,i={}){let{dateEnv:r}=this._context,s={allDay:i.allDay},o=r.createMarker(e),c;if(o&&!(n!=null&&(c=r.createMarker(n),!c))&&this._instance){let u=this._instance.range;i.allDay===!0&&(u=gM(u));let d=mc(u.start,o,r,i.granularity);if(c){let h=mc(u.end,c,r,i.granularity);rq(d,h)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:h,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let n=_t(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=_t(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=_t(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let i={allDay:e},{maintainDuration:r}=n;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:n}=this._context,i=this._instance,r=rn(e);return this._def.hasEnd?n.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):n.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let i=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),o=D_(s,n.instanceId);o=M_(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let u=new ln(r,i,n);this._def=o.defs[i.defId],this._instance=o.instances[n.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:o}),r.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:Qo(o,r,n),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=CM(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new fc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:i}=n,{startStr:r,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),r&&(o.start=r),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),i.display&&i.display!=="auto"&&(o.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function CM(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Qo(t,e,n){let{defs:i,instances:r}=t,s=[],o=n?n.instanceId:"";for(let c in r){let u=r[c],d=i[u.defId];u.instanceId!==o&&s.push(new ln(e,d,u))}return s}function f0(t,e,n,i){let r={},s={},o={},c=[],u=[],d=Qg(t.defs,e);for(let h in t.defs){let p=t.defs[h];d[p.defId].display==="inverse-background"&&(p.groupId?(r[p.groupId]=[],o[p.groupId]||(o[p.groupId]=p)):s[h]=[])}for(let h in t.instances){let p=t.instances[h],y=t.defs[p.defId],m=d[y.defId],b=p.range,_=!y.allDay&&i?T_(b,i):b,S=Ja(_,n);S&&(m.display==="inverse-background"?y.groupId?r[y.groupId].push(S):s[p.defId].push(S):m.display!=="none"&&(m.display==="background"?c:u).push({def:y,ui:m,instance:p,range:S,isStart:_.start&&_.start.valueOf()===S.start.valueOf(),isEnd:_.end&&_.end.valueOf()===S.end.valueOf()}))}for(let h in r){let p=r[h],y=tR(p,n);for(let m of y){let b=o[h],_=d[b.defId];c.push({def:b,ui:_,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let h in s){let p=s[h],y=tR(p,n);for(let m of y)c.push({def:t.defs[h],ui:d[h],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:c,fg:u}}function jG(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function aR(t,e){t.fcSeg=e}function Oc(t){return t.fcSeg||t.parentNode.fcSeg||null}function Qg(t,e){return ea(t,n=>TM(n,e))}function TM(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),bM(n)}function N_(t,e){let n=t.map(PG);return n.sort((i,r)=>X6(i,r,e)),n.map(i=>i._seg)}function PG(t){let{eventRange:e}=t,n=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:r,end:s,duration:s-r,allDay:Number(n.allDay),_seg:t})}function LG(t,e){let{pluginHooks:n}=e,i=n.isDraggableTransformers,{def:r,ui:s}=t.eventRange,o=s.startEditable;for(let c of i)o=c(o,r,s,e);return o}function UG(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function zG(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function pd(t,e,n,i,r,s,o){let{dateEnv:c,options:u}=n,{displayEventTime:d,displayEventEnd:h}=u,p=t.eventRange.def,y=t.eventRange.instance;d==null&&(d=i!==!1),h==null&&(h=r!==!1);let m=y.range.start,b=y.range.end,_=s||t.start||t.eventRange.range.start,S=o||t.end||t.eventRange.range.end,x=Yt(m).valueOf()===Yt(_).valueOf(),T=Yt(Za(b,-1)).valueOf()===Yt(Za(S,-1)).valueOf();return d&&!p.allDay&&(x||T)?(_=x?m:_,S=T?b:S,h&&p.hasEnd?c.formatRange(_,S,e,{forcedStartTzo:s?null:y.forcedStartTzo,forcedEndTzo:o?null:y.forcedEndTzo}):c.format(_,e,{forcedTzo:s?null:y.forcedStartTzo})):""}function Zs(t,e,n){let i=t.eventRange.range;return{isPast:i.end<=(n||e.start),isFuture:i.start>=(n||e.end),isToday:e&&Xs(e,i.start)}}function FG(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function AM(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function I_(t,e){let{def:n,instance:i}=t.eventRange,{url:r}=n;if(r)return{href:r};let{emitter:s,options:o}=e,{eventInteractive:c}=o;return c==null&&(c=n.interactive,c==null&&(c=!!s.hasHandlers("eventClick"))),c?sM(u=>{s.trigger("eventClick",{el:u.target,event:new ln(e,n,i),jsEvent:u,view:e.viewApi})}):{}}const HG={start:oe,end:oe,allDay:Boolean};function BG(t,e,n){let i=$G(t,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(n==null)return null;r.end=e.add(r.start,n)}return i}function $G(t,e){let{refined:n,extra:i}=w_(t,HG),r=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:o},i)}function VG(t,e){return aG(t.range,e.range)&&t.allDay===e.allDay&&qG(t,e)}function qG(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function GG(t,e){return Object.assign(Object.assign({},DM(t.range,e,t.allDay)),{allDay:t.allDay})}function RM(t,e,n){return Object.assign(Object.assign({},DM(t,e,n)),{timeZone:e.timeZone})}function DM(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function WG(t,e,n){let i=vM({editable:!1},n),r=u0(i.refined,i.extra,"",t.allDay,!0,n);return{def:r,ui:TM(r,e),instance:A_(r.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function YG(t,e,n){let i=!1,r=function(c){i||(i=!0,e(c))},s=function(c){i||(i=!0,n(c))},o=t(r,s);o&&typeof o.then=="function"&&o.then(r,s)}class oR extends Error{constructor(e,n){super(e),this.response=n}}function QG(t,e,n){t=t.toUpperCase();const i={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(i.body=new URLSearchParams(n),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new oR("Failure parsing JSON",r)});throw new oR("Request failed",r)})}let Qv;function OM(){return Qv==null&&(Qv=KG()),Qv}function KG(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class XG extends Ot{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Gg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Gg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:i}=this.state,r=i||n.height==="auto"||n.contentHeight==="auto",s=!r&&n.height!=null?n.height:"",o=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return OM()||o.push("fc-liquid-hack"),e.children(o,s,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let Vc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function ZG(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function j_(t){return{[t.component.uid]:t}}const h0={};class fl extends Ji{constructor(e,n){super(e,n),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,i=n.nowManager.getDateMarker(),{nowIndicatorSnap:r}=n.options;r==="auto"&&(r=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,o;return r?(s=n.dateEnv.startOf(i,e.unit),o=n.dateEnv.add(s,_t(1,e.unit)).valueOf()-i.valueOf()):(s=i,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:s,todayRange:JG(s)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}fl.contextType=ra;function JG(t){let e=Yt(t),n=kn(e,1);return{start:e,end:n}}class eW{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let i=this.getCurrentData(),r;n=n||"day",r=i.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),s,o;for(let c in n)r.push(c);for(s=0;s<r.length;s+=1)if(o=n[r[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),i=_t(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),rn(n))}formatRange(e,n,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(n),rn(i),i)}formatIso(e,n){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:n})}select(e,n){let i;n==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:n};let r=this.getCurrentData(),s=BG(i,r.dateEnv,_t({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),EM(s,null,r))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),MG(e,n))}addEvent(e,n){if(e instanceof ln){let o=e._def,c=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:d0({def:o,instance:c})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(n instanceof fc)r=n.internalEventSource;else if(typeof n=="boolean")n&&([r]=x_(i.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;r=o.internalEventSource}let s=yM(e,r,i,!1);if(s){let o=new ln(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:d0(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:CM(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:i,instances:r}=n.eventStore;e=String(e);for(let s in i){let o=i[s];if(o.publicId===e){if(o.recurringDef)return new ln(n,o,null);for(let c in r){let u=r[c];if(u.defId===o.defId)return new ln(n,o,u)}}}return null}getEvents(){let e=this.getCurrentData();return Qo(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,i=[];for(let r in n)i.push(new fc(e,n[r]));return i}getEventSourceById(e){let n=this.getCurrentData(),i=n.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new fc(n,i[r]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof fc)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=_M(e,n);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new fc(n,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=_t(e);n&&this.trigger("_scrollRequest",{time:n})}}function tW(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function kM(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function nW(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function iW(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function rW(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Kv=er();class sW{constructor(){this.getKeysForEventDefs=Ue(this._getKeysForEventDefs),this.splitDateSelection=Ue(this._splitDateSpan),this.splitEventStore=Ue(this._splitEventStore),this.splitIndividualUi=Ue(this._splitIndividualUi),this.splitEventDrag=Ue(this._splitInteraction),this.splitEventResize=Ue(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,i),o=this.splitEventStore(e.eventStore,i),c=this.splitEventDrag(e.eventDrag),u=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=ea(n,(h,p)=>this.eventUiBuilders[p]||Ue(aW));for(let h in n){let p=n[h],y=o[h]||Kv,m=this.eventUiBuilders[h];d[h]={businessHours:p.businessHours||e.businessHours,dateSelection:r[h]||null,eventStore:y,eventUiBases:m(e.eventUiBases[""],p.ui,s[h]),eventSelection:y.instances[e.eventSelection]?e.eventSelection:"",eventDrag:c[h]||null,eventResize:u[h]||null}}return d}_splitDateSpan(e){let n={};if(e){let i=this.getKeysForDateSpan(e);for(let r of i)n[r]=e}return n}_getKeysForEventDefs(e){return ea(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:i,instances:r}=e,s={};for(let o in i)for(let c of n[o])s[c]||(s[c]=er()),s[c].defs[o]=i[o];for(let o in r){let c=r[o];for(let u of n[c.defId])s[u]&&(s[u].instances[o]=c)}return s}_splitIndividualUi(e,n){let i={};for(let r in e)if(r)for(let s of n[r])i[s]||(i[s]={}),i[s][r]=e[r];return i}_splitInteraction(e){let n={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,r),o=c=>{n[c]||(n[c]={affectedEvents:i[c]||Kv,mutatedEvents:s[c]||Kv,isEvent:e.isEvent})};for(let c in i)o(c);for(let c in s)o(c)}return n}}function aW(t,e,n){let i=[];t&&i.push(t),e&&i.push(e);let r={"":bM(i)};return n&&Object.assign(r,n),r}function P_(t,e,n,i){return{dow:t.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!Xs(i.activeRange,t))),isOther:!!(i&&!Xs(i.currentRange,t)),isToday:!!(e&&Xs(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function Np(t,e){let n=["fc-day",`fc-day-${cq[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const oW=rn({year:"numeric",month:"long",day:"numeric"}),lW=rn({week:"long"});function kc(t,e,n="day",i=!0){const{dateEnv:r,options:s,calendarApi:o}=t;let c=r.format(e,n==="week"?lW:oW);if(s.navLinks){let u=r.toDate(e);const d=h=>{let p=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof p=="function"?p.call(o,r.toDate(e),h):(typeof p=="string"&&(n=p),o.zoomTo(e,n))};return Object.assign({title:hd(s.navLinkHint,[c,u],c),"data-navlink":""},i?rM(d):{onClick:d})}return{"aria-label":c}}let Xv=null;function cW(){return Xv===null&&(Xv=uW()),Xv}function uW(){let t=document.createElement("div");fd(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return m_(t),n}let Zv;function dW(){return Zv||(Zv=fW()),Zv}function fW(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=MM(t);return document.body.removeChild(t),e}function MM(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function hW(t,e=!1){let n=window.getComputedStyle(t),i=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,c=MM(t),u=c.y-i-r,d=c.x-s-o,h={borderLeft:i,borderRight:r,borderTop:s,borderBottom:o,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return cW()&&n.direction==="rtl"?h.scrollbarLeft=u:h.scrollbarRight=u,e&&(h.paddingLeft=parseInt(n.paddingLeft,10)||0,h.paddingRight=parseInt(n.paddingRight,10)||0,h.paddingTop=parseInt(n.paddingTop,10)||0,h.paddingBottom=parseInt(n.paddingBottom,10)||0),h}function gW(t,e=!1,n){let i=L_(t),r=hW(t,e),s={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function L_(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function pW(t){let e=NM(t),n=t.getBoundingClientRect();for(let i of e){let r=kM(n,i.getBoundingClientRect());if(r)n=r;else return null}return n}function NM(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class Mc{constructor(e,n,i,r){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.left-e),i.push(s.right-e)}this.lefts=n,this.rights=i}buildElVerticals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.top-e),i.push(s.bottom-e)}this.tops=n,this.bottoms=i}leftToIndex(e){let{lefts:n,rights:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}topToIndex(e){let{tops:n,bottoms:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return qh(this.tops||[],e.tops||[])&&qh(this.bottoms||[],e.bottoms||[])&&qh(this.lefts||[],e.lefts||[])&&qh(this.rights||[],e.rights||[])}}function qh(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(Math.round(t[i])!==Math.round(e[i]))return!1;return!0}class U_{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class mW extends U_{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class yW extends U_{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Kr extends Ot{constructor(){super(...arguments),this.uid=ul()}prepareHits(){}queryHit(e,n,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!hi(e,".fc-event-mirror")}isValidDateDownEl(e){return!hi(e,".fc-event:not(.fc-bg-event)")&&!hi(e,".fc-more-link")&&!hi(e,"a[data-navlink]")&&!hi(e,".fc-popover")}}class IM{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let i of e)this.insertEntry(i,n);return n}insertEntry(e,n){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},n),{span:z_(n.span,e.touchingEntry.span)});i.push(r),this.splitEntry(n,e.touchingEntry,i)}else i.push(n)}splitEntry(e,n,i){let r=e.span,s=n.span;r.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:s.start}},i),r.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:r.end}},i)}insertEntryAt(e,n){let{entriesByLevel:i,levelCoords:r}=this;n.lateral===-1?(Jv(r,n.level,n.levelCoord),Jv(i,n.level,[e])):Jv(i[n.level],n.lateral,e),this.stackCnts[Ko(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:i,strictOrder:r,stackCnts:s}=this,o=n.length,c=0,u=-1,d=-1,h=null,p=0;for(let b=0;b<o;b+=1){const _=n[b];if(!r&&_>=c+this.getEntryThickness(e))break;let S=i[b],x,T=p0(S,e.span.start,g0),A=T[0]+T[1];for(;(x=S[A])&&x.span.start<e.span.end;){let k=_+this.getEntryThickness(x);k>c&&(c=k,h=x,u=b,d=A),k===c&&(p=Math.max(p,s[Ko(x)]+1)),A+=1}}let y=0;if(h)for(y=u+1;y<o&&n[y]<c;)y+=1;let m=-1;return y<o&&n[y]===c&&(m=p0(i[y],e.span.end,g0)[0]),{touchingLevel:u,touchingLateral:d,touchingEntry:h,stackCnt:p,levelCoord:c,level:y,lateral:m}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,i=e.length,r=[];for(let s=0;s<i;s+=1){let o=e[s],c=n[s];for(let u of o)r.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:c}))}return r}}function g0(t){return t.span.end}function Ko(t){return t.index+":"+t.span.start}function vW(t){let e=[];for(let n of t){let i=[],r={span:n.span,entries:[n]};for(let s of e)z_(s.span,r.span)?r={entries:s.entries.concat(r.entries),span:bW(s.span,r.span)}:i.push(s);i.push(r),e=i}return e}function bW(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function z_(t,e){let n=Math.max(t.start,e.start),i=Math.min(t.end,e.end);return n<i?{start:n,end:i}:null}function Jv(t,e,n){t.splice(e,0,n)}function p0(t,e,n){let i=0,r=t.length;if(!r||e<n(t[i]))return[0,0];if(e>n(t[r-1]))return[r,0];for(;i<r;){let s=Math.floor(i+(r-i)/2),o=n(t[s]);if(e<o)r=s;else if(e>o)i=s+1;else return[s,1]}return[i,0]}class _W{constructor(e,n){this.emitter=new Mp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const F_={};function wW(t,e){return!t||e>10?rn({weekday:"short"}):e>1?rn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):rn({weekday:"long"})}const jM="fc-col-header-cell";function PM(t){return t.text}class SW extends Ot{render(){let{dateEnv:e,options:n,theme:i,viewApi:r}=this.context,{props:s}=this,{date:o,dateProfile:c}=s,u=P_(o,s.todayRange,null,c),d=[jM].concat(Np(u,i)),h=e.format(o,s.dayHeaderFormat),p=!u.isDisabled&&s.colCnt>1?kc(this.context,o):{},y=e.toDate(o);e.namedTimeZoneImpl&&(y=Za(y,36e5));let m=Object.assign(Object.assign(Object.assign({date:y,view:r},s.extraRenderProps),{text:h}),u);return F(pi,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":u.isDisabled?void 0:Kd(o)},s.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:PM,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},b=>F("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&F(b,{elTag:"a",elAttrs:p,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const xW=rn({weekday:"long"});class EW extends Ot{render(){let{props:e}=this,{dateEnv:n,theme:i,viewApi:r,options:s}=this.context,o=kn(new Date(2592e5),e.dow),c={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=n.format(o,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:o},c),{view:r}),e.extraRenderProps),{text:u});return F(pi,{elTag:"th",elClasses:[jM,...Np(c,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:PM,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},h=>F("div",{className:"fc-scrollgrid-sync-inner"},F(h,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,xW)}})))}}class LM extends Ot{constructor(){super(...arguments),this.createDayHeaderFormatter=Ue(CW)}render(){let{context:e}=this,{dates:n,dateProfile:i,datesRepDistinctDays:r,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,n.length);return F(fl,{unit:"day"},(c,u)=>F("tr",{role:"row"},s&&s("day"),n.map(d=>r?F(SW,{key:d.toISOString(),date:d,dateProfile:i,todayRange:u,colCnt:n.length,dayHeaderFormat:o}):F(EW,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:o}))))}}function CW(t,e,n){return t||wW(e,n)}class UM{constructor(e,n){let i=e.start,{end:r}=e,s=[],o=[],c=-1;for(;i<r;)n.isHiddenDay(i)?s.push(c+.5):(c+=1,s.push(c),o.push(i)),i=kn(i,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),i=this.getDateDayIndex(kn(e.end,-1)),r=Math.max(0,n),s=Math.min(this.cnt-1,i);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:n===r,isEnd:i===s}:null}getDateDayIndex(e){let{indices:n}=this,i=Math.floor(ao(this.dates[0],e));return i<0?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]}}class zM{constructor(e,n){let{dates:i}=e,r,s,o;if(n){for(s=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==s;r+=1);o=Math.ceil(i.length/r)}else o=1,r=i.length;this.rowCnt=o,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(n,r));e.push(i)}return e}buildCell(e,n){let i=this.daySeries.dates[e*this.colCnt+n];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:s,lastIndex:o}=i,c=s;for(;c<=o;){let u=Math.floor(c/n),d=Math.min((u+1)*n,o+1);r.push({row:u,firstCol:c%n,lastCol:(d-1)%n,isStart:i.isStart&&c===s,isEnd:i.isEnd&&d-1===o}),c=d}}return r}}class FM{constructor(){this.sliceBusinessHours=Ue(this._sliceBusinessHours),this.sliceDateSelection=Ue(this._sliceDateSpan),this.sliceEventStore=Ue(this._sliceEventStore),this.sliceEventDrag=Ue(this._sliceInteraction),this.sliceEventResize=Ue(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,i,r,...s){let{eventUiBases:o}=e,c=this.sliceEventStore(e.eventStore,o,n,i,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,i,o,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,i,r,...s),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,i,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,i,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,i,r,...s){return this._sliceDateSpan({range:{start:e,end:Za(e,1)},allDay:!1},n,i,{},r,...s)}_sliceBusinessHours(e,n,i,r,...s){return e?this._sliceEventStore(nl(e,Gh(n,!!i),r),{},n,i,...s).bg:[]}_sliceEventStore(e,n,i,r,...s){if(e){let o=f0(e,n,Gh(i,!!r),r);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,i,r,...s){if(!e)return null;let o=f0(e.mutatedEvents,n,Gh(i,!!r),r);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,i,r,s,...o){if(!e)return[];let c=Gh(n,!!i),u=Ja(e.range,c);if(u){e=Object.assign(Object.assign({},e),{range:u});let d=WG(e,r,s),h=this.sliceRange(e.range,...o);for(let p of h)p.eventRange=d;return h}return[]}sliceEventRanges(e,n){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,n));return i}sliceEventRange(e,n){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:kn(i.start,1)});let r=this.sliceRange(i,...n);for(let s of r)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return r}}function Gh(t,e){let n=t.activeRange;return e?n:{start:Za(n.start,t.slotMinTime.milliseconds),end:Za(n.end,t.slotMaxTime.milliseconds-864e5)}}function HM(t,e,n){let{instances:i}=t.mutatedEvents;for(let r in i)if(!Op(e.validRange,i[r].range))return!1;return BM({eventDrag:t},n)}function TW(t,e,n){return Op(e.validRange,t.range)?BM({dateSelection:t},n):!1}function BM(t,e){let n=e.getCurrentData(),i=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||AW)(i,e)}function AW(t,e,n={},i){return!(t.eventDrag&&!RW(t,e,n,i)||t.dateSelection&&!DW(t,e,n,i))}function RW(t,e,n,i){let r=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,c=o.defs,u=o.instances,d=Qg(c,s.isEvent?t.eventUiBases:{"":r.selectionConfig});i&&(d=ea(d,i));let h=CG(t.eventStore,s.affectedEvents.instances),p=h.defs,y=h.instances,m=Qg(p,t.eventUiBases);for(let b in u){let _=u[b],S=_.range,x=d[_.defId],T=c[_.defId];if(!$M(x.constraints,S,h,t.businessHours,e))return!1;let{eventOverlap:A}=e.options,k=typeof A=="function"?A:null;for(let P in y){let N=y[P];if(C_(S,N.range)&&(m[N.defId].overlap===!1&&s.isEvent||x.overlap===!1||k&&!k(new ln(e,p[N.defId],N),new ln(e,T,_))))return!1}let O=r.eventStore;for(let P of x.allows){let N=Object.assign(Object.assign({},n),{range:_.range,allDay:T.allDay}),M=O.defs[T.defId],B=O.instances[b],V;if(M?V=new ln(e,M,B):V=new ln(e,T),!P(k_(N,e),V))return!1}}return!0}function DW(t,e,n,i){let r=t.eventStore,s=r.defs,o=r.instances,c=t.dateSelection,u=c.range,{selectionConfig:d}=e.getCurrentData();if(i&&(d=i(d)),!$M(d.constraints,u,r,t.businessHours,e))return!1;let{selectOverlap:h}=e.options,p=typeof h=="function"?h:null;for(let y in o){let m=o[y];if(C_(u,m.range)&&(d.overlap===!1||p&&!p(new ln(e,s[m.defId],m),null)))return!1}for(let y of d.allows){let m=Object.assign(Object.assign({},n),c);if(!y(k_(m,e),null))return!1}return!0}function $M(t,e,n,i,r){for(let s of t)if(!kW(OW(s,e,n,i,r),e))return!1;return!0}function OW(t,e,n,i,r){return t==="businessHours"?eb(nl(i,e,r)):typeof t=="string"?eb(kp(n,s=>s.groupId===t)):typeof t=="object"&&t?eb(nl(t,e,r)):[]}function eb(t){let{instances:e}=t,n=[];for(let i in e)n.push(e[i].range);return n}function kW(t,e){for(let n of t)if(Op(n,e))return!0;return!1}const Wh=/^(visible|hidden)$/;class VM extends Ot{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,hs(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:i}=e,r=n&&i,s=["fc-scroller"];return n&&(i?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),F("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Wh.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Wh.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Wh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Wh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ws{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,i)=>{let{depths:r,currentMap:s}=this,o=!1,c=!1;n!==null?(o=i in s,s[i]=n,r[i]=(r[i]||0)+1,c=!0):(r[i]-=1,r[i]||(delete s[i],delete this.callbackMap[i],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(i)),c&&this.masterCallback(n,String(i)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),n}collect(e,n,i){return $q(this.currentMap,e,n,i)}getAll(){return x_(this.currentMap)}}function MW(t){let e=H6(t,".fc-scrollgrid-shrink"),n=0;for(let i of e)n=Math.max(n,tq(i));return Math.ceil(n)}function qM(t,e){return t.liquid&&e.liquid}function NW(t,e){return e.maxHeight!=null||qM(t,e)}function IW(t,e,n,i){let{expandRows:r}=n;return typeof e.content=="function"?e.content(n):F("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,F(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function jW(t,e){return Xa(t,e,Gr)}function PW(t,e){let n=[];for(let i of t){let r=i.span||1;for(let s=0;s<r;s+=1)n.push(F("col",{style:{width:i.width==="shrink"?LW(e):i.width||"",minWidth:i.minWidth||""}}))}return F("colgroup",{},...n)}function LW(t){return t??4}function UW(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function zW(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function FW(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function m0(t){return F("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Kg(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function GM(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class H_ extends Ot{constructor(){super(...arguments),this.processCols=Ue(e=>e,jW),this.renderMicroColGroup=Ue(PW),this.scrollerRefs=new Ws,this.scrollerElRefs=new Ws(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:i}=this,r=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),c=zW(e.liquid,i);e.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let u=r.length,d=0,h,p=[],y=[],m=[];for(;d<u&&(h=r[d]).type==="header";)p.push(this.renderSection(h,o,!0)),d+=1;for(;d<u&&(h=r[d]).type==="body";)y.push(this.renderSection(h,o,!1)),d+=1;for(;d<u&&(h=r[d]).type==="footer";)m.push(this.renderSection(h,o,!0)),d+=1;let b=!OM();const _={role:"rowgroup"};return F("table",{role:"grid",className:c.join(" "),style:{height:e.height}},!!(!b&&p.length)&&F("thead",_,...p),!!(!b&&y.length)&&F("tbody",_,...y),!!(!b&&m.length)&&F("tfoot",_,...m),b&&F("tbody",_,...p,...y,...m))}renderSection(e,n,i){return"outerContent"in e?F(qt,{key:e.key},e.outerContent):F("tr",{key:e.key,role:"presentation",className:FW(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,i))}renderChunkTd(e,n,i,r){if("outerContent"in i)return i.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:c,scrollerClientHeights:u}=this.state,d=NW(s,e),h=qM(s,e),p=s.liquid?o?"scroll":d?"auto":"hidden":"visible",y=e.key,m=IW(e,i,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&c[y]!==void 0?c[y]:null,clientHeight:u[y]!==void 0?u[y]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return F(r?"th":"td",{ref:i.elRef,role:"presentation"},F("div",{className:`fc-scroller-harness${h?" fc-scroller-harness-liquid":""}`},F(VM,{ref:this.scrollerRefs.createRef(y),elRef:this.scrollerElRefs.createRef(y),overflowY:p,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:h,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,n){let i=HW(this.props.sections,n);i&&hs(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return UW(this.props.cols)?MW(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=dW(),{scrollerRefs:n,scrollerElRefs:i}=this,r=!1,s={},o={};for(let c in n.currentMap){let u=n.currentMap[c];if(u&&u.needsYScrolling()){r=!0;break}}for(let c of this.props.sections){let u=c.key,d=i.currentMap[u];if(d){let h=d.parentNode;s[u]=Math.floor(h.getBoundingClientRect().width-(r?e.y:0)),o[u]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:o}}}H_.addStateEquality({scrollerClientWidths:Gr,scrollerClientHeights:Gr});function HW(t,e){for(let n of t)if(n.key===e)return n;return null}class Ip extends Ot{constructor(){super(...arguments),this.buildPublicEvent=Ue((e,n,i)=>new ln(e,n,i)),this.handleEl=e=>{this.el=e,hs(this.props.elRef,e),e&&aR(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{eventRange:s}=r,{ui:o}=s,c={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&LG(r,n),isStartResizable:!e.disableResizing&&UG(r,n),isEndResizable:!e.disableResizing&&zG(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return F(pi,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...FG(c),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:c,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&aR(this.el,this.props.seg)}}class B_ extends Ot{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{ui:s}=r.eventRange,o=i.eventTimeFormat||e.defaultTimeFormat,c=pd(r,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return F(Ip,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:I_(r,n),defaultGenerator:BW,timeText:c}),(u,d)=>F(qt,null,F(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}B_.addPropsEquality({seg:Gr});function BW(t){return F("div",{className:"fc-event-main-frame"},t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title-container"},F("div",{className:"fc-event-title fc-sticky"},t.event.title||F(qt,null," "))))}const $_=t=>F(ra.Consumer,null,e=>{let{options:n}=e,i={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return F(pi,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:i,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),$W=rn({day:"numeric"});class V_ extends Ot{constructor(){super(...arguments),this.refineRenderProps=yg(VW)}render(){let{props:e,context:n}=this,{options:i}=n,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:i.monthStartFormat});return F(pi,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Kd(e.date)}),elClasses:[...Np(r,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},e.children)}}function q_(t){return!!(t.dayCellContent||c0("dayCellContent",t))}function VW(t){let{date:e,dateEnv:n,dateProfile:i,isMonthStart:r}=t,s=P_(e,t.todayRange,null,i),o=t.showDayNumber?n.format(e,r?t.monthStartFormat:$W):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:r,dayNumberText:o}),t.extraRenderProps)}class WM extends Ot{render(){let{props:e}=this,{seg:n}=e;return F(Ip,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:qW,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function qW(t){let{title:e}=t.event;return e&&F("div",{className:"fc-event-title"},t.event.title)}function YM(t){return F("div",{className:`fc-${t}`})}const QM=t=>F(ra.Consumer,null,e=>{let{dateEnv:n,options:i}=e,{date:r}=t,s=i.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(r),c=n.format(r,s),u={num:o,text:c,date:r};return F(pi,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:GW,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},t.children)});function GW(t){return t.text}const tb=10;class WW extends Ot{constructor(){super(...arguments),this.state={titleId:Ga()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&hs(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=nM(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:i,state:r}=this,s=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return A6(F("div",Object.assign({},i.extraAttrs,{id:i.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),F("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},F("span",{className:"fc-popover-title",id:r.titleId},i.title),F("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),F("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:i}=this.props,{rootEl:r}=this,s=pW(n);if(s){let o=r.getBoundingClientRect(),c=i?hi(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,u=e?s.right-o.width:s.left;c=Math.max(c,tb),u=Math.min(u,document.documentElement.clientWidth-tb-o.width),u=Math.max(u,tb);let d=r.offsetParent.getBoundingClientRect();fd(r,{top:c-d.top,left:u-d.left})}}}class YW extends Kr{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:i}=this,{startDate:r,todayRange:s,dateProfile:o}=i,c=n.format(r,e.dayPopoverFormat);return F(V_,{elRef:this.handleRootEl,date:r,dateProfile:o,todayRange:s},(u,d,h)=>F(WW,{elRef:h.ref,id:i.id,title:c,extraClassNames:["fc-more-popover"].concat(h.className||[]),extraAttrs:h,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},q_(e)&&F(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,n,i,r){let{rootEl:s,props:o}=this;return e>=0&&e<i&&n>=0&&n<r?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class KM extends Ot{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Ga()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&hs(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:i}=this,{moreLinkClick:r}=i.options,s=lR(n).start;function o(c){let{def:u,instance:d,range:h}=c.eventRange;return{event:new ln(i,u,d),start:i.dateEnv.toDate(h.start),end:i.dateEnv.toDate(h.end),isStart:c.isStart,isEnd:c.isEnd}}typeof r=="function"&&(r=r({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(s,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return F(ra.Consumer,null,i=>{let{viewApi:r,options:s,calendarApi:o}=i,{moreLinkText:c}=s,{moreCnt:u}=e,d=lR(e),h=typeof c=="function"?c.call(o,u):`+${u} ${c}`,p=hd(s.moreLinkHint,[u],h),y={num:u,shortText:`+${u}`,text:h,view:r};return F(qt,null,!!e.moreCnt&&F(pi,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),rM(this.handleClick)),{title:p,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:y,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||QW,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&F(YW,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=hi(this.linkEl,".fc-view-harness"))}}function QW(t){return t.text}function lR(t){if(t.allDayDate)return{start:t.allDayDate,end:kn(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:XM(e),end:XW(e)}}function XM(t){return t.reduce(KW).eventRange.range.start}function KW(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function XW(t){return t.reduce(ZW).eventRange.range.end}function ZW(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class JW{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class e8 extends JW{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let i=!1;e.isActive?(n.set(e.id,e),i=!0):n.has(e.id)&&(n.delete(e.id),i=!0),i&&this.set(n)}}const t8=[],ZM={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},JM=Object.assign(Object.assign({},ZM),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function n8(t){let e=t.length>0?t[0].code:"en",n=t8.concat(t),i={en:JM};for(let r of n)i[r.code]=r;return{map:i,defaultCode:e}}function eN(t,e){return typeof t=="object"&&!Array.isArray(t)?tN(t.code,[t.code],t):i8(t,e)}function i8(t,e){let n=[].concat(t||[]),i=r8(n,e)||JM;return tN(t,n,i)}function r8(t,e){for(let n=0;n<t.length;n+=1){let i=t[n].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let s=i.slice(0,r).join("-");if(e[s])return e[s]}}return null}function tN(t,e,n){let i=S_([ZM,n],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:t,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(t),options:i}}function ms(t){return{id:ul(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function s8(t,e){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let o of s){const c=o.name,u=n[c];u===void 0?(n[c]=o.id,r(o.deps),i=o8(i,o)):u!==o.id&&console.warn(`Duplicate plugin '${c}'`)}}return t&&r(t),r(e),i}function a8(){let t=[],e=[],n;return(i,r)=>((!n||!Xa(i,t)||!Xa(r,e))&&(n=s8(i,r)),t=i,e=r,n)}function o8(t,e){return{premiumReleaseDate:l8(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function l8(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class oo extends Xd{}oo.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};oo.prototype.baseIconClass="fc-icon";oo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};oo.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};oo.prototype.iconOverrideOption="buttonIcons";oo.prototype.iconOverrideCustomButtonOption="icon";oo.prototype.iconOverridePrefix="fc-icon-";function c8(t,e){let n={},i;for(i in t)y0(i,n,t,e);for(i in e)y0(i,n,t,e);return n}function y0(t,e,n,i){if(e[t])return e[t];let r=u8(t,e,n,i);return r&&(e[t]=r),r}function u8(t,e,n,i){let r=n[t],s=i[t],o=h=>r&&r[h]!==null?r[h]:s&&s[h]!==null?s[h]:null,c=o("component"),u=o("superType"),d=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");d=y0(u,e,n,i)}return!c&&d&&(c=d.component),c?{type:t,component:c,defaults:Object.assign(Object.assign({},d?d.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function cR(t){return ea(t,d8)}function d8(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=uR(e):n&&!(n.prototype instanceof Ot)&&(n=uR(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function uR(t){return e=>F(ra.Consumer,null,n=>F(pi,{elTag:"div",elClasses:hM(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function f8(t,e,n,i){let r=cR(t),s=cR(e.views),o=c8(r,s);return ea(o,c=>h8(c,s,e,n,i))}function h8(t,e,n,i,r){let s=t.overrides.duration||t.defaults.duration||i.duration||n.duration,o=null,c="",u="",d={};if(s&&(o=g8(s),o)){let y=l0(o);c=y.unit,y.value===1&&(u=c,d=e[c]?e[c].rawOptions:{})}let h=y=>{let m=y.buttonText||{},b=t.defaults.buttonTextKey;return b!=null&&m[b]!=null?m[b]:m[t.type]!=null?m[t.type]:m[u]!=null?m[u]:null},p=y=>{let m=y.buttonHints||{},b=t.defaults.buttonTextKey;return b!=null&&m[b]!=null?m[b]:m[t.type]!=null?m[t.type]:m[u]!=null?m[u]:null};return{type:t.type,component:t.component,duration:o,durationUnit:c,singleUnit:u,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:h(i)||h(n)||t.overrides.buttonText,buttonTextDefault:h(r)||t.defaults.buttonText||h(gd)||t.type,buttonTitleOverride:p(i)||p(n)||t.overrides.buttonHint,buttonTitleDefault:p(r)||t.defaults.buttonHint||p(gd)}}let dR={};function g8(t){let e=JSON.stringify(t),n=dR[e];return n===void 0&&(n=_t(t),dR[e]=n),n}function p8(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function m8(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function y8(t,e,n){let i=t.initialDate;return i!=null?e.createMarker(i):n.getDateMarker()}function v8(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function b8(t,e,n,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||n);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(t,n),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(t,n),r.isValid)return r;break}return t}function _8(t,e,n){let i=e?e.activeRange:null;return iN({},A8(t,n),i,n)}function w8(t,e,n,i){let r=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return iN(t,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return x8(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?rN(t,r,i):t;case"FETCH_EVENT_SOURCES":return G_(t,e.sourceIds?lM(e.sourceIds):sN(t,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return T8(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function S8(t,e,n){let i=e?e.activeRange:null;return G_(t,sN(t,n),i,!0,n)}function nN(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function iN(t,e,n,i){let r={};for(let s of e)r[s.sourceId]=s;return n&&(r=rN(r,n,i)),Object.assign(Object.assign({},t),r)}function x8(t,e){return tl(t,n=>n.sourceId!==e)}function rN(t,e,n){return G_(t,tl(t,i=>E8(i,e,n)),e,!1,n)}function E8(t,e,n){return aN(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function G_(t,e,n,i,r){let s={};for(let o in t){let c=t[o];e[o]?s[o]=C8(c,n,i,r):s[o]=c}return s}function C8(t,e,n,i){let{options:r,calendarApi:s}=i,o=i.pluginHooks.eventSourceDefs[t.sourceDefId],c=ul();return o.fetch({eventSource:t,range:e,isRefetch:n,context:i},u=>{let{rawEvents:d}=u;r.eventSourceSuccess&&(d=r.eventSourceSuccess.call(s,d,u.response)||d),t.success&&(d=t.success.call(s,d,u.response)||d),i.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:c,fetchRange:e,rawEvents:d})},u=>{let d=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,u),d=!0),t.failure&&(t.failure(u),d=!0),d||console.warn(u.message,u),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:c,fetchRange:e,error:u})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:c})}function T8(t,e,n,i){let r=t[e];return r&&n===r.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):t}function sN(t,e){return tl(t,n=>aN(n,e))}function A8(t,e){let n=wM(e),i=[].concat(t.eventSources||[]),r=[];t.initialEvents&&i.unshift(t.initialEvents),t.events&&i.unshift(t.events);for(let s of i){let o=_M(s,e,n);o&&r.push(o)}return r}function aN(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function R8(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function D8(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function O8(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function k8(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function M8(t,e,n,i,r){let s=t.headerToolbar?fR(t.headerToolbar,t,e,n,i,r):null,o=t.footerToolbar?fR(t.footerToolbar,t,e,n,i,r):null;return{header:s,footer:o}}function fR(t,e,n,i,r,s){let o={},c=[],u=!1;for(let d in t){let h=t[d],p=N8(h,e,n,i,r,s);o[d]=p.widgets,c.push(...p.viewsWithButtons),u=u||p.hasTitle}return{sectionWidgets:o,viewsWithButtons:c,hasTitle:u}}function N8(t,e,n,i,r,s){let o=e.direction==="rtl",c=e.customButtons||{},u=n.buttonText||{},d=e.buttonText||{},h=n.buttonHints||{},p=e.buttonHints||{},y=t?t.split(" "):[],m=[],b=!1;return{widgets:y.map(S=>S.split(",").map(x=>{if(x==="title")return b=!0,{buttonName:x};let T,A,k,O,P,N;if(T=c[x])k=M=>{T.click&&T.click.call(M.target,M,M.target)},(O=i.getCustomButtonIconClass(T))||(O=i.getIconClass(x,o))||(P=T.text),N=T.hint||T.text;else if(A=r[x]){m.push(x),k=()=>{s.changeView(x)},(P=A.buttonTextOverride)||(O=i.getIconClass(x,o))||(P=A.buttonTextDefault);let M=A.buttonTextOverride||A.buttonTextDefault;N=hd(A.buttonTitleOverride||A.buttonTitleDefault||e.viewHint,[M,x],M)}else if(s[x])if(k=()=>{s[x]()},(P=u[x])||(O=i.getIconClass(x,o))||(P=d[x]),x==="prevYear"||x==="nextYear"){let M=x==="prevYear"?"prev":"next";N=hd(h[M]||p[M],[d.year||"year","year"],d[x])}else N=M=>hd(h[x]||p[x],[d[M]||M,M],d[x]);return{buttonName:x,buttonClick:k,buttonIcon:O,buttonText:P,buttonHint:N}})),viewsWithButtons:m,hasTitle:b}}class I8{constructor(e,n,i){this.type=e,this.getCurrentData=n,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let j8={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const P8=ms({name:"array-event-source",eventSourceDefs:[j8]});let L8={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:i}=t.context,r=t.eventSource.meta;YG(r.bind(null,RM(t.range,i)),s=>e({rawEvents:s}),n)}};const U8=ms({name:"func-event-source",eventSourceDefs:[L8]}),z8={method:String,extraParams:oe,startParam:String,endParam:String,timeZoneParam:String};let F8={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:i}=t.eventSource,r=B8(i,t.range,t.context);QG(i.method,i.url,r).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const H8=ms({name:"json-event-source",eventSourceRefiners:z8,eventSourceDefs:[F8]});function B8(t,e,n){let{dateEnv:i,options:r}=n,s,o,c,u,d={};return s=t.startParam,s==null&&(s=r.startParam),o=t.endParam,o==null&&(o=r.endParam),c=t.timeZoneParam,c==null&&(c=r.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},Object.assign(d,u),d[s]=i.formatIso(e.start),d[o]=i.formatIso(e.end),i.timeZone!=="local"&&(d[c]=i.timeZone),d}const $8={daysOfWeek:oe,startTime:_t,endTime:_t,duration:_t,startRecur:oe,endRecur:oe};let V8={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},i;return t.duration&&(i=t.duration),!i&&t.startTime&&t.endTime&&(i=sq(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:i,typeData:n}}return null},expand(t,e,n){let i=Ja(e,{start:t.startRecur,end:t.endRecur});return i?G8(t.daysOfWeek,t.startTime,t.dateEnv,n,i):[]}};const q8=ms({name:"simple-recurring-event",recurringTypes:[V8],eventRefiners:$8});function G8(t,e,n,i,r){let s=t?lM(t):null,o=Yt(r.start),c=r.end,u=[];for(e&&(e.milliseconds<0?c=kn(c,1):e.milliseconds>=1e3*60*60*24&&(o=kn(o,-1)));o<c;){let d;(!s||s[o.getUTCDay()])&&(e?d=i.add(o,e):d=o,u.push(i.createMarker(n.toDate(d)))),o=kn(o,1)}return u}const W8=ms({name:"change-handler",optionChangeHandlers:{events(t,e){hR([t],e)},eventSources:hR}});function hR(t,e){let n=x_(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let i=[];for(let r of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===r){n.splice(o,1),s=!0;break}s||i.push(r)}for(let r of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function Y8(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},RM(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Q8(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Qo(t,e))}const K8=[P8,U8,H8,q8,W8,ms({name:"misc",isLoadingFuncs:[t=>nN(t.eventSources)],propSetHandlers:{dateProfile:Y8,eventStore:Q8}})];class X8{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new p_(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],i;for(;i=e.shift();)this.runTask(i),n.push(i);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Z8(t,e,n){let i;return/^(year|month)$/.test(t.currentRangeUnit)?i=t.currentRange:i=t.activeRange,n.formatRange(i.start,i.end,rn(e.titleFormat||J8(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function J8(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Bg(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class gR{constructor(){this.resetListeners=new Set}handleInput(e,n){const i=this.dateEnv;if(e!==i&&(typeof n=="function"?this.nowFn=n:i||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class eY{constructor(e){this.computeCurrentViewData=Ue(this._computeCurrentViewData),this.organizeRawLocales=Ue(n8),this.buildLocale=Ue(eN),this.buildPluginHooks=a8(),this.buildDateEnv=Ue(tY),this.buildTheme=Ue(nY),this.parseToolbars=Ue(M8),this.buildViewSpecs=Ue(f8),this.buildDateProfileGenerator=yg(iY),this.buildViewApi=Ue(rY),this.buildViewUiProps=yg(oY),this.buildEventUiBySource=Ue(sY,Gr),this.buildEventUiBases=Ue(aY),this.parseContextBusinessHours=yg(lY),this.buildTitle=Ue(Z8),this.nowManager=new gR,this.emitter=new Mp,this.actionRunner=new X8(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=y=>{this.actionRunner.request(y)},this.props=e,this.actionRunner.pause(),this.nowManager=new gR;let n={},i=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(r,i,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},c=y8(i.calendarOptions,i.dateEnv,this.nowManager),u=s.dateProfileGenerator.build(c);Xs(u.activeRange,c)||(c=u.currentRange.start);for(let y of i.pluginHooks.contextInit)y(o);let d=_8(i.calendarOptions,u,o),h={dynamicOptionOverrides:n,currentViewType:r,currentDate:c,dateProfile:u,businessHours:this.parseContextBusinessHours(o),eventSources:d,eventUiBases:{},eventStore:er(),renderableEventStore:er(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},p=Object.assign(Object.assign({},o),h);for(let y of i.pluginHooks.reducers)Object.assign(h,y(null,null,p));nb(h,o)&&this.emitter.trigger("loading",!0),this.state=h,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:i}=this;n===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:i,emitter:r}=this,s=v8(i.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),c=p8(i.currentViewType,e),u=this.computeCurrentViewData(c,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,r.setThisContext(n.calendarApi),r.setOptions(u.options);let d={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:p}=i;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(p=u.dateProfileGenerator.build(h)),h=m8(h,e),p=b8(p,e,h,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Xs(p.currentRange,h))&&(h=p.currentRange.start);let y=w8(i.eventSources,e,p,d),m=wG(i.eventStore,e,y,p,d),_=nN(y)&&!u.options.progressiveEventRendering&&i.renderableEventStore||m,{eventUiSingleBase:S,selectionConfig:x}=this.buildViewUiProps(d),T=this.buildEventUiBySource(y),A=this.buildEventUiBases(_.defs,S,T),k={dynamicOptionOverrides:s,currentViewType:c,currentDate:h,dateProfile:p,eventSources:y,eventStore:m,renderableEventStore:_,selectionConfig:x,eventUiBases:A,businessHours:this.parseContextBusinessHours(d),dateSelection:R8(i.dateSelection,e),eventSelection:D8(i.eventSelection,e),eventDrag:O8(i.eventDrag,e),eventResize:k8(i.eventResize,e)},O=Object.assign(Object.assign({},d),k);for(let M of o.pluginHooks.reducers)Object.assign(k,M(i,e,O));let P=nb(i,d),N=nb(k,d);!P&&N?r.trigger("loading",!0):P&&!N&&r.trigger("loading",!1),this.state=k,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,r,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),n),c=r.pluginHooks.optionChangeHandlers,u=i&&i.calendarOptions,d=r.calendarOptions;if(u&&u!==d){u.timeZone!==d.timeZone&&(n.eventSources=o.eventSources=S8(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=rR(o.eventStore,i.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=rR(o.renderableEventStore,i.dateEnv,o.dateEnv));for(let h in c)(this.optionsForHandling.indexOf(h)!==-1||u[h]!==d[h])&&c[h](d[h],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:o,availableLocaleData:c,extra:u}=this.processRawCalendarOptions(e,n);pR(u);let d=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,c,r.defaultRangeSeparator),h=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),p=this.buildTheme(r,s),y=this.parseToolbars(r,this.stableOptionOverrides,p,h,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:d,viewSpecs:h,theme:p,toolbarConfig:y,localeDefaults:o,availableRawLocales:c.map}}processRawCalendarOptions(e,n){let{locales:i,locale:r}=Wv([gd,e,n]),s=this.organizeRawLocales(i),o=s.map,c=this.buildLocale(r||s.defaultCode,o).options,u=this.buildPluginHooks(e.plugins||[],K8),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ZA),JA),eR),u.listenerRefiners),u.optionRefiners),h={},p=Wv([gd,c,e,n]),y={},m=this.currentCalendarOptionsInput,b=this.currentCalendarOptionsRefined,_=!1;for(let S in p)this.optionsForRefining.indexOf(S)===-1&&(p[S]===m[S]||Po[S]&&S in m&&Po[S](m[S],p[S]))?y[S]=b[S]:d[S]?(y[S]=d[S](p[S]),_=!0):h[S]=m[S];return _&&(this.currentCalendarOptionsInput=p,this.currentCalendarOptionsRefined=y,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:s,localeDefaults:c,extra:h}}_computeCurrentViewData(e,n,i,r){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:c}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,i,r);pR(c),this.nowManager.handleInput(n.dateEnv,o.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:u,viewApi:d}}processRawViewOptions(e,n,i,r,s){let o=Wv([gd,e.optionDefaults,i,r,e.optionOverrides,s]),c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ZA),JA),eR),Uq),n.listenerRefiners),n.optionRefiners),u={},d=this.currentViewOptionsInput,h=this.currentViewOptionsRefined,p=!1,y={};for(let m in o)o[m]===d[m]||Po[m]&&Po[m](o[m],d[m])?u[m]=h[m]:(o[m]===this.currentCalendarOptionsInput[m]||Po[m]&&Po[m](o[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(u[m]=this.currentCalendarOptionsRefined[m]):c[m]?u[m]=c[m](o[m]):y[m]=o[m],p=!0);return p&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:y}}}function tY(t,e,n,i,r,s,o,c){let u=eN(e||o.defaultCode,o.map);return new Qq({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:i,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:c})}function nY(t,e){let n=e.themeClasses[t.themeSystem]||oo;return new n(t)}function iY(t){let e=t.dateProfileGeneratorClass||pM;return new e(t)}function rY(t,e,n){return new I8(t,e,n)}function sY(t){return ea(t,e=>e.ui)}function aY(t,e,n){let i={"":e};for(let r in t){let s=t[r];s.sourceId&&n[s.sourceId]&&(i[r]=n[s.sourceId])}return i}function oY(t){let{options:e}=t;return{eventUiSingleBase:Yg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Yg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function nb(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function lY(t){return OG(t.options.businessHours,t)}function pR(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class cY extends Ot{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return F("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:i}=this.context,r=[],s=!0;for(let o of e){let{buttonName:c,buttonClick:u,buttonText:d,buttonIcon:h,buttonHint:p}=o;if(c==="title")s=!1,r.push(F("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let y=c===n.activeButton,m=!n.isTodayEnabled&&c==="today"||!n.isPrevEnabled&&c==="prev"||!n.isNextEnabled&&c==="next",b=[`fc-${c}-button`,i.getClass("button")];y&&b.push(i.getClass("buttonActive")),r.push(F("button",{type:"button",title:typeof p=="function"?p(n.navUnit):p,disabled:m,"aria-pressed":y,className:b.join(" "),onClick:u},d||(h?F("span",{className:h,role:"img"}):"")))}}if(r.length>1){let o=s&&i.getClass("buttonGroup")||"";return F("div",{className:o},...r)}return r[0]}}class mR extends Ot{render(){let{model:e,extraClassName:n}=this.props,i=!1,r,s,o=e.sectionWidgets,c=o.center;return o.left?(i=!0,r=o.left):r=o.start,o.right?(i=!0,s=o.right):s=o.end,F("div",{className:[n||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",c||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:i}=this;return F(cY,{key:e,widgetGroups:n,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class uY extends Ot{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,hs(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return i?n.availableWidth!==null?s=n.availableWidth/i:o=`${1/i*100}%`:s=e.height||"",F("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class dY extends Vc{constructor(e){super(e),this.handleSegClick=(n,i)=>{let{component:r}=this,{context:s}=r,o=Oc(i);if(o&&r.isValidSegDownEl(n.target)){let c=hi(n.target,".fc-event-forced-url"),u=c?c.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:i,event:new ln(r.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),u&&!n.defaultPrevented&&(window.location.href=u)}},this.destroy=iM(e.el,"click",".fc-event",this.handleSegClick)}}class fY extends Vc{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,i)=>{Oc(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",n,i))},this.handleSegLeave=(n,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,i))},this.removeHoverListeners=V6(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,i){let{component:r}=this,{context:s}=r,o=Oc(i);(!n||r.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:i,event:new ln(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class hY extends dl{constructor(){super(...arguments),this.buildViewContext=Ue(Zq),this.buildViewPropTransformers=Ue(pY),this.buildToolbarProps=Ue(gY),this.headerRef=wi(),this.footerRef=wi(),this.interactionsStore={},this.state={viewLabelId:Ga()},this.registerInteractiveComponent=(e,n)=>{let i=ZG(e,n),o=[dY,fY].concat(this.props.pluginHooks.componentInteractions).map(c=>new c(i));this.interactionsStore[e.uid]=o,h0[e.uid]=i},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let i of n)i.destroy();delete this.interactionsStore[e.uid]}delete h0[e.uid]},this.resizeRunner=new p_(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:i}=e,r=!1,s="",o;e.isHeightAuto||e.forPrint?s="":i.height!=null?r=!0:i.contentHeight!=null?s=i.contentHeight:o=Math.max(i.aspectRatio,.5);let c=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return F(ra.Provider,{value:c},F(fl,{unit:"day"},d=>{let h=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return F(qt,null,n.header&&F(mR,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},h)),F(uY,{liquid:r,height:s,aspectRatio:o,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&F(mR,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},h)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let i in n)n[i](e[i],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:i}=n.pluginHooks;for(let r in i)n[r]!==e[r]&&i[r](n[r],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(i=>i(e));return F(qt,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let c of s)Object.assign(r,c.transform(r,e));let o=i.component;return F(o,Object.assign({},r))}}function gY(t,e,n,i,r,s){let o=n.build(r,void 0,!1),c=n.buildPrev(e,i,!1),u=n.buildNext(e,i,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Xs(e.currentRange,r),isPrevEnabled:c.isValid,isNextEnabled:u.isValid}}function pY(t){return t.map(e=>new e)}class mY extends eW{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Gg(()=>{Od(F(XG,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,s,o,c)=>(this.setClassNames(r),this.setHeight(s),F(fM.Provider,{value:this.customContentRenderId},F(hY,Object.assign({isHeightAuto:o,forPrint:c},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Od(null,this.el),this.setClassNames([]),this.setHeight(""))},j6(e),this.el=e,this.renderRunner=new p_(this.handleRenderRequest),new eY({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Gg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Xa(e,this.currentClassNames)){let{classList:n}=this.el;for(let i of this.currentClassNames)n.remove(i);for(let i of e)n.add(i);this.currentClassNames=e}}setHeight(e){tM(this.el,"height",e)}}const yY=parseInt(String(de.version).split(".")[0]),vY=yY<18;class oN extends D.Component{constructor(){super(...arguments),this.elRef=D.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(de.createElement(bY,{key:n.id,customRendering:n}));return de.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new e8;this.handleCustomRendering=e.handle.bind(e),this.calendar=new mY(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{qs.flushSync(()=>{})});let n;e.subscribe(i=>{const r=Date.now(),s=!n;(vY||s||this.isUpdating||this.isUnmounting||r-n<100?lN:qs.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{n=r,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}oN.act=lN;class bY extends D.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,i=typeof n=="function"?n(e.renderProps):n;return qs.createPortal(i,e.containerEl)}}function lN(t){t()}class _Y extends Kr{constructor(){super(...arguments),this.headerElRef=wi()}renderSimpleLayout(e,n){let{props:i,context:r}=this,s=[],o=Kg(r.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),F(kd,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},F(H_,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,i,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:c}=this,u=!o.forPrint&&Kg(c.options),d=!o.forPrint&&GM(c.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:m0}]}),F(kd,{elClasses:["fc-daygrid"],viewSpec:c.viewSpec},F(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:h}))}}function bg(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.row].push(i);return n}function Yh(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.firstCol].push(i);return n}function yR(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}const cN=rn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function uN(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class dN extends Ot{render(){let{props:e}=this;return F(B_,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:cN,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class fN extends Ot{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,s=i.eventTimeFormat||cN,o=pd(r,s,n,!0,e.defaultDisplayEventEnd);return F(Ip,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:I_(e.seg,n),defaultGenerator:wY,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function wY(t){return F(qt,null,F("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title"},t.event.title||F(qt,null," ")))}class SY extends Ot{constructor(){super(...arguments),this.compileSegs=Ue(xY)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return F(KM,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return F(qt,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return F("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:r[o]?"hidden":""}},uN(s)?F(fN,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Zs(s,e.todayRange))):F(dN,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Zs(s,e.todayRange))))}))}})}}function xY(t){let e=[],n=[];for(let i of t)e.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:e,invisibleSegs:n}}const EY=rn({week:"narrow"});class CY extends Kr{constructor(){super(...arguments),this.rootElRef=wi(),this.state={dayNumberId:Ga()},this.handleRootEl=e=>{hs(this.rootElRef,e),hs(this.props.elRef,e)}}render(){let{context:e,props:n,state:i,rootElRef:r}=this,{options:s,dateEnv:o}=e,{date:c,dateProfile:u}=n;const d=n.showDayNumber&&AY(c,u.currentRange,o);return F(V_,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:TY,date:c,dateProfile:u,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(h,p)=>F("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&F(QM,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:kc(e,c,"week"),date:c,defaultFormat:EY}),!p.isDisabled&&(n.showDayNumber||q_(s)||n.forceDayTop)?F("div",{className:"fc-daygrid-day-top"},F(h,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},kc(e,c)),{id:i.dayNumberId})})):n.showDayNumber?F("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},F("a",{className:"fc-daygrid-day-number"}," ")):void 0,F("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,F("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},F(SY,{allDayDate:c,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:r,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),F("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function TY(t){return t.dayNumberText||F(qt,null," ")}function AY(t,e,n){const{start:i,end:r}=e,s=Za(r,-1),o=n.getYear(i),c=n.getMonth(i),u=n.getYear(s),d=n.getMonth(s);return!(o===u&&c===d)&&(t.valueOf()===i.valueOf()||n.getDay(t)===1&&t.valueOf()<r.valueOf())}function hN(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function gN(t){return hN(t)+":"+t.lastCol}function RY(t,e,n,i,r,s,o){let c=new kY(x=>{let T=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return r[T]||1});c.allowReslicing=!0,c.strictOrder=i,e===!0||n===!0?(c.maxCoord=s,c.hiddenConsumes=!0):typeof e=="number"?c.maxStackCnt=e:typeof n=="number"&&(c.maxStackCnt=n,c.hiddenConsumes=!0);let u=[],d=[];for(let x=0;x<t.length;x+=1){let T=t[x],A=gN(T);r[A]!=null?u.push({index:x,span:{start:T.firstCol,end:T.lastCol+1}}):d.push(T)}let h=c.addSegs(u),p=c.toRects(),{singleColPlacements:y,multiColPlacements:m,leftoverMargins:b}=DY(p,t,o),_=[],S=[];for(let x of d){m[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let T=x.firstCol;T<=x.lastCol;T+=1)y[T].push({seg:Ec(x,T,T+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<o.length;x+=1)_.push(0);for(let x of h){let T=t[x.index],A=x.span;m[A.start].push({seg:Ec(T,A.start,A.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let k=A.start;k<A.end;k+=1)_[k]+=1,y[k].push({seg:Ec(T,k,k+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<o.length;x+=1)S.push(b[x]);return{singleColPlacements:y,multiColPlacements:m,moreCnts:_,moreMarginTops:S}}function DY(t,e,n){let i=OY(t,n.length),r=[],s=[],o=[];for(let c=0;c<n.length;c+=1){let u=i[c],d=[],h=0,p=0;for(let m of u){let b=e[m.index];d.push({seg:Ec(b,c,c+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-h}),h=m.levelCoord+m.thickness}let y=[];h=0,p=0;for(let m of u){let b=e[m.index],_=m.span.end-m.span.start>1,S=m.span.start===c;p+=m.levelCoord-h,h=m.levelCoord+m.thickness,_?(p+=m.thickness,S&&y.push({seg:Ec(b,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):S&&(y.push({seg:Ec(b,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:p}),p=0)}r.push(d),s.push(y),o.push(p)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:o}}function OY(t,e){let n=[];for(let i=0;i<e;i+=1)n.push([]);for(let i of t)for(let r=i.span.start;r<i.span.end;r+=1)n[r].push(i);return n}function Ec(t,e,n,i){if(t.firstCol===e&&t.lastCol===n-1)return t;let r=t.eventRange,s=r.range,o=Ja(s,{start:i[e].date,end:kn(i[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class kY extends IM{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:i}=this,r=s=>!this.forceHidden[Ko(s)];for(let s=0;s<i.length;s+=1)i[s]=i[s].filter(r);return n}handleInvalidInsertion(e,n,i){const{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:o,touchingLevel:c,touchingLateral:u}=e;if(this.hiddenConsumes&&o){const d=Ko(o);if(!s[d])if(this.allowReslicing){const h=Object.assign(Object.assign({},o),{span:z_(o.span,n.span)}),p=Ko(h);s[p]=!0,r[c][u]=h,i.push(h),this.splitEntry(o,n,i)}else s[d]=!0,i.push(o)}super.handleInvalidInsertion(e,n,i)}}class pN extends Kr{constructor(){super(...arguments),this.cellElRefs=new Ws,this.frameElRefs=new Ws,this.fgElRefs=new Ws,this.segHarnessRefs=new Ws,this.rootElRef=wi(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:i}=this,{options:r}=i,s=e.cells.length,o=Yh(e.businessHourSegs,s),c=Yh(e.bgEventSegs,s),u=Yh(this.getHighlightSegs(),s),d=Yh(this.getMirrorSegs(),s),{singleColPlacements:h,multiColPlacements:p,moreCnts:y,moreMarginTops:m}=RY(N_(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),b=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return F("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((_,S)=>{let x=this.renderFgSegs(S,e.forPrint?h[S]:p[S],e.todayRange,b),T=this.renderFgSegs(S,MY(d[S],p),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return F(CY,{key:_.key,elRef:this.cellElRefs.createRef(_.key),innerElRef:this.frameElRefs.createRef(_.key),dateProfile:e.dateProfile,date:_.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&S===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:_.extraRenderProps,extraDataAttrs:_.extraDataAttrs,extraClassNames:_.extraClassNames,extraDateSpan:_.extraDateSpan,moreCnt:y[S],moreMarginTop:m[S],singlePlacements:h[S],fgContentElRef:this.fgElRefs.createRef(_.key),fgContent:F(qt,null,F(qt,null,x),F(qt,null,T)),bgContent:F(qt,null,this.renderFillSegs(u[S],"highlight"),this.renderFillSegs(o[S],"non-business"),this.renderFillSegs(c[S],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let i=this.props;this.updateSizing(!Gr(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,i,r,s,o,c){let{context:u}=this,{eventSelection:d}=this.props,{framePositions:h}=this.state,p=this.props.cells.length===1,y=s||o||c,m=[];if(h)for(let b of n){let{seg:_}=b,{instanceId:S}=_.eventRange.instance,x=b.isVisible&&!r[S],T=b.isAbsolute,A="",k="";T&&(u.isRtl?(k=0,A=h.lefts[_.lastCol]-h.lefts[_.firstCol]):(A=0,k=h.rights[_.firstCol]-h.rights[_.lastCol])),m.push(F("div",{className:"fc-daygrid-event-harness"+(T?" fc-daygrid-event-harness-abs":""),key:hN(_),ref:y?null:this.segHarnessRefs.createRef(gN(_)),style:{visibility:x?"":"hidden",marginTop:T?"":b.marginTop,top:T?b.absoluteTop:"",left:A,right:k}},uN(_)?F(fN,Object.assign({seg:_,isDragging:s,isSelected:S===d,defaultDisplayEventEnd:p},Zs(_,i))):F(dN,Object.assign({seg:_,isDragging:s,isResizing:o,isDateSelecting:c,isSelected:S===d,defaultDisplayEventEnd:p},Zs(_,i)))))}return m}renderFillSegs(e,n){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let c of e){let u=i?{right:0,left:s.lefts[c.lastCol]-s.lefts[c.firstCol]}:{left:0,right:s.rights[c.firstCol]-s.rights[c.lastCol]};o.push(F("div",{key:AM(c.eventRange),className:"fc-daygrid-bg-harness",style:u},n==="bg-event"?F(WM,Object.assign({seg:c},Zs(c,r))):YM(n)))}return F(qt,{},...o)}updateSizing(e){let{props:n,state:i,frameElRefs:r}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let u=n.cells.map(d=>r.currentMap[d.key]);if(u.length){let d=this.rootElRef.current,h=new Mc(d,u,!0,!1);(!i.framePositions||!i.framePositions.similarTo(h))&&this.setState({framePositions:new Mc(d,u,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),c=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:c?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);n[i]=Math.max(n[i]||0,r)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}pN.addStateEquality({segHeights:Gr});function MY(t,e){if(!t.length)return[];let n=NY(e);return t.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:n[i.eventRange.instance.instanceId],marginTop:0}))}function NY(t){let e={};for(let n of t)for(let i of n)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class IY extends Kr{constructor(){super(...arguments),this.splitBusinessHourSegs=Ue(bg),this.splitBgEventSegs=Ue(jY),this.splitFgEventSegs=Ue(bg),this.splitDateSelectionSegs=Ue(bg),this.splitEventDrag=Ue(yR),this.splitEventResize=Ue(yR),this.rowRefs=new Ws}render(){let{props:e,context:n}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitFgEventSegs(e.fgEventSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i),h=i>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return F(fl,{unit:"day"},(p,y)=>F(qt,null,e.cells.map((m,b)=>F(pN,{ref:this.rowRefs.createRef(b),key:m.length?m[0].date.toISOString():b,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:y,dateProfile:e.dateProfile,cells:m,renderIntro:e.renderRowIntro,businessHourSegs:r[b],eventSelection:e.eventSelection,bgEventSegs:s[b],fgEventSegs:o[b],dateSelectionSegs:c[b],eventDrag:u[b],eventResize:d[b],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Mc(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Mc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:i,rowPositions:r}=this,s=i.leftToIndex(e),o=r.topToIndex(n);if(o!=null&&s!=null){let c=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:i.lefts[s],right:i.rights[s],top:r.tops[o],bottom:r.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let i=this.props.cells[e][n].date,r=kn(i,1);return{start:i,end:r}}}function jY(t,e){return bg(t.filter(PY),e)}function PY(t){return t.eventRange.def.allDay}class LY extends Kr{constructor(){super(...arguments),this.elRef=wi(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:i,expandRows:r}=e,s=i===!0||n===!0;s&&!r&&(s=!1,n=null,i=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return F("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,F("tbody",{role:"presentation"},F(IY,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=UY(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),i=n.closest(".fc-scroller"),r=e.getBoundingClientRect().top-n.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function UY(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${wq(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Kd(e.currentDate)}"]`)),n}class zY extends FM{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class mN extends Kr{constructor(){super(...arguments),this.slicer=new zY,this.tableRef=wi()}render(){let{props:e,context:n}=this;return F(LY,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class FY extends _Y{constructor(){super(...arguments),this.buildDayTableModel=Ue(HY),this.headerRef=wi(),this.tableRef=wi()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,n),s=e.dayHeaders&&F(LM,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),o=c=>F(mN,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function HY(t,e){let n=new UM(t.renderRange,e);return new zM(n,/year|month|week/.test(t.currentRangeUnit))}class BY extends pM{buildRenderRange(e,n,i){let r=super.buildRenderRange(e,n,i),{props:s}=this;return $Y({currentRange:r,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function $Y(t){let{dateEnv:e,currentRange:n}=t,{start:i,end:r}=n,s;if(t.snapToWeek&&(i=e.startOfWeek(i),s=e.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=WA(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(kn(n.end,-1))),c=Math.ceil(uq(o,r));r=WA(r,6-c)}return{start:i,end:r}}var VY=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Rp(VY);var qY=ms({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:FY,dateProfileGeneratorClass:BY},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class GY extends sW{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?jG(e)?["timed","allDay"]:["allDay"]:["timed"]}}const WY=rn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function yN(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return F(ra.Consumer,null,n=>{if(!t.isLabeled)return F("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:i,options:r,viewApi:s}=n,o=r.slotLabelFormat==null?WY:Array.isArray(r.slotLabelFormat)?rn(r.slotLabelFormat[0]):rn(r.slotLabelFormat),c={level:0,time:t.time,date:i.toDate(t.date),view:s,text:i.format(t.date,o)};return F(pi,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:c,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:YY,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},u=>F("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},F(u,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function YY(t){return t.text}class QY extends Ot{render(){return this.props.slatMetas.map(e=>F("tr",{key:e.key},F(yN,Object.assign({},e))))}}const KY=rn({week:"short"}),XY=5;class ZY extends Kr{constructor(){super(...arguments),this.allDaySplitter=new GY,this.headerElRef=wi(),this.rootElRef=wi(),this.scrollerElRef=wi(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,s=r.renderRange,c=ao(s.start,s.end)===1?kc(this.context,s.start,"week"):{};return i.weekNumbers&&e==="day"?F(QM,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:KY},u=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},F(u,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:c}))):F("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},F("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:i}=this.context,r={text:n.allDayText,view:i};return F(pi,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:JY,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},F(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,i){let{context:r,props:s}=this,o=[],c=Kg(r.options);return e&&o.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),F(kd,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},F(H_,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,i,r,s,o,c){let u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");let{context:d,props:h}=this,p=!h.forPrint&&Kg(d.options),y=!h.forPrint&&GM(d.options),m=[];e&&m.push({type:"header",key:"header",isSticky:p,syncRowHeights:!0,chunks:[{key:"axis",rowContent:_=>F("tr",{role:"presentation"},this.renderHeadAxis("day",_.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:_=>F("tr",{role:"presentation"},this.renderTableRowAxis(_.rowSyncHeights[0]))},{key:"cols",content:n}]}),m.push({key:"all-day-divider",type:"body",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let b=d.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:_=>F("div",{className:"fc-timegrid-axis-chunk"},F("table",{"aria-hidden":!0,style:{height:_.expandRows?_.clientHeight:""}},_.tableColGroupNode,F("tbody",null,F(QY,{slatMetas:o}))),F("div",{className:"fc-timegrid-now-indicator-container"},F(fl,{unit:b?"minute":"day"},S=>{let x=b&&c&&c.safeComputeTop(S);return typeof x=="number"?F($_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:S}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),y&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:m0},{key:"cols",content:m0}]}),F(kd,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},F(u,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:s}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=XY),{dayMaxEvents:e,dayMaxEventRows:n}}}function JY(t){return t.text}class e9{constructor(e,n,i){this.positions=e,this.dateProfile=n,this.slotDuration=i}safeComputeTop(e){let{dateProfile:n}=this;if(Xs(n.currentRange,e)){let i=Yt(e),r=e.valueOf()-i.valueOf();if(r>=Br(n.slotMinTime)&&r<Br(n.slotMaxTime))return this.computeTimeTop(_t(r))}return null}computeDateTop(e,n){return n||(n=Yt(e)),this.computeTimeTop(_t(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:i}=this,r=n.els.length,s=(e.milliseconds-Br(i.slotMinTime))/Br(this.slotDuration),o,c;return s=Math.max(0,s),s=Math.min(r,s),o=Math.floor(s),o=Math.min(o,r-1),c=s-o,n.tops[o]+n.getHeight(o)*c}}class t9 extends Ot{render(){let{props:e,context:n}=this,{options:i}=n,{slatElRefs:r}=e;return F("tbody",null,e.slatMetas.map((s,o)=>{let c={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return F("tr",{key:s.key,ref:r.createRef(s.key)},e.axis&&F(yN,Object.assign({},s)),F(pi,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:c,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class n9 extends Ot{constructor(){super(...arguments),this.rootElRef=wi(),this.slatElRefs=new Ws}render(){let{props:e,context:n}=this;return F("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},F("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,F(t9,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new e9(new Mc(this.rootElRef.current,i9(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function i9(t,e){return e.map(n=>t[n.key])}function Yu(t,e){let n=[],i;for(i=0;i<e;i+=1)n.push([]);if(t)for(i=0;i<t.length;i+=1)n[t[i].col].push(t[i]);return n}function vR(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}class r9 extends Ot{render(){let{props:e}=this;return F(KM,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>bN(e.hiddenSegs,e),defaultGenerator:s9,forceTimed:!0},n=>F(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function s9(t){return t.shortText}function a9(t,e,n){let i=new IM;e!=null&&(i.strictOrder=e),n!=null&&(i.maxStackCnt=n);let r=i.addSegs(t),s=vW(r),o=o9(i);return o=d9(o,1),{segRects:f9(o),hiddenGroups:s}}function o9(t){const{entriesByLevel:e}=t,n=W_((i,r)=>i+":"+r,(i,r)=>{let s=u9(t,i,r),o=bR(s,n),c=e[i][r];return[Object.assign(Object.assign({},c),{nextLevelNodes:o[0]}),c.thickness+o[1]]});return bR(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function bR(t,e){if(!t)return[[],0];let{level:n,lateralStart:i,lateralEnd:r}=t,s=i,o=[];for(;s<r;)o.push(e(n,s)),s+=1;return o.sort(l9),[o.map(c9),o[0][1]]}function l9(t,e){return e[1]-t[1]}function c9(t){return t[0]}function u9(t,e,n){let{levelCoords:i,entriesByLevel:r}=t,s=r[e][n],o=i[e]+s.thickness,c=i.length,u=e;for(;u<c&&i[u]<o;u+=1);for(;u<c;u+=1){let d=r[u],h,p=p0(d,s.span.start,g0),y=p[0]+p[1],m=y;for(;(h=d[m])&&h.span.start<s.span.end;)m+=1;if(y<m)return{level:u,lateralStart:y,lateralEnd:m}}return null}function d9(t,e){const n=W_((i,r,s)=>Ko(i),(i,r,s)=>{let{nextLevelNodes:o,thickness:c}=i,u=c+s,d=c/u,h,p=[];if(!o.length)h=e;else for(let m of o)if(h===void 0){let b=n(m,r,u);h=b[0],p.push(b[1])}else{let b=n(m,h,0);p.push(b[1])}let y=(h-r)*d;return[h-y,Object.assign(Object.assign({},i),{thickness:y,nextLevelNodes:p})]});return t.map(i=>n(i,0,0)[1])}function f9(t){let e=[];const n=W_((r,s,o)=>Ko(r),(r,s,o)=>{let c=Object.assign(Object.assign({},r),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(c),c.stackForward=i(r.nextLevelNodes,s+r.thickness,o+1)+1});function i(r,s,o){let c=0;for(let u of r)c=Math.max(n(u,s,o),c);return c}return i(t,0,0),e}function W_(t,e){const n={};return(...i)=>{let r=t(...i);return r in n?n[r]:n[r]=e(...i)}}function _R(t,e,n=null,i=0){let r=[];if(n)for(let s=0;s<t.length;s+=1){let o=t[s],c=n.computeDateTop(o.start,e),u=Math.max(c+(i||0),n.computeDateTop(o.end,e));r.push({start:Math.round(c),end:Math.round(u)})}return r}function h9(t,e,n,i){let r=[],s=[];for(let d=0;d<t.length;d+=1){let h=e[d];h?r.push({index:d,thickness:1,span:h}):s.push(t[d])}let{segRects:o,hiddenGroups:c}=a9(r,n,i),u=[];for(let d of o)u.push({seg:t[d.index],rect:d});for(let d of s)u.push({seg:d,rect:null});return{segPlacements:u,hiddenGroups:c}}const g9=rn({hour:"numeric",minute:"2-digit",meridiem:!1});class vN extends Ot{render(){return F(B_,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:g9}))}}class p9 extends Ot{constructor(){super(...arguments),this.sortEventSegs=Ue(N_)}render(){let{props:e,context:n}=this,{options:i}=n,r=i.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},c=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return F(V_,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},u=>F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(c,o,!1,!1,!1)),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),F("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),q_(i)&&F(u,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,i,r,s,o){let{props:c}=this;return c.forPrint?bN(e,c):this.renderPositionedFgSegs(e,n,i,r,s,o)}renderPositionedFgSegs(e,n,i,r,s,o){let{eventMaxStack:c,eventShortHeight:u,eventOrderStrict:d,eventMinHeight:h}=this.context.options,{date:p,slatCoords:y,eventSelection:m,todayRange:b,nowDate:_}=this.props,S=i||r||s,x=_R(e,p,y,h),{segPlacements:T,hiddenGroups:A}=h9(e,x,d,c);return F(qt,null,this.renderHiddenGroups(A,e),T.map(k=>{let{seg:O,rect:P}=k,N=O.eventRange.instance.instanceId,M=S||!!(!n[N]&&P),B=ib(P&&P.span),V=!S&&P?this.computeSegHStyle(P):{left:0,right:0},W=!!P&&P.stackForward>0,X=!!P&&P.span.end-P.span.start<u;return F("div",{className:"fc-timegrid-event-harness"+(W?" fc-timegrid-event-harness-inset":""),key:o||N,style:Object.assign(Object.assign({visibility:M?"":"hidden"},B),V)},F(vN,Object.assign({seg:O,isDragging:i,isResizing:r,isDateSelecting:s,isSelected:N===m,isShort:X},Zs(O,b,_))))}))}renderHiddenGroups(e,n){let{extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:o,eventSelection:c,eventDrag:u,eventResize:d}=this.props;return F(qt,null,e.map(h=>{let p=ib(h.span),y=m9(h.entries,n);return F(r9,{key:oM(XM(y)),hiddenSegs:y,top:p.top,bottom:p.bottom,extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:o,eventSelection:c,eventDrag:u,eventResize:d})}))}renderFillSegs(e,n){let{props:i,context:r}=this,o=_R(e,i.date,i.slatCoords,r.options.eventMinHeight).map((c,u)=>{let d=e[u];return F("div",{key:AM(d.eventRange),className:"fc-timegrid-bg-harness",style:ib(c)},n==="bg-event"?F(WM,Object.assign({seg:d},Zs(d,i.todayRange,i.nowDate))):YM(n))});return F(qt,null,o)}renderNowIndicator(e){let{slatCoords:n,date:i}=this.props;return n?e.map((r,s)=>F($_,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:n,options:i}=this.context,r=i.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness,c,u;r&&(o=Math.min(1,s+(o-s)*2)),n?(c=1-o,u=s):(c=s,u=1-o);let d={zIndex:e.stackDepth+1,left:c*100+"%",right:u*100+"%"};return r&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=20),d}}function bN(t,{todayRange:e,nowDate:n,eventSelection:i,eventDrag:r,eventResize:s}){let o=(r?r.affectedInstances:null)||(s?s.affectedInstances:null)||{};return F(qt,null,t.map(c=>{let u=c.eventRange.instance.instanceId;return F("div",{key:u,style:{visibility:o[u]?"hidden":""}},F(vN,Object.assign({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===i,isShort:!1},Zs(c,e,n))))}))}function ib(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function m9(t,e){return t.map(n=>e[n.index])}class y9 extends Ot{constructor(){super(...arguments),this.splitFgEventSegs=Ue(Yu),this.splitBgEventSegs=Ue(Yu),this.splitBusinessHourSegs=Ue(Yu),this.splitNowIndicatorSegs=Ue(Yu),this.splitDateSelectionSegs=Ue(Yu),this.splitEventDrag=Ue(vR),this.splitEventResize=Ue(vR),this.rootElRef=wi(),this.cellElRefs=new Ws}render(){let{props:e,context:n}=this,i=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,r),o=this.splitBgEventSegs(e.bgEventSegs,r),c=this.splitBusinessHourSegs(e.businessHourSegs,r),u=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),d=this.splitDateSelectionSegs(e.dateSelectionSegs,r),h=this.splitEventDrag(e.eventDrag,r),p=this.splitEventResize(e.eventResize,r);return F("div",{className:"fc-timegrid-cols",ref:this.rootElRef},F("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,F("tbody",{role:"presentation"},F("tr",{role:"row"},e.axis&&F("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&F($_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((y,m)=>F(p9,{key:y.key,elRef:this.cellElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,fgEventSegs:s[m],bgEventSegs:o[m],businessHourSegs:c[m],nowIndicatorSegs:u[m],dateSelectionSegs:d[m],eventDrag:h[m],eventResize:p[m],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Mc(this.rootElRef.current,v9(this.cellElRefs.currentMap,e.cells),!0,!1))}}function v9(t,e){return e.map(n=>t[n.key])}class b9 extends Kr{constructor(){super(...arguments),this.processSlotOptions=Ue(_9),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:i}=this.state;if(n&&i){if(e.time){let r=i.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),n(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return F("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F(n9,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),F(y9,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:i,options:r}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:c}=this.state,{snapDuration:u,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),h=s.leftToIndex(e),p=c.positions.topToIndex(n);if(h!=null&&p!=null){let y=this.props.cells[h],m=c.positions.tops[p],b=c.positions.getHeight(p),_=(n-m)/b,S=Math.floor(_*d),x=p*d+S,T=this.props.cells[h].date,A=o0(o.slotMinTime,aq(u,x)),k=i.add(T,A),O=i.add(k,u);return{dateProfile:o,dateSpan:Object.assign({range:{start:k,end:O},allDay:!1},y.extraDateSpan),dayEl:s.els[h],rect:{left:s.lefts[h],right:s.rights[h],top:m,bottom:m+b},layer:0}}return null}}function _9(t,e){let n=e||t,i=b_(t,n);return i===null&&(n=t,i=1),{snapDuration:n,snapsPerSlot:i}}class w9 extends FM{sliceRange(e,n){let i=[];for(let r=0;r<n.length;r+=1){let s=Ja(e,n[r]);s&&i.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:r})}return i}}class S9 extends Kr{constructor(){super(...arguments),this.buildDayRanges=Ue(x9),this.slicer=new w9,this.timeColsRef=wi()}render(){let{props:e,context:n}=this,{dateProfile:i,dayTableModel:r}=e,{nowIndicator:s,nextDayThreshold:o}=n.options,c=this.buildDayRanges(r,i,n.dateEnv);return F(fl,{unit:s?"minute":"day"},(u,d)=>F(b9,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,n,c),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:u,nowIndicatorSegs:s&&this.slicer.sliceNowDate(u,i,o,n,c),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function x9(t,e,n){let i=[];for(let r of t.headerDates)i.push({start:n.add(r,e.slotMinTime),end:n.add(r,e.slotMaxTime)});return i}const wR=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function E9(t,e,n,i,r){let s=new Date(0),o=t,c=_t(0),u=n||C9(i),d=[];for(;Br(o)<Br(e);){let h=r.add(s,o),p=b_(c,u)!==null;d.push({date:h,time:o,key:h.toISOString(),isoTimeStr:Sq(h),isLabeled:p}),o=o0(o,i),c=o0(c,i)}return d}function C9(t){let e,n,i;for(e=wR.length-1;e>=0;e-=1)if(n=_t(wR[e]),i=b_(n,t),i!==null&&i>1)return n;return t}class T9 extends ZY{constructor(){super(...arguments),this.buildTimeColsModel=Ue(A9),this.buildSlatMetas=Ue(E9)}render(){let{options:e,dateEnv:n,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:s}=r,o=this.buildTimeColsModel(s,i),c=this.allDaySplitter.splitProps(r),u=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,h=!d,p=d,y=e.dayHeaders&&F(LM,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),m=e.allDaySlot!==!1&&(_=>F(mN,Object.assign({},c.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:_.tableMinWidth,colGroupNode:_.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:_.clientWidth,clientHeight:_.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),b=_=>F(S9,Object.assign({},c.timed,{dayTableModel:o,dateProfile:s,axis:h,slotDuration:e.slotDuration,slatMetas:u,forPrint:r.forPrint,tableColGroupNode:_.tableColGroupNode,tableMinWidth:_.tableMinWidth,clientWidth:_.clientWidth,clientHeight:_.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:_.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return p?this.renderHScrollLayout(y,m,b,o.colCnt,d,u,this.state.slatCoords):this.renderSimpleLayout(y,m,b)}}function A9(t,e){let n=new UM(t.renderRange,e);return new zM(n,!1)}var R9='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Rp(R9);const D9={allDaySlot:Boolean};var O9=ms({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:D9,views:{timeGrid:{component:T9,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class k9 extends Ot{constructor(){super(...arguments),this.state={textId:Ga()}}render(){let{theme:e,dateEnv:n,options:i,viewApi:r}=this.context,{cellId:s,dayDate:o,todayRange:c}=this.props,{textId:u}=this.state,d=P_(o,c),h=i.listDayFormat?n.format(o,i.listDayFormat):"",p=i.listDaySideFormat?n.format(o,i.listDaySideFormat):"",y=Object.assign({date:n.toDate(o),view:r,textId:u,text:h,sideText:p,navLinkAttrs:kc(this.context,o),sideNavLinkAttrs:kc(this.context,o,"day",!1)},d);return F(pi,{elTag:"tr",elClasses:["fc-list-day",...Np(d,e)],elAttrs:{"data-date":Kd(o)},renderProps:y,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:M9,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},m=>F("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":u},F(m,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function M9(t){return F(qt,null,t.text&&F("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&F("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const N9=rn({hour:"numeric",minute:"2-digit",meridiem:"short"});class I9 extends Ot{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r,timeHeaderId:s,eventHeaderId:o,dateHeaderId:c}=e,u=i.eventTimeFormat||N9;return F(Ip,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>j9(r,n),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(d,h)=>F(qt,null,P9(r,u,n,s,c),F("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},F("span",{className:"fc-list-event-dot",style:{borderColor:h.borderColor||h.backgroundColor}})),F(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${o} ${c}`}})))}}function j9(t,e){let n=I_(t,e);return F("a",Object.assign({},n),t.eventRange.def.title)}function P9(t,e,n,i,r){let{options:s}=n;if(s.displayEventTime!==!1){let o=t.eventRange.def,c=t.eventRange.instance,u=!1,d;if(o.allDay?u=!0:lG(t.eventRange.range)?t.isStart?d=pd(t,e,n,null,null,c.range.start,t.end):t.isEnd?d=pd(t,e,n,null,null,t.start,c.range.end):u=!0:d=pd(t,e,n),u){let h={text:n.options.allDayText,view:n.viewApi};return F(pi,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:h,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:L9,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return F("td",{className:"fc-list-event-time"},d)}return null}function L9(t){return t.text}class U9 extends Kr{constructor(){super(...arguments),this.computeDateVars=Ue(F9),this.eventStoreToSegs=Ue(this._eventStoreToSegs),this.state={timeHeaderId:Ga(),eventHeaderId:Ga(),dateHeaderIdRoot:Ga()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return F(kd,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},F(VM,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,i={text:e.noEventsText,view:n};return F(pi,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:z9,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>F(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:i,options:r}=this.context,{timeHeaderId:s,eventHeaderId:o,dateHeaderIdRoot:c}=this.state,u=H9(e);return F(fl,{unit:"day"},(d,h)=>{let p=[];for(let y=0;y<u.length;y+=1){let m=u[y];if(m){let b=Kd(n[y]),_=c+"-"+b;p.push(F(k9,{key:b,cellId:_,dayDate:n[y],todayRange:h})),m=N_(m,r.eventOrder);for(let S of m)p.push(F(I9,Object.assign({key:b+":"+S.eventRange.instance.instanceId,seg:S,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:o,dateHeaderId:_},Zs(S,h,d))))}}return F("table",{className:"fc-list-table "+i.getClass("table")},F("thead",null,F("tr",null,F("th",{scope:"col",id:s},r.timeHint),F("th",{scope:"col","aria-hidden":!0}),F("th",{scope:"col",id:o},r.eventHint))),F("tbody",null,p))})}_eventStoreToSegs(e,n,i){return this.eventRangesToSegs(f0(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,n){let i=[];for(let r of e)i.push(...this.eventRangeToSegs(r,n));return i}eventRangeToSegs(e,n){let{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,s=e.range,o=e.def.allDay,c,u,d,h=[];for(c=0;c<n.length;c+=1)if(u=Ja(s,n[c]),u&&(d={component:this,eventRange:e,start:u.start,end:u.end,isStart:e.isStart&&u.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&u.end.valueOf()===s.end.valueOf(),dayIndex:c},h.push(d),!d.isEnd&&!o&&c+1<n.length&&s.end<i.add(n[c+1].start,r))){d.end=s.end,d.isEnd=!0;break}return h}}function z9(t){return t.text}function F9(t){let e=Yt(t.renderRange.start),n=t.renderRange.end,i=[],r=[];for(;e<n;)i.push(e),r.push({start:e,end:kn(e,1)}),e=kn(e,1);return{dayDates:i,dayRanges:r}}function H9(t){let e=[],n,i;for(n=0;n<t.length;n+=1)i=t[n],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var B9=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Rp(B9);const $9={listDayFormat:SR,listDaySideFormat:SR,noEventsClassNames:oe,noEventsContent:oe,noEventsDidMount:oe,noEventsWillUnmount:oe};function SR(t){return t===!1?null:rn(t)}var V9=ms({name:"@fullcalendar/list",optionRefiners:$9,views:{list:{component:U9,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});F_.touchMouseIgnoreWait=500;let v0=0,Xg=0,b0=!1;class _N{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&q9(n)&&this.tryStart(n)){let i=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let i=this.createEventFromMouse(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let i=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=n.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let i=this.createEventFromTouch(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=n=>{if(this.isDragging){let i=n.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,G9()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new Mp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),W9()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Y9()}tryStart(e){let n=this.querySubjectEl(e),i=e.target;return n&&(!this.handleSelector||hi(i,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){b0=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?hi(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return v0||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(b0=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let i=0,r=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,n){let i=e.touches,r,s,o=0,c=0;return i&&i.length?(r=i[0].pageX,s=i[0].pageY):(r=e.pageX,s=e.pageY),n?(this.origPageX=r,this.origPageY=s):(o=r-this.origPageX,c=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:o,deltaY:c}}}function q9(t){return t.button===0&&!t.ctrlKey}function G9(){v0+=1,setTimeout(()=>{v0-=1},F_.touchMouseIgnoreWait)}function W9(){Xg+=1,Xg===1&&window.addEventListener("touchmove",wN,{passive:!1})}function Y9(){Xg-=1,Xg||window.removeEventListener("touchmove",wN,{passive:!1})}function wN(t){b0&&t.preventDefault()}class Q9{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let i=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,n){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+n+"ms,left "+n+"ms",fd(i,{left:r.left,top:r.top}),q6(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(m_(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&fd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),fd(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class SN extends U_{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class xN extends SN{constructor(e,n){super(new mW(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return gW(this.scrollController.el)}}class K9 extends SN{constructor(e){super(new yW,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const xR=typeof performance=="function"?performance.now:Date.now;class X9{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=xR();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let i=e-window.scrollX,r=n-window.scrollY,s=this.pointerScreenY===null?0:r-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(xR()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:i}=e,{edgeThreshold:r}=this,s=r-e.distance,o=s*s/(r*r)*this.maxVelocity*n,c=1;switch(e.name){case"left":c=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*c);break;case"top":c=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*c);break}}computeBestEdge(e,n){let{edgeThreshold:i}=this,r=null,s=this.scrollCaches||[];for(let o of s){let c=o.clientRect,u=e-c.left,d=c.right-e,h=n-c.top,p=c.bottom-n;u>=0&&d>=0&&h>=0&&p>=0&&(h<=i&&this.everMovedUp&&o.canScrollUp()&&(!r||r.distance>h)&&(r={scrollCache:o,name:"top",distance:h}),p<=i&&this.everMovedDown&&o.canScrollDown()&&(!r||r.distance>p)&&(r={scrollCache:o,name:"bottom",distance:p}),u<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!r||r.distance>u)&&(r={scrollCache:o,name:"left",distance:u}),d<=i&&this.everMovedRight&&o.canScrollRight()&&(!r||r.distance>d)&&(r={scrollCache:o,name:"right",distance:d}))}return r}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new K9(!1):new xN(n,!1))}queryScrollEls(e){let n=[];for(let i of this.scrollQuery)typeof i=="object"?n.push(i):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return n}}class Zd extends _W{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,G6(document.body),Y6(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:c,deltaY:u}=r;o=c*c+u*u,o>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,W6(document.body),Q6(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new _N(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),n&&(i.selector=n),this.mirror=new Q9,this.autoScroller=new X9}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Z9{constructor(e){this.el=e,this.origRect=L_(e),this.scrollCaches=NM(e).map(n=>new xN(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let i={left:e,top:n};for(let r of this.scrollCaches)if(!J9(r.getEventTarget())&&!tW(i,r.clientRect))return!1;return!0}}function J9(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class jp{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Mp}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},i=n,r=e.subjectEl,s;r instanceof HTMLElement&&(s=L_(r),i=nW(i,s));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&s){let c=kM(s,o.rect);c&&(i=iW(c))}this.coordAdjust=rW(i,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Pp(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=ea(this.droppableStore,e=>(e.component.prepareHits(),new Z9(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:i,offsetTrackers:r}=this,s=null;for(let o in i){let c=i[o].component,u=r[o];if(u&&u.isWithinClipping(e,n)){let d=u.computeLeft(),h=u.computeTop(),p=e-d,y=n-h,{origRect:m}=u,b=m.right-m.left,_=m.bottom-m.top;if(p>=0&&p<b&&y>=0&&y<_){let S=c.queryHit(p,y,b,_);S&&Op(S.dateProfile.activeRange,S.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(p+d-window.scrollX,y+h-window.scrollY)))&&(!s||S.layer>s.layer)&&(S.componentId=o,S.context=c.context,S.rect.left+=d,S.rect.right+=d,S.rect.top+=h,S.rect.bottom+=h,s=S)}}}return s}}function Pp(t,e){return!t&&!e?!0:!!t!=!!e?!1:VG(t.dateSpan,e.dateSpan)}function EN(t,e){let n={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(n,i(t,e));return Object.assign(n,e7(t,e.dateEnv)),n}function e7(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class t7 extends Vc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,s=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:c}=this.hitDragging;if(o&&c&&Pp(o,c)){let{context:u}=r,d=Object.assign(Object.assign({},EN(o.dateSpan,u)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",d)}}},this.dragging=new Zd(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new jp(this.dragging,j_(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class n7 extends Vc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:c,dragging:u}=this,{options:d}=c.context,h=d.selectable&&c.isValidDateDownEl(o.origEvent.target);u.setIgnoreMove(!h),u.delay=o.isTouch?i7(c):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,c)=>{let{context:u}=this.component,d=null,h=!1;if(o){let p=this.hitDragging.initialHit;o.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,o)||(d=r7(p,o,u.pluginHooks.dateSelectionTransformers)),(!d||!TW(d,o.dateProfile,u))&&(h=!0,d=null)}d?u.dispatch({type:"SELECT_DATES",selection:d}):c||u.dispatch({type:"UNSELECT_DATES"}),h?y_():v_(),c||(this.dragSelection=d)},this.handlePointerUp=o=>{this.dragSelection&&(EM(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:i}=n.context,r=this.dragging=new Zd(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new jp(this.dragging,j_(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function i7(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function r7(t,e,n){let i=t.dateSpan,r=e.dateSpan,s=[i.range.start,i.range.end,r.range.start,r.range.end];s.sort(eq);let o={};for(let c of n){let u=c(t,e);if(u===!1)return null;u&&Object.assign(o,u)}return o.range={start:s[0],end:s[3]},o.allDay=i.allDay,o}class Jd extends Vc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let c=o.origEvent.target,{component:u,dragging:d}=this,{mirror:h}=d,{options:p}=u.context,y=u.context;this.subjectEl=o.subjectEl;let m=this.subjectSeg=Oc(o.subjectEl),_=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=D_(y.getCurrentData().eventStore,_),d.minDistance=o.isTouch?0:p.eventDragMinDistance,d.delay=o.isTouch&&_!==u.props.eventSelection?a7(u):null,p.fixedMirrorParent?h.parentNode=p.fixedMirrorParent:h.parentNode=hi(c,".fc"),h.revertDuration=p.dragRevertDuration;let S=u.isValidSegDownEl(c)&&!hi(c,".fc-event-resizer");d.setIgnoreMove(!S),this.isDragging=S&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let c=this.component.context,u=this.eventRange,d=u.instance.instanceId;o.isTouch?d!==this.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):c.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(c.calendarApi.unselect(o),c.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ln(c,u.def,u.instance),jsEvent:o.origEvent,view:c.viewApi}))},this.handleHitUpdate=(o,c)=>{if(!this.isDragging)return;let u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.component.context,p=null,y=null,m=null,b=!1,_={affectedEvents:u,mutatedEvents:er(),isEvent:!0};if(o){p=o.context;let S=p.options;h===p||S.editable&&S.droppable?(y=s7(d,o,this.eventRange.instance.range.start,p.getCurrentData().pluginHooks.eventDragMutationMassagers),y&&(m=M_(u,p.getCurrentData().eventUiBases,y,p),_.mutatedEvents=m,HM(_,o.dateProfile,p)||(b=!0,y=null,m=null,_.mutatedEvents=er()))):p=null}this.displayDrag(p,_),b?y_():v_(),c||(h===p&&Pp(d,o)&&(y=null),this.dragging.setMirrorNeedsRevert(!y),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=p,this.validMutation=y,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let c=this.component.context,u=c.viewApi,{receivingContext:d,validMutation:h}=this,p=this.eventRange.def,y=this.eventRange.instance,m=new ln(c,p,y),b=this.relevantEvents,_=this.mutatedRelevantEvents,{finalHit:S}=this.hitDragging;if(this.clearDrag(),c.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:o.origEvent,view:u}),h){if(d===c){let x=new ln(c,_.defs[p.defId],y?_.instances[y.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:_});let T={oldEvent:m,event:x,relatedEvents:Qo(_,c,y),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:b})}},A={};for(let k of c.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(A,k(h,c));c.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},T),A),{el:o.subjectEl,delta:h.datesDelta,jsEvent:o.origEvent,view:u})),c.emitter.trigger("eventChange",T)}else if(d){let x={event:m,relatedEvents:Qo(b,c,y),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:b})}};c.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:o.subjectEl,view:u})),c.dispatch({type:"REMOVE_EVENTS",eventStore:b}),c.emitter.trigger("eventRemove",x);let T=_.defs[p.defId],A=_.instances[y.instanceId],k=new ln(d,T,A);d.dispatch({type:"MERGE_EVENTS",eventStore:_});let O={event:k,relatedEvents:Qo(_,d,A),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:_})}};d.emitter.trigger("eventAdd",O),o.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:y.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},EN(S.dateSpan,d)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:S.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},O),{draggedEl:o.subjectEl,view:S.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:i}=n.context,r=this.dragging=new Zd(e.el);r.pointer.selector=Jd.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new jp(this.dragging,h0);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:er(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Jd.SELECTOR=".fc-event-draggable, .fc-event-resizable";function s7(t,e,n,i){let r=t.dateSpan,s=e.dateSpan,o=r.range.start,c=s.range.start,u={};r.allDay!==s.allDay&&(u.allDay=s.allDay,u.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=Yt(n):o=n);let d=mc(o,c,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(u.allDay=!1);let h={datesDelta:d,standardProps:u};for(let p of i)p(h,t,e);return h}function a7(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class o7 extends Vc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,c=this.querySegEl(s),u=Oc(c),d=this.eventRange=u.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,c=this.eventRange;this.relevantEvents=D_(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(s);this.draggingSegEl=u,this.draggingSeg=Oc(u),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:u,event:new ln(o,c.def,c.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,c)=>{let{context:u}=this.component,d=this.relevantEvents,h=this.hitDragging.initialHit,p=this.eventRange.instance,y=null,m=null,b=!1,_={affectedEvents:d,mutatedEvents:er(),isEvent:!0};s&&(s.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,s)||(y=l7(h,s,c.subjectEl.classList.contains("fc-event-resizer-start"),p.range))),y&&(m=M_(d,u.getCurrentData().eventUiBases,y,u),_.mutatedEvents=m,HM(_,s.dateProfile,u)||(b=!0,y=null,m=null,_.mutatedEvents=null)),m?u.dispatch({type:"SET_EVENT_RESIZE",state:_}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),b?y_():v_(),o||(y&&Pp(h,s)&&(y=null),this.validMutation=y,this.mutatedRelevantEvents=m)},this.handleDragEnd=s=>{let{context:o}=this.component,c=this.eventRange.def,u=this.eventRange.instance,d=new ln(o,c,u),h=this.relevantEvents,p=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let y=new ln(o,p.defs[c.defId],u?p.instances[u.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:p});let m={oldEvent:d,event:y,relatedEvents:Qo(p,o,u),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:h})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||_t(0),endDelta:this.validMutation.endDelta||_t(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",m)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,i=this.dragging=new Zd(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;let r=this.hitDragging=new jp(this.dragging,j_(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return hi(e.subjectEl,".fc-event")}}function l7(t,e,n,i){let r=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,c=mc(s,o,r,t.largeUnit);if(n){if(r.add(i.start,c)<i.end)return{startDelta:c}}else if(r.add(i.end,c)>i.start)return{endDelta:c};return null}class c7{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,s=nM(i.origEvent);this.matchesCancel=!!hi(s,r),this.matchesEvent=!!hi(s,Jd.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:s}=this,o=r.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let c=r.options.unselectAuto;c&&(!c||!this.matchesCancel)&&r.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new _N(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const u7={fixedMirrorParent:oe},d7={dateClick:oe,eventDragStart:oe,eventDragStop:oe,eventDrop:oe,eventResizeStart:oe,eventResizeStop:oe,eventResize:oe,drop:oe,eventReceive:oe,eventLeave:oe};F_.dataAttrPrefix="";var f7=ms({name:"@fullcalendar/interaction",componentInteractions:[t7,n7,Jd,o7],calendarInteractions:[c7],elementDraggingImpl:Zd,optionRefiners:u7,listenerRefiners:d7});function h7({machineId:t,refreshTrigger:e}){const[n,i]=D.useState(!1),[r,s]=D.useState({}),o=de.useRef(null),{machines:c}=Er(),{odpOrders:u}=fn(),{machineAvailability:d,loadMachineAvailabilityForDateRange:h,toggleMachineHourAvailability:p,getTaskOccupiedSegments:y}=ds(),{showAlert:m}=Mt();ps("FullCalendarGrid");const b=c.find(O=>O.id===t),_=D.useCallback(O=>{try{const P=y(O);return P&&P.length>0?P:O.scheduled_start_time&&O.scheduled_end_time?[{start:new Date(O.scheduled_start_time),end:new Date(O.scheduled_end_time),duration:(new Date(O.scheduled_end_time).getTime()-new Date(O.scheduled_start_time).getTime())/(1e3*60*60)}]:[]}catch(P){return console.warn("Failed to get task segments:",P),[]}},[y]),S=D.useMemo(()=>{if(!b)return[];const O=[];return u.filter(P=>P.status==="SCHEDULED"&&P.scheduled_machine_id===b.id&&P.scheduled_start_time&&P.scheduled_end_time).forEach(P=>{const N=_(P);N.forEach((M,B)=>{const V=N.length>1;O.push({id:`${P.id}-segment-${B}`,title:`${P.odp_number} - ${P.article_code}${V?` (${B+1}/${N.length})`:""}`,start:M.start,end:M.end,backgroundColor:V?"#8b5cf6":"#3b82f6",borderColor:V?"#7c3aed":"#2563eb",textColor:"#ffffff",extendedProps:{taskId:P.id,odpNumber:P.odp_number,articleCode:P.article_code,quantity:P.quantity,status:P.status,segmentIndex:B,totalSegments:N.length,isSplitTask:V}})})}),O},[b,u,_]),x=D.useMemo(()=>{if(!d||!b)return[];const O=[];return Object.entries(d).forEach(([P,N])=>{if(Array.isArray(N)){const M=N.find(B=>B.machine_id===t);M&&M.unavailable_hours&&(Array.isArray(M.unavailable_hours)?M.unavailable_hours:[]).forEach(V=>{const W=parseInt(V);if(W<6||W>=22)return;const X=new Date(P);X.setUTCHours(W,0,0,0);const ce=new Date(X);ce.setUTCHours(W+1,0,0,0),O.push({id:`availability-${P}-${V}`,title:"Unavailable",start:X,end:ce,backgroundColor:"#ef4444",borderColor:"#dc2626",textColor:"#ffffff",display:"background",extendedProps:{type:"availability",date:P,hour:parseInt(V)}})})}}),O},[d,t,b]);D.useEffect(()=>{(async()=>{if(t){i(!0);try{const P=new Date,N=new Date(Date.UTC(P.getUTCFullYear(),P.getUTCMonth(),1)),M=new Date(Date.UTC(P.getUTCFullYear(),P.getUTCMonth()+1,0));await h(t,Kn(N,"yyyy-MM-dd"),Kn(M,"yyyy-MM-dd"))}catch(P){console.error("Failed to load machine availability data:",P)}finally{i(!1)}}})()},[t,e]);const T=D.useCallback(async O=>{const P=O.date,N=Kn(P,"yyyy-MM-dd"),M=P.getUTCHours();if(S.some(W=>{const X=new Date(W.start),ce=new Date(W.end),ye=new Date(P);return ye>=X&&ye<ce})){m("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!b)return;const V=`${N}-${M}`;s(W=>({...W,[V]:!0}));try{await p(b.id,N,M)}catch(W){console.error("Failed to toggle machine hour availability:",W),m("An unexpected error occurred.","error")}finally{s(W=>({...W,[V]:!1}))}},[S,m,b,p]),A=D.useCallback(O=>{const P=O.event,N=P.extendedProps;N.type==="availability"?console.log("Availability event clicked:",N):console.log("Scheduled task clicked:",{odpNumber:N.odpNumber,articleCode:N.articleCode,quantity:N.quantity,start:P.start,end:P.end})},[]),k=D.useMemo(()=>({plugins:[qY,O9,V9,f7],initialView:"dayGridMonth",initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},height:"auto",locale:"it",timeZone:"UTC",firstDay:lV.APP.FIRST_DAY_OF_WEEK,slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},dayHeaderFormat:{weekday:"short",day:"numeric"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},buttonText:{today:"Oggi",month:"Mese",week:"Settimana",day:"Giorno"},eventClick:A,dateClick:T,events:[...S,...x]}),[A,T,S,x]);return b?n?C.jsx("div",{className:"loading",children:"Loading calendar data..."}):C.jsx("div",{className:"fullcalendar-container",children:C.jsx(oN,{ref:o,...k})}):C.jsx("div",{className:"loading",children:"Loading machine data..."})}function g7(){const{machineId:t}=hp(),[e,n]=D.useState(0),{getMachineById:i}=Er(),{isLoading:r,isInitialized:s}=Mt(),{init:o,cleanup:c}=ro(),u=i(t);if(D.useEffect(()=>{if(!s){console.log("Initializing main store...");const h=o(),p=new Promise((y,m)=>setTimeout(()=>m(new Error("Initialization timeout")),1e4));Promise.race([h,p]).catch(y=>{console.error("Initialization failed or timed out:",y)})}return()=>{c()}},[o,s,c]),r)return C.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:C.jsxs("div",{className:"text-center py-1 text-gray-500 text-[10px]",children:["Caricamento calendario macchina... (Loading: ",r.toString(),", Initialized: ",s.toString(),")"]})});if(!u)return C.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:C.jsxs("div",{className:"text-center py-1 text-red-600 text-[10px]",children:["Macchina non trovata (ID: ",t,", Initialized: ",s.toString(),")"]})});const d=()=>{n(h=>h+1)};return C.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[C.jsx(h6,{title:"Calendario Disponibilità Macchina"}),C.jsx("div",{className:"mb-1",children:C.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:u.machine_name})}),!1,C.jsx(g6,{machineId:u.id,currentDate:new Date,onSuccess:d}),C.jsx(h7,{machineId:u.id,refreshTrigger:e})]})}function p7(){const{data:t=[],isLoading:e,error:n}=l_(),i=j4(),{selectedWorkCenter:r,isInitialized:s,showConfirmDialog:o}=Mt(),{init:c,cleanup:u}=ro(),d=gs(),h=D.useMemo(()=>r?r===wt.BOTH?t:t.filter(b=>b.work_center===r):[],[t,r]);ps("PhasesListPage"),D.useEffect(()=>(s||c(),()=>{u()}),[c,s,u]);const p=D.useMemo(()=>[{header:"Nome Fase",accessorKey:"name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Numero Persone",accessorKey:"numero_persone"},{header:"V Stampa",accessorKey:"v_stampa"},{header:"T Setup Stampa (h)",accessorKey:"t_setup_stampa"},{header:"Costo H Stampa",accessorKey:"costo_h_stampa"},{header:"V Conf",accessorKey:"v_conf"},{header:"T Setup Conf (h)",accessorKey:"t_setup_conf"},{header:"Costo H Conf",accessorKey:"costo_h_conf"},{header:"Contenuto Fase",accessorKey:"contenuto_fase"}],[]),y=b=>{d(`/phases/${b.id}/edit`)},m=async b=>{o("Elimina Fase",`Sei sicuro di voler eliminare "${b.name}"? Questa azione non può essere annullata.`,async()=>{try{await i.mutateAsync(b.id),Ya(`Fase "${b.name}" eliminata con successo`)}catch(_){Fr(_.message||"Errore durante l'eliminazione della fase")}},"danger")};return e?C.jsx("div",{children:"Caricamento dati fasi..."}):n?C.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle fasi: ",n.message]}):r?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Fasi"}),C.jsx(Ln,{to:"/phases/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Fase"})]}),C.jsx(n_,{columns:p,data:h,onEditRow:y,onDeleteRow:m})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle fasi."})}function m7({phaseToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Mt(),i=N4(),r=I4(),{handleAsync:s}=ps("PhasesForm"),o=!!t,c=D.useMemo(()=>{const h={...ns};return n!==wt.BOTH&&(h.sections[0].fields[3].disabled=!0,h.sections[0].fields[3].defaultValue=n,h.sections[0].fields[3].helpText="Il centro di lavoro è impostato in base alla tua selezione di accesso"),h},[n]),u=D.useMemo(()=>({name:t?.name||"",department:t?.department||ns.sections[0].fields[1].defaultValue,numero_persone:t?.numero_persone||ns.sections[0].fields[2].defaultValue,work_center:t?.work_center||(n===wt.BOTH?ns.sections[0].fields[3].defaultValue:n),v_stampa:t?.v_stampa||ns.sections[1].fields[0].defaultValue,t_setup_stampa:t?.t_setup_stampa||ns.sections[1].fields[1].defaultValue,costo_h_stampa:t?.costo_h_stampa||ns.sections[1].fields[2].defaultValue,v_conf:t?.v_conf||ns.sections[2].fields[0].defaultValue,t_setup_conf:t?.t_setup_conf||ns.sections[2].fields[1].defaultValue,costo_h_conf:t?.costo_h_conf||ns.sections[2].fields[2].defaultValue,contenuto_fase:t?.contenuto_fase||""}),[n,t]),d=async h=>{await s(async()=>{o?await r.mutateAsync({id:t.id,updates:h}):await i.mutateAsync(h),e&&e(),Ya(o?"Fase aggiornata con successo":"Fase aggiunta con successo")},{context:o?"Update Phase":"Add Phase",fallbackMessage:o?"Aggiornamento fase fallito":"Aggiunta fase fallita"})};return C.jsx(Tp,{config:c,initialData:u,onSubmit:d,onSuccess:e,isEditMode:o})}function ER(){const{id:t}=hp(),e=gs(),{selectedWorkCenter:n}=Mt(),{isLoading:i,isInitialized:r,init:s,cleanup:o}=ro(),c=!!t,{data:u,isLoading:d,error:h}=M4(t);return D.useEffect(()=>(r||s(),()=>{o()}),[s,r,o]),D.useEffect(()=>{c&&!i&&!d&&!u&&!h&&e("/phases",{replace:!0})},[c,i,d,u,h,e]),i||c&&d?C.jsx("div",{children:"Caricamento..."}):c&&h?C.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento della fase: ",h.message]}):c&&!u?C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Fase non trovata."}):n?C.jsxs("div",{className:"space-y-6",children:[C.jsx("div",{className:"flex items-center justify-between",children:C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:c?`Modifica Fase: ${u?.name}`:"Aggiungi Nuova Fase"})}),C.jsx(m7,{phaseToEdit:u})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le fasi."})}function y7(){const{selectedWorkCenter:t,showConfirmDialog:e}=Mt(),n=gs(),{data:i=[],isLoading:r,error:s}=Ep(),{data:o=[],isLoading:c}=xp(),{data:u=[],isLoading:d}=l_(),h=k4(),{handleAsync:p}=ps("BacklogListPage");if(s)return C.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento degli ordini: ",s.message]});const y=D.useMemo(()=>{if(!t)return[];let T=i;return t!==wt.BOTH&&(T=i.filter(A=>A.work_center===t)),T.map(A=>({...A,machine_name:A.scheduled_machine_id?o.find(k=>k.id===A.scheduled_machine_id)?.machine_name||"Macchina non trovata":"Non programmato",phase_name:A.fase?u.find(k=>k.id===A.fase)?.name||"Fase non trovata":"Fase non assegnata",progress:A.progress||0,time_remaining:A.time_remaining||A.duration||0}))},[i,t,o,u]),m=r||c||d,b=D.useMemo(()=>[{header:"Numero ODP",accessorKey:"odp_number",cell:T=>{const A=T.row.original.status,k=T.getValue(),O=A==="SCHEDULED";return C.jsx("span",{className:O?"text-green-600 font-medium":"",children:k})}},{header:"Codice Articolo",accessorKey:"article_code"},{header:"Note ASD",accessorKey:"asd_notes",cell:T=>{const A=T.getValue();return A?C.jsx("div",{className:"max-w-[200px] truncate text-[10px]",title:A,children:A}):"N/A"}},{header:"Nome Cliente",accessorKey:"nome_cliente"},{header:"Quantità",accessorKey:"quantity"},{header:"Quantità Completata",accessorKey:"quantity_completed"},{header:"Altezza Busta (mm)",accessorKey:"bag_height"},{header:"Larghezza Busta (mm)",accessorKey:"bag_width"},{header:"Passo Busta (mm)",accessorKey:"bag_step"},{header:"Lotto Produzione",accessorKey:"production_lot"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Lati Sigillati",accessorKey:"seal_sides"},{header:"Tipo Prodotto",accessorKey:"product_type"},{header:"Data Consegna",accessorKey:"delivery_date",cell:T=>T.getValue()?Kn(new Date(T.getValue()),"yyyy-MM-dd"):"Non impostata"},{header:"Inizio Programmato",accessorKey:"scheduled_start_time",cell:T=>T.getValue()?new Date(T.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Fine Programmata",accessorKey:"scheduled_end_time",cell:T=>T.getValue()?new Date(T.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Codice Cliente Interno",accessorKey:"internal_customer_code"},{header:"Codice Cliente Esterno",accessorKey:"external_customer_code"},{header:"Riferimento Ordine Cliente",accessorKey:"customer_order_ref"},{header:"Note Libere",accessorKey:"user_notes"},{header:"Nome Fase",accessorKey:"phase_name"},{header:"Durata (ore)",accessorKey:"duration",cell:T=>{const A=T.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Costo (€)",accessorKey:"cost",cell:T=>{const A=T.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Stato",accessorKey:"status"},{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Progresso (%)",accessorKey:"progress",cell:T=>{const A=T.getValue();return typeof A=="number"?`${A}%`:A}},{header:"Tempo Rimanente (ore)",accessorKey:"time_remaining",cell:T=>{const A=T.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Material ISP (%)",accessorKey:"material_availability_isp",cell:T=>{const A=T.getValue();if(typeof A!="number")return A||"N/A";const k=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return C.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${k} text-black text-[10px] font-medium`,children:A})}},{header:"Material Lotti (%)",accessorKey:"material_availability_lotti",cell:T=>{const A=T.getValue();if(typeof A!="number")return A||"N/A";const k=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return C.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${k} text-black text-[10px] font-medium`,children:A})}},{header:"Material Global (%)",accessorKey:"material_availability_global",cell:T=>{const A=T.getValue();if(typeof A!="number")return A||"N/A";const k=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return C.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${k} text-black text-[10px] font-medium`,children:A})}}],[]),_=D.useMemo(()=>b.map(T=>T.accessorKey),[b]),S=T=>{n(`/backlog/${T.id}/edit`)},x=async T=>{e("Elimina Ordine",`Sei sicuro di voler eliminare "${T.odp_number}"? Questa azione non può essere annullata.`,async()=>{await p(async()=>{await h.mutateAsync(T.id)},{context:"Delete Order",fallbackMessage:"Eliminazione ordine fallita"})},"danger")};return m?C.jsx("div",{children:"Caricamento dati backlog..."}):t?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Ordini"}),C.jsx(Ln,{to:"/backlog/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Ordine"})]}),C.jsx(n_,{columns:b,data:y,onEditRow:S,onDeleteRow:x,stickyColumns:["odp_number","article_code"],enableFiltering:!0,filterableColumns:_})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati del backlog."})}const v7=({onSuccess:t,orderToEdit:e})=>{const{selectedWorkCenter:n,showConflictDialog:i}=Mt(),{scheduleTaskFromSlot:r,unscheduleTask:s}=ds(),{calculateProductionMetrics:o,validatePhaseParameters:c,autoDetermineWorkCenter:u,autoDetermineDepartment:d}=uk(),{handleAsync:h}=ps("BacklogForm"),{validateOrder:p}=Tk(),y=D4(),m=O4(),b=Hi(),[_,S]=D.useState(null),x=!!e,T=D.useMemo(()=>{const Te={...d6};if(n!==wt.BOTH){const Ge=Te.sections[0].fields.find(at=>at.name==="work_center");Ge&&(Ge.disabled=!0,Ge.defaultValue=n,Ge.helpText="Centro di lavoro pre-impostato.")}return Te},[n]),A=D.useMemo(()=>({odp_number:e?.odp_number||"",article_code:e?.article_code||"",work_center:e?.work_center||(n===wt.BOTH?"":n),nome_cliente:e?.nome_cliente||"",delivery_date:e?.delivery_date?new Date(e.delivery_date).toISOString().slice(0,16):"",quantity:e?.quantity||"",customer_order_ref:e?.customer_order_ref||"",department:e?.department||"",quantity_completed:e?.quantity_completed||tn.ORDER.QUANTITY_COMPLETED,production_lot:e?.production_lot||null,bag_height:e?.bag_height||null,bag_width:e?.bag_width||null,bag_step:e?.bag_step||null,seal_sides:e?.seal_sides||null,product_type:e?.product_type||null,internal_customer_code:e?.internal_customer_code||null,external_customer_code:e?.external_customer_code||null,user_notes:e?.user_notes||null,asd_notes:e?.asd_notes||null,material_availability_global:e?.material_availability_global||null,fase:e?.fase||null}),[n,e]),[k,O]=D.useState(A.department),[P,N]=D.useState(A.work_center),[M,B]=D.useState(A.quantity),[V,W]=D.useState(A.bag_step),{phaseSearch:X,setPhaseSearch:ce,isDropdownVisible:ye,setIsDropdownVisible:_e,selectedPhase:H,setSelectedPhase:Z,filteredPhases:be,editablePhaseParams:J,setEditablePhaseParams:me,handlePhaseParamChange:E,handlePhaseSelect:I,handleBlur:L}=w4(k,P,x?e?.fase:null),z=D.useCallback(()=>{ce(""),Z(null),me({}),S(null)},[ce,Z,me]),G=D.useCallback((Te,Ge)=>{if(Te){const at=d(Te);Ge("department",at),n===wt.BOTH&&Ge("work_center",u(Te)),Ge("fase",""),ce(""),Z(null),me({}),S(null)}},[d,u,n,ce,Z,me]),ee=async Te=>{const Ge=p(Te);if(!Ge.isValid){const et=Object.entries(Ge.errors).map(([U,Y])=>`${{odp_number:"Numero ODP",article_code:"Codice Articolo",work_center:"Centro di Lavoro",nome_cliente:"Nome Cliente",quantity:"Quantità",delivery_date:"Data di Consegna",customer_order_ref:"Riferimento Ordine Cliente",department:"Reparto",bag_height:"Altezza Busta",bag_width:"Larghezza Busta",bag_step:"Passo Busta",seal_sides:"Lati Sigillatura",product_type:"Tipo Prodotto",internal_customer_code:"Codice Cliente Interno",external_customer_code:"Codice Cliente Esterno"}[U]||U}: ${Y}`);HH(et);return}const at=Te.fase,Ft=H?.department===nn.PRINTING;if(at&&(!Ft||Te.bag_step)&&(!_?.totals||typeof _.totals.duration!="number"||typeof _.totals.cost!="number")){td("Calcola le metriche di produzione valide prima di procedere.");return}await h(async()=>{const{phase_search:et,...U}=Te,Y={...U,fase:U.fase===""?null:U.fase,scheduled_machine_id:U.scheduled_machine_id===""?null:U.scheduled_machine_id,production_lot:U.production_lot===""?null:U.production_lot,internal_customer_code:U.internal_customer_code===""?null:U.internal_customer_code,external_customer_code:U.external_customer_code===""?null:U.external_customer_code,user_notes:U.user_notes===""?null:U.user_notes,asd_notes:U.asd_notes===""?null:U.asd_notes,material_availability_global:U.material_availability_global===""?null:U.material_availability_global,bag_height:U.bag_height===""?null:U.bag_height,bag_width:U.bag_width===""?null:U.bag_width,bag_step:U.bag_step===""?null:U.bag_step,seal_sides:U.seal_sides===""?null:U.seal_sides,product_type:U.product_type===""?null:U.product_type};let te;if(x){const Q=_?.totals?.duration||e.duration,se=e.quantity_completed/e.quantity||0,ue=Q*(1-se);if(e.scheduled_machine_id&&e.scheduled_start_time){console.log("🔄 EDIT FLOW: Starting rescheduling for task",e.id),console.log("📊 EDIT FLOW: Original duration:",e.duration,"New duration:",Q);const ve=e.duration,we=Q-ve;if(Math.abs(we)<.01){console.log("📊 SCENARIO X: Duration unchanged, skipping rescheduling");const Se={...Y,duration:Q,cost:_?.totals?.cost||null};te=await m.mutateAsync({id:e.id,updates:Se})}else if(we>0){console.log("📈 SCENARIO Y: Duration increased, using standard rescheduling");const Se=new Date(e.scheduled_start_time),Ne=Se.getUTCHours(),We=Se.getUTCMinutes(),Ye=new Date(Date.UTC(Se.getUTCFullYear(),Se.getUTCMonth(),Se.getUTCDate()));console.log("📅 EDIT FLOW: Start date:",Se.toISOString()),console.log("⏰ EDIT FLOW: Hour:",Ne,"Minute:",We),console.log("📆 EDIT FLOW: Current date:",Ye.toISOString());const lt={duration:Q};console.log("💾 EDIT FLOW: Updating task with new duration:",lt),await m.mutateAsync({id:e.id,updates:lt}),await new Promise(ct=>setTimeout(ct,100));const{getOrderById:it}=fn.getState(),St=it(e.id);console.log("🔍 EDIT FLOW: Task duration after update:",St?.duration),console.log("🔄 EDIT FLOW: Unscheduling task first"),await s(e.id,b),await new Promise(ct=>setTimeout(ct,100));const ot={id:e.scheduled_machine_id};console.log("🎯 EDIT FLOW: Calling scheduleTaskFromSlot with:",{taskId:e.id,machine:ot,currentDate:Ye.toISOString(),hour:Ne,minute:We,timeRemaining:ue});const Le=await r(e.id,ot,Ye,Ne,We,ue,b);if(console.log("📋 EDIT FLOW: scheduleTaskFromSlot result:",Le),Le?.conflict){console.log("⚠️ EDIT FLOW: Conflict detected, showing dialog");const ct={...Le,schedulingParams:{taskId:e.id,machine:ot,currentDate:Ye,hour:Ne,minute:We,newDuration:ue,originalConflict:Le}};i(ct);return}else if(Le?.error){console.log("❌ EDIT FLOW: Error:",Le.error),Fr(Le.error);return}else console.log("✅ EDIT FLOW: Scheduling successful");const un=Le?.updatedTask;console.log("📋 EDIT FLOW: Updated task from scheduling result:",un);const tt={...Y,duration:Q,cost:_?.totals?.cost||null,scheduled_start_time:un?.scheduled_start_time||Se.toISOString(),scheduled_end_time:un?.scheduled_end_time||new Date(Se.getTime()+Q*36e5).toISOString(),description:un?.description||e.description};console.log("💾 EDIT FLOW: Final order data to save:",tt),te=await m.mutateAsync({id:e.id,updates:tt}),console.log("✅ EDIT FLOW: Final update completed:",te)}else{console.log("📉 SCENARIO Z: Duration decreased, using adjacent task rescheduling");const Se=await Ee(e.id,Q,ue,Y,_?.totals?.cost||null,b,m,r,s,i);if(Se?.error){console.log("❌ SCENARIO Z: Error:",Se.error),Fr(Se.error);return}te=Se.updatedOrder,console.log("✅ SCENARIO Z: Duration decrease rescheduling completed:",te)}}else{const ve={...Y,duration:Q,cost:_?.totals?.cost||null};te=await m.mutateAsync({id:e.id,updates:ve})}}else{const Q={...Y,duration:_?.totals?.duration||null,cost:_?.totals?.cost||null,status:"NOT SCHEDULED"};te=await y.mutateAsync(Q)}t&&t(),z(),Ya(x?"Ordine aggiornato con successo":"Ordine aggiunto con successo")},{context:x?"Aggiorna Ordine":"Aggiungi Ordine",fallbackMessage:x?"Aggiornamento ordine fallito":"Aggiunta ordine fallita"})},ne=()=>{if(!H){td("Seleziona una fase prima di calcolare.");return}if(!M){td("Inserisci la quantità per calcolare.");return}if(H.department===nn.PRINTING&&!V){td("Inserisci il passo busta per calcolare la stampa.");return}const Te={...H,...J},Ge=c(Te);if(!Ge.isValid){Fr(Ge.error),S(null);return}const at=H.department===nn.PRINTING?V:null,Ft=o(Te,M,at);if(!Ft||typeof Ft.totals?.duration!="number"||typeof Ft.totals?.cost!="number"){Fr("Errore nel calcolo. Verifica i parametri della fase."),S(null);return}S(Ft)},ge=Te=>J[Te]??H[Te]??"",Ee=async(Te,Ge,at,Ft,sn,et,U,Y,te,Q,se)=>{try{console.log("📉 SCENARIO Z: Starting duration decrease rescheduling for task",Te);const{getOrderById:ue,getOdpOrders:ve}=fn.getState(),we=ue(Te);if(!we)return{error:"Task not found"};const Se=new Date(we.scheduled_start_time),Ne=Se.getUTCHours(),We=Se.getUTCMinutes(),Ye=new Date(Date.UTC(Se.getUTCFullYear(),Se.getUTCMonth(),Se.getUTCDate())),lt={id:we.scheduled_machine_id};console.log("📅 SCENARIO Z: Current task start:",Se.toISOString()),console.log("📅 SCENARIO Z: New time remaining:",at);const it=new Date(we.scheduled_end_time);console.log("📅 SCENARIO Z: Current end time for task A (from DB):",it.toISOString());const St=ve(),ot=[];let Le=it;for(console.log("🔍 SCENARIO Z: Starting to find chain of adjacent tasks...");;){const un=St.find(tt=>{if(tt.id===Te||!tt.scheduled_machine_id||!tt.scheduled_start_time||tt.status!=="SCHEDULED"||tt.scheduled_machine_id!==we.scheduled_machine_id||ot.some(Zn=>Zn.id===tt.id))return!1;const ct=new Date(tt.scheduled_start_time),Hn=Math.abs(ct.getTime()-Le.getTime())/(1e3*60);return console.log("🔍 SCENARIO Z: Checking task",tt.odp_number,"start:",ct.toISOString(),"diff:",Hn,"minutes","against end time:",Le.toISOString()),Hn<=120});if(un)console.log("🔗 SCENARIO Z: Found adjacent task in chain:",un.odp_number),ot.push(un),Le=new Date(un.scheduled_end_time),console.log("📅 SCENARIO Z: Next task end time for chain:",Le.toISOString()),console.log("🔄 SCENARIO Z: Continuing to search for more adjacent tasks...");else{console.log("🛑 SCENARIO Z: No more adjacent tasks found, stopping chain search");break}}if(ot.length>0){console.log("🔗 SCENARIO Z: Found chain of",ot.length,"adjacent tasks:",ot.map(Ae=>Ae.odp_number)),console.log("🔄 SCENARIO Z: Step 2 - Rescheduling task A");const un={duration:Ge};await U.mutateAsync({id:Te,updates:un}),await new Promise(Ae=>setTimeout(Ae,100)),await te(Te,et),await new Promise(Ae=>setTimeout(Ae,100));const tt=await Y(Te,lt,Ye,Ne,We,at,et);if(tt?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for task A, showing dialog");const Ae={...tt,schedulingParams:{taskId:Te,machine:lt,currentDate:Ye,hour:Ne,minute:We,newDuration:at,originalConflict:tt}};return Q(Ae),{error:"Conflict detected for task A"}}else if(tt?.error)return console.log("❌ SCENARIO Z: Error rescheduling task A:",tt.error),{error:tt.error};console.log("✅ SCENARIO Z: Task A rescheduled successfully"),console.log("🔄 SCENARIO Z: Step 3 - Rescheduling chain of",ot.length,"tasks");let ct=new Date(tt.schedulingResult.endTime);const Hn=[];for(let Ae=0;Ae<ot.length;Ae++){const xe=ot[Ae];console.log(`🔄 SCENARIO Z: Rescheduling chain task ${Ae+1}/${ot.length}:`,xe.odp_number);const De=ct.getUTCHours(),Ie=ct.getUTCMinutes(),xt=new Date(Date.UTC(ct.getUTCFullYear(),ct.getUTCMonth(),ct.getUTCDate()));console.log("📅 SCENARIO Z: Chain task new start time:",ct.toISOString()),console.log("⏰ SCENARIO Z: Chain task new hour:",De,"minute:",Ie);const Qe=xe.time_remaining||xe.duration||1;console.log("📊 SCENARIO Z: Chain task time remaining:",Qe),await te(xe.id,et),await new Promise(Ht=>setTimeout(Ht,100));const Be=await Y(xe.id,lt,xt,De,Ie,Qe,et);if(Be?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for chain task",xe.odp_number,", showing dialog");const Ht={...Be,schedulingParams:{taskId:xe.id,machine:lt,currentDate:xt,hour:De,minute:Ie,newDuration:Qe,originalConflict:Be}};return Q(Ht),{error:`Conflict detected for chain task ${xe.odp_number}`}}else if(Be?.error)return console.log("❌ SCENARIO Z: Error rescheduling chain task",xe.odp_number,":",Be.error),{error:`Error rescheduling chain task ${xe.odp_number}: ${Be.error}`};console.log("✅ SCENARIO Z: Chain task",xe.odp_number,"rescheduled successfully"),Hn.push(Be),ct=new Date(Be.schedulingResult.endTime),console.log("📅 SCENARIO Z: Updated end time for next chain task:",ct.toISOString())}console.log("✅ SCENARIO Z: All",ot.length,"chain tasks rescheduled successfully");const Zn=tt?.updatedTask,ht={...Ft,duration:Ge,cost:sn,scheduled_start_time:Zn?.scheduled_start_time||Se.toISOString(),scheduled_end_time:Zn?.scheduled_end_time||new Date(Se.getTime()+Ge*36e5).toISOString(),description:Zn?.description||we.description},yt=await U.mutateAsync({id:Te,updates:ht});return console.log("✅ SCENARIO Z: Task A and",ot.length,"chain tasks rescheduled successfully"),{updatedOrder:yt}}else{console.log("📊 SCENARIO Z: No adjacent task found, using standard rescheduling");const un={duration:Ge};await U.mutateAsync({id:Te,updates:un}),await new Promise(ht=>setTimeout(ht,100)),await te(Te,et),await new Promise(ht=>setTimeout(ht,100));const tt=await Y(Te,lt,Ye,Ne,We,at,et);if(tt?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected, showing dialog");const ht={...tt,schedulingParams:{taskId:Te,machine:lt,currentDate:Ye,hour:Ne,minute:We,newDuration:at,originalConflict:tt}};return Q(ht),{error:"Conflict detected"}}else if(tt?.error)return console.log("❌ SCENARIO Z: Error:",tt.error),{error:tt.error};const ct=tt?.updatedTask,Hn={...Ft,duration:Ge,cost:sn,scheduled_start_time:ct?.scheduled_start_time||Se.toISOString(),scheduled_end_time:ct?.scheduled_end_time||new Date(Se.getTime()+Ge*36e5).toISOString(),description:ct?.description||we.description};return{updatedOrder:await U.mutateAsync({id:Te,updates:Hn})}}}catch(ue){return console.error("❌ SCENARIO Z: Error in handleDurationDecreaseRescheduling:",ue),{error:ue.message||"Error during duration decrease rescheduling"}}},qe=()=>H?H.department===nn.PRINTING?[{name:"v_stampa",label:"Velocità Stampa:",unit:"mt/h"},{name:"t_setup_stampa",label:"Setup Stampa:",unit:"h"},{name:"costo_h_stampa",label:"Costo Stampa:",unit:"€/h"}]:[{name:"v_conf",label:"Velocità Confezionamento:",unit:"pz/h"},{name:"t_setup_conf",label:"Setup Confezionamento:",unit:"h"},{name:"costo_h_conf",label:"Costo Confezionamento:",unit:"€/h"}]:[],Nt=D.useMemo(()=>({article_code:(Te,{watch:Ge,setValue:at,getValues:Ft,register:sn})=>C.jsx(Wn,{type:"text",...sn(Te.name,{...Te.validation,onChange:et=>{Te.validation?.onChange&&Te.validation.onChange(et),G(et.target.value,at)}}),placeholder:Te.placeholder,disabled:Te.disabled,className:Te.className}),phase_search:(Te,{watch:Ge,setValue:at,getValues:Ft,register:sn})=>{const et=Ge("department"),U=Ge("work_center"),Y=Ge("quantity"),te=Ge("bag_step");return D.useEffect(()=>{et!==k&&O(et),U!==P&&N(U),Y!==M&&B(Y),te!==V&&W(te)},[et,U,Y,te,k,P,M,V]),C.jsxs("div",{className:"relative",children:[C.jsx(Wn,{type:"text",value:X,onChange:Q=>ce(Q.target.value),onFocus:()=>_e(!0),onBlur:L,placeholder:"Cerca fase di produzione..."}),C.jsx("input",{type:"hidden",...sn("fase")}),ye&&be.length>0&&C.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:be.map(Q=>C.jsxs("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onMouseDown:()=>{I(Q,at,()=>{}),S(null)},children:[C.jsx("div",{className:"text-[10px] font-medium",children:Q.name}),C.jsx("div",{className:"text-[10px] text-gray-600",children:Q.contenuto_fase})]},Q.id))})]})},phase_parameters:()=>H?C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Parametri Fase Selezionata"}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:qe().map(Te=>C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:Te.name,children:Te.label}),C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx(Wn,{type:"number",id:Te.name,value:ge(Te.name),onChange:Ge=>E(Te.name,Ge.target.value)}),C.jsx("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:Te.unit})]})]},Te.name))})]}):null,calculation_results:()=>_?.totals?C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Risultati Calcolo Produzione"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{children:"Durata Totale (ore):"}),C.jsx("div",{className:"text-[10px] font-semibold text-navy-800",children:_.totals.duration.toFixed(2)})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{children:"Costo Totale (€):"}),C.jsx("div",{className:"text-[10px] font-semibold text-green-600",children:_.totals.cost.toFixed(2)})]})]})]}):null}),[X,ce,ye,_e,be,L,I,H,ge,E,qe,_,G]),It=D.useMemo(()=>C.jsx("div",{className:"flex justify-end space-x-4 pt-6",children:C.jsx(bi,{type:"button",variant:"outline",onClick:ne,disabled:!H,children:"Calcola"})}),[H,ne]),Xn=y.isPending||m.isPending;return C.jsx(Tp,{config:T,initialData:A,onSubmit:ee,onSuccess:t,isEditMode:x,isLoading:Xn,customActions:It,customFieldRenderers:Nt})};function CR(){const{id:t}=hp(),e=gs(),{data:n,isLoading:i,error:r}=R4(t),{selectedWorkCenter:s}=Mt(),{isLoading:o,isInitialized:c,init:u,cleanup:d}=ro(),h=!!t;return D.useEffect(()=>(c||u(),()=>{d()}),[u,c,d]),D.useEffect(()=>{h&&!i&&!n&&r&&e("/backlog",{replace:!0})},[h,i,n,e,r]),i?C.jsx("div",{children:"Caricamento..."}):h&&!n?C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Ordine non trovato."}):s?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:h?`Modifica Ordine: ${n?.odp_number}`:"Aggiungi Nuovo Ordine"}),h&&C.jsx(bi,{variant:"outline",onClick:()=>e("/scheduler"),children:"← Torna al Programmatore"})]}),C.jsx(v7,{onSuccess:h?()=>e("/scheduler"):void 0,orderToEdit:n})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire gli ordini del backlog."})}const Lp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Y_(t){return"nodeType"in t}function Si(t){var e,n;return t?qc(t)?t:Y_(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Q_(t){const{Document:e}=Si(t);return t instanceof e}function ef(t){return qc(t)?!1:t instanceof Si(t).HTMLElement}function CN(t){return t instanceof Si(t).SVGElement}function Gc(t){return t?qc(t)?t.document:Y_(t)?Q_(t)?t:ef(t)||CN(t)?t.ownerDocument:document:document:document}const ta=Lp?D.useLayoutEffect:D.useEffect;function Up(t){const e=D.useRef(t);return ta(()=>{e.current=t}),D.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function b7(){const t=D.useRef(null),e=D.useCallback((i,r)=>{t.current=setInterval(i,r)},[]),n=D.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Nd(t,e){e===void 0&&(e=[t]);const n=D.useRef(t);return ta(()=>{n.current!==t&&(n.current=t)},e),n}function tf(t,e){const n=D.useRef();return D.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function Zg(t){const e=Up(t),n=D.useRef(null),i=D.useCallback(r=>{r!==n.current&&e?.(r,n.current),n.current=r},[]);return[n,i]}function Jg(t){const e=D.useRef();return D.useEffect(()=>{e.current=t},[t]),e.current}let rb={};function zp(t,e){return D.useMemo(()=>{if(e)return e;const n=rb[t]==null?0:rb[t]+1;return rb[t]=n,t+"-"+n},[t,e])}function TN(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce((s,o)=>{const c=Object.entries(o);for(const[u,d]of c){const h=s[u];h!=null&&(s[u]=h+t*d)}return s},{...e})}}const Cc=TN(1),ep=TN(-1);function _7(t){return"clientX"in t&&"clientY"in t}function K_(t){if(!t)return!1;const{KeyboardEvent:e}=Si(t.target);return e&&t instanceof e}function w7(t){if(!t)return!1;const{TouchEvent:e}=Si(t.target);return e&&t instanceof e}function tp(t){if(w7(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return _7(t)?{x:t.clientX,y:t.clientY}:null}const Id=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Id.Translate.toString(t),Id.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),TR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function S7(t){return t.matches(TR)?t:t.querySelector(TR)}const x7={display:"none"};function E7(t){let{id:e,value:n}=t;return de.createElement("div",{id:e,style:x7},n)}function C7(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return de.createElement("div",{id:e,style:r,role:"status","aria-live":i,"aria-atomic":!0},n)}function T7(){const[t,e]=D.useState("");return{announce:D.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const AN=D.createContext(null);function A7(t){const e=D.useContext(AN);D.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function R7(){const[t]=D.useState(()=>new Set),e=D.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[D.useCallback(i=>{let{type:r,event:s}=i;t.forEach(o=>{var c;return(c=o[r])==null?void 0:c.call(o,s)})},[t]),e]}const D7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},O7={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function k7(t){let{announcements:e=O7,container:n,hiddenTextDescribedById:i,screenReaderInstructions:r=D7}=t;const{announce:s,announcement:o}=T7(),c=zp("DndLiveRegion"),[u,d]=D.useState(!1);if(D.useEffect(()=>{d(!0)},[]),A7(D.useMemo(()=>({onDragStart(p){let{active:y}=p;s(e.onDragStart({active:y}))},onDragMove(p){let{active:y,over:m}=p;e.onDragMove&&s(e.onDragMove({active:y,over:m}))},onDragOver(p){let{active:y,over:m}=p;s(e.onDragOver({active:y,over:m}))},onDragEnd(p){let{active:y,over:m}=p;s(e.onDragEnd({active:y,over:m}))},onDragCancel(p){let{active:y,over:m}=p;s(e.onDragCancel({active:y,over:m}))}}),[s,e])),!u)return null;const h=de.createElement(de.Fragment,null,de.createElement(E7,{id:i,value:r.draggable}),de.createElement(C7,{id:c,announcement:o}));return n?qs.createPortal(h,n):h}var Un;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Un||(Un={}));function np(){}function AR(t,e){return D.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function M7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return D.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Wr=Object.freeze({x:0,y:0});function N7(t,e){const n=tp(t);if(!n)return"0 0";const i={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function I7(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function j7(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function P7(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=r-i,c=s-n;if(i<r&&n<s){const u=e.width*e.height,d=t.width*t.height,h=o*c,p=h/(u+d-h);return Number(p.toFixed(4))}return 0}const L7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=[];for(const s of i){const{id:o}=s,c=n.get(o);if(c){const u=P7(c,e);u>0&&r.push({id:o,data:{droppableContainer:s,value:u}})}}return r.sort(I7)};function U7(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function RN(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Wr}function z7(t){return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return r.reduce((o,c)=>({...o,top:o.top+t*c.y,bottom:o.bottom+t*c.y,left:o.left+t*c.x,right:o.right+t*c.x}),{...n})}}const F7=z7(1);function DN(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function H7(t,e,n){const i=DN(e);if(!i)return t;const{scaleX:r,scaleY:s,x:o,y:c}=i,u=t.left-o-(1-r)*parseFloat(n),d=t.top-c-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=r?t.width/r:t.width,p=s?t.height/s:t.height;return{width:h,height:p,top:d,right:u+h,bottom:d+p,left:u}}const B7={ignoreTransform:!1};function nf(t,e){e===void 0&&(e=B7);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:h}=Si(t).getComputedStyle(t);d&&(n=H7(n,d,h))}const{top:i,left:r,width:s,height:o,bottom:c,right:u}=n;return{top:i,left:r,width:s,height:o,bottom:c,right:u}}function RR(t){return nf(t,{ignoreTransform:!0})}function $7(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function V7(t,e){return e===void 0&&(e=Si(t).getComputedStyle(t)),e.position==="fixed"}function q7(t,e){e===void 0&&(e=Si(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const s=e[r];return typeof s=="string"?n.test(s):!1})}function X_(t,e){const n=[];function i(r){if(e!=null&&n.length>=e||!r)return n;if(Q_(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!ef(r)||CN(r)||n.includes(r))return n;const s=Si(t).getComputedStyle(r);return r!==t&&q7(r,s)&&n.push(r),V7(r,s)?n:i(r.parentNode)}return t?i(t):n}function ON(t){const[e]=X_(t,1);return e??null}function sb(t){return!Lp||!t?null:qc(t)?t:Y_(t)?Q_(t)||t===Gc(t).scrollingElement?window:ef(t)?t:null:null}function kN(t){return qc(t)?t.scrollX:t.scrollLeft}function MN(t){return qc(t)?t.scrollY:t.scrollTop}function _0(t){return{x:kN(t),y:MN(t)}}var qn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(qn||(qn={}));function NN(t){return!Lp||!t?!1:t===document.scrollingElement}function IN(t){const e={x:0,y:0},n=NN(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},r=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=i.y,c=t.scrollLeft>=i.x;return{isTop:r,isLeft:s,isBottom:o,isRight:c,maxScroll:i,minScroll:e}}const G7={x:.2,y:.2};function W7(t,e,n,i,r){let{top:s,left:o,right:c,bottom:u}=n;i===void 0&&(i=10),r===void 0&&(r=G7);const{isTop:d,isBottom:h,isLeft:p,isRight:y}=IN(t),m={x:0,y:0},b={x:0,y:0},_={height:e.height*r.y,width:e.width*r.x};return!d&&s<=e.top+_.height?(m.y=qn.Backward,b.y=i*Math.abs((e.top+_.height-s)/_.height)):!h&&u>=e.bottom-_.height&&(m.y=qn.Forward,b.y=i*Math.abs((e.bottom-_.height-u)/_.height)),!y&&c>=e.right-_.width?(m.x=qn.Forward,b.x=i*Math.abs((e.right-_.width-c)/_.width)):!p&&o<=e.left+_.width&&(m.x=qn.Backward,b.x=i*Math.abs((e.left+_.width-o)/_.width)),{direction:m,speed:b}}function Y7(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:i,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:r,width:t.clientWidth,height:t.clientHeight}}function jN(t){return t.reduce((e,n)=>Cc(e,_0(n)),Wr)}function Q7(t){return t.reduce((e,n)=>e+kN(n),0)}function K7(t){return t.reduce((e,n)=>e+MN(n),0)}function PN(t,e){if(e===void 0&&(e=nf),!t)return;const{top:n,left:i,bottom:r,right:s}=e(t);ON(t)&&(r<=0||s<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const X7=[["x",["left","right"],Q7],["y",["top","bottom"],K7]];class Z_{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=X_(n),r=jN(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,c]of X7)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=c(i),h=r[s]-d;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class md{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var r;(r=this.target)==null||r.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function Z7(t){const{EventTarget:e}=Si(t);return t instanceof e?t:Gc(t)}function ab(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var Sr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Sr||(Sr={}));function DR(t){t.preventDefault()}function J7(t){t.stopPropagation()}var Wt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Wt||(Wt={}));const LN={start:[Wt.Space,Wt.Enter],cancel:[Wt.Esc],end:[Wt.Space,Wt.Enter,Wt.Tab]},eQ=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Wt.Right:return{...n,x:n.x+25};case Wt.Left:return{...n,x:n.x-25};case Wt.Down:return{...n,y:n.y+25};case Wt.Up:return{...n,y:n.y-25}}};class UN{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new md(Gc(n)),this.windowListeners=new md(Si(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&PN(i),n(Wr)}handleKeyDown(e){if(K_(e)){const{active:n,context:i,options:r}=this.props,{keyboardCodes:s=LN,coordinateGetter:o=eQ,scrollBehavior:c="smooth"}=r,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=i.current,h=d?{x:d.left,y:d.top}:Wr;this.referenceCoordinates||(this.referenceCoordinates=h);const p=o(e,{active:n,context:i.current,currentCoordinates:h});if(p){const y=ep(p,h),m={x:0,y:0},{scrollableAncestors:b}=i.current;for(const _ of b){const S=e.code,{isTop:x,isRight:T,isLeft:A,isBottom:k,maxScroll:O,minScroll:P}=IN(_),N=Y7(_),M={x:Math.min(S===Wt.Right?N.right-N.width/2:N.right,Math.max(S===Wt.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(S===Wt.Down?N.bottom-N.height/2:N.bottom,Math.max(S===Wt.Down?N.top:N.top+N.height/2,p.y))},B=S===Wt.Right&&!T||S===Wt.Left&&!A,V=S===Wt.Down&&!k||S===Wt.Up&&!x;if(B&&M.x!==p.x){const W=_.scrollLeft+y.x,X=S===Wt.Right&&W<=O.x||S===Wt.Left&&W>=P.x;if(X&&!y.y){_.scrollTo({left:W,behavior:c});return}X?m.x=_.scrollLeft-W:m.x=S===Wt.Right?_.scrollLeft-O.x:_.scrollLeft-P.x,m.x&&_.scrollBy({left:-m.x,behavior:c});break}else if(V&&M.y!==p.y){const W=_.scrollTop+y.y,X=S===Wt.Down&&W<=O.y||S===Wt.Up&&W>=P.y;if(X&&!y.x){_.scrollTo({top:W,behavior:c});return}X?m.y=_.scrollTop-W:m.y=S===Wt.Down?_.scrollTop-O.y:_.scrollTop-P.y,m.y&&_.scrollBy({top:-m.y,behavior:c});break}}this.handleMove(e,Cc(ep(p,this.referenceCoordinates),m))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}UN.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=LN,onActivation:r}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(i.start.includes(o)){const c=s.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),r?.({event:t.nativeEvent}),!0)}return!1}}];function OR(t){return!!(t&&"distance"in t)}function kR(t){return!!(t&&"delay"in t)}class J_{constructor(e,n,i){var r;i===void 0&&(i=Z7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=Gc(o),this.documentListeners=new md(this.document),this.listeners=new md(i),this.windowListeners=new md(Si(o)),this.initialCoordinates=(r=tp(s))!=null?r:Wr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.DragStart,DR),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),this.windowListeners.add(Sr.ContextMenu,DR),this.documentListeners.add(Sr.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(kR(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(OR(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Sr.Click,J7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:r,props:s}=this,{onMove:o,options:{activationConstraint:c}}=s;if(!r)return;const u=(n=tp(e))!=null?n:Wr,d=ep(r,u);if(!i&&c){if(OR(c)){if(c.tolerance!=null&&ab(d,c.tolerance))return this.handleCancel();if(ab(d,c.distance))return this.handleStart()}if(kR(c)&&ab(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),o(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Wt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const tQ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ew extends J_{constructor(e){const{event:n}=e,i=Gc(n.target);super(e,tQ,i)}}ew.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const nQ={move:{name:"mousemove"},end:{name:"mouseup"}};var w0;(function(t){t[t.RightClick=2]="RightClick"})(w0||(w0={}));class zN extends J_{constructor(e){super(e,nQ,Gc(e.event.target))}}zN.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===w0.RightClick?!1:(i?.({event:n}),!0)}}];const ob={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class iQ extends J_{constructor(e){super(e,ob)}static setup(){return window.addEventListener(ob.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ob.move.name,e)};function e(){}}}iQ.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:r}=n;return r.length>1?!1:(i?.({event:n}),!0)}}];var yd;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(yd||(yd={}));var ip;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(ip||(ip={}));function rQ(t){let{acceleration:e,activator:n=yd.Pointer,canScroll:i,draggingRect:r,enabled:s,interval:o=5,order:c=ip.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:h,delta:p,threshold:y}=t;const m=aQ({delta:p,disabled:!s}),[b,_]=b7(),S=D.useRef({x:0,y:0}),x=D.useRef({x:0,y:0}),T=D.useMemo(()=>{switch(n){case yd.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case yd.DraggableRect:return r}},[n,r,u]),A=D.useRef(null),k=D.useCallback(()=>{const P=A.current;if(!P)return;const N=S.current.x*x.current.x,M=S.current.y*x.current.y;P.scrollBy(N,M)},[]),O=D.useMemo(()=>c===ip.TreeOrder?[...d].reverse():d,[c,d]);D.useEffect(()=>{if(!s||!d.length||!T){_();return}for(const P of O){if(i?.(P)===!1)continue;const N=d.indexOf(P),M=h[N];if(!M)continue;const{direction:B,speed:V}=W7(P,M,T,e,y);for(const W of["x","y"])m[W][B[W]]||(V[W]=0,B[W]=0);if(V.x>0||V.y>0){_(),A.current=P,b(k,o),S.current=V,x.current=B;return}}S.current={x:0,y:0},x.current={x:0,y:0},_()},[e,k,i,_,s,o,JSON.stringify(T),JSON.stringify(m),b,d,O,h,JSON.stringify(y)])}const sQ={x:{[qn.Backward]:!1,[qn.Forward]:!1},y:{[qn.Backward]:!1,[qn.Forward]:!1}};function aQ(t){let{delta:e,disabled:n}=t;const i=Jg(e);return tf(r=>{if(n||!i||!r)return sQ;const s={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[qn.Backward]:r.x[qn.Backward]||s.x===-1,[qn.Forward]:r.x[qn.Forward]||s.x===1},y:{[qn.Backward]:r.y[qn.Backward]||s.y===-1,[qn.Forward]:r.y[qn.Forward]||s.y===1}}},[n,e,i])}function oQ(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return tf(r=>{var s;return e==null?null:(s=i??r)!=null?s:null},[i,e])}function lQ(t,e){return D.useMemo(()=>t.reduce((n,i)=>{const{sensor:r}=i,s=r.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,i)}));return[...n,...s]},[]),[t,e])}var jd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(jd||(jd={}));var S0;(function(t){t.Optimized="optimized"})(S0||(S0={}));const MR=new Map;function cQ(t,e){let{dragging:n,dependencies:i,config:r}=e;const[s,o]=D.useState(null),{frequency:c,measure:u,strategy:d}=r,h=D.useRef(t),p=S(),y=Nd(p),m=D.useCallback(function(x){x===void 0&&(x=[]),!y.current&&o(T=>T===null?x:T.concat(x.filter(A=>!T.includes(A))))},[y]),b=D.useRef(null),_=tf(x=>{if(p&&!n)return MR;if(!x||x===MR||h.current!==t||s!=null){const T=new Map;for(let A of t){if(!A)continue;if(s&&s.length>0&&!s.includes(A.id)&&A.rect.current){T.set(A.id,A.rect.current);continue}const k=A.node.current,O=k?new Z_(u(k),k):null;A.rect.current=O,O&&T.set(A.id,O)}return T}return x},[t,s,n,p,u]);return D.useEffect(()=>{h.current=t},[t]),D.useEffect(()=>{p||m()},[n,p]),D.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),D.useEffect(()=>{p||typeof c!="number"||b.current!==null||(b.current=setTimeout(()=>{m(),b.current=null},c))},[c,p,m,...i]),{droppableRects:_,measureDroppableContainers:m,measuringScheduled:s!=null};function S(){switch(d){case jd.Always:return!1;case jd.BeforeDragging:return n;default:return!n}}}function tw(t,e){return tf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function uQ(t,e){return tw(t,e)}function dQ(t){let{callback:e,disabled:n}=t;const i=Up(e),r=D.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(i)},[i,n]);return D.useEffect(()=>()=>r?.disconnect(),[r]),r}function Fp(t){let{callback:e,disabled:n}=t;const i=Up(e),r=D.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(i)},[n]);return D.useEffect(()=>()=>r?.disconnect(),[r]),r}function fQ(t){return new Z_(nf(t),t)}function NR(t,e,n){e===void 0&&(e=fQ);const[i,r]=D.useState(null);function s(){r(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const h=e(t);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const o=dQ({callback(u){if(t)for(const d of u){const{type:h,target:p}=d;if(h==="childList"&&p instanceof HTMLElement&&p.contains(t)){s();break}}}}),c=Fp({callback:s});return ta(()=>{s(),t?(c?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),o?.disconnect())},[t]),i}function hQ(t){const e=tw(t);return RN(t,e)}const IR=[];function gQ(t){const e=D.useRef(t),n=tf(i=>t?i&&i!==IR&&t&&e.current&&t.parentNode===e.current.parentNode?i:X_(t):IR,[t]);return D.useEffect(()=>{e.current=t},[t]),n}function pQ(t){const[e,n]=D.useState(null),i=D.useRef(t),r=D.useCallback(s=>{const o=sb(s.target);o&&n(c=>c?(c.set(o,_0(o)),new Map(c)):null)},[]);return D.useEffect(()=>{const s=i.current;if(t!==s){o(s);const c=t.map(u=>{const d=sb(u);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,_0(d)]):null}).filter(u=>u!=null);n(c.length?new Map(c):null),i.current=t}return()=>{o(t),o(s)};function o(c){c.forEach(u=>{const d=sb(u);d?.removeEventListener("scroll",r)})}},[r,t]),D.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Cc(s,o),Wr):jN(t):Wr,[t,e])}function jR(t,e){e===void 0&&(e=[]);const n=D.useRef(null);return D.useEffect(()=>{n.current=null},e),D.useEffect(()=>{const i=t!==Wr;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?ep(t,n.current):Wr}function mQ(t){D.useEffect(()=>{if(!Lp)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function yQ(t,e){return D.useMemo(()=>t.reduce((n,i)=>{let{eventName:r,handler:s}=i;return n[r]=o=>{s(o,e)},n},{}),[t,e])}function FN(t){return D.useMemo(()=>t?$7(t):null,[t])}const PR=[];function vQ(t,e){e===void 0&&(e=nf);const[n]=t,i=FN(n?Si(n):null),[r,s]=D.useState(PR);function o(){s(()=>t.length?t.map(u=>NN(u)?i:new Z_(e(u),u)):PR)}const c=Fp({callback:o});return ta(()=>{c?.disconnect(),o(),t.forEach(u=>c?.observe(u))},[t]),r}function HN(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return ef(e)?e:t}function bQ(t){let{measure:e}=t;const[n,i]=D.useState(null),r=D.useCallback(d=>{for(const{target:h}of d)if(ef(h)){i(p=>{const y=e(h);return p?{...p,width:y.width,height:y.height}:y});break}},[e]),s=Fp({callback:r}),o=D.useCallback(d=>{const h=HN(d);s?.disconnect(),h&&s?.observe(h),i(h?e(h):null)},[e,s]),[c,u]=Zg(o);return D.useMemo(()=>({nodeRef:c,rect:n,setRef:u}),[n,c,u])}const _Q=[{sensor:ew,options:{}},{sensor:UN,options:{}}],wQ={current:{}},_g={draggable:{measure:RR},droppable:{measure:RR,strategy:jd.WhileDragging,frequency:S0.Optimized},dragOverlay:{measure:nf}};class vd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const SQ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:np},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_g,measureDroppableContainers:np,windowRect:null,measuringScheduled:!1},BN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:np,draggableNodes:new Map,over:null,measureDroppableContainers:np},rf=D.createContext(BN),$N=D.createContext(SQ);function xQ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vd}}}function EQ(t,e){switch(e.type){case Un.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Un.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Un.DragEnd:case Un.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Un.RegisterDroppable:{const{element:n}=e,{id:i}=n,r=new vd(t.droppable.containers);return r.set(i,n),{...t,droppable:{...t.droppable,containers:r}}}case Un.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=e,s=t.droppable.containers.get(n);if(!s||i!==s.key)return t;const o=new vd(t.droppable.containers);return o.set(n,{...s,disabled:r}),{...t,droppable:{...t.droppable,containers:o}}}case Un.UnregisterDroppable:{const{id:n,key:i}=e,r=t.droppable.containers.get(n);if(!r||i!==r.key)return t;const s=new vd(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function CQ(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:r}=D.useContext(rf),s=Jg(i),o=Jg(n?.id);return D.useEffect(()=>{if(!e&&!i&&s&&o!=null){if(!K_(s)||document.activeElement===s.target)return;const c=r.get(o);if(!c)return;const{activatorNode:u,node:d}=c;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[u.current,d.current]){if(!h)continue;const p=S7(h);if(p){p.focus();break}}})}},[i,e,r,o,s]),null}function VN(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((r,s)=>s({transform:r,...i}),n):n}function TQ(t){return D.useMemo(()=>({draggable:{..._g.draggable,...t?.draggable},droppable:{..._g.droppable,...t?.droppable},dragOverlay:{..._g.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function AQ(t){let{activeNode:e,measure:n,initialRect:i,config:r=!0}=t;const s=D.useRef(!1),{x:o,y:c}=typeof r=="boolean"?{x:r,y:r}:r;ta(()=>{if(!o&&!c||!e){s.current=!1;return}if(s.current||!i)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const h=n(d),p=RN(h,i);if(o||(p.x=0),c||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const y=ON(d);y&&y.scrollBy({top:p.y,left:p.x})}},[e,o,c,i,n])}const Hp=D.createContext({...Wr,scaleX:1,scaleY:1});var Pa;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Pa||(Pa={}));const RQ=D.memo(function(e){var n,i,r,s;let{id:o,accessibility:c,autoScroll:u=!0,children:d,sensors:h=_Q,collisionDetection:p=L7,measuring:y,modifiers:m,...b}=e;const _=D.useReducer(EQ,void 0,xQ),[S,x]=_,[T,A]=R7(),[k,O]=D.useState(Pa.Uninitialized),P=k===Pa.Initialized,{draggable:{active:N,nodes:M,translate:B},droppable:{containers:V}}=S,W=N!=null?M.get(N):null,X=D.useRef({initial:null,translated:null}),ce=D.useMemo(()=>{var ht;return N!=null?{id:N,data:(ht=W?.data)!=null?ht:wQ,rect:X}:null},[N,W]),ye=D.useRef(null),[_e,H]=D.useState(null),[Z,be]=D.useState(null),J=Nd(b,Object.values(b)),me=zp("DndDescribedBy",o),E=D.useMemo(()=>V.getEnabled(),[V]),I=TQ(y),{droppableRects:L,measureDroppableContainers:z,measuringScheduled:G}=cQ(E,{dragging:P,dependencies:[B.x,B.y],config:I.droppable}),ee=oQ(M,N),ne=D.useMemo(()=>Z?tp(Z):null,[Z]),ge=Zn(),Ee=uQ(ee,I.draggable.measure);AQ({activeNode:N!=null?M.get(N):null,config:ge.layoutShiftCompensation,initialRect:Ee,measure:I.draggable.measure});const qe=NR(ee,I.draggable.measure,Ee),Nt=NR(ee?ee.parentElement:null),It=D.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Xn=V.getNodeFor((n=It.current.over)==null?void 0:n.id),Te=bQ({measure:I.dragOverlay.measure}),Ge=(i=Te.nodeRef.current)!=null?i:ee,at=P?(r=Te.rect)!=null?r:qe:null,Ft=!!(Te.nodeRef.current&&Te.rect),sn=hQ(Ft?null:qe),et=FN(Ge?Si(Ge):null),U=gQ(P?Xn??ee:null),Y=vQ(U),te=VN(m,{transform:{x:B.x-sn.x,y:B.y-sn.y,scaleX:1,scaleY:1},activatorEvent:Z,active:ce,activeNodeRect:qe,containerNodeRect:Nt,draggingNodeRect:at,over:It.current.over,overlayNodeRect:Te.rect,scrollableAncestors:U,scrollableAncestorRects:Y,windowRect:et}),Q=ne?Cc(ne,B):null,se=pQ(U),ue=jR(se),ve=jR(se,[qe]),we=Cc(te,ue),Se=at?F7(at,te):null,Ne=ce&&Se?p({active:ce,collisionRect:Se,droppableRects:L,droppableContainers:E,pointerCoordinates:Q}):null,We=j7(Ne,"id"),[Ye,lt]=D.useState(null),it=Ft?te:Cc(te,ve),St=U7(it,(s=Ye?.rect)!=null?s:null,qe),ot=D.useRef(null),Le=D.useCallback((ht,yt)=>{let{sensor:Ae,options:xe}=yt;if(ye.current==null)return;const De=M.get(ye.current);if(!De)return;const Ie=ht.nativeEvent,xt=new Ae({active:ye.current,activeNode:De,event:Ie,options:xe,context:It,onAbort(Be){if(!M.get(Be))return;const{onDragAbort:ut}=J.current,Tt={id:Be};ut?.(Tt),T({type:"onDragAbort",event:Tt})},onPending(Be,Ht,ut,Tt){if(!M.get(Be))return;const{onDragPending:Jn}=J.current,ir={id:Be,constraint:Ht,initialCoordinates:ut,offset:Tt};Jn?.(ir),T({type:"onDragPending",event:ir})},onStart(Be){const Ht=ye.current;if(Ht==null)return;const ut=M.get(Ht);if(!ut)return;const{onDragStart:Tt}=J.current,nr={activatorEvent:Ie,active:{id:Ht,data:ut.data,rect:X}};qs.unstable_batchedUpdates(()=>{Tt?.(nr),O(Pa.Initializing),x({type:Un.DragStart,initialCoordinates:Be,active:Ht}),T({type:"onDragStart",event:nr}),H(ot.current),be(Ie)})},onMove(Be){x({type:Un.DragMove,coordinates:Be})},onEnd:Qe(Un.DragEnd),onCancel:Qe(Un.DragCancel)});ot.current=xt;function Qe(Be){return async function(){const{active:ut,collisions:Tt,over:nr,scrollAdjustedTranslate:Jn}=It.current;let ir=null;if(ut&&Jn){const{cancelDrop:sa}=J.current;ir={activatorEvent:Ie,active:ut,collisions:Tt,delta:Jn,over:nr},Be===Un.DragEnd&&typeof sa=="function"&&await Promise.resolve(sa(ir))&&(Be=Un.DragCancel)}ye.current=null,qs.unstable_batchedUpdates(()=>{x({type:Be}),O(Pa.Uninitialized),lt(null),H(null),be(null),ot.current=null;const sa=Be===Un.DragEnd?"onDragEnd":"onDragCancel";if(ir){const rr=J.current[sa];rr?.(ir),T({type:sa,event:ir})}})}}},[M]),un=D.useCallback((ht,yt)=>(Ae,xe)=>{const De=Ae.nativeEvent,Ie=M.get(xe);if(ye.current!==null||!Ie||De.dndKit||De.defaultPrevented)return;const xt={active:Ie};ht(Ae,yt.options,xt)===!0&&(De.dndKit={capturedBy:yt.sensor},ye.current=xe,Le(Ae,yt))},[M,Le]),tt=lQ(h,un);mQ(h),ta(()=>{qe&&k===Pa.Initializing&&O(Pa.Initialized)},[qe,k]),D.useEffect(()=>{const{onDragMove:ht}=J.current,{active:yt,activatorEvent:Ae,collisions:xe,over:De}=It.current;if(!yt||!Ae)return;const Ie={active:yt,activatorEvent:Ae,collisions:xe,delta:{x:we.x,y:we.y},over:De};qs.unstable_batchedUpdates(()=>{ht?.(Ie),T({type:"onDragMove",event:Ie})})},[we.x,we.y]),D.useEffect(()=>{const{active:ht,activatorEvent:yt,collisions:Ae,droppableContainers:xe,scrollAdjustedTranslate:De}=It.current;if(!ht||ye.current==null||!yt||!De)return;const{onDragOver:Ie}=J.current,xt=xe.get(We),Qe=xt&&xt.rect.current?{id:xt.id,rect:xt.rect.current,data:xt.data,disabled:xt.disabled}:null,Be={active:ht,activatorEvent:yt,collisions:Ae,delta:{x:De.x,y:De.y},over:Qe};qs.unstable_batchedUpdates(()=>{lt(Qe),Ie?.(Be),T({type:"onDragOver",event:Be})})},[We]),ta(()=>{It.current={activatorEvent:Z,active:ce,activeNode:ee,collisionRect:Se,collisions:Ne,droppableRects:L,draggableNodes:M,draggingNode:Ge,draggingNodeRect:at,droppableContainers:V,over:Ye,scrollableAncestors:U,scrollAdjustedTranslate:we},X.current={initial:at,translated:Se}},[ce,ee,Ne,Se,M,Ge,at,L,V,Ye,U,we]),rQ({...ge,delta:B,draggingRect:Se,pointerCoordinates:Q,scrollableAncestors:U,scrollableAncestorRects:Y});const ct=D.useMemo(()=>({active:ce,activeNode:ee,activeNodeRect:qe,activatorEvent:Z,collisions:Ne,containerNodeRect:Nt,dragOverlay:Te,draggableNodes:M,droppableContainers:V,droppableRects:L,over:Ye,measureDroppableContainers:z,scrollableAncestors:U,scrollableAncestorRects:Y,measuringConfiguration:I,measuringScheduled:G,windowRect:et}),[ce,ee,qe,Z,Ne,Nt,Te,M,V,L,Ye,z,U,Y,I,G,et]),Hn=D.useMemo(()=>({activatorEvent:Z,activators:tt,active:ce,activeNodeRect:qe,ariaDescribedById:{draggable:me},dispatch:x,draggableNodes:M,over:Ye,measureDroppableContainers:z}),[Z,tt,ce,qe,x,me,M,Ye,z]);return de.createElement(AN.Provider,{value:A},de.createElement(rf.Provider,{value:Hn},de.createElement($N.Provider,{value:ct},de.createElement(Hp.Provider,{value:St},d)),de.createElement(CQ,{disabled:c?.restoreFocus===!1})),de.createElement(k7,{...c,hiddenTextDescribedById:me}));function Zn(){const ht=_e?.autoScrollEnabled===!1,yt=typeof u=="object"?u.enabled===!1:u===!1,Ae=P&&!ht&&!yt;return typeof u=="object"?{...u,enabled:Ae}:{enabled:Ae}}}),DQ=D.createContext(null),LR="button",OQ="Draggable";function Iee(t){let{id:e,data:n,disabled:i=!1,attributes:r}=t;const s=zp(OQ),{activators:o,activatorEvent:c,active:u,activeNodeRect:d,ariaDescribedById:h,draggableNodes:p,over:y}=D.useContext(rf),{role:m=LR,roleDescription:b="draggable",tabIndex:_=0}=r??{},S=u?.id===e,x=D.useContext(S?Hp:DQ),[T,A]=Zg(),[k,O]=Zg(),P=yQ(o,e),N=Nd(n);ta(()=>(p.set(e,{id:e,key:s,node:T,activatorNode:k,data:N}),()=>{const B=p.get(e);B&&B.key===s&&p.delete(e)}),[p,e]);const M=D.useMemo(()=>({role:m,tabIndex:_,"aria-disabled":i,"aria-pressed":S&&m===LR?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[i,m,_,S,b,h.draggable]);return{active:u,activatorEvent:c,activeNodeRect:d,attributes:M,isDragging:S,listeners:i?void 0:P,node:T,over:y,setNodeRef:A,setActivatorNodeRef:O,transform:x}}function kQ(){return D.useContext($N)}const MQ="Droppable",NQ={timeout:25};function jee(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:r}=t;const s=zp(MQ),{active:o,dispatch:c,over:u,measureDroppableContainers:d}=D.useContext(rf),h=D.useRef({disabled:n}),p=D.useRef(!1),y=D.useRef(null),m=D.useRef(null),{disabled:b,updateMeasurementsFor:_,timeout:S}={...NQ,...r},x=Nd(_??i),T=D.useCallback(()=>{if(!p.current){p.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),m.current=null},S)},[S]),A=Fp({callback:T,disabled:b||!o}),k=D.useCallback((M,B)=>{A&&(B&&(A.unobserve(B),p.current=!1),M&&A.observe(M))},[A]),[O,P]=Zg(k),N=Nd(e);return D.useEffect(()=>{!A||!O.current||(A.disconnect(),p.current=!1,A.observe(O.current))},[O,A]),D.useEffect(()=>(c({type:Un.RegisterDroppable,element:{id:i,key:s,disabled:n,node:O,rect:y,data:N}}),()=>c({type:Un.UnregisterDroppable,key:s,id:i})),[i]),D.useEffect(()=>{n!==h.current.disabled&&(c({type:Un.SetDroppableDisabled,id:i,key:s,disabled:n}),h.current.disabled=n)},[i,s,n,c]),{active:o,rect:y,isOver:u?.id===i,node:O,over:u,setNodeRef:P}}function IQ(t){let{animation:e,children:n}=t;const[i,r]=D.useState(null),[s,o]=D.useState(null),c=Jg(n);return!n&&!i&&c&&r(c),ta(()=>{if(!s)return;const u=i?.key,d=i?.props.id;if(u==null||d==null){r(null);return}Promise.resolve(e(d,s)).then(()=>{r(null)})},[e,i,s]),de.createElement(de.Fragment,null,n,i?D.cloneElement(i,{ref:o}):null)}const jQ={x:0,y:0,scaleX:1,scaleY:1};function PQ(t){let{children:e}=t;return de.createElement(rf.Provider,{value:BN},de.createElement(Hp.Provider,{value:jQ},e))}const LQ={position:"fixed",touchAction:"none"},UQ=t=>K_(t)?"transform 250ms ease":void 0,zQ=D.forwardRef((t,e)=>{let{as:n,activatorEvent:i,adjustScale:r,children:s,className:o,rect:c,style:u,transform:d,transition:h=UQ}=t;if(!c)return null;const p=r?d:{...d,scaleX:1,scaleY:1},y={...LQ,width:c.width,height:c.height,top:c.top,left:c.left,transform:Id.Transform.toString(p),transformOrigin:r&&i?N7(i,c):void 0,transition:typeof h=="function"?h(i):h,...u};return de.createElement(n,{className:o,style:y,ref:e},s)}),FQ=t=>e=>{let{active:n,dragOverlay:i}=e;const r={},{styles:s,className:o}=t;if(s!=null&&s.active)for(const[c,u]of Object.entries(s.active))u!==void 0&&(r[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,u));if(s!=null&&s.dragOverlay)for(const[c,u]of Object.entries(s.dragOverlay))u!==void 0&&i.node.style.setProperty(c,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&i.node.classList.add(o.dragOverlay),function(){for(const[u,d]of Object.entries(r))n.node.style.setProperty(u,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},HQ=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Id.Transform.toString(e)},{transform:Id.Transform.toString(n)}]},BQ={duration:250,easing:"ease",keyframes:HQ,sideEffects:FQ({styles:{active:{opacity:"0"}}})};function $Q(t){let{config:e,draggableNodes:n,droppableContainers:i,measuringConfiguration:r}=t;return Up((s,o)=>{if(e===null)return;const c=n.get(s);if(!c)return;const u=c.node.current;if(!u)return;const d=HN(o);if(!d)return;const{transform:h}=Si(o).getComputedStyle(o),p=DN(h);if(!p)return;const y=typeof e=="function"?e:VQ(e);return PN(u,r.draggable.measure),y({active:{id:s,data:c.data,node:u,rect:r.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:r.dragOverlay.measure(d)},droppableContainers:i,measuringConfiguration:r,transform:p})})}function VQ(t){const{duration:e,easing:n,sideEffects:i,keyframes:r}={...BQ,...t};return s=>{let{active:o,dragOverlay:c,transform:u,...d}=s;if(!e)return;const h={x:c.rect.left-o.rect.left,y:c.rect.top-o.rect.top},p={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/c.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/c.rect.height:1},y={x:u.x-h.x,y:u.y-h.y,...p},m=r({...d,active:o,dragOverlay:c,transform:{initial:u,final:y}}),[b]=m,_=m[m.length-1];if(JSON.stringify(b)===JSON.stringify(_))return;const S=i?.({active:o,dragOverlay:c,...d}),x=c.node.animate(m,{duration:e,easing:n,fill:"forwards"});return new Promise(T=>{x.onfinish=()=>{S?.(),T()}})}}let UR=0;function qQ(t){return D.useMemo(()=>{if(t!=null)return UR++,UR},[t])}const GQ=de.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:i,style:r,transition:s,modifiers:o,wrapperElement:c="div",className:u,zIndex:d=999}=t;const{activatorEvent:h,active:p,activeNodeRect:y,containerNodeRect:m,draggableNodes:b,droppableContainers:_,dragOverlay:S,over:x,measuringConfiguration:T,scrollableAncestors:A,scrollableAncestorRects:k,windowRect:O}=kQ(),P=D.useContext(Hp),N=qQ(p?.id),M=VN(o,{activatorEvent:h,active:p,activeNodeRect:y,containerNodeRect:m,draggingNodeRect:S.rect,over:x,overlayNodeRect:S.rect,scrollableAncestors:A,scrollableAncestorRects:k,transform:P,windowRect:O}),B=tw(y),V=$Q({config:i,draggableNodes:b,droppableContainers:_,measuringConfiguration:T}),W=B?S.setRef:void 0;return de.createElement(PQ,null,de.createElement(IQ,{animation:V},p&&N?de.createElement(zQ,{key:N,id:p.id,ref:W,as:c,activatorEvent:h,adjustScale:e,className:u,transition:s,rect:B,style:{zIndex:d,...r},transform:M},n):null))});function Do({label:t,options:e,selectedOptions:n,onSelectionChange:i,searchPlaceholder:r,id:s,width:o="200px"}){const[c,u]=D.useState(!1),[d,h]=D.useState(""),p=D.useRef(null);D.useEffect(()=>{const T=A=>{p.current&&!p.current.contains(A.target)&&u(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const y=e.filter(T=>T.toLowerCase().includes(d.toLowerCase())),m=y.length>0&&y.every(T=>n.includes(T)),b=T=>{if(T.preventDefault(),T.stopPropagation(),m){const A=n.filter(k=>!y.includes(k));i(A)}else{const A=[...new Set([...n,...y])];i(A)}},_=(T,A)=>{if(T.preventDefault(),T.stopPropagation(),n.includes(A)){const k=n.filter(O=>O!==A);i(k)}else{const k=[...n.filter(O=>O!==""),A];i(k)}},S=()=>{u(!0)},x=T=>{h(T.target.value)};return C.jsxs("div",{className:"relative",ref:p,style:{width:o},children:[C.jsxs("div",{className:"space-y-2",children:[C.jsxs(fi,{htmlFor:s,children:[t,":"]}),C.jsx(Wn,{type:"text",id:s,value:d,onChange:x,onFocus:S,placeholder:r})]}),c&&e.length>0&&C.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:[C.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 ${m?"bg-navy-50 text-navy-800":""}`,onMouseDown:b,children:C.jsx("div",{className:"text-xs font-bold",children:"Tutti"})}),y.map(T=>C.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 ${n.includes(T)?"bg-navy-50 text-navy-800":""}`,onMouseDown:A=>_(A,T),children:C.jsx("div",{className:"text-xs font-normal",children:T})},T))]})]})}const WQ=D.lazy(()=>qr(()=>import("./TaskPoolDataTable-qVW3wJ4l.js"),[])),YQ=D.lazy(()=>qr(()=>import("./GanttChart-BMLRgfmo.js"),[])),zR=()=>C.jsx("div",{className:"loading",children:"Caricamento componenti scheduler..."}),QQ=({schedulingLoading:t})=>{if(!t.isScheduling&&!t.isRescheduling&&!t.isShunting&&!t.isNavigating)return null;const e=()=>t.isScheduling?"Programmazione lavoro...":t.isRescheduling?"Riprogrammazione lavoro...":t.isShunting?"Risoluzione conflitti...":t.isNavigating?"Navigazione...":"Operazione in corso...";return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[C.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),C.jsx("span",{className:"text-gray-700 font-medium",children:e()})]})})},KQ=(t,e)=>{const n=document.querySelector(t);if(!n){Fr("Grafico Gantt non trovato. Assicurati che il grafico sia visibile sullo schermo.");return}const i=Array.from(document.styleSheets);let r="";i.forEach(y=>{try{Array.from(y.cssRules||y.rules||[]).forEach(b=>{r+=b.cssText+`
`})}catch{}});const s=n.cloneNode(!0),o=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Grafico Gantt - ${e}</title>
        <style>
          ${r}
          body { 
            margin: 0; 
            padding: 20px; 
            font-family: Arial, sans-serif;
          }
          .calendar-section {
            width: 100%;
            overflow-x: auto;
          }
        </style>
      </head>
      <body>
        <div style="text-align: center; margin-bottom: 20px; font-size: 12px; font-weight: bold;">
          Grafico Gantt - ${e}
        </div>
        <div class="calendar-section">
          ${s.outerHTML}
        </div>
      </body>
    </html>
  `,c=new Blob([o],{type:"text/html"}),u=window.URL.createObjectURL(c),d=document.createElement("a");d.href=u;const h=new Date().toISOString().split("T")[0],p=new Date().toISOString().split("T")[1].split(".")[0].replace(/:/g,"-");d.download=`grafico-gantt-${h}-${p}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u)};function XQ(){const{data:t=[],isLoading:e,error:n}=Ep(),{data:i=[],isLoading:r,error:s}=xp(),{getOdpOrdersByWorkCenter:o,getScheduledOrders:c}=fn(),{selectedWorkCenter:u,isLoading:d,isInitialized:h,showAlert:p,isEditMode:y,toggleEditMode:m,showConflictDialog:b,schedulingLoading:_,setDragPreview:S,clearDragPreview:x,dragPreview:T}=Mt(),{scheduleTask:A,unscheduleTask:k,scheduleTaskFromSlot:O,rescheduleTaskToSlot:P,validateSlotAvailability:N}=ds(),{init:M,cleanup:B}=ro(),V=Hi(),W=M7(AR(ew,{activationConstraint:{distance:0}}),AR(zN,{activationConstraint:{distance:0}})),[X,ce]=D.useState(()=>{const Q=new Date;return new Date(Date.UTC(Q.getUTCFullYear(),Q.getUTCMonth(),Q.getUTCDate()))}),[ye,_e]=D.useState(null),H=e||r||d,[Z,be]=D.useState(null),[J,me]=D.useState(""),[E,I]=D.useState(""),[L,z]=D.useState(""),G={workCenter:[],department:[],machineType:[],machineName:[]};function ee(Q,se){switch(se.type){case"SET_FILTER":return{...Q,[se.payload.filterName]:se.payload.value};case"CLEAR_FILTERS":return G;default:return Q}}const[ne,ge]=D.useReducer(ee,G);D.useEffect(()=>(h||M(),()=>{B()}),[M,h,B]);const Ee=D.useMemo(()=>u?u==="BOTH"?t:t.filter(Q=>Q.work_center===u):[],[u,t]),qe=D.useMemo(()=>Ee.filter(se=>se.status==="SCHEDULED"),[Ee,u]),Nt=D.useMemo(()=>{if(performance.now(),!i||i.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let Q=i;u&&u!==wt.BOTH&&(Q=i.filter(it=>it.work_center===u));const se=Q.filter(it=>it.status===us.ACTIVE);if(se.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const ue=new Set,ve=new Set,we=new Set,Se=new Set;for(const it of se)it.work_center&&ue.add(it.work_center),it.department&&ve.add(it.department),it.machine_type&&we.add(it.machine_type),it.machine_name&&Se.add(it.machine_name);const Ne=Array.from(ue).sort(),We=Array.from(ve).sort(),Ye=Array.from(we).sort(),lt=Array.from(Se).sort();return performance.now(),{activeMachines:se,workCenters:Ne,departments:We,machineTypes:Ye,machineNames:lt}},[i,u]),It=D.useMemo(()=>{const{activeMachines:Q}=Nt;let se=Q;return ne.workCenter.length>0&&(se=se.filter(ue=>ne.workCenter.includes(ue.work_center))),ne.department.length>0&&(se=se.filter(ue=>ne.department.includes(ue.department))),ne.machineType.length>0&&(se=se.filter(ue=>ne.machineType.includes(ue.machine_type))),ne.machineName.length>0&&(se=se.filter(ue=>ne.machineName.includes(ue.machine_name))),se},[Nt,ne]),Xn=D.useCallback(async(Q,se="Daily")=>{const{startSchedulingOperation:ue,stopSchedulingOperation:ve}=Mt.getState();try{ue("navigate");let we;ce(Se=>{if(Q==="today"){const Ne=new Date,We=Ne.getUTCFullYear(),Ye=Ne.getUTCMonth(),lt=Ne.getUTCDate();return we=new Date(Date.UTC(We,Ye,lt)),we}else if(Q==="prev"){if(se==="Weekly")return we=el(_3(Se,1),{weekStartsOn:1}),we;{const Ne=new Date(Se);return Ne.setUTCDate(Ne.getUTCDate()-1),we=Ne,we}}else if(Q==="next"){if(se==="Weekly")return we=el(ak(Se,1),{weekStartsOn:1}),we;{const Ne=new Date(Se);return Ne.setUTCDate(Ne.getUTCDate()+1),we=Ne,Ne}}return we=Se,Se})}finally{ve()}},[]),Te=D.useCallback(()=>{const Q=new Date,se=Q.getUTCFullYear(),ue=Q.getUTCMonth(),ve=Q.getUTCDate(),we=new Date(Date.UTC(se,ue,ve));return X.getTime()===we.getTime()?"Oggi":Kn(X,"yyyy-MM-dd")},[X]),Ge=D.useCallback(()=>{ge({type:"CLEAR_FILTERS"})},[]),at=D.useCallback((Q,se,ue)=>{if(!Q.trim())return;let ve=qe.find(we=>we[se]===Q.trim());if(ve||(ve=qe.find(we=>we[se]&&we[se].toLowerCase().includes(Q.trim().toLowerCase()))),!ve){p(`Lavoro non trovato per ${ue}: ${Q}`,"warning");return}Ft(ve,se,ue,Q)},[qe,i,p]),Ft=D.useCallback((Q,se,ue,ve)=>{const we=i.find(Ne=>Ne.id===Q.scheduled_machine_id);if(!we){p("Macchina non trovata per questo lavoro","error");return}if(ge({type:"SET_FILTER",payload:{filterName:"machineName",value:[we.machine_name]}}),ge({type:"SET_FILTER",payload:{filterName:"workCenter",value:[we.work_center]}}),ge({type:"SET_FILTER",payload:{filterName:"department",value:[we.department]}}),ge({type:"SET_FILTER",payload:{filterName:"machineType",value:[we.machine_type]}}),Q.scheduled_start_time){const Ne=new Date(Q.scheduled_start_time),We=Ne.getUTCFullYear(),Ye=Ne.getUTCMonth(),lt=Ne.getUTCDate();ce(new Date(Date.UTC(We,Ye,lt)))}se==="odp_number"?me(""):se==="article_code"?I(""):se==="nome_cliente"&&z("");const Se=Q[se];p(`Lavoro trovato per ${ue} "${Se}" su ${we.machine_name}`,"success")},[i,p,me,I,z,ce]),sn=D.useRef(null),et=D.useRef(!1),U=D.useCallback(Q=>{const se=Q.active.data.current;se&&se.type==="task"?_e(se.task):se&&se.type==="event"&&_e(se.event)},[]),Y=D.useCallback(Q=>{const{over:se}=Q;if(se&&se.data.current?.type==="slot"){const{machine:ue,hour:ve,minute:we,isUnavailable:Se,hasScheduledTask:Ne}=se.data.current;if(Se||Ne){be(null),x();return}const We=`${ue.id}-${ve}-${we}`;if(be(We),ye){const Ye=ye.time_remaining||ye.duration||1,lt=Math.ceil(Ye*4),it=(ve-6)*4+Math.floor(we/15);S({isActive:!0,startSlot:it,durationSlots:lt,machineId:ue.id})}}else se&&se.data.current?.type==="next-day"?(be("next-day-drop-zone"),x()):se&&se.data.current?.type==="previous-day"?(be("previous-day-drop-zone"),x()):(be(null),x())},[ye,S,x]),te=D.useCallback(async Q=>{if(performance.now(),sn.current&&clearTimeout(sn.current),et.current)return;_e(null),be(null),x();const{over:se,active:ue}=Q;if(!se)return;const ve=ue.data.current,we=se.data.current;if(!(!ve||!we)){et.current=!0;try{await new Promise(Se=>{requestAnimationFrame(async()=>{const Ne=performance.now();if(ve.type==="task"&&we.type==="slot"){const We=ve.task,{machine:Ye,hour:lt,minute:it,isUnavailable:St,hasScheduledTask:ot}=we;if(ot)return p("Impossibile pianificare il lavoro su uno slot temporale occupato","error"),Se();const Le=await O(We.id,Ye,X,lt,it,null,V);Le?.error?p(Le.error,"error"):Le?.conflict&&b(Le)}else if(ve.type==="event"&&we.type==="slot"){const We=ve.event,{machine:Ye,hour:lt,minute:it,isUnavailable:St,hasScheduledTask:ot}=we;if(ot)return p("Impossibile riprogrammare il lavoro su uno slot temporale occupato","error"),Se();const Le=await P(We.id,Ye,X,lt,it,V);Le?.error?p(Le.error,"error"):Le?.conflict&&b(Le)}else if(ve.type==="event"&&we.type==="pool"){const We=ve.event;k(We.id,V)}else(ve.type==="task"||ve.type==="event")&&we.type==="next-day"?p("Navigazione al giorno successivo completata","success"):(ve.type==="task"||ve.type==="event")&&we.type==="previous-day"&&p("Navigazione al giorno precedente completata","success");Se()})})}catch{p("Si è verificato un errore durante l'operazione di trascinamento","error")}finally{et.current=!1}}},[X,O,P,k,p,b]);return H?C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[C.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),C.jsx("span",{className:"text-gray-700 font-medium",children:"Caricamento Scheduler Produzione..."})]})}):n||s?C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[C.jsx("div",{className:"text-red-600 mb-4",children:C.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),C.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Errore nel caricamento dei dati"}),C.jsx("p",{className:"text-gray-600 mb-4",children:n?.message||s?.message||"Errore sconosciuto"}),C.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Riprova"})]})}):u?C.jsxs(C.Fragment,{children:[C.jsx(QQ,{schedulingLoading:_}),C.jsxs(RQ,{sensors:W,onDragStart:U,onDragOver:Y,onDragEnd:te,children:[C.jsxs("div",{className:`content-section ${y?"edit-mode":""}`,children:[C.jsxs("div",{className:"task-pool-section",children:[C.jsxs("div",{className:"task-pool-header",children:[C.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Pool Lavori"}),C.jsx(bi,{variant:y?"destructive":"default",size:"sm",onClick:m,title:y?"Disabilita modalità modifica":"Abilita modalità modifica",children:y?"Disabilita Modalità Modifica":"Abilita Modalità Modifica"})]}),C.jsx(D.Suspense,{fallback:C.jsx(zR,{}),children:C.jsx(WQ,{})})]}),C.jsxs("div",{className:"section-controls",children:[C.jsx("div",{className:"task-pool-header",children:C.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Filtri"})}),C.jsxs("div",{className:"filters-grid",children:[C.jsx("div",{className:"filters-actions-left",children:C.jsx(bi,{variant:"secondary",size:"sm",onClick:Ge,title:"Clear all filters",children:"Cancella Filtri"})}),C.jsx(Do,{label:"ODP",options:qe.map(Q=>Q.odp_number).filter(Boolean),selectedOptions:J?[J]:[],onSelectionChange:Q=>{Q.length>0?(me(Q[0]),at(Q[0],"odp_number","ODP")):me("")},searchPlaceholder:"Cerca ODP...",id:"odp_filter",width:"150px"}),C.jsx(Do,{label:"Codice Articolo",options:qe.map(Q=>Q.article_code).filter(Boolean),selectedOptions:E?[E]:[],onSelectionChange:Q=>{Q.length>0?(I(Q[0]),at(Q[0],"article_code","codice articolo")):I("")},searchPlaceholder:"Cerca Articolo...",id:"article_filter",width:"150px"}),C.jsx(Do,{label:"Nome Cliente",options:qe.map(Q=>Q.nome_cliente).filter(Boolean),selectedOptions:L?[L]:[],onSelectionChange:Q=>{Q.length>0?(z(Q[0]),at(Q[0],"nome_cliente","cliente")):z("")},searchPlaceholder:"Cerca Cliente...",id:"customer_filter",width:"150px"}),C.jsx(Do,{label:"Centro di Lavoro",options:Nt.workCenters,selectedOptions:ne.workCenter,onSelectionChange:Q=>ge({type:"SET_FILTER",payload:{filterName:"workCenter",value:Q}}),searchPlaceholder:"Cerca Centri di Lavoro",id:"work_center_filter",width:"150px"}),C.jsx(Do,{label:"Reparto",options:Nt.departments,selectedOptions:ne.department,onSelectionChange:Q=>ge({type:"SET_FILTER",payload:{filterName:"department",value:Q}}),searchPlaceholder:"Cerca Reparti",id:"department_filter",width:"150px"}),C.jsx(Do,{label:"Tipo Macchina",options:Nt.machineTypes,selectedOptions:ne.machineType,onSelectionChange:Q=>ge({type:"SET_FILTER",payload:{filterName:"machineType",value:Q}}),searchPlaceholder:"Cerca Tipi di Macchina",id:"machine_type_filter",width:"150px"}),C.jsx(Do,{label:"Nome Macchina",options:Nt.machineNames,selectedOptions:ne.machineName,onSelectionChange:Q=>ge({type:"SET_FILTER",payload:{filterName:"machineName",value:Q}}),searchPlaceholder:"Cerca Nomi Macchine",id:"machine_name_filter",width:"150px"}),C.jsx("div",{className:"filters-actions-right",children:C.jsx(bi,{variant:"secondary",size:"sm",onClick:()=>KQ(".calendar-section .calendar-grid-container",Te()),title:"Download exact Gantt chart as HTML file",children:"Scarica HTML"})})]})]}),C.jsxs("div",{className:"calendar-section relative",children:[C.jsx(D.Suspense,{fallback:C.jsx(zR,{}),children:C.jsx(YQ,{machines:It,currentDate:X,dropTargetId:Z,dragPreview:T,onNavigateToNextDay:Q=>Xn("next",Q),onNavigateToPreviousDay:Q=>Xn("prev",Q)})}),(_.isScheduling||_.isRescheduling||_.isShunting||_.isNavigating)&&C.jsx("div",{className:"absolute inset-0 bg-white z-40"})]})]}),C.jsx(GQ,{children:ye?C.jsx("div",{style:{background:"#1e293b",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"400",zIndex:9999,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(3deg) scale(1.05)",border:"1px solid #2d3a4b",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",pointerEvents:"none",minHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",whiteSpace:"nowrap"},children:ye.odp_number}):null})]})]}):C.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:C.jsx("div",{className:"text-center py-1 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati dello scheduler."})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function sf(t){return t+.5|0}const $a=(t,e,n)=>Math.max(Math.min(t,n),e);function nd(t){return $a(sf(t*2.55),0,255)}function Wa(t){return $a(sf(t*255),0,255)}function Vs(t){return $a(sf(t/2.55)/100,0,1)}function FR(t){return $a(sf(t*100),0,100)}const _r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},x0=[..."0123456789ABCDEF"],ZQ=t=>x0[t&15],JQ=t=>x0[(t&240)>>4]+x0[t&15],Qh=t=>(t&240)>>4===(t&15),eK=t=>Qh(t.r)&&Qh(t.g)&&Qh(t.b)&&Qh(t.a);function tK(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&_r[t[1]]*17,g:255&_r[t[2]]*17,b:255&_r[t[3]]*17,a:e===5?_r[t[4]]*17:255}:(e===7||e===9)&&(n={r:_r[t[1]]<<4|_r[t[2]],g:_r[t[3]]<<4|_r[t[4]],b:_r[t[5]]<<4|_r[t[6]],a:e===9?_r[t[7]]<<4|_r[t[8]]:255})),n}const nK=(t,e)=>t<255?e(t):"";function iK(t){var e=eK(t)?ZQ:JQ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+nK(t.a,e):void 0}const rK=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qN(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function sK(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function aK(t,e,n){const i=qN(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function oK(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function nw(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),c=(s+o)/2;let u,d,h;return s!==o&&(h=s-o,d=c>.5?h/(2-s-o):h/(s+o),u=oK(n,i,r,h,s),u=u*60+.5),[u|0,d||0,c]}function iw(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Wa)}function rw(t,e,n){return iw(qN,t,e,n)}function lK(t,e,n){return iw(aK,t,e,n)}function cK(t,e,n){return iw(sK,t,e,n)}function GN(t){return(t%360+360)%360}function uK(t){const e=rK.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?nd(+e[5]):Wa(+e[5]));const r=GN(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=lK(r,s,o):e[1]==="hsv"?i=cK(r,s,o):i=rw(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function dK(t,e){var n=nw(t);n[0]=GN(n[0]+e),n=rw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function fK(t){if(!t)return;const e=nw(t),n=e[0],i=FR(e[1]),r=FR(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Vs(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const HR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},BR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function hK(){const t={},e=Object.keys(BR),n=Object.keys(HR);let i,r,s,o,c;for(i=0;i<e.length;i++){for(o=c=e[i],r=0;r<n.length;r++)s=n[r],c=c.replace(s,HR[s]);s=parseInt(BR[o],16),t[c]=[s>>16&255,s>>8&255,s&255]}return t}let Kh;function gK(t){Kh||(Kh=hK(),Kh.transparent=[0,0,0,0]);const e=Kh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const pK=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mK(t){const e=pK.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?nd(o):$a(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?nd(i):$a(i,0,255)),r=255&(e[4]?nd(r):$a(r,0,255)),s=255&(e[6]?nd(s):$a(s,0,255)),{r:i,g:r,b:s,a:n}}}function yK(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Vs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const lb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,oc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function vK(t,e,n){const i=oc(Vs(t.r)),r=oc(Vs(t.g)),s=oc(Vs(t.b));return{r:Wa(lb(i+n*(oc(Vs(e.r))-i))),g:Wa(lb(r+n*(oc(Vs(e.g))-r))),b:Wa(lb(s+n*(oc(Vs(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Xh(t,e,n){if(t){let i=nw(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=rw(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function WN(t,e){return t&&Object.assign(e||{},t)}function $R(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Wa(t[3]))):(e=WN(t,{r:0,g:0,b:0,a:1}),e.a=Wa(e.a)),e}function bK(t){return t.charAt(0)==="r"?mK(t):uK(t)}class Pd{constructor(e){if(e instanceof Pd)return e;const n=typeof e;let i;n==="object"?i=$R(e):n==="string"&&(i=tK(e)||gK(e)||bK(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=WN(this._rgb);return e&&(e.a=Vs(e.a)),e}set rgb(e){this._rgb=$R(e)}rgbString(){return this._valid?yK(this._rgb):void 0}hexString(){return this._valid?iK(this._rgb):void 0}hslString(){return this._valid?fK(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,c=2*o-1,u=i.a-r.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=vK(this._rgb,e._rgb,n)),this}clone(){return new Pd(this.rgb)}alpha(e){return this._rgb.a=Wa(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=sf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Xh(this._rgb,2,e),this}darken(e){return Xh(this._rgb,2,-e),this}saturate(e){return Xh(this._rgb,1,e),this}desaturate(e){return Xh(this._rgb,1,-e),this}rotate(e){return dK(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Us(){}const _K=(()=>{let t=0;return()=>t++})();function Kt(t){return t==null}function Yn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Dt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ar(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function is(t,e){return Ar(t)?t:e}function mt(t,e){return typeof t>"u"?e:t}const wK=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,YN=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function en(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ut(t,e,n,i){let r,s,o;if(Yn(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(Dt(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function rp(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function sp(t){if(Yn(t))return t.map(sp);if(Dt(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=sp(t[n[r]]);return e}return t}function QN(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function SK(t,e,n,i){if(!QN(t))return;const r=e[t],s=n[t];Dt(r)&&Dt(s)?Ld(r,s,i):e[t]=sp(s)}function Ld(t,e,n){const i=Yn(e)?e:[e],r=i.length;if(!Dt(t))return t;n=n||{};const s=n.merger||SK;let o;for(let c=0;c<r;++c){if(o=i[c],!Dt(o))continue;const u=Object.keys(o);for(let d=0,h=u.length;d<h;++d)s(u[d],t,o,n)}return t}function bd(t,e){return Ld(t,e,{merger:xK})}function xK(t,e,n){if(!QN(t))return;const i=e[t],r=n[t];Dt(i)&&Dt(r)?bd(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=sp(r))}const VR={"":t=>t,x:t=>t.x,y:t=>t.y};function EK(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function CK(t){const e=EK(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ud(t,e){return(VR[e]||(VR[e]=CK(e)))(t)}function sw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ap=t=>typeof t<"u",eo=t=>typeof t=="function",qR=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function TK(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const zt=Math.PI,vn=2*zt,AK=vn+zt,op=Number.POSITIVE_INFINITY,RK=zt/180,Fn=zt/2,Oo=zt/4,GR=zt*2/3,KN=Math.log10,Nc=Math.sign;function _d(t,e,n){return Math.abs(t-e)<n}function WR(t){const e=Math.round(t);t=_d(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(KN(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function DK(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function OK(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function zd(t){return!OK(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function kK(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function MK(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ys(t){return t*(zt/180)}function NK(t){return t*(180/zt)}function YR(t){if(!Ar(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function XN(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*zt&&(s+=vn),{angle:s,distance:r}}function E0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function IK(t,e){return(t-e+AK)%vn-zt}function Lr(t){return(t%vn+vn)%vn}function Fd(t,e,n,i){const r=Lr(t),s=Lr(e),o=Lr(n),c=Lr(s-r),u=Lr(o-r),d=Lr(r-s),h=Lr(r-o);return r===s||r===o||i&&s===o||c>u&&d<h}function _i(t,e,n){return Math.max(e,Math.min(n,t))}function jK(t){return _i(t,-32768,32767)}function yc(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function aw(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Wo=(t,e,n,i)=>aw(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),PK=(t,e,n)=>aw(t,n,i=>t[i][e]>=n);function LK(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const ZN=["push","pop","shift","splice","unshift"];function UK(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ZN.forEach(n=>{const i="_onData"+sw(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...s)}),o}})})}function QR(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(ZN.forEach(s=>{delete t[s]}),delete t._chartjs)}function zK(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const JN=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function eI(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,JN.call(window,()=>{i=!1,t.apply(e,n)}))}}function FK(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const ow=t=>t==="start"?"left":t==="end"?"right":"center",di=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,HK=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function BK(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:c,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=o.axis,{min:p,max:y,minDefined:m,maxDefined:b}=o.getUserBounds();if(m){if(r=Math.min(Wo(u,h,p).lo,n?i:Wo(e,h,o.getPixelForValue(p)).lo),d){const _=u.slice(0,r+1).reverse().findIndex(S=>!Kt(S[c.axis]));r-=Math.max(0,_)}r=_i(r,0,i-1)}if(b){let _=Math.max(Wo(u,o.axis,y,!0).hi+1,n?0:Wo(e,h,o.getPixelForValue(y),!0).hi+1);if(d){const S=u.slice(_-1).findIndex(x=>!Kt(x[c.axis]));_+=Math.max(0,S)}s=_i(_,r,i)-r}else s=i-r}return{start:r,count:s}}function $K(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Zh=t=>t===0||t===1,KR=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*vn/n)),XR=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*vn/n)+1,wd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Fn)+1,easeOutSine:t=>Math.sin(t*Fn),easeInOutSine:t=>-.5*(Math.cos(zt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Zh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Zh(t)?t:KR(t,.075,.3),easeOutElastic:t=>Zh(t)?t:XR(t,.075,.3),easeInOutElastic(t){return Zh(t)?t:t<.5?.5*KR(t*2,.1125,.45):.5+.5*XR(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-wd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?wd.easeInBounce(t*2)*.5:wd.easeOutBounce(t*2-1)*.5+.5};function lw(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ZR(t){return lw(t)?t:new Pd(t)}function cb(t){return lw(t)?t:new Pd(t).saturate(.5).darken(.1).hexString()}const VK=["x","y","borderWidth","radius","tension"],qK=["color","borderColor","backgroundColor"];function GK(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:qK},numbers:{type:"number",properties:VK}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function WK(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const JR=new Map;function YK(t,e){e=e||{};const n=t+JSON.stringify(e);let i=JR.get(n);return i||(i=new Intl.NumberFormat(t,e),JR.set(n,i)),i}function cw(t,e,n){return YK(e,n).format(t)}const QK={values(t){return Yn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=KK(t,n)}const o=KN(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),cw(t,i,u)}};function KK(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var tI={formatters:QK};function XK(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const il=Object.create(null),C0=Object.create(null);function Sd(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function ub(t,e,n){return typeof e=="string"?Ld(Sd(t,e),n):Ld(Sd(t,""),e)}class ZK{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>cb(r.backgroundColor),this.hoverBorderColor=(i,r)=>cb(r.borderColor),this.hoverColor=(i,r)=>cb(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ub(this,e,n)}get(e){return Sd(this,e)}describe(e,n){return ub(C0,e,n)}override(e,n){return ub(il,e,n)}route(e,n,i,r){const s=Sd(this,e),o=Sd(this,i),c="_"+n;Object.defineProperties(s,{[c]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],d=o[r];return Dt(u)?Object.assign({},d,u):mt(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var xn=new ZK({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[GK,WK,XK]);function JK(t){return!t||Kt(t.size)||Kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function eD(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function ko(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function tD(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function T0(t,e,n,i){nI(t,e,n,i,null)}function nI(t,e,n,i,r){let s,o,c,u,d,h,p,y;const m=e.pointStyle,b=e.rotation,_=e.radius;let S=(b||0)*RK;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(S),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,i,r/2,_,0,0,vn):t.arc(n,i,_,0,vn),t.closePath();break;case"triangle":h=r?r/2:_,t.moveTo(n+Math.sin(S)*h,i-Math.cos(S)*_),S+=GR,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*_),S+=GR,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*_),t.closePath();break;case"rectRounded":d=_*.516,u=_-d,o=Math.cos(S+Oo)*u,p=Math.cos(S+Oo)*(r?r/2-d:u),c=Math.sin(S+Oo)*u,y=Math.sin(S+Oo)*(r?r/2-d:u),t.arc(n-p,i-c,d,S-zt,S-Fn),t.arc(n+y,i-o,d,S-Fn,S),t.arc(n+p,i+c,d,S,S+Fn),t.arc(n-y,i+o,d,S+Fn,S+zt),t.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*_,h=r?r/2:u,t.rect(n-h,i-u,2*h,2*u);break}S+=Oo;case"rectRot":p=Math.cos(S)*(r?r/2:_),o=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),t.moveTo(n-p,i-c),t.lineTo(n+y,i-o),t.lineTo(n+p,i+c),t.lineTo(n-y,i+o),t.closePath();break;case"crossRot":S+=Oo;case"cross":p=Math.cos(S)*(r?r/2:_),o=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),t.moveTo(n-p,i-c),t.lineTo(n+p,i+c),t.moveTo(n+y,i-o),t.lineTo(n-y,i+o);break;case"star":p=Math.cos(S)*(r?r/2:_),o=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),t.moveTo(n-p,i-c),t.lineTo(n+p,i+c),t.moveTo(n+y,i-o),t.lineTo(n-y,i+o),S+=Oo,p=Math.cos(S)*(r?r/2:_),o=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),t.moveTo(n-p,i-c),t.lineTo(n+p,i+c),t.moveTo(n+y,i-o),t.lineTo(n-y,i+o);break;case"line":o=r?r/2:Math.cos(S)*_,c=Math.sin(S)*_,t.moveTo(n-o,i-c),t.lineTo(n+o,i+c);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(S)*(r?r/2:_),i+Math.sin(S)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Hd(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function uw(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function dw(t){t.restore()}function eX(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function tX(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function nX(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Kt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function iX(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,h=r.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(c,h),t.stroke()}}function rX(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Bd(t,e,n,i,r,s={}){const o=Yn(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=r.string,nX(t,s),u=0;u<o.length;++u)d=o[u],s.backdrop&&rX(t,s.backdrop),c&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Kt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,i,s.maxWidth)),t.fillText(d,n,i,s.maxWidth),iX(t,n,i,d,s),i+=Number(r.lineHeight);t.restore()}function A0(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*zt,zt,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,zt,Fn,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Fn,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Fn,!0),t.lineTo(n+o.topLeft,i)}const sX=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function oX(t,e){const n=(""+t).match(sX);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const lX=t=>+t||0;function fw(t,e){const n={},i=Dt(e),r=i?Object.keys(e):e,s=Dt(t)?i?o=>mt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=lX(s(o));return n}function cX(t){return fw(t,{top:"y",right:"x",bottom:"y",left:"x"})}function xd(t){return fw(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Rr(t){const e=cX(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function gi(t,e){t=t||{},e=e||xn.font;let n=mt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=mt(t.style,e.style);i&&!(""+i).match(aX)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:mt(t.family,e.family),lineHeight:oX(mt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:mt(t.weight,e.weight),string:""};return r.string=JK(r),r}function Jh(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function uX(t,e,n){const{min:i,max:r}=t,s=YN(e,(r-i)/2),o=(c,u)=>n&&c===0?0:c+u;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function hl(t,e){return Object.assign(Object.create(t),e)}function hw(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=aI("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>hw([c,...t],e,s,i)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return rI(c,u,()=>vX(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return iD(c).includes(u)},ownKeys(c){return iD(c)},set(c,u,d){const h=c._storage||(c._storage=r());return c[u]=h[u]=d,delete c._keys,!0}})}function Ic(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:iI(t,i),setContext:s=>Ic(t,s,n,i),override:s=>Ic(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,c){return rI(s,o,()=>fX(s,o,c))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,c){return t[o]=c,delete s[o],!0}})}function iI(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:eo(n)?n:()=>n,isIndexable:eo(i)?i:()=>i}}const dX=(t,e)=>t?t+sw(e):e,gw=(t,e)=>Dt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function rI(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function fX(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let c=i[e];return eo(c)&&o.isScriptable(e)&&(c=hX(e,c,t,n)),Yn(c)&&c.length&&(c=gX(e,c,t,o.isIndexable)),gw(e,c)&&(c=Ic(c,r,s&&s[e],o)),c}function hX(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(s,o||i);return c.delete(t),gw(t,u)&&(u=pw(r._scopes,r,t,u)),u}function gX(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(Dt(e[0])){const u=e,d=r._scopes.filter(h=>h!==u);e=[];for(const h of u){const p=pw(d,r,t,h);e.push(Ic(p,s,o&&o[t],c))}}return e}function sI(t,e,n){return eo(t)?t(e,n):t}const pX=(t,e)=>t===!0?e:typeof t=="string"?Ud(e,t):void 0;function mX(t,e,n,i,r){for(const s of e){const o=pX(n,s);if(o){t.add(o);const c=sI(o._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function pw(t,e,n,i){const r=e._rootScopes,s=sI(e._fallback,n,i),o=[...t,...r],c=new Set;c.add(i);let u=nD(c,o,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=nD(c,o,s,u,i),u===null)?!1:hw(Array.from(c),[""],r,s,()=>yX(e,n,i))}function nD(t,e,n,i,r){for(;n;)n=mX(t,e,n,i,r);return n}function yX(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Yn(r)&&Dt(n)?n:r||{}}function vX(t,e,n,i){let r;for(const s of e)if(r=aI(dX(s,t),n),typeof r<"u")return gw(t,r)?pw(n,i,t,r):r}function aI(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function iD(t){let e=t._keys;return e||(e=t._keys=bX(t._scopes)),e}function bX(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const _X=Number.EPSILON||1e-14,jc=(t,e)=>e<t.length&&!t[e].skip&&t[e],oI=t=>t==="x"?"y":"x";function wX(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,c=E0(s,r),u=E0(o,s);let d=c/(c+u),h=u/(c+u);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const p=i*d,y=i*h;return{previous:{x:s.x-p*(o.x-r.x),y:s.y-p*(o.y-r.y)},next:{x:s.x+y*(o.x-r.x),y:s.y+y*(o.y-r.y)}}}function SX(t,e,n){const i=t.length;let r,s,o,c,u,d=jc(t,0);for(let h=0;h<i-1;++h)if(u=d,d=jc(t,h+1),!(!u||!d)){if(_d(e[h],0,_X)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),n[h]=r*o*e[h],n[h+1]=s*o*e[h])}}function xX(t,e,n="x"){const i=oI(n),r=t.length;let s,o,c,u=jc(t,0);for(let d=0;d<r;++d){if(o=c,c=u,u=jc(t,d+1),!c)continue;const h=c[n],p=c[i];o&&(s=(h-o[n])/3,c[`cp1${n}`]=h-s,c[`cp1${i}`]=p-s*e[d]),u&&(s=(u[n]-h)/3,c[`cp2${n}`]=h+s,c[`cp2${i}`]=p+s*e[d])}}function EX(t,e="x"){const n=oI(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,c,u,d=jc(t,0);for(o=0;o<i;++o)if(c=u,u=d,d=jc(t,o+1),!!u){if(d){const h=d[e]-u[e];r[o]=h!==0?(d[n]-u[n])/h:0}s[o]=c?d?Nc(r[o-1])!==Nc(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}SX(t,r,s),xX(t,s,e)}function eg(t,e,n){return Math.max(Math.min(t,n),e)}function CX(t,e){let n,i,r,s,o,c=Hd(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=c,c=n<i-1&&Hd(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=eg(r.cp1x,e.left,e.right),r.cp1y=eg(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=eg(r.cp2x,e.left,e.right),r.cp2y=eg(r.cp2y,e.top,e.bottom)))}function TX(t,e,n,i,r){let s,o,c,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")EX(t,r);else{let d=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)c=t[s],u=wX(d,c,t[Math.min(s+1,o-(i?0:1))%o],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}e.capBezierPoints&&CX(t,n)}function mw(){return typeof window<"u"&&typeof document<"u"}function yw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function lp(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Bp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function AX(t,e){return Bp(t).getPropertyValue(e)}const RX=["top","right","bottom","left"];function Xo(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=RX[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const DX=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function OX(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,c,u;if(DX(r,s,t.target))c=r,u=s;else{const d=e.getBoundingClientRect();c=i.clientX-d.left,u=i.clientY-d.top,o=!0}return{x:c,y:u,box:o}}function Uo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Bp(n),s=r.boxSizing==="border-box",o=Xo(r,"padding"),c=Xo(r,"border","width"),{x:u,y:d,box:h}=OX(t,n),p=o.left+(h&&c.left),y=o.top+(h&&c.top);let{width:m,height:b}=e;return s&&(m-=o.width+c.width,b-=o.height+c.height),{x:Math.round((u-p)/m*n.width/i),y:Math.round((d-y)/b*n.height/i)}}function kX(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&yw(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),c=Bp(s),u=Xo(c,"border","width"),d=Xo(c,"padding");e=o.width-d.width-u.width,n=o.height-d.height-u.height,i=lp(c.maxWidth,s,"clientWidth"),r=lp(c.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||op,maxHeight:r||op}}const Va=t=>Math.round(t*10)/10;function MX(t,e,n,i){const r=Bp(t),s=Xo(r,"margin"),o=lp(r.maxWidth,t,"clientWidth")||op,c=lp(r.maxHeight,t,"clientHeight")||op,u=kX(t,e,n);let{width:d,height:h}=u;if(r.boxSizing==="content-box"){const y=Xo(r,"border","width"),m=Xo(r,"padding");d-=m.width+y.width,h-=m.height+y.height}return d=Math.max(0,d-s.width),h=Math.max(0,i?d/i:h-s.height),d=Va(Math.min(d,o,u.maxWidth)),h=Va(Math.min(h,c,u.maxHeight)),d&&!h&&(h=Va(d/2)),(e!==void 0||n!==void 0)&&i&&u.height&&h>u.height&&(h=u.height,d=Va(Math.floor(h*i))),{width:d,height:h}}function rD(t,e,n){const i=e||1,r=Va(t.height*i),s=Va(t.width*i);t.height=Va(t.height),t.width=Va(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const NX=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};mw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function sD(t,e){const n=AX(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function zo(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function IX(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function jX(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=zo(t,r,n),c=zo(r,s,n),u=zo(s,e,n),d=zo(o,c,n),h=zo(c,u,n);return zo(d,h,n)}const PX=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},LX=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Tc(t,e,n){return t?PX(e,n):LX()}function lI(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function cI(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function uI(t){return t==="angle"?{between:Fd,compare:IK,normalize:Lr}:{between:yc,compare:(e,n)=>e-n,normalize:e=>e}}function aD({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function UX(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:c}=uI(i),u=e.length;let{start:d,end:h,loop:p}=t,y,m;if(p){for(d+=u,h+=u,y=0,m=u;y<m&&o(c(e[d%u][i]),r,s);++y)d--,h--;d%=u,h%=u}return h<d&&(h+=u),{start:d,end:h,loop:p,style:t.style}}function zX(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:c,between:u,normalize:d}=uI(i),{start:h,end:p,loop:y,style:m}=UX(t,e,n),b=[];let _=!1,S=null,x,T,A;const k=()=>u(r,A,x)&&c(r,A)!==0,O=()=>c(s,x)===0||u(s,A,x),P=()=>_||k(),N=()=>!_||O();for(let M=h,B=h;M<=p;++M)T=e[M%o],!T.skip&&(x=d(T[i]),x!==A&&(_=u(x,r,s),S===null&&P()&&(S=c(x,r)===0?M:B),S!==null&&N()&&(b.push(aD({start:S,end:M,loop:y,count:o,style:m})),S=null),B=M,A=x));return S!==null&&b.push(aD({start:S,end:p,loop:y,count:o,style:m})),b}function FX(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=zX(i[r],t.points,e);s.length&&n.push(...s)}return n}function HX(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function BX(t,e,n,i){const r=t.length,s=[];let o=e,c=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%r];d.skip||d.stop?c.skip||(i=!1,s.push({start:e%r,end:(u-1)%r,loop:i}),e=o=d.stop?u:null):(o=u,c.skip&&(e=u)),c=d}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function $X(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:c}=HX(n,r,s,i);if(i===!0)return oD(t,[{start:o,end:c,loop:s}],n,e);const u=c<o?c+r:c,d=!!t._fullLoop&&o===0&&c===r-1;return oD(t,BX(n,o,u,d),n,e)}function oD(t,e,n,i){return!i||!i.setContext||!n?e:VX(t,e,n,i)}function VX(t,e,n,i){const r=t._chart.getContext(),s=lD(t.options),{_datasetIndex:o,options:{spanGaps:c}}=t,u=n.length,d=[];let h=s,p=e[0].start,y=p;function m(b,_,S,x){const T=c?-1:1;if(b!==_){for(b+=u;n[b%u].skip;)b-=T;for(;n[_%u].skip;)_+=T;b%u!==_%u&&(d.push({start:b%u,end:_%u,loop:S,style:x}),h=x,p=_%u)}}for(const b of e){p=c?p:b.start;let _=n[p%u],S;for(y=p+1;y<=b.end;y++){const x=n[y%u];S=lD(i.setContext(hl(r,{type:"segment",p0:_,p1:x,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:o}))),qX(S,h)&&m(p,y-1,b.loop,h),_=x,h=S}p<y-1&&m(p,y-1,b.loop,h)}return d}function lD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function qX(t,e){if(!e)return!1;const n=[],i=function(r,s){return lw(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function tg(t,e,n){return t.options.clip?t[n]:e[n]}function GX(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:tg(n,e,"left"),right:tg(n,e,"right"),top:tg(i,e,"top"),bottom:tg(i,e,"bottom")}:e}function WX(t,e){const n=e._clip;if(n.disabled)return!1;const i=GX(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class YX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(c=>c({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=JN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,c=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zs=new YX;const cD="transparent",QX={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=ZR(t||cD),r=i.valid&&ZR(e||cD);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class KX{constructor(e,n,i,r){const s=n[i];r=Jh([e.to,r,s,e.from]);const o=Jh([e.from,s,r]);this._active=!0,this._fn=e.fn||QX[e.type||typeof o],this._easing=wd[e.easing]||wd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Jh([e.to,n,r,e.from]),this._from=Jh([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let u;if(this._active=s!==c&&(o||n<i),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class dI{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Dt(e))return;const n=Object.keys(xn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Dt(s))return;const o={};for(const c of n)o[c]=s[c];(Yn(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(e,n){const i=n.options,r=ZX(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&XX(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const d=o[u];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[d];let p=s[d];const y=i.get(d);if(p)if(y&&p.active()){p.update(y,h,c);continue}else p.cancel();if(!y||!y.duration){e[d]=h;continue}s[d]=p=new KX(y,e,d,h),r.push(p)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return zs.add(this._chart,i),!0}}function XX(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function ZX(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function uD(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function JX(t,e,n){if(n===!1)return!1;const i=uD(t,n),r=uD(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function eZ(t){let e,n,i,r;return Dt(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function fI(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function dD(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,c,u,d;if(e===null)return;let h=!1;for(o=0,c=r.length;o<c;++o){if(u=+r[o],u===n){if(h=!0,i.all)continue;break}d=t.values[u],Ar(d)&&(s||e===0||Nc(e)===Nc(d))&&(e+=d)}return!h&&!i.all?0:e}function tZ(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let u,d,h;for(u=0,d=o.length;u<d;++u)h=o[u],c[u]={[r]:h,[s]:t[h]};return c}function db(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function nZ(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function iZ(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function rZ(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function fD(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function hD(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:c}=i,u=s.axis,d=o.axis,h=nZ(s,o,i),p=e.length;let y;for(let m=0;m<p;++m){const b=e[m],{[u]:_,[d]:S}=b,x=b._stacks||(b._stacks={});y=x[d]=rZ(r,h,_),y[c]=S,y._top=fD(y,o,!0,i.type),y._bottom=fD(y,o,!1,i.type);const T=y._visualValues||(y._visualValues={});T[c]=S}}function fb(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function sZ(t,e){return hl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aZ(t,e,n){return hl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Qu(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const hb=t=>t==="reset"||t==="none",gD=(t,e)=>e?t:Object.assign({},t),oZ=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:fI(n,!0),values:null};class vw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=db(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Qu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(p,y,m,b)=>p==="x"?y:p==="r"?b:m,s=n.xAxisID=mt(i.xAxisID,fb(e,"x")),o=n.yAxisID=mt(i.yAxisID,fb(e,"y")),c=n.rAxisID=mt(i.rAxisID,fb(e,"r")),u=n.indexAxis,d=n.iAxisID=r(u,s,o,c),h=n.vAxisID=r(u,o,s,c);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&QR(this._data,this),e._stacked&&Qu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Dt(n)){const r=this._cachedMeta;this._data=tZ(n,r)}else if(i!==n){if(i){QR(i,this);const r=this._cachedMeta;Qu(r),r._parsed=[]}n&&Object.isExtensible(n)&&UK(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=db(n.vScale,n),n.stack!==i.stack&&(r=!0,Qu(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(hD(this,n._parsed),n._stacked=db(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,c=s.axis;let u=e===0&&n===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],h,p,y;if(this._parsing===!1)i._parsed=r,i._sorted=!0,y=r;else{Yn(r[e])?y=this.parseArrayData(i,r,e,n):Dt(r[e])?y=this.parseObjectData(i,r,e,n):y=this.parsePrimitiveData(i,r,e,n);const m=()=>p[c]===null||d&&p[c]<d[c];for(h=0;h<n;++h)i._parsed[h+e]=p=y[h],u&&(m()&&(u=!1),d=p);i._sorted=u}o&&hD(this,y)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,c=s.axis,u=o.axis,d=s.getLabels(),h=s===o,p=new Array(r);let y,m,b;for(y=0,m=r;y<m;++y)b=y+i,p[y]={[c]:h||s.parse(d[b],b),[u]:o.parse(n[b],b)};return p}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,c=new Array(r);let u,d,h,p;for(u=0,d=r;u<d;++u)h=u+i,p=n[h],c[u]={x:s.parse(p[0],h),y:o.parse(p[1],h)};return c}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(r);let h,p,y,m;for(h=0,p=r;h<p;++h)y=h+i,m=n[y],d[h]={x:s.parse(Ud(m,c),y),y:o.parse(Ud(m,u),y)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],c={keys:fI(r,!0),values:n._stacks[e.axis]._visualValues};return dD(c,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const c=r&&i._stacks[n.axis];r&&c&&(r.values=c,o=dD(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,c=this._getOtherScale(e),u=oZ(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=iZ(c);let y,m;function b(){m=r[y];const _=m[c.axis];return!Ar(m[e.axis])||h>_||p<_}for(y=0;y<o&&!(!b()&&(this.updateRangeFromParsed(d,e,m,u),s));++y);if(s){for(y=o-1;y>=0;--y)if(!b()){this.updateRangeFromParsed(d,e,m,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Ar(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=eZ(mt(this.options.clip,JX(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||r.length-c,d=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,c,u),h=c;h<c+u;++h){const p=r[h];p.hidden||(p.active&&d?o.push(p):p.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=aZ(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=sZ(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,c=s[o],u=this.enableOptionSharing&&ap(i);if(c)return gD(c,u);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),p=r?[`${e}Hover`,"hover",e,""]:[e,""],y=d.getOptionScopes(this.getDataset(),h),m=Object.keys(xn.elements[e]),b=()=>this.getContext(i,r,n),_=d.resolveNamedOptions(y,m,b,p);return _.$shared&&(_.$shared=u,s[o]=Object.freeze(gD(_,u))),_}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,c=s[o];if(c)return c;let u;if(r.options.animation!==!1){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,n),y=h.getOptionScopes(this.getDataset(),p);u=h.createResolver(y,this.getContext(e,i,n))}const d=new dI(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||hb(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){hb(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!hb(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let c;const u=d=>{for(d.length+=n,c=d.length-1;c>=o;c--)d[c]=d[c-n]};for(u(s),c=e;c<o;++c)s[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Qu(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function lZ(t,e,n){let i=1,r=1,s=0,o=0;if(e<vn){const c=t,u=c+e,d=Math.cos(c),h=Math.sin(c),p=Math.cos(u),y=Math.sin(u),m=(A,k,O)=>Fd(A,c,u,!0)?1:Math.max(k,k*n,O,O*n),b=(A,k,O)=>Fd(A,c,u,!0)?-1:Math.min(k,k*n,O,O*n),_=m(0,d,p),S=m(Fn,h,y),x=b(zt,d,p),T=b(zt+Fn,h,y);i=(_-x)/2,r=(S-T)/2,s=-(_+x)/2,o=-(S+T)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class cZ extends vw{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const p=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:p.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:r,pointStyle:i,borderRadius:o&&(c||p.borderRadius),index:d}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(Dt(i[e])){const{key:u="value"}=this._parsing;s=d=>+Ud(i[d],u)}let o,c;for(o=e,c=e+n;o<c;++o)r._parsed[o]=s(o)}}_getRotation(){return Ys(this.options.rotation-90)}_getCircumference(){return Ys(this.options.circumference)}_getRotationExtents(){let e=vn,n=-vn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(wK(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:y,ratioY:m,offsetX:b,offsetY:_}=lZ(p,h,u),S=(i.width-o)/y,x=(i.height-o)/m,T=Math.max(Math.min(S,x)/2,0),A=YN(this.options.radius,T),k=Math.max(A*u,0),O=(A-k)/this._getVisibleDatasetWeightTotal();this.offsetX=b*A,this.offsetY=_*A,r.total=this.calculateTotal(),this.outerRadius=A-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/vn)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,h=(c.left+c.right)/2,p=(c.top+c.bottom)/2,y=s&&d.animateScale,m=y?0:this.innerRadius,b=y?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(n,r);let x=this._getRotation(),T;for(T=0;T<n;++T)x+=this._circumference(T,s);for(T=n;T<n+i;++T){const A=this._circumference(T,s),k=e[T],O={x:h+this.offsetX,y:p+this.offsetY,startAngle:x,endAngle:x+A,circumference:A,outerRadius:b,innerRadius:m};S&&(O.options=_||this.resolveDataElementOptions(T,k.active?"active":r)),x+=A,this.updateElement(k,T,O,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?vn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=cw(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,c,u;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,c=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(mt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class uZ extends vw{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:c,count:u}=BK(n,r,o);this._drawStart=c,this._drawCount=u,$K(n)&&(c=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:d},e),this.updateElements(r,c,u,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,r),y=o.axis,m=c.axis,{spanGaps:b,segment:_}=this.options,S=zd(b)?b:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",T=n+i,A=e.length;let k=n>0&&this.getParsed(n-1);for(let O=0;O<A;++O){const P=e[O],N=x?P:{};if(O<n||O>=T){N.skip=!0;continue}const M=this.getParsed(O),B=Kt(M[m]),V=N[y]=o.getPixelForValue(M[y],O),W=N[m]=s||B?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,M,u):M[m],O);N.skip=isNaN(V)||isNaN(W)||B,N.stop=O>0&&Math.abs(M[y]-k[y])>S,_&&(N.parsed=M,N.raw=d.data[O]),p&&(N.options=h||this.resolveDataElementOptions(O,P.active?"active":r)),x||this.updateElement(P,O,N,r),k=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class dZ extends cZ{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Mo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bw{static override(e){Object.assign(bw.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Mo()}parse(){return Mo()}format(){return Mo()}add(){return Mo()}diff(){return Mo()}startOf(){return Mo()}endOf(){return Mo()}}var fZ={_date:bw};function hZ(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,c=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&s.length){const d=c._reversePixels?PK:Wo;if(i){if(r._sharedOptions){const h=s[0],p=typeof h.getRange=="function"&&h.getRange(e);if(p){const y=d(s,e,n-p),m=d(s,e,n+p);return{lo:y.lo,hi:m.hi}}}}else{const h=d(s,e,n);if(u){const{vScale:p}=r._cachedMeta,{_parsed:y}=t,m=y.slice(0,h.lo+1).reverse().findIndex(_=>!Kt(_[p.axis]));h.lo-=Math.max(0,m);const b=y.slice(h.hi).findIndex(_=>!Kt(_[p.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:s.length-1}}function $p(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let c=0,u=s.length;c<u;++c){const{index:d,data:h}=s[c],{lo:p,hi:y}=hZ(s[c],e,o,r);for(let m=p;m<=y;++m){const b=h[m];b.skip||i(b,d,m)}}}function gZ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function gb(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||$p(t,n,e,function(c,u,d){!r&&!Hd(c,t.chartArea,0)||c.inRange(e.x,e.y,i)&&s.push({element:c,datasetIndex:u,index:d})},!0),s}function pZ(t,e,n,i){let r=[];function s(o,c,u){const{startAngle:d,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:p}=XN(o,{x:e.x,y:e.y});Fd(p,d,h)&&r.push({element:o,datasetIndex:c,index:u})}return $p(t,n,e,s),r}function mZ(t,e,n,i,r,s){let o=[];const c=gZ(n);let u=Number.POSITIVE_INFINITY;function d(h,p,y){const m=h.inRange(e.x,e.y,r);if(i&&!m)return;const b=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(b))&&!m)return;const S=c(e,b);S<u?(o=[{element:h,datasetIndex:p,index:y}],u=S):S===u&&o.push({element:h,datasetIndex:p,index:y})}return $p(t,n,e,d),o}function pb(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?pZ(t,e,n,r):mZ(t,e,n,i,r,s)}function pD(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let c=!1;return $p(t,n,e,(u,d,h)=>{u[o]&&u[o](e[n],r)&&(s.push({element:u,datasetIndex:d,index:h}),c=c||u.inRange(e.x,e.y,r))}),i&&!c?[]:s}var yZ={modes:{index(t,e,n,i){const r=Uo(e,t),s=n.axis||"x",o=n.includeInvisible||!1,c=n.intersect?gb(t,r,s,i,o):pb(t,r,s,!1,i,o),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=c[0].index,p=d.data[h];p&&!p.skip&&u.push({element:p,datasetIndex:d.index,index:h})}),u):[]},dataset(t,e,n,i){const r=Uo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let c=n.intersect?gb(t,r,s,i,o):pb(t,r,s,!1,i,o);if(c.length>0){const u=c[0].datasetIndex,d=t.getDatasetMeta(u).data;c=[];for(let h=0;h<d.length;++h)c.push({element:d[h],datasetIndex:u,index:h})}return c},point(t,e,n,i){const r=Uo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return gb(t,r,s,i,o)},nearest(t,e,n,i){const r=Uo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return pb(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Uo(e,t);return pD(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Uo(e,t);return pD(t,r,"y",n.intersect,i)}}};const hI=["left","top","right","bottom"];function Ku(t,e){return t.filter(n=>n.pos===e)}function mD(t,e){return t.filter(n=>hI.indexOf(n.pos)===-1&&n.box.axis===e)}function Xu(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function vZ(t){const e=[];let n,i,r,s,o,c;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:c=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return e}function bZ(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!hI.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function _Z(t,e){const n=bZ(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,c;for(s=0,o=t.length;s<o;++s){c=t[s];const{fullSize:u}=c.box,d=n[c.stack],h=d&&c.stackWeight/d.weight;c.horizontal?(c.width=h?h*i:u&&e.availableWidth,c.height=r):(c.width=i,c.height=h?h*r:u&&e.availableHeight)}return n}function wZ(t){const e=vZ(t),n=Xu(e.filter(d=>d.box.fullSize),!0),i=Xu(Ku(e,"left"),!0),r=Xu(Ku(e,"right")),s=Xu(Ku(e,"top"),!0),o=Xu(Ku(e,"bottom")),c=mD(e,"x"),u=mD(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(o).concat(c),chartArea:Ku(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(o).concat(c)}}function yD(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function gI(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function SZ(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!Dt(r)){n.size&&(t[r]-=n.size);const p=i[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,t[r]+=n.size}s.getPadding&&gI(o,s.getPadding());const c=Math.max(0,e.outerWidth-yD(o,t,"left","right")),u=Math.max(0,e.outerHeight-yD(o,t,"top","bottom")),d=c!==t.w,h=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:d,other:h}:{same:h,other:d}}function xZ(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function EZ(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function id(t,e,n,i){const r=[];let s,o,c,u,d,h;for(s=0,o=t.length,d=0;s<o;++s){c=t[s],u=c.box,u.update(c.width||e.w,c.height||e.h,EZ(c.horizontal,e));const{same:p,other:y}=SZ(e,n,c,i);d|=p&&r.length,h=h||y,u.fullSize||r.push(c)}return d&&id(r,e,n,i)||h}function ng(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function vD(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const c of t){const u=c.box,d=i[c.stack]||{placed:0,weight:1},h=c.stackWeight/d.weight||1;if(c.horizontal){const p=e.w*h,y=d.size||u.height;ap(d.start)&&(o=d.start),u.fullSize?ng(u,r.left,o,n.outerWidth-r.right-r.left,y):ng(u,e.left+d.placed,o,p,y),d.start=o,d.placed+=p,o=u.bottom}else{const p=e.h*h,y=d.size||u.width;ap(d.start)&&(s=d.start),u.fullSize?ng(u,s,r.top,y,n.outerHeight-r.bottom-r.top):ng(u,s,e.top+d.placed,y,p),d.start=s,d.placed+=p,s=u.right}}e.x=s,e.y=o}var Cr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Rr(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),c=wZ(t.boxes),u=c.vertical,d=c.horizontal;Ut(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const h=u.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),y=Object.assign({},r);gI(y,Rr(i));const m=Object.assign({maxPadding:y,w:s,h:o,x:r.left,y:r.top},r),b=_Z(u.concat(d),p);id(c.fullSize,m,p,b),id(u,m,p,b),id(d,m,p,b)&&id(u,m,p,b),xZ(m),vD(c.leftAndTop,m,p,b),m.x+=m.w,m.y+=m.h,vD(c.rightAndBottom,m,p,b),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ut(c.chartArea,_=>{const S=_.box;Object.assign(S,t.chartArea),S.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class pI{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class CZ extends pI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const wg="$chartjs",TZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bD=t=>t===null||t==="";function AZ(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[wg]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",bD(r)){const s=sD(t,"width");s!==void 0&&(t.width=s)}if(bD(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=sD(t,"height");s!==void 0&&(t.height=s)}return t}const mI=NX?{passive:!0}:!1;function RZ(t,e,n){t&&t.addEventListener(e,n,mI)}function DZ(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,mI)}function OZ(t,e){const n=TZ[t.type]||t.type,{x:i,y:r}=Uo(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function cp(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kZ(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||cp(c.addedNodes,i),o=o&&!cp(c.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function MZ(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||cp(c.removedNodes,i),o=o&&!cp(c.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const $d=new Map;let _D=0;function yI(){const t=window.devicePixelRatio;t!==_D&&(_D=t,$d.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function NZ(t,e){$d.size||window.addEventListener("resize",yI),$d.set(t,e)}function IZ(t){$d.delete(t),$d.size||window.removeEventListener("resize",yI)}function jZ(t,e,n){const i=t.canvas,r=i&&yw(i);if(!r)return;const s=eI((c,u)=>{const d=r.clientWidth;n(c,u),d<r.clientWidth&&n()},window),o=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,h=u.contentRect.height;d===0&&h===0||s(d,h)});return o.observe(r),NZ(t,s),o}function mb(t,e,n){n&&n.disconnect(),e==="resize"&&IZ(t)}function PZ(t,e,n){const i=t.canvas,r=eI(s=>{t.ctx!==null&&n(OZ(s,t))},t);return RZ(i,e,r),r}class LZ extends pI{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(AZ(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[wg])return!1;const i=n[wg].initial;["height","width"].forEach(s=>{const o=i[s];Kt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[wg],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:kZ,detach:MZ,resize:jZ}[n]||PZ;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:mb,detach:mb,resize:mb}[n]||DZ)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return MX(e,n,i,r)}isAttached(e){const n=e&&yw(e);return!!(n&&n.isConnected)}}function UZ(t){return!mw()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?CZ:LZ}class lo{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return zd(this.x)&&zd(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function zZ(t,e){const n=t.options.ticks,i=FZ(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?BZ(e):[],o=s.length,c=s[0],u=s[o-1],d=[];if(o>r)return $Z(e,d,s,o/r),d;const h=HZ(s,e,r);if(o>0){let p,y;const m=o>1?Math.round((u-c)/(o-1)):null;for(ig(e,d,h,Kt(m)?0:c-m,c),p=0,y=o-1;p<y;p++)ig(e,d,h,s[p],s[p+1]);return ig(e,d,h,u,Kt(m)?e.length:u+m),d}return ig(e,d,h),d}function FZ(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function HZ(t,e,n){const i=VZ(t),r=e.length/n;if(!i)return Math.max(r,1);const s=DK(i);for(let o=0,c=s.length-1;o<c;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function BZ(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function $Z(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function ig(t,e,n,i,r){const s=mt(i,0),o=Math.min(mt(r,t.length),t.length);let c=0,u,d,h;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),h=s;h<0;)c++,h=Math.round(s+c*n);for(d=Math.max(s,0);d<o;d++)d===h&&(e.push(t[d]),c++,h=Math.round(s+c*n))}function VZ(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const qZ=t=>t==="left"?"right":t==="right"?"left":t,wD=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,SD=(t,e)=>Math.min(e||t,t);function xD(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function GZ(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,c=1e-6;let u=t.getPixelForTick(r),d;if(!(n&&(i===1?d=Math.max(u-s,o-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(r-1))/2,u+=r<e?d:-d,u<s-c||u>o+c)))return u}function WZ(t,e){Ut(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Zu(t){return t.drawTicks?t.tickLength:0}function ED(t,e){if(!t.display)return 0;const n=gi(t.font,e),i=Rr(t.padding);return(Yn(t.text)?t.text.length:1)*n.lineHeight+i.height}function YZ(t,e){return hl(t,{scale:e,type:"scale"})}function QZ(t,e,n){return hl(t,{tick:n,index:e,type:"tick"})}function KZ(t,e,n){let i=ow(t);return(n&&e!=="right"||!n&&e==="right")&&(i=qZ(i)),i}function XZ(t,e,n,i){const{top:r,left:s,bottom:o,right:c,chart:u}=t,{chartArea:d,scales:h}=u;let p=0,y,m,b;const _=o-r,S=c-s;if(t.isHorizontal()){if(m=di(i,s,c),Dt(n)){const x=Object.keys(n)[0],T=n[x];b=h[x].getPixelForValue(T)+_-e}else n==="center"?b=(d.bottom+d.top)/2+_-e:b=wD(t,n,e);y=c-s}else{if(Dt(n)){const x=Object.keys(n)[0],T=n[x];m=h[x].getPixelForValue(T)-S+e}else n==="center"?m=(d.left+d.right)/2-S+e:m=wD(t,n,e);b=di(i,o,r),p=n==="left"?-Fn:Fn}return{titleX:m,titleY:b,maxWidth:y,rotation:p}}class Wc extends lo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=is(e,Number.POSITIVE_INFINITY),n=is(n,Number.NEGATIVE_INFINITY),i=is(i,Number.POSITIVE_INFINITY),r=is(r,Number.NEGATIVE_INFINITY),{min:is(e,i),max:is(n,r),minDefined:Ar(e),maxDefined:Ar(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)o=c[u].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:is(n,is(i,n)),max:is(i,is(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){en(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uX(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?xD(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=zZ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){en(this.options.afterUpdate,[this])}beforeSetDimensions(){en(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){en(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),en(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){en(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=en(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){en(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){en(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=SD(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,c,u,d;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),p=h.widest.width,y=h.highest.height,m=_i(this.chart.width-p,0,this.maxWidth);c=e.offset?this.maxWidth/i:m/(i-1),p+6>c&&(c=m/(i-(e.offset?.5:1)),u=this.maxHeight-Zu(e.grid)-n.padding-ED(e.title,this.chart.options.font),d=Math.sqrt(p*p+y*y),o=NK(Math.min(Math.asin(_i((h.highest.height+6)/c,-1,1)),Math.asin(_i(u/d,-1,1))-Math.asin(_i(y/d,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){en(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){en(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=ED(r,n.options.font);if(c?(e.width=this.maxWidth,e.height=Zu(s)+u):(e.height=this.maxHeight,e.width=Zu(s)+u),i.display&&this.ticks.length){const{first:d,last:h,widest:p,highest:y}=this._getLabelSizes(),m=i.padding*2,b=Ys(this.labelRotation),_=Math.cos(b),S=Math.sin(b);if(c){const x=i.mirror?0:S*p.width+_*y.height;e.height=Math.min(this.maxHeight,e.height+x+m)}else{const x=i.mirror?0:_*p.width+S*y.height;e.width=Math.min(this.maxWidth,e.width+x+m)}this._calculatePadding(d,h,S,_)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,m=0;u?d?(y=r*e.width,m=i*n.height):(y=i*e.height,m=r*n.width):s==="start"?m=n.width:s==="end"?y=e.width:s!=="inner"&&(y=e.width/2,m=n.width/2),this.paddingLeft=Math.max((y-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((m-p+o)*this.width/(this.width-p),0)}else{let h=n.height/2,p=e.height/2;s==="start"?(h=0,p=e.height):s==="end"&&(h=n.height,p=0),this.paddingTop=h+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){en(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Kt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=xD(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],u=Math.floor(n/SD(n,i));let d=0,h=0,p,y,m,b,_,S,x,T,A,k,O;for(p=0;p<n;p+=u){if(b=e[p].label,_=this._resolveTickFontOptions(p),r.font=S=_.string,x=s[S]=s[S]||{data:{},gc:[]},T=_.lineHeight,A=k=0,!Kt(b)&&!Yn(b))A=eD(r,x.data,x.gc,A,b),k=T;else if(Yn(b))for(y=0,m=b.length;y<m;++y)O=b[y],!Kt(O)&&!Yn(O)&&(A=eD(r,x.data,x.gc,A,O),k+=T);o.push(A),c.push(k),d=Math.max(A,d),h=Math.max(k,h)}WZ(s,n);const P=o.indexOf(d),N=c.indexOf(h),M=B=>({width:o[B]||0,height:c[B]||0});return{first:M(0),last:M(n-1),widest:M(P),highest:M(N),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return jK(this._alignToPixels?ko(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=QZ(this.getContext(),e,i))}return this.$context||(this.$context=YZ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ys(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,c=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:c}=r,u=s.offset,d=this.isHorizontal(),p=this.ticks.length+(u?1:0),y=Zu(s),m=[],b=c.setContext(this.getContext()),_=b.display?b.width:0,S=_/2,x=function(H){return ko(i,H,_)};let T,A,k,O,P,N,M,B,V,W,X,ce;if(o==="top")T=x(this.bottom),N=this.bottom-y,B=T-S,W=x(e.top)+S,ce=e.bottom;else if(o==="bottom")T=x(this.top),W=e.top,ce=x(e.bottom)-S,N=T+S,B=this.top+y;else if(o==="left")T=x(this.right),P=this.right-y,M=T-S,V=x(e.left)+S,X=e.right;else if(o==="right")T=x(this.left),V=e.left,X=x(e.right)-S,P=T+S,M=this.left+y;else if(n==="x"){if(o==="center")T=x((e.top+e.bottom)/2+.5);else if(Dt(o)){const H=Object.keys(o)[0],Z=o[H];T=x(this.chart.scales[H].getPixelForValue(Z))}W=e.top,ce=e.bottom,N=T+S,B=N+y}else if(n==="y"){if(o==="center")T=x((e.left+e.right)/2);else if(Dt(o)){const H=Object.keys(o)[0],Z=o[H];T=x(this.chart.scales[H].getPixelForValue(Z))}P=T-S,M=P-y,V=e.left,X=e.right}const ye=mt(r.ticks.maxTicksLimit,p),_e=Math.max(1,Math.ceil(p/ye));for(A=0;A<p;A+=_e){const H=this.getContext(A),Z=s.setContext(H),be=c.setContext(H),J=Z.lineWidth,me=Z.color,E=be.dash||[],I=be.dashOffset,L=Z.tickWidth,z=Z.tickColor,G=Z.tickBorderDash||[],ee=Z.tickBorderDashOffset;k=GZ(this,A,u),k!==void 0&&(O=ko(i,k,J),d?P=M=V=X=O:N=B=W=ce=O,m.push({tx1:P,ty1:N,tx2:M,ty2:B,x1:V,y1:W,x2:X,y2:ce,width:J,color:me,borderDash:E,borderDashOffset:I,tickWidth:L,tickColor:z,tickBorderDash:G,tickBorderDashOffset:ee}))}return this._ticksLength=p,this._borderValue=T,m}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:h,mirror:p}=s,y=Zu(i.grid),m=y+h,b=p?-h:m,_=-Ys(this.labelRotation),S=[];let x,T,A,k,O,P,N,M,B,V,W,X,ce="middle";if(r==="top")P=this.bottom-b,N=this._getXAxisLabelAlignment();else if(r==="bottom")P=this.top+b,N=this._getXAxisLabelAlignment();else if(r==="left"){const _e=this._getYAxisLabelAlignment(y);N=_e.textAlign,O=_e.x}else if(r==="right"){const _e=this._getYAxisLabelAlignment(y);N=_e.textAlign,O=_e.x}else if(n==="x"){if(r==="center")P=(e.top+e.bottom)/2+m;else if(Dt(r)){const _e=Object.keys(r)[0],H=r[_e];P=this.chart.scales[_e].getPixelForValue(H)+m}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")O=(e.left+e.right)/2-m;else if(Dt(r)){const _e=Object.keys(r)[0],H=r[_e];O=this.chart.scales[_e].getPixelForValue(H)}N=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(u==="start"?ce="top":u==="end"&&(ce="bottom"));const ye=this._getLabelSizes();for(x=0,T=c.length;x<T;++x){A=c[x],k=A.label;const _e=s.setContext(this.getContext(x));M=this.getPixelForTick(x)+s.labelOffset,B=this._resolveTickFontOptions(x),V=B.lineHeight,W=Yn(k)?k.length:1;const H=W/2,Z=_e.color,be=_e.textStrokeColor,J=_e.textStrokeWidth;let me=N;o?(O=M,N==="inner"&&(x===T-1?me=this.options.reverse?"left":"right":x===0?me=this.options.reverse?"right":"left":me="center"),r==="top"?d==="near"||_!==0?X=-W*V+V/2:d==="center"?X=-ye.highest.height/2-H*V+V:X=-ye.highest.height+V/2:d==="near"||_!==0?X=V/2:d==="center"?X=ye.highest.height/2-H*V:X=ye.highest.height-W*V,p&&(X*=-1),_!==0&&!_e.showLabelBackdrop&&(O+=V/2*Math.sin(_))):(P=M,X=(1-W)*V/2);let E;if(_e.showLabelBackdrop){const I=Rr(_e.backdropPadding),L=ye.heights[x],z=ye.widths[x];let G=X-I.top,ee=0-I.left;switch(ce){case"middle":G-=L/2;break;case"bottom":G-=L;break}switch(N){case"center":ee-=z/2;break;case"right":ee-=z;break;case"inner":x===T-1?ee-=z:x>0&&(ee-=z/2);break}E={left:ee,top:G,width:z+I.width,height:L+I.height,color:_e.backdropColor}}S.push({label:k,font:B,textOffset:X,options:{rotation:_,color:Z,strokeColor:be,strokeWidth:J,textAlign:me,textBaseline:ce,translation:[O,P],backdrop:E}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ys(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),c=e+s,u=o.widest.width;let d,h;return n==="left"?r?(h=this.right+s,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h+=u)):(h=this.right-c,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h-=u)):(h=this.left+c,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const c=(u,d,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const u=r[s];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,h,p,y;this.isHorizontal()?(d=ko(e,this.left,o)-o/2,h=ko(e,this.right,c)+c/2,p=y=u):(p=ko(e,this.top,o)-o/2,y=ko(e,this.bottom,c)+c/2,d=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,p),n.lineTo(h,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&uw(i,r);const s=this.getLabelItems(e);for(const o of s){const c=o.options,u=o.font,d=o.label,h=o.textOffset;Bd(i,d,0,h,u,c)}r&&dw(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=gi(i.font),o=Rr(i.padding),c=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Dt(n)?(u+=o.bottom,Yn(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:d,titleY:h,maxWidth:p,rotation:y}=XZ(this,u,n,c);Bd(e,i.text,0,0,s,{color:i.color,maxWidth:p,rotation:y,textAlign:KZ(c,n,r),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=mt(e.grid&&e.grid.z,-1),r=mt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Wc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const c=n[s];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return gi(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class rg{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;eJ(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,ZZ(e,o,i),this.override&&xn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in xn[r]&&(delete xn[r][i],this.override&&delete il[i])}}function ZZ(t,e,n){const i=Ld(Object.create(null),[n?xn.get(n):{},xn.get(e),t.defaults]);xn.set(e,i),t.defaultRoutes&&JZ(e,t.defaultRoutes),t.descriptors&&xn.describe(e,t.descriptors)}function JZ(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),c=o.pop(),u=o.join(".");xn.route(s,r,u,c)})}function eJ(t){return"id"in t&&"defaults"in t}class tJ{constructor(){this.controllers=new rg(vw,"datasets",!0),this.elements=new rg(lo,"elements"),this.plugins=new rg(Object,"plugins"),this.scales=new rg(Wc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ut(r,o=>{const c=i||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,n,i){const r=sw(e);en(i["before"+r],[],i),n[e](i),en(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var as=new tJ;class nJ{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,c=o[i],u=[n,r,s.options];if(en(c,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=mt(i.options&&i.options.plugins,{}),s=iJ(i);return r===!1&&!n?[]:sJ(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function iJ(t){const e={},n=[],i=Object.keys(as.plugins.items);for(let s=0;s<i.length;s++)n.push(as.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function rJ(t,e){return!e&&t===!1?null:t===!0?{}:t}function sJ(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const c of e){const u=c.id,d=rJ(i[u],r);d!==null&&s.push({plugin:c,options:aJ(t.config,{plugin:c,local:n[u]},d,o)})}return s}function aJ(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function R0(t,e){const n=xn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function oJ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function lJ(t,e){return t===e?"_index_":"_value_"}function CD(t){if(t==="x"||t==="y"||t==="r")return t}function cJ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function D0(t,...e){if(CD(t))return t;for(const n of e){const i=n.axis||cJ(n.position)||t.length>1&&CD(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function TD(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function uJ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return TD(t,"x",n[0])||TD(t,"y",n[0])}return{}}function dJ(t,e){const n=il[t.type]||{scales:{}},i=e.scales||{},r=R0(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!Dt(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=D0(o,c,uJ(o,t),xn.scales[c.type]),d=lJ(u,r),h=n.scales||{};s[o]=bd(Object.create(null),[{axis:u},c,h[u],h[d]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,u=o.indexAxis||R0(c,e),h=(il[c]||{}).scales||{};Object.keys(h).forEach(p=>{const y=oJ(p,u),m=o[y+"AxisID"]||y;s[m]=s[m]||Object.create(null),bd(s[m],[{axis:y},i[m],h[p]])})}),Object.keys(s).forEach(o=>{const c=s[o];bd(c,[xn.scales[c.type],xn.scale])}),s}function vI(t){const e=t.options||(t.options={});e.plugins=mt(e.plugins,{}),e.scales=dJ(t,e)}function bI(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function fJ(t){return t=t||{},t.data=bI(t.data),vI(t),t}const AD=new Map,_I=new Set;function sg(t,e){let n=AD.get(t);return n||(n=e(),AD.set(t,n),_I.add(n)),n}const Ju=(t,e,n)=>{const i=Ud(e,n);i!==void 0&&t.add(i)};class hJ{constructor(e){this._config=fJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=bI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),vI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return sg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return sg(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return sg(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return sg(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),c=o.get(n);if(c)return c;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(p=>Ju(u,e,p))),h.forEach(p=>Ju(u,r,p)),h.forEach(p=>Ju(u,il[s]||{},p)),h.forEach(p=>Ju(u,xn,p)),h.forEach(p=>Ju(u,C0,p))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),_I.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,il[n]||{},xn.datasets[n]||{},{type:n},xn,C0]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=RD(this._resolverCache,e,r);let u=o;if(pJ(o,n)){s.$shared=!1,i=eo(i)?i():i;const d=this.createResolver(e,i,c);u=Ic(o,i,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,i=[""],r){const{resolver:s}=RD(this._resolverCache,e,i);return Dt(n)?Ic(s,n,void 0,r):s}}function RD(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:hw(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const gJ=t=>Dt(t)&&Object.getOwnPropertyNames(t).some(e=>eo(t[e]));function pJ(t,e){const{isScriptable:n,isIndexable:i}=iI(t);for(const r of e){const s=n(r),o=i(r),c=(o||s)&&t[r];if(s&&(eo(c)||gJ(c))||o&&Yn(c))return!0}return!1}var mJ="4.5.1";const yJ=["top","bottom","left","right","chartArea"];function DD(t,e){return t==="top"||t==="bottom"||yJ.indexOf(t)===-1&&e==="x"}function OD(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function kD(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),en(n&&n.onComplete,[t],e)}function vJ(t){const e=t.chart,n=e.options.animation;en(n&&n.onProgress,[t],e)}function wI(t){return mw()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Sg={},MD=t=>{const e=wI(t);return Object.values(Sg).filter(n=>n.canvas===e).pop()};function bJ(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function _J(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Vp=class{static defaults=xn;static instances=Sg;static overrides=il;static registry=as;static version=mJ;static getChart=MD;static register(...e){as.add(...e),ND()}static unregister(...e){as.remove(...e),ND()}constructor(e,n){const i=this.config=new hJ(n),r=wI(e),s=MD(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||UZ(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,o.aspectRatio),u=c&&c.canvas,d=u&&u.height,h=u&&u.width;if(this.id=_K(),this.ctx=c,this.canvas=u,this.width=h,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=FK(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],Sg[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}zs.listen(this,"complete",kD),zs.listen(this,"progress",vJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Kt(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return as}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tD(this.canvas,this.ctx),this}stop(){return zs.stop(this),this}resize(e,n){zs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,rD(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),en(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ut(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const c=n[o],u=D0(o,c),d=u==="r",h=u==="x";return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Ut(s,o=>{const c=o.options,u=c.id,d=D0(u,c),h=mt(c.type,o.dtype);(c.position===void 0||DD(c.position,d)!==DD(o.dposition))&&(c.position=o.dposition),r[u]=!0;let p=null;if(u in i&&i[u].type===h)p=i[u];else{const y=as.getScale(h);p=new y({id:u,type:h,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(c,e)}),Ut(r,(o,c)=>{o||delete i[c]}),Ut(i,o=>{Cr.configure(this,o,o.options),Cr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(OD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=s.indexAxis||R0(c,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=as.getController(c),{datasetElementType:d,dataElementType:h}=xn.datasets[c];Object.assign(u,{dataElementType:as.getElement(h),datasetElementType:d&&as.getElement(d)}),o.controller=new u(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ut(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:p}=this.getDatasetMeta(d),y=!r&&s.indexOf(p)===-1;p.buildOrUpdateElements(y),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Ut(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(OD("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ut(this.scales,e=>{Cr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!qR(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;bJ(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!qR(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cr.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ut(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,eo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zs.has(this)?this.attached&&!zs.running(this)&&zs.start(this):(this.draw(),kD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=WX(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&uw(n,r),e.controller.draw(),r&&dw(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Hd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=yZ.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=hl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);ap(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),zs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tD(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Sg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};Ut(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},r=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():o()}unbindEvents(){Ut(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ut(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,c,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){o=e[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!rp(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(u,d)=>u.filter(h=>!d.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),o=s(n,e),c=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,c=this._getActiveElements(e,r,i,o),u=TK(e),d=_J(e,this._lastEvent,i,u);i&&(this._lastEvent=null,en(s.onHover,[e,c,this],this),u&&en(s.onClick,[e,c,this],this));const h=!rp(c,r);return(h||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=d,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}};function ND(){return Ut(Vp.instances,t=>t._plugins.invalidate())}function wJ(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:c,options:u}=e,{borderWidth:d,borderJoinStyle:h}=u,p=Math.min(d/o,Lr(i-n));if(t.beginPath(),t.arc(r,s,o-d/2,i+p/2,n-p/2),c>0){const y=Math.min(d/c,Lr(i-n));t.arc(r,s,c+d/2,n-y/2,i+y/2,!0)}else{const y=Math.min(d/2,o*Lr(i-n));if(h==="round")t.arc(r,s,y,n-zt/2,i+zt/2,!0);else if(h==="bevel"){const m=2*y*y,b=-m*Math.cos(n+zt/2)+r,_=-m*Math.sin(n+zt/2)+s,S=m*Math.cos(i+zt/2)+r,x=m*Math.sin(i+zt/2)+s;t.lineTo(b,_),t.lineTo(S,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function SJ(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:u}=e;let d=r/c;t.beginPath(),t.arc(s,o,c,i-d,n+d),u>r?(d=r/u,t.arc(s,o,u,n+d,i-d,!0)):t.arc(s,o,r,n+Fn,i-Fn),t.closePath(),t.clip()}function xJ(t){return fw(t,["outerStart","outerEnd","innerStart","innerEnd"])}function EJ(t,e,n,i){const r=xJ(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),c=u=>{const d=(n-Math.min(s,u))*i/2;return _i(u,0,Math.min(s,d))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:_i(r.innerStart,0,o),innerEnd:_i(r.innerEnd,0,o)}}function lc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function up(t,e,n,i,r,s){const{x:o,y:c,startAngle:u,pixelMargin:d,innerRadius:h}=e,p=Math.max(e.outerRadius+i+n-d,0),y=h>0?h+i+n+d:0;let m=0;const b=r-u;if(i){const _e=h>0?h-i:0,H=p>0?p-i:0,Z=(_e+H)/2,be=Z!==0?b*Z/(Z+i):b;m=(b-be)/2}const _=Math.max(.001,b*p-n/zt)/p,S=(b-_)/2,x=u+S+m,T=r-S-m,{outerStart:A,outerEnd:k,innerStart:O,innerEnd:P}=EJ(e,y,p,T-x),N=p-A,M=p-k,B=x+A/N,V=T-k/M,W=y+O,X=y+P,ce=x+O/W,ye=T-P/X;if(t.beginPath(),s){const _e=(B+V)/2;if(t.arc(o,c,p,B,_e),t.arc(o,c,p,_e,V),k>0){const J=lc(M,V,o,c);t.arc(J.x,J.y,k,V,T+Fn)}const H=lc(X,T,o,c);if(t.lineTo(H.x,H.y),P>0){const J=lc(X,ye,o,c);t.arc(J.x,J.y,P,T+Fn,ye+Math.PI)}const Z=(T-P/y+(x+O/y))/2;if(t.arc(o,c,y,T-P/y,Z,!0),t.arc(o,c,y,Z,x+O/y,!0),O>0){const J=lc(W,ce,o,c);t.arc(J.x,J.y,O,ce+Math.PI,x-Fn)}const be=lc(N,x,o,c);if(t.lineTo(be.x,be.y),A>0){const J=lc(N,B,o,c);t.arc(J.x,J.y,A,x-Fn,B)}}else{t.moveTo(o,c);const _e=Math.cos(B)*p+o,H=Math.sin(B)*p+c;t.lineTo(_e,H);const Z=Math.cos(V)*p+o,be=Math.sin(V)*p+c;t.lineTo(Z,be)}t.closePath()}function CJ(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:c}=e;let u=e.endAngle;if(s){up(t,e,n,i,u,r);for(let d=0;d<s;++d)t.fill();isNaN(c)||(u=o+(c%vn||vn))}return up(t,e,n,i,u,r),t.fill(),u}function TJ(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:c,options:u}=e,{borderWidth:d,borderJoinStyle:h,borderDash:p,borderDashOffset:y,borderRadius:m}=u,b=u.borderAlign==="inner";if(!d)return;t.setLineDash(p||[]),t.lineDashOffset=y,b?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let _=e.endAngle;if(s){up(t,e,n,i,_,r);for(let S=0;S<s;++S)t.stroke();isNaN(c)||(_=o+(c%vn||vn))}b&&SJ(t,e,_),u.selfJoin&&_-o>=zt&&m===0&&h!=="miter"&&wJ(t,e,_),s||(up(t,e,n,i,_,r),t.stroke())}class AJ extends lo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=XN(r,{x:e,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,m=mt(p,u-c),b=Fd(s,c,u)&&c!==u,_=m>=vn||b,S=yc(o,d+y,h+y);return _&&S}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,h=(r+s)/2,p=(o+c+d+u)/2;return{x:n+Math.cos(h)*p,y:i+Math.sin(h)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>vn?Math.floor(i/vn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(zt,i||0)),d=r*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,CJ(e,this,d,s,o),TJ(e,this,d,s,o),e.restore()}}function SI(t,e,n=e){t.lineCap=mt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(mt(n.borderDash,e.borderDash)),t.lineDashOffset=mt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=mt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=mt(n.borderWidth,e.borderWidth),t.strokeStyle=mt(n.borderColor,e.borderColor)}function RJ(t,e,n){t.lineTo(n.x,n.y)}function DJ(t){return t.stepped?eX:t.tension||t.cubicInterpolationMode==="monotone"?tX:RJ}function xI(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:c}=e,u=Math.max(r,o),d=Math.min(s,c),h=r<o&&s<o||r>c&&s>c;return{count:i,start:u,loop:e.loop,ilen:d<u&&!h?i+d-u:d-u}}function OJ(t,e,n,i){const{points:r,options:s}=e,{count:o,start:c,loop:u,ilen:d}=xI(r,n,i),h=DJ(s);let{move:p=!0,reverse:y}=i||{},m,b,_;for(m=0;m<=d;++m)b=r[(c+(y?d-m:m))%o],!b.skip&&(p?(t.moveTo(b.x,b.y),p=!1):h(t,_,b,y,s.stepped),_=b);return u&&(b=r[(c+(y?d:0))%o],h(t,_,b,y,s.stepped)),!!u}function kJ(t,e,n,i){const r=e.points,{count:s,start:o,ilen:c}=xI(r,n,i),{move:u=!0,reverse:d}=i||{};let h=0,p=0,y,m,b,_,S,x;const T=k=>(o+(d?c-k:k))%s,A=()=>{_!==S&&(t.lineTo(h,S),t.lineTo(h,_),t.lineTo(h,x))};for(u&&(m=r[T(0)],t.moveTo(m.x,m.y)),y=0;y<=c;++y){if(m=r[T(y)],m.skip)continue;const k=m.x,O=m.y,P=k|0;P===b?(O<_?_=O:O>S&&(S=O),h=(p*h+k)/++p):(A(),t.lineTo(k,O),b=P,p=0,_=S=O),x=O}A()}function O0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?kJ:OJ}function MJ(t){return t.stepped?IX:t.tension||t.cubicInterpolationMode==="monotone"?jX:zo}function NJ(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),SI(t,e.options),t.stroke(r)}function IJ(t,e,n,i){const{segments:r,options:s}=e,o=O0(e);for(const c of r)SI(t,s,c.style),t.beginPath(),o(t,e,c,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const jJ=typeof Path2D=="function";function PJ(t,e,n,i){jJ&&!e.options.segment?NJ(t,e,n,i):IJ(t,e,n,i)}class LJ extends lo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;TX(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$X(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=FX(this,{property:n,start:r,end:r});if(!o.length)return;const c=[],u=MJ(i);let d,h;for(d=0,h=o.length;d<h;++d){const{start:p,end:y}=o[d],m=s[p],b=s[y];if(m===b){c.push(m);continue}const _=Math.abs((r-m[n])/(b[n]-m[n])),S=u(m,b,_,i.stepped);S[n]=e[n],c.push(S)}return c.length===1?c[0]:c}pathSegment(e,n,i){return O0(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=O0(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const c of r)o&=s(e,this,c,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),PJ(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ID(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class UJ extends lo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return ID(this,e,"x",n)}inYRange(e,n){return ID(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Hd(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,T0(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const jD=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},zJ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class PD extends lo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=en(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=gi(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=jD(i,s);let d,h;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(o,s,c,u)+10):(h=this.maxHeight,d=this._fitCols(o,r,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],h=r+c;let p=e;s.textAlign="left",s.textBaseline="middle";let y=-1,m=-h;return this.legendItems.forEach((b,_)=>{const S=i+n/2+s.measureText(b.text).width;(_===0||d[d.length-1]+S+2*c>o)&&(p+=h,d[d.length-(_>0?0:1)]=0,m+=h,y++),u[_]={left:0,top:m,row:y,width:S,height:r},d[d.length-1]+=S+c}),p}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],h=o-e;let p=c,y=0,m=0,b=0,_=0;return this.legendItems.forEach((S,x)=>{const{itemWidth:T,itemHeight:A}=FJ(i,n,s,S,r);x>0&&m+A+2*c>h&&(p+=y+c,d.push({width:y,height:m}),b+=y+c,_++,y=m=0),u[x]={left:b,top:m,col:_,width:T,height:A},y=Math.max(y,T),m+=A+c}),p+=y,d.push({width:y,height:m}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Tc(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=di(i,this.left+r,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,u=di(i,this.left+r,this.right-this.lineWidths[c])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(u),d.width),u+=d.width+r}else{let c=0,u=di(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,u=di(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),u+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;uw(e,this),this._draw(),dw(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,c=xn.color,u=Tc(e.rtl,this.left,this.width),d=gi(o.font),{padding:h}=o,p=d.size,y=p/2;let m;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:b,boxHeight:_,itemHeight:S}=jD(o,p),x=function(P,N,M){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;r.save();const B=mt(M.lineWidth,1);if(r.fillStyle=mt(M.fillStyle,c),r.lineCap=mt(M.lineCap,"butt"),r.lineDashOffset=mt(M.lineDashOffset,0),r.lineJoin=mt(M.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=mt(M.strokeStyle,c),r.setLineDash(mt(M.lineDash,[])),o.usePointStyle){const V={radius:_*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:B},W=u.xPlus(P,b/2),X=N+y;nI(r,V,W,X,o.pointStyleWidth&&b)}else{const V=N+Math.max((p-_)/2,0),W=u.leftForLtr(P,b),X=xd(M.borderRadius);r.beginPath(),Object.values(X).some(ce=>ce!==0)?A0(r,{x:W,y:V,w:b,h:_,radius:X}):r.rect(W,V,b,_),r.fill(),B!==0&&r.stroke()}r.restore()},T=function(P,N,M){Bd(r,M.text,P,N+S/2,d,{strikethrough:M.hidden,textAlign:u.textAlign(M.textAlign)})},A=this.isHorizontal(),k=this._computeTitleHeight();A?m={x:di(s,this.left+h,this.right-i[0]),y:this.top+h+k,line:0}:m={x:this.left+h,y:di(s,this.top+k+h,this.bottom-n[0].height),line:0},lI(this.ctx,e.textDirection);const O=S+h;this.legendItems.forEach((P,N)=>{r.strokeStyle=P.fontColor,r.fillStyle=P.fontColor;const M=r.measureText(P.text).width,B=u.textAlign(P.textAlign||(P.textAlign=o.textAlign)),V=b+y+M;let W=m.x,X=m.y;u.setWidth(this.width),A?N>0&&W+V+h>this.right&&(X=m.y+=O,m.line++,W=m.x=di(s,this.left+h,this.right-i[m.line])):N>0&&X+O>this.bottom&&(W=m.x=W+n[m.line].width+h,m.line++,X=m.y=di(s,this.top+k+h,this.bottom-n[m.line].height));const ce=u.x(W);if(x(ce,X,P),W=HK(B,W+b+y,A?W+V:this.right,e.rtl),T(u.x(W),X,P),A)m.x+=V+h;else if(typeof P.text!="string"){const ye=d.lineHeight;m.y+=EI(P,ye)+h}else m.y+=O}),cI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=gi(n.font),r=Rr(n.padding);if(!n.display)return;const s=Tc(e.rtl,this.left,this.width),o=this.ctx,c=n.position,u=i.size/2,d=r.top+u;let h,p=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),h=this.top+d,p=di(e.align,p,this.right-y);else{const b=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);h=d+di(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const m=di(c,p,p+y);o.textAlign=s.textAlign(ow(c)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Bd(o,n.text,m,h,i)}_computeTitleHeight(){const e=this.options.title,n=gi(e.font),i=Rr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(yc(e,this.left,this.right)&&yc(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],yc(e,r.left,r.left+r.width)&&yc(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!$J(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=zJ(r,i);r&&!s&&en(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&en(n.onHover,[e,i,this],this)}else i&&en(n.onClick,[e,i,this],this)}}function FJ(t,e,n,i,r){const s=HJ(i,t,e,n),o=BJ(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function HJ(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function BJ(t,e,n){let i=t;return typeof e.text!="string"&&(i=EI(e,n)),i}function EI(t,e){const n=t.text?t.text.length:0;return e*n}function $J(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var VJ={id:"legend",_element:PD,start(t,e,n){const i=t.legend=new PD({ctx:t.ctx,options:n,chart:t});Cr.configure(t,i,n),Cr.addBox(t,i)},stop(t){Cr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Cr.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),h=Rr(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class CI extends lo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Yn(i.text)?i.text.length:1;this._padding=Rr(i.padding);const s=r*gi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,c=o.align;let u=0,d,h,p;return this.isHorizontal()?(h=di(c,i,s),p=n+e,d=s-i):(o.position==="left"?(h=i+e,p=di(c,r,n),u=zt*-.5):(h=s-e,p=di(c,n,r),u=zt*.5),d=r-n),{titleX:h,titleY:p,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=gi(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(s);Bd(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:ow(n.align),textBaseline:"middle",translation:[o,c]})}}function qJ(t,e){const n=new CI({ctx:t.ctx,options:e,chart:t});Cr.configure(t,n,e),Cr.addBox(t,n),t.titleBlock=n}var GJ={id:"title",_element:CI,start(t,e,n){qJ(t,n)},stop(t){const e=t.titleBlock;Cr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Cr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rd={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,c;for(s=0,o=t.length;s<o;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),h=E0(e,d);h<r&&(r=h,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function rs(t,e){return e&&(Yn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Fs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function WJ(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function LD(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:c}=e,u=gi(e.bodyFont),d=gi(e.titleFont),h=gi(e.footerFont),p=s.length,y=r.length,m=i.length,b=Rr(e.padding);let _=b.height,S=0,x=i.reduce((k,O)=>k+O.before.length+O.lines.length+O.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,p&&(_+=p*d.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),x){const k=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;_+=m*k+(x-m)*u.lineHeight+(x-1)*e.bodySpacing}y&&(_+=e.footerMarginTop+y*h.lineHeight+(y-1)*e.footerSpacing);let T=0;const A=function(k){S=Math.max(S,n.measureText(k).width+T)};return n.save(),n.font=d.string,Ut(t.title,A),n.font=u.string,Ut(t.beforeBody.concat(t.afterBody),A),T=e.displayColors?o+2+e.boxPadding:0,Ut(i,k=>{Ut(k.before,A),Ut(k.lines,A),Ut(k.after,A)}),T=0,n.font=h.string,Ut(t.footer,A),n.restore(),S+=b.width,{width:S,height:_}}function YJ(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function QJ(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function KJ(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:c,right:u}}=t;let d="center";return i==="center"?d=r<=(c+u)/2?"left":"right":r<=s/2?d="left":r>=o-s/2&&(d="right"),QJ(d,t,e,n)&&(d="center"),d}function UD(t,e,n){const i=n.yAlign||e.yAlign||YJ(t,n);return{xAlign:n.xAlign||e.xAlign||KJ(t,e,n,i),yAlign:i}}function XJ(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function ZJ(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function zD(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:c,yAlign:u}=n,d=r+s,{topLeft:h,topRight:p,bottomLeft:y,bottomRight:m}=xd(o);let b=XJ(e,c);const _=ZJ(e,u,d);return u==="center"?c==="left"?b+=d:c==="right"&&(b-=d):c==="left"?b-=Math.max(h,y)+r:c==="right"&&(b+=Math.max(p,m)+r),{x:_i(b,0,i.width-e.width),y:_i(_,0,i.height-e.height)}}function ag(t,e,n){const i=Rr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function FD(t){return rs([],Fs(t))}function JJ(t,e,n){return hl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function HD(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const TI={beforeTitle:Us,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Us,beforeBody:Us,beforeLabel:Us,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Kt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Us,afterBody:Us,beforeFooter:Us,footer:Us,afterFooter:Us};function Oi(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?TI[e].call(n,i):r}class BD extends lo{static positioners=rd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new dI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=JJ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Oi(i,"beforeTitle",this,e),s=Oi(i,"title",this,e),o=Oi(i,"afterTitle",this,e);let c=[];return c=rs(c,Fs(r)),c=rs(c,Fs(s)),c=rs(c,Fs(o)),c}getBeforeBody(e,n){return FD(Oi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Ut(e,s=>{const o={before:[],lines:[],after:[]},c=HD(i,s);rs(o.before,Fs(Oi(c,"beforeLabel",this,s))),rs(o.lines,Oi(c,"label",this,s)),rs(o.after,Fs(Oi(c,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return FD(Oi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Oi(i,"beforeFooter",this,e),s=Oi(i,"footer",this,e),o=Oi(i,"afterFooter",this,e);let c=[];return c=rs(c,Fs(r)),c=rs(c,Fs(s)),c=rs(c,Fs(o)),c}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let c=[],u,d;for(u=0,d=n.length;u<d;++u)c.push(WJ(this.chart,n[u]));return e.filter&&(c=c.filter((h,p,y)=>e.filter(h,p,y,i))),e.itemSort&&(c=c.sort((h,p)=>e.itemSort(h,p,i))),Ut(c,h=>{const p=HD(e.callbacks,h);r.push(Oi(p,"labelColor",this,h)),s.push(Oi(p,"labelPointStyle",this,h)),o.push(Oi(p,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=c,c}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=rd[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=LD(this,i),d=Object.assign({},c,u),h=UD(this.chart,i,d),p=zD(i,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=xd(c),{x:y,y:m}=e,{width:b,height:_}=n;let S,x,T,A,k,O;return s==="center"?(k=m+_/2,r==="left"?(S=y,x=S-o,A=k+o,O=k-o):(S=y+b,x=S+o,A=k-o,O=k+o),T=S):(r==="left"?x=y+Math.max(u,h)+o:r==="right"?x=y+b-Math.max(d,p)-o:x=this.caretX,s==="top"?(A=m,k=A-o,S=x-o,T=x+o):(A=m+_,k=A+o,S=x+o,T=x-o),O=A),{x1:S,x2:x,x3:T,y1:A,y2:k,y3:O}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,c,u;if(s){const d=Tc(i.rtl,this.x,this.width);for(e.x=ag(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",o=gi(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(r[u],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,u+1===s&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=s,h=gi(s.bodyFont),p=ag(this,"left",s),y=r.x(p),m=u<h.lineHeight?(h.lineHeight-u)/2:0,b=n.y+m;if(s.usePointStyle){const _={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=r.leftForLtr(y,d)+d/2,x=b+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,T0(e,_,S,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,T0(e,_,S,x)}else{e.lineWidth=Dt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=r.leftForLtr(y,d),S=r.leftForLtr(r.xPlus(y,1),d-2),x=xd(o.borderRadius);Object.values(x).some(T=>T!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,A0(e,{x:_,y:b,w:d,h:u,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),A0(e,{x:S,y:b+1,w:d-2,h:u-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(_,b,d,u),e.strokeRect(_,b,d,u),e.fillStyle=o.backgroundColor,e.fillRect(S,b+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:h}=i,p=gi(i.bodyFont);let y=p.lineHeight,m=0;const b=Tc(i.rtl,this.x,this.width),_=function(M){n.fillText(M,b.x(e.x+m),e.y+y/2),e.y+=y+s},S=b.textAlign(o);let x,T,A,k,O,P,N;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,e.x=ag(this,S,i),n.fillStyle=i.bodyColor,Ut(this.beforeBody,_),m=c&&S!=="right"?o==="center"?d/2+h:d+2+h:0,k=0,P=r.length;k<P;++k){for(x=r[k],T=this.labelTextColors[k],n.fillStyle=T,Ut(x.before,_),A=x.lines,c&&A.length&&(this._drawColorBox(n,e,k,b,i),y=Math.max(p.lineHeight,u)),O=0,N=A.length;O<N;++O)_(A[O]),y=p.lineHeight;Ut(x.after,_)}m=0,y=p.lineHeight,Ut(this.afterBody,_),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,c;if(s){const u=Tc(i.rtl,this.x,this.width);for(e.x=ag(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",o=gi(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,c=0;c<s;++c)n.fillText(r[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:c,y:u}=e,{width:d,height:h}=i,{topLeft:p,topRight:y,bottomLeft:m,bottomRight:b}=xd(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+p,u),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(c+d-y,u),n.quadraticCurveTo(c+d,u,c+d,u+y),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(c+d,u+h-b),n.quadraticCurveTo(c+d,u+h,c+d-b,u+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(c+m,u+h),n.quadraticCurveTo(c,u+h,c,u+h-m),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(c,u+p),n.quadraticCurveTo(c,u,c+p,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=rd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=LD(this,e),u=Object.assign({},o,this._size),d=UD(n,e,u),h=zD(e,u,d,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Rr(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),lI(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),cI(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),s=!rp(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),c=this._positionChanged(o,e),u=n||!rp(o,s)||c;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=rd[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}var eee={id:"tooltip",_element:BD,positioners:rd,afterInit(t,e,n){n&&(t.tooltip=new BD({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:TI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const tee=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function nee(t,e,n,i){const r=t.indexOf(e);if(r===-1)return tee(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const iee=(t,e)=>t===null?null:_i(Math.round(t),0,e);function $D(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ree extends Wc{static id="category";static defaults={ticks:{callback:$D}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Kt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:nee(i,e,mt(n,e),this._addedLabels),iee(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return $D.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function see(t,e){const n=[],{bounds:r,step:s,min:o,max:c,precision:u,count:d,maxTicks:h,maxDigits:p,includeBounds:y}=t,m=s||1,b=h-1,{min:_,max:S}=e,x=!Kt(o),T=!Kt(c),A=!Kt(d),k=(S-_)/(p+1);let O=WR((S-_)/b/m)*m,P,N,M,B;if(O<1e-14&&!x&&!T)return[{value:_},{value:S}];B=Math.ceil(S/O)-Math.floor(_/O),B>b&&(O=WR(B*O/b/m)*m),Kt(u)||(P=Math.pow(10,u),O=Math.ceil(O*P)/P),r==="ticks"?(N=Math.floor(_/O)*O,M=Math.ceil(S/O)*O):(N=_,M=S),x&&T&&s&&kK((c-o)/s,O/1e3)?(B=Math.round(Math.min((c-o)/O,h)),O=(c-o)/B,N=o,M=c):A?(N=x?o:N,M=T?c:M,B=d-1,O=(M-N)/B):(B=(M-N)/O,_d(B,Math.round(B),O/1e3)?B=Math.round(B):B=Math.ceil(B));const V=Math.max(YR(O),YR(N));P=Math.pow(10,Kt(u)?V:u),N=Math.round(N*P)/P,M=Math.round(M*P)/P;let W=0;for(x&&(y&&N!==o?(n.push({value:o}),N<o&&W++,_d(Math.round((N+W*O)*P)/P,o,VD(o,k,t))&&W++):N<o&&W++);W<B;++W){const X=Math.round((N+W*O)*P)/P;if(T&&X>c)break;n.push({value:X})}return T&&y&&M!==c?n.length&&_d(n[n.length-1].value,c,VD(c,k,t))?n[n.length-1].value=c:n.push({value:c}):(!T||M===c)&&n.push({value:M}),n}function VD(t,e,{horizontal:n,minRotation:i}){const r=Ys(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class aee extends Wc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=n?r:u,c=u=>s=i?s:u;if(e){const u=Nc(r),d=Nc(s);u<0&&d<0?c(0):u>0&&d>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);c(s+u),e||o(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=see(r,s);return e.bounds==="ticks"&&MK(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return cw(e,this.chart.options.locale,this.options.ticks.format)}}class oee extends aee{static id="linear";static defaults={ticks:{callback:tI.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ar(e)?e:0,this.max=Ar(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Ys(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const qp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ui=Object.keys(qp);function qD(t,e){return t-e}function GD(t,e){if(Kt(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ar(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(zd(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function WD(t,e,n,i){const r=Ui.length;for(let s=Ui.indexOf(t);s<r-1;++s){const o=qp[Ui[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(c*o.size))<=i)return Ui[s]}return Ui[r-1]}function lee(t,e,n,i,r){for(let s=Ui.length-1;s>=Ui.indexOf(n);s--){const o=Ui[s];if(qp[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Ui[n?Ui.indexOf(n):0]}function cee(t){for(let e=Ui.indexOf(t)+1,n=Ui.length;e<n;++e)if(qp[Ui[e]].common)return Ui[e]}function YD(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=aw(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function uee(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let c,u;for(c=s;c<=o;c=+r.add(c,1,i))u=n[c],u>=0&&(e[u].major=!0);return e}function QD(t,e,n){const i=[],r={},s=e.length;let o,c;for(o=0;o<s;++o)c=e[o],r[c]=o,i.push({value:c,major:!1});return s===0||!n?i:uee(t,i,r,n)}class KD extends Wc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new fZ._date(e.adapters.date);r.init(n),bd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:GD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:c}=this.getUserBounds();function u(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Ar(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Ar(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,c=LK(r,s,o);return this._unit=n.unit||(i.autoSkip?WD(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):lee(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:cee(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),QD(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=_i(n,0,o),i=_i(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||WD(s.minUnit,n,i,this._getLabelCapacity(n)),c=mt(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,d=zd(u)||u===!0,h={};let p=n,y,m;if(d&&(p=+e.startOf(p,"isoWeek",u)),p=+e.startOf(p,d?"day":o),e.diff(i,n,o)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+o);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(y=p,m=0;y<i;y=+e.add(y,c,o),m++)YD(h,y,b);return(y===i||r.bounds==="ticks"||m===1)&&YD(h,y,b),Object.keys(h).sort(qD).map(_=>+_)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return en(o,[e,n,i],this);const c=s.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&c[u],p=d&&c[d],y=i[n],m=d&&p&&y&&y.major;return this._adapter.format(e,r||(m?p:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Ys(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*o,h:i*o+c*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,QD(this,[e],this._majorUnit),r),o=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(GD(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zK(e.sort(qD))}}function og(t,e,n){let i=0,r=t.length-1,s,o,c,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Wo(t,"pos",e)),{pos:s,time:c}=t[i],{pos:o,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Wo(t,"time",e)),{time:s,pos:c}=t[i],{time:o,pos:u}=t[r]);const d=o-s;return d?c+(u-c)*(e-s)/d:c}class Lee extends KD{static id="timeseries";static defaults=KD.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=og(n,this.min),this._tableRange=og(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,c,u,d,h;for(o=0,c=e.length;o<c;++o)d=e[o],d>=n&&d<=i&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)h=r[o+1],u=r[o-1],d=r[o],Math.round((h+u)/2)!==d&&s.push({time:d,pos:o/(c-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(og(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return og(this._table,i*this._tableRange+this._minPos,!0)}}const AI="label";function XD(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function dee(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function RI(t,e){t.labels=e}function DI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AI;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function fee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AI;const n={labels:[],datasets:[]};return RI(n,t.labels),DI(n,t.datasets,e),n}function hee(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:u,plugins:d=[],fallbackContent:h,updateMode:p,...y}=t,m=D.useRef(null),b=D.useRef(null),_=()=>{m.current&&(b.current=new Vp(m.current,{type:o,data:fee(c,s),options:u&&{...u},plugins:d}),XD(e,b.current))},S=()=>{XD(e,null),b.current&&(b.current.destroy(),b.current=null)};return D.useEffect(()=>{!r&&b.current&&u&&dee(b.current,u)},[r,u]),D.useEffect(()=>{!r&&b.current&&RI(b.current.config.data,c.labels)},[r,c.labels]),D.useEffect(()=>{!r&&b.current&&c.datasets&&DI(b.current.config.data,c.datasets,s)},[r,c.datasets]),D.useEffect(()=>{b.current&&(r?(S(),setTimeout(_)):b.current.update(p))},[r,u,c.labels,c.datasets,p]),D.useEffect(()=>{b.current&&(S(),setTimeout(_))},[o]),D.useEffect(()=>(_(),()=>S()),[]),de.createElement("canvas",{ref:m,role:"img",height:n,width:i,...y},h)}const gee=D.forwardRef(hee);function OI(t,e){return Vp.register(e),D.forwardRef((n,i)=>de.createElement(gee,{...n,ref:i,type:t}))}const pee=OI("line",uZ),mee=OI("pie",dZ);Vp.register(ree,oee,UJ,LJ,GJ,eee,VJ,AJ);function yee(){const{data:t=[],isLoading:e,error:n}=xp(),{data:i=[],isLoading:r,error:s}=Ep(),{isInitialized:o}=Mt(),{init:c,cleanup:u}=ro(),d=e||r;D.useEffect(()=>(o||c(),()=>{u()}),[c,o,u]);const h=D.useMemo(()=>{if(d)return{};const b=t.reduce((J,me)=>{const E=me.work_center||"Unknown";return J[E]||(J[E]={[us.ACTIVE]:0,[us.INACTIVE]:0,[us.MAINTENANCE]:0}),J[E][me.status]=(J[E][me.status]||0)+1,J},{}),_=new Date,S=new Date(_),x=_.getDay(),T=x===0?6:x-1;S.setUTCDate(_.getUTCDate()-T),S.setUTCHours(0,0,0,0);const A=i.filter(J=>J.completion_date?new Date(J.completion_date)>=S:!1).length,k=i.filter(J=>J.status==="IN PROGRESS"||J.status==="SCHEDULED").length,O=i.filter(J=>J.delivery_date?new Date(J.delivery_date)<_&&(J.quantity_completed||0)<(J.quantity||0):!1).length,P=t.filter(J=>J.status===us.ACTIVE).length,N={},M=new Date(_);M.setUTCDate(_.getUTCDate()-7);const B=new Date(_);B.setUTCDate(_.getUTCDate()+7),i.forEach(J=>{if(J.scheduled_start_time){const me=new Date(J.scheduled_start_time);if(me>=M&&me<=B){const E=me.toISOString().split("T")[0];N[E]=(N[E]||0)+1}}});const V=i.filter(J=>J.scheduled_start_time?new Date(J.scheduled_start_time)>=S:!1),W=V.filter(J=>J.cost&&J.cost>0).map(J=>J.cost),X=V.filter(J=>J.duration&&J.duration>0).map(J=>J.duration),ce=W.length>0?W.reduce((J,me)=>J+me,0)/W.length:0,ye=X.length>0?X.reduce((J,me)=>J+me,0)/X.length:0,_e={},H={},Z=["STAMPA","CONFEZIONAMENTO"],be=["ZANICA","BUSTO_GAROLFO"];return Z.forEach(J=>{const me=J.toLowerCase();_e[me]={},H[me]={},be.forEach(E=>{const I=E==="BUSTO_GAROLFO"?"busto_garolfo":E.toLowerCase(),L=i.filter(ge=>!ge.work_center||!ge.department?!1:ge.work_center===E&&ge.department===J),z=L.filter(ge=>ge.cost&&ge.cost>0).map(ge=>ge.cost),G=z.length>0?z.reduce((ge,Ee)=>ge+Ee,0)/z.length:0,ee=L.filter(ge=>ge.duration&&ge.duration>0).map(ge=>ge.duration),ne=ee.length>0?ee.reduce((ge,Ee)=>ge+Ee,0)/ee.length:0;_e[me][I]=G,H[me][I]=ne})}),{machinesByWorkCenter:b,completedThisWeek:A,tasksInWip:k,delayedTasks:O,activeMachines:P,totalMachines:t.length,totalOrders:i.length,tasksPerDay:N,avgWeeklyCost:ce,avgWeeklyDuration:ye,weeklyOrdersCount:V.length,costMatrix:_e,durationMatrix:H}},[t,i,d]),p=D.useMemo(()=>{if(!h.tasksPerDay)return null;const b=[],_=new Date;for(let S=-7;S<=7;S++){const x=new Date(_);x.setUTCDate(_.getUTCDate()+S);const T=x.toISOString().split("T")[0];b.push(T)}return{labels:b.map(S=>{const x=new Date(S);return Kn(new Date(x),"dd/MM")}),datasets:[{label:"Lavori Iniziati",data:b.map(S=>h.tasksPerDay[S]||0),borderColor:"rgb(37, 99, 235)",backgroundColor:"rgba(37, 99, 235, 0.1)",tension:.4,borderWidth:2,pointBackgroundColor:"rgb(37, 99, 235)",pointBorderColor:"rgb(37, 99, 235)",pointRadius:4,pointHoverRadius:6,fill:!0}]}},[h.tasksPerDay]),y={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{stepSize:1,color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}},x:{grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}}},elements:{point:{hoverBorderWidth:3}}},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0,font:{size:10}}}}};return d?C.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:C.jsx("div",{className:"text-center py-1 text-muted-foreground text-[10px]",children:"Caricamento dashboard..."})}):n||s?C.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:C.jsxs("div",{className:"text-center py-1 text-destructive text-[10px]",children:["Errore nel caricamento dei dati: ",n?.message||s?.message]})}):C.jsxs("div",{className:"space-y-6",children:[C.jsx("div",{className:"flex justify-between items-center",children:C.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard Produzione"})}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[C.jsxs(pr,{className:"p-6",children:[C.jsx(mr,{className:"pb-2",children:C.jsx(yr,{className:"text-sm font-medium text-muted-foreground",children:"Macchine Totali"})}),C.jsxs(vr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalMachines}),C.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Attive: ",h.activeMachines]})]})]}),C.jsxs(pr,{className:"p-6",children:[C.jsx(mr,{className:"pb-2",children:C.jsx(yr,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Totali"})}),C.jsxs(vr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalOrders}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Totali nel sistema"})]})]}),C.jsxs(pr,{className:"p-6",children:[C.jsx(mr,{className:"pb-2",children:C.jsx(yr,{className:"text-sm font-medium text-muted-foreground",children:"Completati Questa Settimana"})}),C.jsxs(vr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.completedThisWeek}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lavori completati"})]})]}),C.jsxs(pr,{className:"p-6",children:[C.jsx(mr,{className:"pb-2",children:C.jsx(yr,{className:"text-sm font-medium text-muted-foreground",children:"Lavori in Corso"})}),C.jsxs(vr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.tasksInWip}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In progress/scheduled"})]})]}),C.jsxs(pr,{className:"p-6 border-destructive/20 bg-destructive/5",children:[C.jsx(mr,{className:"pb-2",children:C.jsx(yr,{className:"text-sm font-medium text-destructive",children:"Lavori Ritardati"})}),C.jsxs(vr,{children:[C.jsx("div",{className:"text-3xl font-bold text-destructive",children:h.delayedTasks}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Oltre la scadenza"})]})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[C.jsxs(pr,{className:"p-6",children:[C.jsx(mr,{className:"pb-2",children:C.jsx(yr,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Settimanali"})}),C.jsxs(vr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.weeklyOrdersCount}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Questa Settimana"})]})]}),C.jsxs(pr,{className:"p-6",children:[C.jsx(mr,{className:"pb-2",children:C.jsx(yr,{className:"text-sm font-medium text-muted-foreground",children:"Costo Medio"})}),C.jsxs(vr,{children:[C.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["€",h.avgWeeklyCost.toFixed(2)]}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]}),C.jsxs(pr,{className:"p-6",children:[C.jsx(mr,{className:"pb-2",children:C.jsx(yr,{className:"text-sm font-medium text-muted-foreground",children:"Durata Media"})}),C.jsxs(vr,{children:[C.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[h.avgWeeklyDuration.toFixed(1),"h"]}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.jsxs(pr,{children:[C.jsx(mr,{children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx(yr,{children:"Lavori Iniziati per Giorno (14 giorni)"}),C.jsx("div",{className:"flex items-center gap-3 text-xs",children:C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("span",{className:"inline-block w-3 h-1 bg-primary"})," Lavori"]})})]})}),C.jsx(vr,{children:C.jsx("div",{className:"h-64",children:p&&C.jsx(pee,{data:p,options:y,height:256})})})]}),C.jsxs(pr,{children:[C.jsx(mr,{children:C.jsx(yr,{children:"Macchine per Centro di Lavoro e Stato"})}),C.jsx(vr,{children:C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(h.machinesByWorkCenter||{}).map(([b,_])=>{const S={labels:Object.keys(_).map(x=>x.charAt(0).toUpperCase()+x.slice(1).toLowerCase()),datasets:[{data:Object.values(_),backgroundColor:["rgba(37, 99, 235, 0.8)","rgba(107, 114, 128, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgba(37, 99, 235, 1)","rgba(107, 114, 128, 1)","rgba(156, 163, 175, 1)"],borderWidth:2}]};return C.jsxs("div",{className:"text-center",children:[C.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:b}),C.jsx("div",{className:"h-32",children:C.jsx(mee,{data:S,options:m,height:150})}),C.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:Object.entries(_).map(([x,T])=>C.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[C.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:x==="ACTIVE"?"rgba(37, 99, 235, 0.8)":x==="INACTIVE"?"rgba(107, 114, 128, 0.8)":"rgba(156, 163, 175, 0.8)"}}),C.jsxs("span",{children:[x,": ",T]})]},x))})]},b)})})})]})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.jsxs(pr,{children:[C.jsx(mr,{children:C.jsx(yr,{children:"Costo Medio per Centro di Lavoro e Reparto"})}),C.jsx(vr,{children:C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"border-b border-border",children:[C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),C.jsxs("tbody",{children:[C.jsxs("tr",{className:"border-b border-border",children:[C.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.stampa?.zanica?.toFixed(2)||"0.00"]}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.stampa?.busto_garolfo?.toFixed(2)||"0.00"]})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.confezionamento?.zanica?.toFixed(2)||"0.00"]}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.confezionamento?.busto_garolfo?.toFixed(2)||"0.00"]})]})]})]})})})]}),C.jsxs(pr,{children:[C.jsx(mr,{children:C.jsx(yr,{children:"Durata Media per Centro di Lavoro e Reparto"})}),C.jsx(vr,{children:C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"border-b border-border",children:[C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),C.jsxs("tbody",{children:[C.jsxs("tr",{className:"border-b border-border",children:[C.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.zanica?.toFixed(1)||"0.0","h"]}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.busto_garolfo?.toFixed(1)||"0.0","h"]})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.zanica?.toFixed(1)||"0.0","h"]}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.busto_garolfo?.toFixed(1)||"0.0","h"]})]})]})]})})})]})]})]})}function vee(){const[t,e]=D.useState({email:"",password:"",workCenter:""}),[n,i]=D.useState(!1),[r,s]=D.useState({}),{signIn:o,error:c}=ll(),{setSelectedWorkCenter:u}=Mt(),d=gs(),{handleAsync:h}=ps("LoginPage"),p=_=>{const{name:S,value:x}=_.target;e(T=>({...T,[S]:x})),r[S]&&s(T=>({...T,[S]:""}))},y=()=>{const _={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(_.email="Inserisci un indirizzo email valido"):_.email="Email richiesta",t.password?t.password.length<6&&(_.password="La password deve essere di almeno 6 caratteri"):_.password="Password richiesta",t.workCenter||(_.workCenter="Centro di lavoro richiesto"),s(_),Object.keys(_).length===0},m=async _=>{_.preventDefault(),y()&&(i(!0),await h(async()=>{(await o(t.email,t.password)).success&&(u(t.workCenter),d("/",{replace:!0}))},{context:"Login",fallbackMessage:"Accesso fallito. Riprova.",onFinally:()=>i(!1)}))},b=_=>r[_]?C.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:r[_]}):null;return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Bentornato"}),C.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Accedi al tuo account per continuare"})]}),C.jsxs("form",{onSubmit:m,className:"mt-4 space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:"email",children:"Indirizzo Email"}),C.jsx(Wn,{type:"email",id:"email",name:"email",value:t.email,onChange:p,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),b("email")]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:"password",children:"Password"}),C.jsx(Wn,{type:"password",id:"password",name:"password",value:t.password,onChange:p,placeholder:"Inserisci la tua password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"current-password"}),b("password")]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:"workCenter",children:"Centro di Lavoro *"}),C.jsxs("select",{name:"workCenter",value:t.workCenter,onChange:p,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${r.workCenter?"border-red-500":"border-input"}`,children:[C.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),C.jsx("option",{value:wt.ZANICA,children:wt.ZANICA}),C.jsx("option",{value:wt.BUSTO_GAROLFO,children:wt.BUSTO_GAROLFO}),C.jsx("option",{value:wt.BOTH,children:wt.BOTH})]}),b("workCenter")]}),c&&C.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("span",{className:"text-red-400",children:"●"})}),C.jsx("div",{className:"ml-3",children:C.jsx("p",{className:"text-[10px] text-red-800",children:c})})]})}),C.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Accesso in corso...":"Accedi"})]}),C.jsxs("div",{className:"text-center space-y-4",children:[C.jsx(Ln,{to:"/forgot-password",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Password dimenticata?"}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-0 flex items-center",children:C.jsx("div",{className:"w-full border-t border-gray-300"})}),C.jsx("div",{className:"relative flex justify-center text-[10px]",children:C.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Non hai un account?"})})]}),C.jsx(Ln,{to:"/signup",children:C.jsx(Button,{variant:"outline",size:"sm",className:"w-full",children:"Crea Account"})})]}),!1]})})}function bee(){const[t,e]=D.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,i]=D.useState(!1),[r,s]=D.useState({}),{signUp:o,error:c}=ll(),u=gs(),{handleAsync:d}=ps("SignupPage"),h=b=>{const{name:_,value:S}=b.target;e(x=>({...x,[_]:S})),r[_]&&s(x=>({...x,[_]:""}))},p=()=>{const b={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(b.email="Inserisci un indirizzo email valido"):b.email="Email richiesta",t.password?t.password.length<6&&(b.password="La password deve essere di almeno 6 caratteri"):b.password="Password richiesta",t.confirmPassword?t.password!==t.confirmPassword&&(b.confirmPassword="Le password non coincidono"):b.confirmPassword="Conferma la tua password",t.firstName.trim()||(b.firstName="Nome richiesto"),t.lastName.trim()||(b.lastName="Cognome richiesto"),s(b),Object.keys(b).length===0},y=async b=>{b.preventDefault(),p()&&(i(!0),await d(async()=>{const _={first_name:t.firstName,last_name:t.lastName,full_name:`${t.firstName} ${t.lastName}`};(await o(t.email,t.password,_)).success&&u("/",{replace:!0})},{context:"Signup",fallbackMessage:"Creazione account fallita. Riprova.",onFinally:()=>i(!1)}))},m=b=>r[b]?C.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:r[b]}):null;return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Crea Account"}),C.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Registrati per iniziare con il tuo account"})]}),C.jsxs("form",{onSubmit:y,className:"mt-4 space-y-4",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:"firstName",children:"Nome"}),C.jsx(Wn,{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:h,placeholder:"Inserisci il tuo nome",className:r.firstName?"border-red-500":"",disabled:n,autoComplete:"given-name"}),m("firstName")]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:"lastName",children:"Cognome"}),C.jsx(Wn,{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:h,placeholder:"Inserisci il tuo cognome",className:r.lastName?"border-red-500":"",disabled:n,autoComplete:"family-name"}),m("lastName")]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:"email",children:"Indirizzo Email"}),C.jsx(Wn,{type:"email",id:"email",name:"email",value:t.email,onChange:h,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),m("email")]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:"password",children:"Password"}),C.jsx(Wn,{type:"password",id:"password",name:"password",value:t.password,onChange:h,placeholder:"Crea una password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"new-password"}),m("password")]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:"confirmPassword",children:"Conferma Password"}),C.jsx(Wn,{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:h,placeholder:"Conferma la tua password",className:r.confirmPassword?"border-red-500":"",disabled:n,autoComplete:"new-password"}),m("confirmPassword")]})]}),c&&C.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("span",{className:"text-red-400",children:"●"})}),C.jsx("div",{className:"ml-3",children:C.jsx("p",{className:"text-[10px] text-red-800",children:c})})]})}),C.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Creazione Account...":"Crea Account"})]}),C.jsxs("div",{className:"text-center space-y-4",children:[C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-0 flex items-center",children:C.jsx("div",{className:"w-full border-t border-gray-300"})}),C.jsx("div",{className:"relative flex justify-center text-[10px]",children:C.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Hai già un account?"})})]}),C.jsx(Ln,{to:"/login",children:C.jsx(Button,{variant:"outline",size:"sm",className:"w-full",children:"Accedi"})})]})]})})}function _ee(){const[t,e]=D.useState(""),[n,i]=D.useState(!1),[r,s]=D.useState(!1),[o,c]=D.useState(""),{resetPassword:u}=ll(),{handleAsync:d}=ps("ForgotPasswordPage"),h=async p=>{if(p.preventDefault(),!t.trim()){c("Inserisci il tuo indirizzo email");return}if(!/\S+@\S+\.\S+/.test(t)){c("Inserisci un indirizzo email valido");return}i(!0),c(""),await d(async()=>{const y=await u(t);y.success?s(!0):c(y.error||"Invio email di reset fallito")},{context:"Password Reset",fallbackMessage:"Invio email di reset fallito. Riprova.",onFinally:()=>i(!1)})};return r?C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-2 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Controlla la Tua Email"}),C.jsxs("p",{className:"mt-2 text-[10px] text-gray-600",children:["Abbiamo inviato un link per il reset della password a ",t]})]}),C.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-1",children:C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("span",{className:"text-green-400 text-[10px]",children:"✅"})}),C.jsx("div",{className:"ml-3",children:C.jsx("p",{className:"text-[10px] text-green-800",children:"Se non vedi l'email, controlla la cartella spam."})})]})}),C.jsx("div",{className:"text-center",children:C.jsx(Ln,{to:"/login",children:C.jsx(Button,{size:"sm",className:"w-full",children:"Torna all'Accesso"})})})]})}):C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Reset Password"}),C.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Inserisci la tua email per ricevere un link per il reset della password"})]}),C.jsxs("form",{onSubmit:h,className:"mt-4 space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(fi,{htmlFor:"email",children:"Indirizzo Email"}),C.jsx(Wn,{type:"email",id:"email",name:"email",value:t,onChange:p=>e(p.target.value),placeholder:"Inserisci la tua email",disabled:n,autoComplete:"email"})]}),o&&C.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("span",{className:"text-red-400",children:"●"})}),C.jsx("div",{className:"ml-3",children:C.jsx("p",{className:"text-[10px] text-red-800",children:o})})]})}),C.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Invio...":"Invia Link di Reset"})]}),C.jsx("div",{className:"text-center",children:C.jsx(Ln,{to:"/login",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Torna all'Accesso"})})]})})}class dp extends de.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:dp.generateErrorId()}}componentDidCatch(e,n){this.setState({errorInfo:n,errorId:this.state.errorId||dp.generateErrorId()}),o_(e,{errorId:this.state.errorId})}logErrorToService(e,n){}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const e=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${e}&body=${n}`)};getErrorRecommendations=e=>e?.message?.includes("Network")||e?.message?.includes("fetch")?C.jsxs("div",{className:"error-boundary__recommendation high",children:[C.jsx("strong",{children:"Network Error:"})," Please check your internet connection and try again."]}):e?.message?.includes("Authentication")||e?.message?.includes("login")?C.jsxs("div",{className:"error-boundary__recommendation high",children:[C.jsx("strong",{children:"Authentication Error:"})," Please try logging in again."]}):C.jsxs("div",{className:"error-boundary__recommendation medium",children:[C.jsx("strong",{children:"General Error:"})," Please try refreshing the page or contact support if the problem persists."]});render(){return this.state.hasError?C.jsx("div",{className:"error-boundary",children:C.jsxs("div",{className:"error-boundary__container",children:[C.jsx("div",{className:"error-boundary__icon",children:"🚨"}),C.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),C.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,C.jsxs("div",{className:"error-boundary__actions",children:[C.jsx(bi,{onClick:this.handleRetry,variant:"default",children:"Try Again"}),C.jsx(bi,{onClick:this.handleGoHome,variant:"secondary",children:"Go to Home"}),C.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:"📧 Report Issue"})]}),this.state.error&&C.jsx("div",{className:"error-boundary__recommendations",children:this.getErrorRecommendations(this.state.error)}),C.jsxs("div",{className:"error-boundary__footer",children:[C.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",C.jsx("code",{children:this.state.errorId})]}),C.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const wee=()=>{const{user:t,loading:e}=ll();return e?C.jsx("div",{className:"auth-loading",children:C.jsxs("div",{className:"auth-loading__container",children:[C.jsx("div",{className:"auth-loading__spinner"}),C.jsx("p",{children:"Checking authentication..."})]})}):t?C.jsx(uO,{}):C.jsx(cO,{to:"/login",replace:!0})},See=()=>{const{confirmDialog:t,hideConfirmDialog:e,conflictDialog:n,hideConflictDialog:i,showConflictDialog:r,schedulingLoading:s,selectedWorkCenter:o}=Mt(),{cleanup:c}=ro(),{resolveConflictByShunting:u,scheduleTaskFromSlot:d}=ds(),{user:h,signOut:p}=ll(),y=Hi();return P4(),D.useEffect(()=>()=>{c()},[c]),C.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[C.jsx(mB,{}),C.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[C.jsx(g$,{}),C.jsx("main",{className:"flex-1 overflow-auto bg-background min-w-0",children:C.jsx("div",{className:"p-4",children:C.jsx(uO,{})})})]}),C.jsx(OU,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3}),C.jsx(ConfirmDialog,{isOpen:t.isOpen,title:t.title,message:t.message,onConfirm:()=>{t.onConfirm?.(),e()},onCancel:e,type:t.type}),C.jsx(ConfirmDialog,{isOpen:n.isOpen,title:"Risoluzione Conflitto",message:n.details?`Il lavoro "${n.details.draggedTask?.odp_number}" si sovrappone con "${n.details.conflictingTask?.odp_number}". Come vuoi procedere?`:"",type:"warning",customButtons:[{text:"Annulla",variant:"secondary",onClick:i},{text:s.isShunting?"Spostamento...":"Sposta a Sinistra ←",variant:"primary",disabled:s.isShunting,onClick:async()=>{if(n.details)try{const m=n.details.schedulingParams?n.details.schedulingParams.originalConflict:n.details;console.log("🔄 CONFLICT: Using resolveConflictByShunting (left)");const b=await u(m,"left",y);b.error?Fr(b.error):(Ya("Task spostato con successo"),i())}catch(m){console.error("❌ SHUNTING ERROR:",m),Fr("Errore durante lo spostamento del task")}}},{text:s.isShunting?"Spostamento...":"Sposta a Destra →",variant:"primary",disabled:s.isShunting,onClick:async()=>{if(n.details)try{const m=n.details.schedulingParams?n.details.schedulingParams.originalConflict:n.details;console.log("🔄 CONFLICT: Using resolveConflictByShunting (right)");const b=await u(m,"right",y);b.error?Fr(b.error):(Ya("Task spostato con successo"),i())}catch(m){console.error("❌ SHUNTING ERROR:",m),Fr("Errore durante lo spostamento del task")}}}]})]})};function xee(){return C.jsx(d$,{children:C.jsx(dp,{children:C.jsxs($P,{children:[C.jsx(In,{path:"/login",element:C.jsx(vee,{})}),C.jsx(In,{path:"/signup",element:C.jsx(bee,{})}),C.jsx(In,{path:"/forgot-password",element:C.jsx(_ee,{})}),C.jsx(In,{path:"/",element:C.jsx(wee,{}),children:C.jsxs(In,{element:C.jsx(See,{}),children:[C.jsx(In,{index:!0,element:C.jsx(yee,{})}),C.jsx(In,{path:"machinery",element:C.jsx(F4,{})}),C.jsx(In,{path:"machinery/add",element:C.jsx(wA,{})}),C.jsx(In,{path:"machinery/:id/edit",element:C.jsx(wA,{})}),C.jsx(In,{path:"machinery/:machineId/calendar",element:C.jsx(g7,{})}),C.jsx(In,{path:"phases",element:C.jsx(p7,{})}),C.jsx(In,{path:"phases/add",element:C.jsx(ER,{})}),C.jsx(In,{path:"phases/:id/edit",element:C.jsx(ER,{})}),C.jsx(In,{path:"backlog",element:C.jsx(y7,{})}),C.jsx(In,{path:"backlog/add",element:C.jsx(CR,{})}),C.jsx(In,{path:"backlog/:id/edit",element:C.jsx(CR,{})}),C.jsx(In,{path:"scheduler",element:C.jsx(XQ,{})})]})}),C.jsx(In,{path:"*",element:C.jsx(cO,{to:"/",replace:!0})})]})})})}c5();const Eee=new qL({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),Cee="/scheduler_demo/";X2.createRoot(document.getElementById("root")).render(C.jsx(de.StrictMode,{children:C.jsx(GL,{client:Eee,children:C.jsx(fL,{basename:Cee,children:C.jsx(qH,{children:C.jsx(xee,{})})})})}));export{lV as A,bi as B,n_ as D,de as R,Mt as a,fn as b,jee as c,Ep as d,k4 as e,ps as f,Iee as g,Kn as h,Wd as i,C as j,Hi as k,Mee as l,ds as m,g5 as n,el as o,D as r,YT as s,ai as t,gs as u};
