function $U(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function bf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X1(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var sb={exports:{}},dd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function qU(){if(KT)return dd;KT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:a,ref:r!==void 0?r:null,props:s}}return dd.Fragment=e,dd.jsx=n,dd.jsxs=n,dd}var QT;function WU(){return QT||(QT=1,sb.exports=qU()),sb.exports}var E=WU(),ab={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function GU(){if(XT)return Ye;XT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function x(U,J,ee){this.props=U,this.context=J,this.refs=S,this.updater=ee||_}x.prototype.isReactComponent={},x.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function T(){}T.prototype=x.prototype;function A(U,J,ee){this.props=U,this.context=J,this.refs=S,this.updater=ee||_}var O=A.prototype=new T;O.constructor=A,b(O,x.prototype),O.isPureReactComponent=!0;var D=Array.isArray;function N(){}var M={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function P(U,J,ee){var le=ee.ref;return{$$typeof:t,type:U,key:J,ref:le!==void 0?le:null,props:ee}}function z(U,J){return P(U.type,J,U.props)}function B(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function K(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ee){return J[ee]})}var ne=/\/+/g;function ue(U,J){return typeof U=="object"&&U!==null&&U.key!=null?K(""+U.key):J.toString(36)}function ge(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(N,N):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function L(U,J,ee,le,be){var we=typeof U;(we==="undefined"||we==="boolean")&&(U=null);var ce=!1;if(U===null)ce=!0;else switch(we){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(U.$$typeof){case t:case e:ce=!0;break;case h:return ce=U._init,L(ce(U._payload),J,ee,le,be)}}if(ce)return be=be(U),ce=le===""?"."+ue(U,0):le,D(be)?(ee="",ce!=null&&(ee=ce.replace(ne,"$&/")+"/"),L(be,J,ee,"",function(Ce){return Ce})):be!=null&&(B(be)&&(be=z(be,ee+(be.key==null||U&&U.key===be.key?"":(""+be.key).replace(ne,"$&/")+"/")+ce)),J.push(be)),1;ce=0;var me=le===""?".":le+":";if(D(U))for(var Te=0;Te<U.length;Te++)le=U[Te],we=me+ue(le,Te),ce+=L(le,J,ee,we,be);else if(Te=v(U),typeof Te=="function")for(U=Te.call(U),Te=0;!(le=U.next()).done;)le=le.value,we=me+ue(le,Te++),ce+=L(le,J,ee,we,be);else if(we==="object"){if(typeof U.then=="function")return L(ge(U),J,ee,le,be);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ce}function q(U,J,ee){if(U==null)return U;var le=[],be=0;return L(U,le,"","",function(we){return J.call(ee,we,be++)}),le}function $(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(ee){(U._status===0||U._status===-1)&&(U._status=1,U._result=ee)},function(ee){(U._status===0||U._status===-1)&&(U._status=2,U._result=ee)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var re=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ve={map:q,forEach:function(U,J,ee){q(U,function(){J.apply(this,arguments)},ee)},count:function(U){var J=0;return q(U,function(){J++}),J},toArray:function(U){return q(U,function(J){return J})||[]},only:function(U){if(!B(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ye.Activity=g,Ye.Children=ve,Ye.Component=x,Ye.Fragment=n,Ye.Profiler=r,Ye.PureComponent=A,Ye.StrictMode=i,Ye.Suspense=u,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(U){return M.H.useMemoCache(U)}},Ye.cache=function(U){return function(){return U.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(U,J,ee){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var le=b({},U.props),be=U.key;if(J!=null)for(we in J.key!==void 0&&(be=""+J.key),J)!k.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(le[we]=J[we]);var we=arguments.length-2;if(we===1)le.children=ee;else if(1<we){for(var ce=Array(we),me=0;me<we;me++)ce[me]=arguments[me+2];le.children=ce}return P(U.type,be,le)},Ye.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},Ye.createElement=function(U,J,ee){var le,be={},we=null;if(J!=null)for(le in J.key!==void 0&&(we=""+J.key),J)k.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=J[le]);var ce=arguments.length-2;if(ce===1)be.children=ee;else if(1<ce){for(var me=Array(ce),Te=0;Te<ce;Te++)me[Te]=arguments[Te+2];be.children=me}if(U&&U.defaultProps)for(le in ce=U.defaultProps,ce)be[le]===void 0&&(be[le]=ce[le]);return P(U,we,be)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(U){return{$$typeof:l,render:U}},Ye.isValidElement=B,Ye.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:$}},Ye.memo=function(U,J){return{$$typeof:d,type:U,compare:J===void 0?null:J}},Ye.startTransition=function(U){var J=M.T,ee={};M.T=ee;try{var le=U(),be=M.S;be!==null&&be(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(N,re)}catch(we){re(we)}finally{J!==null&&ee.types!==null&&(J.types=ee.types),M.T=J}},Ye.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ye.use=function(U){return M.H.use(U)},Ye.useActionState=function(U,J,ee){return M.H.useActionState(U,J,ee)},Ye.useCallback=function(U,J){return M.H.useCallback(U,J)},Ye.useContext=function(U){return M.H.useContext(U)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(U,J){return M.H.useDeferredValue(U,J)},Ye.useEffect=function(U,J){return M.H.useEffect(U,J)},Ye.useEffectEvent=function(U){return M.H.useEffectEvent(U)},Ye.useId=function(){return M.H.useId()},Ye.useImperativeHandle=function(U,J,ee){return M.H.useImperativeHandle(U,J,ee)},Ye.useInsertionEffect=function(U,J){return M.H.useInsertionEffect(U,J)},Ye.useLayoutEffect=function(U,J){return M.H.useLayoutEffect(U,J)},Ye.useMemo=function(U,J){return M.H.useMemo(U,J)},Ye.useOptimistic=function(U,J){return M.H.useOptimistic(U,J)},Ye.useReducer=function(U,J,ee){return M.H.useReducer(U,J,ee)},Ye.useRef=function(U){return M.H.useRef(U)},Ye.useState=function(U){return M.H.useState(U)},Ye.useSyncExternalStore=function(U,J,ee){return M.H.useSyncExternalStore(U,J,ee)},Ye.useTransition=function(){return M.H.useTransition()},Ye.version="19.2.0",Ye}var ZT;function X_(){return ZT||(ZT=1,ab.exports=GU()),ab.exports}var C=X_();const ae=bf(C),Z1=$U({__proto__:null,default:ae},[C]);var ob={exports:{}},fd={},lb={exports:{}},cb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT;function YU(){return JT||(JT=1,(function(t){function e(L,q){var $=L.length;L.push(q);e:for(;0<$;){var re=$-1>>>1,ve=L[re];if(0<r(ve,q))L[re]=q,L[$]=ve,$=re;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var q=L[0],$=L.pop();if($!==q){L[0]=$;e:for(var re=0,ve=L.length,U=ve>>>1;re<U;){var J=2*(re+1)-1,ee=L[J],le=J+1,be=L[le];if(0>r(ee,$))le<ve&&0>r(be,ee)?(L[re]=be,L[le]=$,re=le):(L[re]=ee,L[J]=$,re=J);else if(le<ve&&0>r(be,$))L[re]=be,L[le]=$,re=le;else break e}}return q}function r(L,q){var $=L.sortIndex-q.sortIndex;return $!==0?$:L.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,g=null,m=3,v=!1,_=!1,b=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(L){for(var q=n(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=L)i(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(d)}}function D(L){if(b=!1,O(L),!_)if(n(u)!==null)_=!0,N||(N=!0,K());else{var q=n(d);q!==null&&ge(D,q.startTime-L)}}var N=!1,M=-1,k=5,P=-1;function z(){return S?!0:!(t.unstable_now()-P<k)}function B(){if(S=!1,N){var L=t.unstable_now();P=L;var q=!0;try{e:{_=!1,b&&(b=!1,T(M),M=-1),v=!0;var $=m;try{t:{for(O(L),g=n(u);g!==null&&!(g.expirationTime>L&&z());){var re=g.callback;if(typeof re=="function"){g.callback=null,m=g.priorityLevel;var ve=re(g.expirationTime<=L);if(L=t.unstable_now(),typeof ve=="function"){g.callback=ve,O(L),q=!0;break t}g===n(u)&&i(u),O(L)}else i(u);g=n(u)}if(g!==null)q=!0;else{var U=n(d);U!==null&&ge(D,U.startTime-L),q=!1}}break e}finally{g=null,m=$,v=!1}q=void 0}}finally{q?K():N=!1}}}var K;if(typeof A=="function")K=function(){A(B)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ue=ne.port2;ne.port1.onmessage=B,K=function(){ue.postMessage(null)}}else K=function(){x(B,0)};function ge(L,q){M=x(function(){L(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var $=m;m=q;try{return L()}finally{m=$}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=m;m=L;try{return q()}finally{m=$}},t.unstable_scheduleCallback=function(L,q,$){var re=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?re+$:re):$=re,L){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=$+ve,L={id:h++,callback:q,priorityLevel:L,startTime:$,expirationTime:ve,sortIndex:-1},$>re?(L.sortIndex=$,e(d,L),n(u)===null&&L===n(d)&&(b?(T(M),M=-1):b=!0,ge(D,$-re))):(L.sortIndex=ve,e(u,L),_||v||(_=!0,N||(N=!0,K()))),L},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(L){var q=m;return function(){var $=m;m=q;try{return L.apply(this,arguments)}finally{m=$}}}})(cb)),cb}var eA;function KU(){return eA||(eA=1,lb.exports=YU()),lb.exports}var ub={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA;function QU(){if(tA)return oi;tA=1;var t=X_();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,oi.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},oi.flushSync=function(u){var d=a.T,h=i.p;try{if(a.T=null,i.p=2,u)return u()}finally{a.T=d,i.p=h,i.d.f()}},oi.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},oi.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},oi.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:v}):h==="script"&&i.d.X(u,{crossOrigin:g,integrity:m,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},oi.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},oi.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin);i.d.L(u,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},oi.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},oi.requestFormReset=function(u){i.d.r(u)},oi.unstable_batchedUpdates=function(u,d){return u(d)},oi.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},oi.useFormStatus=function(){return a.H.useHostTransitionStatus()},oi.version="19.2.0",oi}var nA;function J1(){if(nA)return ub.exports;nA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ub.exports=QU(),ub.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA;function XU(){if(iA)return fd;iA=1;var t=KU(),e=X_(),n=J1();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(i(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(i(188));return c!==o?null:o}for(var f=o,p=c;;){var y=f.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){f=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===f)return u(y),o;if(w===p)return u(y),c;w=w.sibling}throw Error(i(188))}if(f.return!==p.return)f=y,p=w;else{for(var R=!1,I=y.child;I;){if(I===f){R=!0,f=y,p=w;break}if(I===p){R=!0,p=y,f=w;break}I=I.sibling}if(!R){for(I=w.child;I;){if(I===f){R=!0,f=w,p=y;break}if(I===p){R=!0,p=w,f=y;break}I=I.sibling}if(!R)throw Error(i(189))}}if(f.alternate!==p)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Symbol.for("react.client.reference");function ue(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ne?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case A:return o.displayName||"Context";case T:return(o._context.displayName||"Context")+".Consumer";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return c=o.displayName||null,c!==null?c:ue(o.type)||"Memo";case k:c=o._payload,o=o._init;try{return ue(o(c))}catch{}}return null}var ge=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},re=[],ve=-1;function U(o){return{current:o}}function J(o){0>ve||(o.current=re[ve],re[ve]=null,ve--)}function ee(o,c){ve++,re[ve]=o.current,o.current=c}var le=U(null),be=U(null),we=U(null),ce=U(null);function me(o,c){switch(ee(we,c),ee(be,o),ee(le,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?yT(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=yT(c),o=bT(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}J(le),ee(le,o)}function Te(){J(le),J(be),J(we)}function Ce(o){o.memoizedState!==null&&ee(ce,o);var c=le.current,f=bT(c,o.type);c!==f&&(ee(be,o),ee(le,f))}function je(o){be.current===o&&(J(le),J(be)),ce.current===o&&(J(ce),od._currentValue=$)}var ze,zt;function xe(o){if(ze===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);ze=c&&c[1]||"",zt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+o+zt}var Be=!1;function Xe(o,c){if(!o||Be)return"";Be=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var ie=oe}Reflect.construct(o,[],pe)}else{try{pe.call()}catch(oe){ie=oe}o.call(pe.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(pe=o())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),R=w[0],I=w[1];if(R&&I){var H=R.split(`
`),Z=I.split(`
`);for(y=p=0;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(p===H.length||y===Z.length)for(p=H.length-1,y=Z.length-1;1<=p&&0<=y&&H[p]!==Z[y];)y--;for(;1<=p&&0<=y;p--,y--)if(H[p]!==Z[y]){if(p!==1||y!==1)do if(p--,y--,0>y||H[p]!==Z[y]){var fe=`
`+H[p].replace(" at new "," at ");return o.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",o.displayName)),fe}while(1<=p&&0<=y);break}}}finally{Be=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?xe(f):""}function Dt(o,c){switch(o.tag){case 26:case 27:case 5:return xe(o.type);case 16:return xe("Lazy");case 13:return o.child!==c&&c!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Xe(o.type,!1);case 11:return Xe(o.type.render,!1);case 1:return Xe(o.type,!0);case 31:return xe("Activity");default:return""}}function xn(o){try{var c="",f=null;do c+=Dt(o,f),f=o,o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ze=Object.prototype.hasOwnProperty,j=t.unstable_scheduleCallback,W=t.unstable_cancelCallback,Q=t.unstable_shouldYield,Y=t.unstable_requestPaint,te=t.unstable_now,de=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,_e=t.unstable_UserBlockingPriority,Se=t.unstable_NormalPriority,Ne=t.unstable_LowPriority,Je=t.unstable_IdlePriority,Ge=t.log,ft=t.unstable_setDisableYieldValue,st=null,Ht=null;function at(o){if(typeof Ge=="function"&&ft(o),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(st,o)}catch{}}var qe=Math.clz32?Math.clz32:vt,vn=Math.log,nt=Math.LN2;function vt(o){return o>>>=0,o===0?32:31-(vn(o)/nt|0)|0}var mi=256,vi=262144,St=4194304;function Wt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ee(o,c,f){var p=o.pendingLanes;if(p===0)return 0;var y=0,w=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var I=p&134217727;return I!==0?(p=I&~w,p!==0?y=Wt(p):(R&=I,R!==0?y=Wt(R):f||(f=I&~o,f!==0&&(y=Wt(f))))):(I=p&~w,I!==0?y=Wt(I):R!==0?y=Wt(R):f||(f=p&~o,f!==0&&(y=Wt(f)))),y===0?0:c!==0&&c!==y&&(c&w)===0&&(w=y&-y,f=c&-c,w>=f||w===32&&(f&4194048)!==0)?c:y}function We(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ht(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var o=St;return St<<=1,(St&62914560)===0&&(St=4194304),o}function hn(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function bt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function et(o,c,f,p,y,w){var R=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,H=o.expirationTimes,Z=o.hiddenUpdates;for(f=R&~f;0<f;){var fe=31-qe(f),pe=1<<fe;I[fe]=0,H[fe]=-1;var ie=Z[fe];if(ie!==null)for(Z[fe]=null,fe=0;fe<ie.length;fe++){var oe=ie[fe];oe!==null&&(oe.lane&=-536870913)}f&=~pe}p!==0&&En(o,p,0),w!==0&&y===0&&o.tag!==0&&(o.suspendedLanes|=w&~(R&~c))}function En(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var p=31-qe(c);o.entangledLanes|=c,o.entanglements[p]=o.entanglements[p]|1073741824|f&261930}function Kt(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var p=31-qe(f),y=1<<p;y&c|o[p]&c&&(o[p]|=c),f&=~y}}function rn(o,c){var f=c&-c;return f=(f&42)!==0?1:ar(f),(f&(o.suspendedLanes|c))!==0?0:f}function ar(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Xn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function or(){var o=q.p;return o!==0?o:(o=window.event,o===void 0?32:BT(o.type))}function ua(o,c){var f=q.p;try{return q.p=o,c()}finally{q.p=f}}var lr=Math.random().toString(36).slice(2),Zn="__reactFiber$"+lr,Ci="__reactProps$"+lr,Al="__reactContainer$"+lr,Qm="__reactEvents$"+lr,N2="__reactListeners$"+lr,I2="__reactHandles$"+lr,sx="__reactResources$"+lr,Su="__reactMarker$"+lr;function Xm(o){delete o[Zn],delete o[Ci],delete o[Qm],delete o[N2],delete o[I2]}function Rl(o){var c=o[Zn];if(c)return c;for(var f=o.parentNode;f;){if(c=f[Al]||f[Zn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=TT(o);o!==null;){if(f=o[Zn])return f;o=TT(o)}return c}o=f,f=o.parentNode}return null}function Dl(o){if(o=o[Zn]||o[Al]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function xu(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function Ol(o){var c=o[sx];return c||(c=o[sx]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Vn(o){o[Su]=!0}var ax=new Set,ox={};function bo(o,c){kl(o,c),kl(o+"Capture",c)}function kl(o,c){for(ox[o]=c,o=0;o<c.length;o++)ax.add(c[o])}var P2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lx={},cx={};function j2(o){return Ze.call(cx,o)?!0:Ze.call(lx,o)?!1:P2.test(o)?cx[o]=!0:(lx[o]=!0,!1)}function Lf(o,c,f){if(j2(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function Ff(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function ws(o,c,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+p)}}function cr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ux(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function L2(o,c,f){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var y=p.get,w=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return y.call(this)},set:function(R){f=""+R,w.call(this,R)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Zm(o){if(!o._valueTracker){var c=ux(o)?"checked":"value";o._valueTracker=L2(o,c,""+o[c])}}function dx(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),p="";return o&&(p=ux(o)?o.checked?"true":"false":o.value),o=p,o!==f?(c.setValue(o),!0):!1}function Uf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var F2=/[\n"\\]/g;function ur(o){return o.replace(F2,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Jm(o,c,f,p,y,w,R,I){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),c!=null?R==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+cr(c)):o.value!==""+cr(c)&&(o.value=""+cr(c)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),c!=null?ev(o,R,cr(c)):f!=null?ev(o,R,cr(f)):p!=null&&o.removeAttribute("value"),y==null&&w!=null&&(o.defaultChecked=!!w),y!=null&&(o.checked=y&&typeof y!="function"&&typeof y!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+cr(I):o.removeAttribute("name")}function fx(o,c,f,p,y,w,R,I){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),c!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||c!=null)){Zm(o);return}f=f!=null?""+cr(f):"",c=c!=null?""+cr(c):f,I||c===o.value||(o.value=c),o.defaultValue=c}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=I?o.checked:!!p,o.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),Zm(o)}function ev(o,c,f){c==="number"&&Uf(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Ml(o,c,f,p){if(o=o.options,c){c={};for(var y=0;y<f.length;y++)c["$"+f[y]]=!0;for(f=0;f<o.length;f++)y=c.hasOwnProperty("$"+o[f].value),o[f].selected!==y&&(o[f].selected=y),y&&p&&(o[f].defaultSelected=!0)}else{for(f=""+cr(f),c=null,y=0;y<o.length;y++){if(o[y].value===f){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}c!==null||o[y].disabled||(c=o[y])}c!==null&&(c.selected=!0)}}function hx(o,c,f){if(c!=null&&(c=""+cr(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+cr(f):""}function gx(o,c,f,p){if(c==null){if(p!=null){if(f!=null)throw Error(i(92));if(ge(p)){if(1<p.length)throw Error(i(93));p=p[0]}f=p}f==null&&(f=""),c=f}f=cr(c),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p),Zm(o)}function Nl(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var U2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function px(o,c,f){var p=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":p?o.setProperty(c,f):typeof f!="number"||f===0||U2.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function mx(o,c,f){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var y in c)p=c[y],c.hasOwnProperty(y)&&f[y]!==p&&px(o,y,p)}else for(var w in c)c.hasOwnProperty(w)&&px(o,w,c[w])}function tv(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zf(o){return H2.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ss(){}var nv=null;function iv(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Il=null,Pl=null;function vx(o){var c=Dl(o);if(c&&(o=c.stateNode)){var f=o[Ci]||null;e:switch(o=c.stateNode,c.type){case"input":if(Jm(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ur(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var p=f[c];if(p!==o&&p.form===o.form){var y=p[Ci]||null;if(!y)throw Error(i(90));Jm(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<f.length;c++)p=f[c],p.form===o.form&&dx(p)}break e;case"textarea":hx(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Ml(o,!!f.multiple,c,!1)}}}var rv=!1;function yx(o,c,f){if(rv)return o(c,f);rv=!0;try{var p=o(c);return p}finally{if(rv=!1,(Il!==null||Pl!==null)&&(Ah(),Il&&(c=Il,o=Pl,Pl=Il=null,vx(c),o)))for(c=0;c<o.length;c++)vx(o[c])}}function Eu(o,c){var f=o.stateNode;if(f===null)return null;var p=f[Ci]||null;if(p===null)return null;f=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(i(231,c,typeof f));return f}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=!1;if(xs)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){sv=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{sv=!1}var da=null,av=null,Hf=null;function bx(){if(Hf)return Hf;var o,c=av,f=c.length,p,y="value"in da?da.value:da.textContent,w=y.length;for(o=0;o<f&&c[o]===y[o];o++);var R=f-o;for(p=1;p<=R&&c[f-p]===y[w-p];p++);return Hf=y.slice(o,1<p?1-p:void 0)}function Bf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Vf(){return!0}function _x(){return!1}function Ti(o){function c(f,p,y,w,R){this._reactName=f,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(w):w[I]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Vf:_x,this.isPropagationStopped=_x,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Vf)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Vf)},persist:function(){},isPersistent:Vf}),c}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=Ti(_o),Tu=g({},_o,{view:0,detail:0}),B2=Ti(Tu),ov,lv,Au,qf=g({},Tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Au&&(Au&&o.type==="mousemove"?(ov=o.screenX-Au.screenX,lv=o.screenY-Au.screenY):lv=ov=0,Au=o),ov)},movementY:function(o){return"movementY"in o?o.movementY:lv}}),wx=Ti(qf),V2=g({},qf,{dataTransfer:0}),$2=Ti(V2),q2=g({},Tu,{relatedTarget:0}),cv=Ti(q2),W2=g({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),G2=Ti(W2),Y2=g({},_o,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),K2=Ti(Y2),Q2=g({},_o,{data:0}),Sx=Ti(Q2),X2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eF(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=J2[o])?!!c[o]:!1}function uv(){return eF}var tF=g({},Tu,{key:function(o){if(o.key){var c=X2[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Bf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Z2[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(o){return o.type==="keypress"?Bf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Bf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),nF=Ti(tF),iF=g({},qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=Ti(iF),rF=g({},Tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),sF=Ti(rF),aF=g({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),oF=Ti(aF),lF=g({},qf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),cF=Ti(lF),uF=g({},_o,{newState:0,oldState:0}),dF=Ti(uF),fF=[9,13,27,32],dv=xs&&"CompositionEvent"in window,Ru=null;xs&&"documentMode"in document&&(Ru=document.documentMode);var hF=xs&&"TextEvent"in window&&!Ru,Ex=xs&&(!dv||Ru&&8<Ru&&11>=Ru),Cx=" ",Tx=!1;function Ax(o,c){switch(o){case"keyup":return fF.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var jl=!1;function gF(o,c){switch(o){case"compositionend":return Rx(c);case"keypress":return c.which!==32?null:(Tx=!0,Cx);case"textInput":return o=c.data,o===Cx&&Tx?null:o;default:return null}}function pF(o,c){if(jl)return o==="compositionend"||!dv&&Ax(o,c)?(o=bx(),Hf=av=da=null,jl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ex&&c.locale!=="ko"?null:c.data;default:return null}}var mF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dx(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!mF[o.type]:c==="textarea"}function Ox(o,c,f,p){Il?Pl?Pl.push(p):Pl=[p]:Il=p,c=Ih(c,"onChange"),0<c.length&&(f=new $f("onChange","change",null,f,p),o.push({event:f,listeners:c}))}var Du=null,Ou=null;function vF(o){fT(o,0)}function Wf(o){var c=xu(o);if(dx(c))return o}function kx(o,c){if(o==="change")return c}var Mx=!1;if(xs){var fv;if(xs){var hv="oninput"in document;if(!hv){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),hv=typeof Nx.oninput=="function"}fv=hv}else fv=!1;Mx=fv&&(!document.documentMode||9<document.documentMode)}function Ix(){Du&&(Du.detachEvent("onpropertychange",Px),Ou=Du=null)}function Px(o){if(o.propertyName==="value"&&Wf(Ou)){var c=[];Ox(c,Ou,o,iv(o)),yx(vF,c)}}function yF(o,c,f){o==="focusin"?(Ix(),Du=c,Ou=f,Du.attachEvent("onpropertychange",Px)):o==="focusout"&&Ix()}function bF(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Wf(Ou)}function _F(o,c){if(o==="click")return Wf(c)}function wF(o,c){if(o==="input"||o==="change")return Wf(c)}function SF(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Vi=typeof Object.is=="function"?Object.is:SF;function ku(o,c){if(Vi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),p=Object.keys(c);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var y=f[p];if(!Ze.call(c,y)||!Vi(o[y],c[y]))return!1}return!0}function jx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Lx(o,c){var f=jx(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=c&&p>=c)return{node:f,offset:c-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=jx(f)}}function Fx(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Fx(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Ux(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Uf(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=Uf(o.document)}return c}function gv(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var xF=xs&&"documentMode"in document&&11>=document.documentMode,Ll=null,pv=null,Mu=null,mv=!1;function zx(o,c,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;mv||Ll==null||Ll!==Uf(p)||(p=Ll,"selectionStart"in p&&gv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Mu&&ku(Mu,p)||(Mu=p,p=Ih(pv,"onSelect"),0<p.length&&(c=new $f("onSelect","select",null,c,f),o.push({event:c,listeners:p}),c.target=Ll)))}function wo(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Fl={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},vv={},Hx={};xs&&(Hx=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function So(o){if(vv[o])return vv[o];if(!Fl[o])return o;var c=Fl[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in Hx)return vv[o]=c[f];return o}var Bx=So("animationend"),Vx=So("animationiteration"),$x=So("animationstart"),EF=So("transitionrun"),CF=So("transitionstart"),TF=So("transitioncancel"),qx=So("transitionend"),Wx=new Map,yv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yv.push("scrollEnd");function Or(o,c){Wx.set(o,c),bo(c,[o])}var Gf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},dr=[],Ul=0,bv=0;function Yf(){for(var o=Ul,c=bv=Ul=0;c<o;){var f=dr[c];dr[c++]=null;var p=dr[c];dr[c++]=null;var y=dr[c];dr[c++]=null;var w=dr[c];if(dr[c++]=null,p!==null&&y!==null){var R=p.pending;R===null?y.next=y:(y.next=R.next,R.next=y),p.pending=y}w!==0&&Gx(f,y,w)}}function Kf(o,c,f,p){dr[Ul++]=o,dr[Ul++]=c,dr[Ul++]=f,dr[Ul++]=p,bv|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function _v(o,c,f,p){return Kf(o,c,f,p),Qf(o)}function xo(o,c){return Kf(o,null,null,c),Qf(o)}function Gx(o,c,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var y=!1,w=o.return;w!==null;)w.childLanes|=f,p=w.alternate,p!==null&&(p.childLanes|=f),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(y=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,y&&c!==null&&(y=31-qe(f),o=w.hiddenUpdates,p=o[y],p===null?o[y]=[c]:p.push(c),c.lane=f|536870912),w):null}function Qf(o){if(50<ed)throw ed=0,Dy=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var zl={};function AF(o,c,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(o,c,f,p){return new AF(o,c,f,p)}function wv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Es(o,c){var f=o.alternate;return f===null?(f=$i(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function Yx(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Xf(o,c,f,p,y,w){var R=0;if(p=o,typeof o=="function")wv(o)&&(R=1);else if(typeof o=="string")R=MU(o,f,le.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=$i(31,f,c,y),o.elementType=P,o.lanes=w,o;case b:return Eo(f.children,y,w,c);case S:R=8,y|=24;break;case x:return o=$i(12,f,c,y|2),o.elementType=x,o.lanes=w,o;case D:return o=$i(13,f,c,y),o.elementType=D,o.lanes=w,o;case N:return o=$i(19,f,c,y),o.elementType=N,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:R=10;break e;case T:R=9;break e;case O:R=11;break e;case M:R=14;break e;case k:R=16,p=null;break e}R=29,f=Error(i(130,o===null?"null":typeof o,"")),p=null}return c=$i(R,f,c,y),c.elementType=o,c.type=p,c.lanes=w,c}function Eo(o,c,f,p){return o=$i(7,o,p,c),o.lanes=f,o}function Sv(o,c,f){return o=$i(6,o,null,c),o.lanes=f,o}function Kx(o){var c=$i(18,null,null,0);return c.stateNode=o,c}function xv(o,c,f){return c=$i(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Qx=new WeakMap;function fr(o,c){if(typeof o=="object"&&o!==null){var f=Qx.get(o);return f!==void 0?f:(c={value:o,source:c,stack:xn(c)},Qx.set(o,c),c)}return{value:o,source:c,stack:xn(c)}}var Hl=[],Bl=0,Zf=null,Nu=0,hr=[],gr=0,fa=null,Xr=1,Zr="";function Cs(o,c){Hl[Bl++]=Nu,Hl[Bl++]=Zf,Zf=o,Nu=c}function Xx(o,c,f){hr[gr++]=Xr,hr[gr++]=Zr,hr[gr++]=fa,fa=o;var p=Xr;o=Zr;var y=32-qe(p)-1;p&=~(1<<y),f+=1;var w=32-qe(c)+y;if(30<w){var R=y-y%5;w=(p&(1<<R)-1).toString(32),p>>=R,y-=R,Xr=1<<32-qe(c)+y|f<<y|p,Zr=w+o}else Xr=1<<w|f<<y|p,Zr=o}function Ev(o){o.return!==null&&(Cs(o,1),Xx(o,1,0))}function Cv(o){for(;o===Zf;)Zf=Hl[--Bl],Hl[Bl]=null,Nu=Hl[--Bl],Hl[Bl]=null;for(;o===fa;)fa=hr[--gr],hr[gr]=null,Zr=hr[--gr],hr[gr]=null,Xr=hr[--gr],hr[gr]=null}function Zx(o,c){hr[gr++]=Xr,hr[gr++]=Zr,hr[gr++]=fa,Xr=c.id,Zr=c.overflow,fa=o}var Jn=null,Qt=null,gt=!1,ha=null,pr=!1,Tv=Error(i(519));function ga(o){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Iu(fr(c,o)),Tv}function Jx(o){var c=o.stateNode,f=o.type,p=o.memoizedProps;switch(c[Zn]=o,c[Ci]=p,f){case"dialog":lt("cancel",c),lt("close",c);break;case"iframe":case"object":case"embed":lt("load",c);break;case"video":case"audio":for(f=0;f<nd.length;f++)lt(nd[f],c);break;case"source":lt("error",c);break;case"img":case"image":case"link":lt("error",c),lt("load",c);break;case"details":lt("toggle",c);break;case"input":lt("invalid",c),fx(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":lt("invalid",c);break;case"textarea":lt("invalid",c),gx(c,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||p.suppressHydrationWarning===!0||mT(c.textContent,f)?(p.popover!=null&&(lt("beforetoggle",c),lt("toggle",c)),p.onScroll!=null&&lt("scroll",c),p.onScrollEnd!=null&&lt("scrollend",c),p.onClick!=null&&(c.onclick=Ss),c=!0):c=!1,c||ga(o,!0)}function eE(o){for(Jn=o.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:Jn=Jn.return}}function Vl(o){if(o!==Jn)return!1;if(!gt)return eE(o),gt=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||$y(o.type,o.memoizedProps)),f=!f),f&&Qt&&ga(o),eE(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Qt=CT(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Qt=CT(o)}else c===27?(c=Qt,Ra(o.type)?(o=Ky,Ky=null,Qt=o):Qt=c):Qt=Jn?vr(o.stateNode.nextSibling):null;return!0}function Co(){Qt=Jn=null,gt=!1}function Av(){var o=ha;return o!==null&&(Oi===null?Oi=o:Oi.push.apply(Oi,o),ha=null),o}function Iu(o){ha===null?ha=[o]:ha.push(o)}var Rv=U(null),To=null,Ts=null;function pa(o,c,f){ee(Rv,c._currentValue),c._currentValue=f}function As(o){o._currentValue=Rv.current,J(Rv)}function Dv(o,c,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),o===f)break;o=o.return}}function Ov(o,c,f,p){var y=o.child;for(y!==null&&(y.return=o);y!==null;){var w=y.dependencies;if(w!==null){var R=y.child;w=w.firstContext;e:for(;w!==null;){var I=w;w=y;for(var H=0;H<c.length;H++)if(I.context===c[H]){w.lanes|=f,I=w.alternate,I!==null&&(I.lanes|=f),Dv(w.return,f,o),p||(R=null);break e}w=I.next}}else if(y.tag===18){if(R=y.return,R===null)throw Error(i(341));R.lanes|=f,w=R.alternate,w!==null&&(w.lanes|=f),Dv(R,f,o),R=null}else R=y.child;if(R!==null)R.return=y;else for(R=y;R!==null;){if(R===o){R=null;break}if(y=R.sibling,y!==null){y.return=R.return,R=y;break}R=R.return}y=R}}function $l(o,c,f,p){o=null;for(var y=c,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var R=y.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var I=y.type;Vi(y.pendingProps.value,R.value)||(o!==null?o.push(I):o=[I])}}else if(y===ce.current){if(R=y.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(o!==null?o.push(od):o=[od])}y=y.return}o!==null&&Ov(c,o,f,p),c.flags|=262144}function Jf(o){for(o=o.firstContext;o!==null;){if(!Vi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ao(o){To=o,Ts=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ei(o){return tE(To,o)}function eh(o,c){return To===null&&Ao(o),tE(o,c)}function tE(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Ts===null){if(o===null)throw Error(i(308));Ts=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ts=Ts.next=c;return f}var RF=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},DF=t.unstable_scheduleCallback,OF=t.unstable_NormalPriority,Cn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kv(){return{controller:new RF,data:new Map,refCount:0}}function Pu(o){o.refCount--,o.refCount===0&&DF(OF,function(){o.controller.abort()})}var ju=null,Mv=0,ql=0,Wl=null;function kF(o,c){if(ju===null){var f=ju=[];Mv=0,ql=Py(),Wl={status:"pending",value:void 0,then:function(p){f.push(p)}}}return Mv++,c.then(nE,nE),c}function nE(){if(--Mv===0&&ju!==null){Wl!==null&&(Wl.status="fulfilled");var o=ju;ju=null,ql=0,Wl=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function MF(o,c){var f=[],p={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return o.then(function(){p.status="fulfilled",p.value=c;for(var y=0;y<f.length;y++)(0,f[y])(c)},function(y){for(p.status="rejected",p.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),p}var iE=L.S;L.S=function(o,c){zC=te(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&kF(o,c),iE!==null&&iE(o,c)};var Ro=U(null);function Nv(){var o=Ro.current;return o!==null?o:Bt.pooledCache}function th(o,c){c===null?ee(Ro,Ro.current):ee(Ro,c.pool)}function rE(){var o=Nv();return o===null?null:{parent:Cn._currentValue,pool:o}}var Gl=Error(i(460)),Iv=Error(i(474)),nh=Error(i(542)),ih={then:function(){}};function sE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function aE(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(Ss,Ss),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,lE(o),o;default:if(typeof c.status=="string")c.then(Ss,Ss);else{if(o=Bt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(p){if(c.status==="pending"){var y=c;y.status="fulfilled",y.value=p}},function(p){if(c.status==="pending"){var y=c;y.status="rejected",y.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,lE(o),o}throw Oo=c,Gl}}function Do(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Oo=f,Gl):f}}var Oo=null;function oE(){if(Oo===null)throw Error(i(459));var o=Oo;return Oo=null,o}function lE(o){if(o===Gl||o===nh)throw Error(i(483))}var Yl=null,Lu=0;function rh(o){var c=Lu;return Lu+=1,Yl===null&&(Yl=[]),aE(Yl,o,c)}function Fu(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function sh(o,c){throw c.$$typeof===m?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function cE(o){function c(G,V){if(o){var X=G.deletions;X===null?(G.deletions=[V],G.flags|=16):X.push(V)}}function f(G,V){if(!o)return null;for(;V!==null;)c(G,V),V=V.sibling;return null}function p(G){for(var V=new Map;G!==null;)G.key!==null?V.set(G.key,G):V.set(G.index,G),G=G.sibling;return V}function y(G,V){return G=Es(G,V),G.index=0,G.sibling=null,G}function w(G,V,X){return G.index=X,o?(X=G.alternate,X!==null?(X=X.index,X<V?(G.flags|=67108866,V):X):(G.flags|=67108866,V)):(G.flags|=1048576,V)}function R(G){return o&&G.alternate===null&&(G.flags|=67108866),G}function I(G,V,X,he){return V===null||V.tag!==6?(V=Sv(X,G.mode,he),V.return=G,V):(V=y(V,X),V.return=G,V)}function H(G,V,X,he){var Pe=X.type;return Pe===b?fe(G,V,X.props.children,he,X.key):V!==null&&(V.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===k&&Do(Pe)===V.type)?(V=y(V,X.props),Fu(V,X),V.return=G,V):(V=Xf(X.type,X.key,X.props,null,G.mode,he),Fu(V,X),V.return=G,V)}function Z(G,V,X,he){return V===null||V.tag!==4||V.stateNode.containerInfo!==X.containerInfo||V.stateNode.implementation!==X.implementation?(V=xv(X,G.mode,he),V.return=G,V):(V=y(V,X.children||[]),V.return=G,V)}function fe(G,V,X,he,Pe){return V===null||V.tag!==7?(V=Eo(X,G.mode,he,Pe),V.return=G,V):(V=y(V,X),V.return=G,V)}function pe(G,V,X){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sv(""+V,G.mode,X),V.return=G,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case v:return X=Xf(V.type,V.key,V.props,null,G.mode,X),Fu(X,V),X.return=G,X;case _:return V=xv(V,G.mode,X),V.return=G,V;case k:return V=Do(V),pe(G,V,X)}if(ge(V)||K(V))return V=Eo(V,G.mode,X,null),V.return=G,V;if(typeof V.then=="function")return pe(G,rh(V),X);if(V.$$typeof===A)return pe(G,eh(G,V),X);sh(G,V)}return null}function ie(G,V,X,he){var Pe=V!==null?V.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Pe!==null?null:I(G,V,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===Pe?H(G,V,X,he):null;case _:return X.key===Pe?Z(G,V,X,he):null;case k:return X=Do(X),ie(G,V,X,he)}if(ge(X)||K(X))return Pe!==null?null:fe(G,V,X,he,null);if(typeof X.then=="function")return ie(G,V,rh(X),he);if(X.$$typeof===A)return ie(G,V,eh(G,X),he);sh(G,X)}return null}function oe(G,V,X,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return G=G.get(X)||null,I(V,G,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return G=G.get(he.key===null?X:he.key)||null,H(V,G,he,Pe);case _:return G=G.get(he.key===null?X:he.key)||null,Z(V,G,he,Pe);case k:return he=Do(he),oe(G,V,X,he,Pe)}if(ge(he)||K(he))return G=G.get(X)||null,fe(V,G,he,Pe,null);if(typeof he.then=="function")return oe(G,V,X,rh(he),Pe);if(he.$$typeof===A)return oe(G,V,X,eh(V,he),Pe);sh(V,he)}return null}function Ae(G,V,X,he){for(var Pe=null,xt=null,Oe=V,tt=V=0,ut=null;Oe!==null&&tt<X.length;tt++){Oe.index>tt?(ut=Oe,Oe=null):ut=Oe.sibling;var Et=ie(G,Oe,X[tt],he);if(Et===null){Oe===null&&(Oe=ut);break}o&&Oe&&Et.alternate===null&&c(G,Oe),V=w(Et,V,tt),xt===null?Pe=Et:xt.sibling=Et,xt=Et,Oe=ut}if(tt===X.length)return f(G,Oe),gt&&Cs(G,tt),Pe;if(Oe===null){for(;tt<X.length;tt++)Oe=pe(G,X[tt],he),Oe!==null&&(V=w(Oe,V,tt),xt===null?Pe=Oe:xt.sibling=Oe,xt=Oe);return gt&&Cs(G,tt),Pe}for(Oe=p(Oe);tt<X.length;tt++)ut=oe(Oe,G,tt,X[tt],he),ut!==null&&(o&&ut.alternate!==null&&Oe.delete(ut.key===null?tt:ut.key),V=w(ut,V,tt),xt===null?Pe=ut:xt.sibling=ut,xt=ut);return o&&Oe.forEach(function(Na){return c(G,Na)}),gt&&Cs(G,tt),Pe}function He(G,V,X,he){if(X==null)throw Error(i(151));for(var Pe=null,xt=null,Oe=V,tt=V=0,ut=null,Et=X.next();Oe!==null&&!Et.done;tt++,Et=X.next()){Oe.index>tt?(ut=Oe,Oe=null):ut=Oe.sibling;var Na=ie(G,Oe,Et.value,he);if(Na===null){Oe===null&&(Oe=ut);break}o&&Oe&&Na.alternate===null&&c(G,Oe),V=w(Na,V,tt),xt===null?Pe=Na:xt.sibling=Na,xt=Na,Oe=ut}if(Et.done)return f(G,Oe),gt&&Cs(G,tt),Pe;if(Oe===null){for(;!Et.done;tt++,Et=X.next())Et=pe(G,Et.value,he),Et!==null&&(V=w(Et,V,tt),xt===null?Pe=Et:xt.sibling=Et,xt=Et);return gt&&Cs(G,tt),Pe}for(Oe=p(Oe);!Et.done;tt++,Et=X.next())Et=oe(Oe,G,tt,Et.value,he),Et!==null&&(o&&Et.alternate!==null&&Oe.delete(Et.key===null?tt:Et.key),V=w(Et,V,tt),xt===null?Pe=Et:xt.sibling=Et,xt=Et);return o&&Oe.forEach(function(VU){return c(G,VU)}),gt&&Cs(G,tt),Pe}function Ft(G,V,X,he){if(typeof X=="object"&&X!==null&&X.type===b&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:e:{for(var Pe=X.key;V!==null;){if(V.key===Pe){if(Pe=X.type,Pe===b){if(V.tag===7){f(G,V.sibling),he=y(V,X.props.children),he.return=G,G=he;break e}}else if(V.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===k&&Do(Pe)===V.type){f(G,V.sibling),he=y(V,X.props),Fu(he,X),he.return=G,G=he;break e}f(G,V);break}else c(G,V);V=V.sibling}X.type===b?(he=Eo(X.props.children,G.mode,he,X.key),he.return=G,G=he):(he=Xf(X.type,X.key,X.props,null,G.mode,he),Fu(he,X),he.return=G,G=he)}return R(G);case _:e:{for(Pe=X.key;V!==null;){if(V.key===Pe)if(V.tag===4&&V.stateNode.containerInfo===X.containerInfo&&V.stateNode.implementation===X.implementation){f(G,V.sibling),he=y(V,X.children||[]),he.return=G,G=he;break e}else{f(G,V);break}else c(G,V);V=V.sibling}he=xv(X,G.mode,he),he.return=G,G=he}return R(G);case k:return X=Do(X),Ft(G,V,X,he)}if(ge(X))return Ae(G,V,X,he);if(K(X)){if(Pe=K(X),typeof Pe!="function")throw Error(i(150));return X=Pe.call(X),He(G,V,X,he)}if(typeof X.then=="function")return Ft(G,V,rh(X),he);if(X.$$typeof===A)return Ft(G,V,eh(G,X),he);sh(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,V!==null&&V.tag===6?(f(G,V.sibling),he=y(V,X),he.return=G,G=he):(f(G,V),he=Sv(X,G.mode,he),he.return=G,G=he),R(G)):f(G,V)}return function(G,V,X,he){try{Lu=0;var Pe=Ft(G,V,X,he);return Yl=null,Pe}catch(Oe){if(Oe===Gl||Oe===nh)throw Oe;var xt=$i(29,Oe,null,G.mode);return xt.lanes=he,xt.return=G,xt}finally{}}}var ko=cE(!0),uE=cE(!1),ma=!1;function Pv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jv(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function va(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ya(o,c,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Rt&2)!==0){var y=p.pending;return y===null?c.next=c:(c.next=y.next,y.next=c),p.pending=c,c=Qf(o),Gx(o,null,f),c}return Kf(o,p,c,f),Qf(o)}function Uu(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var p=c.lanes;p&=o.pendingLanes,f|=p,c.lanes=f,Kt(o,f)}}function Lv(o,c){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var y=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var R={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?y=w=R:w=w.next=R,f=f.next}while(f!==null);w===null?y=w=c:w=w.next=c}else y=w=c;f={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var Fv=!1;function zu(){if(Fv){var o=Wl;if(o!==null)throw o}}function Hu(o,c,f,p){Fv=!1;var y=o.updateQueue;ma=!1;var w=y.firstBaseUpdate,R=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var H=I,Z=H.next;H.next=null,R===null?w=Z:R.next=Z,R=H;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,I=fe.lastBaseUpdate,I!==R&&(I===null?fe.firstBaseUpdate=Z:I.next=Z,fe.lastBaseUpdate=H))}if(w!==null){var pe=y.baseState;R=0,fe=Z=H=null,I=w;do{var ie=I.lane&-536870913,oe=ie!==I.lane;if(oe?(ct&ie)===ie:(p&ie)===ie){ie!==0&&ie===ql&&(Fv=!0),fe!==null&&(fe=fe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ae=o,He=I;ie=c;var Ft=f;switch(He.tag){case 1:if(Ae=He.payload,typeof Ae=="function"){pe=Ae.call(Ft,pe,ie);break e}pe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=He.payload,ie=typeof Ae=="function"?Ae.call(Ft,pe,ie):Ae,ie==null)break e;pe=g({},pe,ie);break e;case 2:ma=!0}}ie=I.callback,ie!==null&&(o.flags|=64,oe&&(o.flags|=8192),oe=y.callbacks,oe===null?y.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:I.tag,payload:I.payload,callback:I.callback,next:null},fe===null?(Z=fe=oe,H=pe):fe=fe.next=oe,R|=ie;if(I=I.next,I===null){if(I=y.shared.pending,I===null)break;oe=I,I=oe.next,oe.next=null,y.lastBaseUpdate=oe,y.shared.pending=null}}while(!0);fe===null&&(H=pe),y.baseState=H,y.firstBaseUpdate=Z,y.lastBaseUpdate=fe,w===null&&(y.shared.lanes=0),xa|=R,o.lanes=R,o.memoizedState=pe}}function dE(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function fE(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)dE(f[o],c)}var Kl=U(null),ah=U(0);function hE(o,c){o=js,ee(ah,o),ee(Kl,c),js=o|c.baseLanes}function Uv(){ee(ah,js),ee(Kl,Kl.current)}function zv(){js=ah.current,J(Kl),J(ah)}var qi=U(null),mr=null;function ba(o){var c=o.alternate;ee(yn,yn.current&1),ee(qi,o),mr===null&&(c===null||Kl.current!==null||c.memoizedState!==null)&&(mr=o)}function Hv(o){ee(yn,yn.current),ee(qi,o),mr===null&&(mr=o)}function gE(o){o.tag===22?(ee(yn,yn.current),ee(qi,o),mr===null&&(mr=o)):_a()}function _a(){ee(yn,yn.current),ee(qi,qi.current)}function Wi(o){J(qi),mr===o&&(mr=null),J(yn)}var yn=U(0);function oh(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Gy(f)||Yy(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Rs=0,Qe=null,jt=null,Tn=null,lh=!1,Ql=!1,Mo=!1,ch=0,Bu=0,Xl=null,NF=0;function gn(){throw Error(i(321))}function Bv(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Vi(o[f],c[f]))return!1;return!0}function Vv(o,c,f,p,y,w){return Rs=w,Qe=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,L.H=o===null||o.memoizedState===null?XE:ry,Mo=!1,w=f(p,y),Mo=!1,Ql&&(w=mE(c,f,p,y)),pE(o),w}function pE(o){L.H=qu;var c=jt!==null&&jt.next!==null;if(Rs=0,Tn=jt=Qe=null,lh=!1,Bu=0,Xl=null,c)throw Error(i(300));o===null||An||(o=o.dependencies,o!==null&&Jf(o)&&(An=!0))}function mE(o,c,f,p){Qe=o;var y=0;do{if(Ql&&(Xl=null),Bu=0,Ql=!1,25<=y)throw Error(i(301));if(y+=1,Tn=jt=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}L.H=ZE,w=c(f,p)}while(Ql);return w}function IF(){var o=L.H,c=o.useState()[0];return c=typeof c.then=="function"?Vu(c):c,o=o.useState()[0],(jt!==null?jt.memoizedState:null)!==o&&(Qe.flags|=1024),c}function $v(){var o=ch!==0;return ch=0,o}function qv(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function Wv(o){if(lh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}lh=!1}Rs=0,Tn=jt=Qe=null,Ql=!1,Bu=ch=0,Xl=null}function yi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Qe.memoizedState=Tn=o:Tn=Tn.next=o,Tn}function bn(){if(jt===null){var o=Qe.alternate;o=o!==null?o.memoizedState:null}else o=jt.next;var c=Tn===null?Qe.memoizedState:Tn.next;if(c!==null)Tn=c,jt=o;else{if(o===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));jt=o,o={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Tn===null?Qe.memoizedState=Tn=o:Tn=Tn.next=o}return Tn}function uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vu(o){var c=Bu;return Bu+=1,Xl===null&&(Xl=[]),o=aE(Xl,o,c),c=Qe,(Tn===null?c.memoizedState:Tn.next)===null&&(c=c.alternate,L.H=c===null||c.memoizedState===null?XE:ry),o}function dh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Vu(o);if(o.$$typeof===A)return ei(o)}throw Error(i(438,String(o)))}function Gv(o){var c=null,f=Qe.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var p=Qe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(y){return y.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=uh(),Qe.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),p=0;p<o;p++)f[p]=z;return c.index++,f}function Ds(o,c){return typeof c=="function"?c(o):c}function fh(o){var c=bn();return Yv(c,jt,o)}function Yv(o,c,f){var p=o.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=f;var y=o.baseQueue,w=p.pending;if(w!==null){if(y!==null){var R=y.next;y.next=w.next,w.next=R}c.baseQueue=y=w,p.pending=null}if(w=o.baseState,y===null)o.memoizedState=w;else{c=y.next;var I=R=null,H=null,Z=c,fe=!1;do{var pe=Z.lane&-536870913;if(pe!==Z.lane?(ct&pe)===pe:(Rs&pe)===pe){var ie=Z.revertLane;if(ie===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),pe===ql&&(fe=!0);else if((Rs&ie)===ie){Z=Z.next,ie===ql&&(fe=!0);continue}else pe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(I=H=pe,R=w):H=H.next=pe,Qe.lanes|=ie,xa|=ie;pe=Z.action,Mo&&f(w,pe),w=Z.hasEagerState?Z.eagerState:f(w,pe)}else ie={lane:pe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(I=H=ie,R=w):H=H.next=ie,Qe.lanes|=pe,xa|=pe;Z=Z.next}while(Z!==null&&Z!==c);if(H===null?R=w:H.next=I,!Vi(w,o.memoizedState)&&(An=!0,fe&&(f=Wl,f!==null)))throw f;o.memoizedState=w,o.baseState=R,o.baseQueue=H,p.lastRenderedState=w}return y===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Kv(o){var c=bn(),f=c.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=o;var p=f.dispatch,y=f.pending,w=c.memoizedState;if(y!==null){f.pending=null;var R=y=y.next;do w=o(w,R.action),R=R.next;while(R!==y);Vi(w,c.memoizedState)||(An=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),f.lastRenderedState=w}return[w,p]}function vE(o,c,f){var p=Qe,y=bn(),w=gt;if(w){if(f===void 0)throw Error(i(407));f=f()}else f=c();var R=!Vi((jt||y).memoizedState,f);if(R&&(y.memoizedState=f,An=!0),y=y.queue,Zv(_E.bind(null,p,y,o),[o]),y.getSnapshot!==c||R||Tn!==null&&Tn.memoizedState.tag&1){if(p.flags|=2048,Zl(9,{destroy:void 0},bE.bind(null,p,y,f,c),null),Bt===null)throw Error(i(349));w||(Rs&127)!==0||yE(p,c,f)}return f}function yE(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Qe.updateQueue,c===null?(c=uh(),Qe.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function bE(o,c,f,p){c.value=f,c.getSnapshot=p,wE(c)&&SE(o)}function _E(o,c,f){return f(function(){wE(c)&&SE(o)})}function wE(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Vi(o,f)}catch{return!0}}function SE(o){var c=xo(o,2);c!==null&&ki(c,o,2)}function Qv(o){var c=yi();if(typeof o=="function"){var f=o;if(o=f(),Mo){at(!0);try{f()}finally{at(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:o},c}function xE(o,c,f,p){return o.baseState=f,Yv(o,jt,typeof p=="function"?p:Ds)}function PF(o,c,f,p,y){if(ph(o))throw Error(i(485));if(o=c.action,o!==null){var w={payload:y,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){w.listeners.push(R)}};L.T!==null?f(!0):w.isTransition=!1,p(w),f=c.pending,f===null?(w.next=c.pending=w,EE(c,w)):(w.next=f.next,c.pending=f.next=w)}}function EE(o,c){var f=c.action,p=c.payload,y=o.state;if(c.isTransition){var w=L.T,R={};L.T=R;try{var I=f(y,p),H=L.S;H!==null&&H(R,I),CE(o,c,I)}catch(Z){Xv(o,c,Z)}finally{w!==null&&R.types!==null&&(w.types=R.types),L.T=w}}else try{w=f(y,p),CE(o,c,w)}catch(Z){Xv(o,c,Z)}}function CE(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){TE(o,c,p)},function(p){return Xv(o,c,p)}):TE(o,c,f)}function TE(o,c,f){c.status="fulfilled",c.value=f,AE(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,EE(o,f)))}function Xv(o,c,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=f,AE(c),c=c.next;while(c!==p)}o.action=null}function AE(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function RE(o,c){return c}function DE(o,c){if(gt){var f=Bt.formState;if(f!==null){e:{var p=Qe;if(gt){if(Qt){t:{for(var y=Qt,w=pr;y.nodeType!==8;){if(!w){y=null;break t}if(y=vr(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Qt=vr(y.nextSibling),p=y.data==="F!";break e}}ga(p)}p=!1}p&&(c=f[0])}}return f=yi(),f.memoizedState=f.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RE,lastRenderedState:c},f.queue=p,f=YE.bind(null,Qe,p),p.dispatch=f,p=Qv(!1),w=iy.bind(null,Qe,!1,p.queue),p=yi(),y={state:c,dispatch:null,action:o,pending:null},p.queue=y,f=PF.bind(null,Qe,y,w,f),y.dispatch=f,p.memoizedState=o,[c,f,!1]}function OE(o){var c=bn();return kE(c,jt,o)}function kE(o,c,f){if(c=Yv(o,c,RE)[0],o=fh(Ds)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Vu(c)}catch(R){throw R===Gl?nh:R}else p=c;c=bn();var y=c.queue,w=y.dispatch;return f!==c.memoizedState&&(Qe.flags|=2048,Zl(9,{destroy:void 0},jF.bind(null,y,f),null)),[p,w,o]}function jF(o,c){o.action=c}function ME(o){var c=bn(),f=jt;if(f!==null)return kE(c,f,o);bn(),c=c.memoizedState,f=bn();var p=f.queue.dispatch;return f.memoizedState=o,[c,p,!1]}function Zl(o,c,f,p){return o={tag:o,create:f,deps:p,inst:c,next:null},c=Qe.updateQueue,c===null&&(c=uh(),Qe.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,c.lastEffect=o),o}function NE(){return bn().memoizedState}function hh(o,c,f,p){var y=yi();Qe.flags|=o,y.memoizedState=Zl(1|c,{destroy:void 0},f,p===void 0?null:p)}function gh(o,c,f,p){var y=bn();p=p===void 0?null:p;var w=y.memoizedState.inst;jt!==null&&p!==null&&Bv(p,jt.memoizedState.deps)?y.memoizedState=Zl(c,w,f,p):(Qe.flags|=o,y.memoizedState=Zl(1|c,w,f,p))}function IE(o,c){hh(8390656,8,o,c)}function Zv(o,c){gh(2048,8,o,c)}function LF(o){Qe.flags|=4;var c=Qe.updateQueue;if(c===null)c=uh(),Qe.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function PE(o){var c=bn().memoizedState;return LF({ref:c,nextImpl:o}),function(){if((Rt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function jE(o,c){return gh(4,2,o,c)}function LE(o,c){return gh(4,4,o,c)}function FE(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function UE(o,c,f){f=f!=null?f.concat([o]):null,gh(4,4,FE.bind(null,c,o),f)}function Jv(){}function zE(o,c){var f=bn();c=c===void 0?null:c;var p=f.memoizedState;return c!==null&&Bv(c,p[1])?p[0]:(f.memoizedState=[o,c],o)}function HE(o,c){var f=bn();c=c===void 0?null:c;var p=f.memoizedState;if(c!==null&&Bv(c,p[1]))return p[0];if(p=o(),Mo){at(!0);try{o()}finally{at(!1)}}return f.memoizedState=[p,c],p}function ey(o,c,f){return f===void 0||(Rs&1073741824)!==0&&(ct&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=BC(),Qe.lanes|=o,xa|=o,f)}function BE(o,c,f,p){return Vi(f,c)?f:Kl.current!==null?(o=ey(o,f,p),Vi(o,c)||(An=!0),o):(Rs&42)===0||(Rs&1073741824)!==0&&(ct&261930)===0?(An=!0,o.memoizedState=f):(o=BC(),Qe.lanes|=o,xa|=o,c)}function VE(o,c,f,p,y){var w=q.p;q.p=w!==0&&8>w?w:8;var R=L.T,I={};L.T=I,iy(o,!1,c,f);try{var H=y(),Z=L.S;if(Z!==null&&Z(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var fe=MF(H,p);$u(o,c,fe,Ki(o))}else $u(o,c,p,Ki(o))}catch(pe){$u(o,c,{then:function(){},status:"rejected",reason:pe},Ki())}finally{q.p=w,R!==null&&I.types!==null&&(R.types=I.types),L.T=R}}function FF(){}function ty(o,c,f,p){if(o.tag!==5)throw Error(i(476));var y=$E(o).queue;VE(o,y,c,$,f===null?FF:function(){return qE(o),f(p)})}function $E(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:$},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function qE(o){var c=$E(o);c.next===null&&(c=o.alternate.memoizedState),$u(o,c.next.queue,{},Ki())}function ny(){return ei(od)}function WE(){return bn().memoizedState}function GE(){return bn().memoizedState}function UF(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=Ki();o=va(f);var p=ya(c,o,f);p!==null&&(ki(p,c,f),Uu(p,c,f)),c={cache:kv()},o.payload=c;return}c=c.return}}function zF(o,c,f){var p=Ki();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ph(o)?KE(c,f):(f=_v(o,c,f,p),f!==null&&(ki(f,o,p),QE(f,c,p)))}function YE(o,c,f){var p=Ki();$u(o,c,f,p)}function $u(o,c,f,p){var y={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(ph(o))KE(c,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var R=c.lastRenderedState,I=w(R,f);if(y.hasEagerState=!0,y.eagerState=I,Vi(I,R))return Kf(o,c,y,0),Bt===null&&Yf(),!1}catch{}finally{}if(f=_v(o,c,y,p),f!==null)return ki(f,o,p),QE(f,c,p),!0}return!1}function iy(o,c,f,p){if(p={lane:2,revertLane:Py(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ph(o)){if(c)throw Error(i(479))}else c=_v(o,f,p,2),c!==null&&ki(c,o,2)}function ph(o){var c=o.alternate;return o===Qe||c!==null&&c===Qe}function KE(o,c){Ql=lh=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function QE(o,c,f){if((f&4194048)!==0){var p=c.lanes;p&=o.pendingLanes,f|=p,c.lanes=f,Kt(o,f)}}var qu={readContext:ei,use:dh,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};qu.useEffectEvent=gn;var XE={readContext:ei,use:dh,useCallback:function(o,c){return yi().memoizedState=[o,c===void 0?null:c],o},useContext:ei,useEffect:IE,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,hh(4194308,4,FE.bind(null,c,o),f)},useLayoutEffect:function(o,c){return hh(4194308,4,o,c)},useInsertionEffect:function(o,c){hh(4,2,o,c)},useMemo:function(o,c){var f=yi();c=c===void 0?null:c;var p=o();if(Mo){at(!0);try{o()}finally{at(!1)}}return f.memoizedState=[p,c],p},useReducer:function(o,c,f){var p=yi();if(f!==void 0){var y=f(c);if(Mo){at(!0);try{f(c)}finally{at(!1)}}}else y=c;return p.memoizedState=p.baseState=y,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:y},p.queue=o,o=o.dispatch=zF.bind(null,Qe,o),[p.memoizedState,o]},useRef:function(o){var c=yi();return o={current:o},c.memoizedState=o},useState:function(o){o=Qv(o);var c=o.queue,f=YE.bind(null,Qe,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:Jv,useDeferredValue:function(o,c){var f=yi();return ey(f,o,c)},useTransition:function(){var o=Qv(!1);return o=VE.bind(null,Qe,o.queue,!0,!1),yi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var p=Qe,y=yi();if(gt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=c(),Bt===null)throw Error(i(349));(ct&127)!==0||yE(p,c,f)}y.memoizedState=f;var w={value:f,getSnapshot:c};return y.queue=w,IE(_E.bind(null,p,w,o),[o]),p.flags|=2048,Zl(9,{destroy:void 0},bE.bind(null,p,w,f,c),null),f},useId:function(){var o=yi(),c=Bt.identifierPrefix;if(gt){var f=Zr,p=Xr;f=(p&~(1<<32-qe(p)-1)).toString(32)+f,c="_"+c+"R_"+f,f=ch++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=NF++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:ny,useFormState:DE,useActionState:DE,useOptimistic:function(o){var c=yi();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=iy.bind(null,Qe,!0,f),f.dispatch=c,[o,c]},useMemoCache:Gv,useCacheRefresh:function(){return yi().memoizedState=UF.bind(null,Qe)},useEffectEvent:function(o){var c=yi(),f={impl:o};return c.memoizedState=f,function(){if((Rt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},ry={readContext:ei,use:dh,useCallback:zE,useContext:ei,useEffect:Zv,useImperativeHandle:UE,useInsertionEffect:jE,useLayoutEffect:LE,useMemo:HE,useReducer:fh,useRef:NE,useState:function(){return fh(Ds)},useDebugValue:Jv,useDeferredValue:function(o,c){var f=bn();return BE(f,jt.memoizedState,o,c)},useTransition:function(){var o=fh(Ds)[0],c=bn().memoizedState;return[typeof o=="boolean"?o:Vu(o),c]},useSyncExternalStore:vE,useId:WE,useHostTransitionStatus:ny,useFormState:OE,useActionState:OE,useOptimistic:function(o,c){var f=bn();return xE(f,jt,o,c)},useMemoCache:Gv,useCacheRefresh:GE};ry.useEffectEvent=PE;var ZE={readContext:ei,use:dh,useCallback:zE,useContext:ei,useEffect:Zv,useImperativeHandle:UE,useInsertionEffect:jE,useLayoutEffect:LE,useMemo:HE,useReducer:Kv,useRef:NE,useState:function(){return Kv(Ds)},useDebugValue:Jv,useDeferredValue:function(o,c){var f=bn();return jt===null?ey(f,o,c):BE(f,jt.memoizedState,o,c)},useTransition:function(){var o=Kv(Ds)[0],c=bn().memoizedState;return[typeof o=="boolean"?o:Vu(o),c]},useSyncExternalStore:vE,useId:WE,useHostTransitionStatus:ny,useFormState:ME,useActionState:ME,useOptimistic:function(o,c){var f=bn();return jt!==null?xE(f,jt,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Gv,useCacheRefresh:GE};ZE.useEffectEvent=PE;function sy(o,c,f,p){c=o.memoizedState,f=f(p,c),f=f==null?c:g({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var ay={enqueueSetState:function(o,c,f){o=o._reactInternals;var p=Ki(),y=va(p);y.payload=c,f!=null&&(y.callback=f),c=ya(o,y,p),c!==null&&(ki(c,o,p),Uu(c,o,p))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var p=Ki(),y=va(p);y.tag=1,y.payload=c,f!=null&&(y.callback=f),c=ya(o,y,p),c!==null&&(ki(c,o,p),Uu(c,o,p))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Ki(),p=va(f);p.tag=2,c!=null&&(p.callback=c),c=ya(o,p,f),c!==null&&(ki(c,o,f),Uu(c,o,f))}};function JE(o,c,f,p,y,w,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,R):c.prototype&&c.prototype.isPureReactComponent?!ku(f,p)||!ku(y,w):!0}function eC(o,c,f,p){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,p),c.state!==o&&ay.enqueueReplaceState(c,c.state,null)}function No(o,c){var f=c;if("ref"in c){f={};for(var p in c)p!=="ref"&&(f[p]=c[p])}if(o=o.defaultProps){f===c&&(f=g({},f));for(var y in o)f[y]===void 0&&(f[y]=o[y])}return f}function tC(o){Gf(o)}function nC(o){console.error(o)}function iC(o){Gf(o)}function mh(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function rC(o,c,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function oy(o,c,f){return f=va(f),f.tag=3,f.payload={element:null},f.callback=function(){mh(o,c)},f}function sC(o){return o=va(o),o.tag=3,o}function aC(o,c,f,p){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var w=p.value;o.payload=function(){return y(w)},o.callback=function(){rC(c,f,p)}}var R=f.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){rC(c,f,p),typeof y!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function HF(o,c,f,p,y){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=f.alternate,c!==null&&$l(c,f,y,!0),f=qi.current,f!==null){switch(f.tag){case 31:case 13:return mr===null?Rh():f.alternate===null&&pn===0&&(pn=3),f.flags&=-257,f.flags|=65536,f.lanes=y,p===ih?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([p]):c.add(p),My(o,p,y)),!1;case 22:return f.flags|=65536,p===ih?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([p]):f.add(p)),My(o,p,y)),!1}throw Error(i(435,f.tag))}return My(o,p,y),Rh(),!1}if(gt)return c=qi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=y,p!==Tv&&(o=Error(i(422),{cause:p}),Iu(fr(o,f)))):(p!==Tv&&(c=Error(i(423),{cause:p}),Iu(fr(c,f))),o=o.current.alternate,o.flags|=65536,y&=-y,o.lanes|=y,p=fr(p,f),y=oy(o.stateNode,p,y),Lv(o,y),pn!==4&&(pn=2)),!1;var w=Error(i(520),{cause:p});if(w=fr(w,f),Ju===null?Ju=[w]:Ju.push(w),pn!==4&&(pn=2),c===null)return!0;p=fr(p,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=y&-y,f.lanes|=o,o=oy(f.stateNode,p,o),Lv(f,o),!1;case 1:if(c=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ea===null||!Ea.has(w))))return f.flags|=65536,y&=-y,f.lanes|=y,y=sC(y),aC(y,o,f,p),Lv(f,y),!1}f=f.return}while(f!==null);return!1}var ly=Error(i(461)),An=!1;function ti(o,c,f,p){c.child=o===null?uE(c,null,f,p):ko(c,o.child,f,p)}function oC(o,c,f,p,y){f=f.render;var w=c.ref;if("ref"in p){var R={};for(var I in p)I!=="ref"&&(R[I]=p[I])}else R=p;return Ao(c),p=Vv(o,c,f,R,w,y),I=$v(),o!==null&&!An?(qv(o,c,y),Os(o,c,y)):(gt&&I&&Ev(c),c.flags|=1,ti(o,c,p,y),c.child)}function lC(o,c,f,p,y){if(o===null){var w=f.type;return typeof w=="function"&&!wv(w)&&w.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=w,cC(o,c,w,p,y)):(o=Xf(f.type,null,p,c,c.mode,y),o.ref=c.ref,o.return=c,c.child=o)}if(w=o.child,!my(o,y)){var R=w.memoizedProps;if(f=f.compare,f=f!==null?f:ku,f(R,p)&&o.ref===c.ref)return Os(o,c,y)}return c.flags|=1,o=Es(w,p),o.ref=c.ref,o.return=c,c.child=o}function cC(o,c,f,p,y){if(o!==null){var w=o.memoizedProps;if(ku(w,p)&&o.ref===c.ref)if(An=!1,c.pendingProps=p=w,my(o,y))(o.flags&131072)!==0&&(An=!0);else return c.lanes=o.lanes,Os(o,c,y)}return cy(o,c,f,p,y)}function uC(o,c,f,p){var y=p.children,w=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(w=w!==null?w.baseLanes|f:f,o!==null){for(p=c.child=o.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;p=y&~w}else p=0,c.child=null;return dC(o,c,w,f,p)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&th(c,w!==null?w.cachePool:null),w!==null?hE(c,w):Uv(),gE(c);else return p=c.lanes=536870912,dC(o,c,w!==null?w.baseLanes|f:f,f,p)}else w!==null?(th(c,w.cachePool),hE(c,w),_a(),c.memoizedState=null):(o!==null&&th(c,null),Uv(),_a());return ti(o,c,y,f),c.child}function Wu(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function dC(o,c,f,p,y){var w=Nv();return w=w===null?null:{parent:Cn._currentValue,pool:w},c.memoizedState={baseLanes:f,cachePool:w},o!==null&&th(c,null),Uv(),gE(c),o!==null&&$l(o,c,p,!0),c.childLanes=y,null}function vh(o,c){return c=bh({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function fC(o,c,f){return ko(c,o.child,null,f),o=vh(c,c.pendingProps),o.flags|=2,Wi(c),c.memoizedState=null,o}function BF(o,c,f){var p=c.pendingProps,y=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(gt){if(p.mode==="hidden")return o=vh(c,p),c.lanes=536870912,Wu(null,o);if(Hv(c),(o=Qt)?(o=ET(o,pr),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:fa!==null?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},f=Kx(o),f.return=c,c.child=f,Jn=c,Qt=null)):o=null,o===null)throw ga(c);return c.lanes=536870912,null}return vh(c,p)}var w=o.memoizedState;if(w!==null){var R=w.dehydrated;if(Hv(c),y)if(c.flags&256)c.flags&=-257,c=fC(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(i(558));else if(An||$l(o,c,f,!1),y=(f&o.childLanes)!==0,An||y){if(p=Bt,p!==null&&(R=rn(p,f),R!==0&&R!==w.retryLane))throw w.retryLane=R,xo(o,R),ki(p,o,R),ly;Rh(),c=fC(o,c,f)}else o=w.treeContext,Qt=vr(R.nextSibling),Jn=c,gt=!0,ha=null,pr=!1,o!==null&&Zx(c,o),c=vh(c,p),c.flags|=4096;return c}return o=Es(o.child,{mode:p.mode,children:p.children}),o.ref=c.ref,c.child=o,o.return=c,o}function yh(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function cy(o,c,f,p,y){return Ao(c),f=Vv(o,c,f,p,void 0,y),p=$v(),o!==null&&!An?(qv(o,c,y),Os(o,c,y)):(gt&&p&&Ev(c),c.flags|=1,ti(o,c,f,y),c.child)}function hC(o,c,f,p,y,w){return Ao(c),c.updateQueue=null,f=mE(c,p,f,y),pE(o),p=$v(),o!==null&&!An?(qv(o,c,w),Os(o,c,w)):(gt&&p&&Ev(c),c.flags|=1,ti(o,c,f,w),c.child)}function gC(o,c,f,p,y){if(Ao(c),c.stateNode===null){var w=zl,R=f.contextType;typeof R=="object"&&R!==null&&(w=ei(R)),w=new f(p,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ay,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=p,w.state=c.memoizedState,w.refs={},Pv(c),R=f.contextType,w.context=typeof R=="object"&&R!==null?ei(R):zl,w.state=c.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(sy(c,f,R,p),w.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(R=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),R!==w.state&&ay.enqueueReplaceState(w,w.state,null),Hu(c,p,w,y),zu(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(o===null){w=c.stateNode;var I=c.memoizedProps,H=No(f,I);w.props=H;var Z=w.context,fe=f.contextType;R=zl,typeof fe=="object"&&fe!==null&&(R=ei(fe));var pe=f.getDerivedStateFromProps;fe=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",I=c.pendingProps!==I,fe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I||Z!==R)&&eC(c,w,p,R),ma=!1;var ie=c.memoizedState;w.state=ie,Hu(c,p,w,y),zu(),Z=c.memoizedState,I||ie!==Z||ma?(typeof pe=="function"&&(sy(c,f,pe,p),Z=c.memoizedState),(H=ma||JE(c,f,H,p,ie,Z,R))?(fe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=Z),w.props=p,w.state=Z,w.context=R,p=H):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{w=c.stateNode,jv(o,c),R=c.memoizedProps,fe=No(f,R),w.props=fe,pe=c.pendingProps,ie=w.context,Z=f.contextType,H=zl,typeof Z=="object"&&Z!==null&&(H=ei(Z)),I=f.getDerivedStateFromProps,(Z=typeof I=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==pe||ie!==H)&&eC(c,w,p,H),ma=!1,ie=c.memoizedState,w.state=ie,Hu(c,p,w,y),zu();var oe=c.memoizedState;R!==pe||ie!==oe||ma||o!==null&&o.dependencies!==null&&Jf(o.dependencies)?(typeof I=="function"&&(sy(c,f,I,p),oe=c.memoizedState),(fe=ma||JE(c,f,fe,p,ie,oe,H)||o!==null&&o.dependencies!==null&&Jf(o.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,oe,H),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,oe,H)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===o.memoizedProps&&ie===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&ie===o.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=oe),w.props=p,w.state=oe,w.context=H,p=fe):(typeof w.componentDidUpdate!="function"||R===o.memoizedProps&&ie===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&ie===o.memoizedState||(c.flags|=1024),p=!1)}return w=p,yh(o,c),p=(c.flags&128)!==0,w||p?(w=c.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,o!==null&&p?(c.child=ko(c,o.child,null,y),c.child=ko(c,null,f,y)):ti(o,c,f,y),c.memoizedState=w.state,o=c.child):o=Os(o,c,y),o}function pC(o,c,f,p){return Co(),c.flags|=256,ti(o,c,f,p),c.child}var uy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dy(o){return{baseLanes:o,cachePool:rE()}}function fy(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Yi),o}function mC(o,c,f){var p=c.pendingProps,y=!1,w=(c.flags&128)!==0,R;if((R=w)||(R=o!==null&&o.memoizedState===null?!1:(yn.current&2)!==0),R&&(y=!0,c.flags&=-129),R=(c.flags&32)!==0,c.flags&=-33,o===null){if(gt){if(y?ba(c):_a(),(o=Qt)?(o=ET(o,pr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:fa!==null?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},f=Kx(o),f.return=c,c.child=f,Jn=c,Qt=null)):o=null,o===null)throw ga(c);return Yy(o)?c.lanes=32:c.lanes=536870912,null}var I=p.children;return p=p.fallback,y?(_a(),y=c.mode,I=bh({mode:"hidden",children:I},y),p=Eo(p,y,f,null),I.return=c,p.return=c,I.sibling=p,c.child=I,p=c.child,p.memoizedState=dy(f),p.childLanes=fy(o,R,f),c.memoizedState=uy,Wu(null,p)):(ba(c),hy(c,I))}var H=o.memoizedState;if(H!==null&&(I=H.dehydrated,I!==null)){if(w)c.flags&256?(ba(c),c.flags&=-257,c=gy(o,c,f)):c.memoizedState!==null?(_a(),c.child=o.child,c.flags|=128,c=null):(_a(),I=p.fallback,y=c.mode,p=bh({mode:"visible",children:p.children},y),I=Eo(I,y,f,null),I.flags|=2,p.return=c,I.return=c,p.sibling=I,c.child=p,ko(c,o.child,null,f),p=c.child,p.memoizedState=dy(f),p.childLanes=fy(o,R,f),c.memoizedState=uy,c=Wu(null,p));else if(ba(c),Yy(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var Z=R.dgst;R=Z,p=Error(i(419)),p.stack="",p.digest=R,Iu({value:p,source:null,stack:null}),c=gy(o,c,f)}else if(An||$l(o,c,f,!1),R=(f&o.childLanes)!==0,An||R){if(R=Bt,R!==null&&(p=rn(R,f),p!==0&&p!==H.retryLane))throw H.retryLane=p,xo(o,p),ki(R,o,p),ly;Gy(I)||Rh(),c=gy(o,c,f)}else Gy(I)?(c.flags|=192,c.child=o.child,c=null):(o=H.treeContext,Qt=vr(I.nextSibling),Jn=c,gt=!0,ha=null,pr=!1,o!==null&&Zx(c,o),c=hy(c,p.children),c.flags|=4096);return c}return y?(_a(),I=p.fallback,y=c.mode,H=o.child,Z=H.sibling,p=Es(H,{mode:"hidden",children:p.children}),p.subtreeFlags=H.subtreeFlags&65011712,Z!==null?I=Es(Z,I):(I=Eo(I,y,f,null),I.flags|=2),I.return=c,p.return=c,p.sibling=I,c.child=p,Wu(null,p),p=c.child,I=o.child.memoizedState,I===null?I=dy(f):(y=I.cachePool,y!==null?(H=Cn._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=rE(),I={baseLanes:I.baseLanes|f,cachePool:y}),p.memoizedState=I,p.childLanes=fy(o,R,f),c.memoizedState=uy,Wu(o.child,p)):(ba(c),f=o.child,o=f.sibling,f=Es(f,{mode:"visible",children:p.children}),f.return=c,f.sibling=null,o!==null&&(R=c.deletions,R===null?(c.deletions=[o],c.flags|=16):R.push(o)),c.child=f,c.memoizedState=null,f)}function hy(o,c){return c=bh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function bh(o,c){return o=$i(22,o,null,c),o.lanes=0,o}function gy(o,c,f){return ko(c,o.child,null,f),o=hy(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function vC(o,c,f){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c),Dv(o.return,c,f)}function py(o,c,f,p,y,w){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:y,treeForkCount:w}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=p,R.tail=f,R.tailMode=y,R.treeForkCount=w)}function yC(o,c,f){var p=c.pendingProps,y=p.revealOrder,w=p.tail;p=p.children;var R=yn.current,I=(R&2)!==0;if(I?(R=R&1|2,c.flags|=128):R&=1,ee(yn,R),ti(o,c,p,f),p=gt?Nu:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vC(o,f,c);else if(o.tag===19)vC(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(y){case"forwards":for(f=c.child,y=null;f!==null;)o=f.alternate,o!==null&&oh(o)===null&&(y=f),f=f.sibling;f=y,f===null?(y=c.child,c.child=null):(y=f.sibling,f.sibling=null),py(c,!1,y,f,w,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,y=c.child,c.child=null;y!==null;){if(o=y.alternate,o!==null&&oh(o)===null){c.child=y;break}o=y.sibling,y.sibling=f,f=y,y=o}py(c,!0,f,null,w,p);break;case"together":py(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function Os(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),xa|=c.lanes,(f&c.childLanes)===0)if(o!==null){if($l(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,f=Es(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Es(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function my(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Jf(o)))}function VF(o,c,f){switch(c.tag){case 3:me(c,c.stateNode.containerInfo),pa(c,Cn,o.memoizedState.cache),Co();break;case 27:case 5:Ce(c);break;case 4:me(c,c.stateNode.containerInfo);break;case 10:pa(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Hv(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(ba(c),c.flags|=128,null):(f&c.child.childLanes)!==0?mC(o,c,f):(ba(c),o=Os(o,c,f),o!==null?o.sibling:null);ba(c);break;case 19:var y=(o.flags&128)!==0;if(p=(f&c.childLanes)!==0,p||($l(o,c,f,!1),p=(f&c.childLanes)!==0),y){if(p)return yC(o,c,f);c.flags|=128}if(y=c.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ee(yn,yn.current),p)break;return null;case 22:return c.lanes=0,uC(o,c,f,c.pendingProps);case 24:pa(c,Cn,o.memoizedState.cache)}return Os(o,c,f)}function bC(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)An=!0;else{if(!my(o,f)&&(c.flags&128)===0)return An=!1,VF(o,c,f);An=(o.flags&131072)!==0}else An=!1,gt&&(c.flags&1048576)!==0&&Xx(c,Nu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(o=Do(c.elementType),c.type=o,typeof o=="function")wv(o)?(p=No(o,p),c.tag=1,c=gC(null,c,o,p,f)):(c.tag=0,c=cy(null,c,o,p,f));else{if(o!=null){var y=o.$$typeof;if(y===O){c.tag=11,c=oC(null,c,o,p,f);break e}else if(y===M){c.tag=14,c=lC(null,c,o,p,f);break e}}throw c=ue(o)||o,Error(i(306,c,""))}}return c;case 0:return cy(o,c,c.type,c.pendingProps,f);case 1:return p=c.type,y=No(p,c.pendingProps),gC(o,c,p,y,f);case 3:e:{if(me(c,c.stateNode.containerInfo),o===null)throw Error(i(387));p=c.pendingProps;var w=c.memoizedState;y=w.element,jv(o,c),Hu(c,p,null,f);var R=c.memoizedState;if(p=R.cache,pa(c,Cn,p),p!==w.cache&&Ov(c,[Cn],f,!0),zu(),p=R.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:R.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=pC(o,c,p,f);break e}else if(p!==y){y=fr(Error(i(424)),c),Iu(y),c=pC(o,c,p,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Qt=vr(o.firstChild),Jn=c,gt=!0,ha=null,pr=!0,f=uE(c,null,p,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Co(),p===y){c=Os(o,c,f);break e}ti(o,c,p,f)}c=c.child}return c;case 26:return yh(o,c),o===null?(f=OT(c.type,null,c.pendingProps,null))?c.memoizedState=f:gt||(f=c.type,o=c.pendingProps,p=Ph(we.current).createElement(f),p[Zn]=c,p[Ci]=o,ni(p,f,o),Vn(p),c.stateNode=p):c.memoizedState=OT(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ce(c),o===null&&gt&&(p=c.stateNode=AT(c.type,c.pendingProps,we.current),Jn=c,pr=!0,y=Qt,Ra(c.type)?(Ky=y,Qt=vr(p.firstChild)):Qt=y),ti(o,c,c.pendingProps.children,f),yh(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&gt&&((y=p=Qt)&&(p=bU(p,c.type,c.pendingProps,pr),p!==null?(c.stateNode=p,Jn=c,Qt=vr(p.firstChild),pr=!1,y=!0):y=!1),y||ga(c)),Ce(c),y=c.type,w=c.pendingProps,R=o!==null?o.memoizedProps:null,p=w.children,$y(y,w)?p=null:R!==null&&$y(y,R)&&(c.flags|=32),c.memoizedState!==null&&(y=Vv(o,c,IF,null,null,f),od._currentValue=y),yh(o,c),ti(o,c,p,f),c.child;case 6:return o===null&&gt&&((o=f=Qt)&&(f=_U(f,c.pendingProps,pr),f!==null?(c.stateNode=f,Jn=c,Qt=null,o=!0):o=!1),o||ga(c)),null;case 13:return mC(o,c,f);case 4:return me(c,c.stateNode.containerInfo),p=c.pendingProps,o===null?c.child=ko(c,null,p,f):ti(o,c,p,f),c.child;case 11:return oC(o,c,c.type,c.pendingProps,f);case 7:return ti(o,c,c.pendingProps,f),c.child;case 8:return ti(o,c,c.pendingProps.children,f),c.child;case 12:return ti(o,c,c.pendingProps.children,f),c.child;case 10:return p=c.pendingProps,pa(c,c.type,p.value),ti(o,c,p.children,f),c.child;case 9:return y=c.type._context,p=c.pendingProps.children,Ao(c),y=ei(y),p=p(y),c.flags|=1,ti(o,c,p,f),c.child;case 14:return lC(o,c,c.type,c.pendingProps,f);case 15:return cC(o,c,c.type,c.pendingProps,f);case 19:return yC(o,c,f);case 31:return BF(o,c,f);case 22:return uC(o,c,f,c.pendingProps);case 24:return Ao(c),p=ei(Cn),o===null?(y=Nv(),y===null&&(y=Bt,w=kv(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=f),y=w),c.memoizedState={parent:p,cache:y},Pv(c),pa(c,Cn,y)):((o.lanes&f)!==0&&(jv(o,c),Hu(c,null,null,f),zu()),y=o.memoizedState,w=c.memoizedState,y.parent!==p?(y={parent:p,cache:p},c.memoizedState=y,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=y),pa(c,Cn,p)):(p=w.cache,pa(c,Cn,p),p!==y.cache&&Ov(c,[Cn],f,!0))),ti(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function ks(o){o.flags|=4}function vy(o,c,f,p,y){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(y&335544128)===y)if(o.stateNode.complete)o.flags|=8192;else if(WC())o.flags|=8192;else throw Oo=ih,Iv}else o.flags&=-16777217}function _C(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!PT(c))if(WC())o.flags|=8192;else throw Oo=ih,Iv}function _h(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?yt():536870912,o.lanes|=c,nc|=c)}function Gu(o,c){if(!gt)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Xt(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(c)for(var y=o.child;y!==null;)f|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)f|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=f,c}function $F(o,c,f){var p=c.pendingProps;switch(Cv(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return Xt(c),null;case 3:return f=c.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),As(Cn),Te(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Vl(c)?ks(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Av())),Xt(c),null;case 26:var y=c.type,w=c.memoizedState;return o===null?(ks(c),w!==null?(Xt(c),_C(c,w)):(Xt(c),vy(c,y,null,p,f))):w?w!==o.memoizedState?(ks(c),Xt(c),_C(c,w)):(Xt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==p&&ks(c),Xt(c),vy(c,y,o,p,f)),null;case 27:if(je(c),f=we.current,y=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&ks(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return Xt(c),null}o=le.current,Vl(c)?Jx(c):(o=AT(y,p,f),c.stateNode=o,ks(c))}return Xt(c),null;case 5:if(je(c),y=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&ks(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return Xt(c),null}if(w=le.current,Vl(c))Jx(c);else{var R=Ph(we.current);switch(w){case 1:w=R.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=R.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=R.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?R.createElement("select",{is:p.is}):R.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?R.createElement(y,{is:p.is}):R.createElement(y)}}w[Zn]=c,w[Ci]=p;e:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)w.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break e;for(;R.sibling===null;){if(R.return===null||R.return===c)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=w;e:switch(ni(w,y,p),y){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ks(c)}}return Xt(c),vy(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==p&&ks(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(i(166));if(o=we.current,Vl(c)){if(o=c.stateNode,f=c.memoizedProps,p=null,y=Jn,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}o[Zn]=c,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||mT(o.nodeValue,f)),o||ga(c,!0)}else o=Ph(o).createTextNode(p),o[Zn]=c,c.stateNode=o}return Xt(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(p=Vl(c),f!==null){if(o===null){if(!p)throw Error(i(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[Zn]=c}else Co(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),o=!1}else f=Av(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Wi(c),c):(Wi(c),null);if((c.flags&128)!==0)throw Error(i(558))}return Xt(c),null;case 13:if(p=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(y=Vl(c),p!==null&&p.dehydrated!==null){if(o===null){if(!y)throw Error(i(318));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Zn]=c}else Co(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),y=!1}else y=Av(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=y),y=!0;if(!y)return c.flags&256?(Wi(c),c):(Wi(c),null)}return Wi(c),(c.flags&128)!==0?(c.lanes=f,c):(f=p!==null,o=o!==null&&o.memoizedState!==null,f&&(p=c.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==y&&(p.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),_h(c,c.updateQueue),Xt(c),null);case 4:return Te(),o===null&&Uy(c.stateNode.containerInfo),Xt(c),null;case 10:return As(c.type),Xt(c),null;case 19:if(J(yn),p=c.memoizedState,p===null)return Xt(c),null;if(y=(c.flags&128)!==0,w=p.rendering,w===null)if(y)Gu(p,!1);else{if(pn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(w=oh(o),w!==null){for(c.flags|=128,Gu(p,!1),o=w.updateQueue,c.updateQueue=o,_h(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)Yx(f,o),f=f.sibling;return ee(yn,yn.current&1|2),gt&&Cs(c,p.treeForkCount),c.child}o=o.sibling}p.tail!==null&&te()>Ch&&(c.flags|=128,y=!0,Gu(p,!1),c.lanes=4194304)}else{if(!y)if(o=oh(w),o!==null){if(c.flags|=128,y=!0,o=o.updateQueue,c.updateQueue=o,_h(c,o),Gu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!gt)return Xt(c),null}else 2*te()-p.renderingStartTime>Ch&&f!==536870912&&(c.flags|=128,y=!0,Gu(p,!1),c.lanes=4194304);p.isBackwards?(w.sibling=c.child,c.child=w):(o=p.last,o!==null?o.sibling=w:c.child=w,p.last=w)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=te(),o.sibling=null,f=yn.current,ee(yn,y?f&1|2:f&1),gt&&Cs(c,p.treeForkCount),o):(Xt(c),null);case 22:case 23:return Wi(c),zv(),p=c.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(f&536870912)!==0&&(c.flags&128)===0&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),f=c.updateQueue,f!==null&&_h(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048),o!==null&&J(Ro),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),As(Cn),Xt(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function qF(o,c){switch(Cv(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return As(Cn),Te(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return je(c),null;case 31:if(c.memoizedState!==null){if(Wi(c),c.alternate===null)throw Error(i(340));Co()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Wi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Co()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return J(yn),null;case 4:return Te(),null;case 10:return As(c.type),null;case 22:case 23:return Wi(c),zv(),o!==null&&J(Ro),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return As(Cn),null;case 25:return null;default:return null}}function wC(o,c){switch(Cv(c),c.tag){case 3:As(Cn),Te();break;case 26:case 27:case 5:je(c);break;case 4:Te();break;case 31:c.memoizedState!==null&&Wi(c);break;case 13:Wi(c);break;case 19:J(yn);break;case 10:As(c.type);break;case 22:case 23:Wi(c),zv(),o!==null&&J(Ro);break;case 24:As(Cn)}}function Yu(o,c){try{var f=c.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&o)===o){p=void 0;var w=f.create,R=f.inst;p=w(),R.destroy=p}f=f.next}while(f!==y)}}catch(I){kt(c,c.return,I)}}function wa(o,c,f){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var w=y.next;p=w;do{if((p.tag&o)===o){var R=p.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,y=c;var H=f,Z=I;try{Z()}catch(fe){kt(y,H,fe)}}}p=p.next}while(p!==w)}}catch(fe){kt(c,c.return,fe)}}function SC(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{fE(c,f)}catch(p){kt(o,o.return,p)}}}function xC(o,c,f){f.props=No(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){kt(o,c,p)}}function Ku(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(y){kt(o,c,y)}}function Jr(o,c){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(y){kt(o,c,y)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){kt(o,c,y)}else f.current=null}function EC(o){var c=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(y){kt(o,o.return,y)}}function yy(o,c,f){try{var p=o.stateNode;hU(p,o.type,f,c),p[Ci]=c}catch(y){kt(o,o.return,y)}}function CC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ra(o.type)||o.tag===4}function by(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||CC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ra(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function _y(o,c,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Ss));else if(p!==4&&(p===27&&Ra(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(_y(o,c,f),o=o.sibling;o!==null;)_y(o,c,f),o=o.sibling}function wh(o,c,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(p!==4&&(p===27&&Ra(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(wh(o,c,f),o=o.sibling;o!==null;)wh(o,c,f),o=o.sibling}function TC(o){var c=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,y=c.attributes;y.length;)c.removeAttributeNode(y[0]);ni(c,p,f),c[Zn]=o,c[Ci]=f}catch(w){kt(o,o.return,w)}}var Ms=!1,Rn=!1,wy=!1,AC=typeof WeakSet=="function"?WeakSet:Set,$n=null;function WF(o,c){if(o=o.containerInfo,By=Bh,o=Ux(o),gv(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var R=0,I=-1,H=-1,Z=0,fe=0,pe=o,ie=null;t:for(;;){for(var oe;pe!==f||y!==0&&pe.nodeType!==3||(I=R+y),pe!==w||p!==0&&pe.nodeType!==3||(H=R+p),pe.nodeType===3&&(R+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)ie=pe,pe=oe;for(;;){if(pe===o)break t;if(ie===f&&++Z===y&&(I=R),ie===w&&++fe===p&&(H=R),(oe=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=oe}f=I===-1||H===-1?null:{start:I,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(Vy={focusedElem:o,selectionRange:f},Bh=!1,$n=c;$n!==null;)if(c=$n,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,$n=o;else for(;$n!==null;){switch(c=$n,w=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)y=o[f],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,f=c,y=w.memoizedProps,w=w.memoizedState,p=f.stateNode;try{var Ae=No(f.type,y);o=p.getSnapshotBeforeUpdate(Ae,w),p.__reactInternalSnapshotBeforeUpdate=o}catch(He){kt(f,f.return,He)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)Wy(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Wy(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,$n=o;break}$n=c.return}}function RC(o,c,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Is(o,f),p&4&&Yu(5,f);break;case 1:if(Is(o,f),p&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(R){kt(f,f.return,R)}else{var y=No(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(y,c,o.__reactInternalSnapshotBeforeUpdate)}catch(R){kt(f,f.return,R)}}p&64&&SC(f),p&512&&Ku(f,f.return);break;case 3:if(Is(o,f),p&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{fE(o,c)}catch(R){kt(f,f.return,R)}}break;case 27:c===null&&p&4&&TC(f);case 26:case 5:Is(o,f),c===null&&p&4&&EC(f),p&512&&Ku(f,f.return);break;case 12:Is(o,f);break;case 31:Is(o,f),p&4&&kC(o,f);break;case 13:Is(o,f),p&4&&MC(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=tU.bind(null,f),wU(o,f))));break;case 22:if(p=f.memoizedState!==null||Ms,!p){c=c!==null&&c.memoizedState!==null||Rn,y=Ms;var w=Rn;Ms=p,(Rn=c)&&!w?Ps(o,f,(f.subtreeFlags&8772)!==0):Is(o,f),Ms=y,Rn=w}break;case 30:break;default:Is(o,f)}}function DC(o){var c=o.alternate;c!==null&&(o.alternate=null,DC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Xm(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var sn=null,Ai=!1;function Ns(o,c,f){for(f=f.child;f!==null;)OC(o,c,f),f=f.sibling}function OC(o,c,f){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(st,f)}catch{}switch(f.tag){case 26:Rn||Jr(f,c),Ns(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Rn||Jr(f,c);var p=sn,y=Ai;Ra(f.type)&&(sn=f.stateNode,Ai=!1),Ns(o,c,f),rd(f.stateNode),sn=p,Ai=y;break;case 5:Rn||Jr(f,c);case 6:if(p=sn,y=Ai,sn=null,Ns(o,c,f),sn=p,Ai=y,sn!==null)if(Ai)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(f.stateNode)}catch(w){kt(f,c,w)}else try{sn.removeChild(f.stateNode)}catch(w){kt(f,c,w)}break;case 18:sn!==null&&(Ai?(o=sn,ST(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),uc(o)):ST(sn,f.stateNode));break;case 4:p=sn,y=Ai,sn=f.stateNode.containerInfo,Ai=!0,Ns(o,c,f),sn=p,Ai=y;break;case 0:case 11:case 14:case 15:wa(2,f,c),Rn||wa(4,f,c),Ns(o,c,f);break;case 1:Rn||(Jr(f,c),p=f.stateNode,typeof p.componentWillUnmount=="function"&&xC(f,c,p)),Ns(o,c,f);break;case 21:Ns(o,c,f);break;case 22:Rn=(p=Rn)||f.memoizedState!==null,Ns(o,c,f),Rn=p;break;default:Ns(o,c,f)}}function kC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{uc(o)}catch(f){kt(c,c.return,f)}}}function MC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{uc(o)}catch(f){kt(c,c.return,f)}}function GF(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new AC),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new AC),c;default:throw Error(i(435,o.tag))}}function Sh(o,c){var f=GF(o);c.forEach(function(p){if(!f.has(p)){f.add(p);var y=nU.bind(null,o,p);p.then(y,y)}})}function Ri(o,c){var f=c.deletions;if(f!==null)for(var p=0;p<f.length;p++){var y=f[p],w=o,R=c,I=R;e:for(;I!==null;){switch(I.tag){case 27:if(Ra(I.type)){sn=I.stateNode,Ai=!1;break e}break;case 5:sn=I.stateNode,Ai=!1;break e;case 3:case 4:sn=I.stateNode.containerInfo,Ai=!0;break e}I=I.return}if(sn===null)throw Error(i(160));OC(w,R,y),sn=null,Ai=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)NC(c,o),c=c.sibling}var kr=null;function NC(o,c){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ri(c,o),Di(o),p&4&&(wa(3,o,o.return),Yu(3,o),wa(5,o,o.return));break;case 1:Ri(c,o),Di(o),p&512&&(Rn||f===null||Jr(f,f.return)),p&64&&Ms&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var y=kr;if(Ri(c,o),Di(o),p&512&&(Rn||f===null||Jr(f,f.return)),p&4){var w=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Su]||w[Zn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(p),y.head.insertBefore(w,y.querySelector("head > title"))),ni(w,p,f),w[Zn]=o,Vn(w),p=w;break e;case"link":var R=NT("link","href",y).get(p+(f.href||""));if(R){for(var I=0;I<R.length;I++)if(w=R[I],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){R.splice(I,1);break t}}w=y.createElement(p),ni(w,p,f),y.head.appendChild(w);break;case"meta":if(R=NT("meta","content",y).get(p+(f.content||""))){for(I=0;I<R.length;I++)if(w=R[I],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){R.splice(I,1);break t}}w=y.createElement(p),ni(w,p,f),y.head.appendChild(w);break;default:throw Error(i(468,p))}w[Zn]=o,Vn(w),p=w}o.stateNode=p}else IT(y,o.type,o.stateNode);else o.stateNode=MT(y,p,o.memoizedProps);else w!==p?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,p===null?IT(y,o.type,o.stateNode):MT(y,p,o.memoizedProps)):p===null&&o.stateNode!==null&&yy(o,o.memoizedProps,f.memoizedProps)}break;case 27:Ri(c,o),Di(o),p&512&&(Rn||f===null||Jr(f,f.return)),f!==null&&p&4&&yy(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Ri(c,o),Di(o),p&512&&(Rn||f===null||Jr(f,f.return)),o.flags&32){y=o.stateNode;try{Nl(y,"")}catch(Ae){kt(o,o.return,Ae)}}p&4&&o.stateNode!=null&&(y=o.memoizedProps,yy(o,y,f!==null?f.memoizedProps:y)),p&1024&&(wy=!0);break;case 6:if(Ri(c,o),Di(o),p&4){if(o.stateNode===null)throw Error(i(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(Ae){kt(o,o.return,Ae)}}break;case 3:if(Fh=null,y=kr,kr=jh(c.containerInfo),Ri(c,o),kr=y,Di(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{uc(c.containerInfo)}catch(Ae){kt(o,o.return,Ae)}wy&&(wy=!1,IC(o));break;case 4:p=kr,kr=jh(o.stateNode.containerInfo),Ri(c,o),Di(o),kr=p;break;case 12:Ri(c,o),Di(o);break;case 31:Ri(c,o),Di(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Sh(o,p)));break;case 13:Ri(c,o),Di(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Eh=te()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Sh(o,p)));break;case 22:y=o.memoizedState!==null;var H=f!==null&&f.memoizedState!==null,Z=Ms,fe=Rn;if(Ms=Z||y,Rn=fe||H,Ri(c,o),Rn=fe,Ms=Z,Di(o),p&8192)e:for(c=o.stateNode,c._visibility=y?c._visibility&-2:c._visibility|1,y&&(f===null||H||Ms||Rn||Io(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){H=f=c;try{if(w=H.stateNode,y)R=w.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=H.stateNode;var pe=H.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ae){kt(H,H.return,Ae)}}}else if(c.tag===6){if(f===null){H=c;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(Ae){kt(H,H.return,Ae)}}}else if(c.tag===18){if(f===null){H=c;try{var oe=H.stateNode;y?xT(oe,!0):xT(H.stateNode,!1)}catch(Ae){kt(H,H.return,Ae)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,Sh(o,f))));break;case 19:Ri(c,o),Di(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Sh(o,p)));break;case 30:break;case 21:break;default:Ri(c,o),Di(o)}}function Di(o){var c=o.flags;if(c&2){try{for(var f,p=o.return;p!==null;){if(CC(p)){f=p;break}p=p.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var y=f.stateNode,w=by(o);wh(o,w,y);break;case 5:var R=f.stateNode;f.flags&32&&(Nl(R,""),f.flags&=-33);var I=by(o);wh(o,I,R);break;case 3:case 4:var H=f.stateNode.containerInfo,Z=by(o);_y(o,Z,H);break;default:throw Error(i(161))}}catch(fe){kt(o,o.return,fe)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function IC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;IC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Is(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)RC(o,c.alternate,c),c=c.sibling}function Io(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:wa(4,c,c.return),Io(c);break;case 1:Jr(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&xC(c,c.return,f),Io(c);break;case 27:rd(c.stateNode);case 26:case 5:Jr(c,c.return),Io(c);break;case 22:c.memoizedState===null&&Io(c);break;case 30:Io(c);break;default:Io(c)}o=o.sibling}}function Ps(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,y=o,w=c,R=w.flags;switch(w.tag){case 0:case 11:case 15:Ps(y,w,f),Yu(4,w);break;case 1:if(Ps(y,w,f),p=w,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){kt(p,p.return,Z)}if(p=w,y=p.updateQueue,y!==null){var I=p.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)dE(H[y],I)}catch(Z){kt(p,p.return,Z)}}f&&R&64&&SC(w),Ku(w,w.return);break;case 27:TC(w);case 26:case 5:Ps(y,w,f),f&&p===null&&R&4&&EC(w),Ku(w,w.return);break;case 12:Ps(y,w,f);break;case 31:Ps(y,w,f),f&&R&4&&kC(y,w);break;case 13:Ps(y,w,f),f&&R&4&&MC(y,w);break;case 22:w.memoizedState===null&&Ps(y,w,f),Ku(w,w.return);break;case 30:break;default:Ps(y,w,f)}c=c.sibling}}function Sy(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Pu(f))}function xy(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Pu(o))}function Mr(o,c,f,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)PC(o,c,f,p),c=c.sibling}function PC(o,c,f,p){var y=c.flags;switch(c.tag){case 0:case 11:case 15:Mr(o,c,f,p),y&2048&&Yu(9,c);break;case 1:Mr(o,c,f,p);break;case 3:Mr(o,c,f,p),y&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Pu(o)));break;case 12:if(y&2048){Mr(o,c,f,p),o=c.stateNode;try{var w=c.memoizedProps,R=w.id,I=w.onPostCommit;typeof I=="function"&&I(R,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(H){kt(c,c.return,H)}}else Mr(o,c,f,p);break;case 31:Mr(o,c,f,p);break;case 13:Mr(o,c,f,p);break;case 23:break;case 22:w=c.stateNode,R=c.alternate,c.memoizedState!==null?w._visibility&2?Mr(o,c,f,p):Qu(o,c):w._visibility&2?Mr(o,c,f,p):(w._visibility|=2,Jl(o,c,f,p,(c.subtreeFlags&10256)!==0||!1)),y&2048&&Sy(R,c);break;case 24:Mr(o,c,f,p),y&2048&&xy(c.alternate,c);break;default:Mr(o,c,f,p)}}function Jl(o,c,f,p,y){for(y=y&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var w=o,R=c,I=f,H=p,Z=R.flags;switch(R.tag){case 0:case 11:case 15:Jl(w,R,I,H,y),Yu(8,R);break;case 23:break;case 22:var fe=R.stateNode;R.memoizedState!==null?fe._visibility&2?Jl(w,R,I,H,y):Qu(w,R):(fe._visibility|=2,Jl(w,R,I,H,y)),y&&Z&2048&&Sy(R.alternate,R);break;case 24:Jl(w,R,I,H,y),y&&Z&2048&&xy(R.alternate,R);break;default:Jl(w,R,I,H,y)}c=c.sibling}}function Qu(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,p=c,y=p.flags;switch(p.tag){case 22:Qu(f,p),y&2048&&Sy(p.alternate,p);break;case 24:Qu(f,p),y&2048&&xy(p.alternate,p);break;default:Qu(f,p)}c=c.sibling}}var Xu=8192;function ec(o,c,f){if(o.subtreeFlags&Xu)for(o=o.child;o!==null;)jC(o,c,f),o=o.sibling}function jC(o,c,f){switch(o.tag){case 26:ec(o,c,f),o.flags&Xu&&o.memoizedState!==null&&NU(f,kr,o.memoizedState,o.memoizedProps);break;case 5:ec(o,c,f);break;case 3:case 4:var p=kr;kr=jh(o.stateNode.containerInfo),ec(o,c,f),kr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Xu,Xu=16777216,ec(o,c,f),Xu=p):ec(o,c,f));break;default:ec(o,c,f)}}function LC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Zu(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];$n=p,UC(p,o)}LC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)FC(o),o=o.sibling}function FC(o){switch(o.tag){case 0:case 11:case 15:Zu(o),o.flags&2048&&wa(9,o,o.return);break;case 3:Zu(o);break;case 12:Zu(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,xh(o)):Zu(o);break;default:Zu(o)}}function xh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];$n=p,UC(p,o)}LC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:wa(8,c,c.return),xh(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,xh(c));break;default:xh(c)}o=o.sibling}}function UC(o,c){for(;$n!==null;){var f=$n;switch(f.tag){case 0:case 11:case 15:wa(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Pu(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,$n=p;else e:for(f=o;$n!==null;){p=$n;var y=p.sibling,w=p.return;if(DC(p),p===f){$n=null;break e}if(y!==null){y.return=w,$n=y;break e}$n=w}}}var YF={getCacheForType:function(o){var c=ei(Cn),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return ei(Cn).controller.signal}},KF=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Bt=null,ot=null,ct=0,Ot=0,Gi=null,Sa=!1,tc=!1,Ey=!1,js=0,pn=0,xa=0,Po=0,Cy=0,Yi=0,nc=0,Ju=null,Oi=null,Ty=!1,Eh=0,zC=0,Ch=1/0,Th=null,Ea=null,In=0,Ca=null,ic=null,Ls=0,Ay=0,Ry=null,HC=null,ed=0,Dy=null;function Ki(){return(Rt&2)!==0&&ct!==0?ct&-ct:L.T!==null?Py():or()}function BC(){if(Yi===0)if((ct&536870912)===0||gt){var o=vi;vi<<=1,(vi&3932160)===0&&(vi=262144),Yi=o}else Yi=536870912;return o=qi.current,o!==null&&(o.flags|=32),Yi}function ki(o,c,f){(o===Bt&&(Ot===2||Ot===9)||o.cancelPendingCommit!==null)&&(rc(o,0),Ta(o,ct,Yi,!1)),bt(o,f),((Rt&2)===0||o!==Bt)&&(o===Bt&&((Rt&2)===0&&(Po|=f),pn===4&&Ta(o,ct,Yi,!1)),es(o))}function VC(o,c,f){if((Rt&6)!==0)throw Error(i(327));var p=!f&&(c&127)===0&&(c&o.expiredLanes)===0||We(o,c),y=p?ZF(o,c):ky(o,c,!0),w=p;do{if(y===0){tc&&!p&&Ta(o,c,0,!1);break}else{if(f=o.current.alternate,w&&!QF(f)){y=ky(o,c,!1),w=!1;continue}if(y===2){if(w=c,o.errorRecoveryDisabledLanes&w)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){c=R;e:{var I=o;y=Ju;var H=I.current.memoizedState.isDehydrated;if(H&&(rc(I,R).flags|=256),R=ky(I,R,!1),R!==2){if(Ey&&!H){I.errorRecoveryDisabledLanes|=w,Po|=w,y=4;break e}w=Oi,Oi=y,w!==null&&(Oi===null?Oi=w:Oi.push.apply(Oi,w))}y=R}if(w=!1,y!==2)continue}}if(y===1){rc(o,0),Ta(o,c,0,!0);break}e:{switch(p=o,w=y,w){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Ta(p,c,Yi,!Sa);break e;case 2:Oi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(y=Eh+300-te(),10<y)){if(Ta(p,c,Yi,!Sa),Ee(p,0,!0)!==0)break e;Ls=c,p.timeoutHandle=_T($C.bind(null,p,f,Oi,Th,Ty,c,Yi,Po,nc,Sa,w,"Throttled",-0,0),y);break e}$C(p,f,Oi,Th,Ty,c,Yi,Po,nc,Sa,w,null,-0,0)}}break}while(!0);es(o)}function $C(o,c,f,p,y,w,R,I,H,Z,fe,pe,ie,oe){if(o.timeoutHandle=-1,pe=c.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ss},jC(c,w,pe);var Ae=(w&62914560)===w?Eh-te():(w&4194048)===w?zC-te():0;if(Ae=IU(pe,Ae),Ae!==null){Ls=w,o.cancelPendingCommit=Ae(ZC.bind(null,o,c,w,f,p,y,R,I,H,fe,pe,null,ie,oe)),Ta(o,w,R,!Z);return}}ZC(o,c,w,f,p,y,R,I,H)}function QF(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var y=f[p],w=y.getSnapshot;y=y.value;try{if(!Vi(w(),y))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ta(o,c,f,p){c&=~Cy,c&=~Po,o.suspendedLanes|=c,o.pingedLanes&=~c,p&&(o.warmLanes|=c),p=o.expirationTimes;for(var y=c;0<y;){var w=31-qe(y),R=1<<w;p[w]=-1,y&=~R}f!==0&&En(o,f,c)}function Ah(){return(Rt&6)===0?(td(0),!1):!0}function Oy(){if(ot!==null){if(Ot===0)var o=ot.return;else o=ot,Ts=To=null,Wv(o),Yl=null,Lu=0,o=ot;for(;o!==null;)wC(o.alternate,o),o=o.return;ot=null}}function rc(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,mU(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Ls=0,Oy(),Bt=o,ot=f=Es(o.current,null),ct=c,Ot=0,Gi=null,Sa=!1,tc=We(o,c),Ey=!1,nc=Yi=Cy=Po=xa=pn=0,Oi=Ju=null,Ty=!1,(c&8)!==0&&(c|=c&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=c;0<p;){var y=31-qe(p),w=1<<y;c|=o[y],p&=~w}return js=c,Yf(),f}function qC(o,c){Qe=null,L.H=qu,c===Gl||c===nh?(c=oE(),Ot=3):c===Iv?(c=oE(),Ot=4):Ot=c===ly?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Gi=c,ot===null&&(pn=1,mh(o,fr(c,o.current)))}function WC(){var o=qi.current;return o===null?!0:(ct&4194048)===ct?mr===null:(ct&62914560)===ct||(ct&536870912)!==0?o===mr:!1}function GC(){var o=L.H;return L.H=qu,o===null?qu:o}function YC(){var o=L.A;return L.A=YF,o}function Rh(){pn=4,Sa||(ct&4194048)!==ct&&qi.current!==null||(tc=!0),(xa&134217727)===0&&(Po&134217727)===0||Bt===null||Ta(Bt,ct,Yi,!1)}function ky(o,c,f){var p=Rt;Rt|=2;var y=GC(),w=YC();(Bt!==o||ct!==c)&&(Th=null,rc(o,c)),c=!1;var R=pn;e:do try{if(Ot!==0&&ot!==null){var I=ot,H=Gi;switch(Ot){case 8:Oy(),R=6;break e;case 3:case 2:case 9:case 6:qi.current===null&&(c=!0);var Z=Ot;if(Ot=0,Gi=null,sc(o,I,H,Z),f&&tc){R=0;break e}break;default:Z=Ot,Ot=0,Gi=null,sc(o,I,H,Z)}}XF(),R=pn;break}catch(fe){qC(o,fe)}while(!0);return c&&o.shellSuspendCounter++,Ts=To=null,Rt=p,L.H=y,L.A=w,ot===null&&(Bt=null,ct=0,Yf()),R}function XF(){for(;ot!==null;)KC(ot)}function ZF(o,c){var f=Rt;Rt|=2;var p=GC(),y=YC();Bt!==o||ct!==c?(Th=null,Ch=te()+500,rc(o,c)):tc=We(o,c);e:do try{if(Ot!==0&&ot!==null){c=ot;var w=Gi;t:switch(Ot){case 1:Ot=0,Gi=null,sc(o,c,w,1);break;case 2:case 9:if(sE(w)){Ot=0,Gi=null,QC(c);break}c=function(){Ot!==2&&Ot!==9||Bt!==o||(Ot=7),es(o)},w.then(c,c);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:sE(w)?(Ot=0,Gi=null,QC(c)):(Ot=0,Gi=null,sc(o,c,w,7));break;case 5:var R=null;switch(ot.tag){case 26:R=ot.memoizedState;case 5:case 27:var I=ot;if(R?PT(R):I.stateNode.complete){Ot=0,Gi=null;var H=I.sibling;if(H!==null)ot=H;else{var Z=I.return;Z!==null?(ot=Z,Dh(Z)):ot=null}break t}}Ot=0,Gi=null,sc(o,c,w,5);break;case 6:Ot=0,Gi=null,sc(o,c,w,6);break;case 8:Oy(),pn=6;break e;default:throw Error(i(462))}}JF();break}catch(fe){qC(o,fe)}while(!0);return Ts=To=null,L.H=p,L.A=y,Rt=f,ot!==null?0:(Bt=null,ct=0,Yf(),pn)}function JF(){for(;ot!==null&&!Q();)KC(ot)}function KC(o){var c=bC(o.alternate,o,js);o.memoizedProps=o.pendingProps,c===null?Dh(o):ot=c}function QC(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=hC(f,c,c.pendingProps,c.type,void 0,ct);break;case 11:c=hC(f,c,c.pendingProps,c.type.render,c.ref,ct);break;case 5:Wv(c);default:wC(f,c),c=ot=Yx(c,js),c=bC(f,c,js)}o.memoizedProps=o.pendingProps,c===null?Dh(o):ot=c}function sc(o,c,f,p){Ts=To=null,Wv(c),Yl=null,Lu=0;var y=c.return;try{if(HF(o,y,c,f,ct)){pn=1,mh(o,fr(f,o.current)),ot=null;return}}catch(w){if(y!==null)throw ot=y,w;pn=1,mh(o,fr(f,o.current)),ot=null;return}c.flags&32768?(gt||p===1?o=!0:tc||(ct&536870912)!==0?o=!1:(Sa=o=!0,(p===2||p===9||p===3||p===6)&&(p=qi.current,p!==null&&p.tag===13&&(p.flags|=16384))),XC(c,o)):Dh(c)}function Dh(o){var c=o;do{if((c.flags&32768)!==0){XC(c,Sa);return}o=c.return;var f=$F(c.alternate,c,js);if(f!==null){ot=f;return}if(c=c.sibling,c!==null){ot=c;return}ot=c=o}while(c!==null);pn===0&&(pn=5)}function XC(o,c){do{var f=qF(o.alternate,o);if(f!==null){f.flags&=32767,ot=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){ot=o;return}ot=o=f}while(o!==null);pn=6,ot=null}function ZC(o,c,f,p,y,w,R,I,H){o.cancelPendingCommit=null;do Oh();while(In!==0);if((Rt&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(w=c.lanes|c.childLanes,w|=bv,et(o,f,w,R,I,H),o===Bt&&(ot=Bt=null,ct=0),ic=c,Ca=o,Ls=f,Ay=w,Ry=y,HC=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,iU(Se,function(){return iT(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=L.T,L.T=null,y=q.p,q.p=2,R=Rt,Rt|=4;try{WF(o,c,f)}finally{Rt=R,q.p=y,L.T=p}}In=1,JC(),eT(),tT()}}function JC(){if(In===1){In=0;var o=Ca,c=ic,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=L.T,L.T=null;var p=q.p;q.p=2;var y=Rt;Rt|=4;try{NC(c,o);var w=Vy,R=Ux(o.containerInfo),I=w.focusedElem,H=w.selectionRange;if(R!==I&&I&&I.ownerDocument&&Fx(I.ownerDocument.documentElement,I)){if(H!==null&&gv(I)){var Z=H.start,fe=H.end;if(fe===void 0&&(fe=Z),"selectionStart"in I)I.selectionStart=Z,I.selectionEnd=Math.min(fe,I.value.length);else{var pe=I.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Ae=I.textContent.length,He=Math.min(H.start,Ae),Ft=H.end===void 0?He:Math.min(H.end,Ae);!oe.extend&&He>Ft&&(R=Ft,Ft=He,He=R);var G=Lx(I,He),V=Lx(I,Ft);if(G&&V&&(oe.rangeCount!==1||oe.anchorNode!==G.node||oe.anchorOffset!==G.offset||oe.focusNode!==V.node||oe.focusOffset!==V.offset)){var X=pe.createRange();X.setStart(G.node,G.offset),oe.removeAllRanges(),He>Ft?(oe.addRange(X),oe.extend(V.node,V.offset)):(X.setEnd(V.node,V.offset),oe.addRange(X))}}}}for(pe=[],oe=I;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var he=pe[I];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Bh=!!By,Vy=By=null}finally{Rt=y,q.p=p,L.T=f}}o.current=c,In=2}}function eT(){if(In===2){In=0;var o=Ca,c=ic,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=L.T,L.T=null;var p=q.p;q.p=2;var y=Rt;Rt|=4;try{RC(o,c.alternate,c)}finally{Rt=y,q.p=p,L.T=f}}In=3}}function tT(){if(In===4||In===3){In=0,Y();var o=Ca,c=ic,f=Ls,p=HC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?In=5:(In=0,ic=Ca=null,nT(o,o.pendingLanes));var y=o.pendingLanes;if(y===0&&(Ea=null),Xn(f),c=c.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(st,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=L.T,y=q.p,q.p=2,L.T=null;try{for(var w=o.onRecoverableError,R=0;R<p.length;R++){var I=p[R];w(I.value,{componentStack:I.stack})}}finally{L.T=c,q.p=y}}(Ls&3)!==0&&Oh(),es(o),y=o.pendingLanes,(f&261930)!==0&&(y&42)!==0?o===Dy?ed++:(ed=0,Dy=o):ed=0,td(0)}}function nT(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Pu(c)))}function Oh(){return JC(),eT(),tT(),iT()}function iT(){if(In!==5)return!1;var o=Ca,c=Ay;Ay=0;var f=Xn(Ls),p=L.T,y=q.p;try{q.p=32>f?32:f,L.T=null,f=Ry,Ry=null;var w=Ca,R=Ls;if(In=0,ic=Ca=null,Ls=0,(Rt&6)!==0)throw Error(i(331));var I=Rt;if(Rt|=4,FC(w.current),PC(w,w.current,R,f),Rt=I,td(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(st,w)}catch{}return!0}finally{q.p=y,L.T=p,nT(o,c)}}function rT(o,c,f){c=fr(f,c),c=oy(o.stateNode,c,2),o=ya(o,c,2),o!==null&&(bt(o,2),es(o))}function kt(o,c,f){if(o.tag===3)rT(o,o,f);else for(;c!==null;){if(c.tag===3){rT(c,o,f);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ea===null||!Ea.has(p))){o=fr(f,o),f=sC(2),p=ya(c,f,2),p!==null&&(aC(f,p,c,o),bt(p,2),es(p));break}}c=c.return}}function My(o,c,f){var p=o.pingCache;if(p===null){p=o.pingCache=new KF;var y=new Set;p.set(c,y)}else y=p.get(c),y===void 0&&(y=new Set,p.set(c,y));y.has(f)||(Ey=!0,y.add(f),o=eU.bind(null,o,c,f),c.then(o,o))}function eU(o,c,f){var p=o.pingCache;p!==null&&p.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Bt===o&&(ct&f)===f&&(pn===4||pn===3&&(ct&62914560)===ct&&300>te()-Eh?(Rt&2)===0&&rc(o,0):Cy|=f,nc===ct&&(nc=0)),es(o)}function sT(o,c){c===0&&(c=yt()),o=xo(o,c),o!==null&&(bt(o,c),es(o))}function tU(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),sT(o,f)}function nU(o,c){var f=0;switch(o.tag){case 31:case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(f=y.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(c),sT(o,f)}function iU(o,c){return j(o,c)}var kh=null,ac=null,Ny=!1,Mh=!1,Iy=!1,Aa=0;function es(o){o!==ac&&o.next===null&&(ac===null?kh=ac=o:ac=ac.next=o),Mh=!0,Ny||(Ny=!0,sU())}function td(o,c){if(!Iy&&Mh){Iy=!0;do for(var f=!1,p=kh;p!==null;){if(o!==0){var y=p.pendingLanes;if(y===0)var w=0;else{var R=p.suspendedLanes,I=p.pingedLanes;w=(1<<31-qe(42|o)+1)-1,w&=y&~(R&~I),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,cT(p,w))}else w=ct,w=Ee(p,p===Bt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||We(p,w)||(f=!0,cT(p,w));p=p.next}while(f);Iy=!1}}function rU(){aT()}function aT(){Mh=Ny=!1;var o=0;Aa!==0&&pU()&&(o=Aa);for(var c=te(),f=null,p=kh;p!==null;){var y=p.next,w=oT(p,c);w===0?(p.next=null,f===null?kh=y:f.next=y,y===null&&(ac=f)):(f=p,(o!==0||(w&3)!==0)&&(Mh=!0)),p=y}In!==0&&In!==5||td(o),Aa!==0&&(Aa=0)}function oT(o,c){for(var f=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var R=31-qe(w),I=1<<R,H=y[R];H===-1?((I&f)===0||(I&p)!==0)&&(y[R]=ht(I,c)):H<=c&&(o.expiredLanes|=I),w&=~I}if(c=Bt,f=ct,f=Ee(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===c&&(Ot===2||Ot===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&W(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||We(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(p!==null&&W(p),Xn(f)){case 2:case 8:f=_e;break;case 32:f=Se;break;case 268435456:f=Je;break;default:f=Se}return p=lT.bind(null,o),f=j(f,p),o.callbackPriority=c,o.callbackNode=f,c}return p!==null&&p!==null&&W(p),o.callbackPriority=2,o.callbackNode=null,2}function lT(o,c){if(In!==0&&In!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Oh()&&o.callbackNode!==f)return null;var p=ct;return p=Ee(o,o===Bt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(VC(o,p,c),oT(o,te()),o.callbackNode!=null&&o.callbackNode===f?lT.bind(null,o):null)}function cT(o,c){if(Oh())return null;VC(o,c,!0)}function sU(){vU(function(){(Rt&6)!==0?j(ye,rU):aT()})}function Py(){if(Aa===0){var o=ql;o===0&&(o=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Aa=o}return Aa}function uT(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:zf(""+o)}function dT(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function aU(o,c,f,p,y){if(c==="submit"&&f&&f.stateNode===y){var w=uT((y[Ci]||null).action),R=p.submitter;R&&(c=(c=R[Ci]||null)?uT(c.formAction):R.getAttribute("formAction"),c!==null&&(w=c,R=null));var I=new $f("action","action",null,p,y);o.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Aa!==0){var H=R?dT(y,R):new FormData(y);ty(f,{pending:!0,data:H,method:y.method,action:w},null,H)}}else typeof w=="function"&&(I.preventDefault(),H=R?dT(y,R):new FormData(y),ty(f,{pending:!0,data:H,method:y.method,action:w},w,H))},currentTarget:y}]})}}for(var jy=0;jy<yv.length;jy++){var Ly=yv[jy],oU=Ly.toLowerCase(),lU=Ly[0].toUpperCase()+Ly.slice(1);Or(oU,"on"+lU)}Or(Bx,"onAnimationEnd"),Or(Vx,"onAnimationIteration"),Or($x,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(EF,"onTransitionRun"),Or(CF,"onTransitionStart"),Or(TF,"onTransitionCancel"),Or(qx,"onTransitionEnd"),kl("onMouseEnter",["mouseout","mouseover"]),kl("onMouseLeave",["mouseout","mouseover"]),kl("onPointerEnter",["pointerout","pointerover"]),kl("onPointerLeave",["pointerout","pointerover"]),bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bo("onBeforeInput",["compositionend","keypress","textInput","paste"]),bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nd));function fT(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],y=p.event;p=p.listeners;e:{var w=void 0;if(c)for(var R=p.length-1;0<=R;R--){var I=p[R],H=I.instance,Z=I.currentTarget;if(I=I.listener,H!==w&&y.isPropagationStopped())break e;w=I,y.currentTarget=Z;try{w(y)}catch(fe){Gf(fe)}y.currentTarget=null,w=H}else for(R=0;R<p.length;R++){if(I=p[R],H=I.instance,Z=I.currentTarget,I=I.listener,H!==w&&y.isPropagationStopped())break e;w=I,y.currentTarget=Z;try{w(y)}catch(fe){Gf(fe)}y.currentTarget=null,w=H}}}}function lt(o,c){var f=c[Qm];f===void 0&&(f=c[Qm]=new Set);var p=o+"__bubble";f.has(p)||(hT(c,o,2,!1),f.add(p))}function Fy(o,c,f){var p=0;c&&(p|=4),hT(f,o,p,c)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function Uy(o){if(!o[Nh]){o[Nh]=!0,ax.forEach(function(f){f!=="selectionchange"&&(cU.has(f)||Fy(f,!1,o),Fy(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Nh]||(c[Nh]=!0,Fy("selectionchange",!1,c))}}function hT(o,c,f,p){switch(BT(c)){case 2:var y=LU;break;case 8:y=FU;break;default:y=eb}f=y.bind(null,c,f,o),y=void 0,!sv||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(c,f,{capture:!0,passive:y}):o.addEventListener(c,f,!0):y!==void 0?o.addEventListener(c,f,{passive:y}):o.addEventListener(c,f,!1)}function zy(o,c,f,p,y){var w=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var I=p.stateNode.containerInfo;if(I===y)break;if(R===4)for(R=p.return;R!==null;){var H=R.tag;if((H===3||H===4)&&R.stateNode.containerInfo===y)return;R=R.return}for(;I!==null;){if(R=Rl(I),R===null)return;if(H=R.tag,H===5||H===6||H===26||H===27){p=w=R;continue e}I=I.parentNode}}p=p.return}yx(function(){var Z=w,fe=iv(f),pe=[];e:{var ie=Wx.get(o);if(ie!==void 0){var oe=$f,Ae=o;switch(o){case"keypress":if(Bf(f)===0)break e;case"keydown":case"keyup":oe=nF;break;case"focusin":Ae="focus",oe=cv;break;case"focusout":Ae="blur",oe=cv;break;case"beforeblur":case"afterblur":oe=cv;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=$2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=sF;break;case Bx:case Vx:case $x:oe=G2;break;case qx:oe=oF;break;case"scroll":case"scrollend":oe=B2;break;case"wheel":oe=cF;break;case"copy":case"cut":case"paste":oe=K2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=xx;break;case"toggle":case"beforetoggle":oe=dF}var He=(c&4)!==0,Ft=!He&&(o==="scroll"||o==="scrollend"),G=He?ie!==null?ie+"Capture":null:ie;He=[];for(var V=Z,X;V!==null;){var he=V;if(X=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||X===null||G===null||(he=Eu(V,G),he!=null&&He.push(id(V,he,X))),Ft)break;V=V.return}0<He.length&&(ie=new oe(ie,Ae,null,f,fe),pe.push({event:ie,listeners:He}))}}if((c&7)===0){e:{if(ie=o==="mouseover"||o==="pointerover",oe=o==="mouseout"||o==="pointerout",ie&&f!==nv&&(Ae=f.relatedTarget||f.fromElement)&&(Rl(Ae)||Ae[Al]))break e;if((oe||ie)&&(ie=fe.window===fe?fe:(ie=fe.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Ae=f.relatedTarget||f.toElement,oe=Z,Ae=Ae?Rl(Ae):null,Ae!==null&&(Ft=s(Ae),He=Ae.tag,Ae!==Ft||He!==5&&He!==27&&He!==6)&&(Ae=null)):(oe=null,Ae=Z),oe!==Ae)){if(He=wx,he="onMouseLeave",G="onMouseEnter",V="mouse",(o==="pointerout"||o==="pointerover")&&(He=xx,he="onPointerLeave",G="onPointerEnter",V="pointer"),Ft=oe==null?ie:xu(oe),X=Ae==null?ie:xu(Ae),ie=new He(he,V+"leave",oe,f,fe),ie.target=Ft,ie.relatedTarget=X,he=null,Rl(fe)===Z&&(He=new He(G,V+"enter",Ae,f,fe),He.target=X,He.relatedTarget=Ft,he=He),Ft=he,oe&&Ae)t:{for(He=uU,G=oe,V=Ae,X=0,he=G;he;he=He(he))X++;he=0;for(var Pe=V;Pe;Pe=He(Pe))he++;for(;0<X-he;)G=He(G),X--;for(;0<he-X;)V=He(V),he--;for(;X--;){if(G===V||V!==null&&G===V.alternate){He=G;break t}G=He(G),V=He(V)}He=null}else He=null;oe!==null&&gT(pe,ie,oe,He,!1),Ae!==null&&Ft!==null&&gT(pe,Ft,Ae,He,!0)}}e:{if(ie=Z?xu(Z):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var xt=kx;else if(Dx(ie))if(Mx)xt=wF;else{xt=bF;var Oe=yF}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?Z&&tv(Z.elementType)&&(xt=kx):xt=_F;if(xt&&(xt=xt(o,Z))){Ox(pe,xt,f,fe);break e}Oe&&Oe(o,ie,Z),o==="focusout"&&Z&&ie.type==="number"&&Z.memoizedProps.value!=null&&ev(ie,"number",ie.value)}switch(Oe=Z?xu(Z):window,o){case"focusin":(Dx(Oe)||Oe.contentEditable==="true")&&(Ll=Oe,pv=Z,Mu=null);break;case"focusout":Mu=pv=Ll=null;break;case"mousedown":mv=!0;break;case"contextmenu":case"mouseup":case"dragend":mv=!1,zx(pe,f,fe);break;case"selectionchange":if(xF)break;case"keydown":case"keyup":zx(pe,f,fe)}var tt;if(dv)e:{switch(o){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else jl?Ax(o,f)&&(ut="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(ut="onCompositionStart");ut&&(Ex&&f.locale!=="ko"&&(jl||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&jl&&(tt=bx()):(da=fe,av="value"in da?da.value:da.textContent,jl=!0)),Oe=Ih(Z,ut),0<Oe.length&&(ut=new Sx(ut,o,null,f,fe),pe.push({event:ut,listeners:Oe}),tt?ut.data=tt:(tt=Rx(f),tt!==null&&(ut.data=tt)))),(tt=hF?gF(o,f):pF(o,f))&&(ut=Ih(Z,"onBeforeInput"),0<ut.length&&(Oe=new Sx("onBeforeInput","beforeinput",null,f,fe),pe.push({event:Oe,listeners:ut}),Oe.data=tt)),aU(pe,o,Z,f,fe)}fT(pe,c)})}function id(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Ih(o,c){for(var f=c+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Eu(o,f),y!=null&&p.unshift(id(o,y,w)),y=Eu(o,c),y!=null&&p.push(id(o,y,w))),o.tag===3)return p;o=o.return}return[]}function uU(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function gT(o,c,f,p,y){for(var w=c._reactName,R=[];f!==null&&f!==p;){var I=f,H=I.alternate,Z=I.stateNode;if(I=I.tag,H!==null&&H===p)break;I!==5&&I!==26&&I!==27||Z===null||(H=Z,y?(Z=Eu(f,w),Z!=null&&R.unshift(id(f,Z,H))):y||(Z=Eu(f,w),Z!=null&&R.push(id(f,Z,H)))),f=f.return}R.length!==0&&o.push({event:c,listeners:R})}var dU=/\r\n?/g,fU=/\u0000|\uFFFD/g;function pT(o){return(typeof o=="string"?o:""+o).replace(dU,`
`).replace(fU,"")}function mT(o,c){return c=pT(c),pT(o)===c}function Lt(o,c,f,p,y,w){switch(f){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||Nl(o,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&Nl(o,""+p);break;case"className":Ff(o,"class",p);break;case"tabIndex":Ff(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ff(o,f,p);break;case"style":mx(o,p,w);break;case"data":if(c!=="object"){Ff(o,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=zf(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(c!=="input"&&Lt(o,c,"name",y.name,y,null),Lt(o,c,"formEncType",y.formEncType,y,null),Lt(o,c,"formMethod",y.formMethod,y,null),Lt(o,c,"formTarget",y.formTarget,y,null)):(Lt(o,c,"encType",y.encType,y,null),Lt(o,c,"method",y.method,y,null),Lt(o,c,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=zf(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=Ss);break;case"onScroll":p!=null&&lt("scroll",o);break;case"onScrollEnd":p!=null&&lt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(f=p.__html,f!=null){if(y.children!=null)throw Error(i(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=zf(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":lt("beforetoggle",o),lt("toggle",o),Lf(o,"popover",p);break;case"xlinkActuate":ws(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ws(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ws(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ws(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ws(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ws(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ws(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ws(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ws(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Lf(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=z2.get(f)||f,Lf(o,f,p))}}function Hy(o,c,f,p,y,w){switch(f){case"style":mx(o,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(f=p.__html,f!=null){if(y.children!=null)throw Error(i(60));o.innerHTML=f}}break;case"children":typeof p=="string"?Nl(o,p):(typeof p=="number"||typeof p=="bigint")&&Nl(o,""+p);break;case"onScroll":p!=null&&lt("scroll",o);break;case"onScrollEnd":p!=null&&lt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ox.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),c=f.slice(2,y?f.length-7:void 0),w=o[Ci]||null,w=w!=null?w[f]:null,typeof w=="function"&&o.removeEventListener(c,w,y),typeof p=="function")){typeof w!="function"&&w!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,p,y);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):Lf(o,f,p)}}}function ni(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",o),lt("load",o);var p=!1,y=!1,w;for(w in f)if(f.hasOwnProperty(w)){var R=f[w];if(R!=null)switch(w){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Lt(o,c,w,R,f,null)}}y&&Lt(o,c,"srcSet",f.srcSet,f,null),p&&Lt(o,c,"src",f.src,f,null);return;case"input":lt("invalid",o);var I=w=R=y=null,H=null,Z=null;for(p in f)if(f.hasOwnProperty(p)){var fe=f[p];if(fe!=null)switch(p){case"name":y=fe;break;case"type":R=fe;break;case"checked":H=fe;break;case"defaultChecked":Z=fe;break;case"value":w=fe;break;case"defaultValue":I=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,c));break;default:Lt(o,c,p,fe,f,null)}}fx(o,w,I,H,Z,R,y,!1);return;case"select":lt("invalid",o),p=R=w=null;for(y in f)if(f.hasOwnProperty(y)&&(I=f[y],I!=null))switch(y){case"value":w=I;break;case"defaultValue":R=I;break;case"multiple":p=I;default:Lt(o,c,y,I,f,null)}c=w,f=R,o.multiple=!!p,c!=null?Ml(o,!!p,c,!1):f!=null&&Ml(o,!!p,f,!0);return;case"textarea":lt("invalid",o),w=y=p=null;for(R in f)if(f.hasOwnProperty(R)&&(I=f[R],I!=null))switch(R){case"value":p=I;break;case"defaultValue":y=I;break;case"children":w=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:Lt(o,c,R,I,f,null)}gx(o,p,y,w);return;case"option":for(H in f)if(f.hasOwnProperty(H)&&(p=f[H],p!=null))switch(H){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Lt(o,c,H,p,f,null)}return;case"dialog":lt("beforetoggle",o),lt("toggle",o),lt("cancel",o),lt("close",o);break;case"iframe":case"object":lt("load",o);break;case"video":case"audio":for(p=0;p<nd.length;p++)lt(nd[p],o);break;case"image":lt("error",o),lt("load",o);break;case"details":lt("toggle",o);break;case"embed":case"source":case"link":lt("error",o),lt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in f)if(f.hasOwnProperty(Z)&&(p=f[Z],p!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Lt(o,c,Z,p,f,null)}return;default:if(tv(c)){for(fe in f)f.hasOwnProperty(fe)&&(p=f[fe],p!==void 0&&Hy(o,c,fe,p,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(p=f[I],p!=null&&Lt(o,c,I,p,f,null))}function hU(o,c,f,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,R=null,I=null,H=null,Z=null,fe=null;for(oe in f){var pe=f[oe];if(f.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":H=pe;default:p.hasOwnProperty(oe)||Lt(o,c,oe,null,p,pe)}}for(var ie in p){var oe=p[ie];if(pe=f[ie],p.hasOwnProperty(ie)&&(oe!=null||pe!=null))switch(ie){case"type":w=oe;break;case"name":y=oe;break;case"checked":Z=oe;break;case"defaultChecked":fe=oe;break;case"value":R=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,c));break;default:oe!==pe&&Lt(o,c,ie,oe,p,pe)}}Jm(o,R,I,H,Z,fe,w,y);return;case"select":oe=R=I=ie=null;for(w in f)if(H=f[w],f.hasOwnProperty(w)&&H!=null)switch(w){case"value":break;case"multiple":oe=H;default:p.hasOwnProperty(w)||Lt(o,c,w,null,p,H)}for(y in p)if(w=p[y],H=f[y],p.hasOwnProperty(y)&&(w!=null||H!=null))switch(y){case"value":ie=w;break;case"defaultValue":I=w;break;case"multiple":R=w;default:w!==H&&Lt(o,c,y,w,p,H)}c=I,f=R,p=oe,ie!=null?Ml(o,!!f,ie,!1):!!p!=!!f&&(c!=null?Ml(o,!!f,c,!0):Ml(o,!!f,f?[]:"",!1));return;case"textarea":oe=ie=null;for(I in f)if(y=f[I],f.hasOwnProperty(I)&&y!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Lt(o,c,I,null,p,y)}for(R in p)if(y=p[R],w=f[R],p.hasOwnProperty(R)&&(y!=null||w!=null))switch(R){case"value":ie=y;break;case"defaultValue":oe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==w&&Lt(o,c,R,y,p,w)}hx(o,ie,oe);return;case"option":for(var Ae in f)if(ie=f[Ae],f.hasOwnProperty(Ae)&&ie!=null&&!p.hasOwnProperty(Ae))switch(Ae){case"selected":o.selected=!1;break;default:Lt(o,c,Ae,null,p,ie)}for(H in p)if(ie=p[H],oe=f[H],p.hasOwnProperty(H)&&ie!==oe&&(ie!=null||oe!=null))switch(H){case"selected":o.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Lt(o,c,H,ie,p,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in f)ie=f[He],f.hasOwnProperty(He)&&ie!=null&&!p.hasOwnProperty(He)&&Lt(o,c,He,null,p,ie);for(Z in p)if(ie=p[Z],oe=f[Z],p.hasOwnProperty(Z)&&ie!==oe&&(ie!=null||oe!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,c));break;default:Lt(o,c,Z,ie,p,oe)}return;default:if(tv(c)){for(var Ft in f)ie=f[Ft],f.hasOwnProperty(Ft)&&ie!==void 0&&!p.hasOwnProperty(Ft)&&Hy(o,c,Ft,void 0,p,ie);for(fe in p)ie=p[fe],oe=f[fe],!p.hasOwnProperty(fe)||ie===oe||ie===void 0&&oe===void 0||Hy(o,c,fe,ie,p,oe);return}}for(var G in f)ie=f[G],f.hasOwnProperty(G)&&ie!=null&&!p.hasOwnProperty(G)&&Lt(o,c,G,null,p,ie);for(pe in p)ie=p[pe],oe=f[pe],!p.hasOwnProperty(pe)||ie===oe||ie==null&&oe==null||Lt(o,c,pe,ie,p,oe)}function vT(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gU(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var y=f[p],w=y.transferSize,R=y.initiatorType,I=y.duration;if(w&&I&&vT(R)){for(R=0,I=y.responseEnd,p+=1;p<f.length;p++){var H=f[p],Z=H.startTime;if(Z>I)break;var fe=H.transferSize,pe=H.initiatorType;fe&&vT(pe)&&(H=H.responseEnd,R+=fe*(H<I?1:(I-Z)/(H-Z)))}if(--p,c+=8*(w+R)/(y.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var By=null,Vy=null;function Ph(o){return o.nodeType===9?o:o.ownerDocument}function yT(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bT(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function $y(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var qy=null;function pU(){var o=window.event;return o&&o.type==="popstate"?o===qy?!1:(qy=o,!0):(qy=null,!1)}var _T=typeof setTimeout=="function"?setTimeout:void 0,mU=typeof clearTimeout=="function"?clearTimeout:void 0,wT=typeof Promise=="function"?Promise:void 0,vU=typeof queueMicrotask=="function"?queueMicrotask:typeof wT<"u"?function(o){return wT.resolve(null).then(o).catch(yU)}:_T;function yU(o){setTimeout(function(){throw o})}function Ra(o){return o==="head"}function ST(o,c){var f=c,p=0;do{var y=f.nextSibling;if(o.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"||f==="/&"){if(p===0){o.removeChild(y),uc(c);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")rd(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,rd(f);for(var w=f.firstChild;w;){var R=w.nextSibling,I=w.nodeName;w[Su]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=R}}else f==="body"&&rd(o.ownerDocument.body);f=y}while(f);uc(c)}function xT(o,c){var f=o;o=0;do{var p=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=p}while(f)}function Wy(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Wy(f),Xm(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function bU(o,c,f,p){for(;o.nodeType===1;){var y=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Su])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==y.rel||o.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||o.getAttribute("title")!==(y.title==null?null:y.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(y.src==null?null:y.src)||o.getAttribute("type")!==(y.type==null?null:y.type)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=vr(o.nextSibling),o===null)break}return null}function _U(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=vr(o.nextSibling),o===null))return null;return o}function ET(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=vr(o.nextSibling),o===null))return null;return o}function Gy(o){return o.data==="$?"||o.data==="$~"}function Yy(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function wU(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var p=function(){c(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function vr(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Ky=null;function CT(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return vr(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function TT(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function AT(o,c,f){switch(c=Ph(f),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function rd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Xm(o)}var yr=new Map,RT=new Set;function jh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Fs=q.d;q.d={f:SU,r:xU,D:EU,C:CU,L:TU,m:AU,X:DU,S:RU,M:OU};function SU(){var o=Fs.f(),c=Ah();return o||c}function xU(o){var c=Dl(o);c!==null&&c.tag===5&&c.type==="form"?qE(c):Fs.r(o)}var oc=typeof document>"u"?null:document;function DT(o,c,f){var p=oc;if(p&&typeof c=="string"&&c){var y=ur(c);y='link[rel="'+o+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),RT.has(y)||(RT.add(y),o={rel:o,crossOrigin:f,href:c},p.querySelector(y)===null&&(c=p.createElement("link"),ni(c,"link",o),Vn(c),p.head.appendChild(c)))}}function EU(o){Fs.D(o),DT("dns-prefetch",o,null)}function CU(o,c){Fs.C(o,c),DT("preconnect",o,c)}function TU(o,c,f){Fs.L(o,c,f);var p=oc;if(p&&o&&c){var y='link[rel="preload"][as="'+ur(c)+'"]';c==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+ur(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+ur(f.imageSizes)+'"]')):y+='[href="'+ur(o)+'"]';var w=y;switch(c){case"style":w=lc(o);break;case"script":w=cc(o)}yr.has(w)||(o=g({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),yr.set(w,o),p.querySelector(y)!==null||c==="style"&&p.querySelector(sd(w))||c==="script"&&p.querySelector(ad(w))||(c=p.createElement("link"),ni(c,"link",o),Vn(c),p.head.appendChild(c)))}}function AU(o,c){Fs.m(o,c);var f=oc;if(f&&o){var p=c&&typeof c.as=="string"?c.as:"script",y='link[rel="modulepreload"][as="'+ur(p)+'"][href="'+ur(o)+'"]',w=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=cc(o)}if(!yr.has(w)&&(o=g({rel:"modulepreload",href:o},c),yr.set(w,o),f.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(ad(w)))return}p=f.createElement("link"),ni(p,"link",o),Vn(p),f.head.appendChild(p)}}}function RU(o,c,f){Fs.S(o,c,f);var p=oc;if(p&&o){var y=Ol(p).hoistableStyles,w=lc(o);c=c||"default";var R=y.get(w);if(!R){var I={loading:0,preload:null};if(R=p.querySelector(sd(w)))I.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},f),(f=yr.get(w))&&Qy(o,f);var H=R=p.createElement("link");Vn(H),ni(H,"link",o),H._p=new Promise(function(Z,fe){H.onload=Z,H.onerror=fe}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Lh(R,c,p)}R={type:"stylesheet",instance:R,count:1,state:I},y.set(w,R)}}}function DU(o,c){Fs.X(o,c);var f=oc;if(f&&o){var p=Ol(f).hoistableScripts,y=cc(o),w=p.get(y);w||(w=f.querySelector(ad(y)),w||(o=g({src:o,async:!0},c),(c=yr.get(y))&&Xy(o,c),w=f.createElement("script"),Vn(w),ni(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(y,w))}}function OU(o,c){Fs.M(o,c);var f=oc;if(f&&o){var p=Ol(f).hoistableScripts,y=cc(o),w=p.get(y);w||(w=f.querySelector(ad(y)),w||(o=g({src:o,async:!0,type:"module"},c),(c=yr.get(y))&&Xy(o,c),w=f.createElement("script"),Vn(w),ni(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(y,w))}}function OT(o,c,f,p){var y=(y=we.current)?jh(y):null;if(!y)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=lc(f.href),f=Ol(y).hoistableStyles,p=f.get(c),p||(p={type:"style",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=lc(f.href);var w=Ol(y).hoistableStyles,R=w.get(o);if(R||(y=y.ownerDocument||y,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,R),(w=y.querySelector(sd(o)))&&!w._p&&(R.instance=w,R.state.loading=5),yr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},yr.set(o,f),w||kU(y,o,f,R.state))),c&&p===null)throw Error(i(528,""));return R}if(c&&p!==null)throw Error(i(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=cc(f),f=Ol(y).hoistableScripts,p=f.get(c),p||(p={type:"script",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function lc(o){return'href="'+ur(o)+'"'}function sd(o){return'link[rel="stylesheet"]['+o+"]"}function kT(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function kU(o,c,f,p){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=o.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),ni(c,"link",f),Vn(c),o.head.appendChild(c))}function cc(o){return'[src="'+ur(o)+'"]'}function ad(o){return"script[async]"+o}function MT(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var p=o.querySelector('style[data-href~="'+ur(f.href)+'"]');if(p)return c.instance=p,Vn(p),p;var y=g({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Vn(p),ni(p,"style",y),Lh(p,f.precedence,o),c.instance=p;case"stylesheet":y=lc(f.href);var w=o.querySelector(sd(y));if(w)return c.state.loading|=4,c.instance=w,Vn(w),w;p=kT(f),(y=yr.get(y))&&Qy(p,y),w=(o.ownerDocument||o).createElement("link"),Vn(w);var R=w;return R._p=new Promise(function(I,H){R.onload=I,R.onerror=H}),ni(w,"link",p),c.state.loading|=4,Lh(w,f.precedence,o),c.instance=w;case"script":return w=cc(f.src),(y=o.querySelector(ad(w)))?(c.instance=y,Vn(y),y):(p=f,(y=yr.get(w))&&(p=g({},f),Xy(p,y)),o=o.ownerDocument||o,y=o.createElement("script"),Vn(y),ni(y,"link",p),o.head.appendChild(y),c.instance=y);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,Lh(p,f.precedence,o));return c.instance}function Lh(o,c,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,w=y,R=0;R<p.length;R++){var I=p[R];if(I.dataset.precedence===c)w=I;else if(w!==y)break}w?w.parentNode.insertBefore(o,w.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function Qy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Xy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Fh=null;function NT(o,c,f){if(Fh===null){var p=new Map,y=Fh=new Map;y.set(f,p)}else y=Fh,p=y.get(f),p||(p=new Map,y.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),y=0;y<f.length;y++){var w=f[y];if(!(w[Su]||w[Zn]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var R=w.getAttribute(c)||"";R=o+R;var I=p.get(R);I?I.push(w):p.set(R,[w])}}return p}function IT(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function MU(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function PT(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function NU(o,c,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var y=lc(p.href),w=c.querySelector(sd(y));if(w){c=w._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Uh.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=w,Vn(w);return}w=c.ownerDocument||c,p=kT(p),(y=yr.get(y))&&Qy(p,y),w=w.createElement("link"),Vn(w);var R=w;R._p=new Promise(function(I,H){R.onload=I,R.onerror=H}),ni(w,"link",p),f.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Uh.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var Zy=0;function IU(o,c){return o.stylesheets&&o.count===0&&Hh(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var p=setTimeout(function(){if(o.stylesheets&&Hh(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+c);0<o.imgBytes&&Zy===0&&(Zy=62500*gU());var y=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Hh(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>Zy?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(y)}}:null}function Uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var zh=null;function Hh(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,zh=new Map,c.forEach(PU,o),zh=null,Uh.call(o))}function PU(o,c){if(!(c.state.loading&4)){var f=zh.get(o);if(f)var p=f.get(null);else{f=new Map,zh.set(o,f);for(var y=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var R=y[w];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(f.set(R.dataset.precedence,R),p=R)}p&&f.set(null,p)}y=c.instance,R=y.getAttribute("data-precedence"),w=f.get(R)||p,w===p&&f.set(null,y),f.set(R,y),this.count++,p=Uh.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),w?w.parentNode.insertBefore(y,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(y,o.firstChild)),c.state.loading|=4}}var od={$$typeof:A,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function jU(o,c,f,p,y,w,R,I,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hn(0),this.hiddenUpdates=hn(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function jT(o,c,f,p,y,w,R,I,H,Z,fe,pe){return o=new jU(o,c,f,R,H,Z,fe,pe,I),c=1,w===!0&&(c|=24),w=$i(3,null,null,c),o.current=w,w.stateNode=o,c=kv(),c.refCount++,o.pooledCache=c,c.refCount++,w.memoizedState={element:p,isDehydrated:f,cache:c},Pv(w),o}function LT(o){return o?(o=zl,o):zl}function FT(o,c,f,p,y,w){y=LT(y),p.context===null?p.context=y:p.pendingContext=y,p=va(c),p.payload={element:f},w=w===void 0?null:w,w!==null&&(p.callback=w),f=ya(o,p,c),f!==null&&(ki(f,o,c),Uu(f,o,c))}function UT(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Jy(o,c){UT(o,c),(o=o.alternate)&&UT(o,c)}function zT(o){if(o.tag===13||o.tag===31){var c=xo(o,67108864);c!==null&&ki(c,o,67108864),Jy(o,67108864)}}function HT(o){if(o.tag===13||o.tag===31){var c=Ki();c=ar(c);var f=xo(o,c);f!==null&&ki(f,o,c),Jy(o,c)}}var Bh=!0;function LU(o,c,f,p){var y=L.T;L.T=null;var w=q.p;try{q.p=2,eb(o,c,f,p)}finally{q.p=w,L.T=y}}function FU(o,c,f,p){var y=L.T;L.T=null;var w=q.p;try{q.p=8,eb(o,c,f,p)}finally{q.p=w,L.T=y}}function eb(o,c,f,p){if(Bh){var y=tb(p);if(y===null)zy(o,c,p,Vh,f),VT(o,p);else if(zU(y,o,c,f,p))p.stopPropagation();else if(VT(o,p),c&4&&-1<UU.indexOf(o)){for(;y!==null;){var w=Dl(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var R=Wt(w.pendingLanes);if(R!==0){var I=w;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var H=1<<31-qe(R);I.entanglements[1]|=H,R&=~H}es(w),(Rt&6)===0&&(Ch=te()+500,td(0))}}break;case 31:case 13:I=xo(w,2),I!==null&&ki(I,w,2),Ah(),Jy(w,2)}if(w=tb(p),w===null&&zy(o,c,p,Vh,f),w===y)break;y=w}y!==null&&p.stopPropagation()}else zy(o,c,p,null,f)}}function tb(o){return o=iv(o),nb(o)}var Vh=null;function nb(o){if(Vh=null,o=Rl(o),o!==null){var c=s(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=a(c),o!==null)return o;o=null}else if(f===31){if(o=l(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Vh=o,null}function BT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case ye:return 2;case _e:return 8;case Se:case Ne:return 32;case Je:return 268435456;default:return 32}default:return 32}}var ib=!1,Da=null,Oa=null,ka=null,ld=new Map,cd=new Map,Ma=[],UU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VT(o,c){switch(o){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":ld.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(c.pointerId)}}function ud(o,c,f,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:c,domEventName:f,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},c!==null&&(c=Dl(c),c!==null&&zT(c)),o):(o.eventSystemFlags|=p,c=o.targetContainers,y!==null&&c.indexOf(y)===-1&&c.push(y),o)}function zU(o,c,f,p,y){switch(c){case"focusin":return Da=ud(Da,o,c,f,p,y),!0;case"dragenter":return Oa=ud(Oa,o,c,f,p,y),!0;case"mouseover":return ka=ud(ka,o,c,f,p,y),!0;case"pointerover":var w=y.pointerId;return ld.set(w,ud(ld.get(w)||null,o,c,f,p,y)),!0;case"gotpointercapture":return w=y.pointerId,cd.set(w,ud(cd.get(w)||null,o,c,f,p,y)),!0}return!1}function $T(o){var c=Rl(o.target);if(c!==null){var f=s(c);if(f!==null){if(c=f.tag,c===13){if(c=a(f),c!==null){o.blockedOn=c,ua(o.priority,function(){HT(f)});return}}else if(c===31){if(c=l(f),c!==null){o.blockedOn=c,ua(o.priority,function(){HT(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $h(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=tb(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);nv=p,f.target.dispatchEvent(p),nv=null}else return c=Dl(f),c!==null&&zT(c),o.blockedOn=f,!1;c.shift()}return!0}function qT(o,c,f){$h(o)&&f.delete(c)}function HU(){ib=!1,Da!==null&&$h(Da)&&(Da=null),Oa!==null&&$h(Oa)&&(Oa=null),ka!==null&&$h(ka)&&(ka=null),ld.forEach(qT),cd.forEach(qT)}function qh(o,c){o.blockedOn===c&&(o.blockedOn=null,ib||(ib=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HU)))}var Wh=null;function WT(o){Wh!==o&&(Wh=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wh===o&&(Wh=null);for(var c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],y=o[c+2];if(typeof p!="function"){if(nb(p||f)===null)continue;break}var w=Dl(f);w!==null&&(o.splice(c,3),c-=3,ty(w,{pending:!0,data:y,method:f.method,action:p},p,y))}}))}function uc(o){function c(H){return qh(H,o)}Da!==null&&qh(Da,o),Oa!==null&&qh(Oa,o),ka!==null&&qh(ka,o),ld.forEach(c),cd.forEach(c);for(var f=0;f<Ma.length;f++){var p=Ma[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ma.length&&(f=Ma[0],f.blockedOn===null);)$T(f),f.blockedOn===null&&Ma.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var y=f[p],w=f[p+1],R=y[Ci]||null;if(typeof w=="function")R||WT(f);else if(R){var I=null;if(w&&w.hasAttribute("formAction")){if(y=w,R=w[Ci]||null)I=R.formAction;else if(nb(y)!==null)continue}else I=R.action;typeof I=="function"?f[p+1]=I:(f.splice(p,3),p-=3),WT(f)}}}function GT(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(R){return y=R})},focusReset:"manual",scroll:"manual"})}function c(){y!==null&&(y(),y=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,y=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),y!==null&&(y(),y=null)}}}function rb(o){this._internalRoot=o}Gh.prototype.render=rb.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var f=c.current,p=Ki();FT(f,p,o,c,null,null)},Gh.prototype.unmount=rb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;FT(o.current,2,null,o,null,null),Ah(),c[Al]=null}};function Gh(o){this._internalRoot=o}Gh.prototype.unstable_scheduleHydration=function(o){if(o){var c=or();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Ma.length&&c!==0&&c<Ma[f].priority;f++);Ma.splice(f,0,o),f===0&&$T(o)}};var YT=e.version;if(YT!=="19.2.0")throw Error(i(527,YT,"19.2.0"));q.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=d(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var BU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{st=Yh.inject(BU),Ht=Yh}catch{}}return fd.createRoot=function(o,c){if(!r(o))throw Error(i(299));var f=!1,p="",y=tC,w=nC,R=iC;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),c=jT(o,1,!1,null,null,f,p,null,y,w,R,GT),o[Al]=c.current,Uy(o),new rb(c)},fd.hydrateRoot=function(o,c,f){if(!r(o))throw Error(i(299));var p=!1,y="",w=tC,R=nC,I=iC,H=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.formState!==void 0&&(H=f.formState)),c=jT(o,1,!0,c,f??null,p,y,H,w,R,I,GT),c.context=LT(null),f=c.current,p=Ki(),p=ar(p),y=va(p),y.callback=null,ya(f,y,p),f=p,c.current.lanes=f,bt(c,f),es(c),o[Al]=c.current,Uy(o),new Gh(c)},fd.version="19.2.0",fd}var rA;function ZU(){if(rA)return ob.exports;rA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ob.exports=XU(),ob.exports}var JU=ZU();const ez=bf(JU);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sA="popstate";function tz(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return C0("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Qd(r)}return iz(e,n,null,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nz(){return Math.random().toString(36).substring(2,10)}function aA(t,e){return{usr:t.state,key:t.key,idx:e}}function C0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?su(e):e,state:n,key:e&&e.key||i||nz()}}function Qd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function su(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function iz(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function g(){l="POP";let S=h(),x=S==null?null:S-d;d=S,u&&u({action:l,location:b.location,delta:x})}function m(S,x){l="PUSH";let T=C0(b.location,S,x);d=h()+1;let A=aA(T,d),O=b.createHref(T);try{a.pushState(A,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(O)}s&&u&&u({action:l,location:b.location,delta:1})}function v(S,x){l="REPLACE";let T=C0(b.location,S,x);d=h();let A=aA(T,d),O=b.createHref(T);a.replaceState(A,"",O),s&&u&&u({action:l,location:b.location,delta:0})}function _(S){return rz(S)}let b={get action(){return l},get location(){return t(r,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(sA,g),u=S,()=>{r.removeEventListener(sA,g),u=null}},createHref(S){return e(r,S)},createURL:_,encodeLocation(S){let x=_(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(S){return a.go(S)}};return b}function rz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Qd(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ek(t,e,n="/"){return sz(t,e,n,!1)}function sz(t,e,n,i){let r=typeof e=="string"?su(e):e,s=na(r.pathname||"/",n);if(s==null)return null;let a=tk(t);az(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=vz(s);l=pz(a[u],d,i)}return l}function tk(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&u)return;ln(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let g=Zs([i,h.relativePath]),m=n.concat(h);a.children&&a.children.length>0&&(ln(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),tk(a.children,e,m,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:hz(g,a.index),routesMeta:m})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of nk(a.path))s(a,l,!0,u)}),e}function nk(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=nk(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function az(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gz(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var oz=/^:[\w-]+$/,lz=3,cz=2,uz=1,dz=10,fz=-2,oA=t=>t==="*";function hz(t,e){let n=t.split("/"),i=n.length;return n.some(oA)&&(i+=fz),e&&(i+=cz),n.filter(r=>!oA(r)).reduce((r,s)=>r+(oz.test(s)?lz:s===""?uz:dz),i)}function gz(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function pz(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],d=l===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",g=up({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),m=u.route;if(!g&&d&&n&&!i[i.length-1].route.index&&(g=up({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:Zs([s,g.pathname]),pathnameBase:wz(Zs([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=Zs([s,g.pathnameBase]))}return a}function up(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=mz(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((d,{paramName:h,isOptional:g},m)=>{if(h==="*"){let _=l[m]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=l[m];return g&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function mz(t,e=!1,n=!0){Vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function vz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function na(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function yz(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?su(t):t;return{pathname:n?n.startsWith("/")?n:bz(n,e):e,search:Sz(i),hash:xz(r)}}function bz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function db(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _z(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Z_(t){let e=_z(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function J_(t,e,n,i=!1){let r;typeof t=="string"?r=su(t):(r={...t},ln(!r.pathname||!r.pathname.includes("?"),db("?","pathname","search",r)),ln(!r.pathname||!r.pathname.includes("#"),db("#","pathname","hash",r)),ln(!r.search||!r.search.includes("#"),db("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;r.pathname=m.join("/")}l=g>=0?e[g]:"/"}let u=yz(r,l),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Zs=t=>t.join("/").replace(/\/\/+/g,"/"),wz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ez(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ik=["POST","PUT","PATCH","DELETE"];new Set(ik);var Cz=["GET",...ik];new Set(Cz);var au=C.createContext(null);au.displayName="DataRouter";var rm=C.createContext(null);rm.displayName="DataRouterState";C.createContext(!1);var rk=C.createContext({isTransitioning:!1});rk.displayName="ViewTransition";var Tz=C.createContext(new Map);Tz.displayName="Fetchers";var Az=C.createContext(null);Az.displayName="Await";var Yr=C.createContext(null);Yr.displayName="Navigation";var _f=C.createContext(null);_f.displayName="Location";var Dr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var ew=C.createContext(null);ew.displayName="RouteError";function Rz(t,{relative:e}={}){ln(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(Yr),{hash:r,pathname:s,search:a}=wf(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Zs([n,s])),i.createHref({pathname:l,search:a,hash:r})}function ou(){return C.useContext(_f)!=null}function oa(){return ln(ou(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(_f).location}var sk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ak(t){C.useContext(Yr).static||C.useLayoutEffect(t)}function vs(){let{isDataRoute:t}=C.useContext(Dr);return t?Vz():Dz()}function Dz(){ln(ou(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(au),{basename:e,navigator:n}=C.useContext(Yr),{matches:i}=C.useContext(Dr),{pathname:r}=oa(),s=JSON.stringify(Z_(i)),a=C.useRef(!1);return ak(()=>{a.current=!0}),C.useCallback((u,d={})=>{if(Vr(a.current,sk),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=J_(u,JSON.parse(s),r,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,r,t])}var Oz=C.createContext(null);function kz(t){let e=C.useContext(Dr).outlet;return C.useMemo(()=>e&&C.createElement(Oz.Provider,{value:t},e),[e,t])}function sm(){let{matches:t}=C.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function wf(t,{relative:e}={}){let{matches:n}=C.useContext(Dr),{pathname:i}=oa(),r=JSON.stringify(Z_(n));return C.useMemo(()=>J_(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function Mz(t,e){return ok(t,e)}function ok(t,e,n,i,r){ln(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(Yr),{matches:a}=C.useContext(Dr),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let T=g&&g.path||"";lk(d,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let m=oa(),v;if(e){let T=typeof e=="string"?su(e):e;ln(h==="/"||T.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=m;let _=v.pathname||"/",b=_;if(h!=="/"){let T=h.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=ek(t,{pathname:b});Vr(g||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Lz(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Zs([h,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Zs([h,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,n,i,r);return e&&x?C.createElement(_f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function Nz(){let t=Bz(),e=Ez(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:r},n):null,a)}var Iz=C.createElement(Nz,null),Pz=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(Dr.Provider,{value:this.props.routeContext},C.createElement(ew.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jz({routeContext:t,match:e,children:n}){let i=C.useContext(au);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Dr.Provider,{value:t},n)}function Lz(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);ln(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:m}=n,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,g)=>{let m,v=!1,_=null,b=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||Iz,l&&(u<0&&g===0?(lk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):u===g&&(v=!0,b=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),x=()=>{let T;return m?T=_:v?T=b:h.route.Component?T=C.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,C.createElement(jz,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?C.createElement(Pz,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:i}):x()},null)}function tw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fz(t){let e=C.useContext(au);return ln(e,tw(t)),e}function Uz(t){let e=C.useContext(rm);return ln(e,tw(t)),e}function zz(t){let e=C.useContext(Dr);return ln(e,tw(t)),e}function nw(t){let e=zz(t),n=e.matches[e.matches.length-1];return ln(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Hz(){return nw("useRouteId")}function Bz(){let t=C.useContext(ew),e=Uz("useRouteError"),n=nw("useRouteError");return t!==void 0?t:e.errors?.[n]}function Vz(){let{router:t}=Fz("useNavigate"),e=nw("useNavigate"),n=C.useRef(!1);return ak(()=>{n.current=!0}),C.useCallback(async(r,s={})=>{Vr(n.current,sk),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var lA={};function lk(t,e,n){!e&&!lA[t]&&(lA[t]=!0,Vr(!1,n))}C.memo($z);function $z({routes:t,future:e,state:n,unstable_onError:i}){return ok(t,void 0,n,i,e)}function ck({to:t,replace:e,state:n,relative:i}){ln(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=C.useContext(Yr);Vr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(Dr),{pathname:a}=oa(),l=vs(),u=J_(t,Z_(s),a,i==="path"),d=JSON.stringify(u);return C.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:i})},[l,d,i,e,n]),null}function uk(t){return kz(t.context)}function Ln(t){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qz({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){ln(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof n=="string"&&(n=su(n));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:m="default"}=n,v=C.useMemo(()=>{let _=na(u,a);return _==null?null:{location:{pathname:_,search:d,hash:h,state:g,key:m},navigationType:i}},[a,u,d,h,g,m,i]);return Vr(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:C.createElement(Yr.Provider,{value:l},C.createElement(_f.Provider,{children:e,value:v}))}function Wz({children:t,location:e}){return Mz(T0(t),e)}function T0(t,e=[]){let n=[];return C.Children.forEach(t,(i,r)=>{if(!C.isValidElement(i))return;let s=[...e,r];if(i.type===C.Fragment){n.push.apply(n,T0(i.props.children,s));return}ln(i.type===Ln,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=T0(i.props.children,s)),n.push(a)}),n}var Wg="get",Gg="application/x-www-form-urlencoded";function am(t){return t!=null&&typeof t.tagName=="string"}function Gz(t){return am(t)&&t.tagName.toLowerCase()==="button"}function Yz(t){return am(t)&&t.tagName.toLowerCase()==="form"}function Kz(t){return am(t)&&t.tagName.toLowerCase()==="input"}function Qz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xz(t,e){return t.button===0&&(!e||e==="_self")&&!Qz(t)}var Kh=null;function Zz(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var Jz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fb(t){return t!=null&&!Jz.has(t)?(Vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gg}"`),null):t}function eH(t,e){let n,i,r,s,a;if(Yz(t)){let l=t.getAttribute("action");i=l?na(l,e):null,n=t.getAttribute("method")||Wg,r=fb(t.getAttribute("enctype"))||Gg,s=new FormData(t)}else if(Gz(t)||Kz(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?na(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Wg,r=fb(t.getAttribute("formenctype"))||fb(l.getAttribute("enctype"))||Gg,s=new FormData(l,t),!Zz()){let{name:d,type:h,value:g}=t;if(h==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,g)}}else{if(am(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wg,i=null,r=Gg,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tH(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&na(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function nH(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iH(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rH(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await nH(s,n);return a.links?a.links():[]}return[]}));return lH(i.flat(1).filter(iH).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function cA(t,e,n,i,r,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{let h=i.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function sH(t,e,{includeHydrateFallback:n}={}){return aH(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function aH(t){return[...new Set(t)]}function oH(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function lH(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(oH(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function dk(){let t=C.useContext(au);return iw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cH(){let t=C.useContext(rm);return iw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rw=C.createContext(void 0);rw.displayName="FrameworkContext";function fk(){let t=C.useContext(rw);return iw(t,"You must render this element inside a <HydratedRouter> element"),t}function uH(t,e){let n=C.useContext(rw),[i,r]=C.useState(!1),[s,a]=C.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:g}=e,m=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let b=x=>{x.forEach(T=>{a(T.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[t]),C.useEffect(()=>{if(i){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[i]);let v=()=>{r(!0)},_=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:hd(l,v),onBlur:hd(u,_),onMouseEnter:hd(d,v),onMouseLeave:hd(h,_),onTouchStart:hd(g,v)}]:[!1,m,{}]}function hd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dH({page:t,...e}){let{router:n}=dk(),i=C.useMemo(()=>ek(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?C.createElement(hH,{page:t,matches:i,...e}):null}function fH(t){let{manifest:e,routeModules:n}=fk(),[i,r]=C.useState([]);return C.useEffect(()=>{let s=!1;return rH(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function hH({page:t,matches:e,...n}){let i=oa(),{manifest:r,routeModules:s}=fk(),{basename:a}=dk(),{loaderData:l,matches:u}=cH(),d=C.useMemo(()=>cA(t,e,u,r,i,"data"),[t,e,u,r,i]),h=C.useMemo(()=>cA(t,e,u,r,i,"assets"),[t,e,u,r,i]),g=C.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,b=!1;if(e.forEach(x=>{let T=r.routes[x.route.id];!T||!T.hasLoader||(!d.some(A=>A.route.id===x.route.id)&&x.route.id in l&&s[x.route.id]?.shouldRevalidate||T.hasClientLoader?b=!0:_.add(x.route.id))}),_.size===0)return[];let S=tH(t,a,"data");return b&&_.size>0&&S.searchParams.set("_routes",e.filter(x=>_.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[a,l,i,r,d,e,t,s]),m=C.useMemo(()=>sH(h,r),[h,r]),v=fH(h);return C.createElement(C.Fragment,null,g.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),m.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:b})=>C.createElement("link",{key:_,nonce:n.nonce,...b})))}function gH(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hk&&(window.__reactRouterVersion="7.9.4")}catch{}function pH({basename:t,children:e,window:n}){let i=C.useRef();i.current==null&&(i.current=tz({window:n,v5Compat:!0}));let r=i.current,[s,a]=C.useState({action:r.action,location:r.location}),l=C.useCallback(u=>{C.startTransition(()=>a(u))},[a]);return C.useLayoutEffect(()=>r.listen(l),[r,l]),C.createElement(qz,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var gk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wi=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:g,...m},v){let{basename:_}=C.useContext(Yr),b=typeof d=="string"&&gk.test(d),S,x=!1;if(typeof d=="string"&&b&&(S=d,hk))try{let P=new URL(window.location.href),z=d.startsWith("//")?new URL(P.protocol+d):new URL(d),B=na(z.pathname,_);z.origin===P.origin&&B!=null?d=B+z.search+z.hash:x=!0}catch{Vr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Rz(d,{relative:r}),[A,O,D]=uH(i,m),N=bH(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:r,viewTransition:g});function M(P){e&&e(P),P.defaultPrevented||N(P)}let k=C.createElement("a",{...m,...D,href:S||T,onClick:x||s?e:M,ref:gH(v,O),target:u,"data-discover":!b&&n==="render"?"true":void 0});return A&&!b?C.createElement(C.Fragment,null,k,C.createElement(dH,{page:T})):k});wi.displayName="Link";var mH=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...d},h){let g=wf(a,{relative:d.relative}),m=oa(),v=C.useContext(rm),{navigator:_,basename:b}=C.useContext(Yr),S=v!=null&&EH(g)&&l===!0,x=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,T=m.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),A=A?A.toLowerCase():null,x=x.toLowerCase()),A&&b&&(A=na(A,b)||A);const O=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let D=T===x||!r&&T.startsWith(x)&&T.charAt(O)==="/",N=A!=null&&(A===x||!r&&A.startsWith(x)&&A.charAt(x.length)==="/"),M={isActive:D,isPending:N,isTransitioning:S},k=D?e:void 0,P;typeof i=="function"?P=i(M):P=[i,D?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(M):s;return C.createElement(wi,{...d,"aria-current":k,className:P,ref:h,style:z,to:a,viewTransition:l},typeof u=="function"?u(M):u)});mH.displayName="NavLink";var vH=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=Wg,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:g,...m},v)=>{let _=SH(),b=xH(l,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&gk.test(l),T=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let O=A.nativeEvent.submitter,D=O?.getAttribute("formmethod")||a;_(O||A.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:r,state:s,relative:d,preventScrollReset:h,viewTransition:g})};return C.createElement("form",{ref:v,method:S,action:b,onSubmit:i?u:T,...m,"data-discover":!x&&t==="render"?"true":void 0})});vH.displayName="Form";function yH(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pk(t){let e=C.useContext(au);return ln(e,yH(t)),e}function bH(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let l=vs(),u=oa(),d=wf(t,{relative:s});return C.useCallback(h=>{if(Xz(h,e)){h.preventDefault();let g=n!==void 0?n:Qd(u)===Qd(d);l(t,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,l,d,n,i,e,t,r,s,a])}var _H=0,wH=()=>`__${String(++_H)}__`;function SH(){let{router:t}=pk("useSubmit"),{basename:e}=C.useContext(Yr),n=Hz();return C.useCallback(async(i,r={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=eH(i,e);if(r.navigate===!1){let h=r.fetcherKey||wH();await t.fetch(h,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function xH(t,{relative:e}={}){let{basename:n}=C.useContext(Yr),i=C.useContext(Dr);ln(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...wf(t||".",{relative:e})},a=oa();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Zs([n,s.pathname])),Qd(s)}function EH(t,{relative:e}={}){let n=C.useContext(rk);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pk("useViewTransitionState"),r=wf(t,{relative:e});if(!n.isTransitioning)return!1;let s=na(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=na(n.nextLocation.pathname,i)||n.nextLocation.pathname;return up(r.pathname,a)!=null||up(r.pathname,s)!=null}var tr=J1();const mk=bf(tr);var lu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},CH={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},TH=class{#e=CH;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Jo=new TH;function AH(t){setTimeout(t,0)}var ll=typeof window>"u"||"Deno"in globalThis;function bi(){}function RH(t,e){return typeof t=="function"?t(e):t}function A0(t){return typeof t=="number"&&t>=0&&t!==1/0}function vk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Xa(t,e){return typeof t=="function"?t(e):t}function wr(t,e){return typeof t=="function"?t(e):t}function uA(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:a,stale:l}=t;if(a){if(i){if(e.queryHash!==sw(a,e.options))return!1}else if(!Xd(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||s&&!s(e))}function dA(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(cl(e.options.mutationKey)!==cl(s))return!1}else if(!Xd(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function sw(t,e){return(e?.queryKeyHashFn||cl)(t)}function cl(t){return JSON.stringify(t,(e,n)=>R0(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Xd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xd(t[n],e[n])):!1}var DH=Object.prototype.hasOwnProperty;function yk(t,e){if(t===e)return t;const n=fA(t)&&fA(e);if(!n&&!(R0(t)&&R0(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=n?d:s[d],g=t[h],m=e[h];if(g===m){l[h]=g,(n?d<r:DH.call(t,h))&&u++;continue}if(g===null||m===null||typeof g!="object"||typeof m!="object"){l[h]=m;continue}const v=yk(g,m);l[h]=v,v===g&&u++}return r===a&&u===r?t:l}function dp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function fA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function R0(t){if(!hA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hA(t){return Object.prototype.toString.call(t)==="[object Object]"}function OH(t){return new Promise(e=>{Jo.setTimeout(e,t)})}function D0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yk(t,e):e}function kH(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function MH(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var aw=Symbol();function bk(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===aw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function _k(t,e){return typeof t=="function"?t(...e):!!t}var NH=class extends lu{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ll&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ow=new NH;function O0(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var IH=AH;function PH(){let t=[],e=0,n=l=>{l()},i=l=>{l()},r=IH;const s=l=>{e?t.push(l):r(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&r(()=>{i(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{r=l}}}var Hn=PH(),jH=class extends lu{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ll&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},fp=new jH;function LH(t){return Math.min(1e3*2**t,3e4)}function wk(t){return(t??"online")==="online"?fp.isOnline():!0}var k0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Sk(t){let e=!1,n=0,i;const r=O0(),s=()=>r.status!=="pending",a=b=>{if(!s()){const S=new k0(b);m(S),t.onCancel?.(S)}},l=()=>{e=!0},u=()=>{e=!1},d=()=>ow.isFocused()&&(t.networkMode==="always"||fp.isOnline())&&t.canRun(),h=()=>wk(t.networkMode)&&t.canRun(),g=b=>{s()||(i?.(),r.resolve(b))},m=b=>{s()||(i?.(),r.reject(b))},v=()=>new Promise(b=>{i=S=>{(s()||d())&&b(S)},t.onPause?.()}).then(()=>{i=void 0,s()||t.onContinue?.()}),_=()=>{if(s())return;let b;const S=n===0?t.initialPromise:void 0;try{b=S??t.fn()}catch(x){b=Promise.reject(x)}Promise.resolve(b).then(g).catch(x=>{if(s())return;const T=t.retry??(ll?0:3),A=t.retryDelay??LH,O=typeof A=="function"?A(n,x):A,D=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,x);if(e||!D){m(x);return}n++,t.onFail?.(n,x),OH(O).then(()=>d()?void 0:v()).then(()=>{e?m(x):_()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(i?.(),r),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?_():v().then(_),r)}}var xk=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),A0(this.gcTime)&&(this.#e=Jo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ll?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Jo.clearTimeout(this.#e),this.#e=void 0)}},FH=class extends xk{#e;#t;#n;#r;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=gA(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=gA(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=D0(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(bi).catch(bi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>wr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vk(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},r=()=>{const l=bk(this.options,e),d=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(h),h})();return this.#o=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return i(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=Sk({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof k0&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#i.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof k0){if(l.silent)return this.#i.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ek(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const r=t.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Hn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Ek(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var UH=class extends lu{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=O0(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#p;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),pA(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return M0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return M0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!dp(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&mA(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),i&&(this.#t!==n||wr(this.options.enabled,this.#t)!==wr(e.enabled,this.#t)||Xa(this.options.staleTime,this.#t)!==Xa(e.staleTime,this.#t))&&this.#m();const r=this.#v();i&&(this.#t!==n||wr(this.options.enabled,this.#t)!==wr(e.enabled,this.#t)||r!==this.#l)&&this.#y(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return HH(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(bi)),e}#m(){this.#_();const t=Xa(this.options.staleTime,this.#t);if(ll||this.#r.isStale||!A0(t))return;const n=vk(this.#r.dataUpdatedAt,t)+1;this.#c=Jo.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(ll||wr(this.options.enabled,this.#t)===!1||!A0(this.#l)||this.#l===0)&&(this.#u=Jo.setInterval(()=>{(this.options.refetchIntervalInBackground||ow.isFocused())&&this.#d()},this.#l))}#b(){this.#m(),this.#y(this.#v())}#_(){this.#c&&(Jo.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Jo.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,i=this.options,r=this.#r,s=this.#i,a=this.#a,u=t!==n?t.state:this.#n,{state:d}=t;let h={...d},g=!1,m;if(e._optimisticResults){const k=this.hasListeners(),P=!k&&pA(t,e),z=k&&mA(t,n,e,i);(P||z)&&(h={...h,...Ek(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:b}=h;m=h.data;let S=!1;if(e.placeholderData!==void 0&&m===void 0&&b==="pending"){let k;r?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(k=r.data,S=!0):k=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,k!==void 0&&(b="success",m=D0(r?.data,k,e),g=!0)}if(e.select&&m!==void 0&&!S)if(r&&m===s?.data&&e.select===this.#p)m=this.#f;else try{this.#p=e.select,m=e.select(m),m=D0(r?.data,m,e),this.#f=m,this.#s=null}catch(k){this.#s=k}this.#s&&(v=this.#s,m=this.#f,_=Date.now(),b="error");const x=h.fetchStatus==="fetching",T=b==="pending",A=b==="error",O=T&&x,D=m!==void 0,M={status:b,fetchStatus:h.fetchStatus,isPending:T,isSuccess:b==="success",isError:A,isInitialLoading:O,isLoading:O,data:m,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!T,isLoadingError:A&&!D,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:A&&D,isStale:lw(t,e),refetch:this.refetch,promise:this.#o,isEnabled:wr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=B=>{M.status==="error"?B.reject(M.error):M.data!==void 0&&B.resolve(M.data)},P=()=>{const B=this.#o=M.promise=O0();k(B)},z=this.#o;switch(z.status){case"pending":t.queryHash===n.queryHash&&k(z);break;case"fulfilled":(M.status==="error"||M.data!==z.value)&&P();break;case"rejected":(M.status!=="error"||M.error!==z.reason)&&P();break}}return M}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),dp(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#g.size)return!0;const s=new Set(r??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(a=>{const l=a;return this.#r[l]!==t[l]&&s.has(l)})};this.#x({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(t){Hn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function zH(t,e){return wr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pA(t,e){return zH(t,e)||t.state.data!==void 0&&M0(t,e,e.refetchOnMount)}function M0(t,e,n){if(wr(e.enabled,t)!==!1&&Xa(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&lw(t,e)}return!1}function mA(t,e,n,i){return(t!==e||wr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&lw(t,n)}function lw(t,e){return wr(e.enabled,t)!==!1&&t.isStaleByTime(Xa(e.staleTime,t))}function HH(t,e){return!dp(t.getCurrentResult(),e)}function vA(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const g=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},m=bk(e.options,e.fetchOptions),v=async(_,b,S)=>{if(h)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const T=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:b,direction:S?"backward":"forward",meta:e.options.meta};return g(N),N})(),A=await m(T),{maxPages:O}=e.options,D=S?MH:kH;return{pages:D(_.pages,A,O),pageParams:D(_.pageParams,b,O)}};if(r&&s.length){const _=r==="backward",b=_?BH:yA,S={pages:s,pageParams:a},x=b(i,S);l=await v(S,x,_)}else{const _=t??s.length;do{const b=u===0?a[0]??i.initialPageParam:yA(i,l);if(u>0&&b==null)break;l=await v(l,b),u++}while(u<_)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function yA(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function BH(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var VH=class extends xk{#e;#t;#n;#r;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||Ck(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=Sk({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#i({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",r=!this.#r.canStart();try{if(i)e();else{this.#i({type:"pending",variables:t,isPaused:r}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#i({type:"pending",context:a,variables:t,isPaused:r})}const s=await this.#r.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#i({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#i({type:"error",error:s})}}finally{this.#n.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Hn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function Ck(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $H=class extends lu{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new VH({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=Qh(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Qh(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Qh(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=Qh(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Hn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>dA(e,n))}findAll(t={}){return this.getAll().filter(e=>dA(t,e))}notify(t){Hn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Hn.batch(()=>Promise.all(t.map(e=>e.continue().catch(bi))))}};function Qh(t){return t.options.scope?.id}var qH=class extends lu{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),dp(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&cl(n.mutationKey)!==cl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??Ck();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Hn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,n,i,r),this.#r.onSettled?.(e.data,null,n,i,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,i,r),this.#r.onSettled?.(void 0,e.error,n,i,r))}this.listeners.forEach(n=>{n(this.#t)})})}},WH=class extends lu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,r=e.queryHash??sw(i,e);let s=this.get(r);return s||(s=new FH({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>uA(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>uA(t,n)):e}notify(t){Hn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Hn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Hn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},GH=class{#e;#t;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new WH,this.#t=t.mutationCache||new $H,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=ow.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=fp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Xa(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(i.queryHash)?.state.data,a=RH(e,s);if(a!==void 0)return this.#e.build(this,i).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Hn.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Hn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Hn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Hn.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(bi).catch(bi)}invalidateQueries(t,e={}){return Hn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Hn.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(bi)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(bi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Xa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(bi).catch(bi)}fetchInfiniteQuery(t){return t.behavior=vA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(bi).catch(bi)}ensureInfiniteQueryData(t){return t.behavior=vA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(cl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Xd(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(cl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Xd(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===aw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Tk=C.createContext(void 0),Bi=t=>{const e=C.useContext(Tk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},YH=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(Tk.Provider,{value:t,children:e})),Ak=C.createContext(!1),KH=()=>C.useContext(Ak);Ak.Provider;function QH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var XH=C.createContext(QH()),ZH=()=>C.useContext(XH),JH=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},eB=t=>{C.useEffect(()=>{t.clearReset()},[t])},tB=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||_k(n,[t.error,i])),nB=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},iB=(t,e)=>t.isLoading&&t.isFetching&&!e,rB=(t,e)=>t?.suspense&&e.isPending,bA=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function sB(t,e,n){const i=KH(),r=ZH(),s=Bi(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",nB(a),JH(a,r),eB(r);const l=!s.getQueryCache().get(a.queryHash),[u]=C.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!i&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(g=>{const m=h?u.subscribe(Hn.batchCalls(g)):bi;return u.updateResult(),m},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),C.useEffect(()=>{u.setOptions(a)},[a,u]),rB(a,d))throw bA(a,u,r);if(tB({result:d,errorResetBoundary:r,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!ll&&iB(d,i)&&(l?bA(a,u,r):s.getQueryCache().get(a.queryHash)?.promise)?.catch(bi).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function bl(t,e){return sB(t,UH)}function la(t,e){const n=Bi(),[i]=C.useState(()=>new qH(n,t));C.useEffect(()=>{i.setOptions(t)},[i,t]);const r=C.useSyncExternalStore(C.useCallback(a=>i.subscribe(Hn.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=C.useCallback((a,l)=>{i.mutate(a,l).catch(bi)},[i]);if(r.error&&_k(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}const aB="modulepreload",oB=function(t){return"/scheduler_demo/"+t},_A={},ii=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=u(n.map(d=>{if(d=oB(d),d in _A)return;_A[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":aB,h||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((v,_)=>{m.addEventListener("load",v),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function lB(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const cB=t=>{switch(t){case"success":return fB;case"info":return gB;case"warning":return hB;case"error":return pB;default:return null}},uB=Array(12).fill(0),dB=({visible:t,className:e})=>ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ae.createElement("div",{className:"sonner-spinner"},uB.map((n,i)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),fB=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hB=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gB=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pB=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mB=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vB=()=>{const[t,e]=ae.useState(document.hidden);return ae.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let N0=1;class yB{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...r}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:N0++,a=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:i}),{...u,...e,id:s,dismissible:l,title:i}):u):this.addToast({title:i,...r,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,a;const l=r.then(async d=>{if(a=["resolve",d],ae.isValidElement(d))s=!1,this.create({id:i,type:"default",message:d});else if(_B(d)&&!d.ok){s=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,_=typeof g=="object"&&!ae.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:m,..._})}else if(d instanceof Error){s=!1;const g=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,_=typeof g=="object"&&!ae.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:m,..._})}else if(n.success!==void 0){s=!1;const g=typeof n.success=="function"?await n.success(d):n.success,m=typeof n.description=="function"?await n.description(d):n.description,_=typeof g=="object"&&!ae.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:m,..._})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,v=typeof h=="object"&&!ae.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:g,...v})}}).finally(()=>{s&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof i!="string"&&typeof i!="number"?{unwrap:u}:Object.assign(i,{unwrap:u})},this.custom=(e,n)=>{const i=n?.id||N0++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ji=new yB,bB=(t,e)=>{const n=e?.id||N0++;return ji.addToast({title:t,...e,id:n}),n},_B=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",wB=bB,SB=()=>ji.toasts,xB=()=>ji.getActiveToasts(),lo=Object.assign(wB,{success:ji.success,info:ji.info,warning:ji.warning,error:ji.error,custom:ji.custom,message:ji.message,promise:ji.promise,dismiss:ji.dismiss,loading:ji.loading},{getHistory:SB,getToasts:xB});lB("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Xh(t){return t.label!==void 0}const EB=3,CB="24px",TB="16px",wA=4e3,AB=356,RB=14,DB=45,OB=200;function ts(...t){return t.filter(Boolean).join(" ")}function kB(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const MB=t=>{var e,n,i,r,s,a,l,u,d;const{invert:h,toast:g,unstyled:m,interacting:v,setHeights:_,visibleToasts:b,heights:S,index:x,toasts:T,expanded:A,removeToast:O,defaultRichColors:D,closeButton:N,style:M,cancelButtonStyle:k,actionButtonStyle:P,className:z="",descriptionClassName:B="",duration:K,position:ne,gap:ue,expandByDefault:ge,classNames:L,icons:q,closeButtonAriaLabel:$="Close toast"}=t,[re,ve]=ae.useState(null),[U,J]=ae.useState(null),[ee,le]=ae.useState(!1),[be,we]=ae.useState(!1),[ce,me]=ae.useState(!1),[Te,Ce]=ae.useState(!1),[je,ze]=ae.useState(!1),[zt,xe]=ae.useState(0),[Be,Xe]=ae.useState(0),Dt=ae.useRef(g.duration||K||wA),xn=ae.useRef(null),Ze=ae.useRef(null),j=x===0,W=x+1<=b,Q=g.type,Y=g.dismissible!==!1,te=g.className||"",de=g.descriptionClassName||"",ye=ae.useMemo(()=>S.findIndex(Ee=>Ee.toastId===g.id)||0,[S,g.id]),_e=ae.useMemo(()=>{var Ee;return(Ee=g.closeButton)!=null?Ee:N},[g.closeButton,N]),Se=ae.useMemo(()=>g.duration||K||wA,[g.duration,K]),Ne=ae.useRef(0),Je=ae.useRef(0),Ge=ae.useRef(0),ft=ae.useRef(null),[st,Ht]=ne.split("-"),at=ae.useMemo(()=>S.reduce((Ee,We,ht)=>ht>=ye?Ee:Ee+We.height,0),[S,ye]),qe=vB(),vn=g.invert||h,nt=Q==="loading";Je.current=ae.useMemo(()=>ye*ue+at,[ye,at]),ae.useEffect(()=>{Dt.current=Se},[Se]),ae.useEffect(()=>{le(!0)},[]),ae.useEffect(()=>{const Ee=Ze.current;if(Ee){const We=Ee.getBoundingClientRect().height;return Xe(We),_(ht=>[{toastId:g.id,height:We,position:g.position},...ht]),()=>_(ht=>ht.filter(yt=>yt.toastId!==g.id))}},[_,g.id]),ae.useLayoutEffect(()=>{if(!ee)return;const Ee=Ze.current,We=Ee.style.height;Ee.style.height="auto";const ht=Ee.getBoundingClientRect().height;Ee.style.height=We,Xe(ht),_(yt=>yt.find(bt=>bt.toastId===g.id)?yt.map(bt=>bt.toastId===g.id?{...bt,height:ht}:bt):[{toastId:g.id,height:ht,position:g.position},...yt])},[ee,g.title,g.description,_,g.id,g.jsx,g.action,g.cancel]);const vt=ae.useCallback(()=>{we(!0),xe(Je.current),_(Ee=>Ee.filter(We=>We.toastId!==g.id)),setTimeout(()=>{O(g)},OB)},[g,O,_,Je]);ae.useEffect(()=>{if(g.promise&&Q==="loading"||g.duration===1/0||g.type==="loading")return;let Ee;return A||v||qe?(()=>{if(Ge.current<Ne.current){const yt=new Date().getTime()-Ne.current;Dt.current=Dt.current-yt}Ge.current=new Date().getTime()})():(()=>{Dt.current!==1/0&&(Ne.current=new Date().getTime(),Ee=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),vt()},Dt.current))})(),()=>clearTimeout(Ee)},[A,v,g,Q,qe,vt]),ae.useEffect(()=>{g.delete&&(vt(),g.onDismiss==null||g.onDismiss.call(g,g))},[vt,g.delete]);function mi(){var Ee;if(q?.loading){var We;return ae.createElement("div",{className:ts(L?.loader,g==null||(We=g.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":Q==="loading"},q.loading)}return ae.createElement(dB,{className:ts(L?.loader,g==null||(Ee=g.classNames)==null?void 0:Ee.loader),visible:Q==="loading"})}const vi=g.icon||q?.[Q]||cB(Q);var St,Wt;return ae.createElement("li",{tabIndex:0,ref:Ze,className:ts(z,te,L?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,L?.default,L?.[Q],g==null||(n=g.classNames)==null?void 0:n[Q]),"data-sonner-toast":"","data-rich-colors":(St=g.richColors)!=null?St:D,"data-styled":!(g.jsx||g.unstyled||m),"data-mounted":ee,"data-promise":!!g.promise,"data-swiped":je,"data-removed":be,"data-visible":W,"data-y-position":st,"data-x-position":Ht,"data-index":x,"data-front":j,"data-swiping":ce,"data-dismissible":Y,"data-type":Q,"data-invert":vn,"data-swipe-out":Te,"data-swipe-direction":U,"data-expanded":!!(A||ge&&ee),"data-testid":g.testId,style:{"--index":x,"--toasts-before":x,"--z-index":T.length-x,"--offset":`${be?zt:Je.current}px`,"--initial-height":ge?"auto":`${Be}px`,...M,...g.style},onDragEnd:()=>{me(!1),ve(null),ft.current=null},onPointerDown:Ee=>{Ee.button!==2&&(nt||!Y||(xn.current=new Date,xe(Je.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(me(!0),ft.current={x:Ee.clientX,y:Ee.clientY})))},onPointerUp:()=>{var Ee,We,ht;if(Te||!Y)return;ft.current=null;const yt=Number(((Ee=Ze.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),hn=Number(((We=Ze.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bt=new Date().getTime()-((ht=xn.current)==null?void 0:ht.getTime()),et=re==="x"?yt:hn,En=Math.abs(et)/bt;if(Math.abs(et)>=DB||En>.11){xe(Je.current),g.onDismiss==null||g.onDismiss.call(g,g),J(re==="x"?yt>0?"right":"left":hn>0?"down":"up"),vt(),Ce(!0);return}else{var Kt,rn;(Kt=Ze.current)==null||Kt.style.setProperty("--swipe-amount-x","0px"),(rn=Ze.current)==null||rn.style.setProperty("--swipe-amount-y","0px")}ze(!1),me(!1),ve(null)},onPointerMove:Ee=>{var We,ht,yt;if(!ft.current||!Y||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;const bt=Ee.clientY-ft.current.y,et=Ee.clientX-ft.current.x;var En;const Kt=(En=t.swipeDirections)!=null?En:kB(ne);!re&&(Math.abs(et)>1||Math.abs(bt)>1)&&ve(Math.abs(et)>Math.abs(bt)?"x":"y");let rn={x:0,y:0};const ar=Xn=>1/(1.5+Math.abs(Xn)/20);if(re==="y"){if(Kt.includes("top")||Kt.includes("bottom"))if(Kt.includes("top")&&bt<0||Kt.includes("bottom")&&bt>0)rn.y=bt;else{const Xn=bt*ar(bt);rn.y=Math.abs(Xn)<Math.abs(bt)?Xn:bt}}else if(re==="x"&&(Kt.includes("left")||Kt.includes("right")))if(Kt.includes("left")&&et<0||Kt.includes("right")&&et>0)rn.x=et;else{const Xn=et*ar(et);rn.x=Math.abs(Xn)<Math.abs(et)?Xn:et}(Math.abs(rn.x)>0||Math.abs(rn.y)>0)&&ze(!0),(ht=Ze.current)==null||ht.style.setProperty("--swipe-amount-x",`${rn.x}px`),(yt=Ze.current)==null||yt.style.setProperty("--swipe-amount-y",`${rn.y}px`)}},_e&&!g.jsx&&Q!=="loading"?ae.createElement("button",{"aria-label":$,"data-disabled":nt,"data-close-button":!0,onClick:nt||!Y?()=>{}:()=>{vt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ts(L?.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(Wt=q?.close)!=null?Wt:mB):null,(Q||g.icon||g.promise)&&g.icon!==null&&(q?.[Q]!==null||g.icon)?ae.createElement("div",{"data-icon":"",className:ts(L?.icon,g==null||(r=g.classNames)==null?void 0:r.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||mi():null,g.type!=="loading"?vi:null):null,ae.createElement("div",{"data-content":"",className:ts(L?.content,g==null||(s=g.classNames)==null?void 0:s.content)},ae.createElement("div",{"data-title":"",className:ts(L?.title,g==null||(a=g.classNames)==null?void 0:a.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ae.createElement("div",{"data-description":"",className:ts(B,de,L?.description,g==null||(l=g.classNames)==null?void 0:l.description)},typeof g.description=="function"?g.description():g.description):null),ae.isValidElement(g.cancel)?g.cancel:g.cancel&&Xh(g.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:Ee=>{Xh(g.cancel)&&Y&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ee),vt())},className:ts(L?.cancelButton,g==null||(u=g.classNames)==null?void 0:u.cancelButton)},g.cancel.label):null,ae.isValidElement(g.action)?g.action:g.action&&Xh(g.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||P,onClick:Ee=>{Xh(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ee),!Ee.defaultPrevented&&vt())},className:ts(L?.actionButton,g==null||(d=g.classNames)==null?void 0:d.actionButton)},g.action.label):null)};function SA(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function NB(t,e){const n={};return[t,e].forEach((i,r)=>{const s=r===1,a=s?"--mobile-offset":"--offset",l=s?TB:CB;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(l)}),n}const IB=ae.forwardRef(function(e,n){const{id:i,invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:h,mobileOffset:g,theme:m="light",richColors:v,duration:_,style:b,visibleToasts:S=EB,toastOptions:x,dir:T=SA(),gap:A=RB,icons:O,containerAriaLabel:D="Notifications"}=e,[N,M]=ae.useState([]),k=ae.useMemo(()=>i?N.filter(ee=>ee.toasterId===i):N.filter(ee=>!ee.toasterId),[N,i]),P=ae.useMemo(()=>Array.from(new Set([s].concat(k.filter(ee=>ee.position).map(ee=>ee.position)))),[k,s]),[z,B]=ae.useState([]),[K,ne]=ae.useState(!1),[ue,ge]=ae.useState(!1),[L,q]=ae.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=ae.useRef(null),re=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),ve=ae.useRef(null),U=ae.useRef(!1),J=ae.useCallback(ee=>{M(le=>{var be;return(be=le.find(we=>we.id===ee.id))!=null&&be.delete||ji.dismiss(ee.id),le.filter(({id:we})=>we!==ee.id)})},[]);return ae.useEffect(()=>ji.subscribe(ee=>{if(ee.dismiss){requestAnimationFrame(()=>{M(le=>le.map(be=>be.id===ee.id?{...be,delete:!0}:be))});return}setTimeout(()=>{mk.flushSync(()=>{M(le=>{const be=le.findIndex(we=>we.id===ee.id);return be!==-1?[...le.slice(0,be),{...le[be],...ee},...le.slice(be+1)]:[ee,...le]})})})}),[N]),ae.useEffect(()=>{if(m!=="system"){q(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:le})=>{q(le?"dark":"light")})}catch{ee.addListener(({matches:be})=>{try{q(be?"dark":"light")}catch(we){console.error(we)}})}},[m]),ae.useEffect(()=>{N.length<=1&&ne(!1)},[N]),ae.useEffect(()=>{const ee=le=>{var be;if(a.every(me=>le[me]||le.code===me)){var ce;ne(!0),(ce=$.current)==null||ce.focus()}le.code==="Escape"&&(document.activeElement===$.current||(be=$.current)!=null&&be.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[a]),ae.useEffect(()=>{if($.current)return()=>{ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null,U.current=!1)}},[$.current]),ae.createElement("section",{ref:n,"aria-label":`${D} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ee,le)=>{var be;const[we,ce]=ee.split("-");return k.length?ae.createElement("ol",{key:ee,dir:T==="auto"?SA():T,tabIndex:-1,ref:$,className:d,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":we,"data-x-position":ce,style:{"--front-toast-height":`${((be=z[0])==null?void 0:be.height)||0}px`,"--width":`${AB}px`,"--gap":`${A}px`,...b,...NB(h,g)},onBlur:me=>{U.current&&!me.currentTarget.contains(me.relatedTarget)&&(U.current=!1,ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||U.current||(U.current=!0,ve.current=me.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{ue||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||ge(!0)},onPointerUp:()=>ge(!1)},k.filter(me=>!me.position&&le===0||me.position===ee).map((me,Te)=>{var Ce,je;return ae.createElement(MB,{key:me.id,icons:O,index:Te,toast:me,defaultRichColors:v,duration:(Ce=x?.duration)!=null?Ce:_,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:S,closeButton:(je=x?.closeButton)!=null?je:u,interacting:ue,position:ee,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:J,toasts:k.filter(ze=>ze.position==me.position),heights:z.filter(ze=>ze.position==me.position),setHeights:B,expandByDefault:l,gap:A,expanded:K,swipeDirections:e.swipeDirections})})):null}))});var I0=function(t,e){return I0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},I0(t,e)};function Rk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");I0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xr=function(){return xr=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xr.apply(this,arguments)};function co(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Dk(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(s=(r<3?a(s):r>3?a(e,n,s):a(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function Ok(t,e){return function(n,i){e(n,i,t)}}function kk(t,e,n,i,r,s){function a(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=i.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!e&&t?i.static?t:t.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),g,m=!1,v=n.length-1;v>=0;v--){var _={};for(var b in i)_[b]=b==="access"?{}:i[b];for(var b in i.access)_.access[b]=i.access[b];_.addInitializer=function(x){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(x||null))};var S=(0,n[v])(l==="accessor"?{get:h.get,set:h.set}:h[u],_);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(g=a(S.get))&&(h.get=g),(g=a(S.set))&&(h.set=g),(g=a(S.init))&&r.unshift(g)}else(g=a(S))&&(l==="field"?r.unshift(g):h[u]=g)}d&&Object.defineProperty(d,i.name,h),m=!0}function Mk(t,e,n){for(var i=arguments.length>2,r=0;r<e.length;r++)n=i?e[r].call(t,n):e[r].call(t);return i?n:void 0}function Nk(t){return typeof t=="symbol"?t:"".concat(t)}function Ik(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Pk(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Me(t,e,n,i){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(h){try{d(i.next(h))}catch(g){a(g)}}function u(h){try{d(i.throw(h))}catch(g){a(g)}}function d(h){h.done?s(h.value):r(h.value).then(l,u)}d((i=i.apply(t,e||[])).next())})}function jk(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(h){return u([d,h])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,r&&(s=d[0]&2?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],r=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var om=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function Lk(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&om(e,t,n)}function hp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cw(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,s=[],a;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function Fk(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cw(arguments[e]));return t}function Uk(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,r++)i[r]=s[a];return i}function uw(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}function Yc(t){return this instanceof Yc?(this.v=t,this):new Yc(t)}function zk(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(v){return function(_){return Promise.resolve(_).then(v,g)}}function l(v,_){i[v]&&(r[v]=function(b){return new Promise(function(S,x){s.push([v,b,S,x])>1||u(v,b)})},_&&(r[v]=_(r[v])))}function u(v,_){try{d(i[v](_))}catch(b){m(s[0][3],b)}}function d(v){v.value instanceof Yc?Promise.resolve(v.value.v).then(h,g):m(s[0][2],v)}function h(v){u("next",v)}function g(v){u("throw",v)}function m(v,_){v(_),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Hk(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,s){e[r]=t[r]?function(a){return(n=!n)?{value:Yc(t[r](a)),done:!1}:s?s(a):a}:s}}function Bk(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hp=="function"?hp(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(a){return new Promise(function(l,u){a=t[s](a),r(l,u,a.done,a.value)})}}function r(s,a,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},a)}}function Vk(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var PB=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},P0=function(t){return P0=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},P0(t)};function $k(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=P0(t),i=0;i<n.length;i++)n[i]!=="default"&&om(e,t,n[i]);return PB(e,t),e}function qk(t){return t&&t.__esModule?t:{default:t}}function Wk(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function Gk(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n}function Yk(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Kk(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var jB=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Qk(t){function e(s){t.error=t.hasError?new jB(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,i=0;function r(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(r);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(r,function(a){return e(a),r()})}else i|=1}catch(a){e(a)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function Xk(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,r,s,a){return i?e?".jsx":".js":r&&(!s||!a)?n:r+s+"."+a.toLowerCase()+"js"}):t}const LB={__extends:Rk,__assign:xr,__rest:co,__decorate:Dk,__param:Ok,__esDecorate:kk,__runInitializers:Mk,__propKey:Nk,__setFunctionName:Ik,__metadata:Pk,__awaiter:Me,__generator:jk,__createBinding:om,__exportStar:Lk,__values:hp,__read:cw,__spread:Fk,__spreadArrays:Uk,__spreadArray:uw,__await:Yc,__asyncGenerator:zk,__asyncDelegator:Hk,__asyncValues:Bk,__makeTemplateObject:Vk,__importStar:$k,__importDefault:qk,__classPrivateFieldGet:Wk,__classPrivateFieldSet:Gk,__classPrivateFieldIn:Yk,__addDisposableResource:Kk,__disposeResources:Qk,__rewriteRelativeImportExtension:Xk},FB=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Kk,get __assign(){return xr},__asyncDelegator:Hk,__asyncGenerator:zk,__asyncValues:Bk,__await:Yc,__awaiter:Me,__classPrivateFieldGet:Wk,__classPrivateFieldIn:Yk,__classPrivateFieldSet:Gk,__createBinding:om,__decorate:Dk,__disposeResources:Qk,__esDecorate:kk,__exportStar:Lk,__extends:Rk,__generator:jk,__importDefault:qk,__importStar:$k,__makeTemplateObject:Vk,__metadata:Pk,__param:Ok,__propKey:Nk,__read:cw,__rest:co,__rewriteRelativeImportExtension:Xk,__runInitializers:Mk,__setFunctionName:Ik,__spread:Fk,__spreadArray:uw,__spreadArrays:Uk,__values:hp,default:LB},Symbol.toStringTag,{value:"Module"})),UB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ii(async()=>{const{default:i}=await Promise.resolve().then(()=>_l);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class dw extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class xA extends dw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class EA extends dw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class CA extends dw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var j0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(j0||(j0={}));class zB{constructor(e,{headers:n={},customFetch:i,region:r=j0.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=UB(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Me(this,arguments,void 0,function*(n,i={}){var r;try{const{headers:s,method:a,body:l,signal:u}=i;let d={},{region:h}=i;h||(h=this.region);const g=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let m;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(d["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(d["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const v=yield this.fetch(g.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:m,signal:u}).catch(x=>{throw x.name==="AbortError"?x:new xA(x)}),_=v.headers.get("x-relay-error");if(_&&_==="true")throw new EA(v);if(!v.ok)throw new CA(v);let b=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield v.json():b==="application/octet-stream"||b==="application/pdf"?S=yield v.blob():b==="text/event-stream"?S=v:b==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new xA(s)}:{data:null,error:s,response:s instanceof CA||s instanceof EA?s.context:void 0}}})}}var li={};const cu=X1(FB);var Zh={},Jh={},eg={},tg={},ng={},HB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kc=HB();const BB=Kc.fetch,Zk=Kc.fetch.bind(Kc),Jk=Kc.Headers,VB=Kc.Request,$B=Kc.Response,_l=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jk,Request:VB,Response:$B,default:Zk,fetch:BB},Symbol.toStringTag,{value:"Module"})),qB=X1(_l);var ig={},TA;function eM(){if(TA)return ig;TA=1,Object.defineProperty(ig,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ig.default=t,ig}var AA;function tM(){if(AA)return ng;AA=1,Object.defineProperty(ng,"__esModule",{value:!0});const t=cu,e=t.__importDefault(qB),n=t.__importDefault(eM());class i{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,m,v;let _=null,b=null,S=null,x=d.status,T=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=N:b=JSON.parse(N))}const O=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),D=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");O&&D&&D.length>1&&(S=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,x=406,T="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const O=await d.text();try{_=JSON.parse(O),Array.isArray(_)&&d.status===404&&(b=[],_=null,x=200,T="OK")}catch{d.status===404&&O===""?(x=204,T="No Content"):_={message:O}}if(_&&this.isMaybeSingle&&(!((v=_?.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,x=200,T="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:b,count:S,status:x,statusText:T}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,g,m;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(g=d?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(m=d?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return ng.default=i,ng}var RA;function nM(){if(RA)return tg;RA=1,Object.defineProperty(tg,"__esModule",{value:!0});const e=cu.__importDefault(tM());class n extends e.default{select(r){let s=!1;const a=(r??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${r}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(d,`${s-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const g=[r?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return tg.default=n,tg}var DA;function fw(){if(DA)return eg;DA=1,Object.defineProperty(eg,"__esModule",{value:!0});const e=cu.__importDefault(nM());class n extends e.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const a=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${a})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(r,`${u}fts${d}.${s}`),this}match(r){return Object.entries(r).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(r,s,a){return this.url.searchParams.append(r,`not.${s}.${a}`),this}or(r,{foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,s,a){return this.url.searchParams.append(r,`${s}.${a}`),this}}return eg.default=n,eg}var OA;function iM(){if(OA)return Jh;OA=1,Object.defineProperty(Jh,"__esModule",{value:!0});const e=cu.__importDefault(fw());class n{constructor(r,{headers:s={},schema:a,fetch:l}){this.url=r,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(r,s){const{head:a=!1,count:l}=s??{},u=a?"HEAD":"GET";let d=!1;const h=(r??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:s,defaultToNull:a=!0}={}){var l;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(g.length>0){const m=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:r}={}){var s;const a="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Jh.default=n,Jh}var kA;function WB(){if(kA)return Zh;kA=1,Object.defineProperty(Zh,"__esModule",{value:!0});const t=cu,e=t.__importDefault(iM()),n=t.__importDefault(fw());class i{constructor(s,{headers:a={},schema:l,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:u=!1,count:d}={}){var h;let g;const m=new URL(`${this.url}/rpc/${s}`);let v;l||u?(g=l?"HEAD":"GET",Object.entries(a).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{m.searchParams.append(b,S)})):(g="POST",v=a);const _=new Headers(this.headers);return d&&_.set("Prefer",`count=${d}`),new n.default({method:g,url:m,headers:_,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Zh.default=i,Zh}var MA;function GB(){if(MA)return li;MA=1,Object.defineProperty(li,"__esModule",{value:!0}),li.PostgrestError=li.PostgrestBuilder=li.PostgrestTransformBuilder=li.PostgrestFilterBuilder=li.PostgrestQueryBuilder=li.PostgrestClient=void 0;const t=cu,e=t.__importDefault(WB());li.PostgrestClient=e.default;const n=t.__importDefault(iM());li.PostgrestQueryBuilder=n.default;const i=t.__importDefault(fw());li.PostgrestFilterBuilder=i.default;const r=t.__importDefault(nM());li.PostgrestTransformBuilder=r.default;const s=t.__importDefault(tM());li.PostgrestBuilder=s.default;const a=t.__importDefault(eM());return li.PostgrestError=a.default,li.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:s.default,PostgrestError:a.default},li}var YB=GB();const KB=bf(YB),{PostgrestClient:QB,PostgrestQueryBuilder:roe,PostgrestFilterBuilder:soe,PostgrestTransformBuilder:aoe,PostgrestBuilder:ooe,PostgrestError:loe}=KB;class XB{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ZB="2.76.1",JB=`realtime-js/${ZB}`,eV="1.0.0",L0=1e4,tV=1e3,nV=100;var Od;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Od||(Od={}));var Fn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fn||(Fn={}));var jr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(jr||(jr={}));var F0;(function(t){t.websocket="websocket"})(F0||(F0={}));var Qo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qo||(Qo={}));class iV{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=i.decode(e.slice(a,a+r));a=a+r;const u=i.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(i.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class rM{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gt||(Gt={}));const NA=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=rV(a,t,e,r),s),{}):{}},rV=(t,e,n,i)=>{const r=e.find(l=>l.name===t),s=r?.type,a=n[t];return s&&!i.includes(s)?sM(s,a):U0(a)},sM=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return lV(e,n)}switch(t){case Gt.bool:return sV(e);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return aV(e);case Gt.json:case Gt.jsonb:return oV(e);case Gt.timestamp:return cV(e);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return U0(e);default:return U0(e)}},U0=t=>t,sV=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aV=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},oV=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lV=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>sM(e,l))}return t},cV=t=>typeof t=="string"?t.replace(" ","T"):t,aM=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class hb{constructor(e,n,i={},r=L0){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var IA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(IA||(IA={}));class kd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kd.syncState(this.state,r,s,a),this.pendingDiffs.forEach(u=>{this.state=kd.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=kd.syncDiff(this.state,r,s,a),l())}),this.onJoin((r,s,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:a})}),this.onLeave((r,s,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const s=this.cloneDeep(e),a=this.transformState(n),l={},u={};return this.map(s,(d,h)=>{a[d]||(u[d]=h)}),this.map(a,(d,h)=>{const g=s[d];if(g){const m=h.map(S=>S.presence_ref),v=g.map(S=>S.presence_ref),_=h.filter(S=>v.indexOf(S.presence_ref)<0),b=g.filter(S=>m.indexOf(S.presence_ref)<0);_.length>0&&(l[d]=_),b.length>0&&(u[d]=b)}else l[d]=h}),this.syncDiff(s,{joins:l,leaves:u},i,r)}static syncDiff(e,n,i,r){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(l,u)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),h.length>0){const g=e[l].map(v=>v.presence_ref),m=h.filter(v=>g.indexOf(v.presence_ref)<0);e[l].unshift(...m)}i(l,h,u)}),this.map(a,(l,u)=>{let d=e[l];if(!d)return;const h=u.map(g=>g.presence_ref);d=d.filter(g=>h.indexOf(g.presence_ref)<0),e[l]=d,r(l,d,u),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(PA||(PA={}));var Md;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Md||(Md={}));var qs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qs||(qs={}));class hw{constructor(e,n={config:{}},i){var r,s;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hb(this,jr.join,this.params,this.timeout),this.rejoinTimer=new rM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new kd(this),this.broadcastEndpointURL=aM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Fn.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,d=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&r!==void 0?r:[],h=!!this.bindings[Md.PRESENCE]&&this.bindings[Md.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(qs.CHANNEL_ERROR,v)),this._onClose(()=>e?.(qs.CLOSED)),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket.setAuth(),v===void 0){e?.(qs.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(_=b?.length)!==null&&_!==void 0?_:0,x=[];for(let T=0;T<S;T++){const A=b[T],{filter:{event:O,schema:D,table:N,filter:M}}=A,k=v&&v[T];if(k&&k.event===O&&k.schema===D&&k.table===N&&k.filter===M)x.push(Object.assign(Object.assign({},A),{id:k.id}));else{this.unsubscribe(),this.state=Fn.errored,e?.(qs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(qs.SUBSCRIBED);return}}).receive("error",v=>{this.state=Fn.errored,e?.(qs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(qs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Fn.joined&&e===Md.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var r;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new hb(this,jr.leave,{},e),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fn.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const r=new AbortController,s=setTimeout(()=>r.abort(),i),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(s),a}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new hb(this,e,n,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nV){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,s;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=jr;if(i&&[l,u,d,h].indexOf(a)>=0&&i!==this._joinRef())return;let m=this._onMessage(a,n,i);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(v=>{var _,b,S;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(b=v.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(v=>v.callback(m,i)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var _,b,S,x,T,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const O=v.id,D=(_=v.filter)===null||_===void 0?void 0:_.event;return O&&((b=n.ids)===null||b===void 0?void 0:b.includes(O))&&(D==="*"||D?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const O=(T=(x=v?.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return O==="*"||O===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:b,table:S,commit_timestamp:x,type:T,errors:A}=_;m=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:x,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(_))}v.callback(m,i)})}_isClosed(){return this.state===Fn.closed}_isJoined(){return this.state===Fn.joined}_isJoining(){return this.state===Fn.joining}_isLeaving(){return this.state===Fn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),s={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&hw.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jr.close,{},e)}_onError(e){this._on(jr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=NA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=NA(e.columns,e.old_record)),n}}const gb=()=>{},rg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uV=[1e3,2e3,5e3,1e4],dV=1e4,fV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hV{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=L0,this.transport=null,this.heartbeatIntervalMs=rg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gb,this.ref=0,this.reconnectTimer=null,this.logger=gb,this.conn=null,this.sendBuffer=[],this.serializer=new iV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...a)=>ii(async()=>{const{default:l}=await Promise.resolve().then(()=>_l);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${F0.websocket}`,this.httpEndpoint=aM(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XB.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:eV}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Od.connecting:return Qo.Connecting;case Od.open:return Qo.Open;case Od.closing:return Qo.Closing;default:return Qo.Closed}}isConnected(){return this.connectionState()===Qo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(s=>s.topic===i);if(r)return r;{const s=new hw(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:i,payload:r,ref:s}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${i} (${s})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tV,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},rg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:s,ref:a}=n,l=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${i} ${r} ${l}`.trim(),s),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(r,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([fV],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:JB};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(jr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new rM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,r,s,a,l,u,d,h;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:L0,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:rg.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:gb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(g=>uV[g-1]||dV),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((g,m)=>m(JSON.stringify(g))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class gw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function cn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class gV extends gw{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class z0 extends gw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const pw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ii(async()=>{const{default:i}=await Promise.resolve().then(()=>_l);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},pV=()=>Me(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ii(()=>Promise.resolve().then(()=>_l),void 0)).Response:Response}),H0=t=>{if(Array.isArray(t))return t.map(n=>H0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[r]=H0(i)}),e},mV=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vV=(t,e,n)=>Me(void 0,void 0,void 0,function*(){const i=yield pV();t instanceof i&&!n?.noResolveJson?t.json().then(r=>{const s=t.status||500,a=r?.statusCode||s+"";e(new gV(pb(r),s,a))}).catch(r=>{e(new z0(pb(r),r))}):e(new z0(pb(t),t))}),yV=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!i?r:(mV(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Sf(t,e,n,i,r,s){return Me(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,yV(e,i,r,s)).then(u=>{if(!u.ok)throw u;return i?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>vV(u,l,i))})})}function Zd(t,e,n,i){return Me(this,void 0,void 0,function*(){return Sf(t,"GET",e,n,i)})}function Pr(t,e,n,i,r){return Me(this,void 0,void 0,function*(){return Sf(t,"POST",e,i,r,n)})}function B0(t,e,n,i,r){return Me(this,void 0,void 0,function*(){return Sf(t,"PUT",e,i,r,n)})}function bV(t,e,n,i){return Me(this,void 0,void 0,function*(){return Sf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function mw(t,e,n,i,r){return Me(this,void 0,void 0,function*(){return Sf(t,"DELETE",e,i,r,n)})}class _V{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cn(e))return{data:null,error:e};throw e}})}}var oM;class wV{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[oM]="BlobDownloadBuilder",this.promise=null}asStream(){return new _V(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cn(e))return{data:null,error:e};throw e}})}}oM=Symbol.toStringTag;const SV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xV{constructor(e,n={},i,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=pw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,r){return Me(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},jA),r);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=i,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),r?.headers&&(l=Object.assign(Object.assign({},l),r.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=yield(e=="PUT"?B0:Pr)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(cn(s))return{data:null,error:s};throw s}})}upload(e,n,i){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return Me(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:jA.upsert},r),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl)):(u=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=yield B0(this.fetch,l.toString(),u,{headers:h});return{data:{path:s,fullPath:g.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(cn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Me(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const s=yield Pr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new gw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}update(e,n,i){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Me(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}copy(e,n,i){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return Me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield Pr(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const a=i?.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return Me(this,void 0,void 0,function*(){try{const r=yield Pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),a=s?`?${s}`:"",l=this._getFinalPath(e),u=()=>Zd(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new wV(u,this.shouldThrowOnError)}info(e){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Zd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:H0(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}exists(e){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield bV(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i)&&i instanceof z0){const r=i.originalError;if([400,404].includes(r?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&r.push(s);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&r.push(u);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${d}`)}}}remove(e){return Me(this,void 0,void 0,function*(){try{return{data:yield mw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}list(e,n,i){return Me(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},SV),n),{prefix:e||""});return{data:yield Pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}listV2(e,n){return Me(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Pr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const lM="2.76.1",cM={"X-Client-Info":`storage-js/${lM}`};class EV{constructor(e,n={},i,r){this.shouldThrowOnError=!1;const s=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cM),n),this.fetch=pw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Me(this,void 0,void 0,function*(){try{return{data:yield Zd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cn(e))return{data:null,error:e};throw e}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Zd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}createBucket(e){return Me(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Me(this,void 0,void 0,function*(){try{return{data:yield B0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield mw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}}class CV{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cM),n),this.fetch=pw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listBuckets(e){return Me(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),r=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,s=yield Zd(this.fetch,r,{headers:this.headers});return{data:Array.isArray(s)?s.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield mw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}}const vw={"X-Client-Info":`storage-js/${lM}`,"Content-Type":"application/json"};class uM extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Zi(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class mb extends uM{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TV extends uM{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var LA;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(LA||(LA={}));const yw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ii(async()=>{const{default:i}=await Promise.resolve().then(()=>_l);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},AV=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},FA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RV=(t,e,n)=>Me(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const l=a?.statusCode||a?.code||r+"";e(new mb(FA(a),r,l))}).catch(()=>{const a=r+"",l=s.statusText||`HTTP ${r} error`;e(new mb(l,r,a))});else{const a=r+"",l=s.statusText||`HTTP ${r} error`;e(new mb(l,r,a))}}else e(new TV(FA(t),t))}),DV=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return i?(AV(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,Object.assign(Object.assign({},r),n)):r};function OV(t,e,n,i,r,s){return Me(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,DV(e,i,r,s)).then(u=>{if(!u.ok)throw u;if(i?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>RV(u,l,i))})})}function Ji(t,e,n,i,r){return Me(this,void 0,void 0,function*(){return OV(t,"POST",e,i,r,n)})}class kV{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vw),n),this.fetch=yw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Ji(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zi(i))return{data:null,error:i};throw i}})}listIndexes(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Me(this,void 0,void 0,function*(){try{return{data:(yield Ji(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zi(i))return{data:null,error:i};throw i}})}}class MV{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vw),n),this.fetch=yw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ji(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}getVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}listVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ji(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}queryVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ji(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}}class NV{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vw),n),this.fetch=yw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Ji(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}listBuckets(){return Me(this,arguments,void 0,function*(e={}){try{return{data:yield Ji(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Ji(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}})}}class IV extends NV{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new PV(this.url,this.headers,e,this.fetch)}}class PV extends kV{constructor(e,n,i,r){super(e,n,r),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Me(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Me(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Me(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Me(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new jV(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class jV extends MV{constructor(e,n,i,r,s){super(e,n,s),this.vectorBucketName=i,this.indexName=r}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Me(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Me(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Me(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Me(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Me(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class LV extends EV{constructor(e,n={},i,r){super(e,n,i,r)}from(e){return new xV(this.url,this.headers,e,this.fetch)}get vectors(){return new IV(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new CV(this.url+"/iceberg",this.headers,this.fetch)}}const FV="2.76.1";let Cd="";typeof Deno<"u"?Cd="deno":typeof document<"u"?Cd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cd="react-native":Cd="node";const UV={"X-Client-Info":`supabase-js-${Cd}/${FV}`},zV={headers:UV},HV={schema:"public"},BV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VV={},$V=t=>{let e;return t?e=t:typeof fetch>"u"?e=Zk:e=fetch,(...n)=>e(...n)},qV=()=>typeof Headers>"u"?Jk:Headers,WV=(t,e,n)=>{const i=$V(n),r=qV();return async(s,a)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:t;let d=new r(a?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),i(s,Object.assign(Object.assign({},a),{headers:d}))}};function GV(t){return t.endsWith("/")?t:t+"/"}function YV(t,e){var n,i;const{db:r,auth:s,realtime:a,global:l}=t,{db:u,auth:d,realtime:h,global:g}=e,m={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(i=l?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function KV(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(GV(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dM="2.76.1",Ac=30*1e3,V0=3,vb=V0*Ac,QV="http://localhost:9999",XV="supabase.auth.token",ZV={"X-Client-Info":`gotrue-js/${dM}`},$0="X-Supabase-Api-Version",fM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e$=600*1e3;class Jd extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class t$ extends Jd{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function n$(t){return Fe(t)&&t.name==="AuthApiError"}class Xo extends Jd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class uo extends Jd{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class La extends uo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i$(t){return Fe(t)&&t.name==="AuthSessionMissingError"}class dc extends uo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sg extends uo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ag extends uo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r$(t){return Fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class UA extends uo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class q0 extends uo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function yb(t){return Fe(t)&&t.name==="AuthRetryableFetchError"}class zA extends uo{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class W0 extends uo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HA=` 	
\r=`.split(""),s$=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<HA.length;e+=1)t[HA[e].charCodeAt(0)]=-2;for(let e=0;e<gp.length;e+=1)t[gp[e].charCodeAt(0)]=e;return t})();function BA(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(gp[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(gp[i]),e.queuedBits-=6}}function hM(t,e,n){const i=s$[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function VA(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},s=a=>{l$(a,i,n)};for(let a=0;a<t.length;a+=1)hM(t.charCodeAt(a),r,s);return e.join("")}function a$(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function o$(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}a$(i,e)}}function l$(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Lc(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)hM(t.charCodeAt(r),n,i);return new Uint8Array(e)}function c$(t){const e=[];return o$(t,n=>e.push(n)),new Uint8Array(e)}function el(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};return t.forEach(r=>BA(r,n,i)),BA(null,n,i),e.join("")}function u$(t){return Math.round(Date.now()/1e3)+t}function d$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qi=()=>typeof window<"u"&&typeof document<"u",jo={tested:!1,writable:!1},gM=()=>{if(!Qi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jo.tested)return jo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jo.tested=!0,jo.writable=!0}catch{jo.tested=!0,jo.writable=!1}return jo.writable};function f$(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,s)=>{e[s]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const pM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ii(async()=>{const{default:i}=await Promise.resolve().then(()=>_l);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},h$=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Lo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ia=async(t,e)=>{await t.removeItem(e)};class lm{constructor(){this.promise=new lm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}lm.promiseConstructor=Promise;function bb(t){const e=t.split(".");if(e.length!==3)throw new W0("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!JV.test(e[i]))throw new W0("JWT not in base64url format");return{header:JSON.parse(VA(e[0])),payload:JSON.parse(VA(e[1])),signature:Lc(e[2]),raw:{header:e[0],payload:e[1]}}}async function g$(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function p$(t,e){return new Promise((i,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){i(a);return}}catch(a){if(!e(s,a)){r(a);return}}})()})}function m$(t){return("0"+t.toString(16)).substr(-2)}function v$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let s=0;s<56;s++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,m$).join("")}async function y$(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}async function b$(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await y$(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fc(t,e,n=!1){const i=v$();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await Rc(t,`${e}-code-verifier`,r);const s=await b$(i);return[s,i===s?"plain":"s256"]}const _$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function w$(t){const e=t.headers.get($0);if(!e||!e.match(_$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function S$(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function x$(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const E$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hc(t){if(!E$.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _b(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $A(t){return JSON.parse(JSON.stringify(t))}const Vo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C$=[502,503,504];async function qA(t){var e;if(!h$(t))throw new q0(Vo(t),0);if(C$.includes(t.status))throw new q0(Vo(t),t.status);let n;try{n=await t.json()}catch(s){throw new Xo(Vo(s),s)}let i;const r=w$(t);if(r&&r.getTime()>=fM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new zA(Vo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new La}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new zA(Vo(n),t.status,n.weak_password.reasons);throw new t$(Vo(n),t.status||500,i)}const T$=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Ke(t,e,n,i){var r;const s=Object.assign({},i?.headers);s[$0]||(s[$0]=fM["2024-01-01"].name),i?.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const a=(r=i?.query)!==null&&r!==void 0?r:{};i?.redirectTo&&(a.redirect_to=i.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await A$(t,e,n+l,{headers:s,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(u):{data:Object.assign({},u),error:null}}async function A$(t,e,n,i,r,s){const a=T$(e,i,r,s);let l;try{l=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new q0(Vo(u),0)}if(l.ok||await qA(l),i?.noResolveJson)return l;try{return await l.json()}catch(u){await qA(u)}}function Nr(t){var e;let n=null;O$(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=u$(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function WA(t){const e=Nr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ba(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function R$(t){return{data:t,error:null}}function D$(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s}=t,a=co(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function GA(t){return t}function O$(t){return t.access_token&&t.refresh_token&&t.expires_in}const wb=["global","local","others"];class k${constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=pM(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=wb[0]){if(wb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wb.join(", ")}`);try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ba})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=co(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:D$,redirectTo:n?.redirectTo})}catch(n){if(Fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ba})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:GA});if(h.error)throw h.error;const g=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);d[`${S}Page`]=b}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Fe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){hc(e);try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ba})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hc(e);try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ba})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){hc(e);try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ba})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){hc(e.userId);try{const{data:n,error:i}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hc(e.userId),hc(e.id);try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,r,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:GA});if(h.error)throw h.error;const g=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);d[`${S}Page`]=b}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Fe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}}function YA(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const gc={debug:!!(globalThis&&gM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class M$ extends mM{}async function N$(t,e,n){gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),gc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new M$(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function I$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vM(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function P$(t){return parseInt(t,16)}function j$(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function L$(t){var e;const{chainId:n,domain:i,expirationTime:r,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:u,resources:d,scheme:h,uri:g,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=vM(t.address),_=h?`${h}://${i}`:i,b=t.statement?`${t.statement}
`:"",S=`${_} wants you to sign in with your Ethereum account:
${v}

${b}`;let x=`URI: ${g}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(r&&(x+=`
Expiration Time: ${r.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),u&&(x+=`
Request ID: ${u}`),d){let T=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);T+=`
- ${A}`}x+=T}return`${S}
${x}`}class On extends Error{constructor({message:e,code:n,cause:i,name:r}){var s;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(s=r??(i instanceof Error?i.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class pp extends On{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function F$({error:t,options:e}){var n,i,r;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new On({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new On({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new On({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new On({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new On({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new On({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new On({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new On({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(yM(a)){if(s.rp.id!==a)return new On({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new On({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new On({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new On({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new On({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function U$({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new On({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new On({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(yM(i)){if(n.rpId!==i)return new On({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new On({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new On({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new On({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class z${createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const H$=new z$;function B$(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,r=co(t,["challenge","user","excludeCredentials"]),s=Lc(e).buffer,a=Object.assign(Object.assign({},n),{id:Lc(n.id).buffer}),l=Object.assign(Object.assign({},r),{challenge:s,user:a});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let u=0;u<i.length;u++){const d=i[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Lc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function V$(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=co(t,["challenge","allowCredentials"]),r=Lc(e).buffer,s=Object.assign(Object.assign({},i),{challenge:r});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Lc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function $$(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:el(new Uint8Array(t.response.attestationObject)),clientDataJSON:el(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function q$(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:el(new Uint8Array(r.authenticatorData)),clientDataJSON:el(new Uint8Array(r.clientDataJSON)),signature:el(new Uint8Array(r.signature)),userHandle:r.userHandle?el(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yM(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function KA(){var t,e;return!!(Qi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function W$(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pp("Browser returned unexpected credential type",e)}:{data:null,error:new pp("Empty credential response",e)}}catch(e){return{data:null,error:F$({error:e,options:t})}}}async function G$(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pp("Browser returned unexpected credential type",e)}:{data:null,error:new pp("Empty credential response",e)}}catch(e){return{data:null,error:U$({error:e,options:t})}}}const Y$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},K$={userVerification:"preferred",hints:["security-key"]};function mp(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of t)if(r)for(const s in r){const a=r[s];if(a!==void 0)if(Array.isArray(a))i[s]=a;else if(n(a))i[s]=a;else if(e(a)){const l=i[s];e(l)?i[s]=mp(l,a):i[s]=mp(a)}else i[s]=a}return i}function Q$(t,e){return mp(Y$,t,e||{})}function X$(t,e){return mp(K$,t,e||{})}class Z${constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:r},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const u=r??H$.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=Q$(a.webauthn.credential_options.publicKey,s?.create),{data:h,error:g}=await W$({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const d=X$(a.webauthn.credential_options.publicKey,s?.request),{data:h,error:g}=await G$(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(a){return Fe(a)?{data:null,error:a}:{data:null,error:new Xo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}},s){if(!n)return{data:null,error:new Jd("rpId is required for WebAuthn authentication")};try{if(!KA())return{data:null,error:new Xo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:r},{request:s});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:i,credential_response:u.credential_response}})}catch(a){return Fe(a)?{data:null,error:a}:{data:null,error:new Xo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r},s){if(!n)return{data:null,error:new Jd("rpId is required for WebAuthn registration")};try{if(!KA())return{data:null,error:new Xo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:r},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:i,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Fe(a)?{data:null,error:a}:{data:null,error:new Xo("Unexpected error in register",a)}}}}I$();const J$={url:QV,storageKey:XV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function QA(t,e,n){return await n()}const pc={};class ef{get jwks(){var e,n;return(n=(e=pc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){pc[this.storageKey]=Object.assign(Object.assign({},pc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=pc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pc[this.storageKey]=Object.assign(Object.assign({},pc[this.storageKey]),{cachedAt:e})}constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ef.nextInstanceID,ef.nextInstanceID+=1,this.instanceID>0&&Qi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},J$),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new k$({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=pM(r.fetch),this.lock=r.lock||QA,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Qi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=N$:this.lock=QA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Z$(this)},this.persistSession?(r.storage?this.storage=r.storage:gM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=YA(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=YA(this.memoryStorage)),Qi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dM}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=f$(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Qi()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),r$(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Fe(n)?{error:n}:{error:new Xo("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const s=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Nr}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,r;try{let s;if("email"in e){const{email:h,password:g,options:m}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await fc(this.storage,this.storageKey)),s=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:h,password:g,data:(n=m?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:v,code_challenge_method:_},xform:Nr})}else if("phone"in e){const{phone:h,password:g,options:m}=e;s=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(i=m?.data)!==null&&i!==void 0?i:{},channel:(r=m?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Nr})}else throw new sg("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:l}=e;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:WA})}else if("phone"in e){const{phone:s,password:a,options:l}=e;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:WA})}else throw new sg("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new dc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,r,s,a,l,u,d,h,g,m;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:b,wallet:S,statement:x,options:T}=e;let A;if(Qi())if(typeof S=="object")A=S;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")A=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const O=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=vM(D[0]);let M=(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!M){const P=await A.request({method:"eth_chainId"});M=P$(P)}const k={domain:O.host,address:N,statement:x,uri:O.href,version:"1",chainId:M,nonce:(r=T?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(a=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=L$(k),_=await A.request({method:"personal_sign",params:[j$(v),N]})}try{const{data:b,error:S}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:_},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Nr});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new dc}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if(Fe(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,i,r,s,a,l,u,d,h,g,m,v;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:S,wallet:x,statement:T,options:A}=e;let O;if(Qi())if(typeof x=="object")O=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))O=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=x}const D=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const N=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),T?{statement:T}:null));let M;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")M=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)M=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)_=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),b=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${D.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(r=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const N=await O.signMessage(new TextEncoder().encode(_),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=N}}try{const{data:S,error:x}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:el(b)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Nr});if(x)throw x;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new dc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:x})}catch(S){if(Fe(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await Lo(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:s,error:a}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Nr});if(await Ia(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new dc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:a})}catch(s){if(Fe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:s,nonce:a}=e,l=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Nr}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new dc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,s,a;try{if("email"in e){const{email:l,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await fc(this.storage,this.storageKey));const{error:g}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:h}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new sg("You must provide either an email or phone number.")}catch(l){if(Fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,i;try{let r,s;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:a,error:l}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Nr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await fc(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:R$})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new La;const{error:r}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:s}=e,{error:a}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:i,type:r,options:s}=e,{data:a,error:l}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new sg("You must provide either an email or phone number and a type")}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Lo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<vb:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const a=await Lo(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=_b()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ba}):await this._useSession(async n=>{var i,r,s;const{data:a,error:l}=n;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new La}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:Ba})})}catch(n){if(Fe(n))return i$(n)&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new La;const a=r.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await fc(this.storage,this.storageKey));const{data:d,error:h}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Ba});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new La;const n=Date.now()/1e3;let i=n,r=!0,s=null;const{payload:a}=bb(e.access_token);if(a.exp&&(i=a.exp,r=i<=n),r){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Fe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new La;const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Fe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qi())throw new ag("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ag(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new UA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ag("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new UA("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:d}=e;if(!s||!l||!a||!d)throw new ag("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(l);let m=h+g;u&&(m=parseInt(u));const v=m-h;v*1e3<=Ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const _=m-g;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,h);const{data:b,error:S}=await this._getUser(s);if(S)throw S;const x={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:g,expires_at:m,refresh_token:a,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(i){if(Fe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Lo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{error:s};const a=(i=r.session)===null||i===void 0?void 0:i.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(n$(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=d$(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:s},error:a}=n;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await fc(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:r}=await this._useSession(async s=>{var a,l,u,d,h;const{data:g,error:m}=s;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(r)throw r;return Qi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(Fe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:r,data:{session:s}}=n;if(r)throw r;const{options:a,provider:l,token:u,access_token:d,nonce:h}=e,g=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Nr}),{data:m,error:v}=g;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new dc}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:v})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:a}=n;if(a)throw a;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await p$(async r=>(r>0&&await g$(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nr})),(r,s)=>{const a=200*Math.pow(2,r);return s&&yb(s)&&Date.now()+a-i<Ac})}catch(i){if(this._debug(n,"error",i),Fe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Qi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await Lo(this.storage,this.storageKey);if(r&&this.userStorage){let a=await Lo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:r.user},await Rc(this.userStorage,this.storageKey+"-user",a)),r.user=(e=a?.user)!==null&&e!==void 0?e:_b()}else if(r&&!r.user&&!r.user){const a=await Lo(this.storage,this.storageKey+"-user");a&&a?.user?(r.user=a.user,await Ia(this.storage,this.storageKey+"-user"),await Rc(this.storage,this.storageKey,r)):r.user=_b()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const s=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<vb;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${vb}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),yb(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(r.access_token);!l&&a?.user?(r.user=a.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new La;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new lm;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new La;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(r,"error",s),Fe(s)){const a={data:null,error:s};return yb(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Rc(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const s=$A(r);await Rc(this.storage,this.storageKey,s)}else{const r=$A(n);await Rc(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Ia(this.storage,this.storageKey),await Ia(this.storage,this.storageKey+"-code-verifier"),await Ia(this.storage,this.storageKey+"-user"),this.userStorage&&await Ia(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ac);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/Ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ac}ms, refresh threshold is ${V0} ticks`),r<=V0&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,a]=await fc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(l.toString())}if(i?.queryParams){const s=new URLSearchParams(i.queryParams);r.push(s.toString())}return i?.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&u.type==="totp"&&(!((r=u?.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$$(e.webauthn.credential_response):q$(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const a=await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:B$(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:V$(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])r.all.push(s),s.status==="verified"&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=bb(r.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(l=>l.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+e$>r)return i;const{data:s,error:a}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=r,i=s.keys.find(l=>l.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};i=v.session.access_token}const{header:r,payload:s,signature:a,raw:{header:l,payload:u}}=bb(i);n?.allowExpired||S$(s.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:v}=await this.getUser(i);if(v)throw v;return{data:{claims:s,header:r,signature:a},error:null}}const h=x$(r.alg),g=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,a,c$(`${l}.${u}`)))throw new W0("Invalid JWT signature");return{data:{claims:s,header:r,signature:a},error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}}}ef.nextInstanceID=0;const e5=ef;class t5 extends e5{constructor(e){super(e)}}class n5{constructor(e,n,i){var r,s,a;this.supabaseUrl=e,this.supabaseKey=n;const l=KV(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:HV,realtime:VV,auth:Object.assign(Object.assign({},BV),{storageKey:u}),global:zV},h=YV(i??{},d);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=WV(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new QB(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new LV(this.storageUrl.href,this.headers,this.fetch,i?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new zB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,storageKey:a,flowType:l,lock:u,debug:d},h,g){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new t5({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,flowType:l,lock:u,debug:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new hV(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const i5=(t,e,n)=>new n5(t,e,n);function r5(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}r5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const s5="https://wufsjkzyjxgvualcaftn.supabase.co",a5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1ZnNqa3p5anhndnVhbGNhZnRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0NzAyNzAsImV4cCI6MjA3NzA0NjI3MH0.cq8pGstXbA3OzgPbkJNRrQT39ROA4t9N3czLSIWpjUs",Mt=i5(s5,a5,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),Pn=(t,e="")=>t.code==="23505"?"This record already exists":t.code==="23503"?"Cannot perform this operation due to related records":t.code==="PGRST116"?"No records found":t.message?.includes("JWT")?"Authentication error. Please refresh the page":t.message||"An unexpected error occurred",en={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},mt={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},us={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},mc={CREMA:"CREMA",LIQUIDO:"LIQUIDO",POLVERI:"POLVERI"},$o={T1:"T1",T2:"T2",T3:"T3"},o5={THREE:3},XA={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},Jt={MACHINE:{DEPARTMENT:en.PRINTING,WORK_CENTER:mt.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[$o.T1],STATUS:us.ACTIVE},PHASE:{DEPARTMENT:en.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:mt.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:o5.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},l5={MAX_TASK_SEGMENTS:50},og={MINUTES_PER_HOUR:60,MILLISECONDS_PER_MINUTE:60*1e3},c5=Object.prototype.toString;function u5(t,e){return c5.call(t)===`[object ${e}]`}function bM(t){return u5(t,"Object")}function bw(t){return!!(t&&t.then&&typeof t.then=="function")}function d5(t){return typeof t=="number"&&t!==t}function lg(t){return t&&t.Math==Math?t:void 0}const ri=typeof globalThis=="object"&&lg(globalThis)||typeof window=="object"&&lg(window)||typeof self=="object"&&lg(self)||typeof global=="object"&&lg(global)||(function(){return this})()||{};function _M(t,e,n){const i=n||ri,r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=e())}const wM=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,f5="Sentry Logger ",ZA=["debug","info","warn","error","log","assert","trace"],JA={};function SM(t){if(!("console"in ri))return t();const e=ri.console,n={},i=Object.keys(JA);i.forEach(r=>{const s=JA[r];n[r]=e[r],e[r]=s});try{return t()}finally{i.forEach(r=>{e[r]=n[r]})}}function h5(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return wM?ZA.forEach(n=>{e[n]=(...i)=>{t&&SM(()=>{ri.console[n](`${f5}[${n}]:`,...i)})}}):ZA.forEach(n=>{e[n]=()=>{}}),e}const fn=h5();function zr(t){return G0(t,new Map)}function G0(t,e){if(g5(t)){const n=e.get(t);if(n!==void 0)return n;const i={};e.set(t,i);for(const r of Object.keys(t))typeof t[r]<"u"&&(i[r]=G0(t[r],e));return i}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const i=[];return e.set(t,i),t.forEach(r=>{i.push(G0(r,e))}),i}return t}function g5(t){if(!bM(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const Sb="<anonymous>";function p5(t){try{return!t||typeof t!="function"?Sb:t.name||Sb}catch{return Sb}}const Yg={},eR={};function xM(t,e){Yg[t]=Yg[t]||[],Yg[t].push(e)}function EM(t,e){eR[t]||(e(),eR[t]=!0)}function CM(t,e){const n=t&&Yg[t];if(n)for(const i of n)try{i(e)}catch(r){wM&&fn.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${p5(i)}
Error:`,r)}}function Hi(){const t=ri,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function m5(t){return Array.isArray(t)?t:[t]}let cg=null;function v5(t){const e="error";xM(e,t),EM(e,y5)}function y5(){cg=ri.onerror,ri.onerror=function(t,e,n,i,r){return CM("error",{column:i,error:r,line:n,msg:t,url:e}),cg&&!cg.__SENTRY_LOADER__?cg.apply(this,arguments):!1},ri.onerror.__SENTRY_INSTRUMENTED__=!0}let ug=null;function b5(t){const e="unhandledrejection";xM(e,t),EM(e,_5)}function _5(){ug=ri.onunhandledrejection,ri.onunhandledrejection=function(t){return CM("unhandledrejection",t),ug&&!ug.__SENTRY_LOADER__?ug.apply(this,arguments):!0},ri.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function w5(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function S5(){return!w5()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function tl(t,e){return t.require(e)}function x5(t){let e;try{e=tl(module,t)}catch{}try{const{cwd:n}=tl(module,"process");e=tl(module,`${n()}/node_modules/${t}`)}catch{}return e}var Ws;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const i=2;t[t.REJECTED=i]="REJECTED"})(Ws||(Ws={}));class za{constructor(e){za.prototype.__init.call(this),za.prototype.__init2.call(this),za.prototype.__init3.call(this),za.prototype.__init4.call(this),this._state=Ws.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new za((i,r)=>{this._handlers.push([!1,s=>{if(!e)i(s);else try{i(e(s))}catch(a){r(a)}},s=>{if(!n)r(s);else try{i(n(s))}catch(a){r(a)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new za((n,i)=>{let r,s;return this.then(a=>{s=!1,r=a,e&&e()},a=>{s=!0,r=a,e&&e()}).then(()=>{if(s){i(r);return}n(r)})})}__init(){this._resolve=e=>{this._setResult(Ws.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Ws.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===Ws.PENDING){if(bw(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ws.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Ws.RESOLVED&&n[1](this._value),this._state===Ws.REJECTED&&n[2](this._value),n[0]=!0)})}}}const TM=1e3;function _w(){return Date.now()/TM}function E5(){const{performance:t}=ri;if(!t||!t.now)return _w;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/TM}const cm=E5();(()=>{const{performance:t}=ri;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),i=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,s=r<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number"?Math.abs(a+n-i):e,d=u<e;return s||d?r<=u?t.timeOrigin:a:i})();function C5(t=Hi(),e=Hi().substring(16),n){let i="";return n!==void 0&&(i=n?"-1":"-0"),`${t}-${e}${i}`}const Kn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,AM="production";function T5(){return _M("globalEventProcessors",()=>[])}function Y0(t,e,n,i=0){return new za((r,s)=>{const a=t[i];if(e===null||typeof a!="function")r(e);else{const l=a({...e},n);Kn&&a.id&&l===null&&fn.log(`Event processor "${a.id}" dropped event`),bw(l)?l.then(u=>Y0(t,u,n,i+1).then(r)).then(null,s):Y0(t,l,n,i+1).then(r).then(null,s)}})}function A5(t){const e=cm(),n={sid:Hi(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>D5(n)};return t&&um(n,t),n}function um(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||cm(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Hi()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function R5(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),um(t,n)}function D5(t){return zr({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const O5=0,RM=1;function ww(t){const{spanId:e,traceId:n}=t.spanContext(),{data:i,op:r,parent_span_id:s,status:a,tags:l,origin:u}=eo(t);return zr({data:i,op:r,parent_span_id:s,span_id:e,status:a,tags:l,trace_id:n,origin:u})}function DM(t){const{traceId:e,spanId:n}=t.spanContext(),i=kM(t);return C5(e,n,i)}function OM(t){return typeof t=="number"?tR(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?tR(t.getTime()):cm()}function tR(t){return t>9999999999?t/1e3:t}function eo(t){return k5(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function k5(t){return typeof t.getSpanJSON=="function"}function kM(t){const{traceFlags:e}=t.spanContext();return!!(e&RM)}function MM(){return dm().getClient()}function M5(){return dm().getScope()}function vp(t){return t.transaction}function N5(t,e,n){const i=e.getOptions(),{publicKey:r}=e.getDsn()||{},{segment:s}=n&&n.getUser()||{},a=zr({environment:i.environment||AM,release:i.release,user_segment:s,public_key:r,trace_id:t});return e.emit&&e.emit("createDsc",a),a}function K0(t){const e=MM();if(!e)return{};const n=N5(eo(t).trace_id||"",e,M5()),i=vp(t);if(!i)return n;const r=i&&i._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:s,source:a}=i.metadata;s!=null&&(n.sample_rate=`${s}`);const l=eo(i);return a&&a!=="url"&&(n.transaction=l.description),n.sampled=String(kM(i)),e.emit&&e.emit("createDsc",n),n}function I5(t,e){const{fingerprint:n,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=e;P5(t,e),i&&F5(t,i),U5(t,n),j5(t,r),L5(t,s)}function P5(t,e){const{extra:n,tags:i,user:r,contexts:s,level:a,transactionName:l}=e,u=zr(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const d=zr(i);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});const h=zr(r);h&&Object.keys(h).length&&(t.user={...h,...t.user});const g=zr(s);g&&Object.keys(g).length&&(t.contexts={...g,...t.contexts}),a&&(t.level=a),l&&(t.transaction=l)}function j5(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function L5(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function F5(t,e){t.contexts={trace:ww(e),...t.contexts};const n=vp(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:K0(e),...t.sdkProcessingMetadata};const i=eo(n).description;i&&(t.tags={transaction:i,...t.tags})}}function U5(t,e){t.fingerprint=t.fingerprint?m5(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const z5=100;class Fc{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=nR()}static clone(e){return e?e.clone():new Fc}clone(){const e=new Fc;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&um(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof Fc){const i=n.getScopeData();this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&Object.keys(i.user).length&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint.length&&(this._fingerprint=i.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),i.propagationContext&&(this._propagationContext=i.propagationContext)}else if(bM(n)){const i=e;this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint&&(this._fingerprint=i.fingerprint),i.requestSession&&(this._requestSession=i.requestSession),i.propagationContext&&(this._propagationContext=i.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=nR(),this}addBreadcrumb(e,n){const i=typeof n=="number"?n:z5;if(i<=0)return this;const r={timestamp:_w(),...e},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>i?s.slice(-i):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:i,_tags:r,_extra:s,_user:a,_level:l,_fingerprint:u,_eventProcessors:d,_propagationContext:h,_sdkProcessingMetadata:g,_transactionName:m,_span:v}=this;return{breadcrumbs:e,attachments:n,contexts:i,tags:r,extra:s,user:a,level:l,fingerprint:u||[],eventProcessors:d,propagationContext:h,sdkProcessingMetadata:g,transactionName:m,span:v}}applyToEvent(e,n={},i=[]){I5(e,this.getScopeData());const r=[...i,...T5(),...this._eventProcessors];return Y0(r,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const i=n&&n.event_id?n.event_id:Hi();if(!this._client)return fn.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...n,event_id:i},this),i}captureMessage(e,n,i){const r=i&&i.event_id?i.event_id:Hi();if(!this._client)return fn.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r},this),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Hi();return this._client?(this._client.captureEvent(e,{...n,event_id:i},this),i):(fn.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function nR(){return{traceId:Hi(),spanId:Hi().substring(16)}}const H5="7.120.4",NM=parseFloat(H5),B5=100;class IM{constructor(e,n,i,r=NM){this._version=r;let s;n?s=n:(s=new Fc,s.setClient(e));let a;i?a=i:(a=new Fc,a.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=a}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let i;try{i=e(n)}catch(r){throw this.popScope(),r}return bw(i)?i.then(r=>(this.popScope(),r),r=>{throw this.popScope(),r}):(this.popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const i=this._lastEventId=n&&n.event_id?n.event_id:Hi(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...n,event_id:i}),i}captureMessage(e,n,i){const r=this._lastEventId=i&&i.event_id?i.event_id:Hi(),s=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r}),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Hi();return e.type||(this._lastEventId=i),this.getScope().captureEvent(e,{...n,event_id:i}),i}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:i,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=B5}=r.getOptions&&r.getOptions()||{};if(a<=0)return;const u={timestamp:_w(),...e},d=s?SM(()=>s(u,n)):u;d!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",d,n),i.addBreadcrumb(d,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:i}=this.getStackTop();i&&e(n)}run(e){const n=iR(this);try{e(this)}finally{iR(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return Kn&&fn.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const i=this._callExtensionMethod("startTransaction",e,n);return Kn&&!i&&(this.getClient()?fn.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):fn.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,i=n.getSession();i&&R5(i),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:i}=this.getStackTop(),{release:r,environment:s=AM}=i&&i.getOptions()||{},{userAgent:a}=ri.navigator||{},l=A5({release:r,environment:s,user:n.getUser(),...a&&{userAgent:a},...e}),u=n.getSession&&n.getSession();return u&&u.status==="ok"&&um(u,{status:"exited"}),this.endSession(),n.setSession(l),l}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),i=e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}_callExtensionMethod(e,...n){const r=uu().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,n);Kn&&fn.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function uu(){return ri.__SENTRY__=ri.__SENTRY__||{extensions:{},hub:void 0},ri}function iR(t){const e=uu(),n=Q0(e);return PM(e,t),n}function dm(){const t=uu();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return V5(t)}function V5(t=uu()){return(!$5(t)||Q0(t).isOlderThan(NM))&&PM(t,new IM),Q0(t)}function $5(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Q0(t){return _M("hub",()=>new IM,t)}function PM(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function q5(t){return(t||dm()).getScope().getTransaction()}let rR=!1;function W5(){rR||(rR=!0,v5(X0),b5(X0))}function X0(){const t=q5();if(t){const e="internal_error";Kn&&fn.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}X0.tag="sentry_tracingErrorCallback";var sR;(function(t){t.Ok="ok";const n="deadline_exceeded";t.DeadlineExceeded=n;const i="unauthenticated";t.Unauthenticated=i;const r="permission_denied";t.PermissionDenied=r;const s="not_found";t.NotFound=s;const a="resource_exhausted";t.ResourceExhausted=a;const l="invalid_argument";t.InvalidArgument=l;const u="unimplemented";t.Unimplemented=u;const d="unavailable";t.Unavailable=d;const h="internal_error";t.InternalError=h;const g="unknown_error";t.UnknownError=g;const m="cancelled";t.Cancelled=m;const v="already_exists";t.AlreadyExists=v;const _="failed_precondition";t.FailedPrecondition=_;const b="aborted";t.Aborted=b;const S="out_of_range";t.OutOfRange=S;const x="data_loss";t.DataLoss=x})(sR||(sR={}));function G5(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Y5(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=G5(e);n!=="unknown_error"&&t.setStatus(n)}function K5(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=MM(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const Q5="_sentryScope",X5="_sentryIsolationScope";function Z5(t){return{scope:t[Q5],isolationScope:t[X5]}}const xb="sentry.source",kc="sentry.sample_rate",dg="sentry.op",fg="sentry.origin",J5="profile_id";class e3{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Sw{constructor(e={}){this._traceId=e.traceId||Hi(),this._spanId=e.spanId||Hi().substring(16),this._startTime=e.startTimestamp||cm(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[fg]:e.origin||"manual",[dg]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[dg]}set op(e){this.setAttribute(dg,e)}get origin(){return this._attributes[fg]}set origin(e){this.setAttribute(fg,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:i}=this;return{spanId:e,traceId:n,traceFlags:i?RM:O5}}startChild(e){const n=new Sw({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const i=vp(this);if(n.transaction=i,Kn&&i){const r=e&&e.op||"< unknown op >",s=eo(n).description||"< unknown name >",a=i.spanContext().spanId,l=`[Tracing] Starting '${r}' span on transaction '${s}' (${a}).`;fn.log(l),this._logMessage=l}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return Y5(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=vp(this);if(Kn&&n&&n.spanContext().spanId!==this._spanId){const i=this._logMessage;i&&fn.log(i.replace("Starting","Finishing"))}this._endTime=OM(e)}toTraceparent(){return DM(this)}toContext(){return zr({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return ww(this)}getSpanJSON(){return zr({data:this._getData(),description:this._name,op:this._attributes[dg],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[fg],_metrics_summary:void 0,profile_id:this._attributes[J5],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,i=Object.keys(e).length>0,r=Object.keys(n).length>0;if(!(!i&&!r))return i&&r?{...e,...n}:i?e:n}}class t3 extends Sw{constructor(e,n){super(e),this._contexts={},this._hub=n||dm(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const i=this._metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext={...i})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[xb]&&{source:this._attributes[xb]},...this._attributes[kc]&&{sampleRate:this._attributes[kc]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(xb,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new e3(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,i=""){this._measurements[e]={value:n,unit:i}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=OM(e),i=this._finishTransaction(n);if(i)return this._hub.captureEvent(i)}toContext(){const e=super.toContext();return zr({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return K0(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(Kn&&fn.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Kn&&fn.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const i=this.spanRecorder?this.spanRecorder.spans.filter(h=>h!==this&&eo(h).timestamp):[];if(this._trimEnd&&i.length>0){const h=i.map(g=>eo(g).timestamp).filter(Boolean);this._endTime=h.reduce((g,m)=>g>m?g:m)}const{scope:r,isolationScope:s}=Z5(this),{metadata:a}=this,{source:l}=a,u={contexts:{...this._contexts,trace:ww(this)},spans:i,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:r,capturedSpanIsolationScope:s,...zr({dynamicSamplingContext:K0(this)})},_metrics_summary:void 0,...l&&{transaction_info:{source:l}}};return Object.keys(this._measurements).length>0&&(Kn&&fn.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),u.measurements=this._measurements),Kn&&fn.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),u}}function n3(t,e,n){if(!K5(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(kc,Number(t.sampled)),t;let i;return typeof e.tracesSampler=="function"?(i=e.tracesSampler(n),t.setAttribute(kc,Number(i))):n.parentSampled!==void 0?i=n.parentSampled:typeof e.tracesSampleRate<"u"?(i=e.tracesSampleRate,t.setAttribute(kc,Number(i))):(i=1,t.setAttribute(kc,i)),i3(i)?i?(t.sampled=Math.random()<i,t.sampled?(Kn&&fn.log(`[Tracing] starting ${t.op} transaction - ${eo(t).description}`),t):(Kn&&fn.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):(Kn&&fn.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(Kn&&fn.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function i3(t){return d5(t)||!(typeof t=="number"||typeof t=="boolean")?(Kn&&fn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(Kn&&fn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function r3(){const e=this.getScope().getSpan();return e?{"sentry-trace":DM(e)}:{}}function s3(t,e){const n=this.getClient(),i=n&&n.getOptions()||{},r=i.instrumenter||"sentry",s=t.instrumenter||"sentry";r!==s&&(Kn&&fn.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${r}\` instrumenter.
The transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),t.sampled=!1);let a=new t3(t,this);return a=n3(a,i,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),a.isRecording()&&a.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function a3(){const t=uu();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=s3),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=r3),W5())}function o3(){const t=uu();if(!t.__SENTRY__)return;const e={mongodb(){const i=tl(module,"./node/integrations/mongo");return new i.Mongo},mongoose(){const i=tl(module,"./node/integrations/mongo");return new i.Mongo},mysql(){const i=tl(module,"./node/integrations/mysql");return new i.Mysql},pg(){const i=tl(module,"./node/integrations/postgres");return new i.Postgres}},n=Object.keys(e).filter(i=>!!x5(i)).map(i=>{try{return e[i]()}catch{return}}).filter(i=>i);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function l3(){a3(),S5()&&o3()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&l3();const c3=()=>{{console.log("Sentry not initialized: VITE_SENTRY_DSN not provided");return}},xw=(t,e={})=>{{console.warn("Sentry not configured, error not reported:",t);return}},jM=(t,e="user",n="info",i={})=>{},LM=t=>{if(!t||Array.isArray(t)&&t.length===0)return;let e;if(Array.isArray(t)){const n=t.filter(i=>i&&i.trim().length>0);if(n.length===0)return;n.length===1?e=n[0]:e=`Ci sono ${n.length} errori di validazione:

 ${n.join(`
 `)}`}else e=t;lo.error(e,{duration:1e4,position:"top-right",style:{maxWidth:"400px",whiteSpace:"pre-line"}})},FM=lo,wl=lo.success,$a=lo.error,Mc=lo.warning;lo.info;lo.dismiss;lo.dismiss;const vc=Object.freeze(Object.defineProperty({__proto__:null,showError:$a,showSuccess:wl,showToast:FM,showValidationError:LM,showWarning:Mc},Symbol.toStringTag,{value:"Module"})),Ie={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"},yp={[Ie.VALIDATION_ERROR]:"I dati inseriti non sono validi. Controlla i campi evidenziati.",[Ie.NETWORK_ERROR]:"Errore di connessione. Verifica la tua connessione internet.",[Ie.AUTHENTICATION_ERROR]:"Sessione scaduta. Effettua nuovamente l'accesso.",[Ie.AUTHORIZATION_ERROR]:"Non hai i permessi per eseguire questa operazione.",[Ie.NOT_FOUND_ERROR]:"La risorsa richiesta non  stata trovata.",[Ie.SERVER_ERROR]:"Errore del server. Riprova pi tardi.",[Ie.BUSINESS_LOGIC_ERROR]:"Operazione non consentita dalle regole di business.",[Ie.UNKNOWN_ERROR]:"Si  verificato un errore imprevisto."};class rt extends Error{constructor(e,n=Ie.UNKNOWN_ERROR,i=500,r={}){super(e),this.name="AppError",this.type=n,this.statusCode=i,this.context=r,this.timestamp=new Date().toISOString(),this.userMessage=yp[n]||yp[Ie.UNKNOWN_ERROR]}toJSON(){return{message:this.message,type:this.type,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage}}}const Fi=(t,e={})=>{jM("API Error occurred","api","error",{error:t.message}),xw(t,{...e});let n=Ie.UNKNOWN_ERROR,i=yp[Ie.UNKNOWN_ERROR];if(t.response)switch(t.response.status){case 400:n=Ie.VALIDATION_ERROR;break;case 401:n=Ie.AUTHENTICATION_ERROR;break;case 403:n=Ie.AUTHORIZATION_ERROR;break;case 404:n=Ie.NOT_FOUND_ERROR;break;case 500:case 502:case 503:n=Ie.SERVER_ERROR;break;default:n=Ie.NETWORK_ERROR}else t.request&&(n=Ie.NETWORK_ERROR);return i=yp[n],$a(i),new rt(t.message,n,t.response?.status,e)},Z0=async(t,e={})=>{try{return await t()}catch(n){return Fi(n,e)}},aR=async(t,e=3,n=1e3)=>{let i;for(let r=0;r<e;r++)try{return await t()}catch(s){i=s,r<e-1&&(jM(`Retry attempt ${r+1}`,"retry","info",{error:s.message}),await new Promise(a=>setTimeout(a,n*Math.pow(2,r))))}throw xw(i,{}),i},UM=C.createContext(),u3=({children:t})=>{const[e,n]=C.useState(null),[i,r]=C.useState(null),[s,a]=C.useState(!0),[l,u]=C.useState(null);C.useEffect(()=>{(async()=>{try{const{data:{session:T},error:A}=await Mt.auth.getSession();A?u("Failed to initialize authentication"):(r(T),n(T?.user??null))}catch(T){const A=new rt("Failed to initialize authentication",Ie.AUTHENTICATION_ERROR,401,T,"AuthContext.getInitialSession");u(A.message)}finally{a(!1)}})();const{data:{subscription:x}}=Mt.auth.onAuthStateChange(async(T,A)=>{r(A),n(A?.user??null),a(!1),u(null)});return()=>x.unsubscribe()},[]);const b={user:e,session:i,loading:s,error:l,signIn:async(S,x)=>{try{u(null),a(!0);const{data:T,error:A}=await Mt.auth.signInWithPassword({email:S,password:x});if(A)throw A;return{success:!0,user:T.user}}catch(T){const A=T instanceof rt?T:new rt(T.message,Ie.AUTHENTICATION_ERROR,401,T,"AuthContext.signIn");return u(A.message),{success:!1,error:A.message}}finally{a(!1)}},signUp:async(S,x,T={})=>{try{u(null),a(!0);const{data:A,error:O}=await Mt.auth.signUp({email:S,password:x,options:{data:T}});if(O)throw O;return{success:!0,user:A.user}}catch(A){return u(A.message),{success:!1,error:A.message}}finally{a(!1)}},signOut:async()=>{try{u(null),a(!0);const{error:S}=await Mt.auth.signOut();if(S)throw S;return{success:!0}}catch(S){return u(S.message),{success:!1,error:S.message}}finally{a(!1)}},resetPassword:async S=>{try{u(null),a(!0);const{error:x}=await Mt.auth.resetPasswordForEmail(S,{redirectTo:`${window.location.origin}/reset-password`});if(x)throw x;return{success:!0}}catch(x){return u(x.message),{success:!1,error:x.message}}finally{a(!1)}},updateProfile:async S=>{try{u(null),a(!0);const{data:x,error:T}=await Mt.auth.updateUser({data:S});if(T)throw T;return{success:!0,user:x.user}}catch(x){return u(x.message),{success:!1,error:x.message}}finally{a(!1)}},getUserProfile:async()=>{if(!e)return null;try{const{data:S,error:x}=await Mt.from("profiles").select("*").eq("id",e.id).single();return x?null:S}catch{return null}},isAuthenticated:!!e};return E.jsx(UM.Provider,{value:b,children:t})},du=()=>{const t=C.useContext(UM);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},oR=t=>{let e;const n=new Set,i=(d,h)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const m=e;e=h??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(v=>v(e,m))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(i,r,l);return l},d3=(t=>t?oR(t):oR),f3=t=>t;function h3(t,e=f3){const n=ae.useSyncExternalStore(t.subscribe,ae.useCallback(()=>e(t.getState()),[t,e]),ae.useCallback(()=>e(t.getInitialState()),[t,e]));return ae.useDebugValue(n),n}const lR=t=>{const e=d3(t),n=i=>h3(e,i);return Object.assign(n,e),n},fu=(t=>t?lR(t):lR),Er=fu((t,e)=>({machines:[],getMachines:()=>e().machines,getMachineById:n=>e().machines.find(i=>i.id===n),getMachinesByWorkCenter:n=>n==="BOTH"?e().machines:e().machines.filter(i=>i.work_center===n),setMachines:n=>t({machines:n||[]}),cleanupDuplicateMachines:()=>{const n=e(),i=[],r=new Set;n.machines.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({machines:i})},reset:()=>t({machines:[]})})),un=fu((t,e)=>({odpOrders:[],getOdpOrders:()=>e().odpOrders,getOrderById:n=>e().odpOrders.find(i=>i.id===n),getScheduledOrders:()=>e().odpOrders.filter(n=>n.status==="SCHEDULED"),getUnscheduledOrders:()=>e().odpOrders.filter(n=>n.status==="NOT SCHEDULED"),getOdpOrdersByWorkCenter:n=>n==="BOTH"?e().odpOrders:e().odpOrders.filter(i=>i.work_center===n),setOdpOrders:n=>t({odpOrders:n||[]}),cleanupDuplicateOrders:()=>{const n=e(),i=[],r=new Set;n.odpOrders.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({odpOrders:i})},reset:()=>t({odpOrders:[]})})),Nc=fu((t,e)=>({phases:[],getPhases:()=>e().phases,getPhaseById:n=>e().phases.find(i=>i.id===n),setPhases:n=>t({phases:n||[]}),cleanupDuplicatePhases:()=>{const n=e(),i=[],r=new Set;n.phases.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({phases:i})},reset:()=>t({phases:[]})})),g3={APP:{FIRST_DAY_OF_WEEK:1}},zM=6048e5,p3=864e5,m3=36e5,cR=Symbol.for("constructDateFrom");function gs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&cR in t?t[cR](e):t instanceof Date?new t.constructor(e):new Date(e)}function si(t,e){return gs(e||t,t)}function xf(t,e,n){const i=si(t,n?.in);return isNaN(e)?gs(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function v3(t,e,n){return gs(t,+si(t)+e)}function uR(t,e,n){return v3(t,e*m3)}let y3={};function fm(){return y3}function ul(t,e){const n=fm(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=si(t,e?.in),s=r.getDay(),a=(s<i?7:0)+s-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function bp(t,e){return ul(t,{...e,weekStartsOn:1})}function HM(t,e){const n=si(t,e?.in),i=n.getFullYear(),r=gs(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=bp(r),a=gs(n,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);const l=bp(a);return n.getTime()>=s.getTime()?i+1:n.getTime()>=l.getTime()?i:i-1}function dR(t){const e=si(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function b3(t,...e){const n=gs.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function fR(t,e){const n=si(t,e?.in);return n.setHours(0,0,0,0),n}function _3(t,e,n){const[i,r]=b3(n?.in,t,e),s=fR(i),a=fR(r),l=+s-dR(s),u=+a-dR(a);return Math.round((l-u)/p3)}function w3(t,e){const n=HM(t,e),i=gs(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),bp(i)}function BM(t,e,n){return xf(t,e*7,n)}function S3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function x3(t){return!(!S3(t)&&typeof t!="number"||isNaN(+si(t)))}function E3(t,e){const n=si(t,e?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function VM(t,e){const n=si(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const C3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T3=(t,e,n)=>{let i;const r=C3[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Eb(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const A3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O3={date:Eb({formats:A3,defaultWidth:"full"}),time:Eb({formats:R3,defaultWidth:"full"}),dateTime:Eb({formats:D3,defaultWidth:"full"})},k3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},M3=(t,e,n,i)=>k3[t];function gd(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;r=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const N3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},I3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},P3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},L3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},U3=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},z3={ordinalNumber:U3,era:gd({values:N3,defaultWidth:"wide"}),quarter:gd({values:I3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gd({values:P3,defaultWidth:"wide"}),day:gd({values:j3,defaultWidth:"wide"}),dayPeriod:gd({values:L3,defaultWidth:"wide",formattingValues:F3,defaultFormattingWidth:"wide"})};function pd(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const a=s[0],l=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?B3(l,g=>g.test(a)):H3(l,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function H3(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function B3(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function V3(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(r.length);return{value:a,rest:l}}}const $3=/^(\d+)(th|st|nd|rd)?/i,q3=/\d+/i,W3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G3={any:[/^b/i,/^(a|c)/i]},Y3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},K3={any:[/1/i,/2/i,/3/i,/4/i]},Q3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nq={ordinalNumber:V3({matchPattern:$3,parsePattern:q3,valueCallback:t=>parseInt(t,10)}),era:pd({matchPatterns:W3,defaultMatchWidth:"wide",parsePatterns:G3,defaultParseWidth:"any"}),quarter:pd({matchPatterns:Y3,defaultMatchWidth:"wide",parsePatterns:K3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pd({matchPatterns:Q3,defaultMatchWidth:"wide",parsePatterns:X3,defaultParseWidth:"any"}),day:pd({matchPatterns:Z3,defaultMatchWidth:"wide",parsePatterns:J3,defaultParseWidth:"any"}),dayPeriod:pd({matchPatterns:eq,defaultMatchWidth:"any",parsePatterns:tq,defaultParseWidth:"any"})},iq={code:"en-US",formatDistance:T3,formatLong:O3,formatRelative:M3,localize:z3,match:nq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rq(t,e){const n=si(t,e?.in);return _3(n,VM(n))+1}function sq(t,e){const n=si(t,e?.in),i=+bp(n)-+w3(n);return Math.round(i/zM)+1}function $M(t,e){const n=si(t,e?.in),i=n.getFullYear(),r=fm(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=gs(e?.in||t,0);a.setFullYear(i+1,0,s),a.setHours(0,0,0,0);const l=ul(a,e),u=gs(e?.in||t,0);u.setFullYear(i,0,s),u.setHours(0,0,0,0);const d=ul(u,e);return+n>=+l?i+1:+n>=+d?i:i-1}function aq(t,e){const n=fm(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=$M(t,e),s=gs(e?.in||t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),ul(s,e)}function oq(t,e){const n=si(t,e?.in),i=+ul(n,e)-+aq(n,e);return Math.round(i/zM)+1}function Nt(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Pa={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Nt(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Nt(n+1,2)},d(t,e){return Nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Nt(t.getHours()%12||12,e.length)},H(t,e){return Nt(t.getHours(),e.length)},m(t,e){return Nt(t.getMinutes(),e.length)},s(t,e){return Nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return Nt(r,e.length)}},yc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hR={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Pa.y(t,e)},Y:function(t,e,n,i){const r=$M(t,i),s=r>0?r:1-r;if(e==="YY"){const a=s%100;return Nt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Nt(s,e.length)},R:function(t,e){const n=HM(t);return Nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Nt(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Nt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Nt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Pa.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Nt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=oq(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Nt(r,e.length)},I:function(t,e,n){const i=sq(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Nt(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Pa.d(t,e)},D:function(t,e,n){const i=rq(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Nt(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Nt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Nt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Nt(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=yc.noon:i===0?r=yc.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=yc.evening:i>=12?r=yc.afternoon:i>=4?r=yc.morning:r=yc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Pa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Pa.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Nt(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Nt(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Pa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Pa.s(t,e)},S:function(t,e){return Pa.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return pR(i);case"XXXX":case"XX":return qo(i);case"XXXXX":case"XXX":default:return qo(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return pR(i);case"xxxx":case"xx":return qo(i);case"xxxxx":case"xxx":default:return qo(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gR(i,":");case"OOOO":default:return"GMT"+qo(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gR(i,":");case"zzzz":default:return"GMT"+qo(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return Nt(i,e.length)},T:function(t,e,n){return Nt(+t,e.length)}};function gR(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+Nt(s,2)}function pR(t,e){return t%60===0?(t>0?"-":"+")+Nt(Math.abs(t)/60,2):qo(t,e)}function qo(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Nt(Math.trunc(i/60),2),s=Nt(i%60,2);return n+r+e+s}const mR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},qM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lq=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return mR(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",mR(i,e)).replace("{{time}}",qM(r,e))},cq={p:qM,P:lq},uq=/^D+$/,dq=/^Y+$/,fq=["D","DD","YY","YYYY"];function hq(t){return uq.test(t)}function gq(t){return dq.test(t)}function pq(t,e,n){const i=mq(t,e,n);if(console.warn(i),fq.includes(t))throw new RangeError(i)}function mq(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bq=/^'([^]*?)'?$/,_q=/''/g,wq=/[a-zA-Z]/;function Qn(t,e,n){const i=fm(),r=i.locale??iq,s=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=si(t,n?.in);if(!x3(l))throw new RangeError("Invalid time value");let u=e.match(yq).map(h=>{const g=h[0];if(g==="p"||g==="P"){const m=cq[g];return m(h,r.formatLong)}return h}).join("").match(vq).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:Sq(h)};if(hR[g])return{isToken:!0,value:h};if(g.match(wq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:r};return u.map(h=>{if(!h.isToken)return h.value;const g=h.value;(gq(g)||hq(g))&&pq(g,e,String(t));const m=hR[g[0]];return m(l,g,r.localize,d)}).join("")}function Sq(t){const e=t.match(bq);return e?e[1].replace(_q,"'"):t}function xq(t,e){return si(t,e?.in).getDay()}function Eq(t,e){return+si(t)>+si(e)}function Cq(t,e,n){return BM(t,-1,n)}class Tq{async init(){try{const{error:e}=await Mt.from("machines").select("count").limit(1);if(e)throw new rt(`API initialization failed: ${e.message}`,Ie.SERVER_ERROR,500,e,"API.init");return!0}catch(e){throw e instanceof rt?e:new rt(`API initialization failed: ${e.message}`,Ie.SERVER_ERROR,500,e,"API.init")}}async getMachines(){return Z0(async()=>{const{data:e,error:n}=await Mt.from("machines").select("*").order("machine_name");if(n)throw n;return e||[]},"getMachines")}async addMachine(e){try{const{data:n,error:i}=await Mt.from("machines").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new rt(`Failed to add machine: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.addMachine")}}async updateMachine(e,n){try{const{data:i,error:r}=await Mt.from("machines").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new rt(`Failed to update machine: ${Pn(i)}`,Ie.SERVER_ERROR,500,i,"API.updateMachine")}}async removeMachine(e){try{const{error:n}=await Mt.from("machines").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new rt(`Failed to remove machine: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.removeMachine")}}async getOdpOrders(){try{const{data:e,error:n}=await Mt.from("odp_orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){throw new rt(`Failed to fetch ODP orders: ${Pn(e)}`,Ie.SERVER_ERROR,500,e,"API.getOdpOrders")}}async getOdpOrder(e){try{const{data:n,error:i}=await Mt.from("odp_orders").select("*").eq("id",e).single();if(i)throw i;return n}catch(n){throw new rt(`Failed to fetch ODP order: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.getOdpOrder")}}async addOdpOrder(e){try{const{data:n,error:i}=await Mt.from("odp_orders").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new rt(`Failed to add ODP order: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.addOdpOrder")}}async updateOdpOrder(e,n){try{const{data:i,error:r}=await Mt.from("odp_orders").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new rt(`Failed to update ODP order: ${Pn(i)}`,Ie.SERVER_ERROR,500,i,"API.updateOdpOrder")}}async removeOdpOrder(e){try{const{error:n}=await Mt.from("odp_orders").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new rt(`Failed to remove ODP order: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.removeOdpOrder")}}async getPhases(){try{const{data:e,error:n}=await Mt.from("phases").select("*").order("name");if(n)throw n;return e||[]}catch(e){throw new rt(`Failed to fetch phases: ${Pn(e)}`,Ie.SERVER_ERROR,500,e,"API.getPhases")}}async addPhase(e){try{const{data:n,error:i}=await Mt.from("phases").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new rt(`Failed to add phase: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.addPhase")}}async updatePhase(e,n){try{const{data:i,error:r}=await Mt.from("phases").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new rt(`Failed to update phase: ${Pn(i)}`,Ie.SERVER_ERROR,500,i,"API.updatePhase")}}async removePhase(e){try{const{error:n}=await Mt.from("phases").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new rt(`Failed to remove phase: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.removePhase")}}async getMachineAvailabilityForDateRange(e,n,i){try{const{data:r,error:s}=await Mt.from("machine_availability").select("*").eq("machine_id",e).gte("date",n).lte("date",i).order("date");if(s)throw s;return r||[]}catch(r){throw new rt(`Failed to fetch machine availability for date range: ${Pn(r)}`,Ie.SERVER_ERROR,500,r,"API.getMachineAvailabilityForDateRange")}}async getMachineAvailabilityForDate(e,n){try{const{data:i,error:r}=await Mt.from("machine_availability").select("*").eq("machine_id",e).eq("date",n).maybeSingle();if(r)throw r;return i||null}catch(i){throw new rt(`Failed to fetch machine availability: ${Pn(i)}`,Ie.SERVER_ERROR,500,i,"API.getMachineAvailabilityForDate")}}async getMachineAvailability(e,n){try{return(await this.getMachineAvailabilityForDate(e,n))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(e,n,i){try{const{data:r,error:s}=await Mt.from("machine_availability").upsert([{machine_id:e,date:n,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(s)throw s;return r}catch(r){throw new rt(`Failed to set machine availability: ${Pn(r)}`,Ie.SERVER_ERROR,500,r,"API.setMachineAvailability")}}async getMachineAvailabilityForDateAllMachines(e){try{const{data:n,error:i}=await Mt.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new rt(`Failed to fetch machine availability for all machines: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.getMachineAvailabilityForDateAllMachines")}}async getEventsByDate(e){try{const{data:n,error:i}=await Mt.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new rt(`Failed to fetch events by date: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.getEventsByDate")}}async setUnavailableHoursForRange(e,n,i,r,s){try{const a=parseInt(r.split(":")[0]),l=parseInt(s.split(":")[0]),u=[];for(let v=a;v<l;v++)u.push(v.toString());const d=new Date(n),h=new Date(i);let g=new Date(d);const m=[];for(;g<=h;){const v=Qn(g,"yyyy-MM-dd"),b=(await this.getMachineAvailabilityForDate(e,v))?.unavailable_hours||[],S=[...new Set([...b,...u])].sort((T,A)=>parseInt(T)-parseInt(A)),x=await this.setMachineAvailability(e,v,S);m.push(x),g=xf(g,1)}return m}catch(a){throw new rt(`Failed to set unavailable hours for range: ${Pn(a)}`,Ie.SERVER_ERROR,500,a,"API.setUnavailableHoursForRange")}}async bulkUpsertMachineAvailability(e){try{const{error:n}=await Mt.from("machine_availability").upsert(e,{onConflict:"machine_id,date"});if(n)throw n;return{success:!0}}catch(n){throw new rt(`Failed to bulk set machine availability: ${Pn(n)}`,Ie.SERVER_ERROR,500,n,"API.bulkUpsertMachineAvailability")}}setupRealtimeSubscriptions(e,n,i){return Mt.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},e).on("postgres_changes",{event:"*",schema:"public",table:"machines"},n).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i).subscribe(s=>{})}cleanupRealtimeSubscriptions(e){if(e)try{e.unsubscribe()}catch{}}}const _t=new Tq,J0=Object.freeze(Object.defineProperty({__proto__:null,apiService:_t},Symbol.toStringTag,{value:"Module"})),Tt=fu((t,e)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:localStorage.getItem("selectedWorkCenter")||mt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},getLoadingState:()=>e().isLoading,getInitializationState:()=>e().isInitialized,getSelectedWorkCenter:()=>e().selectedWorkCenter,getEditMode:()=>e().isEditMode,getConfirmDialog:()=>e().confirmDialog,getConflictDialog:()=>e().conflictDialog,getSchedulingLoading:()=>e().schedulingLoading,getDragPreview:()=>e().dragPreview,setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),setSelectedWorkCenter:n=>{localStorage.setItem("selectedWorkCenter",n),t({selectedWorkCenter:n})},toggleEditMode:()=>t(n=>({isEditMode:!n.isEditMode})),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>t({schedulingLoading:n}),startSchedulingOperation:(n,i=null)=>t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:i}}),stopSchedulingOperation:()=>t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}}),showConfirmDialog:(n,i,r,s="danger")=>t({confirmDialog:{isOpen:!0,title:n,message:i,onConfirm:r,type:s}}),hideConfirmDialog:()=>t({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),showConflictDialog:n=>t({conflictDialog:{isOpen:!0,details:n}}),hideConflictDialog:()=>t({conflictDialog:{isOpen:!1,details:null}}),setDragPreview:n=>t({dragPreview:n}),clearDragPreview:()=>t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}}),showAlert:(n,i="info")=>{FM(n,i)},reset:()=>t({isLoading:!1,isInitialized:!1,selectedWorkCenter:mt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})}));class Aq{constructor(e,n){this.get=e,this.set=n}setSplitTaskInfo=(e,n)=>{this.set(i=>({splitTasksInfo:{...i.splitTasksInfo,[e]:n}}))};getSplitTaskInfo=e=>{const n=this.get().splitTasksInfo[e];if(n&&n.segments)return n;const{getOrderById:i}=un.getState(),r=i(e);if(r&&r.description&&r.status==="SCHEDULED")try{const s=JSON.parse(r.description);if(s.segments&&Array.isArray(s.segments))return setTimeout(()=>{this.setSplitTaskInfo(e,s)},0),s}catch{}return null};clearSplitTaskInfo=e=>{this.set(n=>{const i={...n.splitTasksInfo};return delete i[e],{splitTasksInfo:i}})};updateTaskWithSplitInfo=async(e,n,i=null,r=null,s=null)=>{const{apiService:a}=await ii(async()=>{const{apiService:l}=await Promise.resolve().then(()=>J0);return{apiService:l}},void 0);if(n){this.setSplitTaskInfo(e,n);const u={description:JSON.stringify(n),status:"SCHEDULED"};if(i&&(u.scheduled_start_time=i.toISOString()),r&&(u.scheduled_end_time=r.toISOString()),s&&(u.scheduled_machine_id=s),!(u.scheduled_start_time&&u.scheduled_end_time&&u.scheduled_machine_id))if(!u.scheduled_start_time&&!u.scheduled_end_time&&!u.scheduled_machine_id)delete u.scheduled_start_time,delete u.scheduled_end_time,delete u.scheduled_machine_id,u.status="NOT SCHEDULED";else{const{getOrderById:h}=un.getState(),g=h(e);g&&(u.scheduled_start_time||(u.scheduled_start_time=g.scheduled_start_time),u.scheduled_end_time||(u.scheduled_end_time=g.scheduled_end_time),u.scheduled_machine_id||(u.scheduled_machine_id=g.scheduled_machine_id))}const d=await a.updateOdpOrder(e,u);this.updateSplitTaskInfo(e,d)}else{this.clearSplitTaskInfo(e);const l=await a.updateOdpOrder(e,{description:""});this.updateSplitTaskInfo(e,l)}};updateSplitTaskInfo=(e,n)=>{if(this.clearSplitTaskInfo(e),n.description&&n.status==="SCHEDULED")try{const i=JSON.parse(n.description);i.segments&&Array.isArray(i.segments)?this.validateSegments(i.segments.map(s=>({start:new Date(s.start),end:new Date(s.end),duration:s.duration}))).isValid?this.setSplitTaskInfo(e,i):this.clearSplitTaskInfo(e):this.clearSplitTaskInfo(e)}catch{this.clearSplitTaskInfo(e)}else this.clearSplitTaskInfo(e)};restoreSplitTaskInfo=()=>{const{getOdpOrders:e}=un.getState(),n=e(),i={};let r=0;n.forEach(s=>{if(s.description&&s.status==="SCHEDULED")try{const a=JSON.parse(s.description);a.segments&&Array.isArray(a.segments)&&(i[s.id]=a,r++)}catch{}}),this.set({splitTasksInfo:i})};validateSegments=e=>{if(!Array.isArray(e)||e.length===0)return{isValid:!1,error:"Segments must be a non-empty array"};for(let n=0;n<e.length;n++){const i=e[n];if(!i.start||!i.end||i.duration===void 0)return{isValid:!1,error:`Segment ${n} missing required properties (start, end, duration)`};const r=new Date(i.start),s=new Date(i.end);if(isNaN(r.getTime())||isNaN(s.getTime()))return{isValid:!1,error:`Segment ${n} has invalid date values`};if(s<=r)return{isValid:!1,error:`Segment ${n} end time must be after start time`};if(i.duration<=0)return{isValid:!1,error:`Segment ${n} duration must be positive`};if(n>0){const a=e[n-1],l=new Date(a.end);if(r<l)return{isValid:!1,error:`Segment ${n} overlaps with previous segment`}}}return{isValid:!0}};createSegmentInfo=(e,n)=>{const i=this.validateSegments(e);if(!i.isValid)throw new Error(`Invalid segments: ${i.error}`);return{totalSegments:e.length,segments:e.map(r=>({start:r.start.toISOString(),end:r.end.toISOString(),duration:r.duration})),originalDuration:n,wasSplit:e.length>1}};getTaskOccupiedSegments=e=>{const n=this.getSplitTaskInfo(e.id);if(n&&n.segments)return n.segments.map(i=>({start:new Date(i.start),end:new Date(i.end),duration:i.duration}));if(e.description)try{const i=JSON.parse(e.description);if(i.segments&&Array.isArray(i.segments))return i.segments.map(r=>({start:new Date(r.start),end:new Date(r.end),duration:r.duration}))}catch{}if(e.scheduled_start_time){const i=new Date(e.scheduled_start_time),r=e.time_remaining||e.duration||1,s=new Date(i.getTime()+r*60*60*1e3);return[{start:i,end:s,duration:r}]}return[]};doTimeRangesOverlap=(e,n,i,r)=>e<r&&n>i;checkTaskOverlap=(e,n,i)=>{const r=this.getTaskOccupiedSegments(i);for(const s of r)if(this.doTimeRangesOverlap(e,n,s.start,s.end))return{hasOverlap:!0,conflictingSegment:s,existingTask:i};return{hasOverlap:!1}};checkMachineOverlaps=(e,n,i,r=null,s=[])=>{const{getOdpOrders:a}=un.getState(),l=[r,...s].filter(h=>h),d=a().filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&!l.includes(h.id)&&h.scheduled_start_time&&h.scheduled_end_time&&h.scheduled_machine_id).sort((h,g)=>{const m=this.getTaskOccupiedSegments(h),v=this.getTaskOccupiedSegments(g),_=m.length>0?m[0].start:new Date(h.scheduled_start_time),b=v.length>0?v[0].start:new Date(g.scheduled_start_time);return _.getTime()-b.getTime()});for(const h of d){const g=this.checkTaskOverlap(e,n,h);if(g.hasOverlap)return{hasOverlap:!0,conflictingTask:h,conflictingSegment:g.conflictingSegment}}return{hasOverlap:!1}};migrateExistingTasksToSegmentFormat=async()=>{const{getOdpOrders:e}=un.getState(),n=e();for(const i of n)if(i.status==="SCHEDULED"&&i.scheduled_start_time){const r=this.getSplitTaskInfo(i.id);if(r&&r.segments)continue;if(i.description)try{const h=JSON.parse(i.description);if(h.segments&&Array.isArray(h.segments)){this.setSplitTaskInfo(i.id,h);continue}}catch{}const s=new Date(i.scheduled_start_time),a=i.time_remaining||i.duration||1,l=new Date(s.getTime()+a*60*60*1e3),u=[{start:s,end:l,duration:a}],d=this.createSegmentInfo(u,a);await this.updateTaskWithSplitInfo(i.id,d)}};verifyAllTasksHaveSegmentInfo=()=>{const{getOdpOrders:e}=un.getState(),i=e().filter(s=>s.status==="SCHEDULED"),r=[];for(const s of i){const a=this.getSplitTaskInfo(s.id);(!a||!a.segments)&&r.push({id:s.id,odp_number:s.odp_number,description:s.description})}return{totalScheduledTasks:i.length,tasksWithSegments:i.length-r.length,tasksWithoutSegments:r}}}class Rq{constructor(e,n,i,r){this.get=e,this.set=n,this.splitTaskManager=i,this.machineAvailabilityManager=r}createAbsoluteDate=(e,n,i,r=0,s=0)=>new Date(Date.UTC(e,n-1,i,r,s,0,0));splitTaskAcrossAvailableSlots=(e,n,i,r)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const d of r)if(a>=d.start&&a<d.end){a=new Date(d.end),u=!0;break}}for(;l>0;){let d=null,h=null,g=null;for(const m of r){const v=new Date(m.start),_=new Date(m.end);v>=a&&(!d||v<h)&&(d=m,h=v,g=_)}if(d){const m=(h.getTime()-a.getTime())/36e5;if(m>0){const _=Math.min(m,l),b=new Date(a.getTime()+_*60*60*1e3);s.push({start:new Date(a),end:b,duration:_}),l-=_}a=new Date(g);let v=!0;for(;v;){v=!1;for(const _ of r)if(a>=_.start&&a<_.end){a=new Date(_.end),v=!0;break}}}else{const m=new Date(a.getTime()+l*60*60*1e3);s.push({start:new Date(a),end:m,duration:l}),l=0}if(s.length>l5.MAX_TASK_SEGMENTS){console.warn("Task splitting exceeded maximum segments limit");break}}return s}catch(s){return console.error("Error in splitTaskAcrossAvailableSlots:",s),[]}};splitTaskAcrossAvailableSlotsBackward=(e,n,i,r)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const h of r)if(a>h.start&&a<=h.end){a=new Date(h.start),u=!0;break}}for(;l>0;){let h=null,g=null,m=null;for(const T of r){const A=new Date(T.start),O=new Date(T.end);O<=a&&(!h||O>m)&&(h=T,g=A,m=O)}let v;h?v=new Date(m):v=new Date(a.getTime()-l*60*60*1e3);let _=!0;for(;_;){_=!1;for(const T of r)if(v<T.end&&v>=T.start){v=new Date(T.end),_=!0;break}}const b=(a.getTime()-v.getTime())/(1e3*60*60);if(b<=0){a=h?new Date(g):new Date(a.getTime()-3600*1e3);continue}const S=Math.min(b,l),x=new Date(a.getTime()-S*60*60*1e3);s.push({start:x,end:new Date(a),duration:S}),l-=S,a=new Date(x)}return s.reverse()}catch(s){return console.error("Error in splitTaskAcrossAvailableSlotsBackward:",s),[]}};collectUnavailableSlots=(e,n,i)=>{const r=[],s=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),a=this.createAbsoluteDate(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(s);for(;u<=l;){const d=Qn(u,"yyyy-MM-dd"),h=this.get().machineAvailability[d];if(h&&Array.isArray(h)){const g=h.find(m=>m.machine_id===i);if(g&&g.unavailable_hours&&Array.isArray(g.unavailable_hours)){const[m,v,_]=d.split("-").map(Number);for(const b of g.unavailable_hours){const S=this.createAbsoluteDate(m,v,_,parseInt(b),0),x=new Date(S.getTime()+3600*1e3);r.push({start:S,end:x,hour:parseInt(b),date:d})}}}u.setUTCDate(u.getUTCDate()+1)}return r.sort((d,h)=>d.start.getTime()-h.start.getTime())};loadMachineAvailabilityForExtendedRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()+n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(r);for(;u<=l;){const d=Qn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return l};loadMachineAvailabilityForBackwardRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()-n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()-7);let u=new Date(l);for(;u<=r;){const d=Qn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return{taskStartDateWithBuffer:l,taskEndDate:r}};checkSegmentsForOverlaps=(e,n,i,r=[])=>{[i,...r].filter(s=>s);for(const s of e){const a=this.splitTaskManager.checkMachineOverlaps(s.start,s.end,n,i,r);if(a.hasOverlap)return{hasOverlap:!0,conflictingSegment:s,conflictingTask:a.conflictingTask,conflictingExistingSegment:a.conflictingSegment}}return{hasOverlap:!1}};scheduleTaskWithSplitting=async(e,n,i,r,s=[])=>{const a=await this.loadMachineAvailabilityForExtendedRange(n,i,r),l=this.collectUnavailableSlots(n,a,r),u=new Date(n.getTime()+i*60*60*1e3);if(l.some(h=>n<h.end&&u>h.start)){const h=this.splitTaskAcrossAvailableSlots(n,i,r,l);if(h.length>0){const g=this.checkSegmentsForOverlaps(h,r,e,s);if(g.hasOverlap)return{conflict:!0,conflictingTask:g.conflictingTask,conflictingSegment:g.conflictingExistingSegment,proposedSegments:h};const m=h[0],v=h[h.length-1];if(!m?.start||!v?.end)return console.error("Invalid segments returned from splitTaskAcrossAvailableSlots:",h),null;const _=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,_,m.start,v.end,r),{startTime:m.start,endTime:v.end,wasSplit:!0,segments:h,originalDuration:i}}}else{const h=[{start:n,end:u,duration:i}],g=this.checkSegmentsForOverlaps(h,r,e,s);if(g.hasOverlap)return{conflict:!0,conflictingTask:g.conflictingTask,conflictingSegment:g.conflictingExistingSegment,proposedSegments:h};const m=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,m,n,u,r),{startTime:n,endTime:u,wasSplit:!1,segments:h,originalDuration:i}}return null};scheduleTaskEndingAtWithSplitting=async(e,n,i,r,s=[])=>{const{taskStartDateWithBuffer:a,taskEndDate:l}=await this.loadMachineAvailabilityForBackwardRange(n,i,r),u=this.collectUnavailableSlots(a,l,r),d=this.splitTaskAcrossAvailableSlotsBackward(n,i,r,u);if(d.length===0)return null;const h=this.checkSegmentsForOverlaps(d,r,e,s);if(h.hasOverlap)return{conflict:!0,conflictingTask:h.conflictingTask,conflictingSegment:h.conflictingExistingSegment,proposedSegments:d};const g=this.splitTaskManager.createSegmentInfo(d,i),m=d[0],v=d[d.length-1];return!m?.start||!v?.end?(console.error("Invalid segments returned from splitTaskAcrossAvailableSlotsBackward:",d),null):(await this.splitTaskManager.updateTaskWithSplitInfo(e,g,m.start,v.end,r),{startTime:m.start,endTime:v.end,wasSplit:d.length>1,segments:d,originalDuration:i})};handleTaskDurationShrinking=async(e,n,i,r={})=>{try{console.log(" DURATION SHRINKING: Starting cascading rescheduling for task",e),console.log(" DURATION SHRINKING: New duration:",n,"hours");const{getOrderById:s,getOdpOrders:a}=un.getState(),{getMachineById:l}=Er.getState(),u=s(e),d=l(i),h=a();if(!u||!d)return{success:!1,error:"Task or machine not found"};if(!u.scheduled_start_time||!u.scheduled_end_time)return{success:!1,error:"Task is not scheduled"};const g=new Date(u.scheduled_start_time),m=u.duration,v=new Date(g.getTime()+m*60*60*1e3);console.log(" DURATION SHRINKING: Original end time (pre-shrinking):",v.toISOString()),console.log(" DURATION SHRINKING: Original duration:",m,"New duration:",n);const _=this.findCascadingChain(e,v,i,h);console.log(" DURATION SHRINKING: Found cascading chain of",_.length,"tasks to reschedule"),console.log(" DURATION SHRINKING: Chain tasks:",_.map(k=>k.odp_number));const b=u.quantity_completed/u.quantity||0,S=n*(1-b);console.log(" DURATION SHRINKING: Calculated time_remaining:",S,"from new duration:",n,"and progress:",b),console.log(" DURATION SHRINKING: Progress calculation:",u.quantity_completed,"/",u.quantity,"=",b),console.log(" DURATION SHRINKING: Rescheduling original task with new time_remaining");const x=await this.scheduleTaskWithSplitting(e,g,S,i,[]);if(!x)return console.error(" DURATION SHRINKING: Failed to reschedule original task"),{success:!1,error:"Failed to reschedule original task. Not enough space available.",rescheduledTasks:[]};if(x.conflict)return console.error(" DURATION SHRINKING: Conflict detected while rescheduling original task"),{success:!1,error:"Conflict detected while rescheduling original task. Consider using conflict resolution.",rescheduledTasks:[]};await this.splitTaskManager.updateTaskWithSplitInfo(e,x.segments?{segments:x.segments,totalSegments:x.segments.length,originalDuration:x.originalDuration||S,wasSplit:x.wasSplit||!1}:null,x.startTime,x.endTime,i);const T={duration:n,time_remaining:S,...r};console.log(" DURATION SHRINKING: Final update data:",T),await _t.updateOdpOrder(e,T);const A=[{id:e,odp_number:u.odp_number,new_start_time:x.startTime.toISOString(),new_end_time:x.endTime.toISOString(),was_split:x.wasSplit}];let O=new Date(x.endTime);const D=O.getUTCMinutes(),N=Math.ceil(D/15)*15;N===60?O.setUTCHours(O.getUTCHours()+1,0,0,0):O.setUTCMinutes(N,0,0);for(const k of _){console.log(" DURATION SHRINKING: Rescheduling task",k.odp_number,"to start at",O.toISOString());const P=await this.scheduleTaskWithSplitting(k.id,O,k.time_remaining||k.duration||1,i,[e]);if(!P)return console.error(" DURATION SHRINKING: Failed to reschedule task",k.odp_number),{success:!1,error:`Failed to reschedule task ${k.odp_number}. Not enough space available.`,rescheduledTasks:A};if(P.conflict)return console.error(" DURATION SHRINKING: Conflict detected while rescheduling task",k.odp_number),{success:!1,error:`Conflict detected while rescheduling task ${k.odp_number}. Consider using conflict resolution.`,rescheduledTasks:A};await this.splitTaskManager.updateTaskWithSplitInfo(k.id,P.segments?{segments:P.segments,totalSegments:P.segments.length,originalDuration:P.originalDuration||k.time_remaining||k.duration||1,wasSplit:P.wasSplit||!1}:null,P.startTime,P.endTime,i),A.push({id:k.id,odp_number:k.odp_number,new_start_time:P.startTime.toISOString(),new_end_time:P.endTime.toISOString(),was_split:P.wasSplit}),O=new Date(P.endTime);const z=O.getUTCMinutes(),B=Math.ceil(z/15)*15;B===60?O.setUTCHours(O.getUTCHours()+1,0,0,0):O.setUTCMinutes(B,0,0)}console.log(" DURATION SHRINKING: Successfully rescheduled",A.length,"tasks");const M=s(e);return{success:!0,message:`Successfully rescheduled ${A.length} tasks due to duration reduction`,rescheduledTasks:A,updatedTask:M}}catch(s){return console.error(" DURATION SHRINKING ERROR:",s),{success:!1,error:s.message||"Unknown error during duration shrinking",rescheduledTasks:[]}}};findCascadingChain=(e,n,i,r)=>{const s=[],a=new Set,l=r.filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&h.id!==e&&h.scheduled_start_time).sort((h,g)=>new Date(h.scheduled_start_time)-new Date(g.scheduled_start_time)),u=l.filter(h=>{const m=(new Date(h.scheduled_start_time).getTime()-n.getTime())/(1e3*60);return m>=0&&m<=15});console.log(" DURATION SHRINKING: Initial candidates within 15 minutes:",u.map(h=>h.odp_number));const d=h=>{for(const g of l){if(a.has(g.id))continue;const m=new Date(g.scheduled_start_time),v=(m.getTime()-h.getTime())/(1e3*60);if(v>=0&&v<=15){a.add(g.id),s.push(g);const _=g.time_remaining||g.duration||1,b=new Date(m.getTime()+_*60*60*1e3);console.log(" DURATION SHRINKING: Added to chain:",g.odp_number,"ends at",b.toISOString()),d(b)}}};return d(n),console.log(" DURATION SHRINKING: Complete chain found:",s.map(h=>h.odp_number)),s}}class Dq{constructor(e,n,i,r){this.get=e,this.set=n,this.schedulingLogic=i,this.splitTaskManager=r}getTaskDurationMinutes=e=>Math.round((e.time_remaining||e.duration||1)*og.MINUTES_PER_HOUR);getTaskEndTime=e=>{const n=new Date(e.scheduled_start_time),i=this.getTaskDurationMinutes(e);return new Date(n.getTime()+i*og.MILLISECONDS_PER_MINUTE)};addMinutesToDate=(e,n)=>new Date(e.getTime()+n*og.MILLISECONDS_PER_MINUTE);roundUpToNext15MinSlot=e=>{const n=e.getUTCMinutes(),i=e.getUTCHours(),r=Math.ceil(n/15)*15,s=new Date(e);return r===og.MINUTES_PER_HOUR?s.setUTCHours(i+1,0,0,0):s.setUTCMinutes(r,0,0),s};scheduleTaskWithSplittingForShunt=async(e,n,i)=>await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,[e.id]);scheduleTaskWithSplittingForShuntExcluding=async(e,n,i,r,s=3)=>{const a=this.getTaskDurationMinutes(e)/60,l=r.filter(d=>d!==e.id),u=await this.schedulingLogic.scheduleTaskWithSplitting(e.id,n,a,i.id,l);return u&&!u.conflict?{startTime:u.startTime,endTime:u.endTime,wasSplit:u.wasSplit}:u&&u.conflict?(console.log(` CASCADING SHUNT: Task ${e.odp_number} conflicts with ${u.conflictingTask?.odp_number}, attempting cascading resolution`),s>0?await this.handleCascadingConflict(e,n,i,r,u,s-1):(console.warn(` CASCADING SHUNT: Max depth reached for task ${e.odp_number}, returning conflict info`),{conflict:!0,conflictingTask:u.conflictingTask,conflictingSegment:u.conflictingSegment,proposedSegments:u.proposedSegments})):u?{startTime:n,endTime:this.addMinutesToDate(n,this.getTaskDurationMinutes(e)),wasSplit:!1}:null};handleCascadingConflict=async(e,n,i,r,s,a)=>{const l=s.conflictingTask,u=s.conflictingSegment;console.log(` CASCADING SHUNT: Attempting to shunt conflicting task ${l?.odp_number} to resolve conflict with ${e.odp_number}`);const d=new Date(n.getTime()+this.getTaskDurationMinutes(e)*60*1e3),h=this.roundUpToNext15MinSlot(d),g=[...r,l.id];try{const m=await this.scheduleTaskWithSplittingForShuntExcluding(l,h,i,g,a);if(m&&!m.conflict){console.log(` CASCADING SHUNT: Successfully shunted conflicting task ${l.odp_number}`),await this.updateTaskSchedule(l.id,m.startTime,m.endTime);const v=await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,g,a);return v&&!v.conflict?(console.log(` CASCADING SHUNT: Successfully scheduled original task ${e.odp_number} after resolving conflicts`),v):(console.warn(` CASCADING SHUNT: Original task ${e.odp_number} still conflicts after shunting conflicting task`),v||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments})}else return console.warn(` CASCADING SHUNT: Could not shunt conflicting task ${l?.odp_number}`),m||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}catch(m){return console.error(" CASCADING SHUNT: Error during cascading conflict resolution:",m),{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}};updateTaskSchedule=async(e,n,i)=>{try{const{updateOrder:r}=un.getState();await r(e,{scheduled_start_time:n.toISOString(),scheduled_end_time:i.toISOString()})}catch(r){console.error(` CASCADING SHUNT: Failed to update task ${e} schedule:`,r)}};checkShuntingOverlaps=(e,n,i,r=[])=>{const s=i.filter(a=>a.scheduled_machine_id===n&&a.status==="SCHEDULED"&&!r.includes(a.id));for(const a of e)for(const l of s){const u=this.splitTaskManager.checkTaskOverlap(a.start,a.end,l);if(u.hasOverlap)return{hasOverlap:!0,conflictingTask:l,conflictingSegment:u.conflictingSegment,newTaskSegment:a}}return{hasOverlap:!1}};resolveConflictByShunting=async(e,n,i,r)=>{try{const{conflictingTask:s,proposedStartTime:a,machine:l}=e,u=new Date(a),d=i.filter(D=>D.scheduled_machine_id===l.id&&D.status==="SCHEDULED"&&D.id!==r.id).sort((D,N)=>{const M=this.splitTaskManager.getTaskOccupiedSegments(D),k=this.splitTaskManager.getTaskOccupiedSegments(N),P=M.length>0?M[0].start:new Date(D.scheduled_start_time),z=k.length>0?k[0].start:new Date(N.scheduled_start_time);return P-z}),h=d.findIndex(D=>D.id===s.id);if(h===-1)throw new rt("Conflicting task not found",Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const g=this.getTaskDurationMinutes(r),m=[];let v=!1;if(n==="right")for(let D=h;D<d.length&&!v;D++){const N=d[D];if(m.push(N),D<d.length-1){const M=d[D+1],k=this.splitTaskManager.getTaskOccupiedSegments(N),P=this.splitTaskManager.getTaskOccupiedSegments(M);if(k.length>0&&P.length>0){const z=Math.max(...k.map(ne=>ne.end.getTime())),B=Math.min(...P.map(ne=>ne.start.getTime()));Math.floor((B-z)/(60*1e3))>=g&&(v=!0)}}else v=!0}else for(let D=h;D>=0&&!v;D--){const N=d[D];if(m.unshift(N),D>0){const M=d[D-1],k=this.splitTaskManager.getTaskOccupiedSegments(M),P=this.splitTaskManager.getTaskOccupiedSegments(N);if(k.length>0&&P.length>0){const z=Math.max(...k.map(ne=>ne.end.getTime())),B=Math.min(...P.map(ne=>ne.start.getTime()));Math.floor((B-z)/(60*1e3))>=g&&(v=!0)}}else{const M=this.splitTaskManager.getTaskOccupiedSegments(N);if(M.length>0){const k=Math.min(...M.map(B=>B.start.getTime())),P=new Date(k);if(P.setUTCHours(6,0,0,0),Math.floor((k-P.getTime())/(60*1e3))>=g)v=!0;else{const B=new Date(k),K=new Date(B);K.setUTCHours(6,0,0,0),B.getTime()>K.getTime()&&(v=!0)}}}}const _=new Set,b=new Set;for(const D of m)_.add(D.id),b.add(D.id);b.add(r.id);let S=0;const x=10;for(;S<x;){S++;let D=!1;const N=Array.from(_);for(const M of N){const k=d.find(ne=>ne.id===M)||r;if(!k)continue;let P;if(n==="right"){const ne=new Date(u.getTime()+g*60*1e3);if(P=this.roundUpToNext15MinSlot(ne),k.id!==r.id){const ue=Array.from(_).indexOf(M);if(ue>0){const ge=Array.from(_)[ue-1],L=d.find(re=>re.id===ge)||r,q=this.getTaskDurationMinutes(L),$=new Date(P.getTime()+q*60*1e3);P=this.roundUpToNext15MinSlot($)}}}else{const ne=u,ue=this.getTaskDurationMinutes(k);P=this.roundUpToNext15MinSlot(this.addMinutesToDate(ne,-ue))}const z=this.getTaskDurationMinutes(k)/60,B=this.schedulingLogic.collectUnavailableSlots(P,new Date(P.getTime()+z*60*60*1e3),l.id);if(B.some(ne=>P<ne.end&&new Date(P.getTime()+z*60*60*1e3)>ne.start)){const ne=this.schedulingLogic.splitTaskAcrossAvailableSlots(P,z,l.id,B);for(const ue of ne)for(const ge of d)!b.has(ge.id)&&ge.id!==k.id&&this.splitTaskManager.checkTaskOverlap(ue.start,ue.end,ge).hasOverlap&&(b.add(ge.id),_.add(ge.id),D=!0)}else{const ne=new Date(P.getTime()+z*60*60*1e3);for(const ue of d)!b.has(ue.id)&&ue.id!==k.id&&this.splitTaskManager.checkTaskOverlap(P,ne,ue).hasOverlap&&(b.add(ue.id),_.add(ue.id),D=!0)}}if(!D)break}if(S>=x)throw console.error(` SHUNTING ERROR: Maximum iterations (${x}) reached, possible infinite loop`),new rt("Too many conflicts detected during shunting",Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const T=d.filter(D=>_.has(D.id));if(m.length=0,m.push(...T),!v&&m.length===d.length){const D=this.getTaskDurationMinutes(r),N=m.length,M=l.machine_name||"Unknown Machine";console.warn(` SHUNTING WARNING: No gap found for ${D} minutes on machine ${M}`),console.warn(` All ${N} tasks on machine would need to be moved`),console.warn(" Attempting to schedule at earliest possible time...");const k=d[0],P=this.splitTaskManager.getTaskOccupiedSegments(k);if(P.length>0){const z=Math.min(...P.map(K=>K.start.getTime())),B=new Date(z);if(B.setUTCHours(6,0,0,0),B.getTime()<z)v=!0;else throw console.error(` SHUNTING FAILED: No space even at 6 AM on machine ${M}`),console.error(" Consider: 1) Moving to different machine, 2) Reducing task duration, 3) Scheduling on different day"),new rt(`Non c' spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${D} minuti) richiederebbe di spostare tutti i ${N} lavori sulla macchina ${M}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}else throw new rt(`Non c' spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${D} minuti) richiederebbe di spostare tutti i ${N} lavori sulla macchina ${M}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}const A=[];let O=null;if(n==="right"){const D=new Date(u),N=[...Array.from(b)];if(O=await this.scheduleTaskWithSplittingForShuntExcluding(r,D,l,N),O&&O.conflict)return console.warn(` CASCADING SHUNT: Dragged task ${r.odp_number} still has conflicts after cascading resolution`),{error:`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Conflitti non risolvibili automaticamente.`,conflict:O.conflict,conflictingTask:O.conflictingTask,conflictingSegment:O.conflictingSegment};let M=O.endTime?this.roundUpToNext15MinSlot(O.endTime):new Date;for(const k of m){const P=[...Array.from(b)],z=await this.scheduleTaskWithSplittingForShuntExcluding(k,M,l,P);if(!z)throw console.error(` Failed to schedule task ${k.odp_number} at ${M.toISOString()}`),new rt(`Impossibile programmare il task ${k.odp_number} alla posizione richiesta. Non c' spazio sufficiente.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(z&&z.conflict){console.warn(` CASCADING SHUNT: Task ${k.odp_number} still has conflicts after cascading resolution`);continue}A.push({id:k.id,scheduled_start_time:z.startTime?.toISOString(),scheduled_end_time:z.endTime?.toISOString()}),z.endTime&&(M=this.roundUpToNext15MinSlot(z.endTime))}}else{const D=new Date(u);let N=this.roundUpToNext15MinSlot(this.addMinutesToDate(D,-1));for(let M=m.length-1;M>=0;M--){const k=m[M],P=[...Array.from(b)],z=await this.schedulingLogic.scheduleTaskEndingAtWithSplitting(k.id,N,this.getTaskDurationMinutes(k)/60,l.id,P);if(!z)throw console.error(` Failed to schedule task ${k.odp_number} ending at ${N.toISOString()}`),new rt(`Impossibile programmare il task ${k.odp_number} alla posizione richiesta. Non c' spazio sufficiente.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(z&&z.conflict){console.warn(` CASCADING SHUNT: Task ${k.odp_number} still has conflicts after cascading resolution (LEFT direction)`);continue}A.push({id:k.id,scheduled_start_time:z.startTime?.toISOString(),scheduled_end_time:z.endTime?.toISOString()}),z.startTime&&(N=this.roundUpToNext15MinSlot(this.addMinutesToDate(z.startTime,-1)))}}if(!O){const D=new Date(u),N=[...Array.from(b)];O=await this.scheduleTaskWithSplittingForShuntExcluding(r,D,l,N)}if(!O)throw console.error(` Failed to schedule dragged task ${r.odp_number} at ${proposedStart.toISOString()}`),new rt(`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Non c' spazio sufficiente.`,Ie.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");A.push({id:r.id,scheduled_machine_id:l.id,scheduled_start_time:O.startTime?.toISOString(),scheduled_end_time:O.endTime?.toISOString(),status:"SCHEDULED"});for(const D of A)await _t.updateOdpOrder(D.id,D);return Tt.getState().hideConflictDialog(),Tt.getState().showAlert("Lavori riprogrammati con successo","success"),{success:!0}}catch(s){return console.error(" SHUNTING ERROR:",s),{error:(s instanceof rt?s:new rt(s.message||"Errore durante la riprogrammazione",Ie.BUSINESS_LOGIC_ERROR,400,s,"ConflictResolution.resolveConflictByShunting")).message}}}}class Oq{constructor(e,n){this.get=e,this.set=n,this.updateLocks=new Map}getLockKey=(e,n)=>`${e}-${n}`;acquireLock=async(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.has(i)&&await this.updateLocks.get(i);let r;const s=new Promise(a=>{r=a});return this.updateLocks.set(i,s),r};releaseLock=(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.delete(i)};loadMachineAvailabilityForDate=async e=>{const{machineAvailability:n}=this.get();if(!n[e]?._loading&&!(n[e]&&n[e].length>=0)){this.set(i=>({machineAvailability:{...i.machineAvailability,[e]:{_loading:!0}}}));try{const i=await _t.getMachineAvailabilityForDateAllMachines(e);this.set(r=>({machineAvailability:{...r.machineAvailability,[e]:i||[]}}))}catch(i){throw this.set(r=>{const s={...r.machineAvailability};return s[e]&&delete s[e]._loading,{machineAvailability:s}}),i}}};loadMachineAvailabilityForDateRange=async(e,n,i)=>{const r=n instanceof Date?Qn(n,"yyyy-MM-dd"):n,s=i instanceof Date?Qn(i,"yyyy-MM-dd"):i;try{const a=await _t.getMachineAvailabilityForDateRange(e,r,s);return this.set(l=>{const u={...l.machineAvailability};return Array.isArray(a)&&a.forEach(d=>{if(d.date&&d.unavailable_hours){const h=d.date;u[h]||(u[h]=[]);const g=u[h].find(m=>m.machine_id===e);g?g.unavailable_hours=d.unavailable_hours:u[h].push({machine_id:e,date:h,unavailable_hours:d.unavailable_hours})}}),{machineAvailability:u}}),a}catch(a){throw a}};getMachineAvailability=async(e,n)=>{try{const i=this.get().machineAvailability[n];if(i&&Array.isArray(i)){const s=i.find(a=>a.machine_id===e);if(s)return s.unavailable_hours||[]}const r=await _t.getMachineAvailabilityForDate(e,n);if(r){const s=(r.unavailable_hours||[]).map(a=>a.toString());return this.set(a=>{const l={...a.machineAvailability};l[n]||(l[n]=[]);const u=l[n].find(d=>d.machine_id===e);return u?u.unavailable_hours=s:l[n].push({machine_id:e,date:n,unavailable_hours:s}),{machineAvailability:l}}),s}return[]}catch{return[]}};loadMachineAvailabilityForMachine=async(e,n,i)=>{const r={};try{try{await _t.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let s=new Date(n);for(;s<=i;){const a=Qn(s,"yyyy-MM-dd");this.get().machineAvailability[a]||await this.loadMachineAvailabilityForDate(a);const u=this.get().machineAvailability[a];if(Array.isArray(u)){const d=u.find(h=>h.machine_id===e);d&&(r[a]=d.unavailable_hours||[])}s=xf(s,1)}return r}catch{return{}}};isTimeSlotUnavailable=async(e,n,i)=>(await this.getMachineAvailability(e,n)).includes(i.toString());setMachineAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const{getOdpOrders:s}=un.getState(),a=s().filter(m=>m.scheduled_machine_id===e&&m.status==="SCHEDULED"&&m.scheduled_start_time&&m.scheduled_end_time),[l,u,d]=n.split("-").map(Number),h=new Date(Date.UTC(l,u-1,d)),g=new Date(h.getTime()+1440*60*1e3);for(const m of a){const v=new Date(m.scheduled_start_time),_=new Date(m.scheduled_end_time);if(v<g&&_>h)for(const b of i){const S=new Date(h.getTime()+parseInt(b)*60*60*1e3),x=new Date(S.getTime()+3600*1e3);if(S<_&&x>v)throw new rt(`Cannot set machine unavailable during scheduled task: ${m.odp_number}`,Ie.BUSINESS_LOGIC_ERROR,400,null,"MachineAvailabilityManager.setMachineUnavailability")}}return await _t.setMachineAvailability(e,n,i),this.set(m=>{const v={...m.machineAvailability};v[n]||(v[n]=[]);const _=v[n].find(b=>b.machine_id===e);return _?_.unavailable_hours=i:v[n].push({machine_id:e,date:n,unavailable_hours:i}),{machineAvailability:v}}),Tt.getState().showAlert(`Machine availability updated successfully for ${n}`,"success"),!0}catch(s){const a=Fi(s,"Machine Availability");throw Tt.getState().showAlert(a.message,"error"),a}finally{r(),this.releaseLock(e,n)}};toggleMachineHourAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const s=await this.getMachineAvailability(e,n),a=i.toString();let l;return s.includes(a)?l=s.filter(u=>u!==a):l=[...s,a].sort((u,d)=>parseInt(u)-parseInt(d)),await _t.setMachineAvailability(e,n,l),this.set(u=>{const d={...u.machineAvailability};d[n]||(d[n]=[]);const h=d[n].find(g=>g.machine_id===e);return h?h.unavailable_hours=l:d[n].push({machine_id:e,date:n,unavailable_hours:l}),{machineAvailability:d}}),Tt.getState().showAlert(`Time slot ${a}:00 updated successfully`,"success"),!0}catch(s){const a=Fi(s,"Machine Availability");throw Tt.getState().showAlert(a.message,"error"),a}finally{r(),this.releaseLock(e,n)}};setMachineUnavailability=async(e,n,i,r,s)=>{try{const a=await _t.setUnavailableHoursForRange(e,n,i,r,s),l=new Date(n),u=new Date(i),d=await this.loadMachineAvailabilityForDateRange(e,l,u);return d&&Array.isArray(d)&&this.set(h=>{const g={...h.machineAvailability};return d.forEach(m=>{if(m.date&&m.unavailable_hours){const v=Qn(new Date(m.date),"yyyy-MM-dd");g[v]||(g[v]=[]);const _=g[v].find(b=>b.machine_id===e);_?_.unavailable_hours=m.unavailable_hours:g[v].push({machine_id:e,date:v,unavailable_hours:m.unavailable_hours})}}),{machineAvailability:g}}),a}catch(a){throw a}};isMachineAvailabilityAccessible=async()=>{try{return await _t.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}};getMachineAvailabilityStatus=async()=>{try{const e=await this.isMachineAvailabilityAccessible();return{accessible:e,message:e?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(e){return{accessible:!1,message:`Error checking table: ${e.message}`}}};initializeEmptyMachineAvailability=()=>{const{machineAvailability:e}=this.get(),n={...e};this.set({machineAvailability:n})}}const ds=fu((t,e)=>{const n=new Aq(e,t),i=new Oq(e,t),r=new Rq(e,t,n,i),s=new Dq(e,t,r,n);return{machineAvailability:{},shuntPreview:null,splitTasksInfo:{},getMachineAvailabilityState:()=>e().machineAvailability,getSplitTaskInfo:a=>n.getSplitTaskInfo(a),setMachineAvailabilityState:a=>t({machineAvailability:a}),setShuntPreview:a=>t({shuntPreview:a}),clearShuntPreview:()=>t({shuntPreview:null}),setSplitTaskInfo:n.setSplitTaskInfo,clearSplitTaskInfo:n.clearSplitTaskInfo,updateSplitTaskInfo:n.updateSplitTaskInfo,restoreSplitTaskInfo:n.restoreSplitTaskInfo,updateTaskWithSplitInfo:n.updateTaskWithSplitInfo,getTaskOccupiedSegments:n.getTaskOccupiedSegments,checkTaskOverlap:n.checkTaskOverlap,checkMachineOverlaps:n.checkMachineOverlaps,migrateExistingTasksToSegmentFormat:n.migrateExistingTasksToSegmentFormat,verifyAllTasksHaveSegmentInfo:n.verifyAllTasksHaveSegmentInfo,createAbsoluteDate:r.createAbsoluteDate,splitTaskAcrossAvailableSlots:r.splitTaskAcrossAvailableSlots,collectUnavailableSlots:r.collectUnavailableSlots,scheduleTaskWithSplitting:r.scheduleTaskWithSplitting,findAdjacentTasksChain:r.findAdjacentTasksChain,handleTaskDurationShrinking:r.handleTaskDurationShrinking,scheduleTaskFromSlot:async(a,l,u,d,h,g=null,m=null)=>{const{startSchedulingOperation:v,stopSchedulingOperation:_}=Tt.getState();try{v("schedule",a);const{getOrderById:b,getOdpOrders:S}=un.getState(),{getMachineById:x}=Er.getState(),T=b(a),A=x(l.id),O=S();if(!T||!A)return{error:"Task or machine not found"};const D=u.getUTCFullYear(),N=u.getUTCMonth()+1,M=u.getUTCDate(),k=r.createAbsoluteDate(D,N,M,d,h),P=g||T.time_remaining||T.duration||1;console.log(" SCHEDULER: Using duration:",P,"overrideDuration:",g);const z={machine:l.id,start_time:k.toISOString(),end_time:uR(k,P).toISOString()};console.log(" SCHEDULER: Calling scheduleTask with:",{taskId:a,scheduleData:z,overrideDuration:g});const B=await e().scheduleTask(a,z,O,g,m);return console.log(" SCHEDULER: scheduleTask result:",B),B}catch(b){return{error:Fi(b,"SchedulerStore.scheduleTaskFromSlot").message}}finally{_()}},rescheduleTaskToSlot:async(a,l,u,d,h,g=null)=>{const{startSchedulingOperation:m,stopSchedulingOperation:v}=Tt.getState();try{m("reschedule",a);const{getOrderById:_,getOdpOrders:b}=un.getState(),{getMachineById:S}=Er.getState(),x=_(a),T=S(l.id),A=b();if(!x||!T)return{error:"Event or machine not found"};const O=u.getUTCFullYear(),D=u.getUTCMonth()+1,N=u.getUTCDate(),M=r.createAbsoluteDate(O,D,N,d,h),k=x.time_remaining||x.duration||1,P={machine:l.id,start_time:M.toISOString(),end_time:uR(M,k).toISOString()};return await e().scheduleTask(a,P,A,null,g)}catch(_){return{error:Fi(_,"SchedulerStore.rescheduleTaskToSlot").message}}finally{v()}},scheduleTask:async(a,l,u=null,d=null,h=null)=>{try{console.log(" SCHEDULER: scheduleTask called with:",{taskId:a,eventData:l,overrideDuration:d});const{getOrderById:g,getOdpOrders:m}=un.getState(),{getMachineById:v}=Er.getState(),_=g(a),b=v(l.machine),S=u||m();if(console.log(" SCHEDULER: Task found:",_?.odp_number,"Machine found:",b?.name),_&&b&&_.work_center&&b.work_center&&_.work_center!==b.work_center)return{error:`Work center mismatch: task requires '${_.work_center}' but machine is '${b.work_center}'`};const x=new Date(l.start_time),T=d||_.time_remaining||_.duration||1;console.log(" SCHEDULER: scheduleTask using duration:",T,"overrideDuration:",d),console.log(" SCHEDULER: Calling scheduleTaskWithSplitting with:",{taskId:a,newStart:x.toISOString(),timeRemainingHours:T,machineId:l.machine});const A=await r.scheduleTaskWithSplitting(a,x,T,l.machine);if(console.log(" SCHEDULER: scheduleTaskWithSplitting result:",A),!A)return{error:"No available time slots found for this task"};if(A.conflict)return{conflict:!0,conflictingTask:A.conflictingTask,draggedTask:_,proposedStartTime:l.start_time,proposedEndTime:l.end_time,machine:b,conflictingSegment:A.conflictingSegment,proposedSegments:A.proposedSegments,tasks:S};l.start_time=A.startTime.toISOString(),l.end_time=A.endTime.toISOString();const O={scheduled_machine_id:l.machine,scheduled_start_time:l.start_time,scheduled_end_time:l.end_time,status:"SCHEDULED"};if(A.segments){const M={segments:A.segments,totalSegments:A.segments.length,originalDuration:A.originalDuration||_.time_remaining||_.duration||1,wasSplit:A.wasSplit||!1};O.description=JSON.stringify(M)}const{apiService:D}=await ii(async()=>{const{apiService:M}=await Promise.resolve().then(()=>J0);return{apiService:M}},void 0),N=await D.updateOdpOrder(a,O);if(A.segments){const M={segments:A.segments,totalSegments:A.segments.length,originalDuration:A.originalDuration||_.time_remaining||_.duration||1,wasSplit:A.wasSplit||!1};n.setSplitTaskInfo(a,M)}return h&&(h.invalidateQueries({queryKey:["orders"]}),h.invalidateQueries({queryKey:["orders",a]})),{success:!0,updatedTask:N,schedulingResult:A}}catch(g){return{error:Fi(g,"SchedulerStore.scheduleTask").message}}},unscheduleTask:async(a,l=null)=>{const{startSchedulingOperation:u,stopSchedulingOperation:d}=Tt.getState();try{u("unschedule",a),n.clearSplitTaskInfo(a);const h={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,status:"NOT SCHEDULED",description:""},{apiService:g}=await ii(async()=>{const{apiService:m}=await Promise.resolve().then(()=>J0);return{apiService:m}},void 0);return await g.updateOdpOrder(a,h),l&&(l.invalidateQueries({queryKey:["orders"]}),l.invalidateQueries({queryKey:["orders",a]})),{success:!0}}catch(h){return{error:Fi(h,"SchedulerStore.unscheduleTask").message}}finally{d()}},loadMachineAvailabilityForDate:i.loadMachineAvailabilityForDate,loadMachineAvailabilityForDateRange:i.loadMachineAvailabilityForDateRange,getMachineAvailability:i.getMachineAvailability,loadMachineAvailabilityForMachine:i.loadMachineAvailabilityForMachine,isTimeSlotUnavailable:i.isTimeSlotUnavailable,setMachineAvailability:i.setMachineAvailability,toggleMachineHourAvailability:i.toggleMachineHourAvailability,setMachineUnavailability:i.setMachineUnavailability,isMachineAvailabilityAccessible:i.isMachineAvailabilityAccessible,getMachineAvailabilityStatus:i.getMachineAvailabilityStatus,initializeEmptyMachineAvailability:i.initializeEmptyMachineAvailability,resolveConflictByShunting:async(a,l,u=null)=>{const{startSchedulingOperation:d,stopSchedulingOperation:h}=Tt.getState();try{d("shunt",a.draggedTask?.id);const{getOdpOrders:g}=un.getState(),m=g(),v=await s.resolveConflictByShunting(a,l,m,a.draggedTask);if(v&&!v.error&&u){console.log(" SHUNTING: Invalidating React Query cache to refresh UI");const _=[u.invalidateQueries({queryKey:["orders"]}),u.invalidateQueries({queryKey:["machines"]})];a.draggedTask?.id&&_.push(u.invalidateQueries({queryKey:["orders",a.draggedTask.id]})),await Promise.all(_)}return v}catch(g){return console.error(" SHUNTING ERROR in scheduler store:",g),{error:g.message||"Errore durante lo spostamento del task"}}finally{h()}},validateSlotAvailability:async(a,l,u,d)=>{try{const h=Qn(l,"yyyy-MM-dd");if(await e().isTimeSlotUnavailable(a.id,h,u))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:m}=un.getState(),v=new Date(l);v.setUTCHours(u,d,0,0);const _=new Date(v.getTime()+3600*1e3),b=m().filter(S=>S.scheduled_machine_id===a.id&&S.status==="SCHEDULED"&&S.scheduled_start_time);for(const S of b){const x=new Date(S.scheduled_start_time),T=S.time_remaining||S.duration||1,A=new Date(x.getTime()+T*60*60*1e3);if(v<A&&_>x)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch(h){return{error:Fi(h,"SchedulerStore.validateSlotAvailability").message}}},getEventsByDate:async a=>{try{return await _t.getEventsByDate(a)}catch{return[]}},reset:()=>t({machineAvailability:{},shuntPreview:null,splitTasksInfo:{}})}}),kq=(t,e)=>{const n=s=>{Nq(s)},i=s=>{Iq(s)},r=s=>{Pq(s)};return _t.setupRealtimeSubscriptions(n,i,r)},Cb=(t,e)=>{const{realtimeChannel:n}=t();n&&(_t.cleanupRealtimeSubscriptions(n),e({realtimeChannel:null}))};let Uc=null;const Mq=()=>{typeof window<"u"&&Uc&&(window.removeEventListener("beforeunload",Uc),Uc=null)},Nq=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t,{updateSplitTaskInfo:a}=ds.getState();(i==="INSERT"&&r.status==="SCHEDULED"||i==="UPDATE")&&a(r.id,r),console.log(`Orders ${i.toLowerCase()}:`,r||s)},Iq=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t;console.log(`Machines ${i.toLowerCase()}:`,r||s)},Pq=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t;console.log(`Phases ${i.toLowerCase()}:`,r||s)},fo=fu((t,e)=>({isInitializing:!1,realtimeChannel:null,init:async()=>{const{getInitializationState:n,setLoading:i,setInitialized:r,showAlert:s}=Tt.getState(),{initializeEmptyMachineAvailability:a}=ds.getState();if(!n()){if(e().isInitializing)return new Promise(l=>{const u=()=>{n()?l():setTimeout(u,100)};u()});t({isInitializing:!0}),i(!0);try{let l=!1,u=0;const d=3;for(;!l&&u<d;)try{await _t.init(),l=!0}catch(h){u++;const g=Fi(h,"API Service Initialization");if(u>=d)throw i(!1),r(!1),s("Unable to connect to the server. Please check your internet connection and refresh the page.","error"),new rt("API service initialization failed after multiple attempts","CRITICAL_INIT_ERROR",503,g,"Store Initialization");const m=Math.min(1e3*Math.pow(2,u-1),1e4);await new Promise(v=>setTimeout(v,m)),s(`Connection attempt ${u} failed. Retrying...`,"warning")}try{a();const{restoreSplitTaskInfo:h,migrateExistingTasksToSegmentFormat:g}=ds.getState();h(),await g();const{realtimeChannel:m}=e();if(!m)try{const v=kq(t,e);v&&(t({realtimeChannel:v}),typeof window<"u"&&!Uc&&(Uc=()=>{Cb(e,t)},window.addEventListener("beforeunload",Uc)))}catch(v){const _=Fi(v,"Real-time Subscriptions Setup");s("Warning: Real-time updates are not available. Data may not update automatically.","warning")}i(!1),r(!0),t({isInitializing:!1}),s("Application initialized successfully. Data will be loaded via React Query.","success")}catch(h){const g=Fi(h,"Data Processing");throw i(!1),r(!1),t({isInitializing:!1}),s("Failed to process application data. Please refresh the page.","error"),g}}catch(l){const u=l instanceof rt?l:Fi(l,"Store Initialization");throw i(!1),r(!1),t({isInitializing:!1}),u.code==="CRITICAL_INIT_ERROR"?s("Critical initialization error. Please contact support if the problem persists.","error"):s("Application initialization failed. Please refresh the page or contact support.","error"),u}}},refreshData:()=>{console.warn("refreshData is deprecated. Use React Query invalidation instead.")},debugData:()=>{const{getMachines:n}=Er.getState(),{getOdpOrders:i}=un.getState(),{getPhases:r}=Nc.getState(),s=n().map(u=>u.id);s.filter((u,d)=>s.indexOf(u)!==d);const a=i().map(u=>u.id);a.filter((u,d)=>a.indexOf(u)!==d);const l=r().map(u=>u.id);l.filter((u,d)=>l.indexOf(u)!==d)},cleanupDuplicates:()=>{const{cleanupDuplicateMachines:n}=Er.getState(),{cleanupDuplicateOrders:i}=un.getState(),{cleanupDuplicatePhases:r}=Nc.getState();n(),i(),r()},reset:()=>{Cb(e,t);const{reset:n}=Er.getState(),{reset:i}=un.getState(),{reset:r}=Nc.getState(),{reset:s}=ds.getState(),{reset:a}=Tt.getState();n(),i(),r(),s(),a(),t({isInitializing:!1,realtimeChannel:null})},cleanup:()=>{Cb(e,t),Mq()},getState:()=>{const{getMachines:n}=Er.getState(),{getOdpOrders:i}=un.getState(),{getPhases:r}=Nc.getState(),{getLoadingState:s,getInitializationState:a}=Tt.getState();return{machines:n(),odpOrders:i(),phases:r(),machineAvailability:ds.getState().getMachineAvailabilityState(),isLoading:s(),isInitialized:a()}}}));function jq(){const{user:t}=du(),{selectedWorkCenter:e}=Tt(),n=oa(),i=[{href:"/",label:"Home"},{href:"/machinery",label:"Macchine",subLinks:[{href:"/machinery",label:"Lista"},{href:"/machinery/add",label:"Aggiungi"}]},{href:"/phases",label:"Fasi",subLinks:[{href:"/phases",label:"Lista"},{href:"/phases/add",label:"Aggiungi"}]},{href:"/backlog",label:"Backlog",subLinks:[{href:"/backlog",label:"Lista"},{href:"/backlog/add",label:"Aggiungi"}]},{href:"/scheduler",label:"Scheduler"}];return t?E.jsxs("nav",{className:"w-48 bg-navy-800 border-r border-navy-700 h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[E.jsx("div",{className:"p-3 border-b border-navy-700",children:E.jsx(wi,{to:"/",className:"flex items-center justify-center",children:E.jsx("img",{src:"/assets/logo.svg",alt:"Flexi Logo",className:"h-24 w-auto"})})}),E.jsxs("div",{className:"flex-1 p-1",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-navy-200 uppercase tracking-wider mb-3",children:"NAVIGATION"}),E.jsx("div",{className:"space-y-1",children:i.map(r=>{const s=n.pathname===r.href||r.subLinks&&r.subLinks.some(a=>n.pathname===a.href);return E.jsxs("div",{className:"space-y-1",children:[E.jsx(wi,{to:r.href,className:`block px-1 py-1.5 rounded text-[10px] font-medium ${s?"bg-navy-600 text-white":"text-navy-200 hover:bg-navy-700"}`,children:E.jsx("span",{children:r.label})}),r.subLinks&&E.jsx("div",{className:"ml-3 space-y-1",children:r.subLinks.map(a=>E.jsx(wi,{to:a.href,className:`block px-1 py-1 rounded text-[10px] ${n.pathname===a.href?"text-navy-200 bg-navy-700":"text-navy-300 hover:bg-navy-700"}`,children:E.jsx("span",{children:a.label})},a.href))})]},r.href)})})]})]}):E.jsxs("nav",{className:"w-64 bg-white border-r border-gray-200 h-screen flex flex-col",children:[E.jsx("div",{className:"p-3 border-b border-gray-200",children:E.jsxs(wi,{to:"/login",className:"text-[30px] font-bold text-gray-800",children:[E.jsx("span",{className:"text-navy-800",children:"flex"}),E.jsx("span",{className:"text-gray-800",children:"i"})]})}),E.jsxs("div",{className:"flex-1 p-1",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"NAVIGATION"}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(wi,{to:"/login",className:"block px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-md",children:E.jsx("span",{children:"Accedi"})}),E.jsx(wi,{to:"/signup",className:"block px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-md",children:E.jsx("span",{children:"Registrati"})})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function qa(t,e){return typeof t=="function"?t(e):t}function sr(t,e){return n=>{e.setState(i=>({...i,[t]:qa(n,i[t])}))}}function hm(t){return t instanceof Function}function Lq(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Fq(t,e){const n=[],i=r=>{r.forEach(s=>{n.push(s);const a=e(s);a!=null&&a.length&&i(a)})};return i(t),n}function Ve(t,e,n){let i=[],r;return s=>{let a;n.key&&n.debug&&(a=Date.now());const l=t(s);if(!(l.length!==i.length||l.some((h,g)=>i[g]!==h)))return r;i=l;let d;if(n.key&&n.debug&&(d=Date.now()),r=e(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-a)*100)/100,g=Math.round((Date.now()-d)*100)/100,m=g/16,v=(_,b)=>{for(_=String(_);_.length<b;)_=" "+_;return _};console.info(`%c ${v(g,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n?.key)}return r}}function $e(t,e,n,i){return{debug:()=>{var r;return(r=t?.debugAll)!=null?r:t[e]},key:!1,onChange:i}}function Uq(t,e,n,i){const r=()=>{var a;return(a=s.getValue())!=null?a:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:r,getContext:Ve(()=>[t,n,e,s],(a,l,u,d)=>({table:a,column:l,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),$e(t.options,"debugCells"))};return t._features.forEach(a=>{a.createCell==null||a.createCell(s,n,e,t)},{}),s}function zq(t,e,n,i){var r,s;const l={...t._getDefaultColumnDef(),...e},u=l.accessorKey;let d=(r=(s=l.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:u&&(u.includes(".")?h=m=>{let v=m;for(const b of u.split(".")){var _;v=(_=v)==null?void 0:_[b]}return v}:h=m=>m[l.accessorKey]),!d)throw new Error;let g={id:`${String(d)}`,accessorFn:h,parent:i,depth:n,columnDef:l,columns:[],getFlatColumns:Ve(()=>[!0],()=>{var m;return[g,...(m=g.columns)==null?void 0:m.flatMap(v=>v.getFlatColumns())]},$e(t.options,"debugColumns")),getLeafColumns:Ve(()=>[t._getOrderColumnsFn()],m=>{var v;if((v=g.columns)!=null&&v.length){let _=g.columns.flatMap(b=>b.getLeafColumns());return m(_)}return[g]},$e(t.options,"debugColumns"))};for(const m of t._features)m.createColumn==null||m.createColumn(g,t);return g}const ci="debugHeaders";function vR(t,e,n){var i;let s={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),a.push(u)};return l(s),a},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(a=>{a.createHeader==null||a.createHeader(s,t)}),s}const Hq={createTable:t=>{t.getHeaderGroups=Ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>{var s,a;const l=(s=i?.map(g=>n.find(m=>m.id===g)).filter(Boolean))!=null?s:[],u=(a=r?.map(g=>n.find(m=>m.id===g)).filter(Boolean))!=null?a:[],d=n.filter(g=>!(i!=null&&i.includes(g.id))&&!(r!=null&&r.includes(g.id)));return hg(e,[...l,...d,...u],t)},$e(t.options,ci)),t.getCenterHeaderGroups=Ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>(n=n.filter(s=>!(i!=null&&i.includes(s.id))&&!(r!=null&&r.includes(s.id))),hg(e,n,t,"center")),$e(t.options,ci)),t.getLeftHeaderGroups=Ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var r;const s=(r=i?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return hg(e,s,t,"left")},$e(t.options,ci)),t.getRightHeaderGroups=Ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var r;const s=(r=i?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return hg(e,s,t,"right")},$e(t.options,ci)),t.getFooterGroups=Ve(()=>[t.getHeaderGroups()],e=>[...e].reverse(),$e(t.options,ci)),t.getLeftFooterGroups=Ve(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),$e(t.options,ci)),t.getCenterFooterGroups=Ve(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),$e(t.options,ci)),t.getRightFooterGroups=Ve(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),$e(t.options,ci)),t.getFlatHeaders=Ve(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),$e(t.options,ci)),t.getLeftFlatHeaders=Ve(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),$e(t.options,ci)),t.getCenterFlatHeaders=Ve(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),$e(t.options,ci)),t.getRightFlatHeaders=Ve(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),$e(t.options,ci)),t.getCenterLeafHeaders=Ve(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),$e(t.options,ci)),t.getLeftLeafHeaders=Ve(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),$e(t.options,ci)),t.getRightLeafHeaders=Ve(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),$e(t.options,ci)),t.getLeafHeaders=Ve(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var r,s,a,l,u,d;return[...(r=(s=e[0])==null?void 0:s.headers)!=null?r:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(u=(d=i[0])==null?void 0:d.headers)!=null?u:[]].map(h=>h.getLeafHeaders()).flat()},$e(t.options,ci))}};function hg(t,e,n,i){var r,s;let a=0;const l=function(m,v){v===void 0&&(v=1),a=Math.max(a,v),m.filter(_=>_.getIsVisible()).forEach(_=>{var b;(b=_.columns)!=null&&b.length&&l(_.columns,v+1)},0)};l(t);let u=[];const d=(m,v)=>{const _={depth:v,id:[i,`${v}`].filter(Boolean).join("_"),headers:[]},b=[];m.forEach(S=>{const x=[...b].reverse()[0],T=S.column.depth===_.depth;let A,O=!1;if(T&&S.column.parent?A=S.column.parent:(A=S.column,O=!0),x&&x?.column===A)x.subHeaders.push(S);else{const D=vR(n,A,{id:[i,v,A.id,S?.id].filter(Boolean).join("_"),isPlaceholder:O,placeholderId:O?`${b.filter(N=>N.column===A).length}`:void 0,depth:v,index:b.length});D.subHeaders.push(S),b.push(D)}_.headers.push(S),S.headerGroup=_}),u.push(_),v>0&&d(b,v-1)},h=e.map((m,v)=>vR(n,m,{depth:a,index:v}));d(h,a-1),u.reverse();const g=m=>m.filter(_=>_.column.getIsVisible()).map(_=>{let b=0,S=0,x=[0];_.subHeaders&&_.subHeaders.length?(x=[],g(_.subHeaders).forEach(A=>{let{colSpan:O,rowSpan:D}=A;b+=O,x.push(D)})):b=1;const T=Math.min(...x);return S=S+T,_.colSpan=b,_.rowSpan=S,{colSpan:b,rowSpan:S}});return g((r=(s=u[0])==null?void 0:s.headers)!=null?r:[]),u}const Bq=(t,e,n,i,r,s,a)=>{let l={id:e,index:i,original:n,depth:r,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return l._valuesCache[u]=d.accessorFn(l.original,i),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=d.columnDef.getUniqueValues(l.original,i),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=l.getValue(u))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Fq(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;u.push(h),d=h}return u.reverse()},getAllCells:Ve(()=>[t.getAllLeafColumns()],u=>u.map(d=>Uq(t,l,d,d.id)),$e(t.options,"debugRows")),_getAllCellsByColumnId:Ve(()=>[l.getAllCells()],u=>u.reduce((d,h)=>(d[h.column.id]=h,d),{}),$e(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createRow==null||d.createRow(l,t)}return l},Vq={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},WM=(t,e,n)=>{var i,r;const s=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(s))};WM.autoRemove=t=>Br(t);const GM=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};GM.autoRemove=t=>Br(t);const YM=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===n?.toLowerCase()};YM.autoRemove=t=>Br(t);const KM=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};KM.autoRemove=t=>Br(t);const QM=(t,e,n)=>!n.some(i=>{var r;return!((r=t.getValue(e))!=null&&r.includes(i))});QM.autoRemove=t=>Br(t)||!(t!=null&&t.length);const XM=(t,e,n)=>n.some(i=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(i)});XM.autoRemove=t=>Br(t)||!(t!=null&&t.length);const ZM=(t,e,n)=>t.getValue(e)===n;ZM.autoRemove=t=>Br(t);const JM=(t,e,n)=>t.getValue(e)==n;JM.autoRemove=t=>Br(t);const Ew=(t,e,n)=>{let[i,r]=n;const s=t.getValue(e);return s>=i&&s<=r};Ew.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(i)?-1/0:i,a=n===null||Number.isNaN(r)?1/0:r;if(s>a){const l=s;s=a,a=l}return[s,a]};Ew.autoRemove=t=>Br(t)||Br(t[0])&&Br(t[1]);const Gs={includesString:WM,includesStringSensitive:GM,equalsString:YM,arrIncludes:KM,arrIncludesAll:QM,arrIncludesSome:XM,equals:ZM,weakEquals:JM,inNumberRange:Ew};function Br(t){return t==null||t===""}const $q={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:sr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);return typeof i=="string"?Gs.includesString:typeof i=="number"?Gs.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?Gs.equals:Array.isArray(i)?Gs.arrIncludes:Gs.weakEquals},t.getFilterFn=()=>{var n,i;return hm(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:Gs[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const r=t.getFilterFn(),s=i?.find(h=>h.id===t.id),a=qa(n,s?s.value:void 0);if(yR(r,a,t)){var l;return(l=i?.filter(h=>h.id!==t.id))!=null?l:[]}const u={id:t.id,value:a};if(s){var d;return(d=i?.map(h=>h.id===t.id?u:h))!=null?d:[]}return i!=null&&i.length?[...i,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=r=>{var s;return(s=qa(e,r))==null?void 0:s.filter(a=>{const l=n.find(u=>u.id===a.id);if(l){const u=l.getFilterFn();if(yR(u,a.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function yR(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const qq=(t,e,n)=>n.reduce((i,r)=>{const s=r.getValue(t);return i+(typeof s=="number"?s:0)},0),Wq=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}),i},Gq=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}),i},Yq=(t,e,n)=>{let i,r;return n.forEach(s=>{const a=s.getValue(t);a!=null&&(i===void 0?a>=a&&(i=r=a):(i>a&&(i=a),r<a&&(r=a)))}),[i,r]},Kq=(t,e)=>{let n=0,i=0;if(e.forEach(r=>{let s=r.getValue(t);s!=null&&(s=+s)>=s&&(++n,i+=s)}),n)return i/n},Qq=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!Lq(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((s,a)=>s-a);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},Xq=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),Zq=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Jq=(t,e)=>e.length,Tb={sum:qq,min:Wq,max:Gq,extent:Yq,mean:Kq,median:Qq,unique:Xq,uniqueCount:Zq,count:Jq},e6={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:sr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);if(typeof i=="number")return Tb.sum;if(Object.prototype.toString.call(i)==="[object Date]")return Tb.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return hm(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:Tb[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function t6(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(s=>!e.includes(s.id));return n==="remove"?i:[...e.map(s=>t.find(a=>a.id===s)).filter(Boolean),...i]}const n6={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:sr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Ve(n=>[Nd(e,n)],n=>n.findIndex(i=>i.id===t.id),$e(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=Nd(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const r=Nd(e,n);return((i=r[r.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Ve(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>r=>{let s=[];if(!(e!=null&&e.length))s=r;else{const a=[...e],l=[...r];for(;l.length&&a.length;){const u=a.shift(),d=l.findIndex(h=>h.id===u);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return t6(s,n,i)},$e(t.options,"debugTable"))}},Ab=()=>({left:[],right:[]}),i6={getInitialState:t=>({columnPinning:Ab(),...t}),getDefaultOptions:t=>({onColumnPinningChange:sr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var s,a;if(n==="right"){var l,u;return{left:((l=r?.left)!=null?l:[]).filter(g=>!(i!=null&&i.includes(g))),right:[...((u=r?.right)!=null?u:[]).filter(g=>!(i!=null&&i.includes(g))),...i]}}if(n==="left"){var d,h;return{left:[...((d=r?.left)!=null?d:[]).filter(g=>!(i!=null&&i.includes(g))),...i],right:((h=r?.right)!=null?h:[]).filter(g=>!(i!=null&&i.includes(g)))}}return{left:((s=r?.left)!=null?s:[]).filter(g=>!(i!=null&&i.includes(g))),right:((a=r?.right)!=null?a:[]).filter(g=>!(i!=null&&i.includes(g)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var r,s,a;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((s=(a=e.options.enableColumnPinning)!=null?a:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:i,right:r}=e.getState().columnPinning,s=n.some(l=>i?.includes(l)),a=n.some(l=>r?.includes(l));return s?"left":a?"right":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();return r?(n=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Ve(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,r)=>{const s=[...i??[],...r??[]];return n.filter(a=>!s.includes(a.column.id))},$e(e.options,"debugRows")),t.getLeftVisibleCells=Ve(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),$e(e.options,"debugRows")),t.getRightVisibleCells=Ve(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),$e(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?Ab():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:Ab())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var r,s;return!!((r=i.left)!=null&&r.length||(s=i.right)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=Ve(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),$e(t.options,"debugColumns")),t.getRightLeafColumns=Ve(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),$e(t.options,"debugColumns")),t.getCenterLeafColumns=Ve(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const r=[...n??[],...i??[]];return e.filter(s=>!r.includes(s.id))},$e(t.options,"debugColumns"))}};function r6(t){return t||(typeof document<"u"?document:null)}const gg={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Rb=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),s6={getDefaultColumnDef:()=>gg,getInitialState:t=>({columnSizing:{},columnSizingInfo:Rb(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:sr("columnSizing",t),onColumnSizingInfoChange:sr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,r;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:gg.minSize,(i=s??t.columnDef.size)!=null?i:gg.size),(r=t.columnDef.maxSize)!=null?r:gg.maxSize)},t.getStart=Ve(n=>[n,Nd(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((r,s)=>r+s.getSize(),0),$e(e.options,"debugColumns")),t.getAfter=Ve(n=>[n,Nd(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((r,s)=>r+s.getSize(),0),$e(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...r}=n;return r})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var s;n+=(s=r.column.getSize())!=null?s:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),r=i?.getCanResize();return s=>{if(!i||!r||(s.persist==null||s.persist(),Db(s)&&s.touches&&s.touches.length>1))return;const a=t.getSize(),l=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[i.id,i.getSize()]],u=Db(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(x,T)=>{typeof T=="number"&&(e.setColumnSizingInfo(A=>{var O,D;const N=e.options.columnResizeDirection==="rtl"?-1:1,M=(T-((O=A?.startOffset)!=null?O:0))*N,k=Math.max(M/((D=A?.startSize)!=null?D:0),-.999999);return A.columnSizingStart.forEach(P=>{let[z,B]=P;d[z]=Math.round(Math.max(B+B*k,0)*100)/100}),{...A,deltaOffset:M,deltaPercentage:k}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(A=>({...A,...d})))},g=x=>h("move",x),m=x=>{h("end",x),e.setColumnSizingInfo(T=>({...T,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=r6(n),_={moveHandler:x=>g(x.clientX),upHandler:x=>{v?.removeEventListener("mousemove",_.moveHandler),v?.removeEventListener("mouseup",_.upHandler),m(x.clientX)}},b={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),g(x.touches[0].clientX),!1),upHandler:x=>{var T;v?.removeEventListener("touchmove",b.moveHandler),v?.removeEventListener("touchend",b.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),m((T=x.touches[0])==null?void 0:T.clientX)}},S=a6()?{passive:!1}:!1;Db(s)?(v?.addEventListener("touchmove",b.moveHandler,S),v?.addEventListener("touchend",b.upHandler,S)):(v?.addEventListener("mousemove",_.moveHandler,S),v?.addEventListener("mouseup",_.upHandler,S)),e.setColumnSizingInfo(x=>({...x,startOffset:u,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?Rb():(n=t.initialState.columnSizingInfo)!=null?n:Rb())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let pg=null;function a6(){if(typeof pg=="boolean")return pg;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return pg=t,pg}function Db(t){return t.type==="touchstart"}const o6={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:sr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const r=t.columns;return(n=r.length?r.some(s=>s.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Ve(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),$e(e.options,"debugRows")),t.getVisibleCells=Ve(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],$e(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>Ve(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),$e(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,s)=>({...r,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function Nd(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const l6={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},c6={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:sr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,r,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Gs.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return hm(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:Gs[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},u6={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:sr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var r,s;t.setExpanded(i?{}:(r=(s=t.initialState)==null?void 0:s.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const a=s.split(".");i=Math.max(i,a.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var r;const s=i===!0?!0:!!(i!=null&&i[t.id]);let a={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=i,n=(r=n)!=null?r:!s,!s&&n)return{...a,[t.id]:!0};if(s&&!n){const{[t.id]:l,...u}=a;return u}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i?.[t.id])},t.getCanExpand=()=>{var n,i,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},e_=0,t_=10,Ob=()=>({pageIndex:e_,pageSize:t_}),d6={getInitialState:t=>({...t,pagination:{...Ob(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:sr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const r=s=>qa(i,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=i=>{var r;t.setPagination(i?Ob():(r=t.initialState.pagination)!=null?r:Ob())},t.setPageIndex=i=>{t.setPagination(r=>{let s=qa(i,r.pageIndex);const a=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...r,pageIndex:s}})},t.resetPageIndex=i=>{var r,s;t.setPageIndex(i?e_:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?r:e_)},t.resetPageSize=i=>{var r,s;t.setPageSize(i?t_:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?r:t_)},t.setPageSize=i=>{t.setPagination(r=>{const s=Math.max(1,qa(i,r.pageSize)),a=r.pageSize*r.pageIndex,l=Math.floor(a/s);return{...r,pageIndex:l,pageSize:s}})},t.setPageCount=i=>t.setPagination(r=>{var s;let a=qa(i,(s=t.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...r,pageCount:a}}),t.getPageOptions=Ve(()=>[t.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((s,a)=>a)),r},$e(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:i<r-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},kb=()=>({top:[],bottom:[]}),f6={getInitialState:t=>({rowPinning:kb(),...t}),getDefaultOptions:t=>({onRowPinningChange:sr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,r)=>{const s=i?t.getLeafRows().map(u=>{let{id:d}=u;return d}):[],a=r?t.getParentRows().map(u=>{let{id:d}=u;return d}):[],l=new Set([...a,t.id,...s]);e.setRowPinning(u=>{var d,h;if(n==="bottom"){var g,m;return{top:((g=u?.top)!=null?g:[]).filter(b=>!(l!=null&&l.has(b))),bottom:[...((m=u?.bottom)!=null?m:[]).filter(b=>!(l!=null&&l.has(b))),...Array.from(l)]}}if(n==="top"){var v,_;return{top:[...((v=u?.top)!=null?v:[]).filter(b=>!(l!=null&&l.has(b))),...Array.from(l)],bottom:((_=u?.bottom)!=null?_:[]).filter(b=>!(l!=null&&l.has(b)))}}return{top:((d=u?.top)!=null?d:[]).filter(b=>!(l!=null&&l.has(b))),bottom:((h=u?.bottom)!=null?h:[]).filter(b=>!(l!=null&&l.has(b)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(t):(n=i??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:r}=e.getState().rowPinning,s=n.some(l=>i?.includes(l)),a=n.some(l=>r?.includes(l));return s?"top":a?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();if(!r)return-1;const s=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(i=s?.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?kb():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:kb())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var r,s;return!!((r=i.top)!=null&&r.length||(s=i.bottom)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(a=>{const l=t.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>e.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:i}))},t.getTopRows=Ve(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),$e(t.options,"debugRows")),t.getBottomRows=Ve(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),$e(t.options,"debugRows")),t.getCenterRows=Ve(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const r=new Set([...n??[],...i??[]]);return e.filter(s=>!r.has(s.id))},$e(t.options,"debugRows"))}},h6={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:sr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(s=>{s.getCanSelect()&&(i[s.id]=!0)}):r.forEach(s=>{delete i[s.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(s=>{n_(r,s.id,i,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Ve(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?Mb(t,n):{rows:[],flatRows:[],rowsById:{}},$e(t.options,"debugTable")),t.getFilteredSelectedRowModel=Ve(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?Mb(t,n):{rows:[],flatRows:[],rowsById:{}},$e(t.options,"debugTable")),t.getGroupedSelectedRowModel=Ve(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?Mb(t,n):{rows:[],flatRows:[],rowsById:{}},$e(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(r=>!n[r.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const r=t.getIsSelected();e.setRowSelection(s=>{var a;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return s;const l={...s};return n_(l,t.id,n,(a=i?.selectChildren)!=null?a:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return Cw(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return i_(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return i_(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var r;n&&t.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},n_=(t,e,n,i,r)=>{var s;const a=r.getRow(e,!0);n?(a.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),a.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>n_(t,l.id,n,i,r))};function Mb(t,e){const n=t.getState().rowSelection,i=[],r={},s=function(a,l){return a.map(u=>{var d;const h=Cw(u,n);if(h&&(i.push(u),r[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:s(u.subRows)}),h)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:i,rowsById:r}}function Cw(t,e){var n;return(n=e[t.id])!=null?n:!1}function i_(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let r=!0,s=!1;return t.subRows.forEach(a=>{if(!(s&&!r)&&(a.getCanSelect()&&(Cw(a,e)?s=!0:r=!1),a.subRows&&a.subRows.length)){const l=i_(a,e);l==="all"?s=!0:(l==="some"&&(s=!0),r=!1)}}),r?"all":s?"some":!1}const r_=/([0-9]+)/gm,g6=(t,e,n)=>eN(to(t.getValue(n)).toLowerCase(),to(e.getValue(n)).toLowerCase()),p6=(t,e,n)=>eN(to(t.getValue(n)),to(e.getValue(n))),m6=(t,e,n)=>Tw(to(t.getValue(n)).toLowerCase(),to(e.getValue(n)).toLowerCase()),v6=(t,e,n)=>Tw(to(t.getValue(n)),to(e.getValue(n))),y6=(t,e,n)=>{const i=t.getValue(n),r=e.getValue(n);return i>r?1:i<r?-1:0},b6=(t,e,n)=>Tw(t.getValue(n),e.getValue(n));function Tw(t,e){return t===e?0:t>e?1:-1}function to(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function eN(t,e){const n=t.split(r_).filter(Boolean),i=e.split(r_).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),s=i.shift(),a=parseInt(r,10),l=parseInt(s,10),u=[a,l].sort();if(isNaN(u[0])){if(r>s)return 1;if(s>r)return-1;continue}if(isNaN(u[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-i.length}const md={alphanumeric:g6,alphanumericCaseSensitive:p6,text:m6,textCaseSensitive:v6,datetime:y6,basic:b6},_6={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:sr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const s=r?.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return md.datetime;if(typeof s=="string"&&(i=!0,s.split(r_).length>1))return md.alphanumeric}return i?md.text:md.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return hm(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:md[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const r=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(a=>{const l=a?.find(v=>v.id===t.id),u=a?.findIndex(v=>v.id===t.id);let d=[],h,g=s?n:r==="desc";if(a!=null&&a.length&&t.getCanMultiSort()&&i?l?h="toggle":h="add":a!=null&&a.length&&u!==a.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||r||(h="remove")),h==="add"){var m;d=[...a,{id:t.id,desc:g}],d.splice(0,d.length-((m=e.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=a.map(v=>v.id===t.id?{...v,desc:g}:v):h==="remove"?d=a.filter(v=>v.id!==t.id):d=[{id:t.id,desc:g}];return d})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,r;const s=t.getFirstSortDir(),a=t.getIsSorted();return a?a!==s&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:a==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},w6=[Hq,o6,n6,i6,Vq,$q,l6,c6,_6,e6,u6,d6,f6,h6,s6];function S6(t){var e,n;const i=[...w6,...(e=t._features)!=null?e:[]];let r={_features:i};const s=r._features.reduce((m,v)=>Object.assign(m,v.getDefaultOptions==null?void 0:v.getDefaultOptions(r)),{}),a=m=>r.options.mergeOptions?r.options.mergeOptions(s,m):{...s,...m};let u={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(m=>{var v;u=(v=m.getInitialState==null?void 0:m.getInitialState(u))!=null?v:u});const d=[];let h=!1;const g={_features:i,options:{...s,...t},initialState:u,_queue:m=>{d.push(m),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(v=>setTimeout(()=>{throw v})))},reset:()=>{r.setState(r.initialState)},setOptions:m=>{const v=qa(m,r.options);r.options=a(v)},getState:()=>r.options.state,setState:m=>{r.options.onStateChange==null||r.options.onStateChange(m)},_getRowId:(m,v,_)=>{var b;return(b=r.options.getRowId==null?void 0:r.options.getRowId(m,v,_))!=null?b:`${_?[_.id,v].join("."):v}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(m,v)=>{let _=(v?r.getPrePaginationRowModel():r.getRowModel()).rowsById[m];if(!_&&(_=r.getCoreRowModel().rowsById[m],!_))throw new Error;return _},_getDefaultColumnDef:Ve(()=>[r.options.defaultColumn],m=>{var v;return m=(v=m)!=null?v:{},{header:_=>{const b=_.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:_=>{var b,S;return(b=(S=_.renderValue())==null||S.toString==null?void 0:S.toString())!=null?b:null},...r._features.reduce((_,b)=>Object.assign(_,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...m}},$e(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:Ve(()=>[r._getColumnDefs()],m=>{const v=function(_,b,S){return S===void 0&&(S=0),_.map(x=>{const T=zq(r,x,S,b),A=x;return T.columns=A.columns?v(A.columns,T,S+1):[],T})};return v(m)},$e(t,"debugColumns")),getAllFlatColumns:Ve(()=>[r.getAllColumns()],m=>m.flatMap(v=>v.getFlatColumns()),$e(t,"debugColumns")),_getAllFlatColumnsById:Ve(()=>[r.getAllFlatColumns()],m=>m.reduce((v,_)=>(v[_.id]=_,v),{}),$e(t,"debugColumns")),getAllLeafColumns:Ve(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(m,v)=>{let _=m.flatMap(b=>b.getLeafColumns());return v(_)},$e(t,"debugColumns")),getColumn:m=>r._getAllFlatColumnsById()[m]};Object.assign(r,g);for(let m=0;m<r._features.length;m++){const v=r._features[m];v==null||v.createTable==null||v.createTable(r)}return r}function x6(){return t=>Ve(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,s,a){s===void 0&&(s=0);const l=[];for(let d=0;d<r.length;d++){const h=Bq(t,t._getRowId(r[d],d,a),r[d],d,s,void 0,a?.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var u;h.originalSubRows=t.options.getSubRows(r[d],d),(u=h.originalSubRows)!=null&&u.length&&(h.subRows=i(h.originalSubRows,s+1,h))}}return l};return n.rows=i(e),n},$e(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function E6(){return t=>Ve(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const i=t.getState().sorting,r=[],s=i.filter(u=>{var d;return(d=t.getColumn(u.id))==null?void 0:d.getCanSort()}),a={};s.forEach(u=>{const d=t.getColumn(u.id);d&&(a[u.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=u=>{const d=u.map(h=>({...h}));return d.sort((h,g)=>{for(let v=0;v<s.length;v+=1){var m;const _=s[v],b=a[_.id],S=b.sortUndefined,x=(m=_?.desc)!=null?m:!1;let T=0;if(S){const A=h.getValue(_.id),O=g.getValue(_.id),D=A===void 0,N=O===void 0;if(D||N){if(S==="first")return D?-1:1;if(S==="last")return D?1:-1;T=D&&N?0:D?S:-S}}if(T===0&&(T=b.sortingFn(h,g,_.id)),T!==0)return x&&(T*=-1),b.invertSorting&&(T*=-1),T}return h.index-g.index}),d.forEach(h=>{var g;r.push(h),(g=h.subRows)!=null&&g.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:r,rowsById:n.rowsById}},$e(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function bR(t,e){return t?C6(t)?C.createElement(t,e):t:null}function C6(t){return T6(t)||typeof t=="function"||A6(t)}function T6(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function A6(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function R6(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=C.useState(()=>({current:S6(e)})),[i,r]=C.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...i,...t.state},onStateChange:a=>{r(a),t.onStateChange==null||t.onStateChange(a)}})),n.current}const D6=ae.forwardRef(({className:t,...e},n)=>E.jsx("div",{className:"relative w-full overflow-x-auto overflow-y-visible",style:{maxHeight:"95vh"},children:E.jsx("table",{ref:n,className:`w-full caption-bottom text-[10px] !text-[10px] relative ${t}`,...e})}));D6.displayName="Table";const O6=ae.forwardRef(({className:t,...e},n)=>E.jsx("thead",{ref:n,className:`sticky top-0 z-20 bg-gray-50 border-b border-gray-200 ${t}`,...e}));O6.displayName="TableHeader";const k6=ae.forwardRef(({className:t,...e},n)=>E.jsx("tbody",{ref:n,className:`bg-white ${t}`,...e}));k6.displayName="TableBody";const M6=ae.forwardRef(({className:t,...e},n)=>E.jsx("tfoot",{ref:n,className:`bg-gray-50 ${t}`,...e}));M6.displayName="TableFooter";const s_=ae.forwardRef(({className:t,...e},n)=>E.jsx("tr",{ref:n,className:`border-b border-gray-200 transition-colors hover:bg-gray-50 data-[state=selected]:bg-gray-50 ${t}`,...e}));s_.displayName="TableRow";const tN=ae.forwardRef(({className:t,...e},n)=>E.jsx("th",{ref:n,className:`h-6 px-1 text-left align-middle font-medium text-[10px] !text-[10px] text-gray-900 bg-gray-50 border-r border-gray-200 whitespace-nowrap ${t}`,...e}));tN.displayName="TableHead";const nN=ae.forwardRef(({className:t,...e},n)=>E.jsx("td",{ref:n,className:`p-1 align-middle whitespace-nowrap text-[10px] !text-[10px] border-r border-gray-200 ${t}`,...e}));nN.displayName="TableCell";const N6=ae.forwardRef(({className:t,...e},n)=>E.jsx("caption",{ref:n,className:`mt-2 text-[10px] text-gray-500 ${t}`,...e}));N6.displayName="TableCaption";function _R(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iN(...t){return e=>{let n=!1;const i=t.map(r=>{const s=_R(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():_R(t[r],null)}}}}function Sn(...t){return C.useCallback(iN(...t),t)}function Qc(t){const e=P6(t),n=C.forwardRef((i,r)=>{const{children:s,...a}=i,l=C.Children.toArray(s),u=l.find(L6);if(u){const d=u.props.children,h=l.map(g=>g===u?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return E.jsx(e,{...a,ref:r,children:C.isValidElement(d)?C.cloneElement(d,void 0,h):null})}return E.jsx(e,{...a,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var I6=Qc("Slot");function P6(t){const e=C.forwardRef((n,i)=>{const{children:r,...s}=n;if(C.isValidElement(r)){const a=U6(r),l=F6(s,r.props);return r.type!==C.Fragment&&(l.ref=i?iN(i,a):a),C.cloneElement(r,l)}return C.Children.count(r)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var j6=Symbol("radix.slottable");function L6(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===j6}function F6(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const u=s(...l);return r(...l),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function U6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function rN(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=rN(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function sN(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=rN(t))&&(i&&(i+=" "),i+=e);return i}const wR=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SR=sN,aN=(t,e)=>n=>{var i;if(e?.variants==null)return SR(t,n?.class,n?.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(d=>{const h=n?.[d],g=s?.[d];if(h===null)return null;const m=wR(h)||wR(g);return r[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[g,m]=h;return m===void 0||(d[g]=m),d},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,h)=>{let{class:g,className:m,...v}=h;return Object.entries(v).every(_=>{let[b,S]=_;return Array.isArray(S)?S.includes({...s,...l}[b]):{...s,...l}[b]===S})?[...d,g,m]:d},[]);return SR(t,a,u,n?.class,n?.className)},Aw="-",z6=t=>{const e=B6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:a=>{const l=a.split(Aw);return l[0]===""&&l.length!==1&&l.shift(),oN(l,e)||H6(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&i[a]?[...u,...i[a]]:u}}},oN=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?oN(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(Aw);return e.validators.find(({validator:a})=>a(s))?.classGroupId},xR=/^\[(.+)\]$/,H6=t=>{if(xR.test(t)){const e=xR.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},B6=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const r in n)a_(n[r],i,r,e);return i},a_=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:ER(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(V6(r)){a_(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,a])=>{a_(a,ER(e,s),n,i)})})},ER=(t,e)=>{let n=t;return e.split(Aw).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},V6=t=>t.isThemeGetter,$6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=i.get(s))!==void 0)return r(s,a),a},set(s,a){n.has(s)?n.set(s,a):r(s,a)}}},o_="!",l_=":",q6=l_.length,W6=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=r=>{const s=[];let a=0,l=0,u=0,d;for(let _=0;_<r.length;_++){let b=r[_];if(a===0&&l===0){if(b===l_){s.push(r.slice(u,_)),u=_+q6;continue}if(b==="/"){d=_;continue}}b==="["?a++:b==="]"?a--:b==="("?l++:b===")"&&l--}const h=s.length===0?r:r.substring(u),g=G6(h),m=g!==h,v=d&&d>u?d-u:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};if(e){const r=e+l_,s=i;i=a=>a.startsWith(r)?s(a.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const r=i;i=s=>n({className:s,parseClassName:r})}return i},G6=t=>t.endsWith(o_)?t.substring(0,t.length-1):t.startsWith(o_)?t.substring(1):t,Y6=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let s=[];return i.forEach(a=>{a[0]==="["||e[a]?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r}},K6=t=>({cache:$6(t.cacheSize),parseClassName:W6(t),sortModifiers:Y6(t),...z6(t)}),Q6=/\s+/,X6=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=e,a=[],l=t.trim().split(Q6);let u="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:g,modifiers:m,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:b}=n(h);if(g){u=h+(u.length>0?" "+u:u);continue}let S=!!b,x=i(S?_.substring(0,b):_);if(!x){if(!S){u=h+(u.length>0?" "+u:u);continue}if(x=i(_),!x){u=h+(u.length>0?" "+u:u);continue}S=!1}const T=s(m).join(":"),A=v?T+o_:T,O=A+x;if(a.includes(O))continue;a.push(O);const D=r(x,S);for(let N=0;N<D.length;++N){const M=D[N];a.push(A+M)}u=h+(u.length>0?" "+u:u)}return u};function Z6(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=lN(e))&&(i&&(i+=" "),i+=n);return i}const lN=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=lN(t[i]))&&(n&&(n+=" "),n+=e);return n};function J6(t,...e){let n,i,r,s=a;function a(u){const d=e.reduce((h,g)=>g(h),t());return n=K6(d),i=n.cache.get,r=n.cache.set,s=l,l(u)}function l(u){const d=i(u);if(d)return d;const h=X6(u,n);return r(u,h),h}return function(){return s(Z6.apply(null,arguments))}}const jn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},cN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,uN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,e4=/^\d+\/\d+$/,t4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,r4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bc=t=>e4.test(t),it=t=>!!t&&!Number.isNaN(Number(t)),ja=t=>!!t&&Number.isInteger(Number(t)),Nb=t=>t.endsWith("%")&&it(t.slice(0,-1)),Us=t=>t4.test(t),a4=()=>!0,o4=t=>n4.test(t)&&!i4.test(t),dN=()=>!1,l4=t=>r4.test(t),c4=t=>s4.test(t),u4=t=>!Re(t)&&!De(t),d4=t=>hu(t,gN,dN),Re=t=>cN.test(t),Fo=t=>hu(t,pN,o4),Ib=t=>hu(t,m4,it),CR=t=>hu(t,fN,dN),f4=t=>hu(t,hN,c4),mg=t=>hu(t,mN,l4),De=t=>uN.test(t),vd=t=>gu(t,pN),h4=t=>gu(t,v4),TR=t=>gu(t,fN),g4=t=>gu(t,gN),p4=t=>gu(t,hN),vg=t=>gu(t,mN,!0),hu=(t,e,n)=>{const i=cN.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},gu=(t,e,n=!1)=>{const i=uN.exec(t);return i?i[1]?e(i[1]):n:!1},fN=t=>t==="position"||t==="percentage",hN=t=>t==="image"||t==="url",gN=t=>t==="length"||t==="size"||t==="bg-size",pN=t=>t==="length",m4=t=>t==="number",v4=t=>t==="family-name",mN=t=>t==="shadow",y4=()=>{const t=jn("color"),e=jn("font"),n=jn("text"),i=jn("font-weight"),r=jn("tracking"),s=jn("leading"),a=jn("breakpoint"),l=jn("container"),u=jn("spacing"),d=jn("radius"),h=jn("shadow"),g=jn("inset-shadow"),m=jn("text-shadow"),v=jn("drop-shadow"),_=jn("blur"),b=jn("perspective"),S=jn("aspect"),x=jn("ease"),T=jn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...O(),De,Re],N=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],k=()=>[De,Re,u],P=()=>[bc,"full","auto",...k()],z=()=>[ja,"none","subgrid",De,Re],B=()=>["auto",{span:["full",ja,De,Re]},ja,De,Re],K=()=>[ja,"auto",De,Re],ne=()=>["auto","min","max","fr",De,Re],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ge=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...k()],q=()=>[bc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],$=()=>[t,De,Re],re=()=>[...O(),TR,CR,{position:[De,Re]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",g4,d4,{size:[De,Re]}],J=()=>[Nb,vd,Fo],ee=()=>["","none","full",d,De,Re],le=()=>["",it,vd,Fo],be=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[it,Nb,TR,CR],me=()=>["","none",_,De,Re],Te=()=>["none",it,De,Re],Ce=()=>["none",it,De,Re],je=()=>[it,De,Re],ze=()=>[bc,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Us],breakpoint:[Us],color:[a4],container:[Us],"drop-shadow":[Us],ease:["in","out","in-out"],font:[u4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Us],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Us],shadow:[Us],spacing:["px",it],text:[Us],"text-shadow":[Us],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bc,Re,De,S]}],container:["container"],columns:[{columns:[it,Re,De,l]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[ja,"auto",De,Re]}],basis:[{basis:[bc,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[it,bc,"auto","initial","none",Re]}],grow:[{grow:["",it,De,Re]}],shrink:[{shrink:["",it,De,Re]}],order:[{order:[ja,"first","last","none",De,Re]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,vd,Fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,De,Ib]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nb,Re]}],"font-family":[{font:[h4,Re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,De,Re]}],"line-clamp":[{"line-clamp":[it,"none",De,Ib]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",De,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[it,"from-font","auto",De,Fo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[it,"auto",De,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ja,De,Re],radial:["",De,Re],conic:[ja,De,Re]},p4,f4]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[it,De,Re]}],"outline-w":[{outline:["",it,vd,Fo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",h,vg,mg]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,vg,mg]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[it,Fo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",m,vg,mg]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[it,De,Re]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[it]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[De,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[it]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Re]}],filter:[{filter:["","none",De,Re]}],blur:[{blur:me()}],brightness:[{brightness:[it,De,Re]}],contrast:[{contrast:[it,De,Re]}],"drop-shadow":[{"drop-shadow":["","none",v,vg,mg]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",it,De,Re]}],"hue-rotate":[{"hue-rotate":[it,De,Re]}],invert:[{invert:["",it,De,Re]}],saturate:[{saturate:[it,De,Re]}],sepia:[{sepia:["",it,De,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Re]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[it,De,Re]}],"backdrop-contrast":[{"backdrop-contrast":[it,De,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",it,De,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[it,De,Re]}],"backdrop-invert":[{"backdrop-invert":["",it,De,Re]}],"backdrop-opacity":[{"backdrop-opacity":[it,De,Re]}],"backdrop-saturate":[{"backdrop-saturate":[it,De,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",it,De,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[it,"initial",De,Re]}],ease:[{ease:["linear","initial",x,De,Re]}],delay:[{delay:[it,De,Re]}],animate:[{animate:["none",T,De,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,De,Re]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:je()}],"skew-x":[{"skew-x":je()}],"skew-y":[{"skew-y":je()}],transform:[{transform:[De,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ze()}],"translate-x":[{"translate-x":ze()}],"translate-y":[{"translate-y":ze()}],"translate-z":[{"translate-z":ze()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Re]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[it,vd,Fo,Ib]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},b4=J6(y4);function ai(...t){return b4(sN(t))}const _4=aN("inline-flex items-center justify-center whitespace-nowrap rounded text-[10px] font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#1e293b] text-white hover:bg-[#2d3a4b]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-[#1e293b] text-white hover:bg-[#2d3a4b]",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-8 px-3 py-1.5 text-[10px]",sm:"h-7 rounded px-1 py-1 text-[10px]",xs:"h-6 rounded px-1 py-0.5 text-[10px]",lg:"h-10 px-6 py-1",icon:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),kn=C.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...r},s)=>{const a=i?I6:"button";return E.jsx(a,{className:ai(_4({variant:e,size:n,className:t})),ref:s,...r})});kn.displayName="Button";const w4=({column:t,options:e,onFilterChange:n,isOpen:i,onToggle:r,activeFilter:s})=>{const[a,l]=C.useState(""),[u,d]=C.useState({top:0,left:0}),[h,g]=C.useState(new Set),[m,v]=C.useState(!0),_=C.useRef(null),b=C.useMemo(()=>a?e.filter(N=>N&&N.toLowerCase().includes(a.toLowerCase())):e,[e,a,t]);C.useEffect(()=>{i&&(s&&Array.isArray(s)?(g(new Set(s)),v(s.length===e.length)):s?(g(new Set([s])),v(!1)):(g(new Set(e)),v(!0)))},[i,s,e]);const S=D=>{const N=new Set(h);N.has(D)?N.delete(D):N.add(D),g(N),v(N.size===b.length)},x=()=>{m?(g(new Set),v(!1)):(g(new Set(b)),v(!0))},T=()=>{g(new Set),v(!1)},A=()=>{const D=Array.from(h);n(t,D.length===0?"":D),l(""),r()},O=()=>{l(""),r()};return C.useEffect(()=>{const D=N=>{_.current&&!_.current.contains(N.target)&&O()};return i&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[i]),C.useEffect(()=>{i||(l(""),g(new Set),v(!0))},[i]),C.useEffect(()=>{if(i&&_.current){const D=_.current.querySelector("button");if(D){const N=D.getBoundingClientRect(),M=window.innerWidth,k=192;let P=0;N.left+k>M&&(P=-k+N.width),d({top:N.height+5,left:P})}}},[i]),E.jsxs("div",{className:"relative",ref:_,children:[E.jsx("button",{onClick:r,className:`inline-flex items-center justify-center w-4 h-4 transition-colors ${s?"text-blue-600 hover:text-blue-700":"text-gray-500 hover:text-gray-700"}`,title:s?`Filtro attivo: ${s}`:"Filtra",children:E.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})})}),i&&E.jsxs("div",{className:"absolute bg-white border border-gray-300 rounded-md shadow-lg z-[99999] w-48",style:{top:u.top,left:u.left},onClick:D=>D.stopPropagation(),children:[E.jsxs("div",{className:"p-2",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("button",{onClick:x,className:"text-blue-600 text-xs font-medium hover:underline",children:m?"Select all":`Select all ${b.length}`}),E.jsx("button",{onClick:T,className:"text-blue-600 text-xs font-medium hover:underline",children:"Clear"})]}),E.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["Displaying ",b.length]}),E.jsxs("div",{className:"relative mb-1",children:[E.jsx("input",{type:"text",placeholder:"Search values...",value:a,onChange:D=>l(D.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),E.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:E.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor",className:"text-gray-400",children:E.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})]}),E.jsxs("div",{className:"h-16 overflow-y-auto border border-gray-200 rounded",children:[b.map((D,N)=>E.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-50 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:h.has(D),onChange:()=>S(D),className:"mr-2 h-3 w-3 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),E.jsx("span",{className:"text-xs truncate flex-1",children:D||"(Blanks)"})]},`${D}-${N}`)),b.length===0&&a&&E.jsx("div",{className:"px-2 py-2 text-xs text-gray-500 text-center",children:"No results found"})]})]}),E.jsxs("div",{className:"border-t border-gray-200 p-2 flex justify-end space-x-1",children:[E.jsx("button",{onClick:O,className:"px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded",children:"Cancel"}),E.jsx("button",{onClick:A,className:"px-2 py-1 text-xs bg-blue-600 text-white hover:bg-blue-700 rounded",children:"OK"})]})]})]})};function Rw({data:t,columns:e,onEditRow:n,onDeleteRow:i,enableFiltering:r=!1,filterableColumns:s=[],stickyColumns:a=[]}){const[l,u]=C.useState({}),[d,h]=C.useState(null),g=C.useMemo(()=>!r||Object.keys(l).length===0?t:t.filter(A=>Object.entries(l).every(([O,D])=>{if(!D)return!0;const N=A[O];return N?Array.isArray(D)?D.includes(N):N.toString().toLowerCase().includes(D.toLowerCase()):!1})),[t,l,r]),m=C.useMemo(()=>{if(!r)return{};const A={};return s.forEach(O=>{A[O]=[...new Set(t.map(D=>D[O]).filter(Boolean))].sort()}),A},[t,s,r]),v=(A,O)=>{u(D=>({...D,[A]:O}))},_=A=>{h(d===A?null:A)},b=C.useMemo(()=>{const A=D=>{n(D.original)},O={id:"actions",header:"Azioni",cell:({row:D})=>E.jsxs("div",{className:"flex flex-row gap-1 items-center justify-start",children:[E.jsx(kn,{size:"xs",variant:"outline",onClick:()=>A(D),children:"Modifica"}),E.jsx(kn,{size:"xs",variant:"destructive",onClick:()=>i(D.original),children:"Elimina"})]})};return[...e,O]},[e,n,i]),S=(A,O)=>{if(!a.includes(A))return 0;let D=0;for(let N=0;N<O;N++){const M=b[N]?.id||b[N]?.accessorKey;a.includes(M)&&(M==="odp_number"?D+=71:M==="article_code"?D+=80:D+=100)}return D},x=C.useMemo(()=>{if(g&&g.length>0){const A=g.map(M=>M.id);A.filter((M,k)=>A.indexOf(M)!==k).length>0;const D=new Set,N=[];g.forEach((M,k)=>{D.has(M.id)?N.push({id:M.id,index:k,item:M}):D.add(M.id)})}return g},[g]),T=R6({data:x,columns:b,getCoreRowModel:x6(),getSortedRowModel:E6()});return E.jsx("div",{className:"rounded-md border overflow-x-auto",style:{maxHeight:"95vh"},children:E.jsxs("table",{className:"w-full caption-bottom text-[10px] !text-[10px] relative",children:[E.jsx("thead",{className:"sticky top-0 z-20 bg-gray-50 border-b border-gray-200",children:T.getHeaderGroups().map(A=>E.jsx(s_,{children:A.headers.map((O,D)=>{const N=`${A.id}_${O.id}_${D}`,M=O.column.id,k=r&&s.includes(M),P=a.includes(M);return E.jsx(tN,{onClick:O.column.getToggleSortingHandler(),className:P?"sticky top-0 z-30 bg-gray-50 shadow-sm":"",style:P?{left:`${S(M,D)}px`}:{},children:E.jsxs("div",{className:"flex items-center gap-2",children:[bR(O.column.columnDef.header,O.getContext()),{asc:" ",desc:" "}[O.column.getIsSorted()]??null,k&&E.jsx(w4,{column:M,options:m[M]||[],onFilterChange:v,isOpen:d===M,onToggle:()=>_(M),activeFilter:l[M]})]})},N)})},A.id))}),E.jsx("tbody",{className:"bg-white",children:T.getRowModel().rows.map(A=>{const O=A.original.id||A.id;return E.jsx(s_,{children:A.getVisibleCells().map((D,N)=>{const M=`${O}_${D.column.id}_${N}`,k=D.column.id,P=a.includes(k);return E.jsx(nN,{className:P?"sticky z-10 bg-white shadow-sm":"",style:P?{left:`${S(k,N)}px`}:{},children:bR(D.column.columnDef.cell,D.getContext())},M)})},O)})})]})})}const vN=()=>{const t=C.useCallback(d=>{if(!d||!d.department)return{isValid:!1,error:"Invalid phase data"};const{department:h}=d;if(h==="STAMPA"){const g=parseFloat(d.v_stampa);if(isNaN(g)||g<=0)return{isValid:!1,error:"Velocit di stampa non valida. Inserisci un valore maggiore di zero."}}else if(h==="CONFEZIONAMENTO"){const g=parseFloat(d.v_conf);if(isNaN(g)||g<=0)return{isValid:!1,error:"Velocit di confezionamento non valida. Inserisci un valore maggiore di zero."}}else return{isValid:!1,error:"Reparto non riconosciuto"};return{isValid:!0}},[]),e=C.useCallback((d,h,g)=>{if(!d||!h||d.department==="STAMPA"&&!g||!t(d).isValid)return null;try{const{department:v}=d;if(v==="STAMPA"){const _=parseFloat(d.v_stampa),b=parseFloat(d.t_setup_stampa)||0,S=parseFloat(d.costo_h_stampa)||0;if(isNaN(_)||_<=0)return null;const T=g*h/1e3/_,A=T+b,O=A*S;return{totals:{duration:A,cost:O},breakdown:{print:{time:T,cost:T*S},setup:{time:b,cost:b*S}}}}else if(v==="CONFEZIONAMENTO"){const _=parseFloat(d.v_conf),b=parseFloat(d.t_setup_conf)||0,S=parseFloat(d.costo_h_conf)||0;if(isNaN(_)||_<=0)return null;const x=h/_,T=b,A=x+T,O=A*S;return{totals:{duration:A,cost:O},breakdown:{package:{time:x,cost:x*S},setup:{time:T,cost:T*S}}}}return null}catch{return null}},[t]),n=C.useCallback(d=>d&&(d.startsWith("P05")||d.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),i=C.useCallback(d=>d&&d.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),r=C.useCallback(d=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[d]||[],[]),s=C.useCallback((d,h)=>{const m={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[d]||"MACH",v=h==="BUSTO_GAROLFO"?"BGF":"ZAN",_=Date.now().toString(36);return`${m}_${v}_${_}`},[]),a=C.useCallback((d,h)=>!(h<0||h>d),[]),l=C.useCallback((d,h)=>!d||d===0?0:Math.round(h*100/d),[]),u=C.useCallback((d,h)=>!d||d===0?0:!h||h===0?d:Math.round(d*(1-h/100)*100)/100,[]);return{calculateProductionMetrics:e,validatePhaseParameters:t,autoDetermineWorkCenter:n,autoDetermineDepartment:i,getValidMachineTypes:r,generateMachineId:s,validateQuantityCompleted:a,calculateCompletionRate:l,calculateTimeRemaining:u}};var Pb,AR;function S4(){if(AR)return Pb;AR=1;function t(x){this._maxSize=x,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(x){return this._values[x]},t.prototype.set=function(x,T){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=T};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),u=new t(a),d=new t(a);Pb={Cache:t,split:g,normalizePath:h,setter:function(x){var T=h(x);return u.get(x)||u.set(x,function(O,D){for(var N=0,M=T.length,k=O;N<M-1;){var P=T[N];if(P==="__proto__"||P==="constructor"||P==="prototype")return O;k=k[T[N++]]}k[T[N]]=D})},getter:function(x,T){var A=h(x);return d.get(x)||d.set(x,function(D){for(var N=0,M=A.length;N<M;)if(D!=null||!T)D=D[A[N++]];else return;return D})},join:function(x){return x.reduce(function(T,A){return T+(v(A)||n.test(A)?"["+A+"]":(T?".":"")+A)},"")},forEach:function(x,T,A){m(Array.isArray(x)?x:g(x),T,A)}};function h(x){return l.get(x)||l.set(x,g(x).map(function(T){return T.replace(s,"$2")}))}function g(x){return x.match(e)||[""]}function m(x,T,A){var O=x.length,D,N,M,k;for(N=0;N<O;N++)D=x[N],D&&(S(D)&&(D='"'+D+'"'),k=v(D),M=!k&&/^\d+$/.test(D),T.call(A,D,k,M,N,x))}function v(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function _(x){return x.match(i)&&!x.match(n)}function b(x){return r.test(x)}function S(x){return!v(x)&&(_(x)||b(x))}return Pb}var rl=S4(),jb,RR;function x4(){if(RR)return jb;RR=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(t)||[],n=h=>h[0].toUpperCase()+h.slice(1),i=(h,g)=>e(h).join(g).toLowerCase(),r=h=>e(h).reduce((g,m)=>`${g}${g?m[0].toUpperCase()+m.slice(1).toLowerCase():m.toLowerCase()}`,"");return jb={words:e,upperFirst:n,camelCase:r,pascalCase:h=>n(r(h)),snakeCase:h=>i(h,"_"),kebabCase:h=>i(h,"-"),sentenceCase:h=>n(i(h," ")),titleCase:h=>e(h).map(n).join(" ")},jb}var Lb=x4(),yg={exports:{}},DR;function E4(){if(DR)return yg.exports;DR=1,yg.exports=function(r){return t(e(r),r)},yg.exports.array=t;function t(r,s){var a=r.length,l=new Array(a),u={},d=a,h=n(s),g=i(r);for(s.forEach(function(v){if(!g.has(v[0])||!g.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)u[d]||m(r[d],d,new Set);return l;function m(v,_,b){if(b.has(v)){var S;try{S=", node was:"+JSON.stringify(v)}catch{S=""}throw new Error("Cyclic dependency"+S)}if(!g.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!u[_]){u[_]=!0;var x=h.get(v)||new Set;if(x=Array.from(x),_=x.length){b.add(v);do{var T=x[--_];m(T,g.get(T),b)}while(_);b.delete(v)}l[--a]=v}}}function e(r){for(var s=new Set,a=0,l=r.length;a<l;a++){var u=r[a];s.add(u[0]),s.add(u[1])}return Array.from(s)}function n(r){for(var s=new Map,a=0,l=r.length;a<l;a++){var u=r[a];s.has(u[0])||s.set(u[0],new Set),s.has(u[1])||s.set(u[1],new Set),s.get(u[0]).add(u[1])}return s}function i(r){for(var s=new Map,a=0,l=r.length;a<l;a++)s.set(r[a],a);return s}return yg.exports}var C4=E4();const T4=bf(C4),A4=Object.prototype.toString,R4=Error.prototype.toString,D4=RegExp.prototype.toString,O4=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",k4=/^Symbol\((.*)\)(.*)$/;function M4(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function OR(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return M4(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return O4.call(t).replace(k4,"Symbol($1)");const i=A4.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+R4.call(t)+"]":i==="RegExp"?D4.call(t):null}function Js(t,e){let n=OR(t,e);return n!==null?n:JSON.stringify(t,function(i,r){let s=OR(this[i],e);return s!==null?s:r},2)}function yN(t){return t==null?[]:[].concat(t)}let bN,_N,wN,N4=/\$\{\s*(\w+)\s*\}/g;bN=Symbol.toStringTag;class kR{constructor(e,n,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[bN]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=r,this.errors=[],this.inner=[],yN(e).forEach(s=>{if(_i.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}_N=Symbol.hasInstance;wN=Symbol.toStringTag;class _i extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(N4,(r,s)=>Js(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,r,s){const a=new kR(e,n,i,r);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[wN]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,_i)}static[_N](e){return kR[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let os={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const r=i!=null&&i!==n?` (cast from the value \`${Js(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Js(n,!0)}\``+r:`${t} must match the configured type. The validated value was: \`${Js(n,!0)}\``+r}},Ni={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Fa={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},c_={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},I4={isValue:"${path} field must be ${value}"},Kg={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Qg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},P4={notType:t=>{const{path:e,value:n,spec:i}=t,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${n.length} for value: \`${Js(n,!0)}\``;if(n.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${n.length} for value: \`${Js(n,!0)}\``}return _i.formatError(os.notType,t)}};Object.assign(Object.create(null),{mixed:os,string:Ni,number:Fa,date:c_,object:Kg,array:Qg,boolean:I4,tuple:P4});const gm=t=>t&&t.__isYupSchema__;class _p{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=n,a=typeof i=="function"?i:(...l)=>l.every(u=>u===i);return new _p(e,(l,u)=>{var d;let h=a(...l)?r:s;return(d=h?.(u))!=null?d:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(s=>s.getValue(n?.value,n?.parent,n?.context)),r=this.fn(i,e,n);if(r===void 0||r===e)return e;if(!gm(r))throw new TypeError("conditions must return a schema object");return r.resolve(n)}}const bg={context:"$",value:"."};class Sl{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===bg.context,this.isValue=this.key[0]===bg.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?bg.context:this.isValue?bg.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&rl.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let r=this.isContext?i:this.isValue?e:n;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Sl.prototype.__isYupRef=!0;const Ks=t=>t==null;function _c(t){function e({value:n,path:i="",options:r,originalValue:s,schema:a},l,u){const{name:d,test:h,params:g,message:m,skipAbsent:v}=t;let{parent:_,context:b,abortEarly:S=a.spec.abortEarly,disableStackTrace:x=a.spec.disableStackTrace}=r;const T={value:n,parent:_,context:b};function A(B={}){const K=SN(Object.assign({value:n,originalValue:s,label:a.spec.label,path:B.path||i,spec:a.spec,disableStackTrace:B.disableStackTrace||x},g,B.params),T),ne=new _i(_i.formatError(B.message||m,K),n,K.path,B.type||d,K.disableStackTrace);return ne.params=K,ne}const O=S?l:u;let D={path:i,parent:_,type:d,from:r.from,createError:A,resolve(B){return xN(B,T)},options:r,originalValue:s,schema:a};const N=B=>{_i.isError(B)?O(B):B?u(null):O(A())},M=B=>{_i.isError(B)?O(B):l(B)};if(v&&Ks(n))return N(!0);let P;try{var z;if(P=h.call(D,n,D),typeof((z=P)==null?void 0:z.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${D.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(N,M)}}catch(B){M(B);return}N(P)}return e.OPTIONS=t,e}function SN(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=xN(t[n],e);return t}function xN(t,e){return Sl.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function j4(t,e,n,i=n){let r,s,a;return e?(rl.forEach(e,(l,u,d)=>{let h=u?l.slice(1,l.length-1):l;t=t.resolve({context:i,parent:r,value:n});let g=t.type==="tuple",m=d?parseInt(h,10):0;if(t.innerType||g){if(g&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);r=n,n=n&&n[m],t=g?t.spec.types[m]:t.innerType}if(!d){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);r=n,n=n&&n[h],t=t.fields[h]}s=h,a=u?"["+l+"]":"."+l}),{schema:t,parent:r,parentPath:s}):{parent:r,parentPath:e,schema:t}}class wp extends Set{describe(){const e=[];for(const n of this.values())e.push(Sl.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new wp(this.values())}merge(e,n){const i=this.clone();return e.forEach(r=>i.add(r)),n.forEach(r=>i.delete(r)),i}}function Ic(t,e=new Map){if(gm(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=Ic(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,r]of t.entries())n.set(i,Ic(r,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(Ic(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,r]of Object.entries(t))n[i]=Ic(r,e)}else throw Error(`Unable to clone ${t}`);return n}function L4(t){if(!(t!=null&&t.length))return;const e=[];let n="",i=!1,r=!1;for(let s=0;s<t.length;s++){const a=t[s];if(a==="["&&!r){n&&(e.push(...n.split(".").filter(Boolean)),n=""),i=!0;continue}if(a==="]"&&!r){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),i=!1;continue}if(a==='"'){r=!r;continue}if(a==="."&&!i&&!r){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function F4(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(i=>({message:i,path:L4(n)}))}function EN(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return F4(t,e);const i=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(r=>EN(r,i))}class Tr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new wp,this._blacklist=new wp,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(os.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ic(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const r=Object.assign({},n.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((r,s)=>s.resolve(r,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,r,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({},n,{value:e})),r=n.assert==="ignore-optionality",s=i._cast(e,n);if(n.assert!==!1&&!i.isType(s)){if(r&&Ks(s))return s;let a=Js(e),l=Js(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return s}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((r,s)=>s.call(this,r,e,this,n),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,r){let{path:s,originalValue:a=e,strict:l=this.spec.strict}=n,u=e;l||(u=this._cast(u,Object.assign({assert:!1},n)));let d=[];for(let h of Object.values(this.internalTests))h&&d.push(h);this.runTests({path:s,value:u,originalValue:a,options:n,tests:d},i,h=>{if(h.length)return r(h,u);this.runTests({path:s,value:u,originalValue:a,options:n,tests:this.tests},i,r)})}runTests(e,n,i){let r=!1,{tests:s,value:a,originalValue:l,path:u,options:d}=e,h=b=>{r||(r=!0,n(b,a))},g=b=>{r||(r=!0,i(b,a))},m=s.length,v=[];if(!m)return g([]);let _={value:a,originalValue:l,path:u,options:d,schema:this};for(let b=0;b<s.length;b++){const S=s[b];S(_,h,function(T){T&&(Array.isArray(T)?v.push(...T):v.push(T)),--m<=0&&g(v)})}}asNestedTest({key:e,index:n,parent:i,parentPath:r,originalParent:s,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let d=i[l];const h=Object.assign({},a,{strict:!0,parent:i,value:d,originalValue:s[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${r||""}[${u?l:`"${l}"`}]`:(r?`${r}.`:"")+e});return(g,m,v)=>this.resolve(h)._validate(d,h,m,v)}validate(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((a,l)=>r._validate(e,n,(u,d)=>{_i.isError(u)&&(u.value=d),l(u)},(u,d)=>{u.length?l(new _i(u,d,void 0,void 0,s)):a(d)}))}validateSync(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s,a=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},n,{sync:!0}),(l,u)=>{throw _i.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new _i(l,e,void 0,void 0,a);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(_i.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(_i.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ic(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=_c({message:n,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=_c({message:n,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=os.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=os.notNull){return this.nullability(!1,e)}required(e=os.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=os.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=_c(n),s=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===n.name&&(s||a.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),r=yN(e).map(s=>new Sl(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof n=="function"?new _p(r,n):_p.fromOptions(r,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=_c({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=os.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=_c({message:n,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),i}notOneOf(e,n=os.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=_c({message:n,name:"notOneOf",test(r){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:s,nullable:a}=n.spec;return{meta:r,label:i,optional:s,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((u,d,h)=>h.findIndex(g=>g.OPTIONS.name===u.OPTIONS.name)===d).map(u=>{const d=u.OPTIONS.params&&e?SN(Object.assign({},u.OPTIONS.params),e):u.OPTIONS.params;return{name:u.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(r){if(r instanceof _i)return{issues:EN(r)};throw r}}}}}Tr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Tr.prototype[`${t}At`]=function(e,n,i={}){const{parent:r,parentPath:s,schema:a}=j4(this,e,n,i.context);return a[t](r&&r[s],Object.assign({},i,{parent:r,path:e}))};for(const t of["equals","is"])Tr.prototype[t]=Tr.prototype.oneOf;for(const t of["not","nope"])Tr.prototype[t]=Tr.prototype.notOneOf;const U4=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function z4(t){const e=u_(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function u_(t){var e,n;const i=U4.exec(t);return i?{year:zs(i[1]),month:zs(i[2],1)-1,day:zs(i[3],1),hour:zs(i[4]),minute:zs(i[5]),second:zs(i[6]),millisecond:i[7]?zs(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:zs(i[10]),minuteOffset:zs(i[11])}:null}function zs(t,e=0){return Number(t)||e}let H4=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,B4=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,V4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,$4="^\\d{4}-\\d{2}-\\d{2}",q4="\\d{2}:\\d{2}:\\d{2}",W4="(([+-]\\d{2}(:?\\d{2})?)|Z)",G4=new RegExp(`${$4}T${q4}(\\.\\d+)?${W4}$`),Y4=t=>Ks(t)||t===t.trim(),K4={}.toString();function Ii(){return new CN}class CN extends Tr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===K4?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||os.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Ni.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=Ni.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=Ni.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,r,s;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:s}=n:r=n),this.test({name:s||"matches",message:r||Ni.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&i||a.search(e)!==-1})}email(e=Ni.email){return this.matches(H4,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ni.url){return this.matches(B4,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ni.uuid){return this.matches(V4,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,r;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:r=void 0}=e:n=e),this.matches(G4,{name:"datetime",message:n||Ni.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Ni.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:s=>{if(!s||i)return!0;const a=u_(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Ni.datetime_precision,params:{precision:r},skipAbsent:!0,test:s=>{if(!s||r==null)return!0;const a=u_(s);return a?a.precision===r:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ni.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Y4})}lowercase(e=Ni.lowercase){return this.transform(n=>Ks(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ks(n)||n===n.toLowerCase()})}uppercase(e=Ni.uppercase){return this.transform(n=>Ks(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ks(n)||n===n.toUpperCase()})}}Ii.prototype=CN.prototype;let Q4=t=>t!=+t;function Un(){return new TN}class TN extends Tr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Q4(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return this.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=Fa.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=Fa.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=Fa.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=Fa.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=Fa.positive){return this.moreThan(0,e)}negative(e=Fa.negative){return this.lessThan(0,e)}integer(e=Fa.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Ks(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(r=>Ks(r)?r:Math[e](r))}}Un.prototype=TN.prototype;let AN=new Date(""),X4=t=>Object.prototype.toString.call(t)==="[object Date]";function Id(){return new Ef}class Ef extends Tr{constructor(){super({type:"date",check(e){return X4(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=z4(e),isNaN(e)?Ef.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(Sl.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,n=c_.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,n=c_.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}Ef.INVALID_DATE=AN;Id.prototype=Ef.prototype;Id.INVALID_DATE=AN;function Z4(t,e=[]){let n=[],i=new Set,r=new Set(e.map(([a,l])=>`${a}-${l}`));function s(a,l){let u=rl.split(a)[0];i.add(u),r.has(`${l}-${u}`)||n.push([l,u])}for(const a of Object.keys(t)){let l=t[a];i.add(a),Sl.isRef(l)&&l.isSibling?s(l.path,a):gm(l)&&"deps"in l&&l.deps.forEach(u=>s(u,a))}return T4.array(Array.from(i),n).reverse()}function MR(t,e){let n=1/0;return t.some((i,r)=>{var s;if((s=e.path)!=null&&s.includes(i))return n=r,!0}),n}function RN(t){return(e,n)=>MR(t,e)-MR(t,n)}const DN=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function Xg(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=Xg(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Xg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Xg)}):"optional"in t?t.optional():t}const J4=(t,e)=>{const n=[...rl.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),r=rl.getter(rl.join(n),!0)(t);return!!(r&&i in r)};let NR=t=>Object.prototype.toString.call(t)==="[object Object]";function IR(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const eW=RN([]);function ho(t){return new ON(t)}class ON extends Tr{constructor(e){super({type:"object",check(n){return NR(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=eW,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let r=super._cast(e,n);if(r===void 0)return this.getDefault(n);if(!this._typeCheck(r))return r;let s=this.fields,a=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(r).filter(g=>!this._nodes.includes(g))),u={},d=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const g of l){let m=s[g],v=g in r,_=r[g];if(m){let b;d.path=(n.path?`${n.path}.`:"")+g,m=m.resolve({value:_,context:n.context,parent:u});let S=m instanceof Tr?m.spec:void 0,x=S?.strict;if(S!=null&&S.strip){h=h||g in r;continue}b=!n.__validating||!x?m.cast(_,d):_,b!==void 0&&(u[g]=b)}else v&&!a&&(u[g]=_);(v!==g in u||u[g]!==_)&&(h=!0)}return h?u:r}_validate(e,n={},i,r){let{from:s=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...s],n.__validating=!0,n.originalValue=a,super._validate(e,n,i,(u,d)=>{if(!l||!NR(d)){r(u,d);return}a=a||d;let h=[];for(let g of this._nodes){let m=this.fields[g];!m||Sl.isRef(m)||h.push(m.asNestedTest({options:n,key:g,parent:d,parentPath:n.path,originalParent:a}))}this.runTests({tests:h,value:d,originalValue:a,options:n},i,g=>{r(g.sort(this._sortErrors).concat(u),d)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[r,s]of Object.entries(this.fields)){const a=i[r];i[r]=a===void 0?s:a}return n.withMutation(r=>r.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var r;const s=this.fields[i];let a=e;(r=a)!=null&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n[i]=s&&"getDefault"in s?s.getDefault(a):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=Z4(e,n),i._sortErrors=RN(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),r=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),r)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Xg(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,r])=>e.includes(i)&&e.includes(r)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let r=rl.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return J4(s,e)&&(a=Object.assign({},s),i||delete a[e],a[n]=r(s)),a})}json(){return this.transform(DN)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Kg.exact,test(n){if(n==null)return!0;const i=IR(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Kg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(r){if(r==null)return!0;const s=IR(this.schema,r);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=Kg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const r of Object.keys(n))i[e(r)]=n[r];return i})}camelCase(){return this.transformKeys(Lb.camelCase)}snakeCase(){return this.transformKeys(Lb.snakeCase)}constantCase(){return this.transformKeys(e=>Lb.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[s,a]of Object.entries(n.fields)){var r;let l=e;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),i.fields[s]=a.describe(l)}return i}}ho.prototype=ON.prototype;function kN(t){return new MN(t)}class MN extends Tr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const i=super._cast(e,n);if(!this._typeCheck(i)||!this.innerType)return i;let r=!1;const s=i.map((a,l)=>{const u=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${l}]`,parent:i,originalValue:a,value:a,index:l}));return u!==a&&(r=!0),u});return r?s:i}_validate(e,n={},i,r){var s;let a=this.innerType,l=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,i,(u,d)=>{var h;if(!l||!a||!this._typeCheck(d)){r(u,d);return}let g=new Array(d.length);for(let v=0;v<d.length;v++){var m;g[v]=a.asNestedTest({options:n,index:v,parent:d,parentPath:n.path,originalParent:(m=n.originalValue)!=null?m:e})}this.runTests({value:d,tests:g,originalValue:(h=n.originalValue)!=null?h:e,options:n},i,v=>r(v.concat(u),d))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(DN)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!gm(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Js(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=Qg.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n){return n=n||Qg.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n){return n=n||Qg.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(i,r,s)=>!e(i,r,s):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);if(n.innerType){var r;let s=e;(r=s)!=null&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),i.innerType=n.innerType.describe(s)}return i}}kN.prototype=MN.prototype;const dn=Ii().required("This field is required");Un().required("This field is required").min(0,"Value must be at least 0");const ss=Un().nullable().transform(t=>isNaN(t)?null:t).min(0,"Value must be at least 0"),tW=t=>t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0,nW=ho({machine_name:dn.min(2,"Machine name must be at least 2 characters").max(100,"Machine name must be at most 100 characters").matches(/^[a-zA-Z0-9\s\-_]+$/,"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"),machine_type:dn,department:dn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:dn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),status:dn.oneOf(["ACTIVE","INACTIVE"],"Invalid status"),min_web_width:ss,max_web_width:ss,min_bag_height:ss,max_bag_height:ss,standard_speed:ss,setup_time_standard:ss,changeover_color:ss,changeover_material:ss,active_shifts:kN().of(Ii().oneOf(["T1","T2","T3"]))}).test("web-width-logic","Minimum web width cannot exceed maximum web width",function(t){return t.min_web_width&&t.max_web_width?t.min_web_width<=t.max_web_width:!0}).test("bag-height-logic","Minimum bag height cannot exceed maximum bag height",function(t){return t.min_bag_height&&t.max_bag_height?t.min_bag_height<=t.max_bag_height:!0}),iW=ho({name:dn.min(2,"Phase name must be at least 2 characters").max(100,"Phase name must be at most 100 characters"),department:dn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:dn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),numero_persone:Un().required("Number of people is required").min(1,"Number of people must be at least 1"),bag_width:ss,bag_step:ss,v_stampa:Un().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Printing speed must be greater than 0")}),t_setup_stampa:Un().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_stampa:Un().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Hourly cost cannot be negative")}),v_conf:Un().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Packaging speed must be greater than 0")}),t_setup_conf:Un().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_conf:Un().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Hourly cost cannot be negative")})}).test("bag-width-step-logic","Bag width cannot be less than bag step",tW),PR=ho({odp_number:dn.min(1,"Il numero ODP  obbligatorio"),article_code:dn.min(1,"Il codice articolo  obbligatorio"),work_center:dn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Seleziona un centro di lavoro valido"),nome_cliente:dn.min(1,"Il nome del cliente  obbligatorio"),quantity:Un().required("La quantit  obbligatoria").min(0,"La quantit deve essere maggiore o uguale a 0").typeError("La quantit deve essere un numero valido"),delivery_date:Id().required("La data di consegna  obbligatoria").typeError("Inserisci una data di consegna valida"),customer_order_ref:dn.min(1,"Il riferimento ordine cliente  obbligatorio"),department:dn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Seleziona un reparto valido"),status:Ii().oneOf(["NOT SCHEDULED","SCHEDULED","IN PROGRESS","COMPLETED","CANCELLED"],"Stato non valido").default("NOT SCHEDULED"),quantity_completed:Un().min(0,"La quantit completata deve essere maggiore o uguale a 0").default(0),production_lot:Ii().nullable(),description:Ii().nullable(),bag_height:Un().nullable().transform(t=>isNaN(t)?null:t).min(0,"L'altezza busta deve essere maggiore o uguale a 0"),bag_width:Un().nullable().transform(t=>isNaN(t)?null:t).min(0,"La larghezza busta deve essere maggiore o uguale a 0"),bag_step:Un().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il passo busta deve essere maggiore o uguale a 0"),seal_sides:Un().nullable().transform(t=>isNaN(t)?null:t).oneOf([3,4],"I lati di sigillatura devono essere 3 o 4"),product_type:Ii().nullable().oneOf(["CREMA","LIQUIDO","POLVERI"],"Seleziona un tipo di prodotto valido"),internal_customer_code:Ii().nullable().test("not-empty-if-provided","Il codice cliente interno non pu essere vuoto",function(t){return!t||t.trim().length>0}),external_customer_code:Ii().nullable().test("not-empty-if-provided","Il codice cliente esterno non pu essere vuoto",function(t){return!t||t.trim().length>0}),fase:Ii().nullable(),duration:Un().nullable().transform(t=>isNaN(t)?null:t).min(0,"La durata deve essere maggiore o uguale a 0"),cost:Un().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il costo deve essere maggiore o uguale a 0"),scheduled_start_time:Id().nullable(),scheduled_end_time:Id().nullable(),scheduled_machine_id:Ii().nullable(),user_notes:Ii().nullable(),asd_notes:Ii().nullable(),material_availability_global:Un().nullable().transform(t=>isNaN(t)?null:t).min(0,"Material availability must be between 0 and 100").max(100,"Material availability must be between 0 and 100")}).test("bag-width-step-logic","La larghezza busta non pu essere minore del passo busta",function(t){return t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0}).test("quantity-completed-logic","La quantit completata non pu superare la quantit totale",function(t){return t.quantity&&t.quantity_completed!==void 0?t.quantity_completed<=t.quantity:!0}).test("scheduled-time-order","L'ora di fine programmata deve essere dopo l'ora di inizio",function(t){return t.scheduled_start_time&&t.scheduled_end_time?new Date(t.scheduled_end_time)>new Date(t.scheduled_start_time):!0}).test("scheduling-logic","I campi di programmazione devono essere tutti forniti o tutti nulli",function(t){const e=!!t.scheduled_start_time,n=!!t.scheduled_end_time,i=!!t.scheduled_machine_id;return e&&n&&i||!e&&!n&&!i}),rW=ho({startDate:dn,startTime:dn,endDate:dn,endTime:dn}).test("date-logic","End date cannot be before start date",function(t){return t.startDate&&t.endDate?new Date(t.startDate)<=new Date(t.endDate):!0}).test("time-logic","End time must be after start time when dates are the same",function(t){return t.startDate&&t.endDate&&t.startDate===t.endDate&&t.startTime&&t.endTime?t.startTime<t.endTime:!0}),sW=ho({email:dn.email("Please enter a valid email address"),password:dn.min(6,"Password must be at least 6 characters")}),aW=ho({email:dn.email("Please enter a valid email address"),password:dn.min(6,"Password must be at least 6 characters"),confirmPassword:Ii().required("Please confirm your password")}).test("passwords-match","Passwords must match",function(t){return t.password===t.confirmPassword}),oW=ho({email:dn.email("Please enter a valid email address")}),lW=(t,e)=>{try{return e.validateSync(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(n){const i={};return n.inner.forEach(r=>{i[r.path]=r.message}),{isValid:!1,errors:i}}},cW={MACHINE:nW,PHASE:iW,ORDER:PR,BACKLOG:PR,OFF_TIME:rW,LOGIN:sW,SIGNUP:aW,FORGOT_PASSWORD:oW},NN=()=>{const t=C.useCallback((m,v)=>{const _=cW[v];if(!_)throw new Error(`Unknown schema type: ${v}`);return lW(m,_)},[]),e=C.useCallback(m=>t(m,"MACHINE"),[t]),n=C.useCallback(m=>t(m,"PHASE"),[t]),i=C.useCallback(m=>t(m,"ORDER"),[t]),r=C.useCallback(m=>t(m,"OFF_TIME"),[t]),s=C.useCallback((m,v)=>t(m,v),[t]),a=C.useCallback((m,v)=>{const _={};return v.some(S=>S.scheduled_machine_id===m)&&(_.general="Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),{isValid:Object.keys(_).length===0,errors:_}},[]),l=C.useCallback(m=>{const v={};return m?(m.quantity_completed>0&&(v.general="Cannot delete order that has started production"),m.scheduled_machine_id&&(v.general="Cannot delete scheduled order. Please unschedule first."),{isValid:Object.keys(v).length===0,errors:v}):(v.general="Order is required",{isValid:!1,errors:v})},[]),u=C.useCallback((m,v,_,b)=>{const S={};return m?v?!_||!b?(S.general="Start and end times are required",{isValid:!1,errors:S}):(v.status!=="ACTIVE"&&(S.general=`Machine ${v.machine_name} is not active`),m.scheduled_machine_id&&m.scheduled_machine_id!==v.id&&(S.general="Order is already scheduled on a different machine"),m.fase||(S.general="Order must have a production phase selected"),(!m.quantity||m.quantity<=0)&&(S.general="Order must have a valid quantity"),(!m.duration||m.duration<=0)&&(S.general="Order must have calculated duration"),{isValid:Object.keys(S).length===0,errors:S}):(S.general="Machine is required",{isValid:!1,errors:S}):(S.general="Order is required",{isValid:!1,errors:S})},[]),d=C.useCallback((m,v)=>{const _={};if(!m)return _.general="Please select a production phase",{isValid:!1,errors:_};v.department&&m.department!==v.department&&(_.general=`Selected phase is for ${m.department} department, but order is for ${v.department}`),v.work_center&&m.work_center!==v.work_center&&(_.general=`Selected phase is for ${m.work_center} work center, but order is for ${v.work_center}`);const b=n(m);return b.isValid||Object.assign(_,b.errors),{isValid:Object.keys(_).length===0,errors:_}},[n]),h=C.useCallback((m,v)=>{if(m.status!=="ACTIVE")return!1;const _=m.active_shifts||[];if(_.length===0)return!1;const b=v.getUTCHours();return _.some(x=>{switch(x){case"T1":return b>=6&&b<14;case"T2":return b>=14&&b<22;case"T3":return b>=22||b<6;default:return!1}})},[]),g=C.useCallback(m=>({name:m?.machine_name||"Unknown Machine",type:m?.machine_type||"Unknown Type",department:m?.department||"Unknown Department",workCenter:m?.work_center||"Unknown Work Center",status:m?.status||"UNKNOWN",isActive:m?.status==="ACTIVE"}),[]);return{validate:t,validateMachine:e,validatePhase:n,validateOrder:i,validateOffTime:r,validateAuth:s,validateMachineDeletion:a,validateOrderDeletion:l,validateOrderScheduling:u,validatePhaseSelection:d,isMachineAvailable:h,getMachineDisplayInfo:g}},ys=(t="")=>{const{showAlert:e,showConfirmDialog:n}=Tt(),i=C.useCallback((m,v={})=>{const{showUserAlert:_=!0,alertType:b="error",logError:S=!0,context:x=t,fallbackMessage:T="An unexpected error occurred"}=v,A=Fi(m,x);if(_){const O=A.userMessage||T;e(O,b)}return A},[t,e]),r=C.useCallback(async(m,v={})=>{const{showUserAlert:_=!0,alertType:b="error",context:S=t,fallbackMessage:x="Operation failed",retry:T=!1,maxRetries:A=3}=v;try{return T?await aR(m,A):await m()}catch(O){throw i(O,{showUserAlert:_,alertType:b,context:S,fallbackMessage:x})}},[t,i]),s=C.useCallback((m,v)=>{const _=i(m,{showUserAlert:!1});_.code===Ie.VALIDATION_ERROR?_.fieldErrors?Object.entries(_.fieldErrors).forEach(([b,S])=>{v(b,{type:"server",message:S})}):v("root",{type:"server",message:_.userMessage}):v("root",{type:"server",message:_.userMessage})},[i]),a=C.useCallback((m,v,_)=>{const b=i(m,{context:`${v} ${_}`,fallbackMessage:`Failed to ${v} ${_}`});return b.code===Ie.VALIDATION_ERROR?e(`Please check the ${_} information and try again.`,"error"):b.code===Ie.NOT_FOUND_ERROR?e(`${_} not found. It may have been deleted.`,"error"):b.code===Ie.AUTHORIZATION_ERROR&&e(`You don't have permission to ${v} ${_}.`,"error"),b},[i,e]),l=C.useCallback((m,v)=>{const _=i(m,{context:"Network Operation",fallbackMessage:"Network error occurred"});return _.code===Ie.NETWORK_ERROR&&v&&n("Network Error","Your connection seems to be unstable. Would you like to retry?",v,"warning"),_},[i,n]),u=C.useCallback(m=>{const v=i(m,{context:"Authentication",fallbackMessage:"Authentication error occurred"});return v.code===Ie.AUTHENTICATION_ERROR&&e("Please log in again to continue.","warning"),v},[i,e]),d=C.useCallback((m,v="")=>Z0(m,v||t),[t]),h=C.useCallback(m=>Fi(m,t).severity||"medium",[t]),g=C.useMemo(()=>Ie,[]);return{handleError:i,handleAsync:r,handleFormError:s,handleCrudError:a,handleNetworkError:l,handleAuthError:u,createSafeAsync:d,getErrorSeverity:h,errorTypes:g,withRetry:aR,safeAsync:Z0}},uW=(t,e,n=null)=>{const{phases:i}=Nc(),[r,s]=C.useState(""),[a,l]=C.useState(!1),[u,d]=C.useState(null),[h,g]=C.useState({}),m=C.useRef(null),v=C.useMemo(()=>!i||i.length===0?[]:t||e?i.filter(O=>(!t||O.department===t)&&(!e||O.work_center===e)).filter(O=>O.name.toLowerCase().includes(r.toLowerCase())):[],[r,t,e,i]);C.useEffect(()=>{if(n&&i&&i.length>0&&!u){const A=i.find(O=>O.id===n);A&&(d(A),s(A.name),g({v_stampa:A.v_stampa||null,t_setup_stampa:A.t_setup_stampa||null,costo_h_stampa:A.costo_h_stampa||null,v_conf:A.v_conf||null,t_setup_conf:A.t_setup_conf||null,costo_h_conf:A.costo_h_conf||null}))}},[n,i,u]),C.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const _=C.useCallback((A,O)=>{const D=O===""?null:parseFloat(O);g(N=>({...N,[A]:D}))},[]),b=C.useCallback((A,O,D)=>{O("fase",A.id),d(A),s(A.name),l(!1),D("fase"),g({v_stampa:A.v_stampa||null,t_setup_stampa:A.t_setup_stampa||null,costo_h_stampa:A.costo_h_stampa||null,v_conf:A.v_conf||null,t_setup_conf:A.t_setup_conf||null,costo_h_conf:A.costo_h_conf||null})},[]),S=C.useCallback(()=>{s(""),d(null),g({})},[]),x=C.useCallback(()=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>l(!1),150)},[]);return C.useMemo(()=>({phaseSearch:r,setPhaseSearch:s,isDropdownVisible:a,setIsDropdownVisible:l,selectedPhase:u,setSelectedPhase:d,filteredPhases:v,editablePhaseParams:h,setEditablePhaseParams:g,handlePhaseParamChange:_,handlePhaseSelect:b,resetPhaseData:S,handleBlur:x,blurTimeoutRef:m}),[r,a,u,v,h,g,_,b,S,x])};function dW(t,e){const n=xq(e),i=new Set;if(n===0||n===6){for(let l=0;l<24;l++)i.add(l.toString());return Array.from(i)}for(let l=0;l<24;l++)i.add(l.toString());const{work_center:r,department:s,active_shifts:a=[]}=t;return a.forEach(l=>{if(l==="T3"){i.clear();return}if(l==="T2")for(let u=6;u<22;u++)i.delete(u.toString());if(l==="T1"){if(r===mt.BUSTO_GAROLFO){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=14;u<18;u++)i.delete(u.toString())}else if(r===mt.ZANICA)if(s===en.PACKAGING){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}else{for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}}}),Array.from(i).sort((l,u)=>parseInt(l)-parseInt(u))}function fW(t,e){const n=[],i=VM(new Date(e,0,1)),r=E3(new Date(e,11,31));for(const s of t){let a=new Date(i);for(;!Eq(a,r);){const l=dW(s,a);l.length>0&&n.push({machine_id:s.id,date:Qn(a,"yyyy-MM-dd"),unavailable_hours:l}),a=xf(a,1)}}return n}const wt={machines:["machines"],machine:t=>["machines",t],machinesByWorkCenter:t=>["machines","workCenter",t],orders:["orders"],order:t=>["orders",t],phases:["phases"],phase:t=>["phases",t],machineAvailability:(t,e,n)=>["machineAvailability",t,e,n],machineAvailabilityForDate:(t,e)=>["machineAvailability",t,"date",e],machineAvailabilityForDateAllMachines:t=>["machineAvailability","allMachines",t]},pm=()=>bl({queryKey:wt.machines,queryFn:()=>_t.getMachines(),staleTime:120*1e3}),hW=t=>bl({queryKey:wt.machinesByWorkCenter(t),queryFn:()=>_t.getMachines().then(e=>t===mt.BOTH?e:e.filter(n=>n.work_center===t)),staleTime:120*1e3}),gW=()=>{const t=Bi();return la({mutationFn:async e=>{const n=await _t.addMachine(e);try{const i=new Date().getUTCFullYear(),r=fW([n],i);r.length>0&&await _t.bulkUpsertMachineAvailability(r),wl(`Machine "${n?.machine_name||"Unknown"}" added and calendar set successfully`)}catch(i){Mc(`Machine added, but failed to set calendar: ${i.message}`)}return n},onSuccess:e=>{t.invalidateQueries({queryKey:wt.machines}),t.invalidateQueries({queryKey:wt.machinesByWorkCenter()}),t.setQueryData(wt.machines,n=>n?[...n,e]:[e])}})},pW=()=>{const t=Bi();return la({mutationFn:({id:e,updates:n})=>_t.updateMachine(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:wt.machines}),t.invalidateQueries({queryKey:wt.machinesByWorkCenter()}),t.setQueryData(wt.machines,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(wt.machine(n),e),wl(`Machine "${e?.machine_name||"Unknown"}" updated successfully`)}})},mW=()=>{const t=Bi();return la({mutationFn:async e=>{const n=await _t.getMachines().then(i=>i.find(r=>r.id===e));return await _t.removeMachine(e),n},onSuccess:e=>{t.invalidateQueries({queryKey:wt.machines}),t.invalidateQueries({queryKey:wt.machinesByWorkCenter()}),t.setQueryData(wt.machines,n=>n?.filter(i=>i.id!==e.id)),t.removeQueries({queryKey:wt.machine(e.id)}),wl(`Machine "${e?.machine_name||"Unknown"}" deleted successfully`)}})},mm=()=>bl({queryKey:wt.orders,queryFn:()=>_t.getOdpOrders(),staleTime:60*1e3}),vW=t=>bl({queryKey:wt.order(t),queryFn:async()=>{try{return await _t.getOdpOrder(t)}catch{const i=(await _t.getOdpOrders()).find(r=>r.id===t);if(!i)throw new Error(`Order with id ${t} not found`);return i}},enabled:!!t,staleTime:60*1e3}),yW=()=>{const t=Bi();return la({mutationFn:e=>_t.addOdpOrder(e),onSuccess:e=>{t.invalidateQueries({queryKey:wt.orders}),t.setQueryData(wt.orders,n=>n?[e,...n]:[e])}})},bW=()=>{const t=Bi();return la({mutationFn:({id:e,updates:n})=>_t.updateOdpOrder(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:wt.orders}),t.setQueryData(wt.orders,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(wt.order(n),e)}})},_W=()=>{const t=Bi();return la({mutationFn:e=>_t.removeOdpOrder(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:wt.orders}),t.setQueryData(wt.orders,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:wt.order(n)})}})},Dw=()=>bl({queryKey:wt.phases,queryFn:()=>_t.getPhases(),staleTime:300*1e3}),wW=t=>bl({queryKey:wt.phase(t),queryFn:()=>_t.getPhases().then(e=>e.find(n=>n.id===t)),enabled:!!t,staleTime:300*1e3}),SW=()=>{const t=Bi();return la({mutationFn:e=>_t.addPhase(e),onSuccess:e=>{t.invalidateQueries({queryKey:wt.phases}),t.setQueryData(wt.phases,n=>n?[...n,e]:[e])}})},xW=()=>{const t=Bi();return la({mutationFn:({id:e,updates:n})=>_t.updatePhase(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:wt.phases}),t.setQueryData(wt.phases,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(wt.phase(n),e)}})},EW=()=>{const t=Bi();return la({mutationFn:e=>_t.removePhase(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:wt.phases}),t.setQueryData(wt.phases,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:wt.phase(n)})}})},coe=t=>bl({queryKey:wt.machineAvailabilityForDateAllMachines(t),queryFn:()=>_t.getMachineAvailabilityForDateAllMachines(t),enabled:!!t,staleTime:30*1e3}),CW=()=>{const{data:t,isLoading:e,error:n}=pm(),{data:i,isLoading:r,error:s}=mm(),{data:a,isLoading:l,error:u}=Dw(),{setMachines:d}=Er(),{setOdpOrders:h}=un(),{setPhases:g}=Nc();return C.useEffect(()=>{t&&!e&&!n&&d(t)},[t,e,n,d]),C.useEffect(()=>{i&&!r&&!s&&h(i)},[i,r,s,h]),C.useEffect(()=>{a&&!l&&!u&&g(a)},[a,l,u,g]),{isLoading:e||r||l,errors:{machines:n,orders:s,phases:u}}};function TW(){const{selectedWorkCenter:t,showConfirmDialog:e}=Tt(),n=vs(),{data:i=[],isLoading:r,error:s}=hW(t),a=mW(),{handleAsync:l}=ys("MachineryListPage");if(s)return E.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle macchine: ",s.message]});const u=C.useMemo(()=>[{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Stato",accessorKey:"status"},{header:"Larghezza Min (mm)",accessorKey:"min_web_width"},{header:"Larghezza Max (mm)",accessorKey:"max_web_width"},{header:"Altezza Min (mm)",accessorKey:"min_bag_height"},{header:"Altezza Max (mm)",accessorKey:"max_bag_height"},{header:"Velocit Std",accessorKey:"standard_speed"},{header:"Setup (h)",accessorKey:"setup_time_standard"},{header:"Cambio Colore (h)",accessorKey:"changeover_color"},{header:"Cambio Materiale (h)",accessorKey:"changeover_material"},{header:"Turni Attivi",accessorKey:"active_shifts",cell:g=>Array.isArray(g.getValue())?g.getValue().join(", "):""},{header:"Calendario",accessorKey:"id",cell:g=>E.jsx(wi,{to:`/machinery/${g.getValue()}/calendar`,className:"inline-flex items-center px-1 py-1 border border-gray-300 rounded shadow-sm text-[10px] font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Visualizza Calendario"})}],[]),d=g=>{n(`/machinery/${g.id}/edit`)},h=async g=>{e("Elimina Macchina",`Sei sicuro di voler eliminare "${g.machine_name}"? Questa azione non pu essere annullata.`,async()=>{await l(async()=>{await a.mutateAsync(g.id)},{context:"Delete Machine",fallbackMessage:"Eliminazione macchina fallita"})},"danger")};return r?E.jsx("div",{children:"Caricamento dati macchine..."}):t?E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border min-w-0",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsx(Rw,{columns:u,data:i,onEditRow:d,onDeleteRow:h})})}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle macchine."})}var Cf=t=>t.type==="checkbox",nl=t=>t instanceof Date,Li=t=>t==null;const IN=t=>typeof t=="object";var Mn=t=>!Li(t)&&!Array.isArray(t)&&IN(t)&&!nl(t),AW=t=>Mn(t)&&t.target?Cf(t.target)?t.target.checked:t.target.value:t,RW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DW=(t,e)=>t.has(RW(e)),OW=t=>{const e=t.constructor&&t.constructor.prototype;return Mn(e)&&e.hasOwnProperty("isPrototypeOf")},Ow=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function qn(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Ow&&(t instanceof Blob||i))&&(n||Mn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!OW(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=qn(t[r]));else return t;return e}var vm=t=>/^\w*$/.test(t),_n=t=>t===void 0,kw=t=>Array.isArray(t)?t.filter(Boolean):[],Mw=t=>kw(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(t,e,n)=>{if(!e||!Mn(t))return n;const i=(vm(e)?[e]:Mw(e)).reduce((r,s)=>Li(r)?r:r[s],t);return _n(i)||i===t?_n(t[e])?n:t[e]:i},ls=t=>typeof t=="boolean",an=(t,e,n)=>{let i=-1;const r=vm(e)?[e]:Mw(e),s=r.length,a=s-1;for(;++i<s;){const l=r[i];let u=n;if(i!==a){const d=t[l];u=Mn(d)||Array.isArray(d)?d:isNaN(+r[i+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const jR={BLUR:"blur",FOCUS_OUT:"focusout"},Fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kW=ae.createContext(null);kW.displayName="HookFormContext";var MW=(t,e,n,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(r,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Fr.all&&(e._proxyFormState[a]=!i||Fr.all),t[a]}});return r};const NW=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;var er=t=>typeof t=="string",IW=(t,e,n,i,r)=>er(t)?(i&&e.watch.add(t),ke(n,t,r)):Array.isArray(t)?t.map(s=>(i&&e.watch.add(s),ke(n,s))):(i&&(e.watchAll=!0),n),d_=t=>Li(t)||!IN(t);function Va(t,e,n=new WeakSet){if(d_(t)||d_(e))return t===e;if(nl(t)&&nl(e))return t.getTime()===e.getTime();const i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of i){const a=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const l=e[s];if(nl(a)&&nl(l)||Mn(a)&&Mn(l)||Array.isArray(a)&&Array.isArray(l)?!Va(a,l,n):a!==l)return!1}}return!0}var PW=(t,e,n,i,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:r||!0}}:{},Pd=t=>Array.isArray(t)?t:[t],LR=()=>{let t=[];return{get observers(){return t},next:r=>{for(const s of t)s.next&&s.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(s=>s!==r)}}),unsubscribe:()=>{t=[]}}};function PN(t,e){const n={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i],s=e[i];if(r&&Mn(r)&&s){const a=PN(r,s);Mn(a)&&(n[i]=a)}else t[i]&&(n[i]=s)}return n}var Pi=t=>Mn(t)&&!Object.keys(t).length,Nw=t=>t.type==="file",Ur=t=>typeof t=="function",Sp=t=>{if(!Ow)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},jN=t=>t.type==="select-multiple",Iw=t=>t.type==="radio",jW=t=>Iw(t)||Cf(t),Fb=t=>Sp(t)&&t.isConnected;function LW(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=_n(t)?i++:t[e[i++]];return t}function FW(t){for(const e in t)if(t.hasOwnProperty(e)&&!_n(t[e]))return!1;return!0}function Dn(t,e){const n=Array.isArray(e)?e:vm(e)?[e]:Mw(e),i=n.length===1?t:LW(t,n),r=n.length-1,s=n[r];return i&&delete i[s],r!==0&&(Mn(i)&&Pi(i)||Array.isArray(i)&&FW(i))&&Dn(t,n.slice(0,-1)),t}var UW=t=>{for(const e in t)if(Ur(t[e]))return!0;return!1};function LN(t){return Array.isArray(t)||Mn(t)&&!UW(t)}function f_(t,e={}){for(const n in t)LN(t[n])?(e[n]=Array.isArray(t[n])?[]:{},f_(t[n],e[n])):_n(t[n])||(e[n]=!0);return e}function Dc(t,e,n){n||(n=f_(e));for(const i in t)LN(t[i])?_n(e)||d_(n[i])?n[i]=f_(t[i],Array.isArray(t[i])?[]:{}):Dc(t[i],Li(e)?{}:e[i],n[i]):n[i]=!Va(t[i],e[i]);return n}const FR={value:!1,isValid:!1},UR={value:!0,isValid:!0};var FN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_n(t[0].attributes.value)?_n(t[0].value)||t[0].value===""?UR:{value:t[0].value,isValid:!0}:UR:FR}return FR},UN=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>_n(t)?t:e?t===""?NaN:t&&+t:n&&er(t)?new Date(t):i?i(t):t;const zR={isValid:!1,value:null};var zN=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,zR):zR;function HR(t){const e=t.ref;return Nw(e)?e.files:Iw(e)?zN(t.refs).value:jN(e)?[...e.selectedOptions].map(({value:n})=>n):Cf(e)?FN(t.refs).value:UN(_n(e.value)?t.ref.value:e.value,t)}var zW=(t,e,n,i)=>{const r={};for(const s of t){const a=ke(e,s);a&&an(r,s,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:i}},xp=t=>t instanceof RegExp,yd=t=>_n(t)?t:xp(t)?t.source:Mn(t)?xp(t.value)?t.value.source:t.value:t,BR=t=>({isOnSubmit:!t||t===Fr.onSubmit,isOnBlur:t===Fr.onBlur,isOnChange:t===Fr.onChange,isOnAll:t===Fr.all,isOnTouch:t===Fr.onTouched});const VR="AsyncFunction";var HW=t=>!!t&&!!t.validate&&!!(Ur(t.validate)&&t.validate.constructor.name===VR||Mn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===VR)),BW=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),$R=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const jd=(t,e,n,i)=>{for(const r of n||Object.keys(t)){const s=ke(t,r);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!i)return!0;if(a.ref&&e(a.ref,a.name)&&!i)return!0;if(jd(l,e))break}else if(Mn(l)&&jd(l,e))break}}};function qR(t,e,n){const i=ke(t,n);if(i||vm(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const s=r.join("."),a=ke(e,s),l=ke(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};r.pop()}return{name:n}}var VW=(t,e,n,i)=>{n(t);const{name:r,...s}=t;return Pi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!i||Fr.all))},$W=(t,e,n)=>!t||!e||t===e||Pd(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),qW=(t,e,n,i,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?i.isOnBlur:r.isOnBlur)?!t:(n?i.isOnChange:r.isOnChange)?t:!0,WW=(t,e)=>!kw(ke(t,e)).length&&Dn(t,e),GW=(t,e,n)=>{const i=Pd(ke(t,n));return an(i,"root",e[n]),an(t,n,i),t};function WR(t,e,n="validate"){if(er(t)||Array.isArray(t)&&t.every(er)||ls(t)&&!t)return{type:n,message:er(t)?t:"",ref:e}}var wc=t=>Mn(t)&&!xp(t)?t:{value:t,message:""},GR=async(t,e,n,i,r,s)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:h,min:g,max:m,pattern:v,validate:_,name:b,valueAsNumber:S,mount:x}=t._f,T=ke(n,b);if(!x||e.has(b))return{};const A=l?l[0]:a,O=K=>{r&&A.reportValidity&&(A.setCustomValidity(ls(K)?"":K||""),A.reportValidity())},D={},N=Iw(a),M=Cf(a),k=N||M,P=(S||Nw(a))&&_n(a.value)&&_n(T)||Sp(a)&&a.value===""||T===""||Array.isArray(T)&&!T.length,z=PW.bind(null,b,i,D),B=(K,ne,ue,ge=Hs.maxLength,L=Hs.minLength)=>{const q=K?ne:ue;D[b]={type:K?ge:L,message:q,ref:a,...z(K?ge:L,q)}};if(s?!Array.isArray(T)||!T.length:u&&(!k&&(P||Li(T))||ls(T)&&!T||M&&!FN(l).isValid||N&&!zN(l).isValid)){const{value:K,message:ne}=er(u)?{value:!!u,message:u}:wc(u);if(K&&(D[b]={type:Hs.required,message:ne,ref:A,...z(Hs.required,ne)},!i))return O(ne),D}if(!P&&(!Li(g)||!Li(m))){let K,ne;const ue=wc(m),ge=wc(g);if(!Li(T)&&!isNaN(T)){const L=a.valueAsNumber||T&&+T;Li(ue.value)||(K=L>ue.value),Li(ge.value)||(ne=L<ge.value)}else{const L=a.valueAsDate||new Date(T),q=ve=>new Date(new Date().toDateString()+" "+ve),$=a.type=="time",re=a.type=="week";er(ue.value)&&T&&(K=$?q(T)>q(ue.value):re?T>ue.value:L>new Date(ue.value)),er(ge.value)&&T&&(ne=$?q(T)<q(ge.value):re?T<ge.value:L<new Date(ge.value))}if((K||ne)&&(B(!!K,ue.message,ge.message,Hs.max,Hs.min),!i))return O(D[b].message),D}if((d||h)&&!P&&(er(T)||s&&Array.isArray(T))){const K=wc(d),ne=wc(h),ue=!Li(K.value)&&T.length>+K.value,ge=!Li(ne.value)&&T.length<+ne.value;if((ue||ge)&&(B(ue,K.message,ne.message),!i))return O(D[b].message),D}if(v&&!P&&er(T)){const{value:K,message:ne}=wc(v);if(xp(K)&&!T.match(K)&&(D[b]={type:Hs.pattern,message:ne,ref:a,...z(Hs.pattern,ne)},!i))return O(ne),D}if(_){if(Ur(_)){const K=await _(T,n),ne=WR(K,A);if(ne&&(D[b]={...ne,...z(Hs.validate,ne.message)},!i))return O(ne.message),D}else if(Mn(_)){let K={};for(const ne in _){if(!Pi(K)&&!i)break;const ue=WR(await _[ne](T,n),A,ne);ue&&(K={...ue,...z(ne,ue.message)},O(ue.message),i&&(D[b]=K))}if(!Pi(K)&&(D[b]={ref:A,...K},!i))return D}}return O(!0),D};const YW={mode:Fr.onSubmit,reValidateMode:Fr.onChange,shouldFocusError:!0};function KW(t={}){let e={...YW,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ur(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=Mn(e.defaultValues)||Mn(e.values)?qn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:qn(r),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const m={array:LR(),state:LR()},v=e.criteriaMode===Fr.all,_=j=>W=>{clearTimeout(d),d=setTimeout(j,W)},b=async j=>{if(!e.disabled&&(h.isValid||g.isValid||j)){const W=e.resolver?Pi((await M()).errors):await P(i,!0);W!==n.isValid&&m.state.next({isValid:W})}},S=(j,W)=>{!e.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&((j||Array.from(l.mount)).forEach(Q=>{Q&&(W?an(n.validatingFields,Q,W):Dn(n.validatingFields,Q))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Pi(n.validatingFields)}))},x=(j,W=[],Q,Y,te=!0,de=!0)=>{if(Y&&Q&&!e.disabled){if(a.action=!0,de&&Array.isArray(ke(i,j))){const ye=Q(ke(i,j),Y.argA,Y.argB);te&&an(i,j,ye)}if(de&&Array.isArray(ke(n.errors,j))){const ye=Q(ke(n.errors,j),Y.argA,Y.argB);te&&an(n.errors,j,ye),WW(n.errors,j)}if((h.touchedFields||g.touchedFields)&&de&&Array.isArray(ke(n.touchedFields,j))){const ye=Q(ke(n.touchedFields,j),Y.argA,Y.argB);te&&an(n.touchedFields,j,ye)}(h.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Dc(r,s)),m.state.next({name:j,isDirty:B(j,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else an(s,j,W)},T=(j,W)=>{an(n.errors,j,W),m.state.next({errors:n.errors})},A=j=>{n.errors=j,m.state.next({errors:n.errors,isValid:!1})},O=(j,W,Q,Y)=>{const te=ke(i,j);if(te){const de=ke(s,j,_n(Q)?ke(r,j):Q);_n(de)||Y&&Y.defaultChecked||W?an(s,j,W?de:HR(te._f)):ue(j,de),a.mount&&b()}},D=(j,W,Q,Y,te)=>{let de=!1,ye=!1;const _e={name:j};if(!e.disabled){if(!Q||Y){(h.isDirty||g.isDirty)&&(ye=n.isDirty,n.isDirty=_e.isDirty=B(),de=ye!==_e.isDirty);const Se=Va(ke(r,j),W);ye=!!ke(n.dirtyFields,j),Se?Dn(n.dirtyFields,j):an(n.dirtyFields,j,!0),_e.dirtyFields=n.dirtyFields,de=de||(h.dirtyFields||g.dirtyFields)&&ye!==!Se}if(Q){const Se=ke(n.touchedFields,j);Se||(an(n.touchedFields,j,Q),_e.touchedFields=n.touchedFields,de=de||(h.touchedFields||g.touchedFields)&&Se!==Q)}de&&te&&m.state.next(_e)}return de?_e:{}},N=(j,W,Q,Y)=>{const te=ke(n.errors,j),de=(h.isValid||g.isValid)&&ls(W)&&n.isValid!==W;if(e.delayError&&Q?(u=_(()=>T(j,Q)),u(e.delayError)):(clearTimeout(d),u=null,Q?an(n.errors,j,Q):Dn(n.errors,j)),(Q?!Va(te,Q):te)||!Pi(Y)||de){const ye={...Y,...de&&ls(W)?{isValid:W}:{},errors:n.errors,name:j};n={...n,...ye},m.state.next(ye)}},M=async j=>{S(j,!0);const W=await e.resolver(s,e.context,zW(j||l.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return S(j),W},k=async j=>{const{errors:W}=await M(j);if(j)for(const Q of j){const Y=ke(W,Q);Y?an(n.errors,Q,Y):Dn(n.errors,Q)}else n.errors=W;return W},P=async(j,W,Q={valid:!0})=>{for(const Y in j){const te=j[Y];if(te){const{_f:de,...ye}=te;if(de){const _e=l.array.has(de.name),Se=te._f&&HW(te._f);Se&&h.validatingFields&&S([de.name],!0);const Ne=await GR(te,l.disabled,s,v,e.shouldUseNativeValidation&&!W,_e);if(Se&&h.validatingFields&&S([de.name]),Ne[de.name]&&(Q.valid=!1,W))break;!W&&(ke(Ne,de.name)?_e?GW(n.errors,Ne,de.name):an(n.errors,de.name,Ne[de.name]):Dn(n.errors,de.name))}!Pi(ye)&&await P(ye,W,Q)}}return Q.valid},z=()=>{for(const j of l.unMount){const W=ke(i,j);W&&(W._f.refs?W._f.refs.every(Q=>!Fb(Q)):!Fb(W._f.ref))&&ce(j)}l.unMount=new Set},B=(j,W)=>!e.disabled&&(j&&W&&an(s,j,W),!Va(ve(),r)),K=(j,W,Q)=>IW(j,l,{...a.mount?s:_n(W)?r:er(j)?{[j]:W}:W},Q,W),ne=j=>kw(ke(a.mount?s:r,j,e.shouldUnregister?ke(r,j,[]):[])),ue=(j,W,Q={})=>{const Y=ke(i,j);let te=W;if(Y){const de=Y._f;de&&(!de.disabled&&an(s,j,UN(W,de)),te=Sp(de.ref)&&Li(W)?"":W,jN(de.ref)?[...de.ref.options].forEach(ye=>ye.selected=te.includes(ye.value)):de.refs?Cf(de.ref)?de.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(te)?ye.checked=!!te.find(_e=>_e===ye.value):ye.checked=te===ye.value||!!te)}):de.refs.forEach(ye=>ye.checked=ye.value===te):Nw(de.ref)?de.ref.value="":(de.ref.value=te,de.ref.type||m.state.next({name:j,values:qn(s)})))}(Q.shouldDirty||Q.shouldTouch)&&D(j,te,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&re(j)},ge=(j,W,Q)=>{for(const Y in W){if(!W.hasOwnProperty(Y))return;const te=W[Y],de=j+"."+Y,ye=ke(i,de);(l.array.has(j)||Mn(te)||ye&&!ye._f)&&!nl(te)?ge(de,te,Q):ue(de,te,Q)}},L=(j,W,Q={})=>{const Y=ke(i,j),te=l.array.has(j),de=qn(W);an(s,j,de),te?(m.array.next({name:j,values:qn(s)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&Q.shouldDirty&&m.state.next({name:j,dirtyFields:Dc(r,s),isDirty:B(j,de)})):Y&&!Y._f&&!Li(de)?ge(j,de,Q):ue(j,de,Q),$R(j,l)&&m.state.next({...n,name:j}),m.state.next({name:a.mount?j:void 0,values:qn(s)})},q=async j=>{a.mount=!0;const W=j.target;let Q=W.name,Y=!0;const te=ke(i,Q),de=Se=>{Y=Number.isNaN(Se)||nl(Se)&&isNaN(Se.getTime())||Va(Se,ke(s,Q,Se))},ye=BR(e.mode),_e=BR(e.reValidateMode);if(te){let Se,Ne;const Je=W.type?HR(te._f):AW(j),Ge=j.type===jR.BLUR||j.type===jR.FOCUS_OUT,ft=!BW(te._f)&&!e.resolver&&!ke(n.errors,Q)&&!te._f.deps||qW(Ge,ke(n.touchedFields,Q),n.isSubmitted,_e,ye),st=$R(Q,l,Ge);an(s,Q,Je),Ge?(!W||!W.readOnly)&&(te._f.onBlur&&te._f.onBlur(j),u&&u(0)):te._f.onChange&&te._f.onChange(j);const Ht=D(Q,Je,Ge),at=!Pi(Ht)||st;if(!Ge&&m.state.next({name:Q,type:j.type,values:qn(s)}),ft)return(h.isValid||g.isValid)&&(e.mode==="onBlur"?Ge&&b():Ge||b()),at&&m.state.next({name:Q,...st?{}:Ht});if(!Ge&&st&&m.state.next({...n}),e.resolver){const{errors:qe}=await M([Q]);if(de(Je),Y){const vn=qR(n.errors,i,Q),nt=qR(qe,i,vn.name||Q);Se=nt.error,Q=nt.name,Ne=Pi(qe)}}else S([Q],!0),Se=(await GR(te,l.disabled,s,v,e.shouldUseNativeValidation))[Q],S([Q]),de(Je),Y&&(Se?Ne=!1:(h.isValid||g.isValid)&&(Ne=await P(i,!0)));Y&&(te._f.deps&&(!Array.isArray(te._f.deps)||te._f.deps.length>0)&&re(te._f.deps),N(Q,Ne,Se,Ht))}},$=(j,W)=>{if(ke(n.errors,W)&&j.focus)return j.focus(),1},re=async(j,W={})=>{let Q,Y;const te=Pd(j);if(e.resolver){const de=await k(_n(j)?j:te);Q=Pi(de),Y=j?!te.some(ye=>ke(de,ye)):Q}else j?(Y=(await Promise.all(te.map(async de=>{const ye=ke(i,de);return await P(ye&&ye._f?{[de]:ye}:ye)}))).every(Boolean),!(!Y&&!n.isValid)&&b()):Y=Q=await P(i);return m.state.next({...!er(j)||(h.isValid||g.isValid)&&Q!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:Q}:{},errors:n.errors}),W.shouldFocus&&!Y&&jd(i,$,j?te:l.mount),Y},ve=(j,W)=>{let Q={...a.mount?s:r};return W&&(Q=PN(W.dirtyFields?n.dirtyFields:n.touchedFields,Q)),_n(j)?Q:er(j)?ke(Q,j):j.map(Y=>ke(Q,Y))},U=(j,W)=>({invalid:!!ke((W||n).errors,j),isDirty:!!ke((W||n).dirtyFields,j),error:ke((W||n).errors,j),isValidating:!!ke(n.validatingFields,j),isTouched:!!ke((W||n).touchedFields,j)}),J=j=>{j&&Pd(j).forEach(W=>Dn(n.errors,W)),m.state.next({errors:j?n.errors:{}})},ee=(j,W,Q)=>{const Y=(ke(i,j,{_f:{}})._f||{}).ref,te=ke(n.errors,j)||{},{ref:de,message:ye,type:_e,...Se}=te;an(n.errors,j,{...Se,...W,ref:Y}),m.state.next({name:j,errors:n.errors,isValid:!1}),Q&&Q.shouldFocus&&Y&&Y.focus&&Y.focus()},le=(j,W)=>Ur(j)?m.state.subscribe({next:Q=>"values"in Q&&j(K(void 0,W),Q)}):K(j,W,!0),be=j=>m.state.subscribe({next:W=>{$W(j.name,W.name,j.exact)&&VW(W,j.formState||h,Dt,j.reRenderRoot)&&j.callback({values:{...s},...n,...W,defaultValues:r})}}).unsubscribe,we=j=>(a.mount=!0,g={...g,...j.formState},be({...j,formState:g})),ce=(j,W={})=>{for(const Q of j?Pd(j):l.mount)l.mount.delete(Q),l.array.delete(Q),W.keepValue||(Dn(i,Q),Dn(s,Q)),!W.keepError&&Dn(n.errors,Q),!W.keepDirty&&Dn(n.dirtyFields,Q),!W.keepTouched&&Dn(n.touchedFields,Q),!W.keepIsValidating&&Dn(n.validatingFields,Q),!e.shouldUnregister&&!W.keepDefaultValue&&Dn(r,Q);m.state.next({values:qn(s)}),m.state.next({...n,...W.keepDirty?{isDirty:B()}:{}}),!W.keepIsValid&&b()},me=({disabled:j,name:W})=>{(ls(j)&&a.mount||j||l.disabled.has(W))&&(j?l.disabled.add(W):l.disabled.delete(W))},Te=(j,W={})=>{let Q=ke(i,j);const Y=ls(W.disabled)||ls(e.disabled);return an(i,j,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:j}},name:j,mount:!0,...W}}),l.mount.add(j),Q?me({disabled:ls(W.disabled)?W.disabled:e.disabled,name:j}):O(j,!0,W.value),{...Y?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:yd(W.min),max:yd(W.max),minLength:yd(W.minLength),maxLength:yd(W.maxLength),pattern:yd(W.pattern)}:{},name:j,onChange:q,onBlur:q,ref:te=>{if(te){Te(j,W),Q=ke(i,j);const de=_n(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,ye=jW(de),_e=Q._f.refs||[];if(ye?_e.find(Se=>Se===de):de===Q._f.ref)return;an(i,j,{_f:{...Q._f,...ye?{refs:[..._e.filter(Fb),de,...Array.isArray(ke(r,j))?[{}]:[]],ref:{type:de.type,name:j}}:{ref:de}}}),O(j,!1,void 0,de)}else Q=ke(i,j,{}),Q._f&&(Q._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(DW(l.array,j)&&a.action)&&l.unMount.add(j)}}},Ce=()=>e.shouldFocusError&&jd(i,$,l.mount),je=j=>{ls(j)&&(m.state.next({disabled:j}),jd(i,(W,Q)=>{const Y=ke(i,Q);Y&&(W.disabled=Y._f.disabled||j,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(te=>{te.disabled=Y._f.disabled||j}))},0,!1))},ze=(j,W)=>async Q=>{let Y;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let te=qn(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:de,values:ye}=await M();n.errors=de,te=qn(ye)}else await P(i);if(l.disabled.size)for(const de of l.disabled)Dn(te,de);if(Dn(n.errors,"root"),Pi(n.errors)){m.state.next({errors:{}});try{await j(te,Q)}catch(de){Y=de}}else W&&await W({...n.errors},Q),Ce(),setTimeout(Ce);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pi(n.errors)&&!Y,submitCount:n.submitCount+1,errors:n.errors}),Y)throw Y},zt=(j,W={})=>{ke(i,j)&&(_n(W.defaultValue)?L(j,qn(ke(r,j))):(L(j,W.defaultValue),an(r,j,qn(W.defaultValue))),W.keepTouched||Dn(n.touchedFields,j),W.keepDirty||(Dn(n.dirtyFields,j),n.isDirty=W.defaultValue?B(j,qn(ke(r,j))):B()),W.keepError||(Dn(n.errors,j),h.isValid&&b()),m.state.next({...n}))},xe=(j,W={})=>{const Q=j?qn(j):r,Y=qn(Q),te=Pi(j),de=te?r:Y;if(W.keepDefaultValues||(r=Q),!W.keepValues){if(W.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(Dc(r,s))]);for(const _e of Array.from(ye))ke(n.dirtyFields,_e)?an(de,_e,ke(s,_e)):L(_e,ke(de,_e))}else{if(Ow&&_n(j))for(const ye of l.mount){const _e=ke(i,ye);if(_e&&_e._f){const Se=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Sp(Se)){const Ne=Se.closest("form");if(Ne){Ne.reset();break}}}}if(W.keepFieldsRef)for(const ye of l.mount)L(ye,ke(de,ye));else i={}}s=e.shouldUnregister?W.keepDefaultValues?qn(r):{}:qn(de),m.array.next({values:{...de}}),m.state.next({values:{...de}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!W.keepIsValid||!!W.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:te?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!Va(j,r)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:te?{}:W.keepDirtyValues?W.keepDefaultValues&&s?Dc(r,s):n.dirtyFields:W.keepDefaultValues&&j?Dc(r,j):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},Be=(j,W)=>xe(Ur(j)?j(s):j,W),Xe=(j,W={})=>{const Q=ke(i,j),Y=Q&&Q._f;if(Y){const te=Y.refs?Y.refs[0]:Y.ref;te.focus&&(te.focus(),W.shouldSelect&&Ur(te.select)&&te.select())}},Dt=j=>{n={...n,...j}},Ze={control:{register:Te,unregister:ce,getFieldState:U,handleSubmit:ze,setError:ee,_subscribe:be,_runSchema:M,_focusError:Ce,_getWatch:K,_getDirty:B,_setValid:b,_setFieldArray:x,_setDisabledField:me,_setErrors:A,_getFieldArray:ne,_reset:xe,_resetDefaultValues:()=>Ur(e.defaultValues)&&e.defaultValues().then(j=>{Be(j,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:je,_subjects:m,_proxyFormState:h,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return r},get _names(){return l},set _names(j){l=j},get _formState(){return n},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:we,trigger:re,register:Te,handleSubmit:ze,watch:le,setValue:L,getValues:ve,reset:Be,resetField:zt,clearErrors:J,unregister:ce,setError:ee,setFocus:Xe,getFieldState:U};return{...Ze,formControl:Ze}}function QW(t={}){const e=ae.useRef(void 0),n=ae.useRef(void 0),[i,r]=ae.useState({isDirty:!1,isValidating:!1,isLoading:Ur(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ur(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!Ur(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=KW(t);e.current={...l,formState:i}}const s=e.current.control;return s._options=t,NW(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),ae.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ae.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),ae.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),ae.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),ae.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==i.isDirty&&s._subjects.state.next({isDirty:a})}},[s,i.isDirty]),ae.useEffect(()=>{t.values&&!Va(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,r(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),ae.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=MW(i,s),e.current}function tn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function XW(t,e){const n=C.createContext(e),i=s=>{const{children:a,...l}=s,u=C.useMemo(()=>l,Object.values(l));return E.jsx(n.Provider,{value:u,children:a})};i.displayName=t+"Provider";function r(s){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[i,r]}function ym(t,e=[]){let n=[];function i(s,a){const l=C.createContext(a),u=n.length;n=[...n,a];const d=g=>{const{scope:m,children:v,..._}=g,b=m?.[t]?.[u]||l,S=C.useMemo(()=>_,Object.values(_));return E.jsx(b.Provider,{value:S,children:v})};d.displayName=s+"Provider";function h(g,m){const v=m?.[t]?.[u]||l,_=C.useContext(v);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[d,h]}const r=()=>{const s=n.map(a=>C.createContext(a));return function(l){const u=l?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return r.scopeName=t,[i,ZW(r,...e)]}function ZW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=i.reduce((l,{useScope:u,scopeName:d})=>{const g=u(s)[`__scope${d}`];return{...l,...g}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var gi=globalThis?.document?C.useLayoutEffect:()=>{},JW=Z1[" useId ".trim().toString()]||(()=>{}),eG=0;function zc(t){const[e,n]=C.useState(JW());return gi(()=>{n(i=>i??String(eG++))},[t]),e?`radix-${e}`:""}var tG=Z1[" useInsertionEffect ".trim().toString()]||gi;function h_({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,a]=nG({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:r;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const g=h.current;g!==l&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,i])}const d=C.useCallback(h=>{if(l){const g=iG(h)?h(t):h;g!==t&&a.current?.(g)}else s(h)},[l,t,s,a]);return[u,d]}function nG({defaultProp:t,onChange:e}){const[n,i]=C.useState(t),r=C.useRef(n),s=C.useRef(e);return tG(()=>{s.current=e},[e]),C.useEffect(()=>{r.current!==n&&(s.current?.(n),r.current=n)},[n,r]),[n,i,s]}function iG(t){return typeof t=="function"}var rG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=rG.reduce((t,e)=>{const n=Qc(`Primitive.${e}`),i=C.forwardRef((r,s)=>{const{asChild:a,...l}=r,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function sG(t,e){t&&tr.flushSync(()=>t.dispatchEvent(e))}function dl(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function aG(t,e=globalThis?.document){const n=dl(t);C.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var oG="DismissableLayer",g_="dismissableLayer.update",lG="dismissableLayer.pointerDownOutside",cG="dismissableLayer.focusOutside",YR,HN=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pw=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,d=C.useContext(HN),[h,g]=C.useState(null),m=h?.ownerDocument??globalThis?.document,[,v]=C.useState({}),_=Sn(e,M=>g(M)),b=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(S),T=h?b.indexOf(h):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,O=T>=x,D=fG(M=>{const k=M.target,P=[...d.branches].some(z=>z.contains(k));!O||P||(r?.(M),a?.(M),M.defaultPrevented||l?.())},m),N=hG(M=>{const k=M.target;[...d.branches].some(z=>z.contains(k))||(s?.(M),a?.(M),M.defaultPrevented||l?.())},m);return aG(M=>{T===d.layers.size-1&&(i?.(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},m),C.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(YR=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),KR(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=YR)}},[h,m,n,d]),C.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),KR())},[h,d]),C.useEffect(()=>{const M=()=>v({});return document.addEventListener(g_,M),()=>document.removeEventListener(g_,M)},[]),E.jsx(qt.div,{...u,ref:_,style:{pointerEvents:A?O?"auto":"none":void 0,...t.style},onFocusCapture:tn(t.onFocusCapture,N.onFocusCapture),onBlurCapture:tn(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:tn(t.onPointerDownCapture,D.onPointerDownCapture)})});Pw.displayName=oG;var uG="DismissableLayerBranch",dG=C.forwardRef((t,e)=>{const n=C.useContext(HN),i=C.useRef(null),r=Sn(e,i);return C.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(qt.div,{...t,ref:r})});dG.displayName=uG;function fG(t,e=globalThis?.document){const n=dl(t),i=C.useRef(!1),r=C.useRef(()=>{});return C.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let u=function(){BN(lG,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=u,e.addEventListener("click",r.current,{once:!0})):u()}else e.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function hG(t,e=globalThis?.document){const n=dl(t),i=C.useRef(!1);return C.useEffect(()=>{const r=s=>{s.target&&!i.current&&BN(cG,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function KR(){const t=new CustomEvent(g_);document.dispatchEvent(t)}function BN(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?sG(r,s):r.dispatchEvent(s)}var Ub="focusScope.autoFocusOnMount",zb="focusScope.autoFocusOnUnmount",QR={bubbles:!1,cancelable:!0},gG="FocusScope",jw=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...a}=t,[l,u]=C.useState(null),d=dl(r),h=dl(s),g=C.useRef(null),m=Sn(e,b=>u(b)),v=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(i){let b=function(A){if(v.paused||!l)return;const O=A.target;l.contains(O)?g.current=O:Ua(g.current,{select:!0})},S=function(A){if(v.paused||!l)return;const O=A.relatedTarget;O!==null&&(l.contains(O)||Ua(g.current,{select:!0}))},x=function(A){if(document.activeElement===document.body)for(const D of A)D.removedNodes.length>0&&Ua(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const T=new MutationObserver(x);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),T.disconnect()}}},[i,l,v.paused]),C.useEffect(()=>{if(l){ZR.add(v);const b=document.activeElement;if(!l.contains(b)){const x=new CustomEvent(Ub,QR);l.addEventListener(Ub,d),l.dispatchEvent(x),x.defaultPrevented||(pG(_G(VN(l)),{select:!0}),document.activeElement===b&&Ua(l))}return()=>{l.removeEventListener(Ub,d),setTimeout(()=>{const x=new CustomEvent(zb,QR);l.addEventListener(zb,h),l.dispatchEvent(x),x.defaultPrevented||Ua(b??document.body,{select:!0}),l.removeEventListener(zb,h),ZR.remove(v)},0)}}},[l,d,h,v]);const _=C.useCallback(b=>{if(!n&&!i||v.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,x=document.activeElement;if(S&&x){const T=b.currentTarget,[A,O]=mG(T);A&&O?!b.shiftKey&&x===O?(b.preventDefault(),n&&Ua(A,{select:!0})):b.shiftKey&&x===A&&(b.preventDefault(),n&&Ua(O,{select:!0})):x===T&&b.preventDefault()}},[n,i,v.paused]);return E.jsx(qt.div,{tabIndex:-1,...a,ref:m,onKeyDown:_})});jw.displayName=gG;function pG(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Ua(i,{select:e}),document.activeElement!==n)return}function mG(t){const e=VN(t),n=XR(e,t),i=XR(e.reverse(),t);return[n,i]}function VN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function XR(t,e){for(const n of t)if(!vG(n,{upTo:e}))return n}function vG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yG(t){return t instanceof HTMLInputElement&&"select"in t}function Ua(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&yG(t)&&e&&t.select()}}var ZR=bG();function bG(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=JR(t,e),t.unshift(e)},remove(e){t=JR(t,e),t[0]?.resume()}}}function JR(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function _G(t){return t.filter(e=>e.tagName!=="A")}var wG="Portal",Lw=C.forwardRef((t,e)=>{const{container:n,...i}=t,[r,s]=C.useState(!1);gi(()=>s(!0),[]);const a=n||r&&globalThis?.document?.body;return a?mk.createPortal(E.jsx(qt.div,{...i,ref:e}),a):null});Lw.displayName=wG;function SG(t,e){return C.useReducer((n,i)=>e[n][i]??n,t)}var bm=t=>{const{present:e,children:n}=t,i=xG(e),r=typeof n=="function"?n({present:i.isPresent}):C.Children.only(n),s=Sn(i.ref,EG(r));return typeof n=="function"||i.isPresent?C.cloneElement(r,{ref:s}):null};bm.displayName="Presence";function xG(t){const[e,n]=C.useState(),i=C.useRef(null),r=C.useRef(t),s=C.useRef("none"),a=t?"mounted":"unmounted",[l,u]=SG(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=_g(i.current);s.current=l==="mounted"?d:"none"},[l]),gi(()=>{const d=i.current,h=r.current;if(h!==t){const m=s.current,v=_g(d);t?u("MOUNT"):v==="none"||d?.display==="none"?u("UNMOUNT"):u(h&&m!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,u]),gi(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,g=v=>{const b=_g(i.current).includes(CSS.escape(v.animationName));if(v.target===e&&b&&(u("ANIMATION_END"),!r.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=v=>{v.target===e&&(s.current=_g(i.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function _g(t){return t?.animationName||"none"}function EG(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hb=0;function $N(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??eD()),document.body.insertAdjacentElement("beforeend",t[1]??eD()),Hb++,()=>{Hb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hb--}},[])}function eD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zg="right-scroll-bar-position",Jg="width-before-scroll-bar",CG="with-scroll-bars-hidden",TG="--removed-body-scroll-bar-size";function Bb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function AG(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var RG=typeof window<"u"?C.useLayoutEffect:C.useEffect,tD=new WeakMap;function DG(t,e){var n=AG(null,function(i){return t.forEach(function(r){return Bb(r,i)})});return RG(function(){var i=tD.get(n);if(i){var r=new Set(i),s=new Set(t),a=n.current;r.forEach(function(l){s.has(l)||Bb(l,null)}),s.forEach(function(l){r.has(l)||Bb(l,a)})}tD.set(n,t)},[t]),n}function OG(t){return t}function kG(t,e){e===void 0&&(e=OG);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,i);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(i=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){i=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var u=function(){var h=a;a=[],h.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return r}function MG(t){t===void 0&&(t={});var e=kG(null);return e.options=xr({async:!0,ssr:!1},t),e}var qN=function(t){var e=t.sideCar,n=co(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return C.createElement(i,xr({},n))};qN.isSideCarExport=!0;function NG(t,e){return t.useMedium(e),qN}var WN=MG(),Vb=function(){},_m=C.forwardRef(function(t,e){var n=C.useRef(null),i=C.useState({onScrollCapture:Vb,onWheelCapture:Vb,onTouchMoveCapture:Vb}),r=i[0],s=i[1],a=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,g=t.shards,m=t.sideCar,v=t.noRelative,_=t.noIsolation,b=t.inert,S=t.allowPinchZoom,x=t.as,T=x===void 0?"div":x,A=t.gapMode,O=co(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,N=DG([n,e]),M=xr(xr({},O),r);return C.createElement(C.Fragment,null,h&&C.createElement(D,{sideCar:WN,removeScrollBar:d,shards:g,noRelative:v,noIsolation:_,inert:b,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:A}),a?C.cloneElement(C.Children.only(l),xr(xr({},M),{ref:N})):C.createElement(T,xr({},M,{className:u,ref:N}),l))});_m.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_m.classNames={fullWidth:Jg,zeroRight:Zg};var IG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=IG();return e&&t.setAttribute("nonce",e),t}function jG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var FG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=PG())&&(jG(e,n),LG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},UG=function(){var t=FG();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},GN=function(){var t=UG(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},zG={left:0,top:0,right:0,gap:0},$b=function(t){return parseInt(t||"",10)||0},HG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[$b(n),$b(i),$b(r)]},BG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zG;var e=HG(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},VG=GN(),Hc="data-scroll-locked",$G=function(t,e,n,i){var r=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(CG,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Hc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zg,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(Jg,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(Zg," .").concat(Zg,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Jg," .").concat(Jg,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Hc,`] {
    `).concat(TG,": ").concat(l,`px;
  }
`)},nD=function(){var t=parseInt(document.body.getAttribute(Hc)||"0",10);return isFinite(t)?t:0},qG=function(){C.useEffect(function(){return document.body.setAttribute(Hc,(nD()+1).toString()),function(){var t=nD()-1;t<=0?document.body.removeAttribute(Hc):document.body.setAttribute(Hc,t.toString())}},[])},WG=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;qG();var s=C.useMemo(function(){return BG(r)},[r]);return C.createElement(VG,{styles:$G(s,!e,r,n?"":"!important")})},p_=!1;if(typeof window<"u")try{var wg=Object.defineProperty({},"passive",{get:function(){return p_=!0,!0}});window.addEventListener("test",wg,wg),window.removeEventListener("test",wg,wg)}catch{p_=!1}var Sc=p_?{passive:!1}:!1,GG=function(t){return t.tagName==="TEXTAREA"},YN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!GG(t)&&n[e]==="visible")},YG=function(t){return YN(t,"overflowY")},KG=function(t){return YN(t,"overflowX")},iD=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=KN(t,i);if(r){var s=QN(t,i),a=s[1],l=s[2];if(a>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},QG=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},XG=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},KN=function(t,e){return t==="v"?YG(e):KG(e)},QN=function(t,e){return t==="v"?QG(e):XG(e)},ZG=function(t,e){return t==="h"&&e==="rtl"?-1:1},JG=function(t,e,n,i,r){var s=ZG(t,window.getComputedStyle(e).direction),a=s*i,l=n.target,u=e.contains(l),d=!1,h=a>0,g=0,m=0;do{if(!l)break;var v=QN(t,l),_=v[0],b=v[1],S=v[2],x=b-S-s*_;(_||x)&&KN(t,l)&&(g+=x,m+=_);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(g)<1||!h&&Math.abs(m)<1)&&(d=!0),d},Sg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rD=function(t){return[t.deltaX,t.deltaY]},sD=function(t){return t&&"current"in t?t.current:t},e8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},t8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},n8=0,xc=[];function i8(t){var e=C.useRef([]),n=C.useRef([0,0]),i=C.useRef(),r=C.useState(n8++)[0],s=C.useState(GN)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var b=uw([t.lockRef.current],(t.shards||[]).map(sD),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=C.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var x=Sg(b),T=n.current,A="deltaX"in b?b.deltaX:T[0]-x[0],O="deltaY"in b?b.deltaY:T[1]-x[1],D,N=b.target,M=Math.abs(A)>Math.abs(O)?"h":"v";if("touches"in b&&M==="h"&&N.type==="range")return!1;var k=iD(M,N);if(!k)return!0;if(k?D=M:(D=M==="v"?"h":"v",k=iD(M,N)),!k)return!1;if(!i.current&&"changedTouches"in b&&(A||O)&&(i.current=D),!D)return!0;var P=i.current||D;return JG(P,S,b,P==="h"?A:O)},[]),u=C.useCallback(function(b){var S=b;if(!(!xc.length||xc[xc.length-1]!==s)){var x="deltaY"in S?rD(S):Sg(S),T=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&e8(D.delta,x)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var A=(a.current.shards||[]).map(sD).filter(Boolean).filter(function(D){return D.contains(S.target)}),O=A.length>0?l(S,A[0]):!a.current.noIsolation;O&&S.cancelable&&S.preventDefault()}}},[]),d=C.useCallback(function(b,S,x,T){var A={name:b,delta:S,target:x,should:T,shadowParent:r8(x)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(O){return O!==A})},1)},[]),h=C.useCallback(function(b){n.current=Sg(b),i.current=void 0},[]),g=C.useCallback(function(b){d(b.type,rD(b),b.target,l(b,t.lockRef.current))},[]),m=C.useCallback(function(b){d(b.type,Sg(b),b.target,l(b,t.lockRef.current))},[]);C.useEffect(function(){return xc.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Sc),document.addEventListener("touchmove",u,Sc),document.addEventListener("touchstart",h,Sc),function(){xc=xc.filter(function(b){return b!==s}),document.removeEventListener("wheel",u,Sc),document.removeEventListener("touchmove",u,Sc),document.removeEventListener("touchstart",h,Sc)}},[]);var v=t.removeScrollBar,_=t.inert;return C.createElement(C.Fragment,null,_?C.createElement(s,{styles:t8(r)}):null,v?C.createElement(WG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function r8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const s8=NG(WN,i8);var Fw=C.forwardRef(function(t,e){return C.createElement(_m,xr({},t,{ref:e,sideCar:s8}))});Fw.classNames=_m.classNames;var a8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ec=new WeakMap,xg=new WeakMap,Eg={},qb=0,XN=function(t){return t&&(t.host||XN(t.parentNode))},o8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=XN(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},l8=function(t,e,n,i){var r=o8(e,Array.isArray(t)?t:[t]);Eg[n]||(Eg[n]=new WeakMap);var s=Eg[n],a=[],l=new Set,u=new Set(r),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};r.forEach(d);var h=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(m){if(l.has(m))h(m);else try{var v=m.getAttribute(i),_=v!==null&&v!=="false",b=(Ec.get(m)||0)+1,S=(s.get(m)||0)+1;Ec.set(m,b),s.set(m,S),a.push(m),b===1&&_&&xg.set(m,!0),S===1&&m.setAttribute(n,"true"),_||m.setAttribute(i,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return h(e),l.clear(),qb++,function(){a.forEach(function(g){var m=Ec.get(g)-1,v=s.get(g)-1;Ec.set(g,m),s.set(g,v),m||(xg.has(g)||g.removeAttribute(i),xg.delete(g)),v||g.removeAttribute(n)}),qb--,qb||(Ec=new WeakMap,Ec=new WeakMap,xg=new WeakMap,Eg={})}},ZN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=a8(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),l8(i,r,n,"aria-hidden")):function(){return null}},wm="Dialog",[JN]=ym(wm),[c8,Kr]=JN(wm),eI=t=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:a=!0}=t,l=C.useRef(null),u=C.useRef(null),[d,h]=h_({prop:i,defaultProp:r??!1,onChange:s,caller:wm});return E.jsx(c8,{scope:e,triggerRef:l,contentRef:u,contentId:zc(),titleId:zc(),descriptionId:zc(),open:d,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(g=>!g),[h]),modal:a,children:n})};eI.displayName=wm;var tI="DialogTrigger",u8=C.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Kr(tI,n),s=Sn(e,r.triggerRef);return E.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Hw(r.open),...i,ref:s,onClick:tn(t.onClick,r.onOpenToggle)})});u8.displayName=tI;var Uw="DialogPortal",[d8,nI]=JN(Uw,{forceMount:void 0}),iI=t=>{const{__scopeDialog:e,forceMount:n,children:i,container:r}=t,s=Kr(Uw,e);return E.jsx(d8,{scope:e,forceMount:n,children:C.Children.map(i,a=>E.jsx(bm,{present:n||s.open,children:E.jsx(Lw,{asChild:!0,container:r,children:a})}))})};iI.displayName=Uw;var Ep="DialogOverlay",rI=C.forwardRef((t,e)=>{const n=nI(Ep,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=Kr(Ep,t.__scopeDialog);return s.modal?E.jsx(bm,{present:i||s.open,children:E.jsx(h8,{...r,ref:e})}):null});rI.displayName=Ep;var f8=Qc("DialogOverlay.RemoveScroll"),h8=C.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Kr(Ep,n);return E.jsx(Fw,{as:f8,allowPinchZoom:!0,shards:[r.contentRef],children:E.jsx(qt.div,{"data-state":Hw(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),fl="DialogContent",sI=C.forwardRef((t,e)=>{const n=nI(fl,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=Kr(fl,t.__scopeDialog);return E.jsx(bm,{present:i||s.open,children:s.modal?E.jsx(g8,{...r,ref:e}):E.jsx(p8,{...r,ref:e})})});sI.displayName=fl;var g8=C.forwardRef((t,e)=>{const n=Kr(fl,t.__scopeDialog),i=C.useRef(null),r=Sn(e,n.contentRef,i);return C.useEffect(()=>{const s=i.current;if(s)return ZN(s)},[]),E.jsx(aI,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tn(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:tn(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:tn(t.onFocusOutside,s=>s.preventDefault())})}),p8=C.forwardRef((t,e)=>{const n=Kr(fl,t.__scopeDialog),i=C.useRef(!1),r=C.useRef(!1);return E.jsx(aI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(i.current||n.triggerRef.current?.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),aI=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...a}=t,l=Kr(fl,n),u=C.useRef(null),d=Sn(e,u);return $N(),E.jsxs(E.Fragment,{children:[E.jsx(jw,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:E.jsx(Pw,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Hw(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(m8,{titleId:l.titleId}),E.jsx(y8,{contentRef:u,descriptionId:l.descriptionId})]})]})}),zw="DialogTitle",oI=C.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Kr(zw,n);return E.jsx(qt.h2,{id:r.titleId,...i,ref:e})});oI.displayName=zw;var lI="DialogDescription",cI=C.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Kr(lI,n);return E.jsx(qt.p,{id:r.descriptionId,...i,ref:e})});cI.displayName=lI;var uI="DialogClose",dI=C.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Kr(uI,n);return E.jsx(qt.button,{type:"button",...i,ref:e,onClick:tn(t.onClick,()=>r.onOpenChange(!1))})});dI.displayName=uI;function Hw(t){return t?"open":"closed"}var fI="DialogTitleWarning",[uoe,hI]=XW(fI,{contentName:fl,titleName:zw,docsSlug:"dialog"}),m8=({titleId:t})=>{const e=hI(fI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},v8="DialogDescriptionWarning",y8=({contentRef:t,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hI(v8).contentName}}.`;return C.useEffect(()=>{const r=t.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,t,e]),null},b8=eI,_8=iI,gI=rI,pI=sI,mI=oI,vI=cI,w8=dI;/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),aD=t=>{const e=x8(t);return e.charAt(0).toUpperCase()+e.slice(1)},yI=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),E8=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...l},u)=>C.createElement("svg",{ref:u,...C8,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:yI("lucide",r),...!s&&!E8(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,h])=>C.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=(t,e)=>{const n=C.forwardRef(({className:i,...r},s)=>C.createElement(T8,{ref:s,iconNode:e,className:yI(`lucide-${S8(aD(t))}`,`lucide-${t}`,i),...r}));return n.displayName=aD(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],R8=Sm("check",A8);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bI=Sm("chevron-down",D8);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],k8=Sm("chevron-up",O8);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],N8=Sm("x",M8),I8=b8,P8=_8,_I=C.forwardRef(({className:t,...e},n)=>E.jsx(gI,{ref:n,className:ai("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));_I.displayName=gI.displayName;const wI=C.forwardRef(({className:t,children:e,...n},i)=>E.jsxs(P8,{children:[E.jsx(_I,{}),E.jsxs(pI,{ref:i,className:ai("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-2 border bg-background p-1 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,E.jsxs(w8,{className:"absolute right-2 top-1 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[E.jsx(N8,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wI.displayName=pI.displayName;const SI=({className:t,...e})=>E.jsx("div",{className:ai("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});SI.displayName="DialogHeader";const xI=({className:t,...e})=>E.jsx("div",{className:ai("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});xI.displayName="DialogFooter";const EI=C.forwardRef(({className:t,...e},n)=>E.jsx(mI,{ref:n,className:ai("text-[10px] font-semibold leading-none tracking-tight",t),...e}));EI.displayName=mI.displayName;const CI=C.forwardRef(({className:t,...e},n)=>E.jsx(vI,{ref:n,className:ai("text-[10px] text-muted-foreground",t),...e}));CI.displayName=vI.displayName;const Gn=C.forwardRef(({className:t,type:e,...n},i)=>E.jsx("input",{type:e,className:ai("flex h-8 w-full rounded border border-border bg-background px-1 py-1 text-[10px] ring-offset-background file:border-0 file:bg-transparent file:text-[10px] file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,...n}));Gn.displayName="Input";var j8="Label",TI=C.forwardRef((t,e)=>E.jsx(qt.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TI.displayName=j8;var AI=TI;const L8=aN("text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),di=C.forwardRef(({className:t,...e},n)=>E.jsx(AI,{ref:n,className:ai(L8(),t),...e}));di.displayName=AI.displayName;function oD(t,[e,n]){return Math.min(n,Math.max(e,t))}function F8(t){const e=t+"CollectionProvider",[n,i]=ym(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:S,children:x}=b,T=ae.useRef(null),A=ae.useRef(new Map).current;return E.jsx(r,{scope:S,itemMap:A,collectionRef:T,children:x})};a.displayName=e;const l=t+"CollectionSlot",u=Qc(l),d=ae.forwardRef((b,S)=>{const{scope:x,children:T}=b,A=s(l,x),O=Sn(S,A.collectionRef);return E.jsx(u,{ref:O,children:T})});d.displayName=l;const h=t+"CollectionItemSlot",g="data-radix-collection-item",m=Qc(h),v=ae.forwardRef((b,S)=>{const{scope:x,children:T,...A}=b,O=ae.useRef(null),D=Sn(S,O),N=s(h,x);return ae.useEffect(()=>(N.itemMap.set(O,{ref:O,...A}),()=>void N.itemMap.delete(O))),E.jsx(m,{[g]:"",ref:D,children:T})});v.displayName=h;function _(b){const S=s(t+"CollectionConsumer",b);return ae.useCallback(()=>{const T=S.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((N,M)=>A.indexOf(N.ref.current)-A.indexOf(M.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:d,ItemSlot:v},_,i]}var U8=C.createContext(void 0);function z8(t){const e=C.useContext(U8);return t||e||"ltr"}const H8=["top","right","bottom","left"],no=Math.min,Xi=Math.max,Cp=Math.round,Cg=Math.floor,hs=t=>({x:t,y:t}),B8={left:"right",right:"left",bottom:"top",top:"bottom"},V8={start:"end",end:"start"};function m_(t,e,n){return Xi(t,no(e,n))}function ia(t,e){return typeof t=="function"?t(e):t}function ra(t){return t.split("-")[0]}function pu(t){return t.split("-")[1]}function Bw(t){return t==="x"?"y":"x"}function Vw(t){return t==="y"?"height":"width"}const $8=new Set(["top","bottom"]);function fs(t){return $8.has(ra(t))?"y":"x"}function $w(t){return Bw(fs(t))}function q8(t,e,n){n===void 0&&(n=!1);const i=pu(t),r=$w(t),s=Vw(r);let a=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Tp(a)),[a,Tp(a)]}function W8(t){const e=Tp(t);return[v_(t),e,v_(e)]}function v_(t){return t.replace(/start|end/g,e=>V8[e])}const lD=["left","right"],cD=["right","left"],G8=["top","bottom"],Y8=["bottom","top"];function K8(t,e,n){switch(t){case"top":case"bottom":return n?e?cD:lD:e?lD:cD;case"left":case"right":return e?G8:Y8;default:return[]}}function Q8(t,e,n,i){const r=pu(t);let s=K8(ra(t),n==="start",i);return r&&(s=s.map(a=>a+"-"+r),e&&(s=s.concat(s.map(v_)))),s}function Tp(t){return t.replace(/left|right|bottom|top/g,e=>B8[e])}function X8(t){return{top:0,right:0,bottom:0,left:0,...t}}function RI(t){return typeof t!="number"?X8(t):{top:t,right:t,bottom:t,left:t}}function Ap(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function uD(t,e,n){let{reference:i,floating:r}=t;const s=fs(e),a=$w(e),l=Vw(a),u=ra(e),d=s==="y",h=i.x+i.width/2-r.width/2,g=i.y+i.height/2-r.height/2,m=i[l]/2-r[l]/2;let v;switch(u){case"top":v={x:h,y:i.y-r.height};break;case"bottom":v={x:h,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:g};break;case"left":v={x:i.x-r.width,y:g};break;default:v={x:i.x,y:i.y}}switch(pu(e)){case"start":v[a]-=m*(n&&d?-1:1);break;case"end":v[a]+=m*(n&&d?-1:1);break}return v}const Z8=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:h,y:g}=uD(d,i,u),m=i,v={},_=0;for(let b=0;b<l.length;b++){const{name:S,fn:x}=l[b],{x:T,y:A,data:O,reset:D}=await x({x:h,y:g,initialPlacement:i,placement:m,strategy:r,middlewareData:v,rects:d,platform:a,elements:{reference:t,floating:e}});h=T??h,g=A??g,v={...v,[S]:{...v[S],...O}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):D.rects),{x:h,y:g}=uD(d,m,u)),b=-1)}return{x:h,y:g,placement:m,strategy:r,middlewareData:v}};async function tf(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:a,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:m=!1,padding:v=0}=ia(e,t),_=RI(v),S=l[m?g==="floating"?"reference":"floating":g],x=Ap(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),T=g==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),O=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},D=Ap(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:A,strategy:u}):T);return{top:(x.top-D.top+_.top)/O.y,bottom:(D.bottom-x.bottom+_.bottom)/O.y,left:(x.left-D.left+_.left)/O.x,right:(D.right-x.right+_.right)/O.x}}const J8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:a,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=ia(t,e)||{};if(d==null)return{};const g=RI(h),m={x:n,y:i},v=$w(r),_=Vw(v),b=await a.getDimensions(d),S=v==="y",x=S?"top":"left",T=S?"bottom":"right",A=S?"clientHeight":"clientWidth",O=s.reference[_]+s.reference[v]-m[v]-s.floating[_],D=m[v]-s.reference[v],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let M=N?N[A]:0;(!M||!await(a.isElement==null?void 0:a.isElement(N)))&&(M=l.floating[A]||s.floating[_]);const k=O/2-D/2,P=M/2-b[_]/2-1,z=no(g[x],P),B=no(g[T],P),K=z,ne=M-b[_]-B,ue=M/2-b[_]/2+k,ge=m_(K,ue,ne),L=!u.arrow&&pu(r)!=null&&ue!==ge&&s.reference[_]/2-(ue<K?z:B)-b[_]/2<0,q=L?ue<K?ue-K:ue-ne:0;return{[v]:m[v]+q,data:{[v]:ge,centerOffset:ue-ge-q,...L&&{alignmentOffset:q}},reset:L}}}),eY=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:b=!0,...S}=ia(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=ra(r),T=fs(l),A=ra(l)===l,O=await(u.isRTL==null?void 0:u.isRTL(d.floating)),D=m||(A||!b?[Tp(l)]:W8(l)),N=_!=="none";!m&&N&&D.push(...Q8(l,b,_,O));const M=[l,...D],k=await tf(e,S),P=[];let z=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&P.push(k[x]),g){const ue=q8(r,a,O);P.push(k[ue[0]],k[ue[1]])}if(z=[...z,{placement:r,overflows:P}],!P.every(ue=>ue<=0)){var B,K;const ue=(((B=s.flip)==null?void 0:B.index)||0)+1,ge=M[ue];if(ge&&(!(g==="alignment"?T!==fs(ge):!1)||z.every($=>fs($.placement)===T?$.overflows[0]>0:!0)))return{data:{index:ue,overflows:z},reset:{placement:ge}};let L=(K=z.filter(q=>q.overflows[0]<=0).sort((q,$)=>q.overflows[1]-$.overflows[1])[0])==null?void 0:K.placement;if(!L)switch(v){case"bestFit":{var ne;const q=(ne=z.filter($=>{if(N){const re=fs($.placement);return re===T||re==="y"}return!0}).map($=>[$.placement,$.overflows.filter(re=>re>0).reduce((re,ve)=>re+ve,0)]).sort(($,re)=>$[1]-re[1])[0])==null?void 0:ne[0];q&&(L=q);break}case"initialPlacement":L=l;break}if(r!==L)return{reset:{placement:L}}}return{}}}};function dD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function fD(t){return H8.some(e=>t[e]>=0)}const tY=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=ia(t,e);switch(i){case"referenceHidden":{const s=await tf(e,{...r,elementContext:"reference"}),a=dD(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:fD(a)}}}case"escaped":{const s=await tf(e,{...r,altBoundary:!0}),a=dD(s,n.floating);return{data:{escapedOffsets:a,escaped:fD(a)}}}default:return{}}}}},DI=new Set(["left","top"]);async function nY(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),a=ra(n),l=pu(n),u=fs(n)==="y",d=DI.has(a)?-1:1,h=s&&u?-1:1,g=ia(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof _=="number"&&(v=l==="end"?_*-1:_),u?{x:v*h,y:m*d}:{x:m*d,y:v*h}}const iY=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:a,middlewareData:l}=e,u=await nY(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:a}}}}},rY=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:S=>{let{x,y:T}=S;return{x,y:T}}},...u}=ia(t,e),d={x:n,y:i},h=await tf(e,u),g=fs(ra(r)),m=Bw(g);let v=d[m],_=d[g];if(s){const S=m==="y"?"top":"left",x=m==="y"?"bottom":"right",T=v+h[S],A=v-h[x];v=m_(T,v,A)}if(a){const S=g==="y"?"top":"left",x=g==="y"?"bottom":"right",T=_+h[S],A=_-h[x];_=m_(T,_,A)}const b=l.fn({...e,[m]:v,[g]:_});return{...b,data:{x:b.x-n,y:b.y-i,enabled:{[m]:s,[g]:a}}}}}},sY=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=ia(t,e),h={x:n,y:i},g=fs(r),m=Bw(g);let v=h[m],_=h[g];const b=ia(l,e),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const A=m==="y"?"height":"width",O=s.reference[m]-s.floating[A]+S.mainAxis,D=s.reference[m]+s.reference[A]-S.mainAxis;v<O?v=O:v>D&&(v=D)}if(d){var x,T;const A=m==="y"?"width":"height",O=DI.has(ra(r)),D=s.reference[g]-s.floating[A]+(O&&((x=a.offset)==null?void 0:x[g])||0)+(O?0:S.crossAxis),N=s.reference[g]+s.reference[A]+(O?0:((T=a.offset)==null?void 0:T[g])||0)-(O?S.crossAxis:0);_<D?_=D:_>N&&(_=N)}return{[m]:v,[g]:_}}}},aY=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:a,elements:l}=e,{apply:u=()=>{},...d}=ia(t,e),h=await tf(e,d),g=ra(r),m=pu(r),v=fs(r)==="y",{width:_,height:b}=s.floating;let S,x;g==="top"||g==="bottom"?(S=g,x=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=g,S=m==="end"?"top":"bottom");const T=b-h.top-h.bottom,A=_-h.left-h.right,O=no(b-h[S],T),D=no(_-h[x],A),N=!e.middlewareData.shift;let M=O,k=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=A),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(M=T),N&&!m){const z=Xi(h.left,0),B=Xi(h.right,0),K=Xi(h.top,0),ne=Xi(h.bottom,0);v?k=_-2*(z!==0||B!==0?z+B:Xi(h.left,h.right)):M=b-2*(K!==0||ne!==0?K+ne:Xi(h.top,h.bottom))}await u({...e,availableWidth:k,availableHeight:M});const P=await a.getDimensions(l.floating);return _!==P.width||b!==P.height?{reset:{rects:!0}}:{}}}};function xm(){return typeof window<"u"}function mu(t){return OI(t)?(t.nodeName||"").toLowerCase():"#document"}function nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bs(t){var e;return(e=(OI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function OI(t){return xm()?t instanceof Node||t instanceof nr(t).Node:!1}function $r(t){return xm()?t instanceof Element||t instanceof nr(t).Element:!1}function ps(t){return xm()?t instanceof HTMLElement||t instanceof nr(t).HTMLElement:!1}function hD(t){return!xm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nr(t).ShadowRoot}const oY=new Set(["inline","contents"]);function Tf(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!oY.has(r)}const lY=new Set(["table","td","th"]);function cY(t){return lY.has(mu(t))}const uY=[":popover-open",":modal"];function Em(t){return uY.some(e=>{try{return t.matches(e)}catch{return!1}})}const dY=["transform","translate","scale","rotate","perspective"],fY=["transform","translate","scale","rotate","perspective","filter"],hY=["paint","layout","strict","content"];function qw(t){const e=Ww(),n=$r(t)?qr(t):t;return dY.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||fY.some(i=>(n.willChange||"").includes(i))||hY.some(i=>(n.contain||"").includes(i))}function gY(t){let e=io(t);for(;ps(e)&&!Xc(e);){if(qw(e))return e;if(Em(e))return null;e=io(e)}return null}function Ww(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pY=new Set(["html","body","#document"]);function Xc(t){return pY.has(mu(t))}function qr(t){return nr(t).getComputedStyle(t)}function Cm(t){return $r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function io(t){if(mu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hD(t)&&t.host||bs(t);return hD(e)?e.host:e}function kI(t){const e=io(t);return Xc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ps(e)&&Tf(e)?e:kI(e)}function nf(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=kI(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),a=nr(r);if(s){const l=y_(a);return e.concat(a,a.visualViewport||[],Tf(r)?r:[],l&&n?nf(l):[])}return e.concat(r,nf(r,[],n))}function y_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MI(t){const e=qr(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ps(t),s=r?t.offsetWidth:n,a=r?t.offsetHeight:i,l=Cp(n)!==s||Cp(i)!==a;return l&&(n=s,i=a),{width:n,height:i,$:l}}function Gw(t){return $r(t)?t:t.contextElement}function Bc(t){const e=Gw(t);if(!ps(e))return hs(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=MI(e);let a=(s?Cp(n.width):n.width)/i,l=(s?Cp(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const mY=hs(0);function NI(t){const e=nr(t);return!Ww()||!e.visualViewport?mY:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vY(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==nr(t)?!1:e}function hl(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=Gw(t);let a=hs(1);e&&(i?$r(i)&&(a=Bc(i)):a=Bc(t));const l=vY(s,n,i)?NI(s):hs(0);let u=(r.left+l.x)/a.x,d=(r.top+l.y)/a.y,h=r.width/a.x,g=r.height/a.y;if(s){const m=nr(s),v=i&&$r(i)?nr(i):i;let _=m,b=y_(_);for(;b&&i&&v!==_;){const S=Bc(b),x=b.getBoundingClientRect(),T=qr(b),A=x.left+(b.clientLeft+parseFloat(T.paddingLeft))*S.x,O=x.top+(b.clientTop+parseFloat(T.paddingTop))*S.y;u*=S.x,d*=S.y,h*=S.x,g*=S.y,u+=A,d+=O,_=nr(b),b=y_(_)}}return Ap({width:h,height:g,x:u,y:d})}function Tm(t,e){const n=Cm(t).scrollLeft;return e?e.left+n:hl(bs(t)).left+n}function II(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Tm(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function yY(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",a=bs(i),l=e?Em(e.floating):!1;if(i===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=hs(1);const h=hs(0),g=ps(i);if((g||!g&&!s)&&((mu(i)!=="body"||Tf(a))&&(u=Cm(i)),ps(i))){const v=hl(i);d=Bc(i),h.x=v.x+i.clientLeft,h.y=v.y+i.clientTop}const m=a&&!g&&!s?II(a,u):hs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-u.scrollTop*d.y+h.y+m.y}}function bY(t){return Array.from(t.getClientRects())}function _Y(t){const e=bs(t),n=Cm(t),i=t.ownerDocument.body,r=Xi(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Xi(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+Tm(t);const l=-n.scrollTop;return qr(i).direction==="rtl"&&(a+=Xi(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:l}}const gD=25;function wY(t,e){const n=nr(t),i=bs(t),r=n.visualViewport;let s=i.clientWidth,a=i.clientHeight,l=0,u=0;if(r){s=r.width,a=r.height;const h=Ww();(!h||h&&e==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}const d=Tm(i);if(d<=0){const h=i.ownerDocument,g=h.body,m=getComputedStyle(g),v=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,_=Math.abs(i.clientWidth-g.clientWidth-v);_<=gD&&(s-=_)}else d<=gD&&(s+=d);return{width:s,height:a,x:l,y:u}}const SY=new Set(["absolute","fixed"]);function xY(t,e){const n=hl(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=ps(t)?Bc(t):hs(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,u=r*s.x,d=i*s.y;return{width:a,height:l,x:u,y:d}}function pD(t,e,n){let i;if(e==="viewport")i=wY(t,n);else if(e==="document")i=_Y(bs(t));else if($r(e))i=xY(e,n);else{const r=NI(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Ap(i)}function PI(t,e){const n=io(t);return n===e||!$r(n)||Xc(n)?!1:qr(n).position==="fixed"||PI(n,e)}function EY(t,e){const n=e.get(t);if(n)return n;let i=nf(t,[],!1).filter(l=>$r(l)&&mu(l)!=="body"),r=null;const s=qr(t).position==="fixed";let a=s?io(t):t;for(;$r(a)&&!Xc(a);){const l=qr(a),u=qw(a);!u&&l.position==="fixed"&&(r=null),(s?!u&&!r:!u&&l.position==="static"&&!!r&&SY.has(r.position)||Tf(a)&&!u&&PI(t,a))?i=i.filter(h=>h!==a):r=l,a=io(a)}return e.set(t,i),i}function CY(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const a=[...n==="clippingAncestors"?Em(e)?[]:EY(e,this._c):[].concat(n),i],l=a[0],u=a.reduce((d,h)=>{const g=pD(e,h,r);return d.top=Xi(g.top,d.top),d.right=no(g.right,d.right),d.bottom=no(g.bottom,d.bottom),d.left=Xi(g.left,d.left),d},pD(e,l,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function TY(t){const{width:e,height:n}=MI(t);return{width:e,height:n}}function AY(t,e,n){const i=ps(e),r=bs(e),s=n==="fixed",a=hl(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=hs(0);function d(){u.x=Tm(r)}if(i||!i&&!s)if((mu(e)!=="body"||Tf(r))&&(l=Cm(e)),i){const v=hl(e,!0,s,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else r&&d();s&&!i&&r&&d();const h=r&&!i&&!s?II(r,l):hs(0),g=a.left+l.scrollLeft-u.x-h.x,m=a.top+l.scrollTop-u.y-h.y;return{x:g,y:m,width:a.width,height:a.height}}function Wb(t){return qr(t).position==="static"}function mD(t,e){if(!ps(t)||qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bs(t)===n&&(n=n.ownerDocument.body),n}function jI(t,e){const n=nr(t);if(Em(t))return n;if(!ps(t)){let r=io(t);for(;r&&!Xc(r);){if($r(r)&&!Wb(r))return r;r=io(r)}return n}let i=mD(t,e);for(;i&&cY(i)&&Wb(i);)i=mD(i,e);return i&&Xc(i)&&Wb(i)&&!qw(i)?n:i||gY(t)||n}const RY=async function(t){const e=this.getOffsetParent||jI,n=this.getDimensions,i=await n(t.floating);return{reference:AY(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function DY(t){return qr(t).direction==="rtl"}const OY={convertOffsetParentRelativeRectToViewportRelativeRect:yY,getDocumentElement:bs,getClippingRect:CY,getOffsetParent:jI,getElementRects:RY,getClientRects:bY,getDimensions:TY,getScale:Bc,isElement:$r,isRTL:DY};function LI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kY(t,e){let n=null,i;const r=bs(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:h,top:g,width:m,height:v}=d;if(l||e(),!m||!v)return;const _=Cg(g),b=Cg(r.clientWidth-(h+m)),S=Cg(r.clientHeight-(g+v)),x=Cg(h),A={rootMargin:-_+"px "+-b+"px "+-S+"px "+-x+"px",threshold:Xi(0,no(1,u))||1};let O=!0;function D(N){const M=N[0].intersectionRatio;if(M!==u){if(!O)return a();M?a(!1,M):i=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!LI(d,t.getBoundingClientRect())&&a(),O=!1}try{n=new IntersectionObserver(D,{...A,root:r.ownerDocument})}catch{n=new IntersectionObserver(D,A)}n.observe(t)}return a(!0),s}function MY(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=Gw(t),h=r||s?[...d?nf(d):[],...nf(e)]:[];h.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const g=d&&l?kY(d,n):null;let m=-1,v=null;a&&(v=new ResizeObserver(x=>{let[T]=x;T&&T.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(e)})),n()}),d&&!u&&v.observe(d),v.observe(e));let _,b=u?hl(t):null;u&&S();function S(){const x=hl(t);b&&!LI(b,x)&&n(),b=x,_=requestAnimationFrame(S)}return n(),()=>{var x;h.forEach(T=>{r&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),g?.(),(x=v)==null||x.disconnect(),v=null,u&&cancelAnimationFrame(_)}}const NY=iY,IY=rY,PY=eY,jY=aY,LY=tY,vD=J8,FY=sY,UY=(t,e,n)=>{const i=new Map,r={platform:OY,...n},s={...r.platform,_c:i};return Z8(t,e,{...r,platform:s})};var zY=typeof document<"u",HY=function(){},ep=zY?C.useLayoutEffect:HY;function Rp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Rp(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!Rp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function FI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yD(t,e){const n=FI(t);return Math.round(e*n)/n}function Gb(t){const e=C.useRef(t);return ep(()=>{e.current=t}),e}function BY(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,g]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=C.useState(i);Rp(m,i)||v(i);const[_,b]=C.useState(null),[S,x]=C.useState(null),T=C.useCallback($=>{$!==N.current&&(N.current=$,b($))},[]),A=C.useCallback($=>{$!==M.current&&(M.current=$,x($))},[]),O=s||_,D=a||S,N=C.useRef(null),M=C.useRef(null),k=C.useRef(h),P=u!=null,z=Gb(u),B=Gb(r),K=Gb(d),ne=C.useCallback(()=>{if(!N.current||!M.current)return;const $={placement:e,strategy:n,middleware:m};B.current&&($.platform=B.current),UY(N.current,M.current,$).then(re=>{const ve={...re,isPositioned:K.current!==!1};ue.current&&!Rp(k.current,ve)&&(k.current=ve,tr.flushSync(()=>{g(ve)}))})},[m,e,n,B,K]);ep(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[d]);const ue=C.useRef(!1);ep(()=>(ue.current=!0,()=>{ue.current=!1}),[]),ep(()=>{if(O&&(N.current=O),D&&(M.current=D),O&&D){if(z.current)return z.current(O,D,ne);ne()}},[O,D,ne,z,P]);const ge=C.useMemo(()=>({reference:N,floating:M,setReference:T,setFloating:A}),[T,A]),L=C.useMemo(()=>({reference:O,floating:D}),[O,D]),q=C.useMemo(()=>{const $={position:n,left:0,top:0};if(!L.floating)return $;const re=yD(L.floating,h.x),ve=yD(L.floating,h.y);return l?{...$,transform:"translate("+re+"px, "+ve+"px)",...FI(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:re,top:ve}},[n,l,L.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:ne,refs:ge,elements:L,floatingStyles:q}),[h,ne,ge,L,q])}const VY=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?vD({element:i.current,padding:r}).fn(n):{}:i?vD({element:i,padding:r}).fn(n):{}}}},$Y=(t,e)=>({...NY(t),options:[t,e]}),qY=(t,e)=>({...IY(t),options:[t,e]}),WY=(t,e)=>({...FY(t),options:[t,e]}),GY=(t,e)=>({...PY(t),options:[t,e]}),YY=(t,e)=>({...jY(t),options:[t,e]}),KY=(t,e)=>({...LY(t),options:[t,e]}),QY=(t,e)=>({...VY(t),options:[t,e]});var XY="Arrow",UI=C.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return E.jsx(qt.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});UI.displayName=XY;var ZY=UI;function JY(t){const[e,n]=C.useState(void 0);return gi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var Yw="Popper",[zI,HI]=ym(Yw),[e9,BI]=zI(Yw),VI=t=>{const{__scopePopper:e,children:n}=t,[i,r]=C.useState(null);return E.jsx(e9,{scope:e,anchor:i,onAnchorChange:r,children:n})};VI.displayName=Yw;var $I="PopperAnchor",qI=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=BI($I,n),a=C.useRef(null),l=Sn(e,a),u=C.useRef(null);return C.useEffect(()=>{const d=u.current;u.current=i?.current||a.current,d!==u.current&&s.onAnchorChange(u.current)}),i?null:E.jsx(qt.div,{...r,ref:l})});qI.displayName=$I;var Kw="PopperContent",[t9,n9]=zI(Kw),WI=C.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:_,...b}=t,S=BI(Kw,n),[x,T]=C.useState(null),A=Sn(e,ce=>T(ce)),[O,D]=C.useState(null),N=JY(O),M=N?.width??0,k=N?.height??0,P=i+(s!=="center"?"-"+s:""),z=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},B=Array.isArray(d)?d:[d],K=B.length>0,ne={padding:z,boundary:B.filter(r9),altBoundary:K},{refs:ue,floatingStyles:ge,placement:L,isPositioned:q,middlewareData:$}=BY({strategy:"fixed",placement:P,whileElementsMounted:(...ce)=>MY(...ce,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[$Y({mainAxis:r+k,alignmentAxis:a}),u&&qY({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?WY():void 0,...ne}),u&&GY({...ne}),YY({...ne,apply:({elements:ce,rects:me,availableWidth:Te,availableHeight:Ce})=>{const{width:je,height:ze}=me.reference,zt=ce.floating.style;zt.setProperty("--radix-popper-available-width",`${Te}px`),zt.setProperty("--radix-popper-available-height",`${Ce}px`),zt.setProperty("--radix-popper-anchor-width",`${je}px`),zt.setProperty("--radix-popper-anchor-height",`${ze}px`)}}),O&&QY({element:O,padding:l}),s9({arrowWidth:M,arrowHeight:k}),m&&KY({strategy:"referenceHidden",...ne})]}),[re,ve]=KI(L),U=dl(_);gi(()=>{q&&U?.()},[q,U]);const J=$.arrow?.x,ee=$.arrow?.y,le=$.arrow?.centerOffset!==0,[be,we]=C.useState();return gi(()=>{x&&we(window.getComputedStyle(x).zIndex)},[x]),E.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:q?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(t9,{scope:n,placedSide:re,onArrowChange:D,arrowX:J,arrowY:ee,shouldHideArrow:le,children:E.jsx(qt.div,{"data-side":re,"data-align":ve,...b,ref:A,style:{...b.style,animation:q?void 0:"none"}})})})});WI.displayName=Kw;var GI="PopperArrow",i9={top:"bottom",right:"left",bottom:"top",left:"right"},YI=C.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=n9(GI,i),a=i9[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(ZY,{...r,ref:n,style:{...r.style,display:"block"}})})});YI.displayName=GI;function r9(t){return t!==null}var s9=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:r}=e,a=r.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,h]=KI(n),g={start:"0%",center:"50%",end:"100%"}[h],m=(r.arrow?.x??0)+l/2,v=(r.arrow?.y??0)+u/2;let _="",b="";return d==="bottom"?(_=a?g:`${m}px`,b=`${-u}px`):d==="top"?(_=a?g:`${m}px`,b=`${i.floating.height+u}px`):d==="right"?(_=`${-u}px`,b=a?g:`${v}px`):d==="left"&&(_=`${i.floating.width+u}px`,b=a?g:`${v}px`),{data:{x:_,y:b}}}});function KI(t){const[e,n="center"]=t.split("-");return[e,n]}var a9=VI,o9=qI,l9=WI,c9=YI;function u9(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var QI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),d9="VisuallyHidden",f9=C.forwardRef((t,e)=>E.jsx(qt.span,{...t,ref:e,style:{...QI,...t.style}}));f9.displayName=d9;var h9=[" ","Enter","ArrowUp","ArrowDown"],g9=[" ","Enter"],gl="Select",[Am,Rm,p9]=F8(gl),[vu]=ym(gl,[p9,HI]),Dm=HI(),[m9,go]=vu(gl),[v9,y9]=vu(gl),XI=t=>{const{__scopeSelect:e,children:n,open:i,defaultOpen:r,onOpenChange:s,value:a,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:g,disabled:m,required:v,form:_}=t,b=Dm(e),[S,x]=C.useState(null),[T,A]=C.useState(null),[O,D]=C.useState(!1),N=z8(d),[M,k]=h_({prop:i,defaultProp:r??!1,onChange:s,caller:gl}),[P,z]=h_({prop:a,defaultProp:l,onChange:u,caller:gl}),B=C.useRef(null),K=S?_||!!S.closest("form"):!0,[ne,ue]=C.useState(new Set),ge=Array.from(ne).map(L=>L.props.value).join(";");return E.jsx(a9,{...b,children:E.jsxs(m9,{required:v,scope:e,trigger:S,onTriggerChange:x,valueNode:T,onValueNodeChange:A,valueNodeHasChildren:O,onValueNodeHasChildrenChange:D,contentId:zc(),value:P,onValueChange:z,open:M,onOpenChange:k,dir:N,triggerPointerDownPosRef:B,disabled:m,children:[E.jsx(Am.Provider,{scope:e,children:E.jsx(v9,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(L=>{ue(q=>new Set(q).add(L))},[]),onNativeOptionRemove:C.useCallback(L=>{ue(q=>{const $=new Set(q);return $.delete(L),$})},[]),children:n})}),K?E.jsxs(wP,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:g,value:P,onChange:L=>z(L.target.value),disabled:m,form:_,children:[P===void 0?E.jsx("option",{value:""}):null,Array.from(ne)]},ge):null]})})};XI.displayName=gl;var ZI="SelectTrigger",JI=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:i=!1,...r}=t,s=Dm(n),a=go(ZI,n),l=a.disabled||i,u=Sn(e,a.onTriggerChange),d=Rm(n),h=C.useRef("touch"),[g,m,v]=xP(b=>{const S=d().filter(A=>!A.disabled),x=S.find(A=>A.value===a.value),T=EP(S,b,x);T!==void 0&&a.onValueChange(T.value)}),_=b=>{l||(a.onOpenChange(!0),v()),b&&(a.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return E.jsx(o9,{asChild:!0,...s,children:E.jsx(qt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":SP(a.value)?"":void 0,...r,ref:u,onClick:tn(r.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&_(b)}),onPointerDown:tn(r.onPointerDown,b=>{h.current=b.pointerType;const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(_(b),b.preventDefault())}),onKeyDown:tn(r.onKeyDown,b=>{const S=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&m(b.key),!(S&&b.key===" ")&&h9.includes(b.key)&&(_(),b.preventDefault())})})})});JI.displayName=ZI;var eP="SelectValue",tP=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:r,children:s,placeholder:a="",...l}=t,u=go(eP,n),{onValueNodeHasChildrenChange:d}=u,h=s!==void 0,g=Sn(e,u.onValueNodeChange);return gi(()=>{d(h)},[d,h]),E.jsx(qt.span,{...l,ref:g,style:{pointerEvents:"none"},children:SP(u.value)?E.jsx(E.Fragment,{children:a}):s})});tP.displayName=eP;var b9="SelectIcon",nP=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:i,...r}=t;return E.jsx(qt.span,{"aria-hidden":!0,...r,ref:e,children:i||""})});nP.displayName=b9;var _9="SelectPortal",iP=t=>E.jsx(Lw,{asChild:!0,...t});iP.displayName=_9;var pl="SelectContent",rP=C.forwardRef((t,e)=>{const n=go(pl,t.__scopeSelect),[i,r]=C.useState();if(gi(()=>{r(new DocumentFragment)},[]),!n.open){const s=i;return s?tr.createPortal(E.jsx(sP,{scope:t.__scopeSelect,children:E.jsx(Am.Slot,{scope:t.__scopeSelect,children:E.jsx("div",{children:t.children})})}),s):null}return E.jsx(aP,{...t,ref:e})});rP.displayName=pl;var Ir=10,[sP,po]=vu(pl),w9="SelectContentImpl",S9=Qc("SelectContent.RemoveScroll"),aP=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:v,sticky:_,hideWhenDetached:b,avoidCollisions:S,...x}=t,T=go(pl,n),[A,O]=C.useState(null),[D,N]=C.useState(null),M=Sn(e,ce=>O(ce)),[k,P]=C.useState(null),[z,B]=C.useState(null),K=Rm(n),[ne,ue]=C.useState(!1),ge=C.useRef(!1);C.useEffect(()=>{if(A)return ZN(A)},[A]),$N();const L=C.useCallback(ce=>{const[me,...Te]=K().map(ze=>ze.ref.current),[Ce]=Te.slice(-1),je=document.activeElement;for(const ze of ce)if(ze===je||(ze?.scrollIntoView({block:"nearest"}),ze===me&&D&&(D.scrollTop=0),ze===Ce&&D&&(D.scrollTop=D.scrollHeight),ze?.focus(),document.activeElement!==je))return},[K,D]),q=C.useCallback(()=>L([k,A]),[L,k,A]);C.useEffect(()=>{ne&&q()},[ne,q]);const{onOpenChange:$,triggerPointerDownPosRef:re}=T;C.useEffect(()=>{if(A){let ce={x:0,y:0};const me=Ce=>{ce={x:Math.abs(Math.round(Ce.pageX)-(re.current?.x??0)),y:Math.abs(Math.round(Ce.pageY)-(re.current?.y??0))}},Te=Ce=>{ce.x<=10&&ce.y<=10?Ce.preventDefault():A.contains(Ce.target)||$(!1),document.removeEventListener("pointermove",me),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Te,{capture:!0})}}},[A,$,re]),C.useEffect(()=>{const ce=()=>$(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[$]);const[ve,U]=xP(ce=>{const me=K().filter(je=>!je.disabled),Te=me.find(je=>je.ref.current===document.activeElement),Ce=EP(me,ce,Te);Ce&&setTimeout(()=>Ce.ref.current.focus())}),J=C.useCallback((ce,me,Te)=>{const Ce=!ge.current&&!Te;(T.value!==void 0&&T.value===me||Ce)&&(P(ce),Ce&&(ge.current=!0))},[T.value]),ee=C.useCallback(()=>A?.focus(),[A]),le=C.useCallback((ce,me,Te)=>{const Ce=!ge.current&&!Te;(T.value!==void 0&&T.value===me||Ce)&&B(ce)},[T.value]),be=i==="popper"?b_:oP,we=be===b_?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:v,sticky:_,hideWhenDetached:b,avoidCollisions:S}:{};return E.jsx(sP,{scope:n,content:A,viewport:D,onViewportChange:N,itemRefCallback:J,selectedItem:k,onItemLeave:ee,itemTextRefCallback:le,focusSelectedItem:q,selectedItemText:z,position:i,isPositioned:ne,searchRef:ve,children:E.jsx(Fw,{as:S9,allowPinchZoom:!0,children:E.jsx(jw,{asChild:!0,trapped:T.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:tn(r,ce=>{T.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:E.jsx(Pw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:E.jsx(be,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ce=>ce.preventDefault(),...x,...we,onPlaced:()=>ue(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:tn(x.onKeyDown,ce=>{const me=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!me&&ce.key.length===1&&U(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ce=K().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const je=ce.target,ze=Ce.indexOf(je);Ce=Ce.slice(ze+1)}setTimeout(()=>L(Ce)),ce.preventDefault()}})})})})})})});aP.displayName=w9;var x9="SelectItemAlignedPosition",oP=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:i,...r}=t,s=go(pl,n),a=po(pl,n),[l,u]=C.useState(null),[d,h]=C.useState(null),g=Sn(e,M=>h(M)),m=Rm(n),v=C.useRef(!1),_=C.useRef(!0),{viewport:b,selectedItem:S,selectedItemText:x,focusSelectedItem:T}=a,A=C.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&b&&S&&x){const M=s.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),z=x.getBoundingClientRect();if(s.dir!=="rtl"){const je=z.left-k.left,ze=P.left-je,zt=M.left-ze,xe=M.width+zt,Be=Math.max(xe,k.width),Xe=window.innerWidth-Ir,Dt=oD(ze,[Ir,Math.max(Ir,Xe-Be)]);l.style.minWidth=xe+"px",l.style.left=Dt+"px"}else{const je=k.right-z.right,ze=window.innerWidth-P.right-je,zt=window.innerWidth-M.right-ze,xe=M.width+zt,Be=Math.max(xe,k.width),Xe=window.innerWidth-Ir,Dt=oD(ze,[Ir,Math.max(Ir,Xe-Be)]);l.style.minWidth=xe+"px",l.style.right=Dt+"px"}const B=m(),K=window.innerHeight-Ir*2,ne=b.scrollHeight,ue=window.getComputedStyle(d),ge=parseInt(ue.borderTopWidth,10),L=parseInt(ue.paddingTop,10),q=parseInt(ue.borderBottomWidth,10),$=parseInt(ue.paddingBottom,10),re=ge+L+ne+$+q,ve=Math.min(S.offsetHeight*5,re),U=window.getComputedStyle(b),J=parseInt(U.paddingTop,10),ee=parseInt(U.paddingBottom,10),le=M.top+M.height/2-Ir,be=K-le,we=S.offsetHeight/2,ce=S.offsetTop+we,me=ge+L+ce,Te=re-me;if(me<=le){const je=B.length>0&&S===B[B.length-1].ref.current;l.style.bottom="0px";const ze=d.clientHeight-b.offsetTop-b.offsetHeight,zt=Math.max(be,we+(je?ee:0)+ze+q),xe=me+zt;l.style.height=xe+"px"}else{const je=B.length>0&&S===B[0].ref.current;l.style.top="0px";const zt=Math.max(le,ge+b.offsetTop+(je?J:0)+we)+Te;l.style.height=zt+"px",b.scrollTop=me-le+b.offsetTop}l.style.margin=`${Ir}px 0`,l.style.minHeight=ve+"px",l.style.maxHeight=K+"px",i?.(),requestAnimationFrame(()=>v.current=!0)}},[m,s.trigger,s.valueNode,l,d,b,S,x,s.dir,i]);gi(()=>A(),[A]);const[O,D]=C.useState();gi(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const N=C.useCallback(M=>{M&&_.current===!0&&(A(),T?.(),_.current=!1)},[A,T]);return E.jsx(C9,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:N,children:E.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:E.jsx(qt.div,{...r,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});oP.displayName=x9;var E9="SelectPopperPosition",b_=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:i="start",collisionPadding:r=Ir,...s}=t,a=Dm(n);return E.jsx(l9,{...a,...s,ref:e,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});b_.displayName=E9;var[C9,Qw]=vu(pl,{}),__="SelectViewport",lP=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:i,...r}=t,s=po(__,n),a=Qw(__,n),l=Sn(e,s.onViewportChange),u=C.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),E.jsx(Am.Slot,{scope:n,children:E.jsx(qt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:tn(r.onScroll,d=>{const h=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:m}=a;if(m?.current&&g){const v=Math.abs(u.current-h.scrollTop);if(v>0){const _=window.innerHeight-Ir*2,b=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),x=Math.max(b,S);if(x<_){const T=x+v,A=Math.min(_,T),O=T-A;g.style.height=A+"px",g.style.bottom==="0px"&&(h.scrollTop=O>0?O:0,g.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});lP.displayName=__;var cP="SelectGroup",[T9,A9]=vu(cP),R9=C.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=zc();return E.jsx(T9,{scope:n,id:r,children:E.jsx(qt.div,{role:"group","aria-labelledby":r,...i,ref:e})})});R9.displayName=cP;var uP="SelectLabel",dP=C.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=A9(uP,n);return E.jsx(qt.div,{id:r.id,...i,ref:e})});dP.displayName=uP;var Dp="SelectItem",[D9,fP]=vu(Dp),hP=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:i,disabled:r=!1,textValue:s,...a}=t,l=go(Dp,n),u=po(Dp,n),d=l.value===i,[h,g]=C.useState(s??""),[m,v]=C.useState(!1),_=Sn(e,T=>u.itemRefCallback?.(T,i,r)),b=zc(),S=C.useRef("touch"),x=()=>{r||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(D9,{scope:n,value:i,disabled:r,textId:b,isSelected:d,onItemTextChange:C.useCallback(T=>{g(A=>A||(T?.textContent??"").trim())},[]),children:E.jsx(Am.ItemSlot,{scope:n,value:i,disabled:r,textValue:h,children:E.jsx(qt.div,{role:"option","aria-labelledby":b,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:_,onFocus:tn(a.onFocus,()=>v(!0)),onBlur:tn(a.onBlur,()=>v(!1)),onClick:tn(a.onClick,()=>{S.current!=="mouse"&&x()}),onPointerUp:tn(a.onPointerUp,()=>{S.current==="mouse"&&x()}),onPointerDown:tn(a.onPointerDown,T=>{S.current=T.pointerType}),onPointerMove:tn(a.onPointerMove,T=>{S.current=T.pointerType,r?u.onItemLeave?.():S.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tn(a.onPointerLeave,T=>{T.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:tn(a.onKeyDown,T=>{u.searchRef?.current!==""&&T.key===" "||(g9.includes(T.key)&&x(),T.key===" "&&T.preventDefault())})})})})});hP.displayName=Dp;var Td="SelectItemText",gP=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:r,...s}=t,a=go(Td,n),l=po(Td,n),u=fP(Td,n),d=y9(Td,n),[h,g]=C.useState(null),m=Sn(e,x=>g(x),u.onItemTextChange,x=>l.itemTextRefCallback?.(x,u.value,u.disabled)),v=h?.textContent,_=C.useMemo(()=>E.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:S}=d;return gi(()=>(b(_),()=>S(_)),[b,S,_]),E.jsxs(E.Fragment,{children:[E.jsx(qt.span,{id:u.textId,...s,ref:m}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?tr.createPortal(s.children,a.valueNode):null]})});gP.displayName=Td;var pP="SelectItemIndicator",mP=C.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return fP(pP,n).isSelected?E.jsx(qt.span,{"aria-hidden":!0,...i,ref:e}):null});mP.displayName=pP;var w_="SelectScrollUpButton",vP=C.forwardRef((t,e)=>{const n=po(w_,t.__scopeSelect),i=Qw(w_,t.__scopeSelect),[r,s]=C.useState(!1),a=Sn(e,i.onScrollButtonChange);return gi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;s(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?E.jsx(bP,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});vP.displayName=w_;var S_="SelectScrollDownButton",yP=C.forwardRef((t,e)=>{const n=po(S_,t.__scopeSelect),i=Qw(S_,t.__scopeSelect),[r,s]=C.useState(!1),a=Sn(e,i.onScrollButtonChange);return gi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;s(h)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?E.jsx(bP,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});yP.displayName=S_;var bP=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:i,...r}=t,s=po("SelectScrollButton",n),a=C.useRef(null),l=Rm(n),u=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>u(),[u]),gi(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),E.jsx(qt.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:tn(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:tn(r.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:tn(r.onPointerLeave,()=>{u()})})}),O9="SelectSeparator",_P=C.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return E.jsx(qt.div,{"aria-hidden":!0,...i,ref:e})});_P.displayName=O9;var x_="SelectArrow",k9=C.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=Dm(n),s=go(x_,n),a=po(x_,n);return s.open&&a.position==="popper"?E.jsx(c9,{...r,...i,ref:e}):null});k9.displayName=x_;var M9="SelectBubbleInput",wP=C.forwardRef(({__scopeSelect:t,value:e,...n},i)=>{const r=C.useRef(null),s=Sn(i,r),a=u9(e);return C.useEffect(()=>{const l=r.current;if(!l)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==e&&h){const g=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(g)}},[a,e]),E.jsx(qt.select,{...n,style:{...QI,...n.style},ref:s,defaultValue:e})});wP.displayName=M9;function SP(t){return t===""||t===void 0}function xP(t){const e=dl(t),n=C.useRef(""),i=C.useRef(0),r=C.useCallback(a=>{const l=n.current+a;e(l),(function u(d){n.current=d,window.clearTimeout(i.current),d!==""&&(i.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),s=C.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,r,s]}function EP(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=N9(t,Math.max(s,0));r.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function N9(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var I9=XI,CP=JI,P9=tP,j9=nP,L9=iP,TP=rP,F9=lP,AP=dP,RP=hP,U9=gP,z9=mP,DP=vP,OP=yP,kP=_P;const MP=I9,NP=P9,Xw=C.forwardRef(({className:t,children:e,...n},i)=>E.jsxs(CP,{ref:i,className:ai("flex h-8 w-full items-center justify-between rounded border border-border bg-background px-1 py-1 text-[10px] ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,E.jsx(j9,{asChild:!0,children:E.jsx(bI,{className:"h-4 w-4 opacity-50"})})]}));Xw.displayName=CP.displayName;const IP=C.forwardRef(({className:t,...e},n)=>E.jsx(DP,{ref:n,className:ai("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(k8,{className:"h-4 w-4"})}));IP.displayName=DP.displayName;const PP=C.forwardRef(({className:t,...e},n)=>E.jsx(OP,{ref:n,className:ai("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(bI,{className:"h-4 w-4"})}));PP.displayName=OP.displayName;const Zw=C.forwardRef(({className:t,children:e,position:n="popper",...i},r)=>E.jsx(L9,{children:E.jsxs(TP,{ref:r,className:ai("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[E.jsx(IP,{}),E.jsx(F9,{className:ai("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),E.jsx(PP,{})]})}));Zw.displayName=TP.displayName;const H9=C.forwardRef(({className:t,...e},n)=>E.jsx(AP,{ref:n,className:ai("py-1 pl-6 pr-2 text-[10px] font-semibold",t),...e}));H9.displayName=AP.displayName;const Ld=C.forwardRef(({className:t,children:e,...n},i)=>E.jsxs(RP,{ref:i,className:ai("relative flex w-full cursor-default select-none items-center rounded-sm py-1 pl-6 pr-2 text-[10px] outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(z9,{children:E.jsx(R8,{className:"h-4 w-4"})})}),E.jsx(U9,{children:e})]}));Ld.displayName=RP.displayName;const B9=C.forwardRef(({className:t,...e},n)=>E.jsx(kP,{ref:n,className:ai("-mx-1 my-1 h-px bg-muted",t),...e}));B9.displayName=kP.displayName;const bD=({isOpen:t,title:e,message:n,onConfirm:i,onCancel:r,confirmText:s="Elimina",cancelText:a="Annulla",type:l="danger",customButtons:u=null})=>{if(!t)return null;const d=()=>{switch(l){case"danger":return"destructive";case"warning":return"secondary";case"info":return"default";default:return"destructive"}};return E.jsx(I8,{open:t,onOpenChange:r,children:E.jsxs(wI,{className:"sm:max-w-[425px]",children:[E.jsxs(SI,{children:[E.jsx(EI,{children:e}),E.jsx(CI,{children:n})]}),E.jsx(xI,{children:u?u.map((h,g)=>E.jsx(kn,{onClick:h.onClick,variant:h.variant||"secondary",children:h.text},g)):E.jsxs(E.Fragment,{children:[E.jsx(kn,{variant:"outline",onClick:r,children:a}),E.jsx(kn,{variant:d(),onClick:i,children:s})]})})]})})};function Om({config:t,initialData:e={},onSubmit:n,onSuccess:i,isEditMode:r=!1,isLoading:s=!1,customActions:a=null,customFieldRenderers:l={},className:u="p-1 bg-white rounded-lg shadow-sm border"}){const{handleAsync:d}=ys("GenericForm");NN();const h=C.useMemo(()=>{const k={};return t.sections.forEach(P=>{P.fields.forEach(z=>{z.name in e?k[z.name]=e[z.name]:z.defaultValue!==void 0?k[z.name]=z.defaultValue:k[z.name]=""})}),k},[t,e]),{register:g,handleSubmit:m,formState:{isSubmitting:v,errors:_},watch:b,setValue:S,getValues:x,reset:T,clearErrors:A}=QW({defaultValues:h,mode:"onChange"}),O=async k=>{await d(async()=>{await n(k),i&&i(),T(h)},{context:r?t.editContext:t.addContext,fallbackMessage:r?t.editErrorMessage:t.addErrorMessage})},D=k=>{const P=b(k.name);if(k.conditional&&!k.conditional(P,b,x))return null;if(l[k.type])return l[k.type](k,{watch:b,setValue:S,getValues:x,register:g,isSubmitting:v,fieldValue:P});const z={id:k.name,placeholder:k.placeholder,disabled:k.disabled||v,className:k.className||"",...g(k.name,k.validation||{})};switch(k.type){case"select":return E.jsxs("div",{children:[E.jsxs(MP,{onValueChange:B=>{S(k.name,B,{shouldValidate:!0}),A(k.name)},value:x(k.name)||"",disabled:k.disabled||v,children:[E.jsx(Xw,{className:_[k.name]?"border-red-500":"",children:E.jsx(NP,{placeholder:k.placeholder||`Seleziona ${k.label.toLowerCase()}`})}),E.jsx(Zw,{children:k.options?.map(B=>E.jsx(Ld,{value:B.value,children:B.label},B.value))})]}),_[k.name]&&E.jsx("p",{className:"text-[10px] text-red-600 mt-1",children:_[k.name].message})]});case"textarea":return E.jsxs("div",{children:[E.jsx("textarea",{...z,rows:k.rows||3,className:`w-full px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-navy-800 focus:border-transparent text-[10px] placeholder:text-muted-foreground ${k.className||""} ${_[k.name]?"border-red-500":""}`}),_[k.name]&&E.jsx("p",{className:"text-[10px] text-red-600 mt-1",children:_[k.name].message})]});case"checkbox":return E.jsx("div",{className:"flex flex-wrap gap-2",children:k.options?.map(B=>E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("input",{type:"checkbox",id:`${k.name}_${B.value}`,value:B.value,checked:P?.includes(B.value)||!1,onChange:K=>{const ne=x(k.name)||[];K.target.checked?S(k.name,[...ne,B.value].sort(),{shouldValidate:!0}):S(k.name,ne.filter(ue=>ue!==B.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),E.jsx(di,{htmlFor:`${k.name}_${B.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:B.label})]},B.value))});case"datetime-local":return E.jsxs("div",{children:[E.jsx(Gn,{type:"datetime-local",...z,className:`${z.className} ${_[k.name]?"border-red-500":""}`}),_[k.name]&&E.jsx("p",{className:"text-[10px] text-red-600 mt-1",children:_[k.name].message})]});case"date":return E.jsxs("div",{children:[E.jsx(Gn,{type:"date",...z,className:`${z.className} ${_[k.name]?"border-red-500":""}`}),_[k.name]&&E.jsx("p",{className:"text-[10px] text-red-600 mt-1",children:_[k.name].message})]});case"time":return E.jsxs("div",{children:[E.jsx(Gn,{type:"time",...z,className:`${z.className} ${_[k.name]?"border-red-500":""}`}),_[k.name]&&E.jsx("p",{className:"text-[10px] text-red-600 mt-1",children:_[k.name].message})]});case"number":return E.jsxs("div",{children:[E.jsx(Gn,{type:"number",...z,className:`${z.className} ${_[k.name]?"border-red-500":""}`}),_[k.name]&&E.jsx("p",{className:"text-[10px] text-red-600 mt-1",children:_[k.name].message})]});case"text":default:return E.jsxs("div",{children:[E.jsx(Gn,{type:"text",...z,className:`${z.className} ${_[k.name]?"border-red-500":""}`}),_[k.name]&&E.jsx("p",{className:"text-[10px] text-red-600 mt-1",children:_[k.name].message})]})}},N=k=>{const P=k.fields.filter(z=>!z.conditional||z.conditional(b(z.name),b,x));return P.length===0?null:E.jsxs("div",{className:"space-y-2",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:k.title}),E.jsx("div",{className:`grid gap-2 ${k.gridCols||"grid-cols-2 md:grid-cols-4 lg:grid-cols-8"}`,children:P.map(z=>E.jsxs("div",{className:"space-y-2",children:[E.jsxs(di,{htmlFor:z.name,children:[z.label," ",z.required&&"*"]}),D(z),z.helpText&&E.jsx("p",{className:"text-[10px] text-gray-500",children:z.helpText})]},z.name))})]},k.title)},M=k=>l[k]?l[k]():null;return E.jsx("div",{className:u,children:E.jsxs("form",{onSubmit:m(O),noValidate:!0,className:"space-y-2",children:[t.sections.map(N),t.customFields&&Object.keys(t.customFields).map(k=>E.jsx("div",{children:M(k)},k)),a&&E.jsx("div",{className:"space-y-2",children:a}),E.jsx("div",{className:"flex justify-end pt-4",children:E.jsx(kn,{type:"submit",size:"sm",disabled:s||v,children:s||v?r?t.editLoadingText:t.addLoadingText:r?t.editButtonText:t.addButtonText})})]})})}const br={validationSchema:"MACHINE",addButtonText:"Aggiungi Macchina",editButtonText:"Aggiorna Macchina",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Machine",editContext:"Update Machine",addErrorMessage:"Aggiunta macchina fallita",editErrorMessage:"Aggiornamento macchina fallita",sections:[{title:"Identificazione",fields:[{name:"department",label:"Department",type:"select",required:!0,options:[{value:en.PRINTING,label:en.PRINTING},{value:en.PACKAGING,label:en.PACKAGING}],defaultValue:Jt.MACHINE.DEPARTMENT,validation:{required:"Department is required"}},{name:"machine_type",label:"Machine Type",type:"select",required:!0,placeholder:"Seleziona tipo macchina",options:[],conditional:t=>t===en.PRINTING||t===en.PACKAGING,validation:{required:"Machine type is required"}},{name:"machine_name",label:"Machine Name",type:"text",required:!0,placeholder:"Nome descrittivo",validation:{required:"Machine name is required",minLength:{value:2,message:"Machine name must be at least 2 characters"},maxLength:{value:100,message:"Machine name must be at most 100 characters"},pattern:{value:/^[a-zA-Z0-9\s\-_]+$/,message:"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"}}},{name:"work_center",label:"Work Center",type:"select",required:!0,placeholder:"Seleziona un centro di lavoro",options:[{value:mt.ZANICA,label:mt.ZANICA},{value:mt.BUSTO_GAROLFO,label:mt.BUSTO_GAROLFO}],defaultValue:Jt.MACHINE.WORK_CENTER,helpText:"Il centro di lavoro  pre-impostato.",validation:{required:"Work center is required"}}]},{title:"Capacit Tecniche",fields:[{name:"min_web_width",label:"Min Web Width (mm)",type:"number",required:!0,defaultValue:Jt.MACHINE.MIN_WEB_WIDTH,validation:{required:"Min web width is required",min:{value:1,message:"Min web width must be at least 1"}}},{name:"max_web_width",label:"Max Web Width (mm)",type:"number",required:!0,defaultValue:Jt.MACHINE.MAX_WEB_WIDTH,validation:{required:"Max web width is required",min:{value:1,message:"Max web width must be at least 1"}}},{name:"min_bag_height",label:"Min Bag Height (mm)",type:"number",required:!0,defaultValue:Jt.MACHINE.MIN_BAG_HEIGHT,validation:{required:"Min bag height is required",min:{value:1,message:"Min bag height must be at least 1"}}},{name:"max_bag_height",label:"Max Bag Height (mm)",type:"number",required:!0,defaultValue:Jt.MACHINE.MAX_BAG_HEIGHT,validation:{required:"Max bag height is required",min:{value:1,message:"Max bag height must be at least 1"}}}]},{title:"Performance",fields:[{name:"standard_speed",label:"Standard Speed",type:"number",required:!0,placeholder:"pz/h o mt/h",validation:{required:"Standard speed is required",min:{value:1,message:"Standard speed must be at least 1"}}},{name:"setup_time_standard",label:"Setup Time Standard (h)",type:"number",required:!0,defaultValue:Jt.MACHINE.SETUP_TIME_STANDARD,validation:{required:"Setup time is required",min:{value:0,message:"Setup time must be at least 0"}}},{name:"changeover_color",label:"Changeover Color (h)",type:"number",required:!0,defaultValue:Jt.MACHINE.CHANGEOVER_COLOR,conditional:(t,e,n)=>n("department")===en.PRINTING,validation:{required:"Changeover color time is required",min:{value:0,message:"Changeover color time must be at least 0"}}},{name:"changeover_material",label:"Material Changeover (h)",type:"number",required:!0,defaultValue:Jt.MACHINE.CHANGEOVER_MATERIAL,conditional:(t,e,n)=>n("department")===en.PACKAGING,validation:{required:"Changeover material time is required",min:{value:0,message:"Changeover material time must be at least 0"}}}]},{title:"Disponibilit",fields:[{name:"active_shifts",label:"Active Shifts",type:"checkbox",required:!1,defaultValue:Jt.MACHINE.ACTIVE_SHIFTS,options:[{value:$o.T1,label:$o.T1},{value:$o.T2,label:$o.T2},{value:$o.T3,label:$o.T3}]},{name:"status",label:"Status",type:"select",required:!0,defaultValue:Jt.MACHINE.STATUS,options:[{value:us.ACTIVE,label:us.ACTIVE},{value:us.INACTIVE,label:us.INACTIVE}],validation:{required:"Status is required"}}]}]},ns={validationSchema:"PHASE",addButtonText:"Aggiungi Fase",editButtonText:"Aggiorna Fase",addLoadingText:"Aggiunta Fase...",editLoadingText:"Aggiornamento Fase...",addContext:"Add Phase",editContext:"Update Phase",addErrorMessage:"Aggiunta fase fallita",editErrorMessage:"Aggiornamento fase fallita",sections:[{title:"Informazioni Fase",fields:[{name:"name",label:"Nome Fase",type:"text",required:!0,placeholder:"es. Stampa Alta Velocit"},{name:"department",label:"Tipo Fase",type:"select",required:!0,options:[{value:en.PRINTING,label:en.PRINTING},{value:en.PACKAGING,label:en.PACKAGING}],defaultValue:Jt.PHASE.DEPARTMENT},{name:"numero_persone",label:"Numero di Persone Richieste",type:"number",required:!0,defaultValue:Jt.PHASE.NUMERO_PERSONE},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,options:[{value:mt.ZANICA,label:mt.ZANICA},{value:mt.BUSTO_GAROLFO,label:mt.BUSTO_GAROLFO}],defaultValue:Jt.PHASE.WORK_CENTER,helpText:"Il centro di lavoro  impostato in base alla tua selezione di accesso"}]},{title:"Parametri Stampa",fields:[{name:"v_stampa",label:"Velocit Stampa (mt/h)",type:"number",required:!0,defaultValue:Jt.PHASE.V_STAMPA,conditional:(t,e,n)=>n("department")===en.PRINTING},{name:"t_setup_stampa",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:Jt.PHASE.T_SETUP_STAMPA,conditional:(t,e,n)=>n("department")===en.PRINTING},{name:"costo_h_stampa",label:"Costo Orario (/h)",type:"number",required:!0,defaultValue:Jt.PHASE.COSTO_H_STAMPA,conditional:(t,e,n)=>n("department")===en.PRINTING}]},{title:"Parametri Confezionamento",fields:[{name:"v_conf",label:"Velocit Confezionamento (pz/h)",type:"number",required:!0,defaultValue:Jt.PHASE.V_CONF,conditional:(t,e,n)=>n("department")===en.PACKAGING},{name:"t_setup_conf",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:Jt.PHASE.T_SETUP_CONF,conditional:(t,e,n)=>n("department")===en.PACKAGING},{name:"costo_h_conf",label:"Costo Orario (/h)",type:"number",required:!0,defaultValue:Jt.PHASE.COSTO_H_CONF,conditional:(t,e,n)=>n("department")===en.PACKAGING}]},{title:"Descrizione Fase",fields:[{name:"contenuto_fase",label:"Descrizione Contenuto Fase",type:"textarea",required:!0,placeholder:"Descrivi il contenuto della fase e i requisiti...",rows:3}],gridCols:"grid-cols-1"}]},V9={validationSchema:"ORDER",addButtonText:"Aggiungi al Backlog",editButtonText:"Aggiorna Ordine",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Order",editContext:"Update Order",addErrorMessage:"Aggiunta ordine fallita",editErrorMessage:"Aggiornamento ordine fallito",sections:[{title:"Identificazione",fields:[{name:"odp_number",label:"Numero ODP",type:"text",required:!0,placeholder:"Inserisci numero ODP"},{name:"article_code",label:"Codice Articolo",type:"article_code",required:!0,placeholder:"Inserisci codice articolo"},{name:"production_lot",label:"Codice Articolo Esterno",type:"text",required:!0,placeholder:"Inserisci codice articolo esterno"},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,placeholder:"Seleziona centro di lavoro",options:[{value:mt.ZANICA,label:mt.ZANICA},{value:mt.BUSTO_GAROLFO,label:mt.BUSTO_GAROLFO}],conditional:(t,e,n)=>!0},{name:"nome_cliente",label:"Nome Cliente",type:"text",required:!0,placeholder:"Inserisci nome cliente"}]},{title:"Specifiche Tecniche",fields:[{name:"bag_height",label:"Altezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci altezza busta"},{name:"bag_width",label:"Larghezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci larghezza busta"},{name:"bag_step",label:"Passo Busta (mm)",type:"number",required:!1,placeholder:"Inserisci passo busta"},{name:"seal_sides",label:"Lati Sigillatura",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:"3",label:"3"},{value:"4",label:"4"}],defaultValue:Jt.ORDER.SEAL_SIDES},{name:"product_type",label:"Tipo Prodotto",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:mc.CREMA,label:mc.CREMA},{value:mc.LIQUIDO,label:mc.LIQUIDO},{value:mc.POLVERI,label:mc.POLVERI}]},{name:"quantity",label:"Quantit",type:"number",required:!0,placeholder:"Inserisci quantit"},{name:"quantity_completed",label:"Q.t Completata",type:"number",required:!0,defaultValue:Jt.ORDER.QUANTITY_COMPLETED}]},{title:"Dati Commerciali",fields:[{name:"internal_customer_code",label:"Lotto FLEXI",type:"text",required:!0,placeholder:"Inserisci lotto FLEXI"},{name:"external_customer_code",label:"Lotto Cliente",type:"text",required:!0,placeholder:"Inserisci lotto cliente"},{name:"customer_order_ref",label:"Riferimento Cliente",type:"text",required:!0,placeholder:"Inserisci riferimento cliente"},{name:"user_notes",label:"Note Libere",type:"textarea",required:!1,placeholder:"Inserisci note libere per l'ordine...",rows:3},{name:"asd_notes",label:"Note ASD",type:"textarea",required:!1,placeholder:"Inserisci note ASD per l'ordine...",rows:3}],gridCols:"grid-cols-2 md:grid-cols-3"},{title:"Dati Lavorazione & Pianificazione",fields:[{name:"department",label:"Reparto",type:"text",required:!0,readOnly:!0,className:"bg-gray-50"},{name:"phase_search",label:"Cerca Fase di Produzione",type:"phase_search",required:!0},{name:"delivery_date",label:"Data di Consegna",type:"datetime-local",required:!0}]},{title:"Disponibilit Materiali",fields:[{name:"material_availability_global",label:"Disponibilit Materiale Globale (%)",type:"number",required:!1,placeholder:"Inserisci percentuale disponibilit (0-100)",min:0,max:100}]}],customFields:{phase_parameters:{type:"phase_parameters",label:"Parametri Fase Selezionata"},calculation_results:{type:"calculation_results",label:"Risultati Calcolo Produzione"}},customValidation:t=>{const e={};return{isValid:Object.keys(e).length===0,errors:e}}},Yb={validationSchema:"OFF_TIME",addButtonText:"Imposta Non Disponibilit",editButtonText:"Aggiorna Non Disponibilit",addLoadingText:"Impostazione...",editLoadingText:"Aggiornamento...",addContext:"Set Machine Unavailability",editContext:"Update Machine Unavailability",addErrorMessage:"Impostazione indisponibilit macchina fallita",editErrorMessage:"Aggiornamento indisponibilit macchina fallita",sections:[{title:"Periodo di Non Disponibilit",fields:[{name:"startDate",label:"Data Inizio",type:"date",required:!0,defaultValue:""},{name:"startTime",label:"Ora Inizio",type:"time",required:!0,defaultValue:Jt.OFF_TIME.START_TIME},{name:"endDate",label:"Data Fine",type:"date",required:!0,defaultValue:""},{name:"endTime",label:"Ora Fine",type:"time",required:!0,defaultValue:Jt.OFF_TIME.END_TIME}]}],customValidation:t=>{const e={};if(t.startDate&&t.endDate){const n=new Date(t.startDate);new Date(t.endDate)<n&&(e.endDate=XA.END_DATE_BEFORE_START),t.startDate===t.endDate&&t.startTime&&t.endTime&&t.startTime>=t.endTime&&(e.endTime=XA.END_TIME_BEFORE_START)}return{isValid:Object.keys(e).length===0,errors:e}}};function $9({machineToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Tt(),{getValidMachineTypes:i}=vN(),r=gW(),s=pW(),a=!!t,l=C.useMemo(()=>{const g={...br};return g.sections[0].fields[1].options=[...i("STAMPA").map(m=>({value:m,label:m})),...i("CONFEZIONAMENTO").map(m=>({value:m,label:m}))],g.sections[0].fields[1].placeholder="Seleziona tipo macchina",n!==mt.BOTH&&(g.sections[0].fields[3].disabled=!0,g.sections[0].fields[3].defaultValue=n,g.sections[0].fields[3].helpText="Il centro di lavoro  pre-impostato."),g},[i,n]),u=C.useMemo(()=>({department:t?.department||br.sections[0].fields[0].defaultValue,machine_type:t?.machine_type||"",machine_name:t?.machine_name||"",work_center:t?.work_center||(n===mt.BOTH?br.sections[0].fields[3].defaultValue:n),min_web_width:t?.min_web_width||br.sections[1].fields[0].defaultValue,max_web_width:t?.max_web_width||br.sections[1].fields[1].defaultValue,min_bag_height:t?.min_bag_height||br.sections[1].fields[2].defaultValue,max_bag_height:t?.max_bag_height||br.sections[1].fields[3].defaultValue,standard_speed:t?.standard_speed||"",setup_time_standard:t?.setup_time_standard||br.sections[2].fields[1].defaultValue,changeover_color:t?.changeover_color||br.sections[2].fields[2].defaultValue,changeover_material:t?.changeover_material||br.sections[2].fields[3].defaultValue,active_shifts:t?.active_shifts||br.sections[3].fields[0].defaultValue,status:t?.status||br.sections[3].fields[1].defaultValue}),[n,t]),d=async g=>{a?await s.mutateAsync({id:t.id,updates:g}):await r.mutateAsync(g),e&&e()},h=r.isPending||s.isPending;return E.jsx(Om,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a,isLoading:h})}function Af({title:t,children:e}){return E.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-2 py-3 mb-2",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("div",{className:"flex items-center",children:t&&E.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:t})}),e]})})}function _D(){const{id:t}=sm(),e=vs(),{getMachineById:n}=Er(),{selectedWorkCenter:i}=Tt(),{isLoading:r,isInitialized:s,init:a,cleanup:l}=fo(),u=!!t,d=u?n(t):null;return C.useEffect(()=>(s||a(),()=>{l()}),[a,s,l]),C.useEffect(()=>{u&&!r&&!d&&e("/machinery",{replace:!0})},[u,r,d,e]),r?E.jsx("div",{children:"Caricamento..."}):u&&!d?E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Macchina non trovata."}):i?E.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[u&&E.jsxs(E.Fragment,{children:[E.jsx(Af,{title:`Modifica Macchina: ${d?.machine_name}`}),E.jsx("div",{className:"flex justify-end mb-1",children:E.jsx(wi,{to:`/machinery/${t}/calendar`,className:"inline-flex items-center px-1 py-1 border border-gray-300 rounded shadow-sm text-[10px] font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Visualizza Calendario"})})]}),E.jsx($9,{machineToEdit:d})]}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le macchine."})}function q9({machineId:t,currentDate:e,onSuccess:n}){const{setMachineUnavailability:i}=ds(),{showAlert:r}=Tt(),s=C.useMemo(()=>{const l=new Date,u=xf(l,1);return{startDate:Qn(l,"yyyy-MM-dd"),endDate:Qn(u,"yyyy-MM-dd"),startTime:Yb.sections[0].fields[1].defaultValue,endTime:Yb.sections[0].fields[3].defaultValue}},[e]),a=async l=>{await i(t,l.startDate,l.endDate,l.startTime,l.endTime),r("Indisponibilit macchina impostata con successo!","success"),n&&n()};return E.jsx(Om,{config:Yb,initialData:s,onSubmit:a,onSuccess:n,className:"p-1 bg-white rounded-lg shadow-sm border"})}var km,Ue,jP,LP,Zc,Zo,wD,FP,UP,Op={},zP=[],W9=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Wa(t,e){for(var n in e)t[n]=e[n];return t}function HP(t){var e=t.parentNode;e&&e.removeChild(t)}function F(t,e,n){var i,r,s,a={};for(s in e)s=="key"?i=e[s]:s=="ref"?r=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?km.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return tp(t,a,i,r,null)}function tp(t,e,n,i,r){var s={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++jP};return r==null&&Ue.vnode!=null&&Ue.vnode(s),s}function xi(){return{current:null}}function Ut(t){return t.children}function G9(t,e,n,i,r){var s;for(s in n)s==="children"||s==="key"||s in e||kp(t,s,null,n[s],i);for(s in e)r&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||kp(t,s,e[s],n[s],i)}function SD(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||W9.test(e)?n:n+"px"}function kp(t,e,n,i,r){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||SD(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||SD(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?i||t.addEventListener(e,s?ED:xD,s):t.removeEventListener(e,s?ED:xD,s);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function xD(t){Zc=!0;try{return this.l[t.type+!1](Ue.event?Ue.event(t):t)}finally{Zc=!1}}function ED(t){Zc=!0;try{return this.l[t.type+!0](Ue.event?Ue.event(t):t)}finally{Zc=!1}}function ir(t,e){this.props=t,this.context=e}function rf(t,e){if(e==null)return t.__?rf(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?rf(t):null}function BP(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return BP(t)}}function Y9(t){Zc?setTimeout(t):FP(t)}function E_(t){(!t.__d&&(t.__d=!0)&&Zo.push(t)&&!Mp.__r++||wD!==Ue.debounceRendering)&&((wD=Ue.debounceRendering)||Y9)(Mp)}function Mp(){var t,e,n,i,r,s,a,l;for(Zo.sort(function(u,d){return u.__v.__b-d.__v.__b});t=Zo.shift();)t.__d&&(e=Zo.length,i=void 0,r=void 0,a=(s=(n=t).__v).__e,(l=n.__P)&&(i=[],(r=Wa({},s)).__v=s.__v+1,Jw(l,s,r,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[a]:null,i,a??rf(s),s.__h),GP(i,s),s.__e!=a&&BP(s)),Zo.length>e&&Zo.sort(function(u,d){return u.__v.__b-d.__v.__b}));Mp.__r=0}function VP(t,e,n,i,r,s,a,l,u,d){var h,g,m,v,_,b,S,x=i&&i.__k||zP,T=x.length;for(n.__k=[],h=0;h<e.length;h++)if((v=n.__k[h]=(v=e[h])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?tp(null,v,null,null,v):Array.isArray(v)?tp(Ut,{children:v},null,null,null):v.__b>0?tp(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=n,v.__b=n.__b+1,(m=x[h])===null||m&&v.key==m.key&&v.type===m.type)x[h]=void 0;else for(g=0;g<T;g++){if((m=x[g])&&v.key==m.key&&v.type===m.type){x[g]=void 0;break}m=null}Jw(t,v,m=m||Op,r,s,a,l,u,d),_=v.__e,(g=v.ref)&&m.ref!=g&&(S||(S=[]),m.ref&&S.push(m.ref,null,v),S.push(g,v.__c||_,v)),_!=null?(b==null&&(b=_),typeof v.type=="function"&&v.__k===m.__k?v.__d=u=$P(v,u,t):u=qP(t,v,m,x,_,u),typeof n.type=="function"&&(n.__d=u)):u&&m.__e==u&&u.parentNode!=t&&(u=rf(m))}for(n.__e=b,h=T;h--;)x[h]!=null&&(typeof n.type=="function"&&x[h].__e!=null&&x[h].__e==n.__d&&(n.__d=WP(i).nextSibling),KP(x[h],x[h]));if(S)for(h=0;h<S.length;h++)YP(S[h],S[++h],S[++h])}function $P(t,e,n){for(var i,r=t.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=t,e=typeof i.type=="function"?$P(i,e,n):qP(n,i,i,r,i.__e,e));return e}function Np(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Np(n,e)}):e.push(t)),e}function qP(t,e,n,i,r,s){var a,l,u;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(r),a=null;else{for(l=s,u=0;(l=l.nextSibling)&&u<i.length;u+=1)if(l==r)break e;t.insertBefore(r,s),a=s}return a!==void 0?a:r.nextSibling}function WP(t){var e,n,i;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(i=WP(n)))return i}return null}function Jw(t,e,n,i,r,s,a,l,u){var d,h,g,m,v,_,b,S,x,T,A,O,D,N,M,k=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,s=[l]),(d=Ue.__b)&&d(e);try{e:if(typeof k=="function"){if(S=e.props,x=(d=k.contextType)&&i[d.__c],T=d?x?x.props.value:d.__:i,n.__c?b=(h=e.__c=n.__c).__=h.__E:("prototype"in k&&k.prototype.render?e.__c=h=new k(S,T):(e.__c=h=new ir(S,T),h.constructor=k,h.render=Q9),x&&x.sub(h),h.props=S,h.state||(h.state={}),h.context=T,h.__n=i,g=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),k.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Wa({},h.__s)),Wa(h.__s,k.getDerivedStateFromProps(S,h.__s))),m=h.props,v=h.state,h.__v=e,g)k.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(k.getDerivedStateFromProps==null&&S!==m&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(S,T),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(S,h.__s,T)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(h.props=S,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(P){P&&(P.__=e)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(S,h.__s,T),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(m,v,_)})}if(h.context=T,h.props=S,h.__P=t,O=Ue.__r,D=0,"prototype"in k&&k.prototype.render){for(h.state=h.__s,h.__d=!1,O&&O(e),d=h.render(h.props,h.state,h.context),N=0;N<h._sb.length;N++)h.__h.push(h._sb[N]);h._sb=[]}else do h.__d=!1,O&&O(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++D<25);h.state=h.__s,h.getChildContext!=null&&(i=Wa(Wa({},i),h.getChildContext())),g||h.getSnapshotBeforeUpdate==null||(_=h.getSnapshotBeforeUpdate(m,v)),M=d!=null&&d.type===Ut&&d.key==null?d.props.children:d,VP(t,Array.isArray(M)?M:[M],e,n,i,r,s,a,l,u),h.base=e.__e,e.__h=null,h.__h.length&&a.push(h),b&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=K9(n.__e,e,n,i,r,s,a,u);(d=Ue.diffed)&&d(e)}catch(P){e.__v=null,(u||s!=null)&&(e.__e=l,e.__h=!!u,s[s.indexOf(l)]=null),Ue.__e(P,e,n)}}function GP(t,e){Ue.__c&&Ue.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){Ue.__e(i,n.__v)}})}function K9(t,e,n,i,r,s,a,l){var u,d,h,g=n.props,m=e.props,v=e.type,_=0;if(v==="svg"&&(r=!0),s!=null){for(;_<s.length;_++)if((u=s[_])&&"setAttribute"in u==!!v&&(v?u.localName===v:u.nodeType===3)){t=u,s[_]=null;break}}if(t==null){if(v===null)return document.createTextNode(m);t=r?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,m.is&&m),s=null,l=!1}if(v===null)g===m||l&&t.data===m||(t.data=m);else{if(s=s&&km.call(t.childNodes),d=(g=n.props||Op).dangerouslySetInnerHTML,h=m.dangerouslySetInnerHTML,!l){if(s!=null)for(g={},_=0;_<t.attributes.length;_++)g[t.attributes[_].name]=t.attributes[_].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(G9(t,m,g,r,l),h)e.__k=[];else if(_=e.props.children,VP(t,Array.isArray(_)?_:[_],e,n,i,r&&v!=="foreignObject",s,a,s?s[0]:n.__k&&rf(n,0),l),s!=null)for(_=s.length;_--;)s[_]!=null&&HP(s[_]);l||("value"in m&&(_=m.value)!==void 0&&(_!==t.value||v==="progress"&&!_||v==="option"&&_!==g.value)&&kp(t,"value",_,g.value,!1),"checked"in m&&(_=m.checked)!==void 0&&_!==t.checked&&kp(t,"checked",_,g.checked,!1))}return t}function YP(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){Ue.__e(i,n)}}function KP(t,e,n){var i,r;if(Ue.unmount&&Ue.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||YP(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){Ue.__e(s,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&KP(i[r],e,n||typeof t.type!="function");n||t.__e==null||HP(t.__e),t.__=t.__e=t.__d=void 0}function Q9(t,e,n){return this.constructor(t,n)}function sf(t,e,n){var i,r,s;Ue.__&&Ue.__(t,e),r=(i=!1)?null:e.__k,s=[],Jw(e,t=e.__k=F(Ut,null,[t]),r||Op,Op,e.ownerSVGElement!==void 0,r?null:e.firstChild?km.call(e.childNodes):null,s,r?r.__e:e.firstChild,i),GP(s,t)}function X9(t,e){var n={__c:e="__cC"+UP++,__:t,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&r.some(function(l){l.__e=!0,E_(l)})},this.sub=function(a){r.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){r.splice(r.indexOf(a),1),l&&l.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}km=zP.slice,Ue={__e:function(t,e,n,i){for(var r,s,a;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(t)),a=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,i||{}),a=r.__d),a)return r.__E=r}catch(l){t=l}throw t}},jP=0,LP=function(t){return t!=null&&t.constructor===void 0},Zc=!1,ir.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Wa({},this.state),typeof t=="function"&&(t=t(Wa({},n),this.props)),t&&Wa(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),E_(this))},ir.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),E_(this))},ir.prototype.render=Ut,Zo=[],FP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Mp.__r=0,UP=0;var cs,Kb,CD,QP=[],Qb=[],TD=Ue.__b,AD=Ue.__r,RD=Ue.diffed,DD=Ue.__c,OD=Ue.unmount;function Z9(){for(var t;t=QP.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(np),t.__H.__h.forEach(C_),t.__H.__h=[]}catch(e){t.__H.__h=[],Ue.__e(e,t.__v)}}Ue.__b=function(t){cs=null,TD&&TD(t)},Ue.__r=function(t){AD&&AD(t);var e=(cs=t.__c).__H;e&&(Kb===cs?(e.__h=[],cs.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Qb,n.__N=n.i=void 0})):(e.__h.forEach(np),e.__h.forEach(C_),e.__h=[])),Kb=cs},Ue.diffed=function(t){RD&&RD(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(QP.push(e)!==1&&CD===Ue.requestAnimationFrame||((CD=Ue.requestAnimationFrame)||J9)(Z9)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Qb&&(n.__=n.__V),n.i=void 0,n.__V=Qb})),Kb=cs=null},Ue.__c=function(t,e){e.some(function(n){try{n.__h.forEach(np),n.__h=n.__h.filter(function(i){return!i.__||C_(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Ue.__e(i,n.__v)}}),DD&&DD(t,e)},Ue.unmount=function(t){OD&&OD(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{np(i)}catch(r){e=r}}),n.__H=void 0,e&&Ue.__e(e,n.__v))};var kD=typeof requestAnimationFrame=="function";function J9(t){var e,n=function(){clearTimeout(i),kD&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);kD&&(e=requestAnimationFrame(n))}function np(t){var e=cs,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),cs=e}function C_(t){var e=cs;t.__c=t.__(),cs=e}function e7(t,e){for(var n in e)t[n]=e[n];return t}function MD(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function ND(t){this.props=t}(ND.prototype=new ir).isPureReactComponent=!0,ND.prototype.shouldComponentUpdate=function(t,e){return MD(this.props,t)||MD(this.state,e)};var ID=Ue.__b;Ue.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ID&&ID(t)};var t7=Ue.__e;Ue.__e=function(t,e,n,i){if(t.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}t7(t,e,n,i)};var PD=Ue.unmount;function XP(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=e7({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return XP(i,e,n)})),t}function ZP(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return ZP(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Xb(){this.__u=0,this.t=null,this.__b=null}function JP(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Tg(){this.u=null,this.o=null}Ue.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),PD&&PD(t)},(Xb.prototype=new ir).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=JP(i.__v),s=!1,a=function(){s||(s=!0,n.__R=null,r?r(l):l())};n.__R=a;var l=function(){if(!--i.__u){if(i.state.__a){var d=i.state.__a;i.__v.__k[0]=ZP(d,d.__c.__P,d.__c.__O)}var h;for(i.setState({__a:i.__b=null});h=i.t.pop();)h.forceUpdate()}},u=e.__h===!0;i.__u++||u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},Xb.prototype.componentWillUnmount=function(){this.t=[]},Xb.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=XP(this.__b,n,i.__O=i.__P)}this.__b=null}var r=e.__a&&F(Ut,null,t.fallback);return r&&(r.__h=null),[F(Ut,null,e.__a?null:t.children),r]};var jD=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function n7(t){return this.getChildContext=function(){return t.context},t.children}function i7(t){var e=this,n=t.i;e.componentWillUnmount=function(){sf(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),sf(F(n7,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function r7(t,e){var n=F(i7,{__v:t,i:e});return n.containerInfo=e,n}(Tg.prototype=new ir).__a=function(t){var e=this,n=JP(e.__v),i=e.o.get(t);return i[0]++,function(r){var s=function(){e.props.revealOrder?(i.push(r),jD(e,t,i)):r()};n?n(s):s()}},Tg.prototype.render=function(t){this.u=null,this.o=new Map;var e=Np(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Tg.prototype.componentDidUpdate=Tg.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){jD(t,n,e)})};var s7=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,a7=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,o7=typeof document<"u",l7=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};ir.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ir.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var LD=Ue.event;function c7(){}function u7(){return this.cancelBubble}function d7(){return this.defaultPrevented}Ue.event=function(t){return LD&&(t=LD(t)),t.persist=c7,t.isPropagationStopped=u7,t.isDefaultPrevented=d7,t.nativeEvent=t};var FD={configurable:!0,get:function(){return this.class}},UD=Ue.vnode;Ue.vnode=function(t){var e=t.type,n=t.props,i=n;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var s in i={},n){var a=n[s];o7&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&a==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&a===!0?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!l7(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&a7.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s]&&(s="oninputCapture")),i[s]=a)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Np(n.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=Np(n.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),t.props=i,n.class!=n.className&&(FD.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",FD))}t.$$typeof=s7,UD&&UD(t)};var zD=Ue.__r;Ue.__r=function(t){zD&&zD(t),t.__c};const ej=[],T_=new Map;function Mm(t){ej.push(t),T_.forEach(e=>{nj(e,t)})}function f7(t){t.isConnected&&t.getRootNode&&tj(t.getRootNode())}function tj(t){let e=T_.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=g7();n&&(e.nonce=n);const i=t===document?document.head:t,r=t===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}T_.set(t,e),h7(e)}}function h7(t){for(const e of ej)nj(t,e)}function nj(t,e){const{sheet:n}=t,i=n.cssRules.length;e.split("}").forEach((r,s)=>{r=r.trim(),r&&n.insertRule(r+"}",i+s)})}let Zb;function g7(){return Zb===void 0&&(Zb=p7()),Zb}function p7(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&tj(document);var m7=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Mm(m7);class eS{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:i}=this;e in i&&(n?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function tS(t){t.parentNode&&t.parentNode.removeChild(t)}function fi(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(v7(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function v7(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function y7(t,e){let n=t instanceof HTMLElement?[t]:t,i=[];for(let r=0;r<n.length;r+=1){let s=n[r].querySelectorAll(e);for(let a=0;a<s.length;a+=1)i.push(s[a])}return i}const b7=/(top|left|right|bottom|width|height)$/i;function Fd(t,e){for(let n in e)ij(t,n,e[n])}function ij(t,e,n){n==null?t.style[e]="":typeof n=="number"&&b7.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function rj(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let HD=0;function Za(){return HD+=1,"fc-dom-"+HD}function Nm(t){t.preventDefault()}function _7(t,e){return n=>{let i=fi(n.target,t);i&&e.call(i,n,i)}}function sj(t,e,n,i){let r=_7(n,i);return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}function w7(t,e,n,i){let r;return sj(t,"mouseover",e,(s,a)=>{if(a!==r){r=a,n(s,a);let l=u=>{r=null,i(u,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}const BD=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function S7(t,e){let n=i=>{e(i),BD.forEach(r=>{t.removeEventListener(r,n)})};BD.forEach(i=>{t.addEventListener(i,n)})}function aj(t){return Object.assign({onClick:t},oj(t))}function oj(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let VD=0;function xl(){return VD+=1,String(VD)}function nS(){document.body.classList.add("fc-not-allowed")}function iS(){document.body.classList.remove("fc-not-allowed")}function x7(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Nm)}function E7(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Nm)}function C7(t){t.addEventListener("contextmenu",Nm)}function T7(t){t.removeEventListener("contextmenu",Nm)}function A7(t){let e=[],n=[],i,r;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),i=0;i<n.length;i+=1)r=n[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function R7(t,e,n){let i,r;for(i=0;i<n.length;i+=1)if(r=D7(t,e,n[i]),r)return r;return 0}function D7(t,e,n){return n.func?n.func(t,e):O7(t[n.field],e[n.field])*(n.order||1)}function O7(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Vc(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ud(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((i,r,s)=>i.replace("$"+s,r||""),t):n}function k7(t,e){return t-e}function ip(t){return t%1===0}function M7(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const $D=["years","months","days","milliseconds"],N7=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function pt(t,e){return typeof t=="string"?I7(t):typeof t=="object"&&t?qD(t):typeof t=="number"?qD({[e||"milliseconds"]:t}):null}function I7(t){let e=N7.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function qD(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function P7(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function A_(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function j7(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function L7(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function F7(t){return $c(t)/365}function U7(t){return $c(t)/30}function $c(t){return Hr(t)/864e5}function Hr(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function rS(t,e){let n=null;for(let i=0;i<$D.length;i+=1){let r=$D[i];if(e[r]){let s=t[r]/e[r];if(!ip(s)||n!==null&&n!==s)return null;n=s}else if(t[r])return null}return n}function R_(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function ro(t,e,n){if(t===e)return!0;let i=t.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(t[r],e[r]):t[r]===e[r]))return!1;return!0}const z7=["sun","mon","tue","wed","thu","fri","sat"];function WD(t,e){let n=Ga(t);return n[2]+=e*7,zi(n)}function Nn(t,e){let n=Ga(t);return n[2]+=e,zi(n)}function so(t,e){let n=Ga(t);return n[6]+=e,zi(n)}function H7(t,e){return mo(t,e)/7}function mo(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function B7(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function V7(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function $7(t,e){return(e.valueOf()-t.valueOf())/1e3}function q7(t,e){let n=$t(t),i=$t(e);return{years:0,months:0,days:Math.round(mo(n,i)),milliseconds:e.valueOf()-i.valueOf()-(t.valueOf()-n.valueOf())}}function W7(t,e){let n=Ip(t,e);return n!==null&&n%7===0?n/7:null}function Ip(t,e){return Ya(t)===Ya(e)?Math.round(mo(t,e)):null}function $t(t){return zi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function G7(t){return zi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Y7(t){return zi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function K7(t){return zi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Q7(t,e,n){let i=t.getUTCFullYear(),r=Jb(t,i,e,n);if(r<1)return Jb(t,i-1,e,n);let s=Jb(t,i+1,e,n);return s>=1?Math.min(r,s):r}function Jb(t,e,n,i){let r=zi([e,0,1+X7(e,n,i)]),s=$t(t),a=Math.round(mo(r,s));return Math.floor(a/7)+1}function X7(t,e,n){let i=7+e-n;return-((7+zi([t,0,i]).getUTCDay()-e)%7)+i-1}function GD(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function YD(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Ga(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function zi(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function lj(t){return!isNaN(t.valueOf())}function Ya(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function cj(t,e,n=!1){let i=t.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",sS(e,!0)))),i}function Rf(t){return t.toISOString().replace(/T.*$/,"")}function Z7(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function J7(t){return Vc(t.getUTCHours(),2)+":"+Vc(t.getUTCMinutes(),2)+":"+Vc(t.getUTCSeconds(),2)}function sS(t,e=!1){let n=t<0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),s=Math.round(i%60);return e?`${n+Vc(r,2)}:${Vc(s,2)}`:`GMT${n}${r}${s?`:${Vc(s,2)}`:""}`}function Le(t,e,n){let i,r;return function(...s){if(!i)r=t.apply(this,s);else if(!ro(i,s)){let a=t.apply(this,s);(!e||!e(a,r))&&(r=a)}return i=s,r}}function rp(t,e,n){let i,r;return s=>(i?Wr(i,s)||(r=t.call(this,s)):r=t.call(this,s),i=s,r)}const e0={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Pp={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ag=/\s*([ap])\.?m\.?/i,eK=/,/g,tK=/\s+/g,nK=/\u200e/g,iK=/UTC|GMT/;class rK{constructor(e){let n={},i={},r=9;for(let s in e)s in e0?(i[s]=e[s],e0[s]<9&&(r=Math.min(e0[s],r))):(n[s]=e[s],s in Pp&&(r=Math.min(Pp[s],r)));this.standardDateProps=n,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=Le(KD)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,i,r){let{standardDateProps:s,extendedSettings:a}=this,l=uK(e.marker,n.marker,i.calendarSystem);if(!l)return this.format(e,i);let u=l;u>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(u=1);let d=this.format(e,i),h=this.format(n,i);if(d===h)return d;let g=dK(s,u),m=KD(g,a,i),v=m(e),_=m(n),b=fK(d,v,h,_),S=a.separator||r||i.defaultSeparator||"";return b?b.before+v+S+_+b.after:d+S+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function KD(t,e,n){let i=Object.keys(t).length;return i===1&&t.timeZoneName==="short"?r=>sS(r.timeZoneOffset):i===0&&e.week?r=>cK(n.computeWeekNumber(r.marker),n.weekText,n.weekTextLong,n.locale,e.week):sK(t,e,n)}function sK(t,e,n){t=Object.assign({},t),e=Object.assign({},e),aK(t,e),t.timeZone="UTC";let i=new Intl.DateTimeFormat(n.locale.codes,t),r;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,r=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:a}=s,l;r&&!a.getUTCMinutes()?l=r:l=i;let u=l.format(a);return oK(u,s,t,e,n)}}function aK(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function oK(t,e,n,i,r){return t=t.replace(nK,""),n.timeZoneName==="short"&&(t=lK(t,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":sS(e.timeZoneOffset))),i.omitCommas&&(t=t.replace(eK,"").trim()),i.omitZeroMinute&&(t=t.replace(":00","")),i.meridiem===!1?t=t.replace(Ag,"").trim():i.meridiem==="narrow"?t=t.replace(Ag,(s,a)=>a.toLocaleLowerCase()):i.meridiem==="short"?t=t.replace(Ag,(s,a)=>`${a.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(t=t.replace(Ag,s=>s.toLocaleLowerCase())),t=t.replace(tK," "),t=t.trim(),t}function lK(t,e){let n=!1;return t=t.replace(iK,()=>(n=!0,e)),n||(t+=` ${e}`),t}function cK(t,e,n,i,r){let s=[];return r==="long"?s.push(n):(r==="short"||r==="narrow")&&s.push(e),(r==="long"||r==="short")&&s.push(" "),s.push(i.simpleNumberFormat.format(t)),i.options.direction==="rtl"&&s.reverse(),s.join("")}function uK(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Ya(t)!==Ya(e)?1:0}function dK(t,e){let n={};for(let i in t)(!(i in Pp)||Pp[i]<=e)&&(n[i]=t[i]);return n}function fK(t,e,n,i){let r=0;for(;r<t.length;){let s=t.indexOf(e,r);if(s===-1)break;let a=t.substr(0,s);r=s+e.length;let l=t.substr(r),u=0;for(;u<n.length;){let d=n.indexOf(i,u);if(d===-1)break;let h=n.substr(0,d);u=d+i.length;let g=n.substr(u);if(a===h&&l===g)return{before:a,after:l}}}return null}function QD(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function jp(t,e,n,i){let r=QD(t,n.calendarSystem),s=e?QD(e,n.calendarSystem):null;return{date:r,start:r,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}class hK{constructor(e){this.cmdStr=e}format(e,n,i){return n.cmdFormatter(this.cmdStr,jp(e,null,n,i))}formatRange(e,n,i,r){return i.cmdFormatter(this.cmdStr,jp(e,n,i,r))}}class gK{constructor(e){this.func=e}format(e,n,i){return this.func(jp(e,null,n,i))}formatRange(e,n,i,r){return this.func(jp(e,n,i,r))}}function nn(t){return typeof t=="object"&&t?new rK(t):typeof t=="string"?new hK(t):typeof t=="function"?new gK(t):null}const XD={navLinkDayClick:se,navLinkWeekClick:se,duration:pt,bootstrapFontAwesome:se,buttonIcons:se,customButtons:se,defaultAllDayEventDuration:pt,defaultTimedEventDuration:pt,nextDayThreshold:pt,scrollTime:pt,scrollTimeReset:Boolean,slotMinTime:pt,slotMaxTime:pt,dayPopoverFormat:nn,slotDuration:pt,snapDuration:pt,headerToolbar:se,footerToolbar:se,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:nn,dayHeaderClassNames:se,dayHeaderContent:se,dayHeaderDidMount:se,dayHeaderWillUnmount:se,dayCellClassNames:se,dayCellContent:se,dayCellDidMount:se,dayCellWillUnmount:se,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:se,weekNumbers:Boolean,weekNumberClassNames:se,weekNumberContent:se,weekNumberDidMount:se,weekNumberWillUnmount:se,editable:Boolean,viewClassNames:se,viewDidMount:se,viewWillUnmount:se,nowIndicator:Boolean,nowIndicatorSnap:se,nowIndicatorClassNames:se,nowIndicatorContent:se,nowIndicatorDidMount:se,nowIndicatorWillUnmount:se,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:se,locale:se,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:se,eventOrder:A7,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:se,contentHeight:se,direction:String,weekNumberFormat:nn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:se,initialDate:se,now:se,eventDataTransform:se,stickyHeaderDates:se,stickyFooterScrollbar:se,viewHeight:se,defaultAllDay:Boolean,eventSourceFailure:se,eventSourceSuccess:se,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:se,eventConstraint:se,eventAllow:se,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:se,eventContent:se,eventDidMount:se,eventWillUnmount:se,selectConstraint:se,selectOverlap:se,selectAllow:se,droppable:Boolean,unselectCancel:String,slotLabelFormat:se,slotLaneClassNames:se,slotLaneContent:se,slotLaneDidMount:se,slotLaneWillUnmount:se,slotLabelClassNames:se,slotLabelContent:se,slotLabelDidMount:se,slotLabelWillUnmount:se,dayMaxEvents:se,dayMaxEventRows:se,dayMinWidth:Number,slotLabelInterval:pt,allDayText:String,allDayClassNames:se,allDayContent:se,allDayDidMount:se,allDayWillUnmount:se,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:nn,rerenderDelay:Number,moreLinkText:se,moreLinkHint:se,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:se,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:pt,hiddenDays:se,fixedWeekCount:Boolean,validRange:se,visibleRange:se,titleFormat:se,eventInteractive:Boolean,noEventsText:String,viewHint:se,navLinkHint:se,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:se,moreLinkClassNames:se,moreLinkContent:se,moreLinkDidMount:se,moreLinkWillUnmount:se,monthStartFormat:nn,handleCustomRendering:se,customRenderingMetaMap:se,customRenderingReplaces:Boolean},zd={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},ZD={datesSet:se,eventsSet:se,eventAdd:se,eventChange:se,eventRemove:se,windowResize:se,eventClick:se,eventMouseEnter:se,eventMouseLeave:se,select:se,unselect:se,loading:se,_unmount:se,_beforeprint:se,_afterprint:se,_noEventDrop:se,_noEventResize:se,_resize:se,_scrollRequest:se},JD={buttonText:se,buttonHints:se,views:se,plugins:se,initialEvents:se,events:se,eventSources:se},Wo={headerToolbar:Go,footerToolbar:Go,buttonText:Go,buttonHints:Go,buttonIcons:Go,dateIncrement:Go,plugins:Rg,events:Rg,eventSources:Rg,resources:Rg};function Go(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Wr(t,e):t===e}function Rg(t,e){return Array.isArray(t)&&Array.isArray(e)?ro(t,e):t===e}const pK={type:String,component:se,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:se,usesMinMaxTime:Boolean,classNames:se,content:se,didMount:se,willUnmount:se};function t0(t){return oS(t,Wo)}function aS(t,e){let n={},i={};for(let r in e)r in t&&(n[r]=e[r](t[r]));for(let r in t)r in e||(i[r]=t[r]);return{refined:n,extra:i}}function se(t){return t}const{hasOwnProperty:Lp}=Object.prototype;function oS(t,e){let n={};if(e){for(let i in e)if(e[i]===Go){let r=[];for(let s=t.length-1;s>=0;s-=1){let a=t[s][i];if(typeof a=="object"&&a)r.unshift(a);else if(a!==void 0){n[i]=a;break}}r.length&&(n[i]=oS(r))}}for(let i=t.length-1;i>=0;i-=1){let r=t[i];for(let s in r)s in n||(n[s]=r[s])}return n}function ml(t,e){let n={};for(let i in t)e(t[i],i)&&(n[i]=t[i]);return n}function sa(t,e){let n={};for(let i in t)n[i]=e(t[i],i);return n}function uj(t){let e={};for(let n of t)e[n]=!0;return e}function lS(t){let e=[];for(let n in t)e.push(t[n]);return e}function Wr(t,e){if(t===e)return!0;for(let n in t)if(Lp.call(t,n)&&!(n in e))return!1;for(let n in e)if(Lp.call(e,n)&&t[n]!==e[n])return!1;return!0}const mK=/^on[A-Z]/;function vK(t,e){const n=yK(t,e);for(let i of n)if(!mK.test(i))return!1;return!0}function yK(t,e){let n=[];for(let i in t)Lp.call(t,i)&&(i in e||n.push(i));for(let i in e)Lp.call(e,i)&&t[i]!==e[i]&&n.push(i);return n}function n0(t,e,n={}){if(t===e)return!0;for(let i in e)if(!(i in t&&bK(t[i],e[i],n[i])))return!1;for(let i in t)if(!(i in e))return!1;return!0}function bK(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function _K(t,e=0,n,i=1){let r=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=i){let a=t[s];a!==void 0&&r.push(a)}return r}let dj={};function wK(t,e){dj[t]=e}function SK(t){return new dj[t]}class xK{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return zi(e)}markerToArray(e){return Ga(e)}}wK("gregory",xK);const EK=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function CK(t){let e=EK.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(lj(n)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class TK{constructor(e){let n=this.timeZone=e.timeZone,i=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=SK(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):zi(GD(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=zi(e)),n===null||!lj(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=CK(e);if(n===null)return null;let{marker:i}=n,r=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-n.timeZoneOffset*60*1e3):r=n.timeZoneOffset),{marker:i,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n.years,i[1]+=n.months,i[2]+=n.days,i[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]-=n.years,i[1]-=n.months,i[2]-=n.days,i[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n,this.calendarSystem.arrayToMarker(i)}addMonths(e,n){let i=this.calendarSystem.markerToArray(e);return i[1]+=n,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,n){let{calendarSystem:i}=this;return Ya(e)===Ya(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)&&i.getMarkerMonth(e)===i.getMarkerMonth(n)?i.getMarkerYear(n)-i.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:i}=this;return Ya(e)===Ya(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)?i.getMarkerMonth(n)-i.getMarkerMonth(e)+(i.getMarkerYear(n)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let i=this.diffWholeYears(e,n);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,n),i!==null?{unit:"month",value:i}:(i=W7(e,n),i!==null?{unit:"week",value:i}:(i=Ip(e,n),i!==null?{unit:"day",value:i}:(i=B7(e,n),ip(i)?{unit:"hour",value:i}:(i=V7(e,n),ip(i)?{unit:"minute",value:i}:(i=$7(e,n),ip(i)?{unit:"second",value:i}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,i){let r;return i.years&&(r=this.diffWholeYears(e,n),r!==null)?r/F7(i):i.months&&(r=this.diffWholeMonths(e,n),r!==null)?r/U7(i):i.days&&(r=Ip(e,n),r!==null)?r/$c(i):(n.valueOf()-e.valueOf())/Hr(i)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?$t(e):n==="hour"?G7(e):n==="minute"?Y7(e):n==="second"?K7(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Q7(e,this.weekDow,this.weekDoy)}format(e,n,i={}){return n.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,i,r={}){return r.isEndExclusive&&(n=so(n,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(n)},this,r.defaultSeparator)}formatIso(e,n={}){let i=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?i=n.forcedTzo:i=this.offsetForMarker(e)),cj(e,i,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?zi(GD(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):zi(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-YD(Ga(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ga(e)):null}toDate(e,n){return this.timeZone==="local"?YD(Ga(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ga(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Df{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,i;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(i in e)n[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let i;return n&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Df.prototype.classes={};Df.prototype.iconClasses={};Df.prototype.baseIconClass="";Df.prototype.iconOverridePrefix="";function Fp(t){t();let e=Ue.debounceRendering,n=[];function i(r){n.push(r)}for(Ue.debounceRendering=i,sf(F(AK,{}),document.createElement("div"));n.length;)n.shift()();Ue.debounceRendering=e}class AK extends ir{render(){return F("div",{})}componentDidMount(){this.setState({})}}function fj(t){let e=X9(t),n=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=n.apply(this,arguments);if(i){let s=[];this.shouldComponentUpdate=a=>{this.props.value!==a.value&&s.forEach(l=>{l.context=a.value,l.forceUpdate()})},this.sub=a=>{s.push(a);let l=a.componentWillUnmount;a.componentWillUnmount=()=>{s.splice(s.indexOf(a),1),l&&l.call(a)}}}return r},e}class RK{constructor(e,n,i,r){this.execFunc=e,this.emitter=n,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ca=fj({});function DK(t,e,n,i,r,s,a,l,u,d,h,g,m,v){return{dateEnv:r,nowManager:s,options:n,pluginHooks:l,emitter:h,dispatch:u,getCurrentData:d,calendarApi:g,viewSpec:t,viewApi:e,dateProfileGenerator:i,theme:a,isRtl:n.direction==="rtl",addResizeHandler(_){h.on("_resize",_)},removeResizeHandler(_){h.off("_resize",_)},createScrollResponder(_){return new RK(_,h,pt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:m,unregisterInteractiveComponent:v}}class El extends ir{shouldComponentUpdate(e,n){return!n0(this.props,e,this.propEquality)||!n0(this.state,n,this.stateEquality)}safeSetState(e){n0(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}El.addPropsEquality=OK;El.addStateEquality=kK;El.contextType=ca;El.prototype.propEquality={};El.prototype.stateEquality={};class At extends El{}At.contextType=ca;function OK(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function kK(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function ms(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class cS extends At{constructor(){super(...arguments),this.id=xl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:i}=this.props;(!n.customRenderingReplaces||!D_(i,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ms(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:i}=n,{customGenerator:r,defaultGenerator:s,renderProps:a}=e,l=hj(e,[],this.handleEl);let u=!1,d,h=[],g;if(r!=null){const m=typeof r=="function"?r(a,F):r;if(m===!0)u=!0;else{const v=m&&typeof m=="object";v&&"html"in m?l.dangerouslySetInnerHTML={__html:m.html}:v&&"domNodes"in m?h=Array.prototype.slice.call(m.domNodes):(v?LP(m):typeof m!="function")?d=m:g=m}}else u=!D_(e.generatorName,i);return u&&s&&(d=s(a)),this.queuedDomNodes=h,this.currentGeneratorMeta=g,F(e.elTag,l,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:i,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:a}=r.options;if(s){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:a?.[i.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},i),{elClasses:(i.elClasses||[]).filter(MK)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,i=this.base;if(!ro(e,n)){n.forEach(tS);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}cS.addPropsEquality({elClasses:ro,elStyle:Wr,elAttrs:vK,renderProps:Wr});function D_(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function hj(t,e,n){const i=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(i.className=(t.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),t.elStyle&&(i.style=t.elStyle),i}function MK(t){return!!t}const gj=fj(0);class pi extends ir{constructor(){super(...arguments),this.InnerContent=NK.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ms(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=IK(e.classNameGenerator,e.renderProps);if(e.children){const i=hj(e,n,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?F(e.elTag,i,r):r}else return F(cS,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}pi.contextType=gj;function NK(t,e){const n=t.props;return F(cS,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function IK(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class af extends At{render(){let{props:e,context:n}=this,{options:i}=n,r={view:n.viewApi};return F(pi,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...pj(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>e.children)}}function pj(t){return[`fc-${t.type}-view`,"fc-view"]}function PK(t,e){let n=null,i=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(i=e.createMarker(t.end)),!n&&!i||n&&i&&i<n?null:{start:n,end:i}}function eO(t,e){let n=[],{start:i}=e,r,s;for(t.sort(jK),r=0;r<t.length;r+=1)s=t[r],s.start>i&&n.push({start:i,end:s.start}),s.end>i&&(i=s.end);return i<e.end&&n.push({start:i,end:e.end}),n}function jK(t,e){return t.start.valueOf()-e.start.valueOf()}function ao(t,e){let{start:n,end:i}=t,r=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(n===null||i===null||n<i)&&(r={start:n,end:i}),r}function LK(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function uS(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Im(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function ea(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function FK(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function mj(t){let e=Math.floor(mo(t.start,t.end))||1,n=$t(t.start),i=Nn(n,e);return{start:n,end:i}}function dS(t,e=pt(0)){let n=null,i=null;if(t.end){i=$t(t.end);let r=t.end.valueOf()-i.valueOf();r&&r>=Hr(e)&&(i=Nn(i,1))}return t.start&&(n=$t(t.start),i&&i<=n&&(i=Nn(n,1))),{start:n,end:i}}function UK(t){let e=dS(t);return mo(e.start,e.end)>1}function Pc(t,e,n,i){return i==="year"?pt(n.diffWholeYears(t,e),"year"):i==="month"?pt(n.diffWholeMonths(t,e),"month"):q7(t,e)}class vj{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,i){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,i)}buildNext(e,n,i){let{dateEnv:r}=this.props,s=r.add(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,i)}build(e,n,i=!0){let{props:r}=this,s,a,l,u,d,h;return s=this.buildValidRange(),s=this.trimHiddenDays(s),i&&(e=FK(e,s)),a=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(a.unit),u=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),u=this.trimHiddenDays(u),d=u,r.showNonCurrentDates||(d=ao(d,a.range)),d=this.adjustActiveRange(d),d=ao(d,s),h=uS(a.range,s),ea(u,e)||(e=u.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:d,renderRange:u,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:h,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:i}=this,r=null,s=null,a=null,l;return i.duration?(r=i.duration,s=i.durationUnit,a=this.buildRangeFromDuration(e,n,r,s)):(l=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,n,l)):(a=this.buildCustomVisibleRange(e))?s=i.dateEnv.greatestWholeUnit(a.start,a.end).unit:(r=this.getFallbackDuration(),s=R_(r).unit,a=this.buildRangeFromDuration(e,n,r,s)),{duration:r,unit:s,range:a}}getFallbackDuration(){return pt({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:s}=this.props,{start:a,end:l}=e;return i&&($c(r)<0&&(a=$t(a),a=n.add(a,r)),$c(s)>1&&(l=$t(l),l=Nn(l,-1),l=n.add(l,s))),{start:a,end:l}}buildRangeFromDuration(e,n,i,r){let{dateEnv:s,dateAlignment:a}=this.props,l,u,d;if(!a){let{dateIncrement:g}=this.props;g&&Hr(g)<Hr(i)?a=R_(g).unit:a=r}$c(i)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=$t(l));function h(){l=s.startOf(e,a),u=s.add(l,i),d={start:l,end:u}}return h(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),h()),d}buildRangeFromDayCount(e,n,i){let{dateEnv:r,dateAlignment:s}=this.props,a=0,l=e,u;s&&(l=r.startOf(l,s)),l=$t(l),l=this.skipHiddenDays(l,n),u=l;do u=Nn(u,1),this.isHiddenDay(u)||(a+=1);while(a<i);return{start:l,end:u}}buildCustomVisibleRange(e){let{props:n}=this,i=n.visibleRangeInput,r=typeof i=="function"?i.call(n.calendarApi,n.dateEnv.toDate(e)):i,s=this.refineRange(r);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,i){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,i;return n||((i=this.props.dateAlignment)?pt(1,i):e||pt({days:1}))}refineRange(e){if(e){let n=PK(e,this.props.dateEnv);return n&&(n=dS(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(n[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:i}=e;return n&&(n=this.skipHiddenDays(n)),i&&(i=this.skipHiddenDays(i,-1,!0)),n==null||i==null||n<i?{start:n,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?n:0)+7)%7];)e=Nn(e,n);return e}}function fS(t,e,n,i){return{instanceId:xl(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:i??null}}function zK(t,e,n,i){for(let r=0;r<i.length;r+=1){let s=i[r].parse(t,n);if(s){let{allDay:a}=t;return a==null&&(a=e,a==null&&(a=s.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}function vl(t,e,n){let{dateEnv:i,pluginHooks:r,options:s}=n,{defs:a,instances:l}=t;l=ml(l,u=>!a[u.defId].recurringDef);for(let u in a){let d=a[u];if(d.recurringDef){let{duration:h}=d.recurringDef;h||(h=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let g=HK(d,h,e,i,r.recurringTypes);for(let m of g){let v=fS(u,{start:m,end:i.add(m,h)});l[v.instanceId]=v}}}return{defs:a,instances:l}}function HK(t,e,n,i,r){let a=r[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:i.subtract(n.start,e),end:n.end},i);return t.allDay&&(a=a.map($t)),a}const sp={id:String,groupId:String,title:String,url:String,interactive:Boolean},yj={start:se,end:se,date:se,allDay:Boolean},BK=Object.assign(Object.assign(Object.assign({},sp),yj),{extendedProps:se});function bj(t,e,n,i,r=hS(n),s,a){let{refined:l,extra:u}=_j(t,n,r),d=$K(e,n),h=zK(l,d,n.dateEnv,n.pluginHooks.recurringTypes);if(h){let m=O_(l,u,e?e.sourceId:"",h.allDay,!!h.duration,n,s);return m.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:m,instance:null}}let g=VK(l,d,n,i);if(g){let m=O_(l,u,e?e.sourceId:"",g.allDay,g.hasEnd,n,s),v=fS(m.defId,g.range,g.forcedStartTzo,g.forcedEndTzo);return a&&m.publicId&&a[m.publicId]&&(v.instanceId=a[m.publicId]),{def:m,instance:v}}return null}function _j(t,e,n=hS(e)){return aS(t,n)}function hS(t){return Object.assign(Object.assign(Object.assign({},Up),BK),t.pluginHooks.eventRefiners)}function O_(t,e,n,i,r,s,a){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(a&&t.id?a[t.id]:"")||xl(),sourceId:n,allDay:i,hasEnd:r,interactive:t.interactive,ui:zp(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let u of s.pluginHooks.eventDefMemberAdders)Object.assign(l,u(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function VK(t,e,n,i){let{allDay:r}=t,s,a=null,l=!1,u,d=null,h=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(h),s)a=s.marker;else if(!i)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),r==null&&(e!=null?r=e:r=(!s||s.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),r&&a&&(a=$t(a)),u&&(d=u.marker,r&&(d=$t(d)),a&&d<=a&&(d=null)),d?l=!0:i||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(a,r?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:r,hasEnd:l,range:{start:a,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function $K(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function of(t,e,n,i,r,s){let a=rr(),l=hS(n);for(let u of t){let d=bj(u,e,n,i,l,r,s);d&&k_(d,a)}return a}function k_(t,e=rr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function gS(t,e){let n=t.instances[e];if(n){let i=t.defs[n.defId],r=Pm(t,s=>qK(i,s));return r.defs[i.defId]=i,r.instances[n.instanceId]=n,r}return rr()}function qK(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function rr(){return{defs:{},instances:{}}}function pS(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Pm(t,e){let n=ml(t.defs,e),i=ml(t.instances,r=>n[r.defId]);return{defs:n,instances:i}}function WK(t,e){let{defs:n,instances:i}=t,r={},s={};for(let a in n)e.defs[a]||(r[a]=n[a]);for(let a in i)!e.instances[a]&&r[i[a].defId]&&(s[a]=i[a]);return{defs:r,instances:s}}function GK(t,e){return Array.isArray(t)?of(t,null,e,!0):typeof t=="object"&&t?of([t],null,e,!0):t!=null?String(t):null}function tO(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Up={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:se,overlap:se,allow:se,className:tO,classNames:tO,color:String,backgroundColor:String,borderColor:String,textColor:String},YK={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function zp(t,e){let n=GK(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function wj(t){return t.reduce(KK,YK)}function KK(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const QK={id:String,defaultAllDay:Boolean,url:String,format:String,events:se,eventDataTransform:se,success:se,failure:se};function Sj(t,e,n=xj(e)){let i;if(typeof t=="string"?i={url:t}:typeof t=="function"||Array.isArray(t)?i={events:t}:typeof t=="object"&&t&&(i=t),i){let{refined:r,extra:s}=aS(i,n),a=XK(r,e);if(a)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:xl(),sourceDefId:a.sourceDefId,meta:a.meta,ui:zp(r,e),extendedProps:s}}return null}function xj(t){return Object.assign(Object.assign(Object.assign({},Up),QK),t.pluginHooks.eventSourceRefiners)}function XK(t,e){let n=e.pluginHooks.eventSourceDefs;for(let i=n.length-1;i>=0;i-=1){let s=n[i].parseMeta(t);if(s)return{sourceDefId:i,meta:s}}return null}function ZK(t,e,n,i,r){switch(e.type){case"RECEIVE_EVENTS":return JK(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return eQ(t,n[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return tQ(t,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return pS(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?vl(t,i.activeRange,r):t;case"REMOVE_EVENTS":return WK(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Cj(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Pm(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return rr();default:return t}}function JK(t,e,n,i,r,s){if(e&&n===e.latestFetchId){let a=of(Ej(r,e,s),e,s);return i&&(a=vl(a,i,s)),pS(Cj(t,e.sourceId),a)}return t}function eQ(t,e,n,i,r){const{defIdMap:s,instanceIdMap:a}=iQ(t);let l=of(Ej(n,e,r),e,r,!1,s,a);return vl(l,i,r)}function Ej(t,e,n){let i=n.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(t=nO(t,r)),i&&(t=nO(t,i)),t}function nO(t,e){let n;if(!e)n=t;else{n=[];for(let i of t){let r=e(i);r?n.push(r):r==null&&n.push(i)}}return n}function tQ(t,e,n,i){return n&&(e=vl(e,n,i)),pS(t,e)}function iO(t,e,n){let{defs:i}=t,r=sa(t.instances,s=>i[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:i,instances:r}}function Cj(t,e){return Pm(t,n=>n.sourceId!==e)}function nQ(t,e){return{defs:t.defs,instances:ml(t.instances,n=>!e[n.instanceId])}}function iQ(t){const{defs:e,instances:n}=t,i={},r={};for(let s in e){const a=e[s],{publicId:l}=a;l&&(i[l]=s)}for(let s in n){const a=n[s],l=e[a.defId],{publicId:u}=l;u&&(r[u]=s)}return{defIdMap:i,instanceIdMap:r}}class jm{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){rQ(this.handlers,e,n)}off(e,n){sQ(this.handlers,e,n)}trigger(e,...n){let i=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],i);for(let a of s)a.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function rQ(t,e,n){(t[e]||(t[e]=[])).push(n)}function sQ(t,e,n){n?t[e]&&(t[e]=t[e].filter(i=>i!==n)):delete t[e]}const aQ={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function oQ(t,e){return of(lQ(t),null,e)}function lQ(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},aQ),n)),e}function Tj(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},mS(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function cQ(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function mS(t,e){let n={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(n,i(t,e));return Object.assign(n,xQ(t,e.dateEnv)),n}function rO(t,e,n){let{dateEnv:i,options:r}=n,s=e;return t?(s=$t(s),s=i.add(s,r.defaultAllDayEventDuration)):s=i.add(s,r.defaultTimedEventDuration),s}function vS(t,e,n,i){let r=Hp(t.defs,e),s=rr();for(let a in t.defs){let l=t.defs[a];s.defs[a]=uQ(l,r[a],n,i)}for(let a in t.instances){let l=t.instances[a],u=s.defs[l.defId];s.instances[a]=dQ(l,u,r[l.defId],n,i)}return s}function uQ(t,e,n,i){let r=n.standardProps||{};r.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),r),{ui:Object.assign(Object.assign({},t.ui),r.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let a of i.pluginHooks.eventDefMutationAppliers)a(s,n,i);return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function dQ(t,e,n,i,r){let{dateEnv:s}=r,a=i.standardProps&&i.standardProps.allDay===!0,l=i.standardProps&&i.standardProps.hasEnd===!1,u=Object.assign({},t);return a&&(u.range=mj(u.range)),i.datesDelta&&n.startEditable&&(u.range={start:s.add(u.range.start,i.datesDelta),end:s.add(u.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(u.range={start:s.add(u.range.start,i.startDelta),end:u.range.end}),i.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:s.add(u.range.end,i.endDelta)}),l&&(u.range={start:u.range.start,end:rO(e.allDay,u.range.start,r)}),e.allDay&&(u.range={start:$t(u.range.start),end:$t(u.range.end)}),u.range.end<u.range.start&&(u.range.end=rO(e.allDay,u.range.start,r)),u}class Oc{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class on{constructor(e,n,i){this._context=e,this._def=n,this._instance=i||null}setProp(e,n){if(e in yj)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=sp[e](n),this.mutate({standardProps:{publicId:n}});else if(e in sp)n=sp[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Up){let i=Up[e](n);e==="color"?i={backgroundColor:n,borderColor:n}:e==="editable"?i={startEditable:n,durationEditable:n}:i={[e]:n},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let s=this._instance.range,a=Pc(s.start,r,i,n.granularity);n.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,n={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let s=Pc(this._instance.range.end,r,i,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,i={}){let{dateEnv:r}=this._context,s={allDay:i.allDay},a=r.createMarker(e),l;if(a&&!(n!=null&&(l=r.createMarker(n),!l))&&this._instance){let u=this._instance.range;i.allDay===!0&&(u=mj(u));let d=Pc(u.start,a,r,i.granularity);if(l){let h=Pc(u.end,l,r,i.granularity);P7(d,h)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:h,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let n=pt(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=pt(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=pt(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let i={allDay:e},{maintainDuration:r}=n;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:n}=this._context,i=this._instance,r=nn(e);return this._def.hasEnd?n.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):n.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let i=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),a=gS(s,n.instanceId);a=vS(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let u=new on(r,i,n);this._def=a.defs[i.defId],this._instance=a.instances[n.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:a}),r.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:sl(a,r,n),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=Aj(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Oc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:i}=n,{startStr:r,endStr:s}=this,a={allDay:n.allDay};return n.title&&(a.title=n.title),r&&(a.start=r),s&&(a.end=s),n.publicId&&(a.id=n.publicId),n.groupId&&(a.groupId=n.groupId),n.url&&(a.url=n.url),i.display&&i.display!=="auto"&&(a.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?a.color=i.backgroundColor:(i.backgroundColor&&(a.backgroundColor=i.backgroundColor),i.borderColor&&(a.borderColor=i.borderColor)),i.textColor&&(a.textColor=i.textColor),i.classNames.length&&(a.classNames=i.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,n.extendedProps):a.extendedProps=n.extendedProps),a}toJSON(){return this.toPlainObject()}}function Aj(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function sl(t,e,n){let{defs:i,instances:r}=t,s=[],a=n?n.instanceId:"";for(let l in r){let u=r[l],d=i[u.defId];u.instanceId!==a&&s.push(new on(e,d,u))}return s}function M_(t,e,n,i){let r={},s={},a={},l=[],u=[],d=Hp(t.defs,e);for(let h in t.defs){let g=t.defs[h];d[g.defId].display==="inverse-background"&&(g.groupId?(r[g.groupId]=[],a[g.groupId]||(a[g.groupId]=g)):s[h]=[])}for(let h in t.instances){let g=t.instances[h],m=t.defs[g.defId],v=d[m.defId],_=g.range,b=!m.allDay&&i?dS(_,i):_,S=ao(b,n);S&&(v.display==="inverse-background"?m.groupId?r[m.groupId].push(S):s[g.defId].push(S):v.display!=="none"&&(v.display==="background"?l:u).push({def:m,ui:v,instance:g,range:S,isStart:b.start&&b.start.valueOf()===S.start.valueOf(),isEnd:b.end&&b.end.valueOf()===S.end.valueOf()}))}for(let h in r){let g=r[h],m=eO(g,n);for(let v of m){let _=a[h],b=d[_.defId];l.push({def:_,ui:b,instance:null,range:v,isStart:!1,isEnd:!1})}}for(let h in s){let g=s[h],m=eO(g,n);for(let v of m)l.push({def:t.defs[h],ui:d[h],instance:null,range:v,isStart:!1,isEnd:!1})}return{bg:l,fg:u}}function fQ(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function sO(t,e){t.fcSeg=e}function Jc(t){return t.fcSeg||t.parentNode.fcSeg||null}function Hp(t,e){return sa(t,n=>Rj(n,e))}function Rj(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),wj(n)}function yS(t,e){let n=t.map(hQ);return n.sort((i,r)=>R7(i,r,e)),n.map(i=>i._seg)}function hQ(t){let{eventRange:e}=t,n=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:r,end:s,duration:s-r,allDay:Number(n.allDay),_seg:t})}function gQ(t,e){let{pluginHooks:n}=e,i=n.isDraggableTransformers,{def:r,ui:s}=t.eventRange,a=s.startEditable;for(let l of i)a=l(a,r,s,e);return a}function pQ(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function mQ(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Hd(t,e,n,i,r,s,a){let{dateEnv:l,options:u}=n,{displayEventTime:d,displayEventEnd:h}=u,g=t.eventRange.def,m=t.eventRange.instance;d==null&&(d=i!==!1),h==null&&(h=r!==!1);let v=m.range.start,_=m.range.end,b=s||t.start||t.eventRange.range.start,S=a||t.end||t.eventRange.range.end,x=$t(v).valueOf()===$t(b).valueOf(),T=$t(so(_,-1)).valueOf()===$t(so(S,-1)).valueOf();return d&&!g.allDay&&(x||T)?(b=x?v:b,S=T?_:S,h&&g.hasEnd?l.formatRange(b,S,e,{forcedStartTzo:s?null:m.forcedStartTzo,forcedEndTzo:a?null:m.forcedEndTzo}):l.format(b,e,{forcedTzo:s?null:m.forcedStartTzo})):""}function ta(t,e,n){let i=t.eventRange.range;return{isPast:i.end<=(n||e.start),isFuture:i.start>=(n||e.end),isToday:e&&ea(e,i.start)}}function vQ(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function Dj(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function bS(t,e){let{def:n,instance:i}=t.eventRange,{url:r}=n;if(r)return{href:r};let{emitter:s,options:a}=e,{eventInteractive:l}=a;return l==null&&(l=n.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?oj(u=>{s.trigger("eventClick",{el:u.target,event:new on(e,n,i),jsEvent:u,view:e.viewApi})}):{}}const yQ={start:se,end:se,allDay:Boolean};function bQ(t,e,n){let i=_Q(t,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(n==null)return null;r.end=e.add(r.start,n)}return i}function _Q(t,e){let{refined:n,extra:i}=aS(t,yQ),r=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:a}=n;return a==null&&(a=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:a},i)}function wQ(t,e){return LK(t.range,e.range)&&t.allDay===e.allDay&&SQ(t,e)}function SQ(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function xQ(t,e){return Object.assign(Object.assign({},kj(t.range,e,t.allDay)),{allDay:t.allDay})}function Oj(t,e,n){return Object.assign(Object.assign({},kj(t,e,n)),{timeZone:e.timeZone})}function kj(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function EQ(t,e,n){let i=_j({editable:!1},n),r=O_(i.refined,i.extra,"",t.allDay,!0,n);return{def:r,ui:Rj(r,e),instance:fS(r.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function CQ(t,e,n){let i=!1,r=function(l){i||(i=!0,e(l))},s=function(l){i||(i=!0,n(l))},a=t(r,s);a&&typeof a.then=="function"&&a.then(r,s)}class aO extends Error{constructor(e,n){super(e),this.response=n}}function TQ(t,e,n){t=t.toUpperCase();const i={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(i.body=new URLSearchParams(n),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new aO("Failure parsing JSON",r)});throw new aO("Request failed",r)})}let i0;function Mj(){return i0==null&&(i0=AQ()),i0}function AQ(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class RQ extends At{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Fp(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Fp(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:i}=this.state,r=i||n.height==="auto"||n.contentHeight==="auto",s=!r&&n.height!=null?n.height:"",a=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return Mj()||a.push("fc-liquid-hack"),e.children(a,s,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let yu=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function DQ(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function _S(t){return{[t.component.uid]:t}}const N_={};class Cl extends ir{constructor(e,n){super(e,n),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,i=n.nowManager.getDateMarker(),{nowIndicatorSnap:r}=n.options;r==="auto"&&(r=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,a;return r?(s=n.dateEnv.startOf(i,e.unit),a=n.dateEnv.add(s,pt(1,e.unit)).valueOf()-i.valueOf()):(s=i,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:OQ(s)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Cl.contextType=ca;function OQ(t){let e=$t(t),n=Nn(e,1);return{start:e,end:n}}class kQ{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let i=this.getCurrentData(),r;n=n||"day",r=i.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),s,a;for(let l in n)r.push(l);for(s=0;s<r.length;s+=1)if(a=n[r[s]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),i=pt(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),nn(n))}formatRange(e,n,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(n),nn(i),i)}formatIso(e,n){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:n})}select(e,n){let i;n==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:n};let r=this.getCurrentData(),s=bQ(i,r.dateEnv,pt({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),Tj(s,null,r))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),cQ(e,n))}addEvent(e,n){if(e instanceof on){let a=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:k_({def:a,instance:l})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(n instanceof Oc)r=n.internalEventSource;else if(typeof n=="boolean")n&&([r]=lS(i.eventSources));else if(n!=null){let a=this.getEventSourceById(n);if(!a)return console.warn(`Could not find an event source with ID "${n}"`),null;r=a.internalEventSource}let s=bj(e,r,i,!1);if(s){let a=new on(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:k_(s)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Aj(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:i,instances:r}=n.eventStore;e=String(e);for(let s in i){let a=i[s];if(a.publicId===e){if(a.recurringDef)return new on(n,a,null);for(let l in r){let u=r[l];if(u.defId===a.defId)return new on(n,a,u)}}}return null}getEvents(){let e=this.getCurrentData();return sl(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,i=[];for(let r in n)i.push(new Oc(e,n[r]));return i}getEventSourceById(e){let n=this.getCurrentData(),i=n.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new Oc(n,i[r]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Oc)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=Sj(e,n);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Oc(n,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=pt(e);n&&this.trigger("_scrollRequest",{time:n})}}function MQ(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function Nj(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function NQ(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function IQ(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function PQ(t,e){return{left:t.left-e.left,top:t.top-e.top}}const r0=rr();class jQ{constructor(){this.getKeysForEventDefs=Le(this._getKeysForEventDefs),this.splitDateSelection=Le(this._splitDateSpan),this.splitEventStore=Le(this._splitEventStore),this.splitIndividualUi=Le(this._splitIndividualUi),this.splitEventDrag=Le(this._splitInteraction),this.splitEventResize=Le(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,i),a=this.splitEventStore(e.eventStore,i),l=this.splitEventDrag(e.eventDrag),u=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=sa(n,(h,g)=>this.eventUiBuilders[g]||Le(LQ));for(let h in n){let g=n[h],m=a[h]||r0,v=this.eventUiBuilders[h];d[h]={businessHours:g.businessHours||e.businessHours,dateSelection:r[h]||null,eventStore:m,eventUiBases:v(e.eventUiBases[""],g.ui,s[h]),eventSelection:m.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[h]||null,eventResize:u[h]||null}}return d}_splitDateSpan(e){let n={};if(e){let i=this.getKeysForDateSpan(e);for(let r of i)n[r]=e}return n}_getKeysForEventDefs(e){return sa(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:i,instances:r}=e,s={};for(let a in i)for(let l of n[a])s[l]||(s[l]=rr()),s[l].defs[a]=i[a];for(let a in r){let l=r[a];for(let u of n[l.defId])s[u]&&(s[u].instances[a]=l)}return s}_splitIndividualUi(e,n){let i={};for(let r in e)if(r)for(let s of n[r])i[s]||(i[s]={}),i[s][r]=e[r];return i}_splitInteraction(e){let n={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,r),a=l=>{n[l]||(n[l]={affectedEvents:i[l]||r0,mutatedEvents:s[l]||r0,isEvent:e.isEvent})};for(let l in i)a(l);for(let l in s)a(l)}return n}}function LQ(t,e,n){let i=[];t&&i.push(t),e&&i.push(e);let r={"":wj(i)};return n&&Object.assign(r,n),r}function wS(t,e,n,i){return{dow:t.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!ea(i.activeRange,t))),isOther:!!(i&&!ea(i.currentRange,t)),isToday:!!(e&&ea(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function Lm(t,e){let n=["fc-day",`fc-day-${z7[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const FQ=nn({year:"numeric",month:"long",day:"numeric"}),UQ=nn({week:"long"});function eu(t,e,n="day",i=!0){const{dateEnv:r,options:s,calendarApi:a}=t;let l=r.format(e,n==="week"?UQ:FQ);if(s.navLinks){let u=r.toDate(e);const d=h=>{let g=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof g=="function"?g.call(a,r.toDate(e),h):(typeof g=="string"&&(n=g),a.zoomTo(e,n))};return Object.assign({title:Ud(s.navLinkHint,[l,u],l),"data-navlink":""},i?aj(d):{onClick:d})}return{"aria-label":l}}let s0=null;function zQ(){return s0===null&&(s0=HQ()),s0}function HQ(){let t=document.createElement("div");Fd(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return tS(t),n}let a0;function BQ(){return a0||(a0=VQ()),a0}function VQ(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=Ij(t);return document.body.removeChild(t),e}function Ij(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function $Q(t,e=!1){let n=window.getComputedStyle(t),i=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,l=Ij(t),u=l.y-i-r,d=l.x-s-a,h={borderLeft:i,borderRight:r,borderTop:s,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return zQ()&&n.direction==="rtl"?h.scrollbarLeft=u:h.scrollbarRight=u,e&&(h.paddingLeft=parseInt(n.paddingLeft,10)||0,h.paddingRight=parseInt(n.paddingRight,10)||0,h.paddingTop=parseInt(n.paddingTop,10)||0,h.paddingBottom=parseInt(n.paddingBottom,10)||0),h}function qQ(t,e=!1,n){let i=SS(t),r=$Q(t,e),s={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function SS(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function WQ(t){let e=Pj(t),n=t.getBoundingClientRect();for(let i of e){let r=Nj(n,i.getBoundingClientRect());if(r)n=r;else return null}return n}function Pj(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class tu{constructor(e,n,i,r){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.left-e),i.push(s.right-e)}this.lefts=n,this.rights=i}buildElVerticals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.top-e),i.push(s.bottom-e)}this.tops=n,this.bottoms=i}leftToIndex(e){let{lefts:n,rights:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}topToIndex(e){let{tops:n,bottoms:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Dg(this.tops||[],e.tops||[])&&Dg(this.bottoms||[],e.bottoms||[])&&Dg(this.lefts||[],e.lefts||[])&&Dg(this.rights||[],e.rights||[])}}function Dg(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(Math.round(t[i])!==Math.round(e[i]))return!1;return!0}class xS{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class GQ extends xS{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class YQ extends xS{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Qr extends At{constructor(){super(...arguments),this.uid=xl()}prepareHits(){}queryHit(e,n,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!fi(e,".fc-event-mirror")}isValidDateDownEl(e){return!fi(e,".fc-event:not(.fc-bg-event)")&&!fi(e,".fc-more-link")&&!fi(e,"a[data-navlink]")&&!fi(e,".fc-popover")}}class jj{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let i of e)this.insertEntry(i,n);return n}insertEntry(e,n){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},n),{span:ES(n.span,e.touchingEntry.span)});i.push(r),this.splitEntry(n,e.touchingEntry,i)}else i.push(n)}splitEntry(e,n,i){let r=e.span,s=n.span;r.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:s.start}},i),r.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:r.end}},i)}insertEntryAt(e,n){let{entriesByLevel:i,levelCoords:r}=this;n.lateral===-1?(o0(r,n.level,n.levelCoord),o0(i,n.level,[e])):o0(i[n.level],n.lateral,e),this.stackCnts[al(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:i,strictOrder:r,stackCnts:s}=this,a=n.length,l=0,u=-1,d=-1,h=null,g=0;for(let _=0;_<a;_+=1){const b=n[_];if(!r&&b>=l+this.getEntryThickness(e))break;let S=i[_],x,T=P_(S,e.span.start,I_),A=T[0]+T[1];for(;(x=S[A])&&x.span.start<e.span.end;){let O=b+this.getEntryThickness(x);O>l&&(l=O,h=x,u=_,d=A),O===l&&(g=Math.max(g,s[al(x)]+1)),A+=1}}let m=0;if(h)for(m=u+1;m<a&&n[m]<l;)m+=1;let v=-1;return m<a&&n[m]===l&&(v=P_(i[m],e.span.end,I_)[0]),{touchingLevel:u,touchingLateral:d,touchingEntry:h,stackCnt:g,levelCoord:l,level:m,lateral:v}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,i=e.length,r=[];for(let s=0;s<i;s+=1){let a=e[s],l=n[s];for(let u of a)r.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:l}))}return r}}function I_(t){return t.span.end}function al(t){return t.index+":"+t.span.start}function KQ(t){let e=[];for(let n of t){let i=[],r={span:n.span,entries:[n]};for(let s of e)ES(s.span,r.span)?r={entries:s.entries.concat(r.entries),span:QQ(s.span,r.span)}:i.push(s);i.push(r),e=i}return e}function QQ(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function ES(t,e){let n=Math.max(t.start,e.start),i=Math.min(t.end,e.end);return n<i?{start:n,end:i}:null}function o0(t,e,n){t.splice(e,0,n)}function P_(t,e,n){let i=0,r=t.length;if(!r||e<n(t[i]))return[0,0];if(e>n(t[r-1]))return[r,0];for(;i<r;){let s=Math.floor(i+(r-i)/2),a=n(t[s]);if(e<a)r=s;else if(e>a)i=s+1;else return[s,1]}return[i,0]}class XQ{constructor(e,n){this.emitter=new jm}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const CS={};function ZQ(t,e){return!t||e>10?nn({weekday:"short"}):e>1?nn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):nn({weekday:"long"})}const Lj="fc-col-header-cell";function Fj(t){return t.text}class JQ extends At{render(){let{dateEnv:e,options:n,theme:i,viewApi:r}=this.context,{props:s}=this,{date:a,dateProfile:l}=s,u=wS(a,s.todayRange,null,l),d=[Lj].concat(Lm(u,i)),h=e.format(a,s.dayHeaderFormat),g=!u.isDisabled&&s.colCnt>1?eu(this.context,a):{},m=e.toDate(a);e.namedTimeZoneImpl&&(m=so(m,36e5));let v=Object.assign(Object.assign(Object.assign({date:m,view:r},s.extraRenderProps),{text:h}),u);return F(pi,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":u.isDisabled?void 0:Rf(a)},s.extraDataAttrs),renderProps:v,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Fj,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},_=>F("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&F(_,{elTag:"a",elAttrs:g,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const eX=nn({weekday:"long"});class tX extends At{render(){let{props:e}=this,{dateEnv:n,theme:i,viewApi:r,options:s}=this.context,a=Nn(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=n.format(a,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:a},l),{view:r}),e.extraRenderProps),{text:u});return F(pi,{elTag:"th",elClasses:[Lj,...Lm(l,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:Fj,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},h=>F("div",{className:"fc-scrollgrid-sync-inner"},F(h,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(a,eX)}})))}}class Uj extends At{constructor(){super(...arguments),this.createDayHeaderFormatter=Le(nX)}render(){let{context:e}=this,{dates:n,dateProfile:i,datesRepDistinctDays:r,renderIntro:s}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,n.length);return F(Cl,{unit:"day"},(l,u)=>F("tr",{role:"row"},s&&s("day"),n.map(d=>r?F(JQ,{key:d.toISOString(),date:d,dateProfile:i,todayRange:u,colCnt:n.length,dayHeaderFormat:a}):F(tX,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:a}))))}}function nX(t,e,n){return t||ZQ(e,n)}class zj{constructor(e,n){let i=e.start,{end:r}=e,s=[],a=[],l=-1;for(;i<r;)n.isHiddenDay(i)?s.push(l+.5):(l+=1,s.push(l),a.push(i)),i=Nn(i,1);this.dates=a,this.indices=s,this.cnt=a.length}sliceRange(e){let n=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Nn(e.end,-1)),r=Math.max(0,n),s=Math.min(this.cnt-1,i);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:n===r,isEnd:i===s}:null}getDateDayIndex(e){let{indices:n}=this,i=Math.floor(mo(this.dates[0],e));return i<0?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]}}class Hj{constructor(e,n){let{dates:i}=e,r,s,a;if(n){for(s=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==s;r+=1);a=Math.ceil(i.length/r)}else a=1,r=i.length;this.rowCnt=a,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(n,r));e.push(i)}return e}buildCell(e,n){let i=this.daySeries.dates[e*this.colCnt+n];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:s,lastIndex:a}=i,l=s;for(;l<=a;){let u=Math.floor(l/n),d=Math.min((u+1)*n,a+1);r.push({row:u,firstCol:l%n,lastCol:(d-1)%n,isStart:i.isStart&&l===s,isEnd:i.isEnd&&d-1===a}),l=d}}return r}}class Bj{constructor(){this.sliceBusinessHours=Le(this._sliceBusinessHours),this.sliceDateSelection=Le(this._sliceDateSpan),this.sliceEventStore=Le(this._sliceEventStore),this.sliceEventDrag=Le(this._sliceInteraction),this.sliceEventResize=Le(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,i,r,...s){let{eventUiBases:a}=e,l=this.sliceEventStore(e.eventStore,a,n,i,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,i,a,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,i,r,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,n,i,...s),eventResize:this.sliceEventResize(e.eventResize,a,n,i,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,i,r,...s){return this._sliceDateSpan({range:{start:e,end:so(e,1)},allDay:!1},n,i,{},r,...s)}_sliceBusinessHours(e,n,i,r,...s){return e?this._sliceEventStore(vl(e,Og(n,!!i),r),{},n,i,...s).bg:[]}_sliceEventStore(e,n,i,r,...s){if(e){let a=M_(e,n,Og(i,!!r),r);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,i,r,...s){if(!e)return null;let a=M_(e.mutatedEvents,n,Og(i,!!r),r);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,i,r,s,...a){if(!e)return[];let l=Og(n,!!i),u=ao(e.range,l);if(u){e=Object.assign(Object.assign({},e),{range:u});let d=EQ(e,r,s),h=this.sliceRange(e.range,...a);for(let g of h)g.eventRange=d;return h}return[]}sliceEventRanges(e,n){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,n));return i}sliceEventRange(e,n){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:Nn(i.start,1)});let r=this.sliceRange(i,...n);for(let s of r)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return r}}function Og(t,e){let n=t.activeRange;return e?n:{start:so(n.start,t.slotMinTime.milliseconds),end:so(n.end,t.slotMaxTime.milliseconds-864e5)}}function Vj(t,e,n){let{instances:i}=t.mutatedEvents;for(let r in i)if(!Im(e.validRange,i[r].range))return!1;return $j({eventDrag:t},n)}function iX(t,e,n){return Im(e.validRange,t.range)?$j({dateSelection:t},n):!1}function $j(t,e){let n=e.getCurrentData(),i=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||rX)(i,e)}function rX(t,e,n={},i){return!(t.eventDrag&&!sX(t,e,n,i)||t.dateSelection&&!aX(t,e,n,i))}function sX(t,e,n,i){let r=e.getCurrentData(),s=t.eventDrag,a=s.mutatedEvents,l=a.defs,u=a.instances,d=Hp(l,s.isEvent?t.eventUiBases:{"":r.selectionConfig});i&&(d=sa(d,i));let h=nQ(t.eventStore,s.affectedEvents.instances),g=h.defs,m=h.instances,v=Hp(g,t.eventUiBases);for(let _ in u){let b=u[_],S=b.range,x=d[b.defId],T=l[b.defId];if(!qj(x.constraints,S,h,t.businessHours,e))return!1;let{eventOverlap:A}=e.options,O=typeof A=="function"?A:null;for(let N in m){let M=m[N];if(uS(S,M.range)&&(v[M.defId].overlap===!1&&s.isEvent||x.overlap===!1||O&&!O(new on(e,g[M.defId],M),new on(e,T,b))))return!1}let D=r.eventStore;for(let N of x.allows){let M=Object.assign(Object.assign({},n),{range:b.range,allDay:T.allDay}),k=D.defs[T.defId],P=D.instances[_],z;if(k?z=new on(e,k,P):z=new on(e,T),!N(mS(M,e),z))return!1}}return!0}function aX(t,e,n,i){let r=t.eventStore,s=r.defs,a=r.instances,l=t.dateSelection,u=l.range,{selectionConfig:d}=e.getCurrentData();if(i&&(d=i(d)),!qj(d.constraints,u,r,t.businessHours,e))return!1;let{selectOverlap:h}=e.options,g=typeof h=="function"?h:null;for(let m in a){let v=a[m];if(uS(u,v.range)&&(d.overlap===!1||g&&!g(new on(e,s[v.defId],v),null)))return!1}for(let m of d.allows){let v=Object.assign(Object.assign({},n),l);if(!m(mS(v,e),null))return!1}return!0}function qj(t,e,n,i,r){for(let s of t)if(!lX(oX(s,e,n,i,r),e))return!1;return!0}function oX(t,e,n,i,r){return t==="businessHours"?l0(vl(i,e,r)):typeof t=="string"?l0(Pm(n,s=>s.groupId===t)):typeof t=="object"&&t?l0(vl(t,e,r)):[]}function l0(t){let{instances:e}=t,n=[];for(let i in e)n.push(e[i].range);return n}function lX(t,e){for(let n of t)if(Im(n,e))return!0;return!1}const kg=/^(visible|hidden)$/;class Wj extends At{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ms(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:i}=e,r=n&&i,s=["fc-scroller"];return n&&(i?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),F("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(kg.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(kg.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return kg.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return kg.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Qs{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,i)=>{let{depths:r,currentMap:s}=this,a=!1,l=!1;n!==null?(a=i in s,s[i]=n,r[i]=(r[i]||0)+1,l=!0):(r[i]-=1,r[i]||(delete s[i],delete this.callbackMap[i],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(i)),l&&this.masterCallback(n,String(i)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),n}collect(e,n,i){return _K(this.currentMap,e,n,i)}getAll(){return lS(this.currentMap)}}function cX(t){let e=y7(t,".fc-scrollgrid-shrink"),n=0;for(let i of e)n=Math.max(n,M7(i));return Math.ceil(n)}function Gj(t,e){return t.liquid&&e.liquid}function uX(t,e){return e.maxHeight!=null||Gj(t,e)}function dX(t,e,n,i){let{expandRows:r}=n;return typeof e.content=="function"?e.content(n):F("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,F(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function fX(t,e){return ro(t,e,Wr)}function hX(t,e){let n=[];for(let i of t){let r=i.span||1;for(let s=0;s<r;s+=1)n.push(F("col",{style:{width:i.width==="shrink"?gX(e):i.width||"",minWidth:i.minWidth||""}}))}return F("colgroup",{},...n)}function gX(t){return t??4}function pX(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function mX(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function vX(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function j_(t){return F("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Bp(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function Yj(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class TS extends At{constructor(){super(...arguments),this.processCols=Le(e=>e,fX),this.renderMicroColGroup=Le(hX),this.scrollerRefs=new Qs,this.scrollerElRefs=new Qs(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:i}=this,r=e.sections||[],s=this.processCols(e.cols),a=this.renderMicroColGroup(s,n.shrinkWidth),l=mX(e.liquid,i);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let u=r.length,d=0,h,g=[],m=[],v=[];for(;d<u&&(h=r[d]).type==="header";)g.push(this.renderSection(h,a,!0)),d+=1;for(;d<u&&(h=r[d]).type==="body";)m.push(this.renderSection(h,a,!1)),d+=1;for(;d<u&&(h=r[d]).type==="footer";)v.push(this.renderSection(h,a,!0)),d+=1;let _=!Mj();const b={role:"rowgroup"};return F("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!_&&g.length)&&F("thead",b,...g),!!(!_&&m.length)&&F("tbody",b,...m),!!(!_&&v.length)&&F("tfoot",b,...v),_&&F("tbody",b,...g,...m,...v))}renderSection(e,n,i){return"outerContent"in e?F(Ut,{key:e.key},e.outerContent):F("tr",{key:e.key,role:"presentation",className:vX(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,i))}renderChunkTd(e,n,i,r){if("outerContent"in i)return i.outerContent;let{props:s}=this,{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:u}=this.state,d=uX(s,e),h=Gj(s,e),g=s.liquid?a?"scroll":d?"auto":"hidden":"visible",m=e.key,v=dX(e,i,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[m]!==void 0?l[m]:null,clientHeight:u[m]!==void 0?u[m]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return F(r?"th":"td",{ref:i.elRef,role:"presentation"},F("div",{className:`fc-scroller-harness${h?" fc-scroller-harness-liquid":""}`},F(Wj,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:g,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:h,liquidIsAbsolute:!0},v)))}_handleScrollerEl(e,n){let i=yX(this.props.sections,n);i&&ms(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return pX(this.props.cols)?cX(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=BQ(),{scrollerRefs:n,scrollerElRefs:i}=this,r=!1,s={},a={};for(let l in n.currentMap){let u=n.currentMap[l];if(u&&u.needsYScrolling()){r=!0;break}}for(let l of this.props.sections){let u=l.key,d=i.currentMap[u];if(d){let h=d.parentNode;s[u]=Math.floor(h.getBoundingClientRect().width-(r?e.y:0)),a[u]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:a}}}TS.addStateEquality({scrollerClientWidths:Wr,scrollerClientHeights:Wr});function yX(t,e){for(let n of t)if(n.key===e)return n;return null}class Fm extends At{constructor(){super(...arguments),this.buildPublicEvent=Le((e,n,i)=>new on(e,n,i)),this.handleEl=e=>{this.el=e,ms(this.props.elRef,e),e&&sO(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{eventRange:s}=r,{ui:a}=s,l={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&gQ(r,n),isStartResizable:!e.disableResizing&&pQ(r,n),isEndResizable:!e.disableResizing&&mQ(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return F(pi,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...vQ(l),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&sO(this.el,this.props.seg)}}class AS extends At{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{ui:s}=r.eventRange,a=i.eventTimeFormat||e.defaultTimeFormat,l=Hd(r,a,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return F(Fm,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:bS(r,n),defaultGenerator:bX,timeText:l}),(u,d)=>F(Ut,null,F(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}AS.addPropsEquality({seg:Wr});function bX(t){return F("div",{className:"fc-event-main-frame"},t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title-container"},F("div",{className:"fc-event-title fc-sticky"},t.event.title||F(Ut,null,""))))}const RS=t=>F(ca.Consumer,null,e=>{let{options:n}=e,i={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return F(pi,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:i,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),_X=nn({day:"numeric"});class DS extends At{constructor(){super(...arguments),this.refineRenderProps=rp(wX)}render(){let{props:e,context:n}=this,{options:i}=n,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:i.monthStartFormat});return F(pi,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Rf(e.date)}),elClasses:[...Lm(r,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},e.children)}}function OS(t){return!!(t.dayCellContent||D_("dayCellContent",t))}function wX(t){let{date:e,dateEnv:n,dateProfile:i,isMonthStart:r}=t,s=wS(e,t.todayRange,null,i),a=t.showDayNumber?n.format(e,r?t.monthStartFormat:_X):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:r,dayNumberText:a}),t.extraRenderProps)}class Kj extends At{render(){let{props:e}=this,{seg:n}=e;return F(Fm,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:SX,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function SX(t){let{title:e}=t.event;return e&&F("div",{className:"fc-event-title"},t.event.title)}function Qj(t){return F("div",{className:`fc-${t}`})}const Xj=t=>F(ca.Consumer,null,e=>{let{dateEnv:n,options:i}=e,{date:r}=t,s=i.weekNumberFormat||t.defaultFormat,a=n.computeWeekNumber(r),l=n.format(r,s),u={num:a,text:l,date:r};return F(pi,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:xX,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},t.children)});function xX(t){return t.text}const c0=10;class EX extends At{constructor(){super(...arguments),this.state={titleId:Za()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ms(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=rj(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:i,state:r}=this,s=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return r7(F("div",Object.assign({},i.extraAttrs,{id:i.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),F("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},F("span",{className:"fc-popover-title",id:r.titleId},i.title),F("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),F("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:i}=this.props,{rootEl:r}=this,s=WQ(n);if(s){let a=r.getBoundingClientRect(),l=i?fi(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,u=e?s.right-a.width:s.left;l=Math.max(l,c0),u=Math.min(u,document.documentElement.clientWidth-c0-a.width),u=Math.max(u,c0);let d=r.offsetParent.getBoundingClientRect();Fd(r,{top:l-d.top,left:u-d.left})}}}class CX extends Qr{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:i}=this,{startDate:r,todayRange:s,dateProfile:a}=i,l=n.format(r,e.dayPopoverFormat);return F(DS,{elRef:this.handleRootEl,date:r,dateProfile:a,todayRange:s},(u,d,h)=>F(EX,{elRef:h.ref,id:i.id,title:l,extraClassNames:["fc-more-popover"].concat(h.className||[]),extraAttrs:h,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},OS(e)&&F(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,n,i,r){let{rootEl:s,props:a}=this;return e>=0&&e<i&&n>=0&&n<r?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class Zj extends At{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Za()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ms(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:i}=this,{moreLinkClick:r}=i.options,s=oO(n).start;function a(l){let{def:u,instance:d,range:h}=l.eventRange;return{event:new on(i,u,d),start:i.dateEnv.toDate(h.start),end:i.dateEnv.toDate(h.end),isStart:l.isStart,isEnd:l.isEnd}}typeof r=="function"&&(r=r({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(a),hiddenSegs:n.hiddenSegs.map(a),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(s,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return F(ca.Consumer,null,i=>{let{viewApi:r,options:s,calendarApi:a}=i,{moreLinkText:l}=s,{moreCnt:u}=e,d=oO(e),h=typeof l=="function"?l.call(a,u):`+${u} ${l}`,g=Ud(s.moreLinkHint,[u],h),m={num:u,shortText:`+${u}`,text:h,view:r};return F(Ut,null,!!e.moreCnt&&F(pi,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),aj(this.handleClick)),{title:g,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||TX,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&F(CX,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=fi(this.linkEl,".fc-view-harness"))}}function TX(t){return t.text}function oO(t){if(t.allDayDate)return{start:t.allDayDate,end:Nn(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:Jj(e),end:RX(e)}}function Jj(t){return t.reduce(AX).eventRange.range.start}function AX(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function RX(t){return t.reduce(DX).eventRange.range.end}function DX(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class OX{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class kX extends OX{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let i=!1;e.isActive?(n.set(e.id,e),i=!0):n.has(e.id)&&(n.delete(e.id),i=!0),i&&this.set(n)}}const MX=[],eL={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},tL=Object.assign(Object.assign({},eL),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function NX(t){let e=t.length>0?t[0].code:"en",n=MX.concat(t),i={en:tL};for(let r of n)i[r.code]=r;return{map:i,defaultCode:e}}function nL(t,e){return typeof t=="object"&&!Array.isArray(t)?iL(t.code,[t.code],t):IX(t,e)}function IX(t,e){let n=[].concat(t||[]),i=PX(n,e)||tL;return iL(t,n,i)}function PX(t,e){for(let n=0;n<t.length;n+=1){let i=t[n].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let s=i.slice(0,r).join("-");if(e[s])return e[s]}}return null}function iL(t,e,n){let i=oS([eL,n],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:t,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(t),options:i}}function _s(t){return{id:xl(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function jX(t,e){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let a of s){const l=a.name,u=n[l];u===void 0?(n[l]=a.id,r(a.deps),i=FX(i,a)):u!==a.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&r(t),r(e),i}function LX(){let t=[],e=[],n;return(i,r)=>((!n||!ro(i,t)||!ro(r,e))&&(n=jX(i,r)),t=i,e=r,n)}function FX(t,e){return{premiumReleaseDate:UX(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function UX(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class vo extends Df{}vo.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};vo.prototype.baseIconClass="fc-icon";vo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};vo.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};vo.prototype.iconOverrideOption="buttonIcons";vo.prototype.iconOverrideCustomButtonOption="icon";vo.prototype.iconOverridePrefix="fc-icon-";function zX(t,e){let n={},i;for(i in t)L_(i,n,t,e);for(i in e)L_(i,n,t,e);return n}function L_(t,e,n,i){if(e[t])return e[t];let r=HX(t,e,n,i);return r&&(e[t]=r),r}function HX(t,e,n,i){let r=n[t],s=i[t],a=h=>r&&r[h]!==null?r[h]:s&&s[h]!==null?s[h]:null,l=a("component"),u=a("superType"),d=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");d=L_(u,e,n,i)}return!l&&d&&(l=d.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},d?d.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function lO(t){return sa(t,BX)}function BX(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=cO(e):n&&!(n.prototype instanceof At)&&(n=cO(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function cO(t){return e=>F(ca.Consumer,null,n=>F(pi,{elTag:"div",elClasses:pj(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function VX(t,e,n,i){let r=lO(t),s=lO(e.views),a=zX(r,s);return sa(a,l=>$X(l,s,e,n,i))}function $X(t,e,n,i,r){let s=t.overrides.duration||t.defaults.duration||i.duration||n.duration,a=null,l="",u="",d={};if(s&&(a=qX(s),a)){let m=R_(a);l=m.unit,m.value===1&&(u=l,d=e[l]?e[l].rawOptions:{})}let h=m=>{let v=m.buttonText||{},_=t.defaults.buttonTextKey;return _!=null&&v[_]!=null?v[_]:v[t.type]!=null?v[t.type]:v[u]!=null?v[u]:null},g=m=>{let v=m.buttonHints||{},_=t.defaults.buttonTextKey;return _!=null&&v[_]!=null?v[_]:v[t.type]!=null?v[t.type]:v[u]!=null?v[u]:null};return{type:t.type,component:t.component,duration:a,durationUnit:l,singleUnit:u,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:h(i)||h(n)||t.overrides.buttonText,buttonTextDefault:h(r)||t.defaults.buttonText||h(zd)||t.type,buttonTitleOverride:g(i)||g(n)||t.overrides.buttonHint,buttonTitleDefault:g(r)||t.defaults.buttonHint||g(zd)}}let uO={};function qX(t){let e=JSON.stringify(t),n=uO[e];return n===void 0&&(n=pt(t),uO[e]=n),n}function WX(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function GX(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function YX(t,e,n){let i=t.initialDate;return i!=null?e.createMarker(i):n.getDateMarker()}function KX(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function QX(t,e,n,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||n);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(t,n),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(t,n),r.isValid)return r;break}return t}function XX(t,e,n){let i=e?e.activeRange:null;return sL({},rZ(t,n),i,n)}function ZX(t,e,n,i){let r=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return sL(t,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return eZ(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?aL(t,r,i):t;case"FETCH_EVENT_SOURCES":return kS(t,e.sourceIds?uj(e.sourceIds):oL(t,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return iZ(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function JX(t,e,n){let i=e?e.activeRange:null;return kS(t,oL(t,n),i,!0,n)}function rL(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function sL(t,e,n,i){let r={};for(let s of e)r[s.sourceId]=s;return n&&(r=aL(r,n,i)),Object.assign(Object.assign({},t),r)}function eZ(t,e){return ml(t,n=>n.sourceId!==e)}function aL(t,e,n){return kS(t,ml(t,i=>tZ(i,e,n)),e,!1,n)}function tZ(t,e,n){return lL(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function kS(t,e,n,i,r){let s={};for(let a in t){let l=t[a];e[a]?s[a]=nZ(l,n,i,r):s[a]=l}return s}function nZ(t,e,n,i){let{options:r,calendarApi:s}=i,a=i.pluginHooks.eventSourceDefs[t.sourceDefId],l=xl();return a.fetch({eventSource:t,range:e,isRefetch:n,context:i},u=>{let{rawEvents:d}=u;r.eventSourceSuccess&&(d=r.eventSourceSuccess.call(s,d,u.response)||d),t.success&&(d=t.success.call(s,d,u.response)||d),i.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},u=>{let d=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,u),d=!0),t.failure&&(t.failure(u),d=!0),d||console.warn(u.message,u),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:u})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function iZ(t,e,n,i){let r=t[e];return r&&n===r.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):t}function oL(t,e){return ml(t,n=>lL(n,e))}function rZ(t,e){let n=xj(e),i=[].concat(t.eventSources||[]),r=[];t.initialEvents&&i.unshift(t.initialEvents),t.events&&i.unshift(t.events);for(let s of i){let a=Sj(s,e,n);a&&r.push(a)}return r}function lL(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function sZ(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function aZ(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function oZ(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function lZ(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function cZ(t,e,n,i,r){let s=t.headerToolbar?dO(t.headerToolbar,t,e,n,i,r):null,a=t.footerToolbar?dO(t.footerToolbar,t,e,n,i,r):null;return{header:s,footer:a}}function dO(t,e,n,i,r,s){let a={},l=[],u=!1;for(let d in t){let h=t[d],g=uZ(h,e,n,i,r,s);a[d]=g.widgets,l.push(...g.viewsWithButtons),u=u||g.hasTitle}return{sectionWidgets:a,viewsWithButtons:l,hasTitle:u}}function uZ(t,e,n,i,r,s){let a=e.direction==="rtl",l=e.customButtons||{},u=n.buttonText||{},d=e.buttonText||{},h=n.buttonHints||{},g=e.buttonHints||{},m=t?t.split(" "):[],v=[],_=!1;return{widgets:m.map(S=>S.split(",").map(x=>{if(x==="title")return _=!0,{buttonName:x};let T,A,O,D,N,M;if(T=l[x])O=k=>{T.click&&T.click.call(k.target,k,k.target)},(D=i.getCustomButtonIconClass(T))||(D=i.getIconClass(x,a))||(N=T.text),M=T.hint||T.text;else if(A=r[x]){v.push(x),O=()=>{s.changeView(x)},(N=A.buttonTextOverride)||(D=i.getIconClass(x,a))||(N=A.buttonTextDefault);let k=A.buttonTextOverride||A.buttonTextDefault;M=Ud(A.buttonTitleOverride||A.buttonTitleDefault||e.viewHint,[k,x],k)}else if(s[x])if(O=()=>{s[x]()},(N=u[x])||(D=i.getIconClass(x,a))||(N=d[x]),x==="prevYear"||x==="nextYear"){let k=x==="prevYear"?"prev":"next";M=Ud(h[k]||g[k],[d.year||"year","year"],d[x])}else M=k=>Ud(h[x]||g[x],[d[k]||k,k],d[x]);return{buttonName:x,buttonClick:O,buttonIcon:D,buttonText:N,buttonHint:M}})),viewsWithButtons:v,hasTitle:_}}class dZ{constructor(e,n,i){this.type=e,this.getCurrentData=n,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let fZ={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const hZ=_s({name:"array-event-source",eventSourceDefs:[fZ]});let gZ={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:i}=t.context,r=t.eventSource.meta;CQ(r.bind(null,Oj(t.range,i)),s=>e({rawEvents:s}),n)}};const pZ=_s({name:"func-event-source",eventSourceDefs:[gZ]}),mZ={method:String,extraParams:se,startParam:String,endParam:String,timeZoneParam:String};let vZ={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:i}=t.eventSource,r=bZ(i,t.range,t.context);TQ(i.method,i.url,r).then(([s,a])=>{e({rawEvents:s,response:a})},n)}};const yZ=_s({name:"json-event-source",eventSourceRefiners:mZ,eventSourceDefs:[vZ]});function bZ(t,e,n){let{dateEnv:i,options:r}=n,s,a,l,u,d={};return s=t.startParam,s==null&&(s=r.startParam),a=t.endParam,a==null&&(a=r.endParam),l=t.timeZoneParam,l==null&&(l=r.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},Object.assign(d,u),d[s]=i.formatIso(e.start),d[a]=i.formatIso(e.end),i.timeZone!=="local"&&(d[l]=i.timeZone),d}const _Z={daysOfWeek:se,startTime:pt,endTime:pt,duration:pt,startRecur:se,endRecur:se};let wZ={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},i;return t.duration&&(i=t.duration),!i&&t.startTime&&t.endTime&&(i=j7(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:i,typeData:n}}return null},expand(t,e,n){let i=ao(e,{start:t.startRecur,end:t.endRecur});return i?xZ(t.daysOfWeek,t.startTime,t.dateEnv,n,i):[]}};const SZ=_s({name:"simple-recurring-event",recurringTypes:[wZ],eventRefiners:_Z});function xZ(t,e,n,i,r){let s=t?uj(t):null,a=$t(r.start),l=r.end,u=[];for(e&&(e.milliseconds<0?l=Nn(l,1):e.milliseconds>=1e3*60*60*24&&(a=Nn(a,-1)));a<l;){let d;(!s||s[a.getUTCDay()])&&(e?d=i.add(a,e):d=a,u.push(i.createMarker(n.toDate(d)))),a=Nn(a,1)}return u}const EZ=_s({name:"change-handler",optionChangeHandlers:{events(t,e){fO([t],e)},eventSources:fO}});function fO(t,e){let n=lS(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let i=[];for(let r of t){let s=!1;for(let a=0;a<n.length;a+=1)if(n[a]._raw===r){n.splice(a,1),s=!0;break}s||i.push(r)}for(let r of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function CZ(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Oj(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function TZ(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",sl(t,e))}const AZ=[hZ,pZ,yZ,SZ,EZ,_s({name:"misc",isLoadingFuncs:[t=>rL(t.eventSources)],propSetHandlers:{dateProfile:CZ,eventStore:TZ}})];class RZ{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new eS(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],i;for(;i=e.shift();)this.runTask(i),n.push(i);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function DZ(t,e,n){let i;return/^(year|month)$/.test(t.currentRangeUnit)?i=t.currentRange:i=t.activeRange,n.formatRange(i.start,i.end,nn(e.titleFormat||OZ(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function OZ(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Ip(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class hO{constructor(){this.resetListeners=new Set}handleInput(e,n){const i=this.dateEnv;if(e!==i&&(typeof n=="function"?this.nowFn=n:i||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class kZ{constructor(e){this.computeCurrentViewData=Le(this._computeCurrentViewData),this.organizeRawLocales=Le(NX),this.buildLocale=Le(nL),this.buildPluginHooks=LX(),this.buildDateEnv=Le(MZ),this.buildTheme=Le(NZ),this.parseToolbars=Le(cZ),this.buildViewSpecs=Le(VX),this.buildDateProfileGenerator=rp(IZ),this.buildViewApi=Le(PZ),this.buildViewUiProps=rp(FZ),this.buildEventUiBySource=Le(jZ,Wr),this.buildEventUiBases=Le(LZ),this.parseContextBusinessHours=rp(UZ),this.buildTitle=Le(DZ),this.nowManager=new hO,this.emitter=new jm,this.actionRunner=new RZ(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=e,this.actionRunner.pause(),this.nowManager=new hO;let n={},i=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(r,i,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let a={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=YX(i.calendarOptions,i.dateEnv,this.nowManager),u=s.dateProfileGenerator.build(l);ea(u.activeRange,l)||(l=u.currentRange.start);for(let m of i.pluginHooks.contextInit)m(a);let d=XX(i.calendarOptions,u,a),h={dynamicOptionOverrides:n,currentViewType:r,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(a),eventSources:d,eventUiBases:{},eventStore:rr(),renderableEventStore:rr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},g=Object.assign(Object.assign({},a),h);for(let m of i.pluginHooks.reducers)Object.assign(h,m(null,null,g));u0(h,a)&&this.emitter.trigger("loading",!0),this.state=h,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:i}=this;n===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:i,emitter:r}=this,s=KX(i.dynamicOptionOverrides,e),a=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),l=WX(i.currentViewType,e),u=this.computeCurrentViewData(l,a,n.optionOverrides,s);n.calendarApi.currentDataManager=this,r.setThisContext(n.calendarApi),r.setOptions(u.options);let d={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:g}=i;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(g=u.dateProfileGenerator.build(h)),h=GX(h,e),g=QX(g,e,h,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ea(g.currentRange,h))&&(h=g.currentRange.start);let m=ZX(i.eventSources,e,g,d),v=ZK(i.eventStore,e,m,g,d),b=rL(m)&&!u.options.progressiveEventRendering&&i.renderableEventStore||v,{eventUiSingleBase:S,selectionConfig:x}=this.buildViewUiProps(d),T=this.buildEventUiBySource(m),A=this.buildEventUiBases(b.defs,S,T),O={dynamicOptionOverrides:s,currentViewType:l,currentDate:h,dateProfile:g,eventSources:m,eventStore:v,renderableEventStore:b,selectionConfig:x,eventUiBases:A,businessHours:this.parseContextBusinessHours(d),dateSelection:sZ(i.dateSelection,e),eventSelection:aZ(i.eventSelection,e),eventDrag:oZ(i.eventDrag,e),eventResize:lZ(i.eventResize,e)},D=Object.assign(Object.assign({},d),O);for(let k of a.pluginHooks.reducers)Object.assign(O,k(i,e,D));let N=u0(i,d),M=u0(O,d);!N&&M?r.trigger("loading",!0):N&&!M&&r.trigger("loading",!1),this.state=O,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,r,e.optionOverrides,n.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),n),l=r.pluginHooks.optionChangeHandlers,u=i&&i.calendarOptions,d=r.calendarOptions;if(u&&u!==d){u.timeZone!==d.timeZone&&(n.eventSources=a.eventSources=JX(a.eventSources,n.dateProfile,a),n.eventStore=a.eventStore=iO(a.eventStore,i.dateEnv,a.dateEnv),n.renderableEventStore=a.renderableEventStore=iO(a.renderableEventStore,i.dateEnv,a.dateEnv));for(let h in l)(this.optionsForHandling.indexOf(h)!==-1||u[h]!==d[h])&&l[h](d[h],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,n,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:a,availableLocaleData:l,extra:u}=this.processRawCalendarOptions(e,n);gO(u);let d=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,l,r.defaultRangeSeparator),h=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),g=this.buildTheme(r,s),m=this.parseToolbars(r,this.stableOptionOverrides,g,h,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:d,viewSpecs:h,theme:g,toolbarConfig:m,localeDefaults:a,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:i,locale:r}=t0([zd,e,n]),s=this.organizeRawLocales(i),a=s.map,l=this.buildLocale(r||s.defaultCode,a).options,u=this.buildPluginHooks(e.plugins||[],AZ),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},XD),ZD),JD),u.listenerRefiners),u.optionRefiners),h={},g=t0([zd,l,e,n]),m={},v=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,b=!1;for(let S in g)this.optionsForRefining.indexOf(S)===-1&&(g[S]===v[S]||Wo[S]&&S in v&&Wo[S](v[S],g[S]))?m[S]=_[S]:d[S]?(m[S]=d[S](g[S]),b=!0):h[S]=v[S];return b&&(this.currentCalendarOptionsInput=g,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:s,localeDefaults:l,extra:h}}_computeCurrentViewData(e,n,i,r){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:l}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,i,r);gO(l),this.nowManager.handleInput(n.dateEnv,a.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:u,viewApi:d}}processRawViewOptions(e,n,i,r,s){let a=t0([zd,e.optionDefaults,i,r,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},XD),ZD),JD),pK),n.listenerRefiners),n.optionRefiners),u={},d=this.currentViewOptionsInput,h=this.currentViewOptionsRefined,g=!1,m={};for(let v in a)a[v]===d[v]||Wo[v]&&Wo[v](a[v],d[v])?u[v]=h[v]:(a[v]===this.currentCalendarOptionsInput[v]||Wo[v]&&Wo[v](a[v],this.currentCalendarOptionsInput[v])?v in this.currentCalendarOptionsRefined&&(u[v]=this.currentCalendarOptionsRefined[v]):l[v]?u[v]=l[v](a[v]):m[v]=a[v],g=!0);return g&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}}function MZ(t,e,n,i,r,s,a,l){let u=nL(e||a.defaultCode,a.map);return new TK({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:i,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function NZ(t,e){let n=e.themeClasses[t.themeSystem]||vo;return new n(t)}function IZ(t){let e=t.dateProfileGeneratorClass||vj;return new e(t)}function PZ(t,e,n){return new dZ(t,e,n)}function jZ(t){return sa(t,e=>e.ui)}function LZ(t,e,n){let i={"":e};for(let r in t){let s=t[r];s.sourceId&&n[s.sourceId]&&(i[r]=n[s.sourceId])}return i}function FZ(t){let{options:e}=t;return{eventUiSingleBase:zp({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:zp({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function u0(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function UZ(t){return oQ(t.options.businessHours,t)}function gO(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class zZ extends At{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return F("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:i}=this.context,r=[],s=!0;for(let a of e){let{buttonName:l,buttonClick:u,buttonText:d,buttonIcon:h,buttonHint:g}=a;if(l==="title")s=!1,r.push(F("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let m=l===n.activeButton,v=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",_=[`fc-${l}-button`,i.getClass("button")];m&&_.push(i.getClass("buttonActive")),r.push(F("button",{type:"button",title:typeof g=="function"?g(n.navUnit):g,disabled:v,"aria-pressed":m,className:_.join(" "),onClick:u},d||(h?F("span",{className:h,role:"img"}):"")))}}if(r.length>1){let a=s&&i.getClass("buttonGroup")||"";return F("div",{className:a},...r)}return r[0]}}class pO extends At{render(){let{model:e,extraClassName:n}=this.props,i=!1,r,s,a=e.sectionWidgets,l=a.center;return a.left?(i=!0,r=a.left):r=a.start,a.right?(i=!0,s=a.right):s=a.end,F("div",{className:[n||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:i}=this;return F(zZ,{key:e,widgetGroups:n,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class HZ extends At{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ms(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",a="";return i?n.availableWidth!==null?s=n.availableWidth/i:a=`${1/i*100}%`:s=e.height||"",F("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class BZ extends yu{constructor(e){super(e),this.handleSegClick=(n,i)=>{let{component:r}=this,{context:s}=r,a=Jc(i);if(a&&r.isValidSegDownEl(n.target)){let l=fi(n.target,".fc-event-forced-url"),u=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:i,event:new on(r.context,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi}),u&&!n.defaultPrevented&&(window.location.href=u)}},this.destroy=sj(e.el,"click",".fc-event",this.handleSegClick)}}class VZ extends yu{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,i)=>{Jc(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",n,i))},this.handleSegLeave=(n,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,i))},this.removeHoverListeners=w7(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,i){let{component:r}=this,{context:s}=r,a=Jc(i);(!n||r.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:i,event:new on(s,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi})}}class $Z extends El{constructor(){super(...arguments),this.buildViewContext=Le(DK),this.buildViewPropTransformers=Le(WZ),this.buildToolbarProps=Le(qZ),this.headerRef=xi(),this.footerRef=xi(),this.interactionsStore={},this.state={viewLabelId:Za()},this.registerInteractiveComponent=(e,n)=>{let i=DQ(e,n),a=[BZ,VZ].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(i));this.interactionsStore[e.uid]=a,N_[e.uid]=i},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let i of n)i.destroy();delete this.interactionsStore[e.uid]}delete N_[e.uid]},this.resizeRunner=new eS(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:i}=e,r=!1,s="",a;e.isHeightAuto||e.forPrint?s="":i.height!=null?r=!0:i.contentHeight!=null?s=i.contentHeight:a=Math.max(i.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return F(ca.Provider,{value:l},F(Cl,{unit:"day"},d=>{let h=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return F(Ut,null,n.header&&F(pO,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},h)),F(HZ,{liquid:r,height:s,aspectRatio:a,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&F(pO,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},h)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let i in n)n[i](e[i],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:i}=n.pluginHooks;for(let r in i)n[r]!==e[r]&&i[r](n[r],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(i=>i(e));return F(Ut,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of s)Object.assign(r,l.transform(r,e));let a=i.component;return F(a,Object.assign({},r))}}function qZ(t,e,n,i,r,s){let a=n.build(r,void 0,!1),l=n.buildPrev(e,i,!1),u=n.buildNext(e,i,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:a.isValid&&!ea(e.currentRange,r),isPrevEnabled:l.isValid,isNextEnabled:u.isValid}}function WZ(t){return t.map(e=>new e)}class GZ extends kQ{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Fp(()=>{sf(F(RQ,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,s,a,l)=>(this.setClassNames(r),this.setHeight(s),F(gj.Provider,{value:this.customContentRenderId},F($Z,Object.assign({isHeightAuto:a,forPrint:l},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,sf(null,this.el),this.setClassNames([]),this.setHeight(""))},f7(e),this.el=e,this.renderRunner=new eS(this.handleRenderRequest),new kZ({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Fp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!ro(e,this.currentClassNames)){let{classList:n}=this.el;for(let i of this.currentClassNames)n.remove(i);for(let i of e)n.add(i);this.currentClassNames=e}}setHeight(e){ij(this.el,"height",e)}}const YZ=parseInt(String(ae.version).split(".")[0]),KZ=YZ<18;class cL extends C.Component{constructor(){super(...arguments),this.elRef=C.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(ae.createElement(QZ,{key:n.id,customRendering:n}));return ae.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new kX;this.handleCustomRendering=e.handle.bind(e),this.calendar=new GZ(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{tr.flushSync(()=>{})});let n;e.subscribe(i=>{const r=Date.now(),s=!n;(KZ||s||this.isUpdating||this.isUnmounting||r-n<100?uL:tr.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{n=r,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}cL.act=uL;class QZ extends C.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,i=typeof n=="function"?n(e.renderProps):n;return tr.createPortal(i,e.containerEl)}}function uL(t){t()}class XZ extends Qr{constructor(){super(...arguments),this.headerElRef=xi()}renderSimpleLayout(e,n){let{props:i,context:r}=this,s=[],a=Bp(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),F(af,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},F(TS,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,i,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:a,context:l}=this,u=!a.forPrint&&Bp(l.options),d=!a.forPrint&&Yj(l.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:j_}]}),F(af,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},F(s,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:h}))}}function ap(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.row].push(i);return n}function Mg(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.firstCol].push(i);return n}function mO(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}const dL=nn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function fL(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class hL extends At{render(){let{props:e}=this;return F(AS,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:dL,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class gL extends At{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,s=i.eventTimeFormat||dL,a=Hd(r,s,n,!0,e.defaultDisplayEventEnd);return F(Fm,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:bS(e.seg,n),defaultGenerator:ZZ,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function ZZ(t){return F(Ut,null,F("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title"},t.event.title||F(Ut,null,"")))}class JZ extends At{constructor(){super(...arguments),this.compileSegs=Le(eJ)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return F(Zj,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return F(Ut,null,n.map(s=>{let a=s.eventRange.instance.instanceId;return F("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:r[a]?"hidden":""}},fL(s)?F(gL,Object.assign({seg:s,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},ta(s,e.todayRange))):F(hL,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},ta(s,e.todayRange))))}))}})}}function eJ(t){let e=[],n=[];for(let i of t)e.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:e,invisibleSegs:n}}const tJ=nn({week:"narrow"});class nJ extends Qr{constructor(){super(...arguments),this.rootElRef=xi(),this.state={dayNumberId:Za()},this.handleRootEl=e=>{ms(this.rootElRef,e),ms(this.props.elRef,e)}}render(){let{context:e,props:n,state:i,rootElRef:r}=this,{options:s,dateEnv:a}=e,{date:l,dateProfile:u}=n;const d=n.showDayNumber&&rJ(l,u.currentRange,a);return F(DS,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:iJ,date:l,dateProfile:u,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(h,g)=>F("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&F(Xj,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:eu(e,l,"week"),date:l,defaultFormat:tJ}),!g.isDisabled&&(n.showDayNumber||OS(s)||n.forceDayTop)?F("div",{className:"fc-daygrid-day-top"},F(h,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},eu(e,l)),{id:i.dayNumberId})})):n.showDayNumber?F("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},F("a",{className:"fc-daygrid-day-number"},"")):void 0,F("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,F("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},F(JZ,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:r,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),F("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function iJ(t){return t.dayNumberText||F(Ut,null,"")}function rJ(t,e,n){const{start:i,end:r}=e,s=so(r,-1),a=n.getYear(i),l=n.getMonth(i),u=n.getYear(s),d=n.getMonth(s);return!(a===u&&l===d)&&(t.valueOf()===i.valueOf()||n.getDay(t)===1&&t.valueOf()<r.valueOf())}function pL(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function mL(t){return pL(t)+":"+t.lastCol}function sJ(t,e,n,i,r,s,a){let l=new lJ(x=>{let T=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return r[T]||1});l.allowReslicing=!0,l.strictOrder=i,e===!0||n===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let u=[],d=[];for(let x=0;x<t.length;x+=1){let T=t[x],A=mL(T);r[A]!=null?u.push({index:x,span:{start:T.firstCol,end:T.lastCol+1}}):d.push(T)}let h=l.addSegs(u),g=l.toRects(),{singleColPlacements:m,multiColPlacements:v,leftoverMargins:_}=aJ(g,t,a),b=[],S=[];for(let x of d){v[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let T=x.firstCol;T<=x.lastCol;T+=1)m[T].push({seg:qc(x,T,T+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)b.push(0);for(let x of h){let T=t[x.index],A=x.span;v[A.start].push({seg:qc(T,A.start,A.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let O=A.start;O<A.end;O+=1)b[O]+=1,m[O].push({seg:qc(T,O,O+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)S.push(_[x]);return{singleColPlacements:m,multiColPlacements:v,moreCnts:b,moreMarginTops:S}}function aJ(t,e,n){let i=oJ(t,n.length),r=[],s=[],a=[];for(let l=0;l<n.length;l+=1){let u=i[l],d=[],h=0,g=0;for(let v of u){let _=e[v.index];d.push({seg:qc(_,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-h}),h=v.levelCoord+v.thickness}let m=[];h=0,g=0;for(let v of u){let _=e[v.index],b=v.span.end-v.span.start>1,S=v.span.start===l;g+=v.levelCoord-h,h=v.levelCoord+v.thickness,b?(g+=v.thickness,S&&m.push({seg:qc(_,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):S&&(m.push({seg:qc(_,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:g}),g=0)}r.push(d),s.push(m),a.push(g)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:a}}function oJ(t,e){let n=[];for(let i=0;i<e;i+=1)n.push([]);for(let i of t)for(let r=i.span.start;r<i.span.end;r+=1)n[r].push(i);return n}function qc(t,e,n,i){if(t.firstCol===e&&t.lastCol===n-1)return t;let r=t.eventRange,s=r.range,a=ao(s,{start:i[e].date,end:Nn(i[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:a},isStart:t.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===s.end.valueOf()})}class lJ extends jj{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:i}=this,r=s=>!this.forceHidden[al(s)];for(let s=0;s<i.length;s+=1)i[s]=i[s].filter(r);return n}handleInvalidInsertion(e,n,i){const{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:a,touchingLevel:l,touchingLateral:u}=e;if(this.hiddenConsumes&&a){const d=al(a);if(!s[d])if(this.allowReslicing){const h=Object.assign(Object.assign({},a),{span:ES(a.span,n.span)}),g=al(h);s[g]=!0,r[l][u]=h,i.push(h),this.splitEntry(a,n,i)}else s[d]=!0,i.push(a)}super.handleInvalidInsertion(e,n,i)}}class vL extends Qr{constructor(){super(...arguments),this.cellElRefs=new Qs,this.frameElRefs=new Qs,this.fgElRefs=new Qs,this.segHarnessRefs=new Qs,this.rootElRef=xi(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:i}=this,{options:r}=i,s=e.cells.length,a=Mg(e.businessHourSegs,s),l=Mg(e.bgEventSegs,s),u=Mg(this.getHighlightSegs(),s),d=Mg(this.getMirrorSegs(),s),{singleColPlacements:h,multiColPlacements:g,moreCnts:m,moreMarginTops:v}=sJ(yS(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),_=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return F("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((b,S)=>{let x=this.renderFgSegs(S,e.forPrint?h[S]:g[S],e.todayRange,_),T=this.renderFgSegs(S,cJ(d[S],g),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return F(nJ,{key:b.key,elRef:this.cellElRefs.createRef(b.key),innerElRef:this.frameElRefs.createRef(b.key),dateProfile:e.dateProfile,date:b.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&S===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:b.extraRenderProps,extraDataAttrs:b.extraDataAttrs,extraClassNames:b.extraClassNames,extraDateSpan:b.extraDateSpan,moreCnt:m[S],moreMarginTop:v[S],singlePlacements:h[S],fgContentElRef:this.fgElRefs.createRef(b.key),fgContent:F(Ut,null,F(Ut,null,x),F(Ut,null,T)),bgContent:F(Ut,null,this.renderFillSegs(u[S],"highlight"),this.renderFillSegs(a[S],"non-business"),this.renderFillSegs(l[S],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let i=this.props;this.updateSizing(!Wr(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,i,r,s,a,l){let{context:u}=this,{eventSelection:d}=this.props,{framePositions:h}=this.state,g=this.props.cells.length===1,m=s||a||l,v=[];if(h)for(let _ of n){let{seg:b}=_,{instanceId:S}=b.eventRange.instance,x=_.isVisible&&!r[S],T=_.isAbsolute,A="",O="";T&&(u.isRtl?(O=0,A=h.lefts[b.lastCol]-h.lefts[b.firstCol]):(A=0,O=h.rights[b.firstCol]-h.rights[b.lastCol])),v.push(F("div",{className:"fc-daygrid-event-harness"+(T?" fc-daygrid-event-harness-abs":""),key:pL(b),ref:m?null:this.segHarnessRefs.createRef(mL(b)),style:{visibility:x?"":"hidden",marginTop:T?"":_.marginTop,top:T?_.absoluteTop:"",left:A,right:O}},fL(b)?F(gL,Object.assign({seg:b,isDragging:s,isSelected:S===d,defaultDisplayEventEnd:g},ta(b,i))):F(hL,Object.assign({seg:b,isDragging:s,isResizing:a,isDateSelecting:l,isSelected:S===d,defaultDisplayEventEnd:g},ta(b,i)))))}return v}renderFillSegs(e,n){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,a=[];if(s)for(let l of e){let u=i?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};a.push(F("div",{key:Dj(l.eventRange),className:"fc-daygrid-bg-harness",style:u},n==="bg-event"?F(Kj,Object.assign({seg:l},ta(l,r))):Qj(n)))}return F(Ut,{},...a)}updateSizing(e){let{props:n,state:i,frameElRefs:r}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let u=n.cells.map(d=>r.currentMap[d.key]);if(u.length){let d=this.rootElRef.current,h=new tu(d,u,!0,!1);(!i.framePositions||!i.framePositions.similarTo(h))&&this.setState({framePositions:new tu(d,u,!0,!1)})}}const s=this.state.segHeights,a=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),a),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);n[i]=Math.max(n[i]||0,r)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}vL.addStateEquality({segHeights:Wr});function cJ(t,e){if(!t.length)return[];let n=uJ(e);return t.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:n[i.eventRange.instance.instanceId],marginTop:0}))}function uJ(t){let e={};for(let n of t)for(let i of n)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class dJ extends Qr{constructor(){super(...arguments),this.splitBusinessHourSegs=Le(ap),this.splitBgEventSegs=Le(fJ),this.splitFgEventSegs=Le(ap),this.splitDateSelectionSegs=Le(ap),this.splitEventDrag=Le(mO),this.splitEventResize=Le(mO),this.rowRefs=new Qs}render(){let{props:e,context:n}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitFgEventSegs(e.fgEventSegs,i),l=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i),h=i>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return F(Cl,{unit:"day"},(g,m)=>F(Ut,null,e.cells.map((v,_)=>F(vL,{ref:this.rowRefs.createRef(_),key:v.length?v[0].date.toISOString():_,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:v,renderIntro:e.renderRowIntro,businessHourSegs:r[_],eventSelection:e.eventSelection,bgEventSegs:s[_],fgEventSegs:a[_],dateSelectionSegs:l[_],eventDrag:u[_],eventResize:d[_],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new tu(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new tu(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:i,rowPositions:r}=this,s=i.leftToIndex(e),a=r.topToIndex(n);if(a!=null&&s!=null){let l=this.props.cells[a][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(a,s),rect:{left:i.lefts[s],right:i.rights[s],top:r.tops[a],bottom:r.bottoms[a]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let i=this.props.cells[e][n].date,r=Nn(i,1);return{start:i,end:r}}}function fJ(t,e){return ap(t.filter(hJ),e)}function hJ(t){return t.eventRange.def.allDay}class gJ extends Qr{constructor(){super(...arguments),this.elRef=xi(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:i,expandRows:r}=e,s=i===!0||n===!0;s&&!r&&(s=!1,n=null,i=null);let a=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return F("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,F("tbody",{role:"presentation"},F(dJ,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=pJ(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),i=n.closest(".fc-scroller"),r=e.getBoundingClientRect().top-n.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function pJ(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${Z7(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Rf(e.currentDate)}"]`)),n}class mJ extends Bj{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class yL extends Qr{constructor(){super(...arguments),this.slicer=new mJ,this.tableRef=xi()}render(){let{props:e,context:n}=this;return F(gJ,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class vJ extends XZ{constructor(){super(...arguments),this.buildDayTableModel=Le(yJ),this.headerRef=xi(),this.tableRef=xi()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,n),s=e.dayHeaders&&F(Uj,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),a=l=>F(yL,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,a,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,a)}}function yJ(t,e){let n=new zj(t.renderRange,e);return new Hj(n,/year|month|week/.test(t.currentRangeUnit))}class bJ extends vj{buildRenderRange(e,n,i){let r=super.buildRenderRange(e,n,i),{props:s}=this;return _J({currentRange:r,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function _J(t){let{dateEnv:e,currentRange:n}=t,{start:i,end:r}=n,s;if(t.snapToWeek&&(i=e.startOfWeek(i),s=e.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=WD(s,1))),t.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(Nn(n.end,-1))),l=Math.ceil(H7(a,r));r=WD(r,6-l)}return{start:i,end:r}}var wJ=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Mm(wJ);var SJ=_s({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:vJ,dateProfileGeneratorClass:bJ},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class xJ extends jQ{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?fQ(e)?["timed","allDay"]:["allDay"]:["timed"]}}const EJ=nn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function bL(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return F(ca.Consumer,null,n=>{if(!t.isLabeled)return F("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:i,options:r,viewApi:s}=n,a=r.slotLabelFormat==null?EJ:Array.isArray(r.slotLabelFormat)?nn(r.slotLabelFormat[0]):nn(r.slotLabelFormat),l={level:0,time:t.time,date:i.toDate(t.date),view:s,text:i.format(t.date,a)};return F(pi,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:CJ,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},u=>F("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},F(u,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function CJ(t){return t.text}class TJ extends At{render(){return this.props.slatMetas.map(e=>F("tr",{key:e.key},F(bL,Object.assign({},e))))}}const AJ=nn({week:"short"}),RJ=5;class DJ extends Qr{constructor(){super(...arguments),this.allDaySplitter=new xJ,this.headerElRef=xi(),this.rootElRef=xi(),this.scrollerElRef=xi(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,s=r.renderRange,l=mo(s.start,s.end)===1?eu(this.context,s.start,"week"):{};return i.weekNumbers&&e==="day"?F(Xj,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:AJ},u=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},F(u,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):F("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},F("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:i}=this.context,r={text:n.allDayText,view:i};return F(pi,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:OJ,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},F(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,i){let{context:r,props:s}=this,a=[],l=Bp(r.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(a.push({type:"body",key:"all-day",chunk:{content:n}}),a.push({type:"body",key:"all-day-divider",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),F(af,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},F(TS,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,n,i,r,s,a,l){let u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");let{context:d,props:h}=this,g=!h.forPrint&&Bp(d.options),m=!h.forPrint&&Yj(d.options),v=[];e&&v.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:b=>F("tr",{role:"presentation"},this.renderHeadAxis("day",b.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(v.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:b=>F("tr",{role:"presentation"},this.renderTableRowAxis(b.rowSyncHeights[0]))},{key:"cols",content:n}]}),v.push({key:"all-day-divider",type:"body",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let _=d.options.nowIndicator;return v.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:b=>F("div",{className:"fc-timegrid-axis-chunk"},F("table",{"aria-hidden":!0,style:{height:b.expandRows?b.clientHeight:""}},b.tableColGroupNode,F("tbody",null,F(TJ,{slatMetas:a}))),F("div",{className:"fc-timegrid-now-indicator-container"},F(Cl,{unit:_?"minute":"day"},S=>{let x=_&&l&&l.safeComputeTop(S);return typeof x=="number"?F(RS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:S}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),m&&v.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:j_},{key:"cols",content:j_}]}),F(af,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},F(u,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:s}]}],sections:v}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=RJ),{dayMaxEvents:e,dayMaxEventRows:n}}}function OJ(t){return t.text}class kJ{constructor(e,n,i){this.positions=e,this.dateProfile=n,this.slotDuration=i}safeComputeTop(e){let{dateProfile:n}=this;if(ea(n.currentRange,e)){let i=$t(e),r=e.valueOf()-i.valueOf();if(r>=Hr(n.slotMinTime)&&r<Hr(n.slotMaxTime))return this.computeTimeTop(pt(r))}return null}computeDateTop(e,n){return n||(n=$t(e)),this.computeTimeTop(pt(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:i}=this,r=n.els.length,s=(e.milliseconds-Hr(i.slotMinTime))/Hr(this.slotDuration),a,l;return s=Math.max(0,s),s=Math.min(r,s),a=Math.floor(s),a=Math.min(a,r-1),l=s-a,n.tops[a]+n.getHeight(a)*l}}class MJ extends At{render(){let{props:e,context:n}=this,{options:i}=n,{slatElRefs:r}=e;return F("tbody",null,e.slatMetas.map((s,a)=>{let l={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return F("tr",{key:s.key,ref:r.createRef(s.key)},e.axis&&F(bL,Object.assign({},s)),F(pi,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class NJ extends At{constructor(){super(...arguments),this.rootElRef=xi(),this.slatElRefs=new Qs}render(){let{props:e,context:n}=this;return F("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},F("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,F(MJ,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new kJ(new tu(this.rootElRef.current,IJ(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function IJ(t,e){return e.map(n=>t[n.key])}function bd(t,e){let n=[],i;for(i=0;i<e;i+=1)n.push([]);if(t)for(i=0;i<t.length;i+=1)n[t[i].col].push(t[i]);return n}function vO(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}class PJ extends At{render(){let{props:e}=this;return F(Zj,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>wL(e.hiddenSegs,e),defaultGenerator:jJ,forceTimed:!0},n=>F(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function jJ(t){return t.shortText}function LJ(t,e,n){let i=new jj;e!=null&&(i.strictOrder=e),n!=null&&(i.maxStackCnt=n);let r=i.addSegs(t),s=KQ(r),a=FJ(i);return a=BJ(a,1),{segRects:VJ(a),hiddenGroups:s}}function FJ(t){const{entriesByLevel:e}=t,n=MS((i,r)=>i+":"+r,(i,r)=>{let s=HJ(t,i,r),a=yO(s,n),l=e[i][r];return[Object.assign(Object.assign({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return yO(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function yO(t,e){if(!t)return[[],0];let{level:n,lateralStart:i,lateralEnd:r}=t,s=i,a=[];for(;s<r;)a.push(e(n,s)),s+=1;return a.sort(UJ),[a.map(zJ),a[0][1]]}function UJ(t,e){return e[1]-t[1]}function zJ(t){return t[0]}function HJ(t,e,n){let{levelCoords:i,entriesByLevel:r}=t,s=r[e][n],a=i[e]+s.thickness,l=i.length,u=e;for(;u<l&&i[u]<a;u+=1);for(;u<l;u+=1){let d=r[u],h,g=P_(d,s.span.start,I_),m=g[0]+g[1],v=m;for(;(h=d[v])&&h.span.start<s.span.end;)v+=1;if(m<v)return{level:u,lateralStart:m,lateralEnd:v}}return null}function BJ(t,e){const n=MS((i,r,s)=>al(i),(i,r,s)=>{let{nextLevelNodes:a,thickness:l}=i,u=l+s,d=l/u,h,g=[];if(!a.length)h=e;else for(let v of a)if(h===void 0){let _=n(v,r,u);h=_[0],g.push(_[1])}else{let _=n(v,h,0);g.push(_[1])}let m=(h-r)*d;return[h-m,Object.assign(Object.assign({},i),{thickness:m,nextLevelNodes:g})]});return t.map(i=>n(i,0,0)[1])}function VJ(t){let e=[];const n=MS((r,s,a)=>al(r),(r,s,a)=>{let l=Object.assign(Object.assign({},r),{levelCoord:s,stackDepth:a,stackForward:0});return e.push(l),l.stackForward=i(r.nextLevelNodes,s+r.thickness,a+1)+1});function i(r,s,a){let l=0;for(let u of r)l=Math.max(n(u,s,a),l);return l}return i(t,0,0),e}function MS(t,e){const n={};return(...i)=>{let r=t(...i);return r in n?n[r]:n[r]=e(...i)}}function bO(t,e,n=null,i=0){let r=[];if(n)for(let s=0;s<t.length;s+=1){let a=t[s],l=n.computeDateTop(a.start,e),u=Math.max(l+(i||0),n.computeDateTop(a.end,e));r.push({start:Math.round(l),end:Math.round(u)})}return r}function $J(t,e,n,i){let r=[],s=[];for(let d=0;d<t.length;d+=1){let h=e[d];h?r.push({index:d,thickness:1,span:h}):s.push(t[d])}let{segRects:a,hiddenGroups:l}=LJ(r,n,i),u=[];for(let d of a)u.push({seg:t[d.index],rect:d});for(let d of s)u.push({seg:d,rect:null});return{segPlacements:u,hiddenGroups:l}}const qJ=nn({hour:"numeric",minute:"2-digit",meridiem:!1});class _L extends At{render(){return F(AS,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:qJ}))}}class WJ extends At{constructor(){super(...arguments),this.sortEventSegs=Le(yS)}render(){let{props:e,context:n}=this,{options:i}=n,r=i.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return F(DS,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},u=>F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,a,!1,!1,!1)),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),F("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),OS(i)&&F(u,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,i,r,s,a){let{props:l}=this;return l.forPrint?wL(e,l):this.renderPositionedFgSegs(e,n,i,r,s,a)}renderPositionedFgSegs(e,n,i,r,s,a){let{eventMaxStack:l,eventShortHeight:u,eventOrderStrict:d,eventMinHeight:h}=this.context.options,{date:g,slatCoords:m,eventSelection:v,todayRange:_,nowDate:b}=this.props,S=i||r||s,x=bO(e,g,m,h),{segPlacements:T,hiddenGroups:A}=$J(e,x,d,l);return F(Ut,null,this.renderHiddenGroups(A,e),T.map(O=>{let{seg:D,rect:N}=O,M=D.eventRange.instance.instanceId,k=S||!!(!n[M]&&N),P=d0(N&&N.span),z=!S&&N?this.computeSegHStyle(N):{left:0,right:0},B=!!N&&N.stackForward>0,K=!!N&&N.span.end-N.span.start<u;return F("div",{className:"fc-timegrid-event-harness"+(B?" fc-timegrid-event-harness-inset":""),key:a||M,style:Object.assign(Object.assign({visibility:k?"":"hidden"},P),z)},F(_L,Object.assign({seg:D,isDragging:i,isResizing:r,isDateSelecting:s,isSelected:M===v,isShort:K},ta(D,_,b))))}))}renderHiddenGroups(e,n){let{extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d}=this.props;return F(Ut,null,e.map(h=>{let g=d0(h.span),m=GJ(h.entries,n);return F(PJ,{key:cj(Jj(m)),hiddenSegs:m,top:g.top,bottom:g.bottom,extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d})}))}renderFillSegs(e,n){let{props:i,context:r}=this,a=bO(e,i.date,i.slatCoords,r.options.eventMinHeight).map((l,u)=>{let d=e[u];return F("div",{key:Dj(d.eventRange),className:"fc-timegrid-bg-harness",style:d0(l)},n==="bg-event"?F(Kj,Object.assign({seg:d},ta(d,i.todayRange,i.nowDate))):Qj(n))});return F(Ut,null,a)}renderNowIndicator(e){let{slatCoords:n,date:i}=this.props;return n?e.map((r,s)=>F(RS,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:n,options:i}=this.context,r=i.slotEventOverlap,s=e.levelCoord,a=e.levelCoord+e.thickness,l,u;r&&(a=Math.min(1,s+(a-s)*2)),n?(l=1-a,u=s):(l=s,u=1-a);let d={zIndex:e.stackDepth+1,left:l*100+"%",right:u*100+"%"};return r&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=20),d}}function wL(t,{todayRange:e,nowDate:n,eventSelection:i,eventDrag:r,eventResize:s}){let a=(r?r.affectedInstances:null)||(s?s.affectedInstances:null)||{};return F(Ut,null,t.map(l=>{let u=l.eventRange.instance.instanceId;return F("div",{key:u,style:{visibility:a[u]?"hidden":""}},F(_L,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===i,isShort:!1},ta(l,e,n))))}))}function d0(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function GJ(t,e){return t.map(n=>e[n.index])}class YJ extends At{constructor(){super(...arguments),this.splitFgEventSegs=Le(bd),this.splitBgEventSegs=Le(bd),this.splitBusinessHourSegs=Le(bd),this.splitNowIndicatorSegs=Le(bd),this.splitDateSelectionSegs=Le(bd),this.splitEventDrag=Le(vO),this.splitEventResize=Le(vO),this.rootElRef=xi(),this.cellElRefs=new Qs}render(){let{props:e,context:n}=this,i=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),l=this.splitBusinessHourSegs(e.businessHourSegs,r),u=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),d=this.splitDateSelectionSegs(e.dateSelectionSegs,r),h=this.splitEventDrag(e.eventDrag,r),g=this.splitEventResize(e.eventResize,r);return F("div",{className:"fc-timegrid-cols",ref:this.rootElRef},F("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,F("tbody",{role:"presentation"},F("tr",{role:"row"},e.axis&&F("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&F(RS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((m,v)=>F(WJ,{key:m.key,elRef:this.cellElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,fgEventSegs:s[v],bgEventSegs:a[v],businessHourSegs:l[v],nowIndicatorSegs:u[v],dateSelectionSegs:d[v],eventDrag:h[v],eventResize:g[v],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new tu(this.rootElRef.current,KJ(this.cellElRefs.currentMap,e.cells),!0,!1))}}function KJ(t,e){return e.map(n=>t[n.key])}class QJ extends Qr{constructor(){super(...arguments),this.processSlotOptions=Le(XJ),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:i}=this.state;if(n&&i){if(e.time){let r=i.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),n(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return F("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F(NJ,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),F(YJ,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:i,options:r}=this.context,{colCoords:s}=this,{dateProfile:a}=this.props,{slatCoords:l}=this.state,{snapDuration:u,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),h=s.leftToIndex(e),g=l.positions.topToIndex(n);if(h!=null&&g!=null){let m=this.props.cells[h],v=l.positions.tops[g],_=l.positions.getHeight(g),b=(n-v)/_,S=Math.floor(b*d),x=g*d+S,T=this.props.cells[h].date,A=A_(a.slotMinTime,L7(u,x)),O=i.add(T,A),D=i.add(O,u);return{dateProfile:a,dateSpan:Object.assign({range:{start:O,end:D},allDay:!1},m.extraDateSpan),dayEl:s.els[h],rect:{left:s.lefts[h],right:s.rights[h],top:v,bottom:v+_},layer:0}}return null}}function XJ(t,e){let n=e||t,i=rS(t,n);return i===null&&(n=t,i=1),{snapDuration:n,snapsPerSlot:i}}class ZJ extends Bj{sliceRange(e,n){let i=[];for(let r=0;r<n.length;r+=1){let s=ao(e,n[r]);s&&i.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:r})}return i}}class JJ extends Qr{constructor(){super(...arguments),this.buildDayRanges=Le(eee),this.slicer=new ZJ,this.timeColsRef=xi()}render(){let{props:e,context:n}=this,{dateProfile:i,dayTableModel:r}=e,{nowIndicator:s,nextDayThreshold:a}=n.options,l=this.buildDayRanges(r,i,n.dateEnv);return F(Cl,{unit:s?"minute":"day"},(u,d)=>F(QJ,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:u,nowIndicatorSegs:s&&this.slicer.sliceNowDate(u,i,a,n,l),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function eee(t,e,n){let i=[];for(let r of t.headerDates)i.push({start:n.add(r,e.slotMinTime),end:n.add(r,e.slotMaxTime)});return i}const _O=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function tee(t,e,n,i,r){let s=new Date(0),a=t,l=pt(0),u=n||nee(i),d=[];for(;Hr(a)<Hr(e);){let h=r.add(s,a),g=rS(l,u)!==null;d.push({date:h,time:a,key:h.toISOString(),isoTimeStr:J7(h),isLabeled:g}),a=A_(a,i),l=A_(l,i)}return d}function nee(t){let e,n,i;for(e=_O.length-1;e>=0;e-=1)if(n=pt(_O[e]),i=rS(n,t),i!==null&&i>1)return n;return t}class iee extends DJ{constructor(){super(...arguments),this.buildTimeColsModel=Le(ree),this.buildSlatMetas=Le(tee)}render(){let{options:e,dateEnv:n,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:s}=r,a=this.buildTimeColsModel(s,i),l=this.allDaySplitter.splitProps(r),u=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,h=!d,g=d,m=e.dayHeaders&&F(Uj,{dates:a.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),v=e.allDaySlot!==!1&&(b=>F(yL,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:b.tableMinWidth,colGroupNode:b.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:b.clientWidth,clientHeight:b.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),_=b=>F(JJ,Object.assign({},l.timed,{dayTableModel:a,dateProfile:s,axis:h,slotDuration:e.slotDuration,slatMetas:u,forPrint:r.forPrint,tableColGroupNode:b.tableColGroupNode,tableMinWidth:b.tableMinWidth,clientWidth:b.clientWidth,clientHeight:b.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:b.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(m,v,_,a.colCnt,d,u,this.state.slatCoords):this.renderSimpleLayout(m,v,_)}}function ree(t,e){let n=new zj(t.renderRange,e);return new Hj(n,!1)}var see='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Mm(see);const aee={allDaySlot:Boolean};var oee=_s({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:aee,views:{timeGrid:{component:iee,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class lee extends At{constructor(){super(...arguments),this.state={textId:Za()}}render(){let{theme:e,dateEnv:n,options:i,viewApi:r}=this.context,{cellId:s,dayDate:a,todayRange:l}=this.props,{textId:u}=this.state,d=wS(a,l),h=i.listDayFormat?n.format(a,i.listDayFormat):"",g=i.listDaySideFormat?n.format(a,i.listDaySideFormat):"",m=Object.assign({date:n.toDate(a),view:r,textId:u,text:h,sideText:g,navLinkAttrs:eu(this.context,a),sideNavLinkAttrs:eu(this.context,a,"day",!1)},d);return F(pi,{elTag:"tr",elClasses:["fc-list-day",...Lm(d,e)],elAttrs:{"data-date":Rf(a)},renderProps:m,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:cee,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},v=>F("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":u},F(v,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function cee(t){return F(Ut,null,t.text&&F("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&F("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const uee=nn({hour:"numeric",minute:"2-digit",meridiem:"short"});class dee extends At{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r,timeHeaderId:s,eventHeaderId:a,dateHeaderId:l}=e,u=i.eventTimeFormat||uee;return F(Fm,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>fee(r,n),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(d,h)=>F(Ut,null,hee(r,u,n,s,l),F("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},F("span",{className:"fc-list-event-dot",style:{borderColor:h.borderColor||h.backgroundColor}})),F(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${a} ${l}`}})))}}function fee(t,e){let n=bS(t,e);return F("a",Object.assign({},n),t.eventRange.def.title)}function hee(t,e,n,i,r){let{options:s}=n;if(s.displayEventTime!==!1){let a=t.eventRange.def,l=t.eventRange.instance,u=!1,d;if(a.allDay?u=!0:UK(t.eventRange.range)?t.isStart?d=Hd(t,e,n,null,null,l.range.start,t.end):t.isEnd?d=Hd(t,e,n,null,null,t.start,l.range.end):u=!0:d=Hd(t,e,n),u){let h={text:n.options.allDayText,view:n.viewApi};return F(pi,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:h,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:gee,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return F("td",{className:"fc-list-event-time"},d)}return null}function gee(t){return t.text}class pee extends Qr{constructor(){super(...arguments),this.computeDateVars=Le(vee),this.eventStoreToSegs=Le(this._eventStoreToSegs),this.state={timeHeaderId:Za(),eventHeaderId:Za(),dateHeaderIdRoot:Za()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return F(af,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},F(Wj,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,i={text:e.noEventsText,view:n};return F(pi,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:mee,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>F(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:i,options:r}=this.context,{timeHeaderId:s,eventHeaderId:a,dateHeaderIdRoot:l}=this.state,u=yee(e);return F(Cl,{unit:"day"},(d,h)=>{let g=[];for(let m=0;m<u.length;m+=1){let v=u[m];if(v){let _=Rf(n[m]),b=l+"-"+_;g.push(F(lee,{key:_,cellId:b,dayDate:n[m],todayRange:h})),v=yS(v,r.eventOrder);for(let S of v)g.push(F(dee,Object.assign({key:_+":"+S.eventRange.instance.instanceId,seg:S,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:a,dateHeaderId:b},ta(S,h,d))))}}return F("table",{className:"fc-list-table "+i.getClass("table")},F("thead",null,F("tr",null,F("th",{scope:"col",id:s},r.timeHint),F("th",{scope:"col","aria-hidden":!0}),F("th",{scope:"col",id:a},r.eventHint))),F("tbody",null,g))})}_eventStoreToSegs(e,n,i){return this.eventRangesToSegs(M_(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,n){let i=[];for(let r of e)i.push(...this.eventRangeToSegs(r,n));return i}eventRangeToSegs(e,n){let{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,s=e.range,a=e.def.allDay,l,u,d,h=[];for(l=0;l<n.length;l+=1)if(u=ao(s,n[l]),u&&(d={component:this,eventRange:e,start:u.start,end:u.end,isStart:e.isStart&&u.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&u.end.valueOf()===s.end.valueOf(),dayIndex:l},h.push(d),!d.isEnd&&!a&&l+1<n.length&&s.end<i.add(n[l+1].start,r))){d.end=s.end,d.isEnd=!0;break}return h}}function mee(t){return t.text}function vee(t){let e=$t(t.renderRange.start),n=t.renderRange.end,i=[],r=[];for(;e<n;)i.push(e),r.push({start:e,end:Nn(e,1)}),e=Nn(e,1);return{dayDates:i,dayRanges:r}}function yee(t){let e=[],n,i;for(n=0;n<t.length;n+=1)i=t[n],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var bee=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Mm(bee);const _ee={listDayFormat:wO,listDaySideFormat:wO,noEventsClassNames:se,noEventsContent:se,noEventsDidMount:se,noEventsWillUnmount:se};function wO(t){return t===!1?null:nn(t)}var wee=_s({name:"@fullcalendar/list",optionRefiners:_ee,views:{list:{component:pee,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});CS.touchMouseIgnoreWait=500;let F_=0,Vp=0,U_=!1;class SL{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&See(n)&&this.tryStart(n)){let i=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let i=this.createEventFromMouse(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let i=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=n.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let i=this.createEventFromTouch(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=n=>{if(this.isDragging){let i=n.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,xee()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new jm,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Eee()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Cee()}tryStart(e){let n=this.querySubjectEl(e),i=e.target;return n&&(!this.handleSelector||fi(i,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){U_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?fi(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return F_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(U_=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let i=0,r=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,n){let i=e.touches,r,s,a=0,l=0;return i&&i.length?(r=i[0].pageX,s=i[0].pageY):(r=e.pageX,s=e.pageY),n?(this.origPageX=r,this.origPageY=s):(a=r-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:a,deltaY:l}}}function See(t){return t.button===0&&!t.ctrlKey}function xee(){F_+=1,setTimeout(()=>{F_-=1},CS.touchMouseIgnoreWait)}function Eee(){Vp+=1,Vp===1&&window.addEventListener("touchmove",xL,{passive:!1})}function Cee(){Vp-=1,Vp||window.removeEventListener("touchmove",xL,{passive:!1})}function xL(t){U_&&t.preventDefault()}class Tee{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let i=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,n){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+n+"ms,left "+n+"ms",Fd(i,{left:r.left,top:r.top}),S7(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(tS(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Fd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Fd(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class EL extends xS{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class CL extends EL{constructor(e,n){super(new GQ(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return qQ(this.scrollController.el)}}class Aee extends EL{constructor(e){super(new YQ,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const SO=typeof performance=="function"?performance.now:Date.now;class Ree{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=SO();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let i=e-window.scrollX,r=n-window.scrollY,s=this.pointerScreenY===null?0:r-this.pointerScreenY,a=this.pointerScreenX===null?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(SO()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:i}=e,{edgeThreshold:r}=this,s=r-e.distance,a=s*s/(r*r)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":i.setScrollLeft(i.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":i.setScrollTop(i.getScrollTop()+a*l);break}}computeBestEdge(e,n){let{edgeThreshold:i}=this,r=null,s=this.scrollCaches||[];for(let a of s){let l=a.clientRect,u=e-l.left,d=l.right-e,h=n-l.top,g=l.bottom-n;u>=0&&d>=0&&h>=0&&g>=0&&(h<=i&&this.everMovedUp&&a.canScrollUp()&&(!r||r.distance>h)&&(r={scrollCache:a,name:"top",distance:h}),g<=i&&this.everMovedDown&&a.canScrollDown()&&(!r||r.distance>g)&&(r={scrollCache:a,name:"bottom",distance:g}),u<=i&&this.everMovedLeft&&a.canScrollLeft()&&(!r||r.distance>u)&&(r={scrollCache:a,name:"left",distance:u}),d<=i&&this.everMovedRight&&a.canScrollRight()&&(!r||r.distance>d)&&(r={scrollCache:a,name:"right",distance:d}))}return r}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new Aee(!1):new CL(n,!1))}queryScrollEls(e){let n=[];for(let i of this.scrollQuery)typeof i=="object"?n.push(i):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return n}}class Of extends XQ{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,x7(document.body),C7(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let s=this.minDistance,a,{deltaX:l,deltaY:u}=r;a=l*l+u*u,a>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,E7(document.body),T7(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new SL(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),n&&(i.selector=n),this.mirror=new Tee,this.autoScroller=new Ree}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Dee{constructor(e){this.el=e,this.origRect=SS(e),this.scrollCaches=Pj(e).map(n=>new CL(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let i={left:e,top:n};for(let r of this.scrollCaches)if(!Oee(r.getEventTarget())&&!MQ(i,r.clientRect))return!1;return!0}}function Oee(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Um{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new jm}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},i=n,r=e.subjectEl,s;r instanceof HTMLElement&&(s=SS(r),i=NQ(i,s));let a=this.initialHit=this.queryHitForOffset(i.left,i.top);if(a){if(this.useSubjectCenter&&s){let l=Nj(s,a.rect);l&&(i=IQ(l))}this.coordAdjust=PQ(i,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!zm(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=sa(this.droppableStore,e=>(e.component.prepareHits(),new Dee(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:i,offsetTrackers:r}=this,s=null;for(let a in i){let l=i[a].component,u=r[a];if(u&&u.isWithinClipping(e,n)){let d=u.computeLeft(),h=u.computeTop(),g=e-d,m=n-h,{origRect:v}=u,_=v.right-v.left,b=v.bottom-v.top;if(g>=0&&g<_&&m>=0&&m<b){let S=l.queryHit(g,m,_,b);S&&Im(S.dateProfile.activeRange,S.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(g+d-window.scrollX,m+h-window.scrollY)))&&(!s||S.layer>s.layer)&&(S.componentId=a,S.context=l.context,S.rect.left+=d,S.rect.right+=d,S.rect.top+=h,S.rect.bottom+=h,s=S)}}}return s}}function zm(t,e){return!t&&!e?!0:!!t!=!!e?!1:wQ(t.dateSpan,e.dateSpan)}function TL(t,e){let n={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(n,i(t,e));return Object.assign(n,kee(t,e.dateEnv)),n}function kee(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Mee extends yu{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,s=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:a,finalHit:l}=this.hitDragging;if(a&&l&&zm(a,l)){let{context:u}=r,d=Object.assign(Object.assign({},TL(a.dateSpan,u)),{dayEl:a.dayEl,jsEvent:i.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",d)}}},this.dragging=new Of(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Um(this.dragging,_S(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Nee extends yu{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:l,dragging:u}=this,{options:d}=l.context,h=d.selectable&&l.isValidDateDownEl(a.origEvent.target);u.setIgnoreMove(!h),u.delay=a.isTouch?Iee(l):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,l)=>{let{context:u}=this.component,d=null,h=!1;if(a){let g=this.hitDragging.initialHit;a.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,a)||(d=Pee(g,a,u.pluginHooks.dateSelectionTransformers)),(!d||!iX(d,a.dateProfile,u))&&(h=!0,d=null)}d?u.dispatch({type:"SELECT_DATES",selection:d}):l||u.dispatch({type:"UNSELECT_DATES"}),h?nS():iS(),l||(this.dragSelection=d)},this.handlePointerUp=a=>{this.dragSelection&&(Tj(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:i}=n.context,r=this.dragging=new Of(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new Um(this.dragging,_S(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Iee(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function Pee(t,e,n){let i=t.dateSpan,r=e.dateSpan,s=[i.range.start,i.range.end,r.range.start,r.range.end];s.sort(k7);let a={};for(let l of n){let u=l(t,e);if(u===!1)return null;u&&Object.assign(a,u)}return a.range={start:s[0],end:s[3]},a.allDay=i.allDay,a}class kf extends yu{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:u,dragging:d}=this,{mirror:h}=d,{options:g}=u.context,m=u.context;this.subjectEl=a.subjectEl;let v=this.subjectSeg=Jc(a.subjectEl),b=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=gS(m.getCurrentData().eventStore,b),d.minDistance=a.isTouch?0:g.eventDragMinDistance,d.delay=a.isTouch&&b!==u.props.eventSelection?Lee(u):null,g.fixedMirrorParent?h.parentNode=g.fixedMirrorParent:h.parentNode=fi(l,".fc"),h.revertDuration=g.dragRevertDuration;let S=u.isValidSegDownEl(l)&&!fi(l,".fc-event-resizer");d.setIgnoreMove(!S),this.isDragging=S&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,u=this.eventRange,d=u.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new on(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.component.context,g=null,m=null,v=null,_=!1,b={affectedEvents:u,mutatedEvents:rr(),isEvent:!0};if(a){g=a.context;let S=g.options;h===g||S.editable&&S.droppable?(m=jee(d,a,this.eventRange.instance.range.start,g.getCurrentData().pluginHooks.eventDragMutationMassagers),m&&(v=vS(u,g.getCurrentData().eventUiBases,m,g),b.mutatedEvents=v,Vj(b,a.dateProfile,g)||(_=!0,m=null,v=null,b.mutatedEvents=rr()))):g=null}this.displayDrag(g,b),_?nS():iS(),l||(h===g&&zm(d,a)&&(m=null),this.dragging.setMirrorNeedsRevert(!m),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=g,this.validMutation=m,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,u=l.viewApi,{receivingContext:d,validMutation:h}=this,g=this.eventRange.def,m=this.eventRange.instance,v=new on(l,g,m),_=this.relevantEvents,b=this.mutatedRelevantEvents,{finalHit:S}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:a.origEvent,view:u}),h){if(d===l){let x=new on(l,b.defs[g.defId],m?b.instances[m.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:b});let T={oldEvent:v,event:x,relatedEvents:sl(b,l,m),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:_})}},A={};for(let O of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(A,O(h,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},T),A),{el:a.subjectEl,delta:h.datesDelta,jsEvent:a.origEvent,view:u})),l.emitter.trigger("eventChange",T)}else if(d){let x={event:v,relatedEvents:sl(_,l,m),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:_})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:a.subjectEl,view:u})),l.dispatch({type:"REMOVE_EVENTS",eventStore:_}),l.emitter.trigger("eventRemove",x);let T=b.defs[g.defId],A=b.instances[m.instanceId],O=new on(d,T,A);d.dispatch({type:"MERGE_EVENTS",eventStore:b});let D={event:O,relatedEvents:sl(b,d,A),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:b})}};d.emitter.trigger("eventAdd",D),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:m.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},TL(S.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:S.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},D),{draggedEl:a.subjectEl,view:S.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:i}=n.context,r=this.dragging=new Of(e.el);r.pointer.selector=kf.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new Um(this.dragging,N_);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:rr(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}kf.SELECTOR=".fc-event-draggable, .fc-event-resizable";function jee(t,e,n,i){let r=t.dateSpan,s=e.dateSpan,a=r.range.start,l=s.range.start,u={};r.allDay!==s.allDay&&(u.allDay=s.allDay,u.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?a=$t(n):a=n);let d=Pc(a,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(u.allDay=!1);let h={datesDelta:d,standardProps:u};for(let g of i)g(h,t,e);return h}function Lee(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class Fee extends yu{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:a}=this,l=this.querySegEl(s),u=Jc(l),d=this.eventRange=u.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:a}=this.component,l=this.eventRange;this.relevantEvents=gS(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(s);this.draggingSegEl=u,this.draggingSeg=Jc(u),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:u,event:new on(a,l.def,l.instance),jsEvent:s.origEvent,view:a.viewApi})},this.handleHitUpdate=(s,a,l)=>{let{context:u}=this.component,d=this.relevantEvents,h=this.hitDragging.initialHit,g=this.eventRange.instance,m=null,v=null,_=!1,b={affectedEvents:d,mutatedEvents:rr(),isEvent:!0};s&&(s.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,s)||(m=Uee(h,s,l.subjectEl.classList.contains("fc-event-resizer-start"),g.range))),m&&(v=vS(d,u.getCurrentData().eventUiBases,m,u),b.mutatedEvents=v,Vj(b,s.dateProfile,u)||(_=!0,m=null,v=null,b.mutatedEvents=null)),v?u.dispatch({type:"SET_EVENT_RESIZE",state:b}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),_?nS():iS(),a||(m&&zm(h,s)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=v)},this.handleDragEnd=s=>{let{context:a}=this.component,l=this.eventRange.def,u=this.eventRange.instance,d=new on(a,l,u),h=this.relevantEvents,g=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:a.viewApi}),this.validMutation){let m=new on(a,g.defs[l.defId],u?g.instances[u.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:g});let v={oldEvent:d,event:m,relatedEvents:sl(g,a,u),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:h})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||pt(0),endDelta:this.validMutation.endDelta||pt(0),jsEvent:s.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",v)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,i=this.dragging=new Of(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;let r=this.hitDragging=new Um(this.dragging,_S(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return fi(e.subjectEl,".fc-event")}}function Uee(t,e,n,i){let r=t.context.dateEnv,s=t.dateSpan.range.start,a=e.dateSpan.range.start,l=Pc(s,a,r,t.largeUnit);if(n){if(r.add(i.start,l)<i.end)return{startDelta:l}}else if(r.add(i.end,l)>i.start)return{endDelta:l};return null}class zee{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,s=rj(i.origEvent);this.matchesCancel=!!fi(s,r),this.matchesEvent=!!fi(s,kf.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:s}=this,a=r.getCurrentData();if(!s.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let l=r.options.unselectAuto;l&&(!l||!this.matchesCancel)&&r.calendarApi.unselect(i)}a.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new SL(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Hee={fixedMirrorParent:se},Bee={dateClick:se,eventDragStart:se,eventDragStop:se,eventDrop:se,eventResizeStart:se,eventResizeStop:se,eventResize:se,drop:se,eventReceive:se,eventLeave:se};CS.dataAttrPrefix="";var Vee=_s({name:"@fullcalendar/interaction",componentInteractions:[Mee,Nee,kf,Fee],calendarInteractions:[zee],elementDraggingImpl:Of,optionRefiners:Hee,listenerRefiners:Bee});function $ee({machineId:t,refreshTrigger:e}){const[n,i]=C.useState(!1),[r,s]=C.useState({}),a=ae.useRef(null),{machines:l}=Er(),{odpOrders:u}=un(),{machineAvailability:d,loadMachineAvailabilityForDateRange:h,toggleMachineHourAvailability:g,getTaskOccupiedSegments:m}=ds(),{showAlert:v}=Tt();ys("FullCalendarGrid");const _=l.find(D=>D.id===t),b=C.useCallback(D=>{try{const N=m(D);return N&&N.length>0?N:D.scheduled_start_time&&D.scheduled_end_time?[{start:new Date(D.scheduled_start_time),end:new Date(D.scheduled_end_time),duration:(new Date(D.scheduled_end_time).getTime()-new Date(D.scheduled_start_time).getTime())/(1e3*60*60)}]:[]}catch(N){return console.warn("Failed to get task segments:",N),[]}},[m]),S=C.useMemo(()=>{if(!_)return[];const D=[];return u.filter(N=>N.status==="SCHEDULED"&&N.scheduled_machine_id===_.id&&N.scheduled_start_time&&N.scheduled_end_time).forEach(N=>{const M=b(N);M.forEach((k,P)=>{const z=M.length>1;D.push({id:`${N.id}-segment-${P}`,title:`${N.odp_number} - ${N.article_code}${z?` (${P+1}/${M.length})`:""}`,start:k.start,end:k.end,backgroundColor:z?"#8b5cf6":"#3b82f6",borderColor:z?"#7c3aed":"#2563eb",textColor:"#ffffff",extendedProps:{taskId:N.id,odpNumber:N.odp_number,articleCode:N.article_code,quantity:N.quantity,status:N.status,segmentIndex:P,totalSegments:M.length,isSplitTask:z}})})}),D},[_,u,b]),x=C.useMemo(()=>{if(!d||!_)return[];const D=[];return Object.entries(d).forEach(([N,M])=>{if(Array.isArray(M)){const k=M.find(P=>P.machine_id===t);k&&k.unavailable_hours&&(Array.isArray(k.unavailable_hours)?k.unavailable_hours:[]).forEach(z=>{const B=parseInt(z);if(B<6||B>=22)return;const K=new Date(N);K.setUTCHours(B,0,0,0);const ne=new Date(K);ne.setUTCHours(B+1,0,0,0),D.push({id:`availability-${N}-${z}`,title:"Unavailable",start:K,end:ne,backgroundColor:"#ef4444",borderColor:"#dc2626",textColor:"#ffffff",display:"background",extendedProps:{type:"availability",date:N,hour:parseInt(z)}})})}}),D},[d,t,_]);C.useEffect(()=>{(async()=>{if(t){i(!0);try{const N=new Date,M=new Date(Date.UTC(N.getUTCFullYear(),N.getUTCMonth(),1)),k=new Date(Date.UTC(N.getUTCFullYear(),N.getUTCMonth()+1,0));await h(t,Qn(M,"yyyy-MM-dd"),Qn(k,"yyyy-MM-dd"))}catch(N){console.error("Failed to load machine availability data:",N)}finally{i(!1)}}})()},[t,e]);const T=C.useCallback(async D=>{const N=D.date,M=Qn(N,"yyyy-MM-dd"),k=N.getUTCHours();if(S.some(B=>{const K=new Date(B.start),ne=new Date(B.end),ue=new Date(N);return ue>=K&&ue<ne})){v("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!_)return;const z=`${M}-${k}`;s(B=>({...B,[z]:!0}));try{await g(_.id,M,k)}catch(B){console.error("Failed to toggle machine hour availability:",B),v("An unexpected error occurred.","error")}finally{s(B=>({...B,[z]:!1}))}},[S,v,_,g]),A=C.useCallback(D=>{const N=D.event,M=N.extendedProps;M.type==="availability"?console.log("Availability event clicked:",M):console.log("Scheduled task clicked:",{odpNumber:M.odpNumber,articleCode:M.articleCode,quantity:M.quantity,start:N.start,end:N.end})},[]),O=C.useMemo(()=>({plugins:[SJ,oee,wee,Vee],initialView:"dayGridMonth",initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},height:"auto",locale:"it",timeZone:"UTC",firstDay:g3.APP.FIRST_DAY_OF_WEEK,slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},dayHeaderFormat:{weekday:"short",day:"numeric"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},buttonText:{today:"Oggi",month:"Mese",week:"Settimana",day:"Giorno"},eventClick:A,dateClick:T,events:[...S,...x]}),[A,T,S,x]);return _?n?E.jsx("div",{className:"loading",children:"Loading calendar data..."}):E.jsx("div",{className:"fullcalendar-container",children:E.jsx(cL,{ref:a,...O})}):E.jsx("div",{className:"loading",children:"Loading machine data..."})}function qee(){const{machineId:t}=sm(),[e,n]=C.useState(0),{getMachineById:i}=Er(),{isLoading:r,isInitialized:s}=Tt(),{init:a,cleanup:l}=fo(),u=i(t);if(C.useEffect(()=>{if(!s){console.log("Initializing main store...");const h=a(),g=new Promise((m,v)=>setTimeout(()=>v(new Error("Initialization timeout")),1e4));Promise.race([h,g]).catch(m=>{console.error("Initialization failed or timed out:",m)})}return()=>{l()}},[a,s,l]),r)return E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:E.jsxs("div",{className:"text-center py-1 text-gray-500 text-[10px]",children:["Caricamento calendario macchina... (Loading: ",r.toString(),", Initialized: ",s.toString(),")"]})});if(!u)return E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:E.jsxs("div",{className:"text-center py-1 text-red-600 text-[10px]",children:["Macchina non trovata (ID: ",t,", Initialized: ",s.toString(),")"]})});const d=()=>{n(h=>h+1)};return E.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[E.jsx(Af,{title:"Calendario Disponibilit Macchina"}),E.jsx("div",{className:"mb-1",children:E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:u.machine_name})}),!1,E.jsx(q9,{machineId:u.id,currentDate:new Date,onSuccess:d}),E.jsx($ee,{machineId:u.id,refreshTrigger:e})]})}function Wee(){const{data:t=[],isLoading:e,error:n}=Dw(),i=EW(),{selectedWorkCenter:r,isInitialized:s,showConfirmDialog:a}=Tt(),{init:l,cleanup:u}=fo(),d=vs(),h=C.useMemo(()=>r?r===mt.BOTH?t:t.filter(_=>_.work_center===r):[],[t,r]);ys("PhasesListPage"),C.useEffect(()=>(s||l(),()=>{u()}),[l,s,u]);const g=C.useMemo(()=>[{header:"Nome Fase",accessorKey:"name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Numero Persone",accessorKey:"numero_persone"},{header:"V Stampa",accessorKey:"v_stampa"},{header:"T Setup Stampa (h)",accessorKey:"t_setup_stampa"},{header:"Costo H Stampa",accessorKey:"costo_h_stampa"},{header:"V Conf",accessorKey:"v_conf"},{header:"T Setup Conf (h)",accessorKey:"t_setup_conf"},{header:"Costo H Conf",accessorKey:"costo_h_conf"},{header:"Contenuto Fase",accessorKey:"contenuto_fase"}],[]),m=_=>{d(`/phases/${_.id}/edit`)},v=async _=>{a("Elimina Fase",`Sei sicuro di voler eliminare "${_.name}"? Questa azione non pu essere annullata.`,async()=>{try{await i.mutateAsync(_.id),wl(`Fase "${_.name}" eliminata con successo`)}catch(b){$a(b.message||"Errore durante l'eliminazione della fase")}},"danger")};return e?E.jsx("div",{children:"Caricamento dati fasi..."}):n?E.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle fasi: ",n.message]}):r?E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border min-w-0",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsx(Rw,{columns:g,data:h,onEditRow:m,onDeleteRow:v})})}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle fasi."})}function Gee({phaseToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=Tt(),i=SW(),r=xW(),{handleAsync:s}=ys("PhasesForm"),a=!!t,l=C.useMemo(()=>{const h={...ns};return n!==mt.BOTH&&(h.sections[0].fields[3].disabled=!0,h.sections[0].fields[3].defaultValue=n,h.sections[0].fields[3].helpText="Il centro di lavoro  impostato in base alla tua selezione di accesso"),h},[n]),u=C.useMemo(()=>({name:t?.name||"",department:t?.department||ns.sections[0].fields[1].defaultValue,numero_persone:t?.numero_persone||ns.sections[0].fields[2].defaultValue,work_center:t?.work_center||(n===mt.BOTH?ns.sections[0].fields[3].defaultValue:n),v_stampa:t?.v_stampa||ns.sections[1].fields[0].defaultValue,t_setup_stampa:t?.t_setup_stampa||ns.sections[1].fields[1].defaultValue,costo_h_stampa:t?.costo_h_stampa||ns.sections[1].fields[2].defaultValue,v_conf:t?.v_conf||ns.sections[2].fields[0].defaultValue,t_setup_conf:t?.t_setup_conf||ns.sections[2].fields[1].defaultValue,costo_h_conf:t?.costo_h_conf||ns.sections[2].fields[2].defaultValue,contenuto_fase:t?.contenuto_fase||""}),[n,t]),d=async h=>{await s(async()=>{a?await r.mutateAsync({id:t.id,updates:h}):await i.mutateAsync(h),e&&e(),wl(a?"Fase aggiornata con successo":"Fase aggiunta con successo")},{context:a?"Update Phase":"Add Phase",fallbackMessage:a?"Aggiornamento fase fallito":"Aggiunta fase fallita"})};return E.jsx(Om,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a})}function xO(){const{id:t}=sm(),e=vs(),{selectedWorkCenter:n}=Tt(),{isLoading:i,isInitialized:r,init:s,cleanup:a}=fo(),l=!!t,{data:u,isLoading:d,error:h}=wW(t);return C.useEffect(()=>(r||s(),()=>{a()}),[s,r,a]),C.useEffect(()=>{l&&!i&&!d&&!u&&!h&&e("/phases",{replace:!0})},[l,i,d,u,h,e]),i||l&&d?E.jsx("div",{children:"Caricamento..."}):l&&h?E.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento della fase: ",h.message]}):l&&!u?E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Fase non trovata."}):n?E.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[l&&E.jsx(Af,{title:`Modifica Fase: ${u?.name}`}),E.jsx(Gee,{phaseToEdit:u})]}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le fasi."})}function Yee(){const{selectedWorkCenter:t,showConfirmDialog:e}=Tt(),n=vs(),{data:i=[],isLoading:r,error:s}=mm(),{data:a=[],isLoading:l}=pm(),{data:u=[],isLoading:d}=Dw(),h=_W(),{handleAsync:g}=ys("BacklogListPage");if(s)return E.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento degli ordini: ",s.message]});const m=C.useMemo(()=>{if(!t)return[];let T=i;return t!==mt.BOTH&&(T=i.filter(A=>A.work_center===t)),T.map(A=>({...A,machine_name:A.scheduled_machine_id?a.find(O=>O.id===A.scheduled_machine_id)?.machine_name||"Macchina non trovata":"Non programmato",phase_name:A.fase?u.find(O=>O.id===A.fase)?.name||"Fase non trovata":"Fase non assegnata",progress:A.progress||0,time_remaining:A.time_remaining||A.duration||0}))},[i,t,a,u]),v=r||l||d,_=C.useMemo(()=>[{header:"Numero ODP",accessorKey:"odp_number",cell:T=>{const A=T.row.original.status,O=T.getValue(),D=A==="SCHEDULED";return E.jsx("span",{className:D?"text-green-600 font-medium":"",children:O})}},{header:"Codice Articolo",accessorKey:"article_code"},{header:"Note ASD",accessorKey:"asd_notes",cell:T=>{const A=T.getValue();return A?E.jsx("div",{className:"max-w-[200px] truncate text-[10px]",title:A,children:A}):"N/A"}},{header:"Nome Cliente",accessorKey:"nome_cliente"},{header:"Quantit",accessorKey:"quantity"},{header:"Quantit Completata",accessorKey:"quantity_completed"},{header:"Altezza Busta (mm)",accessorKey:"bag_height"},{header:"Larghezza Busta (mm)",accessorKey:"bag_width"},{header:"Passo Busta (mm)",accessorKey:"bag_step"},{header:"Lotto Produzione",accessorKey:"production_lot"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Lati Sigillati",accessorKey:"seal_sides"},{header:"Tipo Prodotto",accessorKey:"product_type"},{header:"Data Consegna",accessorKey:"delivery_date",cell:T=>T.getValue()?Qn(new Date(T.getValue()),"yyyy-MM-dd"):"Non impostata"},{header:"Inizio Programmato",accessorKey:"scheduled_start_time",cell:T=>T.getValue()?new Date(T.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Fine Programmata",accessorKey:"scheduled_end_time",cell:T=>T.getValue()?new Date(T.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Codice Cliente Interno",accessorKey:"internal_customer_code"},{header:"Codice Cliente Esterno",accessorKey:"external_customer_code"},{header:"Riferimento Ordine Cliente",accessorKey:"customer_order_ref"},{header:"Note Libere",accessorKey:"user_notes"},{header:"Nome Fase",accessorKey:"phase_name"},{header:"Durata (ore)",accessorKey:"duration",cell:T=>{const A=T.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Costo ()",accessorKey:"cost",cell:T=>{const A=T.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Stato",accessorKey:"status"},{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Progresso (%)",accessorKey:"progress",cell:T=>{const A=T.getValue();return typeof A=="number"?`${A}%`:A}},{header:"Tempo Rimanente (ore)",accessorKey:"time_remaining",cell:T=>{const A=T.getValue();return typeof A=="number"?A.toFixed(1):A}},{header:"Material ISP (%)",accessorKey:"material_availability_isp",cell:T=>{const A=T.getValue();if(typeof A!="number")return A||"N/A";const O=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return E.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${O} text-black text-[10px] font-medium`,children:A})}},{header:"Material Lotti (%)",accessorKey:"material_availability_lotti",cell:T=>{const A=T.getValue();if(typeof A!="number")return A||"N/A";const O=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return E.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${O} text-black text-[10px] font-medium`,children:A})}},{header:"Material Global (%)",accessorKey:"material_availability_global",cell:T=>{const A=T.getValue();if(typeof A!="number")return A||"N/A";const O=A<=39?"bg-gray-300":A<=69?"bg-yellow-400":"bg-green-400";return E.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${O} text-black text-[10px] font-medium`,children:A})}}],[]),b=C.useMemo(()=>_.map(T=>T.accessorKey),[_]),S=T=>{n(`/backlog/${T.id}/edit`)},x=async T=>{e("Elimina Ordine",`Sei sicuro di voler eliminare "${T.odp_number}"? Questa azione non pu essere annullata.`,async()=>{await g(async()=>{await h.mutateAsync(T.id)},{context:"Delete Order",fallbackMessage:"Eliminazione ordine fallita"})},"danger")};return v?E.jsx("div",{children:"Caricamento dati backlog..."}):t?E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border min-w-0",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsx(Rw,{columns:_,data:m,onEditRow:S,onDeleteRow:x,stickyColumns:["odp_number","article_code"],enableFiltering:!0,filterableColumns:b})})}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati del backlog."})}const Kee=({onSuccess:t,orderToEdit:e})=>{const{selectedWorkCenter:n,showConflictDialog:i}=Tt(),{scheduleTaskFromSlot:r,unscheduleTask:s}=ds(),{calculateProductionMetrics:a,validatePhaseParameters:l,autoDetermineWorkCenter:u,autoDetermineDepartment:d}=vN(),{handleAsync:h}=ys("BacklogForm"),{validateOrder:g}=NN(),m=yW(),v=bW(),_=Bi(),[b,S]=C.useState(null),x=!!e,T=C.useMemo(()=>{const xe={...V9};if(n!==mt.BOTH){const Be=xe.sections[0].fields.find(Xe=>Xe.name==="work_center");Be&&(Be.disabled=!0,Be.defaultValue=n,Be.helpText="Centro di lavoro pre-impostato.")}return xe},[n]),A=C.useMemo(()=>({odp_number:e?.odp_number||"",article_code:e?.article_code||"",work_center:e?.work_center||(n===mt.BOTH?"":n),nome_cliente:e?.nome_cliente||"",delivery_date:e?.delivery_date?new Date(e.delivery_date).toISOString().slice(0,16):"",quantity:e?.quantity||"",customer_order_ref:e?.customer_order_ref||"",department:e?.department||"",quantity_completed:e?.quantity_completed||Jt.ORDER.QUANTITY_COMPLETED,production_lot:e?.production_lot||null,bag_height:e?.bag_height||null,bag_width:e?.bag_width||null,bag_step:e?.bag_step||null,seal_sides:e?.seal_sides||null,product_type:e?.product_type||null,internal_customer_code:e?.internal_customer_code||null,external_customer_code:e?.external_customer_code||null,user_notes:e?.user_notes||null,asd_notes:e?.asd_notes||null,material_availability_global:e?.material_availability_global||null,fase:e?.fase||null}),[n,e]),[O,D]=C.useState(A.department),[N,M]=C.useState(A.work_center),[k,P]=C.useState(A.quantity),[z,B]=C.useState(A.bag_step),{phaseSearch:K,setPhaseSearch:ne,isDropdownVisible:ue,setIsDropdownVisible:ge,selectedPhase:L,setSelectedPhase:q,filteredPhases:$,editablePhaseParams:re,setEditablePhaseParams:ve,handlePhaseParamChange:U,handlePhaseSelect:J,handleBlur:ee}=uW(O,N,x?e?.fase:null),le=C.useCallback(()=>{ne(""),q(null),ve({}),S(null)},[ne,q,ve]),be=C.useCallback((xe,Be)=>{if(xe){const Xe=d(xe);Be("department",Xe),n===mt.BOTH&&Be("work_center",u(xe)),Be("fase",""),ne(""),q(null),ve({}),S(null)}},[d,u,n,ne,q,ve]),we=async xe=>{const Be=g(xe);if(!Be.isValid){const Ze=Object.entries(Be.errors).map(([j,W])=>`${{odp_number:"Numero ODP",article_code:"Codice Articolo",work_center:"Centro di Lavoro",nome_cliente:"Nome Cliente",quantity:"Quantit",delivery_date:"Data di Consegna",customer_order_ref:"Riferimento Ordine Cliente",department:"Reparto",bag_height:"Altezza Busta",bag_width:"Larghezza Busta",bag_step:"Passo Busta",seal_sides:"Lati Sigillatura",product_type:"Tipo Prodotto",internal_customer_code:"Codice Cliente Interno",external_customer_code:"Codice Cliente Esterno"}[j]||j}: ${W}`);LM(Ze);return}const Xe=xe.fase,Dt=L?.department===en.PRINTING;if(Xe&&(!Dt||xe.bag_step)&&(!b?.totals||typeof b.totals.duration!="number"||typeof b.totals.cost!="number")){Mc("Calcola le metriche di produzione valide prima di procedere.");return}await h(async()=>{const{phase_search:Ze,...j}=xe,W={...j,fase:j.fase===""?null:j.fase,scheduled_machine_id:j.scheduled_machine_id===""?null:j.scheduled_machine_id,production_lot:j.production_lot===""?null:j.production_lot,internal_customer_code:j.internal_customer_code===""?null:j.internal_customer_code,external_customer_code:j.external_customer_code===""?null:j.external_customer_code,user_notes:j.user_notes===""?null:j.user_notes,asd_notes:j.asd_notes===""?null:j.asd_notes,material_availability_global:j.material_availability_global===""?null:j.material_availability_global,bag_height:j.bag_height===""?null:j.bag_height,bag_width:j.bag_width===""?null:j.bag_width,bag_step:j.bag_step===""?null:j.bag_step,seal_sides:j.seal_sides===""?null:j.seal_sides,product_type:j.product_type===""?null:j.product_type};let Q;if(x){const Y=b?.totals?.duration||e.duration,te=e.quantity_completed/e.quantity||0,de=Y*(1-te);if(e.scheduled_machine_id&&e.scheduled_start_time){console.log(" EDIT FLOW: Starting rescheduling for task",e.id),console.log(" EDIT FLOW: Original duration:",e.duration,"New duration:",Y);const ye=e.duration,_e=Y-ye;if(Math.abs(_e)<.01){console.log(" SCENARIO X: Duration unchanged, skipping rescheduling");const Se={...W,duration:Y,cost:b?.totals?.cost||null};Q=await v.mutateAsync({id:e.id,updates:Se})}else if(_e>0){console.log(" SCENARIO Y: Duration increased, using standard rescheduling");const Se=new Date(e.scheduled_start_time),Ne=Se.getUTCHours(),Je=Se.getUTCMinutes(),Ge=new Date(Date.UTC(Se.getUTCFullYear(),Se.getUTCMonth(),Se.getUTCDate()));console.log(" EDIT FLOW: Start date:",Se.toISOString()),console.log(" EDIT FLOW: Hour:",Ne,"Minute:",Je),console.log(" EDIT FLOW: Current date:",Ge.toISOString());const ft={duration:Y};console.log(" EDIT FLOW: Updating task with new duration:",ft),await v.mutateAsync({id:e.id,updates:ft}),await new Promise(vt=>setTimeout(vt,100));const{getOrderById:st}=un.getState(),Ht=st(e.id);console.log(" EDIT FLOW: Task duration after update:",Ht?.duration),console.log(" EDIT FLOW: Unscheduling task first"),await s(e.id,_),await new Promise(vt=>setTimeout(vt,100));const at={id:e.scheduled_machine_id};console.log(" EDIT FLOW: Calling scheduleTaskFromSlot with:",{taskId:e.id,machine:at,currentDate:Ge.toISOString(),hour:Ne,minute:Je,timeRemaining:de});const qe=await r(e.id,at,Ge,Ne,Je,de,_);if(console.log(" EDIT FLOW: scheduleTaskFromSlot result:",qe),qe?.conflict){console.log(" EDIT FLOW: Conflict detected, showing dialog");const vt={...qe,schedulingParams:{taskId:e.id,machine:at,currentDate:Ge,hour:Ne,minute:Je,newDuration:de,originalConflict:qe}};i(vt);return}else if(qe?.error){console.log(" EDIT FLOW: Error:",qe.error),$a(qe.error);return}else console.log(" EDIT FLOW: Scheduling successful");const vn=qe?.updatedTask;console.log(" EDIT FLOW: Updated task from scheduling result:",vn);const nt={...W,duration:Y,cost:b?.totals?.cost||null,scheduled_start_time:vn?.scheduled_start_time||Se.toISOString(),scheduled_end_time:vn?.scheduled_end_time||new Date(Se.getTime()+Y*36e5).toISOString(),description:vn?.description||e.description};console.log(" EDIT FLOW: Final order data to save:",nt),Q=await v.mutateAsync({id:e.id,updates:nt}),console.log(" EDIT FLOW: Final update completed:",Q)}else{console.log(" SCENARIO Z: Duration decreased, using adjacent task rescheduling");const Se=await Te(e.id,Y,de,W,b?.totals?.cost||null,_,v,r,s,i);if(Se?.error){console.log(" SCENARIO Z: Error:",Se.error),$a(Se.error);return}Q=Se.updatedOrder,console.log(" SCENARIO Z: Duration decrease rescheduling completed:",Q)}}else{const ye={...W,duration:Y,cost:b?.totals?.cost||null};Q=await v.mutateAsync({id:e.id,updates:ye})}}else{const Y={...W,duration:b?.totals?.duration||null,cost:b?.totals?.cost||null,status:"NOT SCHEDULED"};Q=await m.mutateAsync(Y)}t&&t(),le(),wl(x?"Ordine aggiornato con successo":"Ordine aggiunto con successo")},{context:x?"Aggiorna Ordine":"Aggiungi Ordine",fallbackMessage:x?"Aggiornamento ordine fallito":"Aggiunta ordine fallita"})},ce=()=>{if(!L){Mc("Seleziona una fase prima di calcolare.");return}if(!k){Mc("Inserisci la quantit per calcolare.");return}if(L.department===en.PRINTING&&!z){Mc("Inserisci il passo busta per calcolare la stampa.");return}const xe={...L,...re},Be=l(xe);if(!Be.isValid){$a(Be.error),S(null);return}const Xe=L.department===en.PRINTING?z:null,Dt=a(xe,k,Xe);if(!Dt||typeof Dt.totals?.duration!="number"||typeof Dt.totals?.cost!="number"){$a("Errore nel calcolo. Verifica i parametri della fase."),S(null);return}S(Dt)},me=xe=>re[xe]??L[xe]??"",Te=async(xe,Be,Xe,Dt,xn,Ze,j,W,Q,Y,te)=>{try{console.log(" SCENARIO Z: Starting duration decrease rescheduling for task",xe);const{getOrderById:de,getOdpOrders:ye}=un.getState(),_e=de(xe);if(!_e)return{error:"Task not found"};const Se=new Date(_e.scheduled_start_time),Ne=Se.getUTCHours(),Je=Se.getUTCMinutes(),Ge=new Date(Date.UTC(Se.getUTCFullYear(),Se.getUTCMonth(),Se.getUTCDate())),ft={id:_e.scheduled_machine_id};console.log(" SCENARIO Z: Current task start:",Se.toISOString()),console.log(" SCENARIO Z: New time remaining:",Xe);const st=new Date(_e.scheduled_end_time);console.log(" SCENARIO Z: Current end time for task A (from DB):",st.toISOString());const Ht=ye(),at=[];let qe=st;for(console.log(" SCENARIO Z: Starting to find chain of adjacent tasks...");;){const vn=Ht.find(nt=>{if(nt.id===xe||!nt.scheduled_machine_id||!nt.scheduled_start_time||nt.status!=="SCHEDULED"||nt.scheduled_machine_id!==_e.scheduled_machine_id||at.some(vi=>vi.id===nt.id))return!1;const vt=new Date(nt.scheduled_start_time),mi=Math.abs(vt.getTime()-qe.getTime())/(1e3*60);return console.log(" SCENARIO Z: Checking task",nt.odp_number,"start:",vt.toISOString(),"diff:",mi,"minutes","against end time:",qe.toISOString()),mi<=120});if(vn)console.log(" SCENARIO Z: Found adjacent task in chain:",vn.odp_number),at.push(vn),qe=new Date(vn.scheduled_end_time),console.log(" SCENARIO Z: Next task end time for chain:",qe.toISOString()),console.log(" SCENARIO Z: Continuing to search for more adjacent tasks...");else{console.log(" SCENARIO Z: No more adjacent tasks found, stopping chain search");break}}if(at.length>0){console.log(" SCENARIO Z: Found chain of",at.length,"adjacent tasks:",at.map(Ee=>Ee.odp_number)),console.log(" SCENARIO Z: Step 2 - Rescheduling task A");const vn={duration:Be};await j.mutateAsync({id:xe,updates:vn}),await new Promise(Ee=>setTimeout(Ee,100)),await Q(xe,Ze),await new Promise(Ee=>setTimeout(Ee,100));const nt=await W(xe,ft,Ge,Ne,Je,Xe,Ze);if(nt?.conflict){console.log(" SCENARIO Z: Conflict detected for task A, showing dialog");const Ee={...nt,schedulingParams:{taskId:xe,machine:ft,currentDate:Ge,hour:Ne,minute:Je,newDuration:Xe,originalConflict:nt}};return Y(Ee),{error:"Conflict detected for task A"}}else if(nt?.error)return console.log(" SCENARIO Z: Error rescheduling task A:",nt.error),{error:nt.error};console.log(" SCENARIO Z: Task A rescheduled successfully"),console.log(" SCENARIO Z: Step 3 - Rescheduling chain of",at.length,"tasks");let vt=new Date(nt.schedulingResult.endTime);const mi=[];for(let Ee=0;Ee<at.length;Ee++){const We=at[Ee];console.log(` SCENARIO Z: Rescheduling chain task ${Ee+1}/${at.length}:`,We.odp_number);const ht=vt.getUTCHours(),yt=vt.getUTCMinutes(),hn=new Date(Date.UTC(vt.getUTCFullYear(),vt.getUTCMonth(),vt.getUTCDate()));console.log(" SCENARIO Z: Chain task new start time:",vt.toISOString()),console.log(" SCENARIO Z: Chain task new hour:",ht,"minute:",yt);const bt=We.time_remaining||We.duration||1;console.log(" SCENARIO Z: Chain task time remaining:",bt),await Q(We.id,Ze),await new Promise(En=>setTimeout(En,100));const et=await W(We.id,ft,hn,ht,yt,bt,Ze);if(et?.conflict){console.log(" SCENARIO Z: Conflict detected for chain task",We.odp_number,", showing dialog");const En={...et,schedulingParams:{taskId:We.id,machine:ft,currentDate:hn,hour:ht,minute:yt,newDuration:bt,originalConflict:et}};return Y(En),{error:`Conflict detected for chain task ${We.odp_number}`}}else if(et?.error)return console.log(" SCENARIO Z: Error rescheduling chain task",We.odp_number,":",et.error),{error:`Error rescheduling chain task ${We.odp_number}: ${et.error}`};console.log(" SCENARIO Z: Chain task",We.odp_number,"rescheduled successfully"),mi.push(et),vt=new Date(et.schedulingResult.endTime),console.log(" SCENARIO Z: Updated end time for next chain task:",vt.toISOString())}console.log(" SCENARIO Z: All",at.length,"chain tasks rescheduled successfully");const vi=nt?.updatedTask,St={...Dt,duration:Be,cost:xn,scheduled_start_time:vi?.scheduled_start_time||Se.toISOString(),scheduled_end_time:vi?.scheduled_end_time||new Date(Se.getTime()+Be*36e5).toISOString(),description:vi?.description||_e.description},Wt=await j.mutateAsync({id:xe,updates:St});return console.log(" SCENARIO Z: Task A and",at.length,"chain tasks rescheduled successfully"),{updatedOrder:Wt}}else{console.log(" SCENARIO Z: No adjacent task found, using standard rescheduling");const vn={duration:Be};await j.mutateAsync({id:xe,updates:vn}),await new Promise(St=>setTimeout(St,100)),await Q(xe,Ze),await new Promise(St=>setTimeout(St,100));const nt=await W(xe,ft,Ge,Ne,Je,Xe,Ze);if(nt?.conflict){console.log(" SCENARIO Z: Conflict detected, showing dialog");const St={...nt,schedulingParams:{taskId:xe,machine:ft,currentDate:Ge,hour:Ne,minute:Je,newDuration:Xe,originalConflict:nt}};return Y(St),{error:"Conflict detected"}}else if(nt?.error)return console.log(" SCENARIO Z: Error:",nt.error),{error:nt.error};const vt=nt?.updatedTask,mi={...Dt,duration:Be,cost:xn,scheduled_start_time:vt?.scheduled_start_time||Se.toISOString(),scheduled_end_time:vt?.scheduled_end_time||new Date(Se.getTime()+Be*36e5).toISOString(),description:vt?.description||_e.description};return{updatedOrder:await j.mutateAsync({id:xe,updates:mi})}}}catch(de){return console.error(" SCENARIO Z: Error in handleDurationDecreaseRescheduling:",de),{error:de.message||"Error during duration decrease rescheduling"}}},Ce=()=>L?L.department===en.PRINTING?[{name:"v_stampa",label:"Velocit Stampa:",unit:"mt/h"},{name:"t_setup_stampa",label:"Setup Stampa:",unit:"h"},{name:"costo_h_stampa",label:"Costo Stampa:",unit:"/h"}]:[{name:"v_conf",label:"Velocit Confezionamento:",unit:"pz/h"},{name:"t_setup_conf",label:"Setup Confezionamento:",unit:"h"},{name:"costo_h_conf",label:"Costo Confezionamento:",unit:"/h"}]:[],je=C.useMemo(()=>({article_code:(xe,{watch:Be,setValue:Xe,getValues:Dt,register:xn})=>E.jsx(Gn,{type:"text",...xn(xe.name,{...xe.validation,onChange:Ze=>{xe.validation?.onChange&&xe.validation.onChange(Ze),be(Ze.target.value,Xe)}}),placeholder:xe.placeholder,disabled:xe.disabled,className:xe.className}),phase_search:(xe,{watch:Be,setValue:Xe,getValues:Dt,register:xn})=>{const Ze=Be("department"),j=Be("work_center"),W=Be("quantity"),Q=Be("bag_step");return C.useEffect(()=>{Ze!==O&&D(Ze),j!==N&&M(j),W!==k&&P(W),Q!==z&&B(Q)},[Ze,j,W,Q,O,N,k,z]),E.jsxs("div",{className:"relative",children:[E.jsx(Gn,{type:"text",value:K,onChange:Y=>ne(Y.target.value),onFocus:()=>ge(!0),onBlur:ee,placeholder:"Cerca fase di produzione..."}),E.jsx("input",{type:"hidden",...xn("fase")}),ue&&$.length>0&&E.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:$.map(Y=>E.jsxs("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onMouseDown:()=>{J(Y,Xe,()=>{}),S(null)},children:[E.jsx("div",{className:"text-[10px] font-medium",children:Y.name}),E.jsx("div",{className:"text-[10px] text-gray-600",children:Y.contenuto_fase})]},Y.id))})]})},phase_parameters:()=>L?E.jsxs("div",{className:"space-y-2",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Parametri Fase Selezionata"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:Ce().map(xe=>E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:xe.name,children:xe.label}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Gn,{type:"number",id:xe.name,value:me(xe.name),onChange:Be=>U(xe.name,Be.target.value)}),E.jsx("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:xe.unit})]})]},xe.name))})]}):null,calculation_results:()=>b?.totals?E.jsxs("div",{className:"space-y-2",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Risultati Calcolo Produzione"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{children:"Durata Totale (ore):"}),E.jsx("div",{className:"text-[10px] font-semibold text-navy-800",children:b.totals.duration.toFixed(2)})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{children:"Costo Totale ():"}),E.jsx("div",{className:"text-[10px] font-semibold text-green-600",children:b.totals.cost.toFixed(2)})]})]})]}):null}),[K,ne,ue,ge,$,ee,J,L,me,U,Ce,b,be]),ze=C.useMemo(()=>E.jsx("div",{className:"flex justify-end space-x-4 pt-6",children:E.jsx(kn,{type:"button",variant:"outline",onClick:ce,disabled:!L,children:"Calcola"})}),[L,ce]),zt=m.isPending||v.isPending;return E.jsx(Om,{config:T,initialData:A,onSubmit:we,onSuccess:t,isEditMode:x,isLoading:zt,customActions:ze,customFieldRenderers:je})};function EO(){const{id:t}=sm(),e=vs(),{data:n,isLoading:i,error:r}=vW(t),{selectedWorkCenter:s}=Tt(),{isLoading:a,isInitialized:l,init:u,cleanup:d}=fo(),h=!!t;return C.useEffect(()=>(l||u(),()=>{d()}),[u,l,d]),C.useEffect(()=>{h&&!i&&!n&&r&&e("/backlog",{replace:!0})},[h,i,n,e,r]),i?E.jsx("div",{children:"Caricamento..."}):h&&!n?E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Ordine non trovato."}):s?E.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[E.jsx(Af,{title:h?`Modifica Ordine: ${n?.odp_number}`:"Aggiungi Nuovo Ordine"}),h&&E.jsx("div",{className:"mb-4 flex justify-start",children:E.jsx(kn,{variant:"outline",size:"sm",onClick:()=>e("/scheduler"),className:"text-[10px]",children:" Torna al Programmatore"})}),E.jsx(Kee,{onSuccess:h?()=>e("/scheduler"):void 0,orderToEdit:n})]}):E.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire gli ordini del backlog."})}const Hm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bu(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function NS(t){return"nodeType"in t}function Ei(t){var e,n;return t?bu(t)?t:NS(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function IS(t){const{Document:e}=Ei(t);return t instanceof e}function Mf(t){return bu(t)?!1:t instanceof Ei(t).HTMLElement}function AL(t){return t instanceof Ei(t).SVGElement}function _u(t){return t?bu(t)?t.document:NS(t)?IS(t)?t:Mf(t)||AL(t)?t.ownerDocument:document:document:document}const aa=Hm?C.useLayoutEffect:C.useEffect;function Bm(t){const e=C.useRef(t);return aa(()=>{e.current=t}),C.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function Qee(){const t=C.useRef(null),e=C.useCallback((i,r)=>{t.current=setInterval(i,r)},[]),n=C.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function lf(t,e){e===void 0&&(e=[t]);const n=C.useRef(t);return aa(()=>{n.current!==t&&(n.current=t)},e),n}function Nf(t,e){const n=C.useRef();return C.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function $p(t){const e=Bm(t),n=C.useRef(null),i=C.useCallback(r=>{r!==n.current&&e?.(r,n.current),n.current=r},[]);return[n,i]}function qp(t){const e=C.useRef();return C.useEffect(()=>{e.current=t},[t]),e.current}let f0={};function Vm(t,e){return C.useMemo(()=>{if(e)return e;const n=f0[t]==null?0:f0[t]+1;return f0[t]=n,t+"-"+n},[t,e])}function RL(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce((s,a)=>{const l=Object.entries(a);for(const[u,d]of l){const h=s[u];h!=null&&(s[u]=h+t*d)}return s},{...e})}}const Wc=RL(1),Wp=RL(-1);function Xee(t){return"clientX"in t&&"clientY"in t}function PS(t){if(!t)return!1;const{KeyboardEvent:e}=Ei(t.target);return e&&t instanceof e}function Zee(t){if(!t)return!1;const{TouchEvent:e}=Ei(t.target);return e&&t instanceof e}function Gp(t){if(Zee(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Xee(t)?{x:t.clientX,y:t.clientY}:null}const cf=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[cf.Translate.toString(t),cf.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),CO="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Jee(t){return t.matches(CO)?t:t.querySelector(CO)}const ete={display:"none"};function tte(t){let{id:e,value:n}=t;return ae.createElement("div",{id:e,style:ete},n)}function nte(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ae.createElement("div",{id:e,style:r,role:"status","aria-live":i,"aria-atomic":!0},n)}function ite(){const[t,e]=C.useState("");return{announce:C.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const DL=C.createContext(null);function rte(t){const e=C.useContext(DL);C.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function ste(){const[t]=C.useState(()=>new Set),e=C.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[C.useCallback(i=>{let{type:r,event:s}=i;t.forEach(a=>{var l;return(l=a[r])==null?void 0:l.call(a,s)})},[t]),e]}const ate={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ote={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function lte(t){let{announcements:e=ote,container:n,hiddenTextDescribedById:i,screenReaderInstructions:r=ate}=t;const{announce:s,announcement:a}=ite(),l=Vm("DndLiveRegion"),[u,d]=C.useState(!1);if(C.useEffect(()=>{d(!0)},[]),rte(C.useMemo(()=>({onDragStart(g){let{active:m}=g;s(e.onDragStart({active:m}))},onDragMove(g){let{active:m,over:v}=g;e.onDragMove&&s(e.onDragMove({active:m,over:v}))},onDragOver(g){let{active:m,over:v}=g;s(e.onDragOver({active:m,over:v}))},onDragEnd(g){let{active:m,over:v}=g;s(e.onDragEnd({active:m,over:v}))},onDragCancel(g){let{active:m,over:v}=g;s(e.onDragCancel({active:m,over:v}))}}),[s,e])),!u)return null;const h=ae.createElement(ae.Fragment,null,ae.createElement(tte,{id:i,value:r.draggable}),ae.createElement(nte,{id:l,announcement:a}));return n?tr.createPortal(h,n):h}var zn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(zn||(zn={}));function Yp(){}function TO(t,e){return C.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function cte(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return C.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Gr=Object.freeze({x:0,y:0});function ute(t,e){const n=Gp(t);if(!n)return"0 0";const i={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function dte(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function fte(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function hte(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=r-i,l=s-n;if(i<r&&n<s){const u=e.width*e.height,d=t.width*t.height,h=a*l,g=h/(u+d-h);return Number(g.toFixed(4))}return 0}const gte=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=[];for(const s of i){const{id:a}=s,l=n.get(a);if(l){const u=hte(l,e);u>0&&r.push({id:a,data:{droppableContainer:s,value:u}})}}return r.sort(dte)};function pte(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function OL(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Gr}function mte(t){return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const vte=mte(1);function kL(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function yte(t,e,n){const i=kL(e);if(!i)return t;const{scaleX:r,scaleY:s,x:a,y:l}=i,u=t.left-a-(1-r)*parseFloat(n),d=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=r?t.width/r:t.width,g=s?t.height/s:t.height;return{width:h,height:g,top:d,right:u+h,bottom:d+g,left:u}}const bte={ignoreTransform:!1};function If(t,e){e===void 0&&(e=bte);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:h}=Ei(t).getComputedStyle(t);d&&(n=yte(n,d,h))}const{top:i,left:r,width:s,height:a,bottom:l,right:u}=n;return{top:i,left:r,width:s,height:a,bottom:l,right:u}}function AO(t){return If(t,{ignoreTransform:!0})}function _te(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function wte(t,e){return e===void 0&&(e=Ei(t).getComputedStyle(t)),e.position==="fixed"}function Ste(t,e){e===void 0&&(e=Ei(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const s=e[r];return typeof s=="string"?n.test(s):!1})}function jS(t,e){const n=[];function i(r){if(e!=null&&n.length>=e||!r)return n;if(IS(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!Mf(r)||AL(r)||n.includes(r))return n;const s=Ei(t).getComputedStyle(r);return r!==t&&Ste(r,s)&&n.push(r),wte(r,s)?n:i(r.parentNode)}return t?i(t):n}function ML(t){const[e]=jS(t,1);return e??null}function h0(t){return!Hm||!t?null:bu(t)?t:NS(t)?IS(t)||t===_u(t).scrollingElement?window:Mf(t)?t:null:null}function NL(t){return bu(t)?t.scrollX:t.scrollLeft}function IL(t){return bu(t)?t.scrollY:t.scrollTop}function z_(t){return{x:NL(t),y:IL(t)}}var Wn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Wn||(Wn={}));function PL(t){return!Hm||!t?!1:t===document.scrollingElement}function jL(t){const e={x:0,y:0},n=PL(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},r=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=i.y,l=t.scrollLeft>=i.x;return{isTop:r,isLeft:s,isBottom:a,isRight:l,maxScroll:i,minScroll:e}}const xte={x:.2,y:.2};function Ete(t,e,n,i,r){let{top:s,left:a,right:l,bottom:u}=n;i===void 0&&(i=10),r===void 0&&(r=xte);const{isTop:d,isBottom:h,isLeft:g,isRight:m}=jL(t),v={x:0,y:0},_={x:0,y:0},b={height:e.height*r.y,width:e.width*r.x};return!d&&s<=e.top+b.height?(v.y=Wn.Backward,_.y=i*Math.abs((e.top+b.height-s)/b.height)):!h&&u>=e.bottom-b.height&&(v.y=Wn.Forward,_.y=i*Math.abs((e.bottom-b.height-u)/b.height)),!m&&l>=e.right-b.width?(v.x=Wn.Forward,_.x=i*Math.abs((e.right-b.width-l)/b.width)):!g&&a<=e.left+b.width&&(v.x=Wn.Backward,_.x=i*Math.abs((e.left+b.width-a)/b.width)),{direction:v,speed:_}}function Cte(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:i,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:r,width:t.clientWidth,height:t.clientHeight}}function LL(t){return t.reduce((e,n)=>Wc(e,z_(n)),Gr)}function Tte(t){return t.reduce((e,n)=>e+NL(n),0)}function Ate(t){return t.reduce((e,n)=>e+IL(n),0)}function FL(t,e){if(e===void 0&&(e=If),!t)return;const{top:n,left:i,bottom:r,right:s}=e(t);ML(t)&&(r<=0||s<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Rte=[["x",["left","right"],Tte],["y",["top","bottom"],Ate]];class LS{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=jS(n),r=LL(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of Rte)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=l(i),h=r[s]-d;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Bd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var r;(r=this.target)==null||r.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function Dte(t){const{EventTarget:e}=Ei(t);return t instanceof e?t:_u(t)}function g0(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var Sr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Sr||(Sr={}));function RO(t){t.preventDefault()}function Ote(t){t.stopPropagation()}var Vt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Vt||(Vt={}));const UL={start:[Vt.Space,Vt.Enter],cancel:[Vt.Esc],end:[Vt.Space,Vt.Enter,Vt.Tab]},kte=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Vt.Right:return{...n,x:n.x+25};case Vt.Left:return{...n,x:n.x-25};case Vt.Down:return{...n,y:n.y+25};case Vt.Up:return{...n,y:n.y-25}}};class zL{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Bd(_u(n)),this.windowListeners=new Bd(Ei(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&FL(i),n(Gr)}handleKeyDown(e){if(PS(e)){const{active:n,context:i,options:r}=this.props,{keyboardCodes:s=UL,coordinateGetter:a=kte,scrollBehavior:l="smooth"}=r,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=i.current,h=d?{x:d.left,y:d.top}:Gr;this.referenceCoordinates||(this.referenceCoordinates=h);const g=a(e,{active:n,context:i.current,currentCoordinates:h});if(g){const m=Wp(g,h),v={x:0,y:0},{scrollableAncestors:_}=i.current;for(const b of _){const S=e.code,{isTop:x,isRight:T,isLeft:A,isBottom:O,maxScroll:D,minScroll:N}=jL(b),M=Cte(b),k={x:Math.min(S===Vt.Right?M.right-M.width/2:M.right,Math.max(S===Vt.Right?M.left:M.left+M.width/2,g.x)),y:Math.min(S===Vt.Down?M.bottom-M.height/2:M.bottom,Math.max(S===Vt.Down?M.top:M.top+M.height/2,g.y))},P=S===Vt.Right&&!T||S===Vt.Left&&!A,z=S===Vt.Down&&!O||S===Vt.Up&&!x;if(P&&k.x!==g.x){const B=b.scrollLeft+m.x,K=S===Vt.Right&&B<=D.x||S===Vt.Left&&B>=N.x;if(K&&!m.y){b.scrollTo({left:B,behavior:l});return}K?v.x=b.scrollLeft-B:v.x=S===Vt.Right?b.scrollLeft-D.x:b.scrollLeft-N.x,v.x&&b.scrollBy({left:-v.x,behavior:l});break}else if(z&&k.y!==g.y){const B=b.scrollTop+m.y,K=S===Vt.Down&&B<=D.y||S===Vt.Up&&B>=N.y;if(K&&!m.x){b.scrollTo({top:B,behavior:l});return}K?v.y=b.scrollTop-B:v.y=S===Vt.Down?b.scrollTop-D.y:b.scrollTop-N.y,v.y&&b.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(e,Wc(Wp(g,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}zL.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=UL,onActivation:r}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(i.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),r?.({event:t.nativeEvent}),!0)}return!1}}];function DO(t){return!!(t&&"distance"in t)}function OO(t){return!!(t&&"delay"in t)}class FS{constructor(e,n,i){var r;i===void 0&&(i=Dte(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=_u(a),this.documentListeners=new Bd(this.document),this.listeners=new Bd(i),this.windowListeners=new Bd(Ei(a)),this.initialCoordinates=(r=Gp(s))!=null?r:Gr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.DragStart,RO),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),this.windowListeners.add(Sr.ContextMenu,RO),this.documentListeners.add(Sr.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(OO(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(DO(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Sr.Click,Ote,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:r,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!r)return;const u=(n=Gp(e))!=null?n:Gr,d=Wp(r,u);if(!i&&l){if(DO(l)){if(l.tolerance!=null&&g0(d,l.tolerance))return this.handleCancel();if(g0(d,l.distance))return this.handleStart()}if(OO(l)&&g0(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Vt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Mte={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class US extends FS{constructor(e){const{event:n}=e,i=_u(n.target);super(e,Mte,i)}}US.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const Nte={move:{name:"mousemove"},end:{name:"mouseup"}};var H_;(function(t){t[t.RightClick=2]="RightClick"})(H_||(H_={}));class HL extends FS{constructor(e){super(e,Nte,_u(e.event.target))}}HL.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===H_.RightClick?!1:(i?.({event:n}),!0)}}];const p0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ite extends FS{constructor(e){super(e,p0)}static setup(){return window.addEventListener(p0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(p0.move.name,e)};function e(){}}}Ite.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:r}=n;return r.length>1?!1:(i?.({event:n}),!0)}}];var Vd;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Vd||(Vd={}));var Kp;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Kp||(Kp={}));function Pte(t){let{acceleration:e,activator:n=Vd.Pointer,canScroll:i,draggingRect:r,enabled:s,interval:a=5,order:l=Kp.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:h,delta:g,threshold:m}=t;const v=Lte({delta:g,disabled:!s}),[_,b]=Qee(),S=C.useRef({x:0,y:0}),x=C.useRef({x:0,y:0}),T=C.useMemo(()=>{switch(n){case Vd.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Vd.DraggableRect:return r}},[n,r,u]),A=C.useRef(null),O=C.useCallback(()=>{const N=A.current;if(!N)return;const M=S.current.x*x.current.x,k=S.current.y*x.current.y;N.scrollBy(M,k)},[]),D=C.useMemo(()=>l===Kp.TreeOrder?[...d].reverse():d,[l,d]);C.useEffect(()=>{if(!s||!d.length||!T){b();return}for(const N of D){if(i?.(N)===!1)continue;const M=d.indexOf(N),k=h[M];if(!k)continue;const{direction:P,speed:z}=Ete(N,k,T,e,m);for(const B of["x","y"])v[B][P[B]]||(z[B]=0,P[B]=0);if(z.x>0||z.y>0){b(),A.current=N,_(O,a),S.current=z,x.current=P;return}}S.current={x:0,y:0},x.current={x:0,y:0},b()},[e,O,i,b,s,a,JSON.stringify(T),JSON.stringify(v),_,d,D,h,JSON.stringify(m)])}const jte={x:{[Wn.Backward]:!1,[Wn.Forward]:!1},y:{[Wn.Backward]:!1,[Wn.Forward]:!1}};function Lte(t){let{delta:e,disabled:n}=t;const i=qp(e);return Nf(r=>{if(n||!i||!r)return jte;const s={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Wn.Backward]:r.x[Wn.Backward]||s.x===-1,[Wn.Forward]:r.x[Wn.Forward]||s.x===1},y:{[Wn.Backward]:r.y[Wn.Backward]||s.y===-1,[Wn.Forward]:r.y[Wn.Forward]||s.y===1}}},[n,e,i])}function Fte(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return Nf(r=>{var s;return e==null?null:(s=i??r)!=null?s:null},[i,e])}function Ute(t,e){return C.useMemo(()=>t.reduce((n,i)=>{const{sensor:r}=i,s=r.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,i)}));return[...n,...s]},[]),[t,e])}var uf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(uf||(uf={}));var B_;(function(t){t.Optimized="optimized"})(B_||(B_={}));const kO=new Map;function zte(t,e){let{dragging:n,dependencies:i,config:r}=e;const[s,a]=C.useState(null),{frequency:l,measure:u,strategy:d}=r,h=C.useRef(t),g=S(),m=lf(g),v=C.useCallback(function(x){x===void 0&&(x=[]),!m.current&&a(T=>T===null?x:T.concat(x.filter(A=>!T.includes(A))))},[m]),_=C.useRef(null),b=Nf(x=>{if(g&&!n)return kO;if(!x||x===kO||h.current!==t||s!=null){const T=new Map;for(let A of t){if(!A)continue;if(s&&s.length>0&&!s.includes(A.id)&&A.rect.current){T.set(A.id,A.rect.current);continue}const O=A.node.current,D=O?new LS(u(O),O):null;A.rect.current=D,D&&T.set(A.id,D)}return T}return x},[t,s,n,g,u]);return C.useEffect(()=>{h.current=t},[t]),C.useEffect(()=>{g||v()},[n,g]),C.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),C.useEffect(()=>{g||typeof l!="number"||_.current!==null||(_.current=setTimeout(()=>{v(),_.current=null},l))},[l,g,v,...i]),{droppableRects:b,measureDroppableContainers:v,measuringScheduled:s!=null};function S(){switch(d){case uf.Always:return!1;case uf.BeforeDragging:return n;default:return!n}}}function zS(t,e){return Nf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Hte(t,e){return zS(t,e)}function Bte(t){let{callback:e,disabled:n}=t;const i=Bm(e),r=C.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(i)},[i,n]);return C.useEffect(()=>()=>r?.disconnect(),[r]),r}function $m(t){let{callback:e,disabled:n}=t;const i=Bm(e),r=C.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(i)},[n]);return C.useEffect(()=>()=>r?.disconnect(),[r]),r}function Vte(t){return new LS(If(t),t)}function MO(t,e,n){e===void 0&&(e=Vte);const[i,r]=C.useState(null);function s(){r(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const h=e(t);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const a=Bte({callback(u){if(t)for(const d of u){const{type:h,target:g}=d;if(h==="childList"&&g instanceof HTMLElement&&g.contains(t)){s();break}}}}),l=$m({callback:s});return aa(()=>{s(),t?(l?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[t]),i}function $te(t){const e=zS(t);return OL(t,e)}const NO=[];function qte(t){const e=C.useRef(t),n=Nf(i=>t?i&&i!==NO&&t&&e.current&&t.parentNode===e.current.parentNode?i:jS(t):NO,[t]);return C.useEffect(()=>{e.current=t},[t]),n}function Wte(t){const[e,n]=C.useState(null),i=C.useRef(t),r=C.useCallback(s=>{const a=h0(s.target);a&&n(l=>l?(l.set(a,z_(a)),new Map(l)):null)},[]);return C.useEffect(()=>{const s=i.current;if(t!==s){a(s);const l=t.map(u=>{const d=h0(u);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,z_(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),i.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(u=>{const d=h0(u);d?.removeEventListener("scroll",r)})}},[r,t]),C.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Wc(s,a),Gr):LL(t):Gr,[t,e])}function IO(t,e){e===void 0&&(e=[]);const n=C.useRef(null);return C.useEffect(()=>{n.current=null},e),C.useEffect(()=>{const i=t!==Gr;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?Wp(t,n.current):Gr}function Gte(t){C.useEffect(()=>{if(!Hm)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function Yte(t,e){return C.useMemo(()=>t.reduce((n,i)=>{let{eventName:r,handler:s}=i;return n[r]=a=>{s(a,e)},n},{}),[t,e])}function BL(t){return C.useMemo(()=>t?_te(t):null,[t])}const PO=[];function Kte(t,e){e===void 0&&(e=If);const[n]=t,i=BL(n?Ei(n):null),[r,s]=C.useState(PO);function a(){s(()=>t.length?t.map(u=>PL(u)?i:new LS(e(u),u)):PO)}const l=$m({callback:a});return aa(()=>{l?.disconnect(),a(),t.forEach(u=>l?.observe(u))},[t]),r}function VL(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Mf(e)?e:t}function Qte(t){let{measure:e}=t;const[n,i]=C.useState(null),r=C.useCallback(d=>{for(const{target:h}of d)if(Mf(h)){i(g=>{const m=e(h);return g?{...g,width:m.width,height:m.height}:m});break}},[e]),s=$m({callback:r}),a=C.useCallback(d=>{const h=VL(d);s?.disconnect(),h&&s?.observe(h),i(h?e(h):null)},[e,s]),[l,u]=$p(a);return C.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const Xte=[{sensor:US,options:{}},{sensor:zL,options:{}}],Zte={current:{}},op={draggable:{measure:AO},droppable:{measure:AO,strategy:uf.WhileDragging,frequency:B_.Optimized},dragOverlay:{measure:If}};class $d extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const Jte={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $d,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Yp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:op,measureDroppableContainers:Yp,windowRect:null,measuringScheduled:!1},$L={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Yp,draggableNodes:new Map,over:null,measureDroppableContainers:Yp},Pf=C.createContext($L),qL=C.createContext(Jte);function ene(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $d}}}function tne(t,e){switch(e.type){case zn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case zn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case zn.DragEnd:case zn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case zn.RegisterDroppable:{const{element:n}=e,{id:i}=n,r=new $d(t.droppable.containers);return r.set(i,n),{...t,droppable:{...t.droppable,containers:r}}}case zn.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=e,s=t.droppable.containers.get(n);if(!s||i!==s.key)return t;const a=new $d(t.droppable.containers);return a.set(n,{...s,disabled:r}),{...t,droppable:{...t.droppable,containers:a}}}case zn.UnregisterDroppable:{const{id:n,key:i}=e,r=t.droppable.containers.get(n);if(!r||i!==r.key)return t;const s=new $d(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function nne(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:r}=C.useContext(Pf),s=qp(i),a=qp(n?.id);return C.useEffect(()=>{if(!e&&!i&&s&&a!=null){if(!PS(s)||document.activeElement===s.target)return;const l=r.get(a);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[u.current,d.current]){if(!h)continue;const g=Jee(h);if(g){g.focus();break}}})}},[i,e,r,a,s]),null}function WL(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((r,s)=>s({transform:r,...i}),n):n}function ine(t){return C.useMemo(()=>({draggable:{...op.draggable,...t?.draggable},droppable:{...op.droppable,...t?.droppable},dragOverlay:{...op.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function rne(t){let{activeNode:e,measure:n,initialRect:i,config:r=!0}=t;const s=C.useRef(!1),{x:a,y:l}=typeof r=="boolean"?{x:r,y:r}:r;aa(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!i)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const h=n(d),g=OL(h,i);if(a||(g.x=0),l||(g.y=0),s.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const m=ML(d);m&&m.scrollBy({top:g.y,left:g.x})}},[e,a,l,i,n])}const qm=C.createContext({...Gr,scaleX:1,scaleY:1});var Ha;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ha||(Ha={}));const sne=C.memo(function(e){var n,i,r,s;let{id:a,accessibility:l,autoScroll:u=!0,children:d,sensors:h=Xte,collisionDetection:g=gte,measuring:m,modifiers:v,..._}=e;const b=C.useReducer(tne,void 0,ene),[S,x]=b,[T,A]=ste(),[O,D]=C.useState(Ha.Uninitialized),N=O===Ha.Initialized,{draggable:{active:M,nodes:k,translate:P},droppable:{containers:z}}=S,B=M!=null?k.get(M):null,K=C.useRef({initial:null,translated:null}),ne=C.useMemo(()=>{var St;return M!=null?{id:M,data:(St=B?.data)!=null?St:Zte,rect:K}:null},[M,B]),ue=C.useRef(null),[ge,L]=C.useState(null),[q,$]=C.useState(null),re=lf(_,Object.values(_)),ve=Vm("DndDescribedBy",a),U=C.useMemo(()=>z.getEnabled(),[z]),J=ine(m),{droppableRects:ee,measureDroppableContainers:le,measuringScheduled:be}=zte(U,{dragging:N,dependencies:[P.x,P.y],config:J.droppable}),we=Fte(k,M),ce=C.useMemo(()=>q?Gp(q):null,[q]),me=vi(),Te=Hte(we,J.draggable.measure);rne({activeNode:M!=null?k.get(M):null,config:me.layoutShiftCompensation,initialRect:Te,measure:J.draggable.measure});const Ce=MO(we,J.draggable.measure,Te),je=MO(we?we.parentElement:null),ze=C.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:ee,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),zt=z.getNodeFor((n=ze.current.over)==null?void 0:n.id),xe=Qte({measure:J.dragOverlay.measure}),Be=(i=xe.nodeRef.current)!=null?i:we,Xe=N?(r=xe.rect)!=null?r:Ce:null,Dt=!!(xe.nodeRef.current&&xe.rect),xn=$te(Dt?null:Ce),Ze=BL(Be?Ei(Be):null),j=qte(N?zt??we:null),W=Kte(j),Q=WL(v,{transform:{x:P.x-xn.x,y:P.y-xn.y,scaleX:1,scaleY:1},activatorEvent:q,active:ne,activeNodeRect:Ce,containerNodeRect:je,draggingNodeRect:Xe,over:ze.current.over,overlayNodeRect:xe.rect,scrollableAncestors:j,scrollableAncestorRects:W,windowRect:Ze}),Y=ce?Wc(ce,P):null,te=Wte(j),de=IO(te),ye=IO(te,[Ce]),_e=Wc(Q,de),Se=Xe?vte(Xe,Q):null,Ne=ne&&Se?g({active:ne,collisionRect:Se,droppableRects:ee,droppableContainers:U,pointerCoordinates:Y}):null,Je=fte(Ne,"id"),[Ge,ft]=C.useState(null),st=Dt?Q:Wc(Q,ye),Ht=pte(st,(s=Ge?.rect)!=null?s:null,Ce),at=C.useRef(null),qe=C.useCallback((St,Wt)=>{let{sensor:Ee,options:We}=Wt;if(ue.current==null)return;const ht=k.get(ue.current);if(!ht)return;const yt=St.nativeEvent,hn=new Ee({active:ue.current,activeNode:ht,event:yt,options:We,context:ze,onAbort(et){if(!k.get(et))return;const{onDragAbort:Kt}=re.current,rn={id:et};Kt?.(rn),T({type:"onDragAbort",event:rn})},onPending(et,En,Kt,rn){if(!k.get(et))return;const{onDragPending:Xn}=re.current,or={id:et,constraint:En,initialCoordinates:Kt,offset:rn};Xn?.(or),T({type:"onDragPending",event:or})},onStart(et){const En=ue.current;if(En==null)return;const Kt=k.get(En);if(!Kt)return;const{onDragStart:rn}=re.current,ar={activatorEvent:yt,active:{id:En,data:Kt.data,rect:K}};tr.unstable_batchedUpdates(()=>{rn?.(ar),D(Ha.Initializing),x({type:zn.DragStart,initialCoordinates:et,active:En}),T({type:"onDragStart",event:ar}),L(at.current),$(yt)})},onMove(et){x({type:zn.DragMove,coordinates:et})},onEnd:bt(zn.DragEnd),onCancel:bt(zn.DragCancel)});at.current=hn;function bt(et){return async function(){const{active:Kt,collisions:rn,over:ar,scrollAdjustedTranslate:Xn}=ze.current;let or=null;if(Kt&&Xn){const{cancelDrop:ua}=re.current;or={activatorEvent:yt,active:Kt,collisions:rn,delta:Xn,over:ar},et===zn.DragEnd&&typeof ua=="function"&&await Promise.resolve(ua(or))&&(et=zn.DragCancel)}ue.current=null,tr.unstable_batchedUpdates(()=>{x({type:et}),D(Ha.Uninitialized),ft(null),L(null),$(null),at.current=null;const ua=et===zn.DragEnd?"onDragEnd":"onDragCancel";if(or){const lr=re.current[ua];lr?.(or),T({type:ua,event:or})}})}}},[k]),vn=C.useCallback((St,Wt)=>(Ee,We)=>{const ht=Ee.nativeEvent,yt=k.get(We);if(ue.current!==null||!yt||ht.dndKit||ht.defaultPrevented)return;const hn={active:yt};St(Ee,Wt.options,hn)===!0&&(ht.dndKit={capturedBy:Wt.sensor},ue.current=We,qe(Ee,Wt))},[k,qe]),nt=Ute(h,vn);Gte(h),aa(()=>{Ce&&O===Ha.Initializing&&D(Ha.Initialized)},[Ce,O]),C.useEffect(()=>{const{onDragMove:St}=re.current,{active:Wt,activatorEvent:Ee,collisions:We,over:ht}=ze.current;if(!Wt||!Ee)return;const yt={active:Wt,activatorEvent:Ee,collisions:We,delta:{x:_e.x,y:_e.y},over:ht};tr.unstable_batchedUpdates(()=>{St?.(yt),T({type:"onDragMove",event:yt})})},[_e.x,_e.y]),C.useEffect(()=>{const{active:St,activatorEvent:Wt,collisions:Ee,droppableContainers:We,scrollAdjustedTranslate:ht}=ze.current;if(!St||ue.current==null||!Wt||!ht)return;const{onDragOver:yt}=re.current,hn=We.get(Je),bt=hn&&hn.rect.current?{id:hn.id,rect:hn.rect.current,data:hn.data,disabled:hn.disabled}:null,et={active:St,activatorEvent:Wt,collisions:Ee,delta:{x:ht.x,y:ht.y},over:bt};tr.unstable_batchedUpdates(()=>{ft(bt),yt?.(et),T({type:"onDragOver",event:et})})},[Je]),aa(()=>{ze.current={activatorEvent:q,active:ne,activeNode:we,collisionRect:Se,collisions:Ne,droppableRects:ee,draggableNodes:k,draggingNode:Be,draggingNodeRect:Xe,droppableContainers:z,over:Ge,scrollableAncestors:j,scrollAdjustedTranslate:_e},K.current={initial:Xe,translated:Se}},[ne,we,Ne,Se,k,Be,Xe,ee,z,Ge,j,_e]),Pte({...me,delta:P,draggingRect:Se,pointerCoordinates:Y,scrollableAncestors:j,scrollableAncestorRects:W});const vt=C.useMemo(()=>({active:ne,activeNode:we,activeNodeRect:Ce,activatorEvent:q,collisions:Ne,containerNodeRect:je,dragOverlay:xe,draggableNodes:k,droppableContainers:z,droppableRects:ee,over:Ge,measureDroppableContainers:le,scrollableAncestors:j,scrollableAncestorRects:W,measuringConfiguration:J,measuringScheduled:be,windowRect:Ze}),[ne,we,Ce,q,Ne,je,xe,k,z,ee,Ge,le,j,W,J,be,Ze]),mi=C.useMemo(()=>({activatorEvent:q,activators:nt,active:ne,activeNodeRect:Ce,ariaDescribedById:{draggable:ve},dispatch:x,draggableNodes:k,over:Ge,measureDroppableContainers:le}),[q,nt,ne,Ce,x,ve,k,Ge,le]);return ae.createElement(DL.Provider,{value:A},ae.createElement(Pf.Provider,{value:mi},ae.createElement(qL.Provider,{value:vt},ae.createElement(qm.Provider,{value:Ht},d)),ae.createElement(nne,{disabled:l?.restoreFocus===!1})),ae.createElement(lte,{...l,hiddenTextDescribedById:ve}));function vi(){const St=ge?.autoScrollEnabled===!1,Wt=typeof u=="object"?u.enabled===!1:u===!1,Ee=N&&!St&&!Wt;return typeof u=="object"?{...u,enabled:Ee}:{enabled:Ee}}}),ane=C.createContext(null),jO="button",one="Draggable";function foe(t){let{id:e,data:n,disabled:i=!1,attributes:r}=t;const s=Vm(one),{activators:a,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:h,draggableNodes:g,over:m}=C.useContext(Pf),{role:v=jO,roleDescription:_="draggable",tabIndex:b=0}=r??{},S=u?.id===e,x=C.useContext(S?qm:ane),[T,A]=$p(),[O,D]=$p(),N=Yte(a,e),M=lf(n);aa(()=>(g.set(e,{id:e,key:s,node:T,activatorNode:O,data:M}),()=>{const P=g.get(e);P&&P.key===s&&g.delete(e)}),[g,e]);const k=C.useMemo(()=>({role:v,tabIndex:b,"aria-disabled":i,"aria-pressed":S&&v===jO?!0:void 0,"aria-roledescription":_,"aria-describedby":h.draggable}),[i,v,b,S,_,h.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:k,isDragging:S,listeners:i?void 0:N,node:T,over:m,setNodeRef:A,setActivatorNodeRef:D,transform:x}}function lne(){return C.useContext(qL)}const cne="Droppable",une={timeout:25};function hoe(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:r}=t;const s=Vm(cne),{active:a,dispatch:l,over:u,measureDroppableContainers:d}=C.useContext(Pf),h=C.useRef({disabled:n}),g=C.useRef(!1),m=C.useRef(null),v=C.useRef(null),{disabled:_,updateMeasurementsFor:b,timeout:S}={...une,...r},x=lf(b??i),T=C.useCallback(()=>{if(!g.current){g.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),v.current=null},S)},[S]),A=$m({callback:T,disabled:_||!a}),O=C.useCallback((k,P)=>{A&&(P&&(A.unobserve(P),g.current=!1),k&&A.observe(k))},[A]),[D,N]=$p(O),M=lf(e);return C.useEffect(()=>{!A||!D.current||(A.disconnect(),g.current=!1,A.observe(D.current))},[D,A]),C.useEffect(()=>(l({type:zn.RegisterDroppable,element:{id:i,key:s,disabled:n,node:D,rect:m,data:M}}),()=>l({type:zn.UnregisterDroppable,key:s,id:i})),[i]),C.useEffect(()=>{n!==h.current.disabled&&(l({type:zn.SetDroppableDisabled,id:i,key:s,disabled:n}),h.current.disabled=n)},[i,s,n,l]),{active:a,rect:m,isOver:u?.id===i,node:D,over:u,setNodeRef:N}}function dne(t){let{animation:e,children:n}=t;const[i,r]=C.useState(null),[s,a]=C.useState(null),l=qp(n);return!n&&!i&&l&&r(l),aa(()=>{if(!s)return;const u=i?.key,d=i?.props.id;if(u==null||d==null){r(null);return}Promise.resolve(e(d,s)).then(()=>{r(null)})},[e,i,s]),ae.createElement(ae.Fragment,null,n,i?C.cloneElement(i,{ref:a}):null)}const fne={x:0,y:0,scaleX:1,scaleY:1};function hne(t){let{children:e}=t;return ae.createElement(Pf.Provider,{value:$L},ae.createElement(qm.Provider,{value:fne},e))}const gne={position:"fixed",touchAction:"none"},pne=t=>PS(t)?"transform 250ms ease":void 0,mne=C.forwardRef((t,e)=>{let{as:n,activatorEvent:i,adjustScale:r,children:s,className:a,rect:l,style:u,transform:d,transition:h=pne}=t;if(!l)return null;const g=r?d:{...d,scaleX:1,scaleY:1},m={...gne,width:l.width,height:l.height,top:l.top,left:l.left,transform:cf.Transform.toString(g),transformOrigin:r&&i?ute(i,l):void 0,transition:typeof h=="function"?h(i):h,...u};return ae.createElement(n,{className:a,style:m,ref:e},s)}),vne=t=>e=>{let{active:n,dragOverlay:i}=e;const r={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[l,u]of Object.entries(s.active))u!==void 0&&(r[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(s!=null&&s.dragOverlay)for(const[l,u]of Object.entries(s.dragOverlay))u!==void 0&&i.node.style.setProperty(l,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&i.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(r))n.node.style.setProperty(u,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},yne=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:cf.Transform.toString(e)},{transform:cf.Transform.toString(n)}]},bne={duration:250,easing:"ease",keyframes:yne,sideEffects:vne({styles:{active:{opacity:"0"}}})};function _ne(t){let{config:e,draggableNodes:n,droppableContainers:i,measuringConfiguration:r}=t;return Bm((s,a)=>{if(e===null)return;const l=n.get(s);if(!l)return;const u=l.node.current;if(!u)return;const d=VL(a);if(!d)return;const{transform:h}=Ei(a).getComputedStyle(a),g=kL(h);if(!g)return;const m=typeof e=="function"?e:wne(e);return FL(u,r.draggable.measure),m({active:{id:s,data:l.data,node:u,rect:r.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:r.dragOverlay.measure(d)},droppableContainers:i,measuringConfiguration:r,transform:g})})}function wne(t){const{duration:e,easing:n,sideEffects:i,keyframes:r}={...bne,...t};return s=>{let{active:a,dragOverlay:l,transform:u,...d}=s;if(!e)return;const h={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},g={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/l.rect.height:1},m={x:u.x-h.x,y:u.y-h.y,...g},v=r({...d,active:a,dragOverlay:l,transform:{initial:u,final:m}}),[_]=v,b=v[v.length-1];if(JSON.stringify(_)===JSON.stringify(b))return;const S=i?.({active:a,dragOverlay:l,...d}),x=l.node.animate(v,{duration:e,easing:n,fill:"forwards"});return new Promise(T=>{x.onfinish=()=>{S?.(),T()}})}}let LO=0;function Sne(t){return C.useMemo(()=>{if(t!=null)return LO++,LO},[t])}const xne=ae.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:i,style:r,transition:s,modifiers:a,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:h,active:g,activeNodeRect:m,containerNodeRect:v,draggableNodes:_,droppableContainers:b,dragOverlay:S,over:x,measuringConfiguration:T,scrollableAncestors:A,scrollableAncestorRects:O,windowRect:D}=lne(),N=C.useContext(qm),M=Sne(g?.id),k=WL(a,{activatorEvent:h,active:g,activeNodeRect:m,containerNodeRect:v,draggingNodeRect:S.rect,over:x,overlayNodeRect:S.rect,scrollableAncestors:A,scrollableAncestorRects:O,transform:N,windowRect:D}),P=zS(m),z=_ne({config:i,draggableNodes:_,droppableContainers:b,measuringConfiguration:T}),B=P?S.setRef:void 0;return ae.createElement(hne,null,ae.createElement(dne,{animation:z},g&&M?ae.createElement(mne,{key:M,id:g.id,ref:B,as:l,activatorEvent:h,adjustScale:e,className:u,transition:s,rect:P,style:{zIndex:d,...r},transform:k},n):null))});function Uo({label:t,options:e,selectedOptions:n,onSelectionChange:i,searchPlaceholder:r,id:s,width:a="200px"}){const[l,u]=C.useState(!1),[d,h]=C.useState(""),g=C.useRef(null);C.useEffect(()=>{const T=A=>{g.current&&!g.current.contains(A.target)&&u(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const m=e.filter(T=>T.toLowerCase().includes(d.toLowerCase())),v=m.length>0&&m.every(T=>n.includes(T)),_=T=>{if(T.preventDefault(),T.stopPropagation(),v){const A=n.filter(O=>!m.includes(O));i(A)}else{const A=[...new Set([...n,...m])];i(A)}},b=(T,A)=>{if(T.preventDefault(),T.stopPropagation(),n.includes(A)){const O=n.filter(D=>D!==A);i(O)}else{const O=[...n.filter(D=>D!==""),A];i(O)}},S=()=>{u(!0)},x=T=>{h(T.target.value)};return E.jsxs("div",{className:"relative",ref:g,style:{width:a},children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs(di,{htmlFor:s,children:[t,":"]}),E.jsx(Gn,{type:"text",id:s,value:d,onChange:x,onFocus:S,placeholder:r})]}),l&&e.length>0&&E.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:[E.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 ${v?"bg-navy-50 text-navy-800":""}`,onMouseDown:_,children:E.jsx("div",{className:"text-xs font-bold",children:"Tutti"})}),m.map(T=>E.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 ${n.includes(T)?"bg-navy-50 text-navy-800":""}`,onMouseDown:A=>b(A,T),children:E.jsx("div",{className:"text-xs font-normal",children:T})},T))]})]})}const Ene=C.lazy(()=>ii(()=>import("./TaskPoolDataTable-BBaiZ1rZ.js"),[])),Cne=C.lazy(()=>ii(()=>import("./GanttChart-Dk3de8MH.js"),[])),FO=()=>E.jsx("div",{className:"loading",children:"Caricamento componenti scheduler..."}),Tne=({schedulingLoading:t})=>{if(!t.isScheduling&&!t.isRescheduling&&!t.isShunting&&!t.isNavigating)return null;const e=()=>t.isScheduling?"Programmazione lavoro...":t.isRescheduling?"Riprogrammazione lavoro...":t.isShunting?"Risoluzione conflitti...":t.isNavigating?"Navigazione...":"Operazione in corso...";return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[E.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),E.jsx("span",{className:"text-gray-700 font-medium",children:e()})]})})},Ane=(t,e)=>{const n=document.querySelector(t);if(!n){$a("Grafico Gantt non trovato. Assicurati che il grafico sia visibile sullo schermo.");return}const i=Array.from(document.styleSheets);let r="";i.forEach(m=>{try{Array.from(m.cssRules||m.rules||[]).forEach(_=>{r+=_.cssText+`
`})}catch{}});const s=n.cloneNode(!0),a=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Grafico Gantt - ${e}</title>
        <style>
          ${r}
          body { 
            margin: 0; 
            padding: 20px; 
            font-family: Arial, sans-serif;
          }
          .calendar-section {
            width: 100%;
            overflow-x: auto;
          }
        </style>
      </head>
      <body>
        <div style="text-align: center; margin-bottom: 20px; font-size: 12px; font-weight: bold;">
          Grafico Gantt - ${e}
        </div>
        <div class="calendar-section">
          ${s.outerHTML}
        </div>
      </body>
    </html>
  `,l=new Blob([a],{type:"text/html"}),u=window.URL.createObjectURL(l),d=document.createElement("a");d.href=u;const h=new Date().toISOString().split("T")[0],g=new Date().toISOString().split("T")[1].split(".")[0].replace(/:/g,"-");d.download=`grafico-gantt-${h}-${g}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u)};function Rne(){const{data:t=[],isLoading:e,error:n}=mm(),{data:i=[],isLoading:r,error:s}=pm(),{getOdpOrdersByWorkCenter:a,getScheduledOrders:l}=un(),{selectedWorkCenter:u,isLoading:d,isInitialized:h,showAlert:g,isEditMode:m,toggleEditMode:v,showConflictDialog:_,schedulingLoading:b,setDragPreview:S,clearDragPreview:x,dragPreview:T}=Tt(),{scheduleTask:A,unscheduleTask:O,scheduleTaskFromSlot:D,rescheduleTaskToSlot:N,validateSlotAvailability:M}=ds(),{init:k,cleanup:P}=fo(),z=Bi(),B=cte(TO(US,{activationConstraint:{distance:0}}),TO(HL,{activationConstraint:{distance:0}})),[K,ne]=C.useState(()=>{const Y=new Date;return new Date(Date.UTC(Y.getUTCFullYear(),Y.getUTCMonth(),Y.getUTCDate()))}),[ue,ge]=C.useState(null),L=e||r||d,[q,$]=C.useState(null),[re,ve]=C.useState(""),[U,J]=C.useState(""),[ee,le]=C.useState(""),be={workCenter:[],department:[],machineType:[],machineName:[]};function we(Y,te){switch(te.type){case"SET_FILTER":return{...Y,[te.payload.filterName]:te.payload.value};case"CLEAR_FILTERS":return be;default:return Y}}const[ce,me]=C.useReducer(we,be);C.useEffect(()=>(h||k(),()=>{P()}),[k,h,P]);const Te=C.useMemo(()=>u?u==="BOTH"?t:t.filter(Y=>Y.work_center===u):[],[u,t]),Ce=C.useMemo(()=>Te.filter(te=>te.status==="SCHEDULED"),[Te,u]),je=C.useMemo(()=>{if(performance.now(),!i||i.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let Y=i;u&&u!==mt.BOTH&&(Y=i.filter(st=>st.work_center===u));const te=Y.filter(st=>st.status===us.ACTIVE);if(te.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const de=new Set,ye=new Set,_e=new Set,Se=new Set;for(const st of te)st.work_center&&de.add(st.work_center),st.department&&ye.add(st.department),st.machine_type&&_e.add(st.machine_type),st.machine_name&&Se.add(st.machine_name);const Ne=Array.from(de).sort(),Je=Array.from(ye).sort(),Ge=Array.from(_e).sort(),ft=Array.from(Se).sort();return performance.now(),{activeMachines:te,workCenters:Ne,departments:Je,machineTypes:Ge,machineNames:ft}},[i,u]),ze=C.useMemo(()=>{const{activeMachines:Y}=je;let te=Y;return ce.workCenter.length>0&&(te=te.filter(de=>ce.workCenter.includes(de.work_center))),ce.department.length>0&&(te=te.filter(de=>ce.department.includes(de.department))),ce.machineType.length>0&&(te=te.filter(de=>ce.machineType.includes(de.machine_type))),ce.machineName.length>0&&(te=te.filter(de=>ce.machineName.includes(de.machine_name))),te},[je,ce]),zt=C.useCallback(async(Y,te="Daily")=>{const{startSchedulingOperation:de,stopSchedulingOperation:ye}=Tt.getState();try{de("navigate");let _e;ne(Se=>{if(Y==="today"){const Ne=new Date,Je=Ne.getUTCFullYear(),Ge=Ne.getUTCMonth(),ft=Ne.getUTCDate();return _e=new Date(Date.UTC(Je,Ge,ft)),_e}else if(Y==="prev"){if(te==="Weekly")return _e=ul(Cq(Se,1),{weekStartsOn:1}),_e;{const Ne=new Date(Se);return Ne.setUTCDate(Ne.getUTCDate()-1),_e=Ne,_e}}else if(Y==="next"){if(te==="Weekly")return _e=ul(BM(Se,1),{weekStartsOn:1}),_e;{const Ne=new Date(Se);return Ne.setUTCDate(Ne.getUTCDate()+1),_e=Ne,Ne}}return _e=Se,Se})}finally{ye()}},[]),xe=C.useCallback(()=>{const Y=new Date,te=Y.getUTCFullYear(),de=Y.getUTCMonth(),ye=Y.getUTCDate(),_e=new Date(Date.UTC(te,de,ye));return K.getTime()===_e.getTime()?"Oggi":Qn(K,"yyyy-MM-dd")},[K]),Be=C.useCallback(()=>{me({type:"CLEAR_FILTERS"})},[]),Xe=C.useCallback((Y,te,de)=>{if(!Y.trim())return;let ye=Ce.find(_e=>_e[te]===Y.trim());if(ye||(ye=Ce.find(_e=>_e[te]&&_e[te].toLowerCase().includes(Y.trim().toLowerCase()))),!ye){g(`Lavoro non trovato per ${de}: ${Y}`,"warning");return}Dt(ye,te,de,Y)},[Ce,i,g]),Dt=C.useCallback((Y,te,de,ye)=>{const _e=i.find(Ne=>Ne.id===Y.scheduled_machine_id);if(!_e){g("Macchina non trovata per questo lavoro","error");return}if(me({type:"SET_FILTER",payload:{filterName:"machineName",value:[_e.machine_name]}}),me({type:"SET_FILTER",payload:{filterName:"workCenter",value:[_e.work_center]}}),me({type:"SET_FILTER",payload:{filterName:"department",value:[_e.department]}}),me({type:"SET_FILTER",payload:{filterName:"machineType",value:[_e.machine_type]}}),Y.scheduled_start_time){const Ne=new Date(Y.scheduled_start_time),Je=Ne.getUTCFullYear(),Ge=Ne.getUTCMonth(),ft=Ne.getUTCDate();ne(new Date(Date.UTC(Je,Ge,ft)))}te==="odp_number"?ve(""):te==="article_code"?J(""):te==="nome_cliente"&&le("");const Se=Y[te];g(`Lavoro trovato per ${de} "${Se}" su ${_e.machine_name}`,"success")},[i,g,ve,J,le,ne]),xn=C.useRef(null),Ze=C.useRef(!1),j=C.useCallback(Y=>{const te=Y.active.data.current;te&&te.type==="task"?ge(te.task):te&&te.type==="event"&&ge(te.event)},[]),W=C.useCallback(Y=>{const{over:te}=Y;if(te&&te.data.current?.type==="slot"){const{machine:de,hour:ye,minute:_e,isUnavailable:Se,hasScheduledTask:Ne}=te.data.current;if(Se||Ne){$(null),x();return}const Je=`${de.id}-${ye}-${_e}`;if($(Je),ue){const Ge=ue.time_remaining||ue.duration||1,ft=Math.ceil(Ge*4),st=(ye-6)*4+Math.floor(_e/15);S({isActive:!0,startSlot:st,durationSlots:ft,machineId:de.id})}}else te&&te.data.current?.type==="next-day"?($("next-day-drop-zone"),x()):te&&te.data.current?.type==="previous-day"?($("previous-day-drop-zone"),x()):($(null),x())},[ue,S,x]),Q=C.useCallback(async Y=>{if(performance.now(),xn.current&&clearTimeout(xn.current),Ze.current)return;ge(null),$(null),x();const{over:te,active:de}=Y;if(!te)return;const ye=de.data.current,_e=te.data.current;if(!(!ye||!_e)){Ze.current=!0;try{await new Promise(Se=>{requestAnimationFrame(async()=>{const Ne=performance.now();if(ye.type==="task"&&_e.type==="slot"){const Je=ye.task,{machine:Ge,hour:ft,minute:st,isUnavailable:Ht,hasScheduledTask:at}=_e;if(at)return g("Impossibile pianificare il lavoro su uno slot temporale occupato","error"),Se();const qe=await D(Je.id,Ge,K,ft,st,null,z);qe?.error?g(qe.error,"error"):qe?.conflict&&_(qe)}else if(ye.type==="event"&&_e.type==="slot"){const Je=ye.event,{machine:Ge,hour:ft,minute:st,isUnavailable:Ht,hasScheduledTask:at}=_e;if(at)return g("Impossibile riprogrammare il lavoro su uno slot temporale occupato","error"),Se();const qe=await N(Je.id,Ge,K,ft,st,z);qe?.error?g(qe.error,"error"):qe?.conflict&&_(qe)}else if(ye.type==="event"&&_e.type==="pool"){const Je=ye.event;O(Je.id,z)}else(ye.type==="task"||ye.type==="event")&&_e.type==="next-day"?g("Navigazione al giorno successivo completata","success"):(ye.type==="task"||ye.type==="event")&&_e.type==="previous-day"&&g("Navigazione al giorno precedente completata","success");Se()})})}catch{g("Si  verificato un errore durante l'operazione di trascinamento","error")}finally{Ze.current=!1}}},[K,D,N,O,g,_]);return L?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[E.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),E.jsx("span",{className:"text-gray-700 font-medium",children:"Caricamento Scheduler Produzione..."})]})}):n||s?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[E.jsx("div",{className:"text-red-600 mb-4",children:E.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),E.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Errore nel caricamento dei dati"}),E.jsx("p",{className:"text-gray-600 mb-4",children:n?.message||s?.message||"Errore sconosciuto"}),E.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Riprova"})]})}):u?E.jsxs(E.Fragment,{children:[E.jsx(Tne,{schedulingLoading:b}),E.jsxs(sne,{sensors:B,onDragStart:j,onDragOver:W,onDragEnd:Q,children:[E.jsxs("div",{className:`content-section ${m?"edit-mode":""}`,children:[E.jsxs("div",{className:"task-pool-section",children:[E.jsxs("div",{className:"task-pool-header",children:[E.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Pool Lavori"}),E.jsx(kn,{variant:m?"destructive":"default",size:"sm",onClick:v,title:m?"Disabilita modalit modifica":"Abilita modalit modifica",children:m?"Disabilita Modalit Modifica":"Abilita Modalit Modifica"})]}),E.jsx(C.Suspense,{fallback:E.jsx(FO,{}),children:E.jsx(Ene,{})})]}),E.jsxs("div",{className:"section-controls",children:[E.jsx("div",{className:"task-pool-header",children:E.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Filtri"})}),E.jsxs("div",{className:"filters-grid",children:[E.jsx("div",{className:"filters-actions-left",children:E.jsx(kn,{variant:"secondary",size:"sm",onClick:Be,title:"Clear all filters",children:"Cancella Filtri"})}),E.jsx(Uo,{label:"ODP",options:Ce.map(Y=>Y.odp_number).filter(Boolean),selectedOptions:re?[re]:[],onSelectionChange:Y=>{Y.length>0?(ve(Y[0]),Xe(Y[0],"odp_number","ODP")):ve("")},searchPlaceholder:"Cerca ODP...",id:"odp_filter",width:"150px"}),E.jsx(Uo,{label:"Codice Articolo",options:Ce.map(Y=>Y.article_code).filter(Boolean),selectedOptions:U?[U]:[],onSelectionChange:Y=>{Y.length>0?(J(Y[0]),Xe(Y[0],"article_code","codice articolo")):J("")},searchPlaceholder:"Cerca Articolo...",id:"article_filter",width:"150px"}),E.jsx(Uo,{label:"Nome Cliente",options:Ce.map(Y=>Y.nome_cliente).filter(Boolean),selectedOptions:ee?[ee]:[],onSelectionChange:Y=>{Y.length>0?(le(Y[0]),Xe(Y[0],"nome_cliente","cliente")):le("")},searchPlaceholder:"Cerca Cliente...",id:"customer_filter",width:"150px"}),E.jsx(Uo,{label:"Centro di Lavoro",options:je.workCenters,selectedOptions:ce.workCenter,onSelectionChange:Y=>me({type:"SET_FILTER",payload:{filterName:"workCenter",value:Y}}),searchPlaceholder:"Cerca Centri di Lavoro",id:"work_center_filter",width:"150px"}),E.jsx(Uo,{label:"Reparto",options:je.departments,selectedOptions:ce.department,onSelectionChange:Y=>me({type:"SET_FILTER",payload:{filterName:"department",value:Y}}),searchPlaceholder:"Cerca Reparti",id:"department_filter",width:"150px"}),E.jsx(Uo,{label:"Tipo Macchina",options:je.machineTypes,selectedOptions:ce.machineType,onSelectionChange:Y=>me({type:"SET_FILTER",payload:{filterName:"machineType",value:Y}}),searchPlaceholder:"Cerca Tipi di Macchina",id:"machine_type_filter",width:"150px"}),E.jsx(Uo,{label:"Nome Macchina",options:je.machineNames,selectedOptions:ce.machineName,onSelectionChange:Y=>me({type:"SET_FILTER",payload:{filterName:"machineName",value:Y}}),searchPlaceholder:"Cerca Nomi Macchine",id:"machine_name_filter",width:"150px"}),E.jsx("div",{className:"filters-actions-right",children:E.jsx(kn,{variant:"secondary",size:"sm",onClick:()=>Ane(".calendar-section .calendar-grid-container",xe()),title:"Download exact Gantt chart as HTML file",children:"Scarica HTML"})})]})]}),E.jsxs("div",{className:"calendar-section relative",children:[E.jsx(C.Suspense,{fallback:E.jsx(FO,{}),children:E.jsx(Cne,{machines:ze,currentDate:K,dropTargetId:q,dragPreview:T,onNavigateToNextDay:Y=>zt("next",Y),onNavigateToPreviousDay:Y=>zt("prev",Y)})}),(b.isScheduling||b.isRescheduling||b.isShunting||b.isNavigating)&&E.jsx("div",{className:"absolute inset-0 bg-white z-40"})]})]}),E.jsx(xne,{children:ue?E.jsx("div",{style:{background:"#1e293b",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"400",zIndex:9999,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(3deg) scale(1.05)",border:"1px solid #2d3a4b",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",pointerEvents:"none",minHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",whiteSpace:"nowrap"},children:ue.odp_number}):null})]})]}):E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:E.jsx("div",{className:"text-center py-1 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati dello scheduler."})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function jf(t){return t+.5|0}const Ka=(t,e,n)=>Math.max(Math.min(t,n),e);function Ad(t){return Ka(jf(t*2.55),0,255)}function Ja(t){return Ka(jf(t*255),0,255)}function Ys(t){return Ka(jf(t/2.55)/100,0,1)}function UO(t){return Ka(jf(t*100),0,100)}const _r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},V_=[..."0123456789ABCDEF"],Dne=t=>V_[t&15],One=t=>V_[(t&240)>>4]+V_[t&15],Ng=t=>(t&240)>>4===(t&15),kne=t=>Ng(t.r)&&Ng(t.g)&&Ng(t.b)&&Ng(t.a);function Mne(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&_r[t[1]]*17,g:255&_r[t[2]]*17,b:255&_r[t[3]]*17,a:e===5?_r[t[4]]*17:255}:(e===7||e===9)&&(n={r:_r[t[1]]<<4|_r[t[2]],g:_r[t[3]]<<4|_r[t[4]],b:_r[t[5]]<<4|_r[t[6]],a:e===9?_r[t[7]]<<4|_r[t[8]]:255})),n}const Nne=(t,e)=>t<255?e(t):"";function Ine(t){var e=kne(t)?Dne:One;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Nne(t.a,e):void 0}const Pne=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GL(t,e,n){const i=e*Math.min(n,1-n),r=(s,a=(s+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function jne(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Lne(t,e,n){const i=GL(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Fne(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function HS(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),a=Math.min(n,i,r),l=(s+a)/2;let u,d,h;return s!==a&&(h=s-a,d=l>.5?h/(2-s-a):h/(s+a),u=Fne(n,i,r,h,s),u=u*60+.5),[u|0,d||0,l]}function BS(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ja)}function VS(t,e,n){return BS(GL,t,e,n)}function Une(t,e,n){return BS(Lne,t,e,n)}function zne(t,e,n){return BS(jne,t,e,n)}function YL(t){return(t%360+360)%360}function Hne(t){const e=Pne.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ad(+e[5]):Ja(+e[5]));const r=YL(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=Une(r,s,a):e[1]==="hsv"?i=zne(r,s,a):i=VS(r,s,a),{r:i[0],g:i[1],b:i[2],a:n}}function Bne(t,e){var n=HS(t);n[0]=YL(n[0]+e),n=VS(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Vne(t){if(!t)return;const e=HS(t),n=e[0],i=UO(e[1]),r=UO(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Ys(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const zO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},HO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $ne(){const t={},e=Object.keys(HO),n=Object.keys(zO);let i,r,s,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],r=0;r<n.length;r++)s=n[r],l=l.replace(s,zO[s]);s=parseInt(HO[a],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Ig;function qne(t){Ig||(Ig=$ne(),Ig.transparent=[0,0,0,0]);const e=Ig[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Wne=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Gne(t){const e=Wne.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?Ad(a):Ka(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Ad(i):Ka(i,0,255)),r=255&(e[4]?Ad(r):Ka(r,0,255)),s=255&(e[6]?Ad(s):Ka(s,0,255)),{r:i,g:r,b:s,a:n}}}function Yne(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ys(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const m0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Cc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Kne(t,e,n){const i=Cc(Ys(t.r)),r=Cc(Ys(t.g)),s=Cc(Ys(t.b));return{r:Ja(m0(i+n*(Cc(Ys(e.r))-i))),g:Ja(m0(r+n*(Cc(Ys(e.g))-r))),b:Ja(m0(s+n*(Cc(Ys(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Pg(t,e,n){if(t){let i=HS(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=VS(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function KL(t,e){return t&&Object.assign(e||{},t)}function BO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ja(t[3]))):(e=KL(t,{r:0,g:0,b:0,a:1}),e.a=Ja(e.a)),e}function Qne(t){return t.charAt(0)==="r"?Gne(t):Hne(t)}class df{constructor(e){if(e instanceof df)return e;const n=typeof e;let i;n==="object"?i=BO(e):n==="string"&&(i=Mne(e)||qne(e)||Qne(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=KL(this._rgb);return e&&(e.a=Ys(e.a)),e}set rgb(e){this._rgb=BO(e)}rgbString(){return this._valid?Yne(this._rgb):void 0}hexString(){return this._valid?Ine(this._rgb):void 0}hslString(){return this._valid?Vne(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const a=n===s?.5:n,l=2*a-1,u=i.a-r.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Kne(this._rgb,e._rgb,n)),this}clone(){return new df(this.rgb)}alpha(e){return this._rgb.a=Ja(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=jf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Pg(this._rgb,2,e),this}darken(e){return Pg(this._rgb,2,-e),this}saturate(e){return Pg(this._rgb,1,e),this}desaturate(e){return Pg(this._rgb,1,-e),this}rotate(e){return Bne(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Bs(){}const Xne=(()=>{let t=0;return()=>t++})();function Yt(t){return t==null}function Yn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ct(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ar(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function is(t,e){return Ar(t)?t:e}function dt(t,e){return typeof t>"u"?e:t}const Zne=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,QL=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Zt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function It(t,e,n,i){let r,s,a;if(Yn(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(Ct(t))for(a=Object.keys(t),s=a.length,r=0;r<s;r++)e.call(n,t[a[r]],a[r])}function Qp(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Xp(t){if(Yn(t))return t.map(Xp);if(Ct(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Xp(t[n[r]]);return e}return t}function XL(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Jne(t,e,n,i){if(!XL(t))return;const r=e[t],s=n[t];Ct(r)&&Ct(s)?ff(r,s,i):e[t]=Xp(s)}function ff(t,e,n){const i=Yn(e)?e:[e],r=i.length;if(!Ct(t))return t;n=n||{};const s=n.merger||Jne;let a;for(let l=0;l<r;++l){if(a=i[l],!Ct(a))continue;const u=Object.keys(a);for(let d=0,h=u.length;d<h;++d)s(u[d],t,a,n)}return t}function qd(t,e){return ff(t,e,{merger:eie})}function eie(t,e,n){if(!XL(t))return;const i=e[t],r=n[t];Ct(i)&&Ct(r)?qd(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Xp(r))}const VO={"":t=>t,x:t=>t.x,y:t=>t.y};function tie(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function nie(t){const e=tie(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function hf(t,e){return(VO[e]||(VO[e]=nie(e)))(t)}function $S(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Zp=t=>typeof t<"u",oo=t=>typeof t=="function",$O=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function iie(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Pt=Math.PI,mn=2*Pt,rie=mn+Pt,Jp=Number.POSITIVE_INFINITY,sie=Pt/180,Bn=Pt/2,zo=Pt/4,qO=Pt*2/3,ZL=Math.log10,nu=Math.sign;function Wd(t,e,n){return Math.abs(t-e)<n}function WO(t){const e=Math.round(t);t=Wd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ZL(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function aie(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function oie(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function gf(t){return!oie(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function lie(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function cie(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Xs(t){return t*(Pt/180)}function uie(t){return t*(180/Pt)}function GO(t){if(!Ar(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function JL(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Pt&&(s+=mn),{angle:s,distance:r}}function $_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function die(t,e){return(t-e+rie)%mn-Pt}function Lr(t){return(t%mn+mn)%mn}function pf(t,e,n,i){const r=Lr(t),s=Lr(e),a=Lr(n),l=Lr(s-r),u=Lr(a-r),d=Lr(r-s),h=Lr(r-a);return r===s||r===a||i&&s===a||l>u&&d<h}function Si(t,e,n){return Math.max(e,Math.min(n,t))}function fie(t){return Si(t,-32768,32767)}function jc(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function qS(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const il=(t,e,n,i)=>qS(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),hie=(t,e,n)=>qS(t,n,i=>t[i][e]>=n);function gie(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const e2=["push","pop","shift","splice","unshift"];function pie(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),e2.forEach(n=>{const i="_onData"+$S(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),a}})})}function YO(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(e2.forEach(s=>{delete t[s]}),delete t._chartjs)}function mie(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const t2=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function n2(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,t2.call(window,()=>{i=!1,t.apply(e,n)}))}}function vie(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const WS=t=>t==="start"?"left":t==="end"?"right":"center",ui=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,yie=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function bie(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:a,vScale:l,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=a.axis,{min:g,max:m,minDefined:v,maxDefined:_}=a.getUserBounds();if(v){if(r=Math.min(il(u,h,g).lo,n?i:il(e,h,a.getPixelForValue(g)).lo),d){const b=u.slice(0,r+1).reverse().findIndex(S=>!Yt(S[l.axis]));r-=Math.max(0,b)}r=Si(r,0,i-1)}if(_){let b=Math.max(il(u,a.axis,m,!0).hi+1,n?0:il(e,h,a.getPixelForValue(m),!0).hi+1);if(d){const S=u.slice(b-1).findIndex(x=>!Yt(x[l.axis]));b+=Math.max(0,S)}s=Si(b,r,i)-r}else s=i-r}return{start:r,count:s}}function _ie(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const jg=t=>t===0||t===1,KO=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*mn/n)),QO=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*mn/n)+1,Gd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Bn)+1,easeOutSine:t=>Math.sin(t*Bn),easeInOutSine:t=>-.5*(Math.cos(Pt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>jg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>jg(t)?t:KO(t,.075,.3),easeOutElastic:t=>jg(t)?t:QO(t,.075,.3),easeInOutElastic(t){return jg(t)?t:t<.5?.5*KO(t*2,.1125,.45):.5+.5*QO(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Gd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Gd.easeInBounce(t*2)*.5:Gd.easeOutBounce(t*2-1)*.5+.5};function GS(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function XO(t){return GS(t)?t:new df(t)}function v0(t){return GS(t)?t:new df(t).saturate(.5).darken(.1).hexString()}const wie=["x","y","borderWidth","radius","tension"],Sie=["color","borderColor","backgroundColor"];function xie(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Sie},numbers:{type:"number",properties:wie}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Eie(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ZO=new Map;function Cie(t,e){e=e||{};const n=t+JSON.stringify(e);let i=ZO.get(n);return i||(i=new Intl.NumberFormat(t,e),ZO.set(n,i)),i}function YS(t,e,n){return Cie(e,n).format(t)}const Tie={values(t){return Yn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=Aie(t,n)}const a=ZL(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),YS(t,i,u)}};function Aie(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var i2={formatters:Tie};function Rie(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:i2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yl=Object.create(null),q_=Object.create(null);function Yd(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function y0(t,e,n){return typeof e=="string"?ff(Yd(t,e),n):ff(Yd(t,""),e)}class Die{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>v0(r.backgroundColor),this.hoverBorderColor=(i,r)=>v0(r.borderColor),this.hoverColor=(i,r)=>v0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return y0(this,e,n)}get(e){return Yd(this,e)}describe(e,n){return y0(q_,e,n)}override(e,n){return y0(yl,e,n)}route(e,n,i,r){const s=Yd(this,e),a=Yd(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=a[r];return Ct(u)?Object.assign({},d,u):dt(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var wn=new Die({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[xie,Eie,Rie]);function Oie(t){return!t||Yt(t.size)||Yt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function JO(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Ho(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function e1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function W_(t,e,n,i){r2(t,e,n,i,null)}function r2(t,e,n,i,r){let s,a,l,u,d,h,g,m;const v=e.pointStyle,_=e.rotation,b=e.radius;let S=(_||0)*sie;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(S),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),v){default:r?t.ellipse(n,i,r/2,b,0,0,mn):t.arc(n,i,b,0,mn),t.closePath();break;case"triangle":h=r?r/2:b,t.moveTo(n+Math.sin(S)*h,i-Math.cos(S)*b),S+=qO,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*b),S+=qO,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*b),t.closePath();break;case"rectRounded":d=b*.516,u=b-d,a=Math.cos(S+zo)*u,g=Math.cos(S+zo)*(r?r/2-d:u),l=Math.sin(S+zo)*u,m=Math.sin(S+zo)*(r?r/2-d:u),t.arc(n-g,i-l,d,S-Pt,S-Bn),t.arc(n+m,i-a,d,S-Bn,S),t.arc(n+g,i+l,d,S,S+Bn),t.arc(n-m,i+a,d,S+Bn,S+Pt),t.closePath();break;case"rect":if(!_){u=Math.SQRT1_2*b,h=r?r/2:u,t.rect(n-h,i-u,2*h,2*u);break}S+=zo;case"rectRot":g=Math.cos(S)*(r?r/2:b),a=Math.cos(S)*b,l=Math.sin(S)*b,m=Math.sin(S)*(r?r/2:b),t.moveTo(n-g,i-l),t.lineTo(n+m,i-a),t.lineTo(n+g,i+l),t.lineTo(n-m,i+a),t.closePath();break;case"crossRot":S+=zo;case"cross":g=Math.cos(S)*(r?r/2:b),a=Math.cos(S)*b,l=Math.sin(S)*b,m=Math.sin(S)*(r?r/2:b),t.moveTo(n-g,i-l),t.lineTo(n+g,i+l),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"star":g=Math.cos(S)*(r?r/2:b),a=Math.cos(S)*b,l=Math.sin(S)*b,m=Math.sin(S)*(r?r/2:b),t.moveTo(n-g,i-l),t.lineTo(n+g,i+l),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a),S+=zo,g=Math.cos(S)*(r?r/2:b),a=Math.cos(S)*b,l=Math.sin(S)*b,m=Math.sin(S)*(r?r/2:b),t.moveTo(n-g,i-l),t.lineTo(n+g,i+l),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"line":a=r?r/2:Math.cos(S)*b,l=Math.sin(S)*b,t.moveTo(n-a,i-l),t.lineTo(n+a,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(S)*(r?r/2:b),i+Math.sin(S)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function mf(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function KS(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function QS(t){t.restore()}function kie(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Mie(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Nie(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Yt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Iie(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,h=r.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,h),t.lineTo(l,h),t.stroke()}}function Pie(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function vf(t,e,n,i,r,s={}){const a=Yn(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=r.string,Nie(t,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&Pie(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Yt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,i,s.maxWidth)),t.fillText(d,n,i,s.maxWidth),Iie(t,n,i,d,s),i+=Number(r.lineHeight);t.restore()}function G_(t,e){const{x:n,y:i,w:r,h:s,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*Pt,Pt,!0),t.lineTo(n,i+s-a.bottomLeft),t.arc(n+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,Pt,Bn,!0),t.lineTo(n+r-a.bottomRight,i+s),t.arc(n+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Bn,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-Bn,!0),t.lineTo(n+a.topLeft,i)}const jie=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Lie=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Fie(t,e){const n=(""+t).match(jie);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Uie=t=>+t||0;function XS(t,e){const n={},i=Ct(e),r=i?Object.keys(e):e,s=Ct(t)?i?a=>dt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=Uie(s(a));return n}function zie(t){return XS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Kd(t){return XS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Rr(t){const e=zie(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function hi(t,e){t=t||{},e=e||wn.font;let n=dt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=dt(t.style,e.style);i&&!(""+i).match(Lie)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:dt(t.family,e.family),lineHeight:Fie(dt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:dt(t.weight,e.weight),string:""};return r.string=Oie(r),r}function Lg(t,e,n,i){let r,s,a;for(r=0,s=t.length;r<s;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function Hie(t,e,n){const{min:i,max:r}=t,s=QL(e,(r-i)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function Tl(t,e){return Object.assign(Object.create(t),e)}function ZS(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=l2("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>ZS([l,...t],e,s,i)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return a2(l,u,()=>Kie(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return n1(l).includes(u)},ownKeys(l){return n1(l)},set(l,u,d){const h=l._storage||(l._storage=r());return l[u]=h[u]=d,delete l._keys,!0}})}function iu(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:s2(t,i),setContext:s=>iu(t,s,n,i),override:s=>iu(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,l){return a2(s,a,()=>Vie(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,l){return t[a]=l,delete s[a],!0}})}function s2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:oo(n)?n:()=>n,isIndexable:oo(i)?i:()=>i}}const Bie=(t,e)=>t?t+$S(e):e,JS=(t,e)=>Ct(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function a2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function Vie(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=t;let l=i[e];return oo(l)&&a.isScriptable(e)&&(l=$ie(e,l,t,n)),Yn(l)&&l.length&&(l=qie(e,l,t,a.isIndexable)),JS(e,l)&&(l=iu(l,r,s&&s[e],a)),l}function $ie(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,a||i);return l.delete(t),JS(t,u)&&(u=ex(r._scopes,r,t,u)),u}function qie(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(Ct(e[0])){const u=e,d=r._scopes.filter(h=>h!==u);e=[];for(const h of u){const g=ex(d,r,t,h);e.push(iu(g,s,a&&a[t],l))}}return e}function o2(t,e,n){return oo(t)?t(e,n):t}const Wie=(t,e)=>t===!0?e:typeof t=="string"?hf(e,t):void 0;function Gie(t,e,n,i,r){for(const s of e){const a=Wie(n,s);if(a){t.add(a);const l=o2(a._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function ex(t,e,n,i){const r=e._rootScopes,s=o2(e._fallback,n,i),a=[...t,...r],l=new Set;l.add(i);let u=t1(l,a,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=t1(l,a,s,u,i),u===null)?!1:ZS(Array.from(l),[""],r,s,()=>Yie(e,n,i))}function t1(t,e,n,i,r){for(;n;)n=Gie(t,e,n,i,r);return n}function Yie(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Yn(r)&&Ct(n)?n:r||{}}function Kie(t,e,n,i){let r;for(const s of e)if(r=l2(Bie(s,t),n),typeof r<"u")return JS(t,r)?ex(n,i,t,r):r}function l2(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function n1(t){let e=t._keys;return e||(e=t._keys=Qie(t._scopes)),e}function Qie(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const Xie=Number.EPSILON||1e-14,ru=(t,e)=>e<t.length&&!t[e].skip&&t[e],c2=t=>t==="x"?"y":"x";function Zie(t,e,n,i){const r=t.skip?e:t,s=e,a=n.skip?e:n,l=$_(s,r),u=$_(a,s);let d=l/(l+u),h=u/(l+u);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const g=i*d,m=i*h;return{previous:{x:s.x-g*(a.x-r.x),y:s.y-g*(a.y-r.y)},next:{x:s.x+m*(a.x-r.x),y:s.y+m*(a.y-r.y)}}}function Jie(t,e,n){const i=t.length;let r,s,a,l,u,d=ru(t,0);for(let h=0;h<i-1;++h)if(u=d,d=ru(t,h+1),!(!u||!d)){if(Wd(e[h],0,Xie)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),n[h]=r*a*e[h],n[h+1]=s*a*e[h])}}function ere(t,e,n="x"){const i=c2(n),r=t.length;let s,a,l,u=ru(t,0);for(let d=0;d<r;++d){if(a=l,l=u,u=ru(t,d+1),!l)continue;const h=l[n],g=l[i];a&&(s=(h-a[n])/3,l[`cp1${n}`]=h-s,l[`cp1${i}`]=g-s*e[d]),u&&(s=(u[n]-h)/3,l[`cp2${n}`]=h+s,l[`cp2${i}`]=g+s*e[d])}}function tre(t,e="x"){const n=c2(e),i=t.length,r=Array(i).fill(0),s=Array(i);let a,l,u,d=ru(t,0);for(a=0;a<i;++a)if(l=u,u=d,d=ru(t,a+1),!!u){if(d){const h=d[e]-u[e];r[a]=h!==0?(d[n]-u[n])/h:0}s[a]=l?d?nu(r[a-1])!==nu(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}Jie(t,r,s),ere(t,s,e)}function Fg(t,e,n){return Math.max(Math.min(t,n),e)}function nre(t,e){let n,i,r,s,a,l=mf(t[0],e);for(n=0,i=t.length;n<i;++n)a=s,s=l,l=n<i-1&&mf(t[n+1],e),s&&(r=t[n],a&&(r.cp1x=Fg(r.cp1x,e.left,e.right),r.cp1y=Fg(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=Fg(r.cp2x,e.left,e.right),r.cp2y=Fg(r.cp2y,e.top,e.bottom)))}function ire(t,e,n,i,r){let s,a,l,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")tre(t,r);else{let d=i?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)l=t[s],u=Zie(d,l,t[Math.min(s+1,a-(i?0:1))%a],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}e.capBezierPoints&&nre(t,n)}function tx(){return typeof window<"u"&&typeof document<"u"}function nx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function em(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Wm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function rre(t,e){return Wm(t).getPropertyValue(e)}const sre=["top","right","bottom","left"];function ol(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=sre[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const are=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function ore(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let a=!1,l,u;if(are(r,s,t.target))l=r,u=s;else{const d=e.getBoundingClientRect();l=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function Yo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Wm(n),s=r.boxSizing==="border-box",a=ol(r,"padding"),l=ol(r,"border","width"),{x:u,y:d,box:h}=ore(t,n),g=a.left+(h&&l.left),m=a.top+(h&&l.top);let{width:v,height:_}=e;return s&&(v-=a.width+l.width,_-=a.height+l.height),{x:Math.round((u-g)/v*n.width/i),y:Math.round((d-m)/_*n.height/i)}}function lre(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&nx(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),l=Wm(s),u=ol(l,"border","width"),d=ol(l,"padding");e=a.width-d.width-u.width,n=a.height-d.height-u.height,i=em(l.maxWidth,s,"clientWidth"),r=em(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Jp,maxHeight:r||Jp}}const Qa=t=>Math.round(t*10)/10;function cre(t,e,n,i){const r=Wm(t),s=ol(r,"margin"),a=em(r.maxWidth,t,"clientWidth")||Jp,l=em(r.maxHeight,t,"clientHeight")||Jp,u=lre(t,e,n);let{width:d,height:h}=u;if(r.boxSizing==="content-box"){const m=ol(r,"border","width"),v=ol(r,"padding");d-=v.width+m.width,h-=v.height+m.height}return d=Math.max(0,d-s.width),h=Math.max(0,i?d/i:h-s.height),d=Qa(Math.min(d,a,u.maxWidth)),h=Qa(Math.min(h,l,u.maxHeight)),d&&!h&&(h=Qa(d/2)),(e!==void 0||n!==void 0)&&i&&u.height&&h>u.height&&(h=u.height,d=Qa(Math.floor(h*i))),{width:d,height:h}}function i1(t,e,n){const i=e||1,r=Qa(t.height*i),s=Qa(t.width*i);t.height=Qa(t.height),t.width=Qa(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(t.currentDevicePixelRatio=i,a.height=r,a.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const ure=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};tx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function r1(t,e){const n=rre(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ko(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function dre(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function fre(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Ko(t,r,n),l=Ko(r,s,n),u=Ko(s,e,n),d=Ko(a,l,n),h=Ko(l,u,n);return Ko(d,h,n)}const hre=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},gre=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Gc(t,e,n){return t?hre(e,n):gre()}function u2(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function d2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function f2(t){return t==="angle"?{between:pf,compare:die,normalize:Lr}:{between:jc,compare:(e,n)=>e-n,normalize:e=>e}}function s1({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function pre(t,e,n){const{property:i,start:r,end:s}=n,{between:a,normalize:l}=f2(i),u=e.length;let{start:d,end:h,loop:g}=t,m,v;if(g){for(d+=u,h+=u,m=0,v=u;m<v&&a(l(e[d%u][i]),r,s);++m)d--,h--;d%=u,h%=u}return h<d&&(h+=u),{start:d,end:h,loop:g,style:t.style}}function mre(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,a=e.length,{compare:l,between:u,normalize:d}=f2(i),{start:h,end:g,loop:m,style:v}=pre(t,e,n),_=[];let b=!1,S=null,x,T,A;const O=()=>u(r,A,x)&&l(r,A)!==0,D=()=>l(s,x)===0||u(s,A,x),N=()=>b||O(),M=()=>!b||D();for(let k=h,P=h;k<=g;++k)T=e[k%a],!T.skip&&(x=d(T[i]),x!==A&&(b=u(x,r,s),S===null&&N()&&(S=l(x,r)===0?k:P),S!==null&&M()&&(_.push(s1({start:S,end:k,loop:m,count:a,style:v})),S=null),P=k,A=x));return S!==null&&_.push(s1({start:S,end:g,loop:m,count:a,style:v})),_}function vre(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=mre(i[r],t.points,e);s.length&&n.push(...s)}return n}function yre(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function bre(t,e,n,i){const r=t.length,s=[];let a=e,l=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%r];d.skip||d.stop?l.skip||(i=!1,s.push({start:e%r,end:(u-1)%r,loop:i}),e=a=d.stop?u:null):(a=u,l.skip&&(e=u)),l=d}return a!==null&&s.push({start:e%r,end:a%r,loop:i}),s}function _re(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:a,end:l}=yre(n,r,s,i);if(i===!0)return a1(t,[{start:a,end:l,loop:s}],n,e);const u=l<a?l+r:l,d=!!t._fullLoop&&a===0&&l===r-1;return a1(t,bre(n,a,u,d),n,e)}function a1(t,e,n,i){return!i||!i.setContext||!n?e:wre(t,e,n,i)}function wre(t,e,n,i){const r=t._chart.getContext(),s=o1(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,u=n.length,d=[];let h=s,g=e[0].start,m=g;function v(_,b,S,x){const T=l?-1:1;if(_!==b){for(_+=u;n[_%u].skip;)_-=T;for(;n[b%u].skip;)b+=T;_%u!==b%u&&(d.push({start:_%u,end:b%u,loop:S,style:x}),h=x,g=b%u)}}for(const _ of e){g=l?g:_.start;let b=n[g%u],S;for(m=g+1;m<=_.end;m++){const x=n[m%u];S=o1(i.setContext(Tl(r,{type:"segment",p0:b,p1:x,p0DataIndex:(m-1)%u,p1DataIndex:m%u,datasetIndex:a}))),Sre(S,h)&&v(g,m-1,_.loop,h),b=x,h=S}g<m-1&&v(g,m-1,_.loop,h)}return d}function o1(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Sre(t,e){if(!e)return!1;const n=[],i=function(r,s){return GS(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Ug(t,e,n){return t.options.clip?t[n]:e[n]}function xre(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Ug(n,e,"left"),right:Ug(n,e,"right"),top:Ug(i,e,"top"),bottom:Ug(i,e,"bottom")}:e}function Ere(t,e){const n=e._clip;if(n.disabled)return!1;const i=xre(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Cre{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],a=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=t2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,l=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Vs=new Cre;const l1="transparent",Tre={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=XO(t||l1),r=i.valid&&XO(e||l1);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Are{constructor(e,n,i,r){const s=n[i];r=Lg([e.to,r,s,e.from]);const a=Lg([e.from,s,r]);this._active=!0,this._fn=e.fn||Tre[e.type||typeof a],this._easing=Gd[e.easing]||Gd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Lg([e.to,n,r,e.from]),this._from=Lg([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let u;if(this._active=s!==l&&(a||n<i),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class h2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ct(e))return;const n=Object.keys(wn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Ct(s))return;const a={};for(const l of n)a[l]=s[l];(Yn(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,n){const i=n.options,r=Dre(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&Rre(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[d];let g=s[d];const m=i.get(d);if(g)if(m&&g.active()){g.update(m,h,l);continue}else g.cancel();if(!m||!m.duration){e[d]=h;continue}s[d]=g=new Are(m,e,d,h),r.push(g)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Vs.add(this._chart,i),!0}}function Rre(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Dre(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function c1(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function Ore(t,e,n){if(n===!1)return!1;const i=c1(t,n),r=c1(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function kre(t){let e,n,i,r;return Ct(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function g2(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function u1(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let a,l,u,d;if(e===null)return;let h=!1;for(a=0,l=r.length;a<l;++a){if(u=+r[a],u===n){if(h=!0,i.all)continue;break}d=t.values[u],Ar(d)&&(s||e===0||nu(e)===nu(d))&&(e+=d)}return!h&&!i.all?0:e}function Mre(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let u,d,h;for(u=0,d=a.length;u<d;++u)h=a[u],l[u]={[r]:h,[s]:t[h]};return l}function b0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Nre(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Ire(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Pre(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function d1(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function f1(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:l}=i,u=s.axis,d=a.axis,h=Nre(s,a,i),g=e.length;let m;for(let v=0;v<g;++v){const _=e[v],{[u]:b,[d]:S}=_,x=_._stacks||(_._stacks={});m=x[d]=Pre(r,h,b),m[l]=S,m._top=d1(m,a,!0,i.type),m._bottom=d1(m,a,!1,i.type);const T=m._visualValues||(m._visualValues={});T[l]=S}}function _0(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function jre(t,e){return Tl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Lre(t,e,n){return Tl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function _d(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const w0=t=>t==="reset"||t==="none",h1=(t,e)=>e?t:Object.assign({},t),Fre=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:g2(n,!0),values:null};class ix{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=b0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_d(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(g,m,v,_)=>g==="x"?m:g==="r"?_:v,s=n.xAxisID=dt(i.xAxisID,_0(e,"x")),a=n.yAxisID=dt(i.yAxisID,_0(e,"y")),l=n.rAxisID=dt(i.rAxisID,_0(e,"r")),u=n.indexAxis,d=n.iAxisID=r(u,s,a,l),h=n.vAxisID=r(u,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&YO(this._data,this),e._stacked&&_d(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ct(n)){const r=this._cachedMeta;this._data=Mre(n,r)}else if(i!==n){if(i){YO(i,this);const r=this._cachedMeta;_d(r),r._parsed=[]}n&&Object.isExtensible(n)&&pie(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=b0(n.vScale,n),n.stack!==i.stack&&(r=!0,_d(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(f1(this,n._parsed),n._stacked=b0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,l=s.axis;let u=e===0&&n===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],h,g,m;if(this._parsing===!1)i._parsed=r,i._sorted=!0,m=r;else{Yn(r[e])?m=this.parseArrayData(i,r,e,n):Ct(r[e])?m=this.parseObjectData(i,r,e,n):m=this.parsePrimitiveData(i,r,e,n);const v=()=>g[l]===null||d&&g[l]<d[l];for(h=0;h<n;++h)i._parsed[h+e]=g=m[h],u&&(v()&&(u=!1),d=g);i._sorted=u}a&&f1(this,m)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),h=s===a,g=new Array(r);let m,v,_;for(m=0,v=r;m<v;++m)_=m+i,g[m]={[l]:h||s.parse(d[_],_),[u]:a.parse(n[_],_)};return g}parseArrayData(e,n,i,r){const{xScale:s,yScale:a}=e,l=new Array(r);let u,d,h,g;for(u=0,d=r;u<d;++u)h=u+i,g=n[h],l[u]={x:s.parse(g[0],h),y:a.parse(g[1],h)};return l}parseObjectData(e,n,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(r);let h,g,m,v;for(h=0,g=r;h<g;++h)m=h+i,v=n[m],d[h]={x:s.parse(hf(v,l),m),y:a.parse(hf(v,u),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,a=n[e.axis],l={keys:g2(r,!0),values:n._stacks[e.axis]._visualValues};return u1(l,a,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let a=s===null?NaN:s;const l=r&&i._stacks[n.axis];r&&l&&(r.values=l,a=u1(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,l=this._getOtherScale(e),u=Fre(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:g}=Ire(l);let m,v;function _(){v=r[m];const b=v[l.axis];return!Ar(v[e.axis])||h>b||g<b}for(m=0;m<a&&!(!_()&&(this.updateRangeFromParsed(d,e,v,u),s));++m);if(s){for(m=a-1;m>=0;--m)if(!_()){this.updateRangeFromParsed(d,e,v,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=n.length;r<s;++r)a=n[r][e.axis],Ar(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=kre(dt(this.options.clip,Ore(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,l,u),h=l;h<l+u;++h){const g=r[h];g.hidden||(g.active&&d?a.push(g):g.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=Lre(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=jre(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,a=e+"-"+n,l=s[a],u=this.enableOptionSharing&&Zp(i);if(l)return h1(l,u);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),h),v=Object.keys(wn.elements[e]),_=()=>this.getContext(i,r,n),b=d.resolveNamedOptions(m,v,_,g);return b.$shared&&(b.$shared=u,s[a]=Object.freeze(h1(b,u))),b}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let u;if(r.options.animation!==!1){const h=this.chart.config,g=h.datasetAnimationScopeKeys(this._type,n),m=h.getOptionScopes(this.getDataset(),g);u=h.createResolver(m,this.getContext(e,i,n))}const d=new h2(r,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||w0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:a}}updateElement(e,n,i,r){w0(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!w0(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const r=i.length,s=n.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,a=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&_d(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ure(t,e,n){let i=1,r=1,s=0,a=0;if(e<mn){const l=t,u=l+e,d=Math.cos(l),h=Math.sin(l),g=Math.cos(u),m=Math.sin(u),v=(A,O,D)=>pf(A,l,u,!0)?1:Math.max(O,O*n,D,D*n),_=(A,O,D)=>pf(A,l,u,!0)?-1:Math.min(O,O*n,D,D*n),b=v(0,d,g),S=v(Bn,h,m),x=_(Pt,d,g),T=_(Pt+Bn,h,m);i=(b-x)/2,r=(S-T)/2,s=-(b+x)/2,a=-(S+T)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}class zre extends ix{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const g=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:g.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:r,pointStyle:i,borderRadius:a&&(l||g.borderRadius),index:d}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(Ct(i[e])){const{key:u="value"}=this._parsing;s=d=>+hf(i[d],u)}let a,l;for(a=e,l=e+n;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Xs(this.options.rotation-90)}_getCircumference(){return Xs(this.options.circumference)}_getRotationExtents(){let e=mn,n=-mn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(Zne(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:g}=this._getRotationExtents(),{ratioX:m,ratioY:v,offsetX:_,offsetY:b}=Ure(g,h,u),S=(i.width-a)/m,x=(i.height-a)/v,T=Math.max(Math.min(S,x)/2,0),A=QL(this.options.radius,T),O=Math.max(A*u,0),D=(A-O)/this._getVisibleDatasetWeightTotal();this.offsetX=_*A,this.offsetY=b*A,r.total=this.calculateTotal(),this.outerRadius=A-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/mn)}updateElements(e,n,i,r){const s=r==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,h=(l.left+l.right)/2,g=(l.top+l.bottom)/2,m=s&&d.animateScale,v=m?0:this.innerRadius,_=m?0:this.outerRadius,{sharedOptions:b,includeOptions:S}=this._getSharedOptions(n,r);let x=this._getRotation(),T;for(T=0;T<n;++T)x+=this._circumference(T,s);for(T=n;T<n+i;++T){const A=this._circumference(T,s),O=e[T],D={x:h+this.offsetX,y:g+this.offsetY,startAngle:x,endAngle:x+A,circumference:A,outerRadius:_,innerRadius:v};S&&(D.options=b||this.resolveDataElementOptions(T,O.active?"active":r)),x+=A,this.updateElement(O,T,D,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?mn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=YS(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,a,l,u;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)u=l.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Hre extends ix{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:l,count:u}=bie(n,r,a);this._drawStart=l,this._drawCount=u,_ie(n)&&(l=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},e),this.updateElements(r,l,u,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:g}=this._getSharedOptions(n,r),m=a.axis,v=l.axis,{spanGaps:_,segment:b}=this.options,S=gf(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",T=n+i,A=e.length;let O=n>0&&this.getParsed(n-1);for(let D=0;D<A;++D){const N=e[D],M=x?N:{};if(D<n||D>=T){M.skip=!0;continue}const k=this.getParsed(D),P=Yt(k[v]),z=M[m]=a.getPixelForValue(k[m],D),B=M[v]=s||P?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,k,u):k[v],D);M.skip=isNaN(z)||isNaN(B)||P,M.stop=D>0&&Math.abs(k[m]-O[m])>S,b&&(M.parsed=k,M.raw=d.data[D]),g&&(M.options=h||this.resolveDataElementOptions(D,N.active?"active":r)),x||this.updateElement(N,D,M,r),O=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Bre extends zre{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Bo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rx{static override(e){Object.assign(rx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Bo()}parse(){return Bo()}format(){return Bo()}add(){return Bo()}diff(){return Bo()}startOf(){return Bo()}endOf(){return Bo()}}var Vre={_date:rx};function $re(t,e,n,i){const{controller:r,data:s,_sorted:a}=t,l=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const d=l._reversePixels?hie:il;if(i){if(r._sharedOptions){const h=s[0],g=typeof h.getRange=="function"&&h.getRange(e);if(g){const m=d(s,e,n-g),v=d(s,e,n+g);return{lo:m.lo,hi:v.hi}}}}else{const h=d(s,e,n);if(u){const{vScale:g}=r._cachedMeta,{_parsed:m}=t,v=m.slice(0,h.lo+1).reverse().findIndex(b=>!Yt(b[g.axis]));h.lo-=Math.max(0,v);const _=m.slice(h.hi).findIndex(b=>!Yt(b[g.axis]));h.hi+=Math.max(0,_)}return h}}return{lo:0,hi:s.length-1}}function Gm(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,u=s.length;l<u;++l){const{index:d,data:h}=s[l],{lo:g,hi:m}=$re(s[l],e,a,r);for(let v=g;v<=m;++v){const _=h[v];_.skip||i(_,d,v)}}}function qre(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function S0(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Gm(t,n,e,function(l,u,d){!r&&!mf(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function Wre(t,e,n,i){let r=[];function s(a,l,u){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],i),{angle:g}=JL(a,{x:e.x,y:e.y});pf(g,d,h)&&r.push({element:a,datasetIndex:l,index:u})}return Gm(t,n,e,s),r}function Gre(t,e,n,i,r,s){let a=[];const l=qre(n);let u=Number.POSITIVE_INFINITY;function d(h,g,m){const v=h.inRange(e.x,e.y,r);if(i&&!v)return;const _=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(_))&&!v)return;const S=l(e,_);S<u?(a=[{element:h,datasetIndex:g,index:m}],u=S):S===u&&a.push({element:h,datasetIndex:g,index:m})}return Gm(t,n,e,d),a}function x0(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?Wre(t,e,n,r):Gre(t,e,n,i,r,s)}function g1(t,e,n,i,r){const s=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return Gm(t,n,e,(u,d,h)=>{u[a]&&u[a](e[n],r)&&(s.push({element:u,datasetIndex:d,index:h}),l=l||u.inRange(e.x,e.y,r))}),i&&!l?[]:s}var Yre={modes:{index(t,e,n,i){const r=Yo(e,t),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?S0(t,r,s,i,a):x0(t,r,s,!1,i,a),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,g=d.data[h];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:h})}),u):[]},dataset(t,e,n,i){const r=Yo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?S0(t,r,s,i,a):x0(t,r,s,!1,i,a);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:u,index:h})}return l},point(t,e,n,i){const r=Yo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return S0(t,r,s,i,a)},nearest(t,e,n,i){const r=Yo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return x0(t,r,s,n.intersect,i,a)},x(t,e,n,i){const r=Yo(e,t);return g1(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Yo(e,t);return g1(t,r,"y",n.intersect,i)}}};const p2=["left","top","right","bottom"];function wd(t,e){return t.filter(n=>n.pos===e)}function p1(t,e){return t.filter(n=>p2.indexOf(n.pos)===-1&&n.box.axis===e)}function Sd(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Kre(t){const e=[];let n,i,r,s,a,l;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:a,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return e}function Qre(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!p2.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function Xre(t,e){const n=Qre(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,l;for(s=0,a=t.length;s<a;++s){l=t[s];const{fullSize:u}=l.box,d=n[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*i:u&&e.availableWidth,l.height=r):(l.width=i,l.height=h?h*r:u&&e.availableHeight)}return n}function Zre(t){const e=Kre(t),n=Sd(e.filter(d=>d.box.fullSize),!0),i=Sd(wd(e,"left"),!0),r=Sd(wd(e,"right")),s=Sd(wd(e,"top"),!0),a=Sd(wd(e,"bottom")),l=p1(e,"x"),u=p1(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(a).concat(l),chartArea:wd(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(a).concat(l)}}function m1(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function m2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Jre(t,e,n,i){const{pos:r,box:s}=n,a=t.maxPadding;if(!Ct(r)){n.size&&(t[r]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?s.height:s.width),n.size=g.size/g.count,t[r]+=n.size}s.getPadding&&m2(a,s.getPadding());const l=Math.max(0,e.outerWidth-m1(a,t,"left","right")),u=Math.max(0,e.outerHeight-m1(a,t,"top","bottom")),d=l!==t.w,h=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:h}:{same:h,other:d}}function ese(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function tse(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return i(t?["left","right"]:["top","bottom"])}function Rd(t,e,n,i){const r=[];let s,a,l,u,d,h;for(s=0,a=t.length,d=0;s<a;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,tse(l.horizontal,e));const{same:g,other:m}=Jre(e,n,l,i);d|=g&&r.length,h=h||m,u.fullSize||r.push(l)}return d&&Rd(r,e,n,i)||h}function zg(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function v1(t,e,n,i){const r=n.padding;let{x:s,y:a}=e;for(const l of t){const u=l.box,d=i[l.stack]||{placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const g=e.w*h,m=d.size||u.height;Zp(d.start)&&(a=d.start),u.fullSize?zg(u,r.left,a,n.outerWidth-r.right-r.left,m):zg(u,e.left+d.placed,a,g,m),d.start=a,d.placed+=g,a=u.bottom}else{const g=e.h*h,m=d.size||u.width;Zp(d.start)&&(s=d.start),u.fullSize?zg(u,s,r.top,m,n.outerHeight-r.bottom-r.top):zg(u,s,e.top+d.placed,m,g),d.start=s,d.placed+=g,s=u.right}}e.x=s,e.y=a}var Cr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Rr(t.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(n-r.height,0),l=Zre(t.boxes),u=l.vertical,d=l.horizontal;It(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const h=u.reduce((b,S)=>S.box.options&&S.box.options.display===!1?b:b+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/h,hBoxMaxHeight:a/2}),m=Object.assign({},r);m2(m,Rr(i));const v=Object.assign({maxPadding:m,w:s,h:a,x:r.left,y:r.top},r),_=Xre(u.concat(d),g);Rd(l.fullSize,v,g,_),Rd(u,v,g,_),Rd(d,v,g,_)&&Rd(u,v,g,_),ese(v),v1(l.leftAndTop,v,g,_),v.x+=v.w,v.y+=v.h,v1(l.rightAndBottom,v,g,_),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},It(l.chartArea,b=>{const S=b.box;Object.assign(S,t.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class v2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class nse extends v2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lp="$chartjs",ise={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},y1=t=>t===null||t==="";function rse(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[lp]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",y1(r)){const s=r1(t,"width");s!==void 0&&(t.width=s)}if(y1(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=r1(t,"height");s!==void 0&&(t.height=s)}return t}const y2=ure?{passive:!0}:!1;function sse(t,e,n){t&&t.addEventListener(e,n,y2)}function ase(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,y2)}function ose(t,e){const n=ise[t.type]||t.type,{x:i,y:r}=Yo(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function tm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function lse(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||tm(l.addedNodes,i),a=a&&!tm(l.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function cse(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||tm(l.removedNodes,i),a=a&&!tm(l.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const yf=new Map;let b1=0;function b2(){const t=window.devicePixelRatio;t!==b1&&(b1=t,yf.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function use(t,e){yf.size||window.addEventListener("resize",b2),yf.set(t,e)}function dse(t){yf.delete(t),yf.size||window.removeEventListener("resize",b2)}function fse(t,e,n){const i=t.canvas,r=i&&nx(i);if(!r)return;const s=n2((l,u)=>{const d=r.clientWidth;n(l,u),d<r.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,h=u.contentRect.height;d===0&&h===0||s(d,h)});return a.observe(r),use(t,s),a}function E0(t,e,n){n&&n.disconnect(),e==="resize"&&dse(t)}function hse(t,e,n){const i=t.canvas,r=n2(s=>{t.ctx!==null&&n(ose(s,t))},t);return sse(i,e,r),r}class gse extends v2{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(rse(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[lp])return!1;const i=n[lp].initial;["height","width"].forEach(s=>{const a=i[s];Yt(a)?n.removeAttribute(s):n.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[lp],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:lse,detach:cse,resize:fse}[n]||hse;r[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:E0,detach:E0,resize:E0}[n]||ase)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return cre(e,n,i,r)}isAttached(e){const n=e&&nx(e);return!!(n&&n.isConnected)}}function pse(t){return!tx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?nse:gse}let yo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return gf(this.x)&&gf(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function mse(t,e){const n=t.options.ticks,i=vse(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?bse(e):[],a=s.length,l=s[0],u=s[a-1],d=[];if(a>r)return _se(e,d,s,a/r),d;const h=yse(s,e,r);if(a>0){let g,m;const v=a>1?Math.round((u-l)/(a-1)):null;for(Hg(e,d,h,Yt(v)?0:l-v,l),g=0,m=a-1;g<m;g++)Hg(e,d,h,s[g],s[g+1]);return Hg(e,d,h,u,Yt(v)?e.length:u+v),d}return Hg(e,d,h),d}function vse(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function yse(t,e,n){const i=wse(t),r=e.length/n;if(!i)return Math.max(r,1);const s=aie(i);for(let a=0,l=s.length-1;a<l;a++){const u=s[a];if(u>r)return u}return Math.max(r,1)}function bse(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function _se(t,e,n,i){let r=0,s=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===s&&(e.push(t[a]),r++,s=n[r*i])}function Hg(t,e,n,i,r){const s=dt(i,0),a=Math.min(dt(r,t.length),t.length);let l=0,u,d,h;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),h=s;h<0;)l++,h=Math.round(s+l*n);for(d=Math.max(s,0);d<a;d++)d===h&&(e.push(t[d]),l++,h=Math.round(s+l*n))}function wse(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Sse=t=>t==="left"?"right":t==="right"?"left":t,_1=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,w1=(t,e)=>Math.min(e||t,t);function S1(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function xse(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,a=t._endPixel,l=1e-6;let u=t.getPixelForTick(r),d;if(!(n&&(i===1?d=Math.max(u-s,a-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(r-1))/2,u+=r<e?d:-d,u<s-l||u>a+l)))return u}function Ese(t,e){It(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function xd(t){return t.drawTicks?t.tickLength:0}function x1(t,e){if(!t.display)return 0;const n=hi(t.font,e),i=Rr(t.padding);return(Yn(t.text)?t.text.length:1)*n.lineHeight+i.height}function Cse(t,e){return Tl(t,{scale:e,type:"scale"})}function Tse(t,e,n){return Tl(t,{tick:n,index:e,type:"tick"})}function Ase(t,e,n){let i=WS(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Sse(i)),i}function Rse(t,e,n,i){const{top:r,left:s,bottom:a,right:l,chart:u}=t,{chartArea:d,scales:h}=u;let g=0,m,v,_;const b=a-r,S=l-s;if(t.isHorizontal()){if(v=ui(i,s,l),Ct(n)){const x=Object.keys(n)[0],T=n[x];_=h[x].getPixelForValue(T)+b-e}else n==="center"?_=(d.bottom+d.top)/2+b-e:_=_1(t,n,e);m=l-s}else{if(Ct(n)){const x=Object.keys(n)[0],T=n[x];v=h[x].getPixelForValue(T)-S+e}else n==="center"?v=(d.left+d.right)/2-S+e:v=_1(t,n,e);_=ui(i,a,r),g=n==="left"?-Bn:Bn}return{titleX:v,titleY:_,maxWidth:m,rotation:g}}class wu extends yo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=is(e,Number.POSITIVE_INFINITY),n=is(n,Number.NEGATIVE_INFINITY),i=is(i,Number.POSITIVE_INFINITY),r=is(r,Number.NEGATIVE_INFINITY),{min:is(e,i),max:is(n,r),minDefined:Ar(e),maxDefined:Ar(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),s||(i=Math.max(i,a.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:is(n,is(i,n)),max:is(i,is(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Zt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Hie(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?S1(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=mse(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Zt(this.options.afterUpdate,[this])}beforeSetDimensions(){Zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Zt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Zt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Zt(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=w1(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let a=r,l,u,d;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),g=h.widest.width,m=h.highest.height,v=Si(this.chart.width-g,0,this.maxWidth);l=e.offset?this.maxWidth/i:v/(i-1),g+6>l&&(l=v/(i-(e.offset?.5:1)),u=this.maxHeight-xd(e.grid)-n.padding-x1(e.title,this.chart.options.font),d=Math.sqrt(g*g+m*m),a=uie(Math.min(Math.asin(Si((h.highest.height+6)/l,-1,1)),Math.asin(Si(u/d,-1,1))-Math.asin(Si(m/d,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Zt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=x1(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=xd(s)+u):(e.height=this.maxHeight,e.width=xd(s)+u),i.display&&this.ticks.length){const{first:d,last:h,widest:g,highest:m}=this._getLabelSizes(),v=i.padding*2,_=Xs(this.labelRotation),b=Math.cos(_),S=Math.sin(_);if(l){const x=i.mirror?0:S*g.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+x+v)}else{const x=i.mirror?0:b*g.width+S*m.height;e.width=Math.min(this.maxWidth,e.width+x+v)}this._calculatePadding(d,h,S,b)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,v=0;u?d?(m=r*e.width,v=i*n.height):(m=i*e.height,v=r*n.width):s==="start"?v=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,v=n.width/2),this.paddingLeft=Math.max((m-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let h=n.height/2,g=e.height/2;s==="start"?(h=0,g=e.height):s==="end"&&(h=n.height,g=0),this.paddingTop=h+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Zt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Yt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=S1(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,a=[],l=[],u=Math.floor(n/w1(n,i));let d=0,h=0,g,m,v,_,b,S,x,T,A,O,D;for(g=0;g<n;g+=u){if(_=e[g].label,b=this._resolveTickFontOptions(g),r.font=S=b.string,x=s[S]=s[S]||{data:{},gc:[]},T=b.lineHeight,A=O=0,!Yt(_)&&!Yn(_))A=JO(r,x.data,x.gc,A,_),O=T;else if(Yn(_))for(m=0,v=_.length;m<v;++m)D=_[m],!Yt(D)&&!Yn(D)&&(A=JO(r,x.data,x.gc,A,D),O+=T);a.push(A),l.push(O),d=Math.max(A,d),h=Math.max(O,h)}Ese(s,n);const N=a.indexOf(d),M=l.indexOf(h),k=P=>({width:a[P]||0,height:l[P]||0});return{first:k(0),last:k(n-1),widest:k(N),highest:k(M),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return fie(this._alignToPixels?Ho(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Tse(this.getContext(),e,i))}return this.$context||(this.$context=Cse(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Xs(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*i>l*r?l/i:u/r:u*r<l*i?u/i:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:l}=r,u=s.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),m=xd(s),v=[],_=l.setContext(this.getContext()),b=_.display?_.width:0,S=b/2,x=function(L){return Ho(i,L,b)};let T,A,O,D,N,M,k,P,z,B,K,ne;if(a==="top")T=x(this.bottom),M=this.bottom-m,P=T-S,B=x(e.top)+S,ne=e.bottom;else if(a==="bottom")T=x(this.top),B=e.top,ne=x(e.bottom)-S,M=T+S,P=this.top+m;else if(a==="left")T=x(this.right),N=this.right-m,k=T-S,z=x(e.left)+S,K=e.right;else if(a==="right")T=x(this.left),z=e.left,K=x(e.right)-S,N=T+S,k=this.left+m;else if(n==="x"){if(a==="center")T=x((e.top+e.bottom)/2+.5);else if(Ct(a)){const L=Object.keys(a)[0],q=a[L];T=x(this.chart.scales[L].getPixelForValue(q))}B=e.top,ne=e.bottom,M=T+S,P=M+m}else if(n==="y"){if(a==="center")T=x((e.left+e.right)/2);else if(Ct(a)){const L=Object.keys(a)[0],q=a[L];T=x(this.chart.scales[L].getPixelForValue(q))}N=T-S,k=N-m,z=e.left,K=e.right}const ue=dt(r.ticks.maxTicksLimit,g),ge=Math.max(1,Math.ceil(g/ue));for(A=0;A<g;A+=ge){const L=this.getContext(A),q=s.setContext(L),$=l.setContext(L),re=q.lineWidth,ve=q.color,U=$.dash||[],J=$.dashOffset,ee=q.tickWidth,le=q.tickColor,be=q.tickBorderDash||[],we=q.tickBorderDashOffset;O=xse(this,A,u),O!==void 0&&(D=Ho(i,O,re),d?N=k=z=K=D:M=P=B=ne=D,v.push({tx1:N,ty1:M,tx2:k,ty2:P,x1:z,y1:B,x2:K,y2:ne,width:re,color:ve,borderDash:U,borderDashOffset:J,tickWidth:ee,tickColor:le,tickBorderDash:be,tickBorderDashOffset:we}))}return this._ticksLength=g,this._borderValue=T,v}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:h,mirror:g}=s,m=xd(i.grid),v=m+h,_=g?-h:v,b=-Xs(this.labelRotation),S=[];let x,T,A,O,D,N,M,k,P,z,B,K,ne="middle";if(r==="top")N=this.bottom-_,M=this._getXAxisLabelAlignment();else if(r==="bottom")N=this.top+_,M=this._getXAxisLabelAlignment();else if(r==="left"){const ge=this._getYAxisLabelAlignment(m);M=ge.textAlign,D=ge.x}else if(r==="right"){const ge=this._getYAxisLabelAlignment(m);M=ge.textAlign,D=ge.x}else if(n==="x"){if(r==="center")N=(e.top+e.bottom)/2+v;else if(Ct(r)){const ge=Object.keys(r)[0],L=r[ge];N=this.chart.scales[ge].getPixelForValue(L)+v}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")D=(e.left+e.right)/2-v;else if(Ct(r)){const ge=Object.keys(r)[0],L=r[ge];D=this.chart.scales[ge].getPixelForValue(L)}M=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(u==="start"?ne="top":u==="end"&&(ne="bottom"));const ue=this._getLabelSizes();for(x=0,T=l.length;x<T;++x){A=l[x],O=A.label;const ge=s.setContext(this.getContext(x));k=this.getPixelForTick(x)+s.labelOffset,P=this._resolveTickFontOptions(x),z=P.lineHeight,B=Yn(O)?O.length:1;const L=B/2,q=ge.color,$=ge.textStrokeColor,re=ge.textStrokeWidth;let ve=M;a?(D=k,M==="inner"&&(x===T-1?ve=this.options.reverse?"left":"right":x===0?ve=this.options.reverse?"right":"left":ve="center"),r==="top"?d==="near"||b!==0?K=-B*z+z/2:d==="center"?K=-ue.highest.height/2-L*z+z:K=-ue.highest.height+z/2:d==="near"||b!==0?K=z/2:d==="center"?K=ue.highest.height/2-L*z:K=ue.highest.height-B*z,g&&(K*=-1),b!==0&&!ge.showLabelBackdrop&&(D+=z/2*Math.sin(b))):(N=k,K=(1-B)*z/2);let U;if(ge.showLabelBackdrop){const J=Rr(ge.backdropPadding),ee=ue.heights[x],le=ue.widths[x];let be=K-J.top,we=0-J.left;switch(ne){case"middle":be-=ee/2;break;case"bottom":be-=ee;break}switch(M){case"center":we-=le/2;break;case"right":we-=le;break;case"inner":x===T-1?we-=le:x>0&&(we-=le/2);break}U={left:we,top:be,width:le+J.width,height:ee+J.height,color:ge.backdropColor}}S.push({label:O,font:P,textOffset:K,options:{rotation:b,color:q,strokeColor:$,strokeWidth:re,textAlign:ve,textBaseline:ne,translation:[D,N],backdrop:U}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Xs(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,u=a.widest.width;let d,h;return n==="left"?r?(h=this.right+s,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h+=u)):(h=this.right-l,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h-=u)):(h=this.left+l,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(u,d,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(s=0,a=r.length;s<a;++s){const u=r[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,h,g,m;this.isHorizontal()?(d=Ho(e,this.left,a)-a/2,h=Ho(e,this.right,l)+l/2,g=m=u):(g=Ho(e,this.top,a)-a/2,m=Ho(e,this.bottom,l)+l/2,d=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,g),n.lineTo(h,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&KS(i,r);const s=this.getLabelItems(e);for(const a of s){const l=a.options,u=a.font,d=a.label,h=a.textOffset;vf(i,d,0,h,u,l)}r&&QS(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=hi(i.font),a=Rr(i.padding),l=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Ct(n)?(u+=a.bottom,Yn(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:h,maxWidth:g,rotation:m}=Rse(this,u,n,l);vf(e,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:m,textAlign:Ase(l,n,r),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=dt(e.grid&&e.grid.z,-1),r=dt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==wu.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];l[i]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return hi(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Bg{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;kse(n)&&(i=this.register(n));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,Dse(e,a,i),this.override&&wn.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in wn[r]&&(delete wn[r][i],this.override&&delete yl[i])}}function Dse(t,e,n){const i=ff(Object.create(null),[n?wn.get(n):{},wn.get(e),t.defaults]);wn.set(e,i),t.defaultRoutes&&Ose(e,t.defaultRoutes),t.descriptors&&wn.describe(e,t.descriptors)}function Ose(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),a=e[n].split("."),l=a.pop(),u=a.join(".");wn.route(s,r,u,l)})}function kse(t){return"id"in t&&"defaults"in t}class Mse{constructor(){this.controllers=new Bg(ix,"datasets",!0),this.elements=new Bg(yo,"elements"),this.plugins=new Bg(Object,"plugins"),this.scales=new Bg(wu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):It(r,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,i){const r=$S(e);Zt(i["before"+r],[],i),n[e](i),Zt(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var as=new Mse;class Nse{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,i,r){r=r||{};for(const s of e){const a=s.plugin,l=a[i],u=[n,r,s.options];if(Zt(l,u,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=dt(i.options&&i.options.plugins,{}),s=Ise(i);return r===!1&&!n?[]:jse(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function Ise(t){const e={},n=[],i=Object.keys(as.plugins.items);for(let s=0;s<i.length;s++)n.push(as.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Pse(t,e){return!e&&t===!1?null:t===!0?{}:t}function jse(t,{plugins:e,localIds:n},i,r){const s=[],a=t.getContext();for(const l of e){const u=l.id,d=Pse(i[u],r);d!==null&&s.push({plugin:l,options:Lse(t.config,{plugin:l,local:n[u]},d,a)})}return s}function Lse(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(i,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Y_(t,e){const n=wn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Fse(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Use(t,e){return t===e?"_index_":"_value_"}function E1(t){if(t==="x"||t==="y"||t==="r")return t}function zse(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function K_(t,...e){if(E1(t))return t;for(const n of e){const i=n.axis||zse(n.position)||t.length>1&&E1(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function C1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Hse(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return C1(t,"x",n[0])||C1(t,"y",n[0])}return{}}function Bse(t,e){const n=yl[t.type]||{scales:{}},i=e.scales||{},r=Y_(t.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Ct(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=K_(a,l,Hse(a,t),wn.scales[l.type]),d=Use(u,r),h=n.scales||{};s[a]=qd(Object.create(null),[{axis:u},l,h[u],h[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||Y_(l,e),h=(yl[l]||{}).scales||{};Object.keys(h).forEach(g=>{const m=Fse(g,u),v=a[m+"AxisID"]||m;s[v]=s[v]||Object.create(null),qd(s[v],[{axis:m},i[v],h[g]])})}),Object.keys(s).forEach(a=>{const l=s[a];qd(l,[wn.scales[l.type],wn.scale])}),s}function _2(t){const e=t.options||(t.options={});e.plugins=dt(e.plugins,{}),e.scales=Bse(t,e)}function w2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Vse(t){return t=t||{},t.data=w2(t.data),_2(t),t}const T1=new Map,S2=new Set;function Vg(t,e){let n=T1.get(t);return n||(n=e(),T1.set(t,n),S2.add(n)),n}const Ed=(t,e,n)=>{const i=hf(e,n);i!==void 0&&t.add(i)};class $se{constructor(e){this._config=Vse(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=w2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Vg(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Vg(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Vg(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),l=a.get(n);if(l)return l;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(g=>Ed(u,e,g))),h.forEach(g=>Ed(u,r,g)),h.forEach(g=>Ed(u,yl[s]||{},g)),h.forEach(g=>Ed(u,wn,g)),h.forEach(g=>Ed(u,q_,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),S2.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,yl[n]||{},wn.datasets[n]||{},{type:n},wn,q_]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=A1(this._resolverCache,e,r);let u=a;if(Wse(a,n)){s.$shared=!1,i=oo(i)?i():i;const d=this.createResolver(e,i,l);u=iu(a,i,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,i=[""],r){const{resolver:s}=A1(this._resolverCache,e,i);return Ct(n)?iu(s,n,void 0,r):s}}function A1(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:ZS(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const qse=t=>Ct(t)&&Object.getOwnPropertyNames(t).some(e=>oo(t[e]));function Wse(t,e){const{isScriptable:n,isIndexable:i}=s2(t);for(const r of e){const s=n(r),a=i(r),l=(a||s)&&t[r];if(s&&(oo(l)||qse(l))||a&&Yn(l))return!0}return!1}var Gse="4.5.1";const Yse=["top","bottom","left","right","chartArea"];function R1(t,e){return t==="top"||t==="bottom"||Yse.indexOf(t)===-1&&e==="x"}function D1(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function O1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Zt(n&&n.onComplete,[t],e)}function Kse(t){const e=t.chart,n=e.options.animation;Zt(n&&n.onProgress,[t],e)}function x2(t){return tx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const cp={},k1=t=>{const e=x2(t);return Object.values(cp).filter(n=>n.canvas===e).pop()};function Qse(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const a=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=a)}}}function Xse(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Ym=class{static defaults=wn;static instances=cp;static overrides=yl;static registry=as;static version=Gse;static getChart=k1;static register(...e){as.add(...e),M1()}static unregister(...e){as.remove(...e),M1()}constructor(e,n){const i=this.config=new $se(n),r=x2(e),s=k1(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||pse(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,h=u&&u.width;if(this.id=Xne(),this.ctx=l,this.canvas=u,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nse,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vie(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],cp[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Vs.listen(this,"complete",O1),Vs.listen(this,"progress",Kse),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Yt(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return as}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():i1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return e1(this.canvas,this.ctx),this}stop(){return Vs.stop(this),this}resize(e,n){Vs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,i1(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Zt(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};It(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const l=n[a],u=K_(a,l),d=u==="r",h=u==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),It(s,a=>{const l=a.options,u=l.id,d=K_(u,l),h=dt(l.type,a.dtype);(l.position===void 0||R1(l.position,d)!==R1(a.dposition))&&(l.position=a.dposition),r[u]=!0;let g=null;if(u in i&&i[u].type===h)g=i[u];else{const m=as.getScale(h);g=new m({id:u,type:h,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(l,e)}),It(r,(a,l)=>{a||delete i[l]}),It(i,a=>{Cr.configure(this,a,a.options),Cr.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(D1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||Y_(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=as.getController(l),{datasetElementType:d,dataElementType:h}=wn.datasets[l];Object.assign(u,{dataElementType:as.getElement(h),datasetElementType:d&&as.getElement(d)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){It(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:g}=this.getDatasetMeta(d),m=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(m),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||It(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(D1("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){It(this.scales,e=>{Cr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!$O(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const a=i==="_removeElements"?-s:s;Qse(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!$O(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cr.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],It(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,oo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vs.has(this)?this.attached&&!Vs.running(this)&&Vs.start(this):(this.draw(),O1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const a=n[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=Ere(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&KS(n,r),e.controller.draw(),r&&QS(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return mf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=Yre.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Tl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);Zp(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Vs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),e1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete cp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};It(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},r=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){It(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},It(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,a,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Qp(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(u,d)=>u.filter(h=>!d.some(g=>h.datasetIndex===g.datasetIndex&&h.index===g.index)),a=s(n,e),l=i?e:s(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,a=n,l=this._getActiveElements(e,r,i,a),u=iie(e),d=Xse(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Zt(s.onHover,[e,l,this],this),u&&Zt(s.onClick,[e,l,this],this));const h=!Qp(l,r);return(h||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=d,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}};function M1(){return It(Ym.instances,t=>t._plugins.invalidate())}function Zse(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:a,innerRadius:l,options:u}=e,{borderWidth:d,borderJoinStyle:h}=u,g=Math.min(d/a,Lr(i-n));if(t.beginPath(),t.arc(r,s,a-d/2,i+g/2,n-g/2),l>0){const m=Math.min(d/l,Lr(i-n));t.arc(r,s,l+d/2,n-m/2,i+m/2,!0)}else{const m=Math.min(d/2,a*Lr(i-n));if(h==="round")t.arc(r,s,m,n-Pt/2,i+Pt/2,!0);else if(h==="bevel"){const v=2*m*m,_=-v*Math.cos(n+Pt/2)+r,b=-v*Math.sin(n+Pt/2)+s,S=v*Math.cos(i+Pt/2)+r,x=v*Math.sin(i+Pt/2)+s;t.lineTo(_,b),t.lineTo(S,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Jse(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:u}=e;let d=r/l;t.beginPath(),t.arc(s,a,l,i-d,n+d),u>r?(d=r/u,t.arc(s,a,u,n+d,i-d,!0)):t.arc(s,a,r,n+Bn,i-Bn),t.closePath(),t.clip()}function eae(t){return XS(t,["outerStart","outerEnd","innerStart","innerEnd"])}function tae(t,e,n,i){const r=eae(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,i*e/2),l=u=>{const d=(n-Math.min(s,u))*i/2;return Si(u,0,Math.min(s,d))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:Si(r.innerStart,0,a),innerEnd:Si(r.innerEnd,0,a)}}function Tc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function nm(t,e,n,i,r,s){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:h}=e,g=Math.max(e.outerRadius+i+n-d,0),m=h>0?h+i+n+d:0;let v=0;const _=r-u;if(i){const ge=h>0?h-i:0,L=g>0?g-i:0,q=(ge+L)/2,$=q!==0?_*q/(q+i):_;v=(_-$)/2}const b=Math.max(.001,_*g-n/Pt)/g,S=(_-b)/2,x=u+S+v,T=r-S-v,{outerStart:A,outerEnd:O,innerStart:D,innerEnd:N}=tae(e,m,g,T-x),M=g-A,k=g-O,P=x+A/M,z=T-O/k,B=m+D,K=m+N,ne=x+D/B,ue=T-N/K;if(t.beginPath(),s){const ge=(P+z)/2;if(t.arc(a,l,g,P,ge),t.arc(a,l,g,ge,z),O>0){const re=Tc(k,z,a,l);t.arc(re.x,re.y,O,z,T+Bn)}const L=Tc(K,T,a,l);if(t.lineTo(L.x,L.y),N>0){const re=Tc(K,ue,a,l);t.arc(re.x,re.y,N,T+Bn,ue+Math.PI)}const q=(T-N/m+(x+D/m))/2;if(t.arc(a,l,m,T-N/m,q,!0),t.arc(a,l,m,q,x+D/m,!0),D>0){const re=Tc(B,ne,a,l);t.arc(re.x,re.y,D,ne+Math.PI,x-Bn)}const $=Tc(M,x,a,l);if(t.lineTo($.x,$.y),A>0){const re=Tc(M,P,a,l);t.arc(re.x,re.y,A,x-Bn,P)}}else{t.moveTo(a,l);const ge=Math.cos(P)*g+a,L=Math.sin(P)*g+l;t.lineTo(ge,L);const q=Math.cos(z)*g+a,$=Math.sin(z)*g+l;t.lineTo(q,$)}t.closePath()}function nae(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:l}=e;let u=e.endAngle;if(s){nm(t,e,n,i,u,r);for(let d=0;d<s;++d)t.fill();isNaN(l)||(u=a+(l%mn||mn))}return nm(t,e,n,i,u,r),t.fill(),u}function iae(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:h,borderDash:g,borderDashOffset:m,borderRadius:v}=u,_=u.borderAlign==="inner";if(!d)return;t.setLineDash(g||[]),t.lineDashOffset=m,_?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let b=e.endAngle;if(s){nm(t,e,n,i,b,r);for(let S=0;S<s;++S)t.stroke();isNaN(l)||(b=a+(l%mn||mn))}_&&Jse(t,e,b),u.selfJoin&&b-a>=Pt&&v===0&&h!=="miter"&&Zse(t,e,b),s||(nm(t,e,n,i,b,r),t.stroke())}class rae extends yo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=JL(r,{x:e,y:n}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:h,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,v=dt(g,u-l),_=pf(s,l,u)&&l!==u,b=v>=mn||_,S=jc(a,d+m,h+m);return b&&S}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,h=(r+s)/2,g=(a+l+d+u)/2;return{x:n+Math.cos(h)*g,y:i+Math.sin(h)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>mn?Math.floor(i/mn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*r,Math.sin(l)*r);const u=1-Math.sin(Math.min(Pt,i||0)),d=r*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,nae(e,this,d,s,a),iae(e,this,d,s,a),e.restore()}}function E2(t,e,n=e){t.lineCap=dt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(dt(n.borderDash,e.borderDash)),t.lineDashOffset=dt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=dt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=dt(n.borderWidth,e.borderWidth),t.strokeStyle=dt(n.borderColor,e.borderColor)}function sae(t,e,n){t.lineTo(n.x,n.y)}function aae(t){return t.stepped?kie:t.tension||t.cubicInterpolationMode==="monotone"?Mie:sae}function C2(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:a,end:l}=e,u=Math.max(r,a),d=Math.min(s,l),h=r<a&&s<a||r>l&&s>l;return{count:i,start:u,loop:e.loop,ilen:d<u&&!h?i+d-u:d-u}}function oae(t,e,n,i){const{points:r,options:s}=e,{count:a,start:l,loop:u,ilen:d}=C2(r,n,i),h=aae(s);let{move:g=!0,reverse:m}=i||{},v,_,b;for(v=0;v<=d;++v)_=r[(l+(m?d-v:v))%a],!_.skip&&(g?(t.moveTo(_.x,_.y),g=!1):h(t,b,_,m,s.stepped),b=_);return u&&(_=r[(l+(m?d:0))%a],h(t,b,_,m,s.stepped)),!!u}function lae(t,e,n,i){const r=e.points,{count:s,start:a,ilen:l}=C2(r,n,i),{move:u=!0,reverse:d}=i||{};let h=0,g=0,m,v,_,b,S,x;const T=O=>(a+(d?l-O:O))%s,A=()=>{b!==S&&(t.lineTo(h,S),t.lineTo(h,b),t.lineTo(h,x))};for(u&&(v=r[T(0)],t.moveTo(v.x,v.y)),m=0;m<=l;++m){if(v=r[T(m)],v.skip)continue;const O=v.x,D=v.y,N=O|0;N===_?(D<b?b=D:D>S&&(S=D),h=(g*h+O)/++g):(A(),t.lineTo(O,D),_=N,g=0,b=S=D),x=D}A()}function Q_(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?lae:oae}function cae(t){return t.stepped?dre:t.tension||t.cubicInterpolationMode==="monotone"?fre:Ko}function uae(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),E2(t,e.options),t.stroke(r)}function dae(t,e,n,i){const{segments:r,options:s}=e,a=Q_(e);for(const l of r)E2(t,s,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const fae=typeof Path2D=="function";function hae(t,e,n,i){fae&&!e.options.segment?uae(t,e,n,i):dae(t,e,n,i)}class gae extends yo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;ire(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_re(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,a=vre(this,{property:n,start:r,end:r});if(!a.length)return;const l=[],u=cae(i);let d,h;for(d=0,h=a.length;d<h;++d){const{start:g,end:m}=a[d],v=s[g],_=s[m];if(v===_){l.push(v);continue}const b=Math.abs((r-v[n])/(_[n]-v[n])),S=u(v,_,b,i.stepped);S[n]=e[n],l.push(S)}return l.length===1?l[0]:l}pathSegment(e,n,i){return Q_(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Q_(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const l of r)a&=s(e,this,l,{start:n,end:n+i-1});return!!a}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),hae(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function N1(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class pae extends yo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return N1(this,e,"x",n)}inYRange(e,n){return N1(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!mf(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,W_(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const I1=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},mae=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class P1 extends yo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Zt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=hi(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=I1(i,s);let d,h;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,s,l,u)+10):(h=this.maxHeight,d=this._fitCols(a,r,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],h=r+l;let g=e;s.textAlign="left",s.textBaseline="middle";let m=-1,v=-h;return this.legendItems.forEach((_,b)=>{const S=i+n/2+s.measureText(_.text).width;(b===0||d[d.length-1]+S+2*l>a)&&(g+=h,d[d.length-(b>0?0:1)]=0,v+=h,m++),u[b]={left:0,top:v,row:m,width:S,height:r},d[d.length-1]+=S+l}),g}_fitCols(e,n,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-e;let g=l,m=0,v=0,_=0,b=0;return this.legendItems.forEach((S,x)=>{const{itemWidth:T,itemHeight:A}=vae(i,n,s,S,r);x>0&&v+A+2*l>h&&(g+=m+l,d.push({width:m,height:v}),_+=m+l,b++,m=v=0),u[x]={left:_,top:v,col:b,width:T,height:A},m=Math.max(m,T),v+=A+l}),g+=m,d.push({width:m,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Gc(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=ui(i,this.left+r,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=ui(i,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+e+r,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+r}else{let l=0,u=ui(i,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=ui(i,this.top+e+r,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+r,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;KS(e,this),this._draw(),QS(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,l=wn.color,u=Gc(e.rtl,this.left,this.width),d=hi(a.font),{padding:h}=a,g=d.size,m=g/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:_,boxHeight:b,itemHeight:S}=I1(a,g),x=function(N,M,k){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;r.save();const P=dt(k.lineWidth,1);if(r.fillStyle=dt(k.fillStyle,l),r.lineCap=dt(k.lineCap,"butt"),r.lineDashOffset=dt(k.lineDashOffset,0),r.lineJoin=dt(k.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=dt(k.strokeStyle,l),r.setLineDash(dt(k.lineDash,[])),a.usePointStyle){const z={radius:b*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:P},B=u.xPlus(N,_/2),K=M+m;r2(r,z,B,K,a.pointStyleWidth&&_)}else{const z=M+Math.max((g-b)/2,0),B=u.leftForLtr(N,_),K=Kd(k.borderRadius);r.beginPath(),Object.values(K).some(ne=>ne!==0)?G_(r,{x:B,y:z,w:_,h:b,radius:K}):r.rect(B,z,_,b),r.fill(),P!==0&&r.stroke()}r.restore()},T=function(N,M,k){vf(r,k.text,N,M+S/2,d,{strikethrough:k.hidden,textAlign:u.textAlign(k.textAlign)})},A=this.isHorizontal(),O=this._computeTitleHeight();A?v={x:ui(s,this.left+h,this.right-i[0]),y:this.top+h+O,line:0}:v={x:this.left+h,y:ui(s,this.top+O+h,this.bottom-n[0].height),line:0},u2(this.ctx,e.textDirection);const D=S+h;this.legendItems.forEach((N,M)=>{r.strokeStyle=N.fontColor,r.fillStyle=N.fontColor;const k=r.measureText(N.text).width,P=u.textAlign(N.textAlign||(N.textAlign=a.textAlign)),z=_+m+k;let B=v.x,K=v.y;u.setWidth(this.width),A?M>0&&B+z+h>this.right&&(K=v.y+=D,v.line++,B=v.x=ui(s,this.left+h,this.right-i[v.line])):M>0&&K+D>this.bottom&&(B=v.x=B+n[v.line].width+h,v.line++,K=v.y=ui(s,this.top+O+h,this.bottom-n[v.line].height));const ne=u.x(B);if(x(ne,K,N),B=yie(P,B+_+m,A?B+z:this.right,e.rtl),T(u.x(B),K,N),A)v.x+=z+h;else if(typeof N.text!="string"){const ue=d.lineHeight;v.y+=T2(N,ue)+h}else v.y+=D}),d2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=hi(n.font),r=Rr(n.padding);if(!n.display)return;const s=Gc(e.rtl,this.left,this.width),a=this.ctx,l=n.position,u=i.size/2,d=r.top+u;let h,g=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),h=this.top+d,g=ui(e.align,g,this.right-m);else{const _=this.columnSizes.reduce((b,S)=>Math.max(b,S.height),0);h=d+ui(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const v=ui(l,g,g+m);a.textAlign=s.textAlign(WS(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,vf(a,n.text,v,h,i)}_computeTitleHeight(){const e=this.options.title,n=hi(e.font),i=Rr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(jc(e,this.left,this.right)&&jc(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],jc(e,r.left,r.left+r.width)&&jc(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!_ae(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=mae(r,i);r&&!s&&Zt(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Zt(n.onHover,[e,i,this],this)}else i&&Zt(n.onClick,[e,i,this],this)}}function vae(t,e,n,i,r){const s=yae(i,t,e,n),a=bae(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function yae(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+i.measureText(r).width}function bae(t,e,n){let i=t;return typeof e.text!="string"&&(i=T2(e,n)),i}function T2(t,e){const n=t.text?t.text.length:0;return e*n}function _ae(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var wae={id:"legend",_element:P1,start(t,e,n){const i=t.legend=new P1({ctx:t.ctx,options:n,chart:t});Cr.configure(t,i,n),Cr.addBox(t,i)},stop(t){Cr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Cr.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),h=Rr(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class A2 extends yo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Yn(i.text)?i.text.length:1;this._padding=Rr(i.padding);const s=r*hi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:a}=this,l=a.align;let u=0,d,h,g;return this.isHorizontal()?(h=ui(l,i,s),g=n+e,d=s-i):(a.position==="left"?(h=i+e,g=ui(l,r,n),u=Pt*-.5):(h=s-e,g=ui(l,n,r),u=Pt*.5),d=r-n),{titleX:h,titleY:g,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=hi(n.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(s);vf(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:WS(n.align),textBaseline:"middle",translation:[a,l]})}}function Sae(t,e){const n=new A2({ctx:t.ctx,options:e,chart:t});Cr.configure(t,n,e),Cr.addBox(t,n),t.titleBlock=n}var xae={id:"title",_element:A2,start(t,e,n){Sae(t,n)},stop(t){const e=t.titleBlock;Cr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Cr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dd={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=t.length;s<a;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),h=$_(e,d);h<r&&(r=h,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function rs(t,e){return e&&(Yn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $s(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Eae(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:t,label:a,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function j1(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:a,boxHeight:l}=e,u=hi(e.bodyFont),d=hi(e.titleFont),h=hi(e.footerFont),g=s.length,m=r.length,v=i.length,_=Rr(e.padding);let b=_.height,S=0,x=i.reduce((O,D)=>O+D.before.length+D.lines.length+D.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,g&&(b+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),x){const O=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;b+=v*O+(x-v)*u.lineHeight+(x-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*h.lineHeight+(m-1)*e.footerSpacing);let T=0;const A=function(O){S=Math.max(S,n.measureText(O).width+T)};return n.save(),n.font=d.string,It(t.title,A),n.font=u.string,It(t.beforeBody.concat(t.afterBody),A),T=e.displayColors?a+2+e.boxPadding:0,It(i,O=>{It(O.before,A),It(O.lines,A),It(O.after,A)}),T=0,n.font=h.string,It(t.footer,A),n.restore(),S+=_.width,{width:S,height:b}}function Cae(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function Tae(t,e,n,i){const{x:r,width:s}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&r+s+a>e.width||t==="right"&&r-s-a<0)return!0}function Aae(t,e,n,i){const{x:r,width:s}=n,{width:a,chartArea:{left:l,right:u}}=t;let d="center";return i==="center"?d=r<=(l+u)/2?"left":"right":r<=s/2?d="left":r>=a-s/2&&(d="right"),Tae(d,t,e,n)&&(d="center"),d}function L1(t,e,n){const i=n.yAlign||e.yAlign||Cae(t,n);return{xAlign:n.xAlign||e.xAlign||Aae(t,e,n,i),yAlign:i}}function Rae(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function Dae(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function F1(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=t,{xAlign:l,yAlign:u}=n,d=r+s,{topLeft:h,topRight:g,bottomLeft:m,bottomRight:v}=Kd(a);let _=Rae(e,l);const b=Dae(e,u,d);return u==="center"?l==="left"?_+=d:l==="right"&&(_-=d):l==="left"?_-=Math.max(h,m)+r:l==="right"&&(_+=Math.max(g,v)+r),{x:Si(_,0,i.width-e.width),y:Si(b,0,i.height-e.height)}}function $g(t,e,n){const i=Rr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function U1(t){return rs([],$s(t))}function Oae(t,e,n){return Tl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function z1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const R2={beforeTitle:Bs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Bs,beforeBody:Bs,beforeLabel:Bs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Yt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bs,afterBody:Bs,beforeFooter:Bs,footer:Bs,afterFooter:Bs};function Mi(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?R2[e].call(n,i):r}class H1 extends yo{static positioners=Dd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new h2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Oae(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Mi(i,"beforeTitle",this,e),s=Mi(i,"title",this,e),a=Mi(i,"afterTitle",this,e);let l=[];return l=rs(l,$s(r)),l=rs(l,$s(s)),l=rs(l,$s(a)),l}getBeforeBody(e,n){return U1(Mi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return It(e,s=>{const a={before:[],lines:[],after:[]},l=z1(i,s);rs(a.before,$s(Mi(l,"beforeLabel",this,s))),rs(a.lines,Mi(l,"label",this,s)),rs(a.after,$s(Mi(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,n){return U1(Mi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Mi(i,"beforeFooter",this,e),s=Mi(i,"footer",this,e),a=Mi(i,"afterFooter",this,e);let l=[];return l=rs(l,$s(r)),l=rs(l,$s(s)),l=rs(l,$s(a)),l}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],a=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(Eae(this.chart,n[u]));return e.filter&&(l=l.filter((h,g,m)=>e.filter(h,g,m,i))),e.itemSort&&(l=l.sort((h,g)=>e.itemSort(h,g,i))),It(l,h=>{const g=z1(e.callbacks,h);r.push(Mi(g,"labelColor",this,h)),s.push(Mi(g,"labelPointStyle",this,h)),a.push(Mi(g,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=Dd[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=j1(this,i),d=Object.assign({},l,u),h=L1(this.chart,i,d),g=F1(i,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:g}=Kd(l),{x:m,y:v}=e,{width:_,height:b}=n;let S,x,T,A,O,D;return s==="center"?(O=v+b/2,r==="left"?(S=m,x=S-a,A=O+a,D=O-a):(S=m+_,x=S+a,A=O-a,D=O+a),T=S):(r==="left"?x=m+Math.max(u,h)+a:r==="right"?x=m+_-Math.max(d,g)-a:x=this.caretX,s==="top"?(A=v,O=A-a,S=x-a,T=x+a):(A=v+b,O=A+a,S=x+a,T=x-a),D=A),{x1:S,x2:x,x3:T,y1:A,y2:O,y3:D}}drawTitle(e,n,i){const r=this.title,s=r.length;let a,l,u;if(s){const d=Gc(i.rtl,this.x,this.width);for(e.x=$g(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=hi(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(r[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,r,s){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=s,h=hi(s.bodyFont),g=$g(this,"left",s),m=r.x(g),v=u<h.lineHeight?(h.lineHeight-u)/2:0,_=n.y+v;if(s.usePointStyle){const b={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},S=r.leftForLtr(m,d)+d/2,x=_+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,W_(e,b,S,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,W_(e,b,S,x)}else{e.lineWidth=Ct(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=r.leftForLtr(m,d),S=r.leftForLtr(r.xPlus(m,1),d-2),x=Kd(a.borderRadius);Object.values(x).some(T=>T!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,G_(e,{x:b,y:_,w:d,h:u,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),G_(e,{x:S,y:_+1,w:d-2,h:u-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,_,d,u),e.strokeRect(b,_,d,u),e.fillStyle=a.backgroundColor,e.fillRect(S,_+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:h}=i,g=hi(i.bodyFont);let m=g.lineHeight,v=0;const _=Gc(i.rtl,this.x,this.width),b=function(k){n.fillText(k,_.x(e.x+v),e.y+m/2),e.y+=m+s},S=_.textAlign(a);let x,T,A,O,D,N,M;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=$g(this,S,i),n.fillStyle=i.bodyColor,It(this.beforeBody,b),v=l&&S!=="right"?a==="center"?d/2+h:d+2+h:0,O=0,N=r.length;O<N;++O){for(x=r[O],T=this.labelTextColors[O],n.fillStyle=T,It(x.before,b),A=x.lines,l&&A.length&&(this._drawColorBox(n,e,O,_,i),m=Math.max(g.lineHeight,u)),D=0,M=A.length;D<M;++D)b(A[D]),m=g.lineHeight;It(x.after,b)}v=0,m=g.lineHeight,It(this.afterBody,b),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let a,l;if(s){const u=Gc(i.rtl,this.x,this.width);for(e.x=$g(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=hi(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:h}=i,{topLeft:g,topRight:m,bottomLeft:v,bottomRight:_}=Kd(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+g,u),a==="top"&&this.drawCaret(e,n,i,r),n.lineTo(l+d-m,u),n.quadraticCurveTo(l+d,u,l+d,u+m),a==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(l+d,u+h-_),n.quadraticCurveTo(l+d,u+h,l+d-_,u+h),a==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(l+v,u+h),n.quadraticCurveTo(l,u+h,l,u+h-v),a==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(l,u+g),n.quadraticCurveTo(l,u,l+g,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=Dd[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=j1(this,e),u=Object.assign({},a,this._size),d=L1(n,e,u),h=F1(e,u,d,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Rr(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),u2(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),d2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!Qp(i,r),a=this._positionChanged(r,n);(s||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,i),l=this._positionChanged(a,e),u=n||!Qp(a,s)||l;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,a=Dd[s.position].call(this,e,n);return a!==!1&&(i!==a.x||r!==a.y)}}var kae={id:"tooltip",_element:H1,positioners:Dd,afterInit(t,e,n){n&&(t.tooltip=new H1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:R2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Mae=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Nae(t,e,n,i){const r=t.indexOf(e);if(r===-1)return Mae(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const Iae=(t,e)=>t===null?null:Si(Math.round(t),0,e);function B1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Pae extends wu{static id="category";static defaults={ticks:{callback:B1}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Yt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Nae(i,e,dt(n,e),this._addedLabels),Iae(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return B1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function jae(t,e){const n=[],{bounds:r,step:s,min:a,max:l,precision:u,count:d,maxTicks:h,maxDigits:g,includeBounds:m}=t,v=s||1,_=h-1,{min:b,max:S}=e,x=!Yt(a),T=!Yt(l),A=!Yt(d),O=(S-b)/(g+1);let D=WO((S-b)/_/v)*v,N,M,k,P;if(D<1e-14&&!x&&!T)return[{value:b},{value:S}];P=Math.ceil(S/D)-Math.floor(b/D),P>_&&(D=WO(P*D/_/v)*v),Yt(u)||(N=Math.pow(10,u),D=Math.ceil(D*N)/N),r==="ticks"?(M=Math.floor(b/D)*D,k=Math.ceil(S/D)*D):(M=b,k=S),x&&T&&s&&lie((l-a)/s,D/1e3)?(P=Math.round(Math.min((l-a)/D,h)),D=(l-a)/P,M=a,k=l):A?(M=x?a:M,k=T?l:k,P=d-1,D=(k-M)/P):(P=(k-M)/D,Wd(P,Math.round(P),D/1e3)?P=Math.round(P):P=Math.ceil(P));const z=Math.max(GO(D),GO(M));N=Math.pow(10,Yt(u)?z:u),M=Math.round(M*N)/N,k=Math.round(k*N)/N;let B=0;for(x&&(m&&M!==a?(n.push({value:a}),M<a&&B++,Wd(Math.round((M+B*D)*N)/N,a,V1(a,O,t))&&B++):M<a&&B++);B<P;++B){const K=Math.round((M+B*D)*N)/N;if(T&&K>l)break;n.push({value:K})}return T&&m&&k!==l?n.length&&Wd(n[n.length-1].value,l,V1(l,O,t))?n[n.length-1].value=l:n.push({value:l}):(!T||k===l)&&n.push({value:k}),n}function V1(t,e,{horizontal:n,minRotation:i}){const r=Xs(i),s=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class Lae extends wu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Yt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=u=>r=n?r:u,l=u=>s=i?s:u;if(e){const u=nu(r),d=nu(s);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||a(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=jae(r,s);return e.bounds==="ticks"&&cie(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return YS(e,this.chart.options.locale,this.options.ticks.format)}}class Fae extends Lae{static id="linear";static defaults={ticks:{callback:i2.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ar(e)?e:0,this.max=Ar(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Xs(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Km={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ui=Object.keys(Km);function $1(t,e){return t-e}function q1(t,e){if(Yt(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Ar(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(gf(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,r)),+a)}function W1(t,e,n,i){const r=Ui.length;for(let s=Ui.indexOf(t);s<r-1;++s){const a=Km[Ui[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=i)return Ui[s]}return Ui[r-1]}function Uae(t,e,n,i,r){for(let s=Ui.length-1;s>=Ui.indexOf(n);s--){const a=Ui[s];if(Km[a].common&&t._adapter.diff(r,i,a)>=e-1)return a}return Ui[n?Ui.indexOf(n):0]}function zae(t){for(let e=Ui.indexOf(t)+1,n=Ui.length;e<n;++e)if(Km[Ui[e]].common)return Ui[e]}function G1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=qS(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function Hae(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let l,u;for(l=s;l<=a;l=+r.add(l,1,i))u=n[l],u>=0&&(e[u].major=!0);return e}function Y1(t,e,n){const i=[],r={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],r[l]=a,i.push({value:l,major:!1});return s===0||!n?i:Hae(t,i,r,n)}class K1 extends wu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new Vre._date(e.adapters.date);r.init(n),qd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:q1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Ar(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Ar(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,l=gie(r,s,a);return this._unit=n.unit||(i.autoSkip?W1(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Uae(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:zae(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),Y1(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Si(n,0,a),i=Si(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||W1(s.minUnit,n,i,this._getLabelCapacity(n)),l=dt(r.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=gf(u)||u===!0,h={};let g=n,m,v;if(d&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,d?"day":a),e.diff(i,n,a)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+a);const _=r.ticks.source==="data"&&this.getDataTimestamps();for(m=g,v=0;m<i;m=+e.add(m,l,a),v++)G1(h,m,_);return(m===i||r.bounds==="ticks"||v===1)&&G1(h,m,_),Object.keys(h).sort($1).map(b=>+b)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,a=n||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,r){const s=this.options,a=s.ticks.callback;if(a)return Zt(a,[e,n,i],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&l[u],g=d&&l[d],m=i[n],v=d&&g&&m&&m.major;return this._adapter.format(e,r||(v?g:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Xs(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Y1(this,[e],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(q1(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mie(e.sort($1))}}function qg(t,e,n){let i=0,r=t.length-1,s,a,l,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=il(t,"pos",e)),{pos:s,time:l}=t[i],{pos:a,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=il(t,"time",e)),{time:s,pos:l}=t[i],{time:a,pos:u}=t[r]);const d=a-s;return d?l+(u-l)*(e-s)/d:l}class moe extends K1{static id="timeseries";static defaults=K1.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=qg(n,this.min),this._tableRange=qg(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let a,l,u,d,h;for(a=0,l=e.length;a<l;++a)d=e[a],d>=n&&d<=i&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)h=r[a+1],u=r[a-1],d=r[a],Math.round((h+u)/2)!==d&&s.push({time:d,pos:a/(l-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(qg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return qg(this._table,i*this._tableRange+this._minPos,!0)}}const D2="label";function Q1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Bae(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function O2(t,e){t.labels=e}function k2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D2;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(a=>a[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function Vae(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D2;const n={labels:[],datasets:[]};return O2(n,t.labels),k2(n,t.datasets,e),n}function $ae(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:d=[],fallbackContent:h,updateMode:g,...m}=t,v=C.useRef(null),_=C.useRef(null),b=()=>{v.current&&(_.current=new Ym(v.current,{type:a,data:Vae(l,s),options:u&&{...u},plugins:d}),Q1(e,_.current))},S=()=>{Q1(e,null),_.current&&(_.current.destroy(),_.current=null)};return C.useEffect(()=>{!r&&_.current&&u&&Bae(_.current,u)},[r,u]),C.useEffect(()=>{!r&&_.current&&O2(_.current.config.data,l.labels)},[r,l.labels]),C.useEffect(()=>{!r&&_.current&&l.datasets&&k2(_.current.config.data,l.datasets,s)},[r,l.datasets]),C.useEffect(()=>{_.current&&(r?(S(),setTimeout(b)):_.current.update(g))},[r,u,l.labels,l.datasets,g]),C.useEffect(()=>{_.current&&(S(),setTimeout(b))},[a]),C.useEffect(()=>(b(),()=>S()),[]),ae.createElement("canvas",{ref:v,role:"img",height:n,width:i,...m},h)}const qae=C.forwardRef($ae);function M2(t,e){return Ym.register(e),C.forwardRef((n,i)=>ae.createElement(qae,{...n,ref:i,type:t}))}const Wae=M2("line",Hre),Gae=M2("pie",Bre);Ym.register(Pae,Fae,pae,gae,xae,kae,wae,rae);function Yae(){const{data:t=[],isLoading:e,error:n}=pm(),{data:i=[],isLoading:r,error:s}=mm(),{isInitialized:a}=Tt(),{init:l,cleanup:u}=fo(),d=e||r;C.useEffect(()=>(a||l(),()=>{u()}),[l,a,u]);const h=C.useMemo(()=>{if(d)return{};const _=t.reduce((re,ve)=>{const U=ve.work_center||"Unknown";return re[U]||(re[U]={[us.ACTIVE]:0,[us.INACTIVE]:0,[us.MAINTENANCE]:0}),re[U][ve.status]=(re[U][ve.status]||0)+1,re},{}),b=new Date,S=new Date(b),x=b.getDay(),T=x===0?6:x-1;S.setUTCDate(b.getUTCDate()-T),S.setUTCHours(0,0,0,0);const A=i.filter(re=>re.completion_date?new Date(re.completion_date)>=S:!1).length,O=i.filter(re=>re.status==="IN PROGRESS"||re.status==="SCHEDULED").length,D=i.filter(re=>re.delivery_date?new Date(re.delivery_date)<b&&(re.quantity_completed||0)<(re.quantity||0):!1).length,N=t.filter(re=>re.status===us.ACTIVE).length,M={},k=new Date(b);k.setUTCDate(b.getUTCDate()-7);const P=new Date(b);P.setUTCDate(b.getUTCDate()+7),i.forEach(re=>{if(re.scheduled_start_time){const ve=new Date(re.scheduled_start_time);if(ve>=k&&ve<=P){const U=ve.toISOString().split("T")[0];M[U]=(M[U]||0)+1}}});const z=i.filter(re=>re.scheduled_start_time?new Date(re.scheduled_start_time)>=S:!1),B=z.filter(re=>re.cost&&re.cost>0).map(re=>re.cost),K=z.filter(re=>re.duration&&re.duration>0).map(re=>re.duration),ne=B.length>0?B.reduce((re,ve)=>re+ve,0)/B.length:0,ue=K.length>0?K.reduce((re,ve)=>re+ve,0)/K.length:0,ge={},L={},q=["STAMPA","CONFEZIONAMENTO"],$=["ZANICA","BUSTO_GAROLFO"];return q.forEach(re=>{const ve=re.toLowerCase();ge[ve]={},L[ve]={},$.forEach(U=>{const J=U==="BUSTO_GAROLFO"?"busto_garolfo":U.toLowerCase(),ee=i.filter(me=>!me.work_center||!me.department?!1:me.work_center===U&&me.department===re),le=ee.filter(me=>me.cost&&me.cost>0).map(me=>me.cost),be=le.length>0?le.reduce((me,Te)=>me+Te,0)/le.length:0,we=ee.filter(me=>me.duration&&me.duration>0).map(me=>me.duration),ce=we.length>0?we.reduce((me,Te)=>me+Te,0)/we.length:0;ge[ve][J]=be,L[ve][J]=ce})}),{machinesByWorkCenter:_,completedThisWeek:A,tasksInWip:O,delayedTasks:D,activeMachines:N,totalMachines:t.length,totalOrders:i.length,tasksPerDay:M,avgWeeklyCost:ne,avgWeeklyDuration:ue,weeklyOrdersCount:z.length,costMatrix:ge,durationMatrix:L}},[t,i,d]),g=C.useMemo(()=>{if(!h.tasksPerDay)return null;const _=[],b=new Date;for(let S=-7;S<=7;S++){const x=new Date(b);x.setUTCDate(b.getUTCDate()+S);const T=x.toISOString().split("T")[0];_.push(T)}return{labels:_.map(S=>{const x=new Date(S);return Qn(new Date(x),"dd/MM")}),datasets:[{label:"Lavori Iniziati",data:_.map(S=>h.tasksPerDay[S]||0),borderColor:"rgb(30, 58, 138)",backgroundColor:"rgba(30, 58, 138, 0.1)",tension:.4}]}},[h.tasksPerDay]),m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:10}}},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:10}}},x:{ticks:{font:{size:10}}}}},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0,font:{size:10}}}}};return d?E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:E.jsx("div",{className:"text-center py-1 text-gray-500 text-[10px]",children:"Caricamento dashboard..."})}):n||s?E.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:E.jsxs("div",{className:"text-center py-1 text-red-600 text-[10px]",children:["Errore nel caricamento dei dati: ",n?.message||s?.message]})}):E.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[E.jsx(Af,{title:"Dashboard Produzione"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-2 mb-2",children:[E.jsxs("div",{className:"bg-navy-50 p-1 rounded border border-navy-200",children:[E.jsx("h3",{className:"text-[10px] font-medium text-navy-800 mb-1",children:"Macchine Totali"}),E.jsx("div",{className:"text-[10px] font-bold text-navy-800",children:h.totalMachines}),E.jsxs("div",{className:"text-[10px] text-navy-600",children:["Attive: ",h.activeMachines]})]}),E.jsxs("div",{className:"bg-gray-50 p-1 rounded border border-gray-200",children:[E.jsx("h3",{className:"text-[10px] font-medium text-gray-700 mb-1",children:"Ordini Totali"}),E.jsx("div",{className:"text-[10px] font-bold text-gray-900",children:h.totalOrders})]}),E.jsxs("div",{className:"bg-navy-50 p-1 rounded border border-navy-200",children:[E.jsx("h3",{className:"text-[10px] font-medium text-navy-800 mb-1",children:"Completati Questa Settimana"}),E.jsx("div",{className:"text-[10px] font-bold text-navy-800",children:h.completedThisWeek})]}),E.jsxs("div",{className:"bg-gray-50 p-1 rounded border border-gray-200",children:[E.jsx("h3",{className:"text-[10px] font-medium text-gray-700 mb-1",children:"Lavori in Corso"}),E.jsx("div",{className:"text-[10px] font-bold text-gray-900",children:h.tasksInWip})]}),E.jsxs("div",{className:"bg-red-50 p-1 rounded border border-red-200",children:[E.jsx("h3",{className:"text-[10px] font-medium text-red-800 mb-1",children:"Lavori Ritardati"}),E.jsx("div",{className:"text-[10px] font-bold text-red-900",children:h.delayedTasks})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-2",children:[E.jsxs("div",{className:"bg-gray-50 p-1 rounded border border-gray-200",children:[E.jsx("h3",{className:"text-[10px] font-medium text-gray-700 mb-1",children:"Ordini Settimanali"}),E.jsx("div",{className:"text-[10px] font-bold text-gray-900",children:h.weeklyOrdersCount}),E.jsx("div",{className:"text-[10px] text-gray-600",children:"Questa Settimana"})]}),E.jsxs("div",{className:"bg-navy-50 p-1 rounded border border-navy-200",children:[E.jsx("h3",{className:"text-[10px] font-medium text-navy-800 mb-1",children:"Costo Medio"}),E.jsxs("div",{className:"text-[10px] font-bold text-navy-800",children:["",h.avgWeeklyCost.toFixed(2)]}),E.jsx("div",{className:"text-[10px] text-navy-600",children:"Per Lavoro Questa Settimana"})]}),E.jsxs("div",{className:"bg-gray-50 p-1 rounded border border-gray-200",children:[E.jsx("h3",{className:"text-[10px] font-medium text-gray-700 mb-1",children:"Durata Media"}),E.jsxs("div",{className:"text-[10px] font-bold text-gray-900",children:[h.avgWeeklyDuration.toFixed(1),"h"]}),E.jsx("div",{className:"text-[10px] text-gray-600",children:"Per Lavoro Questa Settimana"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[E.jsxs("div",{className:"bg-gray-50 p-1 rounded border border-gray-200",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 mb-1",children:"Costo Medio per Centro di Lavoro e Reparto"}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-gray-300",children:[E.jsx("th",{className:"text-left py-1 px-1 text-[10px] font-medium text-gray-700"}),E.jsx("th",{className:"text-left py-1 px-1 text-[10px] font-medium text-gray-700",children:"ZANICA"}),E.jsx("th",{className:"text-left py-1 px-1 text-[10px] font-medium text-gray-700",children:"BUSTO GAROLFO"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{className:"border-b border-gray-200",children:[E.jsx("td",{className:"py-1 px-1 text-[10px] font-medium text-gray-700",children:"STAMPA"}),E.jsxs("td",{className:"py-1 px-1 text-[10px] text-gray-900",children:["",h.costMatrix?.stampa?.zanica?.toFixed(2)||"0.00"]}),E.jsxs("td",{className:"py-1 px-1 text-[10px] text-gray-900",children:["",h.costMatrix?.stampa?.busto_garolfo?.toFixed(2)||"0.00"]})]}),E.jsxs("tr",{children:[E.jsx("td",{className:"py-1 px-1 text-[10px] font-medium text-gray-700",children:"CONFEZIONAMENTO"}),E.jsxs("td",{className:"py-1 px-1 text-[10px] text-gray-900",children:["",h.costMatrix?.confezionamento?.zanica?.toFixed(2)||"0.00"]}),E.jsxs("td",{className:"py-1 px-1 text-[10px] text-gray-900",children:["",h.costMatrix?.confezionamento?.busto_garolfo?.toFixed(2)||"0.00"]})]})]})]})})]}),E.jsxs("div",{className:"bg-gray-50 p-1 rounded border border-gray-200",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 mb-1",children:"Durata Media per Centro di Lavoro e Reparto"}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-gray-300",children:[E.jsx("th",{className:"text-left py-1 px-1 text-[10px] font-medium text-gray-700"}),E.jsx("th",{className:"text-left py-1 px-1 text-[10px] font-medium text-gray-700",children:"ZANICA"}),E.jsx("th",{className:"text-left py-1 px-1 text-[10px] font-medium text-gray-700",children:"BUSTO GAROLFO"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{className:"border-b border-gray-200",children:[E.jsx("td",{className:"py-1 px-1 text-[10px] font-medium text-gray-700",children:"STAMPA"}),E.jsxs("td",{className:"py-1 px-1 text-[10px] text-gray-900",children:[h.durationMatrix?.stampa?.zanica?.toFixed(1)||"0.0","h"]}),E.jsxs("td",{className:"py-1 px-1 text-[10px] text-gray-900",children:[h.durationMatrix?.stampa?.busto_garolfo?.toFixed(1)||"0.0","h"]})]}),E.jsxs("tr",{children:[E.jsx("td",{className:"py-1 px-1 text-[10px] font-medium text-gray-700",children:"CONFEZIONAMENTO"}),E.jsxs("td",{className:"py-1 px-1 text-[10px] text-gray-900",children:[h.durationMatrix?.confezionamento?.zanica?.toFixed(1)||"0.0","h"]}),E.jsxs("td",{className:"py-1 px-1 text-[10px] text-gray-900",children:[h.durationMatrix?.confezionamento?.busto_garolfo?.toFixed(1)||"0.0","h"]})]})]})]})})]})]}),E.jsxs("div",{className:"space-y-4 mt-4",children:[E.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 mb-1",children:"Lavori Iniziati per Giorno (Ultimi 7 Giorni + Prossimi 7 Giorni)"}),E.jsx("div",{className:"h-48",children:g&&E.jsx(Wae,{data:g,options:m,height:200})})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:[E.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 mb-1",children:"Macchine per Centro di Lavoro e Stato"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(h.machinesByWorkCenter||{}).map(([_,b])=>{const S={labels:Object.keys(b).map(x=>x.charAt(0).toUpperCase()+x.slice(1).toLowerCase()),datasets:[{data:Object.values(b),backgroundColor:["rgba(30, 58, 138, 0.8)","rgba(107, 114, 128, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgba(30, 58, 138, 1)","rgba(107, 114, 128, 1)","rgba(156, 163, 175, 1)"],borderWidth:2}]};return E.jsxs("div",{className:"text-center",children:[E.jsx("h4",{className:"text-[10px] font-medium text-gray-700 mb-1",children:_}),E.jsx("div",{className:"h-32",children:E.jsx(Gae,{data:S,options:v,height:150})}),E.jsx("div",{className:"text-[10px] text-gray-600 mt-2",children:Object.entries(b).map(([x,T])=>E.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[E.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:x==="ACTIVE"?"rgba(30, 58, 138, 0.8)":x==="INACTIVE"?"rgba(107, 114, 128, 0.8)":"rgba(156, 163, 175, 0.8)"}}),E.jsxs("span",{children:[x,": ",T]})]},x))})]},_)})})]})]})]})}function Kae(){const[t,e]=C.useState({email:"",password:"",workCenter:""}),[n,i]=C.useState(!1),[r,s]=C.useState({}),{signIn:a,error:l}=du(),{setSelectedWorkCenter:u}=Tt(),d=vs(),{handleAsync:h}=ys("LoginPage"),g=b=>{const{name:S,value:x}=b.target;e(T=>({...T,[S]:x})),r[S]&&s(T=>({...T,[S]:""}))},m=()=>{const b={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(b.email="Inserisci un indirizzo email valido"):b.email="Email richiesta",t.password?t.password.length<6&&(b.password="La password deve essere di almeno 6 caratteri"):b.password="Password richiesta",t.workCenter||(b.workCenter="Centro di lavoro richiesto"),s(b),Object.keys(b).length===0},v=async b=>{b.preventDefault(),m()&&(i(!0),await h(async()=>{(await a(t.email,t.password)).success&&(u(t.workCenter),d("/",{replace:!0}))},{context:"Login",fallbackMessage:"Accesso fallito. Riprova.",onFinally:()=>i(!1)}))},_=b=>r[b]?E.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:r[b]}):null;return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-4",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Bentornato"}),E.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Accedi al tuo account per continuare"})]}),E.jsxs("form",{onSubmit:v,className:"mt-4 space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:"email",children:"Indirizzo Email"}),E.jsx(Gn,{type:"email",id:"email",name:"email",value:t.email,onChange:g,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),_("email")]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:"password",children:"Password"}),E.jsx(Gn,{type:"password",id:"password",name:"password",value:t.password,onChange:g,placeholder:"Inserisci la tua password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"current-password"}),_("password")]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:"workCenter",children:"Centro di Lavoro *"}),E.jsxs(MP,{onValueChange:b=>g({target:{name:"workCenter",value:b}}),value:t.workCenter,children:[E.jsx(Xw,{className:r.workCenter?"border-red-500":"",children:E.jsx(NP,{placeholder:"Seleziona un centro di lavoro"})}),E.jsxs(Zw,{children:[E.jsx(Ld,{value:mt.ZANICA,children:mt.ZANICA}),E.jsx(Ld,{value:mt.BUSTO_GAROLFO,children:mt.BUSTO_GAROLFO}),E.jsx(Ld,{value:mt.BOTH,children:mt.BOTH})]})]}),_("workCenter")]}),l&&E.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:E.jsxs("div",{className:"flex",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("span",{className:"text-red-400",children:""})}),E.jsx("div",{className:"ml-3",children:E.jsx("p",{className:"text-[10px] text-red-800",children:l})})]})}),E.jsx(kn,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Accesso in corso...":"Accedi"})]}),E.jsxs("div",{className:"text-center space-y-4",children:[E.jsx(wi,{to:"/forgot-password",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Password dimenticata?"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-[10px]",children:E.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Non hai un account?"})})]}),E.jsx(wi,{to:"/signup",children:E.jsx(kn,{variant:"outline",size:"sm",className:"w-full",children:"Crea Account"})})]}),!1]})})}function Qae(){const[t,e]=C.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,i]=C.useState(!1),[r,s]=C.useState({}),{signUp:a,error:l}=du(),u=vs(),{handleAsync:d}=ys("SignupPage"),h=_=>{const{name:b,value:S}=_.target;e(x=>({...x,[b]:S})),r[b]&&s(x=>({...x,[b]:""}))},g=()=>{const _={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(_.email="Inserisci un indirizzo email valido"):_.email="Email richiesta",t.password?t.password.length<6&&(_.password="La password deve essere di almeno 6 caratteri"):_.password="Password richiesta",t.confirmPassword?t.password!==t.confirmPassword&&(_.confirmPassword="Le password non coincidono"):_.confirmPassword="Conferma la tua password",t.firstName.trim()||(_.firstName="Nome richiesto"),t.lastName.trim()||(_.lastName="Cognome richiesto"),s(_),Object.keys(_).length===0},m=async _=>{_.preventDefault(),g()&&(i(!0),await d(async()=>{const b={first_name:t.firstName,last_name:t.lastName,full_name:`${t.firstName} ${t.lastName}`};(await a(t.email,t.password,b)).success&&u("/",{replace:!0})},{context:"Signup",fallbackMessage:"Creazione account fallita. Riprova.",onFinally:()=>i(!1)}))},v=_=>r[_]?E.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:r[_]}):null;return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-4",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Crea Account"}),E.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Registrati per iniziare con il tuo account"})]}),E.jsxs("form",{onSubmit:m,className:"mt-4 space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:"firstName",children:"Nome"}),E.jsx(Gn,{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:h,placeholder:"Inserisci il tuo nome",className:r.firstName?"border-red-500":"",disabled:n,autoComplete:"given-name"}),v("firstName")]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:"lastName",children:"Cognome"}),E.jsx(Gn,{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:h,placeholder:"Inserisci il tuo cognome",className:r.lastName?"border-red-500":"",disabled:n,autoComplete:"family-name"}),v("lastName")]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:"email",children:"Indirizzo Email"}),E.jsx(Gn,{type:"email",id:"email",name:"email",value:t.email,onChange:h,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),v("email")]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:"password",children:"Password"}),E.jsx(Gn,{type:"password",id:"password",name:"password",value:t.password,onChange:h,placeholder:"Crea una password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"new-password"}),v("password")]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:"confirmPassword",children:"Conferma Password"}),E.jsx(Gn,{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:h,placeholder:"Conferma la tua password",className:r.confirmPassword?"border-red-500":"",disabled:n,autoComplete:"new-password"}),v("confirmPassword")]})]}),l&&E.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:E.jsxs("div",{className:"flex",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("span",{className:"text-red-400",children:""})}),E.jsx("div",{className:"ml-3",children:E.jsx("p",{className:"text-[10px] text-red-800",children:l})})]})}),E.jsx(kn,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Creazione Account...":"Crea Account"})]}),E.jsxs("div",{className:"text-center space-y-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-[10px]",children:E.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Hai gi un account?"})})]}),E.jsx(wi,{to:"/login",children:E.jsx(kn,{variant:"outline",size:"sm",className:"w-full",children:"Accedi"})})]})]})})}function Xae(){const[t,e]=C.useState(""),[n,i]=C.useState(!1),[r,s]=C.useState(!1),[a,l]=C.useState(""),{resetPassword:u}=du(),{handleAsync:d}=ys("ForgotPasswordPage"),h=async g=>{if(g.preventDefault(),!t.trim()){l("Inserisci il tuo indirizzo email");return}if(!/\S+@\S+\.\S+/.test(t)){l("Inserisci un indirizzo email valido");return}i(!0),l(""),await d(async()=>{const m=await u(t);m.success?s(!0):l(m.error||"Invio email di reset fallito")},{context:"Password Reset",fallbackMessage:"Invio email di reset fallito. Riprova.",onFinally:()=>i(!1)})};return r?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-2 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-4",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Controlla la Tua Email"}),E.jsxs("p",{className:"mt-2 text-[10px] text-gray-600",children:["Abbiamo inviato un link per il reset della password a ",t]})]}),E.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-1",children:E.jsxs("div",{className:"flex",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("span",{className:"text-green-400 text-[10px]",children:""})}),E.jsx("div",{className:"ml-3",children:E.jsx("p",{className:"text-[10px] text-green-800",children:"Se non vedi l'email, controlla la cartella spam."})})]})}),E.jsx("div",{className:"text-center",children:E.jsx(wi,{to:"/login",children:E.jsx(kn,{size:"sm",className:"w-full",children:"Torna all'Accesso"})})})]})}):E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-4",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Reset Password"}),E.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Inserisci la tua email per ricevere un link per il reset della password"})]}),E.jsxs("form",{onSubmit:h,className:"mt-4 space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(di,{htmlFor:"email",children:"Indirizzo Email"}),E.jsx(Gn,{type:"email",id:"email",name:"email",value:t,onChange:g=>e(g.target.value),placeholder:"Inserisci la tua email",disabled:n,autoComplete:"email"})]}),a&&E.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:E.jsxs("div",{className:"flex",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("span",{className:"text-red-400",children:""})}),E.jsx("div",{className:"ml-3",children:E.jsx("p",{className:"text-[10px] text-red-800",children:a})})]})}),E.jsx(kn,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Invio...":"Invia Link di Reset"})]}),E.jsx("div",{className:"text-center",children:E.jsx(wi,{to:"/login",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Torna all'Accesso"})})]})})}class im extends ae.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:im.generateErrorId()}}componentDidCatch(e,n){this.setState({errorInfo:n,errorId:this.state.errorId||im.generateErrorId()}),xw(e,{errorId:this.state.errorId})}logErrorToService(e,n){}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const e=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${e}&body=${n}`)};getErrorRecommendations=e=>e?.message?.includes("Network")||e?.message?.includes("fetch")?E.jsxs("div",{className:"error-boundary__recommendation high",children:[E.jsx("strong",{children:"Network Error:"})," Please check your internet connection and try again."]}):e?.message?.includes("Authentication")||e?.message?.includes("login")?E.jsxs("div",{className:"error-boundary__recommendation high",children:[E.jsx("strong",{children:"Authentication Error:"})," Please try logging in again."]}):E.jsxs("div",{className:"error-boundary__recommendation medium",children:[E.jsx("strong",{children:"General Error:"})," Please try refreshing the page or contact support if the problem persists."]});render(){return this.state.hasError?E.jsx("div",{className:"error-boundary",children:E.jsxs("div",{className:"error-boundary__container",children:[E.jsx("div",{className:"error-boundary__icon",children:""}),E.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),E.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,E.jsxs("div",{className:"error-boundary__actions",children:[E.jsx(kn,{onClick:this.handleRetry,variant:"default",children:"Try Again"}),E.jsx(kn,{onClick:this.handleGoHome,variant:"secondary",children:"Go to Home"}),E.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:" Report Issue"})]}),this.state.error&&E.jsx("div",{className:"error-boundary__recommendations",children:this.getErrorRecommendations(this.state.error)}),E.jsxs("div",{className:"error-boundary__footer",children:[E.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",E.jsx("code",{children:this.state.errorId})]}),E.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const Zae=()=>{const{user:t,loading:e}=du();return e?E.jsx("div",{className:"auth-loading",children:E.jsxs("div",{className:"auth-loading__container",children:[E.jsx("div",{className:"auth-loading__spinner"}),E.jsx("p",{children:"Checking authentication..."})]})}):t?E.jsx(uk,{}):E.jsx(ck,{to:"/login",replace:!0})},Jae=()=>{const{confirmDialog:t,hideConfirmDialog:e,conflictDialog:n,hideConflictDialog:i,showConflictDialog:r,schedulingLoading:s,selectedWorkCenter:a}=Tt(),{cleanup:l}=fo(),{resolveConflictByShunting:u,scheduleTaskFromSlot:d}=ds(),{user:h,signOut:g}=du(),m=Bi();return CW(),C.useEffect(()=>()=>{l()},[l]),E.jsxs("div",{className:"flex h-screen bg-gray-200 overflow-hidden",children:[E.jsx(jq,{}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[E.jsx("header",{className:"sticky top-0 z-20 bg-navy-800 border-b border-navy-700 px-2 py-3 flex-shrink-0",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("div",{className:"flex items-center space-x-4"}),E.jsx("div",{className:"flex items-center space-x-4",children:h&&E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"px-2 py-1 text-[10px] font-medium text-white bg-green-500 hover:bg-green-600 rounded transition-colors",children:a}),E.jsx("span",{className:"text-[10px] text-navy-200",children:h.email}),E.jsx("button",{onClick:g,className:"px-3 py-1.5 text-[10px] font-medium text-navy-200 hover:text-white hover:bg-navy-700 rounded transition-colors",children:"Sign out"})]})})]})}),E.jsx("main",{className:"flex-1 overflow-auto pt-0 min-w-0",children:E.jsx(uk,{})})]}),E.jsx(IB,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3}),E.jsx(bD,{isOpen:t.isOpen,title:t.title,message:t.message,onConfirm:()=>{t.onConfirm?.(),e()},onCancel:e,type:t.type}),E.jsx(bD,{isOpen:n.isOpen,title:"Risoluzione Conflitto",message:n.details?`Il lavoro "${n.details.draggedTask?.odp_number}" si sovrappone con "${n.details.conflictingTask?.odp_number}". Come vuoi procedere?`:"",type:"warning",customButtons:[{text:"Annulla",variant:"secondary",onClick:i},{text:s.isShunting?"Spostamento...":"Sposta a Sinistra ",variant:"primary",disabled:s.isShunting,onClick:async()=>{if(n.details)try{const v=n.details.schedulingParams?n.details.schedulingParams.originalConflict:n.details;console.log(" CONFLICT: Using resolveConflictByShunting (left)");const _=await u(v,"left",m);if(_.error){const{showError:b}=await ii(async()=>{const{showError:S}=await Promise.resolve().then(()=>vc);return{showError:S}},void 0);b(_.error)}else{const{showSuccess:b}=await ii(async()=>{const{showSuccess:S}=await Promise.resolve().then(()=>vc);return{showSuccess:S}},void 0);b("Task spostato con successo"),i()}}catch(v){console.error(" SHUNTING ERROR:",v);const{showError:_}=await ii(async()=>{const{showError:b}=await Promise.resolve().then(()=>vc);return{showError:b}},void 0);_("Errore durante lo spostamento del task")}}},{text:s.isShunting?"Spostamento...":"Sposta a Destra ",variant:"primary",disabled:s.isShunting,onClick:async()=>{if(n.details)try{const v=n.details.schedulingParams?n.details.schedulingParams.originalConflict:n.details;console.log(" CONFLICT: Using resolveConflictByShunting (right)");const _=await u(v,"right",m);if(_.error){const{showError:b}=await ii(async()=>{const{showError:S}=await Promise.resolve().then(()=>vc);return{showError:S}},void 0);b(_.error)}else{const{showSuccess:b}=await ii(async()=>{const{showSuccess:S}=await Promise.resolve().then(()=>vc);return{showSuccess:S}},void 0);b("Task spostato con successo"),i()}}catch(v){console.error(" SHUNTING ERROR:",v);const{showError:_}=await ii(async()=>{const{showError:b}=await Promise.resolve().then(()=>vc);return{showError:b}},void 0);_("Errore durante lo spostamento del task")}}}]})]})};function eoe(){return E.jsx(im,{children:E.jsxs(Wz,{children:[E.jsx(Ln,{path:"/login",element:E.jsx(Kae,{})}),E.jsx(Ln,{path:"/signup",element:E.jsx(Qae,{})}),E.jsx(Ln,{path:"/forgot-password",element:E.jsx(Xae,{})}),E.jsx(Ln,{path:"/",element:E.jsx(Zae,{}),children:E.jsxs(Ln,{element:E.jsx(Jae,{}),children:[E.jsx(Ln,{index:!0,element:E.jsx(Yae,{})}),E.jsx(Ln,{path:"machinery",element:E.jsx(TW,{})}),E.jsx(Ln,{path:"machinery/add",element:E.jsx(_D,{})}),E.jsx(Ln,{path:"machinery/:id/edit",element:E.jsx(_D,{})}),E.jsx(Ln,{path:"machinery/:machineId/calendar",element:E.jsx(qee,{})}),E.jsx(Ln,{path:"phases",element:E.jsx(Wee,{})}),E.jsx(Ln,{path:"phases/add",element:E.jsx(xO,{})}),E.jsx(Ln,{path:"phases/:id/edit",element:E.jsx(xO,{})}),E.jsx(Ln,{path:"backlog",element:E.jsx(Yee,{})}),E.jsx(Ln,{path:"backlog/add",element:E.jsx(EO,{})}),E.jsx(Ln,{path:"backlog/:id/edit",element:E.jsx(EO,{})}),E.jsx(Ln,{path:"scheduler",element:E.jsx(Rne,{})})]})}),E.jsx(Ln,{path:"*",element:E.jsx(ck,{to:"/",replace:!0})})]})})}c3();const toe=new GH({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),noe="/scheduler_demo/";ez.createRoot(document.getElementById("root")).render(E.jsx(ae.StrictMode,{children:E.jsx(YH,{client:toe,children:E.jsx(pH,{basename:noe,children:E.jsx(u3,{children:E.jsx(eoe,{})})})})}));export{g3 as A,kn as B,Rw as D,ae as R,MP as S,Tt as a,un as b,hoe as c,mm as d,_W as e,ys as f,foe as g,Qn as h,xf as i,E as j,Bi as k,coe as l,Xw as m,b3 as n,NP as o,Zw as p,Ld as q,C as r,fR as s,si as t,vs as u,ds as v,ul as w};
