(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Jo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eO(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var Xy={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function V2(){if(lC)return Iu;lC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Iu.Fragment=e,Iu.jsx=n,Iu.jsxs=n,Iu}var cC;function $2(){return cC||(cC=1,Xy.exports=V2()),Xy.exports}var C=$2(),Zy={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function q2(){if(uC)return $e;uC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function x(R,z,q){this.props=R,this.context=z,this.refs=w,this.updater=q||_}x.prototype.isReactComponent={},x.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},x.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=x.prototype;function A(R,z,q){this.props=R,this.context=z,this.refs=w,this.updater=q||_}var I=A.prototype=new E;I.constructor=A,S(I,x.prototype),I.isPureReactComponent=!0;var k=Array.isArray;function j(){}var M={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function U(R,z,q){var J=q.ref;return{$$typeof:t,type:R,key:z,ref:J!==void 0?J:null,props:q}}function B(R,z){return U(R.type,z,R.props)}function $(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function Q(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(q){return z[q]})}var ae=/\/+/g;function pe(R,z){return typeof R=="object"&&R!==null&&R.key!=null?Q(""+R.key):z.toString(36)}function ve(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(j,j):(R.status="pending",R.then(function(z){R.status==="pending"&&(R.status="fulfilled",R.value=z)},function(z){R.status==="pending"&&(R.status="rejected",R.reason=z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function F(R,z,q,J,fe){var ge=typeof R;(ge==="undefined"||ge==="boolean")&&(R=null);var _e=!1;if(R===null)_e=!0;else switch(ge){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(R.$$typeof){case t:case e:_e=!0;break;case h:return _e=R._init,F(_e(R._payload),z,q,J,fe)}}if(_e)return fe=fe(R),_e=J===""?"."+pe(R,0):J,k(fe)?(q="",_e!=null&&(q=_e.replace(ae,"$&/")+"/"),F(fe,z,q,"",function(tt){return tt})):fe!=null&&($(fe)&&(fe=B(fe,q+(fe.key==null||R&&R.key===fe.key?"":(""+fe.key).replace(ae,"$&/")+"/")+_e)),z.push(fe)),1;_e=0;var Se=J===""?".":J+":";if(k(R))for(var Oe=0;Oe<R.length;Oe++)J=R[Oe],ge=Se+pe(J,Oe),_e+=F(J,z,q,ge,fe);else if(Oe=y(R),typeof Oe=="function")for(R=Oe.call(R),Oe=0;!(J=R.next()).done;)J=J.value,ge=Se+pe(J,Oe++),_e+=F(J,z,q,ge,fe);else if(ge==="object"){if(typeof R.then=="function")return F(ve(R),z,q,J,fe);throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(R,z,q){if(R==null)return R;var J=[],fe=0;return F(R,J,"","",function(ge){return z.call(q,ge,fe++)}),J}function ue(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(q){(R._status===0||R._status===-1)&&(R._status=1,R._result=q)},function(q){(R._status===0||R._status===-1)&&(R._status=2,R._result=q)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},me={map:K,forEach:function(R,z,q){K(R,function(){z.apply(this,arguments)},q)},count:function(R){var z=0;return K(R,function(){z++}),z},toArray:function(R){return K(R,function(z){return z})||[]},only:function(R){if(!$(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return $e.Activity=p,$e.Children=me,$e.Component=x,$e.Fragment=n,$e.Profiler=r,$e.PureComponent=A,$e.StrictMode=i,$e.Suspense=u,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,$e.__COMPILER_RUNTIME={__proto__:null,c:function(R){return M.H.useMemoCache(R)}},$e.cache=function(R){return function(){return R.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(R,z,q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var J=S({},R.props),fe=R.key;if(z!=null)for(ge in z.key!==void 0&&(fe=""+z.key),z)!O.call(z,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&z.ref===void 0||(J[ge]=z[ge]);var ge=arguments.length-2;if(ge===1)J.children=q;else if(1<ge){for(var _e=Array(ge),Se=0;Se<ge;Se++)_e[Se]=arguments[Se+2];J.children=_e}return U(R.type,fe,J)},$e.createContext=function(R){return R={$$typeof:o,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},$e.createElement=function(R,z,q){var J,fe={},ge=null;if(z!=null)for(J in z.key!==void 0&&(ge=""+z.key),z)O.call(z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(fe[J]=z[J]);var _e=arguments.length-2;if(_e===1)fe.children=q;else if(1<_e){for(var Se=Array(_e),Oe=0;Oe<_e;Oe++)Se[Oe]=arguments[Oe+2];fe.children=Se}if(R&&R.defaultProps)for(J in _e=R.defaultProps,_e)fe[J]===void 0&&(fe[J]=_e[J]);return U(R,ge,fe)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(R){return{$$typeof:c,render:R}},$e.isValidElement=$,$e.lazy=function(R){return{$$typeof:h,_payload:{_status:-1,_result:R},_init:ue}},$e.memo=function(R,z){return{$$typeof:d,type:R,compare:z===void 0?null:z}},$e.startTransition=function(R){var z=M.T,q={};M.T=q;try{var J=R(),fe=M.S;fe!==null&&fe(q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(j,re)}catch(ge){re(ge)}finally{z!==null&&q.types!==null&&(z.types=q.types),M.T=z}},$e.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},$e.use=function(R){return M.H.use(R)},$e.useActionState=function(R,z,q){return M.H.useActionState(R,z,q)},$e.useCallback=function(R,z){return M.H.useCallback(R,z)},$e.useContext=function(R){return M.H.useContext(R)},$e.useDebugValue=function(){},$e.useDeferredValue=function(R,z){return M.H.useDeferredValue(R,z)},$e.useEffect=function(R,z){return M.H.useEffect(R,z)},$e.useEffectEvent=function(R){return M.H.useEffectEvent(R)},$e.useId=function(){return M.H.useId()},$e.useImperativeHandle=function(R,z,q){return M.H.useImperativeHandle(R,z,q)},$e.useInsertionEffect=function(R,z){return M.H.useInsertionEffect(R,z)},$e.useLayoutEffect=function(R,z){return M.H.useLayoutEffect(R,z)},$e.useMemo=function(R,z){return M.H.useMemo(R,z)},$e.useOptimistic=function(R,z){return M.H.useOptimistic(R,z)},$e.useReducer=function(R,z,q){return M.H.useReducer(R,z,q)},$e.useRef=function(R){return M.H.useRef(R)},$e.useState=function(R){return M.H.useState(R)},$e.useSyncExternalStore=function(R,z,q){return M.H.useSyncExternalStore(R,z,q)},$e.useTransition=function(){return M.H.useTransition()},$e.version="19.2.0",$e}var dC;function O0(){return dC||(dC=1,Zy.exports=q2()),Zy.exports}var D=O0();const ce=Jo(D);var Jy={exports:{}},ju={},ev={exports:{}},tv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function G2(){return fC||(fC=1,(function(t){function e(F,K){var ue=F.length;F.push(K);e:for(;0<ue;){var re=ue-1>>>1,me=F[re];if(0<r(me,K))F[re]=K,F[ue]=me,ue=re;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var K=F[0],ue=F.pop();if(ue!==K){F[0]=ue;e:for(var re=0,me=F.length,R=me>>>1;re<R;){var z=2*(re+1)-1,q=F[z],J=z+1,fe=F[J];if(0>r(q,ue))J<me&&0>r(fe,q)?(F[re]=fe,F[J]=ue,re=J):(F[re]=q,F[z]=ue,re=z);else if(J<me&&0>r(fe,ue))F[re]=fe,F[J]=ue,re=J;else break e}}return K}function r(F,K){var ue=F.sortIndex-K.sortIndex;return ue!==0?ue:F.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],d=[],h=1,p=null,m=3,y=!1,_=!1,S=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function I(F){for(var K=n(d);K!==null;){if(K.callback===null)i(d);else if(K.startTime<=F)i(d),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(d)}}function k(F){if(S=!1,I(F),!_)if(n(u)!==null)_=!0,j||(j=!0,Q());else{var K=n(d);K!==null&&ve(k,K.startTime-F)}}var j=!1,M=-1,O=5,U=-1;function B(){return w?!0:!(t.unstable_now()-U<O)}function $(){if(w=!1,j){var F=t.unstable_now();U=F;var K=!0;try{e:{_=!1,S&&(S=!1,E(M),M=-1),y=!0;var ue=m;try{t:{for(I(F),p=n(u);p!==null&&!(p.expirationTime>F&&B());){var re=p.callback;if(typeof re=="function"){p.callback=null,m=p.priorityLevel;var me=re(p.expirationTime<=F);if(F=t.unstable_now(),typeof me=="function"){p.callback=me,I(F),K=!0;break t}p===n(u)&&i(u),I(F)}else i(u);p=n(u)}if(p!==null)K=!0;else{var R=n(d);R!==null&&ve(k,R.startTime-F),K=!1}}break e}finally{p=null,m=ue,y=!1}K=void 0}}finally{K?Q():j=!1}}}var Q;if(typeof A=="function")Q=function(){A($)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,pe=ae.port2;ae.port1.onmessage=$,Q=function(){pe.postMessage(null)}}else Q=function(){x($,0)};function ve(F,K){M=x(function(){F(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var ue=m;m=K;try{return F()}finally{m=ue}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ue=m;m=F;try{return K()}finally{m=ue}},t.unstable_scheduleCallback=function(F,K,ue){var re=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?re+ue:re):ue=re,F){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ue+me,F={id:h++,callback:K,priorityLevel:F,startTime:ue,expirationTime:me,sortIndex:-1},ue>re?(F.sortIndex=ue,e(d,F),n(u)===null&&F===n(d)&&(S?(E(M),M=-1):S=!0,ve(k,ue-re))):(F.sortIndex=me,e(u,F),_||y||(_=!0,j||(j=!0,Q()))),F},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(F){var K=m;return function(){var ue=m;m=K;try{return F.apply(this,arguments)}finally{m=ue}}}})(tv)),tv}var hC;function W2(){return hC||(hC=1,ev.exports=G2()),ev.exports}var nv={exports:{}},ni={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function Y2(){if(gC)return ni;gC=1;var t=O0();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ni.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},ni.flushSync=function(u){var d=o.T,h=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=d,i.p=h,i.d.f()}},ni.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},ni.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},ni.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):h==="script"&&i.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ni.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},ni.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin);i.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ni.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=c(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},ni.requestFormReset=function(u){i.d.r(u)},ni.unstable_batchedUpdates=function(u,d){return u(d)},ni.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},ni.useFormStatus=function(){return o.H.useHostTransitionStatus()},ni.version="19.2.0",ni}var pC;function tO(){if(pC)return nv.exports;pC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nv.exports=Y2(),nv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function Q2(){if(mC)return ju;mC=1;var t=W2(),e=O0(),n=tO();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function d(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var f=a,g=l;;){var v=f.return;if(v===null)break;var b=v.alternate;if(b===null){if(g=v.return,g!==null){f=g;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===f)return u(v),a;if(b===g)return u(v),l;b=b.sibling}throw Error(i(188))}if(f.return!==g.return)f=v,g=b;else{for(var T=!1,N=v.child;N;){if(N===f){T=!0,f=v,g=b;break}if(N===g){T=!0,g=v,f=b;break}N=N.sibling}if(!T){for(N=b.child;N;){if(N===f){T=!0,f=b,g=v;break}if(N===g){T=!0,g=b,f=v;break}N=N.sibling}if(!T)throw Error(i(189))}}if(f.alternate!==g)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Symbol.for("react.client.reference");function pe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ae?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case x:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case j:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case A:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case I:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:pe(a.type)||"Memo";case O:l=a._payload,a=a._init;try{return pe(a(l))}catch{}}return null}var ve=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},re=[],me=-1;function R(a){return{current:a}}function z(a){0>me||(a.current=re[me],re[me]=null,me--)}function q(a,l){me++,re[me]=a.current,a.current=l}var J=R(null),fe=R(null),ge=R(null),_e=R(null);function Se(a,l){switch(q(ge,l),q(fe,a),q(J,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?kE(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=kE(l),a=ME(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}z(J),q(J,a)}function Oe(){z(J),z(fe),z(ge)}function tt(a){a.memoizedState!==null&&q(_e,a);var l=J.current,f=ME(l,a.type);l!==f&&(q(fe,a),q(J,f))}function Jt(a){fe.current===a&&(z(J),z(fe)),_e.current===a&&(z(_e),Ou._currentValue=ue)}var qt,bi;function Ee(a){if(qt===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);qt=l&&l[1]||"",bi=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qt+a+bi}var He=!1;function nt(a,l){if(!a||He)return"";He=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var ne=se}Reflect.construct(a,[],he)}else{try{he.call()}catch(se){ne=se}a.call(he.prototype)}}else{try{throw Error()}catch(se){ne=se}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=g.DetermineComponentFrameRoot(),T=b[0],N=b[1];if(T&&N){var H=T.split(`
`),ee=N.split(`
`);for(v=g=0;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(g===H.length||v===ee.length)for(g=H.length-1,v=ee.length-1;1<=g&&0<=v&&H[g]!==ee[v];)v--;for(;1<=g&&0<=v;g--,v--)if(H[g]!==ee[v]){if(g!==1||v!==1)do if(g--,v--,0>v||H[g]!==ee[v]){var le=`
`+H[g].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=g&&0<=v);break}}}finally{He=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?Ee(f):""}function Ht(a,l){switch(a.tag){case 26:case 27:case 5:return Ee(a.type);case 16:return Ee("Lazy");case 13:return a.child!==l&&l!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return nt(a.type,!1);case 11:return nt(a.type.render,!1);case 1:return nt(a.type,!0);case 31:return Ee("Activity");default:return""}}function Sn(a){try{var l="",f=null;do l+=Ht(a,f),f=a,a=a.return;while(a);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Ye=Object.prototype.hasOwnProperty,P=t.unstable_scheduleCallback,G=t.unstable_cancelCallback,X=t.unstable_shouldYield,Y=t.unstable_requestPaint,te=t.unstable_now,oe=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,be=t.unstable_UserBlockingPriority,we=t.unstable_NormalPriority,ke=t.unstable_LowPriority,Qe=t.unstable_IdlePriority,Ve=t.log,ut=t.unstable_setDisableYieldValue,it=null,Lt=null;function rt(a){if(typeof Ve=="function"&&ut(a),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(it,a)}catch{}}var Fe=Math.clz32?Math.clz32:gt,mn=Math.log,Je=Math.LN2;function gt(a){return a>>>=0,a===0?32:31-(mn(a)/Je|0)|0}var di=256,fi=262144,St=4194304;function Bt(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ce(a,l,f){var g=a.pendingLanes;if(g===0)return 0;var v=0,b=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var N=g&134217727;return N!==0?(g=N&~b,g!==0?v=Bt(g):(T&=N,T!==0?v=Bt(T):f||(f=N&~a,f!==0&&(v=Bt(f))))):(N=g&~b,N!==0?v=Bt(N):T!==0?v=Bt(T):f||(f=g&~a,f!==0&&(v=Bt(f)))),v===0?0:l!==0&&l!==v&&(l&b)===0&&(b=v&-v,f=l&-l,b>=f||b===32&&(f&4194048)!==0)?l:v}function Be(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function dt(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var a=St;return St<<=1,(St&62914560)===0&&(St=4194304),a}function dn(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function mt(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ke(a,l,f,g,v,b){var T=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var N=a.entanglements,H=a.expirationTimes,ee=a.hiddenUpdates;for(f=T&~f;0<f;){var le=31-Fe(f),he=1<<le;N[le]=0,H[le]=-1;var ne=ee[le];if(ne!==null)for(ee[le]=null,le=0;le<ne.length;le++){var se=ne[le];se!==null&&(se.lane&=-536870913)}f&=~he}g!==0&&wn(a,g,0),b!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=b&~(T&~l))}function wn(a,l,f){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-Fe(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|f&261930}function Gt(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var g=31-Fe(f),v=1<<g;v&l|a[g]&l&&(a[g]|=l),f&=~v}}function en(a,l){var f=l&-l;return f=(f&42)!==0?1:Xi(f),(f&(a.suspendedLanes|l))!==0?0:f}function Xi(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Yn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Zi(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:tC(a.type))}function Zs(a,l){var f=K.p;try{return K.p=a,l()}finally{K.p=f}}var Ji=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Ji,_i="__reactProps$"+Ji,ul="__reactContainer$"+Ji,Bp="__reactEvents$"+Ji,MI="__reactListeners$"+Ji,NI="__reactHandles$"+Ji,vS="__reactResources$"+Ji,qc="__reactMarker$"+Ji;function Vp(a){delete a[Qn],delete a[_i],delete a[Bp],delete a[MI],delete a[NI]}function dl(a){var l=a[Qn];if(l)return l;for(var f=a.parentNode;f;){if(l=f[ul]||f[Qn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=UE(a);a!==null;){if(f=a[Qn])return f;a=UE(a)}return l}a=f,f=a.parentNode}return null}function fl(a){if(a=a[Qn]||a[ul]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Gc(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function hl(a){var l=a[vS];return l||(l=a[vS]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Fn(a){a[qc]=!0}var bS=new Set,_S={};function io(a,l){gl(a,l),gl(a+"Capture",l)}function gl(a,l){for(_S[a]=l,a=0;a<l.length;a++)bS.add(l[a])}var II=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),SS={},wS={};function jI(a){return Ye.call(wS,a)?!0:Ye.call(SS,a)?!1:II.test(a)?wS[a]=!0:(SS[a]=!0,!1)}function nf(a,l,f){if(jI(l))if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+f)}}function rf(a,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+f)}}function cs(a,l,f,g){if(g===null)a.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(l,f,""+g)}}function er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function xS(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function PI(a,l,f){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,b=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(T){f=""+T,b.call(this,T)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function $p(a){if(!a._valueTracker){var l=xS(a)?"checked":"value";a._valueTracker=PI(a,l,""+a[l])}}function ES(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return a&&(g=xS(a)?a.checked?"true":"false":a.value),a=g,a!==f?(l.setValue(a),!0):!1}function sf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var LI=/[\n"\\]/g;function tr(a){return a.replace(LI,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qp(a,l,f,g,v,b,T,N){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),l!=null?T==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+er(l)):a.value!==""+er(l)&&(a.value=""+er(l)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),l!=null?Gp(a,T,er(l)):f!=null?Gp(a,T,er(f)):g!=null&&a.removeAttribute("value"),v==null&&b!=null&&(a.defaultChecked=!!b),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.name=""+er(N):a.removeAttribute("name")}function CS(a,l,f,g,v,b,T,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),l!=null||f!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){$p(a);return}f=f!=null?""+er(f):"",l=l!=null?""+er(l):f,N||l===a.value||(a.value=l),a.defaultValue=l}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=N?a.checked:!!g,a.defaultChecked=!!g,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T),$p(a)}function Gp(a,l,f){l==="number"&&sf(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function pl(a,l,f,g){if(a=a.options,l){l={};for(var v=0;v<f.length;v++)l["$"+f[v]]=!0;for(f=0;f<a.length;f++)v=l.hasOwnProperty("$"+a[f].value),a[f].selected!==v&&(a[f].selected=v),v&&g&&(a[f].defaultSelected=!0)}else{for(f=""+er(f),l=null,v=0;v<a.length;v++){if(a[v].value===f){a[v].selected=!0,g&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function TS(a,l,f){if(l!=null&&(l=""+er(l),l!==a.value&&(a.value=l),f==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=f!=null?""+er(f):""}function AS(a,l,f,g){if(l==null){if(g!=null){if(f!=null)throw Error(i(92));if(ve(g)){if(1<g.length)throw Error(i(93));g=g[0]}f=g}f==null&&(f=""),l=f}f=er(l),a.defaultValue=f,g=a.textContent,g===f&&g!==""&&g!==null&&(a.value=g),$p(a)}function ml(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var zI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function RS(a,l,f){var g=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,f):typeof f!="number"||f===0||zI.has(l)?l==="float"?a.cssFloat=f:a[l]=(""+f).trim():a[l]=f+"px"}function DS(a,l,f){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var v in l)g=l[v],l.hasOwnProperty(v)&&f[v]!==g&&RS(a,v,g)}else for(var b in l)l.hasOwnProperty(b)&&RS(a,b,l[b])}function Wp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function af(a){return FI.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function us(){}var Yp=null;function Qp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yl=null,vl=null;function OS(a){var l=fl(a);if(l&&(a=l.stateNode)){var f=a[_i]||null;e:switch(a=l.stateNode,l.type){case"input":if(qp(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+tr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==a&&g.form===a.form){var v=g[_i]||null;if(!v)throw Error(i(90));qp(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<f.length;l++)g=f[l],g.form===a.form&&ES(g)}break e;case"textarea":TS(a,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&pl(a,!!f.multiple,l,!1)}}}var Kp=!1;function kS(a,l,f){if(Kp)return a(l,f);Kp=!0;try{var g=a(l);return g}finally{if(Kp=!1,(yl!==null||vl!==null)&&(Wf(),yl&&(l=yl,a=vl,vl=yl=null,OS(l),a)))for(l=0;l<a.length;l++)OS(a[l])}}function Wc(a,l){var f=a.stateNode;if(f===null)return null;var g=f[_i]||null;if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(i(231,l,typeof f));return f}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=!1;if(ds)try{var Yc={};Object.defineProperty(Yc,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{Xp=!1}var Js=null,Zp=null,of=null;function MS(){if(of)return of;var a,l=Zp,f=l.length,g,v="value"in Js?Js.value:Js.textContent,b=v.length;for(a=0;a<f&&l[a]===v[a];a++);var T=f-a;for(g=1;g<=T&&l[f-g]===v[b-g];g++);return of=v.slice(a,1<g?1-g:void 0)}function lf(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function cf(){return!0}function NS(){return!1}function Si(a){function l(f,g,v,b,T){this._reactName=f,this._targetInst=v,this.type=g,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(f=a[N],this[N]=f?f(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?cf:NS,this.isPropagationStopped=NS,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),l}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=Si(ro),Qc=p({},ro,{view:0,detail:0}),HI=Si(Qc),Jp,em,Kc,df=p({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Kc&&(Kc&&a.type==="mousemove"?(Jp=a.screenX-Kc.screenX,em=a.screenY-Kc.screenY):em=Jp=0,Kc=a),Jp)},movementY:function(a){return"movementY"in a?a.movementY:em}}),IS=Si(df),BI=p({},df,{dataTransfer:0}),VI=Si(BI),$I=p({},Qc,{relatedTarget:0}),tm=Si($I),qI=p({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),GI=Si(qI),WI=p({},ro,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),YI=Si(WI),QI=p({},ro,{data:0}),jS=Si(QI),KI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JI(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ZI[a])?!!l[a]:!1}function nm(){return JI}var ej=p({},Qc,{key:function(a){if(a.key){var l=KI[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=lf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?XI[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nm,charCode:function(a){return a.type==="keypress"?lf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?lf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tj=Si(ej),nj=p({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PS=Si(nj),ij=p({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nm}),rj=Si(ij),sj=p({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),aj=Si(sj),oj=p({},df,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),lj=Si(oj),cj=p({},ro,{newState:0,oldState:0}),uj=Si(cj),dj=[9,13,27,32],im=ds&&"CompositionEvent"in window,Xc=null;ds&&"documentMode"in document&&(Xc=document.documentMode);var fj=ds&&"TextEvent"in window&&!Xc,LS=ds&&(!im||Xc&&8<Xc&&11>=Xc),zS=" ",US=!1;function FS(a,l){switch(a){case"keyup":return dj.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HS(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var bl=!1;function hj(a,l){switch(a){case"compositionend":return HS(l);case"keypress":return l.which!==32?null:(US=!0,zS);case"textInput":return a=l.data,a===zS&&US?null:a;default:return null}}function gj(a,l){if(bl)return a==="compositionend"||!im&&FS(a,l)?(a=MS(),of=Zp=Js=null,bl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return LS&&l.locale!=="ko"?null:l.data;default:return null}}var pj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BS(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!pj[a.type]:l==="textarea"}function VS(a,l,f,g){yl?vl?vl.push(g):vl=[g]:yl=g,l=eh(l,"onChange"),0<l.length&&(f=new uf("onChange","change",null,f,g),a.push({event:f,listeners:l}))}var Zc=null,Jc=null;function mj(a){CE(a,0)}function ff(a){var l=Gc(a);if(ES(l))return a}function $S(a,l){if(a==="change")return l}var qS=!1;if(ds){var rm;if(ds){var sm="oninput"in document;if(!sm){var GS=document.createElement("div");GS.setAttribute("oninput","return;"),sm=typeof GS.oninput=="function"}rm=sm}else rm=!1;qS=rm&&(!document.documentMode||9<document.documentMode)}function WS(){Zc&&(Zc.detachEvent("onpropertychange",YS),Jc=Zc=null)}function YS(a){if(a.propertyName==="value"&&ff(Jc)){var l=[];VS(l,Jc,a,Qp(a)),kS(mj,l)}}function yj(a,l,f){a==="focusin"?(WS(),Zc=l,Jc=f,Zc.attachEvent("onpropertychange",YS)):a==="focusout"&&WS()}function vj(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ff(Jc)}function bj(a,l){if(a==="click")return ff(l)}function _j(a,l){if(a==="input"||a==="change")return ff(l)}function Sj(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Li=typeof Object.is=="function"?Object.is:Sj;function eu(a,l){if(Li(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!Ye.call(l,v)||!Li(a[v],l[v]))return!1}return!0}function QS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function KS(a,l){var f=QS(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=l&&g>=l)return{node:f,offset:l-a};a=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=QS(f)}}function XS(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?XS(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function ZS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=sf(a.document);l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=sf(a.document)}return l}function am(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var wj=ds&&"documentMode"in document&&11>=document.documentMode,_l=null,om=null,tu=null,lm=!1;function JS(a,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;lm||_l==null||_l!==sf(g)||(g=_l,"selectionStart"in g&&am(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),tu&&eu(tu,g)||(tu=g,g=eh(om,"onSelect"),0<g.length&&(l=new uf("onSelect","select",null,l,f),a.push({event:l,listeners:g}),l.target=_l)))}function so(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var Sl={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionrun:so("Transition","TransitionRun"),transitionstart:so("Transition","TransitionStart"),transitioncancel:so("Transition","TransitionCancel"),transitionend:so("Transition","TransitionEnd")},cm={},ew={};ds&&(ew=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function ao(a){if(cm[a])return cm[a];if(!Sl[a])return a;var l=Sl[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in ew)return cm[a]=l[f];return a}var tw=ao("animationend"),nw=ao("animationiteration"),iw=ao("animationstart"),xj=ao("transitionrun"),Ej=ao("transitionstart"),Cj=ao("transitioncancel"),rw=ao("transitionend"),sw=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function Cr(a,l){sw.set(a,l),io(l,[a])}var hf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},nr=[],wl=0,dm=0;function gf(){for(var a=wl,l=dm=wl=0;l<a;){var f=nr[l];nr[l++]=null;var g=nr[l];nr[l++]=null;var v=nr[l];nr[l++]=null;var b=nr[l];if(nr[l++]=null,g!==null&&v!==null){var T=g.pending;T===null?v.next=v:(v.next=T.next,T.next=v),g.pending=v}b!==0&&aw(f,v,b)}}function pf(a,l,f,g){nr[wl++]=a,nr[wl++]=l,nr[wl++]=f,nr[wl++]=g,dm|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function fm(a,l,f,g){return pf(a,l,f,g),mf(a)}function oo(a,l){return pf(a,null,null,l),mf(a)}function aw(a,l,f){a.lanes|=f;var g=a.alternate;g!==null&&(g.lanes|=f);for(var v=!1,b=a.return;b!==null;)b.childLanes|=f,g=b.alternate,g!==null&&(g.childLanes|=f),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(v=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,v&&l!==null&&(v=31-Fe(f),a=b.hiddenUpdates,g=a[v],g===null?a[v]=[l]:g.push(l),l.lane=f|536870912),b):null}function mf(a){if(50<xu)throw xu=0,Sy=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var xl={};function Tj(a,l,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(a,l,f,g){return new Tj(a,l,f,g)}function hm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function fs(a,l){var f=a.alternate;return f===null?(f=zi(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function ow(a,l){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,l=f.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function yf(a,l,f,g,v,b){var T=0;if(g=a,typeof a=="function")hm(a)&&(T=1);else if(typeof a=="string")T=k2(a,f,J.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case U:return a=zi(31,f,l,v),a.elementType=U,a.lanes=b,a;case S:return lo(f.children,v,b,l);case w:T=8,v|=24;break;case x:return a=zi(12,f,l,v|2),a.elementType=x,a.lanes=b,a;case k:return a=zi(13,f,l,v),a.elementType=k,a.lanes=b,a;case j:return a=zi(19,f,l,v),a.elementType=j,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:T=10;break e;case E:T=9;break e;case I:T=11;break e;case M:T=14;break e;case O:T=16,g=null;break e}T=29,f=Error(i(130,a===null?"null":typeof a,"")),g=null}return l=zi(T,f,l,v),l.elementType=a,l.type=g,l.lanes=b,l}function lo(a,l,f,g){return a=zi(7,a,g,l),a.lanes=f,a}function gm(a,l,f){return a=zi(6,a,null,l),a.lanes=f,a}function lw(a){var l=zi(18,null,null,0);return l.stateNode=a,l}function pm(a,l,f){return l=zi(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var cw=new WeakMap;function ir(a,l){if(typeof a=="object"&&a!==null){var f=cw.get(a);return f!==void 0?f:(l={value:a,source:l,stack:Sn(l)},cw.set(a,l),l)}return{value:a,source:l,stack:Sn(l)}}var El=[],Cl=0,vf=null,nu=0,rr=[],sr=0,ea=null,$r=1,qr="";function hs(a,l){El[Cl++]=nu,El[Cl++]=vf,vf=a,nu=l}function uw(a,l,f){rr[sr++]=$r,rr[sr++]=qr,rr[sr++]=ea,ea=a;var g=$r;a=qr;var v=32-Fe(g)-1;g&=~(1<<v),f+=1;var b=32-Fe(l)+v;if(30<b){var T=v-v%5;b=(g&(1<<T)-1).toString(32),g>>=T,v-=T,$r=1<<32-Fe(l)+v|f<<v|g,qr=b+a}else $r=1<<b|f<<v|g,qr=a}function mm(a){a.return!==null&&(hs(a,1),uw(a,1,0))}function ym(a){for(;a===vf;)vf=El[--Cl],El[Cl]=null,nu=El[--Cl],El[Cl]=null;for(;a===ea;)ea=rr[--sr],rr[sr]=null,qr=rr[--sr],rr[sr]=null,$r=rr[--sr],rr[sr]=null}function dw(a,l){rr[sr++]=$r,rr[sr++]=qr,rr[sr++]=ea,$r=l.id,qr=l.overflow,ea=a}var Kn=null,Wt=null,ft=!1,ta=null,ar=!1,vm=Error(i(519));function na(a){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw iu(ir(l,a)),vm}function fw(a){var l=a.stateNode,f=a.type,g=a.memoizedProps;switch(l[Qn]=a,l[_i]=g,f){case"dialog":at("cancel",l),at("close",l);break;case"iframe":case"object":case"embed":at("load",l);break;case"video":case"audio":for(f=0;f<Cu.length;f++)at(Cu[f],l);break;case"source":at("error",l);break;case"img":case"image":case"link":at("error",l),at("load",l);break;case"details":at("toggle",l);break;case"input":at("invalid",l),CS(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":at("invalid",l);break;case"textarea":at("invalid",l),AS(l,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||g.suppressHydrationWarning===!0||DE(l.textContent,f)?(g.popover!=null&&(at("beforetoggle",l),at("toggle",l)),g.onScroll!=null&&at("scroll",l),g.onScrollEnd!=null&&at("scrollend",l),g.onClick!=null&&(l.onclick=us),l=!0):l=!1,l||na(a,!0)}function hw(a){for(Kn=a.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:Kn=Kn.return}}function Tl(a){if(a!==Kn)return!1;if(!ft)return hw(a),ft=!0,!1;var l=a.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||Py(a.type,a.memoizedProps)),f=!f),f&&Wt&&na(a),hw(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Wt=zE(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Wt=zE(a)}else l===27?(l=Wt,ma(a.type)?(a=Hy,Hy=null,Wt=a):Wt=l):Wt=Kn?lr(a.stateNode.nextSibling):null;return!0}function co(){Wt=Kn=null,ft=!1}function bm(){var a=ta;return a!==null&&(Ci===null?Ci=a:Ci.push.apply(Ci,a),ta=null),a}function iu(a){ta===null?ta=[a]:ta.push(a)}var _m=R(null),uo=null,gs=null;function ia(a,l,f){q(_m,l._currentValue),l._currentValue=f}function ps(a){a._currentValue=_m.current,z(_m)}function Sm(a,l,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===f)break;a=a.return}}function wm(a,l,f,g){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var b=v.dependencies;if(b!==null){var T=v.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=v;for(var H=0;H<l.length;H++)if(N.context===l[H]){b.lanes|=f,N=b.alternate,N!==null&&(N.lanes|=f),Sm(b.return,f,a),g||(T=null);break e}b=N.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(i(341));T.lanes|=f,b=T.alternate,b!==null&&(b.lanes|=f),Sm(T,f,a),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===a){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function Al(a,l,f,g){a=null;for(var v=l,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var N=v.type;Li(v.pendingProps.value,T.value)||(a!==null?a.push(N):a=[N])}}else if(v===_e.current){if(T=v.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Ou):a=[Ou])}v=v.return}a!==null&&wm(l,a,f,g),l.flags|=262144}function bf(a){for(a=a.firstContext;a!==null;){if(!Li(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function fo(a){uo=a,gs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xn(a){return gw(uo,a)}function _f(a,l){return uo===null&&fo(a),gw(a,l)}function gw(a,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},gs===null){if(a===null)throw Error(i(308));gs=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else gs=gs.next=l;return f}var Aj=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(f,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(f){return f()})}},Rj=t.unstable_scheduleCallback,Dj=t.unstable_NormalPriority,xn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new Aj,data:new Map,refCount:0}}function ru(a){a.refCount--,a.refCount===0&&Rj(Dj,function(){a.controller.abort()})}var su=null,Em=0,Rl=0,Dl=null;function Oj(a,l){if(su===null){var f=su=[];Em=0,Rl=Ay(),Dl={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Em++,l.then(pw,pw),l}function pw(){if(--Em===0&&su!==null){Dl!==null&&(Dl.status="fulfilled");var a=su;su=null,Rl=0,Dl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function kj(a,l){var f=[],g={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var v=0;v<f.length;v++)(0,f[v])(l)},function(v){for(g.status="rejected",g.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),g}var mw=F.S;F.S=function(a,l){Jx=te(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Oj(a,l),mw!==null&&mw(a,l)};var ho=R(null);function Cm(){var a=ho.current;return a!==null?a:zt.pooledCache}function Sf(a,l){l===null?q(ho,ho.current):q(ho,l.pool)}function yw(){var a=Cm();return a===null?null:{parent:xn._currentValue,pool:a}}var Ol=Error(i(460)),Tm=Error(i(474)),wf=Error(i(542)),xf={then:function(){}};function vw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function bw(a,l,f){switch(f=a[f],f===void 0?a.push(l):f!==l&&(l.then(us,us),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Sw(a),a;default:if(typeof l.status=="string")l.then(us,us);else{if(a=zt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=g}},function(g){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Sw(a),a}throw po=l,Ol}}function go(a){try{var l=a._init;return l(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(po=f,Ol):f}}var po=null;function _w(){if(po===null)throw Error(i(459));var a=po;return po=null,a}function Sw(a){if(a===Ol||a===wf)throw Error(i(483))}var kl=null,au=0;function Ef(a){var l=au;return au+=1,kl===null&&(kl=[]),bw(kl,a,l)}function ou(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Cf(a,l){throw l.$$typeof===m?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function ww(a){function l(W,V){if(a){var Z=W.deletions;Z===null?(W.deletions=[V],W.flags|=16):Z.push(V)}}function f(W,V){if(!a)return null;for(;V!==null;)l(W,V),V=V.sibling;return null}function g(W){for(var V=new Map;W!==null;)W.key!==null?V.set(W.key,W):V.set(W.index,W),W=W.sibling;return V}function v(W,V){return W=fs(W,V),W.index=0,W.sibling=null,W}function b(W,V,Z){return W.index=Z,a?(Z=W.alternate,Z!==null?(Z=Z.index,Z<V?(W.flags|=67108866,V):Z):(W.flags|=67108866,V)):(W.flags|=1048576,V)}function T(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function N(W,V,Z,de){return V===null||V.tag!==6?(V=gm(Z,W.mode,de),V.return=W,V):(V=v(V,Z),V.return=W,V)}function H(W,V,Z,de){var Me=Z.type;return Me===S?le(W,V,Z.props.children,de,Z.key):V!==null&&(V.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===O&&go(Me)===V.type)?(V=v(V,Z.props),ou(V,Z),V.return=W,V):(V=yf(Z.type,Z.key,Z.props,null,W.mode,de),ou(V,Z),V.return=W,V)}function ee(W,V,Z,de){return V===null||V.tag!==4||V.stateNode.containerInfo!==Z.containerInfo||V.stateNode.implementation!==Z.implementation?(V=pm(Z,W.mode,de),V.return=W,V):(V=v(V,Z.children||[]),V.return=W,V)}function le(W,V,Z,de,Me){return V===null||V.tag!==7?(V=lo(Z,W.mode,de,Me),V.return=W,V):(V=v(V,Z),V.return=W,V)}function he(W,V,Z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=gm(""+V,W.mode,Z),V.return=W,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return Z=yf(V.type,V.key,V.props,null,W.mode,Z),ou(Z,V),Z.return=W,Z;case _:return V=pm(V,W.mode,Z),V.return=W,V;case O:return V=go(V),he(W,V,Z)}if(ve(V)||Q(V))return V=lo(V,W.mode,Z,null),V.return=W,V;if(typeof V.then=="function")return he(W,Ef(V),Z);if(V.$$typeof===A)return he(W,_f(W,V),Z);Cf(W,V)}return null}function ne(W,V,Z,de){var Me=V!==null?V.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Me!==null?null:N(W,V,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Me?H(W,V,Z,de):null;case _:return Z.key===Me?ee(W,V,Z,de):null;case O:return Z=go(Z),ne(W,V,Z,de)}if(ve(Z)||Q(Z))return Me!==null?null:le(W,V,Z,de,null);if(typeof Z.then=="function")return ne(W,V,Ef(Z),de);if(Z.$$typeof===A)return ne(W,V,_f(W,Z),de);Cf(W,Z)}return null}function se(W,V,Z,de,Me){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return W=W.get(Z)||null,N(V,W,""+de,Me);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case y:return W=W.get(de.key===null?Z:de.key)||null,H(V,W,de,Me);case _:return W=W.get(de.key===null?Z:de.key)||null,ee(V,W,de,Me);case O:return de=go(de),se(W,V,Z,de,Me)}if(ve(de)||Q(de))return W=W.get(Z)||null,le(V,W,de,Me,null);if(typeof de.then=="function")return se(W,V,Z,Ef(de),Me);if(de.$$typeof===A)return se(W,V,Z,_f(V,de),Me);Cf(V,de)}return null}function Te(W,V,Z,de){for(var Me=null,wt=null,Ae=V,Xe=V=0,lt=null;Ae!==null&&Xe<Z.length;Xe++){Ae.index>Xe?(lt=Ae,Ae=null):lt=Ae.sibling;var xt=ne(W,Ae,Z[Xe],de);if(xt===null){Ae===null&&(Ae=lt);break}a&&Ae&&xt.alternate===null&&l(W,Ae),V=b(xt,V,Xe),wt===null?Me=xt:wt.sibling=xt,wt=xt,Ae=lt}if(Xe===Z.length)return f(W,Ae),ft&&hs(W,Xe),Me;if(Ae===null){for(;Xe<Z.length;Xe++)Ae=he(W,Z[Xe],de),Ae!==null&&(V=b(Ae,V,Xe),wt===null?Me=Ae:wt.sibling=Ae,wt=Ae);return ft&&hs(W,Xe),Me}for(Ae=g(Ae);Xe<Z.length;Xe++)lt=se(Ae,W,Xe,Z[Xe],de),lt!==null&&(a&&lt.alternate!==null&&Ae.delete(lt.key===null?Xe:lt.key),V=b(lt,V,Xe),wt===null?Me=lt:wt.sibling=lt,wt=lt);return a&&Ae.forEach(function(Sa){return l(W,Sa)}),ft&&hs(W,Xe),Me}function Le(W,V,Z,de){if(Z==null)throw Error(i(151));for(var Me=null,wt=null,Ae=V,Xe=V=0,lt=null,xt=Z.next();Ae!==null&&!xt.done;Xe++,xt=Z.next()){Ae.index>Xe?(lt=Ae,Ae=null):lt=Ae.sibling;var Sa=ne(W,Ae,xt.value,de);if(Sa===null){Ae===null&&(Ae=lt);break}a&&Ae&&Sa.alternate===null&&l(W,Ae),V=b(Sa,V,Xe),wt===null?Me=Sa:wt.sibling=Sa,wt=Sa,Ae=lt}if(xt.done)return f(W,Ae),ft&&hs(W,Xe),Me;if(Ae===null){for(;!xt.done;Xe++,xt=Z.next())xt=he(W,xt.value,de),xt!==null&&(V=b(xt,V,Xe),wt===null?Me=xt:wt.sibling=xt,wt=xt);return ft&&hs(W,Xe),Me}for(Ae=g(Ae);!xt.done;Xe++,xt=Z.next())xt=se(Ae,W,Xe,xt.value,de),xt!==null&&(a&&xt.alternate!==null&&Ae.delete(xt.key===null?Xe:xt.key),V=b(xt,V,Xe),wt===null?Me=xt:wt.sibling=xt,wt=xt);return a&&Ae.forEach(function(B2){return l(W,B2)}),ft&&hs(W,Xe),Me}function jt(W,V,Z,de){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Me=Z.key;V!==null;){if(V.key===Me){if(Me=Z.type,Me===S){if(V.tag===7){f(W,V.sibling),de=v(V,Z.props.children),de.return=W,W=de;break e}}else if(V.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===O&&go(Me)===V.type){f(W,V.sibling),de=v(V,Z.props),ou(de,Z),de.return=W,W=de;break e}f(W,V);break}else l(W,V);V=V.sibling}Z.type===S?(de=lo(Z.props.children,W.mode,de,Z.key),de.return=W,W=de):(de=yf(Z.type,Z.key,Z.props,null,W.mode,de),ou(de,Z),de.return=W,W=de)}return T(W);case _:e:{for(Me=Z.key;V!==null;){if(V.key===Me)if(V.tag===4&&V.stateNode.containerInfo===Z.containerInfo&&V.stateNode.implementation===Z.implementation){f(W,V.sibling),de=v(V,Z.children||[]),de.return=W,W=de;break e}else{f(W,V);break}else l(W,V);V=V.sibling}de=pm(Z,W.mode,de),de.return=W,W=de}return T(W);case O:return Z=go(Z),jt(W,V,Z,de)}if(ve(Z))return Te(W,V,Z,de);if(Q(Z)){if(Me=Q(Z),typeof Me!="function")throw Error(i(150));return Z=Me.call(Z),Le(W,V,Z,de)}if(typeof Z.then=="function")return jt(W,V,Ef(Z),de);if(Z.$$typeof===A)return jt(W,V,_f(W,Z),de);Cf(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,V!==null&&V.tag===6?(f(W,V.sibling),de=v(V,Z),de.return=W,W=de):(f(W,V),de=gm(Z,W.mode,de),de.return=W,W=de),T(W)):f(W,V)}return function(W,V,Z,de){try{au=0;var Me=jt(W,V,Z,de);return kl=null,Me}catch(Ae){if(Ae===Ol||Ae===wf)throw Ae;var wt=zi(29,Ae,null,W.mode);return wt.lanes=de,wt.return=W,wt}finally{}}}var mo=ww(!0),xw=ww(!1),ra=!1;function Am(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function sa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function aa(a,l,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Tt&2)!==0){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,l=mf(a),aw(a,null,f),l}return pf(a,g,l,f),mf(a)}function lu(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,Gt(a,f)}}function Dm(a,l){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var v=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var T={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};b===null?v=b=T:b=b.next=T,f=f.next}while(f!==null);b===null?v=b=l:b=b.next=l}else v=b=l;f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:g.shared,callbacks:g.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}var Om=!1;function cu(){if(Om){var a=Dl;if(a!==null)throw a}}function uu(a,l,f,g){Om=!1;var v=a.updateQueue;ra=!1;var b=v.firstBaseUpdate,T=v.lastBaseUpdate,N=v.shared.pending;if(N!==null){v.shared.pending=null;var H=N,ee=H.next;H.next=null,T===null?b=ee:T.next=ee,T=H;var le=a.alternate;le!==null&&(le=le.updateQueue,N=le.lastBaseUpdate,N!==T&&(N===null?le.firstBaseUpdate=ee:N.next=ee,le.lastBaseUpdate=H))}if(b!==null){var he=v.baseState;T=0,le=ee=H=null,N=b;do{var ne=N.lane&-536870913,se=ne!==N.lane;if(se?(ot&ne)===ne:(g&ne)===ne){ne!==0&&ne===Rl&&(Om=!0),le!==null&&(le=le.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Te=a,Le=N;ne=l;var jt=f;switch(Le.tag){case 1:if(Te=Le.payload,typeof Te=="function"){he=Te.call(jt,he,ne);break e}he=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Le.payload,ne=typeof Te=="function"?Te.call(jt,he,ne):Te,ne==null)break e;he=p({},he,ne);break e;case 2:ra=!0}}ne=N.callback,ne!==null&&(a.flags|=64,se&&(a.flags|=8192),se=v.callbacks,se===null?v.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:N.tag,payload:N.payload,callback:N.callback,next:null},le===null?(ee=le=se,H=he):le=le.next=se,T|=ne;if(N=N.next,N===null){if(N=v.shared.pending,N===null)break;se=N,N=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);le===null&&(H=he),v.baseState=H,v.firstBaseUpdate=ee,v.lastBaseUpdate=le,b===null&&(v.shared.lanes=0),da|=T,a.lanes=T,a.memoizedState=he}}function Ew(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Cw(a,l){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)Ew(f[a],l)}var Ml=R(null),Tf=R(0);function Tw(a,l){a=Es,q(Tf,a),q(Ml,l),Es=a|l.baseLanes}function km(){q(Tf,Es),q(Ml,Ml.current)}function Mm(){Es=Tf.current,z(Ml),z(Tf)}var Ui=R(null),or=null;function oa(a){var l=a.alternate;q(yn,yn.current&1),q(Ui,a),or===null&&(l===null||Ml.current!==null||l.memoizedState!==null)&&(or=a)}function Nm(a){q(yn,yn.current),q(Ui,a),or===null&&(or=a)}function Aw(a){a.tag===22?(q(yn,yn.current),q(Ui,a),or===null&&(or=a)):la()}function la(){q(yn,yn.current),q(Ui,Ui.current)}function Fi(a){z(Ui),or===a&&(or=null),z(yn)}var yn=R(0);function Af(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Uy(f)||Fy(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ms=0,We=null,Nt=null,En=null,Rf=!1,Nl=!1,yo=!1,Df=0,du=0,Il=null,Mj=0;function fn(){throw Error(i(321))}function Im(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!Li(a[f],l[f]))return!1;return!0}function jm(a,l,f,g,v,b){return ms=b,We=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,F.H=a===null||a.memoizedState===null?ux:Km,yo=!1,b=f(g,v),yo=!1,Nl&&(b=Dw(l,f,g,v)),Rw(a),b}function Rw(a){F.H=gu;var l=Nt!==null&&Nt.next!==null;if(ms=0,En=Nt=We=null,Rf=!1,du=0,Il=null,l)throw Error(i(300));a===null||Cn||(a=a.dependencies,a!==null&&bf(a)&&(Cn=!0))}function Dw(a,l,f,g){We=a;var v=0;do{if(Nl&&(Il=null),du=0,Nl=!1,25<=v)throw Error(i(301));if(v+=1,En=Nt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=dx,b=l(f,g)}while(Nl);return b}function Nj(){var a=F.H,l=a.useState()[0];return l=typeof l.then=="function"?fu(l):l,a=a.useState()[0],(Nt!==null?Nt.memoizedState:null)!==a&&(We.flags|=1024),l}function Pm(){var a=Df!==0;return Df=0,a}function Lm(a,l,f){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~f}function zm(a){if(Rf){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Rf=!1}ms=0,En=Nt=We=null,Nl=!1,du=Df=0,Il=null}function hi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?We.memoizedState=En=a:En=En.next=a,En}function vn(){if(Nt===null){var a=We.alternate;a=a!==null?a.memoizedState:null}else a=Nt.next;var l=En===null?We.memoizedState:En.next;if(l!==null)En=l,Nt=a;else{if(a===null)throw We.alternate===null?Error(i(467)):Error(i(310));Nt=a,a={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},En===null?We.memoizedState=En=a:En=En.next=a}return En}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(a){var l=du;return du+=1,Il===null&&(Il=[]),a=bw(Il,a,l),l=We,(En===null?l.memoizedState:En.next)===null&&(l=l.alternate,F.H=l===null||l.memoizedState===null?ux:Km),a}function kf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return fu(a);if(a.$$typeof===A)return Xn(a)}throw Error(i(438,String(a)))}function Um(a){var l=null,f=We.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var g=We.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Of(),We.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(a),g=0;g<a;g++)f[g]=B;return l.index++,f}function ys(a,l){return typeof l=="function"?l(a):l}function Mf(a){var l=vn();return Fm(l,Nt,a)}function Fm(a,l,f){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=f;var v=a.baseQueue,b=g.pending;if(b!==null){if(v!==null){var T=v.next;v.next=b.next,b.next=T}l.baseQueue=v=b,g.pending=null}if(b=a.baseState,v===null)a.memoizedState=b;else{l=v.next;var N=T=null,H=null,ee=l,le=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(ot&he)===he:(ms&he)===he){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===Rl&&(le=!0);else if((ms&ne)===ne){ee=ee.next,ne===Rl&&(le=!0);continue}else he={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(N=H=he,T=b):H=H.next=he,We.lanes|=ne,da|=ne;he=ee.action,yo&&f(b,he),b=ee.hasEagerState?ee.eagerState:f(b,he)}else ne={lane:he,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(N=H=ne,T=b):H=H.next=ne,We.lanes|=he,da|=he;ee=ee.next}while(ee!==null&&ee!==l);if(H===null?T=b:H.next=N,!Li(b,a.memoizedState)&&(Cn=!0,le&&(f=Dl,f!==null)))throw f;a.memoizedState=b,a.baseState=T,a.baseQueue=H,g.lastRenderedState=b}return v===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Hm(a){var l=vn(),f=l.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=a;var g=f.dispatch,v=f.pending,b=l.memoizedState;if(v!==null){f.pending=null;var T=v=v.next;do b=a(b,T.action),T=T.next;while(T!==v);Li(b,l.memoizedState)||(Cn=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),f.lastRenderedState=b}return[b,g]}function Ow(a,l,f){var g=We,v=vn(),b=ft;if(b){if(f===void 0)throw Error(i(407));f=f()}else f=l();var T=!Li((Nt||v).memoizedState,f);if(T&&(v.memoizedState=f,Cn=!0),v=v.queue,$m(Nw.bind(null,g,v,a),[a]),v.getSnapshot!==l||T||En!==null&&En.memoizedState.tag&1){if(g.flags|=2048,jl(9,{destroy:void 0},Mw.bind(null,g,v,f,l),null),zt===null)throw Error(i(349));b||(ms&127)!==0||kw(g,l,f)}return f}function kw(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=We.updateQueue,l===null?(l=Of(),We.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function Mw(a,l,f,g){l.value=f,l.getSnapshot=g,Iw(l)&&jw(a)}function Nw(a,l,f){return f(function(){Iw(l)&&jw(a)})}function Iw(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!Li(a,f)}catch{return!0}}function jw(a){var l=oo(a,2);l!==null&&Ti(l,a,2)}function Bm(a){var l=hi();if(typeof a=="function"){var f=a;if(a=f(),yo){rt(!0);try{f()}finally{rt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:a},l}function Pw(a,l,f,g){return a.baseState=f,Fm(a,Nt,typeof g=="function"?g:ys)}function Ij(a,l,f,g,v){if(jf(a))throw Error(i(485));if(a=l.action,a!==null){var b={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};F.T!==null?f(!0):b.isTransition=!1,g(b),f=l.pending,f===null?(b.next=l.pending=b,Lw(l,b)):(b.next=f.next,l.pending=f.next=b)}}function Lw(a,l){var f=l.action,g=l.payload,v=a.state;if(l.isTransition){var b=F.T,T={};F.T=T;try{var N=f(v,g),H=F.S;H!==null&&H(T,N),zw(a,l,N)}catch(ee){Vm(a,l,ee)}finally{b!==null&&T.types!==null&&(b.types=T.types),F.T=b}}else try{b=f(v,g),zw(a,l,b)}catch(ee){Vm(a,l,ee)}}function zw(a,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){Uw(a,l,g)},function(g){return Vm(a,l,g)}):Uw(a,l,f)}function Uw(a,l,f){l.status="fulfilled",l.value=f,Fw(l),a.state=f,l=a.pending,l!==null&&(f=l.next,f===l?a.pending=null:(f=f.next,l.next=f,Lw(a,f)))}function Vm(a,l,f){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=f,Fw(l),l=l.next;while(l!==g)}a.action=null}function Fw(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Hw(a,l){return l}function Bw(a,l){if(ft){var f=zt.formState;if(f!==null){e:{var g=We;if(ft){if(Wt){t:{for(var v=Wt,b=ar;v.nodeType!==8;){if(!b){v=null;break t}if(v=lr(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Wt=lr(v.nextSibling),g=v.data==="F!";break e}}na(g)}g=!1}g&&(l=f[0])}}return f=hi(),f.memoizedState=f.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hw,lastRenderedState:l},f.queue=g,f=ox.bind(null,We,g),g.dispatch=f,g=Bm(!1),b=Qm.bind(null,We,!1,g.queue),g=hi(),v={state:l,dispatch:null,action:a,pending:null},g.queue=v,f=Ij.bind(null,We,v,b,f),v.dispatch=f,g.memoizedState=a,[l,f,!1]}function Vw(a){var l=vn();return $w(l,Nt,a)}function $w(a,l,f){if(l=Fm(a,l,Hw)[0],a=Mf(ys)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=fu(l)}catch(T){throw T===Ol?wf:T}else g=l;l=vn();var v=l.queue,b=v.dispatch;return f!==l.memoizedState&&(We.flags|=2048,jl(9,{destroy:void 0},jj.bind(null,v,f),null)),[g,b,a]}function jj(a,l){a.action=l}function qw(a){var l=vn(),f=Nt;if(f!==null)return $w(l,f,a);vn(),l=l.memoizedState,f=vn();var g=f.queue.dispatch;return f.memoizedState=a,[l,g,!1]}function jl(a,l,f,g){return a={tag:a,create:f,deps:g,inst:l,next:null},l=We.updateQueue,l===null&&(l=Of(),We.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,l.lastEffect=a),a}function Gw(){return vn().memoizedState}function Nf(a,l,f,g){var v=hi();We.flags|=a,v.memoizedState=jl(1|l,{destroy:void 0},f,g===void 0?null:g)}function If(a,l,f,g){var v=vn();g=g===void 0?null:g;var b=v.memoizedState.inst;Nt!==null&&g!==null&&Im(g,Nt.memoizedState.deps)?v.memoizedState=jl(l,b,f,g):(We.flags|=a,v.memoizedState=jl(1|l,b,f,g))}function Ww(a,l){Nf(8390656,8,a,l)}function $m(a,l){If(2048,8,a,l)}function Pj(a){We.flags|=4;var l=We.updateQueue;if(l===null)l=Of(),We.updateQueue=l,l.events=[a];else{var f=l.events;f===null?l.events=[a]:f.push(a)}}function Yw(a){var l=vn().memoizedState;return Pj({ref:l,nextImpl:a}),function(){if((Tt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function Qw(a,l){return If(4,2,a,l)}function Kw(a,l){return If(4,4,a,l)}function Xw(a,l){if(typeof l=="function"){a=a();var f=l(a);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Zw(a,l,f){f=f!=null?f.concat([a]):null,If(4,4,Xw.bind(null,l,a),f)}function qm(){}function Jw(a,l){var f=vn();l=l===void 0?null:l;var g=f.memoizedState;return l!==null&&Im(l,g[1])?g[0]:(f.memoizedState=[a,l],a)}function ex(a,l){var f=vn();l=l===void 0?null:l;var g=f.memoizedState;if(l!==null&&Im(l,g[1]))return g[0];if(g=a(),yo){rt(!0);try{a()}finally{rt(!1)}}return f.memoizedState=[g,l],g}function Gm(a,l,f){return f===void 0||(ms&1073741824)!==0&&(ot&261930)===0?a.memoizedState=l:(a.memoizedState=f,a=tE(),We.lanes|=a,da|=a,f)}function tx(a,l,f,g){return Li(f,l)?f:Ml.current!==null?(a=Gm(a,f,g),Li(a,l)||(Cn=!0),a):(ms&42)===0||(ms&1073741824)!==0&&(ot&261930)===0?(Cn=!0,a.memoizedState=f):(a=tE(),We.lanes|=a,da|=a,l)}function nx(a,l,f,g,v){var b=K.p;K.p=b!==0&&8>b?b:8;var T=F.T,N={};F.T=N,Qm(a,!1,l,f);try{var H=v(),ee=F.S;if(ee!==null&&ee(N,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=kj(H,g);hu(a,l,le,Vi(a))}else hu(a,l,g,Vi(a))}catch(he){hu(a,l,{then:function(){},status:"rejected",reason:he},Vi())}finally{K.p=b,T!==null&&N.types!==null&&(T.types=N.types),F.T=T}}function Lj(){}function Wm(a,l,f,g){if(a.tag!==5)throw Error(i(476));var v=ix(a).queue;nx(a,v,l,ue,f===null?Lj:function(){return rx(a),f(g)})}function ix(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ue},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:f},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function rx(a){var l=ix(a);l.next===null&&(l=a.alternate.memoizedState),hu(a,l.next.queue,{},Vi())}function Ym(){return Xn(Ou)}function sx(){return vn().memoizedState}function ax(){return vn().memoizedState}function zj(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var f=Vi();a=sa(f);var g=aa(l,a,f);g!==null&&(Ti(g,l,f),lu(g,l,f)),l={cache:xm()},a.payload=l;return}l=l.return}}function Uj(a,l,f){var g=Vi();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},jf(a)?lx(l,f):(f=fm(a,l,f,g),f!==null&&(Ti(f,a,g),cx(f,l,g)))}function ox(a,l,f){var g=Vi();hu(a,l,f,g)}function hu(a,l,f,g){var v={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(jf(a))lx(l,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var T=l.lastRenderedState,N=b(T,f);if(v.hasEagerState=!0,v.eagerState=N,Li(N,T))return pf(a,l,v,0),zt===null&&gf(),!1}catch{}finally{}if(f=fm(a,l,v,g),f!==null)return Ti(f,a,g),cx(f,l,g),!0}return!1}function Qm(a,l,f,g){if(g={lane:2,revertLane:Ay(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},jf(a)){if(l)throw Error(i(479))}else l=fm(a,f,g,2),l!==null&&Ti(l,a,2)}function jf(a){var l=a.alternate;return a===We||l!==null&&l===We}function lx(a,l){Nl=Rf=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function cx(a,l,f){if((f&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,Gt(a,f)}}var gu={readContext:Xn,use:kf,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};gu.useEffectEvent=fn;var ux={readContext:Xn,use:kf,useCallback:function(a,l){return hi().memoizedState=[a,l===void 0?null:l],a},useContext:Xn,useEffect:Ww,useImperativeHandle:function(a,l,f){f=f!=null?f.concat([a]):null,Nf(4194308,4,Xw.bind(null,l,a),f)},useLayoutEffect:function(a,l){return Nf(4194308,4,a,l)},useInsertionEffect:function(a,l){Nf(4,2,a,l)},useMemo:function(a,l){var f=hi();l=l===void 0?null:l;var g=a();if(yo){rt(!0);try{a()}finally{rt(!1)}}return f.memoizedState=[g,l],g},useReducer:function(a,l,f){var g=hi();if(f!==void 0){var v=f(l);if(yo){rt(!0);try{f(l)}finally{rt(!1)}}}else v=l;return g.memoizedState=g.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},g.queue=a,a=a.dispatch=Uj.bind(null,We,a),[g.memoizedState,a]},useRef:function(a){var l=hi();return a={current:a},l.memoizedState=a},useState:function(a){a=Bm(a);var l=a.queue,f=ox.bind(null,We,l);return l.dispatch=f,[a.memoizedState,f]},useDebugValue:qm,useDeferredValue:function(a,l){var f=hi();return Gm(f,a,l)},useTransition:function(){var a=Bm(!1);return a=nx.bind(null,We,a.queue,!0,!1),hi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,f){var g=We,v=hi();if(ft){if(f===void 0)throw Error(i(407));f=f()}else{if(f=l(),zt===null)throw Error(i(349));(ot&127)!==0||kw(g,l,f)}v.memoizedState=f;var b={value:f,getSnapshot:l};return v.queue=b,Ww(Nw.bind(null,g,b,a),[a]),g.flags|=2048,jl(9,{destroy:void 0},Mw.bind(null,g,b,f,l),null),f},useId:function(){var a=hi(),l=zt.identifierPrefix;if(ft){var f=qr,g=$r;f=(g&~(1<<32-Fe(g)-1)).toString(32)+f,l="_"+l+"R_"+f,f=Df++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=Mj++,l="_"+l+"r_"+f.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Ym,useFormState:Bw,useActionState:Bw,useOptimistic:function(a){var l=hi();l.memoizedState=l.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Qm.bind(null,We,!0,f),f.dispatch=l,[a,l]},useMemoCache:Um,useCacheRefresh:function(){return hi().memoizedState=zj.bind(null,We)},useEffectEvent:function(a){var l=hi(),f={impl:a};return l.memoizedState=f,function(){if((Tt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},Km={readContext:Xn,use:kf,useCallback:Jw,useContext:Xn,useEffect:$m,useImperativeHandle:Zw,useInsertionEffect:Qw,useLayoutEffect:Kw,useMemo:ex,useReducer:Mf,useRef:Gw,useState:function(){return Mf(ys)},useDebugValue:qm,useDeferredValue:function(a,l){var f=vn();return tx(f,Nt.memoizedState,a,l)},useTransition:function(){var a=Mf(ys)[0],l=vn().memoizedState;return[typeof a=="boolean"?a:fu(a),l]},useSyncExternalStore:Ow,useId:sx,useHostTransitionStatus:Ym,useFormState:Vw,useActionState:Vw,useOptimistic:function(a,l){var f=vn();return Pw(f,Nt,a,l)},useMemoCache:Um,useCacheRefresh:ax};Km.useEffectEvent=Yw;var dx={readContext:Xn,use:kf,useCallback:Jw,useContext:Xn,useEffect:$m,useImperativeHandle:Zw,useInsertionEffect:Qw,useLayoutEffect:Kw,useMemo:ex,useReducer:Hm,useRef:Gw,useState:function(){return Hm(ys)},useDebugValue:qm,useDeferredValue:function(a,l){var f=vn();return Nt===null?Gm(f,a,l):tx(f,Nt.memoizedState,a,l)},useTransition:function(){var a=Hm(ys)[0],l=vn().memoizedState;return[typeof a=="boolean"?a:fu(a),l]},useSyncExternalStore:Ow,useId:sx,useHostTransitionStatus:Ym,useFormState:qw,useActionState:qw,useOptimistic:function(a,l){var f=vn();return Nt!==null?Pw(f,Nt,a,l):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:Um,useCacheRefresh:ax};dx.useEffectEvent=Yw;function Xm(a,l,f,g){l=a.memoizedState,f=f(g,l),f=f==null?l:p({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Zm={enqueueSetState:function(a,l,f){a=a._reactInternals;var g=Vi(),v=sa(g);v.payload=l,f!=null&&(v.callback=f),l=aa(a,v,g),l!==null&&(Ti(l,a,g),lu(l,a,g))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var g=Vi(),v=sa(g);v.tag=1,v.payload=l,f!=null&&(v.callback=f),l=aa(a,v,g),l!==null&&(Ti(l,a,g),lu(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=Vi(),g=sa(f);g.tag=2,l!=null&&(g.callback=l),l=aa(a,g,f),l!==null&&(Ti(l,a,f),lu(l,a,f))}};function fx(a,l,f,g,v,b,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,b,T):l.prototype&&l.prototype.isPureReactComponent?!eu(f,g)||!eu(v,b):!0}function hx(a,l,f,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==a&&Zm.enqueueReplaceState(l,l.state,null)}function vo(a,l){var f=l;if("ref"in l){f={};for(var g in l)g!=="ref"&&(f[g]=l[g])}if(a=a.defaultProps){f===l&&(f=p({},f));for(var v in a)f[v]===void 0&&(f[v]=a[v])}return f}function gx(a){hf(a)}function px(a){console.error(a)}function mx(a){hf(a)}function Pf(a,l){try{var f=a.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function yx(a,l,f){try{var g=a.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Jm(a,l,f){return f=sa(f),f.tag=3,f.payload={element:null},f.callback=function(){Pf(a,l)},f}function vx(a){return a=sa(a),a.tag=3,a}function bx(a,l,f,g){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var b=g.value;a.payload=function(){return v(b)},a.callback=function(){yx(l,f,g)}}var T=f.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){yx(l,f,g),typeof v!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var N=g.stack;this.componentDidCatch(g.value,{componentStack:N!==null?N:""})})}function Fj(a,l,f,g,v){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=f.alternate,l!==null&&Al(l,f,v,!0),f=Ui.current,f!==null){switch(f.tag){case 31:case 13:return or===null?Yf():f.alternate===null&&hn===0&&(hn=3),f.flags&=-257,f.flags|=65536,f.lanes=v,g===xf?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([g]):l.add(g),Ey(a,g,v)),!1;case 22:return f.flags|=65536,g===xf?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([g]):f.add(g)),Ey(a,g,v)),!1}throw Error(i(435,f.tag))}return Ey(a,g,v),Yf(),!1}if(ft)return l=Ui.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,g!==vm&&(a=Error(i(422),{cause:g}),iu(ir(a,f)))):(g!==vm&&(l=Error(i(423),{cause:g}),iu(ir(l,f))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,g=ir(g,f),v=Jm(a.stateNode,g,v),Dm(a,v),hn!==4&&(hn=2)),!1;var b=Error(i(520),{cause:g});if(b=ir(b,f),wu===null?wu=[b]:wu.push(b),hn!==4&&(hn=2),l===null)return!0;g=ir(g,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,a=v&-v,f.lanes|=a,a=Jm(f.stateNode,g,a),Dm(f,a),!1;case 1:if(l=f.type,b=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fa===null||!fa.has(b))))return f.flags|=65536,v&=-v,f.lanes|=v,v=vx(v),bx(v,a,f,g),Dm(f,v),!1}f=f.return}while(f!==null);return!1}var ey=Error(i(461)),Cn=!1;function Zn(a,l,f,g){l.child=a===null?xw(l,null,f,g):mo(l,a.child,f,g)}function _x(a,l,f,g,v){f=f.render;var b=l.ref;if("ref"in g){var T={};for(var N in g)N!=="ref"&&(T[N]=g[N])}else T=g;return fo(l),g=jm(a,l,f,T,b,v),N=Pm(),a!==null&&!Cn?(Lm(a,l,v),vs(a,l,v)):(ft&&N&&mm(l),l.flags|=1,Zn(a,l,g,v),l.child)}function Sx(a,l,f,g,v){if(a===null){var b=f.type;return typeof b=="function"&&!hm(b)&&b.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=b,wx(a,l,b,g,v)):(a=yf(f.type,null,g,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(b=a.child,!ly(a,v)){var T=b.memoizedProps;if(f=f.compare,f=f!==null?f:eu,f(T,g)&&a.ref===l.ref)return vs(a,l,v)}return l.flags|=1,a=fs(b,g),a.ref=l.ref,a.return=l,l.child=a}function wx(a,l,f,g,v){if(a!==null){var b=a.memoizedProps;if(eu(b,g)&&a.ref===l.ref)if(Cn=!1,l.pendingProps=g=b,ly(a,v))(a.flags&131072)!==0&&(Cn=!0);else return l.lanes=a.lanes,vs(a,l,v)}return ty(a,l,f,g,v)}function xx(a,l,f,g){var v=g.children,b=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|f:f,a!==null){for(g=l.child=a.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~b}else g=0,l.child=null;return Ex(a,l,b,f,g)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Sf(l,b!==null?b.cachePool:null),b!==null?Tw(l,b):km(),Aw(l);else return g=l.lanes=536870912,Ex(a,l,b!==null?b.baseLanes|f:f,f,g)}else b!==null?(Sf(l,b.cachePool),Tw(l,b),la(),l.memoizedState=null):(a!==null&&Sf(l,null),km(),la());return Zn(a,l,v,f),l.child}function pu(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Ex(a,l,f,g,v){var b=Cm();return b=b===null?null:{parent:xn._currentValue,pool:b},l.memoizedState={baseLanes:f,cachePool:b},a!==null&&Sf(l,null),km(),Aw(l),a!==null&&Al(a,l,g,!0),l.childLanes=v,null}function Lf(a,l){return l=Uf({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function Cx(a,l,f){return mo(l,a.child,null,f),a=Lf(l,l.pendingProps),a.flags|=2,Fi(l),l.memoizedState=null,a}function Hj(a,l,f){var g=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(ft){if(g.mode==="hidden")return a=Lf(l,g),l.lanes=536870912,pu(null,a);if(Nm(l),(a=Wt)?(a=LE(a,ar),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ea!==null?{id:$r,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},f=lw(a),f.return=l,l.child=f,Kn=l,Wt=null)):a=null,a===null)throw na(l);return l.lanes=536870912,null}return Lf(l,g)}var b=a.memoizedState;if(b!==null){var T=b.dehydrated;if(Nm(l),v)if(l.flags&256)l.flags&=-257,l=Cx(a,l,f);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(i(558));else if(Cn||Al(a,l,f,!1),v=(f&a.childLanes)!==0,Cn||v){if(g=zt,g!==null&&(T=en(g,f),T!==0&&T!==b.retryLane))throw b.retryLane=T,oo(a,T),Ti(g,a,T),ey;Yf(),l=Cx(a,l,f)}else a=b.treeContext,Wt=lr(T.nextSibling),Kn=l,ft=!0,ta=null,ar=!1,a!==null&&dw(l,a),l=Lf(l,g),l.flags|=4096;return l}return a=fs(a.child,{mode:g.mode,children:g.children}),a.ref=l.ref,l.child=a,a.return=l,a}function zf(a,l){var f=l.ref;if(f===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(a===null||a.ref!==f)&&(l.flags|=4194816)}}function ty(a,l,f,g,v){return fo(l),f=jm(a,l,f,g,void 0,v),g=Pm(),a!==null&&!Cn?(Lm(a,l,v),vs(a,l,v)):(ft&&g&&mm(l),l.flags|=1,Zn(a,l,f,v),l.child)}function Tx(a,l,f,g,v,b){return fo(l),l.updateQueue=null,f=Dw(l,g,f,v),Rw(a),g=Pm(),a!==null&&!Cn?(Lm(a,l,b),vs(a,l,b)):(ft&&g&&mm(l),l.flags|=1,Zn(a,l,f,b),l.child)}function Ax(a,l,f,g,v){if(fo(l),l.stateNode===null){var b=xl,T=f.contextType;typeof T=="object"&&T!==null&&(b=Xn(T)),b=new f(g,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Zm,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=g,b.state=l.memoizedState,b.refs={},Am(l),T=f.contextType,b.context=typeof T=="object"&&T!==null?Xn(T):xl,b.state=l.memoizedState,T=f.getDerivedStateFromProps,typeof T=="function"&&(Xm(l,f,T,g),b.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&Zm.enqueueReplaceState(b,b.state,null),uu(l,g,b,v),cu(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){b=l.stateNode;var N=l.memoizedProps,H=vo(f,N);b.props=H;var ee=b.context,le=f.contextType;T=xl,typeof le=="object"&&le!==null&&(T=Xn(le));var he=f.getDerivedStateFromProps;le=typeof he=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||ee!==T)&&hx(l,b,g,T),ra=!1;var ne=l.memoizedState;b.state=ne,uu(l,g,b,v),cu(),ee=l.memoizedState,N||ne!==ee||ra?(typeof he=="function"&&(Xm(l,f,he,g),ee=l.memoizedState),(H=ra||fx(l,f,H,g,ne,ee,T))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=ee),b.props=g,b.state=ee,b.context=T,g=H):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{b=l.stateNode,Rm(a,l),T=l.memoizedProps,le=vo(f,T),b.props=le,he=l.pendingProps,ne=b.context,ee=f.contextType,H=xl,typeof ee=="object"&&ee!==null&&(H=Xn(ee)),N=f.getDerivedStateFromProps,(ee=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==he||ne!==H)&&hx(l,b,g,H),ra=!1,ne=l.memoizedState,b.state=ne,uu(l,g,b,v),cu();var se=l.memoizedState;T!==he||ne!==se||ra||a!==null&&a.dependencies!==null&&bf(a.dependencies)?(typeof N=="function"&&(Xm(l,f,N,g),se=l.memoizedState),(le=ra||fx(l,f,le,g,ne,se,H)||a!==null&&a.dependencies!==null&&bf(a.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(g,se,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(g,se,H)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===a.memoizedProps&&ne===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&ne===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=se),b.props=g,b.state=se,b.context=H,g=le):(typeof b.componentDidUpdate!="function"||T===a.memoizedProps&&ne===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&ne===a.memoizedState||(l.flags|=1024),g=!1)}return b=g,zf(a,l),g=(l.flags&128)!==0,b||g?(b=l.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,a!==null&&g?(l.child=mo(l,a.child,null,v),l.child=mo(l,null,f,v)):Zn(a,l,f,v),l.memoizedState=b.state,a=l.child):a=vs(a,l,v),a}function Rx(a,l,f,g){return co(),l.flags|=256,Zn(a,l,f,g),l.child}var ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iy(a){return{baseLanes:a,cachePool:yw()}}function ry(a,l,f){return a=a!==null?a.childLanes&~f:0,l&&(a|=Bi),a}function Dx(a,l,f){var g=l.pendingProps,v=!1,b=(l.flags&128)!==0,T;if((T=b)||(T=a!==null&&a.memoizedState===null?!1:(yn.current&2)!==0),T&&(v=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,a===null){if(ft){if(v?oa(l):la(),(a=Wt)?(a=LE(a,ar),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ea!==null?{id:$r,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},f=lw(a),f.return=l,l.child=f,Kn=l,Wt=null)):a=null,a===null)throw na(l);return Fy(a)?l.lanes=32:l.lanes=536870912,null}var N=g.children;return g=g.fallback,v?(la(),v=l.mode,N=Uf({mode:"hidden",children:N},v),g=lo(g,v,f,null),N.return=l,g.return=l,N.sibling=g,l.child=N,g=l.child,g.memoizedState=iy(f),g.childLanes=ry(a,T,f),l.memoizedState=ny,pu(null,g)):(oa(l),sy(l,N))}var H=a.memoizedState;if(H!==null&&(N=H.dehydrated,N!==null)){if(b)l.flags&256?(oa(l),l.flags&=-257,l=ay(a,l,f)):l.memoizedState!==null?(la(),l.child=a.child,l.flags|=128,l=null):(la(),N=g.fallback,v=l.mode,g=Uf({mode:"visible",children:g.children},v),N=lo(N,v,f,null),N.flags|=2,g.return=l,N.return=l,g.sibling=N,l.child=g,mo(l,a.child,null,f),g=l.child,g.memoizedState=iy(f),g.childLanes=ry(a,T,f),l.memoizedState=ny,l=pu(null,g));else if(oa(l),Fy(N)){if(T=N.nextSibling&&N.nextSibling.dataset,T)var ee=T.dgst;T=ee,g=Error(i(419)),g.stack="",g.digest=T,iu({value:g,source:null,stack:null}),l=ay(a,l,f)}else if(Cn||Al(a,l,f,!1),T=(f&a.childLanes)!==0,Cn||T){if(T=zt,T!==null&&(g=en(T,f),g!==0&&g!==H.retryLane))throw H.retryLane=g,oo(a,g),Ti(T,a,g),ey;Uy(N)||Yf(),l=ay(a,l,f)}else Uy(N)?(l.flags|=192,l.child=a.child,l=null):(a=H.treeContext,Wt=lr(N.nextSibling),Kn=l,ft=!0,ta=null,ar=!1,a!==null&&dw(l,a),l=sy(l,g.children),l.flags|=4096);return l}return v?(la(),N=g.fallback,v=l.mode,H=a.child,ee=H.sibling,g=fs(H,{mode:"hidden",children:g.children}),g.subtreeFlags=H.subtreeFlags&65011712,ee!==null?N=fs(ee,N):(N=lo(N,v,f,null),N.flags|=2),N.return=l,g.return=l,g.sibling=N,l.child=g,pu(null,g),g=l.child,N=a.child.memoizedState,N===null?N=iy(f):(v=N.cachePool,v!==null?(H=xn._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=yw(),N={baseLanes:N.baseLanes|f,cachePool:v}),g.memoizedState=N,g.childLanes=ry(a,T,f),l.memoizedState=ny,pu(a.child,g)):(oa(l),f=a.child,a=f.sibling,f=fs(f,{mode:"visible",children:g.children}),f.return=l,f.sibling=null,a!==null&&(T=l.deletions,T===null?(l.deletions=[a],l.flags|=16):T.push(a)),l.child=f,l.memoizedState=null,f)}function sy(a,l){return l=Uf({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Uf(a,l){return a=zi(22,a,null,l),a.lanes=0,a}function ay(a,l,f){return mo(l,a.child,null,f),a=sy(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Ox(a,l,f){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Sm(a.return,l,f)}function oy(a,l,f,g,v,b){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v,treeForkCount:b}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=f,T.tailMode=v,T.treeForkCount=b)}function kx(a,l,f){var g=l.pendingProps,v=g.revealOrder,b=g.tail;g=g.children;var T=yn.current,N=(T&2)!==0;if(N?(T=T&1|2,l.flags|=128):T&=1,q(yn,T),Zn(a,l,g,f),g=ft?nu:0,!N&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ox(a,f,l);else if(a.tag===19)Ox(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(f=l.child,v=null;f!==null;)a=f.alternate,a!==null&&Af(a)===null&&(v=f),f=f.sibling;f=v,f===null?(v=l.child,l.child=null):(v=f.sibling,f.sibling=null),oy(l,!1,v,f,b,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&Af(a)===null){l.child=v;break}a=v.sibling,v.sibling=f,f=v,v=a}oy(l,!0,f,null,b,g);break;case"together":oy(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function vs(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),da|=l.lanes,(f&l.childLanes)===0)if(a!==null){if(Al(a,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,f=fs(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=fs(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function ly(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&bf(a)))}function Bj(a,l,f){switch(l.tag){case 3:Se(l,l.stateNode.containerInfo),ia(l,xn,a.memoizedState.cache),co();break;case 27:case 5:tt(l);break;case 4:Se(l,l.stateNode.containerInfo);break;case 10:ia(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Nm(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(oa(l),l.flags|=128,null):(f&l.child.childLanes)!==0?Dx(a,l,f):(oa(l),a=vs(a,l,f),a!==null?a.sibling:null);oa(l);break;case 19:var v=(a.flags&128)!==0;if(g=(f&l.childLanes)!==0,g||(Al(a,l,f,!1),g=(f&l.childLanes)!==0),v){if(g)return kx(a,l,f);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),q(yn,yn.current),g)break;return null;case 22:return l.lanes=0,xx(a,l,f,l.pendingProps);case 24:ia(l,xn,a.memoizedState.cache)}return vs(a,l,f)}function Mx(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps)Cn=!0;else{if(!ly(a,f)&&(l.flags&128)===0)return Cn=!1,Bj(a,l,f);Cn=(a.flags&131072)!==0}else Cn=!1,ft&&(l.flags&1048576)!==0&&uw(l,nu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(a=go(l.elementType),l.type=a,typeof a=="function")hm(a)?(g=vo(a,g),l.tag=1,l=Ax(null,l,a,g,f)):(l.tag=0,l=ty(null,l,a,g,f));else{if(a!=null){var v=a.$$typeof;if(v===I){l.tag=11,l=_x(null,l,a,g,f);break e}else if(v===M){l.tag=14,l=Sx(null,l,a,g,f);break e}}throw l=pe(a)||a,Error(i(306,l,""))}}return l;case 0:return ty(a,l,l.type,l.pendingProps,f);case 1:return g=l.type,v=vo(g,l.pendingProps),Ax(a,l,g,v,f);case 3:e:{if(Se(l,l.stateNode.containerInfo),a===null)throw Error(i(387));g=l.pendingProps;var b=l.memoizedState;v=b.element,Rm(a,l),uu(l,g,null,f);var T=l.memoizedState;if(g=T.cache,ia(l,xn,g),g!==b.cache&&wm(l,[xn],f,!0),cu(),g=T.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=Rx(a,l,g,f);break e}else if(g!==v){v=ir(Error(i(424)),l),iu(v),l=Rx(a,l,g,f);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Wt=lr(a.firstChild),Kn=l,ft=!0,ta=null,ar=!0,f=xw(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(co(),g===v){l=vs(a,l,f);break e}Zn(a,l,g,f)}l=l.child}return l;case 26:return zf(a,l),a===null?(f=VE(l.type,null,l.pendingProps,null))?l.memoizedState=f:ft||(f=l.type,a=l.pendingProps,g=th(ge.current).createElement(f),g[Qn]=l,g[_i]=a,Jn(g,f,a),Fn(g),l.stateNode=g):l.memoizedState=VE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return tt(l),a===null&&ft&&(g=l.stateNode=FE(l.type,l.pendingProps,ge.current),Kn=l,ar=!0,v=Wt,ma(l.type)?(Hy=v,Wt=lr(g.firstChild)):Wt=v),Zn(a,l,l.pendingProps.children,f),zf(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&ft&&((v=g=Wt)&&(g=v2(g,l.type,l.pendingProps,ar),g!==null?(l.stateNode=g,Kn=l,Wt=lr(g.firstChild),ar=!1,v=!0):v=!1),v||na(l)),tt(l),v=l.type,b=l.pendingProps,T=a!==null?a.memoizedProps:null,g=b.children,Py(v,b)?g=null:T!==null&&Py(v,T)&&(l.flags|=32),l.memoizedState!==null&&(v=jm(a,l,Nj,null,null,f),Ou._currentValue=v),zf(a,l),Zn(a,l,g,f),l.child;case 6:return a===null&&ft&&((a=f=Wt)&&(f=b2(f,l.pendingProps,ar),f!==null?(l.stateNode=f,Kn=l,Wt=null,a=!0):a=!1),a||na(l)),null;case 13:return Dx(a,l,f);case 4:return Se(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=mo(l,null,g,f):Zn(a,l,g,f),l.child;case 11:return _x(a,l,l.type,l.pendingProps,f);case 7:return Zn(a,l,l.pendingProps,f),l.child;case 8:return Zn(a,l,l.pendingProps.children,f),l.child;case 12:return Zn(a,l,l.pendingProps.children,f),l.child;case 10:return g=l.pendingProps,ia(l,l.type,g.value),Zn(a,l,g.children,f),l.child;case 9:return v=l.type._context,g=l.pendingProps.children,fo(l),v=Xn(v),g=g(v),l.flags|=1,Zn(a,l,g,f),l.child;case 14:return Sx(a,l,l.type,l.pendingProps,f);case 15:return wx(a,l,l.type,l.pendingProps,f);case 19:return kx(a,l,f);case 31:return Hj(a,l,f);case 22:return xx(a,l,f,l.pendingProps);case 24:return fo(l),g=Xn(xn),a===null?(v=Cm(),v===null&&(v=zt,b=xm(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=f),v=b),l.memoizedState={parent:g,cache:v},Am(l),ia(l,xn,v)):((a.lanes&f)!==0&&(Rm(a,l),uu(l,null,null,f),cu()),v=a.memoizedState,b=l.memoizedState,v.parent!==g?(v={parent:g,cache:g},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),ia(l,xn,g)):(g=b.cache,ia(l,xn,g),g!==v.cache&&wm(l,[xn],f,!0))),Zn(a,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function bs(a){a.flags|=4}function cy(a,l,f,g,v){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(sE())a.flags|=8192;else throw po=xf,Tm}else a.flags&=-16777217}function Nx(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!YE(l))if(sE())a.flags|=8192;else throw po=xf,Tm}function Ff(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?pt():536870912,a.lanes|=l,Ul|=l)}function mu(a,l){if(!ft)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Yt(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(l)for(var v=a.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=f,l}function Vj(a,l,f){var g=l.pendingProps;switch(ym(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(l),null;case 1:return Yt(l),null;case 3:return f=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),ps(xn),Oe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(Tl(l)?bs(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,bm())),Yt(l),null;case 26:var v=l.type,b=l.memoizedState;return a===null?(bs(l),b!==null?(Yt(l),Nx(l,b)):(Yt(l),cy(l,v,null,g,f))):b?b!==a.memoizedState?(bs(l),Yt(l),Nx(l,b)):(Yt(l),l.flags&=-16777217):(a=a.memoizedProps,a!==g&&bs(l),Yt(l),cy(l,v,a,g,f)),null;case 27:if(Jt(l),f=ge.current,v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&bs(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return Yt(l),null}a=J.current,Tl(l)?fw(l):(a=FE(v,g,f),l.stateNode=a,bs(l))}return Yt(l),null;case 5:if(Jt(l),v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&bs(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return Yt(l),null}if(b=J.current,Tl(l))fw(l);else{var T=th(ge.current);switch(b){case 1:b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=T.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?b.multiple=!0:g.size&&(b.size=g.size);break;default:b=typeof g.is=="string"?T.createElement(v,{is:g.is}):T.createElement(v)}}b[Qn]=l,b[_i]=g;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)b.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=b;e:switch(Jn(b,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&bs(l)}}return Yt(l),cy(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,f),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&bs(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(i(166));if(a=ge.current,Tl(l)){if(a=l.stateNode,f=l.memoizedProps,g=null,v=Kn,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}a[Qn]=l,a=!!(a.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||DE(a.nodeValue,f)),a||na(l,!0)}else a=th(a).createTextNode(g),a[Qn]=l,l.stateNode=a}return Yt(l),null;case 31:if(f=l.memoizedState,a===null||a.memoizedState!==null){if(g=Tl(l),f!==null){if(a===null){if(!g)throw Error(i(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Qn]=l}else co(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Yt(l),a=!1}else f=bm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return l.flags&256?(Fi(l),l):(Fi(l),null);if((l.flags&128)!==0)throw Error(i(558))}return Yt(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Tl(l),g!==null&&g.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Qn]=l}else co(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Yt(l),v=!1}else v=bm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Fi(l),l):(Fi(l),null)}return Fi(l),(l.flags&128)!==0?(l.lanes=f,l):(f=g!==null,a=a!==null&&a.memoizedState!==null,f&&(g=l.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),b=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(b=g.memoizedState.cachePool.pool),b!==v&&(g.flags|=2048)),f!==a&&f&&(l.child.flags|=8192),Ff(l,l.updateQueue),Yt(l),null);case 4:return Oe(),a===null&&ky(l.stateNode.containerInfo),Yt(l),null;case 10:return ps(l.type),Yt(l),null;case 19:if(z(yn),g=l.memoizedState,g===null)return Yt(l),null;if(v=(l.flags&128)!==0,b=g.rendering,b===null)if(v)mu(g,!1);else{if(hn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(b=Af(a),b!==null){for(l.flags|=128,mu(g,!1),a=b.updateQueue,l.updateQueue=a,Ff(l,a),l.subtreeFlags=0,a=f,f=l.child;f!==null;)ow(f,a),f=f.sibling;return q(yn,yn.current&1|2),ft&&hs(l,g.treeForkCount),l.child}a=a.sibling}g.tail!==null&&te()>qf&&(l.flags|=128,v=!0,mu(g,!1),l.lanes=4194304)}else{if(!v)if(a=Af(b),a!==null){if(l.flags|=128,v=!0,a=a.updateQueue,l.updateQueue=a,Ff(l,a),mu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!ft)return Yt(l),null}else 2*te()-g.renderingStartTime>qf&&f!==536870912&&(l.flags|=128,v=!0,mu(g,!1),l.lanes=4194304);g.isBackwards?(b.sibling=l.child,l.child=b):(a=g.last,a!==null?a.sibling=b:l.child=b,g.last=b)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=te(),a.sibling=null,f=yn.current,q(yn,v?f&1|2:f&1),ft&&hs(l,g.treeForkCount),a):(Yt(l),null);case 22:case 23:return Fi(l),Mm(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(f&536870912)!==0&&(l.flags&128)===0&&(Yt(l),l.subtreeFlags&6&&(l.flags|=8192)):Yt(l),f=l.updateQueue,f!==null&&Ff(l,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048),a!==null&&z(ho),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ps(xn),Yt(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function $j(a,l){switch(ym(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ps(xn),Oe(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Jt(l),null;case 31:if(l.memoizedState!==null){if(Fi(l),l.alternate===null)throw Error(i(340));co()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Fi(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));co()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return z(yn),null;case 4:return Oe(),null;case 10:return ps(l.type),null;case 22:case 23:return Fi(l),Mm(),a!==null&&z(ho),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ps(xn),null;case 25:return null;default:return null}}function Ix(a,l){switch(ym(l),l.tag){case 3:ps(xn),Oe();break;case 26:case 27:case 5:Jt(l);break;case 4:Oe();break;case 31:l.memoizedState!==null&&Fi(l);break;case 13:Fi(l);break;case 19:z(yn);break;case 10:ps(l.type);break;case 22:case 23:Fi(l),Mm(),a!==null&&z(ho);break;case 24:ps(xn)}}function yu(a,l){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&a)===a){g=void 0;var b=f.create,T=f.inst;g=b(),T.destroy=g}f=f.next}while(f!==v)}}catch(N){Dt(l,l.return,N)}}function ca(a,l,f){try{var g=l.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var b=v.next;g=b;do{if((g.tag&a)===a){var T=g.inst,N=T.destroy;if(N!==void 0){T.destroy=void 0,v=l;var H=f,ee=N;try{ee()}catch(le){Dt(v,H,le)}}}g=g.next}while(g!==b)}}catch(le){Dt(l,l.return,le)}}function jx(a){var l=a.updateQueue;if(l!==null){var f=a.stateNode;try{Cw(l,f)}catch(g){Dt(a,a.return,g)}}}function Px(a,l,f){f.props=vo(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(g){Dt(a,l,g)}}function vu(a,l){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof f=="function"?a.refCleanup=f(g):f.current=g}}catch(v){Dt(a,l,v)}}function Gr(a,l){var f=a.ref,g=a.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(v){Dt(a,l,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){Dt(a,l,v)}else f.current=null}function Lx(a){var l=a.type,f=a.memoizedProps,g=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(v){Dt(a,a.return,v)}}function uy(a,l,f){try{var g=a.stateNode;f2(g,a.type,f,l),g[_i]=l}catch(v){Dt(a,a.return,v)}}function zx(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ma(a.type)||a.tag===4}function dy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||zx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ma(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function fy(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(a),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=us));else if(g!==4&&(g===27&&ma(a.type)&&(f=a.stateNode,l=null),a=a.child,a!==null))for(fy(a,l,f),a=a.sibling;a!==null;)fy(a,l,f),a=a.sibling}function Hf(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(g!==4&&(g===27&&ma(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(Hf(a,l,f),a=a.sibling;a!==null;)Hf(a,l,f),a=a.sibling}function Ux(a){var l=a.stateNode,f=a.memoizedProps;try{for(var g=a.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Jn(l,g,f),l[Qn]=a,l[_i]=f}catch(b){Dt(a,a.return,b)}}var _s=!1,Tn=!1,hy=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function qj(a,l){if(a=a.containerInfo,Iy=lh,a=ZS(a),am(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var v=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{f.nodeType,b.nodeType}catch{f=null;break e}var T=0,N=-1,H=-1,ee=0,le=0,he=a,ne=null;t:for(;;){for(var se;he!==f||v!==0&&he.nodeType!==3||(N=T+v),he!==b||g!==0&&he.nodeType!==3||(H=T+g),he.nodeType===3&&(T+=he.nodeValue.length),(se=he.firstChild)!==null;)ne=he,he=se;for(;;){if(he===a)break t;if(ne===f&&++ee===v&&(N=T),ne===b&&++le===g&&(H=T),(se=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=se}f=N===-1||H===-1?null:{start:N,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(jy={focusedElem:a,selectionRange:f},lh=!1,Hn=l;Hn!==null;)if(l=Hn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Hn=a;else for(;Hn!==null;){switch(l=Hn,b=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)v=a[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,f=l,v=b.memoizedProps,b=b.memoizedState,g=f.stateNode;try{var Te=vo(f.type,v);a=g.getSnapshotBeforeUpdate(Te,b),g.__reactInternalSnapshotBeforeUpdate=a}catch(Le){Dt(f,f.return,Le)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,f=a.nodeType,f===9)zy(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":zy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Hn=a;break}Hn=l.return}}function Hx(a,l,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:ws(a,f),g&4&&yu(5,f);break;case 1:if(ws(a,f),g&4)if(a=f.stateNode,l===null)try{a.componentDidMount()}catch(T){Dt(f,f.return,T)}else{var v=vo(f.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(v,l,a.__reactInternalSnapshotBeforeUpdate)}catch(T){Dt(f,f.return,T)}}g&64&&jx(f),g&512&&vu(f,f.return);break;case 3:if(ws(a,f),g&64&&(a=f.updateQueue,a!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{Cw(a,l)}catch(T){Dt(f,f.return,T)}}break;case 27:l===null&&g&4&&Ux(f);case 26:case 5:ws(a,f),l===null&&g&4&&Lx(f),g&512&&vu(f,f.return);break;case 12:ws(a,f);break;case 31:ws(a,f),g&4&&$x(a,f);break;case 13:ws(a,f),g&4&&qx(a,f),g&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=e2.bind(null,f),_2(a,f))));break;case 22:if(g=f.memoizedState!==null||_s,!g){l=l!==null&&l.memoizedState!==null||Tn,v=_s;var b=Tn;_s=g,(Tn=l)&&!b?xs(a,f,(f.subtreeFlags&8772)!==0):ws(a,f),_s=v,Tn=b}break;case 30:break;default:ws(a,f)}}function Bx(a){var l=a.alternate;l!==null&&(a.alternate=null,Bx(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Vp(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var tn=null,wi=!1;function Ss(a,l,f){for(f=f.child;f!==null;)Vx(a,l,f),f=f.sibling}function Vx(a,l,f){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(it,f)}catch{}switch(f.tag){case 26:Tn||Gr(f,l),Ss(a,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Tn||Gr(f,l);var g=tn,v=wi;ma(f.type)&&(tn=f.stateNode,wi=!1),Ss(a,l,f),Au(f.stateNode),tn=g,wi=v;break;case 5:Tn||Gr(f,l);case 6:if(g=tn,v=wi,tn=null,Ss(a,l,f),tn=g,wi=v,tn!==null)if(wi)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(f.stateNode)}catch(b){Dt(f,l,b)}else try{tn.removeChild(f.stateNode)}catch(b){Dt(f,l,b)}break;case 18:tn!==null&&(wi?(a=tn,jE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),Wl(a)):jE(tn,f.stateNode));break;case 4:g=tn,v=wi,tn=f.stateNode.containerInfo,wi=!0,Ss(a,l,f),tn=g,wi=v;break;case 0:case 11:case 14:case 15:ca(2,f,l),Tn||ca(4,f,l),Ss(a,l,f);break;case 1:Tn||(Gr(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"&&Px(f,l,g)),Ss(a,l,f);break;case 21:Ss(a,l,f);break;case 22:Tn=(g=Tn)||f.memoizedState!==null,Ss(a,l,f),Tn=g;break;default:Ss(a,l,f)}}function $x(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Wl(a)}catch(f){Dt(l,l.return,f)}}}function qx(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Wl(a)}catch(f){Dt(l,l.return,f)}}function Gj(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Fx),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Fx),l;default:throw Error(i(435,a.tag))}}function Bf(a,l){var f=Gj(a);l.forEach(function(g){if(!f.has(g)){f.add(g);var v=t2.bind(null,a,g);g.then(v,v)}})}function xi(a,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g],b=a,T=l,N=T;e:for(;N!==null;){switch(N.tag){case 27:if(ma(N.type)){tn=N.stateNode,wi=!1;break e}break;case 5:tn=N.stateNode,wi=!1;break e;case 3:case 4:tn=N.stateNode.containerInfo,wi=!0;break e}N=N.return}if(tn===null)throw Error(i(160));Vx(b,T,v),tn=null,wi=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Gx(l,a),l=l.sibling}var Tr=null;function Gx(a,l){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:xi(l,a),Ei(a),g&4&&(ca(3,a,a.return),yu(3,a),ca(5,a,a.return));break;case 1:xi(l,a),Ei(a),g&512&&(Tn||f===null||Gr(f,f.return)),g&64&&_s&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var v=Tr;if(xi(l,a),Ei(a),g&512&&(Tn||f===null||Gr(f,f.return)),g&4){var b=f!==null?f.memoizedState:null;if(g=a.memoizedState,f===null)if(g===null)if(a.stateNode===null){e:{g=a.type,f=a.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":b=v.getElementsByTagName("title")[0],(!b||b[qc]||b[Qn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(g),v.head.insertBefore(b,v.querySelector("head > title"))),Jn(b,g,f),b[Qn]=a,Fn(b),g=b;break e;case"link":var T=GE("link","href",v).get(g+(f.href||""));if(T){for(var N=0;N<T.length;N++)if(b=T[N],b.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&b.getAttribute("rel")===(f.rel==null?null:f.rel)&&b.getAttribute("title")===(f.title==null?null:f.title)&&b.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){T.splice(N,1);break t}}b=v.createElement(g),Jn(b,g,f),v.head.appendChild(b);break;case"meta":if(T=GE("meta","content",v).get(g+(f.content||""))){for(N=0;N<T.length;N++)if(b=T[N],b.getAttribute("content")===(f.content==null?null:""+f.content)&&b.getAttribute("name")===(f.name==null?null:f.name)&&b.getAttribute("property")===(f.property==null?null:f.property)&&b.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&b.getAttribute("charset")===(f.charSet==null?null:f.charSet)){T.splice(N,1);break t}}b=v.createElement(g),Jn(b,g,f),v.head.appendChild(b);break;default:throw Error(i(468,g))}b[Qn]=a,Fn(b),g=b}a.stateNode=g}else WE(v,a.type,a.stateNode);else a.stateNode=qE(v,g,a.memoizedProps);else b!==g?(b===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):b.count--,g===null?WE(v,a.type,a.stateNode):qE(v,g,a.memoizedProps)):g===null&&a.stateNode!==null&&uy(a,a.memoizedProps,f.memoizedProps)}break;case 27:xi(l,a),Ei(a),g&512&&(Tn||f===null||Gr(f,f.return)),f!==null&&g&4&&uy(a,a.memoizedProps,f.memoizedProps);break;case 5:if(xi(l,a),Ei(a),g&512&&(Tn||f===null||Gr(f,f.return)),a.flags&32){v=a.stateNode;try{ml(v,"")}catch(Te){Dt(a,a.return,Te)}}g&4&&a.stateNode!=null&&(v=a.memoizedProps,uy(a,v,f!==null?f.memoizedProps:v)),g&1024&&(hy=!0);break;case 6:if(xi(l,a),Ei(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,f=a.stateNode;try{f.nodeValue=g}catch(Te){Dt(a,a.return,Te)}}break;case 3:if(rh=null,v=Tr,Tr=nh(l.containerInfo),xi(l,a),Tr=v,Ei(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Wl(l.containerInfo)}catch(Te){Dt(a,a.return,Te)}hy&&(hy=!1,Wx(a));break;case 4:g=Tr,Tr=nh(a.stateNode.containerInfo),xi(l,a),Ei(a),Tr=g;break;case 12:xi(l,a),Ei(a);break;case 31:xi(l,a),Ei(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Bf(a,g)));break;case 13:xi(l,a),Ei(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&($f=te()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Bf(a,g)));break;case 22:v=a.memoizedState!==null;var H=f!==null&&f.memoizedState!==null,ee=_s,le=Tn;if(_s=ee||v,Tn=le||H,xi(l,a),Tn=le,_s=ee,Ei(a),g&8192)e:for(l=a.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(f===null||H||_s||Tn||bo(a)),f=null,l=a;;){if(l.tag===5||l.tag===26){if(f===null){H=f=l;try{if(b=H.stateNode,v)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{N=H.stateNode;var he=H.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;N.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Te){Dt(H,H.return,Te)}}}else if(l.tag===6){if(f===null){H=l;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(Te){Dt(H,H.return,Te)}}}else if(l.tag===18){if(f===null){H=l;try{var se=H.stateNode;v?PE(se,!0):PE(H.stateNode,!1)}catch(Te){Dt(H,H.return,Te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,Bf(a,f))));break;case 19:xi(l,a),Ei(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Bf(a,g)));break;case 30:break;case 21:break;default:xi(l,a),Ei(a)}}function Ei(a){var l=a.flags;if(l&2){try{for(var f,g=a.return;g!==null;){if(zx(g)){f=g;break}g=g.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var v=f.stateNode,b=dy(a);Hf(a,b,v);break;case 5:var T=f.stateNode;f.flags&32&&(ml(T,""),f.flags&=-33);var N=dy(a);Hf(a,N,T);break;case 3:case 4:var H=f.stateNode.containerInfo,ee=dy(a);fy(a,ee,H);break;default:throw Error(i(161))}}catch(le){Dt(a,a.return,le)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Wx(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Wx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ws(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Hx(a,l.alternate,l),l=l.sibling}function bo(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:ca(4,l,l.return),bo(l);break;case 1:Gr(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&Px(l,l.return,f),bo(l);break;case 27:Au(l.stateNode);case 26:case 5:Gr(l,l.return),bo(l);break;case 22:l.memoizedState===null&&bo(l);break;case 30:bo(l);break;default:bo(l)}a=a.sibling}}function xs(a,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,v=a,b=l,T=b.flags;switch(b.tag){case 0:case 11:case 15:xs(v,b,f),yu(4,b);break;case 1:if(xs(v,b,f),g=b,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){Dt(g,g.return,ee)}if(g=b,v=g.updateQueue,v!==null){var N=g.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)Ew(H[v],N)}catch(ee){Dt(g,g.return,ee)}}f&&T&64&&jx(b),vu(b,b.return);break;case 27:Ux(b);case 26:case 5:xs(v,b,f),f&&g===null&&T&4&&Lx(b),vu(b,b.return);break;case 12:xs(v,b,f);break;case 31:xs(v,b,f),f&&T&4&&$x(v,b);break;case 13:xs(v,b,f),f&&T&4&&qx(v,b);break;case 22:b.memoizedState===null&&xs(v,b,f),vu(b,b.return);break;case 30:break;default:xs(v,b,f)}l=l.sibling}}function gy(a,l){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&ru(f))}function py(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ru(a))}function Ar(a,l,f,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Yx(a,l,f,g),l=l.sibling}function Yx(a,l,f,g){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Ar(a,l,f,g),v&2048&&yu(9,l);break;case 1:Ar(a,l,f,g);break;case 3:Ar(a,l,f,g),v&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ru(a)));break;case 12:if(v&2048){Ar(a,l,f,g),a=l.stateNode;try{var b=l.memoizedProps,T=b.id,N=b.onPostCommit;typeof N=="function"&&N(T,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){Dt(l,l.return,H)}}else Ar(a,l,f,g);break;case 31:Ar(a,l,f,g);break;case 13:Ar(a,l,f,g);break;case 23:break;case 22:b=l.stateNode,T=l.alternate,l.memoizedState!==null?b._visibility&2?Ar(a,l,f,g):bu(a,l):b._visibility&2?Ar(a,l,f,g):(b._visibility|=2,Pl(a,l,f,g,(l.subtreeFlags&10256)!==0||!1)),v&2048&&gy(T,l);break;case 24:Ar(a,l,f,g),v&2048&&py(l.alternate,l);break;default:Ar(a,l,f,g)}}function Pl(a,l,f,g,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=a,T=l,N=f,H=g,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Pl(b,T,N,H,v),yu(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?Pl(b,T,N,H,v):bu(b,T):(le._visibility|=2,Pl(b,T,N,H,v)),v&&ee&2048&&gy(T.alternate,T);break;case 24:Pl(b,T,N,H,v),v&&ee&2048&&py(T.alternate,T);break;default:Pl(b,T,N,H,v)}l=l.sibling}}function bu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=a,g=l,v=g.flags;switch(g.tag){case 22:bu(f,g),v&2048&&gy(g.alternate,g);break;case 24:bu(f,g),v&2048&&py(g.alternate,g);break;default:bu(f,g)}l=l.sibling}}var _u=8192;function Ll(a,l,f){if(a.subtreeFlags&_u)for(a=a.child;a!==null;)Qx(a,l,f),a=a.sibling}function Qx(a,l,f){switch(a.tag){case 26:Ll(a,l,f),a.flags&_u&&a.memoizedState!==null&&M2(f,Tr,a.memoizedState,a.memoizedProps);break;case 5:Ll(a,l,f);break;case 3:case 4:var g=Tr;Tr=nh(a.stateNode.containerInfo),Ll(a,l,f),Tr=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=_u,_u=16777216,Ll(a,l,f),_u=g):Ll(a,l,f));break;default:Ll(a,l,f)}}function Kx(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Su(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];Hn=g,Zx(g,a)}Kx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Xx(a),a=a.sibling}function Xx(a){switch(a.tag){case 0:case 11:case 15:Su(a),a.flags&2048&&ca(9,a,a.return);break;case 3:Su(a);break;case 12:Su(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Vf(a)):Su(a);break;default:Su(a)}}function Vf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];Hn=g,Zx(g,a)}Kx(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:ca(8,l,l.return),Vf(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Vf(l));break;default:Vf(l)}a=a.sibling}}function Zx(a,l){for(;Hn!==null;){var f=Hn;switch(f.tag){case 0:case 11:case 15:ca(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ru(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Hn=g;else e:for(f=a;Hn!==null;){g=Hn;var v=g.sibling,b=g.return;if(Bx(g),g===f){Hn=null;break e}if(v!==null){v.return=b,Hn=v;break e}Hn=b}}}var Wj={getCacheForType:function(a){var l=Xn(xn),f=l.data.get(a);return f===void 0&&(f=a(),l.data.set(a,f)),f},cacheSignal:function(){return Xn(xn).controller.signal}},Yj=typeof WeakMap=="function"?WeakMap:Map,Tt=0,zt=null,st=null,ot=0,Rt=0,Hi=null,ua=!1,zl=!1,my=!1,Es=0,hn=0,da=0,_o=0,yy=0,Bi=0,Ul=0,wu=null,Ci=null,vy=!1,$f=0,Jx=0,qf=1/0,Gf=null,fa=null,kn=0,ha=null,Fl=null,Cs=0,by=0,_y=null,eE=null,xu=0,Sy=null;function Vi(){return(Tt&2)!==0&&ot!==0?ot&-ot:F.T!==null?Ay():Zi()}function tE(){if(Bi===0)if((ot&536870912)===0||ft){var a=fi;fi<<=1,(fi&3932160)===0&&(fi=262144),Bi=a}else Bi=536870912;return a=Ui.current,a!==null&&(a.flags|=32),Bi}function Ti(a,l,f){(a===zt&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)&&(Hl(a,0),ga(a,ot,Bi,!1)),mt(a,f),((Tt&2)===0||a!==zt)&&(a===zt&&((Tt&2)===0&&(_o|=f),hn===4&&ga(a,ot,Bi,!1)),Wr(a))}function nE(a,l,f){if((Tt&6)!==0)throw Error(i(327));var g=!f&&(l&127)===0&&(l&a.expiredLanes)===0||Be(a,l),v=g?Xj(a,l):xy(a,l,!0),b=g;do{if(v===0){zl&&!g&&ga(a,l,0,!1);break}else{if(f=a.current.alternate,b&&!Qj(f)){v=xy(a,l,!1),b=!1;continue}if(v===2){if(b=l,a.errorRecoveryDisabledLanes&b)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var N=a;v=wu;var H=N.current.memoizedState.isDehydrated;if(H&&(Hl(N,T).flags|=256),T=xy(N,T,!1),T!==2){if(my&&!H){N.errorRecoveryDisabledLanes|=b,_o|=b,v=4;break e}b=Ci,Ci=v,b!==null&&(Ci===null?Ci=b:Ci.push.apply(Ci,b))}v=T}if(b=!1,v!==2)continue}}if(v===1){Hl(a,0),ga(a,l,0,!0);break}e:{switch(g=a,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:ga(g,l,Bi,!ua);break e;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(v=$f+300-te(),10<v)){if(ga(g,l,Bi,!ua),Ce(g,0,!0)!==0)break e;Cs=l,g.timeoutHandle=NE(iE.bind(null,g,f,Ci,Gf,vy,l,Bi,_o,Ul,ua,b,"Throttled",-0,0),v);break e}iE(g,f,Ci,Gf,vy,l,Bi,_o,Ul,ua,b,null,-0,0)}}break}while(!0);Wr(a)}function iE(a,l,f,g,v,b,T,N,H,ee,le,he,ne,se){if(a.timeoutHandle=-1,he=l.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:us},Qx(l,b,he);var Te=(b&62914560)===b?$f-te():(b&4194048)===b?Jx-te():0;if(Te=N2(he,Te),Te!==null){Cs=b,a.cancelPendingCommit=Te(dE.bind(null,a,l,b,f,g,v,T,N,H,le,he,null,ne,se)),ga(a,b,T,!ee);return}}dE(a,l,b,f,g,v,T,N,H)}function Qj(a){for(var l=a;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var v=f[g],b=v.getSnapshot;v=v.value;try{if(!Li(b(),v))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ga(a,l,f,g){l&=~yy,l&=~_o,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var v=l;0<v;){var b=31-Fe(v),T=1<<b;g[b]=-1,v&=~T}f!==0&&wn(a,f,l)}function Wf(){return(Tt&6)===0?(Eu(0),!1):!0}function wy(){if(st!==null){if(Rt===0)var a=st.return;else a=st,gs=uo=null,zm(a),kl=null,au=0,a=st;for(;a!==null;)Ix(a.alternate,a),a=a.return;st=null}}function Hl(a,l){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,p2(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Cs=0,wy(),zt=a,st=f=fs(a.current,null),ot=l,Rt=0,Hi=null,ua=!1,zl=Be(a,l),my=!1,Ul=Bi=yy=_o=da=hn=0,Ci=wu=null,vy=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var v=31-Fe(g),b=1<<v;l|=a[v],g&=~b}return Es=l,gf(),f}function rE(a,l){We=null,F.H=gu,l===Ol||l===wf?(l=_w(),Rt=3):l===Tm?(l=_w(),Rt=4):Rt=l===ey?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Hi=l,st===null&&(hn=1,Pf(a,ir(l,a.current)))}function sE(){var a=Ui.current;return a===null?!0:(ot&4194048)===ot?or===null:(ot&62914560)===ot||(ot&536870912)!==0?a===or:!1}function aE(){var a=F.H;return F.H=gu,a===null?gu:a}function oE(){var a=F.A;return F.A=Wj,a}function Yf(){hn=4,ua||(ot&4194048)!==ot&&Ui.current!==null||(zl=!0),(da&134217727)===0&&(_o&134217727)===0||zt===null||ga(zt,ot,Bi,!1)}function xy(a,l,f){var g=Tt;Tt|=2;var v=aE(),b=oE();(zt!==a||ot!==l)&&(Gf=null,Hl(a,l)),l=!1;var T=hn;e:do try{if(Rt!==0&&st!==null){var N=st,H=Hi;switch(Rt){case 8:wy(),T=6;break e;case 3:case 2:case 9:case 6:Ui.current===null&&(l=!0);var ee=Rt;if(Rt=0,Hi=null,Bl(a,N,H,ee),f&&zl){T=0;break e}break;default:ee=Rt,Rt=0,Hi=null,Bl(a,N,H,ee)}}Kj(),T=hn;break}catch(le){rE(a,le)}while(!0);return l&&a.shellSuspendCounter++,gs=uo=null,Tt=g,F.H=v,F.A=b,st===null&&(zt=null,ot=0,gf()),T}function Kj(){for(;st!==null;)lE(st)}function Xj(a,l){var f=Tt;Tt|=2;var g=aE(),v=oE();zt!==a||ot!==l?(Gf=null,qf=te()+500,Hl(a,l)):zl=Be(a,l);e:do try{if(Rt!==0&&st!==null){l=st;var b=Hi;t:switch(Rt){case 1:Rt=0,Hi=null,Bl(a,l,b,1);break;case 2:case 9:if(vw(b)){Rt=0,Hi=null,cE(l);break}l=function(){Rt!==2&&Rt!==9||zt!==a||(Rt=7),Wr(a)},b.then(l,l);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:vw(b)?(Rt=0,Hi=null,cE(l)):(Rt=0,Hi=null,Bl(a,l,b,7));break;case 5:var T=null;switch(st.tag){case 26:T=st.memoizedState;case 5:case 27:var N=st;if(T?YE(T):N.stateNode.complete){Rt=0,Hi=null;var H=N.sibling;if(H!==null)st=H;else{var ee=N.return;ee!==null?(st=ee,Qf(ee)):st=null}break t}}Rt=0,Hi=null,Bl(a,l,b,5);break;case 6:Rt=0,Hi=null,Bl(a,l,b,6);break;case 8:wy(),hn=6;break e;default:throw Error(i(462))}}Zj();break}catch(le){rE(a,le)}while(!0);return gs=uo=null,F.H=g,F.A=v,Tt=f,st!==null?0:(zt=null,ot=0,gf(),hn)}function Zj(){for(;st!==null&&!X();)lE(st)}function lE(a){var l=Mx(a.alternate,a,Es);a.memoizedProps=a.pendingProps,l===null?Qf(a):st=l}function cE(a){var l=a,f=l.alternate;switch(l.tag){case 15:case 0:l=Tx(f,l,l.pendingProps,l.type,void 0,ot);break;case 11:l=Tx(f,l,l.pendingProps,l.type.render,l.ref,ot);break;case 5:zm(l);default:Ix(f,l),l=st=ow(l,Es),l=Mx(f,l,Es)}a.memoizedProps=a.pendingProps,l===null?Qf(a):st=l}function Bl(a,l,f,g){gs=uo=null,zm(l),kl=null,au=0;var v=l.return;try{if(Fj(a,v,l,f,ot)){hn=1,Pf(a,ir(f,a.current)),st=null;return}}catch(b){if(v!==null)throw st=v,b;hn=1,Pf(a,ir(f,a.current)),st=null;return}l.flags&32768?(ft||g===1?a=!0:zl||(ot&536870912)!==0?a=!1:(ua=a=!0,(g===2||g===9||g===3||g===6)&&(g=Ui.current,g!==null&&g.tag===13&&(g.flags|=16384))),uE(l,a)):Qf(l)}function Qf(a){var l=a;do{if((l.flags&32768)!==0){uE(l,ua);return}a=l.return;var f=Vj(l.alternate,l,Es);if(f!==null){st=f;return}if(l=l.sibling,l!==null){st=l;return}st=l=a}while(l!==null);hn===0&&(hn=5)}function uE(a,l){do{var f=$j(a.alternate,a);if(f!==null){f.flags&=32767,st=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(a=a.sibling,a!==null)){st=a;return}st=a=f}while(a!==null);hn=6,st=null}function dE(a,l,f,g,v,b,T,N,H){a.cancelPendingCommit=null;do Kf();while(kn!==0);if((Tt&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(b=l.lanes|l.childLanes,b|=dm,Ke(a,f,b,T,N,H),a===zt&&(st=zt=null,ot=0),Fl=l,ha=a,Cs=f,by=b,_y=v,eE=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,n2(we,function(){return mE(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,v=K.p,K.p=2,T=Tt,Tt|=4;try{qj(a,l,f)}finally{Tt=T,K.p=v,F.T=g}}kn=1,fE(),hE(),gE()}}function fE(){if(kn===1){kn=0;var a=ha,l=Fl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=F.T,F.T=null;var g=K.p;K.p=2;var v=Tt;Tt|=4;try{Gx(l,a);var b=jy,T=ZS(a.containerInfo),N=b.focusedElem,H=b.selectionRange;if(T!==N&&N&&N.ownerDocument&&XS(N.ownerDocument.documentElement,N)){if(H!==null&&am(N)){var ee=H.start,le=H.end;if(le===void 0&&(le=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(le,N.value.length);else{var he=N.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var se=ne.getSelection(),Te=N.textContent.length,Le=Math.min(H.start,Te),jt=H.end===void 0?Le:Math.min(H.end,Te);!se.extend&&Le>jt&&(T=jt,jt=Le,Le=T);var W=KS(N,Le),V=KS(N,jt);if(W&&V&&(se.rangeCount!==1||se.anchorNode!==W.node||se.anchorOffset!==W.offset||se.focusNode!==V.node||se.focusOffset!==V.offset)){var Z=he.createRange();Z.setStart(W.node,W.offset),se.removeAllRanges(),Le>jt?(se.addRange(Z),se.extend(V.node,V.offset)):(Z.setEnd(V.node,V.offset),se.addRange(Z))}}}}for(he=[],se=N;se=se.parentNode;)se.nodeType===1&&he.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<he.length;N++){var de=he[N];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}lh=!!Iy,jy=Iy=null}finally{Tt=v,K.p=g,F.T=f}}a.current=l,kn=2}}function hE(){if(kn===2){kn=0;var a=ha,l=Fl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=F.T,F.T=null;var g=K.p;K.p=2;var v=Tt;Tt|=4;try{Hx(a,l.alternate,l)}finally{Tt=v,K.p=g,F.T=f}}kn=3}}function gE(){if(kn===4||kn===3){kn=0,Y();var a=ha,l=Fl,f=Cs,g=eE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?kn=5:(kn=0,Fl=ha=null,pE(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(fa=null),Yn(f),l=l.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(it,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=F.T,v=K.p,K.p=2,F.T=null;try{for(var b=a.onRecoverableError,T=0;T<g.length;T++){var N=g[T];b(N.value,{componentStack:N.stack})}}finally{F.T=l,K.p=v}}(Cs&3)!==0&&Kf(),Wr(a),v=a.pendingLanes,(f&261930)!==0&&(v&42)!==0?a===Sy?xu++:(xu=0,Sy=a):xu=0,Eu(0)}}function pE(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,ru(l)))}function Kf(){return fE(),hE(),gE(),mE()}function mE(){if(kn!==5)return!1;var a=ha,l=by;by=0;var f=Yn(Cs),g=F.T,v=K.p;try{K.p=32>f?32:f,F.T=null,f=_y,_y=null;var b=ha,T=Cs;if(kn=0,Fl=ha=null,Cs=0,(Tt&6)!==0)throw Error(i(331));var N=Tt;if(Tt|=4,Xx(b.current),Yx(b,b.current,T,f),Tt=N,Eu(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(it,b)}catch{}return!0}finally{K.p=v,F.T=g,pE(a,l)}}function yE(a,l,f){l=ir(f,l),l=Jm(a.stateNode,l,2),a=aa(a,l,2),a!==null&&(mt(a,2),Wr(a))}function Dt(a,l,f){if(a.tag===3)yE(a,a,f);else for(;l!==null;){if(l.tag===3){yE(l,a,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(fa===null||!fa.has(g))){a=ir(f,a),f=vx(2),g=aa(l,f,2),g!==null&&(bx(f,g,l,a),mt(g,2),Wr(g));break}}l=l.return}}function Ey(a,l,f){var g=a.pingCache;if(g===null){g=a.pingCache=new Yj;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(f)||(my=!0,v.add(f),a=Jj.bind(null,a,l,f),l.then(a,a))}function Jj(a,l,f){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,zt===a&&(ot&f)===f&&(hn===4||hn===3&&(ot&62914560)===ot&&300>te()-$f?(Tt&2)===0&&Hl(a,0):yy|=f,Ul===ot&&(Ul=0)),Wr(a)}function vE(a,l){l===0&&(l=pt()),a=oo(a,l),a!==null&&(mt(a,l),Wr(a))}function e2(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),vE(a,f)}function t2(a,l){var f=0;switch(a.tag){case 31:case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(l),vE(a,f)}function n2(a,l){return P(a,l)}var Xf=null,Vl=null,Cy=!1,Zf=!1,Ty=!1,pa=0;function Wr(a){a!==Vl&&a.next===null&&(Vl===null?Xf=Vl=a:Vl=Vl.next=a),Zf=!0,Cy||(Cy=!0,r2())}function Eu(a,l){if(!Ty&&Zf){Ty=!0;do for(var f=!1,g=Xf;g!==null;){if(a!==0){var v=g.pendingLanes;if(v===0)var b=0;else{var T=g.suspendedLanes,N=g.pingedLanes;b=(1<<31-Fe(42|a)+1)-1,b&=v&~(T&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(f=!0,wE(g,b))}else b=ot,b=Ce(g,g===zt?b:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(b&3)===0||Be(g,b)||(f=!0,wE(g,b));g=g.next}while(f);Ty=!1}}function i2(){bE()}function bE(){Zf=Cy=!1;var a=0;pa!==0&&g2()&&(a=pa);for(var l=te(),f=null,g=Xf;g!==null;){var v=g.next,b=_E(g,l);b===0?(g.next=null,f===null?Xf=v:f.next=v,v===null&&(Vl=f)):(f=g,(a!==0||(b&3)!==0)&&(Zf=!0)),g=v}kn!==0&&kn!==5||Eu(a),pa!==0&&(pa=0)}function _E(a,l){for(var f=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var T=31-Fe(b),N=1<<T,H=v[T];H===-1?((N&f)===0||(N&g)!==0)&&(v[T]=dt(N,l)):H<=l&&(a.expiredLanes|=N),b&=~N}if(l=zt,f=ot,f=Ce(a,a===l?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,f===0||a===l&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&G(g),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||Be(a,f)){if(l=f&-f,l===a.callbackPriority)return l;switch(g!==null&&G(g),Yn(f)){case 2:case 8:f=be;break;case 32:f=we;break;case 268435456:f=Qe;break;default:f=we}return g=SE.bind(null,a),f=P(f,g),a.callbackPriority=l,a.callbackNode=f,l}return g!==null&&g!==null&&G(g),a.callbackPriority=2,a.callbackNode=null,2}function SE(a,l){if(kn!==0&&kn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Kf()&&a.callbackNode!==f)return null;var g=ot;return g=Ce(a,a===zt?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(nE(a,g,l),_E(a,te()),a.callbackNode!=null&&a.callbackNode===f?SE.bind(null,a):null)}function wE(a,l){if(Kf())return null;nE(a,l,!0)}function r2(){m2(function(){(Tt&6)!==0?P(ye,i2):bE()})}function Ay(){if(pa===0){var a=Rl;a===0&&(a=di,di<<=1,(di&261888)===0&&(di=256)),pa=a}return pa}function xE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:af(""+a)}function EE(a,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,a.id&&f.setAttribute("form",a.id),l.parentNode.insertBefore(f,l),a=new FormData(a),f.parentNode.removeChild(f),a}function s2(a,l,f,g,v){if(l==="submit"&&f&&f.stateNode===v){var b=xE((v[_i]||null).action),T=g.submitter;T&&(l=(l=T[_i]||null)?xE(l.formAction):T.getAttribute("formAction"),l!==null&&(b=l,T=null));var N=new uf("action","action",null,g,v);a.push({event:N,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(pa!==0){var H=T?EE(v,T):new FormData(v);Wm(f,{pending:!0,data:H,method:v.method,action:b},null,H)}}else typeof b=="function"&&(N.preventDefault(),H=T?EE(v,T):new FormData(v),Wm(f,{pending:!0,data:H,method:v.method,action:b},b,H))},currentTarget:v}]})}}for(var Ry=0;Ry<um.length;Ry++){var Dy=um[Ry],a2=Dy.toLowerCase(),o2=Dy[0].toUpperCase()+Dy.slice(1);Cr(a2,"on"+o2)}Cr(tw,"onAnimationEnd"),Cr(nw,"onAnimationIteration"),Cr(iw,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(xj,"onTransitionRun"),Cr(Ej,"onTransitionStart"),Cr(Cj,"onTransitionCancel"),Cr(rw,"onTransitionEnd"),gl("onMouseEnter",["mouseout","mouseover"]),gl("onMouseLeave",["mouseout","mouseover"]),gl("onPointerEnter",["pointerout","pointerover"]),gl("onPointerLeave",["pointerout","pointerover"]),io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),io("onBeforeInput",["compositionend","keypress","textInput","paste"]),io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function CE(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],v=g.event;g=g.listeners;e:{var b=void 0;if(l)for(var T=g.length-1;0<=T;T--){var N=g[T],H=N.instance,ee=N.currentTarget;if(N=N.listener,H!==b&&v.isPropagationStopped())break e;b=N,v.currentTarget=ee;try{b(v)}catch(le){hf(le)}v.currentTarget=null,b=H}else for(T=0;T<g.length;T++){if(N=g[T],H=N.instance,ee=N.currentTarget,N=N.listener,H!==b&&v.isPropagationStopped())break e;b=N,v.currentTarget=ee;try{b(v)}catch(le){hf(le)}v.currentTarget=null,b=H}}}}function at(a,l){var f=l[Bp];f===void 0&&(f=l[Bp]=new Set);var g=a+"__bubble";f.has(g)||(TE(l,a,2,!1),f.add(g))}function Oy(a,l,f){var g=0;l&&(g|=4),TE(f,a,g,l)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function ky(a){if(!a[Jf]){a[Jf]=!0,bS.forEach(function(f){f!=="selectionchange"&&(l2.has(f)||Oy(f,!1,a),Oy(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Jf]||(l[Jf]=!0,Oy("selectionchange",!1,l))}}function TE(a,l,f,g){switch(tC(l)){case 2:var v=P2;break;case 8:v=L2;break;default:v=Gy}f=v.bind(null,l,f,a),v=void 0,!Xp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),g?v!==void 0?a.addEventListener(l,f,{capture:!0,passive:v}):a.addEventListener(l,f,!0):v!==void 0?a.addEventListener(l,f,{passive:v}):a.addEventListener(l,f,!1)}function My(a,l,f,g,v){var b=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var N=g.stateNode.containerInfo;if(N===v)break;if(T===4)for(T=g.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;N!==null;){if(T=dl(N),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){g=b=T;continue e}N=N.parentNode}}g=g.return}kS(function(){var ee=b,le=Qp(f),he=[];e:{var ne=sw.get(a);if(ne!==void 0){var se=uf,Te=a;switch(a){case"keypress":if(lf(f)===0)break e;case"keydown":case"keyup":se=tj;break;case"focusin":Te="focus",se=tm;break;case"focusout":Te="blur",se=tm;break;case"beforeblur":case"afterblur":se=tm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=IS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=VI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=rj;break;case tw:case nw:case iw:se=GI;break;case rw:se=aj;break;case"scroll":case"scrollend":se=HI;break;case"wheel":se=lj;break;case"copy":case"cut":case"paste":se=YI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=PS;break;case"toggle":case"beforetoggle":se=uj}var Le=(l&4)!==0,jt=!Le&&(a==="scroll"||a==="scrollend"),W=Le?ne!==null?ne+"Capture":null:ne;Le=[];for(var V=ee,Z;V!==null;){var de=V;if(Z=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Z===null||W===null||(de=Wc(V,W),de!=null&&Le.push(Tu(V,de,Z))),jt)break;V=V.return}0<Le.length&&(ne=new se(ne,Te,null,f,le),he.push({event:ne,listeners:Le}))}}if((l&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",se=a==="mouseout"||a==="pointerout",ne&&f!==Yp&&(Te=f.relatedTarget||f.fromElement)&&(dl(Te)||Te[ul]))break e;if((se||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(Te=f.relatedTarget||f.toElement,se=ee,Te=Te?dl(Te):null,Te!==null&&(jt=s(Te),Le=Te.tag,Te!==jt||Le!==5&&Le!==27&&Le!==6)&&(Te=null)):(se=null,Te=ee),se!==Te)){if(Le=IS,de="onMouseLeave",W="onMouseEnter",V="mouse",(a==="pointerout"||a==="pointerover")&&(Le=PS,de="onPointerLeave",W="onPointerEnter",V="pointer"),jt=se==null?ne:Gc(se),Z=Te==null?ne:Gc(Te),ne=new Le(de,V+"leave",se,f,le),ne.target=jt,ne.relatedTarget=Z,de=null,dl(le)===ee&&(Le=new Le(W,V+"enter",Te,f,le),Le.target=Z,Le.relatedTarget=jt,de=Le),jt=de,se&&Te)t:{for(Le=c2,W=se,V=Te,Z=0,de=W;de;de=Le(de))Z++;de=0;for(var Me=V;Me;Me=Le(Me))de++;for(;0<Z-de;)W=Le(W),Z--;for(;0<de-Z;)V=Le(V),de--;for(;Z--;){if(W===V||V!==null&&W===V.alternate){Le=W;break t}W=Le(W),V=Le(V)}Le=null}else Le=null;se!==null&&AE(he,ne,se,Le,!1),Te!==null&&jt!==null&&AE(he,jt,Te,Le,!0)}}e:{if(ne=ee?Gc(ee):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var wt=$S;else if(BS(ne))if(qS)wt=_j;else{wt=vj;var Ae=yj}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Wp(ee.elementType)&&(wt=$S):wt=bj;if(wt&&(wt=wt(a,ee))){VS(he,wt,f,le);break e}Ae&&Ae(a,ne,ee),a==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Gp(ne,"number",ne.value)}switch(Ae=ee?Gc(ee):window,a){case"focusin":(BS(Ae)||Ae.contentEditable==="true")&&(_l=Ae,om=ee,tu=null);break;case"focusout":tu=om=_l=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,JS(he,f,le);break;case"selectionchange":if(wj)break;case"keydown":case"keyup":JS(he,f,le)}var Xe;if(im)e:{switch(a){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else bl?FS(a,f)&&(lt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(lt="onCompositionStart");lt&&(LS&&f.locale!=="ko"&&(bl||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&bl&&(Xe=MS()):(Js=le,Zp="value"in Js?Js.value:Js.textContent,bl=!0)),Ae=eh(ee,lt),0<Ae.length&&(lt=new jS(lt,a,null,f,le),he.push({event:lt,listeners:Ae}),Xe?lt.data=Xe:(Xe=HS(f),Xe!==null&&(lt.data=Xe)))),(Xe=fj?hj(a,f):gj(a,f))&&(lt=eh(ee,"onBeforeInput"),0<lt.length&&(Ae=new jS("onBeforeInput","beforeinput",null,f,le),he.push({event:Ae,listeners:lt}),Ae.data=Xe)),s2(he,a,ee,f,le)}CE(he,l)})}function Tu(a,l,f){return{instance:a,listener:l,currentTarget:f}}function eh(a,l){for(var f=l+"Capture",g=[];a!==null;){var v=a,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Wc(a,f),v!=null&&g.unshift(Tu(a,v,b)),v=Wc(a,l),v!=null&&g.push(Tu(a,v,b))),a.tag===3)return g;a=a.return}return[]}function c2(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function AE(a,l,f,g,v){for(var b=l._reactName,T=[];f!==null&&f!==g;){var N=f,H=N.alternate,ee=N.stateNode;if(N=N.tag,H!==null&&H===g)break;N!==5&&N!==26&&N!==27||ee===null||(H=ee,v?(ee=Wc(f,b),ee!=null&&T.unshift(Tu(f,ee,H))):v||(ee=Wc(f,b),ee!=null&&T.push(Tu(f,ee,H)))),f=f.return}T.length!==0&&a.push({event:l,listeners:T})}var u2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function RE(a){return(typeof a=="string"?a:""+a).replace(u2,`
`).replace(d2,"")}function DE(a,l){return l=RE(l),RE(a)===l}function It(a,l,f,g,v,b){switch(f){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||ml(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&ml(a,""+g);break;case"className":rf(a,"class",g);break;case"tabIndex":rf(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":rf(a,f,g);break;case"style":DS(a,g,b);break;case"data":if(l!=="object"){rf(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||f!=="href")){a.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(f);break}g=af(""+g),a.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(f==="formAction"?(l!=="input"&&It(a,l,"name",v.name,v,null),It(a,l,"formEncType",v.formEncType,v,null),It(a,l,"formMethod",v.formMethod,v,null),It(a,l,"formTarget",v.formTarget,v,null)):(It(a,l,"encType",v.encType,v,null),It(a,l,"method",v.method,v,null),It(a,l,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(f);break}g=af(""+g),a.setAttribute(f,g);break;case"onClick":g!=null&&(a.onclick=us);break;case"onScroll":g!=null&&at("scroll",a);break;case"onScrollEnd":g!=null&&at("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=f}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}f=af(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,""+g):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":g===!0?a.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,g):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(f,g):a.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(f):a.setAttribute(f,g);break;case"popover":at("beforetoggle",a),at("toggle",a),nf(a,"popover",g);break;case"xlinkActuate":cs(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":cs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":cs(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":cs(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":cs(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":cs(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":cs(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":cs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":cs(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":nf(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=UI.get(f)||f,nf(a,f,g))}}function Ny(a,l,f,g,v,b){switch(f){case"style":DS(a,g,b);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=f}}break;case"children":typeof g=="string"?ml(a,g):(typeof g=="number"||typeof g=="bigint")&&ml(a,""+g);break;case"onScroll":g!=null&&at("scroll",a);break;case"onScrollEnd":g!=null&&at("scrollend",a);break;case"onClick":g!=null&&(a.onclick=us);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_S.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),l=f.slice(2,v?f.length-7:void 0),b=a[_i]||null,b=b!=null?b[f]:null,typeof b=="function"&&a.removeEventListener(l,b,v),typeof g=="function")){typeof b!="function"&&b!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(l,g,v);break e}f in a?a[f]=g:g===!0?a.setAttribute(f,""):nf(a,f,g)}}}function Jn(a,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",a),at("load",a);var g=!1,v=!1,b;for(b in f)if(f.hasOwnProperty(b)){var T=f[b];if(T!=null)switch(b){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:It(a,l,b,T,f,null)}}v&&It(a,l,"srcSet",f.srcSet,f,null),g&&It(a,l,"src",f.src,f,null);return;case"input":at("invalid",a);var N=b=T=v=null,H=null,ee=null;for(g in f)if(f.hasOwnProperty(g)){var le=f[g];if(le!=null)switch(g){case"name":v=le;break;case"type":T=le;break;case"checked":H=le;break;case"defaultChecked":ee=le;break;case"value":b=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,l));break;default:It(a,l,g,le,f,null)}}CS(a,b,N,H,ee,T,v,!1);return;case"select":at("invalid",a),g=T=b=null;for(v in f)if(f.hasOwnProperty(v)&&(N=f[v],N!=null))switch(v){case"value":b=N;break;case"defaultValue":T=N;break;case"multiple":g=N;default:It(a,l,v,N,f,null)}l=b,f=T,a.multiple=!!g,l!=null?pl(a,!!g,l,!1):f!=null&&pl(a,!!g,f,!0);return;case"textarea":at("invalid",a),b=v=g=null;for(T in f)if(f.hasOwnProperty(T)&&(N=f[T],N!=null))switch(T){case"value":g=N;break;case"defaultValue":v=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:It(a,l,T,N,f,null)}AS(a,g,v,b);return;case"option":for(H in f)if(f.hasOwnProperty(H)&&(g=f[H],g!=null))switch(H){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:It(a,l,H,g,f,null)}return;case"dialog":at("beforetoggle",a),at("toggle",a),at("cancel",a),at("close",a);break;case"iframe":case"object":at("load",a);break;case"video":case"audio":for(g=0;g<Cu.length;g++)at(Cu[g],a);break;case"image":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"embed":case"source":case"link":at("error",a),at("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in f)if(f.hasOwnProperty(ee)&&(g=f[ee],g!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:It(a,l,ee,g,f,null)}return;default:if(Wp(l)){for(le in f)f.hasOwnProperty(le)&&(g=f[le],g!==void 0&&Ny(a,l,le,g,f,void 0));return}}for(N in f)f.hasOwnProperty(N)&&(g=f[N],g!=null&&It(a,l,N,g,f,null))}function f2(a,l,f,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,T=null,N=null,H=null,ee=null,le=null;for(se in f){var he=f[se];if(f.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":H=he;default:g.hasOwnProperty(se)||It(a,l,se,null,g,he)}}for(var ne in g){var se=g[ne];if(he=f[ne],g.hasOwnProperty(ne)&&(se!=null||he!=null))switch(ne){case"type":b=se;break;case"name":v=se;break;case"checked":ee=se;break;case"defaultChecked":le=se;break;case"value":T=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,l));break;default:se!==he&&It(a,l,ne,se,g,he)}}qp(a,T,N,H,ee,le,b,v);return;case"select":se=T=N=ne=null;for(b in f)if(H=f[b],f.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":se=H;default:g.hasOwnProperty(b)||It(a,l,b,null,g,H)}for(v in g)if(b=g[v],H=f[v],g.hasOwnProperty(v)&&(b!=null||H!=null))switch(v){case"value":ne=b;break;case"defaultValue":N=b;break;case"multiple":T=b;default:b!==H&&It(a,l,v,b,g,H)}l=N,f=T,g=se,ne!=null?pl(a,!!f,ne,!1):!!g!=!!f&&(l!=null?pl(a,!!f,l,!0):pl(a,!!f,f?[]:"",!1));return;case"textarea":se=ne=null;for(N in f)if(v=f[N],f.hasOwnProperty(N)&&v!=null&&!g.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:It(a,l,N,null,g,v)}for(T in g)if(v=g[T],b=f[T],g.hasOwnProperty(T)&&(v!=null||b!=null))switch(T){case"value":ne=v;break;case"defaultValue":se=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&It(a,l,T,v,g,b)}TS(a,ne,se);return;case"option":for(var Te in f)if(ne=f[Te],f.hasOwnProperty(Te)&&ne!=null&&!g.hasOwnProperty(Te))switch(Te){case"selected":a.selected=!1;break;default:It(a,l,Te,null,g,ne)}for(H in g)if(ne=g[H],se=f[H],g.hasOwnProperty(H)&&ne!==se&&(ne!=null||se!=null))switch(H){case"selected":a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:It(a,l,H,ne,g,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in f)ne=f[Le],f.hasOwnProperty(Le)&&ne!=null&&!g.hasOwnProperty(Le)&&It(a,l,Le,null,g,ne);for(ee in g)if(ne=g[ee],se=f[ee],g.hasOwnProperty(ee)&&ne!==se&&(ne!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,l));break;default:It(a,l,ee,ne,g,se)}return;default:if(Wp(l)){for(var jt in f)ne=f[jt],f.hasOwnProperty(jt)&&ne!==void 0&&!g.hasOwnProperty(jt)&&Ny(a,l,jt,void 0,g,ne);for(le in g)ne=g[le],se=f[le],!g.hasOwnProperty(le)||ne===se||ne===void 0&&se===void 0||Ny(a,l,le,ne,g,se);return}}for(var W in f)ne=f[W],f.hasOwnProperty(W)&&ne!=null&&!g.hasOwnProperty(W)&&It(a,l,W,null,g,ne);for(he in g)ne=g[he],se=f[he],!g.hasOwnProperty(he)||ne===se||ne==null&&se==null||It(a,l,he,ne,g,se)}function OE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h2(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var v=f[g],b=v.transferSize,T=v.initiatorType,N=v.duration;if(b&&N&&OE(T)){for(T=0,N=v.responseEnd,g+=1;g<f.length;g++){var H=f[g],ee=H.startTime;if(ee>N)break;var le=H.transferSize,he=H.initiatorType;le&&OE(he)&&(H=H.responseEnd,T+=le*(H<N?1:(N-ee)/(H-ee)))}if(--g,l+=8*(b+T)/(v.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Iy=null,jy=null;function th(a){return a.nodeType===9?a:a.ownerDocument}function kE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ME(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Py(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ly=null;function g2(){var a=window.event;return a&&a.type==="popstate"?a===Ly?!1:(Ly=a,!0):(Ly=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,m2=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(a){return IE.resolve(null).then(a).catch(y2)}:NE;function y2(a){setTimeout(function(){throw a})}function ma(a){return a==="head"}function jE(a,l){var f=l,g=0;do{var v=f.nextSibling;if(a.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(g===0){a.removeChild(v),Wl(l);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")Au(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,Au(f);for(var b=f.firstChild;b;){var T=b.nextSibling,N=b.nodeName;b[qc]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||f.removeChild(b),b=T}}else f==="body"&&Au(a.ownerDocument.body);f=v}while(f);Wl(l)}function PE(a,l){var f=a;a=0;do{var g=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=g}while(f)}function zy(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":zy(f),Vp(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function v2(a,l,f,g){for(;a.nodeType===1;){var v=f;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[qc])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=lr(a.nextSibling),a===null)break}return null}function b2(a,l,f){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=lr(a.nextSibling),a===null))return null;return a}function LE(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=lr(a.nextSibling),a===null))return null;return a}function Uy(a){return a.data==="$?"||a.data==="$~"}function Fy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function _2(a,l){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||f.readyState!=="loading")l();else{var g=function(){l(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function lr(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var Hy=null;function zE(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(l===0)return lr(a.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}a=a.nextSibling}return null}function UE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return a;l--}else f!=="/$"&&f!=="/&"||l++}a=a.previousSibling}return null}function FE(a,l,f){switch(l=th(f),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Au(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Vp(a)}var cr=new Map,HE=new Set;function nh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ts=K.d;K.d={f:S2,r:w2,D:x2,C:E2,L:C2,m:T2,X:R2,S:A2,M:D2};function S2(){var a=Ts.f(),l=Wf();return a||l}function w2(a){var l=fl(a);l!==null&&l.tag===5&&l.type==="form"?rx(l):Ts.r(a)}var $l=typeof document>"u"?null:document;function BE(a,l,f){var g=$l;if(g&&typeof l=="string"&&l){var v=tr(l);v='link[rel="'+a+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),HE.has(v)||(HE.add(v),a={rel:a,crossOrigin:f,href:l},g.querySelector(v)===null&&(l=g.createElement("link"),Jn(l,"link",a),Fn(l),g.head.appendChild(l)))}}function x2(a){Ts.D(a),BE("dns-prefetch",a,null)}function E2(a,l){Ts.C(a,l),BE("preconnect",a,l)}function C2(a,l,f){Ts.L(a,l,f);var g=$l;if(g&&a&&l){var v='link[rel="preload"][as="'+tr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+tr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+tr(f.imageSizes)+'"]')):v+='[href="'+tr(a)+'"]';var b=v;switch(l){case"style":b=ql(a);break;case"script":b=Gl(a)}cr.has(b)||(a=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:a,as:l},f),cr.set(b,a),g.querySelector(v)!==null||l==="style"&&g.querySelector(Ru(b))||l==="script"&&g.querySelector(Du(b))||(l=g.createElement("link"),Jn(l,"link",a),Fn(l),g.head.appendChild(l)))}}function T2(a,l){Ts.m(a,l);var f=$l;if(f&&a){var g=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+tr(g)+'"][href="'+tr(a)+'"]',b=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Gl(a)}if(!cr.has(b)&&(a=p({rel:"modulepreload",href:a},l),cr.set(b,a),f.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Du(b)))return}g=f.createElement("link"),Jn(g,"link",a),Fn(g),f.head.appendChild(g)}}}function A2(a,l,f){Ts.S(a,l,f);var g=$l;if(g&&a){var v=hl(g).hoistableStyles,b=ql(a);l=l||"default";var T=v.get(b);if(!T){var N={loading:0,preload:null};if(T=g.querySelector(Ru(b)))N.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},f),(f=cr.get(b))&&By(a,f);var H=T=g.createElement("link");Fn(H),Jn(H,"link",a),H._p=new Promise(function(ee,le){H.onload=ee,H.onerror=le}),H.addEventListener("load",function(){N.loading|=1}),H.addEventListener("error",function(){N.loading|=2}),N.loading|=4,ih(T,l,g)}T={type:"stylesheet",instance:T,count:1,state:N},v.set(b,T)}}}function R2(a,l){Ts.X(a,l);var f=$l;if(f&&a){var g=hl(f).hoistableScripts,v=Gl(a),b=g.get(v);b||(b=f.querySelector(Du(v)),b||(a=p({src:a,async:!0},l),(l=cr.get(v))&&Vy(a,l),b=f.createElement("script"),Fn(b),Jn(b,"link",a),f.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(v,b))}}function D2(a,l){Ts.M(a,l);var f=$l;if(f&&a){var g=hl(f).hoistableScripts,v=Gl(a),b=g.get(v);b||(b=f.querySelector(Du(v)),b||(a=p({src:a,async:!0,type:"module"},l),(l=cr.get(v))&&Vy(a,l),b=f.createElement("script"),Fn(b),Jn(b,"link",a),f.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(v,b))}}function VE(a,l,f,g){var v=(v=ge.current)?nh(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=ql(f.href),f=hl(v).hoistableStyles,g=f.get(l),g||(g={type:"style",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=ql(f.href);var b=hl(v).hoistableStyles,T=b.get(a);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,T),(b=v.querySelector(Ru(a)))&&!b._p&&(T.instance=b,T.state.loading=5),cr.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},cr.set(a,f),b||O2(v,a,f,T.state))),l&&g===null)throw Error(i(528,""));return T}if(l&&g!==null)throw Error(i(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Gl(f),f=hl(v).hoistableScripts,g=f.get(l),g||(g={type:"script",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function ql(a){return'href="'+tr(a)+'"'}function Ru(a){return'link[rel="stylesheet"]['+a+"]"}function $E(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function O2(a,l,f,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Jn(l,"link",f),Fn(l),a.head.appendChild(l))}function Gl(a){return'[src="'+tr(a)+'"]'}function Du(a){return"script[async]"+a}function qE(a,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+tr(f.href)+'"]');if(g)return l.instance=g,Fn(g),g;var v=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Fn(g),Jn(g,"style",v),ih(g,f.precedence,a),l.instance=g;case"stylesheet":v=ql(f.href);var b=a.querySelector(Ru(v));if(b)return l.state.loading|=4,l.instance=b,Fn(b),b;g=$E(f),(v=cr.get(v))&&By(g,v),b=(a.ownerDocument||a).createElement("link"),Fn(b);var T=b;return T._p=new Promise(function(N,H){T.onload=N,T.onerror=H}),Jn(b,"link",g),l.state.loading|=4,ih(b,f.precedence,a),l.instance=b;case"script":return b=Gl(f.src),(v=a.querySelector(Du(b)))?(l.instance=v,Fn(v),v):(g=f,(v=cr.get(b))&&(g=p({},f),Vy(g,v)),a=a.ownerDocument||a,v=a.createElement("script"),Fn(v),Jn(v,"link",g),a.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,ih(g,f.precedence,a));return l.instance}function ih(a,l,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,b=v,T=0;T<g.length;T++){var N=g[T];if(N.dataset.precedence===l)b=N;else if(b!==v)break}b?b.parentNode.insertBefore(a,b.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(a,l.firstChild))}function By(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Vy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var rh=null;function GE(a,l,f){if(rh===null){var g=new Map,v=rh=new Map;v.set(f,g)}else v=rh,g=v.get(f),g||(g=new Map,v.set(f,g));if(g.has(a))return g;for(g.set(a,null),f=f.getElementsByTagName(a),v=0;v<f.length;v++){var b=f[v];if(!(b[qc]||b[Qn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(l)||"";T=a+T;var N=g.get(T);N?N.push(b):g.set(T,[b])}}return g}function WE(a,l,f){a=a.ownerDocument||a,a.head.insertBefore(f,l==="title"?a.querySelector("head > title"):null)}function k2(a,l,f){if(f===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function YE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function M2(a,l,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=ql(g.href),b=l.querySelector(Ru(v));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=sh.bind(a),l.then(a,a)),f.state.loading|=4,f.instance=b,Fn(b);return}b=l.ownerDocument||l,g=$E(g),(v=cr.get(v))&&By(g,v),b=b.createElement("link"),Fn(b);var T=b;T._p=new Promise(function(N,H){T.onload=N,T.onerror=H}),Jn(b,"link",g),f.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=sh.bind(a),l.addEventListener("load",f),l.addEventListener("error",f))}}var $y=0;function N2(a,l){return a.stylesheets&&a.count===0&&oh(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var g=setTimeout(function(){if(a.stylesheets&&oh(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+l);0<a.imgBytes&&$y===0&&($y=62500*h2());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&oh(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>$y?50:800)+l);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ah=null;function oh(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ah=new Map,l.forEach(I2,a),ah=null,sh.call(a))}function I2(a,l){if(!(l.state.loading&4)){var f=ah.get(a);if(f)var g=f.get(null);else{f=new Map,ah.set(a,f);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var T=v[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(f.set(T.dataset.precedence,T),g=T)}g&&f.set(null,g)}v=l.instance,T=v.getAttribute("data-precedence"),b=f.get(T)||g,b===g&&f.set(null,v),f.set(T,v),this.count++,g=sh.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),b?b.parentNode.insertBefore(v,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),l.state.loading|=4}}var Ou={$$typeof:A,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function j2(a,l,f,g,v,b,T,N,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function QE(a,l,f,g,v,b,T,N,H,ee,le,he){return a=new j2(a,l,f,T,H,ee,le,he,N),l=1,b===!0&&(l|=24),b=zi(3,null,null,l),a.current=b,b.stateNode=a,l=xm(),l.refCount++,a.pooledCache=l,l.refCount++,b.memoizedState={element:g,isDehydrated:f,cache:l},Am(b),a}function KE(a){return a?(a=xl,a):xl}function XE(a,l,f,g,v,b){v=KE(v),g.context===null?g.context=v:g.pendingContext=v,g=sa(l),g.payload={element:f},b=b===void 0?null:b,b!==null&&(g.callback=b),f=aa(a,g,l),f!==null&&(Ti(f,a,l),lu(f,a,l))}function ZE(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function qy(a,l){ZE(a,l),(a=a.alternate)&&ZE(a,l)}function JE(a){if(a.tag===13||a.tag===31){var l=oo(a,67108864);l!==null&&Ti(l,a,67108864),qy(a,67108864)}}function eC(a){if(a.tag===13||a.tag===31){var l=Vi();l=Xi(l);var f=oo(a,l);f!==null&&Ti(f,a,l),qy(a,l)}}var lh=!0;function P2(a,l,f,g){var v=F.T;F.T=null;var b=K.p;try{K.p=2,Gy(a,l,f,g)}finally{K.p=b,F.T=v}}function L2(a,l,f,g){var v=F.T;F.T=null;var b=K.p;try{K.p=8,Gy(a,l,f,g)}finally{K.p=b,F.T=v}}function Gy(a,l,f,g){if(lh){var v=Wy(g);if(v===null)My(a,l,g,ch,f),nC(a,g);else if(U2(v,a,l,f,g))g.stopPropagation();else if(nC(a,g),l&4&&-1<z2.indexOf(a)){for(;v!==null;){var b=fl(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=Bt(b.pendingLanes);if(T!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;T;){var H=1<<31-Fe(T);N.entanglements[1]|=H,T&=~H}Wr(b),(Tt&6)===0&&(qf=te()+500,Eu(0))}}break;case 31:case 13:N=oo(b,2),N!==null&&Ti(N,b,2),Wf(),qy(b,2)}if(b=Wy(g),b===null&&My(a,l,g,ch,f),b===v)break;v=b}v!==null&&g.stopPropagation()}else My(a,l,g,null,f)}}function Wy(a){return a=Qp(a),Yy(a)}var ch=null;function Yy(a){if(ch=null,a=dl(a),a!==null){var l=s(a);if(l===null)a=null;else{var f=l.tag;if(f===13){if(a=o(l),a!==null)return a;a=null}else if(f===31){if(a=c(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return ch=a,null}function tC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case ye:return 2;case be:return 8;case we:case ke:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var Qy=!1,ya=null,va=null,ba=null,ku=new Map,Mu=new Map,_a=[],z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nC(a,l){switch(a){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":ku.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(l.pointerId)}}function Nu(a,l,f,g,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:b,targetContainers:[v]},l!==null&&(l=fl(l),l!==null&&JE(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function U2(a,l,f,g,v){switch(l){case"focusin":return ya=Nu(ya,a,l,f,g,v),!0;case"dragenter":return va=Nu(va,a,l,f,g,v),!0;case"mouseover":return ba=Nu(ba,a,l,f,g,v),!0;case"pointerover":var b=v.pointerId;return ku.set(b,Nu(ku.get(b)||null,a,l,f,g,v)),!0;case"gotpointercapture":return b=v.pointerId,Mu.set(b,Nu(Mu.get(b)||null,a,l,f,g,v)),!0}return!1}function iC(a){var l=dl(a.target);if(l!==null){var f=s(l);if(f!==null){if(l=f.tag,l===13){if(l=o(f),l!==null){a.blockedOn=l,Zs(a.priority,function(){eC(f)});return}}else if(l===31){if(l=c(f),l!==null){a.blockedOn=l,Zs(a.priority,function(){eC(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function uh(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=Wy(a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);Yp=g,f.target.dispatchEvent(g),Yp=null}else return l=fl(f),l!==null&&JE(l),a.blockedOn=f,!1;l.shift()}return!0}function rC(a,l,f){uh(a)&&f.delete(l)}function F2(){Qy=!1,ya!==null&&uh(ya)&&(ya=null),va!==null&&uh(va)&&(va=null),ba!==null&&uh(ba)&&(ba=null),ku.forEach(rC),Mu.forEach(rC)}function dh(a,l){a.blockedOn===l&&(a.blockedOn=null,Qy||(Qy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,F2)))}var fh=null;function sC(a){fh!==a&&(fh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fh===a&&(fh=null);for(var l=0;l<a.length;l+=3){var f=a[l],g=a[l+1],v=a[l+2];if(typeof g!="function"){if(Yy(g||f)===null)continue;break}var b=fl(f);b!==null&&(a.splice(l,3),l-=3,Wm(b,{pending:!0,data:v,method:f.method,action:g},g,v))}}))}function Wl(a){function l(H){return dh(H,a)}ya!==null&&dh(ya,a),va!==null&&dh(va,a),ba!==null&&dh(ba,a),ku.forEach(l),Mu.forEach(l);for(var f=0;f<_a.length;f++){var g=_a[f];g.blockedOn===a&&(g.blockedOn=null)}for(;0<_a.length&&(f=_a[0],f.blockedOn===null);)iC(f),f.blockedOn===null&&_a.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var v=f[g],b=f[g+1],T=v[_i]||null;if(typeof b=="function")T||sC(f);else if(T){var N=null;if(b&&b.hasAttribute("formAction")){if(v=b,T=b[_i]||null)N=T.formAction;else if(Yy(v)!==null)continue}else N=T.action;typeof N=="function"?f[g+1]=N:(f.splice(g,3),g-=3),sC(f)}}}function aC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(T){return v=T})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function Ky(a){this._internalRoot=a}hh.prototype.render=Ky.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var f=l.current,g=Vi();XE(f,g,a,l,null,null)},hh.prototype.unmount=Ky.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;XE(a.current,2,null,a,null,null),Wf(),l[ul]=null}};function hh(a){this._internalRoot=a}hh.prototype.unstable_scheduleHydration=function(a){if(a){var l=Zi();a={blockedOn:null,target:a,priority:l};for(var f=0;f<_a.length&&l!==0&&l<_a[f].priority;f++);_a.splice(f,0,a),f===0&&iC(a)}};var oC=e.version;if(oC!=="19.2.0")throw Error(i(527,oC,"19.2.0"));K.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var H2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{it=gh.inject(H2),Lt=gh}catch{}}return ju.createRoot=function(a,l){if(!r(a))throw Error(i(299));var f=!1,g="",v=gx,b=px,T=mx;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),l=QE(a,1,!1,null,null,f,g,null,v,b,T,aC),a[ul]=l.current,ky(a),new Ky(l)},ju.hydrateRoot=function(a,l,f){if(!r(a))throw Error(i(299));var g=!1,v="",b=gx,T=px,N=mx,H=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(b=f.onUncaughtError),f.onCaughtError!==void 0&&(T=f.onCaughtError),f.onRecoverableError!==void 0&&(N=f.onRecoverableError),f.formState!==void 0&&(H=f.formState)),l=QE(a,1,!0,l,f??null,g,v,H,b,T,N,aC),l.context=KE(null),f=l.current,g=Vi(),g=Xi(g),v=sa(g),v.callback=null,aa(f,v,g),f=g,l.current.lanes=f,mt(l,f),Wr(l),a[ul]=l.current,ky(a),new hh(l)},ju.version="19.2.0",ju}var yC;function K2(){if(yC)return Jy.exports;yC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jy.exports=Q2(),Jy.exports}var X2=K2();const Z2=Jo(X2);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vC="popstate";function J2(t={}){function e(i,r){let{pathname:s,search:o,hash:c}=i.location;return yb("",{pathname:s,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:_d(r)}return tP(e,n,null,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eP(){return Math.random().toString(36).substring(2,10)}function bC(t,e){return{usr:t.state,key:t.key,idx:e}}function yb(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nc(e):e,state:n,key:e&&e.key||i||eP()}}function _d({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function tP(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,c="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){c="POP";let w=h(),x=w==null?null:w-d;d=w,u&&u({action:c,location:S.location,delta:x})}function m(w,x){c="PUSH";let E=yb(S.location,w,x);d=h()+1;let A=bC(E,d),I=S.createHref(E);try{o.pushState(A,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(I)}s&&u&&u({action:c,location:S.location,delta:1})}function y(w,x){c="REPLACE";let E=yb(S.location,w,x);d=h();let A=bC(E,d),I=S.createHref(E);o.replaceState(A,"",I),s&&u&&u({action:c,location:S.location,delta:0})}function _(w){return nP(w)}let S={get action(){return c},get location(){return t(r,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(vC,p),u=w,()=>{r.removeEventListener(vC,p),u=null}},createHref(w){return e(r,w)},createURL:_,encodeLocation(w){let x=_(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:y,go(w){return o.go(w)}};return S}function nP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:_d(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function nO(t,e,n="/"){return iP(t,e,n,!1)}function iP(t,e,n,i){let r=typeof e=="string"?Nc(e):e,s=Gs(r.pathname||"/",n);if(s==null)return null;let o=iO(t);rP(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=pP(s);c=hP(o[u],d,i)}return c}function iO(t,e=[],n=[],i="",r=!1){let s=(o,c,u=r,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&u)return;sn(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let p=Bs([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(sn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),iO(o.children,e,m,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:dP(p,o.index),routesMeta:m})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let u of rO(o.path))s(o,c,!0,u)}),e}function rO(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=rO(i.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function rP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fP(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var sP=/^:[\w-]+$/,aP=3,oP=2,lP=1,cP=10,uP=-2,_C=t=>t==="*";function dP(t,e){let n=t.split("/"),i=n.length;return n.some(_C)&&(i+=uP),e&&(i+=oP),n.filter(r=>!_C(r)).reduce((r,s)=>r+(sP.test(s)?aP:s===""?lP:cP),i)}function fP(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function hP(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",o=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=_g({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),m=u.route;if(!p&&d&&n&&!i[i.length-1].route.index&&(p=_g({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Bs([s,p.pathname]),pathnameBase:bP(Bs([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Bs([s,p.pathnameBase]))}return o}function _g(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=gP(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((d,{paramName:h,isOptional:p},m)=>{if(h==="*"){let _=c[m]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=c[m];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function gP(t,e=!1,n=!0){zr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function pP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function mP(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Nc(t):t;return{pathname:n?n.startsWith("/")?n:yP(n,e):e,search:_P(i),hash:SP(r)}}function yP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function iv(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k0(t){let e=vP(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function M0(t,e,n,i=!1){let r;typeof t=="string"?r=Nc(t):(r={...t},sn(!r.pathname||!r.pathname.includes("?"),iv("?","pathname","search",r)),sn(!r.pathname||!r.pathname.includes("#"),iv("#","pathname","hash",r)),sn(!r.search||!r.search.includes("#"),iv("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!i&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}c=p>=0?e[p]:"/"}let u=mP(r,c),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Bs=t=>t.join("/").replace(/\/\/+/g,"/"),bP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_P=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sO=["POST","PUT","PATCH","DELETE"];new Set(sO);var xP=["GET",...sO];new Set(xP);var Ic=D.createContext(null);Ic.displayName="DataRouter";var op=D.createContext(null);op.displayName="DataRouterState";D.createContext(!1);var aO=D.createContext({isTransitioning:!1});aO.displayName="ViewTransition";var EP=D.createContext(new Map);EP.displayName="Fetchers";var CP=D.createContext(null);CP.displayName="Await";var Br=D.createContext(null);Br.displayName="Navigation";var Fd=D.createContext(null);Fd.displayName="Location";var Er=D.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var N0=D.createContext(null);N0.displayName="RouteError";function TP(t,{relative:e}={}){sn(jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=D.useContext(Br),{hash:r,pathname:s,search:o}=Hd(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Bs([n,s])),i.createHref({pathname:c,search:o,hash:r})}function jc(){return D.useContext(Fd)!=null}function Qs(){return sn(jc(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Fd).location}var oO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lO(t){D.useContext(Br).static||D.useLayoutEffect(t)}function as(){let{isDataRoute:t}=D.useContext(Er);return t?HP():AP()}function AP(){sn(jc(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Ic),{basename:e,navigator:n}=D.useContext(Br),{matches:i}=D.useContext(Er),{pathname:r}=Qs(),s=JSON.stringify(k0(i)),o=D.useRef(!1);return lO(()=>{o.current=!0}),D.useCallback((u,d={})=>{if(zr(o.current,oO),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=M0(u,JSON.parse(s),r,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,r,t])}var RP=D.createContext(null);function DP(t){let e=D.useContext(Er).outlet;return D.useMemo(()=>e&&D.createElement(RP.Provider,{value:t},e),[e,t])}function lp(){let{matches:t}=D.useContext(Er),e=t[t.length-1];return e?e.params:{}}function Hd(t,{relative:e}={}){let{matches:n}=D.useContext(Er),{pathname:i}=Qs(),r=JSON.stringify(k0(n));return D.useMemo(()=>M0(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function OP(t,e){return cO(t,e)}function cO(t,e,n,i,r){sn(jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=D.useContext(Br),{matches:o}=D.useContext(Er),c=o[o.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let E=p&&p.path||"";uO(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=Qs(),y;if(e){let E=typeof e=="string"?Nc(e):e;sn(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=m;let _=y.pathname||"/",S=_;if(h!=="/"){let E=h.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=nO(t,{pathname:S});zr(p||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),zr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=jP(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Bs([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Bs([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,i,r);return e&&x?D.createElement(Fd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},x):x}function kP(){let t=FP(),e=wP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:r},n):null,o)}var MP=D.createElement(kP,null),NP=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(Er.Provider,{value:this.props.routeContext},D.createElement(N0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IP({routeContext:t,match:e,children:n}){let i=D.useContext(Ic);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Er.Provider,{value:t},n)}function jP(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);sn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=n,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let m,y=!1,_=null,S=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,_=h.route.errorElement||MP,c&&(u<0&&p===0?(uO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):u===p&&(y=!0,S=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,p+1)),x=()=>{let E;return m?E=_:y?E=S:h.route.Component?E=D.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,D.createElement(IP,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?D.createElement(NP,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:i}):x()},null)}function I0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PP(t){let e=D.useContext(Ic);return sn(e,I0(t)),e}function LP(t){let e=D.useContext(op);return sn(e,I0(t)),e}function zP(t){let e=D.useContext(Er);return sn(e,I0(t)),e}function j0(t){let e=zP(t),n=e.matches[e.matches.length-1];return sn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UP(){return j0("useRouteId")}function FP(){let t=D.useContext(N0),e=LP("useRouteError"),n=j0("useRouteError");return t!==void 0?t:e.errors?.[n]}function HP(){let{router:t}=PP("useNavigate"),e=j0("useNavigate"),n=D.useRef(!1);return lO(()=>{n.current=!0}),D.useCallback(async(r,s={})=>{zr(n.current,oO),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var SC={};function uO(t,e,n){!e&&!SC[t]&&(SC[t]=!0,zr(!1,n))}D.memo(BP);function BP({routes:t,future:e,state:n,unstable_onError:i}){return cO(t,void 0,n,i,e)}function dO({to:t,replace:e,state:n,relative:i}){sn(jc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=D.useContext(Br);zr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=D.useContext(Er),{pathname:o}=Qs(),c=as(),u=M0(t,k0(s),o,i==="path"),d=JSON.stringify(u);return D.useEffect(()=>{c(JSON.parse(d),{replace:e,state:n,relative:i})},[c,d,i,e,n]),null}function fO(t){return DP(t.context)}function Nn(t){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VP({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){sn(!jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=Nc(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=n,y=D.useMemo(()=>{let _=Gs(u,o);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:i}},[o,u,d,h,p,m,i]);return zr(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:D.createElement(Br.Provider,{value:c},D.createElement(Fd.Provider,{children:e,value:y}))}function $P({children:t,location:e}){return OP(vb(t),e)}function vb(t,e=[]){let n=[];return D.Children.forEach(t,(i,r)=>{if(!D.isValidElement(i))return;let s=[...e,r];if(i.type===D.Fragment){n.push.apply(n,vb(i.props.children,s));return}sn(i.type===Nn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=vb(i.props.children,s)),n.push(o)}),n}var sg="get",ag="application/x-www-form-urlencoded";function cp(t){return t!=null&&typeof t.tagName=="string"}function qP(t){return cp(t)&&t.tagName.toLowerCase()==="button"}function GP(t){return cp(t)&&t.tagName.toLowerCase()==="form"}function WP(t){return cp(t)&&t.tagName.toLowerCase()==="input"}function YP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QP(t,e){return t.button===0&&(!e||e==="_self")&&!YP(t)}var ph=null;function KP(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var XP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rv(t){return t!=null&&!XP.has(t)?(zr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ag}"`),null):t}function ZP(t,e){let n,i,r,s,o;if(GP(t)){let c=t.getAttribute("action");i=c?Gs(c,e):null,n=t.getAttribute("method")||sg,r=rv(t.getAttribute("enctype"))||ag,s=new FormData(t)}else if(qP(t)||WP(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(i=u?Gs(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||sg,r=rv(t.getAttribute("formenctype"))||rv(c.getAttribute("enctype"))||ag,s=new FormData(c,t),!KP()){let{name:d,type:h,value:p}=t;if(h==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,p)}}else{if(cp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sg,i=null,r=ag,o=t}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function P0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JP(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Gs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function eL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nL(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await eL(s,n);return o.links?o.links():[]}return[]}));return aL(i.flat(1).filter(tL).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function wC(t,e,n,i,r,s){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,c=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>o(u,d)||c(u,d)):s==="data"?e.filter((u,d)=>{let h=i.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function iL(t,e,{includeHydrateFallback:n}={}){return rL(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function rL(t){return[...new Set(t)]}function sL(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function aL(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(sL(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function hO(){let t=D.useContext(Ic);return P0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oL(){let t=D.useContext(op);return P0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var L0=D.createContext(void 0);L0.displayName="FrameworkContext";function gO(){let t=D.useContext(L0);return P0(t,"You must render this element inside a <HydratedRouter> element"),t}function lL(t,e){let n=D.useContext(L0),[i,r]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=e,m=D.useRef(null);D.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=x=>{x.forEach(E=>{o(E.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[t]),D.useEffect(()=>{if(i){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[i]);let y=()=>{r(!0)},_=()=>{r(!1),o(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:Pu(c,y),onBlur:Pu(u,_),onMouseEnter:Pu(d,y),onMouseLeave:Pu(h,_),onTouchStart:Pu(p,y)}]:[!1,m,{}]}function Pu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cL({page:t,...e}){let{router:n}=hO(),i=D.useMemo(()=>nO(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?D.createElement(dL,{page:t,matches:i,...e}):null}function uL(t){let{manifest:e,routeModules:n}=gO(),[i,r]=D.useState([]);return D.useEffect(()=>{let s=!1;return nL(t,e,n).then(o=>{s||r(o)}),()=>{s=!0}},[t,e,n]),i}function dL({page:t,matches:e,...n}){let i=Qs(),{manifest:r,routeModules:s}=gO(),{basename:o}=hO(),{loaderData:c,matches:u}=oL(),d=D.useMemo(()=>wC(t,e,u,r,i,"data"),[t,e,u,r,i]),h=D.useMemo(()=>wC(t,e,u,r,i,"assets"),[t,e,u,r,i]),p=D.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,S=!1;if(e.forEach(x=>{let E=r.routes[x.route.id];!E||!E.hasLoader||(!d.some(A=>A.route.id===x.route.id)&&x.route.id in c&&s[x.route.id]?.shouldRevalidate||E.hasClientLoader?S=!0:_.add(x.route.id))}),_.size===0)return[];let w=JP(t,o,"data");return S&&_.size>0&&w.searchParams.set("_routes",e.filter(x=>_.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[o,c,i,r,d,e,t,s]),m=D.useMemo(()=>iL(h,r),[h,r]),y=uL(h);return D.createElement(D.Fragment,null,p.map(_=>D.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),m.map(_=>D.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:S})=>D.createElement("link",{key:_,nonce:n.nonce,...S})))}function fL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pO&&(window.__reactRouterVersion="7.9.4")}catch{}function hL({basename:t,children:e,window:n}){let i=D.useRef();i.current==null&&(i.current=J2({window:n,v5Compat:!0}));let r=i.current,[s,o]=D.useState({action:r.action,location:r.location}),c=D.useCallback(u=>{D.startTransition(()=>o(u))},[o]);return D.useLayoutEffect(()=>r.listen(c),[r,c]),D.createElement(VP,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var mO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=D.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:c,target:u,to:d,preventScrollReset:h,viewTransition:p,...m},y){let{basename:_}=D.useContext(Br),S=typeof d=="string"&&mO.test(d),w,x=!1;if(typeof d=="string"&&S&&(w=d,pO))try{let U=new URL(window.location.href),B=d.startsWith("//")?new URL(U.protocol+d):new URL(d),$=Gs(B.pathname,_);B.origin===U.origin&&$!=null?d=$+B.search+B.hash:x=!0}catch{zr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=TP(d,{relative:r}),[A,I,k]=lL(i,m),j=yL(d,{replace:o,state:c,target:u,preventScrollReset:h,relative:r,viewTransition:p});function M(U){e&&e(U),U.defaultPrevented||j(U)}let O=D.createElement("a",{...m,...k,href:w||E,onClick:x||s?e:M,ref:fL(y,I),target:u,"data-discover":!S&&n==="render"?"true":void 0});return A&&!S?D.createElement(D.Fragment,null,O,D.createElement(cL,{page:E})):O});Pn.displayName="Link";var gL=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:c,children:u,...d},h){let p=Hd(o,{relative:d.relative}),m=Qs(),y=D.useContext(op),{navigator:_,basename:S}=D.useContext(Br),w=y!=null&&wL(p)&&c===!0,x=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,E=m.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(E=E.toLowerCase(),A=A?A.toLowerCase():null,x=x.toLowerCase()),A&&S&&(A=Gs(A,S)||A);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=E===x||!r&&E.startsWith(x)&&E.charAt(I)==="/",j=A!=null&&(A===x||!r&&A.startsWith(x)&&A.charAt(x.length)==="/"),M={isActive:k,isPending:j,isTransitioning:w},O=k?e:void 0,U;typeof i=="function"?U=i(M):U=[i,k?"active":null,j?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(M):s;return D.createElement(Pn,{...d,"aria-current":O,className:U,ref:h,style:B,to:o,viewTransition:c},typeof u=="function"?u(M):u)});gL.displayName="NavLink";var pL=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:o=sg,action:c,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...m},y)=>{let _=_L(),S=SL(c,{relative:d}),w=o.toLowerCase()==="get"?"get":"post",x=typeof c=="string"&&mO.test(c),E=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let I=A.nativeEvent.submitter,k=I?.getAttribute("formmethod")||o;_(I||A.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:r,state:s,relative:d,preventScrollReset:h,viewTransition:p})};return D.createElement("form",{ref:y,method:w,action:S,onSubmit:i?u:E,...m,"data-discover":!x&&t==="render"?"true":void 0})});pL.displayName="Form";function mL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yO(t){let e=D.useContext(Ic);return sn(e,mL(t)),e}function yL(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let c=as(),u=Qs(),d=Hd(t,{relative:s});return D.useCallback(h=>{if(QP(h,e)){h.preventDefault();let p=n!==void 0?n:_d(u)===_d(d);c(t,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[u,c,d,n,i,e,t,r,s,o])}var vL=0,bL=()=>`__${String(++vL)}__`;function _L(){let{router:t}=yO("useSubmit"),{basename:e}=D.useContext(Br),n=UP();return D.useCallback(async(i,r={})=>{let{action:s,method:o,encType:c,formData:u,body:d}=ZP(i,e);if(r.navigate===!1){let h=r.fetcherKey||bL();await t.fetch(h,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function SL(t,{relative:e}={}){let{basename:n}=D.useContext(Br),i=D.useContext(Er);sn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Hd(t||".",{relative:e})},o=Qs();if(t==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let h=c.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Bs([n,s.pathname])),_d(s)}function wL(t,{relative:e}={}){let n=D.useContext(aO);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yO("useViewTransitionState"),r=Hd(t,{relative:e});if(!n.isTransitioning)return!1;let s=Gs(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Gs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return _g(r.pathname,o)!=null||_g(r.pathname,s)!=null}var Ls=tO();const xL=Jo(Ls);var Pc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},EL={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},CL=class{#e=EL;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Lo=new CL;function TL(t){setTimeout(t,0)}var Wo=typeof window>"u"||"Deno"in globalThis;function gi(){}function AL(t,e){return typeof t=="function"?t(e):t}function bb(t){return typeof t=="number"&&t>=0&&t!==1/0}function vO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fa(t,e){return typeof t=="function"?t(e):t}function yr(t,e){return typeof t=="function"?t(e):t}function xC(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:c}=t;if(o){if(i){if(e.queryHash!==z0(o,e.options))return!1}else if(!Sd(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||s&&!s(e))}function EC(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Yo(e.options.mutationKey)!==Yo(s))return!1}else if(!Sd(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function z0(t,e){return(e?.queryKeyHashFn||Yo)(t)}function Yo(t){return JSON.stringify(t,(e,n)=>_b(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Sd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Sd(t[n],e[n])):!1}var RL=Object.prototype.hasOwnProperty;function bO(t,e){if(t===e)return t;const n=CC(t)&&CC(e);if(!n&&!(_b(t)&&_b(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,c=n?new Array(o):{};let u=0;for(let d=0;d<o;d++){const h=n?d:s[d],p=t[h],m=e[h];if(p===m){c[h]=p,(n?d<r:RL.call(t,h))&&u++;continue}if(p===null||m===null||typeof p!="object"||typeof m!="object"){c[h]=m;continue}const y=bO(p,m);c[h]=y,y===p&&u++}return r===o&&u===r?t:c}function Sg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function CC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _b(t){if(!TC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!TC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function TC(t){return Object.prototype.toString.call(t)==="[object Object]"}function DL(t){return new Promise(e=>{Lo.setTimeout(e,t)})}function Sb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bO(t,e):e}function OL(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function kL(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var U0=Symbol();function _O(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===U0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function SO(t,e){return typeof t=="function"?t(...e):!!t}var ML=class extends Pc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Wo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},F0=new ML;function wb(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var NL=TL;function IL(){let t=[],e=0,n=c=>{c()},i=c=>{c()},r=NL;const s=c=>{e?t.push(c):r(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&r(()=>{i(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||o()}return u},batchCalls:c=>(...u)=>{s(()=>{c(...u)})},schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{r=c}}}var zn=IL(),jL=class extends Pc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Wo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},wg=new jL;function PL(t){return Math.min(1e3*2**t,3e4)}function wO(t){return(t??"online")==="online"?wg.isOnline():!0}var xb=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function xO(t){let e=!1,n=0,i;const r=wb(),s=()=>r.status!=="pending",o=S=>{if(!s()){const w=new xb(S);m(w),t.onCancel?.(w)}},c=()=>{e=!0},u=()=>{e=!1},d=()=>F0.isFocused()&&(t.networkMode==="always"||wg.isOnline())&&t.canRun(),h=()=>wO(t.networkMode)&&t.canRun(),p=S=>{s()||(i?.(),r.resolve(S))},m=S=>{s()||(i?.(),r.reject(S))},y=()=>new Promise(S=>{i=w=>{(s()||d())&&S(w)},t.onPause?.()}).then(()=>{i=void 0,s()||t.onContinue?.()}),_=()=>{if(s())return;let S;const w=n===0?t.initialPromise:void 0;try{S=w??t.fn()}catch(x){S=Promise.reject(x)}Promise.resolve(S).then(p).catch(x=>{if(s())return;const E=t.retry??(Wo?0:3),A=t.retryDelay??PL,I=typeof A=="function"?A(n,x):A,k=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,x);if(e||!k){m(x);return}n++,t.onFail?.(n,x),DL(I).then(()=>d()?void 0:y()).then(()=>{e?m(x):_()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(i?.(),r),cancelRetry:c,continueRetry:u,canStart:h,start:()=>(h()?_():y().then(_),r)}}var EO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bb(this.gcTime)&&(this.#e=Lo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Lo.clearTimeout(this.#e),this.#e=void 0)}},LL=class extends EO{#e;#t;#n;#r;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=AC(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=AC(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Sb(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(gi).catch(gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>yr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===U0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},r=()=>{const c=_O(this.options,e),d=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(h),h})();return this.#o=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return i(c),c})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=xO({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:c=>{c instanceof xb&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,u)=>{this.#s({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof xb){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#s({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...CO(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const r=t.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function CO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zL=class extends Pc{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=wb(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#p;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),RC(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Eb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Eb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Sg(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&DC(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),i&&(this.#t!==n||yr(this.options.enabled,this.#t)!==yr(e.enabled,this.#t)||Fa(this.options.staleTime,this.#t)!==Fa(e.staleTime,this.#t))&&this.#m();const r=this.#y();i&&(this.#t!==n||yr(this.options.enabled,this.#t)!==yr(e.enabled,this.#t)||r!==this.#l)&&this.#v(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return FL(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(gi)),e}#m(){this.#_();const t=Fa(this.options.staleTime,this.#t);if(Wo||this.#r.isStale||!bb(t))return;const n=vO(this.#r.dataUpdatedAt,t)+1;this.#c=Lo.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#S(),this.#l=t,!(Wo||yr(this.options.enabled,this.#t)===!1||!bb(this.#l)||this.#l===0)&&(this.#u=Lo.setInterval(()=>{(this.options.refetchIntervalInBackground||F0.isFocused())&&this.#d()},this.#l))}#b(){this.#m(),this.#v(this.#y())}#_(){this.#c&&(Lo.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(Lo.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,i=this.options,r=this.#r,s=this.#i,o=this.#a,u=t!==n?t.state:this.#n,{state:d}=t;let h={...d},p=!1,m;if(e._optimisticResults){const O=this.hasListeners(),U=!O&&RC(t,e),B=O&&DC(t,n,e,i);(U||B)&&(h={...h,...CO(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:_,status:S}=h;m=h.data;let w=!1;if(e.placeholderData!==void 0&&m===void 0&&S==="pending"){let O;r?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(O=r.data,w=!0):O=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,O!==void 0&&(S="success",m=Sb(r?.data,O,e),p=!0)}if(e.select&&m!==void 0&&!w)if(r&&m===s?.data&&e.select===this.#p)m=this.#f;else try{this.#p=e.select,m=e.select(m),m=Sb(r?.data,m,e),this.#f=m,this.#s=null}catch(O){this.#s=O}this.#s&&(y=this.#s,m=this.#f,_=Date.now(),S="error");const x=h.fetchStatus==="fetching",E=S==="pending",A=S==="error",I=E&&x,k=m!==void 0,M={status:S,fetchStatus:h.fetchStatus,isPending:E,isSuccess:S==="success",isError:A,isInitialLoading:I,isLoading:I,data:m,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:A&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&k,isStale:H0(t,e),refetch:this.refetch,promise:this.#o,isEnabled:yr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=$=>{M.status==="error"?$.reject(M.error):M.data!==void 0&&$.resolve(M.data)},U=()=>{const $=this.#o=M.promise=wb();O($)},B=this.#o;switch(B.status){case"pending":t.queryHash===n.queryHash&&O(B);break;case"fulfilled":(M.status==="error"||M.data!==B.value)&&U();break;case"rejected":(M.status!=="error"||M.error!==B.reason)&&U();break}}return M}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Sg(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#g.size)return!0;const s=new Set(r??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const c=o;return this.#r[c]!==t[c]&&s.has(c)})};this.#x({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(t){zn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function UL(t,e){return yr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function RC(t,e){return UL(t,e)||t.state.data!==void 0&&Eb(t,e,e.refetchOnMount)}function Eb(t,e,n){if(yr(e.enabled,t)!==!1&&Fa(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&H0(t,e)}return!1}function DC(t,e,n,i){return(t!==e||yr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&H0(t,n)}function H0(t,e){return yr(e.enabled,t)!==!1&&t.isStaleByTime(Fa(e.staleTime,t))}function FL(t,e){return!Sg(t.getCurrentResult(),e)}function OC(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const p=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},m=_O(e.options,e.fetchOptions),y=async(_,S,w)=>{if(h)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:S,direction:w?"backward":"forward",meta:e.options.meta};return p(j),j})(),A=await m(E),{maxPages:I}=e.options,k=w?kL:OL;return{pages:k(_.pages,A,I),pageParams:k(_.pageParams,S,I)}};if(r&&s.length){const _=r==="backward",S=_?HL:kC,w={pages:s,pageParams:o},x=S(i,w);c=await y(w,x,_)}else{const _=t??s.length;do{const S=u===0?o[0]??i.initialPageParam:kC(i,c);if(u>0&&S==null)break;c=await y(c,S),u++}while(u<_)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function kC(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function HL(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var BL=class extends EO{#e;#t;#n;#r;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||TO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=xO({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#i({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",r=!this.#r.canStart();try{if(i)e();else{this.#i({type:"pending",variables:t,isPaused:r}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#i({type:"pending",context:o,variables:t,isPaused:r})}const s=await this.#r.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#i({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#i({type:"error",error:s})}}finally{this.#n.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),zn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function TO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var VL=class extends Pc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new BL({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=mh(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=mh(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=mh(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=mh(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>EC(e,n))}findAll(t={}){return this.getAll().filter(e=>EC(t,e))}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return zn.batch(()=>Promise.all(t.map(e=>e.continue().catch(gi))))}};function mh(t){return t.options.scope?.id}var $L=class extends Pc{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Sg(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Yo(n.mutationKey)!==Yo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??TO();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){zn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,n,i,r),this.#r.onSettled?.(e.data,null,n,i,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,i,r),this.#r.onSettled?.(void 0,e.error,n,i,r))}this.listeners.forEach(n=>{n(this.#t)})})}},qL=class extends Pc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,r=e.queryHash??z0(i,e);let s=this.get(r);return s||(s=new LL({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>xC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>xC(t,n)):e}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},GL=class{#e;#t;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new qL,this.#t=t.mutationCache||new VL,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=F0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=wg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Fa(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(i.queryHash)?.state.data,o=AL(e,s);if(o!==void 0)return this.#e.build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return zn.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return zn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=zn.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(gi).catch(gi)}invalidateQueries(t,e={}){return zn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=zn.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(gi)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(gi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Fa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gi).catch(gi)}fetchInfiniteQuery(t){return t.behavior=OC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gi).catch(gi)}ensureInfiniteQueryData(t){return t.behavior=OC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Yo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Sd(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Yo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Sd(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=z0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===U0&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},AO=D.createContext(void 0),Pi=t=>{const e=D.useContext(AO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},WL=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(AO.Provider,{value:t,children:e})),RO=D.createContext(!1),YL=()=>D.useContext(RO);RO.Provider;function QL(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var KL=D.createContext(QL()),XL=()=>D.useContext(KL),ZL=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},JL=t=>{D.useEffect(()=>{t.clearReset()},[t])},ez=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||SO(n,[t.error,i])),tz=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},nz=(t,e)=>t.isLoading&&t.isFetching&&!e,iz=(t,e)=>t?.suspense&&e.isPending,MC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function rz(t,e,n){const i=YL(),r=XL(),s=Pi(),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",tz(o),ZL(o,r),JL(r);const c=!s.getQueryCache().get(o.queryHash),[u]=D.useState(()=>new e(s,o)),d=u.getOptimisticResult(o),h=!i&&t.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(p=>{const m=h?u.subscribe(zn.batchCalls(p)):gi;return u.updateResult(),m},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),D.useEffect(()=>{u.setOptions(o)},[o,u]),iz(o,d))throw MC(o,u,r);if(ez({result:d,errorResetBoundary:r,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Wo&&nz(d,i)&&(c?MC(o,u,r):s.getQueryCache().get(o.queryHash)?.promise)?.catch(gi).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function el(t,e){return rz(t,zL)}function Ks(t,e){const n=Pi(),[i]=D.useState(()=>new $L(n,t));D.useEffect(()=>{i.setOptions(t)},[i,t]);const r=D.useSyncExternalStore(D.useCallback(o=>i.subscribe(zn.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=D.useCallback((o,c)=>{i.mutate(o,c).catch(gi)},[i]);if(r.error&&SO(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}function sz(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const az=t=>{switch(t){case"success":return cz;case"info":return dz;case"warning":return uz;case"error":return fz;default:return null}},oz=Array(12).fill(0),lz=({visible:t,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ce.createElement("div",{className:"sonner-spinner"},oz.map((n,i)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),cz=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uz=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dz=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fz=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hz=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gz=()=>{const[t,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Cb=1,pz=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...r}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Cb++,o=this.toasts.find(u=>u.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:i}),{...u,...e,id:s,dismissible:c,title:i}):u):this.addToast({title:i,...r,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,o;const c=r.then(async d=>{if(o=["resolve",d],ce.isValidElement(d))s=!1,this.create({id:i,type:"default",message:d});else if(yz(d)&&!d.ok){s=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,_=typeof p=="object"&&!ce.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:m,..._})}else if(d instanceof Error){s=!1;const p=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,_=typeof p=="object"&&!ce.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:m,..._})}else if(n.success!==void 0){s=!1;const p=typeof n.success=="function"?await n.success(d):n.success,m=typeof n.description=="function"?await n.description(d):n.description,_=typeof p=="object"&&!ce.isValidElement(p)?p:{message:p};this.create({id:i,type:"success",description:m,..._})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!ce.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:p,...y})}}).finally(()=>{s&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>c.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof i!="string"&&typeof i!="number"?{unwrap:u}:Object.assign(i,{unwrap:u})},this.custom=(e,n)=>{const i=n?.id||Cb++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}};const ki=new pz,mz=(t,e)=>{const n=e?.id||Cb++;return ki.addToast({title:t,...e,id:n}),n},yz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vz=mz,bz=()=>ki.toasts,_z=()=>ki.getActiveToasts();Object.assign(vz,{success:ki.success,info:ki.info,warning:ki.warning,error:ki.error,custom:ki.custom,message:ki.message,promise:ki.promise,dismiss:ki.dismiss,loading:ki.loading},{getHistory:bz,getToasts:_z});sz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function yh(t){return t.label!==void 0}const Sz=3,wz="24px",xz="16px",NC=4e3,Ez=356,Cz=14,Tz=45,Az=200;function Yr(...t){return t.filter(Boolean).join(" ")}function Rz(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const Dz=t=>{var e,n,i,r,s,o,c,u,d;const{invert:h,toast:p,unstyled:m,interacting:y,setHeights:_,visibleToasts:S,heights:w,index:x,toasts:E,expanded:A,removeToast:I,defaultRichColors:k,closeButton:j,style:M,cancelButtonStyle:O,actionButtonStyle:U,className:B="",descriptionClassName:$="",duration:Q,position:ae,gap:pe,expandByDefault:ve,classNames:F,icons:K,closeButtonAriaLabel:ue="Close toast"}=t,[re,me]=ce.useState(null),[R,z]=ce.useState(null),[q,J]=ce.useState(!1),[fe,ge]=ce.useState(!1),[_e,Se]=ce.useState(!1),[Oe,tt]=ce.useState(!1),[Jt,qt]=ce.useState(!1),[bi,Ee]=ce.useState(0),[He,nt]=ce.useState(0),Ht=ce.useRef(p.duration||Q||NC),Sn=ce.useRef(null),Ye=ce.useRef(null),P=x===0,G=x+1<=S,X=p.type,Y=p.dismissible!==!1,te=p.className||"",oe=p.descriptionClassName||"",ye=ce.useMemo(()=>w.findIndex(Ce=>Ce.toastId===p.id)||0,[w,p.id]),be=ce.useMemo(()=>{var Ce;return(Ce=p.closeButton)!=null?Ce:j},[p.closeButton,j]),we=ce.useMemo(()=>p.duration||Q||NC,[p.duration,Q]),ke=ce.useRef(0),Qe=ce.useRef(0),Ve=ce.useRef(0),ut=ce.useRef(null),[it,Lt]=ae.split("-"),rt=ce.useMemo(()=>w.reduce((Ce,Be,dt)=>dt>=ye?Ce:Ce+Be.height,0),[w,ye]),Fe=gz(),mn=p.invert||h,Je=X==="loading";Qe.current=ce.useMemo(()=>ye*pe+rt,[ye,rt]),ce.useEffect(()=>{Ht.current=we},[we]),ce.useEffect(()=>{J(!0)},[]),ce.useEffect(()=>{const Ce=Ye.current;if(Ce){const Be=Ce.getBoundingClientRect().height;return nt(Be),_(dt=>[{toastId:p.id,height:Be,position:p.position},...dt]),()=>_(dt=>dt.filter(pt=>pt.toastId!==p.id))}},[_,p.id]),ce.useLayoutEffect(()=>{if(!q)return;const Ce=Ye.current,Be=Ce.style.height;Ce.style.height="auto";const dt=Ce.getBoundingClientRect().height;Ce.style.height=Be,nt(dt),_(pt=>pt.find(mt=>mt.toastId===p.id)?pt.map(mt=>mt.toastId===p.id?{...mt,height:dt}:mt):[{toastId:p.id,height:dt,position:p.position},...pt])},[q,p.title,p.description,_,p.id,p.jsx,p.action,p.cancel]);const gt=ce.useCallback(()=>{ge(!0),Ee(Qe.current),_(Ce=>Ce.filter(Be=>Be.toastId!==p.id)),setTimeout(()=>{I(p)},Az)},[p,I,_,Qe]);ce.useEffect(()=>{if(p.promise&&X==="loading"||p.duration===1/0||p.type==="loading")return;let Ce;return A||y||Fe?(()=>{if(Ve.current<ke.current){const pt=new Date().getTime()-ke.current;Ht.current=Ht.current-pt}Ve.current=new Date().getTime()})():(()=>{Ht.current!==1/0&&(ke.current=new Date().getTime(),Ce=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),gt()},Ht.current))})(),()=>clearTimeout(Ce)},[A,y,p,X,Fe,gt]),ce.useEffect(()=>{p.delete&&(gt(),p.onDismiss==null||p.onDismiss.call(p,p))},[gt,p.delete]);function di(){var Ce;if(K?.loading){var Be;return ce.createElement("div",{className:Yr(F?.loader,p==null||(Be=p.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":X==="loading"},K.loading)}return ce.createElement(lz,{className:Yr(F?.loader,p==null||(Ce=p.classNames)==null?void 0:Ce.loader),visible:X==="loading"})}const fi=p.icon||K?.[X]||az(X);var St,Bt;return ce.createElement("li",{tabIndex:0,ref:Ye,className:Yr(B,te,F?.toast,p==null||(e=p.classNames)==null?void 0:e.toast,F?.default,F?.[X],p==null||(n=p.classNames)==null?void 0:n[X]),"data-sonner-toast":"","data-rich-colors":(St=p.richColors)!=null?St:k,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":q,"data-promise":!!p.promise,"data-swiped":Jt,"data-removed":fe,"data-visible":G,"data-y-position":it,"data-x-position":Lt,"data-index":x,"data-front":P,"data-swiping":_e,"data-dismissible":Y,"data-type":X,"data-invert":mn,"data-swipe-out":Oe,"data-swipe-direction":R,"data-expanded":!!(A||ve&&q),"data-testid":p.testId,style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${fe?bi:Qe.current}px`,"--initial-height":ve?"auto":`${He}px`,...M,...p.style},onDragEnd:()=>{Se(!1),me(null),ut.current=null},onPointerDown:Ce=>{Ce.button!==2&&(Je||!Y||(Sn.current=new Date,Ee(Qe.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(Se(!0),ut.current={x:Ce.clientX,y:Ce.clientY})))},onPointerUp:()=>{var Ce,Be,dt;if(Oe||!Y)return;ut.current=null;const pt=Number(((Ce=Ye.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dn=Number(((Be=Ye.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mt=new Date().getTime()-((dt=Sn.current)==null?void 0:dt.getTime()),Ke=re==="x"?pt:dn,wn=Math.abs(Ke)/mt;if(Math.abs(Ke)>=Tz||wn>.11){Ee(Qe.current),p.onDismiss==null||p.onDismiss.call(p,p),z(re==="x"?pt>0?"right":"left":dn>0?"down":"up"),gt(),tt(!0);return}else{var Gt,en;(Gt=Ye.current)==null||Gt.style.setProperty("--swipe-amount-x","0px"),(en=Ye.current)==null||en.style.setProperty("--swipe-amount-y","0px")}qt(!1),Se(!1),me(null)},onPointerMove:Ce=>{var Be,dt,pt;if(!ut.current||!Y||((Be=window.getSelection())==null?void 0:Be.toString().length)>0)return;const mt=Ce.clientY-ut.current.y,Ke=Ce.clientX-ut.current.x;var wn;const Gt=(wn=t.swipeDirections)!=null?wn:Rz(ae);!re&&(Math.abs(Ke)>1||Math.abs(mt)>1)&&me(Math.abs(Ke)>Math.abs(mt)?"x":"y");let en={x:0,y:0};const Xi=Yn=>1/(1.5+Math.abs(Yn)/20);if(re==="y"){if(Gt.includes("top")||Gt.includes("bottom"))if(Gt.includes("top")&&mt<0||Gt.includes("bottom")&&mt>0)en.y=mt;else{const Yn=mt*Xi(mt);en.y=Math.abs(Yn)<Math.abs(mt)?Yn:mt}}else if(re==="x"&&(Gt.includes("left")||Gt.includes("right")))if(Gt.includes("left")&&Ke<0||Gt.includes("right")&&Ke>0)en.x=Ke;else{const Yn=Ke*Xi(Ke);en.x=Math.abs(Yn)<Math.abs(Ke)?Yn:Ke}(Math.abs(en.x)>0||Math.abs(en.y)>0)&&qt(!0),(dt=Ye.current)==null||dt.style.setProperty("--swipe-amount-x",`${en.x}px`),(pt=Ye.current)==null||pt.style.setProperty("--swipe-amount-y",`${en.y}px`)}},be&&!p.jsx&&X!=="loading"?ce.createElement("button",{"aria-label":ue,"data-disabled":Je,"data-close-button":!0,onClick:Je||!Y?()=>{}:()=>{gt(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Yr(F?.closeButton,p==null||(i=p.classNames)==null?void 0:i.closeButton)},(Bt=K?.close)!=null?Bt:hz):null,(X||p.icon||p.promise)&&p.icon!==null&&(K?.[X]!==null||p.icon)?ce.createElement("div",{"data-icon":"",className:Yr(F?.icon,p==null||(r=p.classNames)==null?void 0:r.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||di():null,p.type!=="loading"?fi:null):null,ce.createElement("div",{"data-content":"",className:Yr(F?.content,p==null||(s=p.classNames)==null?void 0:s.content)},ce.createElement("div",{"data-title":"",className:Yr(F?.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?ce.createElement("div",{"data-description":"",className:Yr($,oe,F?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),ce.isValidElement(p.cancel)?p.cancel:p.cancel&&yh(p.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:Ce=>{yh(p.cancel)&&Y&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Ce),gt())},className:Yr(F?.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,ce.isValidElement(p.action)?p.action:p.action&&yh(p.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||U,onClick:Ce=>{yh(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Ce),!Ce.defaultPrevented&&gt())},className:Yr(F?.actionButton,p==null||(d=p.classNames)==null?void 0:d.actionButton)},p.action.label):null)};function IC(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Oz(t,e){const n={};return[t,e].forEach((i,r)=>{const s=r===1,o=s?"--mobile-offset":"--offset",c=s?xz:wz;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?n[`${o}-${d}`]=c:n[`${o}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(c)}),n}const kz=ce.forwardRef(function(e,n){const{id:i,invert:r,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:u,className:d,offset:h,mobileOffset:p,theme:m="light",richColors:y,duration:_,style:S,visibleToasts:w=Sz,toastOptions:x,dir:E=IC(),gap:A=Cz,icons:I,containerAriaLabel:k="Notifications"}=e,[j,M]=ce.useState([]),O=ce.useMemo(()=>i?j.filter(q=>q.toasterId===i):j.filter(q=>!q.toasterId),[j,i]),U=ce.useMemo(()=>Array.from(new Set([s].concat(O.filter(q=>q.position).map(q=>q.position)))),[O,s]),[B,$]=ce.useState([]),[Q,ae]=ce.useState(!1),[pe,ve]=ce.useState(!1),[F,K]=ce.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ue=ce.useRef(null),re=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),me=ce.useRef(null),R=ce.useRef(!1),z=ce.useCallback(q=>{M(J=>{var fe;return(fe=J.find(ge=>ge.id===q.id))!=null&&fe.delete||ki.dismiss(q.id),J.filter(({id:ge})=>ge!==q.id)})},[]);return ce.useEffect(()=>ki.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{M(J=>J.map(fe=>fe.id===q.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{xL.flushSync(()=>{M(J=>{const fe=J.findIndex(ge=>ge.id===q.id);return fe!==-1?[...J.slice(0,fe),{...J[fe],...q},...J.slice(fe+1)]:[q,...J]})})})}),[j]),ce.useEffect(()=>{if(m!=="system"){K(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:J})=>{K(J?"dark":"light")})}catch{q.addListener(({matches:fe})=>{try{K(fe?"dark":"light")}catch(ge){console.error(ge)}})}},[m]),ce.useEffect(()=>{j.length<=1&&ae(!1)},[j]),ce.useEffect(()=>{const q=J=>{var fe;if(o.every(Se=>J[Se]||J.code===Se)){var _e;ae(!0),(_e=ue.current)==null||_e.focus()}J.code==="Escape"&&(document.activeElement===ue.current||(fe=ue.current)!=null&&fe.contains(document.activeElement))&&ae(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[o]),ce.useEffect(()=>{if(ue.current)return()=>{me.current&&(me.current.focus({preventScroll:!0}),me.current=null,R.current=!1)}},[ue.current]),ce.createElement("section",{ref:n,"aria-label":`${k} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((q,J)=>{var fe;const[ge,_e]=q.split("-");return O.length?ce.createElement("ol",{key:q,dir:E==="auto"?IC():E,tabIndex:-1,ref:ue,className:d,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":ge,"data-x-position":_e,style:{"--front-toast-height":`${((fe=B[0])==null?void 0:fe.height)||0}px`,"--width":`${Ez}px`,"--gap":`${A}px`,...S,...Oz(h,p)},onBlur:Se=>{R.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(R.current=!1,me.current&&(me.current.focus({preventScroll:!0}),me.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||R.current||(R.current=!0,me.current=Se.relatedTarget)},onMouseEnter:()=>ae(!0),onMouseMove:()=>ae(!0),onMouseLeave:()=>{pe||ae(!1)},onDragEnd:()=>ae(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||ve(!0)},onPointerUp:()=>ve(!1)},O.filter(Se=>!Se.position&&J===0||Se.position===q).map((Se,Oe)=>{var tt,Jt;return ce.createElement(Dz,{key:Se.id,icons:I,index:Oe,toast:Se,defaultRichColors:y,duration:(tt=x?.duration)!=null?tt:_,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Jt=x?.closeButton)!=null?Jt:u,interacting:pe,position:q,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:z,toasts:O.filter(qt=>qt.position==Se.position),heights:B.filter(qt=>qt.position==Se.position),setHeights:$,expandByDefault:c,gap:A,expanded:Q,swipeDirections:e.swipeDirections})})):null}))});var vh={MINUTES_PER_HOUR:60,MILLISECONDS_PER_MINUTE:60*1e3},jC={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},bh={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR"},PC={PAGE_SIZE:10,PAGE_SIZE_OPTIONS:[10,25,50,100]},on={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},_t={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},zs={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},Yl={CREMA:"CREMA",LIQUIDO:"LIQUIDO",POLVERI:"POLVERI"},Ql={T1:"T1",T2:"T2",T3:"T3"},sv={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function Mz(){if(LC)return qe;LC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function x(R,z,q){this.props=R,this.context=z,this.refs=w,this.updater=q||_}x.prototype.isReactComponent={},x.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},x.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=x.prototype;function A(R,z,q){this.props=R,this.context=z,this.refs=w,this.updater=q||_}var I=A.prototype=new E;I.constructor=A,S(I,x.prototype),I.isPureReactComponent=!0;var k=Array.isArray;function j(){}var M={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function U(R,z,q){var J=q.ref;return{$$typeof:t,type:R,key:z,ref:J!==void 0?J:null,props:q}}function B(R,z){return U(R.type,z,R.props)}function $(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function Q(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(q){return z[q]})}var ae=/\/+/g;function pe(R,z){return typeof R=="object"&&R!==null&&R.key!=null?Q(""+R.key):z.toString(36)}function ve(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(j,j):(R.status="pending",R.then(function(z){R.status==="pending"&&(R.status="fulfilled",R.value=z)},function(z){R.status==="pending"&&(R.status="rejected",R.reason=z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function F(R,z,q,J,fe){var ge=typeof R;(ge==="undefined"||ge==="boolean")&&(R=null);var _e=!1;if(R===null)_e=!0;else switch(ge){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(R.$$typeof){case t:case e:_e=!0;break;case h:return _e=R._init,F(_e(R._payload),z,q,J,fe)}}if(_e)return fe=fe(R),_e=J===""?"."+pe(R,0):J,k(fe)?(q="",_e!=null&&(q=_e.replace(ae,"$&/")+"/"),F(fe,z,q,"",function(tt){return tt})):fe!=null&&($(fe)&&(fe=B(fe,q+(fe.key==null||R&&R.key===fe.key?"":(""+fe.key).replace(ae,"$&/")+"/")+_e)),z.push(fe)),1;_e=0;var Se=J===""?".":J+":";if(k(R))for(var Oe=0;Oe<R.length;Oe++)J=R[Oe],ge=Se+pe(J,Oe),_e+=F(J,z,q,ge,fe);else if(Oe=y(R),typeof Oe=="function")for(R=Oe.call(R),Oe=0;!(J=R.next()).done;)J=J.value,ge=Se+pe(J,Oe++),_e+=F(J,z,q,ge,fe);else if(ge==="object"){if(typeof R.then=="function")return F(ve(R),z,q,J,fe);throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(R,z,q){if(R==null)return R;var J=[],fe=0;return F(R,J,"","",function(ge){return z.call(q,ge,fe++)}),J}function ue(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(q){(R._status===0||R._status===-1)&&(R._status=1,R._result=q)},function(q){(R._status===0||R._status===-1)&&(R._status=2,R._result=q)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},me={map:K,forEach:function(R,z,q){K(R,function(){z.apply(this,arguments)},q)},count:function(R){var z=0;return K(R,function(){z++}),z},toArray:function(R){return K(R,function(z){return z})||[]},only:function(R){if(!$(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return qe.Activity=p,qe.Children=me,qe.Component=x,qe.Fragment=n,qe.Profiler=r,qe.PureComponent=A,qe.StrictMode=i,qe.Suspense=u,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,qe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return M.H.useMemoCache(R)}},qe.cache=function(R){return function(){return R.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(R,z,q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var J=S({},R.props),fe=R.key;if(z!=null)for(ge in z.key!==void 0&&(fe=""+z.key),z)!O.call(z,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&z.ref===void 0||(J[ge]=z[ge]);var ge=arguments.length-2;if(ge===1)J.children=q;else if(1<ge){for(var _e=Array(ge),Se=0;Se<ge;Se++)_e[Se]=arguments[Se+2];J.children=_e}return U(R.type,fe,J)},qe.createContext=function(R){return R={$$typeof:o,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},qe.createElement=function(R,z,q){var J,fe={},ge=null;if(z!=null)for(J in z.key!==void 0&&(ge=""+z.key),z)O.call(z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(fe[J]=z[J]);var _e=arguments.length-2;if(_e===1)fe.children=q;else if(1<_e){for(var Se=Array(_e),Oe=0;Oe<_e;Oe++)Se[Oe]=arguments[Oe+2];fe.children=Se}if(R&&R.defaultProps)for(J in _e=R.defaultProps,_e)fe[J]===void 0&&(fe[J]=_e[J]);return U(R,ge,fe)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(R){return{$$typeof:c,render:R}},qe.isValidElement=$,qe.lazy=function(R){return{$$typeof:h,_payload:{_status:-1,_result:R},_init:ue}},qe.memo=function(R,z){return{$$typeof:d,type:R,compare:z===void 0?null:z}},qe.startTransition=function(R){var z=M.T,q={};M.T=q;try{var J=R(),fe=M.S;fe!==null&&fe(q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(j,re)}catch(ge){re(ge)}finally{z!==null&&q.types!==null&&(z.types=q.types),M.T=z}},qe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},qe.use=function(R){return M.H.use(R)},qe.useActionState=function(R,z,q){return M.H.useActionState(R,z,q)},qe.useCallback=function(R,z){return M.H.useCallback(R,z)},qe.useContext=function(R){return M.H.useContext(R)},qe.useDebugValue=function(){},qe.useDeferredValue=function(R,z){return M.H.useDeferredValue(R,z)},qe.useEffect=function(R,z){return M.H.useEffect(R,z)},qe.useEffectEvent=function(R){return M.H.useEffectEvent(R)},qe.useId=function(){return M.H.useId()},qe.useImperativeHandle=function(R,z,q){return M.H.useImperativeHandle(R,z,q)},qe.useInsertionEffect=function(R,z){return M.H.useInsertionEffect(R,z)},qe.useLayoutEffect=function(R,z){return M.H.useLayoutEffect(R,z)},qe.useMemo=function(R,z){return M.H.useMemo(R,z)},qe.useOptimistic=function(R,z){return M.H.useOptimistic(R,z)},qe.useReducer=function(R,z,q){return M.H.useReducer(R,z,q)},qe.useRef=function(R){return M.H.useRef(R)},qe.useState=function(R){return M.H.useState(R)},qe.useSyncExternalStore=function(R,z,q){return M.H.useSyncExternalStore(R,z,q)},qe.useTransition=function(){return M.H.useTransition()},qe.version="19.2.0",qe}var zC;function up(){return zC||(zC=1,sv.exports=Mz()),sv.exports}var Ne=up();const No=Jo(Ne);function UC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nz(...t){return e=>{let n=!1;const i=t.map(r=>{const s=UC(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():UC(t[r],null)}}}}var av={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function Iz(){if(FC)return Lu;FC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Lu.Fragment=e,Lu.jsx=n,Lu.jsxs=n,Lu}var HC;function jz(){return HC||(HC=1,av.exports=Iz()),av.exports}var xe=jz();function Pz(t){const e=zz(t),n=Ne.forwardRef((i,r)=>{const{children:s,...o}=i,c=Ne.Children.toArray(s),u=c.find(Fz);if(u){const d=u.props.children,h=c.map(p=>p===u?Ne.Children.count(d)>1?Ne.Children.only(null):Ne.isValidElement(d)?d.props.children:null:p);return xe.jsx(e,{...o,ref:r,children:Ne.isValidElement(d)?Ne.cloneElement(d,void 0,h):null})}return xe.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var Lz=Pz("Slot");function zz(t){const e=Ne.forwardRef((n,i)=>{const{children:r,...s}=n;if(Ne.isValidElement(r)){const o=Bz(r),c=Hz(s,r.props);return r.type!==Ne.Fragment&&(c.ref=i?Nz(i,o):o),Ne.cloneElement(r,c)}return Ne.Children.count(r)>1?Ne.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Uz=Symbol("radix.slottable");function Fz(t){return Ne.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Uz}function Hz(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...c)=>{const u=s(...c);return r(...c),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function Bz(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function DO(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=DO(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function OO(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=DO(t))&&(i&&(i+=" "),i+=e);return i}const B0="-",Vz=t=>{const e=qz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{const c=o.split(B0);return c[0]===""&&c.length!==1&&c.shift(),kO(c,e)||$z(o)},getConflictingClassGroupIds:(o,c)=>{const u=n[o]||[];return c&&i[o]?[...u,...i[o]]:u}}},kO=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?kO(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(B0);return e.validators.find(({validator:o})=>o(s))?.classGroupId},BC=/^\[(.+)\]$/,$z=t=>{if(BC.test(t)){const e=BC.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qz=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return Wz(Object.entries(t.classGroups),n).forEach(([s,o])=>{Tb(o,i,s,e)}),i},Tb=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:VC(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(Gz(r)){Tb(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{Tb(o,VC(e,s),n,i)})})},VC=(t,e)=>{let n=t;return e.split(B0).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},Gz=t=>t.isThemeGetter,Wz=(t,e)=>e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,c])=>[e+o,c])):s);return[n,r]}):t,Yz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},MO="!",Qz=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],s=e.length,o=c=>{const u=[];let d=0,h=0,p;for(let w=0;w<c.length;w++){let x=c[w];if(d===0){if(x===r&&(i||c.slice(w,w+s)===e)){u.push(c.slice(h,w)),h=w+s;continue}if(x==="/"){p=w;continue}}x==="["?d++:x==="]"&&d--}const m=u.length===0?c:c.substring(h),y=m.startsWith(MO),_=y?m.substring(1):m,S=p&&p>h?p-h:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:S}};return n?c=>n({className:c,parseClassName:o}):o},Kz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},Xz=t=>({cache:Yz(t.cacheSize),parseClassName:Qz(t),...Vz(t)}),Zz=/\s+/,Jz=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=t.trim().split(Zz);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let _=!!y,S=i(_?m.substring(0,y):m);if(!S){if(!_){c=d+(c.length>0?" "+c:c);continue}if(S=i(m),!S){c=d+(c.length>0?" "+c:c);continue}_=!1}const w=Kz(h).join(":"),x=p?w+MO:w,E=x+S;if(s.includes(E))continue;s.push(E);const A=r(S,_);for(let I=0;I<A.length;++I){const k=A[I];s.push(x+k)}c=d+(c.length>0?" "+c:c)}return c};function eU(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=NO(e))&&(i&&(i+=" "),i+=n);return i}const NO=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=NO(t[i]))&&(n&&(n+=" "),n+=e);return n};function tU(t,...e){let n,i,r,s=o;function o(u){const d=e.reduce((h,p)=>p(h),t());return n=Xz(d),i=n.cache.get,r=n.cache.set,s=c,c(u)}function c(u){const d=i(u);if(d)return d;const h=Jz(u,n);return r(u,h),h}return function(){return s(eU.apply(null,arguments))}}const Qt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IO=/^\[(?:([a-z-]+):)?(.+)\]$/i,nU=/^\d+\/\d+$/,iU=new Set(["px","full","screen"]),rU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,As=t=>pc(t)||iU.has(t)||nU.test(t),wa=t=>Lc(t,"length",mU),pc=t=>!!t&&!Number.isNaN(Number(t)),ov=t=>Lc(t,"number",pc),zu=t=>!!t&&Number.isInteger(Number(t)),cU=t=>t.endsWith("%")&&pc(t.slice(0,-1)),Ze=t=>IO.test(t),xa=t=>rU.test(t),uU=new Set(["length","size","percentage"]),dU=t=>Lc(t,uU,jO),fU=t=>Lc(t,"position",jO),hU=new Set(["image","url"]),gU=t=>Lc(t,hU,vU),pU=t=>Lc(t,"",yU),Uu=()=>!0,Lc=(t,e,n)=>{const i=IO.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},mU=t=>sU.test(t)&&!aU.test(t),jO=()=>!1,yU=t=>oU.test(t),vU=t=>lU.test(t),bU=()=>{const t=Qt("colors"),e=Qt("spacing"),n=Qt("blur"),i=Qt("brightness"),r=Qt("borderColor"),s=Qt("borderRadius"),o=Qt("borderSpacing"),c=Qt("borderWidth"),u=Qt("contrast"),d=Qt("grayscale"),h=Qt("hueRotate"),p=Qt("invert"),m=Qt("gap"),y=Qt("gradientColorStops"),_=Qt("gradientColorStopPositions"),S=Qt("inset"),w=Qt("margin"),x=Qt("opacity"),E=Qt("padding"),A=Qt("saturate"),I=Qt("scale"),k=Qt("sepia"),j=Qt("skew"),M=Qt("space"),O=Qt("translate"),U=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Ze,e],Q=()=>[Ze,e],ae=()=>["",As,wa],pe=()=>["auto",pc,Ze],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",Ze],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[pc,Ze];return{cacheSize:500,separator:":",theme:{colors:[Uu],spacing:[As,wa],blur:["none","",xa,Ze],brightness:R(),borderColor:[t],borderRadius:["none","","full",xa,Ze],borderSpacing:Q(),borderWidth:ae(),contrast:R(),grayscale:re(),hueRotate:R(),invert:re(),gap:Q(),gradientColorStops:[t],gradientColorStopPositions:[cU,wa],inset:$(),margin:$(),opacity:R(),padding:Q(),saturate:R(),scale:R(),sepia:re(),skew:R(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[xa]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),Ze]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zu,Ze]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",zu,Ze]}],"grid-cols":[{"grid-cols":[Uu]}],"col-start-end":[{col:["auto",{span:["full",zu,Ze]},Ze]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[Uu]}],"row-start-end":[{row:["auto",{span:[zu,Ze]},Ze]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...ue()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ue(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ue(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[xa]},xa]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xa,wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ov]}],"font-family":[{font:[Uu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",pc,ov]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",As,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",As,wa]}],"underline-offset":[{"underline-offset":["auto",As,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),fU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:F()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[As,Ze]}],"outline-w":[{outline:[As,wa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[As,wa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xa,pU]}],"shadow-color":[{shadow:[Uu]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",xa,Ze]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[A]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[zu,Ze]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[As,wa,ov]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_U=tU(bU);var lv={exports:{}},ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C;function SU(){if($C)return ii;$C=1;var t=up();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ii.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},ii.flushSync=function(u){var d=o.T,h=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=d,i.p=h,i.d.f()}},ii.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},ii.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},ii.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):h==="script"&&i.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ii.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},ii.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin);i.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ii.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=c(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},ii.requestFormReset=function(u){i.d.r(u)},ii.unstable_batchedUpdates=function(u,d){return u(d)},ii.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},ii.useFormStatus=function(){return o.H.useHostTransitionStatus()},ii.version="19.2.0",ii}var qC;function wU(){if(qC)return lv.exports;qC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lv.exports=SU(),lv.exports}wU();function xU(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let Ab=1;class EU{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...r}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ab++,o=this.toasts.find(u=>u.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:i}),{...u,...e,id:s,dismissible:c,title:i}):u):this.addToast({title:i,...r,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,o;const c=r.then(async d=>{if(o=["resolve",d],No.isValidElement(d))s=!1,this.create({id:i,type:"default",message:d});else if(TU(d)&&!d.ok){s=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,_=typeof p=="object"&&!No.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:m,..._})}else if(d instanceof Error){s=!1;const p=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,_=typeof p=="object"&&!No.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:m,..._})}else if(n.success!==void 0){s=!1;const p=typeof n.success=="function"?await n.success(d):n.success,m=typeof n.description=="function"?await n.description(d):n.description,_=typeof p=="object"&&!No.isValidElement(p)?p:{message:p};this.create({id:i,type:"success",description:m,..._})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!No.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:p,...y})}}).finally(()=>{s&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>c.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof i!="string"&&typeof i!="number"?{unwrap:u}:Object.assign(i,{unwrap:u})},this.custom=(e,n)=>{const i=n?.id||Ab++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const mr=new EU,CU=(t,e)=>{const n=e?.id||Ab++;return mr.addToast({title:t,...e,id:n}),n},TU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",AU=CU,RU=()=>mr.toasts,DU=()=>mr.getActiveToasts(),Bd=Object.assign(AU,{success:mr.success,info:mr.info,warning:mr.warning,error:mr.error,custom:mr.custom,message:mr.message,promise:mr.promise,dismiss:mr.dismiss,loading:mr.loading},{getHistory:RU,getToasts:DU});xU("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const GC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,WC=OO,OU=(t,e)=>n=>{var i;if(e?.variants==null)return WC(t,n?.class,n?.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(d=>{const h=n?.[d],p=s?.[d];if(h===null)return null;const m=GC(h)||GC(p);return r[d][m]}),c=n&&Object.entries(n).reduce((d,h)=>{let[p,m]=h;return m===void 0||(d[p]=m),d},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,h)=>{let{class:p,className:m,...y}=h;return Object.entries(y).every(_=>{let[S,w]=_;return Array.isArray(w)?w.includes({...s,...c}[S]):{...s,...c}[S]===w})?[...d,p,m]:d},[]);return WC(t,o,u,n?.class,n?.className)};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Na(t,e){return typeof t=="function"?t(e):t}function Ki(t,e){return n=>{e.setState(i=>({...i,[t]:Na(n,i[t])}))}}function dp(t){return t instanceof Function}function kU(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function MU(t,e){const n=[],i=r=>{r.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&i(o)})};return i(t),n}function ze(t,e,n){let i=[],r;return s=>{let o;n.key&&n.debug&&(o=Date.now());const c=t(s);if(!(c.length!==i.length||c.some((h,p)=>i[p]!==h)))return r;i=c;let d;if(n.key&&n.debug&&(d=Date.now()),r=e(...c),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-o)*100)/100,p=Math.round((Date.now()-d)*100)/100,m=p/16,y=(_,S)=>{for(_=String(_);_.length<S;)_=" "+_;return _};console.info(`%c⏱ ${y(p,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n?.key)}return r}}function Ue(t,e,n,i){return{debug:()=>{var r;return(r=t?.debugAll)!=null?r:t[e]},key:!1,onChange:i}}function NU(t,e,n,i){const r=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:r,getContext:ze(()=>[t,n,e,s],(o,c,u,d)=>({table:o,column:c,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Ue(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,n,e,t)},{}),s}function IU(t,e,n,i){var r,s;const c={...t._getDefaultColumnDef(),...e},u=c.accessorKey;let d=(r=(s=c.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?r:typeof c.header=="string"?c.header:void 0,h;if(c.accessorFn?h=c.accessorFn:u&&(u.includes(".")?h=m=>{let y=m;for(const S of u.split(".")){var _;y=(_=y)==null?void 0:_[S]}return y}:h=m=>m[c.accessorKey]),!d)throw new Error;let p={id:`${String(d)}`,accessorFn:h,parent:i,depth:n,columnDef:c,columns:[],getFlatColumns:ze(()=>[!0],()=>{var m;return[p,...(m=p.columns)==null?void 0:m.flatMap(y=>y.getFlatColumns())]},Ue(t.options,"debugColumns")),getLeafColumns:ze(()=>[t._getOrderColumnsFn()],m=>{var y;if((y=p.columns)!=null&&y.length){let _=p.columns.flatMap(S=>S.getLeafColumns());return m(_)}return[p]},Ue(t.options,"debugColumns"))};for(const m of t._features)m.createColumn==null||m.createColumn(p,t);return p}const ri="debugHeaders";function YC(t,e,n){var i;let s={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],c=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(c),o.push(u)};return c(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const jU={createTable:t=>{t.getHeaderGroups=ze(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>{var s,o;const c=(s=i?.map(p=>n.find(m=>m.id===p)).filter(Boolean))!=null?s:[],u=(o=r?.map(p=>n.find(m=>m.id===p)).filter(Boolean))!=null?o:[],d=n.filter(p=>!(i!=null&&i.includes(p.id))&&!(r!=null&&r.includes(p.id)));return _h(e,[...c,...d,...u],t)},Ue(t.options,ri)),t.getCenterHeaderGroups=ze(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>(n=n.filter(s=>!(i!=null&&i.includes(s.id))&&!(r!=null&&r.includes(s.id))),_h(e,n,t,"center")),Ue(t.options,ri)),t.getLeftHeaderGroups=ze(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var r;const s=(r=i?.map(o=>n.find(c=>c.id===o)).filter(Boolean))!=null?r:[];return _h(e,s,t,"left")},Ue(t.options,ri)),t.getRightHeaderGroups=ze(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var r;const s=(r=i?.map(o=>n.find(c=>c.id===o)).filter(Boolean))!=null?r:[];return _h(e,s,t,"right")},Ue(t.options,ri)),t.getFooterGroups=ze(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ue(t.options,ri)),t.getLeftFooterGroups=ze(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ue(t.options,ri)),t.getCenterFooterGroups=ze(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ue(t.options,ri)),t.getRightFooterGroups=ze(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ue(t.options,ri)),t.getFlatHeaders=ze(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ue(t.options,ri)),t.getLeftFlatHeaders=ze(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ue(t.options,ri)),t.getCenterFlatHeaders=ze(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ue(t.options,ri)),t.getRightFlatHeaders=ze(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ue(t.options,ri)),t.getCenterLeafHeaders=ze(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ue(t.options,ri)),t.getLeftLeafHeaders=ze(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ue(t.options,ri)),t.getRightLeafHeaders=ze(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ue(t.options,ri)),t.getLeafHeaders=ze(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var r,s,o,c,u,d;return[...(r=(s=e[0])==null?void 0:s.headers)!=null?r:[],...(o=(c=n[0])==null?void 0:c.headers)!=null?o:[],...(u=(d=i[0])==null?void 0:d.headers)!=null?u:[]].map(h=>h.getLeafHeaders()).flat()},Ue(t.options,ri))}};function _h(t,e,n,i){var r,s;let o=0;const c=function(m,y){y===void 0&&(y=1),o=Math.max(o,y),m.filter(_=>_.getIsVisible()).forEach(_=>{var S;(S=_.columns)!=null&&S.length&&c(_.columns,y+1)},0)};c(t);let u=[];const d=(m,y)=>{const _={depth:y,id:[i,`${y}`].filter(Boolean).join("_"),headers:[]},S=[];m.forEach(w=>{const x=[...S].reverse()[0],E=w.column.depth===_.depth;let A,I=!1;if(E&&w.column.parent?A=w.column.parent:(A=w.column,I=!0),x&&x?.column===A)x.subHeaders.push(w);else{const k=YC(n,A,{id:[i,y,A.id,w?.id].filter(Boolean).join("_"),isPlaceholder:I,placeholderId:I?`${S.filter(j=>j.column===A).length}`:void 0,depth:y,index:S.length});k.subHeaders.push(w),S.push(k)}_.headers.push(w),w.headerGroup=_}),u.push(_),y>0&&d(S,y-1)},h=e.map((m,y)=>YC(n,m,{depth:o,index:y}));d(h,o-1),u.reverse();const p=m=>m.filter(_=>_.column.getIsVisible()).map(_=>{let S=0,w=0,x=[0];_.subHeaders&&_.subHeaders.length?(x=[],p(_.subHeaders).forEach(A=>{let{colSpan:I,rowSpan:k}=A;S+=I,x.push(k)})):S=1;const E=Math.min(...x);return w=w+E,_.colSpan=S,_.rowSpan=w,{colSpan:S,rowSpan:w}});return p((r=(s=u[0])==null?void 0:s.headers)!=null?r:[]),u}const PU=(t,e,n,i,r,s,o)=>{let c={id:e,index:i,original:n,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(c._valuesCache.hasOwnProperty(u))return c._valuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return c._valuesCache[u]=d.accessorFn(c.original,i),c._valuesCache[u]},getUniqueValues:u=>{if(c._uniqueValuesCache.hasOwnProperty(u))return c._uniqueValuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(c._uniqueValuesCache[u]=d.columnDef.getUniqueValues(c.original,i),c._uniqueValuesCache[u]):(c._uniqueValuesCache[u]=[c.getValue(u)],c._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=c.getValue(u))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>MU(c.subRows,u=>u.subRows),getParentRow:()=>c.parentId?t.getRow(c.parentId,!0):void 0,getParentRows:()=>{let u=[],d=c;for(;;){const h=d.getParentRow();if(!h)break;u.push(h),d=h}return u.reverse()},getAllCells:ze(()=>[t.getAllLeafColumns()],u=>u.map(d=>NU(t,c,d,d.id)),Ue(t.options,"debugRows")),_getAllCellsByColumnId:ze(()=>[c.getAllCells()],u=>u.reduce((d,h)=>(d[h.column.id]=h,d),{}),Ue(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createRow==null||d.createRow(c,t)}return c},LU={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},PO=(t,e,n)=>{var i,r;const s=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(s))};PO.autoRemove=t=>Lr(t);const LO=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};LO.autoRemove=t=>Lr(t);const zO=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===n?.toLowerCase()};zO.autoRemove=t=>Lr(t);const UO=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};UO.autoRemove=t=>Lr(t);const FO=(t,e,n)=>!n.some(i=>{var r;return!((r=t.getValue(e))!=null&&r.includes(i))});FO.autoRemove=t=>Lr(t)||!(t!=null&&t.length);const HO=(t,e,n)=>n.some(i=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(i)});HO.autoRemove=t=>Lr(t)||!(t!=null&&t.length);const BO=(t,e,n)=>t.getValue(e)===n;BO.autoRemove=t=>Lr(t);const VO=(t,e,n)=>t.getValue(e)==n;VO.autoRemove=t=>Lr(t);const V0=(t,e,n)=>{let[i,r]=n;const s=t.getValue(e);return s>=i&&s<=r};V0.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(i)?-1/0:i,o=n===null||Number.isNaN(r)?1/0:r;if(s>o){const c=s;s=o,o=c}return[s,o]};V0.autoRemove=t=>Lr(t)||Lr(t[0])&&Lr(t[1]);const Ns={includesString:PO,includesStringSensitive:LO,equalsString:zO,arrIncludes:UO,arrIncludesAll:FO,arrIncludesSome:HO,equals:BO,weakEquals:VO,inNumberRange:V0};function Lr(t){return t==null||t===""}const zU={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Ki("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);return typeof i=="string"?Ns.includesString:typeof i=="number"?Ns.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?Ns.equals:Array.isArray(i)?Ns.arrIncludes:Ns.weakEquals},t.getFilterFn=()=>{var n,i;return dp(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:Ns[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const r=t.getFilterFn(),s=i?.find(h=>h.id===t.id),o=Na(n,s?s.value:void 0);if(QC(r,o,t)){var c;return(c=i?.filter(h=>h.id!==t.id))!=null?c:[]}const u={id:t.id,value:o};if(s){var d;return(d=i?.map(h=>h.id===t.id?u:h))!=null?d:[]}return i!=null&&i.length?[...i,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=r=>{var s;return(s=Na(e,r))==null?void 0:s.filter(o=>{const c=n.find(u=>u.id===o.id);if(c){const u=c.getFilterFn();if(QC(u,o.value,c))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function QC(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const UU=(t,e,n)=>n.reduce((i,r)=>{const s=r.getValue(t);return i+(typeof s=="number"?s:0)},0),FU=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}),i},HU=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}),i},BU=(t,e,n)=>{let i,r;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(i===void 0?o>=o&&(i=r=o):(i>o&&(i=o),r<o&&(r=o)))}),[i,r]},VU=(t,e)=>{let n=0,i=0;if(e.forEach(r=>{let s=r.getValue(t);s!=null&&(s=+s)>=s&&(++n,i+=s)}),n)return i/n},$U=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!kU(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((s,o)=>s-o);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},qU=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),GU=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,WU=(t,e)=>e.length,cv={sum:UU,min:FU,max:HU,extent:BU,mean:VU,median:$U,unique:qU,uniqueCount:GU,count:WU},YU={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Ki("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);if(typeof i=="number")return cv.sum;if(Object.prototype.toString.call(i)==="[object Date]")return cv.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return dp(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:cv[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function QU(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(s=>!e.includes(s.id));return n==="remove"?i:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...i]}const KU={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Ki("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=ze(n=>[td(e,n)],n=>n.findIndex(i=>i.id===t.id),Ue(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=td(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const r=td(e,n);return((i=r[r.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=ze(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>r=>{let s=[];if(!(e!=null&&e.length))s=r;else{const o=[...e],c=[...r];for(;c.length&&o.length;){const u=o.shift(),d=c.findIndex(h=>h.id===u);d>-1&&s.push(c.splice(d,1)[0])}s=[...s,...c]}return QU(s,n,i)},Ue(t.options,"debugTable"))}},uv=()=>({left:[],right:[]}),XU={getInitialState:t=>({columnPinning:uv(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Ki("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var s,o;if(n==="right"){var c,u;return{left:((c=r?.left)!=null?c:[]).filter(p=>!(i!=null&&i.includes(p))),right:[...((u=r?.right)!=null?u:[]).filter(p=>!(i!=null&&i.includes(p))),...i]}}if(n==="left"){var d,h;return{left:[...((d=r?.left)!=null?d:[]).filter(p=>!(i!=null&&i.includes(p))),...i],right:((h=r?.right)!=null?h:[]).filter(p=>!(i!=null&&i.includes(p)))}}return{left:((s=r?.left)!=null?s:[]).filter(p=>!(i!=null&&i.includes(p))),right:((o=r?.right)!=null?o:[]).filter(p=>!(i!=null&&i.includes(p)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var r,s,o;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(c=>c.id),{left:i,right:r}=e.getState().columnPinning,s=n.some(c=>i?.includes(c)),o=n.some(c=>r?.includes(c));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();return r?(n=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=ze(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,r)=>{const s=[...i??[],...r??[]];return n.filter(o=>!s.includes(o.column.id))},Ue(e.options,"debugRows")),t.getLeftVisibleCells=ze(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Ue(e.options,"debugRows")),t.getRightVisibleCells=ze(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Ue(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?uv():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:uv())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var r,s;return!!((r=i.left)!=null&&r.length||(s=i.right)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=ze(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Ue(t.options,"debugColumns")),t.getRightLeafColumns=ze(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Ue(t.options,"debugColumns")),t.getCenterLeafColumns=ze(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const r=[...n??[],...i??[]];return e.filter(s=>!r.includes(s.id))},Ue(t.options,"debugColumns"))}};function ZU(t){return t||(typeof document<"u"?document:null)}const Sh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},dv=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),JU={getDefaultColumnDef:()=>Sh,getInitialState:t=>({columnSizing:{},columnSizingInfo:dv(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ki("columnSizing",t),onColumnSizingInfoChange:Ki("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,r;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Sh.minSize,(i=s??t.columnDef.size)!=null?i:Sh.size),(r=t.columnDef.maxSize)!=null?r:Sh.maxSize)},t.getStart=ze(n=>[n,td(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((r,s)=>r+s.getSize(),0),Ue(e.options,"debugColumns")),t.getAfter=ze(n=>[n,td(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((r,s)=>r+s.getSize(),0),Ue(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...r}=n;return r})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var s;n+=(s=r.column.getSize())!=null?s:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),r=i?.getCanResize();return s=>{if(!i||!r||(s.persist==null||s.persist(),fv(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),c=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[i.id,i.getSize()]],u=fv(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(x,E)=>{typeof E=="number"&&(e.setColumnSizingInfo(A=>{var I,k;const j=e.options.columnResizeDirection==="rtl"?-1:1,M=(E-((I=A?.startOffset)!=null?I:0))*j,O=Math.max(M/((k=A?.startSize)!=null?k:0),-.999999);return A.columnSizingStart.forEach(U=>{let[B,$]=U;d[B]=Math.round(Math.max($+$*O,0)*100)/100}),{...A,deltaOffset:M,deltaPercentage:O}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(A=>({...A,...d})))},p=x=>h("move",x),m=x=>{h("end",x),e.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=ZU(n),_={moveHandler:x=>p(x.clientX),upHandler:x=>{y?.removeEventListener("mousemove",_.moveHandler),y?.removeEventListener("mouseup",_.upHandler),m(x.clientX)}},S={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),p(x.touches[0].clientX),!1),upHandler:x=>{var E;y?.removeEventListener("touchmove",S.moveHandler),y?.removeEventListener("touchend",S.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),m((E=x.touches[0])==null?void 0:E.clientX)}},w=eF()?{passive:!1}:!1;fv(s)?(y?.addEventListener("touchmove",S.moveHandler,w),y?.addEventListener("touchend",S.upHandler,w)):(y?.addEventListener("mousemove",_.moveHandler,w),y?.addEventListener("mouseup",_.upHandler,w)),e.setColumnSizingInfo(x=>({...x,startOffset:u,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?dv():(n=t.initialState.columnSizingInfo)!=null?n:dv())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let wh=null;function eF(){if(typeof wh=="boolean")return wh;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return wh=t,wh}function fv(t){return t.type==="touchstart"}const tF={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Ki("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const r=t.columns;return(n=r.length?r.some(s=>s.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=ze(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),Ue(e.options,"debugRows")),t.getVisibleCells=ze(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],Ue(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>ze(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Ue(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,s)=>({...r,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function td(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const nF={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},iF={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Ki("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,r,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Ns.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return dp(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:Ns[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},rF={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Ki("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var r,s;t.setExpanded(i?{}:(r=(s=t.initialState)==null?void 0:s.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");i=Math.max(i,o.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var r;const s=i===!0?!0:!!(i!=null&&i[t.id]);let o={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(c=>{o[c]=!0}):o=i,n=(r=n)!=null?r:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:c,...u}=o;return u}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i?.[t.id])},t.getCanExpand=()=>{var n,i,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Rb=0,Db=10,hv=()=>({pageIndex:Rb,pageSize:Db}),sF={getInitialState:t=>({...t,pagination:{...hv(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Ki("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const r=s=>Na(i,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=i=>{var r;t.setPagination(i?hv():(r=t.initialState.pagination)!=null?r:hv())},t.setPageIndex=i=>{t.setPagination(r=>{let s=Na(i,r.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...r,pageIndex:s}})},t.resetPageIndex=i=>{var r,s;t.setPageIndex(i?Rb:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?r:Rb)},t.resetPageSize=i=>{var r,s;t.setPageSize(i?Db:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?r:Db)},t.setPageSize=i=>{t.setPagination(r=>{const s=Math.max(1,Na(i,r.pageSize)),o=r.pageSize*r.pageIndex,c=Math.floor(o/s);return{...r,pageIndex:c,pageSize:s}})},t.setPageCount=i=>t.setPagination(r=>{var s;let o=Na(i,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),t.getPageOptions=ze(()=>[t.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((s,o)=>o)),r},Ue(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:i<r-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},gv=()=>({top:[],bottom:[]}),aF={getInitialState:t=>({rowPinning:gv(),...t}),getDefaultOptions:t=>({onRowPinningChange:Ki("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,r)=>{const s=i?t.getLeafRows().map(u=>{let{id:d}=u;return d}):[],o=r?t.getParentRows().map(u=>{let{id:d}=u;return d}):[],c=new Set([...o,t.id,...s]);e.setRowPinning(u=>{var d,h;if(n==="bottom"){var p,m;return{top:((p=u?.top)!=null?p:[]).filter(S=>!(c!=null&&c.has(S))),bottom:[...((m=u?.bottom)!=null?m:[]).filter(S=>!(c!=null&&c.has(S))),...Array.from(c)]}}if(n==="top"){var y,_;return{top:[...((y=u?.top)!=null?y:[]).filter(S=>!(c!=null&&c.has(S))),...Array.from(c)],bottom:((_=u?.bottom)!=null?_:[]).filter(S=>!(c!=null&&c.has(S)))}}return{top:((d=u?.top)!=null?d:[]).filter(S=>!(c!=null&&c.has(S))),bottom:((h=u?.bottom)!=null?h:[]).filter(S=>!(c!=null&&c.has(S)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(t):(n=i??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:r}=e.getState().rowPinning,s=n.some(c=>i?.includes(c)),o=n.some(c=>r?.includes(c));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();if(!r)return-1;const s=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:c}=o;return c});return(i=s?.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?gv():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:gv())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var r,s;return!!((r=i.top)!=null&&r.length||(s=i.bottom)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(o=>{const c=t.getRow(o,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(o=>e.find(c=>c.id===o))).filter(Boolean).map(o=>({...o,position:i}))},t.getTopRows=ze(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ue(t.options,"debugRows")),t.getBottomRows=ze(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ue(t.options,"debugRows")),t.getCenterRows=ze(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const r=new Set([...n??[],...i??[]]);return e.filter(s=>!r.has(s.id))},Ue(t.options,"debugRows"))}},oF={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Ki("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(s=>{s.getCanSelect()&&(i[s.id]=!0)}):r.forEach(s=>{delete i[s.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(s=>{Ob(r,s.id,i,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=ze(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?pv(t,n):{rows:[],flatRows:[],rowsById:{}},Ue(t.options,"debugTable")),t.getFilteredSelectedRowModel=ze(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?pv(t,n):{rows:[],flatRows:[],rowsById:{}},Ue(t.options,"debugTable")),t.getGroupedSelectedRowModel=ze(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?pv(t,n):{rows:[],flatRows:[],rowsById:{}},Ue(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(r=>!n[r.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const r=t.getIsSelected();e.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return s;const c={...s};return Ob(c,t.id,n,(o=i?.selectChildren)!=null?o:!0,e),c})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return $0(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return kb(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return kb(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var r;n&&t.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},Ob=(t,e,n,i,r)=>{var s;const o=r.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(c=>delete t[c]),o.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(c=>Ob(t,c.id,n,i,r))};function pv(t,e){const n=t.getState().rowSelection,i=[],r={},s=function(o,c){return o.map(u=>{var d;const h=$0(u,n);if(h&&(i.push(u),r[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:s(u.subRows)}),h)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:i,rowsById:r}}function $0(t,e){var n;return(n=e[t.id])!=null?n:!1}function kb(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let r=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!r)&&(o.getCanSelect()&&($0(o,e)?s=!0:r=!1),o.subRows&&o.subRows.length)){const c=kb(o,e);c==="all"?s=!0:(c==="some"&&(s=!0),r=!1)}}),r?"all":s?"some":!1}const Mb=/([0-9]+)/gm,lF=(t,e,n)=>$O(Va(t.getValue(n)).toLowerCase(),Va(e.getValue(n)).toLowerCase()),cF=(t,e,n)=>$O(Va(t.getValue(n)),Va(e.getValue(n))),uF=(t,e,n)=>q0(Va(t.getValue(n)).toLowerCase(),Va(e.getValue(n)).toLowerCase()),dF=(t,e,n)=>q0(Va(t.getValue(n)),Va(e.getValue(n))),fF=(t,e,n)=>{const i=t.getValue(n),r=e.getValue(n);return i>r?1:i<r?-1:0},hF=(t,e,n)=>q0(t.getValue(n),e.getValue(n));function q0(t,e){return t===e?0:t>e?1:-1}function Va(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function $O(t,e){const n=t.split(Mb).filter(Boolean),i=e.split(Mb).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),s=i.shift(),o=parseInt(r,10),c=parseInt(s,10),u=[o,c].sort();if(isNaN(u[0])){if(r>s)return 1;if(s>r)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>c)return 1;if(c>o)return-1}return n.length-i.length}const Fu={alphanumeric:lF,alphanumericCaseSensitive:cF,text:uF,textCaseSensitive:dF,datetime:fF,basic:hF},gF={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Ki("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const s=r?.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return Fu.datetime;if(typeof s=="string"&&(i=!0,s.split(Mb).length>1))return Fu.alphanumeric}return i?Fu.text:Fu.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return dp(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:Fu[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const r=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const c=o?.find(y=>y.id===t.id),u=o?.findIndex(y=>y.id===t.id);let d=[],h,p=s?n:r==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&i?c?h="toggle":h="add":o!=null&&o.length&&u!==o.length-1?h="replace":c?h="toggle":h="replace",h==="toggle"&&(s||r||(h="remove")),h==="add"){var m;d=[...o,{id:t.id,desc:p}],d.splice(0,d.length-((m=e.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=o.map(y=>y.id===t.id?{...y,desc:p}:y):h==="remove"?d=o.filter(y=>y.id!==t.id):d=[{id:t.id,desc:p}];return d})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,r;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},pF=[jU,tF,KU,XU,LU,zU,nF,iF,gF,YU,rF,sF,aF,oF,JU];function mF(t){var e,n;const i=[...pF,...(e=t._features)!=null?e:[]];let r={_features:i};const s=r._features.reduce((m,y)=>Object.assign(m,y.getDefaultOptions==null?void 0:y.getDefaultOptions(r)),{}),o=m=>r.options.mergeOptions?r.options.mergeOptions(s,m):{...s,...m};let u={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(m=>{var y;u=(y=m.getInitialState==null?void 0:m.getInitialState(u))!=null?y:u});const d=[];let h=!1;const p={_features:i,options:{...s,...t},initialState:u,_queue:m=>{d.push(m),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{r.setState(r.initialState)},setOptions:m=>{const y=Na(m,r.options);r.options=o(y)},getState:()=>r.options.state,setState:m=>{r.options.onStateChange==null||r.options.onStateChange(m)},_getRowId:(m,y,_)=>{var S;return(S=r.options.getRowId==null?void 0:r.options.getRowId(m,y,_))!=null?S:`${_?[_.id,y].join("."):y}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(m,y)=>{let _=(y?r.getPrePaginationRowModel():r.getRowModel()).rowsById[m];if(!_&&(_=r.getCoreRowModel().rowsById[m],!_))throw new Error;return _},_getDefaultColumnDef:ze(()=>[r.options.defaultColumn],m=>{var y;return m=(y=m)!=null?y:{},{header:_=>{const S=_.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:_=>{var S,w;return(S=(w=_.renderValue())==null||w.toString==null?void 0:w.toString())!=null?S:null},...r._features.reduce((_,S)=>Object.assign(_,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...m}},Ue(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:ze(()=>[r._getColumnDefs()],m=>{const y=function(_,S,w){return w===void 0&&(w=0),_.map(x=>{const E=IU(r,x,w,S),A=x;return E.columns=A.columns?y(A.columns,E,w+1):[],E})};return y(m)},Ue(t,"debugColumns")),getAllFlatColumns:ze(()=>[r.getAllColumns()],m=>m.flatMap(y=>y.getFlatColumns()),Ue(t,"debugColumns")),_getAllFlatColumnsById:ze(()=>[r.getAllFlatColumns()],m=>m.reduce((y,_)=>(y[_.id]=_,y),{}),Ue(t,"debugColumns")),getAllLeafColumns:ze(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(m,y)=>{let _=m.flatMap(S=>S.getLeafColumns());return y(_)},Ue(t,"debugColumns")),getColumn:m=>r._getAllFlatColumnsById()[m]};Object.assign(r,p);for(let m=0;m<r._features.length;m++){const y=r._features[m];y==null||y.createTable==null||y.createTable(r)}return r}function yF(){return t=>ze(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,s,o){s===void 0&&(s=0);const c=[];for(let d=0;d<r.length;d++){const h=PU(t,t._getRowId(r[d],d,o),r[d],d,s,void 0,o?.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,c.push(h),t.options.getSubRows){var u;h.originalSubRows=t.options.getSubRows(r[d],d),(u=h.originalSubRows)!=null&&u.length&&(h.subRows=i(h.originalSubRows,s+1,h))}}return c};return n.rows=i(e),n},Ue(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function vF(){return t=>ze(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const i=t.getState().sorting,r=[],s=i.filter(u=>{var d;return(d=t.getColumn(u.id))==null?void 0:d.getCanSort()}),o={};s.forEach(u=>{const d=t.getColumn(u.id);d&&(o[u.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const c=u=>{const d=u.map(h=>({...h}));return d.sort((h,p)=>{for(let y=0;y<s.length;y+=1){var m;const _=s[y],S=o[_.id],w=S.sortUndefined,x=(m=_?.desc)!=null?m:!1;let E=0;if(w){const A=h.getValue(_.id),I=p.getValue(_.id),k=A===void 0,j=I===void 0;if(k||j){if(w==="first")return k?-1:1;if(w==="last")return k?1:-1;E=k&&j?0:k?w:-w}}if(E===0&&(E=S.sortingFn(h,p,_.id)),E!==0)return x&&(E*=-1),S.invertSorting&&(E*=-1),E}return h.index-p.index}),d.forEach(h=>{var p;r.push(h),(p=h.subRows)!=null&&p.length&&(h.subRows=c(h.subRows))}),d};return{rows:c(n.rows),flatRows:r,rowsById:n.rowsById}},Ue(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function KC(t,e){return t?bF(t)?Ne.createElement(t,e):t:null}function bF(t){return _F(t)||typeof t=="function"||SF(t)}function _F(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function SF(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function wF(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=Ne.useState(()=>({current:mF(e)})),[i,r]=Ne.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...i,...t.state},onStateChange:o=>{r(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}var Nb=function(t,e){return Nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},Nb(t,e)};function qO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Nb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xg=function(){return xg=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xg.apply(this,arguments)};function zc(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function GO(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function WO(t,e){return function(n,i){e(n,i,t)}}function YO(t,e,n,i,r,s){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var c=i.kind,u=c==="getter"?"get":c==="setter"?"set":"value",d=!e&&t?i.static?t:t.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),p,m=!1,y=n.length-1;y>=0;y--){var _={};for(var S in i)_[S]=S==="access"?{}:i[S];for(var S in i.access)_.access[S]=i.access[S];_.addInitializer=function(x){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(x||null))};var w=(0,n[y])(c==="accessor"?{get:h.get,set:h.set}:h[u],_);if(c==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(p=o(w.get))&&(h.get=p),(p=o(w.set))&&(h.set=p),(p=o(w.init))&&r.unshift(p)}else(p=o(w))&&(c==="field"?r.unshift(p):h[u]=p)}d&&Object.defineProperty(d,i.name,h),m=!0}function QO(t,e,n){for(var i=arguments.length>2,r=0;r<e.length;r++)n=i?e[r].call(t,n):e[r].call(t);return i?n:void 0}function KO(t){return typeof t=="symbol"?t:"".concat(t)}function XO(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function ZO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function De(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(h){try{d(i.next(h))}catch(p){o(p)}}function u(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((i=i.apply(t,e||[])).next())})}function JO(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(h){return u([d,h])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(i=1,r&&(s=d[0]&2?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],r=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var fp=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function e1(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&fp(e,t,n)}function Eg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function G0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function t1(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(G0(arguments[e]));return t}function n1(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,r++)i[r]=s[o];return i}function i1(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}function Ec(t){return this instanceof Ec?(this.v=t,this):new Ec(t)}function r1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(y){return function(_){return Promise.resolve(_).then(y,p)}}function c(y,_){i[y]&&(r[y]=function(S){return new Promise(function(w,x){s.push([y,S,w,x])>1||u(y,S)})},_&&(r[y]=_(r[y])))}function u(y,_){try{d(i[y](_))}catch(S){m(s[0][3],S)}}function d(y){y.value instanceof Ec?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,_){y(_),s.shift(),s.length&&u(s[0][0],s[0][1])}}function s1(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,s){e[r]=t[r]?function(o){return(n=!n)?{value:Ec(t[r](o)),done:!1}:s?s(o):o}:s}}function a1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Eg=="function"?Eg(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),r(c,u,o.done,o.value)})}}function r(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}function o1(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var xF=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Ib=function(t){return Ib=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},Ib(t)};function l1(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Ib(t),i=0;i<n.length;i++)n[i]!=="default"&&fp(e,t,n[i]);return xF(e,t),e}function c1(t){return t&&t.__esModule?t:{default:t}}function u1(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function d1(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n}function f1(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function h1(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var EF=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function g1(t){function e(s){t.error=t.hasError?new EF(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,i=0;function r(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(r);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(r,function(o){return e(o),r()})}else i|=1}catch(o){e(o)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function p1(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,r,s,o){return i?e?".jsx":".js":r&&(!s||!o)?n:r+s+"."+o.toLowerCase()+"js"}):t}const CF={__extends:qO,__assign:xg,__rest:zc,__decorate:GO,__param:WO,__esDecorate:YO,__runInitializers:QO,__propKey:KO,__setFunctionName:XO,__metadata:ZO,__awaiter:De,__generator:JO,__createBinding:fp,__exportStar:e1,__values:Eg,__read:G0,__spread:t1,__spreadArrays:n1,__spreadArray:i1,__await:Ec,__asyncGenerator:r1,__asyncDelegator:s1,__asyncValues:a1,__makeTemplateObject:o1,__importStar:l1,__importDefault:c1,__classPrivateFieldGet:u1,__classPrivateFieldSet:d1,__classPrivateFieldIn:f1,__addDisposableResource:h1,__disposeResources:g1,__rewriteRelativeImportExtension:p1},TF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:h1,get __assign(){return xg},__asyncDelegator:s1,__asyncGenerator:r1,__asyncValues:a1,__await:Ec,__awaiter:De,__classPrivateFieldGet:u1,__classPrivateFieldIn:f1,__classPrivateFieldSet:d1,__createBinding:fp,__decorate:GO,__disposeResources:g1,__esDecorate:YO,__exportStar:e1,__extends:qO,__generator:JO,__importDefault:c1,__importStar:l1,__makeTemplateObject:o1,__metadata:ZO,__param:WO,__propKey:KO,__read:G0,__rest:zc,__rewriteRelativeImportExtension:p1,__runInitializers:QO,__setFunctionName:XO,__spread:t1,__spreadArray:i1,__spreadArrays:n1,__values:Eg,default:CF},Symbol.toStringTag,{value:"Module"})),AF="modulepreload",RF=function(t){return"/scheduler_demo/"+t},XC={},Ur=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=u(n.map(d=>{if(d=RF(d),d in XC)return;XC[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":AF,h||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((y,_)=>{m.addEventListener("load",y),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},DF=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(async()=>{const{default:i}=await Promise.resolve().then(()=>tl);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class W0 extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class ZC extends W0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class JC extends W0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class eT extends W0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jb||(jb={}));class OF{constructor(e,{headers:n={},customFetch:i,region:r=jb.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=DF(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return De(this,arguments,void 0,function*(n,i={}){var r;try{const{headers:s,method:o,body:c,signal:u}=i;let d={},{region:h}=i;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(d["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(d["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;const y=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:m,signal:u}).catch(x=>{throw x.name==="AbortError"?x:new ZC(x)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new JC(y);if(!y.ok)throw new eT(y);let S=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return S==="application/json"?w=yield y.json():S==="application/octet-stream"||S==="application/pdf"?w=yield y.blob():S==="text/event-stream"?w=y:S==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null,response:y}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new ZC(s)}:{data:null,error:s,response:s instanceof eT||s instanceof JC?s.context:void 0}}})}}var si={};const Uc=eO(TF);var xh={},Eh={},Ch={},Th={},Ah={},kF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cc=kF();const MF=Cc.fetch,m1=Cc.fetch.bind(Cc),y1=Cc.Headers,NF=Cc.Request,IF=Cc.Response,tl=Object.freeze(Object.defineProperty({__proto__:null,Headers:y1,Request:NF,Response:IF,default:m1,fetch:MF},Symbol.toStringTag,{value:"Module"})),jF=eO(tl);var Rh={},tT;function v1(){if(tT)return Rh;tT=1,Object.defineProperty(Rh,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Rh.default=t,Rh}var nT;function b1(){if(nT)return Ah;nT=1,Object.defineProperty(Ah,"__esModule",{value:!0});const t=Uc,e=t.__importDefault(jF),n=t.__importDefault(v1());class i{constructor(s){var o,c;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(c=s.isMaybeSingle)!==null&&c!==void 0?c:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,m,y;let _=null,S=null,w=null,x=d.status,E=d.statusText;if(d.ok){if(this.method!=="HEAD"){const j=await d.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=j:S=JSON.parse(j))}const I=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),k=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");I&&k&&k.length>1&&(w=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,w=null,x=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const I=await d.text();try{_=JSON.parse(I),Array.isArray(_)&&d.status===404&&(S=[],_=null,x=200,E="OK")}catch{d.status===404&&I===""?(x=204,E="No Content"):_={message:I}}if(_&&this.isMaybeSingle&&(!((y=_?.details)===null||y===void 0)&&y.includes("0 rows"))&&(_=null,x=200,E="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:S,count:w,status:x,statusText:E}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,p,m;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(p=d?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=d?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return Ah.default=i,Ah}var iT;function _1(){if(iT)return Th;iT=1,Object.defineProperty(Th,"__esModule",{value:!0});const e=Uc.__importDefault(b1());class n extends e.default{select(r){let s=!1;const o=(r??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:s=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${r}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${r}`),this}range(r,s,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(d,`${s-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:s=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:d="text"}={}){var h;const p=[r?"analyze":null,s?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Th.default=n,Th}var rT;function Y0(){if(rT)return Ch;rT=1,Object.defineProperty(Ch,"__esModule",{value:!0});const e=Uc.__importDefault(_1());class n extends e.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${u}fts${d}.${s}`),this}match(r){return Object.entries(r).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(r,s,o){return this.url.searchParams.append(r,`not.${s}.${o}`),this}or(r,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${r})`),this}filter(r,s,o){return this.url.searchParams.append(r,`${s}.${o}`),this}}return Ch.default=n,Ch}var sT;function S1(){if(sT)return Eh;sT=1,Object.defineProperty(Eh,"__esModule",{value:!0});const e=Uc.__importDefault(Y0());class n{constructor(r,{headers:s={},schema:o,fetch:c}){this.url=r,this.headers=new Headers(s),this.schema=o,this.fetch=c}select(r,s){const{head:o=!1,count:c}=s??{},u=o?"HEAD":"GET";let d=!1;const h=(r??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:s,defaultToNull:o=!0}={}){var c;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(r,{onConflict:s,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:s}={}){var o;const c="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:r}={}){var s;const o="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Eh.default=n,Eh}var aT;function PF(){if(aT)return xh;aT=1,Object.defineProperty(xh,"__esModule",{value:!0});const t=Uc,e=t.__importDefault(S1()),n=t.__importDefault(Y0());class i{constructor(s,{headers:o={},schema:c,fetch:u}={}){this.url=s,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:c=!1,get:u=!1,count:d}={}){var h;let p;const m=new URL(`${this.url}/rpc/${s}`);let y;c||u?(p=c?"HEAD":"GET",Object.entries(o).filter(([S,w])=>w!==void 0).map(([S,w])=>[S,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([S,w])=>{m.searchParams.append(S,w)})):(p="POST",y=o);const _=new Headers(this.headers);return d&&_.set("Prefer",`count=${d}`),new n.default({method:p,url:m,headers:_,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return xh.default=i,xh}var oT;function LF(){if(oT)return si;oT=1,Object.defineProperty(si,"__esModule",{value:!0}),si.PostgrestError=si.PostgrestBuilder=si.PostgrestTransformBuilder=si.PostgrestFilterBuilder=si.PostgrestQueryBuilder=si.PostgrestClient=void 0;const t=Uc,e=t.__importDefault(PF());si.PostgrestClient=e.default;const n=t.__importDefault(S1());si.PostgrestQueryBuilder=n.default;const i=t.__importDefault(Y0());si.PostgrestFilterBuilder=i.default;const r=t.__importDefault(_1());si.PostgrestTransformBuilder=r.default;const s=t.__importDefault(b1());si.PostgrestBuilder=s.default;const o=t.__importDefault(v1());return si.PostgrestError=o.default,si.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:s.default,PostgrestError:o.default},si}var zF=LF();const UF=Jo(zF),{PostgrestClient:FF,PostgrestQueryBuilder:wee,PostgrestFilterBuilder:xee,PostgrestTransformBuilder:Eee,PostgrestBuilder:Cee,PostgrestError:Tee}=UF;class HF{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const BF="2.76.1",VF=`realtime-js/${BF}`,$F="1.0.0",Pb=1e4,qF=1e3,GF=100;var nd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(nd||(nd={}));var In;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(In||(In={}));var Or;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Or||(Or={}));var Lb;(function(t){t.websocket="websocket"})(Lb||(Lb={}));var Io;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Io||(Io={}));class WF{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=i.decode(e.slice(o,o+r));o=o+r;const u=i.decode(e.slice(o,o+s));o=o+s;const d=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:u,payload:d}}}class w1{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Vt||(Vt={}));const lT=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=YF(o,t,e,r),s),{}):{}},YF=(t,e,n,i)=>{const r=e.find(c=>c.name===t),s=r?.type,o=n[t];return s&&!i.includes(s)?x1(s,o):zb(o)},x1=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ZF(e,n)}switch(t){case Vt.bool:return QF(e);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return KF(e);case Vt.json:case Vt.jsonb:return XF(e);case Vt.timestamp:return JF(e);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return zb(e);default:return zb(e)}},zb=t=>t,QF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},KF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},XF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ZF=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(c=>x1(e,c))}return t},JF=t=>typeof t=="string"?t.replace(" ","T"):t,E1=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class mv{constructor(e,n,i={},r=Pb){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cT||(cT={}));class id{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=id.syncState(this.state,r,s,o),this.pendingDiffs.forEach(u=>{this.state=id.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=id.syncDiff(this.state,r,s,o),c())}),this.onJoin((r,s,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:o})}),this.onLeave((r,s,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const s=this.cloneDeep(e),o=this.transformState(n),c={},u={};return this.map(s,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=s[d];if(p){const m=h.map(w=>w.presence_ref),y=p.map(w=>w.presence_ref),_=h.filter(w=>y.indexOf(w.presence_ref)<0),S=p.filter(w=>m.indexOf(w.presence_ref)<0);_.length>0&&(c[d]=_),S.length>0&&(u[d]=S)}else c[d]=h}),this.syncDiff(s,{joins:c,leaves:u},i,r)}static syncDiff(e,n,i,r){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(c,u)=>{var d;const h=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(u),h.length>0){const p=e[c].map(y=>y.presence_ref),m=h.filter(y=>p.indexOf(y.presence_ref)<0);e[c].unshift(...m)}i(c,h,u)}),this.map(o,(c,u)=>{let d=e[c];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[c]=d,r(c,d,u),d.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(uT||(uT={}));var rd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rd||(rd={}));var Is;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Is||(Is={}));class Q0{constructor(e,n={config:{}},i){var r,s;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=In.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mv(this,Or.join,this.params,this.timeout),this.rejoinTimer=new w1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=In.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=In.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Or.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new id(this),this.broadcastEndpointURL=E1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==In.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,d=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&r!==void 0?r:[],h=!!this.bindings[rd.PRESENCE]&&this.bindings[rd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},m={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Is.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Is.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){e?.(Is.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,w=(_=S?.length)!==null&&_!==void 0?_:0,x=[];for(let E=0;E<w;E++){const A=S[E],{filter:{event:I,schema:k,table:j,filter:M}}=A,O=y&&y[E];if(O&&O.event===I&&O.schema===k&&O.table===j&&O.filter===M)x.push(Object.assign(Object.assign({},A),{id:O.id}));else{this.unsubscribe(),this.state=In.errored,e?.(Is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Is.SUBSCRIBED);return}}).receive("error",y=>{this.state=In.errored,e?.(Is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===In.joined&&e===rd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var r;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const d=await c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,c,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=In.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Or.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new mv(this,Or.leave,{},e),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=In.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const r=new AbortController,s=setTimeout(()=>r.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(s),o}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new mv(this,e,n,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>GF){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,s;const o=e.toLocaleLowerCase(),{close:c,error:u,leave:d,join:h}=Or;if(i&&[c,u,d,h].indexOf(o)>=0&&i!==this._joinRef())return;let m=this._onMessage(o,n,i);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(y=>{var _,S,w;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((w=(S=y.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(y=>y.callback(m,i)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var _,S,w,x,E,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const I=y.id,k=(_=y.filter)===null||_===void 0?void 0:_.event;return I&&((S=n.ids)===null||S===void 0?void 0:S.includes(I))&&(k==="*"||k?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const I=(E=(x=y?.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return I==="*"||I===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:S,table:w,commit_timestamp:x,type:E,errors:A}=_;m=Object.assign(Object.assign({},{schema:S,table:w,commit_timestamp:x,eventType:E,new:{},old:{},errors:A}),this._getPayloadRecords(_))}y.callback(m,i)})}_isClosed(){return this.state===In.closed}_isJoined(){return this.state===In.joined}_isJoining(){return this.state===In.joining}_isLeaving(){return this.state===In.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),s={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&Q0.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Or.close,{},e)}_onError(e){this._on(Or.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=In.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=lT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=lT(e.columns,e.old_record)),n}}const yv=()=>{},Dh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eH=[1e3,2e3,5e3,1e4],tH=1e4,nH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iH{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pb,this.transport=null,this.heartbeatIntervalMs=Dh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yv,this.ref=0,this.reconnectTimer=null,this.logger=yv,this.conn=null,this.sendBuffer=[],this.serializer=new WF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...o)=>Ur(async()=>{const{default:c}=await Promise.resolve().then(()=>tl);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Lb.websocket}`,this.httpEndpoint=E1(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$F}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case nd.connecting:return Io.Connecting;case nd.open:return Io.Open;case nd.closing:return Io.Closing;default:return Io.Closed}}isConnected(){return this.connectionState()===Io.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(s=>s.topic===i);if(r)return r;{const s=new Q0(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:i,payload:r,ref:s}=e,o=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${i} (${s})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(qF,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Dh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:s,ref:o}=n,c=o?`(${o})`:"",u=s.status||"";this.log("receive",`${u} ${i} ${r} ${c}`.trim(),s),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(r,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Or.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([nH],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:VF};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(Or.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new w1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,r,s,o,c,u,d,h;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Pb,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:Dh.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:yv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(p=>eH[p-1]||tH),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((p,m)=>m(JSON.stringify(p))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class K0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function an(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rH extends K0{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ub extends K0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const X0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(async()=>{const{default:i}=await Promise.resolve().then(()=>tl);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},sH=()=>De(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ur(()=>Promise.resolve().then(()=>tl),void 0)).Response:Response}),Fb=t=>{if(Array.isArray(t))return t.map(n=>Fb(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[r]=Fb(i)}),e},aH=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oH=(t,e,n)=>De(void 0,void 0,void 0,function*(){const i=yield sH();t instanceof i&&!n?.noResolveJson?t.json().then(r=>{const s=t.status||500,o=r?.statusCode||s+"";e(new rH(vv(r),s,o))}).catch(r=>{e(new Ub(vv(r),r))}):e(new Ub(vv(t),t))}),lH=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!i?r:(aH(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Vd(t,e,n,i,r,s){return De(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,lH(e,i,r,s)).then(u=>{if(!u.ok)throw u;return i?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>oH(u,c,i))})})}function wd(t,e,n,i){return De(this,void 0,void 0,function*(){return Vd(t,"GET",e,n,i)})}function Dr(t,e,n,i,r){return De(this,void 0,void 0,function*(){return Vd(t,"POST",e,i,r,n)})}function Hb(t,e,n,i,r){return De(this,void 0,void 0,function*(){return Vd(t,"PUT",e,i,r,n)})}function cH(t,e,n,i){return De(this,void 0,void 0,function*(){return Vd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Z0(t,e,n,i,r){return De(this,void 0,void 0,function*(){return Vd(t,"DELETE",e,i,r,n)})}class uH{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return De(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(an(e))return{data:null,error:e};throw e}})}}var C1;class dH{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[C1]="BlobDownloadBuilder",this.promise=null}asStream(){return new uH(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return De(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(an(e))return{data:null,error:e};throw e}})}}C1=Symbol.toStringTag;const fH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hH{constructor(e,n={},i,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=X0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,r){return De(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},dT),r);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=i,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),r?.headers&&(c=Object.assign(Object.assign({},c),r.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(e=="PUT"?Hb:Dr)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}})}upload(e,n,i){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return De(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:dT.upsert},r),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl)):(u=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield Hb(this.fetch,c.toString(),u,{headers:h});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(an(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return De(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const s=yield Dr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),o=new URL(this.url+s.url),c=o.searchParams.get("token");if(!c)throw new K0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(an(i))return{data:null,error:i};throw i}})}update(e,n,i){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return De(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}copy(e,n,i){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield Dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return De(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield Dr(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return De(this,void 0,void 0,function*(){try{const r=yield Dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"",c=this._getFinalPath(e),u=()=>wd(this.fetch,`${this.url}/${r}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new dH(u,this.shouldThrowOnError)}info(e){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield wd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fb(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(an(i))return{data:null,error:i};throw i}})}exists(e){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield cH(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(an(i)&&i instanceof Ub){const r=i.originalError;if([400,404].includes(r?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&r.push(s);const c=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&r.push(u);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${d}`)}}}remove(e){return De(this,void 0,void 0,function*(){try{return{data:yield Z0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}list(e,n,i){return De(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},fH),n),{prefix:e||""});return{data:yield Dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}listV2(e,n){return De(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(an(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const T1="2.76.1",A1={"X-Client-Info":`storage-js/${T1}`};class gH{constructor(e,n={},i,r){this.shouldThrowOnError=!1;const s=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A1),n),this.fetch=X0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return De(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(an(e))return{data:null,error:e};throw e}})}getBucket(e){return De(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}createBucket(e){return De(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return De(this,void 0,void 0,function*(){try{return{data:yield Hb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(an(i))return{data:null,error:i};throw i}})}emptyBucket(e){return De(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}deleteBucket(e){return De(this,void 0,void 0,function*(){try{return{data:yield Z0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}}class pH{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A1),n),this.fetch=X0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return De(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}listBuckets(e){return De(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),r=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,s=yield wd(this.fetch,r,{headers:this.headers});return{data:Array.isArray(s)?s.filter(c=>c.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}deleteBucket(e){return De(this,void 0,void 0,function*(){try{return{data:yield Z0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}}const J0={"X-Client-Info":`storage-js/${T1}`,"Content-Type":"application/json"};class R1 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qi(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class bv extends R1{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mH extends R1{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var fT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(fT||(fT={}));const e_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(async()=>{const{default:i}=await Promise.resolve().then(()=>tl);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},yH=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vH=(t,e,n)=>De(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const c=o?.statusCode||o?.code||r+"";e(new bv(hT(o),r,c))}).catch(()=>{const o=r+"",c=s.statusText||`HTTP ${r} error`;e(new bv(c,r,o))});else{const o=r+"",c=s.statusText||`HTTP ${r} error`;e(new bv(c,r,o))}}else e(new mH(hT(t),t))}),bH=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return i?(yH(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,Object.assign(Object.assign({},r),n)):r};function _H(t,e,n,i,r,s){return De(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,bH(e,i,r,s)).then(u=>{if(!u.ok)throw u;if(i?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>vH(u,c,i))})})}function Gi(t,e,n,i,r){return De(this,void 0,void 0,function*(){return _H(t,"POST",e,i,r,n)})}class SH{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},J0),n),this.fetch=e_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return De(this,void 0,void 0,function*(){try{return{data:(yield Gi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}getIndex(e,n){return De(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qi(i))return{data:null,error:i};throw i}})}listIndexes(e){return De(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return De(this,void 0,void 0,function*(){try{return{data:(yield Gi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qi(i))return{data:null,error:i};throw i}})}}class wH{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},J0),n),this.fetch=e_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return De(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}getVectors(e){return De(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}listVectors(e){return De(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Gi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}queryVectors(e){return De(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}deleteVectors(e){return De(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}}class xH{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},J0),n),this.fetch=e_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return De(this,void 0,void 0,function*(){try{return{data:(yield Gi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}getBucket(e){return De(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}listBuckets(){return De(this,arguments,void 0,function*(e={}){try{return{data:yield Gi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return De(this,void 0,void 0,function*(){try{return{data:(yield Gi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qi(n))return{data:null,error:n};throw n}})}}class EH extends xH{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new CH(this.url,this.headers,e,this.fetch)}}class CH extends SH{constructor(e,n,i,r){super(e,n,r),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return De(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return De(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return De(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return De(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new TH(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class TH extends wH{constructor(e,n,i,r,s){super(e,n,s),this.vectorBucketName=i,this.indexName=r}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return De(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return De(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return De(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return De(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return De(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class AH extends gH{constructor(e,n={},i,r){super(e,n,i,r)}from(e){return new hH(this.url,this.headers,e,this.fetch)}get vectors(){return new EH(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pH(this.url+"/iceberg",this.headers,this.fetch)}}const RH="2.76.1";let Ku="";typeof Deno<"u"?Ku="deno":typeof document<"u"?Ku="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ku="react-native":Ku="node";const DH={"X-Client-Info":`supabase-js-${Ku}/${RH}`},OH={headers:DH},kH={schema:"public"},MH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NH={},IH=t=>{let e;return t?e=t:typeof fetch>"u"?e=m1:e=fetch,(...n)=>e(...n)},jH=()=>typeof Headers>"u"?y1:Headers,PH=(t,e,n)=>{const i=IH(n),r=jH();return async(s,o)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let d=new r(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),i(s,Object.assign(Object.assign({},o),{headers:d}))}};function LH(t){return t.endsWith("/")?t:t+"/"}function zH(t,e){var n,i;const{db:r,auth:s,realtime:o,global:c}=t,{db:u,auth:d,realtime:h,global:p}=e,m={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function UH(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(LH(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const D1="2.76.1",ac=30*1e3,Bb=3,_v=Bb*ac,FH="http://localhost:9999",HH="supabase.auth.token",BH={"X-Client-Info":`gotrue-js/${D1}`},Vb="X-Supabase-Api-Version",O1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$H=600*1e3;class xd extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qH extends xd{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function GH(t){return je(t)&&t.name==="AuthApiError"}class jo extends xd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Qa extends xd{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class Aa extends Qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WH(t){return je(t)&&t.name==="AuthSessionMissingError"}class Kl extends Qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oh extends Qa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kh extends Qa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YH(t){return je(t)&&t.name==="AuthImplicitGrantRedirectError"}class gT extends Qa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $b extends Qa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Sv(t){return je(t)&&t.name==="AuthRetryableFetchError"}class pT extends Qa{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class qb extends Qa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mT=` 	
\r=`.split(""),QH=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mT.length;e+=1)t[mT[e].charCodeAt(0)]=-2;for(let e=0;e<Cg.length;e+=1)t[Cg[e].charCodeAt(0)]=e;return t})();function yT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Cg[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Cg[i]),e.queuedBits-=6}}function k1(t,e,n){const i=QH[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function vT(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},s=o=>{ZH(o,i,n)};for(let o=0;o<t.length;o+=1)k1(t.charCodeAt(o),r,s);return e.join("")}function KH(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function XH(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}KH(i,e)}}function ZH(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function mc(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)k1(t.charCodeAt(r),n,i);return new Uint8Array(e)}function JH(t){const e=[];return XH(t,n=>e.push(n)),new Uint8Array(e)}function zo(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};return t.forEach(r=>yT(r,n,i)),yT(null,n,i),e.join("")}function eB(t){return Math.round(Date.now()/1e3)+t}function tB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $i=()=>typeof window<"u"&&typeof document<"u",So={tested:!1,writable:!1},M1=()=>{if(!$i())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(So.tested)return So.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),So.tested=!0,So.writable=!0}catch{So.tested=!0,So.writable=!1}return So.writable};function nB(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,s)=>{e[s]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const N1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(async()=>{const{default:i}=await Promise.resolve().then(()=>tl);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},iB=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",oc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},wo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ea=async(t,e)=>{await t.removeItem(e)};class hp{constructor(){this.promise=new hp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}hp.promiseConstructor=Promise;function wv(t){const e=t.split(".");if(e.length!==3)throw new qb("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!VH.test(e[i]))throw new qb("JWT not in base64url format");return{header:JSON.parse(vT(e[0])),payload:JSON.parse(vT(e[1])),signature:mc(e[2]),raw:{header:e[0],payload:e[1]}}}async function rB(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sB(t,e){return new Promise((i,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){i(o);return}}catch(o){if(!e(s,o)){r(o);return}}})()})}function aB(t){return("0"+t.toString(16)).substr(-2)}function oB(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let s=0;s<56;s++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,aB).join("")}async function lB(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}async function cB(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await lB(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xl(t,e,n=!1){const i=oB();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await oc(t,`${e}-code-verifier`,r);const s=await cB(i);return[s,i===s?"plain":"s256"]}const uB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dB(t){const e=t.headers.get(Vb);if(!e||!e.match(uB))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fB(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hB(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zl(t){if(!gB.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xv(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bT(t){return JSON.parse(JSON.stringify(t))}const Ao=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pB=[502,503,504];async function _T(t){var e;if(!iB(t))throw new $b(Ao(t),0);if(pB.includes(t.status))throw new $b(Ao(t),t.status);let n;try{n=await t.json()}catch(s){throw new jo(Ao(s),s)}let i;const r=dB(t);if(r&&r.getTime()>=O1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new pT(Ao(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Aa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new pT(Ao(n),t.status,n.weak_password.reasons);throw new qH(Ao(n),t.status||500,i)}const mB=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Ge(t,e,n,i){var r;const s=Object.assign({},i?.headers);s[Vb]||(s[Vb]=O1["2024-01-01"].name),i?.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const o=(r=i?.query)!==null&&r!==void 0?r:{};i?.redirectTo&&(o.redirect_to=i.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await yB(t,e,n+c,{headers:s,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(u):{data:Object.assign({},u),error:null}}async function yB(t,e,n,i,r,s){const o=mB(e,i,r,s);let c;try{c=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new $b(Ao(u),0)}if(c.ok||await _T(c),i?.noResolveJson)return c;try{return await c.json()}catch(u){await _T(u)}}function Rr(t){var e;let n=null;_B(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=eB(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function ST(t){const e=Rr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ka(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vB(t){return{data:t,error:null}}function bB(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s}=t,o=zc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function wT(t){return t}function _B(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ev=["global","local","others"];class SB{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=N1(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ev[0]){if(Ev.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ev.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ka})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=zc(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:bB,redirectTo:n?.redirectTo})}catch(n){if(je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ka})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,s,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:wT});if(h.error)throw h.error;const p=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);d[`${w}Page`]=S}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(je(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Zl(e);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ka})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Zl(e);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ka})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Zl(e);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ka})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Zl(e.userId);try{const{data:n,error:i}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Zl(e.userId),Zl(e.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,r,s,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:wT});if(h.error)throw h.error;const p=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);d[`${w}Page`]=S}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(je(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}}function xT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Jl={debug:!!(globalThis&&M1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wB extends I1{}async function xB(t,e,n){Jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Jl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){Jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wB(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function EB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function j1(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function CB(t){return parseInt(t,16)}function TB(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function AB(t){var e;const{chainId:n,domain:i,expirationTime:r,issuedAt:s=new Date,nonce:o,notBefore:c,requestId:u,resources:d,scheme:h,uri:p,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=j1(t.address),_=h?`${h}://${i}`:i,S=t.statement?`${t.statement}
`:"",w=`${_} wants you to sign in with your Ethereum account:
${y}

${S}`;let x=`URI: ${p}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(r&&(x+=`
Expiration Time: ${r.toISOString()}`),c&&(x+=`
Not Before: ${c.toISOString()}`),u&&(x+=`
Request ID: ${u}`),d){let E=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);E+=`
- ${A}`}x+=E}return`${w}
${x}`}class Rn extends Error{constructor({message:e,code:n,cause:i,name:r}){var s;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(s=r??(i instanceof Error?i.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Tg extends Rn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function RB({error:t,options:e}){var n,i,r;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(P1(o)){if(s.rp.id!==o)return new Rn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function DB({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(P1(i)){if(n.rpId!==i)return new Rn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class OB{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const kB=new OB;function MB(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,r=zc(t,["challenge","user","excludeCredentials"]),s=mc(e).buffer,o=Object.assign(Object.assign({},n),{id:mc(n.id).buffer}),c=Object.assign(Object.assign({},r),{challenge:s,user:o});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let u=0;u<i.length;u++){const d=i[u];c.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:mc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function NB(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=zc(t,["challenge","allowCredentials"]),r=mc(e).buffer,s=Object.assign(Object.assign({},i),{challenge:r});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},c),{id:mc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function IB(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:zo(new Uint8Array(t.response.attestationObject)),clientDataJSON:zo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jB(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:zo(new Uint8Array(r.authenticatorData)),clientDataJSON:zo(new Uint8Array(r.clientDataJSON)),signature:zo(new Uint8Array(r.signature)),userHandle:r.userHandle?zo(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function P1(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ET(){var t,e;return!!($i()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function PB(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tg("Browser returned unexpected credential type",e)}:{data:null,error:new Tg("Empty credential response",e)}}catch(e){return{data:null,error:RB({error:e,options:t})}}}async function LB(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tg("Browser returned unexpected credential type",e)}:{data:null,error:new Tg("Empty credential response",e)}}catch(e){return{data:null,error:DB({error:e,options:t})}}}const zB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},UB={userVerification:"preferred",hints:["security-key"]};function Ag(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of t)if(r)for(const s in r){const o=r[s];if(o!==void 0)if(Array.isArray(o))i[s]=o;else if(n(o))i[s]=o;else if(e(o)){const c=i[s];e(c)?i[s]=Ag(c,o):i[s]=Ag(o)}else i[s]=o}return i}function FB(t,e){return Ag(zB,t,e||{})}function HB(t,e){return Ag(UB,t,e||{})}class BB{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:r},s){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:c};const u=r??kB.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=FB(o.webauthn.credential_options.publicKey,s?.create),{data:h,error:p}=await PB({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=HB(o.webauthn.credential_options.publicKey,s?.request),{data:h,error:p}=await LB(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return je(o)?{data:null,error:o}:{data:null,error:new jo("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}},s){if(!n)return{data:null,error:new xd("rpId is required for WebAuthn authentication")};try{if(!ET())return{data:null,error:new jo("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:r},{request:s});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:i,credential_response:u.credential_response}})}catch(o){return je(o)?{data:null,error:o}:{data:null,error:new jo("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r},s){if(!n)return{data:null,error:new xd("rpId is required for WebAuthn registration")};try{if(!ET())return{data:null,error:new jo("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:c};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:r},{create:s});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:i,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return je(o)?{data:null,error:o}:{data:null,error:new jo("Unexpected error in register",o)}}}}EB();const VB={url:FH,storageKey:HH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function CT(t,e,n){return await n()}const ec={};class Ed{get jwks(){var e,n;return(n=(e=ec[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ec[this.storageKey]=Object.assign(Object.assign({},ec[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ec[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ec[this.storageKey]=Object.assign(Object.assign({},ec[this.storageKey]),{cachedAt:e})}constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ed.nextInstanceID,Ed.nextInstanceID+=1,this.instanceID>0&&$i()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},VB),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new SB({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=N1(r.fetch),this.lock=r.lock||CT,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:$i()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=xB:this.lock=CT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new BB(this)},this.persistSession?(r.storage?this.storage=r.storage:M1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xT(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=xT(this.memoryStorage)),$i()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${D1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=nB(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),$i()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),YH(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:c}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return je(n)?{error:n}:{error:new jo("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Rr}),{data:o,error:c}=s;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,r;try{let s;if("email"in e){const{email:h,password:p,options:m}=e;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await Xl(this.storage,this.storageKey)),s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:h,password:p,data:(n=m?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:_},xform:Rr})}else if("phone"in e){const{phone:h,password:p,options:m}=e;s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(i=m?.data)!==null&&i!==void 0?i:{},channel:(r=m?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Rr})}else throw new Oh("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:c}=e;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ST})}else if("phone"in e){const{phone:s,password:o,options:c}=e;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ST})}else throw new Oh("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Kl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,r,s,o,c,u,d,h,p,m;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:S,wallet:w,statement:x,options:E}=e;let A;if($i())if(typeof w=="object")A=w;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")A=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const I=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),k=await A.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=j1(k[0]);let M=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!M){const U=await A.request({method:"eth_chainId"});M=CB(U)}const O={domain:I.host,address:j,statement:x,uri:I.href,version:"1",chainId:M,nonce:(r=E?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=AB(O),_=await A.request({method:"personal_sign",params:[TB(y),j]})}try{const{data:S,error:w}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:_},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Rr});if(w)throw w;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Kl}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:w})}catch(S){if(je(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var n,i,r,s,o,c,u,d,h,p,m,y;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:w,wallet:x,statement:E,options:A}=e;let I;if($i())if(typeof x=="object")I=x;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))I=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=x}const k=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const j=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),E?{statement:E}:null));let M;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")M=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)M=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)_=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),S=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${k.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(r=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const j=await I.signMessage(new TextEncoder().encode(_),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=j}}try{const{data:w,error:x}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:zo(S)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Rr});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Kl}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(je(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await wo(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:s,error:o}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Rr});if(await Ea(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Kl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:o})}catch(s){if(je(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:s,nonce:o}=e,c=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Rr}),{data:u,error:d}=c;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Kl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,s,o;try{if("email"in e){const{email:c,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Xl(this.storage,this.storageKey));const{error:p}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:c,options:u}=e,{data:d,error:h}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Oh("You must provide either an email or phone number.")}catch(c){if(je(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,i;try{let r,s;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:c}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Rr});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Xl(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:vB})}catch(s){if(je(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Aa;const{error:r}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:s}=e,{error:o}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:r,options:s}=e,{data:o,error:c}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:c}}throw new Oh("You must provide either an email or phone number and a type")}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await wo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<_v:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const o=await wo(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=xv()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ka}):await this._useSession(async n=>{var i,r,s;const{data:o,error:c}=n;if(c)throw c;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Aa}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:ka})})}catch(n){if(je(n))return WH(n)&&(await this._removeSession(),await Ea(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new Aa;const o=r.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await Xl(this.storage,this.storageKey));const{data:d,error:h}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:ka});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Aa;const n=Date.now()/1e3;let i=n,r=!0,s=null;const{payload:o}=wv(e.access_token);if(o.exp&&(i=o.exp,r=i<=n),r){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:o,error:c}=n;if(c)throw c;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Aa;const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!$i())throw new kh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gT("No code detected.");const{data:E,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:c,expires_at:u,token_type:d}=e;if(!s||!c||!o||!d)throw new kh("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(c);let m=h+p;u&&(m=parseInt(u));const y=m-h;y*1e3<=ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const _=m-p;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,h);const{data:S,error:w}=await this._getUser(s);if(w)throw w;const x={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:p,expires_at:m,refresh_token:o,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(i){if(je(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await wo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{error:s};const o=(i=r.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(GH(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Ea(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=tB(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:s},error:o}=n;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await Xl(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(je(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:r}=await this._useSession(async s=>{var o,c,u,d,h;const{data:p,error:m}=s;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(r)throw r;return $i()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(je(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:r,data:{session:s}}=n;if(r)throw r;const{options:o,provider:c,token:u,access_token:d,nonce:h}=e,p=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Rr}),{data:m,error:y}=p;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Kl}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:y})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)throw o;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await sB(async r=>(r>0&&await rB(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rr})),(r,s)=>{const o=200*Math.pow(2,r);return s&&Sv(s)&&Date.now()+o-i<ac})}catch(i){if(this._debug(n,"error",i),je(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),$i()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await wo(this.storage,this.storageKey);if(r&&this.userStorage){let o=await wo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await oc(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o?.user)!==null&&e!==void 0?e:xv()}else if(r&&!r.user&&!r.user){const o=await wo(this.storage,this.storageKey+"-user");o&&o?.user?(r.user=o.user,await Ea(this.storage,this.storageKey+"-user"),await oc(this.storage,this.storageKey,r)):r.user=xv()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const s=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_v;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${_v}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Sv(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(r.access_token);!c&&o?.user?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new hp;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Aa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(r,"error",s),je(s)){const o={data:null,error:s};return Sv(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await oc(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const s=bT(r);await oc(this.storage,this.storageKey,s)}else{const r=bT(n);await oc(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Ea(this.storage,this.storageKey),await Ea(this.storage,this.storageKey+"-code-verifier"),await Ea(this.storage,this.storageKey+"-user"),this.userStorage&&await Ea(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$i()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ac);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ac}ms, refresh threshold is ${Bb} ticks`),r<=Bb&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof I1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$i()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,o]=await Xl(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(c.toString())}if(i?.queryParams){const s=new URLSearchParams(i.queryParams);r.push(s.toString())}return i?.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&u.type==="totp"&&(!((r=u?.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?IB(e.webauthn.credential_response):jB(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const o=await Ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:MB(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:NB(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])r.all.push(s),s.status==="verified"&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wv(r.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+$H>r)return i;const{data:s,error:o}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=r,i=s.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:y,error:_}=await this.getSession();if(_||!y.session)return{data:null,error:_};i=y.session.access_token}const{header:r,payload:s,signature:o,raw:{header:c,payload:u}}=wv(i);n?.allowExpired||fB(s.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(i);if(y)throw y;return{data:{claims:s,header:r,signature:o},error:null}}const h=hB(r.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,JH(`${c}.${u}`)))throw new qb("Invalid JWT signature");return{data:{claims:s,header:r,signature:o},error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}}}Ed.nextInstanceID=0;const $B=Ed;class qB extends $B{constructor(e){super(e)}}class GB{constructor(e,n,i){var r,s,o;this.supabaseUrl=e,this.supabaseKey=n;const c=UH(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:kH,realtime:NH,auth:Object.assign(Object.assign({},MH),{storageKey:u}),global:OH},h=zH(i??{},d);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=PH(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new FF(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new AH(this.storageUrl.href,this.headers,this.fetch,i?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new OF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,storageKey:o,flowType:c,lock:u,debug:d},h,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qB({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,flowType:c,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new iH(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const WB=(t,e,n)=>new GB(t,e,n);function YB(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}YB()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QB={},TT=t=>{let e;const n=new Set,i=(h,p)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const y=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(_=>_(e,y))}},r=()=>e,u={setState:i,getState:r,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(QB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(i,r,u);return u},KB=t=>t?TT(t):TT;var Cv={exports:{}},Tv={},Av={exports:{}},Rv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function XB(){if(AT)return Rv;AT=1;var t=up();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function c(p,m){var y=m(),_=i({inst:{value:y,getSnapshot:m}}),S=_[0].inst,w=_[1];return s(function(){S.value=y,S.getSnapshot=m,u(S)&&w({inst:S})},[p,y,m]),r(function(){return u(S)&&w({inst:S}),p(function(){u(S)&&w({inst:S})})},[p]),o(y),y}function u(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!n(p,y)}catch{return!0}}function d(p,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Rv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Rv}var RT;function ZB(){return RT||(RT=1,Av.exports=XB()),Av.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function JB(){if(DT)return Tv;DT=1;var t=up(),e=ZB();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,c=t.useMemo,u=t.useDebugValue;return Tv.useSyncExternalStoreWithSelector=function(d,h,p,m,y){var _=s(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=c(function(){function x(j){if(!E){if(E=!0,A=j,j=m(j),y!==void 0&&S.hasValue){var M=S.value;if(y(M,j))return I=M}return I=j}if(M=I,i(A,j))return M;var O=m(j);return y!==void 0&&y(M,O)?(A=j,M):(A=j,I=O)}var E=!1,A,I,k=p===void 0?null:p;return[function(){return x(h())},k===null?void 0:function(){return x(k())}]},[h,p,m,y]);var w=r(d,_[0],_[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},Tv}var OT;function eV(){return OT||(OT=1,Cv.exports=JB()),Cv.exports}var tV=eV();const nV=Jo(tV),L1={},{useDebugValue:iV}=No,{useSyncExternalStoreWithSelector:rV}=nV;let kT=!1;const sV=t=>t;function aV(t,e=sV,n){(L1?"production":void 0)!=="production"&&n&&!kT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kT=!0);const i=rV(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return iV(i),i}const MT=t=>{(L1?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?KB(t):t,n=(i,r)=>aV(e,i,r);return Object.assign(n,e),n},oV=t=>t?MT(t):MT;var lV=t=>{if(!t||Array.isArray(t)&&t.length===0)return;let e;if(Array.isArray(t)){const n=t.filter(i=>i&&i.trim().length>0);if(n.length===0)return;n.length===1?e=n[0]:e=`There are ${n.length} validation errors:

• ${n.join(`
• `)}`}else e=t;Bd.error(e,{duration:1e4,position:"top-right",style:{maxWidth:"400px",whiteSpace:"pre-line"}})},nl=t=>{Bd.success(t)},Ia=t=>{Bd.error(t)},Xu=t=>{Bd.warning(t)},cV=(t,e)=>Bd(t,e);function Ka(...t){return _U(OO(t))}var NT=t=>confirm(t),uV=(t,e)=>{if(!(!t||!e))return e.indexOf(".")===-1?t[e]:e.split(".").reduce((n,i)=>n&&n[i]!==void 0?n[i]:void 0,t)},IT=()=>`ID_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,dV=async(t,e={})=>{try{return await t()}catch(n){return n instanceof Error?n:new Error(String(n))}},Mr=(t,e={})=>{let n="An unexpected error occurred";if(t.response)switch(t.response.status){case 400:n="Invalid request data";break;case 401:n="Authentication required";break;case 403:n="Access denied";break;case 404:n="Resource not found";break;case 500:case 502:case 503:n="Server error occurred";break;default:n="Network error occurred"}else t.request?n="Network connection failed":t.message&&(n=t.message);return new Error(n)},fV=OU("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Bo({className:t,variant:e,size:n,asChild:i=!1,...r}){const s=i?Lz:"button";return xe.jsx(s,{"data-slot":"button",className:Ka(fV({variant:e,size:n,className:t})),...r})}var $n=Ne.forwardRef(({className:t,type:e,...n},i)=>xe.jsx("input",{type:e,"data-slot":"input",className:Ka("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),ref:i,...n}));$n.displayName="Input";var oi=Ne.forwardRef(({className:t,...e},n)=>xe.jsx("label",{ref:n,"data-slot":"label",className:Ka("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));oi.displayName="Label";function ur({className:t,...e}){return xe.jsx("div",{"data-slot":"card",className:Ka("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",t),...e})}function dr({className:t,...e}){return xe.jsx("div",{"data-slot":"card-header",className:Ka("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function fr({className:t,...e}){return xe.jsx("div",{"data-slot":"card-title",className:Ka("leading-none font-semibold",t),...e})}function hr({className:t,...e}){return xe.jsx("div",{"data-slot":"card-content",className:Ka("px-6",t),...e})}var z1=Ne.createContext(null);function Dv(t){const e=document.documentElement,n=window.matchMedia("(prefers-color-scheme: dark)").matches,i=t==="dark"||t==="system"&&n;e.classList.toggle("dark",i)}var hV=({defaultTheme:t="system",children:e})=>{const[n,i]=Ne.useState(t);Ne.useEffect(()=>{const o=localStorage.getItem("theme")||t;i(o),Dv(o);const c=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{(localStorage.getItem("theme")||"system")==="system"&&Dv("system")};return c.addEventListener?.("change",u),()=>c.removeEventListener?.("change",u)},[t]);const r=o=>{localStorage.setItem("theme",o),i(o),Dv(o)},s=Ne.useMemo(()=>({theme:n,setTheme:r}),[n]);return xe.jsx(z1.Provider,{value:s,children:e})},gV=()=>{const t=Ne.useContext(z1);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},pV=({className:t})=>{const{theme:e,setTheme:n}=gV();return xe.jsx("div",{className:"inline-flex gap-2 items-center",children:xe.jsxs("select",{"aria-label":"Theme",value:e,onChange:i=>n(i.target.value),className:Ka("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","w-36",t),children:[xe.jsx("option",{value:"light",children:"Light"}),xe.jsx("option",{value:"dark",children:"Dark"}),xe.jsx("option",{value:"system",children:"System"})]})})},mV=({children:t,className:e,...n})=>xe.jsx("table",{className:`w-full border-collapse border border-gray-200 table-auto ${e||""}`,...n,children:t}),yV=({children:t})=>xe.jsx("thead",{className:"bg-gray-50",children:t}),vV=({children:t})=>xe.jsx("tbody",{className:"divide-y divide-gray-200",children:t}),Ov=({children:t,onClick:e,className:n})=>xe.jsx("tr",{onClick:e,className:`${e?"cursor-pointer hover:bg-gray-50":""} ${n||""}`,children:t}),bV=({children:t})=>xe.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200 min-w-0",children:t}),jT=({children:t,colSpan:e,className:n})=>xe.jsx("td",{colSpan:e,className:`px-4 py-3 text-sm text-gray-900 border-b border-gray-200 min-w-0 max-w-xs ${n||""}`,children:xe.jsx("div",{className:"truncate",title:typeof t=="string"?t:"",children:t})}),Ca=({children:t,variant:e="default",size:n="default",onClick:i,disabled:r,className:s})=>{const o="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",c={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},u={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"};return xe.jsx("button",{onClick:i,disabled:r,className:`${o} ${c[e]||c.default} ${u[n]||u.default} ${s||""}`,children:t})};function t_({data:t,columns:e,onEditRow:n,onDeleteRow:i,onRowClick:r,enableFiltering:s=!1,filterableColumns:o=[],stickyColumns:c=[],onBulkDelete:u,onBulkExport:d,initialPageSize:h=PC.PAGE_SIZE,pageSizeOptions:p=[...PC.PAGE_SIZE_OPTIONS],enableGlobalSearch:m=!0,enableColumnVisibility:y=!1,enableRowSelection:_=!1}){const[S,w]=Ne.useState({}),[x,E]=Ne.useState(0),[A,I]=Ne.useState(h),[k,j]=Ne.useState(new Set),[M,O]=Ne.useState(""),[U,B]=Ne.useState([]),$=Ne.useMemo(()=>{const K=_?{id:"select",header:({table:re})=>{const me=re.getRowModel().rows.map(z=>z.original),R=me.length>0&&me.every(z=>k.has(z.id));return xe.jsx("div",{className:"w-8",children:xe.jsx("input",{type:"checkbox","aria-label":"Select all",checked:R,onChange:z=>{const q=new Set(k);z.target.checked?me.forEach(J=>q.add(J.id)):me.forEach(J=>q.delete(J.id)),j(q)},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})},cell:({row:re})=>xe.jsx("div",{className:"flex w-8",children:xe.jsx("input",{type:"checkbox","aria-label":"Select row",checked:k.has(re.original.id),onChange:me=>{const R=new Set(k);me.target.checked?R.add(re.original.id):R.delete(re.original.id),j(R)},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})}:null,ue=n||i?{id:"actions",header:"Actions",cell:({row:re})=>xe.jsxs("div",{className:"flex gap-2",children:[n&&xe.jsx(Ca,{variant:"outline",size:"sm",onClick:()=>n(re.original),children:"Edit"}),i&&xe.jsx(Ca,{variant:"destructive",size:"sm",onClick:()=>{NT("Are you sure you want to delete this item?")&&i(re.original)},children:"Delete"})]})}:null;return[K,...e,ue].filter(Boolean)},[e,n,i,_,k]),Q=Ne.useMemo(()=>{let K=t;return s&&Object.keys(S).length>0&&(K=K.filter(ue=>Object.entries(S).every(([re,me])=>{if(!me)return!0;const R=uV(ue,re);return String(R).toLowerCase().includes(me.toLowerCase())}))),m&&M&&(K=K.filter(ue=>Object.values(ue).some(re=>String(re).toLowerCase().includes(M.toLowerCase())))),K},[t,S,M,s,m]),ae=Ne.useMemo(()=>{const K=x*A,ue=K+A;return Q.slice(K,ue)},[Q,x,A]),pe=Math.ceil(Q.length/A),ve=wF({data:ae,columns:$,state:{sorting:U},onSortingChange:B,getCoreRowModel:yF(),getSortedRowModel:vF()}),F=()=>{w({}),O(""),E(0)};return xe.jsxs("div",{className:"w-full space-y-4",children:[m&&xe.jsxs("div",{className:"flex items-center gap-4",children:[xe.jsx("div",{className:"flex-1",children:xe.jsx("input",{type:"text",placeholder:"Search all columns...",value:M,onChange:K=>{O(K.target.value),E(0)},className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})}),M&&xe.jsx(Ca,{variant:"outline",onClick:F,children:"Clear Search"})]}),xe.jsx("div",{className:"rounded-md border border-gray-200 overflow-hidden shadow-sm",children:xe.jsx("div",{className:"overflow-x-auto",children:xe.jsxs(mV,{className:"min-w-full",children:[xe.jsx(yV,{children:ve.getHeaderGroups().map(K=>xe.jsx(Ov,{children:K.headers.map(ue=>xe.jsx(bV,{children:ue.isPlaceholder?null:xe.jsxs("div",{className:ue.column.getCanSort()?"cursor-pointer select-none flex items-center gap-2":"",onClick:ue.column.getToggleSortingHandler(),children:[KC(ue.column.columnDef.header,ue.getContext()),{asc:" 🔼",desc:" 🔽"}[ue.column.getIsSorted()]??null]})},ue.id))},K.id))}),xe.jsx(vV,{children:ve.getRowModel().rows.length?ve.getRowModel().rows.map(K=>xe.jsx(Ov,{onClick:()=>r&&r(K.original),className:r?"cursor-pointer hover:bg-muted/50":"",children:K.getVisibleCells().map(ue=>xe.jsx(jT,{children:KC(ue.column.columnDef.cell,ue.getContext())},ue.id))},K.id)):xe.jsx(Ov,{children:xe.jsx(jT,{colSpan:$.length,className:"h-24 text-center",children:"No results found."})})})]})})}),xe.jsxs("div",{className:"flex items-center justify-between",children:[xe.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",x*A+1," to ",Math.min((x+1)*A,Q.length)," of ",Q.length," results"]}),xe.jsxs("div",{className:"flex items-center space-x-2",children:[xe.jsx(Ca,{variant:"outline",size:"sm",onClick:()=>E(Math.max(0,x-1)),disabled:x===0,children:"Previous"}),xe.jsxs("span",{className:"text-sm",children:["Page ",x+1," of ",pe]}),xe.jsx(Ca,{variant:"outline",size:"sm",onClick:()=>E(Math.min(pe-1,x+1)),disabled:x>=pe-1,children:"Next"})]})]}),k.size>0&&(u||d)&&xe.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-md",children:[xe.jsxs("span",{className:"text-sm text-muted-foreground",children:[k.size," items selected"]}),xe.jsxs("div",{className:"flex gap-2",children:[xe.jsx(Ca,{variant:"outline",size:"sm",onClick:()=>j(new Set),children:"Clear Selection"}),d&&xe.jsx(Ca,{variant:"outline",size:"sm",onClick:()=>d(Array.from(k)),children:"Export Selected"}),u&&xe.jsx(Ca,{variant:"destructive",size:"sm",onClick:()=>{NT(`Delete ${k.size} selected items?`)&&(u(Array.from(k)),j(new Set))},children:"Delete Selected"})]})]})]})}var _V=class extends No.Component{constructor(t){super(t),this.handleRetry=()=>{const e=this.props.maxRetries||3;this.state.retryCount<e&&this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:this.state.retryCount+1})},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0})},this.handleReportIssue=()=>{const e=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${e}&body=${n}`)},this.state={hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorId:IT()}}componentDidCatch(t,e){this.setState({errorInfo:e,errorId:this.state.errorId||IT()}),this.props.onError&&this.props.onError(t,e)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,{retry:this.handleRetry,reset:this.handleReset,retryCount:this.state.retryCount,maxRetries:this.props.maxRetries||3}):xe.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:xe.jsxs("div",{className:"max-w-md w-full bg-card shadow-lg rounded-lg p-6 border",children:[xe.jsxs("div",{className:"flex items-center mb-4",children:[xe.jsx("div",{className:"flex-shrink-0",children:xe.jsx("div",{className:"h-8 w-8 text-destructive text-2xl",children:"🚨"})}),xe.jsx("div",{className:"ml-3",children:xe.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Something went wrong"})})]}),xe.jsxs("div",{className:"mb-4",children:[xe.jsx("p",{className:"text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),this.state.errorId&&xe.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error ID: ",xe.jsx("code",{className:"bg-muted px-1 rounded",children:this.state.errorId})]})]}),xe.jsxs("div",{className:"flex space-x-3 mb-4",children:[this.state.retryCount<(this.props.maxRetries||3)&&xe.jsxs("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Try Again (",this.state.retryCount+1,"/",(this.props.maxRetries||3)+1,")"]}),xe.jsx("button",{onClick:this.handleReset,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Reset"})]}),xe.jsx("button",{onClick:this.handleReportIssue,className:"w-full bg-gray-100 text-gray-900 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 border border-gray-300",children:"📧 Report Issue"}),!1]})}):this.props.children}};function SV({user:t,onSignOut:e,onToggleSidebar:n,ThemeSwitch:i,Button:r,MenuIcon:s,LogOutIcon:o}){return xe.jsx("header",{className:"bg-secondary shadow-sm border-b border-border",children:xe.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[xe.jsx("div",{className:"flex items-center",children:xe.jsx("button",{onClick:n,className:"p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-inset focus:ring-ring",children:xe.jsx(s,{className:"h-6 w-6"})})}),xe.jsxs("div",{className:"flex items-center space-x-4",children:[xe.jsx(i,{}),xe.jsx("span",{className:"text-sm text-muted-foreground",children:t?.email?.split("@")[0]||"User"}),xe.jsxs(r,{variant:"outline",size:"sm",onClick:e,className:"flex items-center gap-2",children:[xe.jsx(o,{className:"h-4 w-4"}),"Logout"]})]})]})})}var wV=t=>{const e={auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}};return WB(t.url,t.anonKey,{...e,...t.options})},xV=(t,e="")=>t.code==="23505"?"This record already exists":t.code==="23503"?"Cannot perform this operation due to related records":t.code==="PGRST116"?"No records found":t.message?.includes("JWT")?"Authentication error. Please refresh the page":t.message||"An unexpected error occurred",U1=Ne.createContext(null),EV=({children:t,supabaseClient:e,onAuthStateChange:n})=>{const[i,r]=Ne.useState(null),[s,o]=Ne.useState(null),[c,u]=Ne.useState(!0),[d,h]=Ne.useState(null);Ne.useEffect(()=>{(async()=>{try{const{data:{session:E},error:A}=await e.auth.getSession();A?h("Failed to initialize authentication"):(o(E),r(E?.user??null),n?.(E?.user??null,E))}catch{h("Authentication initialization failed")}finally{u(!1)}})();const{data:{subscription:x}}=e.auth.onAuthStateChange(async(E,A)=>{o(A),r(A?.user??null),h(null),n?.(A?.user??null,A),E==="SIGNED_OUT"&&u(!1)});return()=>x.unsubscribe()},[e,n]);const S={user:i,session:s,loading:c,error:d,signIn:async(w,x)=>{try{h(null);const{error:E}=await e.auth.signInWithPassword({email:w,password:x});return E?(h(E.message),{error:E.message}):{}}catch{const A="Sign in failed";return h(A),{error:A}}},signUp:async(w,x,E)=>{try{h(null);const{error:A}=await e.auth.signUp({email:w,password:x,options:{data:E}});return A?(h(A.message),{error:A.message}):{}}catch{const I="Sign up failed";return h(I),{error:I}}},signOut:async()=>{try{h(null),await e.auth.signOut()}catch{h("Sign out failed")}},resetPassword:async w=>{try{h(null);const{error:x}=await e.auth.resetPasswordForEmail(w);return x?(h(x.message),{error:x.message}):{}}catch{const E="Password reset failed";return h(E),{error:E}}}};return xe.jsx(U1.Provider,{value:S,children:t})},CV=()=>{const t=Ne.useContext(U1);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},kv=t=>console.error(t),TV=t=>console.warn(t),AV=t=>console.info(t),os=(t={})=>{const{logErrors:e=!0,showUserMessages:n=!0,maxRetries:i=3,retryDelay:r=1e3,onError:s=null,onRetry:o=null,onFallback:c=null}=t,[u,d]=Ne.useState([]),[h,p]=Ne.useState(!1),m=Ne.useRef(0),y=Ne.useCallback(async(M,O="",U={})=>{const B={id:`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,message:M.message||"An unexpected error occurred",type:M.type||bh.SERVER_ERROR,severity:M.severity||"medium",context:O,timestamp:new Date().toISOString(),userMessage:M.userMessage||M.message||"An unexpected error occurred"};if(d($=>[...$,B]),e&&console.error(`[${O}] Error:`,M),n){const $=B.userMessage;switch(B.severity){case"low":TV($);break;case"medium":kv($);break;case"high":case"critical":kv($);break;default:kv($)}}return s&&await s(B,O),B},[e,n,s]),_=Ne.useCallback(async(M,O={})=>{const{context:U="",fallbackMessage:B="Operation failed",retry:$=!1,maxRetries:Q=i}=O;try{return $?await S(M,Q):await M()}catch(ae){throw await y(ae,U,{fallbackMessage:B})}},[i,y]),S=Ne.useCallback(async(M,O)=>{let U;for(let B=1;B<=O;B++)try{p(B>1),m.current=B-1;const $=await M();return p(!1),m.current=0,$}catch($){if(U=$,B<O){const Q=r*Math.pow(2,B-1);o&&await o($,B,Q),n&&AV(`Retrying... (${B}/${O})`),await new Promise(ae=>setTimeout(ae,Q))}}throw p(!1),m.current=0,U},[r,o,n]),w=Ne.useCallback((M,O={})=>{const U={message:M,type:bh.VALIDATION_ERROR,severity:"medium",details:O,userMessage:M};return y(U,"validation")},[y]),x=Ne.useCallback((M="Network connection failed")=>{const O={message:M,type:bh.NETWORK_ERROR,severity:"high",userMessage:M};return y(O,"network")},[y]),E=Ne.useCallback((M="Authentication failed")=>{const O={message:M,type:bh.AUTHENTICATION_ERROR,severity:"high",userMessage:M};return y(O,"authentication")},[y]),A=Ne.useCallback(()=>{d([])},[]),I=Ne.useCallback(M=>{d(O=>O.filter(U=>U.id!==M))},[]),k=Ne.useCallback(M=>u.filter(O=>O.type===M),[u]),j=Ne.useCallback(()=>u.some(M=>M.severity==="critical"),[u]);return{handleError:y,handleAsync:_,handleValidationError:w,handleNetworkError:x,handleAuthError:E,clearErrors:A,clearError:I,getErrorsByType:k,hasCriticalErrors:j,errors:u,isRetrying:h,retryCount:m.current,retryOperation:S}},F1=oV(t=>({isOpen:!0,toggle:()=>t(e=>({isOpen:!e.isOpen})),open:()=>t({isOpen:!0}),close:()=>t({isOpen:!1})}));const RV="https://wufsjkzyjxgvualcaftn.supabase.co",DV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1ZnNqa3p5anhndnVhbGNhZnRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0NzAyNzAsImV4cCI6MjA3NzA0NjI3MH0.cq8pGstXbA3OzgPbkJNRrQT39ROA4t9N3czLSIWpjUs",gn=wV({url:RV,anonKey:DV}),Mn=xV,OV=({children:t})=>C.jsx(EV,{supabaseClient:gn,children:t}),il=CV;/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),PT=t=>{const e=MV(t);return e.charAt(0).toUpperCase()+e.slice(1)},H1=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),NV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...c},u)=>D.createElement("svg",{ref:u,...IV,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:H1("lucide",r),...!s&&!NV(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,h])=>D.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=(t,e)=>{const n=D.forwardRef(({className:i,...r},s)=>D.createElement(jV,{ref:s,iconNode:e,className:H1(`lucide-${kV(PT(t))}`,`lucide-${t}`,i),...r}));return n.displayName=PT(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LV=Xa("calendar",PV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],UV=Xa("chevron-right",zV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HV=Xa("clock",FV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],VV=Xa("file-text",BV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qV=Xa("house",$V);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WV=Xa("log-out",GV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],QV=Xa("menu",YV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XV=Xa("settings",KV);function ZV(){const{user:t}=il(),e=Qs(),{isOpen:n}=F1(),[i,r]=D.useState({backlog:e.pathname.startsWith("/backlog"),machinery:e.pathname.startsWith("/machinery"),phases:e.pathname.startsWith("/phases"),scheduler:e.pathname.startsWith("/scheduler")}),s=c=>{r(u=>({...u,[c]:!u[c]}))},o=[{href:"/",label:"Dashboard",icon:qV},{section:"backlog",label:"Backlog",icon:VV,subLinks:[{href:"/backlog",label:"Lista Backlog"},{href:"/backlog/add",label:"Nuovo Backlog"}]},{section:"machinery",label:"Macchinari",icon:XV,subLinks:[{href:"/machinery",label:"Lista Macchinari"},{href:"/machinery/add",label:"Nuovo Macchinario"}]},{section:"phases",label:"Fasi",icon:HV,subLinks:[{href:"/phases",label:"Lista Fasi"},{href:"/phases/add",label:"Nuova Fase"}]},{href:"/scheduler",label:"Scheduler",icon:LV}];return t?n?C.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[C.jsx("div",{className:"p-4 border-b border-border",children:C.jsx(Pn,{to:"/",className:"flex items-center justify-center",children:C.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),C.jsxs("div",{className:"flex-1 p-4",children:[C.jsx("h2",{className:"text-xl font-semibold text-secondary-foreground mb-6",children:"Navigation"}),C.jsx("nav",{className:"space-y-2",children:o.map(c=>{if(c.section){const u=i[c.section],d=c.subLinks.some(p=>e.pathname===p.href),h=c.icon;return C.jsxs("div",{children:[C.jsxs("button",{onClick:()=>s(c.section),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx(h,{className:"h-5 w-5"}),C.jsx("span",{className:"text-sm font-medium",children:c.label})]}),C.jsx(UV,{className:`h-4 w-4 transform transition-transform ${u?"rotate-90":""}`})]}),u&&C.jsx("div",{className:"ml-6 mt-2 space-y-1",children:c.subLinks.map(p=>{const m=e.pathname===p.href;return C.jsx(Pn,{to:p.href,className:`block px-3 py-2 rounded-lg text-sm font-medium transition-colors ${m?"bg-primary/5 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent/50"}`,children:p.label},p.href)})})]},c.section)}else{const u=e.pathname===c.href,d=c.icon;return C.jsxs(Pn,{to:c.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${u?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[C.jsx(d,{className:"h-5 w-5"}),C.jsx("span",{className:"text-sm font-medium",children:c.label})]},c.href)}})})]})]}):C.jsx("div",{className:"w-16 bg-secondary shadow-sm border-r border-border min-h-screen",children:C.jsx("div",{className:"flex flex-col items-center py-4 space-y-4",children:o.map(c=>{const u=c.icon,d=e.pathname===c.href;return C.jsx(Pn,{to:c.href||"#",className:`p-3 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,title:c.label,children:C.jsx(u,{className:"h-6 w-6"})},c.href||c.section)})})}):C.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col",children:[C.jsx("div",{className:"p-4 border-b border-border",children:C.jsx(Pn,{to:"/login",className:"flex items-center justify-center",children:C.jsx("span",{className:"text-xl font-bold text-primary",children:"SCHEDULER"})})}),C.jsxs("div",{className:"flex-1 p-4",children:[C.jsx("h3",{className:"text-xs font-semibold text-secondary-foreground uppercase tracking-wider mb-4",children:"NAVIGATION"}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(Pn,{to:"/login",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:C.jsx("span",{className:"font-medium",children:"Accedi"})}),C.jsx(Pn,{to:"/signup",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:C.jsx("span",{className:"font-medium",children:"Registrati"})})]})]})]})}function JV(){const{user:t,signOut:e}=il(),{toggle:n}=F1();return C.jsx(SV,{user:t,onSignOut:()=>e(),onToggleSidebar:n,ThemeSwitch:pV,Button:Bo,MenuIcon:QV,LogOutIcon:WV})}const LT=t=>{let e;const n=new Set,i=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,m))}},r=()=>e,c={setState:i,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(i,r,c);return c},e$=(t=>t?LT(t):LT),t$=t=>t;function n$(t,e=t$){const n=ce.useSyncExternalStore(t.subscribe,ce.useCallback(()=>e(t.getState()),[t,e]),ce.useCallback(()=>e(t.getInitialState()),[t,e]));return ce.useDebugValue(n),n}const zT=t=>{const e=e$(t),n=i=>n$(e,i);return Object.assign(n,e),n},rl=(t=>t?zT(t):zT),br=rl((t,e)=>({machines:[],getMachines:()=>e().machines,getMachineById:n=>e().machines.find(i=>i.id===n),getMachinesByWorkCenter:n=>n==="BOTH"?e().machines:e().machines.filter(i=>i.work_center===n),setMachines:n=>t({machines:n||[]}),cleanupDuplicateMachines:()=>{const n=e(),i=[],r=new Set;n.machines.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({machines:i})},reset:()=>t({machines:[]})})),ln=rl((t,e)=>({odpOrders:[],getOdpOrders:()=>e().odpOrders,getOrderById:n=>e().odpOrders.find(i=>i.id===n),getScheduledOrders:()=>e().odpOrders.filter(n=>n.status==="SCHEDULED"),getUnscheduledOrders:()=>e().odpOrders.filter(n=>n.status==="NOT SCHEDULED"),getOdpOrdersByWorkCenter:n=>n==="BOTH"?e().odpOrders:e().odpOrders.filter(i=>i.work_center===n),setOdpOrders:n=>t({odpOrders:n||[]}),cleanupDuplicateOrders:()=>{const n=e(),i=[],r=new Set;n.odpOrders.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({odpOrders:i})},reset:()=>t({odpOrders:[]})})),uc=rl((t,e)=>({phases:[],getPhases:()=>e().phases,getPhaseById:n=>e().phases.find(i=>i.id===n),setPhases:n=>t({phases:n||[]}),cleanupDuplicatePhases:()=>{const n=e(),i=[],r=new Set;n.phases.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({phases:i})},reset:()=>t({phases:[]})})),i$={APP:{FIRST_DAY_OF_WEEK:1}},r$=Object.prototype.toString;function s$(t,e){return r$.call(t)===`[object ${e}]`}function B1(t){return s$(t,"Object")}function n_(t){return!!(t&&t.then&&typeof t.then=="function")}function a$(t){return typeof t=="number"&&t!==t}function Mh(t){return t&&t.Math==Math?t:void 0}const ei=typeof globalThis=="object"&&Mh(globalThis)||typeof window=="object"&&Mh(window)||typeof self=="object"&&Mh(self)||typeof global=="object"&&Mh(global)||(function(){return this})()||{};function V1(t,e,n){const i=n||ei,r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=e())}const $1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,o$="Sentry Logger ",UT=["debug","info","warn","error","log","assert","trace"],FT={};function q1(t){if(!("console"in ei))return t();const e=ei.console,n={},i=Object.keys(FT);i.forEach(r=>{const s=FT[r];n[r]=e[r],e[r]=s});try{return t()}finally{i.forEach(r=>{e[r]=n[r]})}}function l$(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return $1?UT.forEach(n=>{e[n]=(...i)=>{t&&q1(()=>{ei.console[n](`${o$}[${n}]:`,...i)})}}):UT.forEach(n=>{e[n]=()=>{}}),e}const un=l$();function jr(t){return Gb(t,new Map)}function Gb(t,e){if(c$(t)){const n=e.get(t);if(n!==void 0)return n;const i={};e.set(t,i);for(const r of Object.keys(t))typeof t[r]<"u"&&(i[r]=Gb(t[r],e));return i}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const i=[];return e.set(t,i),t.forEach(r=>{i.push(Gb(r,e))}),i}return t}function c$(t){if(!B1(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const Mv="<anonymous>";function u$(t){try{return!t||typeof t!="function"?Mv:t.name||Mv}catch{return Mv}}const og={},HT={};function G1(t,e){og[t]=og[t]||[],og[t].push(e)}function W1(t,e){HT[t]||(e(),HT[t]=!0)}function Y1(t,e){const n=t&&og[t];if(n)for(const i of n)try{i(e)}catch(r){$1&&un.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${u$(i)}
Error:`,r)}}function ji(){const t=ei,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function d$(t){return Array.isArray(t)?t:[t]}let Nh=null;function f$(t){const e="error";G1(e,t),W1(e,h$)}function h$(){Nh=ei.onerror,ei.onerror=function(t,e,n,i,r){return Y1("error",{column:i,error:r,line:n,msg:t,url:e}),Nh&&!Nh.__SENTRY_LOADER__?Nh.apply(this,arguments):!1},ei.onerror.__SENTRY_INSTRUMENTED__=!0}let Ih=null;function g$(t){const e="unhandledrejection";G1(e,t),W1(e,p$)}function p$(){Ih=ei.onunhandledrejection,ei.onunhandledrejection=function(t){return Y1("unhandledrejection",t),Ih&&!Ih.__SENTRY_LOADER__?Ih.apply(this,arguments):!0},ei.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function m$(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function y$(){return!m$()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Uo(t,e){return t.require(e)}function v$(t){let e;try{e=Uo(module,t)}catch{}try{const{cwd:n}=Uo(module,"process");e=Uo(module,`${n()}/node_modules/${t}`)}catch{}return e}var js;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const i=2;t[t.REJECTED=i]="REJECTED"})(js||(js={}));class Da{constructor(e){Da.prototype.__init.call(this),Da.prototype.__init2.call(this),Da.prototype.__init3.call(this),Da.prototype.__init4.call(this),this._state=js.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Da((i,r)=>{this._handlers.push([!1,s=>{if(!e)i(s);else try{i(e(s))}catch(o){r(o)}},s=>{if(!n)r(s);else try{i(n(s))}catch(o){r(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Da((n,i)=>{let r,s;return this.then(o=>{s=!1,r=o,e&&e()},o=>{s=!0,r=o,e&&e()}).then(()=>{if(s){i(r);return}n(r)})})}__init(){this._resolve=e=>{this._setResult(js.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(js.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===js.PENDING){if(n_(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===js.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===js.RESOLVED&&n[1](this._value),this._state===js.REJECTED&&n[2](this._value),n[0]=!0)})}}}const Q1=1e3;function i_(){return Date.now()/Q1}function b$(){const{performance:t}=ei;if(!t||!t.now)return i_;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/Q1}const gp=b$();(()=>{const{performance:t}=ei;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),i=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,s=r<e,o=t.timing&&t.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-i):e,d=u<e;return s||d?r<=u?t.timeOrigin:o:i})();function _$(t=ji(),e=ji().substring(16),n){let i="";return n!==void 0&&(i=n?"-1":"-0"),`${t}-${e}${i}`}const Gn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,K1="production";function S$(){return V1("globalEventProcessors",()=>[])}function Wb(t,e,n,i=0){return new Da((r,s)=>{const o=t[i];if(e===null||typeof o!="function")r(e);else{const c=o({...e},n);Gn&&o.id&&c===null&&un.log(`Event processor "${o.id}" dropped event`),n_(c)?c.then(u=>Wb(t,u,n,i+1).then(r)).then(null,s):Wb(t,c,n,i+1).then(r).then(null,s)}})}function w$(t){const e=gp(),n={sid:ji(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>E$(n)};return t&&pp(n,t),n}function pp(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||gp(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:ji()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function x$(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),pp(t,n)}function E$(t){return jr({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const C$=0,X1=1;function r_(t){const{spanId:e,traceId:n}=t.spanContext(),{data:i,op:r,parent_span_id:s,status:o,tags:c,origin:u}=$a(t);return jr({data:i,op:r,parent_span_id:s,span_id:e,status:o,tags:c,trace_id:n,origin:u})}function Z1(t){const{traceId:e,spanId:n}=t.spanContext(),i=ek(t);return _$(e,n,i)}function J1(t){return typeof t=="number"?BT(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?BT(t.getTime()):gp()}function BT(t){return t>9999999999?t/1e3:t}function $a(t){return T$(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function T$(t){return typeof t.getSpanJSON=="function"}function ek(t){const{traceFlags:e}=t.spanContext();return!!(e&X1)}function tk(){return mp().getClient()}function A$(){return mp().getScope()}function Rg(t){return t.transaction}function R$(t,e,n){const i=e.getOptions(),{publicKey:r}=e.getDsn()||{},{segment:s}=n&&n.getUser()||{},o=jr({environment:i.environment||K1,release:i.release,user_segment:s,public_key:r,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function Yb(t){const e=tk();if(!e)return{};const n=R$($a(t).trace_id||"",e,A$()),i=Rg(t);if(!i)return n;const r=i&&i._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:s,source:o}=i.metadata;s!=null&&(n.sample_rate=`${s}`);const c=$a(i);return o&&o!=="url"&&(n.transaction=c.description),n.sampled=String(ek(i)),e.emit&&e.emit("createDsc",n),n}function D$(t,e){const{fingerprint:n,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=e;O$(t,e),i&&N$(t,i),I$(t,n),k$(t,r),M$(t,s)}function O$(t,e){const{extra:n,tags:i,user:r,contexts:s,level:o,transactionName:c}=e,u=jr(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const d=jr(i);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});const h=jr(r);h&&Object.keys(h).length&&(t.user={...h,...t.user});const p=jr(s);p&&Object.keys(p).length&&(t.contexts={...p,...t.contexts}),o&&(t.level=o),c&&(t.transaction=c)}function k$(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function M$(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function N$(t,e){t.contexts={trace:r_(e),...t.contexts};const n=Rg(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:Yb(e),...t.sdkProcessingMetadata};const i=$a(n).description;i&&(t.tags={transaction:i,...t.tags})}}function I$(t,e){t.fingerprint=t.fingerprint?d$(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const j$=100;class yc{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=VT()}static clone(e){return e?e.clone():new yc}clone(){const e=new yc;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&pp(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof yc){const i=n.getScopeData();this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&Object.keys(i.user).length&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint.length&&(this._fingerprint=i.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),i.propagationContext&&(this._propagationContext=i.propagationContext)}else if(B1(n)){const i=e;this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint&&(this._fingerprint=i.fingerprint),i.requestSession&&(this._requestSession=i.requestSession),i.propagationContext&&(this._propagationContext=i.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=VT(),this}addBreadcrumb(e,n){const i=typeof n=="number"?n:j$;if(i<=0)return this;const r={timestamp:i_(),...e},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>i?s.slice(-i):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:i,_tags:r,_extra:s,_user:o,_level:c,_fingerprint:u,_eventProcessors:d,_propagationContext:h,_sdkProcessingMetadata:p,_transactionName:m,_span:y}=this;return{breadcrumbs:e,attachments:n,contexts:i,tags:r,extra:s,user:o,level:c,fingerprint:u||[],eventProcessors:d,propagationContext:h,sdkProcessingMetadata:p,transactionName:m,span:y}}applyToEvent(e,n={},i=[]){D$(e,this.getScopeData());const r=[...i,...S$(),...this._eventProcessors];return Wb(r,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const i=n&&n.event_id?n.event_id:ji();if(!this._client)return un.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...n,event_id:i},this),i}captureMessage(e,n,i){const r=i&&i.event_id?i.event_id:ji();if(!this._client)return un.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r},this),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:ji();return this._client?(this._client.captureEvent(e,{...n,event_id:i},this),i):(un.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function VT(){return{traceId:ji(),spanId:ji().substring(16)}}const P$="7.120.4",nk=parseFloat(P$),L$=100;class ik{constructor(e,n,i,r=nk){this._version=r;let s;n?s=n:(s=new yc,s.setClient(e));let o;i?o=i:(o=new yc,o.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let i;try{i=e(n)}catch(r){throw this.popScope(),r}return n_(i)?i.then(r=>(this.popScope(),r),r=>{throw this.popScope(),r}):(this.popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const i=this._lastEventId=n&&n.event_id?n.event_id:ji(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...n,event_id:i}),i}captureMessage(e,n,i){const r=this._lastEventId=i&&i.event_id?i.event_id:ji(),s=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r}),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:ji();return e.type||(this._lastEventId=i),this.getScope().captureEvent(e,{...n,event_id:i}),i}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:i,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=L$}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const u={timestamp:i_(),...e},d=s?q1(()=>s(u,n)):u;d!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",d,n),i.addBreadcrumb(d,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:i}=this.getStackTop();i&&e(n)}run(e){const n=$T(this);try{e(this)}finally{$T(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return Gn&&un.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const i=this._callExtensionMethod("startTransaction",e,n);return Gn&&!i&&(this.getClient()?un.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):un.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,i=n.getSession();i&&x$(i),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:i}=this.getStackTop(),{release:r,environment:s=K1}=i&&i.getOptions()||{},{userAgent:o}=ei.navigator||{},c=w$({release:r,environment:s,user:n.getUser(),...o&&{userAgent:o},...e}),u=n.getSession&&n.getSession();return u&&u.status==="ok"&&pp(u,{status:"exited"}),this.endSession(),n.setSession(c),c}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),i=e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}_callExtensionMethod(e,...n){const r=Fc().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,n);Gn&&un.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Fc(){return ei.__SENTRY__=ei.__SENTRY__||{extensions:{},hub:void 0},ei}function $T(t){const e=Fc(),n=Qb(e);return rk(e,t),n}function mp(){const t=Fc();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return z$(t)}function z$(t=Fc()){return(!U$(t)||Qb(t).isOlderThan(nk))&&rk(t,new ik),Qb(t)}function U$(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Qb(t){return V1("hub",()=>new ik,t)}function rk(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function F$(t){return(t||mp()).getScope().getTransaction()}let qT=!1;function H$(){qT||(qT=!0,f$(Kb),g$(Kb))}function Kb(){const t=F$();if(t){const e="internal_error";Gn&&un.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Kb.tag="sentry_tracingErrorCallback";var GT;(function(t){t.Ok="ok";const n="deadline_exceeded";t.DeadlineExceeded=n;const i="unauthenticated";t.Unauthenticated=i;const r="permission_denied";t.PermissionDenied=r;const s="not_found";t.NotFound=s;const o="resource_exhausted";t.ResourceExhausted=o;const c="invalid_argument";t.InvalidArgument=c;const u="unimplemented";t.Unimplemented=u;const d="unavailable";t.Unavailable=d;const h="internal_error";t.InternalError=h;const p="unknown_error";t.UnknownError=p;const m="cancelled";t.Cancelled=m;const y="already_exists";t.AlreadyExists=y;const _="failed_precondition";t.FailedPrecondition=_;const S="aborted";t.Aborted=S;const w="out_of_range";t.OutOfRange=w;const x="data_loss";t.DataLoss=x})(GT||(GT={}));function B$(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function V$(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=B$(e);n!=="unknown_error"&&t.setStatus(n)}function $$(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=tk(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const q$="_sentryScope",G$="_sentryIsolationScope";function W$(t){return{scope:t[q$],isolationScope:t[G$]}}const Nv="sentry.source",dc="sentry.sample_rate",jh="sentry.op",Ph="sentry.origin",Y$="profile_id";class Q${constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class s_{constructor(e={}){this._traceId=e.traceId||ji(),this._spanId=e.spanId||ji().substring(16),this._startTime=e.startTimestamp||gp(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Ph]:e.origin||"manual",[jh]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[jh]}set op(e){this.setAttribute(jh,e)}get origin(){return this._attributes[Ph]}set origin(e){this.setAttribute(Ph,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:i}=this;return{spanId:e,traceId:n,traceFlags:i?X1:C$}}startChild(e){const n=new s_({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const i=Rg(this);if(n.transaction=i,Gn&&i){const r=e&&e.op||"< unknown op >",s=$a(n).description||"< unknown name >",o=i.spanContext().spanId,c=`[Tracing] Starting '${r}' span on transaction '${s}' (${o}).`;un.log(c),this._logMessage=c}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return V$(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=Rg(this);if(Gn&&n&&n.spanContext().spanId!==this._spanId){const i=this._logMessage;i&&un.log(i.replace("Starting","Finishing"))}this._endTime=J1(e)}toTraceparent(){return Z1(this)}toContext(){return jr({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return r_(this)}getSpanJSON(){return jr({data:this._getData(),description:this._name,op:this._attributes[jh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ph],_metrics_summary:void 0,profile_id:this._attributes[Y$],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,i=Object.keys(e).length>0,r=Object.keys(n).length>0;if(!(!i&&!r))return i&&r?{...e,...n}:i?e:n}}class K$ extends s_{constructor(e,n){super(e),this._contexts={},this._hub=n||mp(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const i=this._metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext={...i})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Nv]&&{source:this._attributes[Nv]},...this._attributes[dc]&&{sampleRate:this._attributes[dc]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(Nv,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Q$(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,i=""){this._measurements[e]={value:n,unit:i}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=J1(e),i=this._finishTransaction(n);if(i)return this._hub.captureEvent(i)}toContext(){const e=super.toContext();return jr({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Yb(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(Gn&&un.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Gn&&un.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const i=this.spanRecorder?this.spanRecorder.spans.filter(h=>h!==this&&$a(h).timestamp):[];if(this._trimEnd&&i.length>0){const h=i.map(p=>$a(p).timestamp).filter(Boolean);this._endTime=h.reduce((p,m)=>p>m?p:m)}const{scope:r,isolationScope:s}=W$(this),{metadata:o}=this,{source:c}=o,u={contexts:{...this._contexts,trace:r_(this)},spans:i,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:r,capturedSpanIsolationScope:s,...jr({dynamicSamplingContext:Yb(this)})},_metrics_summary:void 0,...c&&{transaction_info:{source:c}}};return Object.keys(this._measurements).length>0&&(Gn&&un.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),u.measurements=this._measurements),Gn&&un.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),u}}function X$(t,e,n){if(!$$(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(dc,Number(t.sampled)),t;let i;return typeof e.tracesSampler=="function"?(i=e.tracesSampler(n),t.setAttribute(dc,Number(i))):n.parentSampled!==void 0?i=n.parentSampled:typeof e.tracesSampleRate<"u"?(i=e.tracesSampleRate,t.setAttribute(dc,Number(i))):(i=1,t.setAttribute(dc,i)),Z$(i)?i?(t.sampled=Math.random()<i,t.sampled?(Gn&&un.log(`[Tracing] starting ${t.op} transaction - ${$a(t).description}`),t):(Gn&&un.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):(Gn&&un.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(Gn&&un.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Z$(t){return a$(t)||!(typeof t=="number"||typeof t=="boolean")?(Gn&&un.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(Gn&&un.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function J$(){const e=this.getScope().getSpan();return e?{"sentry-trace":Z1(e)}:{}}function e5(t,e){const n=this.getClient(),i=n&&n.getOptions()||{},r=i.instrumenter||"sentry",s=t.instrumenter||"sentry";r!==s&&(Gn&&un.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${r}\` instrumenter.
The transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),t.sampled=!1);let o=new K$(t,this);return o=X$(o,i,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),o.isRecording()&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function t5(){const t=Fc();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=e5),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=J$),H$())}function n5(){const t=Fc();if(!t.__SENTRY__)return;const e={mongodb(){const i=Uo(module,"./node/integrations/mongo");return new i.Mongo},mongoose(){const i=Uo(module,"./node/integrations/mongo");return new i.Mongo},mysql(){const i=Uo(module,"./node/integrations/mysql");return new i.Mysql},pg(){const i=Uo(module,"./node/integrations/postgres");return new i.Postgres}},n=Object.keys(e).filter(i=>!!v$(i)).map(i=>{try{return e[i]()}catch{return}}).filter(i=>i);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function i5(){t5(),y$()&&n5()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&i5();const r5=()=>{{console.log("Sentry not initialized: VITE_SENTRY_DSN not provided");return}},et={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"},WT={[et.VALIDATION_ERROR]:"I dati inseriti non sono validi. Controlla i campi evidenziati.",[et.NETWORK_ERROR]:"Errore di connessione. Verifica la tua connessione internet.",[et.AUTHENTICATION_ERROR]:"Sessione scaduta. Effettua nuovamente l'accesso.",[et.AUTHORIZATION_ERROR]:"Non hai i permessi per eseguire questa operazione.",[et.NOT_FOUND_ERROR]:"La risorsa richiesta non è stata trovata.",[et.SERVER_ERROR]:"Errore del server. Riprova più tardi.",[et.BUSINESS_LOGIC_ERROR]:"Operazione non consentita dalle regole di business.",[et.UNKNOWN_ERROR]:"Si è verificato un errore imprevisto."};class yt extends Error{constructor(e,n=et.UNKNOWN_ERROR,i=500,r={}){super(e),this.name="AppError",this.type=n,this.statusCode=i,this.context=r,this.timestamp=new Date().toISOString(),this.userMessage=WT[n]||WT[et.UNKNOWN_ERROR]}toJSON(){return{message:this.message,type:this.type,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage}}}const sk=6048e5,s5=864e5,a5=36e5,YT=Symbol.for("constructDateFrom");function rs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&YT in t?t[YT](e):t instanceof Date?new t.constructor(e):new Date(e)}function ti(t,e){return rs(e||t,t)}function $d(t,e,n){const i=ti(t,n?.in);return isNaN(e)?rs(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function o5(t,e,n){return rs(t,+ti(t)+e)}function QT(t,e,n){return o5(t,e*a5)}let l5={};function yp(){return l5}function Qo(t,e){const n=yp(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=ti(t,e?.in),s=r.getDay(),o=(s<i?7:0)+s-i;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Dg(t,e){return Qo(t,{...e,weekStartsOn:1})}function ak(t,e){const n=ti(t,e?.in),i=n.getFullYear(),r=rs(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=Dg(r),o=rs(n,0);o.setFullYear(i,0,4),o.setHours(0,0,0,0);const c=Dg(o);return n.getTime()>=s.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function KT(t){const e=ti(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function c5(t,...e){const n=rs.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function XT(t,e){const n=ti(t,e?.in);return n.setHours(0,0,0,0),n}function u5(t,e,n){const[i,r]=c5(n?.in,t,e),s=XT(i),o=XT(r),c=+s-KT(s),u=+o-KT(o);return Math.round((c-u)/s5)}function d5(t,e){const n=ak(t,e),i=rs(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Dg(i)}function ok(t,e,n){return $d(t,e*7,n)}function f5(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function h5(t){return!(!f5(t)&&typeof t!="number"||isNaN(+ti(t)))}function g5(t,e){const n=ti(t,e?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function lk(t,e){const n=ti(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const p5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},m5=(t,e,n)=>{let i;const r=p5[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Iv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const y5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},v5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},b5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_5={date:Iv({formats:y5,defaultWidth:"full"}),time:Iv({formats:v5,defaultWidth:"full"}),dateTime:Iv({formats:b5,defaultWidth:"full"})},S5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},w5=(t,e,n,i)=>S5[t];function Hu(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):o;r=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;r=t.values[c]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const x5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D5=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},O5={ordinalNumber:D5,era:Hu({values:x5,defaultWidth:"wide"}),quarter:Hu({values:E5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hu({values:C5,defaultWidth:"wide"}),day:Hu({values:T5,defaultWidth:"wide"}),dayPeriod:Hu({values:A5,defaultWidth:"wide",formattingValues:R5,defaultFormattingWidth:"wide"})};function Bu(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],c=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?M5(c,p=>p.test(o)):k5(c,p=>p.test(o));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function k5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function M5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function N5(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const c=e.slice(r.length);return{value:o,rest:c}}}const I5=/^(\d+)(th|st|nd|rd)?/i,j5=/\d+/i,P5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L5={any:[/^b/i,/^(a|c)/i]},z5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},U5={any:[/1/i,/2/i,/3/i,/4/i]},F5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},B5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},V5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},q5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},G5={ordinalNumber:N5({matchPattern:I5,parsePattern:j5,valueCallback:t=>parseInt(t,10)}),era:Bu({matchPatterns:P5,defaultMatchWidth:"wide",parsePatterns:L5,defaultParseWidth:"any"}),quarter:Bu({matchPatterns:z5,defaultMatchWidth:"wide",parsePatterns:U5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Bu({matchPatterns:F5,defaultMatchWidth:"wide",parsePatterns:H5,defaultParseWidth:"any"}),day:Bu({matchPatterns:B5,defaultMatchWidth:"wide",parsePatterns:V5,defaultParseWidth:"any"}),dayPeriod:Bu({matchPatterns:$5,defaultMatchWidth:"any",parsePatterns:q5,defaultParseWidth:"any"})},W5={code:"en-US",formatDistance:m5,formatLong:_5,formatRelative:w5,localize:O5,match:G5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y5(t,e){const n=ti(t,e?.in);return u5(n,lk(n))+1}function Q5(t,e){const n=ti(t,e?.in),i=+Dg(n)-+d5(n);return Math.round(i/sk)+1}function ck(t,e){const n=ti(t,e?.in),i=n.getFullYear(),r=yp(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=rs(e?.in||t,0);o.setFullYear(i+1,0,s),o.setHours(0,0,0,0);const c=Qo(o,e),u=rs(e?.in||t,0);u.setFullYear(i,0,s),u.setHours(0,0,0,0);const d=Qo(u,e);return+n>=+c?i+1:+n>=+d?i:i-1}function K5(t,e){const n=yp(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=ck(t,e),s=rs(e?.in||t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),Qo(s,e)}function X5(t,e){const n=ti(t,e?.in),i=+Qo(n,e)-+K5(n,e);return Math.round(i/sk)+1}function Ot(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Ta={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Ot(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ot(n+1,2)},d(t,e){return Ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ot(t.getHours()%12||12,e.length)},H(t,e){return Ot(t.getHours(),e.length)},m(t,e){return Ot(t.getMinutes(),e.length)},s(t,e){return Ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return Ot(r,e.length)}},tc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZT={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Ta.y(t,e)},Y:function(t,e,n,i){const r=ck(t,i),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return Ot(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ot(s,e.length)},R:function(t,e){const n=ak(t);return Ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ot(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ot(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ot(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Ta.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ot(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=X5(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Ot(r,e.length)},I:function(t,e,n){const i=Q5(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Ot(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ta.d(t,e)},D:function(t,e,n){const i=Y5(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ot(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ot(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ot(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Ot(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=tc.noon:i===0?r=tc.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=tc.evening:i>=12?r=tc.afternoon:i>=4?r=tc.morning:r=tc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Ta.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ta.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ot(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ot(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ta.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ta.s(t,e)},S:function(t,e){return Ta.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return eA(i);case"XXXX":case"XX":return Ro(i);case"XXXXX":case"XXX":default:return Ro(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return eA(i);case"xxxx":case"xx":return Ro(i);case"xxxxx":case"xxx":default:return Ro(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+JT(i,":");case"OOOO":default:return"GMT"+Ro(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+JT(i,":");case"zzzz":default:return"GMT"+Ro(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return Ot(i,e.length)},T:function(t,e,n){return Ot(+t,e.length)}};function JT(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+Ot(s,2)}function eA(t,e){return t%60===0?(t>0?"-":"+")+Ot(Math.abs(t)/60,2):Ro(t,e)}function Ro(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Ot(Math.trunc(i/60),2),s=Ot(i%60,2);return n+r+e+s}const tA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},uk=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Z5=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return tA(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",tA(i,e)).replace("{{time}}",uk(r,e))},J5={p:uk,P:Z5},e3=/^D+$/,t3=/^Y+$/,n3=["D","DD","YY","YYYY"];function i3(t){return e3.test(t)}function r3(t){return t3.test(t)}function s3(t,e,n){const i=a3(t,e,n);if(console.warn(i),n3.includes(t))throw new RangeError(i)}function a3(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c3=/^'([^]*?)'?$/,u3=/''/g,d3=/[a-zA-Z]/;function Wn(t,e,n){const i=yp(),r=i.locale??W5,s=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=ti(t,n?.in);if(!h5(c))throw new RangeError("Invalid time value");let u=e.match(l3).map(h=>{const p=h[0];if(p==="p"||p==="P"){const m=J5[p];return m(h,r.formatLong)}return h}).join("").match(o3).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const p=h[0];if(p==="'")return{isToken:!1,value:f3(h)};if(ZT[p])return{isToken:!0,value:h};if(p.match(d3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(u=r.localize.preprocessor(c,u));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return u.map(h=>{if(!h.isToken)return h.value;const p=h.value;(r3(p)||i3(p))&&s3(p,e,String(t));const m=ZT[p[0]];return m(c,p,r.localize,d)}).join("")}function f3(t){const e=t.match(c3);return e?e[1].replace(u3,"'"):t}function h3(t,e){return ti(t,e?.in).getDay()}function g3(t,e){return+ti(t)>+ti(e)}function p3(t,e,n){return ok(t,-1,n)}class m3{async init(){try{const{error:e}=await gn.from("machines").select("count").limit(1);if(e)throw new yt(`API initialization failed: ${e.message}`,et.SERVER_ERROR,500,e,"API.init");return!0}catch(e){throw e instanceof yt?e:new yt(`API initialization failed: ${e.message}`,et.SERVER_ERROR,500,e,"API.init")}}async getMachines(){return dV(async()=>{const{data:e,error:n}=await gn.from("machines").select("*").order("machine_name");if(n)throw n;return e||[]},"getMachines")}async addMachine(e){try{const{data:n,error:i}=await gn.from("machines").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new yt(`Failed to add machine: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.addMachine")}}async updateMachine(e,n){try{const{data:i,error:r}=await gn.from("machines").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new yt(`Failed to update machine: ${Mn(i)}`,et.SERVER_ERROR,500,i,"API.updateMachine")}}async removeMachine(e){try{const{error:n}=await gn.from("machines").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new yt(`Failed to remove machine: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.removeMachine")}}async getOdpOrders(){try{const{data:e,error:n}=await gn.from("odp_orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){throw new yt(`Failed to fetch ODP orders: ${Mn(e)}`,et.SERVER_ERROR,500,e,"API.getOdpOrders")}}async getOdpOrder(e){try{const{data:n,error:i}=await gn.from("odp_orders").select("*").eq("id",e).single();if(i)throw i;return n}catch(n){throw new yt(`Failed to fetch ODP order: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.getOdpOrder")}}async addOdpOrder(e){try{const{data:n,error:i}=await gn.from("odp_orders").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new yt(`Failed to add ODP order: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.addOdpOrder")}}async updateOdpOrder(e,n){try{const{data:i,error:r}=await gn.from("odp_orders").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new yt(`Failed to update ODP order: ${Mn(i)}`,et.SERVER_ERROR,500,i,"API.updateOdpOrder")}}async removeOdpOrder(e){try{const{error:n}=await gn.from("odp_orders").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new yt(`Failed to remove ODP order: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.removeOdpOrder")}}async getPhases(){try{const{data:e,error:n}=await gn.from("phases").select("*").order("name");if(n)throw n;return e||[]}catch(e){throw new yt(`Failed to fetch phases: ${Mn(e)}`,et.SERVER_ERROR,500,e,"API.getPhases")}}async addPhase(e){try{const{data:n,error:i}=await gn.from("phases").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new yt(`Failed to add phase: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.addPhase")}}async updatePhase(e,n){try{const{data:i,error:r}=await gn.from("phases").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new yt(`Failed to update phase: ${Mn(i)}`,et.SERVER_ERROR,500,i,"API.updatePhase")}}async removePhase(e){try{const{error:n}=await gn.from("phases").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new yt(`Failed to remove phase: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.removePhase")}}async getMachineAvailabilityForDateRange(e,n,i){try{const{data:r,error:s}=await gn.from("machine_availability").select("*").eq("machine_id",e).gte("date",n).lte("date",i).order("date");if(s)throw s;return r||[]}catch(r){throw new yt(`Failed to fetch machine availability for date range: ${Mn(r)}`,et.SERVER_ERROR,500,r,"API.getMachineAvailabilityForDateRange")}}async getMachineAvailabilityForDate(e,n){try{const{data:i,error:r}=await gn.from("machine_availability").select("*").eq("machine_id",e).eq("date",n).maybeSingle();if(r)throw r;return i||null}catch(i){throw new yt(`Failed to fetch machine availability: ${Mn(i)}`,et.SERVER_ERROR,500,i,"API.getMachineAvailabilityForDate")}}async getMachineAvailability(e,n){try{return(await this.getMachineAvailabilityForDate(e,n))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(e,n,i){try{const{data:r,error:s}=await gn.from("machine_availability").upsert([{machine_id:e,date:n,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(s)throw s;return r}catch(r){throw new yt(`Failed to set machine availability: ${Mn(r)}`,et.SERVER_ERROR,500,r,"API.setMachineAvailability")}}async getMachineAvailabilityForDateAllMachines(e){try{const{data:n,error:i}=await gn.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new yt(`Failed to fetch machine availability for all machines: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.getMachineAvailabilityForDateAllMachines")}}async getEventsByDate(e){try{const{data:n,error:i}=await gn.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new yt(`Failed to fetch events by date: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.getEventsByDate")}}async setUnavailableHoursForRange(e,n,i,r,s){try{const o=parseInt(r.split(":")[0]),c=parseInt(s.split(":")[0]),u=[];for(let y=o;y<c;y++)u.push(y.toString());const d=new Date(n),h=new Date(i);let p=new Date(d);const m=[];for(;p<=h;){const y=Wn(p,"yyyy-MM-dd"),S=(await this.getMachineAvailabilityForDate(e,y))?.unavailable_hours||[],w=[...new Set([...S,...u])].sort((E,A)=>parseInt(E)-parseInt(A)),x=await this.setMachineAvailability(e,y,w);m.push(x),p=$d(p,1)}return m}catch(o){throw new yt(`Failed to set unavailable hours for range: ${Mn(o)}`,et.SERVER_ERROR,500,o,"API.setUnavailableHoursForRange")}}async bulkUpsertMachineAvailability(e){try{const{error:n}=await gn.from("machine_availability").upsert(e,{onConflict:"machine_id,date"});if(n)throw n;return{success:!0}}catch(n){throw new yt(`Failed to bulk set machine availability: ${Mn(n)}`,et.SERVER_ERROR,500,n,"API.bulkUpsertMachineAvailability")}}setupRealtimeSubscriptions(e,n,i){return gn.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},e).on("postgres_changes",{event:"*",schema:"public",table:"machines"},n).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i).subscribe(s=>{})}cleanupRealtimeSubscriptions(e){if(e)try{e.unsubscribe()}catch{}}}const vt=new m3,Xb=Object.freeze(Object.defineProperty({__proto__:null,apiService:vt},Symbol.toStringTag,{value:"Module"})),Xt={MACHINE:{DEPARTMENT:"STAMPA",WORK_CENTER:"ZANICA",MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:["T1"],STATUS:"ACTIVE"},PHASE:{DEPARTMENT:"STAMPA",NUMERO_PERSONE:1,WORK_CENTER:"ZANICA",V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:3,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},y3={MAX_TASK_SEGMENTS:50},At=rl((t,e)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:localStorage.getItem("selectedWorkCenter")||_t.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},getLoadingState:()=>e().isLoading,getInitializationState:()=>e().isInitialized,getSelectedWorkCenter:()=>e().selectedWorkCenter,getEditMode:()=>e().isEditMode,getConfirmDialog:()=>e().confirmDialog,getConflictDialog:()=>e().conflictDialog,getSchedulingLoading:()=>e().schedulingLoading,getDragPreview:()=>e().dragPreview,setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),setSelectedWorkCenter:n=>{localStorage.setItem("selectedWorkCenter",n),t({selectedWorkCenter:n})},toggleEditMode:()=>t(n=>({isEditMode:!n.isEditMode})),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>t({schedulingLoading:n}),startSchedulingOperation:(n,i=null)=>t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:i}}),stopSchedulingOperation:()=>t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}}),showConfirmDialog:(n,i,r,s="danger")=>t({confirmDialog:{isOpen:!0,title:n,message:i,onConfirm:r,type:s}}),hideConfirmDialog:()=>t({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),showConflictDialog:n=>t({conflictDialog:{isOpen:!0,details:n}}),hideConflictDialog:()=>t({conflictDialog:{isOpen:!1,details:null}}),setDragPreview:n=>t({dragPreview:n}),clearDragPreview:()=>t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}}),showAlert:(n,i="info")=>{cV(n,i)},reset:()=>t({isLoading:!1,isInitialized:!1,selectedWorkCenter:_t.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})}));class v3{constructor(e,n){this.get=e,this.set=n}setSplitTaskInfo=(e,n)=>{this.set(i=>({splitTasksInfo:{...i.splitTasksInfo,[e]:n}}))};getSplitTaskInfo=e=>{const n=this.get().splitTasksInfo[e];if(n&&n.segments)return n;const{getOrderById:i}=ln.getState(),r=i(e);if(r&&r.description&&r.status==="SCHEDULED")try{const s=JSON.parse(r.description);if(s.segments&&Array.isArray(s.segments))return setTimeout(()=>{this.setSplitTaskInfo(e,s)},0),s}catch{}return null};clearSplitTaskInfo=e=>{this.set(n=>{const i={...n.splitTasksInfo};return delete i[e],{splitTasksInfo:i}})};updateTaskWithSplitInfo=async(e,n,i=null,r=null,s=null)=>{const{apiService:o}=await Ur(async()=>{const{apiService:c}=await Promise.resolve().then(()=>Xb);return{apiService:c}},void 0);if(n){this.setSplitTaskInfo(e,n);const u={description:JSON.stringify(n),status:"SCHEDULED"};if(i&&(u.scheduled_start_time=i.toISOString()),r&&(u.scheduled_end_time=r.toISOString()),s&&(u.scheduled_machine_id=s),!(u.scheduled_start_time&&u.scheduled_end_time&&u.scheduled_machine_id))if(!u.scheduled_start_time&&!u.scheduled_end_time&&!u.scheduled_machine_id)delete u.scheduled_start_time,delete u.scheduled_end_time,delete u.scheduled_machine_id,u.status="NOT SCHEDULED";else{const{getOrderById:h}=ln.getState(),p=h(e);p&&(u.scheduled_start_time||(u.scheduled_start_time=p.scheduled_start_time),u.scheduled_end_time||(u.scheduled_end_time=p.scheduled_end_time),u.scheduled_machine_id||(u.scheduled_machine_id=p.scheduled_machine_id))}const d=await o.updateOdpOrder(e,u);this.updateSplitTaskInfo(e,d)}else{this.clearSplitTaskInfo(e);const c=await o.updateOdpOrder(e,{description:""});this.updateSplitTaskInfo(e,c)}};updateSplitTaskInfo=(e,n)=>{if(this.clearSplitTaskInfo(e),n.description&&n.status==="SCHEDULED")try{const i=JSON.parse(n.description);i.segments&&Array.isArray(i.segments)?this.validateSegments(i.segments.map(s=>({start:new Date(s.start),end:new Date(s.end),duration:s.duration}))).isValid?this.setSplitTaskInfo(e,i):this.clearSplitTaskInfo(e):this.clearSplitTaskInfo(e)}catch{this.clearSplitTaskInfo(e)}else this.clearSplitTaskInfo(e)};restoreSplitTaskInfo=()=>{const{getOdpOrders:e}=ln.getState(),n=e(),i={};let r=0;n.forEach(s=>{if(s.description&&s.status==="SCHEDULED")try{const o=JSON.parse(s.description);o.segments&&Array.isArray(o.segments)&&(i[s.id]=o,r++)}catch{}}),this.set({splitTasksInfo:i})};validateSegments=e=>{if(!Array.isArray(e)||e.length===0)return{isValid:!1,error:"Segments must be a non-empty array"};for(let n=0;n<e.length;n++){const i=e[n];if(!i.start||!i.end||i.duration===void 0)return{isValid:!1,error:`Segment ${n} missing required properties (start, end, duration)`};const r=new Date(i.start),s=new Date(i.end);if(isNaN(r.getTime())||isNaN(s.getTime()))return{isValid:!1,error:`Segment ${n} has invalid date values`};if(s<=r)return{isValid:!1,error:`Segment ${n} end time must be after start time`};if(i.duration<=0)return{isValid:!1,error:`Segment ${n} duration must be positive`};if(n>0){const o=e[n-1],c=new Date(o.end);if(r<c)return{isValid:!1,error:`Segment ${n} overlaps with previous segment`}}}return{isValid:!0}};createSegmentInfo=(e,n)=>{const i=this.validateSegments(e);if(!i.isValid)throw new Error(`Invalid segments: ${i.error}`);return{totalSegments:e.length,segments:e.map(r=>({start:r.start.toISOString(),end:r.end.toISOString(),duration:r.duration})),originalDuration:n,wasSplit:e.length>1}};getTaskOccupiedSegments=e=>{const n=this.getSplitTaskInfo(e.id);if(n&&n.segments)return n.segments.map(i=>({start:new Date(i.start),end:new Date(i.end),duration:i.duration}));if(e.description)try{const i=JSON.parse(e.description);if(i.segments&&Array.isArray(i.segments))return i.segments.map(r=>({start:new Date(r.start),end:new Date(r.end),duration:r.duration}))}catch{}if(e.scheduled_start_time){const i=new Date(e.scheduled_start_time),r=e.time_remaining||e.duration||1,s=new Date(i.getTime()+r*60*60*1e3);return[{start:i,end:s,duration:r}]}return[]};doTimeRangesOverlap=(e,n,i,r)=>e<r&&n>i;checkTaskOverlap=(e,n,i)=>{const r=this.getTaskOccupiedSegments(i);for(const s of r)if(this.doTimeRangesOverlap(e,n,s.start,s.end))return{hasOverlap:!0,conflictingSegment:s,existingTask:i};return{hasOverlap:!1}};checkMachineOverlaps=(e,n,i,r=null,s=[])=>{const{getOdpOrders:o}=ln.getState(),c=[r,...s].filter(h=>h),d=o().filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&!c.includes(h.id)&&h.scheduled_start_time&&h.scheduled_end_time&&h.scheduled_machine_id).sort((h,p)=>{const m=this.getTaskOccupiedSegments(h),y=this.getTaskOccupiedSegments(p),_=m.length>0?m[0].start:new Date(h.scheduled_start_time),S=y.length>0?y[0].start:new Date(p.scheduled_start_time);return _.getTime()-S.getTime()});for(const h of d){const p=this.checkTaskOverlap(e,n,h);if(p.hasOverlap)return{hasOverlap:!0,conflictingTask:h,conflictingSegment:p.conflictingSegment}}return{hasOverlap:!1}};migrateExistingTasksToSegmentFormat=async()=>{const{getOdpOrders:e}=ln.getState(),n=e();for(const i of n)if(i.status==="SCHEDULED"&&i.scheduled_start_time){const r=this.getSplitTaskInfo(i.id);if(r&&r.segments)continue;if(i.description)try{const h=JSON.parse(i.description);if(h.segments&&Array.isArray(h.segments)){this.setSplitTaskInfo(i.id,h);continue}}catch{}const s=new Date(i.scheduled_start_time),o=i.time_remaining||i.duration||1,c=new Date(s.getTime()+o*60*60*1e3),u=[{start:s,end:c,duration:o}],d=this.createSegmentInfo(u,o);await this.updateTaskWithSplitInfo(i.id,d)}};verifyAllTasksHaveSegmentInfo=()=>{const{getOdpOrders:e}=ln.getState(),i=e().filter(s=>s.status==="SCHEDULED"),r=[];for(const s of i){const o=this.getSplitTaskInfo(s.id);(!o||!o.segments)&&r.push({id:s.id,odp_number:s.odp_number,description:s.description})}return{totalScheduledTasks:i.length,tasksWithSegments:i.length-r.length,tasksWithoutSegments:r}}}class b3{constructor(e,n,i,r){this.get=e,this.set=n,this.splitTaskManager=i,this.machineAvailabilityManager=r}createAbsoluteDate=(e,n,i,r=0,s=0)=>new Date(Date.UTC(e,n-1,i,r,s,0,0));splitTaskAcrossAvailableSlots=(e,n,i,r)=>{try{const s=[];let o=new Date(e),c=n,u=!0;for(;u;){u=!1;for(const d of r)if(o>=d.start&&o<d.end){o=new Date(d.end),u=!0;break}}for(;c>0;){let d=null,h=null,p=null;for(const m of r){const y=new Date(m.start),_=new Date(m.end);y>=o&&(!d||y<h)&&(d=m,h=y,p=_)}if(d){const m=(h.getTime()-o.getTime())/36e5;if(m>0){const _=Math.min(m,c),S=new Date(o.getTime()+_*60*60*1e3);s.push({start:new Date(o),end:S,duration:_}),c-=_}o=new Date(p);let y=!0;for(;y;){y=!1;for(const _ of r)if(o>=_.start&&o<_.end){o=new Date(_.end),y=!0;break}}}else{const m=new Date(o.getTime()+c*60*60*1e3);s.push({start:new Date(o),end:m,duration:c}),c=0}if(s.length>y3.MAX_TASK_SEGMENTS){console.warn("Task splitting exceeded maximum segments limit");break}}return s}catch(s){return console.error("Error in splitTaskAcrossAvailableSlots:",s),[]}};splitTaskAcrossAvailableSlotsBackward=(e,n,i,r)=>{try{const s=[];let o=new Date(e),c=n,u=!0;for(;u;){u=!1;for(const h of r)if(o>h.start&&o<=h.end){o=new Date(h.start),u=!0;break}}for(;c>0;){let h=null,p=null,m=null;for(const E of r){const A=new Date(E.start),I=new Date(E.end);I<=o&&(!h||I>m)&&(h=E,p=A,m=I)}let y;h?y=new Date(m):y=new Date(o.getTime()-c*60*60*1e3);let _=!0;for(;_;){_=!1;for(const E of r)if(y<E.end&&y>=E.start){y=new Date(E.end),_=!0;break}}const S=(o.getTime()-y.getTime())/(1e3*60*60);if(S<=0){o=h?new Date(p):new Date(o.getTime()-3600*1e3);continue}const w=Math.min(S,c),x=new Date(o.getTime()-w*60*60*1e3);s.push({start:x,end:new Date(o),duration:w}),c-=w,o=new Date(x)}return s.reverse()}catch(s){return console.error("Error in splitTaskAcrossAvailableSlotsBackward:",s),[]}};collectUnavailableSlots=(e,n,i)=>{const r=[],s=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),o=this.createAbsoluteDate(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()),c=new Date(o);c.setUTCDate(c.getUTCDate()+7);let u=new Date(s);for(;u<=c;){const d=Wn(u,"yyyy-MM-dd"),h=this.get().machineAvailability[d];if(h&&Array.isArray(h)){const p=h.find(m=>m.machine_id===i);if(p&&p.unavailable_hours&&Array.isArray(p.unavailable_hours)){const[m,y,_]=d.split("-").map(Number);for(const S of p.unavailable_hours){const w=this.createAbsoluteDate(m,y,_,parseInt(S),0),x=new Date(w.getTime()+3600*1e3);r.push({start:w,end:x,hour:parseInt(S),date:d})}}}u.setUTCDate(u.getUTCDate()+1)}return r.sort((d,h)=>d.start.getTime()-h.start.getTime())};loadMachineAvailabilityForExtendedRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()+n*60*60*1e3),o=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),c=new Date(o);c.setUTCDate(c.getUTCDate()+7);let u=new Date(r);for(;u<=c;){const d=Wn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return c};loadMachineAvailabilityForBackwardRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()-n*60*60*1e3),o=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),c=new Date(o);c.setUTCDate(c.getUTCDate()-7);let u=new Date(c);for(;u<=r;){const d=Wn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return{taskStartDateWithBuffer:c,taskEndDate:r}};checkSegmentsForOverlaps=(e,n,i,r=[])=>{[i,...r].filter(s=>s);for(const s of e){const o=this.splitTaskManager.checkMachineOverlaps(s.start,s.end,n,i,r);if(o.hasOverlap)return{hasOverlap:!0,conflictingSegment:s,conflictingTask:o.conflictingTask,conflictingExistingSegment:o.conflictingSegment}}return{hasOverlap:!1}};scheduleTaskWithSplitting=async(e,n,i,r,s=[])=>{const o=await this.loadMachineAvailabilityForExtendedRange(n,i,r),c=this.collectUnavailableSlots(n,o,r),u=new Date(n.getTime()+i*60*60*1e3);if(c.some(h=>n<h.end&&u>h.start)){const h=this.splitTaskAcrossAvailableSlots(n,i,r,c);if(h.length>0){const p=this.checkSegmentsForOverlaps(h,r,e,s);if(p.hasOverlap)return{conflict:!0,conflictingTask:p.conflictingTask,conflictingSegment:p.conflictingExistingSegment,proposedSegments:h};const m=h[0],y=h[h.length-1];if(!m?.start||!y?.end)return console.error("Invalid segments returned from splitTaskAcrossAvailableSlots:",h),null;const _=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,_,m.start,y.end,r),{startTime:m.start,endTime:y.end,wasSplit:!0,segments:h,originalDuration:i}}}else{const h=[{start:n,end:u,duration:i}],p=this.checkSegmentsForOverlaps(h,r,e,s);if(p.hasOverlap)return{conflict:!0,conflictingTask:p.conflictingTask,conflictingSegment:p.conflictingExistingSegment,proposedSegments:h};const m=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,m,n,u,r),{startTime:n,endTime:u,wasSplit:!1,segments:h,originalDuration:i}}return null};scheduleTaskEndingAtWithSplitting=async(e,n,i,r,s=[])=>{const{taskStartDateWithBuffer:o,taskEndDate:c}=await this.loadMachineAvailabilityForBackwardRange(n,i,r),u=this.collectUnavailableSlots(o,c,r),d=this.splitTaskAcrossAvailableSlotsBackward(n,i,r,u);if(d.length===0)return null;const h=this.checkSegmentsForOverlaps(d,r,e,s);if(h.hasOverlap)return{conflict:!0,conflictingTask:h.conflictingTask,conflictingSegment:h.conflictingExistingSegment,proposedSegments:d};const p=this.splitTaskManager.createSegmentInfo(d,i),m=d[0],y=d[d.length-1];return!m?.start||!y?.end?(console.error("Invalid segments returned from splitTaskAcrossAvailableSlotsBackward:",d),null):(await this.splitTaskManager.updateTaskWithSplitInfo(e,p,m.start,y.end,r),{startTime:m.start,endTime:y.end,wasSplit:d.length>1,segments:d,originalDuration:i})};handleTaskDurationShrinking=async(e,n,i,r={})=>{try{console.log("🔄 DURATION SHRINKING: Starting cascading rescheduling for task",e),console.log("📊 DURATION SHRINKING: New duration:",n,"hours");const{getOrderById:s,getOdpOrders:o}=ln.getState(),{getMachineById:c}=br.getState(),u=s(e),d=c(i),h=o();if(!u||!d)return{success:!1,error:"Task or machine not found"};if(!u.scheduled_start_time||!u.scheduled_end_time)return{success:!1,error:"Task is not scheduled"};const p=new Date(u.scheduled_start_time),m=u.duration,y=new Date(p.getTime()+m*60*60*1e3);console.log("📅 DURATION SHRINKING: Original end time (pre-shrinking):",y.toISOString()),console.log("📅 DURATION SHRINKING: Original duration:",m,"New duration:",n);const _=this.findCascadingChain(e,y,i,h);console.log("🔄 DURATION SHRINKING: Found cascading chain of",_.length,"tasks to reschedule"),console.log("📋 DURATION SHRINKING: Chain tasks:",_.map(O=>O.odp_number));const S=u.quantity_completed/u.quantity||0,w=n*(1-S);console.log("📊 DURATION SHRINKING: Calculated time_remaining:",w,"from new duration:",n,"and progress:",S),console.log("📊 DURATION SHRINKING: Progress calculation:",u.quantity_completed,"/",u.quantity,"=",S),console.log("🔄 DURATION SHRINKING: Rescheduling original task with new time_remaining");const x=await this.scheduleTaskWithSplitting(e,p,w,i,[]);if(!x)return console.error("❌ DURATION SHRINKING: Failed to reschedule original task"),{success:!1,error:"Failed to reschedule original task. Not enough space available.",rescheduledTasks:[]};if(x.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling original task"),{success:!1,error:"Conflict detected while rescheduling original task. Consider using conflict resolution.",rescheduledTasks:[]};await this.splitTaskManager.updateTaskWithSplitInfo(e,x.segments?{segments:x.segments,totalSegments:x.segments.length,originalDuration:x.originalDuration||w,wasSplit:x.wasSplit||!1}:null,x.startTime,x.endTime,i);const E={duration:n,time_remaining:w,...r};console.log("💾 DURATION SHRINKING: Final update data:",E),await vt.updateOdpOrder(e,E);const A=[{id:e,odp_number:u.odp_number,new_start_time:x.startTime.toISOString(),new_end_time:x.endTime.toISOString(),was_split:x.wasSplit}];let I=new Date(x.endTime);const k=I.getUTCMinutes(),j=Math.ceil(k/15)*15;j===60?I.setUTCHours(I.getUTCHours()+1,0,0,0):I.setUTCMinutes(j,0,0);for(const O of _){console.log("🔄 DURATION SHRINKING: Rescheduling task",O.odp_number,"to start at",I.toISOString());const U=await this.scheduleTaskWithSplitting(O.id,I,O.time_remaining||O.duration||1,i,[e]);if(!U)return console.error("❌ DURATION SHRINKING: Failed to reschedule task",O.odp_number),{success:!1,error:`Failed to reschedule task ${O.odp_number}. Not enough space available.`,rescheduledTasks:A};if(U.conflict)return console.error("❌ DURATION SHRINKING: Conflict detected while rescheduling task",O.odp_number),{success:!1,error:`Conflict detected while rescheduling task ${O.odp_number}. Consider using conflict resolution.`,rescheduledTasks:A};await this.splitTaskManager.updateTaskWithSplitInfo(O.id,U.segments?{segments:U.segments,totalSegments:U.segments.length,originalDuration:U.originalDuration||O.time_remaining||O.duration||1,wasSplit:U.wasSplit||!1}:null,U.startTime,U.endTime,i),A.push({id:O.id,odp_number:O.odp_number,new_start_time:U.startTime.toISOString(),new_end_time:U.endTime.toISOString(),was_split:U.wasSplit}),I=new Date(U.endTime);const B=I.getUTCMinutes(),$=Math.ceil(B/15)*15;$===60?I.setUTCHours(I.getUTCHours()+1,0,0,0):I.setUTCMinutes($,0,0)}console.log("✅ DURATION SHRINKING: Successfully rescheduled",A.length,"tasks");const M=s(e);return{success:!0,message:`Successfully rescheduled ${A.length} tasks due to duration reduction`,rescheduledTasks:A,updatedTask:M}}catch(s){return console.error("❌ DURATION SHRINKING ERROR:",s),{success:!1,error:s.message||"Unknown error during duration shrinking",rescheduledTasks:[]}}};findCascadingChain=(e,n,i,r)=>{const s=[],o=new Set,c=r.filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&h.id!==e&&h.scheduled_start_time).sort((h,p)=>new Date(h.scheduled_start_time)-new Date(p.scheduled_start_time)),u=c.filter(h=>{const m=(new Date(h.scheduled_start_time).getTime()-n.getTime())/(1e3*60);return m>=0&&m<=15});console.log("🔍 DURATION SHRINKING: Initial candidates within 15 minutes:",u.map(h=>h.odp_number));const d=h=>{for(const p of c){if(o.has(p.id))continue;const m=new Date(p.scheduled_start_time),y=(m.getTime()-h.getTime())/(1e3*60);if(y>=0&&y<=15){o.add(p.id),s.push(p);const _=p.time_remaining||p.duration||1,S=new Date(m.getTime()+_*60*60*1e3);console.log("🔗 DURATION SHRINKING: Added to chain:",p.odp_number,"ends at",S.toISOString()),d(S)}}};return d(n),console.log("📋 DURATION SHRINKING: Complete chain found:",s.map(h=>h.odp_number)),s}}class _3{constructor(e,n,i,r){this.get=e,this.set=n,this.schedulingLogic=i,this.splitTaskManager=r}getTaskDurationMinutes=e=>Math.round((e.time_remaining||e.duration||1)*vh.MINUTES_PER_HOUR);getTaskEndTime=e=>{const n=new Date(e.scheduled_start_time),i=this.getTaskDurationMinutes(e);return new Date(n.getTime()+i*vh.MILLISECONDS_PER_MINUTE)};addMinutesToDate=(e,n)=>new Date(e.getTime()+n*vh.MILLISECONDS_PER_MINUTE);roundUpToNext15MinSlot=e=>{const n=e.getUTCMinutes(),i=e.getUTCHours(),r=Math.ceil(n/15)*15,s=new Date(e);return r===vh.MINUTES_PER_HOUR?s.setUTCHours(i+1,0,0,0):s.setUTCMinutes(r,0,0),s};scheduleTaskWithSplittingForShunt=async(e,n,i)=>await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,[e.id]);scheduleTaskWithSplittingForShuntExcluding=async(e,n,i,r,s=3)=>{const o=this.getTaskDurationMinutes(e)/60,c=r.filter(d=>d!==e.id),u=await this.schedulingLogic.scheduleTaskWithSplitting(e.id,n,o,i.id,c);return u&&!u.conflict?{startTime:u.startTime,endTime:u.endTime,wasSplit:u.wasSplit}:u&&u.conflict?(console.log(`🔄 CASCADING SHUNT: Task ${e.odp_number} conflicts with ${u.conflictingTask?.odp_number}, attempting cascading resolution`),s>0?await this.handleCascadingConflict(e,n,i,r,u,s-1):(console.warn(`⚠️ CASCADING SHUNT: Max depth reached for task ${e.odp_number}, returning conflict info`),{conflict:!0,conflictingTask:u.conflictingTask,conflictingSegment:u.conflictingSegment,proposedSegments:u.proposedSegments})):u?{startTime:n,endTime:this.addMinutesToDate(n,this.getTaskDurationMinutes(e)),wasSplit:!1}:null};handleCascadingConflict=async(e,n,i,r,s,o)=>{const c=s.conflictingTask,u=s.conflictingSegment;console.log(`🔄 CASCADING SHUNT: Attempting to shunt conflicting task ${c?.odp_number} to resolve conflict with ${e.odp_number}`);const d=new Date(n.getTime()+this.getTaskDurationMinutes(e)*60*1e3),h=this.roundUpToNext15MinSlot(d),p=[...r,c.id];try{const m=await this.scheduleTaskWithSplittingForShuntExcluding(c,h,i,p,o);if(m&&!m.conflict){console.log(`✅ CASCADING SHUNT: Successfully shunted conflicting task ${c.odp_number}`),await this.updateTaskSchedule(c.id,m.startTime,m.endTime);const y=await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,p,o);return y&&!y.conflict?(console.log(`✅ CASCADING SHUNT: Successfully scheduled original task ${e.odp_number} after resolving conflicts`),y):(console.warn(`⚠️ CASCADING SHUNT: Original task ${e.odp_number} still conflicts after shunting conflicting task`),y||{conflict:!0,conflictingTask:c,conflictingSegment:u,proposedSegments:s.proposedSegments})}else return console.warn(`⚠️ CASCADING SHUNT: Could not shunt conflicting task ${c?.odp_number}`),m||{conflict:!0,conflictingTask:c,conflictingSegment:u,proposedSegments:s.proposedSegments}}catch(m){return console.error("❌ CASCADING SHUNT: Error during cascading conflict resolution:",m),{conflict:!0,conflictingTask:c,conflictingSegment:u,proposedSegments:s.proposedSegments}}};updateTaskSchedule=async(e,n,i)=>{try{const{updateOrder:r}=ln.getState();await r(e,{scheduled_start_time:n.toISOString(),scheduled_end_time:i.toISOString()})}catch(r){console.error(`❌ CASCADING SHUNT: Failed to update task ${e} schedule:`,r)}};checkShuntingOverlaps=(e,n,i,r=[])=>{const s=i.filter(o=>o.scheduled_machine_id===n&&o.status==="SCHEDULED"&&!r.includes(o.id));for(const o of e)for(const c of s){const u=this.splitTaskManager.checkTaskOverlap(o.start,o.end,c);if(u.hasOverlap)return{hasOverlap:!0,conflictingTask:c,conflictingSegment:u.conflictingSegment,newTaskSegment:o}}return{hasOverlap:!1}};resolveConflictByShunting=async(e,n,i,r)=>{try{const{conflictingTask:s,proposedStartTime:o,machine:c}=e,u=new Date(o),d=i.filter(k=>k.scheduled_machine_id===c.id&&k.status==="SCHEDULED"&&k.id!==r.id).sort((k,j)=>{const M=this.splitTaskManager.getTaskOccupiedSegments(k),O=this.splitTaskManager.getTaskOccupiedSegments(j),U=M.length>0?M[0].start:new Date(k.scheduled_start_time),B=O.length>0?O[0].start:new Date(j.scheduled_start_time);return U-B}),h=d.findIndex(k=>k.id===s.id);if(h===-1)throw new yt("Conflicting task not found",et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const p=this.getTaskDurationMinutes(r),m=[];let y=!1;if(n==="right")for(let k=h;k<d.length&&!y;k++){const j=d[k];if(m.push(j),k<d.length-1){const M=d[k+1],O=this.splitTaskManager.getTaskOccupiedSegments(j),U=this.splitTaskManager.getTaskOccupiedSegments(M);if(O.length>0&&U.length>0){const B=Math.max(...O.map(ae=>ae.end.getTime())),$=Math.min(...U.map(ae=>ae.start.getTime()));Math.floor(($-B)/(60*1e3))>=p&&(y=!0)}}else y=!0}else for(let k=h;k>=0&&!y;k--){const j=d[k];if(m.unshift(j),k>0){const M=d[k-1],O=this.splitTaskManager.getTaskOccupiedSegments(M),U=this.splitTaskManager.getTaskOccupiedSegments(j);if(O.length>0&&U.length>0){const B=Math.max(...O.map(ae=>ae.end.getTime())),$=Math.min(...U.map(ae=>ae.start.getTime()));Math.floor(($-B)/(60*1e3))>=p&&(y=!0)}}else{const M=this.splitTaskManager.getTaskOccupiedSegments(j);if(M.length>0){const O=Math.min(...M.map($=>$.start.getTime())),U=new Date(O);if(U.setUTCHours(6,0,0,0),Math.floor((O-U.getTime())/(60*1e3))>=p)y=!0;else{const $=new Date(O),Q=new Date($);Q.setUTCHours(6,0,0,0),$.getTime()>Q.getTime()&&(y=!0)}}}}const _=new Set,S=new Set;for(const k of m)_.add(k.id),S.add(k.id);S.add(r.id);let w=0;const x=10;for(;w<x;){w++;let k=!1;const j=Array.from(_);for(const M of j){const O=d.find(ae=>ae.id===M)||r;if(!O)continue;let U;if(n==="right"){const ae=new Date(u.getTime()+p*60*1e3);if(U=this.roundUpToNext15MinSlot(ae),O.id!==r.id){const pe=Array.from(_).indexOf(M);if(pe>0){const ve=Array.from(_)[pe-1],F=d.find(re=>re.id===ve)||r,K=this.getTaskDurationMinutes(F),ue=new Date(U.getTime()+K*60*1e3);U=this.roundUpToNext15MinSlot(ue)}}}else{const ae=u,pe=this.getTaskDurationMinutes(O);U=this.roundUpToNext15MinSlot(this.addMinutesToDate(ae,-pe))}const B=this.getTaskDurationMinutes(O)/60,$=this.schedulingLogic.collectUnavailableSlots(U,new Date(U.getTime()+B*60*60*1e3),c.id);if($.some(ae=>U<ae.end&&new Date(U.getTime()+B*60*60*1e3)>ae.start)){const ae=this.schedulingLogic.splitTaskAcrossAvailableSlots(U,B,c.id,$);for(const pe of ae)for(const ve of d)!S.has(ve.id)&&ve.id!==O.id&&this.splitTaskManager.checkTaskOverlap(pe.start,pe.end,ve).hasOverlap&&(S.add(ve.id),_.add(ve.id),k=!0)}else{const ae=new Date(U.getTime()+B*60*60*1e3);for(const pe of d)!S.has(pe.id)&&pe.id!==O.id&&this.splitTaskManager.checkTaskOverlap(U,ae,pe).hasOverlap&&(S.add(pe.id),_.add(pe.id),k=!0)}}if(!k)break}if(w>=x)throw console.error(`🚨 SHUNTING ERROR: Maximum iterations (${x}) reached, possible infinite loop`),new yt("Too many conflicts detected during shunting",et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const E=d.filter(k=>_.has(k.id));if(m.length=0,m.push(...E),!y&&m.length===d.length){const k=this.getTaskDurationMinutes(r),j=m.length,M=c.machine_name||"Unknown Machine";console.warn(`⚠️ SHUNTING WARNING: No gap found for ${k} minutes on machine ${M}`),console.warn(`⚠️ All ${j} tasks on machine would need to be moved`),console.warn("⚠️ Attempting to schedule at earliest possible time...");const O=d[0],U=this.splitTaskManager.getTaskOccupiedSegments(O);if(U.length>0){const B=Math.min(...U.map(Q=>Q.start.getTime())),$=new Date(B);if($.setUTCHours(6,0,0,0),$.getTime()<B)y=!0;else throw console.error(`❌ SHUNTING FAILED: No space even at 6 AM on machine ${M}`),console.error("❌ Consider: 1) Moving to different machine, 2) Reducing task duration, 3) Scheduling on different day"),new yt(`Non c'è spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${k} minuti) richiederebbe di spostare tutti i ${j} lavori sulla macchina ${M}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}else throw new yt(`Non c'è spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${k} minuti) richiederebbe di spostare tutti i ${j} lavori sulla macchina ${M}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}const A=[];let I=null;if(n==="right"){const k=new Date(u),j=[...Array.from(S)];if(I=await this.scheduleTaskWithSplittingForShuntExcluding(r,k,c,j),I&&I.conflict)return console.warn(`⚠️ CASCADING SHUNT: Dragged task ${r.odp_number} still has conflicts after cascading resolution`),{error:`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Conflitti non risolvibili automaticamente.`,conflict:I.conflict,conflictingTask:I.conflictingTask,conflictingSegment:I.conflictingSegment};let M=I.endTime?this.roundUpToNext15MinSlot(I.endTime):new Date;for(const O of m){const U=[...Array.from(S)],B=await this.scheduleTaskWithSplittingForShuntExcluding(O,M,c,U);if(!B)throw console.error(`❌ Failed to schedule task ${O.odp_number} at ${M.toISOString()}`),new yt(`Impossibile programmare il task ${O.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(B&&B.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${O.odp_number} still has conflicts after cascading resolution`);continue}A.push({id:O.id,scheduled_start_time:B.startTime?.toISOString(),scheduled_end_time:B.endTime?.toISOString()}),B.endTime&&(M=this.roundUpToNext15MinSlot(B.endTime))}}else{const k=new Date(u);let j=this.roundUpToNext15MinSlot(this.addMinutesToDate(k,-1));for(let M=m.length-1;M>=0;M--){const O=m[M],U=[...Array.from(S)],B=await this.schedulingLogic.scheduleTaskEndingAtWithSplitting(O.id,j,this.getTaskDurationMinutes(O)/60,c.id,U);if(!B)throw console.error(`❌ Failed to schedule task ${O.odp_number} ending at ${j.toISOString()}`),new yt(`Impossibile programmare il task ${O.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(B&&B.conflict){console.warn(`⚠️ CASCADING SHUNT: Task ${O.odp_number} still has conflicts after cascading resolution (LEFT direction)`);continue}A.push({id:O.id,scheduled_start_time:B.startTime?.toISOString(),scheduled_end_time:B.endTime?.toISOString()}),B.startTime&&(j=this.roundUpToNext15MinSlot(this.addMinutesToDate(B.startTime,-1)))}}if(!I){const k=new Date(u),j=[...Array.from(S)];I=await this.scheduleTaskWithSplittingForShuntExcluding(r,k,c,j)}if(!I)throw console.error(`❌ Failed to schedule dragged task ${r.odp_number} at ${proposedStart.toISOString()}`),new yt(`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Non c'è spazio sufficiente.`,et.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");A.push({id:r.id,scheduled_machine_id:c.id,scheduled_start_time:I.startTime?.toISOString(),scheduled_end_time:I.endTime?.toISOString(),status:"SCHEDULED"});for(const k of A)await vt.updateOdpOrder(k.id,k);return At.getState().hideConflictDialog(),At.getState().showAlert("Lavori riprogrammati con successo","success"),{success:!0}}catch(s){return console.error("❌ SHUNTING ERROR:",s),{error:(s instanceof yt?s:new yt(s.message||"Errore durante la riprogrammazione",et.BUSINESS_LOGIC_ERROR,400,s,"ConflictResolution.resolveConflictByShunting")).message}}}}class S3{constructor(e,n){this.get=e,this.set=n,this.updateLocks=new Map}getLockKey=(e,n)=>`${e}-${n}`;acquireLock=async(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.has(i)&&await this.updateLocks.get(i);let r;const s=new Promise(o=>{r=o});return this.updateLocks.set(i,s),r};releaseLock=(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.delete(i)};loadMachineAvailabilityForDate=async e=>{const{machineAvailability:n}=this.get();if(!n[e]?._loading&&!(n[e]&&n[e].length>=0)){this.set(i=>({machineAvailability:{...i.machineAvailability,[e]:{_loading:!0}}}));try{const i=await vt.getMachineAvailabilityForDateAllMachines(e);this.set(r=>({machineAvailability:{...r.machineAvailability,[e]:i||[]}}))}catch(i){throw this.set(r=>{const s={...r.machineAvailability};return s[e]&&delete s[e]._loading,{machineAvailability:s}}),i}}};loadMachineAvailabilityForDateRange=async(e,n,i)=>{const r=n instanceof Date?Wn(n,"yyyy-MM-dd"):n,s=i instanceof Date?Wn(i,"yyyy-MM-dd"):i;try{const o=await vt.getMachineAvailabilityForDateRange(e,r,s);return this.set(c=>{const u={...c.machineAvailability};return Array.isArray(o)&&o.forEach(d=>{if(d.date&&d.unavailable_hours){const h=d.date;u[h]||(u[h]=[]);const p=u[h].find(m=>m.machine_id===e);p?p.unavailable_hours=d.unavailable_hours:u[h].push({machine_id:e,date:h,unavailable_hours:d.unavailable_hours})}}),{machineAvailability:u}}),o}catch(o){throw o}};getMachineAvailability=async(e,n)=>{try{const i=this.get().machineAvailability[n];if(i&&Array.isArray(i)){const s=i.find(o=>o.machine_id===e);if(s)return s.unavailable_hours||[]}const r=await vt.getMachineAvailabilityForDate(e,n);if(r){const s=(r.unavailable_hours||[]).map(o=>o.toString());return this.set(o=>{const c={...o.machineAvailability};c[n]||(c[n]=[]);const u=c[n].find(d=>d.machine_id===e);return u?u.unavailable_hours=s:c[n].push({machine_id:e,date:n,unavailable_hours:s}),{machineAvailability:c}}),s}return[]}catch{return[]}};loadMachineAvailabilityForMachine=async(e,n,i)=>{const r={};try{try{await vt.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let s=new Date(n);for(;s<=i;){const o=Wn(s,"yyyy-MM-dd");this.get().machineAvailability[o]||await this.loadMachineAvailabilityForDate(o);const u=this.get().machineAvailability[o];if(Array.isArray(u)){const d=u.find(h=>h.machine_id===e);d&&(r[o]=d.unavailable_hours||[])}s=$d(s,1)}return r}catch{return{}}};isTimeSlotUnavailable=async(e,n,i)=>(await this.getMachineAvailability(e,n)).includes(i.toString());setMachineAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const{getOdpOrders:s}=ln.getState(),o=s().filter(m=>m.scheduled_machine_id===e&&m.status==="SCHEDULED"&&m.scheduled_start_time&&m.scheduled_end_time),[c,u,d]=n.split("-").map(Number),h=new Date(Date.UTC(c,u-1,d)),p=new Date(h.getTime()+1440*60*1e3);for(const m of o){const y=new Date(m.scheduled_start_time),_=new Date(m.scheduled_end_time);if(y<p&&_>h)for(const S of i){const w=new Date(h.getTime()+parseInt(S)*60*60*1e3),x=new Date(w.getTime()+3600*1e3);if(w<_&&x>y)throw new yt(`Cannot set machine unavailable during scheduled task: ${m.odp_number}`,et.BUSINESS_LOGIC_ERROR,400,null,"MachineAvailabilityManager.setMachineUnavailability")}}return await vt.setMachineAvailability(e,n,i),this.set(m=>{const y={...m.machineAvailability};y[n]||(y[n]=[]);const _=y[n].find(S=>S.machine_id===e);return _?_.unavailable_hours=i:y[n].push({machine_id:e,date:n,unavailable_hours:i}),{machineAvailability:y}}),At.getState().showAlert(`Machine availability updated successfully for ${n}`,"success"),!0}catch(s){const o=Mr(s,"Machine Availability");throw At.getState().showAlert(o.message,"error"),o}finally{r(),this.releaseLock(e,n)}};toggleMachineHourAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const s=await this.getMachineAvailability(e,n),o=i.toString();let c;return s.includes(o)?c=s.filter(u=>u!==o):c=[...s,o].sort((u,d)=>parseInt(u)-parseInt(d)),await vt.setMachineAvailability(e,n,c),this.set(u=>{const d={...u.machineAvailability};d[n]||(d[n]=[]);const h=d[n].find(p=>p.machine_id===e);return h?h.unavailable_hours=c:d[n].push({machine_id:e,date:n,unavailable_hours:c}),{machineAvailability:d}}),At.getState().showAlert(`Time slot ${o}:00 updated successfully`,"success"),!0}catch(s){const o=Mr(s,"Machine Availability");throw At.getState().showAlert(o.message,"error"),o}finally{r(),this.releaseLock(e,n)}};setMachineUnavailability=async(e,n,i,r,s)=>{try{const o=await vt.setUnavailableHoursForRange(e,n,i,r,s),c=new Date(n),u=new Date(i),d=await this.loadMachineAvailabilityForDateRange(e,c,u);return d&&Array.isArray(d)&&this.set(h=>{const p={...h.machineAvailability};return d.forEach(m=>{if(m.date&&m.unavailable_hours){const y=Wn(new Date(m.date),"yyyy-MM-dd");p[y]||(p[y]=[]);const _=p[y].find(S=>S.machine_id===e);_?_.unavailable_hours=m.unavailable_hours:p[y].push({machine_id:e,date:y,unavailable_hours:m.unavailable_hours})}}),{machineAvailability:p}}),o}catch(o){throw o}};isMachineAvailabilityAccessible=async()=>{try{return await vt.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}};getMachineAvailabilityStatus=async()=>{try{const e=await this.isMachineAvailabilityAccessible();return{accessible:e,message:e?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(e){return{accessible:!1,message:`Error checking table: ${e.message}`}}};initializeEmptyMachineAvailability=()=>{const{machineAvailability:e}=this.get(),n={...e};this.set({machineAvailability:n})}}const is=rl((t,e)=>{const n=new v3(e,t),i=new S3(e,t),r=new b3(e,t,n,i),s=new _3(e,t,r,n);return{machineAvailability:{},shuntPreview:null,splitTasksInfo:{},getMachineAvailabilityState:()=>e().machineAvailability,getSplitTaskInfo:o=>n.getSplitTaskInfo(o),setMachineAvailabilityState:o=>t({machineAvailability:o}),setShuntPreview:o=>t({shuntPreview:o}),clearShuntPreview:()=>t({shuntPreview:null}),setSplitTaskInfo:n.setSplitTaskInfo,clearSplitTaskInfo:n.clearSplitTaskInfo,updateSplitTaskInfo:n.updateSplitTaskInfo,restoreSplitTaskInfo:n.restoreSplitTaskInfo,updateTaskWithSplitInfo:n.updateTaskWithSplitInfo,getTaskOccupiedSegments:n.getTaskOccupiedSegments,checkTaskOverlap:n.checkTaskOverlap,checkMachineOverlaps:n.checkMachineOverlaps,migrateExistingTasksToSegmentFormat:n.migrateExistingTasksToSegmentFormat,verifyAllTasksHaveSegmentInfo:n.verifyAllTasksHaveSegmentInfo,createAbsoluteDate:r.createAbsoluteDate,splitTaskAcrossAvailableSlots:r.splitTaskAcrossAvailableSlots,collectUnavailableSlots:r.collectUnavailableSlots,scheduleTaskWithSplitting:r.scheduleTaskWithSplitting,findAdjacentTasksChain:r.findAdjacentTasksChain,handleTaskDurationShrinking:r.handleTaskDurationShrinking,scheduleTaskFromSlot:async(o,c,u,d,h,p=null,m=null)=>{const{startSchedulingOperation:y,stopSchedulingOperation:_}=At.getState();try{y("schedule",o);const{getOrderById:S,getOdpOrders:w}=ln.getState(),{getMachineById:x}=br.getState(),E=S(o),A=x(c.id),I=w();if(!E||!A)return{error:"Task or machine not found"};const k=u.getUTCFullYear(),j=u.getUTCMonth()+1,M=u.getUTCDate(),O=r.createAbsoluteDate(k,j,M,d,h),U=p||E.time_remaining||E.duration||1;console.log("🎯 SCHEDULER: Using duration:",U,"overrideDuration:",p);const B={machine:c.id,start_time:O.toISOString(),end_time:QT(O,U).toISOString()};console.log("🎯 SCHEDULER: Calling scheduleTask with:",{taskId:o,scheduleData:B,overrideDuration:p});const $=await e().scheduleTask(o,B,I,p,m);return console.log("🎯 SCHEDULER: scheduleTask result:",$),$}catch(S){return{error:Mr(S,"SchedulerStore.scheduleTaskFromSlot").message}}finally{_()}},rescheduleTaskToSlot:async(o,c,u,d,h,p=null)=>{const{startSchedulingOperation:m,stopSchedulingOperation:y}=At.getState();try{m("reschedule",o);const{getOrderById:_,getOdpOrders:S}=ln.getState(),{getMachineById:w}=br.getState(),x=_(o),E=w(c.id),A=S();if(!x||!E)return{error:"Event or machine not found"};const I=u.getUTCFullYear(),k=u.getUTCMonth()+1,j=u.getUTCDate(),M=r.createAbsoluteDate(I,k,j,d,h),O=x.time_remaining||x.duration||1,U={machine:c.id,start_time:M.toISOString(),end_time:QT(M,O).toISOString()};return await e().scheduleTask(o,U,A,null,p)}catch(_){return{error:Mr(_,"SchedulerStore.rescheduleTaskToSlot").message}}finally{y()}},scheduleTask:async(o,c,u=null,d=null,h=null)=>{try{console.log("🎯 SCHEDULER: scheduleTask called with:",{taskId:o,eventData:c,overrideDuration:d});const{getOrderById:p,getOdpOrders:m}=ln.getState(),{getMachineById:y}=br.getState(),_=p(o),S=y(c.machine),w=u||m();if(console.log("🎯 SCHEDULER: Task found:",_?.odp_number,"Machine found:",S?.name),_&&S&&_.work_center&&S.work_center&&_.work_center!==S.work_center)return{error:`Work center mismatch: task requires '${_.work_center}' but machine is '${S.work_center}'`};const x=new Date(c.start_time),E=d||_.time_remaining||_.duration||1;console.log("🎯 SCHEDULER: scheduleTask using duration:",E,"overrideDuration:",d),console.log("🎯 SCHEDULER: Calling scheduleTaskWithSplitting with:",{taskId:o,newStart:x.toISOString(),timeRemainingHours:E,machineId:c.machine});const A=await r.scheduleTaskWithSplitting(o,x,E,c.machine);if(console.log("🎯 SCHEDULER: scheduleTaskWithSplitting result:",A),!A)return{error:"No available time slots found for this task"};if(A.conflict)return{conflict:!0,conflictingTask:A.conflictingTask,draggedTask:_,proposedStartTime:c.start_time,proposedEndTime:c.end_time,machine:S,conflictingSegment:A.conflictingSegment,proposedSegments:A.proposedSegments,tasks:w};c.start_time=A.startTime.toISOString(),c.end_time=A.endTime.toISOString();const I={scheduled_machine_id:c.machine,scheduled_start_time:c.start_time,scheduled_end_time:c.end_time,status:"SCHEDULED"};if(A.segments){const M={segments:A.segments,totalSegments:A.segments.length,originalDuration:A.originalDuration||_.time_remaining||_.duration||1,wasSplit:A.wasSplit||!1};I.description=JSON.stringify(M)}const{apiService:k}=await Ur(async()=>{const{apiService:M}=await Promise.resolve().then(()=>Xb);return{apiService:M}},void 0),j=await k.updateOdpOrder(o,I);if(A.segments){const M={segments:A.segments,totalSegments:A.segments.length,originalDuration:A.originalDuration||_.time_remaining||_.duration||1,wasSplit:A.wasSplit||!1};n.setSplitTaskInfo(o,M)}return h&&(h.invalidateQueries({queryKey:["orders"]}),h.invalidateQueries({queryKey:["orders",o]})),{success:!0,updatedTask:j,schedulingResult:A}}catch(p){return{error:Mr(p,"SchedulerStore.scheduleTask").message}}},unscheduleTask:async(o,c=null)=>{const{startSchedulingOperation:u,stopSchedulingOperation:d}=At.getState();try{u("unschedule",o),n.clearSplitTaskInfo(o);const h={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,status:"NOT SCHEDULED",description:""},{apiService:p}=await Ur(async()=>{const{apiService:m}=await Promise.resolve().then(()=>Xb);return{apiService:m}},void 0);return await p.updateOdpOrder(o,h),c&&(c.invalidateQueries({queryKey:["orders"]}),c.invalidateQueries({queryKey:["orders",o]})),{success:!0}}catch(h){return{error:Mr(h,"SchedulerStore.unscheduleTask").message}}finally{d()}},loadMachineAvailabilityForDate:i.loadMachineAvailabilityForDate,loadMachineAvailabilityForDateRange:i.loadMachineAvailabilityForDateRange,getMachineAvailability:i.getMachineAvailability,loadMachineAvailabilityForMachine:i.loadMachineAvailabilityForMachine,isTimeSlotUnavailable:i.isTimeSlotUnavailable,setMachineAvailability:i.setMachineAvailability,toggleMachineHourAvailability:i.toggleMachineHourAvailability,setMachineUnavailability:i.setMachineUnavailability,isMachineAvailabilityAccessible:i.isMachineAvailabilityAccessible,getMachineAvailabilityStatus:i.getMachineAvailabilityStatus,initializeEmptyMachineAvailability:i.initializeEmptyMachineAvailability,resolveConflictByShunting:async(o,c,u=null)=>{const{startSchedulingOperation:d,stopSchedulingOperation:h}=At.getState();try{d("shunt",o.draggedTask?.id);const{getOdpOrders:p}=ln.getState(),m=p(),y=await s.resolveConflictByShunting(o,c,m,o.draggedTask);if(y&&!y.error&&u){console.log("🔄 SHUNTING: Invalidating React Query cache to refresh UI");const _=[u.invalidateQueries({queryKey:["orders"]}),u.invalidateQueries({queryKey:["machines"]})];o.draggedTask?.id&&_.push(u.invalidateQueries({queryKey:["orders",o.draggedTask.id]})),await Promise.all(_)}return y}catch(p){return console.error("❌ SHUNTING ERROR in scheduler store:",p),{error:p.message||"Errore durante lo spostamento del task"}}finally{h()}},validateSlotAvailability:async(o,c,u,d)=>{try{const h=Wn(c,"yyyy-MM-dd");if(await e().isTimeSlotUnavailable(o.id,h,u))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:m}=ln.getState(),y=new Date(c);y.setUTCHours(u,d,0,0);const _=new Date(y.getTime()+3600*1e3),S=m().filter(w=>w.scheduled_machine_id===o.id&&w.status==="SCHEDULED"&&w.scheduled_start_time);for(const w of S){const x=new Date(w.scheduled_start_time),E=w.time_remaining||w.duration||1,A=new Date(x.getTime()+E*60*60*1e3);if(y<A&&_>x)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch(h){return{error:Mr(h,"SchedulerStore.validateSlotAvailability").message}}},getEventsByDate:async o=>{try{return await vt.getEventsByDate(o)}catch{return[]}},reset:()=>t({machineAvailability:{},shuntPreview:null,splitTasksInfo:{}})}}),w3=(t,e)=>{const n=s=>{E3(s)},i=s=>{C3(s)},r=s=>{T3(s)};return vt.setupRealtimeSubscriptions(n,i,r)},jv=(t,e)=>{const{realtimeChannel:n}=t();n&&(vt.cleanupRealtimeSubscriptions(n),e({realtimeChannel:null}))};let vc=null;const x3=()=>{typeof window<"u"&&vc&&(window.removeEventListener("beforeunload",vc),vc=null)},E3=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t,{updateSplitTaskInfo:o}=is.getState();(i==="INSERT"&&r.status==="SCHEDULED"||i==="UPDATE")&&o(r.id,r),console.log(`Orders ${i.toLowerCase()}:`,r||s)},C3=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t;console.log(`Machines ${i.toLowerCase()}:`,r||s)},T3=(t,e,n)=>{const{eventType:i,newRecord:r,oldRecord:s}=t;console.log(`Phases ${i.toLowerCase()}:`,r||s)},Za=rl((t,e)=>({isInitializing:!1,realtimeChannel:null,init:async()=>{const{getInitializationState:n,setLoading:i,setInitialized:r,showAlert:s}=At.getState(),{initializeEmptyMachineAvailability:o}=is.getState();if(!n()){if(e().isInitializing)return new Promise(c=>{const u=()=>{n()?c():setTimeout(u,100)};u()});t({isInitializing:!0}),i(!0);try{let c=!1,u=0;const d=3;for(;!c&&u<d;)try{await vt.init(),c=!0}catch(h){u++;const p=Mr(h,"API Service Initialization");if(u>=d)throw i(!1),r(!1),s("Unable to connect to the server. Please check your internet connection and refresh the page.","error"),new yt("API service initialization failed after multiple attempts","CRITICAL_INIT_ERROR",503,p,"Store Initialization");const m=Math.min(1e3*Math.pow(2,u-1),1e4);await new Promise(y=>setTimeout(y,m)),s(`Connection attempt ${u} failed. Retrying...`,"warning")}try{o();const{restoreSplitTaskInfo:h,migrateExistingTasksToSegmentFormat:p}=is.getState();h(),await p();const{realtimeChannel:m}=e();if(!m)try{const y=w3(t,e);y&&(t({realtimeChannel:y}),typeof window<"u"&&!vc&&(vc=()=>{jv(e,t)},window.addEventListener("beforeunload",vc)))}catch(y){const _=Mr(y,"Real-time Subscriptions Setup");s("Warning: Real-time updates are not available. Data may not update automatically.","warning")}i(!1),r(!0),t({isInitializing:!1}),s("Application initialized successfully. Data will be loaded via React Query.","success")}catch(h){const p=Mr(h,"Data Processing");throw i(!1),r(!1),t({isInitializing:!1}),s("Failed to process application data. Please refresh the page.","error"),p}}catch(c){const u=c instanceof yt?c:Mr(c,"Store Initialization");throw i(!1),r(!1),t({isInitializing:!1}),u.code==="CRITICAL_INIT_ERROR"?s("Critical initialization error. Please contact support if the problem persists.","error"):s("Application initialization failed. Please refresh the page or contact support.","error"),u}}},refreshData:()=>{console.warn("refreshData is deprecated. Use React Query invalidation instead.")},debugData:()=>{const{getMachines:n}=br.getState(),{getOdpOrders:i}=ln.getState(),{getPhases:r}=uc.getState(),s=n().map(u=>u.id);s.filter((u,d)=>s.indexOf(u)!==d);const o=i().map(u=>u.id);o.filter((u,d)=>o.indexOf(u)!==d);const c=r().map(u=>u.id);c.filter((u,d)=>c.indexOf(u)!==d)},cleanupDuplicates:()=>{const{cleanupDuplicateMachines:n}=br.getState(),{cleanupDuplicateOrders:i}=ln.getState(),{cleanupDuplicatePhases:r}=uc.getState();n(),i(),r()},reset:()=>{jv(e,t);const{reset:n}=br.getState(),{reset:i}=ln.getState(),{reset:r}=uc.getState(),{reset:s}=is.getState(),{reset:o}=At.getState();n(),i(),r(),s(),o(),t({isInitializing:!1,realtimeChannel:null})},cleanup:()=>{jv(e,t),x3()},getState:()=>{const{getMachines:n}=br.getState(),{getOdpOrders:i}=ln.getState(),{getPhases:r}=uc.getState(),{getLoadingState:s,getInitializationState:o}=At.getState();return{machines:n(),odpOrders:i(),phases:r(),machineAvailability:is.getState().getMachineAvailabilityState(),isLoading:s(),isInitialized:o()}}})),dk=()=>{const t=D.useCallback(d=>{if(!d||!d.department)return{isValid:!1,error:"Invalid phase data"};const{department:h}=d;if(h==="STAMPA"){const p=parseFloat(d.v_stampa);if(isNaN(p)||p<=0)return{isValid:!1,error:"Velocità di stampa non valida. Inserisci un valore maggiore di zero."}}else if(h==="CONFEZIONAMENTO"){const p=parseFloat(d.v_conf);if(isNaN(p)||p<=0)return{isValid:!1,error:"Velocità di confezionamento non valida. Inserisci un valore maggiore di zero."}}else return{isValid:!1,error:"Reparto non riconosciuto"};return{isValid:!0}},[]),e=D.useCallback((d,h,p)=>{if(!d||!h||d.department==="STAMPA"&&!p||!t(d).isValid)return null;try{const{department:y}=d;if(y==="STAMPA"){const _=parseFloat(d.v_stampa),S=parseFloat(d.t_setup_stampa)||0,w=parseFloat(d.costo_h_stampa)||0;if(isNaN(_)||_<=0)return null;const E=p*h/1e3/_,A=E+S,I=A*w;return{totals:{duration:A,cost:I},breakdown:{print:{time:E,cost:E*w},setup:{time:S,cost:S*w}}}}else if(y==="CONFEZIONAMENTO"){const _=parseFloat(d.v_conf),S=parseFloat(d.t_setup_conf)||0,w=parseFloat(d.costo_h_conf)||0;if(isNaN(_)||_<=0)return null;const x=h/_,E=S,A=x+E,I=A*w;return{totals:{duration:A,cost:I},breakdown:{package:{time:x,cost:x*w},setup:{time:E,cost:E*w}}}}return null}catch{return null}},[t]),n=D.useCallback(d=>d&&(d.startsWith("P05")||d.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),i=D.useCallback(d=>d&&d.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),r=D.useCallback(d=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[d]||[],[]),s=D.useCallback((d,h)=>{const m={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[d]||"MACH",y=h==="BUSTO_GAROLFO"?"BGF":"ZAN",_=Date.now().toString(36);return`${m}_${y}_${_}`},[]),o=D.useCallback((d,h)=>!(h<0||h>d),[]),c=D.useCallback((d,h)=>!d||d===0?0:Math.round(h*100/d),[]),u=D.useCallback((d,h)=>!d||d===0?0:!h||h===0?d:Math.round(d*(1-h/100)*100)/100,[]);return{calculateProductionMetrics:e,validatePhaseParameters:t,autoDetermineWorkCenter:n,autoDetermineDepartment:i,getValidMachineTypes:r,generateMachineId:s,validateQuantityCompleted:o,calculateCompletionRate:c,calculateTimeRemaining:u}};var Pv,nA;function A3(){if(nA)return Pv;nA=1;function t(x){this._maxSize=x,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(x){return this._values[x]},t.prototype.set=function(x,E){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=E};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,c=new t(o),u=new t(o),d=new t(o);Pv={Cache:t,split:p,normalizePath:h,setter:function(x){var E=h(x);return u.get(x)||u.set(x,function(I,k){for(var j=0,M=E.length,O=I;j<M-1;){var U=E[j];if(U==="__proto__"||U==="constructor"||U==="prototype")return I;O=O[E[j++]]}O[E[j]]=k})},getter:function(x,E){var A=h(x);return d.get(x)||d.set(x,function(k){for(var j=0,M=A.length;j<M;)if(k!=null||!E)k=k[A[j++]];else return;return k})},join:function(x){return x.reduce(function(E,A){return E+(y(A)||n.test(A)?"["+A+"]":(E?".":"")+A)},"")},forEach:function(x,E,A){m(Array.isArray(x)?x:p(x),E,A)}};function h(x){return c.get(x)||c.set(x,p(x).map(function(E){return E.replace(s,"$2")}))}function p(x){return x.match(e)||[""]}function m(x,E,A){var I=x.length,k,j,M,O;for(j=0;j<I;j++)k=x[j],k&&(w(k)&&(k='"'+k+'"'),O=y(k),M=!O&&/^\d+$/.test(k),E.call(A,k,O,M,j,x))}function y(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function _(x){return x.match(i)&&!x.match(n)}function S(x){return r.test(x)}function w(x){return!y(x)&&(_(x)||S(x))}return Pv}var Vo=A3(),Lv,iA;function R3(){if(iA)return Lv;iA=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(t)||[],n=h=>h[0].toUpperCase()+h.slice(1),i=(h,p)=>e(h).join(p).toLowerCase(),r=h=>e(h).reduce((p,m)=>`${p}${p?m[0].toUpperCase()+m.slice(1).toLowerCase():m.toLowerCase()}`,"");return Lv={words:e,upperFirst:n,camelCase:r,pascalCase:h=>n(r(h)),snakeCase:h=>i(h,"_"),kebabCase:h=>i(h,"-"),sentenceCase:h=>n(i(h," ")),titleCase:h=>e(h).map(n).join(" ")},Lv}var zv=R3(),Lh={exports:{}},rA;function D3(){if(rA)return Lh.exports;rA=1,Lh.exports=function(r){return t(e(r),r)},Lh.exports.array=t;function t(r,s){var o=r.length,c=new Array(o),u={},d=o,h=n(s),p=i(r);for(s.forEach(function(y){if(!p.has(y[0])||!p.has(y[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)u[d]||m(r[d],d,new Set);return c;function m(y,_,S){if(S.has(y)){var w;try{w=", node was:"+JSON.stringify(y)}catch{w=""}throw new Error("Cyclic dependency"+w)}if(!p.has(y))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(y));if(!u[_]){u[_]=!0;var x=h.get(y)||new Set;if(x=Array.from(x),_=x.length){S.add(y);do{var E=x[--_];m(E,p.get(E),S)}while(_);S.delete(y)}c[--o]=y}}}function e(r){for(var s=new Set,o=0,c=r.length;o<c;o++){var u=r[o];s.add(u[0]),s.add(u[1])}return Array.from(s)}function n(r){for(var s=new Map,o=0,c=r.length;o<c;o++){var u=r[o];s.has(u[0])||s.set(u[0],new Set),s.has(u[1])||s.set(u[1],new Set),s.get(u[0]).add(u[1])}return s}function i(r){for(var s=new Map,o=0,c=r.length;o<c;o++)s.set(r[o],o);return s}return Lh.exports}var O3=D3();const k3=Jo(O3),M3=Object.prototype.toString,N3=Error.prototype.toString,I3=RegExp.prototype.toString,j3=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",P3=/^Symbol\((.*)\)(.*)$/;function L3(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function sA(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return L3(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return j3.call(t).replace(P3,"Symbol($1)");const i=M3.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+N3.call(t)+"]":i==="RegExp"?I3.call(t):null}function Vs(t,e){let n=sA(t,e);return n!==null?n:JSON.stringify(t,function(i,r){let s=sA(this[i],e);return s!==null?s:r},2)}function fk(t){return t==null?[]:[].concat(t)}let hk,gk,pk,z3=/\$\{\s*(\w+)\s*\}/g;hk=Symbol.toStringTag;class aA{constructor(e,n,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[hk]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=r,this.errors=[],this.inner=[],fk(e).forEach(s=>{if(pi.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}gk=Symbol.hasInstance;pk=Symbol.toStringTag;class pi extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(z3,(r,s)=>Vs(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,r,s){const o=new aA(e,n,i,r);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[pk]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,pi)}static[gk](e){return aA[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let es={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const r=i!=null&&i!==n?` (cast from the value \`${Vs(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Vs(n,!0)}\``+r:`${t} must match the configured type. The validated value was: \`${Vs(n,!0)}\``+r}},Ri={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ra={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Zb={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},U3={isValue:"${path} field must be ${value}"},lg={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},cg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},F3={notType:t=>{const{path:e,value:n,spec:i}=t,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${n.length} for value: \`${Vs(n,!0)}\``;if(n.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${n.length} for value: \`${Vs(n,!0)}\``}return pi.formatError(es.notType,t)}};Object.assign(Object.create(null),{mixed:es,string:Ri,number:Ra,date:Zb,object:lg,array:cg,boolean:U3,tuple:F3});const vp=t=>t&&t.__isYupSchema__;class Og{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=n,o=typeof i=="function"?i:(...c)=>c.every(u=>u===i);return new Og(e,(c,u)=>{var d;let h=o(...c)?r:s;return(d=h?.(u))!=null?d:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(s=>s.getValue(n?.value,n?.parent,n?.context)),r=this.fn(i,e,n);if(r===void 0||r===e)return e;if(!vp(r))throw new TypeError("conditions must return a schema object");return r.resolve(n)}}const zh={context:"$",value:"."};class sl{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===zh.context,this.isValue=this.key[0]===zh.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?zh.context:this.isValue?zh.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Vo.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let r=this.isContext?i:this.isValue?e:n;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}sl.prototype.__isYupRef=!0;const Us=t=>t==null;function nc(t){function e({value:n,path:i="",options:r,originalValue:s,schema:o},c,u){const{name:d,test:h,params:p,message:m,skipAbsent:y}=t;let{parent:_,context:S,abortEarly:w=o.spec.abortEarly,disableStackTrace:x=o.spec.disableStackTrace}=r;const E={value:n,parent:_,context:S};function A($={}){const Q=mk(Object.assign({value:n,originalValue:s,label:o.spec.label,path:$.path||i,spec:o.spec,disableStackTrace:$.disableStackTrace||x},p,$.params),E),ae=new pi(pi.formatError($.message||m,Q),n,Q.path,$.type||d,Q.disableStackTrace);return ae.params=Q,ae}const I=w?c:u;let k={path:i,parent:_,type:d,from:r.from,createError:A,resolve($){return yk($,E)},options:r,originalValue:s,schema:o};const j=$=>{pi.isError($)?I($):$?u(null):I(A())},M=$=>{pi.isError($)?I($):c($)};if(y&&Us(n))return j(!0);let U;try{var B;if(U=h.call(k,n,k),typeof((B=U)==null?void 0:B.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${k.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(U).then(j,M)}}catch($){M($);return}j(U)}return e.OPTIONS=t,e}function mk(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=yk(t[n],e);return t}function yk(t,e){return sl.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function H3(t,e,n,i=n){let r,s,o;return e?(Vo.forEach(e,(c,u,d)=>{let h=u?c.slice(1,c.length-1):c;t=t.resolve({context:i,parent:r,value:n});let p=t.type==="tuple",m=d?parseInt(h,10):0;if(t.innerType||p){if(p&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${e}. because there is no value at that index. `);r=n,n=n&&n[m],t=p?t.spec.types[m]:t.innerType}if(!d){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);r=n,n=n&&n[h],t=t.fields[h]}s=h,o=u?"["+c+"]":"."+c}),{schema:t,parent:r,parentPath:s}):{parent:r,parentPath:e,schema:t}}class kg extends Set{describe(){const e=[];for(const n of this.values())e.push(sl.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new kg(this.values())}merge(e,n){const i=this.clone();return e.forEach(r=>i.add(r)),n.forEach(r=>i.delete(r)),i}}function fc(t,e=new Map){if(vp(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=fc(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,r]of t.entries())n.set(i,fc(r,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(fc(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,r]of Object.entries(t))n[i]=fc(r,e)}else throw Error(`Unable to clone ${t}`);return n}function B3(t){if(!(t!=null&&t.length))return;const e=[];let n="",i=!1,r=!1;for(let s=0;s<t.length;s++){const o=t[s];if(o==="["&&!r){n&&(e.push(...n.split(".").filter(Boolean)),n=""),i=!0;continue}if(o==="]"&&!r){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),i=!1;continue}if(o==='"'){r=!r;continue}if(o==="."&&!i&&!r){n&&(e.push(n),n="");continue}n+=o}return n&&e.push(...n.split(".").filter(Boolean)),e}function V3(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(i=>({message:i,path:B3(n)}))}function vk(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return V3(t,e);const i=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(r=>vk(r,i))}class Sr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new kg,this._blacklist=new kg,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(es.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=fc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const r=Object.assign({},n.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((r,s)=>s.resolve(r,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,r,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({},n,{value:e})),r=n.assert==="ignore-optionality",s=i._cast(e,n);if(n.assert!==!1&&!i.isType(s)){if(r&&Us(s))return s;let o=Vs(e),c=Vs(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${o} 
`+(c!==o?`result of cast: ${c}`:""))}return s}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((r,s)=>s.call(this,r,e,this,n),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,r){let{path:s,originalValue:o=e,strict:c=this.spec.strict}=n,u=e;c||(u=this._cast(u,Object.assign({assert:!1},n)));let d=[];for(let h of Object.values(this.internalTests))h&&d.push(h);this.runTests({path:s,value:u,originalValue:o,options:n,tests:d},i,h=>{if(h.length)return r(h,u);this.runTests({path:s,value:u,originalValue:o,options:n,tests:this.tests},i,r)})}runTests(e,n,i){let r=!1,{tests:s,value:o,originalValue:c,path:u,options:d}=e,h=S=>{r||(r=!0,n(S,o))},p=S=>{r||(r=!0,i(S,o))},m=s.length,y=[];if(!m)return p([]);let _={value:o,originalValue:c,path:u,options:d,schema:this};for(let S=0;S<s.length;S++){const w=s[S];w(_,h,function(E){E&&(Array.isArray(E)?y.push(...E):y.push(E)),--m<=0&&p(y)})}}asNestedTest({key:e,index:n,parent:i,parentPath:r,originalParent:s,options:o}){const c=e??n;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof c=="number";let d=i[c];const h=Object.assign({},o,{strict:!0,parent:i,value:d,originalValue:s[c],key:void 0,[u?"index":"key"]:c,path:u||c.includes(".")?`${r||""}[${u?c:`"${c}"`}]`:(r?`${r}.`:"")+e});return(p,m,y)=>this.resolve(h)._validate(d,h,m,y)}validate(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((o,c)=>r._validate(e,n,(u,d)=>{pi.isError(u)&&(u.value=d),c(u)},(u,d)=>{u.length?c(new pi(u,d,void 0,void 0,s)):o(d)}))}validateSync(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s,o=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},n,{sync:!0}),(c,u)=>{throw pi.isError(c)&&(c.value=u),c},(c,u)=>{if(c.length)throw new pi(c,e,void 0,void 0,o);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(pi.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(pi.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):fc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=nc({message:n,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=nc({message:n,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=es.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=es.notNull){return this.nullability(!1,e)}required(e=es.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=es.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=nc(n),s=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),r=fk(e).map(s=>new sl(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof n=="function"?new Og(r,n):Og.fromOptions(r,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=nc({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=es.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=nc({message:n,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),i}notOneOf(e,n=es.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=nc({message:n,name:"notOneOf",test(r){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:s,nullable:o}=n.spec;return{meta:r,label:i,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((u,d,h)=>h.findIndex(p=>p.OPTIONS.name===u.OPTIONS.name)===d).map(u=>{const d=u.OPTIONS.params&&e?mk(Object.assign({},u.OPTIONS.params),e):u.OPTIONS.params;return{name:u.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(r){if(r instanceof pi)return{issues:vk(r)};throw r}}}}}Sr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Sr.prototype[`${t}At`]=function(e,n,i={}){const{parent:r,parentPath:s,schema:o}=H3(this,e,n,i.context);return o[t](r&&r[s],Object.assign({},i,{parent:r,path:e}))};for(const t of["equals","is"])Sr.prototype[t]=Sr.prototype.oneOf;for(const t of["not","nope"])Sr.prototype[t]=Sr.prototype.notOneOf;const $3=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function q3(t){const e=Jb(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Jb(t){var e,n;const i=$3.exec(t);return i?{year:Rs(i[1]),month:Rs(i[2],1)-1,day:Rs(i[3],1),hour:Rs(i[4]),minute:Rs(i[5]),second:Rs(i[6]),millisecond:i[7]?Rs(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Rs(i[10]),minuteOffset:Rs(i[11])}:null}function Rs(t,e=0){return Number(t)||e}let G3=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,W3=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Y3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Q3="^\\d{4}-\\d{2}-\\d{2}",K3="\\d{2}:\\d{2}:\\d{2}",X3="(([+-]\\d{2}(:?\\d{2})?)|Z)",Z3=new RegExp(`${Q3}T${K3}(\\.\\d+)?${X3}$`),J3=t=>Us(t)||t===t.trim(),e4={}.toString();function Di(){return new bk}class bk extends Sr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===e4?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||es.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Ri.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=Ri.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=Ri.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,r,s;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:s}=n:r=n),this.test({name:s||"matches",message:r||Ri.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&i||o.search(e)!==-1})}email(e=Ri.email){return this.matches(G3,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ri.url){return this.matches(W3,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ri.uuid){return this.matches(Y3,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,r;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:r=void 0}=e:n=e),this.matches(Z3,{name:"datetime",message:n||Ri.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Ri.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:s=>{if(!s||i)return!0;const o=Jb(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Ri.datetime_precision,params:{precision:r},skipAbsent:!0,test:s=>{if(!s||r==null)return!0;const o=Jb(s);return o?o.precision===r:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ri.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:J3})}lowercase(e=Ri.lowercase){return this.transform(n=>Us(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Us(n)||n===n.toLowerCase()})}uppercase(e=Ri.uppercase){return this.transform(n=>Us(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Us(n)||n===n.toUpperCase()})}}Di.prototype=bk.prototype;let t4=t=>t!=+t;function jn(){return new _k}class _k extends Sr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!t4(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return this.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=Ra.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=Ra.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=Ra.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=Ra.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=Ra.positive){return this.moreThan(0,e)}negative(e=Ra.negative){return this.lessThan(0,e)}integer(e=Ra.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Us(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(r=>Us(r)?r:Math[e](r))}}jn.prototype=_k.prototype;let Sk=new Date(""),n4=t=>Object.prototype.toString.call(t)==="[object Date]";function sd(){return new qd}class qd extends Sr{constructor(){super({type:"date",check(e){return n4(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=q3(e),isNaN(e)?qd.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(sl.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,n=Zb.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,n=Zb.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}qd.INVALID_DATE=Sk;sd.prototype=qd.prototype;sd.INVALID_DATE=Sk;function i4(t,e=[]){let n=[],i=new Set,r=new Set(e.map(([o,c])=>`${o}-${c}`));function s(o,c){let u=Vo.split(o)[0];i.add(u),r.has(`${c}-${u}`)||n.push([c,u])}for(const o of Object.keys(t)){let c=t[o];i.add(o),sl.isRef(c)&&c.isSibling?s(c.path,o):vp(c)&&"deps"in c&&c.deps.forEach(u=>s(u,o))}return k3.array(Array.from(i),n).reverse()}function oA(t,e){let n=1/0;return t.some((i,r)=>{var s;if((s=e.path)!=null&&s.includes(i))return n=r,!0}),n}function wk(t){return(e,n)=>oA(t,e)-oA(t,n)}const xk=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function ug(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=ug(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=ug(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(ug)}):"optional"in t?t.optional():t}const r4=(t,e)=>{const n=[...Vo.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),r=Vo.getter(Vo.join(n),!0)(t);return!!(r&&i in r)};let lA=t=>Object.prototype.toString.call(t)==="[object Object]";function cA(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const s4=wk([]);function Ja(t){return new Ek(t)}class Ek extends Sr{constructor(e){super({type:"object",check(n){return lA(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=s4,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let r=super._cast(e,n);if(r===void 0)return this.getDefault(n);if(!this._typeCheck(r))return r;let s=this.fields,o=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(r).filter(p=>!this._nodes.includes(p))),u={},d=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const p of c){let m=s[p],y=p in r,_=r[p];if(m){let S;d.path=(n.path?`${n.path}.`:"")+p,m=m.resolve({value:_,context:n.context,parent:u});let w=m instanceof Sr?m.spec:void 0,x=w?.strict;if(w!=null&&w.strip){h=h||p in r;continue}S=!n.__validating||!x?m.cast(_,d):_,S!==void 0&&(u[p]=S)}else y&&!o&&(u[p]=_);(y!==p in u||u[p]!==_)&&(h=!0)}return h?u:r}_validate(e,n={},i,r){let{from:s=[],originalValue:o=e,recursive:c=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,i,(u,d)=>{if(!c||!lA(d)){r(u,d);return}o=o||d;let h=[];for(let p of this._nodes){let m=this.fields[p];!m||sl.isRef(m)||h.push(m.asNestedTest({options:n,key:p,parent:d,parentPath:n.path,originalParent:o}))}this.runTests({tests:h,value:d,originalValue:o,options:n},i,p=>{r(p.sort(this._sortErrors).concat(u),d)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[r,s]of Object.entries(this.fields)){const o=i[r];i[r]=o===void 0?s:o}return n.withMutation(r=>r.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var r;const s=this.fields[i];let o=e;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n[i]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=i4(e,n),i._sortErrors=wk(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),r=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),r)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return ug(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,r])=>e.includes(i)&&e.includes(r)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let r=Vo.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return r4(s,e)&&(o=Object.assign({},s),i||delete o[e],o[n]=r(s)),o})}json(){return this.transform(xk)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||lg.exact,test(n){if(n==null)return!0;const i=cA(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=lg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(r){if(r==null)return!0;const s=cA(this.schema,r);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=lg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const r of Object.keys(n))i[e(r)]=n[r];return i})}camelCase(){return this.transformKeys(zv.camelCase)}snakeCase(){return this.transformKeys(zv.snakeCase)}constantCase(){return this.transformKeys(e=>zv.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[s,o]of Object.entries(n.fields)){var r;let c=e;(r=c)!=null&&r.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[s]})),i.fields[s]=o.describe(c)}return i}}Ja.prototype=Ek.prototype;function Ck(t){return new Tk(t)}class Tk extends Sr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const i=super._cast(e,n);if(!this._typeCheck(i)||!this.innerType)return i;let r=!1;const s=i.map((o,c)=>{const u=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${c}]`,parent:i,originalValue:o,value:o,index:c}));return u!==o&&(r=!0),u});return r?s:i}_validate(e,n={},i,r){var s;let o=this.innerType,c=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,i,(u,d)=>{var h;if(!c||!o||!this._typeCheck(d)){r(u,d);return}let p=new Array(d.length);for(let y=0;y<d.length;y++){var m;p[y]=o.asNestedTest({options:n,index:y,parent:d,parentPath:n.path,originalParent:(m=n.originalValue)!=null?m:e})}this.runTests({value:d,tests:p,originalValue:(h=n.originalValue)!=null?h:e,options:n},i,y=>r(y.concat(u),d))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(xk)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!vp(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Vs(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=cg.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n){return n=n||cg.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n){return n=n||cg.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(i,r,s)=>!e(i,r,s):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);if(n.innerType){var r;let s=e;(r=s)!=null&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),i.innerType=n.innerType.describe(s)}return i}}Ck.prototype=Tk.prototype;const cn=Di().required("This field is required");jn().required("This field is required").min(0,"Value must be at least 0");const Zr=jn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Value must be at least 0"),a4=t=>t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0,o4=Ja({machine_name:cn.min(2,"Machine name must be at least 2 characters").max(100,"Machine name must be at most 100 characters").matches(/^[a-zA-Z0-9\s\-_]+$/,"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"),machine_type:cn,department:cn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:cn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),status:cn.oneOf(["ACTIVE","INACTIVE"],"Invalid status"),min_web_width:Zr,max_web_width:Zr,min_bag_height:Zr,max_bag_height:Zr,standard_speed:Zr,setup_time_standard:Zr,changeover_color:Zr,changeover_material:Zr,active_shifts:Ck().of(Di().oneOf(["T1","T2","T3"]))}).test("web-width-logic","Minimum web width cannot exceed maximum web width",function(t){return t.min_web_width&&t.max_web_width?t.min_web_width<=t.max_web_width:!0}).test("bag-height-logic","Minimum bag height cannot exceed maximum bag height",function(t){return t.min_bag_height&&t.max_bag_height?t.min_bag_height<=t.max_bag_height:!0}),l4=Ja({name:cn.min(2,"Phase name must be at least 2 characters").max(100,"Phase name must be at most 100 characters"),department:cn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:cn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),numero_persone:jn().required("Number of people is required").min(1,"Number of people must be at least 1"),bag_width:Zr,bag_step:Zr,v_stampa:jn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Printing speed must be greater than 0")}),t_setup_stampa:jn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_stampa:jn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Hourly cost cannot be negative")}),v_conf:jn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Packaging speed must be greater than 0")}),t_setup_conf:jn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_conf:jn().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Hourly cost cannot be negative")})}).test("bag-width-step-logic","Bag width cannot be less than bag step",a4),uA=Ja({odp_number:cn.min(1,"Il numero ODP è obbligatorio"),article_code:cn.min(1,"Il codice articolo è obbligatorio"),work_center:cn.oneOf(["ZANICA","BUSTO_GAROLFO"],"Seleziona un centro di lavoro valido"),nome_cliente:cn.min(1,"Il nome del cliente è obbligatorio"),quantity:jn().required("La quantità è obbligatoria").min(0,"La quantità deve essere maggiore o uguale a 0").typeError("La quantità deve essere un numero valido"),delivery_date:sd().required("La data di consegna è obbligatoria").typeError("Inserisci una data di consegna valida"),customer_order_ref:cn.min(1,"Il riferimento ordine cliente è obbligatorio"),department:cn.oneOf(["STAMPA","CONFEZIONAMENTO"],"Seleziona un reparto valido"),status:Di().oneOf(["NOT SCHEDULED","SCHEDULED","IN PROGRESS","COMPLETED","CANCELLED"],"Stato non valido").default("NOT SCHEDULED"),quantity_completed:jn().min(0,"La quantità completata deve essere maggiore o uguale a 0").default(0),production_lot:Di().nullable(),description:Di().nullable(),bag_height:jn().nullable().transform(t=>isNaN(t)?null:t).min(0,"L'altezza busta deve essere maggiore o uguale a 0"),bag_width:jn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La larghezza busta deve essere maggiore o uguale a 0"),bag_step:jn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il passo busta deve essere maggiore o uguale a 0"),seal_sides:jn().nullable().transform(t=>isNaN(t)?null:t).oneOf([3,4],"I lati di sigillatura devono essere 3 o 4"),product_type:Di().nullable().oneOf(["CREMA","LIQUIDO","POLVERI"],"Seleziona un tipo di prodotto valido"),internal_customer_code:Di().nullable().test("not-empty-if-provided","Il codice cliente interno non può essere vuoto",function(t){return!t||t.trim().length>0}),external_customer_code:Di().nullable().test("not-empty-if-provided","Il codice cliente esterno non può essere vuoto",function(t){return!t||t.trim().length>0}),fase:Di().nullable(),duration:jn().nullable().transform(t=>isNaN(t)?null:t).min(0,"La durata deve essere maggiore o uguale a 0"),cost:jn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il costo deve essere maggiore o uguale a 0"),scheduled_start_time:sd().nullable(),scheduled_end_time:sd().nullable(),scheduled_machine_id:Di().nullable(),user_notes:Di().nullable(),asd_notes:Di().nullable(),material_availability_global:jn().nullable().transform(t=>isNaN(t)?null:t).min(0,"Material availability must be between 0 and 100").max(100,"Material availability must be between 0 and 100")}).test("bag-width-step-logic","La larghezza busta non può essere minore del passo busta",function(t){return t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0}).test("quantity-completed-logic","La quantità completata non può superare la quantità totale",function(t){return t.quantity&&t.quantity_completed!==void 0?t.quantity_completed<=t.quantity:!0}).test("scheduled-time-order","L'ora di fine programmata deve essere dopo l'ora di inizio",function(t){return t.scheduled_start_time&&t.scheduled_end_time?new Date(t.scheduled_end_time)>new Date(t.scheduled_start_time):!0}).test("scheduling-logic","I campi di programmazione devono essere tutti forniti o tutti nulli",function(t){const e=!!t.scheduled_start_time,n=!!t.scheduled_end_time,i=!!t.scheduled_machine_id;return e&&n&&i||!e&&!n&&!i}),c4=Ja({startDate:cn,startTime:cn,endDate:cn,endTime:cn}).test("date-logic","End date cannot be before start date",function(t){return t.startDate&&t.endDate?new Date(t.startDate)<=new Date(t.endDate):!0}).test("time-logic","End time must be after start time when dates are the same",function(t){return t.startDate&&t.endDate&&t.startDate===t.endDate&&t.startTime&&t.endTime?t.startTime<t.endTime:!0}),u4=Ja({email:cn.email("Please enter a valid email address"),password:cn.min(6,"Password must be at least 6 characters")}),d4=Ja({email:cn.email("Please enter a valid email address"),password:cn.min(6,"Password must be at least 6 characters"),confirmPassword:Di().required("Please confirm your password")}).test("passwords-match","Passwords must match",function(t){return t.password===t.confirmPassword}),f4=Ja({email:cn.email("Please enter a valid email address")}),h4=(t,e)=>{try{return e.validateSync(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(n){const i={};return n.inner.forEach(r=>{i[r.path]=r.message}),{isValid:!1,errors:i}}},g4={MACHINE:o4,PHASE:l4,ORDER:uA,BACKLOG:uA,OFF_TIME:c4,LOGIN:u4,SIGNUP:d4,FORGOT_PASSWORD:f4},Ak=()=>{const t=D.useCallback((m,y)=>{const _=g4[y];if(!_)throw new Error(`Unknown schema type: ${y}`);return h4(m,_)},[]),e=D.useCallback(m=>t(m,"MACHINE"),[t]),n=D.useCallback(m=>t(m,"PHASE"),[t]),i=D.useCallback(m=>t(m,"ORDER"),[t]),r=D.useCallback(m=>t(m,"OFF_TIME"),[t]),s=D.useCallback((m,y)=>t(m,y),[t]),o=D.useCallback((m,y)=>{const _={};return y.some(w=>w.scheduled_machine_id===m)&&(_.general="Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),{isValid:Object.keys(_).length===0,errors:_}},[]),c=D.useCallback(m=>{const y={};return m?(m.quantity_completed>0&&(y.general="Cannot delete order that has started production"),m.scheduled_machine_id&&(y.general="Cannot delete scheduled order. Please unschedule first."),{isValid:Object.keys(y).length===0,errors:y}):(y.general="Order is required",{isValid:!1,errors:y})},[]),u=D.useCallback((m,y,_,S)=>{const w={};return m?y?!_||!S?(w.general="Start and end times are required",{isValid:!1,errors:w}):(y.status!=="ACTIVE"&&(w.general=`Machine ${y.machine_name} is not active`),m.scheduled_machine_id&&m.scheduled_machine_id!==y.id&&(w.general="Order is already scheduled on a different machine"),m.fase||(w.general="Order must have a production phase selected"),(!m.quantity||m.quantity<=0)&&(w.general="Order must have a valid quantity"),(!m.duration||m.duration<=0)&&(w.general="Order must have calculated duration"),{isValid:Object.keys(w).length===0,errors:w}):(w.general="Machine is required",{isValid:!1,errors:w}):(w.general="Order is required",{isValid:!1,errors:w})},[]),d=D.useCallback((m,y)=>{const _={};if(!m)return _.general="Please select a production phase",{isValid:!1,errors:_};y.department&&m.department!==y.department&&(_.general=`Selected phase is for ${m.department} department, but order is for ${y.department}`),y.work_center&&m.work_center!==y.work_center&&(_.general=`Selected phase is for ${m.work_center} work center, but order is for ${y.work_center}`);const S=n(m);return S.isValid||Object.assign(_,S.errors),{isValid:Object.keys(_).length===0,errors:_}},[n]),h=D.useCallback((m,y)=>{if(m.status!=="ACTIVE")return!1;const _=m.active_shifts||[];if(_.length===0)return!1;const S=y.getUTCHours();return _.some(x=>{switch(x){case"T1":return S>=6&&S<14;case"T2":return S>=14&&S<22;case"T3":return S>=22||S<6;default:return!1}})},[]),p=D.useCallback(m=>({name:m?.machine_name||"Unknown Machine",type:m?.machine_type||"Unknown Type",department:m?.department||"Unknown Department",workCenter:m?.work_center||"Unknown Work Center",status:m?.status||"UNKNOWN",isActive:m?.status==="ACTIVE"}),[]);return{validate:t,validateMachine:e,validatePhase:n,validateOrder:i,validateOffTime:r,validateAuth:s,validateMachineDeletion:o,validateOrderDeletion:c,validateOrderScheduling:u,validatePhaseSelection:d,isMachineAvailable:h,getMachineDisplayInfo:p}},p4=(t,e,n=null)=>{const{phases:i}=uc(),[r,s]=D.useState(""),[o,c]=D.useState(!1),[u,d]=D.useState(null),[h,p]=D.useState({}),m=D.useRef(null),y=D.useMemo(()=>!i||i.length===0?[]:t||e?i.filter(I=>(!t||I.department===t)&&(!e||I.work_center===e)).filter(I=>I.name.toLowerCase().includes(r.toLowerCase())):[],[r,t,e,i]);D.useEffect(()=>{if(n&&i&&i.length>0&&!u){const A=i.find(I=>I.id===n);A&&(d(A),s(A.name),p({v_stampa:A.v_stampa||null,t_setup_stampa:A.t_setup_stampa||null,costo_h_stampa:A.costo_h_stampa||null,v_conf:A.v_conf||null,t_setup_conf:A.t_setup_conf||null,costo_h_conf:A.costo_h_conf||null}))}},[n,i,u]),D.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const _=D.useCallback((A,I)=>{const k=I===""?null:parseFloat(I);p(j=>({...j,[A]:k}))},[]),S=D.useCallback((A,I,k)=>{I("fase",A.id),d(A),s(A.name),c(!1),k("fase"),p({v_stampa:A.v_stampa||null,t_setup_stampa:A.t_setup_stampa||null,costo_h_stampa:A.costo_h_stampa||null,v_conf:A.v_conf||null,t_setup_conf:A.t_setup_conf||null,costo_h_conf:A.costo_h_conf||null})},[]),w=D.useCallback(()=>{s(""),d(null),p({})},[]),x=D.useCallback(()=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>c(!1),150)},[]);return D.useMemo(()=>({phaseSearch:r,setPhaseSearch:s,isDropdownVisible:o,setIsDropdownVisible:c,selectedPhase:u,setSelectedPhase:d,filteredPhases:y,editablePhaseParams:h,setEditablePhaseParams:p,handlePhaseParamChange:_,handlePhaseSelect:S,resetPhaseData:w,handleBlur:x,blurTimeoutRef:m}),[r,o,u,y,h,p,_,S,w,x])};function m4(t,e){const n=h3(e),i=new Set;if(n===0||n===6){for(let c=0;c<24;c++)i.add(c.toString());return Array.from(i)}for(let c=0;c<24;c++)i.add(c.toString());const{work_center:r,department:s,active_shifts:o=[]}=t;return o.forEach(c=>{if(c==="T3"){i.clear();return}if(c==="T2")for(let u=6;u<22;u++)i.delete(u.toString());if(c==="T1"){if(r===_t.BUSTO_GAROLFO){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=14;u<18;u++)i.delete(u.toString())}else if(r===_t.ZANICA)if(s===on.PACKAGING){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}else{for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}}}),Array.from(i).sort((c,u)=>parseInt(c)-parseInt(u))}function y4(t,e){const n=[],i=lk(new Date(e,0,1)),r=g5(new Date(e,11,31));for(const s of t){let o=new Date(i);for(;!g3(o,r);){const c=m4(s,o);c.length>0&&n.push({machine_id:s.id,date:Wn(o,"yyyy-MM-dd"),unavailable_hours:c}),o=$d(o,1)}}return n}const bt={machines:["machines"],machine:t=>["machines",t],machinesByWorkCenter:t=>["machines","workCenter",t],orders:["orders"],order:t=>["orders",t],phases:["phases"],phase:t=>["phases",t],machineAvailability:(t,e,n)=>["machineAvailability",t,e,n],machineAvailabilityForDate:(t,e)=>["machineAvailability",t,"date",e],machineAvailabilityForDateAllMachines:t=>["machineAvailability","allMachines",t]},bp=()=>el({queryKey:bt.machines,queryFn:()=>vt.getMachines(),staleTime:120*1e3}),v4=t=>el({queryKey:bt.machinesByWorkCenter(t),queryFn:()=>vt.getMachines().then(e=>t===_t.BOTH?e:e.filter(n=>n.work_center===t)),staleTime:120*1e3}),b4=()=>{const t=Pi();return Ks({mutationFn:async e=>{const n=await vt.addMachine(e);try{const i=new Date().getUTCFullYear(),r=y4([n],i);r.length>0&&await vt.bulkUpsertMachineAvailability(r),nl(`Machine "${n?.machine_name||"Unknown"}" added and calendar set successfully`)}catch(i){Xu(`Machine added, but failed to set calendar: ${i.message}`)}return n},onSuccess:e=>{t.invalidateQueries({queryKey:bt.machines}),t.invalidateQueries({queryKey:bt.machinesByWorkCenter()}),t.setQueryData(bt.machines,n=>n?[...n,e]:[e])}})},_4=()=>{const t=Pi();return Ks({mutationFn:({id:e,updates:n})=>vt.updateMachine(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:bt.machines}),t.invalidateQueries({queryKey:bt.machinesByWorkCenter()}),t.setQueryData(bt.machines,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(bt.machine(n),e),nl(`Machine "${e?.machine_name||"Unknown"}" updated successfully`)}})},S4=()=>{const t=Pi();return Ks({mutationFn:async e=>{const n=await vt.getMachines().then(i=>i.find(r=>r.id===e));return await vt.removeMachine(e),n},onSuccess:e=>{t.invalidateQueries({queryKey:bt.machines}),t.invalidateQueries({queryKey:bt.machinesByWorkCenter()}),t.setQueryData(bt.machines,n=>n?.filter(i=>i.id!==e.id)),t.removeQueries({queryKey:bt.machine(e.id)}),nl(`Machine "${e?.machine_name||"Unknown"}" deleted successfully`)}})},_p=()=>el({queryKey:bt.orders,queryFn:()=>vt.getOdpOrders(),staleTime:60*1e3}),w4=t=>el({queryKey:bt.order(t),queryFn:async()=>{try{return await vt.getOdpOrder(t)}catch{const i=(await vt.getOdpOrders()).find(r=>r.id===t);if(!i)throw new Error(`Order with id ${t} not found`);return i}},enabled:!!t,staleTime:60*1e3}),x4=()=>{const t=Pi();return Ks({mutationFn:e=>vt.addOdpOrder(e),onSuccess:e=>{t.invalidateQueries({queryKey:bt.orders}),t.setQueryData(bt.orders,n=>n?[e,...n]:[e])}})},E4=()=>{const t=Pi();return Ks({mutationFn:({id:e,updates:n})=>vt.updateOdpOrder(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:bt.orders}),t.setQueryData(bt.orders,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(bt.order(n),e)}})},C4=()=>{const t=Pi();return Ks({mutationFn:e=>vt.removeOdpOrder(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:bt.orders}),t.setQueryData(bt.orders,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:bt.order(n)})}})},a_=()=>el({queryKey:bt.phases,queryFn:()=>vt.getPhases(),staleTime:300*1e3}),T4=t=>el({queryKey:bt.phase(t),queryFn:()=>vt.getPhases().then(e=>e.find(n=>n.id===t)),enabled:!!t,staleTime:300*1e3}),A4=()=>{const t=Pi();return Ks({mutationFn:e=>vt.addPhase(e),onSuccess:e=>{t.invalidateQueries({queryKey:bt.phases}),t.setQueryData(bt.phases,n=>n?[...n,e]:[e])}})},R4=()=>{const t=Pi();return Ks({mutationFn:({id:e,updates:n})=>vt.updatePhase(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:bt.phases}),t.setQueryData(bt.phases,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(bt.phase(n),e)}})},D4=()=>{const t=Pi();return Ks({mutationFn:e=>vt.removePhase(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:bt.phases}),t.setQueryData(bt.phases,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:bt.phase(n)})}})},Aee=t=>el({queryKey:bt.machineAvailabilityForDateAllMachines(t),queryFn:()=>vt.getMachineAvailabilityForDateAllMachines(t),enabled:!!t,staleTime:30*1e3}),O4=()=>{const{data:t,isLoading:e,error:n}=bp(),{data:i,isLoading:r,error:s}=_p(),{data:o,isLoading:c,error:u}=a_(),{setMachines:d}=br(),{setOdpOrders:h}=ln(),{setPhases:p}=uc();return D.useEffect(()=>{t&&!e&&!n&&d(t)},[t,e,n,d]),D.useEffect(()=>{i&&!r&&!s&&h(i)},[i,r,s,h]),D.useEffect(()=>{o&&!c&&!u&&p(o)},[o,c,u,p]),{isLoading:e||r||c,errors:{machines:n,orders:s,phases:u}}};function k4(t,e){let n;try{n=t()}catch{return}return{getItem:r=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),c=(s=n.getItem(r))!=null?s:null;return c instanceof Promise?c.then(o):o(c)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const e0=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return e0(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return e0(i)(n)}}}},M4=(t,e)=>(n,i,r)=>{let s={storage:k4(()=>localStorage),partialize:S=>S,version:0,merge:(S,w)=>({...w,...S}),...e},o=!1;const c=new Set,u=new Set;let d=s.storage;if(!d)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},i,r);const h=()=>{const S=s.partialize({...i()});return d.setItem(s.name,{state:S,version:s.version})},p=r.setState;r.setState=(S,w)=>(p(S,w),h());const m=t((...S)=>(n(...S),h()),i,r);r.getInitialState=()=>m;let y;const _=()=>{var S,w;if(!d)return;o=!1,c.forEach(E=>{var A;return E((A=i())!=null?A:m)});const x=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(S=i())!=null?S:m))||void 0;return e0(d.getItem.bind(d))(s.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate){const A=s.migrate(E.state,E.version);return A instanceof Promise?A.then(I=>[!0,I]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var A;const[I,k]=E;if(y=s.merge(k,(A=i())!=null?A:m),n(y,!0),I)return h()}).then(()=>{x?.(y,void 0),y=i(),o=!0,u.forEach(E=>E(y))}).catch(E=>{x?.(void 0,E)})};return r.persist={setOptions:S=>{s={...s,...S},S.storage&&(d=S.storage)},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:S=>(c.add(S),()=>{c.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},s.skipHydration||_(),y||m},N4=M4;rl(N4(t=>({theme:"system",setTheme:e=>t({theme:e}),toggleTheme:()=>t(e=>({theme:e.theme==="light"?"dark":"light"}))}),{name:"theme-storage"}));function I4(){const{selectedWorkCenter:t,showConfirmDialog:e}=At(),n=as(),{data:i=[],isLoading:r,error:s}=v4(t),o=S4(),{handleAsync:c}=os("MachineryListPage");if(s)return C.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle macchine: ",s.message]});const u=D.useMemo(()=>[{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Stato",accessorKey:"status"},{header:"Larghezza Min (mm)",accessorKey:"min_web_width"},{header:"Larghezza Max (mm)",accessorKey:"max_web_width"},{header:"Altezza Min (mm)",accessorKey:"min_bag_height"},{header:"Altezza Max (mm)",accessorKey:"max_bag_height"},{header:"Velocità Std",accessorKey:"standard_speed"},{header:"Setup (h)",accessorKey:"setup_time_standard"},{header:"Cambio Colore (h)",accessorKey:"changeover_color"},{header:"Cambio Materiale (h)",accessorKey:"changeover_material"},{header:"Turni Attivi",accessorKey:"active_shifts",cell:p=>Array.isArray(p.getValue())?p.getValue().join(", "):""},{header:"Calendario",accessorKey:"id",cell:p=>C.jsx(Pn,{to:`/machinery/${p.getValue()}/calendar`,className:"inline-flex items-center px-1 py-1 border border-gray-300 rounded shadow-sm text-[10px] font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Visualizza Calendario"})}],[]),d=p=>{n(`/machinery/${p.id}/edit`)},h=async p=>{e("Elimina Macchina",`Sei sicuro di voler eliminare "${p.machine_name}"? Questa azione non può essere annullata.`,async()=>{await c(async()=>{await o.mutateAsync(p.id)},{context:"Delete Machine",fallbackMessage:"Eliminazione macchina fallita"})},"danger")};return r?C.jsx("div",{children:"Caricamento dati macchine..."}):t?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Macchine"}),C.jsx(Pn,{to:"/machinery/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Macchina"})]}),C.jsx(t_,{columns:u,data:i,onEditRow:d,onDeleteRow:h,enableGlobalSearch:!1})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle macchine."})}var Gd=t=>t.type==="checkbox",Fo=t=>t instanceof Date,Mi=t=>t==null;const Rk=t=>typeof t=="object";var Dn=t=>!Mi(t)&&!Array.isArray(t)&&Rk(t)&&!Fo(t),j4=t=>Dn(t)&&t.target?Gd(t.target)?t.target.checked:t.target.value:t,P4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,L4=(t,e)=>t.has(P4(e)),z4=t=>{const e=t.constructor&&t.constructor.prototype;return Dn(e)&&e.hasOwnProperty("isPrototypeOf")},o_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bn(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(o_&&(t instanceof Blob||i))&&(n||Dn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!z4(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Bn(t[r]));else return t;return e}var Sp=t=>/^\w*$/.test(t),bn=t=>t===void 0,l_=t=>Array.isArray(t)?t.filter(Boolean):[],c_=t=>l_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Re=(t,e,n)=>{if(!e||!Dn(t))return n;const i=(Sp(e)?[e]:c_(e)).reduce((r,s)=>Mi(r)?r:r[s],t);return bn(i)||i===t?bn(t[e])?n:t[e]:i},ts=t=>typeof t=="boolean",nn=(t,e,n)=>{let i=-1;const r=Sp(e)?[e]:c_(e),s=r.length,o=s-1;for(;++i<s;){const c=r[i];let u=n;if(i!==o){const d=t[c];u=Dn(d)||Array.isArray(d)?d:isNaN(+r[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const dA={BLUR:"blur",FOCUS_OUT:"focusout"},Nr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ds={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},U4=ce.createContext(null);U4.displayName="HookFormContext";var F4=(t,e,n,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(r,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Nr.all&&(e._proxyFormState[o]=!i||Nr.all),t[o]}});return r};const H4=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;var Wi=t=>typeof t=="string",B4=(t,e,n,i,r)=>Wi(t)?(i&&e.watch.add(t),Re(n,t,r)):Array.isArray(t)?t.map(s=>(i&&e.watch.add(s),Re(n,s))):(i&&(e.watchAll=!0),n),t0=t=>Mi(t)||!Rk(t);function Ma(t,e,n=new WeakSet){if(t0(t)||t0(e))return t===e;if(Fo(t)&&Fo(e))return t.getTime()===e.getTime();const i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of i){const o=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const c=e[s];if(Fo(o)&&Fo(c)||Dn(o)&&Dn(c)||Array.isArray(o)&&Array.isArray(c)?!Ma(o,c,n):o!==c)return!1}}return!0}var V4=(t,e,n,i,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:r||!0}}:{},ad=t=>Array.isArray(t)?t:[t],fA=()=>{let t=[];return{get observers(){return t},next:r=>{for(const s of t)s.next&&s.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(s=>s!==r)}}),unsubscribe:()=>{t=[]}}};function Dk(t,e){const n={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i],s=e[i];if(r&&Dn(r)&&s){const o=Dk(r,s);Dn(o)&&(n[i]=o)}else t[i]&&(n[i]=s)}return n}var Oi=t=>Dn(t)&&!Object.keys(t).length,u_=t=>t.type==="file",Ir=t=>typeof t=="function",Mg=t=>{if(!o_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ok=t=>t.type==="select-multiple",d_=t=>t.type==="radio",$4=t=>d_(t)||Gd(t),Uv=t=>Mg(t)&&t.isConnected;function q4(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=bn(t)?i++:t[e[i++]];return t}function G4(t){for(const e in t)if(t.hasOwnProperty(e)&&!bn(t[e]))return!1;return!0}function An(t,e){const n=Array.isArray(e)?e:Sp(e)?[e]:c_(e),i=n.length===1?t:q4(t,n),r=n.length-1,s=n[r];return i&&delete i[s],r!==0&&(Dn(i)&&Oi(i)||Array.isArray(i)&&G4(i))&&An(t,n.slice(0,-1)),t}var W4=t=>{for(const e in t)if(Ir(t[e]))return!0;return!1};function kk(t){return Array.isArray(t)||Dn(t)&&!W4(t)}function n0(t,e={}){for(const n in t)kk(t[n])?(e[n]=Array.isArray(t[n])?[]:{},n0(t[n],e[n])):bn(t[n])||(e[n]=!0);return e}function lc(t,e,n){n||(n=n0(e));for(const i in t)kk(t[i])?bn(e)||t0(n[i])?n[i]=n0(t[i],Array.isArray(t[i])?[]:{}):lc(t[i],Mi(e)?{}:e[i],n[i]):n[i]=!Ma(t[i],e[i]);return n}const hA={value:!1,isValid:!1},gA={value:!0,isValid:!0};var Mk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!bn(t[0].attributes.value)?bn(t[0].value)||t[0].value===""?gA:{value:t[0].value,isValid:!0}:gA:hA}return hA},Nk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>bn(t)?t:e?t===""?NaN:t&&+t:n&&Wi(t)?new Date(t):i?i(t):t;const pA={isValid:!1,value:null};var Ik=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,pA):pA;function mA(t){const e=t.ref;return u_(e)?e.files:d_(e)?Ik(t.refs).value:Ok(e)?[...e.selectedOptions].map(({value:n})=>n):Gd(e)?Mk(t.refs).value:Nk(bn(e.value)?t.ref.value:e.value,t)}var Y4=(t,e,n,i)=>{const r={};for(const s of t){const o=Re(e,s);o&&nn(r,s,o._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:i}},Ng=t=>t instanceof RegExp,Vu=t=>bn(t)?t:Ng(t)?t.source:Dn(t)?Ng(t.value)?t.value.source:t.value:t,yA=t=>({isOnSubmit:!t||t===Nr.onSubmit,isOnBlur:t===Nr.onBlur,isOnChange:t===Nr.onChange,isOnAll:t===Nr.all,isOnTouch:t===Nr.onTouched});const vA="AsyncFunction";var Q4=t=>!!t&&!!t.validate&&!!(Ir(t.validate)&&t.validate.constructor.name===vA||Dn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vA)),K4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),bA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const od=(t,e,n,i)=>{for(const r of n||Object.keys(t)){const s=Re(t,r);if(s){const{_f:o,...c}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!i)return!0;if(o.ref&&e(o.ref,o.name)&&!i)return!0;if(od(c,e))break}else if(Dn(c)&&od(c,e))break}}};function _A(t,e,n){const i=Re(t,n);if(i||Sp(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const s=r.join("."),o=Re(e,s),c=Re(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(c&&c.type)return{name:s,error:c};if(c&&c.root&&c.root.type)return{name:`${s}.root`,error:c.root};r.pop()}return{name:n}}var X4=(t,e,n,i)=>{n(t);const{name:r,...s}=t;return Oi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!i||Nr.all))},Z4=(t,e,n)=>!t||!e||t===e||ad(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),J4=(t,e,n,i,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?i.isOnBlur:r.isOnBlur)?!t:(n?i.isOnChange:r.isOnChange)?t:!0,e6=(t,e)=>!l_(Re(t,e)).length&&An(t,e),t6=(t,e,n)=>{const i=ad(Re(t,n));return nn(i,"root",e[n]),nn(t,n,i),t};function SA(t,e,n="validate"){if(Wi(t)||Array.isArray(t)&&t.every(Wi)||ts(t)&&!t)return{type:n,message:Wi(t)?t:"",ref:e}}var ic=t=>Dn(t)&&!Ng(t)?t:{value:t,message:""},wA=async(t,e,n,i,r,s)=>{const{ref:o,refs:c,required:u,maxLength:d,minLength:h,min:p,max:m,pattern:y,validate:_,name:S,valueAsNumber:w,mount:x}=t._f,E=Re(n,S);if(!x||e.has(S))return{};const A=c?c[0]:o,I=Q=>{r&&A.reportValidity&&(A.setCustomValidity(ts(Q)?"":Q||""),A.reportValidity())},k={},j=d_(o),M=Gd(o),O=j||M,U=(w||u_(o))&&bn(o.value)&&bn(E)||Mg(o)&&o.value===""||E===""||Array.isArray(E)&&!E.length,B=V4.bind(null,S,i,k),$=(Q,ae,pe,ve=Ds.maxLength,F=Ds.minLength)=>{const K=Q?ae:pe;k[S]={type:Q?ve:F,message:K,ref:o,...B(Q?ve:F,K)}};if(s?!Array.isArray(E)||!E.length:u&&(!O&&(U||Mi(E))||ts(E)&&!E||M&&!Mk(c).isValid||j&&!Ik(c).isValid)){const{value:Q,message:ae}=Wi(u)?{value:!!u,message:u}:ic(u);if(Q&&(k[S]={type:Ds.required,message:ae,ref:A,...B(Ds.required,ae)},!i))return I(ae),k}if(!U&&(!Mi(p)||!Mi(m))){let Q,ae;const pe=ic(m),ve=ic(p);if(!Mi(E)&&!isNaN(E)){const F=o.valueAsNumber||E&&+E;Mi(pe.value)||(Q=F>pe.value),Mi(ve.value)||(ae=F<ve.value)}else{const F=o.valueAsDate||new Date(E),K=me=>new Date(new Date().toDateString()+" "+me),ue=o.type=="time",re=o.type=="week";Wi(pe.value)&&E&&(Q=ue?K(E)>K(pe.value):re?E>pe.value:F>new Date(pe.value)),Wi(ve.value)&&E&&(ae=ue?K(E)<K(ve.value):re?E<ve.value:F<new Date(ve.value))}if((Q||ae)&&($(!!Q,pe.message,ve.message,Ds.max,Ds.min),!i))return I(k[S].message),k}if((d||h)&&!U&&(Wi(E)||s&&Array.isArray(E))){const Q=ic(d),ae=ic(h),pe=!Mi(Q.value)&&E.length>+Q.value,ve=!Mi(ae.value)&&E.length<+ae.value;if((pe||ve)&&($(pe,Q.message,ae.message),!i))return I(k[S].message),k}if(y&&!U&&Wi(E)){const{value:Q,message:ae}=ic(y);if(Ng(Q)&&!E.match(Q)&&(k[S]={type:Ds.pattern,message:ae,ref:o,...B(Ds.pattern,ae)},!i))return I(ae),k}if(_){if(Ir(_)){const Q=await _(E,n),ae=SA(Q,A);if(ae&&(k[S]={...ae,...B(Ds.validate,ae.message)},!i))return I(ae.message),k}else if(Dn(_)){let Q={};for(const ae in _){if(!Oi(Q)&&!i)break;const pe=SA(await _[ae](E,n),A,ae);pe&&(Q={...pe,...B(ae,pe.message)},I(pe.message),i&&(k[S]=Q))}if(!Oi(Q)&&(k[S]={ref:A,...Q},!i))return k}}return I(!0),k};const n6={mode:Nr.onSubmit,reValidateMode:Nr.onChange,shouldFocusError:!0};function i6(t={}){let e={...n6,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ir(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=Dn(e.defaultValues)||Dn(e.values)?Bn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Bn(r),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const m={array:fA(),state:fA()},y=e.criteriaMode===Nr.all,_=P=>G=>{clearTimeout(d),d=setTimeout(P,G)},S=async P=>{if(!e.disabled&&(h.isValid||p.isValid||P)){const G=e.resolver?Oi((await M()).errors):await U(i,!0);G!==n.isValid&&m.state.next({isValid:G})}},w=(P,G)=>{!e.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((P||Array.from(c.mount)).forEach(X=>{X&&(G?nn(n.validatingFields,X,G):An(n.validatingFields,X))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Oi(n.validatingFields)}))},x=(P,G=[],X,Y,te=!0,oe=!0)=>{if(Y&&X&&!e.disabled){if(o.action=!0,oe&&Array.isArray(Re(i,P))){const ye=X(Re(i,P),Y.argA,Y.argB);te&&nn(i,P,ye)}if(oe&&Array.isArray(Re(n.errors,P))){const ye=X(Re(n.errors,P),Y.argA,Y.argB);te&&nn(n.errors,P,ye),e6(n.errors,P)}if((h.touchedFields||p.touchedFields)&&oe&&Array.isArray(Re(n.touchedFields,P))){const ye=X(Re(n.touchedFields,P),Y.argA,Y.argB);te&&nn(n.touchedFields,P,ye)}(h.dirtyFields||p.dirtyFields)&&(n.dirtyFields=lc(r,s)),m.state.next({name:P,isDirty:$(P,G),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else nn(s,P,G)},E=(P,G)=>{nn(n.errors,P,G),m.state.next({errors:n.errors})},A=P=>{n.errors=P,m.state.next({errors:n.errors,isValid:!1})},I=(P,G,X,Y)=>{const te=Re(i,P);if(te){const oe=Re(s,P,bn(X)?Re(r,P):X);bn(oe)||Y&&Y.defaultChecked||G?nn(s,P,G?oe:mA(te._f)):pe(P,oe),o.mount&&S()}},k=(P,G,X,Y,te)=>{let oe=!1,ye=!1;const be={name:P};if(!e.disabled){if(!X||Y){(h.isDirty||p.isDirty)&&(ye=n.isDirty,n.isDirty=be.isDirty=$(),oe=ye!==be.isDirty);const we=Ma(Re(r,P),G);ye=!!Re(n.dirtyFields,P),we?An(n.dirtyFields,P):nn(n.dirtyFields,P,!0),be.dirtyFields=n.dirtyFields,oe=oe||(h.dirtyFields||p.dirtyFields)&&ye!==!we}if(X){const we=Re(n.touchedFields,P);we||(nn(n.touchedFields,P,X),be.touchedFields=n.touchedFields,oe=oe||(h.touchedFields||p.touchedFields)&&we!==X)}oe&&te&&m.state.next(be)}return oe?be:{}},j=(P,G,X,Y)=>{const te=Re(n.errors,P),oe=(h.isValid||p.isValid)&&ts(G)&&n.isValid!==G;if(e.delayError&&X?(u=_(()=>E(P,X)),u(e.delayError)):(clearTimeout(d),u=null,X?nn(n.errors,P,X):An(n.errors,P)),(X?!Ma(te,X):te)||!Oi(Y)||oe){const ye={...Y,...oe&&ts(G)?{isValid:G}:{},errors:n.errors,name:P};n={...n,...ye},m.state.next(ye)}},M=async P=>{w(P,!0);const G=await e.resolver(s,e.context,Y4(P||c.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return w(P),G},O=async P=>{const{errors:G}=await M(P);if(P)for(const X of P){const Y=Re(G,X);Y?nn(n.errors,X,Y):An(n.errors,X)}else n.errors=G;return G},U=async(P,G,X={valid:!0})=>{for(const Y in P){const te=P[Y];if(te){const{_f:oe,...ye}=te;if(oe){const be=c.array.has(oe.name),we=te._f&&Q4(te._f);we&&h.validatingFields&&w([oe.name],!0);const ke=await wA(te,c.disabled,s,y,e.shouldUseNativeValidation&&!G,be);if(we&&h.validatingFields&&w([oe.name]),ke[oe.name]&&(X.valid=!1,G))break;!G&&(Re(ke,oe.name)?be?t6(n.errors,ke,oe.name):nn(n.errors,oe.name,ke[oe.name]):An(n.errors,oe.name))}!Oi(ye)&&await U(ye,G,X)}}return X.valid},B=()=>{for(const P of c.unMount){const G=Re(i,P);G&&(G._f.refs?G._f.refs.every(X=>!Uv(X)):!Uv(G._f.ref))&&_e(P)}c.unMount=new Set},$=(P,G)=>!e.disabled&&(P&&G&&nn(s,P,G),!Ma(me(),r)),Q=(P,G,X)=>B4(P,c,{...o.mount?s:bn(G)?r:Wi(P)?{[P]:G}:G},X,G),ae=P=>l_(Re(o.mount?s:r,P,e.shouldUnregister?Re(r,P,[]):[])),pe=(P,G,X={})=>{const Y=Re(i,P);let te=G;if(Y){const oe=Y._f;oe&&(!oe.disabled&&nn(s,P,Nk(G,oe)),te=Mg(oe.ref)&&Mi(G)?"":G,Ok(oe.ref)?[...oe.ref.options].forEach(ye=>ye.selected=te.includes(ye.value)):oe.refs?Gd(oe.ref)?oe.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(te)?ye.checked=!!te.find(be=>be===ye.value):ye.checked=te===ye.value||!!te)}):oe.refs.forEach(ye=>ye.checked=ye.value===te):u_(oe.ref)?oe.ref.value="":(oe.ref.value=te,oe.ref.type||m.state.next({name:P,values:Bn(s)})))}(X.shouldDirty||X.shouldTouch)&&k(P,te,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&re(P)},ve=(P,G,X)=>{for(const Y in G){if(!G.hasOwnProperty(Y))return;const te=G[Y],oe=P+"."+Y,ye=Re(i,oe);(c.array.has(P)||Dn(te)||ye&&!ye._f)&&!Fo(te)?ve(oe,te,X):pe(oe,te,X)}},F=(P,G,X={})=>{const Y=Re(i,P),te=c.array.has(P),oe=Bn(G);nn(s,P,oe),te?(m.array.next({name:P,values:Bn(s)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&X.shouldDirty&&m.state.next({name:P,dirtyFields:lc(r,s),isDirty:$(P,oe)})):Y&&!Y._f&&!Mi(oe)?ve(P,oe,X):pe(P,oe,X),bA(P,c)&&m.state.next({...n,name:P}),m.state.next({name:o.mount?P:void 0,values:Bn(s)})},K=async P=>{o.mount=!0;const G=P.target;let X=G.name,Y=!0;const te=Re(i,X),oe=we=>{Y=Number.isNaN(we)||Fo(we)&&isNaN(we.getTime())||Ma(we,Re(s,X,we))},ye=yA(e.mode),be=yA(e.reValidateMode);if(te){let we,ke;const Qe=G.type?mA(te._f):j4(P),Ve=P.type===dA.BLUR||P.type===dA.FOCUS_OUT,ut=!K4(te._f)&&!e.resolver&&!Re(n.errors,X)&&!te._f.deps||J4(Ve,Re(n.touchedFields,X),n.isSubmitted,be,ye),it=bA(X,c,Ve);nn(s,X,Qe),Ve?(!G||!G.readOnly)&&(te._f.onBlur&&te._f.onBlur(P),u&&u(0)):te._f.onChange&&te._f.onChange(P);const Lt=k(X,Qe,Ve),rt=!Oi(Lt)||it;if(!Ve&&m.state.next({name:X,type:P.type,values:Bn(s)}),ut)return(h.isValid||p.isValid)&&(e.mode==="onBlur"?Ve&&S():Ve||S()),rt&&m.state.next({name:X,...it?{}:Lt});if(!Ve&&it&&m.state.next({...n}),e.resolver){const{errors:Fe}=await M([X]);if(oe(Qe),Y){const mn=_A(n.errors,i,X),Je=_A(Fe,i,mn.name||X);we=Je.error,X=Je.name,ke=Oi(Fe)}}else w([X],!0),we=(await wA(te,c.disabled,s,y,e.shouldUseNativeValidation))[X],w([X]),oe(Qe),Y&&(we?ke=!1:(h.isValid||p.isValid)&&(ke=await U(i,!0)));Y&&(te._f.deps&&(!Array.isArray(te._f.deps)||te._f.deps.length>0)&&re(te._f.deps),j(X,ke,we,Lt))}},ue=(P,G)=>{if(Re(n.errors,G)&&P.focus)return P.focus(),1},re=async(P,G={})=>{let X,Y;const te=ad(P);if(e.resolver){const oe=await O(bn(P)?P:te);X=Oi(oe),Y=P?!te.some(ye=>Re(oe,ye)):X}else P?(Y=(await Promise.all(te.map(async oe=>{const ye=Re(i,oe);return await U(ye&&ye._f?{[oe]:ye}:ye)}))).every(Boolean),!(!Y&&!n.isValid)&&S()):Y=X=await U(i);return m.state.next({...!Wi(P)||(h.isValid||p.isValid)&&X!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:X}:{},errors:n.errors}),G.shouldFocus&&!Y&&od(i,ue,P?te:c.mount),Y},me=(P,G)=>{let X={...o.mount?s:r};return G&&(X=Dk(G.dirtyFields?n.dirtyFields:n.touchedFields,X)),bn(P)?X:Wi(P)?Re(X,P):P.map(Y=>Re(X,Y))},R=(P,G)=>({invalid:!!Re((G||n).errors,P),isDirty:!!Re((G||n).dirtyFields,P),error:Re((G||n).errors,P),isValidating:!!Re(n.validatingFields,P),isTouched:!!Re((G||n).touchedFields,P)}),z=P=>{P&&ad(P).forEach(G=>An(n.errors,G)),m.state.next({errors:P?n.errors:{}})},q=(P,G,X)=>{const Y=(Re(i,P,{_f:{}})._f||{}).ref,te=Re(n.errors,P)||{},{ref:oe,message:ye,type:be,...we}=te;nn(n.errors,P,{...we,...G,ref:Y}),m.state.next({name:P,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&Y&&Y.focus&&Y.focus()},J=(P,G)=>Ir(P)?m.state.subscribe({next:X=>"values"in X&&P(Q(void 0,G),X)}):Q(P,G,!0),fe=P=>m.state.subscribe({next:G=>{Z4(P.name,G.name,P.exact)&&X4(G,P.formState||h,Ht,P.reRenderRoot)&&P.callback({values:{...s},...n,...G,defaultValues:r})}}).unsubscribe,ge=P=>(o.mount=!0,p={...p,...P.formState},fe({...P,formState:p})),_e=(P,G={})=>{for(const X of P?ad(P):c.mount)c.mount.delete(X),c.array.delete(X),G.keepValue||(An(i,X),An(s,X)),!G.keepError&&An(n.errors,X),!G.keepDirty&&An(n.dirtyFields,X),!G.keepTouched&&An(n.touchedFields,X),!G.keepIsValidating&&An(n.validatingFields,X),!e.shouldUnregister&&!G.keepDefaultValue&&An(r,X);m.state.next({values:Bn(s)}),m.state.next({...n,...G.keepDirty?{isDirty:$()}:{}}),!G.keepIsValid&&S()},Se=({disabled:P,name:G})=>{(ts(P)&&o.mount||P||c.disabled.has(G))&&(P?c.disabled.add(G):c.disabled.delete(G))},Oe=(P,G={})=>{let X=Re(i,P);const Y=ts(G.disabled)||ts(e.disabled);return nn(i,P,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:P}},name:P,mount:!0,...G}}),c.mount.add(P),X?Se({disabled:ts(G.disabled)?G.disabled:e.disabled,name:P}):I(P,!0,G.value),{...Y?{disabled:G.disabled||e.disabled}:{},...e.progressive?{required:!!G.required,min:Vu(G.min),max:Vu(G.max),minLength:Vu(G.minLength),maxLength:Vu(G.maxLength),pattern:Vu(G.pattern)}:{},name:P,onChange:K,onBlur:K,ref:te=>{if(te){Oe(P,G),X=Re(i,P);const oe=bn(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,ye=$4(oe),be=X._f.refs||[];if(ye?be.find(we=>we===oe):oe===X._f.ref)return;nn(i,P,{_f:{...X._f,...ye?{refs:[...be.filter(Uv),oe,...Array.isArray(Re(r,P))?[{}]:[]],ref:{type:oe.type,name:P}}:{ref:oe}}}),I(P,!1,void 0,oe)}else X=Re(i,P,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||G.shouldUnregister)&&!(L4(c.array,P)&&o.action)&&c.unMount.add(P)}}},tt=()=>e.shouldFocusError&&od(i,ue,c.mount),Jt=P=>{ts(P)&&(m.state.next({disabled:P}),od(i,(G,X)=>{const Y=Re(i,X);Y&&(G.disabled=Y._f.disabled||P,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(te=>{te.disabled=Y._f.disabled||P}))},0,!1))},qt=(P,G)=>async X=>{let Y;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let te=Bn(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:ye}=await M();n.errors=oe,te=Bn(ye)}else await U(i);if(c.disabled.size)for(const oe of c.disabled)An(te,oe);if(An(n.errors,"root"),Oi(n.errors)){m.state.next({errors:{}});try{await P(te,X)}catch(oe){Y=oe}}else G&&await G({...n.errors},X),tt(),setTimeout(tt);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Oi(n.errors)&&!Y,submitCount:n.submitCount+1,errors:n.errors}),Y)throw Y},bi=(P,G={})=>{Re(i,P)&&(bn(G.defaultValue)?F(P,Bn(Re(r,P))):(F(P,G.defaultValue),nn(r,P,Bn(G.defaultValue))),G.keepTouched||An(n.touchedFields,P),G.keepDirty||(An(n.dirtyFields,P),n.isDirty=G.defaultValue?$(P,Bn(Re(r,P))):$()),G.keepError||(An(n.errors,P),h.isValid&&S()),m.state.next({...n}))},Ee=(P,G={})=>{const X=P?Bn(P):r,Y=Bn(X),te=Oi(P),oe=te?r:Y;if(G.keepDefaultValues||(r=X),!G.keepValues){if(G.keepDirtyValues){const ye=new Set([...c.mount,...Object.keys(lc(r,s))]);for(const be of Array.from(ye))Re(n.dirtyFields,be)?nn(oe,be,Re(s,be)):F(be,Re(oe,be))}else{if(o_&&bn(P))for(const ye of c.mount){const be=Re(i,ye);if(be&&be._f){const we=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(Mg(we)){const ke=we.closest("form");if(ke){ke.reset();break}}}}if(G.keepFieldsRef)for(const ye of c.mount)F(ye,Re(oe,ye));else i={}}s=e.shouldUnregister?G.keepDefaultValues?Bn(r):{}:Bn(oe),m.array.next({values:{...oe}}),m.state.next({values:{...oe}})}c={mount:G.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:G.keepSubmitCount?n.submitCount:0,isDirty:te?!1:G.keepDirty?n.isDirty:!!(G.keepDefaultValues&&!Ma(P,r)),isSubmitted:G.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:te?{}:G.keepDirtyValues?G.keepDefaultValues&&s?lc(r,s):n.dirtyFields:G.keepDefaultValues&&P?lc(r,P):G.keepDirty?n.dirtyFields:{},touchedFields:G.keepTouched?n.touchedFields:{},errors:G.keepErrors?n.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},He=(P,G)=>Ee(Ir(P)?P(s):P,G),nt=(P,G={})=>{const X=Re(i,P),Y=X&&X._f;if(Y){const te=Y.refs?Y.refs[0]:Y.ref;te.focus&&(te.focus(),G.shouldSelect&&Ir(te.select)&&te.select())}},Ht=P=>{n={...n,...P}},Ye={control:{register:Oe,unregister:_e,getFieldState:R,handleSubmit:qt,setError:q,_subscribe:fe,_runSchema:M,_focusError:tt,_getWatch:Q,_getDirty:$,_setValid:S,_setFieldArray:x,_setDisabledField:Se,_setErrors:A,_getFieldArray:ae,_reset:Ee,_resetDefaultValues:()=>Ir(e.defaultValues)&&e.defaultValues().then(P=>{He(P,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:Jt,_subjects:m,_proxyFormState:h,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(P){o=P},get _defaultValues(){return r},get _names(){return c},set _names(P){c=P},get _formState(){return n},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:ge,trigger:re,register:Oe,handleSubmit:qt,watch:J,setValue:F,getValues:me,reset:He,resetField:bi,clearErrors:z,unregister:_e,setError:q,setFocus:nt,getFieldState:R};return{...Ye,formControl:Ye}}function r6(t={}){const e=ce.useRef(void 0),n=ce.useRef(void 0),[i,r]=ce.useState({isDirty:!1,isValidating:!1,isLoading:Ir(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ir(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!Ir(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...c}=i6(t);e.current={...c,formState:i}}const s=e.current.control;return s._options=t,H4(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r(c=>({...c,isReady:!0})),s._formState.isReady=!0,o},[s]),ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ce.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),ce.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),ce.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),ce.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==i.isDirty&&s._subjects.state.next({isDirty:o})}},[s,i.isDirty]),ce.useEffect(()=>{t.values&&!Ma(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,r(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=F4(i,s),e.current}function wp({config:t,initialData:e={},onSubmit:n,onSuccess:i,isEditMode:r=!1,isLoading:s=!1,customActions:o=null,customFieldRenderers:c={},className:u="p-1 bg-card rounded-lg shadow-sm border"}){const{handleAsync:d}=os("GenericForm");Ak();const h=D.useMemo(()=>{const O={};return t.sections.forEach(U=>{U.fields.forEach(B=>{B.name in e?O[B.name]=e[B.name]:B.defaultValue!==void 0?O[B.name]=B.defaultValue:O[B.name]=""})}),O},[t,e]),{register:p,handleSubmit:m,formState:{isSubmitting:y,errors:_},watch:S,setValue:w,getValues:x,reset:E,clearErrors:A}=r6({defaultValues:h,mode:"onChange"}),I=async O=>{await d(async()=>{await n(O),i&&i(),E(h)},{context:r?t.editContext:t.addContext,fallbackMessage:r?t.editErrorMessage:t.addErrorMessage})},k=O=>{const U=S(O.name);if(O.conditional&&!O.conditional(U,S,x))return null;if(c[O.type])return c[O.type](O,{watch:S,setValue:w,getValues:x,register:p,isSubmitting:y,fieldValue:U});const B={id:O.name,placeholder:O.placeholder,disabled:O.disabled||y,className:O.className||"",...p(O.name,O.validation||{})};switch(O.type){case"select":return C.jsxs("div",{children:[C.jsxs("select",{...p(O.name,O.validation),disabled:O.disabled||y,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${_[O.name]?"border-red-500":"border-input"}`,children:[C.jsx("option",{value:"",children:O.placeholder||`Seleziona ${O.label.toLowerCase()}`}),O.options?.map($=>C.jsx("option",{value:$.value,children:$.label},$.value))]}),_[O.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:_[O.name].message})]});case"textarea":return C.jsxs("div",{children:[C.jsx("textarea",{...B,rows:O.rows||3,className:`w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent ${O.className||""} ${_[O.name]?"border-destructive":""}`}),_[O.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:_[O.name].message})]});case"checkbox":return C.jsx("div",{className:"flex flex-wrap gap-2",children:O.options?.map($=>C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("input",{type:"checkbox",id:`${O.name}_${$.value}`,value:$.value,checked:U?.includes($.value)||!1,onChange:Q=>{const ae=x(O.name)||[];Q.target.checked?w(O.name,[...ae,$.value].sort(),{shouldValidate:!0}):w(O.name,ae.filter(pe=>pe!==$.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),C.jsx(oi,{htmlFor:`${O.name}_${$.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:$.label})]},$.value))});case"datetime-local":return C.jsxs("div",{children:[C.jsx($n,{type:"datetime-local",...B,className:`${B.className} ${_[O.name]?"border-red-500":""}`}),_[O.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:_[O.name].message})]});case"date":return C.jsxs("div",{children:[C.jsx($n,{type:"date",...B,className:`${B.className} ${_[O.name]?"border-red-500":""}`}),_[O.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:_[O.name].message})]});case"time":return C.jsxs("div",{children:[C.jsx($n,{type:"time",...B,className:`${B.className} ${_[O.name]?"border-red-500":""}`}),_[O.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:_[O.name].message})]});case"number":return C.jsxs("div",{children:[C.jsx($n,{type:"number",...B,className:`${B.className} ${_[O.name]?"border-red-500":""}`}),_[O.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:_[O.name].message})]});case"text":default:return C.jsxs("div",{children:[C.jsx($n,{type:"text",...B,className:`${B.className} ${_[O.name]?"border-red-500":""}`}),_[O.name]&&C.jsx("p",{className:"text-sm text-destructive mt-1",children:_[O.name].message})]})}},j=O=>{const U=O.fields.filter(B=>!B.conditional||B.conditional(S(B.name),S,x));return U.length===0?null:C.jsxs("div",{className:"space-y-4",children:[C.jsx("h2",{className:"text-lg font-semibold text-foreground",children:O.title}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map(B=>C.jsxs("div",{className:"space-y-2",children:[C.jsxs(oi,{htmlFor:B.name,className:"text-sm font-medium text-foreground",children:[B.label," ",B.required&&C.jsx("span",{className:"text-destructive",children:"*"})]}),k(B),B.helpText&&C.jsx("p",{className:"text-xs text-muted-foreground",children:B.helpText})]},B.name))})]},O.title)},M=O=>c[O]?c[O]():null;return C.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm p-6",children:C.jsxs("form",{onSubmit:m(I),noValidate:!0,className:"space-y-6",children:[t.sections.map(j),t.customFields&&Object.keys(t.customFields).map(O=>C.jsx("div",{children:M(O)},O)),o&&C.jsx("div",{className:"space-y-4",children:o}),C.jsx("div",{className:"flex justify-end pt-6 border-t border-border",children:C.jsx(Bo,{type:"submit",disabled:s||y,children:s||y?r?t.editLoadingText:t.addLoadingText:r?t.editButtonText:t.addButtonText})})]})})}const gr={validationSchema:"MACHINE",addButtonText:"Aggiungi Macchina",editButtonText:"Aggiorna Macchina",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Machine",editContext:"Update Machine",addErrorMessage:"Aggiunta macchina fallita",editErrorMessage:"Aggiornamento macchina fallita",sections:[{title:"Identificazione",fields:[{name:"department",label:"Department",type:"select",required:!0,options:[{value:on.PRINTING,label:on.PRINTING},{value:on.PACKAGING,label:on.PACKAGING}],defaultValue:Xt.MACHINE.DEPARTMENT,validation:{required:"Department is required"}},{name:"machine_type",label:"Machine Type",type:"select",required:!0,placeholder:"Seleziona tipo macchina",options:[],conditional:t=>t===on.PRINTING||t===on.PACKAGING,validation:{required:"Machine type is required"}},{name:"machine_name",label:"Machine Name",type:"text",required:!0,placeholder:"Nome descrittivo",validation:{required:"Machine name is required",minLength:{value:2,message:"Machine name must be at least 2 characters"},maxLength:{value:100,message:"Machine name must be at most 100 characters"},pattern:{value:/^[a-zA-Z0-9\s\-_]+$/,message:"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"}}},{name:"work_center",label:"Work Center",type:"select",required:!0,placeholder:"Seleziona un centro di lavoro",options:[{value:_t.ZANICA,label:_t.ZANICA},{value:_t.BUSTO_GAROLFO,label:_t.BUSTO_GAROLFO}],defaultValue:Xt.MACHINE.WORK_CENTER,helpText:"Il centro di lavoro è pre-impostato.",validation:{required:"Work center is required"}}]},{title:"Capacità Tecniche",fields:[{name:"min_web_width",label:"Min Web Width (mm)",type:"number",required:!0,defaultValue:Xt.MACHINE.MIN_WEB_WIDTH,validation:{required:"Min web width is required",min:{value:1,message:"Min web width must be at least 1"}}},{name:"max_web_width",label:"Max Web Width (mm)",type:"number",required:!0,defaultValue:Xt.MACHINE.MAX_WEB_WIDTH,validation:{required:"Max web width is required",min:{value:1,message:"Max web width must be at least 1"}}},{name:"min_bag_height",label:"Min Bag Height (mm)",type:"number",required:!0,defaultValue:Xt.MACHINE.MIN_BAG_HEIGHT,validation:{required:"Min bag height is required",min:{value:1,message:"Min bag height must be at least 1"}}},{name:"max_bag_height",label:"Max Bag Height (mm)",type:"number",required:!0,defaultValue:Xt.MACHINE.MAX_BAG_HEIGHT,validation:{required:"Max bag height is required",min:{value:1,message:"Max bag height must be at least 1"}}}]},{title:"Performance",fields:[{name:"standard_speed",label:"Standard Speed",type:"number",required:!0,placeholder:"pz/h o mt/h",validation:{required:"Standard speed is required",min:{value:1,message:"Standard speed must be at least 1"}}},{name:"setup_time_standard",label:"Setup Time Standard (h)",type:"number",required:!0,defaultValue:Xt.MACHINE.SETUP_TIME_STANDARD,validation:{required:"Setup time is required",min:{value:0,message:"Setup time must be at least 0"}}},{name:"changeover_color",label:"Changeover Color (h)",type:"number",required:!0,defaultValue:Xt.MACHINE.CHANGEOVER_COLOR,conditional:(t,e,n)=>n("department")===on.PRINTING,validation:{required:"Changeover color time is required",min:{value:0,message:"Changeover color time must be at least 0"}}},{name:"changeover_material",label:"Material Changeover (h)",type:"number",required:!0,defaultValue:Xt.MACHINE.CHANGEOVER_MATERIAL,conditional:(t,e,n)=>n("department")===on.PACKAGING,validation:{required:"Changeover material time is required",min:{value:0,message:"Changeover material time must be at least 0"}}}]},{title:"Disponibilità",fields:[{name:"active_shifts",label:"Active Shifts",type:"checkbox",required:!1,defaultValue:Xt.MACHINE.ACTIVE_SHIFTS,options:[{value:Ql.T1,label:Ql.T1},{value:Ql.T2,label:Ql.T2},{value:Ql.T3,label:Ql.T3}]},{name:"status",label:"Status",type:"select",required:!0,defaultValue:Xt.MACHINE.STATUS,options:[{value:zs.ACTIVE,label:zs.ACTIVE},{value:zs.INACTIVE,label:zs.INACTIVE}],validation:{required:"Status is required"}}]}]},Qr={validationSchema:"PHASE",addButtonText:"Aggiungi Fase",editButtonText:"Aggiorna Fase",addLoadingText:"Aggiunta Fase...",editLoadingText:"Aggiornamento Fase...",addContext:"Add Phase",editContext:"Update Phase",addErrorMessage:"Aggiunta fase fallita",editErrorMessage:"Aggiornamento fase fallita",sections:[{title:"Informazioni Fase",fields:[{name:"name",label:"Nome Fase",type:"text",required:!0,placeholder:"es. Stampa Alta Velocità"},{name:"department",label:"Tipo Fase",type:"select",required:!0,options:[{value:on.PRINTING,label:on.PRINTING},{value:on.PACKAGING,label:on.PACKAGING}],defaultValue:Xt.PHASE.DEPARTMENT},{name:"numero_persone",label:"Numero di Persone Richieste",type:"number",required:!0,defaultValue:Xt.PHASE.NUMERO_PERSONE},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,options:[{value:_t.ZANICA,label:_t.ZANICA},{value:_t.BUSTO_GAROLFO,label:_t.BUSTO_GAROLFO}],defaultValue:Xt.PHASE.WORK_CENTER,helpText:"Il centro di lavoro è impostato in base alla tua selezione di accesso"}]},{title:"Parametri Stampa",fields:[{name:"v_stampa",label:"Velocità Stampa (mt/h)",type:"number",required:!0,defaultValue:Xt.PHASE.V_STAMPA,conditional:(t,e,n)=>n("department")===on.PRINTING},{name:"t_setup_stampa",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:Xt.PHASE.T_SETUP_STAMPA,conditional:(t,e,n)=>n("department")===on.PRINTING},{name:"costo_h_stampa",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:Xt.PHASE.COSTO_H_STAMPA,conditional:(t,e,n)=>n("department")===on.PRINTING}]},{title:"Parametri Confezionamento",fields:[{name:"v_conf",label:"Velocità Confezionamento (pz/h)",type:"number",required:!0,defaultValue:Xt.PHASE.V_CONF,conditional:(t,e,n)=>n("department")===on.PACKAGING},{name:"t_setup_conf",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:Xt.PHASE.T_SETUP_CONF,conditional:(t,e,n)=>n("department")===on.PACKAGING},{name:"costo_h_conf",label:"Costo Orario (€/h)",type:"number",required:!0,defaultValue:Xt.PHASE.COSTO_H_CONF,conditional:(t,e,n)=>n("department")===on.PACKAGING}]},{title:"Descrizione Fase",fields:[{name:"contenuto_fase",label:"Descrizione Contenuto Fase",type:"textarea",required:!0,placeholder:"Descrivi il contenuto della fase e i requisiti...",rows:3}],gridCols:"grid-cols-1"}]},s6={validationSchema:"ORDER",addButtonText:"Aggiungi al Backlog",editButtonText:"Aggiorna Ordine",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Order",editContext:"Update Order",addErrorMessage:"Aggiunta ordine fallita",editErrorMessage:"Aggiornamento ordine fallito",sections:[{title:"Identificazione",fields:[{name:"odp_number",label:"Numero ODP",type:"text",required:!0,placeholder:"Inserisci numero ODP"},{name:"article_code",label:"Codice Articolo",type:"article_code",required:!0,placeholder:"Inserisci codice articolo"},{name:"production_lot",label:"Codice Articolo Esterno",type:"text",required:!0,placeholder:"Inserisci codice articolo esterno"},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,placeholder:"Seleziona centro di lavoro",options:[{value:_t.ZANICA,label:_t.ZANICA},{value:_t.BUSTO_GAROLFO,label:_t.BUSTO_GAROLFO}],conditional:(t,e,n)=>!0},{name:"nome_cliente",label:"Nome Cliente",type:"text",required:!0,placeholder:"Inserisci nome cliente"}]},{title:"Specifiche Tecniche",fields:[{name:"bag_height",label:"Altezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci altezza busta"},{name:"bag_width",label:"Larghezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci larghezza busta"},{name:"bag_step",label:"Passo Busta (mm)",type:"number",required:!1,placeholder:"Inserisci passo busta"},{name:"seal_sides",label:"Lati Sigillatura",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:"3",label:"3"},{value:"4",label:"4"}],defaultValue:Xt.ORDER.SEAL_SIDES},{name:"product_type",label:"Tipo Prodotto",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:Yl.CREMA,label:Yl.CREMA},{value:Yl.LIQUIDO,label:Yl.LIQUIDO},{value:Yl.POLVERI,label:Yl.POLVERI}]},{name:"quantity",label:"Quantità",type:"number",required:!0,placeholder:"Inserisci quantità"},{name:"quantity_completed",label:"Q.tà Completata",type:"number",required:!0,defaultValue:Xt.ORDER.QUANTITY_COMPLETED}]},{title:"Dati Commerciali",fields:[{name:"internal_customer_code",label:"Lotto FLEXI",type:"text",required:!0,placeholder:"Inserisci lotto FLEXI"},{name:"external_customer_code",label:"Lotto Cliente",type:"text",required:!0,placeholder:"Inserisci lotto cliente"},{name:"customer_order_ref",label:"Riferimento Cliente",type:"text",required:!0,placeholder:"Inserisci riferimento cliente"},{name:"user_notes",label:"Note Libere",type:"textarea",required:!1,placeholder:"Inserisci note libere per l'ordine...",rows:3},{name:"asd_notes",label:"Note ASD",type:"textarea",required:!1,placeholder:"Inserisci note ASD per l'ordine...",rows:3}],gridCols:"grid-cols-2 md:grid-cols-3"},{title:"Dati Lavorazione & Pianificazione",fields:[{name:"department",label:"Reparto",type:"text",required:!0,readOnly:!0,className:"bg-gray-50"},{name:"phase_search",label:"Cerca Fase di Produzione",type:"phase_search",required:!0},{name:"delivery_date",label:"Data di Consegna",type:"datetime-local",required:!0}]},{title:"Disponibilità Materiali",fields:[{name:"material_availability_global",label:"Disponibilità Materiale Globale (%)",type:"number",required:!1,placeholder:"Inserisci percentuale disponibilità (0-100)",min:0,max:100}]}],customFields:{phase_parameters:{type:"phase_parameters",label:"Parametri Fase Selezionata"},calculation_results:{type:"calculation_results",label:"Risultati Calcolo Produzione"}},customValidation:t=>{const e={};return{isValid:Object.keys(e).length===0,errors:e}}},Fv={validationSchema:"OFF_TIME",addButtonText:"Imposta Non Disponibilità",editButtonText:"Aggiorna Non Disponibilità",addLoadingText:"Impostazione...",editLoadingText:"Aggiornamento...",addContext:"Set Machine Unavailability",editContext:"Update Machine Unavailability",addErrorMessage:"Impostazione indisponibilità macchina fallita",editErrorMessage:"Aggiornamento indisponibilità macchina fallita",sections:[{title:"Periodo di Non Disponibilità",fields:[{name:"startDate",label:"Data Inizio",type:"date",required:!0,defaultValue:""},{name:"startTime",label:"Ora Inizio",type:"time",required:!0,defaultValue:Xt.OFF_TIME.START_TIME},{name:"endDate",label:"Data Fine",type:"date",required:!0,defaultValue:""},{name:"endTime",label:"Ora Fine",type:"time",required:!0,defaultValue:Xt.OFF_TIME.END_TIME}]}],customValidation:t=>{const e={};if(t.startDate&&t.endDate){const n=new Date(t.startDate);new Date(t.endDate)<n&&(e.endDate=jC.END_DATE_BEFORE_START),t.startDate===t.endDate&&t.startTime&&t.endTime&&t.startTime>=t.endTime&&(e.endTime=jC.END_TIME_BEFORE_START)}return{isValid:Object.keys(e).length===0,errors:e}}};function a6({machineToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=At(),{getValidMachineTypes:i}=dk(),r=b4(),s=_4(),o=!!t,c=D.useMemo(()=>{const p={...gr};return p.sections[0].fields[1].options=[...i("STAMPA").map(m=>({value:m,label:m})),...i("CONFEZIONAMENTO").map(m=>({value:m,label:m}))],p.sections[0].fields[1].placeholder="Seleziona tipo macchina",n!==_t.BOTH&&(p.sections[0].fields[3].disabled=!0,p.sections[0].fields[3].defaultValue=n,p.sections[0].fields[3].helpText="Il centro di lavoro è pre-impostato."),p},[i,n]),u=D.useMemo(()=>({department:t?.department||gr.sections[0].fields[0].defaultValue,machine_type:t?.machine_type||"",machine_name:t?.machine_name||"",work_center:t?.work_center||(n===_t.BOTH?gr.sections[0].fields[3].defaultValue:n),min_web_width:t?.min_web_width||gr.sections[1].fields[0].defaultValue,max_web_width:t?.max_web_width||gr.sections[1].fields[1].defaultValue,min_bag_height:t?.min_bag_height||gr.sections[1].fields[2].defaultValue,max_bag_height:t?.max_bag_height||gr.sections[1].fields[3].defaultValue,standard_speed:t?.standard_speed||"",setup_time_standard:t?.setup_time_standard||gr.sections[2].fields[1].defaultValue,changeover_color:t?.changeover_color||gr.sections[2].fields[2].defaultValue,changeover_material:t?.changeover_material||gr.sections[2].fields[3].defaultValue,active_shifts:t?.active_shifts||gr.sections[3].fields[0].defaultValue,status:t?.status||gr.sections[3].fields[1].defaultValue}),[n,t]),d=async p=>{o?await s.mutateAsync({id:t.id,updates:p}):await r.mutateAsync(p),e&&e()},h=r.isPending||s.isPending;return C.jsx(wp,{config:c,initialData:u,onSubmit:d,onSuccess:e,isEditMode:o,isLoading:h})}function o6({title:t,children:e}){return C.jsx("div",{className:"sticky top-0 z-10 bg-background border-b border-border px-2 py-3 mb-2",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("div",{className:"flex items-center",children:t&&C.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:t})}),e]})})}function xA(){const{id:t}=lp(),e=as(),{getMachineById:n}=br(),{selectedWorkCenter:i}=At(),{isLoading:r,isInitialized:s,init:o,cleanup:c}=Za(),u=!!t,d=u?n(t):null;return D.useEffect(()=>(s||o(),()=>{c()}),[o,s,c]),D.useEffect(()=>{u&&!r&&!d&&e("/machinery",{replace:!0})},[u,r,d,e]),r?C.jsx("div",{children:"Caricamento..."}):u&&!d?C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Macchina non trovata."}):i?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:u?`Modifica Macchina: ${d?.machine_name}`:"Aggiungi Nuova Macchina"}),u&&C.jsx(Pn,{to:`/machinery/${t}/calendar`,className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Visualizza Calendario"})]}),C.jsx(a6,{machineToEdit:d})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le macchine."})}function l6({machineId:t,currentDate:e,onSuccess:n}){const{setMachineUnavailability:i}=is(),{showAlert:r}=At(),s=D.useMemo(()=>{const c=new Date,u=$d(c,1);return{startDate:Wn(c,"yyyy-MM-dd"),endDate:Wn(u,"yyyy-MM-dd"),startTime:Fv.sections[0].fields[1].defaultValue,endTime:Fv.sections[0].fields[3].defaultValue}},[e]),o=async c=>{await i(t,c.startDate,c.endDate,c.startTime,c.endTime),r("Indisponibilità macchina impostata con successo!","success"),n&&n()};return C.jsx(wp,{config:Fv,initialData:s,onSubmit:o,onSuccess:n,className:"p-1 bg-white rounded-lg shadow-sm border"})}var xp,Pe,jk,Pk,Tc,Po,EA,Lk,zk,Ig={},Uk=[],c6=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ja(t,e){for(var n in e)t[n]=e[n];return t}function Fk(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,n){var i,r,s,o={};for(s in e)s=="key"?i=e[s]:s=="ref"?r=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?xp.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return dg(t,o,i,r,null)}function dg(t,e,n,i,r){var s={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++jk};return r==null&&Pe.vnode!=null&&Pe.vnode(s),s}function yi(){return{current:null}}function Pt(t){return t.children}function u6(t,e,n,i,r){var s;for(s in n)s==="children"||s==="key"||s in e||jg(t,s,null,n[s],i);for(s in e)r&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||jg(t,s,e[s],n[s],i)}function CA(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||c6.test(e)?n:n+"px"}function jg(t,e,n,i,r){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||CA(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||CA(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?i||t.addEventListener(e,s?AA:TA,s):t.removeEventListener(e,s?AA:TA,s);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function TA(t){Tc=!0;try{return this.l[t.type+!1](Pe.event?Pe.event(t):t)}finally{Tc=!1}}function AA(t){Tc=!0;try{return this.l[t.type+!0](Pe.event?Pe.event(t):t)}finally{Tc=!1}}function Yi(t,e){this.props=t,this.context=e}function Cd(t,e){if(e==null)return t.__?Cd(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Cd(t):null}function Hk(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Hk(t)}}function d6(t){Tc?setTimeout(t):Lk(t)}function i0(t){(!t.__d&&(t.__d=!0)&&Po.push(t)&&!Pg.__r++||EA!==Pe.debounceRendering)&&((EA=Pe.debounceRendering)||d6)(Pg)}function Pg(){var t,e,n,i,r,s,o,c;for(Po.sort(function(u,d){return u.__v.__b-d.__v.__b});t=Po.shift();)t.__d&&(e=Po.length,i=void 0,r=void 0,o=(s=(n=t).__v).__e,(c=n.__P)&&(i=[],(r=ja({},s)).__v=s.__v+1,f_(c,s,r,n.__n,c.ownerSVGElement!==void 0,s.__h!=null?[o]:null,i,o??Cd(s),s.__h),Gk(i,s),s.__e!=o&&Hk(s)),Po.length>e&&Po.sort(function(u,d){return u.__v.__b-d.__v.__b}));Pg.__r=0}function Bk(t,e,n,i,r,s,o,c,u,d){var h,p,m,y,_,S,w,x=i&&i.__k||Uk,E=x.length;for(n.__k=[],h=0;h<e.length;h++)if((y=n.__k[h]=(y=e[h])==null||typeof y=="boolean"?null:typeof y=="string"||typeof y=="number"||typeof y=="bigint"?dg(null,y,null,null,y):Array.isArray(y)?dg(Pt,{children:y},null,null,null):y.__b>0?dg(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)!=null){if(y.__=n,y.__b=n.__b+1,(m=x[h])===null||m&&y.key==m.key&&y.type===m.type)x[h]=void 0;else for(p=0;p<E;p++){if((m=x[p])&&y.key==m.key&&y.type===m.type){x[p]=void 0;break}m=null}f_(t,y,m=m||Ig,r,s,o,c,u,d),_=y.__e,(p=y.ref)&&m.ref!=p&&(w||(w=[]),m.ref&&w.push(m.ref,null,y),w.push(p,y.__c||_,y)),_!=null?(S==null&&(S=_),typeof y.type=="function"&&y.__k===m.__k?y.__d=u=Vk(y,u,t):u=$k(t,y,m,x,_,u),typeof n.type=="function"&&(n.__d=u)):u&&m.__e==u&&u.parentNode!=t&&(u=Cd(m))}for(n.__e=S,h=E;h--;)x[h]!=null&&(typeof n.type=="function"&&x[h].__e!=null&&x[h].__e==n.__d&&(n.__d=qk(i).nextSibling),Yk(x[h],x[h]));if(w)for(h=0;h<w.length;h++)Wk(w[h],w[++h],w[++h])}function Vk(t,e,n){for(var i,r=t.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=t,e=typeof i.type=="function"?Vk(i,e,n):$k(n,i,i,r,i.__e,e));return e}function Lg(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Lg(n,e)}):e.push(t)),e}function $k(t,e,n,i,r,s){var o,c,u;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(r),o=null;else{for(c=s,u=0;(c=c.nextSibling)&&u<i.length;u+=1)if(c==r)break e;t.insertBefore(r,s),o=s}return o!==void 0?o:r.nextSibling}function qk(t){var e,n,i;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(i=qk(n)))return i}return null}function f_(t,e,n,i,r,s,o,c,u){var d,h,p,m,y,_,S,w,x,E,A,I,k,j,M,O=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,c=e.__e=n.__e,e.__h=null,s=[c]),(d=Pe.__b)&&d(e);try{e:if(typeof O=="function"){if(w=e.props,x=(d=O.contextType)&&i[d.__c],E=d?x?x.props.value:d.__:i,n.__c?S=(h=e.__c=n.__c).__=h.__E:("prototype"in O&&O.prototype.render?e.__c=h=new O(w,E):(e.__c=h=new Yi(w,E),h.constructor=O,h.render=h6),x&&x.sub(h),h.props=w,h.state||(h.state={}),h.context=E,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),O.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=ja({},h.__s)),ja(h.__s,O.getDerivedStateFromProps(w,h.__s))),m=h.props,y=h.state,h.__v=e,p)O.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(O.getDerivedStateFromProps==null&&w!==m&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(w,E),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(w,h.__s,E)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(h.props=w,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(U){U&&(U.__=e)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(w,h.__s,E),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(m,y,_)})}if(h.context=E,h.props=w,h.__P=t,I=Pe.__r,k=0,"prototype"in O&&O.prototype.render){for(h.state=h.__s,h.__d=!1,I&&I(e),d=h.render(h.props,h.state,h.context),j=0;j<h._sb.length;j++)h.__h.push(h._sb[j]);h._sb=[]}else do h.__d=!1,I&&I(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++k<25);h.state=h.__s,h.getChildContext!=null&&(i=ja(ja({},i),h.getChildContext())),p||h.getSnapshotBeforeUpdate==null||(_=h.getSnapshotBeforeUpdate(m,y)),M=d!=null&&d.type===Pt&&d.key==null?d.props.children:d,Bk(t,Array.isArray(M)?M:[M],e,n,i,r,s,o,c,u),h.base=e.__e,e.__h=null,h.__h.length&&o.push(h),S&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=f6(n.__e,e,n,i,r,s,o,u);(d=Pe.diffed)&&d(e)}catch(U){e.__v=null,(u||s!=null)&&(e.__e=c,e.__h=!!u,s[s.indexOf(c)]=null),Pe.__e(U,e,n)}}function Gk(t,e){Pe.__c&&Pe.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){Pe.__e(i,n.__v)}})}function f6(t,e,n,i,r,s,o,c){var u,d,h,p=n.props,m=e.props,y=e.type,_=0;if(y==="svg"&&(r=!0),s!=null){for(;_<s.length;_++)if((u=s[_])&&"setAttribute"in u==!!y&&(y?u.localName===y:u.nodeType===3)){t=u,s[_]=null;break}}if(t==null){if(y===null)return document.createTextNode(m);t=r?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,m.is&&m),s=null,c=!1}if(y===null)p===m||c&&t.data===m||(t.data=m);else{if(s=s&&xp.call(t.childNodes),d=(p=n.props||Ig).dangerouslySetInnerHTML,h=m.dangerouslySetInnerHTML,!c){if(s!=null)for(p={},_=0;_<t.attributes.length;_++)p[t.attributes[_].name]=t.attributes[_].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(u6(t,m,p,r,c),h)e.__k=[];else if(_=e.props.children,Bk(t,Array.isArray(_)?_:[_],e,n,i,r&&y!=="foreignObject",s,o,s?s[0]:n.__k&&Cd(n,0),c),s!=null)for(_=s.length;_--;)s[_]!=null&&Fk(s[_]);c||("value"in m&&(_=m.value)!==void 0&&(_!==t.value||y==="progress"&&!_||y==="option"&&_!==p.value)&&jg(t,"value",_,p.value,!1),"checked"in m&&(_=m.checked)!==void 0&&_!==t.checked&&jg(t,"checked",_,p.checked,!1))}return t}function Wk(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){Pe.__e(i,n)}}function Yk(t,e,n){var i,r;if(Pe.unmount&&Pe.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||Wk(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){Pe.__e(s,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&Yk(i[r],e,n||typeof t.type!="function");n||t.__e==null||Fk(t.__e),t.__=t.__e=t.__d=void 0}function h6(t,e,n){return this.constructor(t,n)}function Td(t,e,n){var i,r,s;Pe.__&&Pe.__(t,e),r=(i=!1)?null:e.__k,s=[],f_(e,t=e.__k=L(Pt,null,[t]),r||Ig,Ig,e.ownerSVGElement!==void 0,r?null:e.firstChild?xp.call(e.childNodes):null,s,r?r.__e:e.firstChild,i),Gk(s,t)}function g6(t,e){var n={__c:e="__cC"+zk++,__:t,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(function(c){c.__e=!0,i0(c)})},this.sub=function(o){r.push(o);var c=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),c&&c.call(o)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}xp=Uk.slice,Pe={__e:function(t,e,n,i){for(var r,s,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(t)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,i||{}),o=r.__d),o)return r.__E=r}catch(c){t=c}throw t}},jk=0,Pk=function(t){return t!=null&&t.constructor===void 0},Tc=!1,Yi.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ja({},this.state),typeof t=="function"&&(t=t(ja({},n),this.props)),t&&ja(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),i0(this))},Yi.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),i0(this))},Yi.prototype.render=Pt,Po=[],Lk=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pg.__r=0,zk=0;var ns,Hv,RA,Qk=[],Bv=[],DA=Pe.__b,OA=Pe.__r,kA=Pe.diffed,MA=Pe.__c,NA=Pe.unmount;function p6(){for(var t;t=Qk.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(fg),t.__H.__h.forEach(r0),t.__H.__h=[]}catch(e){t.__H.__h=[],Pe.__e(e,t.__v)}}Pe.__b=function(t){ns=null,DA&&DA(t)},Pe.__r=function(t){OA&&OA(t);var e=(ns=t.__c).__H;e&&(Hv===ns?(e.__h=[],ns.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Bv,n.__N=n.i=void 0})):(e.__h.forEach(fg),e.__h.forEach(r0),e.__h=[])),Hv=ns},Pe.diffed=function(t){kA&&kA(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Qk.push(e)!==1&&RA===Pe.requestAnimationFrame||((RA=Pe.requestAnimationFrame)||m6)(p6)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Bv&&(n.__=n.__V),n.i=void 0,n.__V=Bv})),Hv=ns=null},Pe.__c=function(t,e){e.some(function(n){try{n.__h.forEach(fg),n.__h=n.__h.filter(function(i){return!i.__||r0(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Pe.__e(i,n.__v)}}),MA&&MA(t,e)},Pe.unmount=function(t){NA&&NA(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{fg(i)}catch(r){e=r}}),n.__H=void 0,e&&Pe.__e(e,n.__v))};var IA=typeof requestAnimationFrame=="function";function m6(t){var e,n=function(){clearTimeout(i),IA&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);IA&&(e=requestAnimationFrame(n))}function fg(t){var e=ns,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ns=e}function r0(t){var e=ns;t.__c=t.__(),ns=e}function y6(t,e){for(var n in e)t[n]=e[n];return t}function jA(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function PA(t){this.props=t}(PA.prototype=new Yi).isPureReactComponent=!0,PA.prototype.shouldComponentUpdate=function(t,e){return jA(this.props,t)||jA(this.state,e)};var LA=Pe.__b;Pe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),LA&&LA(t)};var v6=Pe.__e;Pe.__e=function(t,e,n,i){if(t.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}v6(t,e,n,i)};var zA=Pe.unmount;function Kk(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=y6({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return Kk(i,e,n)})),t}function Xk(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return Xk(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Vv(){this.__u=0,this.t=null,this.__b=null}function Zk(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Uh(){this.u=null,this.o=null}Pe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),zA&&zA(t)},(Vv.prototype=new Yi).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=Zk(i.__v),s=!1,o=function(){s||(s=!0,n.__R=null,r?r(c):c())};n.__R=o;var c=function(){if(!--i.__u){if(i.state.__a){var d=i.state.__a;i.__v.__k[0]=Xk(d,d.__c.__P,d.__c.__O)}var h;for(i.setState({__a:i.__b=null});h=i.t.pop();)h.forceUpdate()}},u=e.__h===!0;i.__u++||u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(o,o)},Vv.prototype.componentWillUnmount=function(){this.t=[]},Vv.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Kk(this.__b,n,i.__O=i.__P)}this.__b=null}var r=e.__a&&L(Pt,null,t.fallback);return r&&(r.__h=null),[L(Pt,null,e.__a?null:t.children),r]};var UA=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function b6(t){return this.getChildContext=function(){return t.context},t.children}function _6(t){var e=this,n=t.i;e.componentWillUnmount=function(){Td(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Td(L(b6,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function S6(t,e){var n=L(_6,{__v:t,i:e});return n.containerInfo=e,n}(Uh.prototype=new Yi).__a=function(t){var e=this,n=Zk(e.__v),i=e.o.get(t);return i[0]++,function(r){var s=function(){e.props.revealOrder?(i.push(r),UA(e,t,i)):r()};n?n(s):s()}},Uh.prototype.render=function(t){this.u=null,this.o=new Map;var e=Lg(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Uh.prototype.componentDidUpdate=Uh.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){UA(t,n,e)})};var w6=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,x6=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,E6=typeof document<"u",C6=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Yi.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Yi.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var FA=Pe.event;function T6(){}function A6(){return this.cancelBubble}function R6(){return this.defaultPrevented}Pe.event=function(t){return FA&&(t=FA(t)),t.persist=T6,t.isPropagationStopped=A6,t.isDefaultPrevented=R6,t.nativeEvent=t};var HA={configurable:!0,get:function(){return this.class}},BA=Pe.vnode;Pe.vnode=function(t){var e=t.type,n=t.props,i=n;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var s in i={},n){var o=n[s];E6&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!C6(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&x6.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s]&&(s="oninputCapture")),i[s]=o)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Lg(n.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=Lg(n.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),t.props=i,n.class!=n.className&&(HA.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",HA))}t.$$typeof=w6,BA&&BA(t)};var VA=Pe.__r;Pe.__r=function(t){VA&&VA(t),t.__c};const Jk=[],s0=new Map;function Ep(t){Jk.push(t),s0.forEach(e=>{tM(e,t)})}function D6(t){t.isConnected&&t.getRootNode&&eM(t.getRootNode())}function eM(t){let e=s0.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=k6();n&&(e.nonce=n);const i=t===document?document.head:t,r=t===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}s0.set(t,e),O6(e)}}function O6(t){for(const e of Jk)tM(t,e)}function tM(t,e){const{sheet:n}=t,i=n.cssRules.length;e.split("}").forEach((r,s)=>{r=r.trim(),r&&n.insertRule(r+"}",i+s)})}let $v;function k6(){return $v===void 0&&($v=M6()),$v}function M6(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&eM(document);var N6=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Ep(N6);class h_{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:i}=this;e in i&&(n?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function g_(t){t.parentNode&&t.parentNode.removeChild(t)}function li(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(I6(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function I6(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function j6(t,e){let n=t instanceof HTMLElement?[t]:t,i=[];for(let r=0;r<n.length;r+=1){let s=n[r].querySelectorAll(e);for(let o=0;o<s.length;o+=1)i.push(s[o])}return i}const P6=/(top|left|right|bottom|width|height)$/i;function ld(t,e){for(let n in e)nM(t,n,e[n])}function nM(t,e,n){n==null?t.style[e]="":typeof n=="number"&&P6.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function iM(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let $A=0;function Ha(){return $A+=1,"fc-dom-"+$A}function Cp(t){t.preventDefault()}function L6(t,e){return n=>{let i=li(n.target,t);i&&e.call(i,n,i)}}function rM(t,e,n,i){let r=L6(n,i);return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}function z6(t,e,n,i){let r;return rM(t,"mouseover",e,(s,o)=>{if(o!==r){r=o,n(s,o);let c=u=>{r=null,i(u,o),o.removeEventListener("mouseleave",c)};o.addEventListener("mouseleave",c)}})}const qA=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function U6(t,e){let n=i=>{e(i),qA.forEach(r=>{t.removeEventListener(r,n)})};qA.forEach(i=>{t.addEventListener(i,n)})}function sM(t){return Object.assign({onClick:t},aM(t))}function aM(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let GA=0;function al(){return GA+=1,String(GA)}function p_(){document.body.classList.add("fc-not-allowed")}function m_(){document.body.classList.remove("fc-not-allowed")}function F6(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Cp)}function H6(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Cp)}function B6(t){t.addEventListener("contextmenu",Cp)}function V6(t){t.removeEventListener("contextmenu",Cp)}function $6(t){let e=[],n=[],i,r;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),i=0;i<n.length;i+=1)r=n[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function q6(t,e,n){let i,r;for(i=0;i<n.length;i+=1)if(r=G6(t,e,n[i]),r)return r;return 0}function G6(t,e,n){return n.func?n.func(t,e):W6(t[n.field],e[n.field])*(n.order||1)}function W6(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function bc(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function cd(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((i,r,s)=>i.replace("$"+s,r||""),t):n}function Y6(t,e){return t-e}function hg(t){return t%1===0}function Q6(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const WA=["years","months","days","milliseconds"],K6=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ht(t,e){return typeof t=="string"?X6(t):typeof t=="object"&&t?YA(t):typeof t=="number"?YA({[e||"milliseconds"]:t}):null}function X6(t){let e=K6.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function YA(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function Z6(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function a0(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function J6(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function eq(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function tq(t){return _c(t)/365}function nq(t){return _c(t)/30}function _c(t){return Pr(t)/864e5}function Pr(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function y_(t,e){let n=null;for(let i=0;i<WA.length;i+=1){let r=WA[i];if(e[r]){let s=t[r]/e[r];if(!hg(s)||n!==null&&n!==s)return null;n=s}else if(t[r])return null}return n}function o0(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function qa(t,e,n){if(t===e)return!0;let i=t.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(t[r],e[r]):t[r]===e[r]))return!1;return!0}const iq=["sun","mon","tue","wed","thu","fri","sat"];function QA(t,e){let n=Pa(t);return n[2]+=e*7,Ii(n)}function On(t,e){let n=Pa(t);return n[2]+=e,Ii(n)}function Ga(t,e){let n=Pa(t);return n[6]+=e,Ii(n)}function rq(t,e){return eo(t,e)/7}function eo(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function sq(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function aq(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function oq(t,e){return(e.valueOf()-t.valueOf())/1e3}function lq(t,e){let n=Ft(t),i=Ft(e);return{years:0,months:0,days:Math.round(eo(n,i)),milliseconds:e.valueOf()-i.valueOf()-(t.valueOf()-n.valueOf())}}function cq(t,e){let n=zg(t,e);return n!==null&&n%7===0?n/7:null}function zg(t,e){return La(t)===La(e)?Math.round(eo(t,e)):null}function Ft(t){return Ii([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function uq(t){return Ii([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function dq(t){return Ii([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function fq(t){return Ii([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function hq(t,e,n){let i=t.getUTCFullYear(),r=qv(t,i,e,n);if(r<1)return qv(t,i-1,e,n);let s=qv(t,i+1,e,n);return s>=1?Math.min(r,s):r}function qv(t,e,n,i){let r=Ii([e,0,1+gq(e,n,i)]),s=Ft(t),o=Math.round(eo(r,s));return Math.floor(o/7)+1}function gq(t,e,n){let i=7+e-n;return-((7+Ii([t,0,i]).getUTCDay()-e)%7)+i-1}function KA(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function XA(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Pa(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Ii(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function oM(t){return!isNaN(t.valueOf())}function La(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function lM(t,e,n=!1){let i=t.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",v_(e,!0)))),i}function Wd(t){return t.toISOString().replace(/T.*$/,"")}function pq(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function mq(t){return bc(t.getUTCHours(),2)+":"+bc(t.getUTCMinutes(),2)+":"+bc(t.getUTCSeconds(),2)}function v_(t,e=!1){let n=t<0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),s=Math.round(i%60);return e?`${n+bc(r,2)}:${bc(s,2)}`:`GMT${n}${r}${s?`:${bc(s,2)}`:""}`}function Ie(t,e,n){let i,r;return function(...s){if(!i)r=t.apply(this,s);else if(!qa(i,s)){let o=t.apply(this,s);(!e||!e(o,r))&&(r=o)}return i=s,r}}function gg(t,e,n){let i,r;return s=>(i?Fr(i,s)||(r=t.call(this,s)):r=t.call(this,s),i=s,r)}const Gv={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Ug={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Fh=/\s*([ap])\.?m\.?/i,yq=/,/g,vq=/\s+/g,bq=/\u200e/g,_q=/UTC|GMT/;class Sq{constructor(e){let n={},i={},r=9;for(let s in e)s in Gv?(i[s]=e[s],Gv[s]<9&&(r=Math.min(Gv[s],r))):(n[s]=e[s],s in Ug&&(r=Math.min(Ug[s],r)));this.standardDateProps=n,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=Ie(ZA)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,i,r){let{standardDateProps:s,extendedSettings:o}=this,c=Aq(e.marker,n.marker,i.calendarSystem);if(!c)return this.format(e,i);let u=c;u>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(u=1);let d=this.format(e,i),h=this.format(n,i);if(d===h)return d;let p=Rq(s,u),m=ZA(p,o,i),y=m(e),_=m(n),S=Dq(d,y,h,_),w=o.separator||r||i.defaultSeparator||"";return S?S.before+y+w+_+S.after:d+w+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function ZA(t,e,n){let i=Object.keys(t).length;return i===1&&t.timeZoneName==="short"?r=>v_(r.timeZoneOffset):i===0&&e.week?r=>Tq(n.computeWeekNumber(r.marker),n.weekText,n.weekTextLong,n.locale,e.week):wq(t,e,n)}function wq(t,e,n){t=Object.assign({},t),e=Object.assign({},e),xq(t,e),t.timeZone="UTC";let i=new Intl.DateTimeFormat(n.locale.codes,t),r;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,r=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,c;r&&!o.getUTCMinutes()?c=r:c=i;let u=c.format(o);return Eq(u,s,t,e,n)}}function xq(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Eq(t,e,n,i,r){return t=t.replace(bq,""),n.timeZoneName==="short"&&(t=Cq(t,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":v_(e.timeZoneOffset))),i.omitCommas&&(t=t.replace(yq,"").trim()),i.omitZeroMinute&&(t=t.replace(":00","")),i.meridiem===!1?t=t.replace(Fh,"").trim():i.meridiem==="narrow"?t=t.replace(Fh,(s,o)=>o.toLocaleLowerCase()):i.meridiem==="short"?t=t.replace(Fh,(s,o)=>`${o.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(t=t.replace(Fh,s=>s.toLocaleLowerCase())),t=t.replace(vq," "),t=t.trim(),t}function Cq(t,e){let n=!1;return t=t.replace(_q,()=>(n=!0,e)),n||(t+=` ${e}`),t}function Tq(t,e,n,i,r){let s=[];return r==="long"?s.push(n):(r==="short"||r==="narrow")&&s.push(e),(r==="long"||r==="short")&&s.push(" "),s.push(i.simpleNumberFormat.format(t)),i.options.direction==="rtl"&&s.reverse(),s.join("")}function Aq(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:La(t)!==La(e)?1:0}function Rq(t,e){let n={};for(let i in t)(!(i in Ug)||Ug[i]<=e)&&(n[i]=t[i]);return n}function Dq(t,e,n,i){let r=0;for(;r<t.length;){let s=t.indexOf(e,r);if(s===-1)break;let o=t.substr(0,s);r=s+e.length;let c=t.substr(r),u=0;for(;u<n.length;){let d=n.indexOf(i,u);if(d===-1)break;let h=n.substr(0,d);u=d+i.length;let p=n.substr(u);if(o===h&&c===p)return{before:o,after:c}}}return null}function JA(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Fg(t,e,n,i){let r=JA(t,n.calendarSystem),s=e?JA(e,n.calendarSystem):null;return{date:r,start:r,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}class Oq{constructor(e){this.cmdStr=e}format(e,n,i){return n.cmdFormatter(this.cmdStr,Fg(e,null,n,i))}formatRange(e,n,i,r){return i.cmdFormatter(this.cmdStr,Fg(e,n,i,r))}}class kq{constructor(e){this.func=e}format(e,n,i){return this.func(Fg(e,null,n,i))}formatRange(e,n,i,r){return this.func(Fg(e,n,i,r))}}function Zt(t){return typeof t=="object"&&t?new Sq(t):typeof t=="string"?new Oq(t):typeof t=="function"?new kq(t):null}const eR={navLinkDayClick:ie,navLinkWeekClick:ie,duration:ht,bootstrapFontAwesome:ie,buttonIcons:ie,customButtons:ie,defaultAllDayEventDuration:ht,defaultTimedEventDuration:ht,nextDayThreshold:ht,scrollTime:ht,scrollTimeReset:Boolean,slotMinTime:ht,slotMaxTime:ht,dayPopoverFormat:Zt,slotDuration:ht,snapDuration:ht,headerToolbar:ie,footerToolbar:ie,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Zt,dayHeaderClassNames:ie,dayHeaderContent:ie,dayHeaderDidMount:ie,dayHeaderWillUnmount:ie,dayCellClassNames:ie,dayCellContent:ie,dayCellDidMount:ie,dayCellWillUnmount:ie,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:ie,weekNumbers:Boolean,weekNumberClassNames:ie,weekNumberContent:ie,weekNumberDidMount:ie,weekNumberWillUnmount:ie,editable:Boolean,viewClassNames:ie,viewDidMount:ie,viewWillUnmount:ie,nowIndicator:Boolean,nowIndicatorSnap:ie,nowIndicatorClassNames:ie,nowIndicatorContent:ie,nowIndicatorDidMount:ie,nowIndicatorWillUnmount:ie,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:ie,locale:ie,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:ie,eventOrder:$6,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:ie,contentHeight:ie,direction:String,weekNumberFormat:Zt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:ie,initialDate:ie,now:ie,eventDataTransform:ie,stickyHeaderDates:ie,stickyFooterScrollbar:ie,viewHeight:ie,defaultAllDay:Boolean,eventSourceFailure:ie,eventSourceSuccess:ie,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:ie,eventConstraint:ie,eventAllow:ie,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:ie,eventContent:ie,eventDidMount:ie,eventWillUnmount:ie,selectConstraint:ie,selectOverlap:ie,selectAllow:ie,droppable:Boolean,unselectCancel:String,slotLabelFormat:ie,slotLaneClassNames:ie,slotLaneContent:ie,slotLaneDidMount:ie,slotLaneWillUnmount:ie,slotLabelClassNames:ie,slotLabelContent:ie,slotLabelDidMount:ie,slotLabelWillUnmount:ie,dayMaxEvents:ie,dayMaxEventRows:ie,dayMinWidth:Number,slotLabelInterval:ht,allDayText:String,allDayClassNames:ie,allDayContent:ie,allDayDidMount:ie,allDayWillUnmount:ie,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Zt,rerenderDelay:Number,moreLinkText:ie,moreLinkHint:ie,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:ie,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ht,hiddenDays:ie,fixedWeekCount:Boolean,validRange:ie,visibleRange:ie,titleFormat:ie,eventInteractive:Boolean,noEventsText:String,viewHint:ie,navLinkHint:ie,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:ie,moreLinkClassNames:ie,moreLinkContent:ie,moreLinkDidMount:ie,moreLinkWillUnmount:ie,monthStartFormat:Zt,handleCustomRendering:ie,customRenderingMetaMap:ie,customRenderingReplaces:Boolean},ud={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},tR={datesSet:ie,eventsSet:ie,eventAdd:ie,eventChange:ie,eventRemove:ie,windowResize:ie,eventClick:ie,eventMouseEnter:ie,eventMouseLeave:ie,select:ie,unselect:ie,loading:ie,_unmount:ie,_beforeprint:ie,_afterprint:ie,_noEventDrop:ie,_noEventResize:ie,_resize:ie,_scrollRequest:ie},nR={buttonText:ie,buttonHints:ie,views:ie,plugins:ie,initialEvents:ie,events:ie,eventSources:ie},Do={headerToolbar:Oo,footerToolbar:Oo,buttonText:Oo,buttonHints:Oo,buttonIcons:Oo,dateIncrement:Oo,plugins:Hh,events:Hh,eventSources:Hh,resources:Hh};function Oo(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Fr(t,e):t===e}function Hh(t,e){return Array.isArray(t)&&Array.isArray(e)?qa(t,e):t===e}const Mq={type:String,component:ie,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:ie,usesMinMaxTime:Boolean,classNames:ie,content:ie,didMount:ie,willUnmount:ie};function Wv(t){return __(t,Do)}function b_(t,e){let n={},i={};for(let r in e)r in t&&(n[r]=e[r](t[r]));for(let r in t)r in e||(i[r]=t[r]);return{refined:n,extra:i}}function ie(t){return t}const{hasOwnProperty:Hg}=Object.prototype;function __(t,e){let n={};if(e){for(let i in e)if(e[i]===Oo){let r=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][i];if(typeof o=="object"&&o)r.unshift(o);else if(o!==void 0){n[i]=o;break}}r.length&&(n[i]=__(r))}}for(let i=t.length-1;i>=0;i-=1){let r=t[i];for(let s in r)s in n||(n[s]=r[s])}return n}function Ko(t,e){let n={};for(let i in t)e(t[i],i)&&(n[i]=t[i]);return n}function Ws(t,e){let n={};for(let i in t)n[i]=e(t[i],i);return n}function cM(t){let e={};for(let n of t)e[n]=!0;return e}function S_(t){let e=[];for(let n in t)e.push(t[n]);return e}function Fr(t,e){if(t===e)return!0;for(let n in t)if(Hg.call(t,n)&&!(n in e))return!1;for(let n in e)if(Hg.call(e,n)&&t[n]!==e[n])return!1;return!0}const Nq=/^on[A-Z]/;function Iq(t,e){const n=jq(t,e);for(let i of n)if(!Nq.test(i))return!1;return!0}function jq(t,e){let n=[];for(let i in t)Hg.call(t,i)&&(i in e||n.push(i));for(let i in e)Hg.call(e,i)&&t[i]!==e[i]&&n.push(i);return n}function Yv(t,e,n={}){if(t===e)return!0;for(let i in e)if(!(i in t&&Pq(t[i],e[i],n[i])))return!1;for(let i in t)if(!(i in e))return!1;return!0}function Pq(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function Lq(t,e=0,n,i=1){let r=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=i){let o=t[s];o!==void 0&&r.push(o)}return r}let uM={};function zq(t,e){uM[t]=e}function Uq(t){return new uM[t]}class Fq{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Ii(e)}markerToArray(e){return Pa(e)}}zq("gregory",Fq);const Hq=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Bq(t){let e=Hq.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(oM(n)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class Vq{constructor(e){let n=this.timeZone=e.timeZone,i=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=Uq(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Ii(KA(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Ii(e)),n===null||!oM(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=Bq(e);if(n===null)return null;let{marker:i}=n,r=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-n.timeZoneOffset*60*1e3):r=n.timeZoneOffset),{marker:i,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n.years,i[1]+=n.months,i[2]+=n.days,i[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]-=n.years,i[1]-=n.months,i[2]-=n.days,i[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n,this.calendarSystem.arrayToMarker(i)}addMonths(e,n){let i=this.calendarSystem.markerToArray(e);return i[1]+=n,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,n){let{calendarSystem:i}=this;return La(e)===La(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)&&i.getMarkerMonth(e)===i.getMarkerMonth(n)?i.getMarkerYear(n)-i.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:i}=this;return La(e)===La(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)?i.getMarkerMonth(n)-i.getMarkerMonth(e)+(i.getMarkerYear(n)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let i=this.diffWholeYears(e,n);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,n),i!==null?{unit:"month",value:i}:(i=cq(e,n),i!==null?{unit:"week",value:i}:(i=zg(e,n),i!==null?{unit:"day",value:i}:(i=sq(e,n),hg(i)?{unit:"hour",value:i}:(i=aq(e,n),hg(i)?{unit:"minute",value:i}:(i=oq(e,n),hg(i)?{unit:"second",value:i}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,i){let r;return i.years&&(r=this.diffWholeYears(e,n),r!==null)?r/tq(i):i.months&&(r=this.diffWholeMonths(e,n),r!==null)?r/nq(i):i.days&&(r=zg(e,n),r!==null)?r/_c(i):(n.valueOf()-e.valueOf())/Pr(i)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Ft(e):n==="hour"?uq(e):n==="minute"?dq(e):n==="second"?fq(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):hq(e,this.weekDow,this.weekDoy)}format(e,n,i={}){return n.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,i,r={}){return r.isEndExclusive&&(n=Ga(n,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(n)},this,r.defaultSeparator)}formatIso(e,n={}){let i=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?i=n.forcedTzo:i=this.offsetForMarker(e)),lM(e,i,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Ii(KA(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Ii(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-XA(Pa(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Pa(e)):null}toDate(e,n){return this.timeZone==="local"?XA(Pa(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Pa(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Yd{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,i;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(i in e)n[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let i;return n&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Yd.prototype.classes={};Yd.prototype.iconClasses={};Yd.prototype.baseIconClass="";Yd.prototype.iconOverridePrefix="";function Bg(t){t();let e=Pe.debounceRendering,n=[];function i(r){n.push(r)}for(Pe.debounceRendering=i,Td(L($q,{}),document.createElement("div"));n.length;)n.shift()();Pe.debounceRendering=e}class $q extends Yi{render(){return L("div",{})}componentDidMount(){this.setState({})}}function dM(t){let e=g6(t),n=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=n.apply(this,arguments);if(i){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(c=>{c.context=o.value,c.forceUpdate()})},this.sub=o=>{s.push(o);let c=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),c&&c.call(o)}}}return r},e}class qq{constructor(e,n,i,r){this.execFunc=e,this.emitter=n,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Xs=dM({});function Gq(t,e,n,i,r,s,o,c,u,d,h,p,m,y){return{dateEnv:r,nowManager:s,options:n,pluginHooks:c,emitter:h,dispatch:u,getCurrentData:d,calendarApi:p,viewSpec:t,viewApi:e,dateProfileGenerator:i,theme:o,isRtl:n.direction==="rtl",addResizeHandler(_){h.on("_resize",_)},removeResizeHandler(_){h.off("_resize",_)},createScrollResponder(_){return new qq(_,h,ht(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:m,unregisterInteractiveComponent:y}}class ol extends Yi{shouldComponentUpdate(e,n){return!Yv(this.props,e,this.propEquality)||!Yv(this.state,n,this.stateEquality)}safeSetState(e){Yv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}ol.addPropsEquality=Wq;ol.addStateEquality=Yq;ol.contextType=Xs;ol.prototype.propEquality={};ol.prototype.stateEquality={};class Ct extends ol{}Ct.contextType=Xs;function Wq(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function Yq(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function ss(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class w_ extends Ct{constructor(){super(...arguments),this.id=al(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:i}=this.props;(!n.customRenderingReplaces||!l0(i,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ss(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:i}=n,{customGenerator:r,defaultGenerator:s,renderProps:o}=e,c=fM(e,[],this.handleEl);let u=!1,d,h=[],p;if(r!=null){const m=typeof r=="function"?r(o,L):r;if(m===!0)u=!0;else{const y=m&&typeof m=="object";y&&"html"in m?c.dangerouslySetInnerHTML={__html:m.html}:y&&"domNodes"in m?h=Array.prototype.slice.call(m.domNodes):(y?Pk(m):typeof m!="function")?d=m:p=m}}else u=!l0(e.generatorName,i);return u&&s&&(d=s(o)),this.queuedDomNodes=h,this.currentGeneratorMeta=p,L(e.elTag,c,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:i,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=r.options;if(s){const c=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o?.[i.generatorName];c&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:c},i),{elClasses:(i.elClasses||[]).filter(Qq)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,i=this.base;if(!qa(e,n)){n.forEach(g_);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}w_.addPropsEquality({elClasses:qa,elStyle:Fr,elAttrs:Iq,renderProps:Fr});function l0(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function fM(t,e,n){const i=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(i.className=(t.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),t.elStyle&&(i.style=t.elStyle),i}function Qq(t){return!!t}const hM=dM(0);class ui extends Yi{constructor(){super(...arguments),this.InnerContent=Kq.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ss(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=Xq(e.classNameGenerator,e.renderProps);if(e.children){const i=fM(e,n,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?L(e.elTag,i,r):r}else return L(w_,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ui.contextType=hM;function Kq(t,e){const n=t.props;return L(w_,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function Xq(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Ad extends Ct{render(){let{props:e,context:n}=this,{options:i}=n,r={view:n.viewApi};return L(ui,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...gM(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>e.children)}}function gM(t){return[`fc-${t.type}-view`,"fc-view"]}function Zq(t,e){let n=null,i=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(i=e.createMarker(t.end)),!n&&!i||n&&i&&i<n?null:{start:n,end:i}}function iR(t,e){let n=[],{start:i}=e,r,s;for(t.sort(Jq),r=0;r<t.length;r+=1)s=t[r],s.start>i&&n.push({start:i,end:s.start}),s.end>i&&(i=s.end);return i<e.end&&n.push({start:i,end:e.end}),n}function Jq(t,e){return t.start.valueOf()-e.start.valueOf()}function Wa(t,e){let{start:n,end:i}=t,r=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(n===null||i===null||n<i)&&(r={start:n,end:i}),r}function eG(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function x_(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Tp(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function $s(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function tG(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function pM(t){let e=Math.floor(eo(t.start,t.end))||1,n=Ft(t.start),i=On(n,e);return{start:n,end:i}}function E_(t,e=ht(0)){let n=null,i=null;if(t.end){i=Ft(t.end);let r=t.end.valueOf()-i.valueOf();r&&r>=Pr(e)&&(i=On(i,1))}return t.start&&(n=Ft(t.start),i&&i<=n&&(i=On(n,1))),{start:n,end:i}}function nG(t){let e=E_(t);return eo(e.start,e.end)>1}function hc(t,e,n,i){return i==="year"?ht(n.diffWholeYears(t,e),"year"):i==="month"?ht(n.diffWholeMonths(t,e),"month"):lq(t,e)}class mM{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,i){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,i)}buildNext(e,n,i){let{dateEnv:r}=this.props,s=r.add(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,i)}build(e,n,i=!0){let{props:r}=this,s,o,c,u,d,h;return s=this.buildValidRange(),s=this.trimHiddenDays(s),i&&(e=tG(e,s)),o=this.buildCurrentRangeInfo(e,n),c=/^(year|month|week|day)$/.test(o.unit),u=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,c),u=this.trimHiddenDays(u),d=u,r.showNonCurrentDates||(d=Wa(d,o.range)),d=this.adjustActiveRange(d),d=Wa(d,s),h=x_(o.range,s),$s(u,e)||(e=u.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:c,activeRange:d,renderRange:u,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:h,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:i}=this,r=null,s=null,o=null,c;return i.duration?(r=i.duration,s=i.durationUnit,o=this.buildRangeFromDuration(e,n,r,s)):(c=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,c)):(o=this.buildCustomVisibleRange(e))?s=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(r=this.getFallbackDuration(),s=o0(r).unit,o=this.buildRangeFromDuration(e,n,r,s)),{duration:r,unit:s,range:o}}getFallbackDuration(){return ht({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:s}=this.props,{start:o,end:c}=e;return i&&(_c(r)<0&&(o=Ft(o),o=n.add(o,r)),_c(s)>1&&(c=Ft(c),c=On(c,-1),c=n.add(c,s))),{start:o,end:c}}buildRangeFromDuration(e,n,i,r){let{dateEnv:s,dateAlignment:o}=this.props,c,u,d;if(!o){let{dateIncrement:p}=this.props;p&&Pr(p)<Pr(i)?o=o0(p).unit:o=r}_c(i)<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,n),c=Ft(c));function h(){c=s.startOf(e,o),u=s.add(c,i),d={start:c,end:u}}return h(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),h()),d}buildRangeFromDayCount(e,n,i){let{dateEnv:r,dateAlignment:s}=this.props,o=0,c=e,u;s&&(c=r.startOf(c,s)),c=Ft(c),c=this.skipHiddenDays(c,n),u=c;do u=On(u,1),this.isHiddenDay(u)||(o+=1);while(o<i);return{start:c,end:u}}buildCustomVisibleRange(e){let{props:n}=this,i=n.visibleRangeInput,r=typeof i=="function"?i.call(n.calendarApi,n.dateEnv.toDate(e)):i,s=this.refineRange(r);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,i){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,i;return n||((i=this.props.dateAlignment)?ht(1,i):e||ht({days:1}))}refineRange(e){if(e){let n=Zq(e,this.props.dateEnv);return n&&(n=E_(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(n[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:i}=e;return n&&(n=this.skipHiddenDays(n)),i&&(i=this.skipHiddenDays(i,-1,!0)),n==null||i==null||n<i?{start:n,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?n:0)+7)%7];)e=On(e,n);return e}}function C_(t,e,n,i){return{instanceId:al(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:i??null}}function iG(t,e,n,i){for(let r=0;r<i.length;r+=1){let s=i[r].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}function Xo(t,e,n){let{dateEnv:i,pluginHooks:r,options:s}=n,{defs:o,instances:c}=t;c=Ko(c,u=>!o[u.defId].recurringDef);for(let u in o){let d=o[u];if(d.recurringDef){let{duration:h}=d.recurringDef;h||(h=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let p=rG(d,h,e,i,r.recurringTypes);for(let m of p){let y=C_(u,{start:m,end:i.add(m,h)});c[y.instanceId]=y}}}return{defs:o,instances:c}}function rG(t,e,n,i,r){let o=r[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:i.subtract(n.start,e),end:n.end},i);return t.allDay&&(o=o.map(Ft)),o}const pg={id:String,groupId:String,title:String,url:String,interactive:Boolean},yM={start:ie,end:ie,date:ie,allDay:Boolean},sG=Object.assign(Object.assign(Object.assign({},pg),yM),{extendedProps:ie});function vM(t,e,n,i,r=T_(n),s,o){let{refined:c,extra:u}=bM(t,n,r),d=oG(e,n),h=iG(c,d,n.dateEnv,n.pluginHooks.recurringTypes);if(h){let m=c0(c,u,e?e.sourceId:"",h.allDay,!!h.duration,n,s);return m.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:m,instance:null}}let p=aG(c,d,n,i);if(p){let m=c0(c,u,e?e.sourceId:"",p.allDay,p.hasEnd,n,s),y=C_(m.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return o&&m.publicId&&o[m.publicId]&&(y.instanceId=o[m.publicId]),{def:m,instance:y}}return null}function bM(t,e,n=T_(e)){return b_(t,n)}function T_(t){return Object.assign(Object.assign(Object.assign({},Vg),sG),t.pluginHooks.eventRefiners)}function c0(t,e,n,i,r,s,o){let c={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||al(),sourceId:n,allDay:i,hasEnd:r,interactive:t.interactive,ui:$g(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let u of s.pluginHooks.eventDefMemberAdders)Object.assign(c,u(t));return Object.freeze(c.ui.classNames),Object.freeze(c.extendedProps),c}function aG(t,e,n,i){let{allDay:r}=t,s,o=null,c=!1,u,d=null,h=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(h),s)o=s.marker;else if(!i)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),r==null&&(e!=null?r=e:r=(!s||s.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),r&&o&&(o=Ft(o)),u&&(d=u.marker,r&&(d=Ft(d)),o&&d<=o&&(d=null)),d?c=!0:i||(c=n.options.forceEventDuration||!1,d=n.dateEnv.add(o,r?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:r,hasEnd:c,range:{start:o,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function oG(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Rd(t,e,n,i,r,s){let o=Qi(),c=T_(n);for(let u of t){let d=vM(u,e,n,i,c,r,s);d&&u0(d,o)}return o}function u0(t,e=Qi()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function A_(t,e){let n=t.instances[e];if(n){let i=t.defs[n.defId],r=Ap(t,s=>lG(i,s));return r.defs[i.defId]=i,r.instances[n.instanceId]=n,r}return Qi()}function lG(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Qi(){return{defs:{},instances:{}}}function R_(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Ap(t,e){let n=Ko(t.defs,e),i=Ko(t.instances,r=>n[r.defId]);return{defs:n,instances:i}}function cG(t,e){let{defs:n,instances:i}=t,r={},s={};for(let o in n)e.defs[o]||(r[o]=n[o]);for(let o in i)!e.instances[o]&&r[i[o].defId]&&(s[o]=i[o]);return{defs:r,instances:s}}function uG(t,e){return Array.isArray(t)?Rd(t,null,e,!0):typeof t=="object"&&t?Rd([t],null,e,!0):t!=null?String(t):null}function rR(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Vg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:ie,overlap:ie,allow:ie,className:rR,classNames:rR,color:String,backgroundColor:String,borderColor:String,textColor:String},dG={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function $g(t,e){let n=uG(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function _M(t){return t.reduce(fG,dG)}function fG(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const hG={id:String,defaultAllDay:Boolean,url:String,format:String,events:ie,eventDataTransform:ie,success:ie,failure:ie};function SM(t,e,n=wM(e)){let i;if(typeof t=="string"?i={url:t}:typeof t=="function"||Array.isArray(t)?i={events:t}:typeof t=="object"&&t&&(i=t),i){let{refined:r,extra:s}=b_(i,n),o=gG(r,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:al(),sourceDefId:o.sourceDefId,meta:o.meta,ui:$g(r,e),extendedProps:s}}return null}function wM(t){return Object.assign(Object.assign(Object.assign({},Vg),hG),t.pluginHooks.eventSourceRefiners)}function gG(t,e){let n=e.pluginHooks.eventSourceDefs;for(let i=n.length-1;i>=0;i-=1){let s=n[i].parseMeta(t);if(s)return{sourceDefId:i,meta:s}}return null}function pG(t,e,n,i,r){switch(e.type){case"RECEIVE_EVENTS":return mG(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return yG(t,n[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return vG(t,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return R_(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Xo(t,i.activeRange,r):t;case"REMOVE_EVENTS":return cG(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return EM(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ap(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return Qi();default:return t}}function mG(t,e,n,i,r,s){if(e&&n===e.latestFetchId){let o=Rd(xM(r,e,s),e,s);return i&&(o=Xo(o,i,s)),R_(EM(t,e.sourceId),o)}return t}function yG(t,e,n,i,r){const{defIdMap:s,instanceIdMap:o}=_G(t);let c=Rd(xM(n,e,r),e,r,!1,s,o);return Xo(c,i,r)}function xM(t,e,n){let i=n.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(t=sR(t,r)),i&&(t=sR(t,i)),t}function sR(t,e){let n;if(!e)n=t;else{n=[];for(let i of t){let r=e(i);r?n.push(r):r==null&&n.push(i)}}return n}function vG(t,e,n,i){return n&&(e=Xo(e,n,i)),R_(t,e)}function aR(t,e,n){let{defs:i}=t,r=Ws(t.instances,s=>i[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:i,instances:r}}function EM(t,e){return Ap(t,n=>n.sourceId!==e)}function bG(t,e){return{defs:t.defs,instances:Ko(t.instances,n=>!e[n.instanceId])}}function _G(t){const{defs:e,instances:n}=t,i={},r={};for(let s in e){const o=e[s],{publicId:c}=o;c&&(i[c]=s)}for(let s in n){const o=n[s],c=e[o.defId],{publicId:u}=c;u&&(r[u]=s)}return{defIdMap:i,instanceIdMap:r}}class Rp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){SG(this.handlers,e,n)}off(e,n){wG(this.handlers,e,n)}trigger(e,...n){let i=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],i);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function SG(t,e,n){(t[e]||(t[e]=[])).push(n)}function wG(t,e,n){n?t[e]&&(t[e]=t[e].filter(i=>i!==n)):delete t[e]}const xG={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function EG(t,e){return Rd(CG(t),null,e)}function CG(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},xG),n)),e}function CM(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},D_(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function TG(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function D_(t,e){let n={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(n,i(t,e));return Object.assign(n,FG(t,e.dateEnv)),n}function oR(t,e,n){let{dateEnv:i,options:r}=n,s=e;return t?(s=Ft(s),s=i.add(s,r.defaultAllDayEventDuration)):s=i.add(s,r.defaultTimedEventDuration),s}function O_(t,e,n,i){let r=qg(t.defs,e),s=Qi();for(let o in t.defs){let c=t.defs[o];s.defs[o]=AG(c,r[o],n,i)}for(let o in t.instances){let c=t.instances[o],u=s.defs[c.defId];s.instances[o]=RG(c,u,r[c.defId],n,i)}return s}function AG(t,e,n,i){let r=n.standardProps||{};r.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),r),{ui:Object.assign(Object.assign({},t.ui),r.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of i.pluginHooks.eventDefMutationAppliers)o(s,n,i);return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function RG(t,e,n,i,r){let{dateEnv:s}=r,o=i.standardProps&&i.standardProps.allDay===!0,c=i.standardProps&&i.standardProps.hasEnd===!1,u=Object.assign({},t);return o&&(u.range=pM(u.range)),i.datesDelta&&n.startEditable&&(u.range={start:s.add(u.range.start,i.datesDelta),end:s.add(u.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(u.range={start:s.add(u.range.start,i.startDelta),end:u.range.end}),i.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:s.add(u.range.end,i.endDelta)}),c&&(u.range={start:u.range.start,end:oR(e.allDay,u.range.start,r)}),e.allDay&&(u.range={start:Ft(u.range.start),end:Ft(u.range.end)}),u.range.end<u.range.start&&(u.range.end=oR(e.allDay,u.range.start,r)),u}class cc{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class rn{constructor(e,n,i){this._context=e,this._def=n,this._instance=i||null}setProp(e,n){if(e in yM)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=pg[e](n),this.mutate({standardProps:{publicId:n}});else if(e in pg)n=pg[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Vg){let i=Vg[e](n);e==="color"?i={backgroundColor:n,borderColor:n}:e==="editable"?i={startEditable:n,durationEditable:n}:i={[e]:n},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let s=this._instance.range,o=hc(s.start,r,i,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let s=hc(this._instance.range.end,r,i,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,i={}){let{dateEnv:r}=this._context,s={allDay:i.allDay},o=r.createMarker(e),c;if(o&&!(n!=null&&(c=r.createMarker(n),!c))&&this._instance){let u=this._instance.range;i.allDay===!0&&(u=pM(u));let d=hc(u.start,o,r,i.granularity);if(c){let h=hc(u.end,c,r,i.granularity);Z6(d,h)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:h,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let n=ht(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=ht(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=ht(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let i={allDay:e},{maintainDuration:r}=n;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:n}=this._context,i=this._instance,r=Zt(e);return this._def.hasEnd?n.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):n.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let i=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),o=A_(s,n.instanceId);o=O_(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let u=new rn(r,i,n);this._def=o.defs[i.defId],this._instance=o.instances[n.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:o}),r.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:$o(o,r,n),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=TM(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new cc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:i}=n,{startStr:r,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),r&&(o.start=r),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),i.display&&i.display!=="auto"&&(o.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function TM(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function $o(t,e,n){let{defs:i,instances:r}=t,s=[],o=n?n.instanceId:"";for(let c in r){let u=r[c],d=i[u.defId];u.instanceId!==o&&s.push(new rn(e,d,u))}return s}function d0(t,e,n,i){let r={},s={},o={},c=[],u=[],d=qg(t.defs,e);for(let h in t.defs){let p=t.defs[h];d[p.defId].display==="inverse-background"&&(p.groupId?(r[p.groupId]=[],o[p.groupId]||(o[p.groupId]=p)):s[h]=[])}for(let h in t.instances){let p=t.instances[h],m=t.defs[p.defId],y=d[m.defId],_=p.range,S=!m.allDay&&i?E_(_,i):_,w=Wa(S,n);w&&(y.display==="inverse-background"?m.groupId?r[m.groupId].push(w):s[p.defId].push(w):y.display!=="none"&&(y.display==="background"?c:u).push({def:m,ui:y,instance:p,range:w,isStart:S.start&&S.start.valueOf()===w.start.valueOf(),isEnd:S.end&&S.end.valueOf()===w.end.valueOf()}))}for(let h in r){let p=r[h],m=iR(p,n);for(let y of m){let _=o[h],S=d[_.defId];c.push({def:_,ui:S,instance:null,range:y,isStart:!1,isEnd:!1})}}for(let h in s){let p=s[h],m=iR(p,n);for(let y of m)c.push({def:t.defs[h],ui:d[h],instance:null,range:y,isStart:!1,isEnd:!1})}return{bg:c,fg:u}}function DG(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function lR(t,e){t.fcSeg=e}function Ac(t){return t.fcSeg||t.parentNode.fcSeg||null}function qg(t,e){return Ws(t,n=>AM(n,e))}function AM(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),_M(n)}function k_(t,e){let n=t.map(OG);return n.sort((i,r)=>q6(i,r,e)),n.map(i=>i._seg)}function OG(t){let{eventRange:e}=t,n=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:r,end:s,duration:s-r,allDay:Number(n.allDay),_seg:t})}function kG(t,e){let{pluginHooks:n}=e,i=n.isDraggableTransformers,{def:r,ui:s}=t.eventRange,o=s.startEditable;for(let c of i)o=c(o,r,s,e);return o}function MG(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function NG(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function dd(t,e,n,i,r,s,o){let{dateEnv:c,options:u}=n,{displayEventTime:d,displayEventEnd:h}=u,p=t.eventRange.def,m=t.eventRange.instance;d==null&&(d=i!==!1),h==null&&(h=r!==!1);let y=m.range.start,_=m.range.end,S=s||t.start||t.eventRange.range.start,w=o||t.end||t.eventRange.range.end,x=Ft(y).valueOf()===Ft(S).valueOf(),E=Ft(Ga(_,-1)).valueOf()===Ft(Ga(w,-1)).valueOf();return d&&!p.allDay&&(x||E)?(S=x?y:S,w=E?_:w,h&&p.hasEnd?c.formatRange(S,w,e,{forcedStartTzo:s?null:m.forcedStartTzo,forcedEndTzo:o?null:m.forcedEndTzo}):c.format(S,e,{forcedTzo:s?null:m.forcedStartTzo})):""}function qs(t,e,n){let i=t.eventRange.range;return{isPast:i.end<=(n||e.start),isFuture:i.start>=(n||e.end),isToday:e&&$s(e,i.start)}}function IG(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function RM(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function M_(t,e){let{def:n,instance:i}=t.eventRange,{url:r}=n;if(r)return{href:r};let{emitter:s,options:o}=e,{eventInteractive:c}=o;return c==null&&(c=n.interactive,c==null&&(c=!!s.hasHandlers("eventClick"))),c?aM(u=>{s.trigger("eventClick",{el:u.target,event:new rn(e,n,i),jsEvent:u,view:e.viewApi})}):{}}const jG={start:ie,end:ie,allDay:Boolean};function PG(t,e,n){let i=LG(t,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(n==null)return null;r.end=e.add(r.start,n)}return i}function LG(t,e){let{refined:n,extra:i}=b_(t,jG),r=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:o},i)}function zG(t,e){return eG(t.range,e.range)&&t.allDay===e.allDay&&UG(t,e)}function UG(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function FG(t,e){return Object.assign(Object.assign({},OM(t.range,e,t.allDay)),{allDay:t.allDay})}function DM(t,e,n){return Object.assign(Object.assign({},OM(t,e,n)),{timeZone:e.timeZone})}function OM(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function HG(t,e,n){let i=bM({editable:!1},n),r=c0(i.refined,i.extra,"",t.allDay,!0,n);return{def:r,ui:AM(r,e),instance:C_(r.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function BG(t,e,n){let i=!1,r=function(c){i||(i=!0,e(c))},s=function(c){i||(i=!0,n(c))},o=t(r,s);o&&typeof o.then=="function"&&o.then(r,s)}class cR extends Error{constructor(e,n){super(e),this.response=n}}function VG(t,e,n){t=t.toUpperCase();const i={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(i.body=new URLSearchParams(n),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new cR("Failure parsing JSON",r)});throw new cR("Request failed",r)})}let Qv;function kM(){return Qv==null&&(Qv=$G()),Qv}function $G(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class qG extends Ct{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Bg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Bg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:i}=this.state,r=i||n.height==="auto"||n.contentHeight==="auto",s=!r&&n.height!=null?n.height:"",o=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return kM()||o.push("fc-liquid-hack"),e.children(o,s,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let Hc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function GG(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function N_(t){return{[t.component.uid]:t}}const f0={};class ll extends Yi{constructor(e,n){super(e,n),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,i=n.nowManager.getDateMarker(),{nowIndicatorSnap:r}=n.options;r==="auto"&&(r=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,o;return r?(s=n.dateEnv.startOf(i,e.unit),o=n.dateEnv.add(s,ht(1,e.unit)).valueOf()-i.valueOf()):(s=i,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:s,todayRange:WG(s)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}ll.contextType=Xs;function WG(t){let e=Ft(t),n=On(e,1);return{start:e,end:n}}class YG{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let i=this.getCurrentData(),r;n=n||"day",r=i.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),s,o;for(let c in n)r.push(c);for(s=0;s<r.length;s+=1)if(o=n[r[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),i=ht(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),Zt(n))}formatRange(e,n,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(n),Zt(i),i)}formatIso(e,n){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:n})}select(e,n){let i;n==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:n};let r=this.getCurrentData(),s=PG(i,r.dateEnv,ht({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),CM(s,null,r))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),TG(e,n))}addEvent(e,n){if(e instanceof rn){let o=e._def,c=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:u0({def:o,instance:c})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(n instanceof cc)r=n.internalEventSource;else if(typeof n=="boolean")n&&([r]=S_(i.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;r=o.internalEventSource}let s=vM(e,r,i,!1);if(s){let o=new rn(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:u0(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:TM(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:i,instances:r}=n.eventStore;e=String(e);for(let s in i){let o=i[s];if(o.publicId===e){if(o.recurringDef)return new rn(n,o,null);for(let c in r){let u=r[c];if(u.defId===o.defId)return new rn(n,o,u)}}}return null}getEvents(){let e=this.getCurrentData();return $o(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,i=[];for(let r in n)i.push(new cc(e,n[r]));return i}getEventSourceById(e){let n=this.getCurrentData(),i=n.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new cc(n,i[r]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof cc)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=SM(e,n);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new cc(n,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=ht(e);n&&this.trigger("_scrollRequest",{time:n})}}function QG(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function MM(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function KG(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function XG(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function ZG(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Kv=Qi();class JG{constructor(){this.getKeysForEventDefs=Ie(this._getKeysForEventDefs),this.splitDateSelection=Ie(this._splitDateSpan),this.splitEventStore=Ie(this._splitEventStore),this.splitIndividualUi=Ie(this._splitIndividualUi),this.splitEventDrag=Ie(this._splitInteraction),this.splitEventResize=Ie(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,i),o=this.splitEventStore(e.eventStore,i),c=this.splitEventDrag(e.eventDrag),u=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=Ws(n,(h,p)=>this.eventUiBuilders[p]||Ie(eW));for(let h in n){let p=n[h],m=o[h]||Kv,y=this.eventUiBuilders[h];d[h]={businessHours:p.businessHours||e.businessHours,dateSelection:r[h]||null,eventStore:m,eventUiBases:y(e.eventUiBases[""],p.ui,s[h]),eventSelection:m.instances[e.eventSelection]?e.eventSelection:"",eventDrag:c[h]||null,eventResize:u[h]||null}}return d}_splitDateSpan(e){let n={};if(e){let i=this.getKeysForDateSpan(e);for(let r of i)n[r]=e}return n}_getKeysForEventDefs(e){return Ws(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:i,instances:r}=e,s={};for(let o in i)for(let c of n[o])s[c]||(s[c]=Qi()),s[c].defs[o]=i[o];for(let o in r){let c=r[o];for(let u of n[c.defId])s[u]&&(s[u].instances[o]=c)}return s}_splitIndividualUi(e,n){let i={};for(let r in e)if(r)for(let s of n[r])i[s]||(i[s]={}),i[s][r]=e[r];return i}_splitInteraction(e){let n={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,r),o=c=>{n[c]||(n[c]={affectedEvents:i[c]||Kv,mutatedEvents:s[c]||Kv,isEvent:e.isEvent})};for(let c in i)o(c);for(let c in s)o(c)}return n}}function eW(t,e,n){let i=[];t&&i.push(t),e&&i.push(e);let r={"":_M(i)};return n&&Object.assign(r,n),r}function I_(t,e,n,i){return{dow:t.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!$s(i.activeRange,t))),isOther:!!(i&&!$s(i.currentRange,t)),isToday:!!(e&&$s(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function Dp(t,e){let n=["fc-day",`fc-day-${iq[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const tW=Zt({year:"numeric",month:"long",day:"numeric"}),nW=Zt({week:"long"});function Rc(t,e,n="day",i=!0){const{dateEnv:r,options:s,calendarApi:o}=t;let c=r.format(e,n==="week"?nW:tW);if(s.navLinks){let u=r.toDate(e);const d=h=>{let p=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof p=="function"?p.call(o,r.toDate(e),h):(typeof p=="string"&&(n=p),o.zoomTo(e,n))};return Object.assign({title:cd(s.navLinkHint,[c,u],c),"data-navlink":""},i?sM(d):{onClick:d})}return{"aria-label":c}}let Xv=null;function iW(){return Xv===null&&(Xv=rW()),Xv}function rW(){let t=document.createElement("div");ld(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return g_(t),n}let Zv;function sW(){return Zv||(Zv=aW()),Zv}function aW(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=NM(t);return document.body.removeChild(t),e}function NM(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function oW(t,e=!1){let n=window.getComputedStyle(t),i=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,c=NM(t),u=c.y-i-r,d=c.x-s-o,h={borderLeft:i,borderRight:r,borderTop:s,borderBottom:o,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return iW()&&n.direction==="rtl"?h.scrollbarLeft=u:h.scrollbarRight=u,e&&(h.paddingLeft=parseInt(n.paddingLeft,10)||0,h.paddingRight=parseInt(n.paddingRight,10)||0,h.paddingTop=parseInt(n.paddingTop,10)||0,h.paddingBottom=parseInt(n.paddingBottom,10)||0),h}function lW(t,e=!1,n){let i=j_(t),r=oW(t,e),s={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function j_(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function cW(t){let e=IM(t),n=t.getBoundingClientRect();for(let i of e){let r=MM(n,i.getBoundingClientRect());if(r)n=r;else return null}return n}function IM(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class Dc{constructor(e,n,i,r){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.left-e),i.push(s.right-e)}this.lefts=n,this.rights=i}buildElVerticals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.top-e),i.push(s.bottom-e)}this.tops=n,this.bottoms=i}leftToIndex(e){let{lefts:n,rights:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}topToIndex(e){let{tops:n,bottoms:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Bh(this.tops||[],e.tops||[])&&Bh(this.bottoms||[],e.bottoms||[])&&Bh(this.lefts||[],e.lefts||[])&&Bh(this.rights||[],e.rights||[])}}function Bh(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(Math.round(t[i])!==Math.round(e[i]))return!1;return!0}class P_{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class uW extends P_{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class dW extends P_{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Vr extends Ct{constructor(){super(...arguments),this.uid=al()}prepareHits(){}queryHit(e,n,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!li(e,".fc-event-mirror")}isValidDateDownEl(e){return!li(e,".fc-event:not(.fc-bg-event)")&&!li(e,".fc-more-link")&&!li(e,"a[data-navlink]")&&!li(e,".fc-popover")}}class jM{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let i of e)this.insertEntry(i,n);return n}insertEntry(e,n){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},n),{span:L_(n.span,e.touchingEntry.span)});i.push(r),this.splitEntry(n,e.touchingEntry,i)}else i.push(n)}splitEntry(e,n,i){let r=e.span,s=n.span;r.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:s.start}},i),r.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:r.end}},i)}insertEntryAt(e,n){let{entriesByLevel:i,levelCoords:r}=this;n.lateral===-1?(Jv(r,n.level,n.levelCoord),Jv(i,n.level,[e])):Jv(i[n.level],n.lateral,e),this.stackCnts[qo(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:i,strictOrder:r,stackCnts:s}=this,o=n.length,c=0,u=-1,d=-1,h=null,p=0;for(let _=0;_<o;_+=1){const S=n[_];if(!r&&S>=c+this.getEntryThickness(e))break;let w=i[_],x,E=g0(w,e.span.start,h0),A=E[0]+E[1];for(;(x=w[A])&&x.span.start<e.span.end;){let I=S+this.getEntryThickness(x);I>c&&(c=I,h=x,u=_,d=A),I===c&&(p=Math.max(p,s[qo(x)]+1)),A+=1}}let m=0;if(h)for(m=u+1;m<o&&n[m]<c;)m+=1;let y=-1;return m<o&&n[m]===c&&(y=g0(i[m],e.span.end,h0)[0]),{touchingLevel:u,touchingLateral:d,touchingEntry:h,stackCnt:p,levelCoord:c,level:m,lateral:y}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,i=e.length,r=[];for(let s=0;s<i;s+=1){let o=e[s],c=n[s];for(let u of o)r.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:c}))}return r}}function h0(t){return t.span.end}function qo(t){return t.index+":"+t.span.start}function fW(t){let e=[];for(let n of t){let i=[],r={span:n.span,entries:[n]};for(let s of e)L_(s.span,r.span)?r={entries:s.entries.concat(r.entries),span:hW(s.span,r.span)}:i.push(s);i.push(r),e=i}return e}function hW(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function L_(t,e){let n=Math.max(t.start,e.start),i=Math.min(t.end,e.end);return n<i?{start:n,end:i}:null}function Jv(t,e,n){t.splice(e,0,n)}function g0(t,e,n){let i=0,r=t.length;if(!r||e<n(t[i]))return[0,0];if(e>n(t[r-1]))return[r,0];for(;i<r;){let s=Math.floor(i+(r-i)/2),o=n(t[s]);if(e<o)r=s;else if(e>o)i=s+1;else return[s,1]}return[i,0]}class gW{constructor(e,n){this.emitter=new Rp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const z_={};function pW(t,e){return!t||e>10?Zt({weekday:"short"}):e>1?Zt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Zt({weekday:"long"})}const PM="fc-col-header-cell";function LM(t){return t.text}class mW extends Ct{render(){let{dateEnv:e,options:n,theme:i,viewApi:r}=this.context,{props:s}=this,{date:o,dateProfile:c}=s,u=I_(o,s.todayRange,null,c),d=[PM].concat(Dp(u,i)),h=e.format(o,s.dayHeaderFormat),p=!u.isDisabled&&s.colCnt>1?Rc(this.context,o):{},m=e.toDate(o);e.namedTimeZoneImpl&&(m=Ga(m,36e5));let y=Object.assign(Object.assign(Object.assign({date:m,view:r},s.extraRenderProps),{text:h}),u);return L(ui,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":u.isDisabled?void 0:Wd(o)},s.extraDataAttrs),renderProps:y,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:LM,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},_=>L("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&L(_,{elTag:"a",elAttrs:p,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const yW=Zt({weekday:"long"});class vW extends Ct{render(){let{props:e}=this,{dateEnv:n,theme:i,viewApi:r,options:s}=this.context,o=On(new Date(2592e5),e.dow),c={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=n.format(o,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:o},c),{view:r}),e.extraRenderProps),{text:u});return L(ui,{elTag:"th",elClasses:[PM,...Dp(c,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:LM,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},h=>L("div",{className:"fc-scrollgrid-sync-inner"},L(h,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,yW)}})))}}class zM extends Ct{constructor(){super(...arguments),this.createDayHeaderFormatter=Ie(bW)}render(){let{context:e}=this,{dates:n,dateProfile:i,datesRepDistinctDays:r,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,n.length);return L(ll,{unit:"day"},(c,u)=>L("tr",{role:"row"},s&&s("day"),n.map(d=>r?L(mW,{key:d.toISOString(),date:d,dateProfile:i,todayRange:u,colCnt:n.length,dayHeaderFormat:o}):L(vW,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:o}))))}}function bW(t,e,n){return t||pW(e,n)}class UM{constructor(e,n){let i=e.start,{end:r}=e,s=[],o=[],c=-1;for(;i<r;)n.isHiddenDay(i)?s.push(c+.5):(c+=1,s.push(c),o.push(i)),i=On(i,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),i=this.getDateDayIndex(On(e.end,-1)),r=Math.max(0,n),s=Math.min(this.cnt-1,i);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:n===r,isEnd:i===s}:null}getDateDayIndex(e){let{indices:n}=this,i=Math.floor(eo(this.dates[0],e));return i<0?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]}}class FM{constructor(e,n){let{dates:i}=e,r,s,o;if(n){for(s=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==s;r+=1);o=Math.ceil(i.length/r)}else o=1,r=i.length;this.rowCnt=o,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(n,r));e.push(i)}return e}buildCell(e,n){let i=this.daySeries.dates[e*this.colCnt+n];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:s,lastIndex:o}=i,c=s;for(;c<=o;){let u=Math.floor(c/n),d=Math.min((u+1)*n,o+1);r.push({row:u,firstCol:c%n,lastCol:(d-1)%n,isStart:i.isStart&&c===s,isEnd:i.isEnd&&d-1===o}),c=d}}return r}}class HM{constructor(){this.sliceBusinessHours=Ie(this._sliceBusinessHours),this.sliceDateSelection=Ie(this._sliceDateSpan),this.sliceEventStore=Ie(this._sliceEventStore),this.sliceEventDrag=Ie(this._sliceInteraction),this.sliceEventResize=Ie(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,i,r,...s){let{eventUiBases:o}=e,c=this.sliceEventStore(e.eventStore,o,n,i,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,i,o,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,i,r,...s),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,i,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,i,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,i,r,...s){return this._sliceDateSpan({range:{start:e,end:Ga(e,1)},allDay:!1},n,i,{},r,...s)}_sliceBusinessHours(e,n,i,r,...s){return e?this._sliceEventStore(Xo(e,Vh(n,!!i),r),{},n,i,...s).bg:[]}_sliceEventStore(e,n,i,r,...s){if(e){let o=d0(e,n,Vh(i,!!r),r);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,i,r,...s){if(!e)return null;let o=d0(e.mutatedEvents,n,Vh(i,!!r),r);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,i,r,s,...o){if(!e)return[];let c=Vh(n,!!i),u=Wa(e.range,c);if(u){e=Object.assign(Object.assign({},e),{range:u});let d=HG(e,r,s),h=this.sliceRange(e.range,...o);for(let p of h)p.eventRange=d;return h}return[]}sliceEventRanges(e,n){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,n));return i}sliceEventRange(e,n){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:On(i.start,1)});let r=this.sliceRange(i,...n);for(let s of r)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return r}}function Vh(t,e){let n=t.activeRange;return e?n:{start:Ga(n.start,t.slotMinTime.milliseconds),end:Ga(n.end,t.slotMaxTime.milliseconds-864e5)}}function BM(t,e,n){let{instances:i}=t.mutatedEvents;for(let r in i)if(!Tp(e.validRange,i[r].range))return!1;return VM({eventDrag:t},n)}function _W(t,e,n){return Tp(e.validRange,t.range)?VM({dateSelection:t},n):!1}function VM(t,e){let n=e.getCurrentData(),i=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||SW)(i,e)}function SW(t,e,n={},i){return!(t.eventDrag&&!wW(t,e,n,i)||t.dateSelection&&!xW(t,e,n,i))}function wW(t,e,n,i){let r=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,c=o.defs,u=o.instances,d=qg(c,s.isEvent?t.eventUiBases:{"":r.selectionConfig});i&&(d=Ws(d,i));let h=bG(t.eventStore,s.affectedEvents.instances),p=h.defs,m=h.instances,y=qg(p,t.eventUiBases);for(let _ in u){let S=u[_],w=S.range,x=d[S.defId],E=c[S.defId];if(!$M(x.constraints,w,h,t.businessHours,e))return!1;let{eventOverlap:A}=e.options,I=typeof A=="function"?A:null;for(let j in m){let M=m[j];if(x_(w,M.range)&&(y[M.defId].overlap===!1&&s.isEvent||x.overlap===!1||I&&!I(new rn(e,p[M.defId],M),new rn(e,E,S))))return!1}let k=r.eventStore;for(let j of x.allows){let M=Object.assign(Object.assign({},n),{range:S.range,allDay:E.allDay}),O=k.defs[E.defId],U=k.instances[_],B;if(O?B=new rn(e,O,U):B=new rn(e,E),!j(D_(M,e),B))return!1}}return!0}function xW(t,e,n,i){let r=t.eventStore,s=r.defs,o=r.instances,c=t.dateSelection,u=c.range,{selectionConfig:d}=e.getCurrentData();if(i&&(d=i(d)),!$M(d.constraints,u,r,t.businessHours,e))return!1;let{selectOverlap:h}=e.options,p=typeof h=="function"?h:null;for(let m in o){let y=o[m];if(x_(u,y.range)&&(d.overlap===!1||p&&!p(new rn(e,s[y.defId],y),null)))return!1}for(let m of d.allows){let y=Object.assign(Object.assign({},n),c);if(!m(D_(y,e),null))return!1}return!0}function $M(t,e,n,i,r){for(let s of t)if(!CW(EW(s,e,n,i,r),e))return!1;return!0}function EW(t,e,n,i,r){return t==="businessHours"?eb(Xo(i,e,r)):typeof t=="string"?eb(Ap(n,s=>s.groupId===t)):typeof t=="object"&&t?eb(Xo(t,e,r)):[]}function eb(t){let{instances:e}=t,n=[];for(let i in e)n.push(e[i].range);return n}function CW(t,e){for(let n of t)if(Tp(n,e))return!0;return!1}const $h=/^(visible|hidden)$/;class qM extends Ct{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ss(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:i}=e,r=n&&i,s=["fc-scroller"];return n&&(i?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),L("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if($h.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if($h.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return $h.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return $h.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Fs{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,i)=>{let{depths:r,currentMap:s}=this,o=!1,c=!1;n!==null?(o=i in s,s[i]=n,r[i]=(r[i]||0)+1,c=!0):(r[i]-=1,r[i]||(delete s[i],delete this.callbackMap[i],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(i)),c&&this.masterCallback(n,String(i)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),n}collect(e,n,i){return Lq(this.currentMap,e,n,i)}getAll(){return S_(this.currentMap)}}function TW(t){let e=j6(t,".fc-scrollgrid-shrink"),n=0;for(let i of e)n=Math.max(n,Q6(i));return Math.ceil(n)}function GM(t,e){return t.liquid&&e.liquid}function AW(t,e){return e.maxHeight!=null||GM(t,e)}function RW(t,e,n,i){let{expandRows:r}=n;return typeof e.content=="function"?e.content(n):L("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,L(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function DW(t,e){return qa(t,e,Fr)}function OW(t,e){let n=[];for(let i of t){let r=i.span||1;for(let s=0;s<r;s+=1)n.push(L("col",{style:{width:i.width==="shrink"?kW(e):i.width||"",minWidth:i.minWidth||""}}))}return L("colgroup",{},...n)}function kW(t){return t??4}function MW(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function NW(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function IW(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function p0(t){return L("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Gg(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function WM(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class U_ extends Ct{constructor(){super(...arguments),this.processCols=Ie(e=>e,DW),this.renderMicroColGroup=Ie(OW),this.scrollerRefs=new Fs,this.scrollerElRefs=new Fs(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:i}=this,r=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),c=NW(e.liquid,i);e.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let u=r.length,d=0,h,p=[],m=[],y=[];for(;d<u&&(h=r[d]).type==="header";)p.push(this.renderSection(h,o,!0)),d+=1;for(;d<u&&(h=r[d]).type==="body";)m.push(this.renderSection(h,o,!1)),d+=1;for(;d<u&&(h=r[d]).type==="footer";)y.push(this.renderSection(h,o,!0)),d+=1;let _=!kM();const S={role:"rowgroup"};return L("table",{role:"grid",className:c.join(" "),style:{height:e.height}},!!(!_&&p.length)&&L("thead",S,...p),!!(!_&&m.length)&&L("tbody",S,...m),!!(!_&&y.length)&&L("tfoot",S,...y),_&&L("tbody",S,...p,...m,...y))}renderSection(e,n,i){return"outerContent"in e?L(Pt,{key:e.key},e.outerContent):L("tr",{key:e.key,role:"presentation",className:IW(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,i))}renderChunkTd(e,n,i,r){if("outerContent"in i)return i.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:c,scrollerClientHeights:u}=this.state,d=AW(s,e),h=GM(s,e),p=s.liquid?o?"scroll":d?"auto":"hidden":"visible",m=e.key,y=RW(e,i,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&c[m]!==void 0?c[m]:null,clientHeight:u[m]!==void 0?u[m]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return L(r?"th":"td",{ref:i.elRef,role:"presentation"},L("div",{className:`fc-scroller-harness${h?" fc-scroller-harness-liquid":""}`},L(qM,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:p,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:h,liquidIsAbsolute:!0},y)))}_handleScrollerEl(e,n){let i=jW(this.props.sections,n);i&&ss(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return MW(this.props.cols)?TW(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=sW(),{scrollerRefs:n,scrollerElRefs:i}=this,r=!1,s={},o={};for(let c in n.currentMap){let u=n.currentMap[c];if(u&&u.needsYScrolling()){r=!0;break}}for(let c of this.props.sections){let u=c.key,d=i.currentMap[u];if(d){let h=d.parentNode;s[u]=Math.floor(h.getBoundingClientRect().width-(r?e.y:0)),o[u]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:o}}}U_.addStateEquality({scrollerClientWidths:Fr,scrollerClientHeights:Fr});function jW(t,e){for(let n of t)if(n.key===e)return n;return null}class Op extends Ct{constructor(){super(...arguments),this.buildPublicEvent=Ie((e,n,i)=>new rn(e,n,i)),this.handleEl=e=>{this.el=e,ss(this.props.elRef,e),e&&lR(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{eventRange:s}=r,{ui:o}=s,c={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&kG(r,n),isStartResizable:!e.disableResizing&&MG(r,n),isEndResizable:!e.disableResizing&&NG(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return L(ui,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...IG(c),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:c,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&lR(this.el,this.props.seg)}}class F_ extends Ct{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{ui:s}=r.eventRange,o=i.eventTimeFormat||e.defaultTimeFormat,c=dd(r,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return L(Op,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:M_(r,n),defaultGenerator:PW,timeText:c}),(u,d)=>L(Pt,null,L(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}F_.addPropsEquality({seg:Fr});function PW(t){return L("div",{className:"fc-event-main-frame"},t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title-container"},L("div",{className:"fc-event-title fc-sticky"},t.event.title||L(Pt,null," "))))}const H_=t=>L(Xs.Consumer,null,e=>{let{options:n}=e,i={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return L(ui,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:i,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),LW=Zt({day:"numeric"});class B_ extends Ct{constructor(){super(...arguments),this.refineRenderProps=gg(zW)}render(){let{props:e,context:n}=this,{options:i}=n,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:i.monthStartFormat});return L(ui,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Wd(e.date)}),elClasses:[...Dp(r,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},e.children)}}function V_(t){return!!(t.dayCellContent||l0("dayCellContent",t))}function zW(t){let{date:e,dateEnv:n,dateProfile:i,isMonthStart:r}=t,s=I_(e,t.todayRange,null,i),o=t.showDayNumber?n.format(e,r?t.monthStartFormat:LW):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:r,dayNumberText:o}),t.extraRenderProps)}class YM extends Ct{render(){let{props:e}=this,{seg:n}=e;return L(Op,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:UW,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function UW(t){let{title:e}=t.event;return e&&L("div",{className:"fc-event-title"},t.event.title)}function QM(t){return L("div",{className:`fc-${t}`})}const KM=t=>L(Xs.Consumer,null,e=>{let{dateEnv:n,options:i}=e,{date:r}=t,s=i.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(r),c=n.format(r,s),u={num:o,text:c,date:r};return L(ui,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:FW,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},t.children)});function FW(t){return t.text}const tb=10;class HW extends Ct{constructor(){super(...arguments),this.state={titleId:Ha()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ss(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=iM(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:i,state:r}=this,s=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return S6(L("div",Object.assign({},i.extraAttrs,{id:i.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),L("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},L("span",{className:"fc-popover-title",id:r.titleId},i.title),L("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),L("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:i}=this.props,{rootEl:r}=this,s=cW(n);if(s){let o=r.getBoundingClientRect(),c=i?li(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,u=e?s.right-o.width:s.left;c=Math.max(c,tb),u=Math.min(u,document.documentElement.clientWidth-tb-o.width),u=Math.max(u,tb);let d=r.offsetParent.getBoundingClientRect();ld(r,{top:c-d.top,left:u-d.left})}}}class BW extends Vr{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:i}=this,{startDate:r,todayRange:s,dateProfile:o}=i,c=n.format(r,e.dayPopoverFormat);return L(B_,{elRef:this.handleRootEl,date:r,dateProfile:o,todayRange:s},(u,d,h)=>L(HW,{elRef:h.ref,id:i.id,title:c,extraClassNames:["fc-more-popover"].concat(h.className||[]),extraAttrs:h,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},V_(e)&&L(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,n,i,r){let{rootEl:s,props:o}=this;return e>=0&&e<i&&n>=0&&n<r?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class XM extends Ct{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Ha()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ss(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:i}=this,{moreLinkClick:r}=i.options,s=uR(n).start;function o(c){let{def:u,instance:d,range:h}=c.eventRange;return{event:new rn(i,u,d),start:i.dateEnv.toDate(h.start),end:i.dateEnv.toDate(h.end),isStart:c.isStart,isEnd:c.isEnd}}typeof r=="function"&&(r=r({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(s,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return L(Xs.Consumer,null,i=>{let{viewApi:r,options:s,calendarApi:o}=i,{moreLinkText:c}=s,{moreCnt:u}=e,d=uR(e),h=typeof c=="function"?c.call(o,u):`+${u} ${c}`,p=cd(s.moreLinkHint,[u],h),m={num:u,shortText:`+${u}`,text:h,view:r};return L(Pt,null,!!e.moreCnt&&L(ui,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),sM(this.handleClick)),{title:p,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||VW,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&L(BW,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=li(this.linkEl,".fc-view-harness"))}}function VW(t){return t.text}function uR(t){if(t.allDayDate)return{start:t.allDayDate,end:On(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:ZM(e),end:qW(e)}}function ZM(t){return t.reduce($W).eventRange.range.start}function $W(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function qW(t){return t.reduce(GW).eventRange.range.end}function GW(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class WW{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class YW extends WW{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let i=!1;e.isActive?(n.set(e.id,e),i=!0):n.has(e.id)&&(n.delete(e.id),i=!0),i&&this.set(n)}}const QW=[],JM={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},eN=Object.assign(Object.assign({},JM),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function KW(t){let e=t.length>0?t[0].code:"en",n=QW.concat(t),i={en:eN};for(let r of n)i[r.code]=r;return{map:i,defaultCode:e}}function tN(t,e){return typeof t=="object"&&!Array.isArray(t)?nN(t.code,[t.code],t):XW(t,e)}function XW(t,e){let n=[].concat(t||[]),i=ZW(n,e)||eN;return nN(t,n,i)}function ZW(t,e){for(let n=0;n<t.length;n+=1){let i=t[n].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let s=i.slice(0,r).join("-");if(e[s])return e[s]}}return null}function nN(t,e,n){let i=__([JM,n],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:t,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(t),options:i}}function ls(t){return{id:al(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function JW(t,e){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let o of s){const c=o.name,u=n[c];u===void 0?(n[c]=o.id,r(o.deps),i=t8(i,o)):u!==o.id&&console.warn(`Duplicate plugin '${c}'`)}}return t&&r(t),r(e),i}function e8(){let t=[],e=[],n;return(i,r)=>((!n||!qa(i,t)||!qa(r,e))&&(n=JW(i,r)),t=i,e=r,n)}function t8(t,e){return{premiumReleaseDate:n8(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function n8(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class to extends Yd{}to.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};to.prototype.baseIconClass="fc-icon";to.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};to.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};to.prototype.iconOverrideOption="buttonIcons";to.prototype.iconOverrideCustomButtonOption="icon";to.prototype.iconOverridePrefix="fc-icon-";function i8(t,e){let n={},i;for(i in t)m0(i,n,t,e);for(i in e)m0(i,n,t,e);return n}function m0(t,e,n,i){if(e[t])return e[t];let r=r8(t,e,n,i);return r&&(e[t]=r),r}function r8(t,e,n,i){let r=n[t],s=i[t],o=h=>r&&r[h]!==null?r[h]:s&&s[h]!==null?s[h]:null,c=o("component"),u=o("superType"),d=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");d=m0(u,e,n,i)}return!c&&d&&(c=d.component),c?{type:t,component:c,defaults:Object.assign(Object.assign({},d?d.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function dR(t){return Ws(t,s8)}function s8(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=fR(e):n&&!(n.prototype instanceof Ct)&&(n=fR(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function fR(t){return e=>L(Xs.Consumer,null,n=>L(ui,{elTag:"div",elClasses:gM(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function a8(t,e,n,i){let r=dR(t),s=dR(e.views),o=i8(r,s);return Ws(o,c=>o8(c,s,e,n,i))}function o8(t,e,n,i,r){let s=t.overrides.duration||t.defaults.duration||i.duration||n.duration,o=null,c="",u="",d={};if(s&&(o=l8(s),o)){let m=o0(o);c=m.unit,m.value===1&&(u=c,d=e[c]?e[c].rawOptions:{})}let h=m=>{let y=m.buttonText||{},_=t.defaults.buttonTextKey;return _!=null&&y[_]!=null?y[_]:y[t.type]!=null?y[t.type]:y[u]!=null?y[u]:null},p=m=>{let y=m.buttonHints||{},_=t.defaults.buttonTextKey;return _!=null&&y[_]!=null?y[_]:y[t.type]!=null?y[t.type]:y[u]!=null?y[u]:null};return{type:t.type,component:t.component,duration:o,durationUnit:c,singleUnit:u,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:h(i)||h(n)||t.overrides.buttonText,buttonTextDefault:h(r)||t.defaults.buttonText||h(ud)||t.type,buttonTitleOverride:p(i)||p(n)||t.overrides.buttonHint,buttonTitleDefault:p(r)||t.defaults.buttonHint||p(ud)}}let hR={};function l8(t){let e=JSON.stringify(t),n=hR[e];return n===void 0&&(n=ht(t),hR[e]=n),n}function c8(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function u8(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function d8(t,e,n){let i=t.initialDate;return i!=null?e.createMarker(i):n.getDateMarker()}function f8(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function h8(t,e,n,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||n);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(t,n),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(t,n),r.isValid)return r;break}return t}function g8(t,e,n){let i=e?e.activeRange:null;return rN({},S8(t,n),i,n)}function p8(t,e,n,i){let r=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return rN(t,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return y8(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?sN(t,r,i):t;case"FETCH_EVENT_SOURCES":return $_(t,e.sourceIds?cM(e.sourceIds):aN(t,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return _8(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function m8(t,e,n){let i=e?e.activeRange:null;return $_(t,aN(t,n),i,!0,n)}function iN(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function rN(t,e,n,i){let r={};for(let s of e)r[s.sourceId]=s;return n&&(r=sN(r,n,i)),Object.assign(Object.assign({},t),r)}function y8(t,e){return Ko(t,n=>n.sourceId!==e)}function sN(t,e,n){return $_(t,Ko(t,i=>v8(i,e,n)),e,!1,n)}function v8(t,e,n){return oN(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function $_(t,e,n,i,r){let s={};for(let o in t){let c=t[o];e[o]?s[o]=b8(c,n,i,r):s[o]=c}return s}function b8(t,e,n,i){let{options:r,calendarApi:s}=i,o=i.pluginHooks.eventSourceDefs[t.sourceDefId],c=al();return o.fetch({eventSource:t,range:e,isRefetch:n,context:i},u=>{let{rawEvents:d}=u;r.eventSourceSuccess&&(d=r.eventSourceSuccess.call(s,d,u.response)||d),t.success&&(d=t.success.call(s,d,u.response)||d),i.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:c,fetchRange:e,rawEvents:d})},u=>{let d=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,u),d=!0),t.failure&&(t.failure(u),d=!0),d||console.warn(u.message,u),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:c,fetchRange:e,error:u})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:c})}function _8(t,e,n,i){let r=t[e];return r&&n===r.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):t}function aN(t,e){return Ko(t,n=>oN(n,e))}function S8(t,e){let n=wM(e),i=[].concat(t.eventSources||[]),r=[];t.initialEvents&&i.unshift(t.initialEvents),t.events&&i.unshift(t.events);for(let s of i){let o=SM(s,e,n);o&&r.push(o)}return r}function oN(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function w8(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function x8(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function E8(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function C8(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function T8(t,e,n,i,r){let s=t.headerToolbar?gR(t.headerToolbar,t,e,n,i,r):null,o=t.footerToolbar?gR(t.footerToolbar,t,e,n,i,r):null;return{header:s,footer:o}}function gR(t,e,n,i,r,s){let o={},c=[],u=!1;for(let d in t){let h=t[d],p=A8(h,e,n,i,r,s);o[d]=p.widgets,c.push(...p.viewsWithButtons),u=u||p.hasTitle}return{sectionWidgets:o,viewsWithButtons:c,hasTitle:u}}function A8(t,e,n,i,r,s){let o=e.direction==="rtl",c=e.customButtons||{},u=n.buttonText||{},d=e.buttonText||{},h=n.buttonHints||{},p=e.buttonHints||{},m=t?t.split(" "):[],y=[],_=!1;return{widgets:m.map(w=>w.split(",").map(x=>{if(x==="title")return _=!0,{buttonName:x};let E,A,I,k,j,M;if(E=c[x])I=O=>{E.click&&E.click.call(O.target,O,O.target)},(k=i.getCustomButtonIconClass(E))||(k=i.getIconClass(x,o))||(j=E.text),M=E.hint||E.text;else if(A=r[x]){y.push(x),I=()=>{s.changeView(x)},(j=A.buttonTextOverride)||(k=i.getIconClass(x,o))||(j=A.buttonTextDefault);let O=A.buttonTextOverride||A.buttonTextDefault;M=cd(A.buttonTitleOverride||A.buttonTitleDefault||e.viewHint,[O,x],O)}else if(s[x])if(I=()=>{s[x]()},(j=u[x])||(k=i.getIconClass(x,o))||(j=d[x]),x==="prevYear"||x==="nextYear"){let O=x==="prevYear"?"prev":"next";M=cd(h[O]||p[O],[d.year||"year","year"],d[x])}else M=O=>cd(h[x]||p[x],[d[O]||O,O],d[x]);return{buttonName:x,buttonClick:I,buttonIcon:k,buttonText:j,buttonHint:M}})),viewsWithButtons:y,hasTitle:_}}class R8{constructor(e,n,i){this.type=e,this.getCurrentData=n,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let D8={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const O8=ls({name:"array-event-source",eventSourceDefs:[D8]});let k8={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:i}=t.context,r=t.eventSource.meta;BG(r.bind(null,DM(t.range,i)),s=>e({rawEvents:s}),n)}};const M8=ls({name:"func-event-source",eventSourceDefs:[k8]}),N8={method:String,extraParams:ie,startParam:String,endParam:String,timeZoneParam:String};let I8={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:i}=t.eventSource,r=P8(i,t.range,t.context);VG(i.method,i.url,r).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const j8=ls({name:"json-event-source",eventSourceRefiners:N8,eventSourceDefs:[I8]});function P8(t,e,n){let{dateEnv:i,options:r}=n,s,o,c,u,d={};return s=t.startParam,s==null&&(s=r.startParam),o=t.endParam,o==null&&(o=r.endParam),c=t.timeZoneParam,c==null&&(c=r.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},Object.assign(d,u),d[s]=i.formatIso(e.start),d[o]=i.formatIso(e.end),i.timeZone!=="local"&&(d[c]=i.timeZone),d}const L8={daysOfWeek:ie,startTime:ht,endTime:ht,duration:ht,startRecur:ie,endRecur:ie};let z8={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},i;return t.duration&&(i=t.duration),!i&&t.startTime&&t.endTime&&(i=J6(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:i,typeData:n}}return null},expand(t,e,n){let i=Wa(e,{start:t.startRecur,end:t.endRecur});return i?F8(t.daysOfWeek,t.startTime,t.dateEnv,n,i):[]}};const U8=ls({name:"simple-recurring-event",recurringTypes:[z8],eventRefiners:L8});function F8(t,e,n,i,r){let s=t?cM(t):null,o=Ft(r.start),c=r.end,u=[];for(e&&(e.milliseconds<0?c=On(c,1):e.milliseconds>=1e3*60*60*24&&(o=On(o,-1)));o<c;){let d;(!s||s[o.getUTCDay()])&&(e?d=i.add(o,e):d=o,u.push(i.createMarker(n.toDate(d)))),o=On(o,1)}return u}const H8=ls({name:"change-handler",optionChangeHandlers:{events(t,e){pR([t],e)},eventSources:pR}});function pR(t,e){let n=S_(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let i=[];for(let r of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===r){n.splice(o,1),s=!0;break}s||i.push(r)}for(let r of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function B8(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},DM(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function V8(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",$o(t,e))}const $8=[O8,M8,j8,U8,H8,ls({name:"misc",isLoadingFuncs:[t=>iN(t.eventSources)],propSetHandlers:{dateProfile:B8,eventStore:V8}})];class q8{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new h_(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],i;for(;i=e.shift();)this.runTask(i),n.push(i);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function G8(t,e,n){let i;return/^(year|month)$/.test(t.currentRangeUnit)?i=t.currentRange:i=t.activeRange,n.formatRange(i.start,i.end,Zt(e.titleFormat||W8(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function W8(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=zg(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class mR{constructor(){this.resetListeners=new Set}handleInput(e,n){const i=this.dateEnv;if(e!==i&&(typeof n=="function"?this.nowFn=n:i||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class Y8{constructor(e){this.computeCurrentViewData=Ie(this._computeCurrentViewData),this.organizeRawLocales=Ie(KW),this.buildLocale=Ie(tN),this.buildPluginHooks=e8(),this.buildDateEnv=Ie(Q8),this.buildTheme=Ie(K8),this.parseToolbars=Ie(T8),this.buildViewSpecs=Ie(a8),this.buildDateProfileGenerator=gg(X8),this.buildViewApi=Ie(Z8),this.buildViewUiProps=gg(tY),this.buildEventUiBySource=Ie(J8,Fr),this.buildEventUiBases=Ie(eY),this.parseContextBusinessHours=gg(nY),this.buildTitle=Ie(G8),this.nowManager=new mR,this.emitter=new Rp,this.actionRunner=new q8(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=e,this.actionRunner.pause(),this.nowManager=new mR;let n={},i=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(r,i,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},c=d8(i.calendarOptions,i.dateEnv,this.nowManager),u=s.dateProfileGenerator.build(c);$s(u.activeRange,c)||(c=u.currentRange.start);for(let m of i.pluginHooks.contextInit)m(o);let d=g8(i.calendarOptions,u,o),h={dynamicOptionOverrides:n,currentViewType:r,currentDate:c,dateProfile:u,businessHours:this.parseContextBusinessHours(o),eventSources:d,eventUiBases:{},eventStore:Qi(),renderableEventStore:Qi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},p=Object.assign(Object.assign({},o),h);for(let m of i.pluginHooks.reducers)Object.assign(h,m(null,null,p));nb(h,o)&&this.emitter.trigger("loading",!0),this.state=h,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:i}=this;n===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:i,emitter:r}=this,s=f8(i.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),c=c8(i.currentViewType,e),u=this.computeCurrentViewData(c,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,r.setThisContext(n.calendarApi),r.setOptions(u.options);let d={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:p}=i;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(p=u.dateProfileGenerator.build(h)),h=u8(h,e),p=h8(p,e,h,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!$s(p.currentRange,h))&&(h=p.currentRange.start);let m=p8(i.eventSources,e,p,d),y=pG(i.eventStore,e,m,p,d),S=iN(m)&&!u.options.progressiveEventRendering&&i.renderableEventStore||y,{eventUiSingleBase:w,selectionConfig:x}=this.buildViewUiProps(d),E=this.buildEventUiBySource(m),A=this.buildEventUiBases(S.defs,w,E),I={dynamicOptionOverrides:s,currentViewType:c,currentDate:h,dateProfile:p,eventSources:m,eventStore:y,renderableEventStore:S,selectionConfig:x,eventUiBases:A,businessHours:this.parseContextBusinessHours(d),dateSelection:w8(i.dateSelection,e),eventSelection:x8(i.eventSelection,e),eventDrag:E8(i.eventDrag,e),eventResize:C8(i.eventResize,e)},k=Object.assign(Object.assign({},d),I);for(let O of o.pluginHooks.reducers)Object.assign(I,O(i,e,k));let j=nb(i,d),M=nb(I,d);!j&&M?r.trigger("loading",!0):j&&!M&&r.trigger("loading",!1),this.state=I,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,r,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),n),c=r.pluginHooks.optionChangeHandlers,u=i&&i.calendarOptions,d=r.calendarOptions;if(u&&u!==d){u.timeZone!==d.timeZone&&(n.eventSources=o.eventSources=m8(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=aR(o.eventStore,i.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=aR(o.renderableEventStore,i.dateEnv,o.dateEnv));for(let h in c)(this.optionsForHandling.indexOf(h)!==-1||u[h]!==d[h])&&c[h](d[h],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:o,availableLocaleData:c,extra:u}=this.processRawCalendarOptions(e,n);yR(u);let d=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,c,r.defaultRangeSeparator),h=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),p=this.buildTheme(r,s),m=this.parseToolbars(r,this.stableOptionOverrides,p,h,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:d,viewSpecs:h,theme:p,toolbarConfig:m,localeDefaults:o,availableRawLocales:c.map}}processRawCalendarOptions(e,n){let{locales:i,locale:r}=Wv([ud,e,n]),s=this.organizeRawLocales(i),o=s.map,c=this.buildLocale(r||s.defaultCode,o).options,u=this.buildPluginHooks(e.plugins||[],$8),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},eR),tR),nR),u.listenerRefiners),u.optionRefiners),h={},p=Wv([ud,c,e,n]),m={},y=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,S=!1;for(let w in p)this.optionsForRefining.indexOf(w)===-1&&(p[w]===y[w]||Do[w]&&w in y&&Do[w](y[w],p[w]))?m[w]=_[w]:d[w]?(m[w]=d[w](p[w]),S=!0):h[w]=y[w];return S&&(this.currentCalendarOptionsInput=p,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:s,localeDefaults:c,extra:h}}_computeCurrentViewData(e,n,i,r){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:c}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,i,r);yR(c),this.nowManager.handleInput(n.dateEnv,o.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:u,viewApi:d}}processRawViewOptions(e,n,i,r,s){let o=Wv([ud,e.optionDefaults,i,r,e.optionOverrides,s]),c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},eR),tR),nR),Mq),n.listenerRefiners),n.optionRefiners),u={},d=this.currentViewOptionsInput,h=this.currentViewOptionsRefined,p=!1,m={};for(let y in o)o[y]===d[y]||Do[y]&&Do[y](o[y],d[y])?u[y]=h[y]:(o[y]===this.currentCalendarOptionsInput[y]||Do[y]&&Do[y](o[y],this.currentCalendarOptionsInput[y])?y in this.currentCalendarOptionsRefined&&(u[y]=this.currentCalendarOptionsRefined[y]):c[y]?u[y]=c[y](o[y]):m[y]=o[y],p=!0);return p&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}}function Q8(t,e,n,i,r,s,o,c){let u=tN(e||o.defaultCode,o.map);return new Vq({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:i,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:c})}function K8(t,e){let n=e.themeClasses[t.themeSystem]||to;return new n(t)}function X8(t){let e=t.dateProfileGeneratorClass||mM;return new e(t)}function Z8(t,e,n){return new R8(t,e,n)}function J8(t){return Ws(t,e=>e.ui)}function eY(t,e,n){let i={"":e};for(let r in t){let s=t[r];s.sourceId&&n[s.sourceId]&&(i[r]=n[s.sourceId])}return i}function tY(t){let{options:e}=t;return{eventUiSingleBase:$g({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:$g({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function nb(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function nY(t){return EG(t.options.businessHours,t)}function yR(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class iY extends Ct{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return L("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:i}=this.context,r=[],s=!0;for(let o of e){let{buttonName:c,buttonClick:u,buttonText:d,buttonIcon:h,buttonHint:p}=o;if(c==="title")s=!1,r.push(L("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let m=c===n.activeButton,y=!n.isTodayEnabled&&c==="today"||!n.isPrevEnabled&&c==="prev"||!n.isNextEnabled&&c==="next",_=[`fc-${c}-button`,i.getClass("button")];m&&_.push(i.getClass("buttonActive")),r.push(L("button",{type:"button",title:typeof p=="function"?p(n.navUnit):p,disabled:y,"aria-pressed":m,className:_.join(" "),onClick:u},d||(h?L("span",{className:h,role:"img"}):"")))}}if(r.length>1){let o=s&&i.getClass("buttonGroup")||"";return L("div",{className:o},...r)}return r[0]}}class vR extends Ct{render(){let{model:e,extraClassName:n}=this.props,i=!1,r,s,o=e.sectionWidgets,c=o.center;return o.left?(i=!0,r=o.left):r=o.start,o.right?(i=!0,s=o.right):s=o.end,L("div",{className:[n||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",c||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:i}=this;return L(iY,{key:e,widgetGroups:n,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class rY extends Ct{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ss(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return i?n.availableWidth!==null?s=n.availableWidth/i:o=`${1/i*100}%`:s=e.height||"",L("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class sY extends Hc{constructor(e){super(e),this.handleSegClick=(n,i)=>{let{component:r}=this,{context:s}=r,o=Ac(i);if(o&&r.isValidSegDownEl(n.target)){let c=li(n.target,".fc-event-forced-url"),u=c?c.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:i,event:new rn(r.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),u&&!n.defaultPrevented&&(window.location.href=u)}},this.destroy=rM(e.el,"click",".fc-event",this.handleSegClick)}}class aY extends Hc{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,i)=>{Ac(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",n,i))},this.handleSegLeave=(n,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,i))},this.removeHoverListeners=z6(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,i){let{component:r}=this,{context:s}=r,o=Ac(i);(!n||r.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:i,event:new rn(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class oY extends ol{constructor(){super(...arguments),this.buildViewContext=Ie(Gq),this.buildViewPropTransformers=Ie(cY),this.buildToolbarProps=Ie(lY),this.headerRef=yi(),this.footerRef=yi(),this.interactionsStore={},this.state={viewLabelId:Ha()},this.registerInteractiveComponent=(e,n)=>{let i=GG(e,n),o=[sY,aY].concat(this.props.pluginHooks.componentInteractions).map(c=>new c(i));this.interactionsStore[e.uid]=o,f0[e.uid]=i},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let i of n)i.destroy();delete this.interactionsStore[e.uid]}delete f0[e.uid]},this.resizeRunner=new h_(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:i}=e,r=!1,s="",o;e.isHeightAuto||e.forPrint?s="":i.height!=null?r=!0:i.contentHeight!=null?s=i.contentHeight:o=Math.max(i.aspectRatio,.5);let c=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return L(Xs.Provider,{value:c},L(ll,{unit:"day"},d=>{let h=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return L(Pt,null,n.header&&L(vR,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},h)),L(rY,{liquid:r,height:s,aspectRatio:o,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&L(vR,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},h)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let i in n)n[i](e[i],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:i}=n.pluginHooks;for(let r in i)n[r]!==e[r]&&i[r](n[r],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(i=>i(e));return L(Pt,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let c of s)Object.assign(r,c.transform(r,e));let o=i.component;return L(o,Object.assign({},r))}}function lY(t,e,n,i,r,s){let o=n.build(r,void 0,!1),c=n.buildPrev(e,i,!1),u=n.buildNext(e,i,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!$s(e.currentRange,r),isPrevEnabled:c.isValid,isNextEnabled:u.isValid}}function cY(t){return t.map(e=>new e)}class uY extends YG{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Bg(()=>{Td(L(qG,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,s,o,c)=>(this.setClassNames(r),this.setHeight(s),L(hM.Provider,{value:this.customContentRenderId},L(oY,Object.assign({isHeightAuto:o,forPrint:c},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Td(null,this.el),this.setClassNames([]),this.setHeight(""))},D6(e),this.el=e,this.renderRunner=new h_(this.handleRenderRequest),new Y8({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Bg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!qa(e,this.currentClassNames)){let{classList:n}=this.el;for(let i of this.currentClassNames)n.remove(i);for(let i of e)n.add(i);this.currentClassNames=e}}setHeight(e){nM(this.el,"height",e)}}const dY=parseInt(String(ce.version).split(".")[0]),fY=dY<18;class lN extends D.Component{constructor(){super(...arguments),this.elRef=D.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(ce.createElement(hY,{key:n.id,customRendering:n}));return ce.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new YW;this.handleCustomRendering=e.handle.bind(e),this.calendar=new uY(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ls.flushSync(()=>{})});let n;e.subscribe(i=>{const r=Date.now(),s=!n;(fY||s||this.isUpdating||this.isUnmounting||r-n<100?cN:Ls.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{n=r,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}lN.act=cN;class hY extends D.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,i=typeof n=="function"?n(e.renderProps):n;return Ls.createPortal(i,e.containerEl)}}function cN(t){t()}class gY extends Vr{constructor(){super(...arguments),this.headerElRef=yi()}renderSimpleLayout(e,n){let{props:i,context:r}=this,s=[],o=Gg(r.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),L(Ad,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},L(U_,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,i,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:c}=this,u=!o.forPrint&&Gg(c.options),d=!o.forPrint&&WM(c.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:p0}]}),L(Ad,{elClasses:["fc-daygrid"],viewSpec:c.viewSpec},L(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:h}))}}function mg(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.row].push(i);return n}function qh(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.firstCol].push(i);return n}function bR(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}const uN=Zt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function dN(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class fN extends Ct{render(){let{props:e}=this;return L(F_,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:uN,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class hN extends Ct{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,s=i.eventTimeFormat||uN,o=dd(r,s,n,!0,e.defaultDisplayEventEnd);return L(Op,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:M_(e.seg,n),defaultGenerator:pY,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function pY(t){return L(Pt,null,L("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title"},t.event.title||L(Pt,null," ")))}class mY extends Ct{constructor(){super(...arguments),this.compileSegs=Ie(yY)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return L(XM,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return L(Pt,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return L("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:r[o]?"hidden":""}},dN(s)?L(hN,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},qs(s,e.todayRange))):L(fN,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},qs(s,e.todayRange))))}))}})}}function yY(t){let e=[],n=[];for(let i of t)e.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:e,invisibleSegs:n}}const vY=Zt({week:"narrow"});class bY extends Vr{constructor(){super(...arguments),this.rootElRef=yi(),this.state={dayNumberId:Ha()},this.handleRootEl=e=>{ss(this.rootElRef,e),ss(this.props.elRef,e)}}render(){let{context:e,props:n,state:i,rootElRef:r}=this,{options:s,dateEnv:o}=e,{date:c,dateProfile:u}=n;const d=n.showDayNumber&&SY(c,u.currentRange,o);return L(B_,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:_Y,date:c,dateProfile:u,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(h,p)=>L("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&L(KM,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Rc(e,c,"week"),date:c,defaultFormat:vY}),!p.isDisabled&&(n.showDayNumber||V_(s)||n.forceDayTop)?L("div",{className:"fc-daygrid-day-top"},L(h,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Rc(e,c)),{id:i.dayNumberId})})):n.showDayNumber?L("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},L("a",{className:"fc-daygrid-day-number"}," ")):void 0,L("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,L("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},L(mY,{allDayDate:c,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:r,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),L("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function _Y(t){return t.dayNumberText||L(Pt,null," ")}function SY(t,e,n){const{start:i,end:r}=e,s=Ga(r,-1),o=n.getYear(i),c=n.getMonth(i),u=n.getYear(s),d=n.getMonth(s);return!(o===u&&c===d)&&(t.valueOf()===i.valueOf()||n.getDay(t)===1&&t.valueOf()<r.valueOf())}function gN(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function pN(t){return gN(t)+":"+t.lastCol}function wY(t,e,n,i,r,s,o){let c=new CY(x=>{let E=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return r[E]||1});c.allowReslicing=!0,c.strictOrder=i,e===!0||n===!0?(c.maxCoord=s,c.hiddenConsumes=!0):typeof e=="number"?c.maxStackCnt=e:typeof n=="number"&&(c.maxStackCnt=n,c.hiddenConsumes=!0);let u=[],d=[];for(let x=0;x<t.length;x+=1){let E=t[x],A=pN(E);r[A]!=null?u.push({index:x,span:{start:E.firstCol,end:E.lastCol+1}}):d.push(E)}let h=c.addSegs(u),p=c.toRects(),{singleColPlacements:m,multiColPlacements:y,leftoverMargins:_}=xY(p,t,o),S=[],w=[];for(let x of d){y[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=x.firstCol;E<=x.lastCol;E+=1)m[E].push({seg:Sc(x,E,E+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<o.length;x+=1)S.push(0);for(let x of h){let E=t[x.index],A=x.span;y[A.start].push({seg:Sc(E,A.start,A.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let I=A.start;I<A.end;I+=1)S[I]+=1,m[I].push({seg:Sc(E,I,I+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<o.length;x+=1)w.push(_[x]);return{singleColPlacements:m,multiColPlacements:y,moreCnts:S,moreMarginTops:w}}function xY(t,e,n){let i=EY(t,n.length),r=[],s=[],o=[];for(let c=0;c<n.length;c+=1){let u=i[c],d=[],h=0,p=0;for(let y of u){let _=e[y.index];d.push({seg:Sc(_,c,c+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:y.levelCoord-h}),h=y.levelCoord+y.thickness}let m=[];h=0,p=0;for(let y of u){let _=e[y.index],S=y.span.end-y.span.start>1,w=y.span.start===c;p+=y.levelCoord-h,h=y.levelCoord+y.thickness,S?(p+=y.thickness,w&&m.push({seg:Sc(_,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:y.levelCoord,marginTop:0})):w&&(m.push({seg:Sc(_,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:p}),p=0)}r.push(d),s.push(m),o.push(p)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:o}}function EY(t,e){let n=[];for(let i=0;i<e;i+=1)n.push([]);for(let i of t)for(let r=i.span.start;r<i.span.end;r+=1)n[r].push(i);return n}function Sc(t,e,n,i){if(t.firstCol===e&&t.lastCol===n-1)return t;let r=t.eventRange,s=r.range,o=Wa(s,{start:i[e].date,end:On(i[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class CY extends jM{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:i}=this,r=s=>!this.forceHidden[qo(s)];for(let s=0;s<i.length;s+=1)i[s]=i[s].filter(r);return n}handleInvalidInsertion(e,n,i){const{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:o,touchingLevel:c,touchingLateral:u}=e;if(this.hiddenConsumes&&o){const d=qo(o);if(!s[d])if(this.allowReslicing){const h=Object.assign(Object.assign({},o),{span:L_(o.span,n.span)}),p=qo(h);s[p]=!0,r[c][u]=h,i.push(h),this.splitEntry(o,n,i)}else s[d]=!0,i.push(o)}super.handleInvalidInsertion(e,n,i)}}class mN extends Vr{constructor(){super(...arguments),this.cellElRefs=new Fs,this.frameElRefs=new Fs,this.fgElRefs=new Fs,this.segHarnessRefs=new Fs,this.rootElRef=yi(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:i}=this,{options:r}=i,s=e.cells.length,o=qh(e.businessHourSegs,s),c=qh(e.bgEventSegs,s),u=qh(this.getHighlightSegs(),s),d=qh(this.getMirrorSegs(),s),{singleColPlacements:h,multiColPlacements:p,moreCnts:m,moreMarginTops:y}=wY(k_(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),_=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return L("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((S,w)=>{let x=this.renderFgSegs(w,e.forPrint?h[w]:p[w],e.todayRange,_),E=this.renderFgSegs(w,TY(d[w],p),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return L(bY,{key:S.key,elRef:this.cellElRefs.createRef(S.key),innerElRef:this.frameElRefs.createRef(S.key),dateProfile:e.dateProfile,date:S.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&w===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:S.extraRenderProps,extraDataAttrs:S.extraDataAttrs,extraClassNames:S.extraClassNames,extraDateSpan:S.extraDateSpan,moreCnt:m[w],moreMarginTop:y[w],singlePlacements:h[w],fgContentElRef:this.fgElRefs.createRef(S.key),fgContent:L(Pt,null,L(Pt,null,x),L(Pt,null,E)),bgContent:L(Pt,null,this.renderFillSegs(u[w],"highlight"),this.renderFillSegs(o[w],"non-business"),this.renderFillSegs(c[w],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let i=this.props;this.updateSizing(!Fr(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,i,r,s,o,c){let{context:u}=this,{eventSelection:d}=this.props,{framePositions:h}=this.state,p=this.props.cells.length===1,m=s||o||c,y=[];if(h)for(let _ of n){let{seg:S}=_,{instanceId:w}=S.eventRange.instance,x=_.isVisible&&!r[w],E=_.isAbsolute,A="",I="";E&&(u.isRtl?(I=0,A=h.lefts[S.lastCol]-h.lefts[S.firstCol]):(A=0,I=h.rights[S.firstCol]-h.rights[S.lastCol])),y.push(L("div",{className:"fc-daygrid-event-harness"+(E?" fc-daygrid-event-harness-abs":""),key:gN(S),ref:m?null:this.segHarnessRefs.createRef(pN(S)),style:{visibility:x?"":"hidden",marginTop:E?"":_.marginTop,top:E?_.absoluteTop:"",left:A,right:I}},dN(S)?L(hN,Object.assign({seg:S,isDragging:s,isSelected:w===d,defaultDisplayEventEnd:p},qs(S,i))):L(fN,Object.assign({seg:S,isDragging:s,isResizing:o,isDateSelecting:c,isSelected:w===d,defaultDisplayEventEnd:p},qs(S,i)))))}return y}renderFillSegs(e,n){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let c of e){let u=i?{right:0,left:s.lefts[c.lastCol]-s.lefts[c.firstCol]}:{left:0,right:s.rights[c.firstCol]-s.rights[c.lastCol]};o.push(L("div",{key:RM(c.eventRange),className:"fc-daygrid-bg-harness",style:u},n==="bg-event"?L(YM,Object.assign({seg:c},qs(c,r))):QM(n)))}return L(Pt,{},...o)}updateSizing(e){let{props:n,state:i,frameElRefs:r}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let u=n.cells.map(d=>r.currentMap[d.key]);if(u.length){let d=this.rootElRef.current,h=new Dc(d,u,!0,!1);(!i.framePositions||!i.framePositions.similarTo(h))&&this.setState({framePositions:new Dc(d,u,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),c=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:c?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);n[i]=Math.max(n[i]||0,r)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}mN.addStateEquality({segHeights:Fr});function TY(t,e){if(!t.length)return[];let n=AY(e);return t.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:n[i.eventRange.instance.instanceId],marginTop:0}))}function AY(t){let e={};for(let n of t)for(let i of n)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class RY extends Vr{constructor(){super(...arguments),this.splitBusinessHourSegs=Ie(mg),this.splitBgEventSegs=Ie(DY),this.splitFgEventSegs=Ie(mg),this.splitDateSelectionSegs=Ie(mg),this.splitEventDrag=Ie(bR),this.splitEventResize=Ie(bR),this.rowRefs=new Fs}render(){let{props:e,context:n}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitFgEventSegs(e.fgEventSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i),h=i>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return L(ll,{unit:"day"},(p,m)=>L(Pt,null,e.cells.map((y,_)=>L(mN,{ref:this.rowRefs.createRef(_),key:y.length?y[0].date.toISOString():_,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:y,renderIntro:e.renderRowIntro,businessHourSegs:r[_],eventSelection:e.eventSelection,bgEventSegs:s[_],fgEventSegs:o[_],dateSelectionSegs:c[_],eventDrag:u[_],eventResize:d[_],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Dc(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Dc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:i,rowPositions:r}=this,s=i.leftToIndex(e),o=r.topToIndex(n);if(o!=null&&s!=null){let c=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:i.lefts[s],right:i.rights[s],top:r.tops[o],bottom:r.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let i=this.props.cells[e][n].date,r=On(i,1);return{start:i,end:r}}}function DY(t,e){return mg(t.filter(OY),e)}function OY(t){return t.eventRange.def.allDay}class kY extends Vr{constructor(){super(...arguments),this.elRef=yi(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:i,expandRows:r}=e,s=i===!0||n===!0;s&&!r&&(s=!1,n=null,i=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return L("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,L("tbody",{role:"presentation"},L(RY,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=MY(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),i=n.closest(".fc-scroller"),r=e.getBoundingClientRect().top-n.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function MY(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${pq(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Wd(e.currentDate)}"]`)),n}class NY extends HM{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class yN extends Vr{constructor(){super(...arguments),this.slicer=new NY,this.tableRef=yi()}render(){let{props:e,context:n}=this;return L(kY,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class IY extends gY{constructor(){super(...arguments),this.buildDayTableModel=Ie(jY),this.headerRef=yi(),this.tableRef=yi()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,n),s=e.dayHeaders&&L(zM,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),o=c=>L(yN,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function jY(t,e){let n=new UM(t.renderRange,e);return new FM(n,/year|month|week/.test(t.currentRangeUnit))}class PY extends mM{buildRenderRange(e,n,i){let r=super.buildRenderRange(e,n,i),{props:s}=this;return LY({currentRange:r,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function LY(t){let{dateEnv:e,currentRange:n}=t,{start:i,end:r}=n,s;if(t.snapToWeek&&(i=e.startOfWeek(i),s=e.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=QA(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(On(n.end,-1))),c=Math.ceil(rq(o,r));r=QA(r,6-c)}return{start:i,end:r}}var zY=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Ep(zY);var UY=ls({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:IY,dateProfileGeneratorClass:PY},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class FY extends JG{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?DG(e)?["timed","allDay"]:["allDay"]:["timed"]}}const HY=Zt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function vN(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return L(Xs.Consumer,null,n=>{if(!t.isLabeled)return L("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:i,options:r,viewApi:s}=n,o=r.slotLabelFormat==null?HY:Array.isArray(r.slotLabelFormat)?Zt(r.slotLabelFormat[0]):Zt(r.slotLabelFormat),c={level:0,time:t.time,date:i.toDate(t.date),view:s,text:i.format(t.date,o)};return L(ui,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:c,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:BY,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},u=>L("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},L(u,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function BY(t){return t.text}class VY extends Ct{render(){return this.props.slatMetas.map(e=>L("tr",{key:e.key},L(vN,Object.assign({},e))))}}const $Y=Zt({week:"short"}),qY=5;class GY extends Vr{constructor(){super(...arguments),this.allDaySplitter=new FY,this.headerElRef=yi(),this.rootElRef=yi(),this.scrollerElRef=yi(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,s=r.renderRange,c=eo(s.start,s.end)===1?Rc(this.context,s.start,"week"):{};return i.weekNumbers&&e==="day"?L(KM,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:$Y},u=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},L(u,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:c}))):L("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},L("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:i}=this.context,r={text:n.allDayText,view:i};return L(ui,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:WY,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},L(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,i){let{context:r,props:s}=this,o=[],c=Gg(r.options);return e&&o.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),L(Ad,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},L(U_,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,i,r,s,o,c){let u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");let{context:d,props:h}=this,p=!h.forPrint&&Gg(d.options),m=!h.forPrint&&WM(d.options),y=[];e&&y.push({type:"header",key:"header",isSticky:p,syncRowHeights:!0,chunks:[{key:"axis",rowContent:S=>L("tr",{role:"presentation"},this.renderHeadAxis("day",S.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(y.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:S=>L("tr",{role:"presentation"},this.renderTableRowAxis(S.rowSyncHeights[0]))},{key:"cols",content:n}]}),y.push({key:"all-day-divider",type:"body",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let _=d.options.nowIndicator;return y.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:S=>L("div",{className:"fc-timegrid-axis-chunk"},L("table",{"aria-hidden":!0,style:{height:S.expandRows?S.clientHeight:""}},S.tableColGroupNode,L("tbody",null,L(VY,{slatMetas:o}))),L("div",{className:"fc-timegrid-now-indicator-container"},L(ll,{unit:_?"minute":"day"},w=>{let x=_&&c&&c.safeComputeTop(w);return typeof x=="number"?L(H_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:w}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),m&&y.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:p0},{key:"cols",content:p0}]}),L(Ad,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},L(u,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:s}]}],sections:y}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=qY),{dayMaxEvents:e,dayMaxEventRows:n}}}function WY(t){return t.text}class YY{constructor(e,n,i){this.positions=e,this.dateProfile=n,this.slotDuration=i}safeComputeTop(e){let{dateProfile:n}=this;if($s(n.currentRange,e)){let i=Ft(e),r=e.valueOf()-i.valueOf();if(r>=Pr(n.slotMinTime)&&r<Pr(n.slotMaxTime))return this.computeTimeTop(ht(r))}return null}computeDateTop(e,n){return n||(n=Ft(e)),this.computeTimeTop(ht(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:i}=this,r=n.els.length,s=(e.milliseconds-Pr(i.slotMinTime))/Pr(this.slotDuration),o,c;return s=Math.max(0,s),s=Math.min(r,s),o=Math.floor(s),o=Math.min(o,r-1),c=s-o,n.tops[o]+n.getHeight(o)*c}}class QY extends Ct{render(){let{props:e,context:n}=this,{options:i}=n,{slatElRefs:r}=e;return L("tbody",null,e.slatMetas.map((s,o)=>{let c={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return L("tr",{key:s.key,ref:r.createRef(s.key)},e.axis&&L(vN,Object.assign({},s)),L(ui,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:c,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class KY extends Ct{constructor(){super(...arguments),this.rootElRef=yi(),this.slatElRefs=new Fs}render(){let{props:e,context:n}=this;return L("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},L("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,L(QY,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new YY(new Dc(this.rootElRef.current,XY(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function XY(t,e){return e.map(n=>t[n.key])}function $u(t,e){let n=[],i;for(i=0;i<e;i+=1)n.push([]);if(t)for(i=0;i<t.length;i+=1)n[t[i].col].push(t[i]);return n}function _R(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}class ZY extends Ct{render(){let{props:e}=this;return L(XM,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>_N(e.hiddenSegs,e),defaultGenerator:JY,forceTimed:!0},n=>L(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function JY(t){return t.shortText}function e9(t,e,n){let i=new jM;e!=null&&(i.strictOrder=e),n!=null&&(i.maxStackCnt=n);let r=i.addSegs(t),s=fW(r),o=t9(i);return o=s9(o,1),{segRects:a9(o),hiddenGroups:s}}function t9(t){const{entriesByLevel:e}=t,n=q_((i,r)=>i+":"+r,(i,r)=>{let s=r9(t,i,r),o=SR(s,n),c=e[i][r];return[Object.assign(Object.assign({},c),{nextLevelNodes:o[0]}),c.thickness+o[1]]});return SR(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function SR(t,e){if(!t)return[[],0];let{level:n,lateralStart:i,lateralEnd:r}=t,s=i,o=[];for(;s<r;)o.push(e(n,s)),s+=1;return o.sort(n9),[o.map(i9),o[0][1]]}function n9(t,e){return e[1]-t[1]}function i9(t){return t[0]}function r9(t,e,n){let{levelCoords:i,entriesByLevel:r}=t,s=r[e][n],o=i[e]+s.thickness,c=i.length,u=e;for(;u<c&&i[u]<o;u+=1);for(;u<c;u+=1){let d=r[u],h,p=g0(d,s.span.start,h0),m=p[0]+p[1],y=m;for(;(h=d[y])&&h.span.start<s.span.end;)y+=1;if(m<y)return{level:u,lateralStart:m,lateralEnd:y}}return null}function s9(t,e){const n=q_((i,r,s)=>qo(i),(i,r,s)=>{let{nextLevelNodes:o,thickness:c}=i,u=c+s,d=c/u,h,p=[];if(!o.length)h=e;else for(let y of o)if(h===void 0){let _=n(y,r,u);h=_[0],p.push(_[1])}else{let _=n(y,h,0);p.push(_[1])}let m=(h-r)*d;return[h-m,Object.assign(Object.assign({},i),{thickness:m,nextLevelNodes:p})]});return t.map(i=>n(i,0,0)[1])}function a9(t){let e=[];const n=q_((r,s,o)=>qo(r),(r,s,o)=>{let c=Object.assign(Object.assign({},r),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(c),c.stackForward=i(r.nextLevelNodes,s+r.thickness,o+1)+1});function i(r,s,o){let c=0;for(let u of r)c=Math.max(n(u,s,o),c);return c}return i(t,0,0),e}function q_(t,e){const n={};return(...i)=>{let r=t(...i);return r in n?n[r]:n[r]=e(...i)}}function wR(t,e,n=null,i=0){let r=[];if(n)for(let s=0;s<t.length;s+=1){let o=t[s],c=n.computeDateTop(o.start,e),u=Math.max(c+(i||0),n.computeDateTop(o.end,e));r.push({start:Math.round(c),end:Math.round(u)})}return r}function o9(t,e,n,i){let r=[],s=[];for(let d=0;d<t.length;d+=1){let h=e[d];h?r.push({index:d,thickness:1,span:h}):s.push(t[d])}let{segRects:o,hiddenGroups:c}=e9(r,n,i),u=[];for(let d of o)u.push({seg:t[d.index],rect:d});for(let d of s)u.push({seg:d,rect:null});return{segPlacements:u,hiddenGroups:c}}const l9=Zt({hour:"numeric",minute:"2-digit",meridiem:!1});class bN extends Ct{render(){return L(F_,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:l9}))}}class c9 extends Ct{constructor(){super(...arguments),this.sortEventSegs=Ie(k_)}render(){let{props:e,context:n}=this,{options:i}=n,r=i.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},c=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return L(B_,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},u=>L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(c,o,!1,!1,!1)),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),L("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),V_(i)&&L(u,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,i,r,s,o){let{props:c}=this;return c.forPrint?_N(e,c):this.renderPositionedFgSegs(e,n,i,r,s,o)}renderPositionedFgSegs(e,n,i,r,s,o){let{eventMaxStack:c,eventShortHeight:u,eventOrderStrict:d,eventMinHeight:h}=this.context.options,{date:p,slatCoords:m,eventSelection:y,todayRange:_,nowDate:S}=this.props,w=i||r||s,x=wR(e,p,m,h),{segPlacements:E,hiddenGroups:A}=o9(e,x,d,c);return L(Pt,null,this.renderHiddenGroups(A,e),E.map(I=>{let{seg:k,rect:j}=I,M=k.eventRange.instance.instanceId,O=w||!!(!n[M]&&j),U=ib(j&&j.span),B=!w&&j?this.computeSegHStyle(j):{left:0,right:0},$=!!j&&j.stackForward>0,Q=!!j&&j.span.end-j.span.start<u;return L("div",{className:"fc-timegrid-event-harness"+($?" fc-timegrid-event-harness-inset":""),key:o||M,style:Object.assign(Object.assign({visibility:O?"":"hidden"},U),B)},L(bN,Object.assign({seg:k,isDragging:i,isResizing:r,isDateSelecting:s,isSelected:M===y,isShort:Q},qs(k,_,S))))}))}renderHiddenGroups(e,n){let{extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:o,eventSelection:c,eventDrag:u,eventResize:d}=this.props;return L(Pt,null,e.map(h=>{let p=ib(h.span),m=u9(h.entries,n);return L(ZY,{key:lM(ZM(m)),hiddenSegs:m,top:p.top,bottom:p.bottom,extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:o,eventSelection:c,eventDrag:u,eventResize:d})}))}renderFillSegs(e,n){let{props:i,context:r}=this,o=wR(e,i.date,i.slatCoords,r.options.eventMinHeight).map((c,u)=>{let d=e[u];return L("div",{key:RM(d.eventRange),className:"fc-timegrid-bg-harness",style:ib(c)},n==="bg-event"?L(YM,Object.assign({seg:d},qs(d,i.todayRange,i.nowDate))):QM(n))});return L(Pt,null,o)}renderNowIndicator(e){let{slatCoords:n,date:i}=this.props;return n?e.map((r,s)=>L(H_,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:n,options:i}=this.context,r=i.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness,c,u;r&&(o=Math.min(1,s+(o-s)*2)),n?(c=1-o,u=s):(c=s,u=1-o);let d={zIndex:e.stackDepth+1,left:c*100+"%",right:u*100+"%"};return r&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=20),d}}function _N(t,{todayRange:e,nowDate:n,eventSelection:i,eventDrag:r,eventResize:s}){let o=(r?r.affectedInstances:null)||(s?s.affectedInstances:null)||{};return L(Pt,null,t.map(c=>{let u=c.eventRange.instance.instanceId;return L("div",{key:u,style:{visibility:o[u]?"hidden":""}},L(bN,Object.assign({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===i,isShort:!1},qs(c,e,n))))}))}function ib(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function u9(t,e){return t.map(n=>e[n.index])}class d9 extends Ct{constructor(){super(...arguments),this.splitFgEventSegs=Ie($u),this.splitBgEventSegs=Ie($u),this.splitBusinessHourSegs=Ie($u),this.splitNowIndicatorSegs=Ie($u),this.splitDateSelectionSegs=Ie($u),this.splitEventDrag=Ie(_R),this.splitEventResize=Ie(_R),this.rootElRef=yi(),this.cellElRefs=new Fs}render(){let{props:e,context:n}=this,i=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,r),o=this.splitBgEventSegs(e.bgEventSegs,r),c=this.splitBusinessHourSegs(e.businessHourSegs,r),u=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),d=this.splitDateSelectionSegs(e.dateSelectionSegs,r),h=this.splitEventDrag(e.eventDrag,r),p=this.splitEventResize(e.eventResize,r);return L("div",{className:"fc-timegrid-cols",ref:this.rootElRef},L("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,L("tbody",{role:"presentation"},L("tr",{role:"row"},e.axis&&L("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&L(H_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((m,y)=>L(c9,{key:m.key,elRef:this.cellElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,fgEventSegs:s[y],bgEventSegs:o[y],businessHourSegs:c[y],nowIndicatorSegs:u[y],dateSelectionSegs:d[y],eventDrag:h[y],eventResize:p[y],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Dc(this.rootElRef.current,f9(this.cellElRefs.currentMap,e.cells),!0,!1))}}function f9(t,e){return e.map(n=>t[n.key])}class h9 extends Vr{constructor(){super(...arguments),this.processSlotOptions=Ie(g9),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:i}=this.state;if(n&&i){if(e.time){let r=i.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),n(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return L("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L(KY,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),L(d9,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:i,options:r}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:c}=this.state,{snapDuration:u,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),h=s.leftToIndex(e),p=c.positions.topToIndex(n);if(h!=null&&p!=null){let m=this.props.cells[h],y=c.positions.tops[p],_=c.positions.getHeight(p),S=(n-y)/_,w=Math.floor(S*d),x=p*d+w,E=this.props.cells[h].date,A=a0(o.slotMinTime,eq(u,x)),I=i.add(E,A),k=i.add(I,u);return{dateProfile:o,dateSpan:Object.assign({range:{start:I,end:k},allDay:!1},m.extraDateSpan),dayEl:s.els[h],rect:{left:s.lefts[h],right:s.rights[h],top:y,bottom:y+_},layer:0}}return null}}function g9(t,e){let n=e||t,i=y_(t,n);return i===null&&(n=t,i=1),{snapDuration:n,snapsPerSlot:i}}class p9 extends HM{sliceRange(e,n){let i=[];for(let r=0;r<n.length;r+=1){let s=Wa(e,n[r]);s&&i.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:r})}return i}}class m9 extends Vr{constructor(){super(...arguments),this.buildDayRanges=Ie(y9),this.slicer=new p9,this.timeColsRef=yi()}render(){let{props:e,context:n}=this,{dateProfile:i,dayTableModel:r}=e,{nowIndicator:s,nextDayThreshold:o}=n.options,c=this.buildDayRanges(r,i,n.dateEnv);return L(ll,{unit:s?"minute":"day"},(u,d)=>L(h9,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,n,c),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:u,nowIndicatorSegs:s&&this.slicer.sliceNowDate(u,i,o,n,c),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function y9(t,e,n){let i=[];for(let r of t.headerDates)i.push({start:n.add(r,e.slotMinTime),end:n.add(r,e.slotMaxTime)});return i}const xR=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function v9(t,e,n,i,r){let s=new Date(0),o=t,c=ht(0),u=n||b9(i),d=[];for(;Pr(o)<Pr(e);){let h=r.add(s,o),p=y_(c,u)!==null;d.push({date:h,time:o,key:h.toISOString(),isoTimeStr:mq(h),isLabeled:p}),o=a0(o,i),c=a0(c,i)}return d}function b9(t){let e,n,i;for(e=xR.length-1;e>=0;e-=1)if(n=ht(xR[e]),i=y_(n,t),i!==null&&i>1)return n;return t}class _9 extends GY{constructor(){super(...arguments),this.buildTimeColsModel=Ie(S9),this.buildSlatMetas=Ie(v9)}render(){let{options:e,dateEnv:n,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:s}=r,o=this.buildTimeColsModel(s,i),c=this.allDaySplitter.splitProps(r),u=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,h=!d,p=d,m=e.dayHeaders&&L(zM,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),y=e.allDaySlot!==!1&&(S=>L(yN,Object.assign({},c.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:S.tableMinWidth,colGroupNode:S.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:S.clientWidth,clientHeight:S.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),_=S=>L(m9,Object.assign({},c.timed,{dayTableModel:o,dateProfile:s,axis:h,slotDuration:e.slotDuration,slatMetas:u,forPrint:r.forPrint,tableColGroupNode:S.tableColGroupNode,tableMinWidth:S.tableMinWidth,clientWidth:S.clientWidth,clientHeight:S.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:S.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return p?this.renderHScrollLayout(m,y,_,o.colCnt,d,u,this.state.slatCoords):this.renderSimpleLayout(m,y,_)}}function S9(t,e){let n=new UM(t.renderRange,e);return new FM(n,!1)}var w9='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Ep(w9);const x9={allDaySlot:Boolean};var E9=ls({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:x9,views:{timeGrid:{component:_9,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class C9 extends Ct{constructor(){super(...arguments),this.state={textId:Ha()}}render(){let{theme:e,dateEnv:n,options:i,viewApi:r}=this.context,{cellId:s,dayDate:o,todayRange:c}=this.props,{textId:u}=this.state,d=I_(o,c),h=i.listDayFormat?n.format(o,i.listDayFormat):"",p=i.listDaySideFormat?n.format(o,i.listDaySideFormat):"",m=Object.assign({date:n.toDate(o),view:r,textId:u,text:h,sideText:p,navLinkAttrs:Rc(this.context,o),sideNavLinkAttrs:Rc(this.context,o,"day",!1)},d);return L(ui,{elTag:"tr",elClasses:["fc-list-day",...Dp(d,e)],elAttrs:{"data-date":Wd(o)},renderProps:m,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:T9,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},y=>L("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":u},L(y,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function T9(t){return L(Pt,null,t.text&&L("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&L("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const A9=Zt({hour:"numeric",minute:"2-digit",meridiem:"short"});class R9 extends Ct{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r,timeHeaderId:s,eventHeaderId:o,dateHeaderId:c}=e,u=i.eventTimeFormat||A9;return L(Op,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>D9(r,n),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(d,h)=>L(Pt,null,O9(r,u,n,s,c),L("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},L("span",{className:"fc-list-event-dot",style:{borderColor:h.borderColor||h.backgroundColor}})),L(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${o} ${c}`}})))}}function D9(t,e){let n=M_(t,e);return L("a",Object.assign({},n),t.eventRange.def.title)}function O9(t,e,n,i,r){let{options:s}=n;if(s.displayEventTime!==!1){let o=t.eventRange.def,c=t.eventRange.instance,u=!1,d;if(o.allDay?u=!0:nG(t.eventRange.range)?t.isStart?d=dd(t,e,n,null,null,c.range.start,t.end):t.isEnd?d=dd(t,e,n,null,null,t.start,c.range.end):u=!0:d=dd(t,e,n),u){let h={text:n.options.allDayText,view:n.viewApi};return L(ui,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:h,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:k9,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return L("td",{className:"fc-list-event-time"},d)}return null}function k9(t){return t.text}class M9 extends Vr{constructor(){super(...arguments),this.computeDateVars=Ie(I9),this.eventStoreToSegs=Ie(this._eventStoreToSegs),this.state={timeHeaderId:Ha(),eventHeaderId:Ha(),dateHeaderIdRoot:Ha()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return L(Ad,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},L(qM,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,i={text:e.noEventsText,view:n};return L(ui,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:N9,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>L(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:i,options:r}=this.context,{timeHeaderId:s,eventHeaderId:o,dateHeaderIdRoot:c}=this.state,u=j9(e);return L(ll,{unit:"day"},(d,h)=>{let p=[];for(let m=0;m<u.length;m+=1){let y=u[m];if(y){let _=Wd(n[m]),S=c+"-"+_;p.push(L(C9,{key:_,cellId:S,dayDate:n[m],todayRange:h})),y=k_(y,r.eventOrder);for(let w of y)p.push(L(R9,Object.assign({key:_+":"+w.eventRange.instance.instanceId,seg:w,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:o,dateHeaderId:S},qs(w,h,d))))}}return L("table",{className:"fc-list-table "+i.getClass("table")},L("thead",null,L("tr",null,L("th",{scope:"col",id:s},r.timeHint),L("th",{scope:"col","aria-hidden":!0}),L("th",{scope:"col",id:o},r.eventHint))),L("tbody",null,p))})}_eventStoreToSegs(e,n,i){return this.eventRangesToSegs(d0(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,n){let i=[];for(let r of e)i.push(...this.eventRangeToSegs(r,n));return i}eventRangeToSegs(e,n){let{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,s=e.range,o=e.def.allDay,c,u,d,h=[];for(c=0;c<n.length;c+=1)if(u=Wa(s,n[c]),u&&(d={component:this,eventRange:e,start:u.start,end:u.end,isStart:e.isStart&&u.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&u.end.valueOf()===s.end.valueOf(),dayIndex:c},h.push(d),!d.isEnd&&!o&&c+1<n.length&&s.end<i.add(n[c+1].start,r))){d.end=s.end,d.isEnd=!0;break}return h}}function N9(t){return t.text}function I9(t){let e=Ft(t.renderRange.start),n=t.renderRange.end,i=[],r=[];for(;e<n;)i.push(e),r.push({start:e,end:On(e,1)}),e=On(e,1);return{dayDates:i,dayRanges:r}}function j9(t){let e=[],n,i;for(n=0;n<t.length;n+=1)i=t[n],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var P9=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Ep(P9);const L9={listDayFormat:ER,listDaySideFormat:ER,noEventsClassNames:ie,noEventsContent:ie,noEventsDidMount:ie,noEventsWillUnmount:ie};function ER(t){return t===!1?null:Zt(t)}var z9=ls({name:"@fullcalendar/list",optionRefiners:L9,views:{list:{component:M9,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});z_.touchMouseIgnoreWait=500;let y0=0,Wg=0,v0=!1;class SN{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&U9(n)&&this.tryStart(n)){let i=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let i=this.createEventFromMouse(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let i=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=n.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let i=this.createEventFromTouch(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=n=>{if(this.isDragging){let i=n.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,F9()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new Rp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),H9()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),B9()}tryStart(e){let n=this.querySubjectEl(e),i=e.target;return n&&(!this.handleSelector||li(i,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){v0=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?li(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return y0||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(v0=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let i=0,r=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,n){let i=e.touches,r,s,o=0,c=0;return i&&i.length?(r=i[0].pageX,s=i[0].pageY):(r=e.pageX,s=e.pageY),n?(this.origPageX=r,this.origPageY=s):(o=r-this.origPageX,c=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:o,deltaY:c}}}function U9(t){return t.button===0&&!t.ctrlKey}function F9(){y0+=1,setTimeout(()=>{y0-=1},z_.touchMouseIgnoreWait)}function H9(){Wg+=1,Wg===1&&window.addEventListener("touchmove",wN,{passive:!1})}function B9(){Wg-=1,Wg||window.removeEventListener("touchmove",wN,{passive:!1})}function wN(t){v0&&t.preventDefault()}class V9{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let i=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,n){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+n+"ms,left "+n+"ms",ld(i,{left:r.left,top:r.top}),U6(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(g_(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ld(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),ld(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class xN extends P_{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class EN extends xN{constructor(e,n){super(new uW(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return lW(this.scrollController.el)}}class $9 extends xN{constructor(e){super(new dW,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const CR=typeof performance=="function"?performance.now:Date.now;class q9{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=CR();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let i=e-window.scrollX,r=n-window.scrollY,s=this.pointerScreenY===null?0:r-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(CR()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:i}=e,{edgeThreshold:r}=this,s=r-e.distance,o=s*s/(r*r)*this.maxVelocity*n,c=1;switch(e.name){case"left":c=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*c);break;case"top":c=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*c);break}}computeBestEdge(e,n){let{edgeThreshold:i}=this,r=null,s=this.scrollCaches||[];for(let o of s){let c=o.clientRect,u=e-c.left,d=c.right-e,h=n-c.top,p=c.bottom-n;u>=0&&d>=0&&h>=0&&p>=0&&(h<=i&&this.everMovedUp&&o.canScrollUp()&&(!r||r.distance>h)&&(r={scrollCache:o,name:"top",distance:h}),p<=i&&this.everMovedDown&&o.canScrollDown()&&(!r||r.distance>p)&&(r={scrollCache:o,name:"bottom",distance:p}),u<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!r||r.distance>u)&&(r={scrollCache:o,name:"left",distance:u}),d<=i&&this.everMovedRight&&o.canScrollRight()&&(!r||r.distance>d)&&(r={scrollCache:o,name:"right",distance:d}))}return r}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new $9(!1):new EN(n,!1))}queryScrollEls(e){let n=[];for(let i of this.scrollQuery)typeof i=="object"?n.push(i):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return n}}class Qd extends gW{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,F6(document.body),B6(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:c,deltaY:u}=r;o=c*c+u*u,o>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,H6(document.body),V6(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new SN(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),n&&(i.selector=n),this.mirror=new V9,this.autoScroller=new q9}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class G9{constructor(e){this.el=e,this.origRect=j_(e),this.scrollCaches=IM(e).map(n=>new EN(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let i={left:e,top:n};for(let r of this.scrollCaches)if(!W9(r.getEventTarget())&&!QG(i,r.clientRect))return!1;return!0}}function W9(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class kp{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Rp}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},i=n,r=e.subjectEl,s;r instanceof HTMLElement&&(s=j_(r),i=KG(i,s));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&s){let c=MM(s,o.rect);c&&(i=XG(c))}this.coordAdjust=ZG(i,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Mp(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Ws(this.droppableStore,e=>(e.component.prepareHits(),new G9(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:i,offsetTrackers:r}=this,s=null;for(let o in i){let c=i[o].component,u=r[o];if(u&&u.isWithinClipping(e,n)){let d=u.computeLeft(),h=u.computeTop(),p=e-d,m=n-h,{origRect:y}=u,_=y.right-y.left,S=y.bottom-y.top;if(p>=0&&p<_&&m>=0&&m<S){let w=c.queryHit(p,m,_,S);w&&Tp(w.dateProfile.activeRange,w.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(p+d-window.scrollX,m+h-window.scrollY)))&&(!s||w.layer>s.layer)&&(w.componentId=o,w.context=c.context,w.rect.left+=d,w.rect.right+=d,w.rect.top+=h,w.rect.bottom+=h,s=w)}}}return s}}function Mp(t,e){return!t&&!e?!0:!!t!=!!e?!1:zG(t.dateSpan,e.dateSpan)}function CN(t,e){let n={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(n,i(t,e));return Object.assign(n,Y9(t,e.dateEnv)),n}function Y9(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Q9 extends Hc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,s=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:c}=this.hitDragging;if(o&&c&&Mp(o,c)){let{context:u}=r,d=Object.assign(Object.assign({},CN(o.dateSpan,u)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",d)}}},this.dragging=new Qd(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new kp(this.dragging,N_(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class K9 extends Hc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:c,dragging:u}=this,{options:d}=c.context,h=d.selectable&&c.isValidDateDownEl(o.origEvent.target);u.setIgnoreMove(!h),u.delay=o.isTouch?X9(c):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,c)=>{let{context:u}=this.component,d=null,h=!1;if(o){let p=this.hitDragging.initialHit;o.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,o)||(d=Z9(p,o,u.pluginHooks.dateSelectionTransformers)),(!d||!_W(d,o.dateProfile,u))&&(h=!0,d=null)}d?u.dispatch({type:"SELECT_DATES",selection:d}):c||u.dispatch({type:"UNSELECT_DATES"}),h?p_():m_(),c||(this.dragSelection=d)},this.handlePointerUp=o=>{this.dragSelection&&(CM(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:i}=n.context,r=this.dragging=new Qd(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new kp(this.dragging,N_(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function X9(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function Z9(t,e,n){let i=t.dateSpan,r=e.dateSpan,s=[i.range.start,i.range.end,r.range.start,r.range.end];s.sort(Y6);let o={};for(let c of n){let u=c(t,e);if(u===!1)return null;u&&Object.assign(o,u)}return o.range={start:s[0],end:s[3]},o.allDay=i.allDay,o}class Kd extends Hc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let c=o.origEvent.target,{component:u,dragging:d}=this,{mirror:h}=d,{options:p}=u.context,m=u.context;this.subjectEl=o.subjectEl;let y=this.subjectSeg=Ac(o.subjectEl),S=(this.eventRange=y.eventRange).instance.instanceId;this.relevantEvents=A_(m.getCurrentData().eventStore,S),d.minDistance=o.isTouch?0:p.eventDragMinDistance,d.delay=o.isTouch&&S!==u.props.eventSelection?e7(u):null,p.fixedMirrorParent?h.parentNode=p.fixedMirrorParent:h.parentNode=li(c,".fc"),h.revertDuration=p.dragRevertDuration;let w=u.isValidSegDownEl(c)&&!li(c,".fc-event-resizer");d.setIgnoreMove(!w),this.isDragging=w&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let c=this.component.context,u=this.eventRange,d=u.instance.instanceId;o.isTouch?d!==this.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):c.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(c.calendarApi.unselect(o),c.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new rn(c,u.def,u.instance),jsEvent:o.origEvent,view:c.viewApi}))},this.handleHitUpdate=(o,c)=>{if(!this.isDragging)return;let u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.component.context,p=null,m=null,y=null,_=!1,S={affectedEvents:u,mutatedEvents:Qi(),isEvent:!0};if(o){p=o.context;let w=p.options;h===p||w.editable&&w.droppable?(m=J9(d,o,this.eventRange.instance.range.start,p.getCurrentData().pluginHooks.eventDragMutationMassagers),m&&(y=O_(u,p.getCurrentData().eventUiBases,m,p),S.mutatedEvents=y,BM(S,o.dateProfile,p)||(_=!0,m=null,y=null,S.mutatedEvents=Qi()))):p=null}this.displayDrag(p,S),_?p_():m_(),c||(h===p&&Mp(d,o)&&(m=null),this.dragging.setMirrorNeedsRevert(!m),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=p,this.validMutation=m,this.mutatedRelevantEvents=y)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let c=this.component.context,u=c.viewApi,{receivingContext:d,validMutation:h}=this,p=this.eventRange.def,m=this.eventRange.instance,y=new rn(c,p,m),_=this.relevantEvents,S=this.mutatedRelevantEvents,{finalHit:w}=this.hitDragging;if(this.clearDrag(),c.emitter.trigger("eventDragStop",{el:this.subjectEl,event:y,jsEvent:o.origEvent,view:u}),h){if(d===c){let x=new rn(c,S.defs[p.defId],m?S.instances[m.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:S});let E={oldEvent:y,event:x,relatedEvents:$o(S,c,m),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:_})}},A={};for(let I of c.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(A,I(h,c));c.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},E),A),{el:o.subjectEl,delta:h.datesDelta,jsEvent:o.origEvent,view:u})),c.emitter.trigger("eventChange",E)}else if(d){let x={event:y,relatedEvents:$o(_,c,m),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:_})}};c.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:o.subjectEl,view:u})),c.dispatch({type:"REMOVE_EVENTS",eventStore:_}),c.emitter.trigger("eventRemove",x);let E=S.defs[p.defId],A=S.instances[m.instanceId],I=new rn(d,E,A);d.dispatch({type:"MERGE_EVENTS",eventStore:S});let k={event:I,relatedEvents:$o(S,d,A),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:S})}};d.emitter.trigger("eventAdd",k),o.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:m.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},CN(w.dateSpan,d)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:w.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},k),{draggedEl:o.subjectEl,view:w.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:i}=n.context,r=this.dragging=new Qd(e.el);r.pointer.selector=Kd.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new kp(this.dragging,f0);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Qi(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Kd.SELECTOR=".fc-event-draggable, .fc-event-resizable";function J9(t,e,n,i){let r=t.dateSpan,s=e.dateSpan,o=r.range.start,c=s.range.start,u={};r.allDay!==s.allDay&&(u.allDay=s.allDay,u.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=Ft(n):o=n);let d=hc(o,c,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(u.allDay=!1);let h={datesDelta:d,standardProps:u};for(let p of i)p(h,t,e);return h}function e7(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class t7 extends Hc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,c=this.querySegEl(s),u=Ac(c),d=this.eventRange=u.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,c=this.eventRange;this.relevantEvents=A_(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(s);this.draggingSegEl=u,this.draggingSeg=Ac(u),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:u,event:new rn(o,c.def,c.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,c)=>{let{context:u}=this.component,d=this.relevantEvents,h=this.hitDragging.initialHit,p=this.eventRange.instance,m=null,y=null,_=!1,S={affectedEvents:d,mutatedEvents:Qi(),isEvent:!0};s&&(s.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,s)||(m=n7(h,s,c.subjectEl.classList.contains("fc-event-resizer-start"),p.range))),m&&(y=O_(d,u.getCurrentData().eventUiBases,m,u),S.mutatedEvents=y,BM(S,s.dateProfile,u)||(_=!0,m=null,y=null,S.mutatedEvents=null)),y?u.dispatch({type:"SET_EVENT_RESIZE",state:S}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),_?p_():m_(),o||(m&&Mp(h,s)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=y)},this.handleDragEnd=s=>{let{context:o}=this.component,c=this.eventRange.def,u=this.eventRange.instance,d=new rn(o,c,u),h=this.relevantEvents,p=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let m=new rn(o,p.defs[c.defId],u?p.instances[u.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:p});let y={oldEvent:d,event:m,relatedEvents:$o(p,o,u),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:h})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},y),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||ht(0),endDelta:this.validMutation.endDelta||ht(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",y)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,i=this.dragging=new Qd(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;let r=this.hitDragging=new kp(this.dragging,N_(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return li(e.subjectEl,".fc-event")}}function n7(t,e,n,i){let r=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,c=hc(s,o,r,t.largeUnit);if(n){if(r.add(i.start,c)<i.end)return{startDelta:c}}else if(r.add(i.end,c)>i.start)return{endDelta:c};return null}class i7{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,s=iM(i.origEvent);this.matchesCancel=!!li(s,r),this.matchesEvent=!!li(s,Kd.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:s}=this,o=r.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let c=r.options.unselectAuto;c&&(!c||!this.matchesCancel)&&r.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new SN(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const r7={fixedMirrorParent:ie},s7={dateClick:ie,eventDragStart:ie,eventDragStop:ie,eventDrop:ie,eventResizeStart:ie,eventResizeStop:ie,eventResize:ie,drop:ie,eventReceive:ie,eventLeave:ie};z_.dataAttrPrefix="";var a7=ls({name:"@fullcalendar/interaction",componentInteractions:[Q9,K9,Kd,t7],calendarInteractions:[i7],elementDraggingImpl:Qd,optionRefiners:r7,listenerRefiners:s7});function o7({machineId:t,refreshTrigger:e}){const[n,i]=D.useState(!1),[r,s]=D.useState({}),o=ce.useRef(null),{machines:c}=br(),{odpOrders:u}=ln(),{machineAvailability:d,loadMachineAvailabilityForDateRange:h,toggleMachineHourAvailability:p,getTaskOccupiedSegments:m}=is(),{showAlert:y}=At();os("FullCalendarGrid");const _=c.find(k=>k.id===t),S=D.useCallback(k=>{try{const j=m(k);return j&&j.length>0?j:k.scheduled_start_time&&k.scheduled_end_time?[{start:new Date(k.scheduled_start_time),end:new Date(k.scheduled_end_time),duration:(new Date(k.scheduled_end_time).getTime()-new Date(k.scheduled_start_time).getTime())/(1e3*60*60)}]:[]}catch(j){return console.warn("Failed to get task segments:",j),[]}},[m]),w=D.useMemo(()=>{if(!_)return[];const k=[];return u.filter(j=>j.status==="SCHEDULED"&&j.scheduled_machine_id===_.id&&j.scheduled_start_time&&j.scheduled_end_time).forEach(j=>{const M=S(j);M.forEach((O,U)=>{const B=M.length>1;k.push({id:`${j.id}-segment-${U}`,title:`${j.odp_number} - ${j.article_code}${B?` (${U+1}/${M.length})`:""}`,start:O.start,end:O.end,backgroundColor:B?"#8b5cf6":"#3b82f6",borderColor:B?"#7c3aed":"#2563eb",textColor:"#ffffff",extendedProps:{taskId:j.id,odpNumber:j.odp_number,articleCode:j.article_code,quantity:j.quantity,status:j.status,segmentIndex:U,totalSegments:M.length,isSplitTask:B}})})}),k},[_,u,S]),x=D.useMemo(()=>{if(!d||!_)return[];const k=[];return Object.entries(d).forEach(([j,M])=>{if(Array.isArray(M)){const O=M.find(U=>U.machine_id===t);O&&O.unavailable_hours&&(Array.isArray(O.unavailable_hours)?O.unavailable_hours:[]).forEach(B=>{const $=parseInt(B);if($<6||$>=22)return;const Q=new Date(j);Q.setUTCHours($,0,0,0);const ae=new Date(Q);ae.setUTCHours($+1,0,0,0),k.push({id:`availability-${j}-${B}`,title:"Unavailable",start:Q,end:ae,backgroundColor:"#ef4444",borderColor:"#dc2626",textColor:"#ffffff",display:"background",extendedProps:{type:"availability",date:j,hour:parseInt(B)}})})}}),k},[d,t,_]);D.useEffect(()=>{(async()=>{if(t){i(!0);try{const j=new Date,M=new Date(Date.UTC(j.getUTCFullYear(),j.getUTCMonth(),1)),O=new Date(Date.UTC(j.getUTCFullYear(),j.getUTCMonth()+1,0));await h(t,Wn(M,"yyyy-MM-dd"),Wn(O,"yyyy-MM-dd"))}catch(j){console.error("Failed to load machine availability data:",j)}finally{i(!1)}}})()},[t,e]);const E=D.useCallback(async k=>{const j=k.date,M=Wn(j,"yyyy-MM-dd"),O=j.getUTCHours();if(w.some($=>{const Q=new Date($.start),ae=new Date($.end),pe=new Date(j);return pe>=Q&&pe<ae})){y("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!_)return;const B=`${M}-${O}`;s($=>({...$,[B]:!0}));try{await p(_.id,M,O)}catch($){console.error("Failed to toggle machine hour availability:",$),y("An unexpected error occurred.","error")}finally{s($=>({...$,[B]:!1}))}},[w,y,_,p]),A=D.useCallback(k=>{const j=k.event,M=j.extendedProps;M.type==="availability"?console.log("Availability event clicked:",M):console.log("Scheduled task clicked:",{odpNumber:M.odpNumber,articleCode:M.articleCode,quantity:M.quantity,start:j.start,end:j.end})},[]),I=D.useMemo(()=>({plugins:[UY,E9,z9,a7],initialView:"dayGridMonth",initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},height:"auto",locale:"it",timeZone:"UTC",firstDay:i$.APP.FIRST_DAY_OF_WEEK,slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},dayHeaderFormat:{weekday:"short",day:"numeric"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},buttonText:{today:"Oggi",month:"Mese",week:"Settimana",day:"Giorno"},eventClick:A,dateClick:E,events:[...w,...x]}),[A,E,w,x]);return _?n?C.jsx("div",{className:"loading",children:"Loading calendar data..."}):C.jsx("div",{className:"fullcalendar-container",children:C.jsx(lN,{ref:o,...I})}):C.jsx("div",{className:"loading",children:"Loading machine data..."})}function l7(){const{machineId:t}=lp(),[e,n]=D.useState(0),{getMachineById:i}=br(),{isLoading:r,isInitialized:s}=At(),{init:o,cleanup:c}=Za(),u=i(t);if(D.useEffect(()=>{if(!s){console.log("Initializing main store...");const h=o(),p=new Promise((m,y)=>setTimeout(()=>y(new Error("Initialization timeout")),1e4));Promise.race([h,p]).catch(m=>{console.error("Initialization failed or timed out:",m)})}return()=>{c()}},[o,s,c]),r)return C.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:C.jsxs("div",{className:"text-center py-1 text-gray-500 text-[10px]",children:["Caricamento calendario macchina... (Loading: ",r.toString(),", Initialized: ",s.toString(),")"]})});if(!u)return C.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:C.jsxs("div",{className:"text-center py-1 text-red-600 text-[10px]",children:["Macchina non trovata (ID: ",t,", Initialized: ",s.toString(),")"]})});const d=()=>{n(h=>h+1)};return C.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[C.jsx(o6,{title:"Calendario Disponibilità Macchina"}),C.jsx("div",{className:"mb-1",children:C.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:u.machine_name})}),!1,C.jsx(l6,{machineId:u.id,currentDate:new Date,onSuccess:d}),C.jsx(o7,{machineId:u.id,refreshTrigger:e})]})}function c7(){const{data:t=[],isLoading:e,error:n}=a_(),i=D4(),{selectedWorkCenter:r,isInitialized:s,showConfirmDialog:o}=At(),{init:c,cleanup:u}=Za(),d=as(),h=D.useMemo(()=>r?r===_t.BOTH?t:t.filter(_=>_.work_center===r):[],[t,r]);os("PhasesListPage"),D.useEffect(()=>(s||c(),()=>{u()}),[c,s,u]);const p=D.useMemo(()=>[{header:"Nome Fase",accessorKey:"name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Numero Persone",accessorKey:"numero_persone"},{header:"V Stampa",accessorKey:"v_stampa"},{header:"T Setup Stampa (h)",accessorKey:"t_setup_stampa"},{header:"Costo H Stampa",accessorKey:"costo_h_stampa"},{header:"V Conf",accessorKey:"v_conf"},{header:"T Setup Conf (h)",accessorKey:"t_setup_conf"},{header:"Costo H Conf",accessorKey:"costo_h_conf"},{header:"Contenuto Fase",accessorKey:"contenuto_fase"}],[]),m=_=>{d(`/phases/${_.id}/edit`)},y=async _=>{o("Elimina Fase",`Sei sicuro di voler eliminare "${_.name}"? Questa azione non può essere annullata.`,async()=>{try{await i.mutateAsync(_.id),nl(`Fase "${_.name}" eliminata con successo`)}catch(S){Ia(S.message||"Errore durante l'eliminazione della fase")}},"danger")};return e?C.jsx("div",{children:"Caricamento dati fasi..."}):n?C.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle fasi: ",n.message]}):r?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Fasi"}),C.jsx(Pn,{to:"/phases/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Fase"})]}),C.jsx(t_,{columns:p,data:h,onEditRow:m,onDeleteRow:y,enableGlobalSearch:!1})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle fasi."})}function u7({phaseToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=At(),i=A4(),r=R4(),{handleAsync:s}=os("PhasesForm"),o=!!t,c=D.useMemo(()=>{const h={...Qr};return n!==_t.BOTH&&(h.sections[0].fields[3].disabled=!0,h.sections[0].fields[3].defaultValue=n,h.sections[0].fields[3].helpText="Il centro di lavoro è impostato in base alla tua selezione di accesso"),h},[n]),u=D.useMemo(()=>({name:t?.name||"",department:t?.department||Qr.sections[0].fields[1].defaultValue,numero_persone:t?.numero_persone||Qr.sections[0].fields[2].defaultValue,work_center:t?.work_center||(n===_t.BOTH?Qr.sections[0].fields[3].defaultValue:n),v_stampa:t?.v_stampa||Qr.sections[1].fields[0].defaultValue,t_setup_stampa:t?.t_setup_stampa||Qr.sections[1].fields[1].defaultValue,costo_h_stampa:t?.costo_h_stampa||Qr.sections[1].fields[2].defaultValue,v_conf:t?.v_conf||Qr.sections[2].fields[0].defaultValue,t_setup_conf:t?.t_setup_conf||Qr.sections[2].fields[1].defaultValue,costo_h_conf:t?.costo_h_conf||Qr.sections[2].fields[2].defaultValue,contenuto_fase:t?.contenuto_fase||""}),[n,t]),d=async h=>{await s(async()=>{o?await r.mutateAsync({id:t.id,updates:h}):await i.mutateAsync(h),e&&e(),nl(o?"Fase aggiornata con successo":"Fase aggiunta con successo")},{context:o?"Update Phase":"Add Phase",fallbackMessage:o?"Aggiornamento fase fallito":"Aggiunta fase fallita"})};return C.jsx(wp,{config:c,initialData:u,onSubmit:d,onSuccess:e,isEditMode:o})}function TR(){const{id:t}=lp(),e=as(),{selectedWorkCenter:n}=At(),{isLoading:i,isInitialized:r,init:s,cleanup:o}=Za(),c=!!t,{data:u,isLoading:d,error:h}=T4(t);return D.useEffect(()=>(r||s(),()=>{o()}),[s,r,o]),D.useEffect(()=>{c&&!i&&!d&&!u&&!h&&e("/phases",{replace:!0})},[c,i,d,u,h,e]),i||c&&d?C.jsx("div",{children:"Caricamento..."}):c&&h?C.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento della fase: ",h.message]}):c&&!u?C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Fase non trovata."}):n?C.jsxs("div",{className:"space-y-6",children:[C.jsx("div",{className:"flex items-center justify-between",children:C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:c?`Modifica Fase: ${u?.name}`:"Aggiungi Nuova Fase"})}),C.jsx(u7,{phaseToEdit:u})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le fasi."})}function d7(){const{selectedWorkCenter:t,showConfirmDialog:e}=At(),n=as(),{data:i=[],isLoading:r,error:s}=_p(),{data:o=[],isLoading:c}=bp(),{data:u=[],isLoading:d}=a_(),h=C4(),{handleAsync:p}=os("BacklogListPage");if(s)return C.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento degli ordini: ",s.message]});const m=D.useMemo(()=>{if(!t)return[];let x=i;return t!==_t.BOTH&&(x=i.filter(E=>E.work_center===t)),x.map(E=>({...E,machine_name:E.scheduled_machine_id?o.find(A=>A.id===E.scheduled_machine_id)?.machine_name||"Macchina non trovata":"Non programmato",phase_name:E.fase?u.find(A=>A.id===E.fase)?.name||"Fase non trovata":"Fase non assegnata",progress:E.progress||0,time_remaining:E.time_remaining||E.duration||0}))},[i,t,o,u]),y=r||c||d,_=D.useMemo(()=>[{header:"Numero ODP",accessorKey:"odp_number",cell:x=>{const E=x.row.original.status,A=x.getValue(),I=E==="SCHEDULED";return C.jsx("span",{className:I?"text-green-600 font-medium":"",children:A})}},{header:"Codice Articolo",accessorKey:"article_code"},{header:"Note ASD",accessorKey:"asd_notes",cell:x=>{const E=x.getValue();return E?C.jsx("div",{className:"max-w-[200px] truncate text-[10px]",title:E,children:E}):"N/A"}},{header:"Nome Cliente",accessorKey:"nome_cliente"},{header:"Quantità",accessorKey:"quantity"},{header:"Quantità Completata",accessorKey:"quantity_completed"},{header:"Altezza Busta (mm)",accessorKey:"bag_height"},{header:"Larghezza Busta (mm)",accessorKey:"bag_width"},{header:"Passo Busta (mm)",accessorKey:"bag_step"},{header:"Lotto Produzione",accessorKey:"production_lot"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Lati Sigillati",accessorKey:"seal_sides"},{header:"Tipo Prodotto",accessorKey:"product_type"},{header:"Data Consegna",accessorKey:"delivery_date",cell:x=>x.getValue()?Wn(new Date(x.getValue()),"yyyy-MM-dd"):"Non impostata"},{header:"Inizio Programmato",accessorKey:"scheduled_start_time",cell:x=>x.getValue()?new Date(x.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Fine Programmata",accessorKey:"scheduled_end_time",cell:x=>x.getValue()?new Date(x.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Codice Cliente Interno",accessorKey:"internal_customer_code"},{header:"Codice Cliente Esterno",accessorKey:"external_customer_code"},{header:"Riferimento Ordine Cliente",accessorKey:"customer_order_ref"},{header:"Note Libere",accessorKey:"user_notes"},{header:"Nome Fase",accessorKey:"phase_name"},{header:"Durata (ore)",accessorKey:"duration",cell:x=>{const E=x.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Costo (€)",accessorKey:"cost",cell:x=>{const E=x.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Stato",accessorKey:"status"},{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Progresso (%)",accessorKey:"progress",cell:x=>{const E=x.getValue();return typeof E=="number"?`${E}%`:E}},{header:"Tempo Rimanente (ore)",accessorKey:"time_remaining",cell:x=>{const E=x.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Material ISP (%)",accessorKey:"material_availability_isp",cell:x=>{const E=x.getValue();if(typeof E!="number")return E||"N/A";const A=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return C.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${A} text-black text-[10px] font-medium`,children:E})}},{header:"Material Lotti (%)",accessorKey:"material_availability_lotti",cell:x=>{const E=x.getValue();if(typeof E!="number")return E||"N/A";const A=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return C.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${A} text-black text-[10px] font-medium`,children:E})}},{header:"Material Global (%)",accessorKey:"material_availability_global",cell:x=>{const E=x.getValue();if(typeof E!="number")return E||"N/A";const A=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return C.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${A} text-black text-[10px] font-medium`,children:E})}}],[]);D.useMemo(()=>_.map(x=>x.accessorKey),[_]);const S=x=>{n(`/backlog/${x.id}/edit`)},w=async x=>{e("Elimina Ordine",`Sei sicuro di voler eliminare "${x.odp_number}"? Questa azione non può essere annullata.`,async()=>{await p(async()=>{await h.mutateAsync(x.id)},{context:"Delete Order",fallbackMessage:"Eliminazione ordine fallita"})},"danger")};return y?C.jsx("div",{children:"Caricamento dati backlog..."}):t?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Ordini"}),C.jsx(Pn,{to:"/backlog/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Ordine"})]}),C.jsx(t_,{columns:_,data:m,onEditRow:S,onDeleteRow:w,stickyColumns:["odp_number","article_code"],enableGlobalSearch:!1,enableFiltering:!1})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati del backlog."})}const f7=({onSuccess:t,orderToEdit:e})=>{const{selectedWorkCenter:n,showConflictDialog:i}=At(),{scheduleTaskFromSlot:r,unscheduleTask:s}=is(),{calculateProductionMetrics:o,validatePhaseParameters:c,autoDetermineWorkCenter:u,autoDetermineDepartment:d}=dk(),{handleAsync:h}=os("BacklogForm"),{validateOrder:p}=Ak(),m=x4(),y=E4(),_=Pi(),[S,w]=D.useState(null),x=!!e,E=D.useMemo(()=>{const Ee={...s6};if(n!==_t.BOTH){const He=Ee.sections[0].fields.find(nt=>nt.name==="work_center");He&&(He.disabled=!0,He.defaultValue=n,He.helpText="Centro di lavoro pre-impostato.")}return Ee},[n]),A=D.useMemo(()=>({odp_number:e?.odp_number||"",article_code:e?.article_code||"",work_center:e?.work_center||(n===_t.BOTH?"":n),nome_cliente:e?.nome_cliente||"",delivery_date:e?.delivery_date?new Date(e.delivery_date).toISOString().slice(0,16):"",quantity:e?.quantity||"",customer_order_ref:e?.customer_order_ref||"",department:e?.department||"",quantity_completed:e?.quantity_completed||Xt.ORDER.QUANTITY_COMPLETED,production_lot:e?.production_lot||null,bag_height:e?.bag_height||null,bag_width:e?.bag_width||null,bag_step:e?.bag_step||null,seal_sides:e?.seal_sides||null,product_type:e?.product_type||null,internal_customer_code:e?.internal_customer_code||null,external_customer_code:e?.external_customer_code||null,user_notes:e?.user_notes||null,asd_notes:e?.asd_notes||null,material_availability_global:e?.material_availability_global||null,fase:e?.fase||null}),[n,e]),[I,k]=D.useState(A.department),[j,M]=D.useState(A.work_center),[O,U]=D.useState(A.quantity),[B,$]=D.useState(A.bag_step),{phaseSearch:Q,setPhaseSearch:ae,isDropdownVisible:pe,setIsDropdownVisible:ve,selectedPhase:F,setSelectedPhase:K,filteredPhases:ue,editablePhaseParams:re,setEditablePhaseParams:me,handlePhaseParamChange:R,handlePhaseSelect:z,handleBlur:q}=p4(I,j,x?e?.fase:null),J=D.useCallback(()=>{ae(""),K(null),me({}),w(null)},[ae,K,me]),fe=D.useCallback((Ee,He)=>{if(Ee){const nt=d(Ee);He("department",nt),n===_t.BOTH&&He("work_center",u(Ee)),He("fase",""),ae(""),K(null),me({}),w(null)}},[d,u,n,ae,K,me]),ge=async Ee=>{const He=p(Ee);if(!He.isValid){const Ye=Object.entries(He.errors).map(([P,G])=>`${{odp_number:"Numero ODP",article_code:"Codice Articolo",work_center:"Centro di Lavoro",nome_cliente:"Nome Cliente",quantity:"Quantità",delivery_date:"Data di Consegna",customer_order_ref:"Riferimento Ordine Cliente",department:"Reparto",bag_height:"Altezza Busta",bag_width:"Larghezza Busta",bag_step:"Passo Busta",seal_sides:"Lati Sigillatura",product_type:"Tipo Prodotto",internal_customer_code:"Codice Cliente Interno",external_customer_code:"Codice Cliente Esterno"}[P]||P}: ${G}`);lV(Ye);return}const nt=Ee.fase,Ht=F?.department===on.PRINTING;if(nt&&(!Ht||Ee.bag_step)&&(!S?.totals||typeof S.totals.duration!="number"||typeof S.totals.cost!="number")){Xu("Calcola le metriche di produzione valide prima di procedere.");return}await h(async()=>{const{phase_search:Ye,...P}=Ee,G={...P,fase:P.fase===""?null:P.fase,scheduled_machine_id:P.scheduled_machine_id===""?null:P.scheduled_machine_id,production_lot:P.production_lot===""?null:P.production_lot,internal_customer_code:P.internal_customer_code===""?null:P.internal_customer_code,external_customer_code:P.external_customer_code===""?null:P.external_customer_code,user_notes:P.user_notes===""?null:P.user_notes,asd_notes:P.asd_notes===""?null:P.asd_notes,material_availability_global:P.material_availability_global===""?null:P.material_availability_global,bag_height:P.bag_height===""?null:P.bag_height,bag_width:P.bag_width===""?null:P.bag_width,bag_step:P.bag_step===""?null:P.bag_step,seal_sides:P.seal_sides===""?null:P.seal_sides,product_type:P.product_type===""?null:P.product_type};let X;if(x){const Y=S?.totals?.duration||e.duration,te=e.quantity_completed/e.quantity||0,oe=Y*(1-te);if(e.scheduled_machine_id&&e.scheduled_start_time){console.log("🔄 EDIT FLOW: Starting rescheduling for task",e.id),console.log("📊 EDIT FLOW: Original duration:",e.duration,"New duration:",Y);const ye=e.duration,be=Y-ye;if(Math.abs(be)<.01){console.log("📊 SCENARIO X: Duration unchanged, skipping rescheduling");const we={...G,duration:Y,cost:S?.totals?.cost||null};X=await y.mutateAsync({id:e.id,updates:we})}else if(be>0){console.log("📈 SCENARIO Y: Duration increased, using standard rescheduling");const we=new Date(e.scheduled_start_time),ke=we.getUTCHours(),Qe=we.getUTCMinutes(),Ve=new Date(Date.UTC(we.getUTCFullYear(),we.getUTCMonth(),we.getUTCDate()));console.log("📅 EDIT FLOW: Start date:",we.toISOString()),console.log("⏰ EDIT FLOW: Hour:",ke,"Minute:",Qe),console.log("📆 EDIT FLOW: Current date:",Ve.toISOString());const ut={duration:Y};console.log("💾 EDIT FLOW: Updating task with new duration:",ut),await y.mutateAsync({id:e.id,updates:ut}),await new Promise(gt=>setTimeout(gt,100));const{getOrderById:it}=ln.getState(),Lt=it(e.id);console.log("🔍 EDIT FLOW: Task duration after update:",Lt?.duration),console.log("🔄 EDIT FLOW: Unscheduling task first"),await s(e.id,_),await new Promise(gt=>setTimeout(gt,100));const rt={id:e.scheduled_machine_id};console.log("🎯 EDIT FLOW: Calling scheduleTaskFromSlot with:",{taskId:e.id,machine:rt,currentDate:Ve.toISOString(),hour:ke,minute:Qe,timeRemaining:oe});const Fe=await r(e.id,rt,Ve,ke,Qe,oe,_);if(console.log("📋 EDIT FLOW: scheduleTaskFromSlot result:",Fe),Fe?.conflict){console.log("⚠️ EDIT FLOW: Conflict detected, showing dialog");const gt={...Fe,schedulingParams:{taskId:e.id,machine:rt,currentDate:Ve,hour:ke,minute:Qe,newDuration:oe,originalConflict:Fe}};i(gt);return}else if(Fe?.error){console.log("❌ EDIT FLOW: Error:",Fe.error),Ia(Fe.error);return}else console.log("✅ EDIT FLOW: Scheduling successful");const mn=Fe?.updatedTask;console.log("📋 EDIT FLOW: Updated task from scheduling result:",mn);const Je={...G,duration:Y,cost:S?.totals?.cost||null,scheduled_start_time:mn?.scheduled_start_time||we.toISOString(),scheduled_end_time:mn?.scheduled_end_time||new Date(we.getTime()+Y*36e5).toISOString(),description:mn?.description||e.description};console.log("💾 EDIT FLOW: Final order data to save:",Je),X=await y.mutateAsync({id:e.id,updates:Je}),console.log("✅ EDIT FLOW: Final update completed:",X)}else{console.log("📉 SCENARIO Z: Duration decreased, using adjacent task rescheduling");const we=await Oe(e.id,Y,oe,G,S?.totals?.cost||null,_,y,r,s,i);if(we?.error){console.log("❌ SCENARIO Z: Error:",we.error),Ia(we.error);return}X=we.updatedOrder,console.log("✅ SCENARIO Z: Duration decrease rescheduling completed:",X)}}else{const ye={...G,duration:Y,cost:S?.totals?.cost||null};X=await y.mutateAsync({id:e.id,updates:ye})}}else{const Y={...G,duration:S?.totals?.duration||null,cost:S?.totals?.cost||null,status:"NOT SCHEDULED"};X=await m.mutateAsync(Y)}t&&t(),J(),nl(x?"Ordine aggiornato con successo":"Ordine aggiunto con successo")},{context:x?"Aggiorna Ordine":"Aggiungi Ordine",fallbackMessage:x?"Aggiornamento ordine fallito":"Aggiunta ordine fallita"})},_e=()=>{if(!F){Xu("Seleziona una fase prima di calcolare.");return}if(!O){Xu("Inserisci la quantità per calcolare.");return}if(F.department===on.PRINTING&&!B){Xu("Inserisci il passo busta per calcolare la stampa.");return}const Ee={...F,...re},He=c(Ee);if(!He.isValid){Ia(He.error),w(null);return}const nt=F.department===on.PRINTING?B:null,Ht=o(Ee,O,nt);if(!Ht||typeof Ht.totals?.duration!="number"||typeof Ht.totals?.cost!="number"){Ia("Errore nel calcolo. Verifica i parametri della fase."),w(null);return}w(Ht)},Se=Ee=>re[Ee]??F[Ee]??"",Oe=async(Ee,He,nt,Ht,Sn,Ye,P,G,X,Y,te)=>{try{console.log("📉 SCENARIO Z: Starting duration decrease rescheduling for task",Ee);const{getOrderById:oe,getOdpOrders:ye}=ln.getState(),be=oe(Ee);if(!be)return{error:"Task not found"};const we=new Date(be.scheduled_start_time),ke=we.getUTCHours(),Qe=we.getUTCMinutes(),Ve=new Date(Date.UTC(we.getUTCFullYear(),we.getUTCMonth(),we.getUTCDate())),ut={id:be.scheduled_machine_id};console.log("📅 SCENARIO Z: Current task start:",we.toISOString()),console.log("📅 SCENARIO Z: New time remaining:",nt);const it=new Date(be.scheduled_end_time);console.log("📅 SCENARIO Z: Current end time for task A (from DB):",it.toISOString());const Lt=ye(),rt=[];let Fe=it;for(console.log("🔍 SCENARIO Z: Starting to find chain of adjacent tasks...");;){const mn=Lt.find(Je=>{if(Je.id===Ee||!Je.scheduled_machine_id||!Je.scheduled_start_time||Je.status!=="SCHEDULED"||Je.scheduled_machine_id!==be.scheduled_machine_id||rt.some(fi=>fi.id===Je.id))return!1;const gt=new Date(Je.scheduled_start_time),di=Math.abs(gt.getTime()-Fe.getTime())/(1e3*60);return console.log("🔍 SCENARIO Z: Checking task",Je.odp_number,"start:",gt.toISOString(),"diff:",di,"minutes","against end time:",Fe.toISOString()),di<=120});if(mn)console.log("🔗 SCENARIO Z: Found adjacent task in chain:",mn.odp_number),rt.push(mn),Fe=new Date(mn.scheduled_end_time),console.log("📅 SCENARIO Z: Next task end time for chain:",Fe.toISOString()),console.log("🔄 SCENARIO Z: Continuing to search for more adjacent tasks...");else{console.log("🛑 SCENARIO Z: No more adjacent tasks found, stopping chain search");break}}if(rt.length>0){console.log("🔗 SCENARIO Z: Found chain of",rt.length,"adjacent tasks:",rt.map(Ce=>Ce.odp_number)),console.log("🔄 SCENARIO Z: Step 2 - Rescheduling task A");const mn={duration:He};await P.mutateAsync({id:Ee,updates:mn}),await new Promise(Ce=>setTimeout(Ce,100)),await X(Ee,Ye),await new Promise(Ce=>setTimeout(Ce,100));const Je=await G(Ee,ut,Ve,ke,Qe,nt,Ye);if(Je?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for task A, showing dialog");const Ce={...Je,schedulingParams:{taskId:Ee,machine:ut,currentDate:Ve,hour:ke,minute:Qe,newDuration:nt,originalConflict:Je}};return Y(Ce),{error:"Conflict detected for task A"}}else if(Je?.error)return console.log("❌ SCENARIO Z: Error rescheduling task A:",Je.error),{error:Je.error};console.log("✅ SCENARIO Z: Task A rescheduled successfully"),console.log("🔄 SCENARIO Z: Step 3 - Rescheduling chain of",rt.length,"tasks");let gt=new Date(Je.schedulingResult.endTime);const di=[];for(let Ce=0;Ce<rt.length;Ce++){const Be=rt[Ce];console.log(`🔄 SCENARIO Z: Rescheduling chain task ${Ce+1}/${rt.length}:`,Be.odp_number);const dt=gt.getUTCHours(),pt=gt.getUTCMinutes(),dn=new Date(Date.UTC(gt.getUTCFullYear(),gt.getUTCMonth(),gt.getUTCDate()));console.log("📅 SCENARIO Z: Chain task new start time:",gt.toISOString()),console.log("⏰ SCENARIO Z: Chain task new hour:",dt,"minute:",pt);const mt=Be.time_remaining||Be.duration||1;console.log("📊 SCENARIO Z: Chain task time remaining:",mt),await X(Be.id,Ye),await new Promise(wn=>setTimeout(wn,100));const Ke=await G(Be.id,ut,dn,dt,pt,mt,Ye);if(Ke?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected for chain task",Be.odp_number,", showing dialog");const wn={...Ke,schedulingParams:{taskId:Be.id,machine:ut,currentDate:dn,hour:dt,minute:pt,newDuration:mt,originalConflict:Ke}};return Y(wn),{error:`Conflict detected for chain task ${Be.odp_number}`}}else if(Ke?.error)return console.log("❌ SCENARIO Z: Error rescheduling chain task",Be.odp_number,":",Ke.error),{error:`Error rescheduling chain task ${Be.odp_number}: ${Ke.error}`};console.log("✅ SCENARIO Z: Chain task",Be.odp_number,"rescheduled successfully"),di.push(Ke),gt=new Date(Ke.schedulingResult.endTime),console.log("📅 SCENARIO Z: Updated end time for next chain task:",gt.toISOString())}console.log("✅ SCENARIO Z: All",rt.length,"chain tasks rescheduled successfully");const fi=Je?.updatedTask,St={...Ht,duration:He,cost:Sn,scheduled_start_time:fi?.scheduled_start_time||we.toISOString(),scheduled_end_time:fi?.scheduled_end_time||new Date(we.getTime()+He*36e5).toISOString(),description:fi?.description||be.description},Bt=await P.mutateAsync({id:Ee,updates:St});return console.log("✅ SCENARIO Z: Task A and",rt.length,"chain tasks rescheduled successfully"),{updatedOrder:Bt}}else{console.log("📊 SCENARIO Z: No adjacent task found, using standard rescheduling");const mn={duration:He};await P.mutateAsync({id:Ee,updates:mn}),await new Promise(St=>setTimeout(St,100)),await X(Ee,Ye),await new Promise(St=>setTimeout(St,100));const Je=await G(Ee,ut,Ve,ke,Qe,nt,Ye);if(Je?.conflict){console.log("⚠️ SCENARIO Z: Conflict detected, showing dialog");const St={...Je,schedulingParams:{taskId:Ee,machine:ut,currentDate:Ve,hour:ke,minute:Qe,newDuration:nt,originalConflict:Je}};return Y(St),{error:"Conflict detected"}}else if(Je?.error)return console.log("❌ SCENARIO Z: Error:",Je.error),{error:Je.error};const gt=Je?.updatedTask,di={...Ht,duration:He,cost:Sn,scheduled_start_time:gt?.scheduled_start_time||we.toISOString(),scheduled_end_time:gt?.scheduled_end_time||new Date(we.getTime()+He*36e5).toISOString(),description:gt?.description||be.description};return{updatedOrder:await P.mutateAsync({id:Ee,updates:di})}}}catch(oe){return console.error("❌ SCENARIO Z: Error in handleDurationDecreaseRescheduling:",oe),{error:oe.message||"Error during duration decrease rescheduling"}}},tt=()=>F?F.department===on.PRINTING?[{name:"v_stampa",label:"Velocità Stampa:",unit:"mt/h"},{name:"t_setup_stampa",label:"Setup Stampa:",unit:"h"},{name:"costo_h_stampa",label:"Costo Stampa:",unit:"€/h"}]:[{name:"v_conf",label:"Velocità Confezionamento:",unit:"pz/h"},{name:"t_setup_conf",label:"Setup Confezionamento:",unit:"h"},{name:"costo_h_conf",label:"Costo Confezionamento:",unit:"€/h"}]:[],Jt=D.useMemo(()=>({article_code:(Ee,{watch:He,setValue:nt,getValues:Ht,register:Sn})=>C.jsx($n,{type:"text",...Sn(Ee.name,{...Ee.validation,onChange:Ye=>{Ee.validation?.onChange&&Ee.validation.onChange(Ye),fe(Ye.target.value,nt)}}),placeholder:Ee.placeholder,disabled:Ee.disabled,className:Ee.className}),phase_search:(Ee,{watch:He,setValue:nt,getValues:Ht,register:Sn})=>{const Ye=He("department"),P=He("work_center"),G=He("quantity"),X=He("bag_step");return D.useEffect(()=>{Ye!==I&&k(Ye),P!==j&&M(P),G!==O&&U(G),X!==B&&$(X)},[Ye,P,G,X,I,j,O,B]),C.jsxs("div",{className:"relative",children:[C.jsx($n,{type:"text",value:Q,onChange:Y=>ae(Y.target.value),onFocus:()=>ve(!0),onBlur:q,placeholder:"Cerca fase di produzione..."}),C.jsx("input",{type:"hidden",...Sn("fase")}),pe&&ue.length>0&&C.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:ue.map(Y=>C.jsxs("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onMouseDown:()=>{z(Y,nt,()=>{}),w(null)},children:[C.jsx("div",{className:"text-[10px] font-medium",children:Y.name}),C.jsx("div",{className:"text-[10px] text-gray-600",children:Y.contenuto_fase})]},Y.id))})]})},phase_parameters:()=>F?C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Parametri Fase Selezionata"}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:tt().map(Ee=>C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:Ee.name,children:Ee.label}),C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx($n,{type:"number",id:Ee.name,value:Se(Ee.name),onChange:He=>R(Ee.name,He.target.value)}),C.jsx("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:Ee.unit})]})]},Ee.name))})]}):null,calculation_results:()=>S?.totals?C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Risultati Calcolo Produzione"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{children:"Durata Totale (ore):"}),C.jsx("div",{className:"text-[10px] font-semibold text-navy-800",children:S.totals.duration.toFixed(2)})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{children:"Costo Totale (€):"}),C.jsx("div",{className:"text-[10px] font-semibold text-green-600",children:S.totals.cost.toFixed(2)})]})]})]}):null}),[Q,ae,pe,ve,ue,q,z,F,Se,R,tt,S,fe]),qt=D.useMemo(()=>C.jsx("div",{className:"flex justify-end space-x-4 pt-6",children:C.jsx(Bo,{type:"button",variant:"outline",onClick:_e,disabled:!F,children:"Calcola"})}),[F,_e]),bi=m.isPending||y.isPending;return C.jsx(wp,{config:E,initialData:A,onSubmit:ge,onSuccess:t,isEditMode:x,isLoading:bi,customActions:qt,customFieldRenderers:Jt})};function AR(){const{id:t}=lp(),e=as(),{data:n,isLoading:i,error:r}=w4(t),{selectedWorkCenter:s}=At(),{isLoading:o,isInitialized:c,init:u,cleanup:d}=Za(),h=!!t;return D.useEffect(()=>(c||u(),()=>{d()}),[u,c,d]),D.useEffect(()=>{h&&!i&&!n&&r&&e("/backlog",{replace:!0})},[h,i,n,e,r]),i?C.jsx("div",{children:"Caricamento..."}):h&&!n?C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Ordine non trovato."}):s?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:h?`Modifica Ordine: ${n?.odp_number}`:"Aggiungi Nuovo Ordine"}),h&&C.jsx(Bo,{variant:"outline",onClick:()=>e("/scheduler"),children:"← Torna al Programmatore"})]}),C.jsx(f7,{onSuccess:h?()=>e("/scheduler"):void 0,orderToEdit:n})]}):C.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire gli ordini del backlog."})}const Np=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function G_(t){return"nodeType"in t}function vi(t){var e,n;return t?Bc(t)?t:G_(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function W_(t){const{Document:e}=vi(t);return t instanceof e}function Xd(t){return Bc(t)?!1:t instanceof vi(t).HTMLElement}function TN(t){return t instanceof vi(t).SVGElement}function Vc(t){return t?Bc(t)?t.document:G_(t)?W_(t)?t:Xd(t)||TN(t)?t.ownerDocument:document:document:document}const Ys=Np?D.useLayoutEffect:D.useEffect;function Ip(t){const e=D.useRef(t);return Ys(()=>{e.current=t}),D.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function h7(){const t=D.useRef(null),e=D.useCallback((i,r)=>{t.current=setInterval(i,r)},[]),n=D.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Dd(t,e){e===void 0&&(e=[t]);const n=D.useRef(t);return Ys(()=>{n.current!==t&&(n.current=t)},e),n}function Zd(t,e){const n=D.useRef();return D.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function Yg(t){const e=Ip(t),n=D.useRef(null),i=D.useCallback(r=>{r!==n.current&&e?.(r,n.current),n.current=r},[]);return[n,i]}function Qg(t){const e=D.useRef();return D.useEffect(()=>{e.current=t},[t]),e.current}let rb={};function jp(t,e){return D.useMemo(()=>{if(e)return e;const n=rb[t]==null?0:rb[t]+1;return rb[t]=n,t+"-"+n},[t,e])}function AN(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce((s,o)=>{const c=Object.entries(o);for(const[u,d]of c){const h=s[u];h!=null&&(s[u]=h+t*d)}return s},{...e})}}const wc=AN(1),Kg=AN(-1);function g7(t){return"clientX"in t&&"clientY"in t}function Y_(t){if(!t)return!1;const{KeyboardEvent:e}=vi(t.target);return e&&t instanceof e}function p7(t){if(!t)return!1;const{TouchEvent:e}=vi(t.target);return e&&t instanceof e}function Xg(t){if(p7(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return g7(t)?{x:t.clientX,y:t.clientY}:null}const Od=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Od.Translate.toString(t),Od.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),RR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function m7(t){return t.matches(RR)?t:t.querySelector(RR)}const y7={display:"none"};function v7(t){let{id:e,value:n}=t;return ce.createElement("div",{id:e,style:y7},n)}function b7(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ce.createElement("div",{id:e,style:r,role:"status","aria-live":i,"aria-atomic":!0},n)}function _7(){const[t,e]=D.useState("");return{announce:D.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const RN=D.createContext(null);function S7(t){const e=D.useContext(RN);D.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function w7(){const[t]=D.useState(()=>new Set),e=D.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[D.useCallback(i=>{let{type:r,event:s}=i;t.forEach(o=>{var c;return(c=o[r])==null?void 0:c.call(o,s)})},[t]),e]}const x7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E7={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function C7(t){let{announcements:e=E7,container:n,hiddenTextDescribedById:i,screenReaderInstructions:r=x7}=t;const{announce:s,announcement:o}=_7(),c=jp("DndLiveRegion"),[u,d]=D.useState(!1);if(D.useEffect(()=>{d(!0)},[]),S7(D.useMemo(()=>({onDragStart(p){let{active:m}=p;s(e.onDragStart({active:m}))},onDragMove(p){let{active:m,over:y}=p;e.onDragMove&&s(e.onDragMove({active:m,over:y}))},onDragOver(p){let{active:m,over:y}=p;s(e.onDragOver({active:m,over:y}))},onDragEnd(p){let{active:m,over:y}=p;s(e.onDragEnd({active:m,over:y}))},onDragCancel(p){let{active:m,over:y}=p;s(e.onDragCancel({active:m,over:y}))}}),[s,e])),!u)return null;const h=ce.createElement(ce.Fragment,null,ce.createElement(v7,{id:i,value:r.draggable}),ce.createElement(b7,{id:c,announcement:o}));return n?Ls.createPortal(h,n):h}var Ln;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ln||(Ln={}));function Zg(){}function DR(t,e){return D.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function T7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return D.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Hr=Object.freeze({x:0,y:0});function A7(t,e){const n=Xg(t);if(!n)return"0 0";const i={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function R7(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function D7(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function O7(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=r-i,c=s-n;if(i<r&&n<s){const u=e.width*e.height,d=t.width*t.height,h=o*c,p=h/(u+d-h);return Number(p.toFixed(4))}return 0}const k7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=[];for(const s of i){const{id:o}=s,c=n.get(o);if(c){const u=O7(c,e);u>0&&r.push({id:o,data:{droppableContainer:s,value:u}})}}return r.sort(R7)};function M7(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function DN(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Hr}function N7(t){return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return r.reduce((o,c)=>({...o,top:o.top+t*c.y,bottom:o.bottom+t*c.y,left:o.left+t*c.x,right:o.right+t*c.x}),{...n})}}const I7=N7(1);function ON(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function j7(t,e,n){const i=ON(e);if(!i)return t;const{scaleX:r,scaleY:s,x:o,y:c}=i,u=t.left-o-(1-r)*parseFloat(n),d=t.top-c-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=r?t.width/r:t.width,p=s?t.height/s:t.height;return{width:h,height:p,top:d,right:u+h,bottom:d+p,left:u}}const P7={ignoreTransform:!1};function Jd(t,e){e===void 0&&(e=P7);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:h}=vi(t).getComputedStyle(t);d&&(n=j7(n,d,h))}const{top:i,left:r,width:s,height:o,bottom:c,right:u}=n;return{top:i,left:r,width:s,height:o,bottom:c,right:u}}function OR(t){return Jd(t,{ignoreTransform:!0})}function L7(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function z7(t,e){return e===void 0&&(e=vi(t).getComputedStyle(t)),e.position==="fixed"}function U7(t,e){e===void 0&&(e=vi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const s=e[r];return typeof s=="string"?n.test(s):!1})}function Q_(t,e){const n=[];function i(r){if(e!=null&&n.length>=e||!r)return n;if(W_(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!Xd(r)||TN(r)||n.includes(r))return n;const s=vi(t).getComputedStyle(r);return r!==t&&U7(r,s)&&n.push(r),z7(r,s)?n:i(r.parentNode)}return t?i(t):n}function kN(t){const[e]=Q_(t,1);return e??null}function sb(t){return!Np||!t?null:Bc(t)?t:G_(t)?W_(t)||t===Vc(t).scrollingElement?window:Xd(t)?t:null:null}function MN(t){return Bc(t)?t.scrollX:t.scrollLeft}function NN(t){return Bc(t)?t.scrollY:t.scrollTop}function b0(t){return{x:MN(t),y:NN(t)}}var Vn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Vn||(Vn={}));function IN(t){return!Np||!t?!1:t===document.scrollingElement}function jN(t){const e={x:0,y:0},n=IN(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},r=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=i.y,c=t.scrollLeft>=i.x;return{isTop:r,isLeft:s,isBottom:o,isRight:c,maxScroll:i,minScroll:e}}const F7={x:.2,y:.2};function H7(t,e,n,i,r){let{top:s,left:o,right:c,bottom:u}=n;i===void 0&&(i=10),r===void 0&&(r=F7);const{isTop:d,isBottom:h,isLeft:p,isRight:m}=jN(t),y={x:0,y:0},_={x:0,y:0},S={height:e.height*r.y,width:e.width*r.x};return!d&&s<=e.top+S.height?(y.y=Vn.Backward,_.y=i*Math.abs((e.top+S.height-s)/S.height)):!h&&u>=e.bottom-S.height&&(y.y=Vn.Forward,_.y=i*Math.abs((e.bottom-S.height-u)/S.height)),!m&&c>=e.right-S.width?(y.x=Vn.Forward,_.x=i*Math.abs((e.right-S.width-c)/S.width)):!p&&o<=e.left+S.width&&(y.x=Vn.Backward,_.x=i*Math.abs((e.left+S.width-o)/S.width)),{direction:y,speed:_}}function B7(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:i,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:r,width:t.clientWidth,height:t.clientHeight}}function PN(t){return t.reduce((e,n)=>wc(e,b0(n)),Hr)}function V7(t){return t.reduce((e,n)=>e+MN(n),0)}function $7(t){return t.reduce((e,n)=>e+NN(n),0)}function LN(t,e){if(e===void 0&&(e=Jd),!t)return;const{top:n,left:i,bottom:r,right:s}=e(t);kN(t)&&(r<=0||s<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const q7=[["x",["left","right"],V7],["y",["top","bottom"],$7]];class K_{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Q_(n),r=PN(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,c]of q7)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=c(i),h=r[s]-d;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var r;(r=this.target)==null||r.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function G7(t){const{EventTarget:e}=vi(t);return t instanceof e?t:Vc(t)}function ab(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var vr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(vr||(vr={}));function kR(t){t.preventDefault()}function W7(t){t.stopPropagation()}var Ut;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ut||(Ut={}));const zN={start:[Ut.Space,Ut.Enter],cancel:[Ut.Esc],end:[Ut.Space,Ut.Enter,Ut.Tab]},Y7=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ut.Right:return{...n,x:n.x+25};case Ut.Left:return{...n,x:n.x-25};case Ut.Down:return{...n,y:n.y+25};case Ut.Up:return{...n,y:n.y-25}}};class UN{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new fd(Vc(n)),this.windowListeners=new fd(vi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(vr.Resize,this.handleCancel),this.windowListeners.add(vr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(vr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&LN(i),n(Hr)}handleKeyDown(e){if(Y_(e)){const{active:n,context:i,options:r}=this.props,{keyboardCodes:s=zN,coordinateGetter:o=Y7,scrollBehavior:c="smooth"}=r,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=i.current,h=d?{x:d.left,y:d.top}:Hr;this.referenceCoordinates||(this.referenceCoordinates=h);const p=o(e,{active:n,context:i.current,currentCoordinates:h});if(p){const m=Kg(p,h),y={x:0,y:0},{scrollableAncestors:_}=i.current;for(const S of _){const w=e.code,{isTop:x,isRight:E,isLeft:A,isBottom:I,maxScroll:k,minScroll:j}=jN(S),M=B7(S),O={x:Math.min(w===Ut.Right?M.right-M.width/2:M.right,Math.max(w===Ut.Right?M.left:M.left+M.width/2,p.x)),y:Math.min(w===Ut.Down?M.bottom-M.height/2:M.bottom,Math.max(w===Ut.Down?M.top:M.top+M.height/2,p.y))},U=w===Ut.Right&&!E||w===Ut.Left&&!A,B=w===Ut.Down&&!I||w===Ut.Up&&!x;if(U&&O.x!==p.x){const $=S.scrollLeft+m.x,Q=w===Ut.Right&&$<=k.x||w===Ut.Left&&$>=j.x;if(Q&&!m.y){S.scrollTo({left:$,behavior:c});return}Q?y.x=S.scrollLeft-$:y.x=w===Ut.Right?S.scrollLeft-k.x:S.scrollLeft-j.x,y.x&&S.scrollBy({left:-y.x,behavior:c});break}else if(B&&O.y!==p.y){const $=S.scrollTop+m.y,Q=w===Ut.Down&&$<=k.y||w===Ut.Up&&$>=j.y;if(Q&&!m.x){S.scrollTo({top:$,behavior:c});return}Q?y.y=S.scrollTop-$:y.y=w===Ut.Down?S.scrollTop-k.y:S.scrollTop-j.y,y.y&&S.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(e,wc(Kg(p,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}UN.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=zN,onActivation:r}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(i.start.includes(o)){const c=s.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),r?.({event:t.nativeEvent}),!0)}return!1}}];function MR(t){return!!(t&&"distance"in t)}function NR(t){return!!(t&&"delay"in t)}class X_{constructor(e,n,i){var r;i===void 0&&(i=G7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=Vc(o),this.documentListeners=new fd(this.document),this.listeners=new fd(i),this.windowListeners=new fd(vi(o)),this.initialCoordinates=(r=Xg(s))!=null?r:Hr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(vr.Resize,this.handleCancel),this.windowListeners.add(vr.DragStart,kR),this.windowListeners.add(vr.VisibilityChange,this.handleCancel),this.windowListeners.add(vr.ContextMenu,kR),this.documentListeners.add(vr.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(NR(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(MR(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(vr.Click,W7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(vr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:r,props:s}=this,{onMove:o,options:{activationConstraint:c}}=s;if(!r)return;const u=(n=Xg(e))!=null?n:Hr,d=Kg(r,u);if(!i&&c){if(MR(c)){if(c.tolerance!=null&&ab(d,c.tolerance))return this.handleCancel();if(ab(d,c.distance))return this.handleStart()}if(NR(c)&&ab(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),o(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ut.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Q7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Z_ extends X_{constructor(e){const{event:n}=e,i=Vc(n.target);super(e,Q7,i)}}Z_.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const K7={move:{name:"mousemove"},end:{name:"mouseup"}};var _0;(function(t){t[t.RightClick=2]="RightClick"})(_0||(_0={}));class FN extends X_{constructor(e){super(e,K7,Vc(e.event.target))}}FN.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===_0.RightClick?!1:(i?.({event:n}),!0)}}];const ob={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class X7 extends X_{constructor(e){super(e,ob)}static setup(){return window.addEventListener(ob.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ob.move.name,e)};function e(){}}}X7.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:r}=n;return r.length>1?!1:(i?.({event:n}),!0)}}];var hd;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(hd||(hd={}));var Jg;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Jg||(Jg={}));function Z7(t){let{acceleration:e,activator:n=hd.Pointer,canScroll:i,draggingRect:r,enabled:s,interval:o=5,order:c=Jg.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:h,delta:p,threshold:m}=t;const y=eQ({delta:p,disabled:!s}),[_,S]=h7(),w=D.useRef({x:0,y:0}),x=D.useRef({x:0,y:0}),E=D.useMemo(()=>{switch(n){case hd.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case hd.DraggableRect:return r}},[n,r,u]),A=D.useRef(null),I=D.useCallback(()=>{const j=A.current;if(!j)return;const M=w.current.x*x.current.x,O=w.current.y*x.current.y;j.scrollBy(M,O)},[]),k=D.useMemo(()=>c===Jg.TreeOrder?[...d].reverse():d,[c,d]);D.useEffect(()=>{if(!s||!d.length||!E){S();return}for(const j of k){if(i?.(j)===!1)continue;const M=d.indexOf(j),O=h[M];if(!O)continue;const{direction:U,speed:B}=H7(j,O,E,e,m);for(const $ of["x","y"])y[$][U[$]]||(B[$]=0,U[$]=0);if(B.x>0||B.y>0){S(),A.current=j,_(I,o),w.current=B,x.current=U;return}}w.current={x:0,y:0},x.current={x:0,y:0},S()},[e,I,i,S,s,o,JSON.stringify(E),JSON.stringify(y),_,d,k,h,JSON.stringify(m)])}const J7={x:{[Vn.Backward]:!1,[Vn.Forward]:!1},y:{[Vn.Backward]:!1,[Vn.Forward]:!1}};function eQ(t){let{delta:e,disabled:n}=t;const i=Qg(e);return Zd(r=>{if(n||!i||!r)return J7;const s={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Vn.Backward]:r.x[Vn.Backward]||s.x===-1,[Vn.Forward]:r.x[Vn.Forward]||s.x===1},y:{[Vn.Backward]:r.y[Vn.Backward]||s.y===-1,[Vn.Forward]:r.y[Vn.Forward]||s.y===1}}},[n,e,i])}function tQ(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return Zd(r=>{var s;return e==null?null:(s=i??r)!=null?s:null},[i,e])}function nQ(t,e){return D.useMemo(()=>t.reduce((n,i)=>{const{sensor:r}=i,s=r.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,i)}));return[...n,...s]},[]),[t,e])}var kd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(kd||(kd={}));var S0;(function(t){t.Optimized="optimized"})(S0||(S0={}));const IR=new Map;function iQ(t,e){let{dragging:n,dependencies:i,config:r}=e;const[s,o]=D.useState(null),{frequency:c,measure:u,strategy:d}=r,h=D.useRef(t),p=w(),m=Dd(p),y=D.useCallback(function(x){x===void 0&&(x=[]),!m.current&&o(E=>E===null?x:E.concat(x.filter(A=>!E.includes(A))))},[m]),_=D.useRef(null),S=Zd(x=>{if(p&&!n)return IR;if(!x||x===IR||h.current!==t||s!=null){const E=new Map;for(let A of t){if(!A)continue;if(s&&s.length>0&&!s.includes(A.id)&&A.rect.current){E.set(A.id,A.rect.current);continue}const I=A.node.current,k=I?new K_(u(I),I):null;A.rect.current=k,k&&E.set(A.id,k)}return E}return x},[t,s,n,p,u]);return D.useEffect(()=>{h.current=t},[t]),D.useEffect(()=>{p||y()},[n,p]),D.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),D.useEffect(()=>{p||typeof c!="number"||_.current!==null||(_.current=setTimeout(()=>{y(),_.current=null},c))},[c,p,y,...i]),{droppableRects:S,measureDroppableContainers:y,measuringScheduled:s!=null};function w(){switch(d){case kd.Always:return!1;case kd.BeforeDragging:return n;default:return!n}}}function J_(t,e){return Zd(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function rQ(t,e){return J_(t,e)}function sQ(t){let{callback:e,disabled:n}=t;const i=Ip(e),r=D.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(i)},[i,n]);return D.useEffect(()=>()=>r?.disconnect(),[r]),r}function Pp(t){let{callback:e,disabled:n}=t;const i=Ip(e),r=D.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(i)},[n]);return D.useEffect(()=>()=>r?.disconnect(),[r]),r}function aQ(t){return new K_(Jd(t),t)}function jR(t,e,n){e===void 0&&(e=aQ);const[i,r]=D.useState(null);function s(){r(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const h=e(t);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const o=sQ({callback(u){if(t)for(const d of u){const{type:h,target:p}=d;if(h==="childList"&&p instanceof HTMLElement&&p.contains(t)){s();break}}}}),c=Pp({callback:s});return Ys(()=>{s(),t?(c?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),o?.disconnect())},[t]),i}function oQ(t){const e=J_(t);return DN(t,e)}const PR=[];function lQ(t){const e=D.useRef(t),n=Zd(i=>t?i&&i!==PR&&t&&e.current&&t.parentNode===e.current.parentNode?i:Q_(t):PR,[t]);return D.useEffect(()=>{e.current=t},[t]),n}function cQ(t){const[e,n]=D.useState(null),i=D.useRef(t),r=D.useCallback(s=>{const o=sb(s.target);o&&n(c=>c?(c.set(o,b0(o)),new Map(c)):null)},[]);return D.useEffect(()=>{const s=i.current;if(t!==s){o(s);const c=t.map(u=>{const d=sb(u);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,b0(d)]):null}).filter(u=>u!=null);n(c.length?new Map(c):null),i.current=t}return()=>{o(t),o(s)};function o(c){c.forEach(u=>{const d=sb(u);d?.removeEventListener("scroll",r)})}},[r,t]),D.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>wc(s,o),Hr):PN(t):Hr,[t,e])}function LR(t,e){e===void 0&&(e=[]);const n=D.useRef(null);return D.useEffect(()=>{n.current=null},e),D.useEffect(()=>{const i=t!==Hr;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?Kg(t,n.current):Hr}function uQ(t){D.useEffect(()=>{if(!Np)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function dQ(t,e){return D.useMemo(()=>t.reduce((n,i)=>{let{eventName:r,handler:s}=i;return n[r]=o=>{s(o,e)},n},{}),[t,e])}function HN(t){return D.useMemo(()=>t?L7(t):null,[t])}const zR=[];function fQ(t,e){e===void 0&&(e=Jd);const[n]=t,i=HN(n?vi(n):null),[r,s]=D.useState(zR);function o(){s(()=>t.length?t.map(u=>IN(u)?i:new K_(e(u),u)):zR)}const c=Pp({callback:o});return Ys(()=>{c?.disconnect(),o(),t.forEach(u=>c?.observe(u))},[t]),r}function BN(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Xd(e)?e:t}function hQ(t){let{measure:e}=t;const[n,i]=D.useState(null),r=D.useCallback(d=>{for(const{target:h}of d)if(Xd(h)){i(p=>{const m=e(h);return p?{...p,width:m.width,height:m.height}:m});break}},[e]),s=Pp({callback:r}),o=D.useCallback(d=>{const h=BN(d);s?.disconnect(),h&&s?.observe(h),i(h?e(h):null)},[e,s]),[c,u]=Yg(o);return D.useMemo(()=>({nodeRef:c,rect:n,setRef:u}),[n,c,u])}const gQ=[{sensor:Z_,options:{}},{sensor:UN,options:{}}],pQ={current:{}},yg={draggable:{measure:OR},droppable:{measure:OR,strategy:kd.WhileDragging,frequency:S0.Optimized},dragOverlay:{measure:Jd}};class gd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const mQ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new gd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:yg,measureDroppableContainers:Zg,windowRect:null,measuringScheduled:!1},VN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zg,draggableNodes:new Map,over:null,measureDroppableContainers:Zg},ef=D.createContext(VN),$N=D.createContext(mQ);function yQ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new gd}}}function vQ(t,e){switch(e.type){case Ln.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ln.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ln.DragEnd:case Ln.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ln.RegisterDroppable:{const{element:n}=e,{id:i}=n,r=new gd(t.droppable.containers);return r.set(i,n),{...t,droppable:{...t.droppable,containers:r}}}case Ln.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=e,s=t.droppable.containers.get(n);if(!s||i!==s.key)return t;const o=new gd(t.droppable.containers);return o.set(n,{...s,disabled:r}),{...t,droppable:{...t.droppable,containers:o}}}case Ln.UnregisterDroppable:{const{id:n,key:i}=e,r=t.droppable.containers.get(n);if(!r||i!==r.key)return t;const s=new gd(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function bQ(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:r}=D.useContext(ef),s=Qg(i),o=Qg(n?.id);return D.useEffect(()=>{if(!e&&!i&&s&&o!=null){if(!Y_(s)||document.activeElement===s.target)return;const c=r.get(o);if(!c)return;const{activatorNode:u,node:d}=c;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[u.current,d.current]){if(!h)continue;const p=m7(h);if(p){p.focus();break}}})}},[i,e,r,o,s]),null}function qN(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((r,s)=>s({transform:r,...i}),n):n}function _Q(t){return D.useMemo(()=>({draggable:{...yg.draggable,...t?.draggable},droppable:{...yg.droppable,...t?.droppable},dragOverlay:{...yg.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function SQ(t){let{activeNode:e,measure:n,initialRect:i,config:r=!0}=t;const s=D.useRef(!1),{x:o,y:c}=typeof r=="boolean"?{x:r,y:r}:r;Ys(()=>{if(!o&&!c||!e){s.current=!1;return}if(s.current||!i)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const h=n(d),p=DN(h,i);if(o||(p.x=0),c||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const m=kN(d);m&&m.scrollBy({top:p.y,left:p.x})}},[e,o,c,i,n])}const Lp=D.createContext({...Hr,scaleX:1,scaleY:1});var Oa;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Oa||(Oa={}));const wQ=D.memo(function(e){var n,i,r,s;let{id:o,accessibility:c,autoScroll:u=!0,children:d,sensors:h=gQ,collisionDetection:p=k7,measuring:m,modifiers:y,..._}=e;const S=D.useReducer(vQ,void 0,yQ),[w,x]=S,[E,A]=w7(),[I,k]=D.useState(Oa.Uninitialized),j=I===Oa.Initialized,{draggable:{active:M,nodes:O,translate:U},droppable:{containers:B}}=w,$=M!=null?O.get(M):null,Q=D.useRef({initial:null,translated:null}),ae=D.useMemo(()=>{var St;return M!=null?{id:M,data:(St=$?.data)!=null?St:pQ,rect:Q}:null},[M,$]),pe=D.useRef(null),[ve,F]=D.useState(null),[K,ue]=D.useState(null),re=Dd(_,Object.values(_)),me=jp("DndDescribedBy",o),R=D.useMemo(()=>B.getEnabled(),[B]),z=_Q(m),{droppableRects:q,measureDroppableContainers:J,measuringScheduled:fe}=iQ(R,{dragging:j,dependencies:[U.x,U.y],config:z.droppable}),ge=tQ(O,M),_e=D.useMemo(()=>K?Xg(K):null,[K]),Se=fi(),Oe=rQ(ge,z.draggable.measure);SQ({activeNode:M!=null?O.get(M):null,config:Se.layoutShiftCompensation,initialRect:Oe,measure:z.draggable.measure});const tt=jR(ge,z.draggable.measure,Oe),Jt=jR(ge?ge.parentElement:null),qt=D.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),bi=B.getNodeFor((n=qt.current.over)==null?void 0:n.id),Ee=hQ({measure:z.dragOverlay.measure}),He=(i=Ee.nodeRef.current)!=null?i:ge,nt=j?(r=Ee.rect)!=null?r:tt:null,Ht=!!(Ee.nodeRef.current&&Ee.rect),Sn=oQ(Ht?null:tt),Ye=HN(He?vi(He):null),P=lQ(j?bi??ge:null),G=fQ(P),X=qN(y,{transform:{x:U.x-Sn.x,y:U.y-Sn.y,scaleX:1,scaleY:1},activatorEvent:K,active:ae,activeNodeRect:tt,containerNodeRect:Jt,draggingNodeRect:nt,over:qt.current.over,overlayNodeRect:Ee.rect,scrollableAncestors:P,scrollableAncestorRects:G,windowRect:Ye}),Y=_e?wc(_e,U):null,te=cQ(P),oe=LR(te),ye=LR(te,[tt]),be=wc(X,oe),we=nt?I7(nt,X):null,ke=ae&&we?p({active:ae,collisionRect:we,droppableRects:q,droppableContainers:R,pointerCoordinates:Y}):null,Qe=D7(ke,"id"),[Ve,ut]=D.useState(null),it=Ht?X:wc(X,ye),Lt=M7(it,(s=Ve?.rect)!=null?s:null,tt),rt=D.useRef(null),Fe=D.useCallback((St,Bt)=>{let{sensor:Ce,options:Be}=Bt;if(pe.current==null)return;const dt=O.get(pe.current);if(!dt)return;const pt=St.nativeEvent,dn=new Ce({active:pe.current,activeNode:dt,event:pt,options:Be,context:qt,onAbort(Ke){if(!O.get(Ke))return;const{onDragAbort:Gt}=re.current,en={id:Ke};Gt?.(en),E({type:"onDragAbort",event:en})},onPending(Ke,wn,Gt,en){if(!O.get(Ke))return;const{onDragPending:Yn}=re.current,Zi={id:Ke,constraint:wn,initialCoordinates:Gt,offset:en};Yn?.(Zi),E({type:"onDragPending",event:Zi})},onStart(Ke){const wn=pe.current;if(wn==null)return;const Gt=O.get(wn);if(!Gt)return;const{onDragStart:en}=re.current,Xi={activatorEvent:pt,active:{id:wn,data:Gt.data,rect:Q}};Ls.unstable_batchedUpdates(()=>{en?.(Xi),k(Oa.Initializing),x({type:Ln.DragStart,initialCoordinates:Ke,active:wn}),E({type:"onDragStart",event:Xi}),F(rt.current),ue(pt)})},onMove(Ke){x({type:Ln.DragMove,coordinates:Ke})},onEnd:mt(Ln.DragEnd),onCancel:mt(Ln.DragCancel)});rt.current=dn;function mt(Ke){return async function(){const{active:Gt,collisions:en,over:Xi,scrollAdjustedTranslate:Yn}=qt.current;let Zi=null;if(Gt&&Yn){const{cancelDrop:Zs}=re.current;Zi={activatorEvent:pt,active:Gt,collisions:en,delta:Yn,over:Xi},Ke===Ln.DragEnd&&typeof Zs=="function"&&await Promise.resolve(Zs(Zi))&&(Ke=Ln.DragCancel)}pe.current=null,Ls.unstable_batchedUpdates(()=>{x({type:Ke}),k(Oa.Uninitialized),ut(null),F(null),ue(null),rt.current=null;const Zs=Ke===Ln.DragEnd?"onDragEnd":"onDragCancel";if(Zi){const Ji=re.current[Zs];Ji?.(Zi),E({type:Zs,event:Zi})}})}}},[O]),mn=D.useCallback((St,Bt)=>(Ce,Be)=>{const dt=Ce.nativeEvent,pt=O.get(Be);if(pe.current!==null||!pt||dt.dndKit||dt.defaultPrevented)return;const dn={active:pt};St(Ce,Bt.options,dn)===!0&&(dt.dndKit={capturedBy:Bt.sensor},pe.current=Be,Fe(Ce,Bt))},[O,Fe]),Je=nQ(h,mn);uQ(h),Ys(()=>{tt&&I===Oa.Initializing&&k(Oa.Initialized)},[tt,I]),D.useEffect(()=>{const{onDragMove:St}=re.current,{active:Bt,activatorEvent:Ce,collisions:Be,over:dt}=qt.current;if(!Bt||!Ce)return;const pt={active:Bt,activatorEvent:Ce,collisions:Be,delta:{x:be.x,y:be.y},over:dt};Ls.unstable_batchedUpdates(()=>{St?.(pt),E({type:"onDragMove",event:pt})})},[be.x,be.y]),D.useEffect(()=>{const{active:St,activatorEvent:Bt,collisions:Ce,droppableContainers:Be,scrollAdjustedTranslate:dt}=qt.current;if(!St||pe.current==null||!Bt||!dt)return;const{onDragOver:pt}=re.current,dn=Be.get(Qe),mt=dn&&dn.rect.current?{id:dn.id,rect:dn.rect.current,data:dn.data,disabled:dn.disabled}:null,Ke={active:St,activatorEvent:Bt,collisions:Ce,delta:{x:dt.x,y:dt.y},over:mt};Ls.unstable_batchedUpdates(()=>{ut(mt),pt?.(Ke),E({type:"onDragOver",event:Ke})})},[Qe]),Ys(()=>{qt.current={activatorEvent:K,active:ae,activeNode:ge,collisionRect:we,collisions:ke,droppableRects:q,draggableNodes:O,draggingNode:He,draggingNodeRect:nt,droppableContainers:B,over:Ve,scrollableAncestors:P,scrollAdjustedTranslate:be},Q.current={initial:nt,translated:we}},[ae,ge,ke,we,O,He,nt,q,B,Ve,P,be]),Z7({...Se,delta:U,draggingRect:we,pointerCoordinates:Y,scrollableAncestors:P,scrollableAncestorRects:G});const gt=D.useMemo(()=>({active:ae,activeNode:ge,activeNodeRect:tt,activatorEvent:K,collisions:ke,containerNodeRect:Jt,dragOverlay:Ee,draggableNodes:O,droppableContainers:B,droppableRects:q,over:Ve,measureDroppableContainers:J,scrollableAncestors:P,scrollableAncestorRects:G,measuringConfiguration:z,measuringScheduled:fe,windowRect:Ye}),[ae,ge,tt,K,ke,Jt,Ee,O,B,q,Ve,J,P,G,z,fe,Ye]),di=D.useMemo(()=>({activatorEvent:K,activators:Je,active:ae,activeNodeRect:tt,ariaDescribedById:{draggable:me},dispatch:x,draggableNodes:O,over:Ve,measureDroppableContainers:J}),[K,Je,ae,tt,x,me,O,Ve,J]);return ce.createElement(RN.Provider,{value:A},ce.createElement(ef.Provider,{value:di},ce.createElement($N.Provider,{value:gt},ce.createElement(Lp.Provider,{value:Lt},d)),ce.createElement(bQ,{disabled:c?.restoreFocus===!1})),ce.createElement(C7,{...c,hiddenTextDescribedById:me}));function fi(){const St=ve?.autoScrollEnabled===!1,Bt=typeof u=="object"?u.enabled===!1:u===!1,Ce=j&&!St&&!Bt;return typeof u=="object"?{...u,enabled:Ce}:{enabled:Ce}}}),xQ=D.createContext(null),UR="button",EQ="Draggable";function Dee(t){let{id:e,data:n,disabled:i=!1,attributes:r}=t;const s=jp(EQ),{activators:o,activatorEvent:c,active:u,activeNodeRect:d,ariaDescribedById:h,draggableNodes:p,over:m}=D.useContext(ef),{role:y=UR,roleDescription:_="draggable",tabIndex:S=0}=r??{},w=u?.id===e,x=D.useContext(w?Lp:xQ),[E,A]=Yg(),[I,k]=Yg(),j=dQ(o,e),M=Dd(n);Ys(()=>(p.set(e,{id:e,key:s,node:E,activatorNode:I,data:M}),()=>{const U=p.get(e);U&&U.key===s&&p.delete(e)}),[p,e]);const O=D.useMemo(()=>({role:y,tabIndex:S,"aria-disabled":i,"aria-pressed":w&&y===UR?!0:void 0,"aria-roledescription":_,"aria-describedby":h.draggable}),[i,y,S,w,_,h.draggable]);return{active:u,activatorEvent:c,activeNodeRect:d,attributes:O,isDragging:w,listeners:i?void 0:j,node:E,over:m,setNodeRef:A,setActivatorNodeRef:k,transform:x}}function CQ(){return D.useContext($N)}const TQ="Droppable",AQ={timeout:25};function Oee(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:r}=t;const s=jp(TQ),{active:o,dispatch:c,over:u,measureDroppableContainers:d}=D.useContext(ef),h=D.useRef({disabled:n}),p=D.useRef(!1),m=D.useRef(null),y=D.useRef(null),{disabled:_,updateMeasurementsFor:S,timeout:w}={...AQ,...r},x=Dd(S??i),E=D.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),y.current=null},w)},[w]),A=Pp({callback:E,disabled:_||!o}),I=D.useCallback((O,U)=>{A&&(U&&(A.unobserve(U),p.current=!1),O&&A.observe(O))},[A]),[k,j]=Yg(I),M=Dd(e);return D.useEffect(()=>{!A||!k.current||(A.disconnect(),p.current=!1,A.observe(k.current))},[k,A]),D.useEffect(()=>(c({type:Ln.RegisterDroppable,element:{id:i,key:s,disabled:n,node:k,rect:m,data:M}}),()=>c({type:Ln.UnregisterDroppable,key:s,id:i})),[i]),D.useEffect(()=>{n!==h.current.disabled&&(c({type:Ln.SetDroppableDisabled,id:i,key:s,disabled:n}),h.current.disabled=n)},[i,s,n,c]),{active:o,rect:m,isOver:u?.id===i,node:k,over:u,setNodeRef:j}}function RQ(t){let{animation:e,children:n}=t;const[i,r]=D.useState(null),[s,o]=D.useState(null),c=Qg(n);return!n&&!i&&c&&r(c),Ys(()=>{if(!s)return;const u=i?.key,d=i?.props.id;if(u==null||d==null){r(null);return}Promise.resolve(e(d,s)).then(()=>{r(null)})},[e,i,s]),ce.createElement(ce.Fragment,null,n,i?D.cloneElement(i,{ref:o}):null)}const DQ={x:0,y:0,scaleX:1,scaleY:1};function OQ(t){let{children:e}=t;return ce.createElement(ef.Provider,{value:VN},ce.createElement(Lp.Provider,{value:DQ},e))}const kQ={position:"fixed",touchAction:"none"},MQ=t=>Y_(t)?"transform 250ms ease":void 0,NQ=D.forwardRef((t,e)=>{let{as:n,activatorEvent:i,adjustScale:r,children:s,className:o,rect:c,style:u,transform:d,transition:h=MQ}=t;if(!c)return null;const p=r?d:{...d,scaleX:1,scaleY:1},m={...kQ,width:c.width,height:c.height,top:c.top,left:c.left,transform:Od.Transform.toString(p),transformOrigin:r&&i?A7(i,c):void 0,transition:typeof h=="function"?h(i):h,...u};return ce.createElement(n,{className:o,style:m,ref:e},s)}),IQ=t=>e=>{let{active:n,dragOverlay:i}=e;const r={},{styles:s,className:o}=t;if(s!=null&&s.active)for(const[c,u]of Object.entries(s.active))u!==void 0&&(r[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,u));if(s!=null&&s.dragOverlay)for(const[c,u]of Object.entries(s.dragOverlay))u!==void 0&&i.node.style.setProperty(c,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&i.node.classList.add(o.dragOverlay),function(){for(const[u,d]of Object.entries(r))n.node.style.setProperty(u,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},jQ=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Od.Transform.toString(e)},{transform:Od.Transform.toString(n)}]},PQ={duration:250,easing:"ease",keyframes:jQ,sideEffects:IQ({styles:{active:{opacity:"0"}}})};function LQ(t){let{config:e,draggableNodes:n,droppableContainers:i,measuringConfiguration:r}=t;return Ip((s,o)=>{if(e===null)return;const c=n.get(s);if(!c)return;const u=c.node.current;if(!u)return;const d=BN(o);if(!d)return;const{transform:h}=vi(o).getComputedStyle(o),p=ON(h);if(!p)return;const m=typeof e=="function"?e:zQ(e);return LN(u,r.draggable.measure),m({active:{id:s,data:c.data,node:u,rect:r.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:r.dragOverlay.measure(d)},droppableContainers:i,measuringConfiguration:r,transform:p})})}function zQ(t){const{duration:e,easing:n,sideEffects:i,keyframes:r}={...PQ,...t};return s=>{let{active:o,dragOverlay:c,transform:u,...d}=s;if(!e)return;const h={x:c.rect.left-o.rect.left,y:c.rect.top-o.rect.top},p={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/c.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/c.rect.height:1},m={x:u.x-h.x,y:u.y-h.y,...p},y=r({...d,active:o,dragOverlay:c,transform:{initial:u,final:m}}),[_]=y,S=y[y.length-1];if(JSON.stringify(_)===JSON.stringify(S))return;const w=i?.({active:o,dragOverlay:c,...d}),x=c.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(E=>{x.onfinish=()=>{w?.(),E()}})}}let FR=0;function UQ(t){return D.useMemo(()=>{if(t!=null)return FR++,FR},[t])}const FQ=ce.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:i,style:r,transition:s,modifiers:o,wrapperElement:c="div",className:u,zIndex:d=999}=t;const{activatorEvent:h,active:p,activeNodeRect:m,containerNodeRect:y,draggableNodes:_,droppableContainers:S,dragOverlay:w,over:x,measuringConfiguration:E,scrollableAncestors:A,scrollableAncestorRects:I,windowRect:k}=CQ(),j=D.useContext(Lp),M=UQ(p?.id),O=qN(o,{activatorEvent:h,active:p,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:w.rect,over:x,overlayNodeRect:w.rect,scrollableAncestors:A,scrollableAncestorRects:I,transform:j,windowRect:k}),U=J_(m),B=LQ({config:i,draggableNodes:_,droppableContainers:S,measuringConfiguration:E}),$=U?w.setRef:void 0;return ce.createElement(OQ,null,ce.createElement(RQ,{animation:B},p&&M?ce.createElement(NQ,{key:M,id:p.id,ref:$,as:c,activatorEvent:h,adjustScale:e,className:u,transition:s,rect:U,style:{zIndex:d,...r},transform:O},n):null))});function xo({label:t,options:e,selectedOptions:n,onSelectionChange:i,searchPlaceholder:r,id:s,width:o="200px"}){const[c,u]=D.useState(!1),[d,h]=D.useState(""),p=D.useRef(null);D.useEffect(()=>{const E=A=>{p.current&&!p.current.contains(A.target)&&u(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const m=e.filter(E=>E.toLowerCase().includes(d.toLowerCase())),y=m.length>0&&m.every(E=>n.includes(E)),_=E=>{if(E.preventDefault(),E.stopPropagation(),y){const A=n.filter(I=>!m.includes(I));i(A)}else{const A=[...new Set([...n,...m])];i(A)}},S=(E,A)=>{if(E.preventDefault(),E.stopPropagation(),n.includes(A)){const I=n.filter(k=>k!==A);i(I)}else{const I=[...n.filter(k=>k!==""),A];i(I)}},w=()=>{u(!0)},x=E=>{h(E.target.value)};return C.jsxs("div",{className:"relative",ref:p,style:{width:o},children:[C.jsxs("div",{className:"space-y-2",children:[C.jsxs(oi,{htmlFor:s,children:[t,":"]}),C.jsx($n,{type:"text",id:s,value:d,onChange:x,onFocus:w,placeholder:r})]}),c&&e.length>0&&C.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:[C.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 ${y?"bg-navy-50 text-navy-800":""}`,onMouseDown:_,children:C.jsx("div",{className:"text-xs font-bold",children:"Tutti"})}),m.map(E=>C.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 ${n.includes(E)?"bg-navy-50 text-navy-800":""}`,onMouseDown:A=>S(A,E),children:C.jsx("div",{className:"text-xs font-normal",children:E})},E))]})]})}const HQ=D.lazy(()=>Ur(()=>import("./TaskPoolDataTable-BPCFGYsl.js"),[])),BQ=D.lazy(()=>Ur(()=>import("./GanttChart-BdOeHohz.js"),[])),HR=()=>C.jsx("div",{className:"loading",children:"Caricamento componenti scheduler..."}),VQ=({schedulingLoading:t})=>{if(!t.isScheduling&&!t.isRescheduling&&!t.isShunting&&!t.isNavigating)return null;const e=()=>t.isScheduling?"Programmazione lavoro...":t.isRescheduling?"Riprogrammazione lavoro...":t.isShunting?"Risoluzione conflitti...":t.isNavigating?"Navigazione...":"Operazione in corso...";return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[C.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),C.jsx("span",{className:"text-gray-700 font-medium",children:e()})]})})},$Q=(t,e)=>{const n=document.querySelector(t);if(!n){Ia("Grafico Gantt non trovato. Assicurati che il grafico sia visibile sullo schermo.");return}const i=Array.from(document.styleSheets);let r="";i.forEach(m=>{try{Array.from(m.cssRules||m.rules||[]).forEach(_=>{r+=_.cssText+`
`})}catch{}});const s=n.cloneNode(!0),o=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Grafico Gantt - ${e}</title>
        <style>
          ${r}
          body { 
            margin: 0; 
            padding: 20px; 
            font-family: Arial, sans-serif;
          }
          .calendar-section {
            width: 100%;
            overflow-x: auto;
          }
        </style>
      </head>
      <body>
        <div style="text-align: center; margin-bottom: 20px; font-size: 12px; font-weight: bold;">
          Grafico Gantt - ${e}
        </div>
        <div class="calendar-section">
          ${s.outerHTML}
        </div>
      </body>
    </html>
  `,c=new Blob([o],{type:"text/html"}),u=window.URL.createObjectURL(c),d=document.createElement("a");d.href=u;const h=new Date().toISOString().split("T")[0],p=new Date().toISOString().split("T")[1].split(".")[0].replace(/:/g,"-");d.download=`grafico-gantt-${h}-${p}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u)};function qQ(){const{data:t=[],isLoading:e,error:n}=_p(),{data:i=[],isLoading:r,error:s}=bp(),{getOdpOrdersByWorkCenter:o,getScheduledOrders:c}=ln(),{selectedWorkCenter:u,isLoading:d,isInitialized:h,showAlert:p,isEditMode:m,toggleEditMode:y,showConflictDialog:_,schedulingLoading:S,setDragPreview:w,clearDragPreview:x,dragPreview:E}=At(),{scheduleTask:A,unscheduleTask:I,scheduleTaskFromSlot:k,rescheduleTaskToSlot:j,validateSlotAvailability:M}=is(),{init:O,cleanup:U}=Za(),B=Pi(),$=T7(DR(Z_,{activationConstraint:{distance:0}}),DR(FN,{activationConstraint:{distance:0}})),[Q,ae]=D.useState(()=>{const Y=new Date;return new Date(Date.UTC(Y.getUTCFullYear(),Y.getUTCMonth(),Y.getUTCDate()))}),[pe,ve]=D.useState(null),F=e||r||d,[K,ue]=D.useState(null),[re,me]=D.useState(""),[R,z]=D.useState(""),[q,J]=D.useState(""),fe={workCenter:[],department:[],machineType:[],machineName:[]};function ge(Y,te){switch(te.type){case"SET_FILTER":return{...Y,[te.payload.filterName]:te.payload.value};case"CLEAR_FILTERS":return fe;default:return Y}}const[_e,Se]=D.useReducer(ge,fe);D.useEffect(()=>(h||O(),()=>{U()}),[O,h,U]);const Oe=D.useMemo(()=>u?u==="BOTH"?t:t.filter(Y=>Y.work_center===u):[],[u,t]),tt=D.useMemo(()=>Oe.filter(te=>te.status==="SCHEDULED"),[Oe,u]),Jt=D.useMemo(()=>{if(performance.now(),!i||i.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let Y=i;u&&u!==_t.BOTH&&(Y=i.filter(it=>it.work_center===u));const te=Y.filter(it=>it.status===zs.ACTIVE);if(te.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const oe=new Set,ye=new Set,be=new Set,we=new Set;for(const it of te)it.work_center&&oe.add(it.work_center),it.department&&ye.add(it.department),it.machine_type&&be.add(it.machine_type),it.machine_name&&we.add(it.machine_name);const ke=Array.from(oe).sort(),Qe=Array.from(ye).sort(),Ve=Array.from(be).sort(),ut=Array.from(we).sort();return performance.now(),{activeMachines:te,workCenters:ke,departments:Qe,machineTypes:Ve,machineNames:ut}},[i,u]),qt=D.useMemo(()=>{const{activeMachines:Y}=Jt;let te=Y;return _e.workCenter.length>0&&(te=te.filter(oe=>_e.workCenter.includes(oe.work_center))),_e.department.length>0&&(te=te.filter(oe=>_e.department.includes(oe.department))),_e.machineType.length>0&&(te=te.filter(oe=>_e.machineType.includes(oe.machine_type))),_e.machineName.length>0&&(te=te.filter(oe=>_e.machineName.includes(oe.machine_name))),te},[Jt,_e]),bi=D.useCallback(async(Y,te="Daily")=>{const{startSchedulingOperation:oe,stopSchedulingOperation:ye}=At.getState();try{oe("navigate");let be;ae(we=>{if(Y==="today"){const ke=new Date,Qe=ke.getUTCFullYear(),Ve=ke.getUTCMonth(),ut=ke.getUTCDate();return be=new Date(Date.UTC(Qe,Ve,ut)),be}else if(Y==="prev"){if(te==="Weekly")return be=Qo(p3(we,1),{weekStartsOn:1}),be;{const ke=new Date(we);return ke.setUTCDate(ke.getUTCDate()-1),be=ke,be}}else if(Y==="next"){if(te==="Weekly")return be=Qo(ok(we,1),{weekStartsOn:1}),be;{const ke=new Date(we);return ke.setUTCDate(ke.getUTCDate()+1),be=ke,ke}}return be=we,we})}finally{ye()}},[]),Ee=D.useCallback(()=>{const Y=new Date,te=Y.getUTCFullYear(),oe=Y.getUTCMonth(),ye=Y.getUTCDate(),be=new Date(Date.UTC(te,oe,ye));return Q.getTime()===be.getTime()?"Oggi":Wn(Q,"yyyy-MM-dd")},[Q]),He=D.useCallback(()=>{Se({type:"CLEAR_FILTERS"})},[]),nt=D.useCallback((Y,te,oe)=>{if(!Y.trim())return;let ye=tt.find(be=>be[te]===Y.trim());if(ye||(ye=tt.find(be=>be[te]&&be[te].toLowerCase().includes(Y.trim().toLowerCase()))),!ye){p(`Lavoro non trovato per ${oe}: ${Y}`,"warning");return}Ht(ye,te,oe,Y)},[tt,i,p]),Ht=D.useCallback((Y,te,oe,ye)=>{const be=i.find(ke=>ke.id===Y.scheduled_machine_id);if(!be){p("Macchina non trovata per questo lavoro","error");return}if(Se({type:"SET_FILTER",payload:{filterName:"machineName",value:[be.machine_name]}}),Se({type:"SET_FILTER",payload:{filterName:"workCenter",value:[be.work_center]}}),Se({type:"SET_FILTER",payload:{filterName:"department",value:[be.department]}}),Se({type:"SET_FILTER",payload:{filterName:"machineType",value:[be.machine_type]}}),Y.scheduled_start_time){const ke=new Date(Y.scheduled_start_time),Qe=ke.getUTCFullYear(),Ve=ke.getUTCMonth(),ut=ke.getUTCDate();ae(new Date(Date.UTC(Qe,Ve,ut)))}te==="odp_number"?me(""):te==="article_code"?z(""):te==="nome_cliente"&&J("");const we=Y[te];p(`Lavoro trovato per ${oe} "${we}" su ${be.machine_name}`,"success")},[i,p,me,z,J,ae]),Sn=D.useRef(null),Ye=D.useRef(!1),P=D.useCallback(Y=>{const te=Y.active.data.current;te&&te.type==="task"?ve(te.task):te&&te.type==="event"&&ve(te.event)},[]),G=D.useCallback(Y=>{const{over:te}=Y;if(te&&te.data.current?.type==="slot"){const{machine:oe,hour:ye,minute:be,isUnavailable:we,hasScheduledTask:ke}=te.data.current;if(we||ke){ue(null),x();return}const Qe=`${oe.id}-${ye}-${be}`;if(ue(Qe),pe){const Ve=pe.time_remaining||pe.duration||1,ut=Math.ceil(Ve*4),it=(ye-6)*4+Math.floor(be/15);w({isActive:!0,startSlot:it,durationSlots:ut,machineId:oe.id})}}else te&&te.data.current?.type==="next-day"?(ue("next-day-drop-zone"),x()):te&&te.data.current?.type==="previous-day"?(ue("previous-day-drop-zone"),x()):(ue(null),x())},[pe,w,x]),X=D.useCallback(async Y=>{if(performance.now(),Sn.current&&clearTimeout(Sn.current),Ye.current)return;ve(null),ue(null),x();const{over:te,active:oe}=Y;if(!te)return;const ye=oe.data.current,be=te.data.current;if(!(!ye||!be)){Ye.current=!0;try{await new Promise(we=>{requestAnimationFrame(async()=>{const ke=performance.now();if(ye.type==="task"&&be.type==="slot"){const Qe=ye.task,{machine:Ve,hour:ut,minute:it,isUnavailable:Lt,hasScheduledTask:rt}=be;if(rt)return p("Impossibile pianificare il lavoro su uno slot temporale occupato","error"),we();const Fe=await k(Qe.id,Ve,Q,ut,it,null,B);Fe?.error?p(Fe.error,"error"):Fe?.conflict&&_(Fe)}else if(ye.type==="event"&&be.type==="slot"){const Qe=ye.event,{machine:Ve,hour:ut,minute:it,isUnavailable:Lt,hasScheduledTask:rt}=be;if(rt)return p("Impossibile riprogrammare il lavoro su uno slot temporale occupato","error"),we();const Fe=await j(Qe.id,Ve,Q,ut,it,B);Fe?.error?p(Fe.error,"error"):Fe?.conflict&&_(Fe)}else if(ye.type==="event"&&be.type==="pool"){const Qe=ye.event;I(Qe.id,B)}else(ye.type==="task"||ye.type==="event")&&be.type==="next-day"?p("Navigazione al giorno successivo completata","success"):(ye.type==="task"||ye.type==="event")&&be.type==="previous-day"&&p("Navigazione al giorno precedente completata","success");we()})})}catch{p("Si è verificato un errore durante l'operazione di trascinamento","error")}finally{Ye.current=!1}}},[Q,k,j,I,p,_]);return F?C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[C.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),C.jsx("span",{className:"text-gray-700 font-medium",children:"Caricamento Scheduler Produzione..."})]})}):n||s?C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[C.jsx("div",{className:"text-red-600 mb-4",children:C.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),C.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Errore nel caricamento dei dati"}),C.jsx("p",{className:"text-gray-600 mb-4",children:n?.message||s?.message||"Errore sconosciuto"}),C.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Riprova"})]})}):u?C.jsxs(C.Fragment,{children:[C.jsx(VQ,{schedulingLoading:S}),C.jsxs(wQ,{sensors:$,onDragStart:P,onDragOver:G,onDragEnd:X,children:[C.jsxs("div",{className:`content-section ${m?"edit-mode":""}`,children:[C.jsxs("div",{className:"task-pool-section",children:[C.jsxs("div",{className:"task-pool-header",children:[C.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Pool Lavori"}),C.jsx(Bo,{variant:m?"destructive":"default",size:"sm",onClick:y,title:m?"Disabilita modalità modifica":"Abilita modalità modifica",children:m?"Disabilita Modalità Modifica":"Abilita Modalità Modifica"})]}),C.jsx(D.Suspense,{fallback:C.jsx(HR,{}),children:C.jsx(HQ,{})})]}),C.jsxs("div",{className:"section-controls",children:[C.jsx("div",{className:"task-pool-header",children:C.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Filtri"})}),C.jsxs("div",{className:"filters-grid",children:[C.jsx("div",{className:"filters-actions-left",children:C.jsx(Bo,{variant:"secondary",size:"sm",onClick:He,title:"Clear all filters",children:"Cancella Filtri"})}),C.jsx(xo,{label:"ODP",options:tt.map(Y=>Y.odp_number).filter(Boolean),selectedOptions:re?[re]:[],onSelectionChange:Y=>{Y.length>0?(me(Y[0]),nt(Y[0],"odp_number","ODP")):me("")},searchPlaceholder:"Cerca ODP...",id:"odp_filter",width:"150px"}),C.jsx(xo,{label:"Codice Articolo",options:tt.map(Y=>Y.article_code).filter(Boolean),selectedOptions:R?[R]:[],onSelectionChange:Y=>{Y.length>0?(z(Y[0]),nt(Y[0],"article_code","codice articolo")):z("")},searchPlaceholder:"Cerca Articolo...",id:"article_filter",width:"150px"}),C.jsx(xo,{label:"Nome Cliente",options:tt.map(Y=>Y.nome_cliente).filter(Boolean),selectedOptions:q?[q]:[],onSelectionChange:Y=>{Y.length>0?(J(Y[0]),nt(Y[0],"nome_cliente","cliente")):J("")},searchPlaceholder:"Cerca Cliente...",id:"customer_filter",width:"150px"}),C.jsx(xo,{label:"Centro di Lavoro",options:Jt.workCenters,selectedOptions:_e.workCenter,onSelectionChange:Y=>Se({type:"SET_FILTER",payload:{filterName:"workCenter",value:Y}}),searchPlaceholder:"Cerca Centri di Lavoro",id:"work_center_filter",width:"150px"}),C.jsx(xo,{label:"Reparto",options:Jt.departments,selectedOptions:_e.department,onSelectionChange:Y=>Se({type:"SET_FILTER",payload:{filterName:"department",value:Y}}),searchPlaceholder:"Cerca Reparti",id:"department_filter",width:"150px"}),C.jsx(xo,{label:"Tipo Macchina",options:Jt.machineTypes,selectedOptions:_e.machineType,onSelectionChange:Y=>Se({type:"SET_FILTER",payload:{filterName:"machineType",value:Y}}),searchPlaceholder:"Cerca Tipi di Macchina",id:"machine_type_filter",width:"150px"}),C.jsx(xo,{label:"Nome Macchina",options:Jt.machineNames,selectedOptions:_e.machineName,onSelectionChange:Y=>Se({type:"SET_FILTER",payload:{filterName:"machineName",value:Y}}),searchPlaceholder:"Cerca Nomi Macchine",id:"machine_name_filter",width:"150px"}),C.jsx("div",{className:"filters-actions-right",children:C.jsx(Bo,{variant:"secondary",size:"sm",onClick:()=>$Q(".calendar-section .calendar-grid-container",Ee()),title:"Download exact Gantt chart as HTML file",children:"Scarica HTML"})})]})]}),C.jsxs("div",{className:"calendar-section relative",children:[C.jsx(D.Suspense,{fallback:C.jsx(HR,{}),children:C.jsx(BQ,{machines:qt,currentDate:Q,dropTargetId:K,dragPreview:E,onNavigateToNextDay:Y=>bi("next",Y),onNavigateToPreviousDay:Y=>bi("prev",Y)})}),(S.isScheduling||S.isRescheduling||S.isShunting||S.isNavigating)&&C.jsx("div",{className:"absolute inset-0 bg-white z-40"})]})]}),C.jsx(FQ,{children:pe?C.jsx("div",{style:{background:"#1e293b",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"400",zIndex:9999,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(3deg) scale(1.05)",border:"1px solid #2d3a4b",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",pointerEvents:"none",minHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",whiteSpace:"nowrap"},children:pe.odp_number}):null})]})]}):C.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:C.jsx("div",{className:"text-center py-1 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati dello scheduler."})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function tf(t){return t+.5|0}const za=(t,e,n)=>Math.max(Math.min(t,n),e);function Zu(t){return za(tf(t*2.55),0,255)}function Ba(t){return za(tf(t*255),0,255)}function Ps(t){return za(tf(t/2.55)/100,0,1)}function BR(t){return za(tf(t*100),0,100)}const pr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},w0=[..."0123456789ABCDEF"],GQ=t=>w0[t&15],WQ=t=>w0[(t&240)>>4]+w0[t&15],Gh=t=>(t&240)>>4===(t&15),YQ=t=>Gh(t.r)&&Gh(t.g)&&Gh(t.b)&&Gh(t.a);function QQ(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&pr[t[1]]*17,g:255&pr[t[2]]*17,b:255&pr[t[3]]*17,a:e===5?pr[t[4]]*17:255}:(e===7||e===9)&&(n={r:pr[t[1]]<<4|pr[t[2]],g:pr[t[3]]<<4|pr[t[4]],b:pr[t[5]]<<4|pr[t[6]],a:e===9?pr[t[7]]<<4|pr[t[8]]:255})),n}const KQ=(t,e)=>t<255?e(t):"";function XQ(t){var e=YQ(t)?GQ:WQ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+KQ(t.a,e):void 0}const ZQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GN(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function JQ(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function eK(t,e,n){const i=GN(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function tK(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function eS(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),c=(s+o)/2;let u,d,h;return s!==o&&(h=s-o,d=c>.5?h/(2-s-o):h/(s+o),u=tK(n,i,r,h,s),u=u*60+.5),[u|0,d||0,c]}function tS(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ba)}function nS(t,e,n){return tS(GN,t,e,n)}function nK(t,e,n){return tS(eK,t,e,n)}function iK(t,e,n){return tS(JQ,t,e,n)}function WN(t){return(t%360+360)%360}function rK(t){const e=ZQ.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Zu(+e[5]):Ba(+e[5]));const r=WN(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=nK(r,s,o):e[1]==="hsv"?i=iK(r,s,o):i=nS(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function sK(t,e){var n=eS(t);n[0]=WN(n[0]+e),n=nS(n),t.r=n[0],t.g=n[1],t.b=n[2]}function aK(t){if(!t)return;const e=eS(t),n=e[0],i=BR(e[1]),r=BR(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Ps(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const VR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$R={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oK(){const t={},e=Object.keys($R),n=Object.keys(VR);let i,r,s,o,c;for(i=0;i<e.length;i++){for(o=c=e[i],r=0;r<n.length;r++)s=n[r],c=c.replace(s,VR[s]);s=parseInt($R[o],16),t[c]=[s>>16&255,s>>8&255,s&255]}return t}let Wh;function lK(t){Wh||(Wh=oK(),Wh.transparent=[0,0,0,0]);const e=Wh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const cK=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uK(t){const e=cK.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Zu(o):za(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Zu(i):za(i,0,255)),r=255&(e[4]?Zu(r):za(r,0,255)),s=255&(e[6]?Zu(s):za(s,0,255)),{r:i,g:r,b:s,a:n}}}function dK(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ps(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const lb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,rc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function fK(t,e,n){const i=rc(Ps(t.r)),r=rc(Ps(t.g)),s=rc(Ps(t.b));return{r:Ba(lb(i+n*(rc(Ps(e.r))-i))),g:Ba(lb(r+n*(rc(Ps(e.g))-r))),b:Ba(lb(s+n*(rc(Ps(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Yh(t,e,n){if(t){let i=eS(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=nS(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function YN(t,e){return t&&Object.assign(e||{},t)}function qR(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ba(t[3]))):(e=YN(t,{r:0,g:0,b:0,a:1}),e.a=Ba(e.a)),e}function hK(t){return t.charAt(0)==="r"?uK(t):rK(t)}class Md{constructor(e){if(e instanceof Md)return e;const n=typeof e;let i;n==="object"?i=qR(e):n==="string"&&(i=QQ(e)||lK(e)||hK(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=YN(this._rgb);return e&&(e.a=Ps(e.a)),e}set rgb(e){this._rgb=qR(e)}rgbString(){return this._valid?dK(this._rgb):void 0}hexString(){return this._valid?XQ(this._rgb):void 0}hslString(){return this._valid?aK(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,c=2*o-1,u=i.a-r.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=fK(this._rgb,e._rgb,n)),this}clone(){return new Md(this.rgb)}alpha(e){return this._rgb.a=Ba(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=tf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Yh(this._rgb,2,e),this}darken(e){return Yh(this._rgb,2,-e),this}saturate(e){return Yh(this._rgb,1,e),this}desaturate(e){return Yh(this._rgb,1,-e),this}rotate(e){return sK(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Os(){}const gK=(()=>{let t=0;return()=>t++})();function $t(t){return t==null}function qn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Et(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function wr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Kr(t,e){return wr(t)?t:e}function ct(t,e){return typeof t>"u"?e:t}const pK=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,QN=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Kt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function kt(t,e,n,i){let r,s,o;if(qn(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(Et(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function ep(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function tp(t){if(qn(t))return t.map(tp);if(Et(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=tp(t[n[r]]);return e}return t}function KN(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mK(t,e,n,i){if(!KN(t))return;const r=e[t],s=n[t];Et(r)&&Et(s)?Nd(r,s,i):e[t]=tp(s)}function Nd(t,e,n){const i=qn(e)?e:[e],r=i.length;if(!Et(t))return t;n=n||{};const s=n.merger||mK;let o;for(let c=0;c<r;++c){if(o=i[c],!Et(o))continue;const u=Object.keys(o);for(let d=0,h=u.length;d<h;++d)s(u[d],t,o,n)}return t}function pd(t,e){return Nd(t,e,{merger:yK})}function yK(t,e,n){if(!KN(t))return;const i=e[t],r=n[t];Et(i)&&Et(r)?pd(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=tp(r))}const GR={"":t=>t,x:t=>t.x,y:t=>t.y};function vK(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function bK(t){const e=vK(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Id(t,e){return(GR[e]||(GR[e]=bK(e)))(t)}function iS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const np=t=>typeof t<"u",Ya=t=>typeof t=="function",WR=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function _K(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Mt=Math.PI,pn=2*Mt,SK=pn+Mt,ip=Number.POSITIVE_INFINITY,wK=Mt/180,Un=Mt/2,Eo=Mt/4,YR=Mt*2/3,XN=Math.log10,Oc=Math.sign;function md(t,e,n){return Math.abs(t-e)<n}function QR(t){const e=Math.round(t);t=md(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(XN(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function xK(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function EK(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function jd(t){return!EK(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function CK(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function TK(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Hs(t){return t*(Mt/180)}function AK(t){return t*(180/Mt)}function KR(t){if(!wr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ZN(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Mt&&(s+=pn),{angle:s,distance:r}}function x0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function RK(t,e){return(t-e+SK)%pn-Mt}function kr(t){return(t%pn+pn)%pn}function Pd(t,e,n,i){const r=kr(t),s=kr(e),o=kr(n),c=kr(s-r),u=kr(o-r),d=kr(r-s),h=kr(r-o);return r===s||r===o||i&&s===o||c>u&&d<h}function mi(t,e,n){return Math.max(e,Math.min(n,t))}function DK(t){return mi(t,-32768,32767)}function gc(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function rS(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Ho=(t,e,n,i)=>rS(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),OK=(t,e,n)=>rS(t,n,i=>t[i][e]>=n);function kK(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const JN=["push","pop","shift","splice","unshift"];function MK(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),JN.forEach(n=>{const i="_onData"+iS(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...s)}),o}})})}function XR(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(JN.forEach(s=>{delete t[s]}),delete t._chartjs)}function NK(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const eI=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function tI(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,eI.call(window,()=>{i=!1,t.apply(e,n)}))}}function IK(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const sS=t=>t==="start"?"left":t==="end"?"right":"center",ai=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,jK=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function PK(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:c,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=o.axis,{min:p,max:m,minDefined:y,maxDefined:_}=o.getUserBounds();if(y){if(r=Math.min(Ho(u,h,p).lo,n?i:Ho(e,h,o.getPixelForValue(p)).lo),d){const S=u.slice(0,r+1).reverse().findIndex(w=>!$t(w[c.axis]));r-=Math.max(0,S)}r=mi(r,0,i-1)}if(_){let S=Math.max(Ho(u,o.axis,m,!0).hi+1,n?0:Ho(e,h,o.getPixelForValue(m),!0).hi+1);if(d){const w=u.slice(S-1).findIndex(x=>!$t(x[c.axis]));S+=Math.max(0,w)}s=mi(S,r,i)-r}else s=i-r}return{start:r,count:s}}function LK(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Qh=t=>t===0||t===1,ZR=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*pn/n)),JR=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*pn/n)+1,yd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Un)+1,easeOutSine:t=>Math.sin(t*Un),easeInOutSine:t=>-.5*(Math.cos(Mt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Qh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Qh(t)?t:ZR(t,.075,.3),easeOutElastic:t=>Qh(t)?t:JR(t,.075,.3),easeInOutElastic(t){return Qh(t)?t:t<.5?.5*ZR(t*2,.1125,.45):.5+.5*JR(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-yd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?yd.easeInBounce(t*2)*.5:yd.easeOutBounce(t*2-1)*.5+.5};function aS(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function eD(t){return aS(t)?t:new Md(t)}function cb(t){return aS(t)?t:new Md(t).saturate(.5).darken(.1).hexString()}const zK=["x","y","borderWidth","radius","tension"],UK=["color","borderColor","backgroundColor"];function FK(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:UK},numbers:{type:"number",properties:zK}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function HK(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const tD=new Map;function BK(t,e){e=e||{};const n=t+JSON.stringify(e);let i=tD.get(n);return i||(i=new Intl.NumberFormat(t,e),tD.set(n,i)),i}function oS(t,e,n){return BK(e,n).format(t)}const VK={values(t){return qn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=$K(t,n)}const o=XN(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),oS(t,i,u)}};function $K(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var nI={formatters:VK};function qK(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Zo=Object.create(null),E0=Object.create(null);function vd(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function ub(t,e,n){return typeof e=="string"?Nd(vd(t,e),n):Nd(vd(t,""),e)}class GK{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>cb(r.backgroundColor),this.hoverBorderColor=(i,r)=>cb(r.borderColor),this.hoverColor=(i,r)=>cb(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ub(this,e,n)}get(e){return vd(this,e)}describe(e,n){return ub(E0,e,n)}override(e,n){return ub(Zo,e,n)}route(e,n,i,r){const s=vd(this,e),o=vd(this,i),c="_"+n;Object.defineProperties(s,{[c]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],d=o[r];return Et(u)?Object.assign({},d,u):ct(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var _n=new GK({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FK,HK,qK]);function WK(t){return!t||$t(t.size)||$t(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function nD(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Co(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function iD(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function C0(t,e,n,i){iI(t,e,n,i,null)}function iI(t,e,n,i,r){let s,o,c,u,d,h,p,m;const y=e.pointStyle,_=e.rotation,S=e.radius;let w=(_||0)*wK;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(w),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),y){default:r?t.ellipse(n,i,r/2,S,0,0,pn):t.arc(n,i,S,0,pn),t.closePath();break;case"triangle":h=r?r/2:S,t.moveTo(n+Math.sin(w)*h,i-Math.cos(w)*S),w+=YR,t.lineTo(n+Math.sin(w)*h,i-Math.cos(w)*S),w+=YR,t.lineTo(n+Math.sin(w)*h,i-Math.cos(w)*S),t.closePath();break;case"rectRounded":d=S*.516,u=S-d,o=Math.cos(w+Eo)*u,p=Math.cos(w+Eo)*(r?r/2-d:u),c=Math.sin(w+Eo)*u,m=Math.sin(w+Eo)*(r?r/2-d:u),t.arc(n-p,i-c,d,w-Mt,w-Un),t.arc(n+m,i-o,d,w-Un,w),t.arc(n+p,i+c,d,w,w+Un),t.arc(n-m,i+o,d,w+Un,w+Mt),t.closePath();break;case"rect":if(!_){u=Math.SQRT1_2*S,h=r?r/2:u,t.rect(n-h,i-u,2*h,2*u);break}w+=Eo;case"rectRot":p=Math.cos(w)*(r?r/2:S),o=Math.cos(w)*S,c=Math.sin(w)*S,m=Math.sin(w)*(r?r/2:S),t.moveTo(n-p,i-c),t.lineTo(n+m,i-o),t.lineTo(n+p,i+c),t.lineTo(n-m,i+o),t.closePath();break;case"crossRot":w+=Eo;case"cross":p=Math.cos(w)*(r?r/2:S),o=Math.cos(w)*S,c=Math.sin(w)*S,m=Math.sin(w)*(r?r/2:S),t.moveTo(n-p,i-c),t.lineTo(n+p,i+c),t.moveTo(n+m,i-o),t.lineTo(n-m,i+o);break;case"star":p=Math.cos(w)*(r?r/2:S),o=Math.cos(w)*S,c=Math.sin(w)*S,m=Math.sin(w)*(r?r/2:S),t.moveTo(n-p,i-c),t.lineTo(n+p,i+c),t.moveTo(n+m,i-o),t.lineTo(n-m,i+o),w+=Eo,p=Math.cos(w)*(r?r/2:S),o=Math.cos(w)*S,c=Math.sin(w)*S,m=Math.sin(w)*(r?r/2:S),t.moveTo(n-p,i-c),t.lineTo(n+p,i+c),t.moveTo(n+m,i-o),t.lineTo(n-m,i+o);break;case"line":o=r?r/2:Math.cos(w)*S,c=Math.sin(w)*S,t.moveTo(n-o,i-c),t.lineTo(n+o,i+c);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(w)*(r?r/2:S),i+Math.sin(w)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ld(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function lS(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function cS(t){t.restore()}function YK(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function QK(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function KK(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$t(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function XK(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,h=r.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(c,h),t.stroke()}}function ZK(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function zd(t,e,n,i,r,s={}){const o=qn(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=r.string,KK(t,s),u=0;u<o.length;++u)d=o[u],s.backdrop&&ZK(t,s.backdrop),c&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),$t(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,i,s.maxWidth)),t.fillText(d,n,i,s.maxWidth),XK(t,n,i,d,s),i+=Number(r.lineHeight);t.restore()}function T0(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Mt,Mt,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Mt,Un,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Un,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Un,!0),t.lineTo(n+o.topLeft,i)}const JK=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function tX(t,e){const n=(""+t).match(JK);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const nX=t=>+t||0;function uS(t,e){const n={},i=Et(e),r=i?Object.keys(e):e,s=Et(t)?i?o=>ct(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=nX(s(o));return n}function iX(t){return uS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function bd(t){return uS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xr(t){const e=iX(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ci(t,e){t=t||{},e=e||_n.font;let n=ct(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ct(t.style,e.style);i&&!(""+i).match(eX)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ct(t.family,e.family),lineHeight:tX(ct(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ct(t.weight,e.weight),string:""};return r.string=WK(r),r}function Kh(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function rX(t,e,n){const{min:i,max:r}=t,s=QN(e,(r-i)/2),o=(c,u)=>n&&c===0?0:c+u;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function cl(t,e){return Object.assign(Object.create(t),e)}function dS(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=oI("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>dS([c,...t],e,s,i)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return sI(c,u,()=>fX(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return sD(c).includes(u)},ownKeys(c){return sD(c)},set(c,u,d){const h=c._storage||(c._storage=r());return c[u]=h[u]=d,delete c._keys,!0}})}function kc(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:rI(t,i),setContext:s=>kc(t,s,n,i),override:s=>kc(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,c){return sI(s,o,()=>aX(s,o,c))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,c){return t[o]=c,delete s[o],!0}})}function rI(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Ya(n)?n:()=>n,isIndexable:Ya(i)?i:()=>i}}const sX=(t,e)=>t?t+iS(e):e,fS=(t,e)=>Et(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function sI(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function aX(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let c=i[e];return Ya(c)&&o.isScriptable(e)&&(c=oX(e,c,t,n)),qn(c)&&c.length&&(c=lX(e,c,t,o.isIndexable)),fS(e,c)&&(c=kc(c,r,s&&s[e],o)),c}function oX(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(s,o||i);return c.delete(t),fS(t,u)&&(u=hS(r._scopes,r,t,u)),u}function lX(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(Et(e[0])){const u=e,d=r._scopes.filter(h=>h!==u);e=[];for(const h of u){const p=hS(d,r,t,h);e.push(kc(p,s,o&&o[t],c))}}return e}function aI(t,e,n){return Ya(t)?t(e,n):t}const cX=(t,e)=>t===!0?e:typeof t=="string"?Id(e,t):void 0;function uX(t,e,n,i,r){for(const s of e){const o=cX(n,s);if(o){t.add(o);const c=aI(o._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function hS(t,e,n,i){const r=e._rootScopes,s=aI(e._fallback,n,i),o=[...t,...r],c=new Set;c.add(i);let u=rD(c,o,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=rD(c,o,s,u,i),u===null)?!1:dS(Array.from(c),[""],r,s,()=>dX(e,n,i))}function rD(t,e,n,i,r){for(;n;)n=uX(t,e,n,i,r);return n}function dX(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return qn(r)&&Et(n)?n:r||{}}function fX(t,e,n,i){let r;for(const s of e)if(r=oI(sX(s,t),n),typeof r<"u")return fS(t,r)?hS(n,i,t,r):r}function oI(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function sD(t){let e=t._keys;return e||(e=t._keys=hX(t._scopes)),e}function hX(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const gX=Number.EPSILON||1e-14,Mc=(t,e)=>e<t.length&&!t[e].skip&&t[e],lI=t=>t==="x"?"y":"x";function pX(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,c=x0(s,r),u=x0(o,s);let d=c/(c+u),h=u/(c+u);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const p=i*d,m=i*h;return{previous:{x:s.x-p*(o.x-r.x),y:s.y-p*(o.y-r.y)},next:{x:s.x+m*(o.x-r.x),y:s.y+m*(o.y-r.y)}}}function mX(t,e,n){const i=t.length;let r,s,o,c,u,d=Mc(t,0);for(let h=0;h<i-1;++h)if(u=d,d=Mc(t,h+1),!(!u||!d)){if(md(e[h],0,gX)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),n[h]=r*o*e[h],n[h+1]=s*o*e[h])}}function yX(t,e,n="x"){const i=lI(n),r=t.length;let s,o,c,u=Mc(t,0);for(let d=0;d<r;++d){if(o=c,c=u,u=Mc(t,d+1),!c)continue;const h=c[n],p=c[i];o&&(s=(h-o[n])/3,c[`cp1${n}`]=h-s,c[`cp1${i}`]=p-s*e[d]),u&&(s=(u[n]-h)/3,c[`cp2${n}`]=h+s,c[`cp2${i}`]=p+s*e[d])}}function vX(t,e="x"){const n=lI(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,c,u,d=Mc(t,0);for(o=0;o<i;++o)if(c=u,u=d,d=Mc(t,o+1),!!u){if(d){const h=d[e]-u[e];r[o]=h!==0?(d[n]-u[n])/h:0}s[o]=c?d?Oc(r[o-1])!==Oc(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}mX(t,r,s),yX(t,s,e)}function Xh(t,e,n){return Math.max(Math.min(t,n),e)}function bX(t,e){let n,i,r,s,o,c=Ld(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=c,c=n<i-1&&Ld(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Xh(r.cp1x,e.left,e.right),r.cp1y=Xh(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=Xh(r.cp2x,e.left,e.right),r.cp2y=Xh(r.cp2y,e.top,e.bottom)))}function _X(t,e,n,i,r){let s,o,c,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")vX(t,r);else{let d=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)c=t[s],u=pX(d,c,t[Math.min(s+1,o-(i?0:1))%o],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}e.capBezierPoints&&bX(t,n)}function gS(){return typeof window<"u"&&typeof document<"u"}function pS(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rp(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const zp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function SX(t,e){return zp(t).getPropertyValue(e)}const wX=["top","right","bottom","left"];function Go(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=wX[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const xX=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function EX(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,c,u;if(xX(r,s,t.target))c=r,u=s;else{const d=e.getBoundingClientRect();c=i.clientX-d.left,u=i.clientY-d.top,o=!0}return{x:c,y:u,box:o}}function ko(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=zp(n),s=r.boxSizing==="border-box",o=Go(r,"padding"),c=Go(r,"border","width"),{x:u,y:d,box:h}=EX(t,n),p=o.left+(h&&c.left),m=o.top+(h&&c.top);let{width:y,height:_}=e;return s&&(y-=o.width+c.width,_-=o.height+c.height),{x:Math.round((u-p)/y*n.width/i),y:Math.round((d-m)/_*n.height/i)}}function CX(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&pS(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),c=zp(s),u=Go(c,"border","width"),d=Go(c,"padding");e=o.width-d.width-u.width,n=o.height-d.height-u.height,i=rp(c.maxWidth,s,"clientWidth"),r=rp(c.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||ip,maxHeight:r||ip}}const Ua=t=>Math.round(t*10)/10;function TX(t,e,n,i){const r=zp(t),s=Go(r,"margin"),o=rp(r.maxWidth,t,"clientWidth")||ip,c=rp(r.maxHeight,t,"clientHeight")||ip,u=CX(t,e,n);let{width:d,height:h}=u;if(r.boxSizing==="content-box"){const m=Go(r,"border","width"),y=Go(r,"padding");d-=y.width+m.width,h-=y.height+m.height}return d=Math.max(0,d-s.width),h=Math.max(0,i?d/i:h-s.height),d=Ua(Math.min(d,o,u.maxWidth)),h=Ua(Math.min(h,c,u.maxHeight)),d&&!h&&(h=Ua(d/2)),(e!==void 0||n!==void 0)&&i&&u.height&&h>u.height&&(h=u.height,d=Ua(Math.floor(h*i))),{width:d,height:h}}function aD(t,e,n){const i=e||1,r=Ua(t.height*i),s=Ua(t.width*i);t.height=Ua(t.height),t.width=Ua(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const AX=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};gS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function oD(t,e){const n=SX(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Mo(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function RX(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function DX(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Mo(t,r,n),c=Mo(r,s,n),u=Mo(s,e,n),d=Mo(o,c,n),h=Mo(c,u,n);return Mo(d,h,n)}const OX=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},kX=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function xc(t,e,n){return t?OX(e,n):kX()}function cI(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function uI(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function dI(t){return t==="angle"?{between:Pd,compare:RK,normalize:kr}:{between:gc,compare:(e,n)=>e-n,normalize:e=>e}}function lD({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function MX(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:c}=dI(i),u=e.length;let{start:d,end:h,loop:p}=t,m,y;if(p){for(d+=u,h+=u,m=0,y=u;m<y&&o(c(e[d%u][i]),r,s);++m)d--,h--;d%=u,h%=u}return h<d&&(h+=u),{start:d,end:h,loop:p,style:t.style}}function NX(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:c,between:u,normalize:d}=dI(i),{start:h,end:p,loop:m,style:y}=MX(t,e,n),_=[];let S=!1,w=null,x,E,A;const I=()=>u(r,A,x)&&c(r,A)!==0,k=()=>c(s,x)===0||u(s,A,x),j=()=>S||I(),M=()=>!S||k();for(let O=h,U=h;O<=p;++O)E=e[O%o],!E.skip&&(x=d(E[i]),x!==A&&(S=u(x,r,s),w===null&&j()&&(w=c(x,r)===0?O:U),w!==null&&M()&&(_.push(lD({start:w,end:O,loop:m,count:o,style:y})),w=null),U=O,A=x));return w!==null&&_.push(lD({start:w,end:p,loop:m,count:o,style:y})),_}function IX(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=NX(i[r],t.points,e);s.length&&n.push(...s)}return n}function jX(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function PX(t,e,n,i){const r=t.length,s=[];let o=e,c=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%r];d.skip||d.stop?c.skip||(i=!1,s.push({start:e%r,end:(u-1)%r,loop:i}),e=o=d.stop?u:null):(o=u,c.skip&&(e=u)),c=d}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function LX(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:c}=jX(n,r,s,i);if(i===!0)return cD(t,[{start:o,end:c,loop:s}],n,e);const u=c<o?c+r:c,d=!!t._fullLoop&&o===0&&c===r-1;return cD(t,PX(n,o,u,d),n,e)}function cD(t,e,n,i){return!i||!i.setContext||!n?e:zX(t,e,n,i)}function zX(t,e,n,i){const r=t._chart.getContext(),s=uD(t.options),{_datasetIndex:o,options:{spanGaps:c}}=t,u=n.length,d=[];let h=s,p=e[0].start,m=p;function y(_,S,w,x){const E=c?-1:1;if(_!==S){for(_+=u;n[_%u].skip;)_-=E;for(;n[S%u].skip;)S+=E;_%u!==S%u&&(d.push({start:_%u,end:S%u,loop:w,style:x}),h=x,p=S%u)}}for(const _ of e){p=c?p:_.start;let S=n[p%u],w;for(m=p+1;m<=_.end;m++){const x=n[m%u];w=uD(i.setContext(cl(r,{type:"segment",p0:S,p1:x,p0DataIndex:(m-1)%u,p1DataIndex:m%u,datasetIndex:o}))),UX(w,h)&&y(p,m-1,_.loop,h),S=x,h=w}p<m-1&&y(p,m-1,_.loop,h)}return d}function uD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function UX(t,e){if(!e)return!1;const n=[],i=function(r,s){return aS(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Zh(t,e,n){return t.options.clip?t[n]:e[n]}function FX(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Zh(n,e,"left"),right:Zh(n,e,"right"),top:Zh(i,e,"top"),bottom:Zh(i,e,"bottom")}:e}function HX(t,e){const n=e._clip;if(n.disabled)return!1;const i=FX(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class BX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(c=>c({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=eI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,c=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ks=new BX;const dD="transparent",VX={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=eD(t||dD),r=i.valid&&eD(e||dD);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class $X{constructor(e,n,i,r){const s=n[i];r=Kh([e.to,r,s,e.from]);const o=Kh([e.from,s,r]);this._active=!0,this._fn=e.fn||VX[e.type||typeof o],this._easing=yd[e.easing]||yd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Kh([e.to,n,r,e.from]),this._from=Kh([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let u;if(this._active=s!==c&&(o||n<i),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class fI{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Et(e))return;const n=Object.keys(_n.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Et(s))return;const o={};for(const c of n)o[c]=s[c];(qn(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(e,n){const i=n.options,r=GX(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&qX(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const d=o[u];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[d];let p=s[d];const m=i.get(d);if(p)if(m&&p.active()){p.update(m,h,c);continue}else p.cancel();if(!m||!m.duration){e[d]=h;continue}s[d]=p=new $X(m,e,d,h),r.push(p)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ks.add(this._chart,i),!0}}function qX(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function GX(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function fD(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function WX(t,e,n){if(n===!1)return!1;const i=fD(t,n),r=fD(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function YX(t){let e,n,i,r;return Et(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function hI(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function hD(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,c,u,d;if(e===null)return;let h=!1;for(o=0,c=r.length;o<c;++o){if(u=+r[o],u===n){if(h=!0,i.all)continue;break}d=t.values[u],wr(d)&&(s||e===0||Oc(e)===Oc(d))&&(e+=d)}return!h&&!i.all?0:e}function QX(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let u,d,h;for(u=0,d=o.length;u<d;++u)h=o[u],c[u]={[r]:h,[s]:t[h]};return c}function db(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function KX(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function XX(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function ZX(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function gD(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function pD(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:c}=i,u=s.axis,d=o.axis,h=KX(s,o,i),p=e.length;let m;for(let y=0;y<p;++y){const _=e[y],{[u]:S,[d]:w}=_,x=_._stacks||(_._stacks={});m=x[d]=ZX(r,h,S),m[c]=w,m._top=gD(m,o,!0,i.type),m._bottom=gD(m,o,!1,i.type);const E=m._visualValues||(m._visualValues={});E[c]=w}}function fb(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function JX(t,e){return cl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function eZ(t,e,n){return cl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function qu(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const hb=t=>t==="reset"||t==="none",mD=(t,e)=>e?t:Object.assign({},t),tZ=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:hI(n,!0),values:null};class mS{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=db(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(p,m,y,_)=>p==="x"?m:p==="r"?_:y,s=n.xAxisID=ct(i.xAxisID,fb(e,"x")),o=n.yAxisID=ct(i.yAxisID,fb(e,"y")),c=n.rAxisID=ct(i.rAxisID,fb(e,"r")),u=n.indexAxis,d=n.iAxisID=r(u,s,o,c),h=n.vAxisID=r(u,o,s,c);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&XR(this._data,this),e._stacked&&qu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Et(n)){const r=this._cachedMeta;this._data=QX(n,r)}else if(i!==n){if(i){XR(i,this);const r=this._cachedMeta;qu(r),r._parsed=[]}n&&Object.isExtensible(n)&&MK(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=db(n.vScale,n),n.stack!==i.stack&&(r=!0,qu(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(pD(this,n._parsed),n._stacked=db(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,c=s.axis;let u=e===0&&n===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],h,p,m;if(this._parsing===!1)i._parsed=r,i._sorted=!0,m=r;else{qn(r[e])?m=this.parseArrayData(i,r,e,n):Et(r[e])?m=this.parseObjectData(i,r,e,n):m=this.parsePrimitiveData(i,r,e,n);const y=()=>p[c]===null||d&&p[c]<d[c];for(h=0;h<n;++h)i._parsed[h+e]=p=m[h],u&&(y()&&(u=!1),d=p);i._sorted=u}o&&pD(this,m)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,c=s.axis,u=o.axis,d=s.getLabels(),h=s===o,p=new Array(r);let m,y,_;for(m=0,y=r;m<y;++m)_=m+i,p[m]={[c]:h||s.parse(d[_],_),[u]:o.parse(n[_],_)};return p}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,c=new Array(r);let u,d,h,p;for(u=0,d=r;u<d;++u)h=u+i,p=n[h],c[u]={x:s.parse(p[0],h),y:o.parse(p[1],h)};return c}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(r);let h,p,m,y;for(h=0,p=r;h<p;++h)m=h+i,y=n[m],d[h]={x:s.parse(Id(y,c),m),y:o.parse(Id(y,u),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],c={keys:hI(r,!0),values:n._stacks[e.axis]._visualValues};return hD(c,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const c=r&&i._stacks[n.axis];r&&c&&(r.values=c,o=hD(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,c=this._getOtherScale(e),u=tZ(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=XX(c);let m,y;function _(){y=r[m];const S=y[c.axis];return!wr(y[e.axis])||h>S||p<S}for(m=0;m<o&&!(!_()&&(this.updateRangeFromParsed(d,e,y,u),s));++m);if(s){for(m=o-1;m>=0;--m)if(!_()){this.updateRangeFromParsed(d,e,y,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],wr(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=YX(ct(this.options.clip,WX(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||r.length-c,d=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,c,u),h=c;h<c+u;++h){const p=r[h];p.hidden||(p.active&&d?o.push(p):p.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=eZ(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=JX(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,c=s[o],u=this.enableOptionSharing&&np(i);if(c)return mD(c,u);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),p=r?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),h),y=Object.keys(_n.elements[e]),_=()=>this.getContext(i,r,n),S=d.resolveNamedOptions(m,y,_,p);return S.$shared&&(S.$shared=u,s[o]=Object.freeze(mD(S,u))),S}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,c=s[o];if(c)return c;let u;if(r.options.animation!==!1){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,n),m=h.getOptionScopes(this.getDataset(),p);u=h.createResolver(m,this.getContext(e,i,n))}const d=new fI(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||hb(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){hb(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!hb(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let c;const u=d=>{for(d.length+=n,c=d.length-1;c>=o;c--)d[c]=d[c-n]};for(u(s),c=e;c<o;++c)s[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&qu(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function nZ(t,e,n){let i=1,r=1,s=0,o=0;if(e<pn){const c=t,u=c+e,d=Math.cos(c),h=Math.sin(c),p=Math.cos(u),m=Math.sin(u),y=(A,I,k)=>Pd(A,c,u,!0)?1:Math.max(I,I*n,k,k*n),_=(A,I,k)=>Pd(A,c,u,!0)?-1:Math.min(I,I*n,k,k*n),S=y(0,d,p),w=y(Un,h,m),x=_(Mt,d,p),E=_(Mt+Un,h,m);i=(S-x)/2,r=(w-E)/2,s=-(S+x)/2,o=-(w+E)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class iZ extends mS{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const p=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:p.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:r,pointStyle:i,borderRadius:o&&(c||p.borderRadius),index:d}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(Et(i[e])){const{key:u="value"}=this._parsing;s=d=>+Id(i[d],u)}let o,c;for(o=e,c=e+n;o<c;++o)r._parsed[o]=s(o)}}_getRotation(){return Hs(this.options.rotation-90)}_getCircumference(){return Hs(this.options.circumference)}_getRotationExtents(){let e=pn,n=-pn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(pK(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:m,ratioY:y,offsetX:_,offsetY:S}=nZ(p,h,u),w=(i.width-o)/m,x=(i.height-o)/y,E=Math.max(Math.min(w,x)/2,0),A=QN(this.options.radius,E),I=Math.max(A*u,0),k=(A-I)/this._getVisibleDatasetWeightTotal();this.offsetX=_*A,this.offsetY=S*A,r.total=this.calculateTotal(),this.outerRadius=A-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/pn)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,h=(c.left+c.right)/2,p=(c.top+c.bottom)/2,m=s&&d.animateScale,y=m?0:this.innerRadius,_=m?0:this.outerRadius,{sharedOptions:S,includeOptions:w}=this._getSharedOptions(n,r);let x=this._getRotation(),E;for(E=0;E<n;++E)x+=this._circumference(E,s);for(E=n;E<n+i;++E){const A=this._circumference(E,s),I=e[E],k={x:h+this.offsetX,y:p+this.offsetY,startAngle:x,endAngle:x+A,circumference:A,outerRadius:_,innerRadius:y};w&&(k.options=S||this.resolveDataElementOptions(E,I.active?"active":r)),x+=A,this.updateElement(I,E,k,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?pn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=oS(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,c,u;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,c=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(ct(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class rZ extends mS{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:c,count:u}=PK(n,r,o);this._drawStart=c,this._drawCount=u,LK(n)&&(c=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:d},e),this.updateElements(r,c,u,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,r),m=o.axis,y=c.axis,{spanGaps:_,segment:S}=this.options,w=jd(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",E=n+i,A=e.length;let I=n>0&&this.getParsed(n-1);for(let k=0;k<A;++k){const j=e[k],M=x?j:{};if(k<n||k>=E){M.skip=!0;continue}const O=this.getParsed(k),U=$t(O[y]),B=M[m]=o.getPixelForValue(O[m],k),$=M[y]=s||U?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,O,u):O[y],k);M.skip=isNaN(B)||isNaN($)||U,M.stop=k>0&&Math.abs(O[m]-I[m])>w,S&&(M.parsed=O,M.raw=d.data[k]),p&&(M.options=h||this.resolveDataElementOptions(k,j.active?"active":r)),x||this.updateElement(j,k,M,r),I=O}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class sZ extends iZ{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function To(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yS{static override(e){Object.assign(yS.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return To()}parse(){return To()}format(){return To()}add(){return To()}diff(){return To()}startOf(){return To()}endOf(){return To()}}var aZ={_date:yS};function oZ(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,c=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&s.length){const d=c._reversePixels?OK:Ho;if(i){if(r._sharedOptions){const h=s[0],p=typeof h.getRange=="function"&&h.getRange(e);if(p){const m=d(s,e,n-p),y=d(s,e,n+p);return{lo:m.lo,hi:y.hi}}}}else{const h=d(s,e,n);if(u){const{vScale:p}=r._cachedMeta,{_parsed:m}=t,y=m.slice(0,h.lo+1).reverse().findIndex(S=>!$t(S[p.axis]));h.lo-=Math.max(0,y);const _=m.slice(h.hi).findIndex(S=>!$t(S[p.axis]));h.hi+=Math.max(0,_)}return h}}return{lo:0,hi:s.length-1}}function Up(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let c=0,u=s.length;c<u;++c){const{index:d,data:h}=s[c],{lo:p,hi:m}=oZ(s[c],e,o,r);for(let y=p;y<=m;++y){const _=h[y];_.skip||i(_,d,y)}}}function lZ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function gb(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Up(t,n,e,function(c,u,d){!r&&!Ld(c,t.chartArea,0)||c.inRange(e.x,e.y,i)&&s.push({element:c,datasetIndex:u,index:d})},!0),s}function cZ(t,e,n,i){let r=[];function s(o,c,u){const{startAngle:d,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:p}=ZN(o,{x:e.x,y:e.y});Pd(p,d,h)&&r.push({element:o,datasetIndex:c,index:u})}return Up(t,n,e,s),r}function uZ(t,e,n,i,r,s){let o=[];const c=lZ(n);let u=Number.POSITIVE_INFINITY;function d(h,p,m){const y=h.inRange(e.x,e.y,r);if(i&&!y)return;const _=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(_))&&!y)return;const w=c(e,_);w<u?(o=[{element:h,datasetIndex:p,index:m}],u=w):w===u&&o.push({element:h,datasetIndex:p,index:m})}return Up(t,n,e,d),o}function pb(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?cZ(t,e,n,r):uZ(t,e,n,i,r,s)}function yD(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let c=!1;return Up(t,n,e,(u,d,h)=>{u[o]&&u[o](e[n],r)&&(s.push({element:u,datasetIndex:d,index:h}),c=c||u.inRange(e.x,e.y,r))}),i&&!c?[]:s}var dZ={modes:{index(t,e,n,i){const r=ko(e,t),s=n.axis||"x",o=n.includeInvisible||!1,c=n.intersect?gb(t,r,s,i,o):pb(t,r,s,!1,i,o),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=c[0].index,p=d.data[h];p&&!p.skip&&u.push({element:p,datasetIndex:d.index,index:h})}),u):[]},dataset(t,e,n,i){const r=ko(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let c=n.intersect?gb(t,r,s,i,o):pb(t,r,s,!1,i,o);if(c.length>0){const u=c[0].datasetIndex,d=t.getDatasetMeta(u).data;c=[];for(let h=0;h<d.length;++h)c.push({element:d[h],datasetIndex:u,index:h})}return c},point(t,e,n,i){const r=ko(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return gb(t,r,s,i,o)},nearest(t,e,n,i){const r=ko(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return pb(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=ko(e,t);return yD(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=ko(e,t);return yD(t,r,"y",n.intersect,i)}}};const gI=["left","top","right","bottom"];function Gu(t,e){return t.filter(n=>n.pos===e)}function vD(t,e){return t.filter(n=>gI.indexOf(n.pos)===-1&&n.box.axis===e)}function Wu(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function fZ(t){const e=[];let n,i,r,s,o,c;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:c=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return e}function hZ(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!gI.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function gZ(t,e){const n=hZ(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,c;for(s=0,o=t.length;s<o;++s){c=t[s];const{fullSize:u}=c.box,d=n[c.stack],h=d&&c.stackWeight/d.weight;c.horizontal?(c.width=h?h*i:u&&e.availableWidth,c.height=r):(c.width=i,c.height=h?h*r:u&&e.availableHeight)}return n}function pZ(t){const e=fZ(t),n=Wu(e.filter(d=>d.box.fullSize),!0),i=Wu(Gu(e,"left"),!0),r=Wu(Gu(e,"right")),s=Wu(Gu(e,"top"),!0),o=Wu(Gu(e,"bottom")),c=vD(e,"x"),u=vD(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(o).concat(c),chartArea:Gu(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(o).concat(c)}}function bD(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function pI(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mZ(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!Et(r)){n.size&&(t[r]-=n.size);const p=i[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,t[r]+=n.size}s.getPadding&&pI(o,s.getPadding());const c=Math.max(0,e.outerWidth-bD(o,t,"left","right")),u=Math.max(0,e.outerHeight-bD(o,t,"top","bottom")),d=c!==t.w,h=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:d,other:h}:{same:h,other:d}}function yZ(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function vZ(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Ju(t,e,n,i){const r=[];let s,o,c,u,d,h;for(s=0,o=t.length,d=0;s<o;++s){c=t[s],u=c.box,u.update(c.width||e.w,c.height||e.h,vZ(c.horizontal,e));const{same:p,other:m}=mZ(e,n,c,i);d|=p&&r.length,h=h||m,u.fullSize||r.push(c)}return d&&Ju(r,e,n,i)||h}function Jh(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function _D(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const c of t){const u=c.box,d=i[c.stack]||{placed:0,weight:1},h=c.stackWeight/d.weight||1;if(c.horizontal){const p=e.w*h,m=d.size||u.height;np(d.start)&&(o=d.start),u.fullSize?Jh(u,r.left,o,n.outerWidth-r.right-r.left,m):Jh(u,e.left+d.placed,o,p,m),d.start=o,d.placed+=p,o=u.bottom}else{const p=e.h*h,m=d.size||u.width;np(d.start)&&(s=d.start),u.fullSize?Jh(u,s,r.top,m,n.outerHeight-r.bottom-r.top):Jh(u,s,e.top+d.placed,m,p),d.start=s,d.placed+=p,s=u.right}}e.x=s,e.y=o}var _r={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=xr(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),c=pZ(t.boxes),u=c.vertical,d=c.horizontal;kt(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const h=u.reduce((S,w)=>w.box.options&&w.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),m=Object.assign({},r);pI(m,xr(i));const y=Object.assign({maxPadding:m,w:s,h:o,x:r.left,y:r.top},r),_=gZ(u.concat(d),p);Ju(c.fullSize,y,p,_),Ju(u,y,p,_),Ju(d,y,p,_)&&Ju(u,y,p,_),yZ(y),_D(c.leftAndTop,y,p,_),y.x+=y.w,y.y+=y.h,_D(c.rightAndBottom,y,p,_),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},kt(c.chartArea,S=>{const w=S.box;Object.assign(w,t.chartArea),w.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class mI{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class bZ extends mI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const vg="$chartjs",_Z={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SD=t=>t===null||t==="";function SZ(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[vg]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",SD(r)){const s=oD(t,"width");s!==void 0&&(t.width=s)}if(SD(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=oD(t,"height");s!==void 0&&(t.height=s)}return t}const yI=AX?{passive:!0}:!1;function wZ(t,e,n){t&&t.addEventListener(e,n,yI)}function xZ(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,yI)}function EZ(t,e){const n=_Z[t.type]||t.type,{x:i,y:r}=ko(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function sp(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function CZ(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||sp(c.addedNodes,i),o=o&&!sp(c.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function TZ(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||sp(c.removedNodes,i),o=o&&!sp(c.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ud=new Map;let wD=0;function vI(){const t=window.devicePixelRatio;t!==wD&&(wD=t,Ud.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function AZ(t,e){Ud.size||window.addEventListener("resize",vI),Ud.set(t,e)}function RZ(t){Ud.delete(t),Ud.size||window.removeEventListener("resize",vI)}function DZ(t,e,n){const i=t.canvas,r=i&&pS(i);if(!r)return;const s=tI((c,u)=>{const d=r.clientWidth;n(c,u),d<r.clientWidth&&n()},window),o=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,h=u.contentRect.height;d===0&&h===0||s(d,h)});return o.observe(r),AZ(t,s),o}function mb(t,e,n){n&&n.disconnect(),e==="resize"&&RZ(t)}function OZ(t,e,n){const i=t.canvas,r=tI(s=>{t.ctx!==null&&n(EZ(s,t))},t);return wZ(i,e,r),r}class kZ extends mI{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(SZ(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[vg])return!1;const i=n[vg].initial;["height","width"].forEach(s=>{const o=i[s];$t(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[vg],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:CZ,detach:TZ,resize:DZ}[n]||OZ;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:mb,detach:mb,resize:mb}[n]||xZ)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return TX(e,n,i,r)}isAttached(e){const n=e&&pS(e);return!!(n&&n.isConnected)}}function MZ(t){return!gS()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?bZ:kZ}class no{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return jd(this.x)&&jd(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function NZ(t,e){const n=t.options.ticks,i=IZ(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?PZ(e):[],o=s.length,c=s[0],u=s[o-1],d=[];if(o>r)return LZ(e,d,s,o/r),d;const h=jZ(s,e,r);if(o>0){let p,m;const y=o>1?Math.round((u-c)/(o-1)):null;for(eg(e,d,h,$t(y)?0:c-y,c),p=0,m=o-1;p<m;p++)eg(e,d,h,s[p],s[p+1]);return eg(e,d,h,u,$t(y)?e.length:u+y),d}return eg(e,d,h),d}function IZ(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function jZ(t,e,n){const i=zZ(t),r=e.length/n;if(!i)return Math.max(r,1);const s=xK(i);for(let o=0,c=s.length-1;o<c;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function PZ(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function LZ(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function eg(t,e,n,i,r){const s=ct(i,0),o=Math.min(ct(r,t.length),t.length);let c=0,u,d,h;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),h=s;h<0;)c++,h=Math.round(s+c*n);for(d=Math.max(s,0);d<o;d++)d===h&&(e.push(t[d]),c++,h=Math.round(s+c*n))}function zZ(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const UZ=t=>t==="left"?"right":t==="right"?"left":t,xD=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,ED=(t,e)=>Math.min(e||t,t);function CD(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function FZ(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,c=1e-6;let u=t.getPixelForTick(r),d;if(!(n&&(i===1?d=Math.max(u-s,o-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(r-1))/2,u+=r<e?d:-d,u<s-c||u>o+c)))return u}function HZ(t,e){kt(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Yu(t){return t.drawTicks?t.tickLength:0}function TD(t,e){if(!t.display)return 0;const n=ci(t.font,e),i=xr(t.padding);return(qn(t.text)?t.text.length:1)*n.lineHeight+i.height}function BZ(t,e){return cl(t,{scale:e,type:"scale"})}function VZ(t,e,n){return cl(t,{tick:n,index:e,type:"tick"})}function $Z(t,e,n){let i=sS(t);return(n&&e!=="right"||!n&&e==="right")&&(i=UZ(i)),i}function qZ(t,e,n,i){const{top:r,left:s,bottom:o,right:c,chart:u}=t,{chartArea:d,scales:h}=u;let p=0,m,y,_;const S=o-r,w=c-s;if(t.isHorizontal()){if(y=ai(i,s,c),Et(n)){const x=Object.keys(n)[0],E=n[x];_=h[x].getPixelForValue(E)+S-e}else n==="center"?_=(d.bottom+d.top)/2+S-e:_=xD(t,n,e);m=c-s}else{if(Et(n)){const x=Object.keys(n)[0],E=n[x];y=h[x].getPixelForValue(E)-w+e}else n==="center"?y=(d.left+d.right)/2-w+e:y=xD(t,n,e);_=ai(i,o,r),p=n==="left"?-Un:Un}return{titleX:y,titleY:_,maxWidth:m,rotation:p}}class $c extends no{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Kr(e,Number.POSITIVE_INFINITY),n=Kr(n,Number.NEGATIVE_INFINITY),i=Kr(i,Number.POSITIVE_INFINITY),r=Kr(r,Number.NEGATIVE_INFINITY),{min:Kr(e,i),max:Kr(n,r),minDefined:wr(e),maxDefined:wr(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)o=c[u].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Kr(n,Kr(i,n)),max:Kr(i,Kr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Kt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rX(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?CD(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=NZ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Kt(this.options.afterUpdate,[this])}beforeSetDimensions(){Kt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Kt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Kt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Kt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Kt(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Kt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Kt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=ED(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,c,u,d;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),p=h.widest.width,m=h.highest.height,y=mi(this.chart.width-p,0,this.maxWidth);c=e.offset?this.maxWidth/i:y/(i-1),p+6>c&&(c=y/(i-(e.offset?.5:1)),u=this.maxHeight-Yu(e.grid)-n.padding-TD(e.title,this.chart.options.font),d=Math.sqrt(p*p+m*m),o=AK(Math.min(Math.asin(mi((h.highest.height+6)/c,-1,1)),Math.asin(mi(u/d,-1,1))-Math.asin(mi(m/d,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Kt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Kt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=TD(r,n.options.font);if(c?(e.width=this.maxWidth,e.height=Yu(s)+u):(e.height=this.maxHeight,e.width=Yu(s)+u),i.display&&this.ticks.length){const{first:d,last:h,widest:p,highest:m}=this._getLabelSizes(),y=i.padding*2,_=Hs(this.labelRotation),S=Math.cos(_),w=Math.sin(_);if(c){const x=i.mirror?0:w*p.width+S*m.height;e.height=Math.min(this.maxHeight,e.height+x+y)}else{const x=i.mirror?0:S*p.width+w*m.height;e.width=Math.min(this.maxWidth,e.width+x+y)}this._calculatePadding(d,h,w,S)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,y=0;u?d?(m=r*e.width,y=i*n.height):(m=i*e.height,y=r*n.width):s==="start"?y=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,y=n.width/2),this.paddingLeft=Math.max((m-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let h=n.height/2,p=e.height/2;s==="start"?(h=0,p=e.height):s==="end"&&(h=n.height,p=0),this.paddingTop=h+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Kt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)$t(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=CD(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],u=Math.floor(n/ED(n,i));let d=0,h=0,p,m,y,_,S,w,x,E,A,I,k;for(p=0;p<n;p+=u){if(_=e[p].label,S=this._resolveTickFontOptions(p),r.font=w=S.string,x=s[w]=s[w]||{data:{},gc:[]},E=S.lineHeight,A=I=0,!$t(_)&&!qn(_))A=nD(r,x.data,x.gc,A,_),I=E;else if(qn(_))for(m=0,y=_.length;m<y;++m)k=_[m],!$t(k)&&!qn(k)&&(A=nD(r,x.data,x.gc,A,k),I+=E);o.push(A),c.push(I),d=Math.max(A,d),h=Math.max(I,h)}HZ(s,n);const j=o.indexOf(d),M=c.indexOf(h),O=U=>({width:o[U]||0,height:c[U]||0});return{first:O(0),last:O(n-1),widest:O(j),highest:O(M),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return DK(this._alignToPixels?Co(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=VZ(this.getContext(),e,i))}return this.$context||(this.$context=BZ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Hs(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,c=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:c}=r,u=s.offset,d=this.isHorizontal(),p=this.ticks.length+(u?1:0),m=Yu(s),y=[],_=c.setContext(this.getContext()),S=_.display?_.width:0,w=S/2,x=function(F){return Co(i,F,S)};let E,A,I,k,j,M,O,U,B,$,Q,ae;if(o==="top")E=x(this.bottom),M=this.bottom-m,U=E-w,$=x(e.top)+w,ae=e.bottom;else if(o==="bottom")E=x(this.top),$=e.top,ae=x(e.bottom)-w,M=E+w,U=this.top+m;else if(o==="left")E=x(this.right),j=this.right-m,O=E-w,B=x(e.left)+w,Q=e.right;else if(o==="right")E=x(this.left),B=e.left,Q=x(e.right)-w,j=E+w,O=this.left+m;else if(n==="x"){if(o==="center")E=x((e.top+e.bottom)/2+.5);else if(Et(o)){const F=Object.keys(o)[0],K=o[F];E=x(this.chart.scales[F].getPixelForValue(K))}$=e.top,ae=e.bottom,M=E+w,U=M+m}else if(n==="y"){if(o==="center")E=x((e.left+e.right)/2);else if(Et(o)){const F=Object.keys(o)[0],K=o[F];E=x(this.chart.scales[F].getPixelForValue(K))}j=E-w,O=j-m,B=e.left,Q=e.right}const pe=ct(r.ticks.maxTicksLimit,p),ve=Math.max(1,Math.ceil(p/pe));for(A=0;A<p;A+=ve){const F=this.getContext(A),K=s.setContext(F),ue=c.setContext(F),re=K.lineWidth,me=K.color,R=ue.dash||[],z=ue.dashOffset,q=K.tickWidth,J=K.tickColor,fe=K.tickBorderDash||[],ge=K.tickBorderDashOffset;I=FZ(this,A,u),I!==void 0&&(k=Co(i,I,re),d?j=O=B=Q=k:M=U=$=ae=k,y.push({tx1:j,ty1:M,tx2:O,ty2:U,x1:B,y1:$,x2:Q,y2:ae,width:re,color:me,borderDash:R,borderDashOffset:z,tickWidth:q,tickColor:J,tickBorderDash:fe,tickBorderDashOffset:ge}))}return this._ticksLength=p,this._borderValue=E,y}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:h,mirror:p}=s,m=Yu(i.grid),y=m+h,_=p?-h:y,S=-Hs(this.labelRotation),w=[];let x,E,A,I,k,j,M,O,U,B,$,Q,ae="middle";if(r==="top")j=this.bottom-_,M=this._getXAxisLabelAlignment();else if(r==="bottom")j=this.top+_,M=this._getXAxisLabelAlignment();else if(r==="left"){const ve=this._getYAxisLabelAlignment(m);M=ve.textAlign,k=ve.x}else if(r==="right"){const ve=this._getYAxisLabelAlignment(m);M=ve.textAlign,k=ve.x}else if(n==="x"){if(r==="center")j=(e.top+e.bottom)/2+y;else if(Et(r)){const ve=Object.keys(r)[0],F=r[ve];j=this.chart.scales[ve].getPixelForValue(F)+y}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")k=(e.left+e.right)/2-y;else if(Et(r)){const ve=Object.keys(r)[0],F=r[ve];k=this.chart.scales[ve].getPixelForValue(F)}M=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(u==="start"?ae="top":u==="end"&&(ae="bottom"));const pe=this._getLabelSizes();for(x=0,E=c.length;x<E;++x){A=c[x],I=A.label;const ve=s.setContext(this.getContext(x));O=this.getPixelForTick(x)+s.labelOffset,U=this._resolveTickFontOptions(x),B=U.lineHeight,$=qn(I)?I.length:1;const F=$/2,K=ve.color,ue=ve.textStrokeColor,re=ve.textStrokeWidth;let me=M;o?(k=O,M==="inner"&&(x===E-1?me=this.options.reverse?"left":"right":x===0?me=this.options.reverse?"right":"left":me="center"),r==="top"?d==="near"||S!==0?Q=-$*B+B/2:d==="center"?Q=-pe.highest.height/2-F*B+B:Q=-pe.highest.height+B/2:d==="near"||S!==0?Q=B/2:d==="center"?Q=pe.highest.height/2-F*B:Q=pe.highest.height-$*B,p&&(Q*=-1),S!==0&&!ve.showLabelBackdrop&&(k+=B/2*Math.sin(S))):(j=O,Q=(1-$)*B/2);let R;if(ve.showLabelBackdrop){const z=xr(ve.backdropPadding),q=pe.heights[x],J=pe.widths[x];let fe=Q-z.top,ge=0-z.left;switch(ae){case"middle":fe-=q/2;break;case"bottom":fe-=q;break}switch(M){case"center":ge-=J/2;break;case"right":ge-=J;break;case"inner":x===E-1?ge-=J:x>0&&(ge-=J/2);break}R={left:ge,top:fe,width:J+z.width,height:q+z.height,color:ve.backdropColor}}w.push({label:I,font:U,textOffset:Q,options:{rotation:S,color:K,strokeColor:ue,strokeWidth:re,textAlign:me,textBaseline:ae,translation:[k,j],backdrop:R}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Hs(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),c=e+s,u=o.widest.width;let d,h;return n==="left"?r?(h=this.right+s,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h+=u)):(h=this.right-c,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h-=u)):(h=this.left+c,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const c=(u,d,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const u=r[s];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,h,p,m;this.isHorizontal()?(d=Co(e,this.left,o)-o/2,h=Co(e,this.right,c)+c/2,p=m=u):(p=Co(e,this.top,o)-o/2,m=Co(e,this.bottom,c)+c/2,d=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,p),n.lineTo(h,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&lS(i,r);const s=this.getLabelItems(e);for(const o of s){const c=o.options,u=o.font,d=o.label,h=o.textOffset;zd(i,d,0,h,u,c)}r&&cS(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=ci(i.font),o=xr(i.padding),c=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Et(n)?(u+=o.bottom,qn(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:d,titleY:h,maxWidth:p,rotation:m}=qZ(this,u,n,c);zd(e,i.text,0,0,s,{color:i.color,maxWidth:p,rotation:m,textAlign:$Z(c,n,r),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ct(e.grid&&e.grid.z,-1),r=ct(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$c.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const c=n[s];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ci(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class tg{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;YZ(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,GZ(e,o,i),this.override&&_n.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in _n[r]&&(delete _n[r][i],this.override&&delete Zo[i])}}function GZ(t,e,n){const i=Nd(Object.create(null),[n?_n.get(n):{},_n.get(e),t.defaults]);_n.set(e,i),t.defaultRoutes&&WZ(e,t.defaultRoutes),t.descriptors&&_n.describe(e,t.descriptors)}function WZ(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),c=o.pop(),u=o.join(".");_n.route(s,r,u,c)})}function YZ(t){return"id"in t&&"defaults"in t}class QZ{constructor(){this.controllers=new tg(mS,"datasets",!0),this.elements=new tg(no,"elements"),this.plugins=new tg(Object,"plugins"),this.scales=new tg($c,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):kt(r,o=>{const c=i||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,n,i){const r=iS(e);Kt(i["before"+r],[],i),n[e](i),Kt(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Jr=new QZ;class KZ{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,c=o[i],u=[n,r,s.options];if(Kt(c,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=ct(i.options&&i.options.plugins,{}),s=XZ(i);return r===!1&&!n?[]:JZ(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function XZ(t){const e={},n=[],i=Object.keys(Jr.plugins.items);for(let s=0;s<i.length;s++)n.push(Jr.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function ZZ(t,e){return!e&&t===!1?null:t===!0?{}:t}function JZ(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const c of e){const u=c.id,d=ZZ(i[u],r);d!==null&&s.push({plugin:c,options:eJ(t.config,{plugin:c,local:n[u]},d,o)})}return s}function eJ(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function A0(t,e){const n=_n.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function tJ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function nJ(t,e){return t===e?"_index_":"_value_"}function AD(t){if(t==="x"||t==="y"||t==="r")return t}function iJ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function R0(t,...e){if(AD(t))return t;for(const n of e){const i=n.axis||iJ(n.position)||t.length>1&&AD(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function RD(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function rJ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return RD(t,"x",n[0])||RD(t,"y",n[0])}return{}}function sJ(t,e){const n=Zo[t.type]||{scales:{}},i=e.scales||{},r=A0(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!Et(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=R0(o,c,rJ(o,t),_n.scales[c.type]),d=nJ(u,r),h=n.scales||{};s[o]=pd(Object.create(null),[{axis:u},c,h[u],h[d]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,u=o.indexAxis||A0(c,e),h=(Zo[c]||{}).scales||{};Object.keys(h).forEach(p=>{const m=tJ(p,u),y=o[m+"AxisID"]||m;s[y]=s[y]||Object.create(null),pd(s[y],[{axis:m},i[y],h[p]])})}),Object.keys(s).forEach(o=>{const c=s[o];pd(c,[_n.scales[c.type],_n.scale])}),s}function bI(t){const e=t.options||(t.options={});e.plugins=ct(e.plugins,{}),e.scales=sJ(t,e)}function _I(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function aJ(t){return t=t||{},t.data=_I(t.data),bI(t),t}const DD=new Map,SI=new Set;function ng(t,e){let n=DD.get(t);return n||(n=e(),DD.set(t,n),SI.add(n)),n}const Qu=(t,e,n)=>{const i=Id(e,n);i!==void 0&&t.add(i)};class oJ{constructor(e){this._config=aJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=_I(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),bI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ng(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ng(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ng(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return ng(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),c=o.get(n);if(c)return c;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(p=>Qu(u,e,p))),h.forEach(p=>Qu(u,r,p)),h.forEach(p=>Qu(u,Zo[s]||{},p)),h.forEach(p=>Qu(u,_n,p)),h.forEach(p=>Qu(u,E0,p))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),SI.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Zo[n]||{},_n.datasets[n]||{},{type:n},_n,E0]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=OD(this._resolverCache,e,r);let u=o;if(cJ(o,n)){s.$shared=!1,i=Ya(i)?i():i;const d=this.createResolver(e,i,c);u=kc(o,i,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,i=[""],r){const{resolver:s}=OD(this._resolverCache,e,i);return Et(n)?kc(s,n,void 0,r):s}}function OD(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:dS(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const lJ=t=>Et(t)&&Object.getOwnPropertyNames(t).some(e=>Ya(t[e]));function cJ(t,e){const{isScriptable:n,isIndexable:i}=rI(t);for(const r of e){const s=n(r),o=i(r),c=(o||s)&&t[r];if(s&&(Ya(c)||lJ(c))||o&&qn(c))return!0}return!1}var uJ="4.5.1";const dJ=["top","bottom","left","right","chartArea"];function kD(t,e){return t==="top"||t==="bottom"||dJ.indexOf(t)===-1&&e==="x"}function MD(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function ND(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Kt(n&&n.onComplete,[t],e)}function fJ(t){const e=t.chart,n=e.options.animation;Kt(n&&n.onProgress,[t],e)}function wI(t){return gS()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const bg={},ID=t=>{const e=wI(t);return Object.values(bg).filter(n=>n.canvas===e).pop()};function hJ(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function gJ(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Fp=class{static defaults=_n;static instances=bg;static overrides=Zo;static registry=Jr;static version=uJ;static getChart=ID;static register(...e){Jr.add(...e),jD()}static unregister(...e){Jr.remove(...e),jD()}constructor(e,n){const i=this.config=new oJ(n),r=wI(e),s=ID(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||MZ(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,o.aspectRatio),u=c&&c.canvas,d=u&&u.height,h=u&&u.width;if(this.id=gK(),this.ctx=c,this.canvas=u,this.width=h,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IK(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],bg[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}ks.listen(this,"complete",ND),ks.listen(this,"progress",fJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return $t(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Jr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():aD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iD(this.canvas,this.ctx),this}stop(){return ks.stop(this),this}resize(e,n){ks.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,aD(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),Kt(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};kt(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const c=n[o],u=R0(o,c),d=u==="r",h=u==="x";return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),kt(s,o=>{const c=o.options,u=c.id,d=R0(u,c),h=ct(c.type,o.dtype);(c.position===void 0||kD(c.position,d)!==kD(o.dposition))&&(c.position=o.dposition),r[u]=!0;let p=null;if(u in i&&i[u].type===h)p=i[u];else{const m=Jr.getScale(h);p=new m({id:u,type:h,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(c,e)}),kt(r,(o,c)=>{o||delete i[c]}),kt(i,o=>{_r.configure(this,o,o.options),_r.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(MD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=s.indexAxis||A0(c,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=Jr.getController(c),{datasetElementType:d,dataElementType:h}=_n.datasets[c];Object.assign(u,{dataElementType:Jr.getElement(h),datasetElementType:d&&Jr.getElement(d)}),o.controller=new u(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){kt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:p}=this.getDatasetMeta(d),m=!r&&s.indexOf(p)===-1;p.buildOrUpdateElements(m),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||kt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(MD("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){kt(this.scales,e=>{_r.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!WR(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;hJ(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!WR(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],kt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ya(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ks.has(this)?this.attached&&!ks.running(this)&&ks.start(this):(this.draw(),ND({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=HX(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&lS(n,r),e.controller.draw(),r&&cS(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ld(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=dZ.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=cl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);np(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ks.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),iD(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete bg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};kt(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},r=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():o()}unbindEvents(){kt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},kt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,c,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){o=e[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!ep(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(u,d)=>u.filter(h=>!d.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),o=s(n,e),c=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,c=this._getActiveElements(e,r,i,o),u=_K(e),d=gJ(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Kt(s.onHover,[e,c,this],this),u&&Kt(s.onClick,[e,c,this],this));const h=!ep(c,r);return(h||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=d,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}};function jD(){return kt(Fp.instances,t=>t._plugins.invalidate())}function pJ(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:c,options:u}=e,{borderWidth:d,borderJoinStyle:h}=u,p=Math.min(d/o,kr(i-n));if(t.beginPath(),t.arc(r,s,o-d/2,i+p/2,n-p/2),c>0){const m=Math.min(d/c,kr(i-n));t.arc(r,s,c+d/2,n-m/2,i+m/2,!0)}else{const m=Math.min(d/2,o*kr(i-n));if(h==="round")t.arc(r,s,m,n-Mt/2,i+Mt/2,!0);else if(h==="bevel"){const y=2*m*m,_=-y*Math.cos(n+Mt/2)+r,S=-y*Math.sin(n+Mt/2)+s,w=y*Math.cos(i+Mt/2)+r,x=y*Math.sin(i+Mt/2)+s;t.lineTo(_,S),t.lineTo(w,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function mJ(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:u}=e;let d=r/c;t.beginPath(),t.arc(s,o,c,i-d,n+d),u>r?(d=r/u,t.arc(s,o,u,n+d,i-d,!0)):t.arc(s,o,r,n+Un,i-Un),t.closePath(),t.clip()}function yJ(t){return uS(t,["outerStart","outerEnd","innerStart","innerEnd"])}function vJ(t,e,n,i){const r=yJ(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),c=u=>{const d=(n-Math.min(s,u))*i/2;return mi(u,0,Math.min(s,d))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:mi(r.innerStart,0,o),innerEnd:mi(r.innerEnd,0,o)}}function sc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function ap(t,e,n,i,r,s){const{x:o,y:c,startAngle:u,pixelMargin:d,innerRadius:h}=e,p=Math.max(e.outerRadius+i+n-d,0),m=h>0?h+i+n+d:0;let y=0;const _=r-u;if(i){const ve=h>0?h-i:0,F=p>0?p-i:0,K=(ve+F)/2,ue=K!==0?_*K/(K+i):_;y=(_-ue)/2}const S=Math.max(.001,_*p-n/Mt)/p,w=(_-S)/2,x=u+w+y,E=r-w-y,{outerStart:A,outerEnd:I,innerStart:k,innerEnd:j}=vJ(e,m,p,E-x),M=p-A,O=p-I,U=x+A/M,B=E-I/O,$=m+k,Q=m+j,ae=x+k/$,pe=E-j/Q;if(t.beginPath(),s){const ve=(U+B)/2;if(t.arc(o,c,p,U,ve),t.arc(o,c,p,ve,B),I>0){const re=sc(O,B,o,c);t.arc(re.x,re.y,I,B,E+Un)}const F=sc(Q,E,o,c);if(t.lineTo(F.x,F.y),j>0){const re=sc(Q,pe,o,c);t.arc(re.x,re.y,j,E+Un,pe+Math.PI)}const K=(E-j/m+(x+k/m))/2;if(t.arc(o,c,m,E-j/m,K,!0),t.arc(o,c,m,K,x+k/m,!0),k>0){const re=sc($,ae,o,c);t.arc(re.x,re.y,k,ae+Math.PI,x-Un)}const ue=sc(M,x,o,c);if(t.lineTo(ue.x,ue.y),A>0){const re=sc(M,U,o,c);t.arc(re.x,re.y,A,x-Un,U)}}else{t.moveTo(o,c);const ve=Math.cos(U)*p+o,F=Math.sin(U)*p+c;t.lineTo(ve,F);const K=Math.cos(B)*p+o,ue=Math.sin(B)*p+c;t.lineTo(K,ue)}t.closePath()}function bJ(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:c}=e;let u=e.endAngle;if(s){ap(t,e,n,i,u,r);for(let d=0;d<s;++d)t.fill();isNaN(c)||(u=o+(c%pn||pn))}return ap(t,e,n,i,u,r),t.fill(),u}function _J(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:c,options:u}=e,{borderWidth:d,borderJoinStyle:h,borderDash:p,borderDashOffset:m,borderRadius:y}=u,_=u.borderAlign==="inner";if(!d)return;t.setLineDash(p||[]),t.lineDashOffset=m,_?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let S=e.endAngle;if(s){ap(t,e,n,i,S,r);for(let w=0;w<s;++w)t.stroke();isNaN(c)||(S=o+(c%pn||pn))}_&&mJ(t,e,S),u.selfJoin&&S-o>=Mt&&y===0&&h!=="miter"&&pJ(t,e,S),s||(ap(t,e,n,i,S,r),t.stroke())}class SJ extends no{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=ZN(r,{x:e,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,y=ct(p,u-c),_=Pd(s,c,u)&&c!==u,S=y>=pn||_,w=gc(o,d+m,h+m);return S&&w}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,h=(r+s)/2,p=(o+c+d+u)/2;return{x:n+Math.cos(h)*p,y:i+Math.sin(h)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>pn?Math.floor(i/pn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(Mt,i||0)),d=r*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,bJ(e,this,d,s,o),_J(e,this,d,s,o),e.restore()}}function xI(t,e,n=e){t.lineCap=ct(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ct(n.borderDash,e.borderDash)),t.lineDashOffset=ct(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ct(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ct(n.borderWidth,e.borderWidth),t.strokeStyle=ct(n.borderColor,e.borderColor)}function wJ(t,e,n){t.lineTo(n.x,n.y)}function xJ(t){return t.stepped?YK:t.tension||t.cubicInterpolationMode==="monotone"?QK:wJ}function EI(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:c}=e,u=Math.max(r,o),d=Math.min(s,c),h=r<o&&s<o||r>c&&s>c;return{count:i,start:u,loop:e.loop,ilen:d<u&&!h?i+d-u:d-u}}function EJ(t,e,n,i){const{points:r,options:s}=e,{count:o,start:c,loop:u,ilen:d}=EI(r,n,i),h=xJ(s);let{move:p=!0,reverse:m}=i||{},y,_,S;for(y=0;y<=d;++y)_=r[(c+(m?d-y:y))%o],!_.skip&&(p?(t.moveTo(_.x,_.y),p=!1):h(t,S,_,m,s.stepped),S=_);return u&&(_=r[(c+(m?d:0))%o],h(t,S,_,m,s.stepped)),!!u}function CJ(t,e,n,i){const r=e.points,{count:s,start:o,ilen:c}=EI(r,n,i),{move:u=!0,reverse:d}=i||{};let h=0,p=0,m,y,_,S,w,x;const E=I=>(o+(d?c-I:I))%s,A=()=>{S!==w&&(t.lineTo(h,w),t.lineTo(h,S),t.lineTo(h,x))};for(u&&(y=r[E(0)],t.moveTo(y.x,y.y)),m=0;m<=c;++m){if(y=r[E(m)],y.skip)continue;const I=y.x,k=y.y,j=I|0;j===_?(k<S?S=k:k>w&&(w=k),h=(p*h+I)/++p):(A(),t.lineTo(I,k),_=j,p=0,S=w=k),x=k}A()}function D0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?CJ:EJ}function TJ(t){return t.stepped?RX:t.tension||t.cubicInterpolationMode==="monotone"?DX:Mo}function AJ(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),xI(t,e.options),t.stroke(r)}function RJ(t,e,n,i){const{segments:r,options:s}=e,o=D0(e);for(const c of r)xI(t,s,c.style),t.beginPath(),o(t,e,c,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const DJ=typeof Path2D=="function";function OJ(t,e,n,i){DJ&&!e.options.segment?AJ(t,e,n,i):RJ(t,e,n,i)}class kJ extends no{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;_X(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=LX(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=IX(this,{property:n,start:r,end:r});if(!o.length)return;const c=[],u=TJ(i);let d,h;for(d=0,h=o.length;d<h;++d){const{start:p,end:m}=o[d],y=s[p],_=s[m];if(y===_){c.push(y);continue}const S=Math.abs((r-y[n])/(_[n]-y[n])),w=u(y,_,S,i.stepped);w[n]=e[n],c.push(w)}return c.length===1?c[0]:c}pathSegment(e,n,i){return D0(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=D0(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const c of r)o&=s(e,this,c,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),OJ(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function PD(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class MJ extends no{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return PD(this,e,"x",n)}inYRange(e,n){return PD(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Ld(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,C0(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const LD=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},NJ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class zD extends no{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Kt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=ci(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=LD(i,s);let d,h;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(o,s,c,u)+10):(h=this.maxHeight,d=this._fitCols(o,r,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],h=r+c;let p=e;s.textAlign="left",s.textBaseline="middle";let m=-1,y=-h;return this.legendItems.forEach((_,S)=>{const w=i+n/2+s.measureText(_.text).width;(S===0||d[d.length-1]+w+2*c>o)&&(p+=h,d[d.length-(S>0?0:1)]=0,y+=h,m++),u[S]={left:0,top:y,row:m,width:w,height:r},d[d.length-1]+=w+c}),p}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],h=o-e;let p=c,m=0,y=0,_=0,S=0;return this.legendItems.forEach((w,x)=>{const{itemWidth:E,itemHeight:A}=IJ(i,n,s,w,r);x>0&&y+A+2*c>h&&(p+=m+c,d.push({width:m,height:y}),_+=m+c,S++,m=y=0),u[x]={left:_,top:y,col:S,width:E,height:A},m=Math.max(m,E),y+=A+c}),p+=m,d.push({width:m,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=xc(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=ai(i,this.left+r,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,u=ai(i,this.left+r,this.right-this.lineWidths[c])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(u),d.width),u+=d.width+r}else{let c=0,u=ai(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,u=ai(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),u+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;lS(e,this),this._draw(),cS(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,c=_n.color,u=xc(e.rtl,this.left,this.width),d=ci(o.font),{padding:h}=o,p=d.size,m=p/2;let y;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:_,boxHeight:S,itemHeight:w}=LD(o,p),x=function(j,M,O){if(isNaN(_)||_<=0||isNaN(S)||S<0)return;r.save();const U=ct(O.lineWidth,1);if(r.fillStyle=ct(O.fillStyle,c),r.lineCap=ct(O.lineCap,"butt"),r.lineDashOffset=ct(O.lineDashOffset,0),r.lineJoin=ct(O.lineJoin,"miter"),r.lineWidth=U,r.strokeStyle=ct(O.strokeStyle,c),r.setLineDash(ct(O.lineDash,[])),o.usePointStyle){const B={radius:S*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:U},$=u.xPlus(j,_/2),Q=M+m;iI(r,B,$,Q,o.pointStyleWidth&&_)}else{const B=M+Math.max((p-S)/2,0),$=u.leftForLtr(j,_),Q=bd(O.borderRadius);r.beginPath(),Object.values(Q).some(ae=>ae!==0)?T0(r,{x:$,y:B,w:_,h:S,radius:Q}):r.rect($,B,_,S),r.fill(),U!==0&&r.stroke()}r.restore()},E=function(j,M,O){zd(r,O.text,j,M+w/2,d,{strikethrough:O.hidden,textAlign:u.textAlign(O.textAlign)})},A=this.isHorizontal(),I=this._computeTitleHeight();A?y={x:ai(s,this.left+h,this.right-i[0]),y:this.top+h+I,line:0}:y={x:this.left+h,y:ai(s,this.top+I+h,this.bottom-n[0].height),line:0},cI(this.ctx,e.textDirection);const k=w+h;this.legendItems.forEach((j,M)=>{r.strokeStyle=j.fontColor,r.fillStyle=j.fontColor;const O=r.measureText(j.text).width,U=u.textAlign(j.textAlign||(j.textAlign=o.textAlign)),B=_+m+O;let $=y.x,Q=y.y;u.setWidth(this.width),A?M>0&&$+B+h>this.right&&(Q=y.y+=k,y.line++,$=y.x=ai(s,this.left+h,this.right-i[y.line])):M>0&&Q+k>this.bottom&&($=y.x=$+n[y.line].width+h,y.line++,Q=y.y=ai(s,this.top+I+h,this.bottom-n[y.line].height));const ae=u.x($);if(x(ae,Q,j),$=jK(U,$+_+m,A?$+B:this.right,e.rtl),E(u.x($),Q,j),A)y.x+=B+h;else if(typeof j.text!="string"){const pe=d.lineHeight;y.y+=CI(j,pe)+h}else y.y+=k}),uI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ci(n.font),r=xr(n.padding);if(!n.display)return;const s=xc(e.rtl,this.left,this.width),o=this.ctx,c=n.position,u=i.size/2,d=r.top+u;let h,p=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),h=this.top+d,p=ai(e.align,p,this.right-m);else{const _=this.columnSizes.reduce((S,w)=>Math.max(S,w.height),0);h=d+ai(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const y=ai(c,p,p+m);o.textAlign=s.textAlign(sS(c)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,zd(o,n.text,y,h,i)}_computeTitleHeight(){const e=this.options.title,n=ci(e.font),i=xr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(gc(e,this.left,this.right)&&gc(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],gc(e,r.left,r.left+r.width)&&gc(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!LJ(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=NJ(r,i);r&&!s&&Kt(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Kt(n.onHover,[e,i,this],this)}else i&&Kt(n.onClick,[e,i,this],this)}}function IJ(t,e,n,i,r){const s=jJ(i,t,e,n),o=PJ(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function jJ(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function PJ(t,e,n){let i=t;return typeof e.text!="string"&&(i=CI(e,n)),i}function CI(t,e){const n=t.text?t.text.length:0;return e*n}function LJ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var zJ={id:"legend",_element:zD,start(t,e,n){const i=t.legend=new zD({ctx:t.ctx,options:n,chart:t});_r.configure(t,i,n),_r.addBox(t,i)},stop(t){_r.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;_r.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),h=xr(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class TI extends no{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=qn(i.text)?i.text.length:1;this._padding=xr(i.padding);const s=r*ci(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,c=o.align;let u=0,d,h,p;return this.isHorizontal()?(h=ai(c,i,s),p=n+e,d=s-i):(o.position==="left"?(h=i+e,p=ai(c,r,n),u=Mt*-.5):(h=s-e,p=ai(c,n,r),u=Mt*.5),d=r-n),{titleX:h,titleY:p,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ci(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(s);zd(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:sS(n.align),textBaseline:"middle",translation:[o,c]})}}function UJ(t,e){const n=new TI({ctx:t.ctx,options:e,chart:t});_r.configure(t,n,e),_r.addBox(t,n),t.titleBlock=n}var FJ={id:"title",_element:TI,start(t,e,n){UJ(t,n)},stop(t){const e=t.titleBlock;_r.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;_r.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ed={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,c;for(s=0,o=t.length;s<o;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),h=x0(e,d);h<r&&(r=h,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Xr(t,e){return e&&(qn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ms(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function HJ(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function UD(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:c}=e,u=ci(e.bodyFont),d=ci(e.titleFont),h=ci(e.footerFont),p=s.length,m=r.length,y=i.length,_=xr(e.padding);let S=_.height,w=0,x=i.reduce((I,k)=>I+k.before.length+k.lines.length+k.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,p&&(S+=p*d.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),x){const I=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;S+=y*I+(x-y)*u.lineHeight+(x-1)*e.bodySpacing}m&&(S+=e.footerMarginTop+m*h.lineHeight+(m-1)*e.footerSpacing);let E=0;const A=function(I){w=Math.max(w,n.measureText(I).width+E)};return n.save(),n.font=d.string,kt(t.title,A),n.font=u.string,kt(t.beforeBody.concat(t.afterBody),A),E=e.displayColors?o+2+e.boxPadding:0,kt(i,I=>{kt(I.before,A),kt(I.lines,A),kt(I.after,A)}),E=0,n.font=h.string,kt(t.footer,A),n.restore(),w+=_.width,{width:w,height:S}}function BJ(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function VJ(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function $J(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:c,right:u}}=t;let d="center";return i==="center"?d=r<=(c+u)/2?"left":"right":r<=s/2?d="left":r>=o-s/2&&(d="right"),VJ(d,t,e,n)&&(d="center"),d}function FD(t,e,n){const i=n.yAlign||e.yAlign||BJ(t,n);return{xAlign:n.xAlign||e.xAlign||$J(t,e,n,i),yAlign:i}}function qJ(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function GJ(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function HD(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:c,yAlign:u}=n,d=r+s,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:y}=bd(o);let _=qJ(e,c);const S=GJ(e,u,d);return u==="center"?c==="left"?_+=d:c==="right"&&(_-=d):c==="left"?_-=Math.max(h,m)+r:c==="right"&&(_+=Math.max(p,y)+r),{x:mi(_,0,i.width-e.width),y:mi(S,0,i.height-e.height)}}function ig(t,e,n){const i=xr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function BD(t){return Xr([],Ms(t))}function WJ(t,e,n){return cl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function VD(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const AI={beforeTitle:Os,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Os,beforeBody:Os,beforeLabel:Os,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return $t(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Os,afterBody:Os,beforeFooter:Os,footer:Os,afterFooter:Os};function Ai(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?AI[e].call(n,i):r}class $D extends no{static positioners=ed;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new fI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=WJ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Ai(i,"beforeTitle",this,e),s=Ai(i,"title",this,e),o=Ai(i,"afterTitle",this,e);let c=[];return c=Xr(c,Ms(r)),c=Xr(c,Ms(s)),c=Xr(c,Ms(o)),c}getBeforeBody(e,n){return BD(Ai(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return kt(e,s=>{const o={before:[],lines:[],after:[]},c=VD(i,s);Xr(o.before,Ms(Ai(c,"beforeLabel",this,s))),Xr(o.lines,Ai(c,"label",this,s)),Xr(o.after,Ms(Ai(c,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return BD(Ai(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Ai(i,"beforeFooter",this,e),s=Ai(i,"footer",this,e),o=Ai(i,"afterFooter",this,e);let c=[];return c=Xr(c,Ms(r)),c=Xr(c,Ms(s)),c=Xr(c,Ms(o)),c}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let c=[],u,d;for(u=0,d=n.length;u<d;++u)c.push(HJ(this.chart,n[u]));return e.filter&&(c=c.filter((h,p,m)=>e.filter(h,p,m,i))),e.itemSort&&(c=c.sort((h,p)=>e.itemSort(h,p,i))),kt(c,h=>{const p=VD(e.callbacks,h);r.push(Ai(p,"labelColor",this,h)),s.push(Ai(p,"labelPointStyle",this,h)),o.push(Ai(p,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=c,c}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=ed[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=UD(this,i),d=Object.assign({},c,u),h=FD(this.chart,i,d),p=HD(i,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=bd(c),{x:m,y}=e,{width:_,height:S}=n;let w,x,E,A,I,k;return s==="center"?(I=y+S/2,r==="left"?(w=m,x=w-o,A=I+o,k=I-o):(w=m+_,x=w+o,A=I-o,k=I+o),E=w):(r==="left"?x=m+Math.max(u,h)+o:r==="right"?x=m+_-Math.max(d,p)-o:x=this.caretX,s==="top"?(A=y,I=A-o,w=x-o,E=x+o):(A=y+S,I=A+o,w=x+o,E=x-o),k=A),{x1:w,x2:x,x3:E,y1:A,y2:I,y3:k}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,c,u;if(s){const d=xc(i.rtl,this.x,this.width);for(e.x=ig(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",o=ci(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(r[u],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,u+1===s&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=s,h=ci(s.bodyFont),p=ig(this,"left",s),m=r.x(p),y=u<h.lineHeight?(h.lineHeight-u)/2:0,_=n.y+y;if(s.usePointStyle){const S={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},w=r.leftForLtr(m,d)+d/2,x=_+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,C0(e,S,w,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,C0(e,S,w,x)}else{e.lineWidth=Et(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const S=r.leftForLtr(m,d),w=r.leftForLtr(r.xPlus(m,1),d-2),x=bd(o.borderRadius);Object.values(x).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,T0(e,{x:S,y:_,w:d,h:u,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),T0(e,{x:w,y:_+1,w:d-2,h:u-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(S,_,d,u),e.strokeRect(S,_,d,u),e.fillStyle=o.backgroundColor,e.fillRect(w,_+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:h}=i,p=ci(i.bodyFont);let m=p.lineHeight,y=0;const _=xc(i.rtl,this.x,this.width),S=function(O){n.fillText(O,_.x(e.x+y),e.y+m/2),e.y+=m+s},w=_.textAlign(o);let x,E,A,I,k,j,M;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,e.x=ig(this,w,i),n.fillStyle=i.bodyColor,kt(this.beforeBody,S),y=c&&w!=="right"?o==="center"?d/2+h:d+2+h:0,I=0,j=r.length;I<j;++I){for(x=r[I],E=this.labelTextColors[I],n.fillStyle=E,kt(x.before,S),A=x.lines,c&&A.length&&(this._drawColorBox(n,e,I,_,i),m=Math.max(p.lineHeight,u)),k=0,M=A.length;k<M;++k)S(A[k]),m=p.lineHeight;kt(x.after,S)}y=0,m=p.lineHeight,kt(this.afterBody,S),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,c;if(s){const u=xc(i.rtl,this.x,this.width);for(e.x=ig(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",o=ci(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,c=0;c<s;++c)n.fillText(r[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:c,y:u}=e,{width:d,height:h}=i,{topLeft:p,topRight:m,bottomLeft:y,bottomRight:_}=bd(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+p,u),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(c+d-m,u),n.quadraticCurveTo(c+d,u,c+d,u+m),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(c+d,u+h-_),n.quadraticCurveTo(c+d,u+h,c+d-_,u+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(c+y,u+h),n.quadraticCurveTo(c,u+h,c,u+h-y),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(c,u+p),n.quadraticCurveTo(c,u,c+p,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=ed[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=UD(this,e),u=Object.assign({},o,this._size),d=FD(n,e,u),h=HD(e,u,d,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=xr(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),cI(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),uI(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),s=!ep(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),c=this._positionChanged(o,e),u=n||!ep(o,s)||c;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=ed[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}var YJ={id:"tooltip",_element:$D,positioners:ed,afterInit(t,e,n){n&&(t.tooltip=new $D({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:AI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QJ=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function KJ(t,e,n,i){const r=t.indexOf(e);if(r===-1)return QJ(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const XJ=(t,e)=>t===null?null:mi(Math.round(t),0,e);function qD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ZJ extends $c{static id="category";static defaults={ticks:{callback:qD}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($t(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:KJ(i,e,ct(n,e),this._addedLabels),XJ(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return qD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function JJ(t,e){const n=[],{bounds:r,step:s,min:o,max:c,precision:u,count:d,maxTicks:h,maxDigits:p,includeBounds:m}=t,y=s||1,_=h-1,{min:S,max:w}=e,x=!$t(o),E=!$t(c),A=!$t(d),I=(w-S)/(p+1);let k=QR((w-S)/_/y)*y,j,M,O,U;if(k<1e-14&&!x&&!E)return[{value:S},{value:w}];U=Math.ceil(w/k)-Math.floor(S/k),U>_&&(k=QR(U*k/_/y)*y),$t(u)||(j=Math.pow(10,u),k=Math.ceil(k*j)/j),r==="ticks"?(M=Math.floor(S/k)*k,O=Math.ceil(w/k)*k):(M=S,O=w),x&&E&&s&&CK((c-o)/s,k/1e3)?(U=Math.round(Math.min((c-o)/k,h)),k=(c-o)/U,M=o,O=c):A?(M=x?o:M,O=E?c:O,U=d-1,k=(O-M)/U):(U=(O-M)/k,md(U,Math.round(U),k/1e3)?U=Math.round(U):U=Math.ceil(U));const B=Math.max(KR(k),KR(M));j=Math.pow(10,$t(u)?B:u),M=Math.round(M*j)/j,O=Math.round(O*j)/j;let $=0;for(x&&(m&&M!==o?(n.push({value:o}),M<o&&$++,md(Math.round((M+$*k)*j)/j,o,GD(o,I,t))&&$++):M<o&&$++);$<U;++$){const Q=Math.round((M+$*k)*j)/j;if(E&&Q>c)break;n.push({value:Q})}return E&&m&&O!==c?n.length&&md(n[n.length-1].value,c,GD(c,I,t))?n[n.length-1].value=c:n.push({value:c}):(!E||O===c)&&n.push({value:O}),n}function GD(t,e,{horizontal:n,minRotation:i}){const r=Hs(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class eee extends $c{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return $t(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=n?r:u,c=u=>s=i?s:u;if(e){const u=Oc(r),d=Oc(s);u<0&&d<0?c(0):u>0&&d>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);c(s+u),e||o(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=JJ(r,s);return e.bounds==="ticks"&&TK(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return oS(e,this.chart.options.locale,this.options.ticks.format)}}class tee extends eee{static id="linear";static defaults={ticks:{callback:nI.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=wr(e)?e:0,this.max=wr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Hs(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Hp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ni=Object.keys(Hp);function WD(t,e){return t-e}function YD(t,e){if($t(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),wr(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(jd(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function QD(t,e,n,i){const r=Ni.length;for(let s=Ni.indexOf(t);s<r-1;++s){const o=Hp[Ni[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(c*o.size))<=i)return Ni[s]}return Ni[r-1]}function nee(t,e,n,i,r){for(let s=Ni.length-1;s>=Ni.indexOf(n);s--){const o=Ni[s];if(Hp[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Ni[n?Ni.indexOf(n):0]}function iee(t){for(let e=Ni.indexOf(t)+1,n=Ni.length;e<n;++e)if(Hp[Ni[e]].common)return Ni[e]}function KD(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=rS(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function ree(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let c,u;for(c=s;c<=o;c=+r.add(c,1,i))u=n[c],u>=0&&(e[u].major=!0);return e}function XD(t,e,n){const i=[],r={},s=e.length;let o,c;for(o=0;o<s;++o)c=e[o],r[c]=o,i.push({value:c,major:!1});return s===0||!n?i:ree(t,i,r,n)}class ZD extends $c{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new aZ._date(e.adapters.date);r.init(n),pd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:YD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:c}=this.getUserBounds();function u(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=wr(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=wr(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,c=kK(r,s,o);return this._unit=n.unit||(i.autoSkip?QD(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):nee(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:iee(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),XD(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=mi(n,0,o),i=mi(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||QD(s.minUnit,n,i,this._getLabelCapacity(n)),c=ct(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,d=jd(u)||u===!0,h={};let p=n,m,y;if(d&&(p=+e.startOf(p,"isoWeek",u)),p=+e.startOf(p,d?"day":o),e.diff(i,n,o)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+o);const _=r.ticks.source==="data"&&this.getDataTimestamps();for(m=p,y=0;m<i;m=+e.add(m,c,o),y++)KD(h,m,_);return(m===i||r.bounds==="ticks"||y===1)&&KD(h,m,_),Object.keys(h).sort(WD).map(S=>+S)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Kt(o,[e,n,i],this);const c=s.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&c[u],p=d&&c[d],m=i[n],y=d&&p&&m&&m.major;return this._adapter.format(e,r||(y?p:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Hs(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*o,h:i*o+c*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,XD(this,[e],this._majorUnit),r),o=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(YD(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return NK(e.sort(WD))}}function rg(t,e,n){let i=0,r=t.length-1,s,o,c,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Ho(t,"pos",e)),{pos:s,time:c}=t[i],{pos:o,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Ho(t,"time",e)),{time:s,pos:c}=t[i],{time:o,pos:u}=t[r]);const d=o-s;return d?c+(u-c)*(e-s)/d:c}class Mee extends ZD{static id="timeseries";static defaults=ZD.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=rg(n,this.min),this._tableRange=rg(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,c,u,d,h;for(o=0,c=e.length;o<c;++o)d=e[o],d>=n&&d<=i&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)h=r[o+1],u=r[o-1],d=r[o],Math.round((h+u)/2)!==d&&s.push({time:d,pos:o/(c-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(rg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return rg(this._table,i*this._tableRange+this._minPos,!0)}}const RI="label";function JD(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function see(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function DI(t,e){t.labels=e}function OI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:RI;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function aee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RI;const n={labels:[],datasets:[]};return DI(n,t.labels),OI(n,t.datasets,e),n}function oee(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:u,plugins:d=[],fallbackContent:h,updateMode:p,...m}=t,y=D.useRef(null),_=D.useRef(null),S=()=>{y.current&&(_.current=new Fp(y.current,{type:o,data:aee(c,s),options:u&&{...u},plugins:d}),JD(e,_.current))},w=()=>{JD(e,null),_.current&&(_.current.destroy(),_.current=null)};return D.useEffect(()=>{!r&&_.current&&u&&see(_.current,u)},[r,u]),D.useEffect(()=>{!r&&_.current&&DI(_.current.config.data,c.labels)},[r,c.labels]),D.useEffect(()=>{!r&&_.current&&c.datasets&&OI(_.current.config.data,c.datasets,s)},[r,c.datasets]),D.useEffect(()=>{_.current&&(r?(w(),setTimeout(S)):_.current.update(p))},[r,u,c.labels,c.datasets,p]),D.useEffect(()=>{_.current&&(w(),setTimeout(S))},[o]),D.useEffect(()=>(S(),()=>w()),[]),ce.createElement("canvas",{ref:y,role:"img",height:n,width:i,...m},h)}const lee=D.forwardRef(oee);function kI(t,e){return Fp.register(e),D.forwardRef((n,i)=>ce.createElement(lee,{...n,ref:i,type:t}))}const cee=kI("line",rZ),uee=kI("pie",sZ);Fp.register(ZJ,tee,MJ,kJ,FJ,YJ,zJ,SJ);function dee(){const{data:t=[],isLoading:e,error:n}=bp(),{data:i=[],isLoading:r,error:s}=_p(),{isInitialized:o}=At(),{init:c,cleanup:u}=Za(),d=e||r;D.useEffect(()=>(o||c(),()=>{u()}),[c,o,u]);const h=D.useMemo(()=>{if(d)return{};const _=t.reduce((re,me)=>{const R=me.work_center||"Unknown";return re[R]||(re[R]={[zs.ACTIVE]:0,[zs.INACTIVE]:0,[zs.MAINTENANCE]:0}),re[R][me.status]=(re[R][me.status]||0)+1,re},{}),S=new Date,w=new Date(S),x=S.getDay(),E=x===0?6:x-1;w.setUTCDate(S.getUTCDate()-E),w.setUTCHours(0,0,0,0);const A=i.filter(re=>re.completion_date?new Date(re.completion_date)>=w:!1).length,I=i.filter(re=>re.status==="IN PROGRESS"||re.status==="SCHEDULED").length,k=i.filter(re=>re.delivery_date?new Date(re.delivery_date)<S&&(re.quantity_completed||0)<(re.quantity||0):!1).length,j=t.filter(re=>re.status===zs.ACTIVE).length,M={},O=new Date(S);O.setUTCDate(S.getUTCDate()-7);const U=new Date(S);U.setUTCDate(S.getUTCDate()+7),i.forEach(re=>{if(re.scheduled_start_time){const me=new Date(re.scheduled_start_time);if(me>=O&&me<=U){const R=me.toISOString().split("T")[0];M[R]=(M[R]||0)+1}}});const B=i.filter(re=>re.scheduled_start_time?new Date(re.scheduled_start_time)>=w:!1),$=B.filter(re=>re.cost&&re.cost>0).map(re=>re.cost),Q=B.filter(re=>re.duration&&re.duration>0).map(re=>re.duration),ae=$.length>0?$.reduce((re,me)=>re+me,0)/$.length:0,pe=Q.length>0?Q.reduce((re,me)=>re+me,0)/Q.length:0,ve={},F={},K=["STAMPA","CONFEZIONAMENTO"],ue=["ZANICA","BUSTO_GAROLFO"];return K.forEach(re=>{const me=re.toLowerCase();ve[me]={},F[me]={},ue.forEach(R=>{const z=R==="BUSTO_GAROLFO"?"busto_garolfo":R.toLowerCase(),q=i.filter(Se=>!Se.work_center||!Se.department?!1:Se.work_center===R&&Se.department===re),J=q.filter(Se=>Se.cost&&Se.cost>0).map(Se=>Se.cost),fe=J.length>0?J.reduce((Se,Oe)=>Se+Oe,0)/J.length:0,ge=q.filter(Se=>Se.duration&&Se.duration>0).map(Se=>Se.duration),_e=ge.length>0?ge.reduce((Se,Oe)=>Se+Oe,0)/ge.length:0;ve[me][z]=fe,F[me][z]=_e})}),{machinesByWorkCenter:_,completedThisWeek:A,tasksInWip:I,delayedTasks:k,activeMachines:j,totalMachines:t.length,totalOrders:i.length,tasksPerDay:M,avgWeeklyCost:ae,avgWeeklyDuration:pe,weeklyOrdersCount:B.length,costMatrix:ve,durationMatrix:F}},[t,i,d]),p=D.useMemo(()=>{if(!h.tasksPerDay)return null;const _=[],S=new Date;for(let w=-7;w<=7;w++){const x=new Date(S);x.setUTCDate(S.getUTCDate()+w);const E=x.toISOString().split("T")[0];_.push(E)}return{labels:_.map(w=>{const x=new Date(w);return Wn(new Date(x),"dd/MM")}),datasets:[{label:"Lavori Iniziati",data:_.map(w=>h.tasksPerDay[w]||0),borderColor:"rgb(37, 99, 235)",backgroundColor:"rgba(37, 99, 235, 0.1)",tension:.4,borderWidth:2,pointBackgroundColor:"rgb(37, 99, 235)",pointBorderColor:"rgb(37, 99, 235)",pointRadius:4,pointHoverRadius:6,fill:!0}]}},[h.tasksPerDay]),m={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{stepSize:1,color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}},x:{grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}}},elements:{point:{hoverBorderWidth:3}}},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0,font:{size:10}}}}};return d?C.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:C.jsx("div",{className:"text-center py-1 text-muted-foreground text-[10px]",children:"Caricamento dashboard..."})}):n||s?C.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:C.jsxs("div",{className:"text-center py-1 text-destructive text-[10px]",children:["Errore nel caricamento dei dati: ",n?.message||s?.message]})}):C.jsxs("div",{className:"space-y-6",children:[C.jsx("div",{className:"flex justify-between items-center",children:C.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard Produzione"})}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[C.jsxs(ur,{className:"p-6",children:[C.jsx(dr,{className:"pb-2",children:C.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Macchine Totali"})}),C.jsxs(hr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalMachines}),C.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Attive: ",h.activeMachines]})]})]}),C.jsxs(ur,{className:"p-6",children:[C.jsx(dr,{className:"pb-2",children:C.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Totali"})}),C.jsxs(hr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalOrders}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Totali nel sistema"})]})]}),C.jsxs(ur,{className:"p-6",children:[C.jsx(dr,{className:"pb-2",children:C.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Completati Questa Settimana"})}),C.jsxs(hr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.completedThisWeek}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lavori completati"})]})]}),C.jsxs(ur,{className:"p-6",children:[C.jsx(dr,{className:"pb-2",children:C.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Lavori in Corso"})}),C.jsxs(hr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.tasksInWip}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In progress/scheduled"})]})]}),C.jsxs(ur,{className:"p-6 border-destructive/20 bg-destructive/5",children:[C.jsx(dr,{className:"pb-2",children:C.jsx(fr,{className:"text-sm font-medium text-destructive",children:"Lavori Ritardati"})}),C.jsxs(hr,{children:[C.jsx("div",{className:"text-3xl font-bold text-destructive",children:h.delayedTasks}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Oltre la scadenza"})]})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[C.jsxs(ur,{className:"p-6",children:[C.jsx(dr,{className:"pb-2",children:C.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Settimanali"})}),C.jsxs(hr,{children:[C.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.weeklyOrdersCount}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Questa Settimana"})]})]}),C.jsxs(ur,{className:"p-6",children:[C.jsx(dr,{className:"pb-2",children:C.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Costo Medio"})}),C.jsxs(hr,{children:[C.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["€",h.avgWeeklyCost.toFixed(2)]}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]}),C.jsxs(ur,{className:"p-6",children:[C.jsx(dr,{className:"pb-2",children:C.jsx(fr,{className:"text-sm font-medium text-muted-foreground",children:"Durata Media"})}),C.jsxs(hr,{children:[C.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[h.avgWeeklyDuration.toFixed(1),"h"]}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.jsxs(ur,{children:[C.jsx(dr,{children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx(fr,{children:"Lavori Iniziati per Giorno (14 giorni)"}),C.jsx("div",{className:"flex items-center gap-3 text-xs",children:C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("span",{className:"inline-block w-3 h-1 bg-primary"})," Lavori"]})})]})}),C.jsx(hr,{children:C.jsx("div",{className:"h-64",children:p&&C.jsx(cee,{data:p,options:m,height:256})})})]}),C.jsxs(ur,{children:[C.jsx(dr,{children:C.jsx(fr,{children:"Macchine per Centro di Lavoro e Stato"})}),C.jsx(hr,{children:C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(h.machinesByWorkCenter||{}).map(([_,S])=>{const w={labels:Object.keys(S).map(x=>x.charAt(0).toUpperCase()+x.slice(1).toLowerCase()),datasets:[{data:Object.values(S),backgroundColor:["rgba(37, 99, 235, 0.8)","rgba(107, 114, 128, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgba(37, 99, 235, 1)","rgba(107, 114, 128, 1)","rgba(156, 163, 175, 1)"],borderWidth:2}]};return C.jsxs("div",{className:"text-center",children:[C.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:_}),C.jsx("div",{className:"h-32",children:C.jsx(uee,{data:w,options:y,height:150})}),C.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:Object.entries(S).map(([x,E])=>C.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[C.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:x==="ACTIVE"?"rgba(37, 99, 235, 0.8)":x==="INACTIVE"?"rgba(107, 114, 128, 0.8)":"rgba(156, 163, 175, 0.8)"}}),C.jsxs("span",{children:[x,": ",E]})]},x))})]},_)})})})]})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.jsxs(ur,{children:[C.jsx(dr,{children:C.jsx(fr,{children:"Costo Medio per Centro di Lavoro e Reparto"})}),C.jsx(hr,{children:C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"border-b border-border",children:[C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),C.jsxs("tbody",{children:[C.jsxs("tr",{className:"border-b border-border",children:[C.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.stampa?.zanica?.toFixed(2)||"0.00"]}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.stampa?.busto_garolfo?.toFixed(2)||"0.00"]})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.confezionamento?.zanica?.toFixed(2)||"0.00"]}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["€",h.costMatrix?.confezionamento?.busto_garolfo?.toFixed(2)||"0.00"]})]})]})]})})})]}),C.jsxs(ur,{children:[C.jsx(dr,{children:C.jsx(fr,{children:"Durata Media per Centro di Lavoro e Reparto"})}),C.jsx(hr,{children:C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"border-b border-border",children:[C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),C.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),C.jsxs("tbody",{children:[C.jsxs("tr",{className:"border-b border-border",children:[C.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.zanica?.toFixed(1)||"0.0","h"]}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.busto_garolfo?.toFixed(1)||"0.0","h"]})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.zanica?.toFixed(1)||"0.0","h"]}),C.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.busto_garolfo?.toFixed(1)||"0.0","h"]})]})]})]})})})]})]})]})}function fee(){const[t,e]=D.useState({email:"",password:"",workCenter:""}),[n,i]=D.useState(!1),[r,s]=D.useState({}),{signIn:o,error:c}=il(),{setSelectedWorkCenter:u}=At(),d=as(),{handleAsync:h}=os("LoginPage"),p=S=>{const{name:w,value:x}=S.target;e(E=>({...E,[w]:x})),r[w]&&s(E=>({...E,[w]:""}))},m=()=>{const S={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(S.email="Inserisci un indirizzo email valido"):S.email="Email richiesta",t.password?t.password.length<6&&(S.password="La password deve essere di almeno 6 caratteri"):S.password="Password richiesta",t.workCenter||(S.workCenter="Centro di lavoro richiesto"),s(S),Object.keys(S).length===0},y=async S=>{S.preventDefault(),m()&&(i(!0),await h(async()=>{(await o(t.email,t.password)).success&&(u(t.workCenter),d("/",{replace:!0}))},{context:"Login",fallbackMessage:"Accesso fallito. Riprova.",onFinally:()=>i(!1)}))},_=S=>r[S]?C.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:r[S]}):null;return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Bentornato"}),C.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Accedi al tuo account per continuare"})]}),C.jsxs("form",{onSubmit:y,className:"mt-4 space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:"email",children:"Indirizzo Email"}),C.jsx($n,{type:"email",id:"email",name:"email",value:t.email,onChange:p,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),_("email")]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:"password",children:"Password"}),C.jsx($n,{type:"password",id:"password",name:"password",value:t.password,onChange:p,placeholder:"Inserisci la tua password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"current-password"}),_("password")]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:"workCenter",children:"Centro di Lavoro *"}),C.jsxs("select",{name:"workCenter",value:t.workCenter,onChange:p,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${r.workCenter?"border-red-500":"border-input"}`,children:[C.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),C.jsx("option",{value:_t.ZANICA,children:_t.ZANICA}),C.jsx("option",{value:_t.BUSTO_GAROLFO,children:_t.BUSTO_GAROLFO}),C.jsx("option",{value:_t.BOTH,children:_t.BOTH})]}),_("workCenter")]}),c&&C.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("span",{className:"text-red-400",children:"●"})}),C.jsx("div",{className:"ml-3",children:C.jsx("p",{className:"text-[10px] text-red-800",children:c})})]})}),C.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Accesso in corso...":"Accedi"})]}),C.jsxs("div",{className:"text-center space-y-4",children:[C.jsx(Pn,{to:"/forgot-password",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Password dimenticata?"}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-0 flex items-center",children:C.jsx("div",{className:"w-full border-t border-gray-300"})}),C.jsx("div",{className:"relative flex justify-center text-[10px]",children:C.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Non hai un account?"})})]}),C.jsx(Pn,{to:"/signup",children:C.jsx(Button,{variant:"outline",size:"sm",className:"w-full",children:"Crea Account"})})]}),!1]})})}function hee(){const[t,e]=D.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,i]=D.useState(!1),[r,s]=D.useState({}),{signUp:o,error:c}=il(),u=as(),{handleAsync:d}=os("SignupPage"),h=_=>{const{name:S,value:w}=_.target;e(x=>({...x,[S]:w})),r[S]&&s(x=>({...x,[S]:""}))},p=()=>{const _={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(_.email="Inserisci un indirizzo email valido"):_.email="Email richiesta",t.password?t.password.length<6&&(_.password="La password deve essere di almeno 6 caratteri"):_.password="Password richiesta",t.confirmPassword?t.password!==t.confirmPassword&&(_.confirmPassword="Le password non coincidono"):_.confirmPassword="Conferma la tua password",t.firstName.trim()||(_.firstName="Nome richiesto"),t.lastName.trim()||(_.lastName="Cognome richiesto"),s(_),Object.keys(_).length===0},m=async _=>{_.preventDefault(),p()&&(i(!0),await d(async()=>{const S={first_name:t.firstName,last_name:t.lastName,full_name:`${t.firstName} ${t.lastName}`};(await o(t.email,t.password,S)).success&&u("/",{replace:!0})},{context:"Signup",fallbackMessage:"Creazione account fallita. Riprova.",onFinally:()=>i(!1)}))},y=_=>r[_]?C.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:r[_]}):null;return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Crea Account"}),C.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Registrati per iniziare con il tuo account"})]}),C.jsxs("form",{onSubmit:m,className:"mt-4 space-y-4",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:"firstName",children:"Nome"}),C.jsx($n,{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:h,placeholder:"Inserisci il tuo nome",className:r.firstName?"border-red-500":"",disabled:n,autoComplete:"given-name"}),y("firstName")]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:"lastName",children:"Cognome"}),C.jsx($n,{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:h,placeholder:"Inserisci il tuo cognome",className:r.lastName?"border-red-500":"",disabled:n,autoComplete:"family-name"}),y("lastName")]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:"email",children:"Indirizzo Email"}),C.jsx($n,{type:"email",id:"email",name:"email",value:t.email,onChange:h,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),y("email")]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:"password",children:"Password"}),C.jsx($n,{type:"password",id:"password",name:"password",value:t.password,onChange:h,placeholder:"Crea una password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"new-password"}),y("password")]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:"confirmPassword",children:"Conferma Password"}),C.jsx($n,{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:h,placeholder:"Conferma la tua password",className:r.confirmPassword?"border-red-500":"",disabled:n,autoComplete:"new-password"}),y("confirmPassword")]})]}),c&&C.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("span",{className:"text-red-400",children:"●"})}),C.jsx("div",{className:"ml-3",children:C.jsx("p",{className:"text-[10px] text-red-800",children:c})})]})}),C.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Creazione Account...":"Crea Account"})]}),C.jsxs("div",{className:"text-center space-y-4",children:[C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-0 flex items-center",children:C.jsx("div",{className:"w-full border-t border-gray-300"})}),C.jsx("div",{className:"relative flex justify-center text-[10px]",children:C.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Hai già un account?"})})]}),C.jsx(Pn,{to:"/login",children:C.jsx(Button,{variant:"outline",size:"sm",className:"w-full",children:"Accedi"})})]})]})})}function gee(){const[t,e]=D.useState(""),[n,i]=D.useState(!1),[r,s]=D.useState(!1),[o,c]=D.useState(""),{resetPassword:u}=il(),{handleAsync:d}=os("ForgotPasswordPage"),h=async p=>{if(p.preventDefault(),!t.trim()){c("Inserisci il tuo indirizzo email");return}if(!/\S+@\S+\.\S+/.test(t)){c("Inserisci un indirizzo email valido");return}i(!0),c(""),await d(async()=>{const m=await u(t);m.success?s(!0):c(m.error||"Invio email di reset fallito")},{context:"Password Reset",fallbackMessage:"Invio email di reset fallito. Riprova.",onFinally:()=>i(!1)})};return r?C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-2 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Controlla la Tua Email"}),C.jsxs("p",{className:"mt-2 text-[10px] text-gray-600",children:["Abbiamo inviato un link per il reset della password a ",t]})]}),C.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-1",children:C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("span",{className:"text-green-400 text-[10px]",children:"✅"})}),C.jsx("div",{className:"ml-3",children:C.jsx("p",{className:"text-[10px] text-green-800",children:"Se non vedi l'email, controlla la cartella spam."})})]})}),C.jsx("div",{className:"text-center",children:C.jsx(Pn,{to:"/login",children:C.jsx(Button,{size:"sm",className:"w-full",children:"Torna all'Accesso"})})})]})}):C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Reset Password"}),C.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Inserisci la tua email per ricevere un link per il reset della password"})]}),C.jsxs("form",{onSubmit:h,className:"mt-4 space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(oi,{htmlFor:"email",children:"Indirizzo Email"}),C.jsx($n,{type:"email",id:"email",name:"email",value:t,onChange:p=>e(p.target.value),placeholder:"Inserisci la tua email",disabled:n,autoComplete:"email"})]}),o&&C.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("span",{className:"text-red-400",children:"●"})}),C.jsx("div",{className:"ml-3",children:C.jsx("p",{className:"text-[10px] text-red-800",children:o})})]})}),C.jsx(Button,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Invio...":"Invia Link di Reset"})]}),C.jsx("div",{className:"text-center",children:C.jsx(Pn,{to:"/login",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Torna all'Accesso"})})]})})}const pee=()=>{const{user:t,loading:e}=il();return e?C.jsx("div",{className:"auth-loading",children:C.jsxs("div",{className:"auth-loading__container",children:[C.jsx("div",{className:"auth-loading__spinner"}),C.jsx("p",{children:"Checking authentication..."})]})}):t?C.jsx(fO,{}):C.jsx(dO,{to:"/login",replace:!0})},mee=()=>{const{confirmDialog:t,hideConfirmDialog:e,conflictDialog:n,hideConflictDialog:i,showConflictDialog:r,schedulingLoading:s,selectedWorkCenter:o}=At(),{cleanup:c}=Za(),{resolveConflictByShunting:u,scheduleTaskFromSlot:d}=is(),{user:h,signOut:p}=il(),m=Pi();return O4(),D.useEffect(()=>()=>{c()},[c]),C.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[C.jsx(ZV,{}),C.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[C.jsx(JV,{}),C.jsx("main",{className:"flex-1 overflow-auto bg-background min-w-0",children:C.jsx("div",{className:"p-4",children:C.jsx(fO,{})})})]}),C.jsx(kz,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3}),t.isOpen&&(confirm(`${t.title}

${t.message}`)&&t.onConfirm?.(),e(),null),n.isOpen&&(()=>{const y=n.details?`Il lavoro "${n.details.draggedTask?.odp_number}" si sovrappone con "${n.details.conflictingTask?.odp_number}". Vuoi spostarlo a sinistra?`:"Conflitto rilevato. Vuoi spostare il task?",_=confirm(`${y}

OK = Sposta a Sinistra
Annulla = Sposta a Destra`);return _!==null?(async()=>{if(n.details){try{const S=n.details.schedulingParams?n.details.schedulingParams.originalConflict:n.details;console.log("🔄 CONFLICT: Using resolveConflictByShunting",_?"left":"right");const w=await u(S,_?"left":"right",m);w.error?Ia(w.error):nl("Task spostato con successo")}catch(S){console.error("❌ SHUNTING ERROR:",S),Ia("Errore durante lo spostamento del task")}i()}})():i(),null})()]})};function yee(){return C.jsx(hV,{children:C.jsx(_V,{children:C.jsxs($P,{children:[C.jsx(Nn,{path:"/login",element:C.jsx(fee,{})}),C.jsx(Nn,{path:"/signup",element:C.jsx(hee,{})}),C.jsx(Nn,{path:"/forgot-password",element:C.jsx(gee,{})}),C.jsx(Nn,{path:"/",element:C.jsx(pee,{}),children:C.jsxs(Nn,{element:C.jsx(mee,{}),children:[C.jsx(Nn,{index:!0,element:C.jsx(dee,{})}),C.jsx(Nn,{path:"machinery",element:C.jsx(I4,{})}),C.jsx(Nn,{path:"machinery/add",element:C.jsx(xA,{})}),C.jsx(Nn,{path:"machinery/:id/edit",element:C.jsx(xA,{})}),C.jsx(Nn,{path:"machinery/:machineId/calendar",element:C.jsx(l7,{})}),C.jsx(Nn,{path:"phases",element:C.jsx(c7,{})}),C.jsx(Nn,{path:"phases/add",element:C.jsx(TR,{})}),C.jsx(Nn,{path:"phases/:id/edit",element:C.jsx(TR,{})}),C.jsx(Nn,{path:"backlog",element:C.jsx(d7,{})}),C.jsx(Nn,{path:"backlog/add",element:C.jsx(AR,{})}),C.jsx(Nn,{path:"backlog/:id/edit",element:C.jsx(AR,{})}),C.jsx(Nn,{path:"scheduler",element:C.jsx(qQ,{})})]})}),C.jsx(Nn,{path:"*",element:C.jsx(dO,{to:"/",replace:!0})})]})})})}r5();const vee=new GL({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),bee="/scheduler_demo/";Z2.createRoot(document.getElementById("root")).render(C.jsx(ce.StrictMode,{children:C.jsx(WL,{client:vee,children:C.jsx(hL,{basename:bee,children:C.jsx(OV,{children:C.jsx(yee,{})})})})}));export{i$ as A,Bo as B,t_ as D,ce as R,At as a,ln as b,Oee as c,_p as d,C4 as e,os as f,Dee as g,Wn as h,$d as i,C as j,Pi as k,Aee as l,is as m,c5 as n,Qo as o,D as r,XT as s,ti as t,as as u};
